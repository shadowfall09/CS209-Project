{"items":[{"tags":["java","validation","elasticsearch","uuid"],"comments":[{"owner":{"account_id":22564356,"reputation":1,"user_id":16751601,"display_name":"cg1"},"score":0,"creation_date":1631020899,"post_id":69088981,"comment_id":122107204,"body_markdown":"I believe that was already answered here: https://stackoverflow.com/questions/7905929/how-to-test-valid-uuid-guid","body":"I believe that was already answered here: <a href=\"https://stackoverflow.com/questions/7905929/how-to-test-valid-uuid-guid\" title=\"how to test valid uuid guid\">stackoverflow.com/questions/7905929/how-to-test-valid-uuid-g&zwnj;&#8203;uid</a>"},{"owner":{"account_id":1674999,"reputation":9423,"user_id":1540749,"accept_rate":90,"display_name":"josejuan"},"score":0,"creation_date":1631020919,"post_id":69088981,"comment_id":122107213,"body_markdown":"The problem with that is not if the UUID follows the format, the problem is if really is a randomly generated UUID. You should check why do you need that user data.","body":"The problem with that is not if the UUID follows the format, the problem is if really is a randomly generated UUID. You should check why do you need that user data."},{"owner":{"account_id":2141833,"reputation":5558,"user_id":1900290,"accept_rate":59,"display_name":"Rpj"},"score":0,"creation_date":1631021262,"post_id":69088981,"comment_id":122107376,"body_markdown":"@josejuan its the primary key for an elasticsearch document","body":"@josejuan its the primary key for an elasticsearch document"},{"owner":{"account_id":1674999,"reputation":9423,"user_id":1540749,"accept_rate":90,"display_name":"josejuan"},"score":0,"creation_date":1631034102,"post_id":69088981,"comment_id":122112927,"body_markdown":"If you trust on clients, you should not check the code, your backend must throw an exception if is not valid (anyway unless the code is isolated in some way (e.g. it is a composite key) I would never trust clients).","body":"If you trust on clients, you should not check the code, your backend must throw an exception if is not valid (anyway unless the code is isolated in some way (e.g. it is a composite key) I would never trust clients)."}],"answers":[{"tags":[],"owner":{"account_id":1053260,"reputation":1032,"user_id":1056610,"display_name":"fabiolimace"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640187150,"creation_date":1640184939,"answer_id":70450964,"question_id":69088981,"body_markdown":"This example can validate a random-based `base64UUID`. \r\n\r\n`Example.valid()` method returns `true` if a base64 string is a valid RFC-4122 UUIDv4.\r\n\r\n```java\r\npackage com.example;\r\n\r\nimport java.math.BigInteger;\r\nimport java.util.Arrays;\r\nimport java.util.Base64;\r\n\r\npublic class Example {\r\n\r\n\t// returns true if a base64 is a valid RFC-4122 UUIDv4\r\n\tpublic static boolean valid(String base64UUID) {\r\n\r\n\t\t// decode the string to a numerical value\r\n\t\tbyte[] decoded = Base64.getUrlDecoder().decode(base64UUID);\r\n\t\tbyte[] bytes16 = Arrays.copyOf(decoded, 16);\r\n\t\tBigInteger number = new BigInteger(/* positive */ 1, bytes16);\r\n\r\n\t\t// check the UUID numerical value (0 .. 2^128)\r\n\t\tfinal BigInteger minimum = BigInteger.ZERO;\r\n\t\tfinal BigInteger maximum = BigInteger.ONE.shiftLeft(128); // 2^128\r\n\t\tboolean value = number.compareTo(minimum) &gt;= 0 &amp;&amp; number.compareTo(maximum) &lt;= 0;\r\n\r\n\t\t// check the RFC-4122 version (byte6 = 0011xxxx)\r\n\t\tboolean version = (bytes16[6] &amp; 0xff) &gt;&gt;&gt; 4 == 4;\r\n\r\n\t\t// check the RFC-4122 variant (byte8 = 10xxxxxx)\r\n\t\tboolean variant = (bytes16[8] &amp; 0xff) &gt;&gt;&gt; 6 == 2;\r\n\r\n\t\treturn value &amp;&amp; version &amp;&amp; variant;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString[] samples = { //\r\n\t\t\t\t// VALID SAMPLES\r\n\t\t\t\t&quot;PQQWfFMgSiitBjGVhxrCbQ&quot;, // 3d04167c-5320-4a28-ad06-3195871ac26d\r\n\t\t\t\t&quot;bJGoRfu1Qy-6uhSNetIQCg&quot;, // 6c91a845-fbb5-432f-baba-148d7ad2100a\r\n\t\t\t\t&quot;Gj8czi7tQ6i1xpIgjSh06w&quot;, // 1a3f1cce-2eed-43a8-b5c6-92208d2874eb\r\n\t\t\t\t&quot;JY5omv7ZQgSdsdNBFFv-rw&quot;, // 258e689a-fed9-4204-9db1-d341145bfeaf\r\n\t\t\t\t&quot;K2EqshyFRs-K_gajQl7z7g&quot;, // 2b612ab2-1c85-46cf-8afe-06a3425ef3ee\r\n\t\t\t\t&quot;qfXGIFn0T_WDhTD0kMfuzw&quot;, // a9f5c620-59f4-4ff5-8385-30f490c7eecf\r\n\t\t\t\t&quot;bEviI0JcTjuofyF7Zz9c8A&quot;, // 6c4be223-425c-4e3b-a87f-217b673f5cf0\r\n\t\t\t\t&quot;CHi4BqAcTpO7n36mXYDpRw&quot;, // 0878b806-a01c-4e93-bb9f-7ea65d80e947\r\n\t\t\t\t&quot;be32sQWcTFGH4RApDL1w_Q&quot;, // 6dedf6b1-059c-4c51-87e1-10290cbd70fd\r\n\t\t\t\t&quot;ZP9Zfu6PQ2GfJCw8YnoPJQ&quot;, // 90ff597e-ee8f-4361-9f24-2c3c627a0f25\r\n\t\t\t\t// NOT VALID SAMPLES\r\n\t\t\t\t&quot;D0EFnxTIEoorQYxlYcawm0&quot;, // 3d04167c-5320-4a28-ad06-3195871ac26d &lt;&lt; 4 // too big\r\n\t\t\t\t&quot;GyRqEX7tUMvuroUjXrSEAo&quot;, // 6c91a845-fbb5-432f-baba-148d7ad2100a &lt;&lt; 4 // too big\r\n\t\t\t\t&quot;Bo_HM4u7UOotcaSII0odOs&quot;, // 1a3f1cce-2eed-43a8-b5c6-92208d2874eb &lt;&lt; 4 // too big\r\n\t\t\t\t&quot;CWOaJr-2UIEnbHTQRRb_q8&quot;, // 258e689a-fed9-4204-9db1-d341145bfeaf &lt;&lt; 4 // too big\r\n\t\t\t\t&quot;K2EqshyF1s-K_gajQl7z7g&quot;, // 2b612ab2-1c85-d6cf-8afe-06a3425ef3ee // wrong VErsion\r\n\t\t\t\t&quot;qfXGIFn07_WDhTD0kMfuzw&quot;, // a9f5c620-59f4-eff5-8385-30f490c7eecf // wrong VErsion\r\n\t\t\t\t&quot;bEviI0Jc_juofyF7Zz9c8A&quot;, // 6c4be223-425c-fe3b-a87f-217b673f5cf0 // wrong VErsion\r\n\t\t\t\t&quot;CHi4BqAcTpPbn36mXYDpRw&quot;, // 0878b806-a01c-4e93-db9f-7ea65d80e947 // wrong VAriant\r\n\t\t\t\t&quot;be32sQWcTFHn4RApDL1w_Q&quot;, // 6dedf6b1-059c-4c51-e7e1-10290cbd70fd // wrong VAriant\r\n\t\t\t\t&quot;kP9Zfu6PQ2H_JCw8YnoPJQ&quot;, // 90ff597e-ee8f-4361-ff24-2c3c627a0f25 // wrong VAriant\r\n\t\t};\r\n\r\n\t\tfor (String s : samples) {\r\n\t\t\tSystem.out.println(s + &quot;: &quot; + valid(s));\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nThis is the output:\r\n\r\n```\r\nPQQWfFMgSiitBjGVhxrCbQ: true\r\nbJGoRfu1Qy-6uhSNetIQCg: true\r\nGj8czi7tQ6i1xpIgjSh06w: true\r\nJY5omv7ZQgSdsdNBFFv-rw: true\r\nK2EqshyFRs-K_gajQl7z7g: true\r\nqfXGIFn0T_WDhTD0kMfuzw: true\r\nbEviI0JcTjuofyF7Zz9c8A: true\r\nCHi4BqAcTpO7n36mXYDpRw: true\r\nbe32sQWcTFGH4RApDL1w_Q: true\r\nZP9Zfu6PQ2GfJCw8YnoPJQ: true\r\nD0EFnxTIEoorQYxlYcawm0: false\r\nGyRqEX7tUMvuroUjXrSEAo: false\r\nBo_HM4u7UOotcaSII0odOs: false\r\nCWOaJr-2UIEnbHTQRRb_q8: false\r\nK2EqshyF1s-K_gajQl7z7g: false\r\nqfXGIFn07_WDhTD0kMfuzw: false\r\nbEviI0Jc_juofyF7Zz9c8A: false\r\nCHi4BqAcTpPbn36mXYDpRw: false\r\nbe32sQWcTFHn4RApDL1w_Q: false\r\nkP9Zfu6PQ2H_JCw8YnoPJQ: false\r\n```\r\n\r\nThis python script was used to generate the test samples:\r\n\r\n```python\r\n#!/bin/env python3\r\n\r\nfrom uuid import uuid4\r\n\r\nalphabet = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_&quot; # base-64-url\r\n\r\ndef basen(number, base, alphabet):\r\n    output = &quot;&quot;\r\n    while number:\r\n        output += alphabet[number % base]\r\n        number //= base\r\n    return output[::-1] or &quot;0&quot;\r\n        \r\ndef print_uuid(uuid):\r\n\r\n    number = uuid.int\r\n    \r\n    base = 64\r\n    length = 22\r\n    padding = length \r\n    padding_char = alphabet[0]\r\n    \r\n    encoded = &quot;&quot;\r\n    \r\n    padding = 24\r\n    number = number &lt;&lt; 16 # padding with 16 bits (2 bytes)\r\n    \r\n    encoded = basen(number, base, alphabet)\r\n    \r\n    print(&#39;&quot;&#39; + encoded.rjust(padding, padding_char)[:length] + &#39;&quot;, // &#39; + str(uuid))\r\n\r\ndef print_list(size):\r\n\r\n    for i in range(0, size):\r\n        uuid = uuid4()\r\n        print_uuid(uuid)\r\n\r\n\r\nprint_list(10)\r\n```\r\n\r\nIf you prefer to use a specialized library, check out [`Base64UrlCodec`](https://github.com/f4b6a3/uuid-creator/blob/master/src/main/java/com/github/f4b6a3/uuid/codec/base/Base64UrlCodec.java) and [`UuidValidator`](https://github.com/f4b6a3/uuid-creator/blob/master/src/main/java/com/github/f4b6a3/uuid/util/UuidValidator.java) from [uuid-creator](https://github.com/f4b6a3/uuid-creator). `Base64UrlCodec` is more efficient than `Base64.getUrlDecoder().decode(&quot;&quot;)` for `base64UUID`. This is a shorter example using `uuid-creator`:\r\n\r\n```java\r\n\tpublic static boolean valid(String base64UUID) {\r\n\t\tUUID uuid = Base64UrlCodec.INSTANCE.decode(base64UUID);\r\n\t\treturn UuidUtil.isRandomBased(uuid);\r\n\t}\r\n```\r\n","title":"How to validate UUIDs generated using base64UUID","body":"<p>This example can validate a random-based <code>base64UUID</code>.</p>\n<p><code>Example.valid()</code> method returns <code>true</code> if a base64 string is a valid RFC-4122 UUIDv4.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport java.math.BigInteger;\nimport java.util.Arrays;\nimport java.util.Base64;\n\npublic class Example {\n\n    // returns true if a base64 is a valid RFC-4122 UUIDv4\n    public static boolean valid(String base64UUID) {\n\n        // decode the string to a numerical value\n        byte[] decoded = Base64.getUrlDecoder().decode(base64UUID);\n        byte[] bytes16 = Arrays.copyOf(decoded, 16);\n        BigInteger number = new BigInteger(/* positive */ 1, bytes16);\n\n        // check the UUID numerical value (0 .. 2^128)\n        final BigInteger minimum = BigInteger.ZERO;\n        final BigInteger maximum = BigInteger.ONE.shiftLeft(128); // 2^128\n        boolean value = number.compareTo(minimum) &gt;= 0 &amp;&amp; number.compareTo(maximum) &lt;= 0;\n\n        // check the RFC-4122 version (byte6 = 0011xxxx)\n        boolean version = (bytes16[6] &amp; 0xff) &gt;&gt;&gt; 4 == 4;\n\n        // check the RFC-4122 variant (byte8 = 10xxxxxx)\n        boolean variant = (bytes16[8] &amp; 0xff) &gt;&gt;&gt; 6 == 2;\n\n        return value &amp;&amp; version &amp;&amp; variant;\n    }\n\n    public static void main(String[] args) {\n\n        String[] samples = { //\n                // VALID SAMPLES\n                &quot;PQQWfFMgSiitBjGVhxrCbQ&quot;, // 3d04167c-5320-4a28-ad06-3195871ac26d\n                &quot;bJGoRfu1Qy-6uhSNetIQCg&quot;, // 6c91a845-fbb5-432f-baba-148d7ad2100a\n                &quot;Gj8czi7tQ6i1xpIgjSh06w&quot;, // 1a3f1cce-2eed-43a8-b5c6-92208d2874eb\n                &quot;JY5omv7ZQgSdsdNBFFv-rw&quot;, // 258e689a-fed9-4204-9db1-d341145bfeaf\n                &quot;K2EqshyFRs-K_gajQl7z7g&quot;, // 2b612ab2-1c85-46cf-8afe-06a3425ef3ee\n                &quot;qfXGIFn0T_WDhTD0kMfuzw&quot;, // a9f5c620-59f4-4ff5-8385-30f490c7eecf\n                &quot;bEviI0JcTjuofyF7Zz9c8A&quot;, // 6c4be223-425c-4e3b-a87f-217b673f5cf0\n                &quot;CHi4BqAcTpO7n36mXYDpRw&quot;, // 0878b806-a01c-4e93-bb9f-7ea65d80e947\n                &quot;be32sQWcTFGH4RApDL1w_Q&quot;, // 6dedf6b1-059c-4c51-87e1-10290cbd70fd\n                &quot;ZP9Zfu6PQ2GfJCw8YnoPJQ&quot;, // 90ff597e-ee8f-4361-9f24-2c3c627a0f25\n                // NOT VALID SAMPLES\n                &quot;D0EFnxTIEoorQYxlYcawm0&quot;, // 3d04167c-5320-4a28-ad06-3195871ac26d &lt;&lt; 4 // too big\n                &quot;GyRqEX7tUMvuroUjXrSEAo&quot;, // 6c91a845-fbb5-432f-baba-148d7ad2100a &lt;&lt; 4 // too big\n                &quot;Bo_HM4u7UOotcaSII0odOs&quot;, // 1a3f1cce-2eed-43a8-b5c6-92208d2874eb &lt;&lt; 4 // too big\n                &quot;CWOaJr-2UIEnbHTQRRb_q8&quot;, // 258e689a-fed9-4204-9db1-d341145bfeaf &lt;&lt; 4 // too big\n                &quot;K2EqshyF1s-K_gajQl7z7g&quot;, // 2b612ab2-1c85-d6cf-8afe-06a3425ef3ee // wrong VErsion\n                &quot;qfXGIFn07_WDhTD0kMfuzw&quot;, // a9f5c620-59f4-eff5-8385-30f490c7eecf // wrong VErsion\n                &quot;bEviI0Jc_juofyF7Zz9c8A&quot;, // 6c4be223-425c-fe3b-a87f-217b673f5cf0 // wrong VErsion\n                &quot;CHi4BqAcTpPbn36mXYDpRw&quot;, // 0878b806-a01c-4e93-db9f-7ea65d80e947 // wrong VAriant\n                &quot;be32sQWcTFHn4RApDL1w_Q&quot;, // 6dedf6b1-059c-4c51-e7e1-10290cbd70fd // wrong VAriant\n                &quot;kP9Zfu6PQ2H_JCw8YnoPJQ&quot;, // 90ff597e-ee8f-4361-ff24-2c3c627a0f25 // wrong VAriant\n        };\n\n        for (String s : samples) {\n            System.out.println(s + &quot;: &quot; + valid(s));\n        }\n    }\n}\n</code></pre>\n<p>This is the output:</p>\n<pre><code>PQQWfFMgSiitBjGVhxrCbQ: true\nbJGoRfu1Qy-6uhSNetIQCg: true\nGj8czi7tQ6i1xpIgjSh06w: true\nJY5omv7ZQgSdsdNBFFv-rw: true\nK2EqshyFRs-K_gajQl7z7g: true\nqfXGIFn0T_WDhTD0kMfuzw: true\nbEviI0JcTjuofyF7Zz9c8A: true\nCHi4BqAcTpO7n36mXYDpRw: true\nbe32sQWcTFGH4RApDL1w_Q: true\nZP9Zfu6PQ2GfJCw8YnoPJQ: true\nD0EFnxTIEoorQYxlYcawm0: false\nGyRqEX7tUMvuroUjXrSEAo: false\nBo_HM4u7UOotcaSII0odOs: false\nCWOaJr-2UIEnbHTQRRb_q8: false\nK2EqshyF1s-K_gajQl7z7g: false\nqfXGIFn07_WDhTD0kMfuzw: false\nbEviI0Jc_juofyF7Zz9c8A: false\nCHi4BqAcTpPbn36mXYDpRw: false\nbe32sQWcTFHn4RApDL1w_Q: false\nkP9Zfu6PQ2H_JCw8YnoPJQ: false\n</code></pre>\n<p>This python script was used to generate the test samples:</p>\n<pre class=\"lang-py prettyprint-override\"><code>#!/bin/env python3\n\nfrom uuid import uuid4\n\nalphabet = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_&quot; # base-64-url\n\ndef basen(number, base, alphabet):\n    output = &quot;&quot;\n    while number:\n        output += alphabet[number % base]\n        number //= base\n    return output[::-1] or &quot;0&quot;\n        \ndef print_uuid(uuid):\n\n    number = uuid.int\n    \n    base = 64\n    length = 22\n    padding = length \n    padding_char = alphabet[0]\n    \n    encoded = &quot;&quot;\n    \n    padding = 24\n    number = number &lt;&lt; 16 # padding with 16 bits (2 bytes)\n    \n    encoded = basen(number, base, alphabet)\n    \n    print('&quot;' + encoded.rjust(padding, padding_char)[:length] + '&quot;, // ' + str(uuid))\n\ndef print_list(size):\n\n    for i in range(0, size):\n        uuid = uuid4()\n        print_uuid(uuid)\n\n\nprint_list(10)\n</code></pre>\n<p>If you prefer to use a specialized library, check out <a href=\"https://github.com/f4b6a3/uuid-creator/blob/master/src/main/java/com/github/f4b6a3/uuid/codec/base/Base64UrlCodec.java\" rel=\"nofollow noreferrer\"><code>Base64UrlCodec</code></a> and <a href=\"https://github.com/f4b6a3/uuid-creator/blob/master/src/main/java/com/github/f4b6a3/uuid/util/UuidValidator.java\" rel=\"nofollow noreferrer\"><code>UuidValidator</code></a> from <a href=\"https://github.com/f4b6a3/uuid-creator\" rel=\"nofollow noreferrer\">uuid-creator</a>. <code>Base64UrlCodec</code> is more efficient than <code>Base64.getUrlDecoder().decode(&quot;&quot;)</code> for <code>base64UUID</code>. This is a shorter example using <code>uuid-creator</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static boolean valid(String base64UUID) {\n        UUID uuid = Base64UrlCodec.INSTANCE.decode(base64UUID);\n        return UuidUtil.isRandomBased(uuid);\n    }\n</code></pre>\n"}],"owner":{"account_id":2141833,"reputation":5558,"user_id":1900290,"accept_rate":59,"display_name":"Rpj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640187150,"creation_date":1631020734,"question_id":69088981,"body_markdown":"How to **validate** `UUIDs` generated using `base64UUID` function (i.e. `org.elasticsearch.common.UUIDs.base64UUID`)\r\n\r\nWe don&#39;t want users to persist anything which doesn&#39;t confirm to the above format","title":"How to validate UUIDs generated using base64UUID","body":"<p>How to <strong>validate</strong> <code>UUIDs</code> generated using <code>base64UUID</code> function (i.e. <code>org.elasticsearch.common.UUIDs.base64UUID</code>)</p>\n<p>We don't want users to persist anything which doesn't confirm to the above format</p>\n"},{"tags":["java","scala","jvm","testcontainers","localstack"],"owner":{"account_id":258174,"reputation":5849,"user_id":540173,"accept_rate":83,"display_name":"Madoc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":705,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1640186985,"creation_date":1640186985,"question_id":70451443,"body_markdown":"When using a LocalStack container with [Testcontainers](https://www.testcontainers.org/), is there a way to purge *all* state, no matter what it is? That means, delete all SQS queues and their contents, all SNS topics, and everything else that LocalStack may store.\r\n\r\n## Use case\r\n\r\nLocalStack is used for integration tests. The container is started by the test case via Testcontainers. There are many integration tests using LocalStack now, and each starts their own LocalStack instance. This is necessary in order to isolate test cases from one another; remaining messages from a previous test case must not influence the results from another test case.\r\n\r\nAs the number of those integration test cases has grown, LocalStack startup time has become an issue. I am looking for a way to reuse the same LocalStack instance for all integration tests without putting any restrictions on the way the integration tests are written.\r\n\r\nAs a workaround, I am considering to generate a unique prefix for all SQS queues and SNS topics, which will be prepended to the respective queue/topic names. This prefix should be unique per test case.\r\n\r\nHowever, this is slightly unclean, as the messages would still be lingering on the LocalStack instance, even when the test case is done. It would be better to create a truly &quot;clean slate&quot; state after each test case completes.\r\n\r\nIn my case, tests are implemented using Scala, and the Testcontainers-Scala library is used. However, any JVM-based solution should work, such as a Java-based solution.\r\n\r\n## What I have considered\r\n\r\nSo far, I found the documentation and the API confusing, which probably reflects my lack of deep knowledge about LocalStack.\r\n\r\nI guess it would be possible to &quot;purge&quot; a whole LocalStack instance by using the CLI command and some trickery. However, this would involve calling a Bash script from the running integration tests within the JVM, which doesn&#39;t sound like a good idea. It would not be portable (easily) to Windows machines. It would be much more useful if all of this could be done directly from the JVM, for example by interacting with the running LocalStack container via HTTP.\r\n\r\nI focused my question on SQS and SNS because this is the current use case. In the future, as the project evolves, other services may be added. But those may be seen as separate cases.\r\n\r\nAs for SQS and SNS, a solution would have to:\r\n* Either be able to delete all queues/topics at once with a single command,\r\n* Or be able to list all queues/topcis that exist, and then delete each of them individually.","title":"Purge all state with LocalStack and JVM Testcontainers","body":"<p>When using a LocalStack container with <a href=\"https://www.testcontainers.org/\" rel=\"nofollow noreferrer\">Testcontainers</a>, is there a way to purge <em>all</em> state, no matter what it is? That means, delete all SQS queues and their contents, all SNS topics, and everything else that LocalStack may store.</p>\n<h2>Use case</h2>\n<p>LocalStack is used for integration tests. The container is started by the test case via Testcontainers. There are many integration tests using LocalStack now, and each starts their own LocalStack instance. This is necessary in order to isolate test cases from one another; remaining messages from a previous test case must not influence the results from another test case.</p>\n<p>As the number of those integration test cases has grown, LocalStack startup time has become an issue. I am looking for a way to reuse the same LocalStack instance for all integration tests without putting any restrictions on the way the integration tests are written.</p>\n<p>As a workaround, I am considering to generate a unique prefix for all SQS queues and SNS topics, which will be prepended to the respective queue/topic names. This prefix should be unique per test case.</p>\n<p>However, this is slightly unclean, as the messages would still be lingering on the LocalStack instance, even when the test case is done. It would be better to create a truly &quot;clean slate&quot; state after each test case completes.</p>\n<p>In my case, tests are implemented using Scala, and the Testcontainers-Scala library is used. However, any JVM-based solution should work, such as a Java-based solution.</p>\n<h2>What I have considered</h2>\n<p>So far, I found the documentation and the API confusing, which probably reflects my lack of deep knowledge about LocalStack.</p>\n<p>I guess it would be possible to &quot;purge&quot; a whole LocalStack instance by using the CLI command and some trickery. However, this would involve calling a Bash script from the running integration tests within the JVM, which doesn't sound like a good idea. It would not be portable (easily) to Windows machines. It would be much more useful if all of this could be done directly from the JVM, for example by interacting with the running LocalStack container via HTTP.</p>\n<p>I focused my question on SQS and SNS because this is the current use case. In the future, as the project evolves, other services may be added. But those may be seen as separate cases.</p>\n<p>As for SQS and SNS, a solution would have to:</p>\n<ul>\n<li>Either be able to delete all queues/topics at once with a single command,</li>\n<li>Or be able to list all queues/topcis that exist, and then delete each of them individually.</li>\n</ul>\n"},{"tags":["java","hex"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1640184664,"post_id":70450387,"comment_id":124536033,"body_markdown":"@Kanaiya I don&#39;t think it is a good idea to change posted code... why do you *know* it is `&quot;5CDF7&quot;` and not `&quot;5CDF&quot;` as originally posted, and repeated two more times?","body":"@Kanaiya I don&#39;t think it is a good idea to change posted code... why do you <i>know</i> it is <code>&quot;5CDF7&quot;</code> and not <code>&quot;5CDF&quot;</code> as originally posted, and repeated two more times?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1640187845,"post_id":70450387,"comment_id":124537321,"body_markdown":"If you want to ignore hex digits above 9, then you aren’t decoding hex values, are you?  What are you trying to do?","body":"If you want to ignore hex digits above 9, then you aren’t decoding hex values, are you?  What are you trying to do?"}],"answers":[{"tags":[],"owner":{"account_id":10598022,"reputation":66,"user_id":14634910,"display_name":"alexxarisis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640182766,"creation_date":1640182590,"answer_id":70450430,"question_id":70450387,"body_markdown":"As far as i know, `5CDF` == 23775 in the decimal system.\r\n\r\nSo the question is, do you want the hex value decoded or the 5 in front?","title":"Parsing HEX result in different values","body":"<p>As far as i know, <code>5CDF</code> == 23775 in the decimal system.</p>\n<p>So the question is, do you want the hex value decoded or the 5 in front?</p>\n"}],"owner":{"account_id":1209978,"reputation":810,"user_id":1178732,"display_name":"sebacipo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640186764,"creation_date":1640182362,"question_id":70450387,"body_markdown":"I am trying to migrate (from javascript to java) a function to decode hex values.\r\nThe problem is when I try to convert &quot;5CDF&quot; to Int.\r\n\r\nJAVASCRIPT\r\n\r\n    ParseInt(&quot;5CDF&quot;) // Return 5\r\n\r\nJAVA\r\n\r\n    Integer.parseInt(&quot;5CDF&quot;) // Exception\r\n    Integer.parseInt(&quot;5CDF&quot;,16) // Return 23775\r\n\r\nHow should I do to convert &quot;5CDF&quot; to 5 in Java?","title":"Parsing HEX result in different values","body":"<p>I am trying to migrate (from javascript to java) a function to decode hex values.\nThe problem is when I try to convert &quot;5CDF&quot; to Int.</p>\n<p>JAVASCRIPT</p>\n<pre><code>ParseInt(&quot;5CDF&quot;) // Return 5\n</code></pre>\n<p>JAVA</p>\n<pre><code>Integer.parseInt(&quot;5CDF&quot;) // Exception\nInteger.parseInt(&quot;5CDF&quot;,16) // Return 23775\n</code></pre>\n<p>How should I do to convert &quot;5CDF&quot; to 5 in Java?</p>\n"},{"tags":["java","playframework","postman","rest"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1632250521,"post_id":69258215,"comment_id":122440444,"body_markdown":"What&#39;s blocking you to test it with Postman?","body":"What&#39;s blocking you to test it with Postman?"},{"owner":{"account_id":16830188,"reputation":47,"user_id":12168373,"display_name":"Praveen"},"score":0,"creation_date":1632292235,"post_id":69258215,"comment_id":122449046,"body_markdown":"I wanted the postman to download the zip file. I was not sure about how to do that. Now I found a way to do it. Thanks","body":"I wanted the postman to download the zip file. I was not sure about how to do that. Now I found a way to do it. Thanks"},{"owner":{"account_id":16830188,"reputation":47,"user_id":12168373,"display_name":"Praveen"},"score":0,"creation_date":1640325902,"post_id":69258215,"comment_id":124570018,"body_markdown":"@veysiertekin Sorry I missed your comment. While sending a request instead of &quot;send&quot; you can choose &quot;send and download&quot;. or you can follow the first answer","body":"@veysiertekin Sorry I missed your comment. While sending a request instead of &quot;send&quot; you can choose &quot;send and download&quot;. or you can follow the first answer"}],"answers":[{"tags":[],"owner":{"account_id":14437674,"reputation":711,"user_id":10429263,"display_name":"d00d"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640186619,"creation_date":1640186619,"answer_id":70451348,"question_id":69258215,"body_markdown":"You can use the `Save Response` button to save the file. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KpfbW.png","title":"How to test REST API which serve a .zip file using postman?","body":"<p>You can use the <code>Save Response</code> button to save the file.</p>\n<p><a href=\"https://i.stack.imgur.com/KpfbW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KpfbW.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":16830188,"reputation":47,"user_id":12168373,"display_name":"Praveen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640186619,"creation_date":1632156795,"question_id":69258215,"body_markdown":"I have a REST API that is developed using the Java play framework. The API servers the &quot;.zip&quot; file as a response to the request.\r\n\r\nIs there any way to test this API using postman? I need to check whether the ZIP file is served properly.","title":"How to test REST API which serve a .zip file using postman?","body":"<p>I have a REST API that is developed using the Java play framework. The API servers the &quot;.zip&quot; file as a response to the request.</p>\n<p>Is there any way to test this API using postman? I need to check whether the ZIP file is served properly.</p>\n"},{"tags":["java","android","mediarecorder","video-recording","android-video-record"],"answers":[{"tags":[],"owner":{"account_id":2348025,"reputation":15224,"user_id":2057709,"display_name":"VC.One"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640186481,"creation_date":1640186134,"answer_id":70451237,"question_id":70349561,"body_markdown":"I don&#39;t use the Android SDK (my Java skills are on Windows only), but from a quick research...\r\n\r\nSee if [this tutorial](https://www.javatpoint.com/android-mediarecorder-example) helps you (more info further beow)... &lt;br&gt;\r\nJust replace their audio setup (3GP) with the H264 &amp; AAC setup from the [other Question](https://stackoverflow.com/a/46720945/2057709).&lt;br&gt;\r\nAlso read the section about _&quot;Recording Video&quot;_ on [this article](https://www.codeproject.com/Articles/107270/Recording-and-Playing-Video-on-Android) to understand the needed parts.\r\n\r\nAlso [declare permissions](https://stackoverflow.com/questions/7037755/how-to-use-mediarecorder-to-capture-video-on-android/28669937#28669937) in your Manifest.xml. An example of such manifest and related code is [here on Github](https://gist.github.com/scottgwald/7743453) (that one allows `RECORD_AUDIO` but you need also a `RECORD_VIDEO` so set as):\r\n\r\n     &lt;uses-permission android:name=&quot;android.permission.RECORD_VIDEO&quot;/&gt;\r\n\r\n\r\nBack to the tutorial, I cannot test their code but something like the below edit should get you started:\r\n\r\n    public class MainActivity extends Activity \r\n    {  \r\n    \tMediaRecorder recorder;  \r\n    \tFile outputfile = null;  \r\n    \tstatic final String TAG = &quot;MediaRecording&quot;; \r\n\r\nThen inside that class you add useful functions (initialise Recorder, start rec, stop rec, save file)...\r\n\r\n    public void initRecording(View view) throws IOException \r\n    {  \r\n    \t//Creating file  \r\n    \tFile dir = Environment.getExternalStorageDirectory();  \r\n    \ttry { outputfile = File.createTempFile(&quot;video_test_android&quot;, &quot;.mp4&quot;, dir); } \r\n    \tcatch (IOException e) \r\n    \t{  \r\n    \t  Log.e(TAG, &quot;external storage access error&quot;);  \r\n    \t  return;  \r\n    \t}  \r\n    \t\r\n    \t //# Create a new instance of MediaRecorder\r\n    \trecorder = new MediaRecorder(); //create MediaRecorder object\r\n    \trecorder.setVideoSource(MediaRecorder.VideoSource.CAMERA);\r\n    \trecorder.setAudioSource(MediaRecorder.AudioSource.CAMCORDER);\r\n    \trecorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4);\r\n    \r\n    \t//# Video settings\r\n    \trecorder.setVideoEncoder(MediaRecorder.VideoEncoder.H264); //contained inside MP4\r\n    \trecorder.setVideoSize(640, 480); //width 640, height 480\r\n    \trecorder.setVideoFrameRate(30);  //30 FPS\r\n    \trecorder.setVideoEncodingBitRate(3000000); //adjust this for picture quality\r\n    \r\n    \t//# Audio settings\r\n    \trecorder.setAudioEncoder(MediaRecorder.AudioEncoder.AAC); //must always be AAC\r\n    \trecorder.setAudioEncoder(MediaRecorder.getAudioSourceMax());\r\n    \trecorder.setAudioEncodingBitRate(16);\r\n    \trecorder.setAudioSamplingRate(44100);\r\n    \r\n    \trecorder.setOutputFile(outputfile.getAbsolutePath());  \r\n    \trecorder.prepare();  \r\n    \t\r\n    } \r\n    \r\n    public void startRecording(View view)\r\n    {\r\n    \trecorder.start();\r\n    } \r\n    \r\n    public void stopRecording(View view)\r\n    {\r\n    \trecorder.stop(); recorder.release(); \r\n    \r\n    \t//# After stopping the recorder...\r\n    \t//# Create the video file and add it to the Media Library.  \r\n    \taddRecordingToMediaLibrary();\r\n     \r\n    }\r\n    \r\n    protected void addRecordingToMediaLibrary() \r\n    {\r\n    \t//# used to store a set of values that the ContentResolver can process\r\n    \tContentValues values = new ContentValues(4); //# 4 items (title, date, etc)\r\n    \r\n    \tlong current = System.currentTimeMillis(); //# get recording time (date)\r\n    \r\n    \t//# size of 4 for values, all in String\r\n    \tvalues.put(MediaStore.Audio.Media.TITLE, &quot;Android Tina J - &quot; + outputfile.getName());\r\n    \tvalues.put(MediaStore.Audio.Media.DATE_ADDED, (int) (current / 1000));\r\n    \tvalues.put(MediaStore.Audio.Media.MIME_TYPE, &quot;video/mp4&quot;); //# set MIME type\r\n    \tvalues.put(MediaStore.Audio.Media.DATA, outputfile.getAbsolutePath()); // data stream for the file\r\n    \r\n    \t//# provides applications access to the content model\r\n    \tContentResolver contentResolver = getContentResolver();\r\n    \r\n    \t//# The content:// style URI for the &quot;primary&quot; external storage volume.\r\n    \tUri base = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\r\n    \tUri newUri = contentResolver.insert(base, values);\r\n    \r\n    \t//# Request the media scanner to scan a file and add it to the media database\r\n    \tsendBroadcast(new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE, newUri));\r\n    \r\n    \t//# if you need a notification...\r\n    \t//Toast.makeText(this, &quot;Created Media File : &quot; + newUri, Toast.LENGTH_LONG).show();\r\n    }\r\n\r\n\r\nSo to begin a recording, just inititalise the media recorder and do a `recorder.start();` to begin recording (camera and mic are used automatically according to your MediaRecorder settings).","title":"Use MediaRecorder API instead of Intent for camera recording in Android","body":"<p>I don't use the Android SDK (my Java skills are on Windows only), but from a quick research...</p>\n<p>See if <a href=\"https://www.javatpoint.com/android-mediarecorder-example\" rel=\"nofollow noreferrer\">this tutorial</a> helps you (more info further beow)... <br>\nJust replace their audio setup (3GP) with the H264 &amp; AAC setup from the <a href=\"https://stackoverflow.com/a/46720945/2057709\">other Question</a>.<br>\nAlso read the section about <em>&quot;Recording Video&quot;</em> on <a href=\"https://www.codeproject.com/Articles/107270/Recording-and-Playing-Video-on-Android\" rel=\"nofollow noreferrer\">this article</a> to understand the needed parts.</p>\n<p>Also <a href=\"https://stackoverflow.com/questions/7037755/how-to-use-mediarecorder-to-capture-video-on-android/28669937#28669937\">declare permissions</a> in your Manifest.xml. An example of such manifest and related code is <a href=\"https://gist.github.com/scottgwald/7743453\" rel=\"nofollow noreferrer\">here on Github</a> (that one allows <code>RECORD_AUDIO</code> but you need also a <code>RECORD_VIDEO</code> so set as):</p>\n<pre><code> &lt;uses-permission android:name=&quot;android.permission.RECORD_VIDEO&quot;/&gt;\n</code></pre>\n<p>Back to the tutorial, I cannot test their code but something like the below edit should get you started:</p>\n<pre><code>public class MainActivity extends Activity \n{  \n    MediaRecorder recorder;  \n    File outputfile = null;  \n    static final String TAG = &quot;MediaRecording&quot;; \n</code></pre>\n<p>Then inside that class you add useful functions (initialise Recorder, start rec, stop rec, save file)...</p>\n<pre><code>public void initRecording(View view) throws IOException \n{  \n    //Creating file  \n    File dir = Environment.getExternalStorageDirectory();  \n    try { outputfile = File.createTempFile(&quot;video_test_android&quot;, &quot;.mp4&quot;, dir); } \n    catch (IOException e) \n    {  \n      Log.e(TAG, &quot;external storage access error&quot;);  \n      return;  \n    }  \n    \n     //# Create a new instance of MediaRecorder\n    recorder = new MediaRecorder(); //create MediaRecorder object\n    recorder.setVideoSource(MediaRecorder.VideoSource.CAMERA);\n    recorder.setAudioSource(MediaRecorder.AudioSource.CAMCORDER);\n    recorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4);\n\n    //# Video settings\n    recorder.setVideoEncoder(MediaRecorder.VideoEncoder.H264); //contained inside MP4\n    recorder.setVideoSize(640, 480); //width 640, height 480\n    recorder.setVideoFrameRate(30);  //30 FPS\n    recorder.setVideoEncodingBitRate(3000000); //adjust this for picture quality\n\n    //# Audio settings\n    recorder.setAudioEncoder(MediaRecorder.AudioEncoder.AAC); //must always be AAC\n    recorder.setAudioEncoder(MediaRecorder.getAudioSourceMax());\n    recorder.setAudioEncodingBitRate(16);\n    recorder.setAudioSamplingRate(44100);\n\n    recorder.setOutputFile(outputfile.getAbsolutePath());  \n    recorder.prepare();  \n    \n} \n\npublic void startRecording(View view)\n{\n    recorder.start();\n} \n\npublic void stopRecording(View view)\n{\n    recorder.stop(); recorder.release(); \n\n    //# After stopping the recorder...\n    //# Create the video file and add it to the Media Library.  \n    addRecordingToMediaLibrary();\n \n}\n\nprotected void addRecordingToMediaLibrary() \n{\n    //# used to store a set of values that the ContentResolver can process\n    ContentValues values = new ContentValues(4); //# 4 items (title, date, etc)\n\n    long current = System.currentTimeMillis(); //# get recording time (date)\n\n    //# size of 4 for values, all in String\n    values.put(MediaStore.Audio.Media.TITLE, &quot;Android Tina J - &quot; + outputfile.getName());\n    values.put(MediaStore.Audio.Media.DATE_ADDED, (int) (current / 1000));\n    values.put(MediaStore.Audio.Media.MIME_TYPE, &quot;video/mp4&quot;); //# set MIME type\n    values.put(MediaStore.Audio.Media.DATA, outputfile.getAbsolutePath()); // data stream for the file\n\n    //# provides applications access to the content model\n    ContentResolver contentResolver = getContentResolver();\n\n    //# The content:// style URI for the &quot;primary&quot; external storage volume.\n    Uri base = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\n    Uri newUri = contentResolver.insert(base, values);\n\n    //# Request the media scanner to scan a file and add it to the media database\n    sendBroadcast(new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE, newUri));\n\n    //# if you need a notification...\n    //Toast.makeText(this, &quot;Created Media File : &quot; + newUri, Toast.LENGTH_LONG).show();\n}\n</code></pre>\n<p>So to begin a recording, just inititalise the media recorder and do a <code>recorder.start();</code> to begin recording (camera and mic are used automatically according to your MediaRecorder settings).</p>\n"}],"owner":{"account_id":3868910,"reputation":4935,"user_id":3204706,"accept_rate":53,"display_name":"Tina J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":967,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640186481,"creation_date":1639488101,"question_id":70349561,"body_markdown":"I&#39;m using the following code to record the camera in Android that uses the basic `Intent`. How can I change it to use `MediaRecorder` API instead of this Intent-based approach?\r\n\r\n    private Uri fileUri;\r\n    //...\r\n            private void recordVideo() {\r\n                Intent intent = new Intent(MediaStore.ACTION_VIDEO_CAPTURE);\r\n                fileUri = getOutputMediaFileUri(MEDIA_TYPE_VIDEO);\r\n                // set video quality\r\n                intent.putExtra(MediaStore.EXTRA_OUTPUT, fileUri); // set the image file\r\n        \r\n                // start the video capture Intent\r\n                startActivityForResult(intent, CAMERA_CAPTURE_VIDEO_REQUEST_CODE);\r\n            }\r\n        \r\n        // ...\r\n        \r\n        @Override\r\n            protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        if (requestCode == CAMERA_CAPTURE_IMAGE_REQUEST_CODE &amp;&amp; resultCode == RESULT_OK) {\r\n                    // play the video given the global fileUri \r\n        }","title":"Use MediaRecorder API instead of Intent for camera recording in Android","body":"<p>I'm using the following code to record the camera in Android that uses the basic <code>Intent</code>. How can I change it to use <code>MediaRecorder</code> API instead of this Intent-based approach?</p>\n<pre><code>private Uri fileUri;\n//...\n        private void recordVideo() {\n            Intent intent = new Intent(MediaStore.ACTION_VIDEO_CAPTURE);\n            fileUri = getOutputMediaFileUri(MEDIA_TYPE_VIDEO);\n            // set video quality\n            intent.putExtra(MediaStore.EXTRA_OUTPUT, fileUri); // set the image file\n    \n            // start the video capture Intent\n            startActivityForResult(intent, CAMERA_CAPTURE_VIDEO_REQUEST_CODE);\n        }\n    \n    // ...\n    \n    @Override\n        protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    if (requestCode == CAMERA_CAPTURE_IMAGE_REQUEST_CODE &amp;&amp; resultCode == RESULT_OK) {\n                // play the video given the global fileUri \n    }\n</code></pre>\n"},{"tags":["java","liquibase"],"comments":[{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1640178816,"post_id":70449063,"comment_id":124533613,"body_markdown":"are you running test case on cloud?","body":"are you running test case on cloud?"},{"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"score":0,"creation_date":1640180168,"post_id":70449063,"comment_id":124534230,"body_markdown":"@RaushanKumar Yes I believe so. How might that affect it?","body":"@RaushanKumar Yes I believe so. How might that affect it?"},{"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"score":0,"creation_date":1640185122,"post_id":70449063,"comment_id":124536216,"body_markdown":"@RaushanKumar It&#39;s an Amazon EKS Cluster.","body":"@RaushanKumar It&#39;s an Amazon EKS Cluster."}],"answers":[{"tags":[],"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640186150,"creation_date":1640186150,"answer_id":70451241,"question_id":70449063,"body_markdown":"I think this issue is happening due to the log4j security patch update on AWS.\r\nI am not sure how it&#39;s impacting the Liquibase.\r\n\r\n\r\n**A temporary solution is to uninstall the patch and install another java version.**\r\n\r\nyum remove log4j-cve-2021-44228-hotpatch.noarch\r\nyum install java-11-openjdk-11.0.12.0.7-0.amzn2.0.2.x86_64\r\n","title":"Liquibase - FileNotFoundException at ZipFile.java","body":"<p>I think this issue is happening due to the log4j security patch update on AWS.\nI am not sure how it's impacting the Liquibase.</p>\n<p><strong>A temporary solution is to uninstall the patch and install another java version.</strong></p>\n<p>yum remove log4j-cve-2021-44228-hotpatch.noarch\nyum install java-11-openjdk-11.0.12.0.7-0.amzn2.0.2.x86_64</p>\n"}],"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":641,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640186150,"creation_date":1640176095,"question_id":70449063,"body_markdown":"When running tests in Jenkins we sometimes have Liquibase fail with a `FileNotFoundException`. This doesn&#39;t occur when running locally. \r\n\r\nWhat&#39;s strange is the error doesn&#39;t occur every build. \r\n\r\n**Exception**\r\n\r\n    java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:132\r\n        Caused by: liquibase.exception.UnexpectedLiquibaseException at ServiceLocator.java:129\r\n            Caused by: java.io.FileNotFoundException at ZipFile.java:-2\r\n\r\n**ServiceLocator**\r\n\r\n\ttry {\r\n\t\tmanifests = resourceAccessor.getResourcesAsStream(&quot;META-INF/MANIFEST.MF&quot;);\r\n\t\tif (manifests != null) {\r\n\t\t\tfor (InputStream is : manifests) {\r\n\t\t\t\tManifest manifest = new Manifest(is);\r\n\t\t\t\tString attributes = StringUtils.trimToNull(manifest.getMainAttributes().getValue(&quot;Liquibase-Package&quot;));\r\n\t\t\t\tif (attributes != null) {\r\n\t\t\t\t\tfor (Object value : attributes.split(&quot;,&quot;)) {\r\n\t\t\t\t\t\taddPackageToScan(value.toString());\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tis.close();\r\n\t\t\t}\r\n\t\t}\r\n\t} catch (IOException e) {\r\n\t\tthrow new UnexpectedLiquibaseException(e);\r\n\t}\r\n\r\nWe are using `Liquibase 3.8.1`.\r\n\r\nWhat could be causing this? ","title":"Liquibase - FileNotFoundException at ZipFile.java","body":"<p>When running tests in Jenkins we sometimes have Liquibase fail with a <code>FileNotFoundException</code>. This doesn't occur when running locally.</p>\n<p>What's strange is the error doesn't occur every build.</p>\n<p><strong>Exception</strong></p>\n<pre><code>java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:132\n    Caused by: liquibase.exception.UnexpectedLiquibaseException at ServiceLocator.java:129\n        Caused by: java.io.FileNotFoundException at ZipFile.java:-2\n</code></pre>\n<p><strong>ServiceLocator</strong></p>\n<pre><code>try {\n    manifests = resourceAccessor.getResourcesAsStream(&quot;META-INF/MANIFEST.MF&quot;);\n    if (manifests != null) {\n        for (InputStream is : manifests) {\n            Manifest manifest = new Manifest(is);\n            String attributes = StringUtils.trimToNull(manifest.getMainAttributes().getValue(&quot;Liquibase-Package&quot;));\n            if (attributes != null) {\n                for (Object value : attributes.split(&quot;,&quot;)) {\n                    addPackageToScan(value.toString());\n                }\n            }\n            is.close();\n        }\n    }\n} catch (IOException e) {\n    throw new UnexpectedLiquibaseException(e);\n}\n</code></pre>\n<p>We are using <code>Liquibase 3.8.1</code>.</p>\n<p>What could be causing this?</p>\n"},{"tags":["java","json","mongodb","webhooks","mongodb-java"],"comments":[{"owner":{"account_id":9074935,"reputation":1264,"user_id":6756858,"display_name":"ata"},"score":0,"creation_date":1640186413,"post_id":70451236,"comment_id":124536768,"body_markdown":"Hey Vitor! Welcome to Stackoverflow. Can you improve your question with example, error or similar output?","body":"Hey Vitor! Welcome to Stackoverflow. Can you improve your question with example, error or similar output?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1640926851,"post_id":70451236,"comment_id":124692416,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":22388202,"reputation":1,"user_id":17703435,"display_name":"Vitor Patricio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640186134,"creation_date":1640186134,"question_id":70451236,"body_markdown":"I&#39;m using mongoDB to store and read data from my Java application. My application, in addition to working with the MongoDB database, works with an API for sending messages via whatsapp. Everything is working so far, but I need to get the &quot;webhook&quot; sent by this external service, I managed to configure an HTTPS Endpoint in Realm, I would like to know if it is possible to read this data through my Java console application. I tried to synchronize the Realm with the database but I was unsuccessful, the idea was to record the data received by the HTTPS endpoint in a collection and access it through my Java application.\r\n\r\nThanks to everyone who can contribute with any suggestions.","title":"Access data received by the HTTPs endpoint by my java console app","body":"<p>I'm using mongoDB to store and read data from my Java application. My application, in addition to working with the MongoDB database, works with an API for sending messages via whatsapp. Everything is working so far, but I need to get the &quot;webhook&quot; sent by this external service, I managed to configure an HTTPS Endpoint in Realm, I would like to know if it is possible to read this data through my Java console application. I tried to synchronize the Realm with the database but I was unsuccessful, the idea was to record the data received by the HTTPS endpoint in a collection and access it through my Java application.</p>\n<p>Thanks to everyone who can contribute with any suggestions.</p>\n"},{"tags":["java","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":9074935,"reputation":1264,"user_id":6756858,"display_name":"ata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640184036,"creation_date":1640184036,"answer_id":70450767,"question_id":70450666,"body_markdown":"How about removing `doOnError` and put the logging inside `onErrorResume` like this:\r\n```java\r\nreturn service.someMethod(phone, ctx)\r\n                .doOnNext(resp -&gt; log(&quot;done&quot;)\r\n                .timeout(timeout)\r\n                .onErrorResume(TimeoutException.class, e -&gt; {\r\n  log.error(ServiceErrors.CLIENT_SEARCH_TIMEOUT_ERROR + e.getLocalizedMessage())\r\n  Mono.just(new MyCustomWrapper&lt;&gt;(\r\n                        new MyCustomError(&quot;EIPbXsxiuA&quot; , ServiceErrors.CLIENT_SEARCH_TIMEOUT_ERROR))\r\n});\r\n```","title":"doOnError and onErrorResume how to combine into one operator","body":"<p>How about removing <code>doOnError</code> and put the logging inside <code>onErrorResume</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return service.someMethod(phone, ctx)\n                .doOnNext(resp -&gt; log(&quot;done&quot;)\n                .timeout(timeout)\n                .onErrorResume(TimeoutException.class, e -&gt; {\n  log.error(ServiceErrors.CLIENT_SEARCH_TIMEOUT_ERROR + e.getLocalizedMessage())\n  Mono.just(new MyCustomWrapper&lt;&gt;(\n                        new MyCustomError(&quot;EIPbXsxiuA&quot; , ServiceErrors.CLIENT_SEARCH_TIMEOUT_ERROR))\n});\n</code></pre>\n"}],"owner":{"account_id":22074613,"reputation":57,"user_id":16340746,"display_name":"Anton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":540,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70450767,"answer_count":1,"score":1,"last_activity_date":1640185889,"creation_date":1640183628,"question_id":70450666,"body_markdown":"I have `RestController`, which returns `Mono`. And if i catch `TimeoutException`, I need log to it and return my custom `ErrorResponse`. Now, it works and looks like this:\r\n```java\r\nreturn service.someMethod(phone, ctx)\r\n                .doOnNext(resp -&gt; log(&quot;done&quot;)\r\n                .timeout(timeout)\r\n                .doOnError(TimeoutException.class, e -&gt; log.error(ServiceErrors.CLIENT_SEARCH_TIMEOUT_ERROR + e.getLocalizedMessage()))\r\n                .onErrorResume(TimeoutException.class, e -&gt; Mono.just(new MyCustomWrapper&lt;&gt;(\r\n                        new MyCustomError(&quot;EIPbXsxiuA&quot; , ServiceErrors.CLIENT_SEARCH_TIMEOUT_ERROR))\r\n                );\r\n```\r\nI want to combine doOnError and onErrorResume. How can i do this?","title":"doOnError and onErrorResume how to combine into one operator","body":"<p>I have <code>RestController</code>, which returns <code>Mono</code>. And if i catch <code>TimeoutException</code>, I need log to it and return my custom <code>ErrorResponse</code>. Now, it works and looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return service.someMethod(phone, ctx)\n                .doOnNext(resp -&gt; log(&quot;done&quot;)\n                .timeout(timeout)\n                .doOnError(TimeoutException.class, e -&gt; log.error(ServiceErrors.CLIENT_SEARCH_TIMEOUT_ERROR + e.getLocalizedMessage()))\n                .onErrorResume(TimeoutException.class, e -&gt; Mono.just(new MyCustomWrapper&lt;&gt;(\n                        new MyCustomError(&quot;EIPbXsxiuA&quot; , ServiceErrors.CLIENT_SEARCH_TIMEOUT_ERROR))\n                );\n</code></pre>\n<p>I want to combine doOnError and onErrorResume. How can i do this?</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":3,"creation_date":1640185213,"post_id":70451018,"comment_id":124536254,"body_markdown":"ArrayList class has multiple constructors that take different arguments. Read the javadoc","body":"ArrayList class has multiple constructors that take different arguments. Read the javadoc"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":3,"creation_date":1640185240,"post_id":70451018,"comment_id":124536267,"body_markdown":"https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html</a>"},{"owner":{"account_id":9451707,"reputation":590,"user_id":7028310,"display_name":"0xDEADBEEF"},"score":0,"creation_date":1640185435,"post_id":70451018,"comment_id":124536343,"body_markdown":"javadoc is helpful for knowing the Constructor,data fields,method of a class, what is the parent of the class, etc. Whenever you don&#39;t understand a built in java class just search the javadoc for it in google.","body":"javadoc is helpful for knowing the Constructor,data fields,method of a class, what is the parent of the class, etc. Whenever you don&#39;t understand a built in java class just search the javadoc for it in google."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640185256,"creation_date":1640185256,"answer_id":70451046,"question_id":70451018,"body_markdown":"This is a call to the [`ArrayList(Collection&lt;T&gt;)`](https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html#ArrayList-java.util.Collection-) constructor. It creates a new array list with the elements of the `Collection` (e.g., another `ArrayList`) being passed to the constructor.","title":"What to put in () of ArrayLists","body":"<p>This is a call to the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html#ArrayList-java.util.Collection-\" rel=\"nofollow noreferrer\"><code>ArrayList(Collection&lt;T&gt;)</code></a> constructor. It creates a new array list with the elements of the <code>Collection</code> (e.g., another <code>ArrayList</code>) being passed to the constructor.</p>\n"}],"owner":{"account_id":23721095,"reputation":3,"user_id":17741638,"display_name":"Ann Song"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1640185707,"answer_count":1,"score":-3,"last_activity_date":1640185406,"creation_date":1640185146,"question_id":70451018,"body_markdown":"I know that the () in `ArrayList&lt;Integer&gt; = new ArrayList&lt;&gt;()` can be used to describe the capacity for the `ArrayList`, but recently I&#39;ve seen people put `ArrayList`s in the `()` of other `ArrayList`s.\r\n\r\nI wasn&#39;t able to find the answer from searching on Google multiple times, any ideas?","title":"What to put in () of ArrayLists","body":"<p>I know that the () in <code>ArrayList&lt;Integer&gt; = new ArrayList&lt;&gt;()</code> can be used to describe the capacity for the <code>ArrayList</code>, but recently I've seen people put <code>ArrayList</code>s in the <code>()</code> of other <code>ArrayList</code>s.</p>\n<p>I wasn't able to find the answer from searching on Google multiple times, any ideas?</p>\n"},{"tags":["java","class"],"comments":[{"owner":{"display_name":"user14616876"},"score":0,"creation_date":1640177156,"post_id":70449248,"comment_id":124532973,"body_markdown":"Hi! Please Make it clear. What Do You Want to calculate?","body":"Hi! Please Make it clear. What Do You Want to calculate?"},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":1,"creation_date":1640177169,"post_id":70449248,"comment_id":124532975,"body_markdown":"What does &quot;calculate the shapes&quot; mean? Any specific calculations?","body":"What does &quot;calculate the shapes&quot; mean? Any specific calculations?"},{"owner":{"display_name":"user6073886"},"score":5,"creation_date":1640177182,"post_id":70449248,"comment_id":124532981,"body_markdown":"A good start would be reading the complete assignment, because I highly doubt that it just says &quot;calculate the shapes using the classes&quot;, because that doesn&#39;t even make any sense. Calculate what exactly? The area? circumference?","body":"A good start would be reading the complete assignment, because I highly doubt that it just says &quot;calculate the shapes using the classes&quot;, because that doesn&#39;t even make any sense. Calculate what exactly? The area? circumference?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1640177847,"post_id":70449248,"comment_id":124533239,"body_markdown":"Please [edit] your question to include that additional detail (ideally format it as a quote, if you copied it from your instructions). Also, reading \n[How do I ask and answer homework questions?](https://meta.stackoverflow.com/q/334822) might help understand what is expected of homework-related questions.","body":"Please <a href=\"https://stackoverflow.com/posts/70449248/edit\">edit</a> your question to include that additional detail (ideally format it as a quote, if you copied it from your instructions). Also, reading  <a href=\"https://meta.stackoverflow.com/q/334822\">How do I ask and answer homework questions?</a> might help understand what is expected of homework-related questions."}],"answers":[{"tags":[],"owner":{"account_id":10598022,"reputation":66,"user_id":14634910,"display_name":"alexxarisis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640182196,"creation_date":1640180700,"answer_id":70450048,"question_id":70449248,"body_markdown":"Putting aside the quality of the question:\r\n\r\nYou have a Shape class that will contain a method `calculateSomething()`.\r\nShape does not define a specific shape so most likely you can return a -1 or 0?\r\n\r\nNow, we can determine that the method of the Shape class does not provide us with any real value/info. Even if you create a `Shape shape = new Shape()` object and call its method, it does not help us at all.\r\n\r\nInstead it provides us with a method that each subclass has to override in order to get the intended results.\r\n\r\n**What does that mean and how it works?**\r\n\r\nFor you to not always have to do `Rectangle rect = new Rectangle()` for every single class and object, the Rectangle becomes a subclass of the Shape class.\r\n\r\nThis enables you to later do `Shape rect = new Rectangle()`.\r\nThe big benefit of this is that you create an abstraction mechanism, meaning that you have a lot of shapes, either rectangles or triangles etc, but they all are Shape objects in the end.\r\n\r\nSo later you can just do:\r\n\r\n    Shape rect = new Rectangle();\r\n    Shape triangle = new Triangle();\r\n    rect.calculate();\r\n    triangle.calculate();\r\n\r\nInstead of the more meticulous:\r\n\r\n    Rectangle rect = new Rectangle();\r\n    Triangle triangle = new Triangle();\r\n    rect.calculate();\r\n    triangle.calculate();\r\n\r\nThe former can further be utilised by:\r\n\r\n    // Putting all the objects in a list\r\n    List&lt;Shape&gt; shapes = new ArrayList&lt;&gt;();\r\n\r\n    // Create objects and add them\r\n    Shape rect = new Rectangle();\r\n    Shape triangle = new Triangle();\r\n    shapes.add(rect);\r\n    shapes.add(triangle);\r\n\r\nAs you can see for yourself, it is easier to handle and iterate over a list with all the elements being of type/class Shape. \r\n\r\n    // Basic example\r\n    for (Shape shape : shapes)\r\n        shape.calculateSomething();\r\n\r\nImagine if you had a hundred different shapes except Rectangle and Triangle. The latter method, without using inheritance, would quickly come to consume your project in an ever ending trial of maintenance and code changing. \r\n\r\nBy utilising inheritance otherwise, you can increase your Shape classes as much in quantity as you want and the same methods that used to work for a Shape, would still work for all the future new objects.\r\n\r\n**How does it work in practise? How do i create a subclass?**\r\n\r\nAs you already know you can *link* your classes through the `extend` keyword.\r\nBut that is only the start.\r\n\r\nTo be able to utilize the inheritance, you will have to overwrite the method of your choosing, in the child class.\r\n\r\nTake for instance the previous example:\r\n\r\n    Shape rect = new Rectangle();\r\n    rect.calculate();\r\n\r\nBut that raises the question, how can you get the correct value of `calculate()` method, when `Shape` class has a -1 or 0 returning from it and `rect` variable is now of type `Shape`?\r\n\r\nEasily, you can override a method of the parent class through the `@Override` tag and by implementing the same method again on the child class but with different calculations. Example:\r\n\r\n    class Shape {\r\n        \r\n        public void calculate() { return 0; }\r\n    }\r\n\r\n    class Rectangle extends Shape {\r\n         \r\n        @Override\r\n        public void calculate() { return 2; }\r\n    }\r\n\r\nNote that the name, variables etc of the method must be identical.\r\n\r\nNow in the case of:\r\n\r\n    Shape rect = new Rectangle();\r\n    rect.calculate();\r\n\r\nthe `calculate()` method will return the number *2*. \r\nThis happens because even though the `rect` object is of type `Shape`, it is also a `Rectangle`. Every Rectangle is a Shape. So when you try to call the desired method, the program knows to choose the overrided method of the Rectangle class, because in essence it is a Rectangle, covered by the abstraction Shape.\r\n\r\nThis works for any number of Shape subclasses, each with their own unique implementation of the method.\r\n\r\nAlso note that a Rectangle subclass can have its own private fields that are used in the other methods:\r\n\r\n    class Rectangle extends Shape {\r\n        private int height;\r\n        private int width;\r\n\r\n        // constructor\r\n        public Rectangle(int h, int w) {\r\n             this.height = h;\r\n             this.width = w;\r\n        }\r\n\r\n        @Override\r\n        public void calculate() { \r\n                return this.w * this.h; \r\n        }\r\n    }\r\n\r\nSo to answer your question, you just override the methods you want for each class as you desire. If a method is not overriden, then the original of the `Shape` parent class is run. \r\n\r\nI hope this shined a little bit of light in your confusion towards abstraction and inheritance. \r\n\r\n**PS:**\r\nI know that you might be confused, but there are hundreds of answers and forums out there explaining this exact thing and that is how we all learned it. It needs time unfortunately but you will have a deeper understanding if you look at something yourself. I&#39;m sure you have taken a taste of what is defined as &#39;wrong&#39; or &#39;bad&#39; to ask in here and that you will be more susceptible into studying it yourself in the future, considering there is material needed. I just tried to reach out to you because i have been in your place and believed i could make a difference with my approach. \r\n\r\nIf you have anything else to add or something to correct, it is always welcome in the comments section.\r\n\r\n**Edit:**\r\nAs mentioned by the other guy that answered, the Shape class can and should be an abstract one. I just assumed you wanted it to be a normal one.","title":"Creating Superclasses and Subclasses Java quesiton","body":"<p>Putting aside the quality of the question:</p>\n<p>You have a Shape class that will contain a method <code>calculateSomething()</code>.\nShape does not define a specific shape so most likely you can return a -1 or 0?</p>\n<p>Now, we can determine that the method of the Shape class does not provide us with any real value/info. Even if you create a <code>Shape shape = new Shape()</code> object and call its method, it does not help us at all.</p>\n<p>Instead it provides us with a method that each subclass has to override in order to get the intended results.</p>\n<p><strong>What does that mean and how it works?</strong></p>\n<p>For you to not always have to do <code>Rectangle rect = new Rectangle()</code> for every single class and object, the Rectangle becomes a subclass of the Shape class.</p>\n<p>This enables you to later do <code>Shape rect = new Rectangle()</code>.\nThe big benefit of this is that you create an abstraction mechanism, meaning that you have a lot of shapes, either rectangles or triangles etc, but they all are Shape objects in the end.</p>\n<p>So later you can just do:</p>\n<pre><code>Shape rect = new Rectangle();\nShape triangle = new Triangle();\nrect.calculate();\ntriangle.calculate();\n</code></pre>\n<p>Instead of the more meticulous:</p>\n<pre><code>Rectangle rect = new Rectangle();\nTriangle triangle = new Triangle();\nrect.calculate();\ntriangle.calculate();\n</code></pre>\n<p>The former can further be utilised by:</p>\n<pre><code>// Putting all the objects in a list\nList&lt;Shape&gt; shapes = new ArrayList&lt;&gt;();\n\n// Create objects and add them\nShape rect = new Rectangle();\nShape triangle = new Triangle();\nshapes.add(rect);\nshapes.add(triangle);\n</code></pre>\n<p>As you can see for yourself, it is easier to handle and iterate over a list with all the elements being of type/class Shape.</p>\n<pre><code>// Basic example\nfor (Shape shape : shapes)\n    shape.calculateSomething();\n</code></pre>\n<p>Imagine if you had a hundred different shapes except Rectangle and Triangle. The latter method, without using inheritance, would quickly come to consume your project in an ever ending trial of maintenance and code changing.</p>\n<p>By utilising inheritance otherwise, you can increase your Shape classes as much in quantity as you want and the same methods that used to work for a Shape, would still work for all the future new objects.</p>\n<p><strong>How does it work in practise? How do i create a subclass?</strong></p>\n<p>As you already know you can <em>link</em> your classes through the <code>extend</code> keyword.\nBut that is only the start.</p>\n<p>To be able to utilize the inheritance, you will have to overwrite the method of your choosing, in the child class.</p>\n<p>Take for instance the previous example:</p>\n<pre><code>Shape rect = new Rectangle();\nrect.calculate();\n</code></pre>\n<p>But that raises the question, how can you get the correct value of <code>calculate()</code> method, when <code>Shape</code> class has a -1 or 0 returning from it and <code>rect</code> variable is now of type <code>Shape</code>?</p>\n<p>Easily, you can override a method of the parent class through the <code>@Override</code> tag and by implementing the same method again on the child class but with different calculations. Example:</p>\n<pre><code>class Shape {\n    \n    public void calculate() { return 0; }\n}\n\nclass Rectangle extends Shape {\n     \n    @Override\n    public void calculate() { return 2; }\n}\n</code></pre>\n<p>Note that the name, variables etc of the method must be identical.</p>\n<p>Now in the case of:</p>\n<pre><code>Shape rect = new Rectangle();\nrect.calculate();\n</code></pre>\n<p>the <code>calculate()</code> method will return the number <em>2</em>.\nThis happens because even though the <code>rect</code> object is of type <code>Shape</code>, it is also a <code>Rectangle</code>. Every Rectangle is a Shape. So when you try to call the desired method, the program knows to choose the overrided method of the Rectangle class, because in essence it is a Rectangle, covered by the abstraction Shape.</p>\n<p>This works for any number of Shape subclasses, each with their own unique implementation of the method.</p>\n<p>Also note that a Rectangle subclass can have its own private fields that are used in the other methods:</p>\n<pre><code>class Rectangle extends Shape {\n    private int height;\n    private int width;\n\n    // constructor\n    public Rectangle(int h, int w) {\n         this.height = h;\n         this.width = w;\n    }\n\n    @Override\n    public void calculate() { \n            return this.w * this.h; \n    }\n}\n</code></pre>\n<p>So to answer your question, you just override the methods you want for each class as you desire. If a method is not overriden, then the original of the <code>Shape</code> parent class is run.</p>\n<p>I hope this shined a little bit of light in your confusion towards abstraction and inheritance.</p>\n<p><strong>PS:</strong>\nI know that you might be confused, but there are hundreds of answers and forums out there explaining this exact thing and that is how we all learned it. It needs time unfortunately but you will have a deeper understanding if you look at something yourself. I'm sure you have taken a taste of what is defined as 'wrong' or 'bad' to ask in here and that you will be more susceptible into studying it yourself in the future, considering there is material needed. I just tried to reach out to you because i have been in your place and believed i could make a difference with my approach.</p>\n<p>If you have anything else to add or something to correct, it is always welcome in the comments section.</p>\n<p><strong>Edit:</strong>\nAs mentioned by the other guy that answered, the Shape class can and should be an abstract one. I just assumed you wanted it to be a normal one.</p>\n"},{"tags":[],"owner":{"account_id":3710267,"reputation":2019,"user_id":3087793,"accept_rate":59,"display_name":"Juan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640181460,"creation_date":1640181460,"answer_id":70450202,"question_id":70449248,"body_markdown":"First, `Shape` class should be `abstract`, since you won&#39;t create any specific object of this class and you&#39;ll only use it as a &quot;canvas&quot;.\r\nThis class has to have an abstract method, let&#39;s call it `getArea()`, that you&#39;ll have to override in your child classes to accomodate to the specified requirements for each kind of shape.\r\n\r\nThe `toString()` method belongs to `Object` class, since every class in Java extends from `Object`, you don&#39;t have to define anything, just override this method to return the desired `String` in every child class.\r\n\r\nAccording to the definition you have post, the `Cube` class would be a composition of `Square` (a cube is composed by squares, but it&#39;s not a square), so I&#39;d extend it from `Shape` and define it as a `List` or an array of 6 `Square`, so the `getArea()` of `Cube` would be the summatory of every `Square` area in it.","title":"Creating Superclasses and Subclasses Java quesiton","body":"<p>First, <code>Shape</code> class should be <code>abstract</code>, since you won't create any specific object of this class and you'll only use it as a &quot;canvas&quot;.\nThis class has to have an abstract method, let's call it <code>getArea()</code>, that you'll have to override in your child classes to accomodate to the specified requirements for each kind of shape.</p>\n<p>The <code>toString()</code> method belongs to <code>Object</code> class, since every class in Java extends from <code>Object</code>, you don't have to define anything, just override this method to return the desired <code>String</code> in every child class.</p>\n<p>According to the definition you have post, the <code>Cube</code> class would be a composition of <code>Square</code> (a cube is composed by squares, but it's not a square), so I'd extend it from <code>Shape</code> and define it as a <code>List</code> or an array of 6 <code>Square</code>, so the <code>getArea()</code> of <code>Cube</code> would be the summatory of every <code>Square</code> area in it.</p>\n"}],"owner":{"account_id":23719934,"reputation":23,"user_id":17740620,"display_name":"What da dog goin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":492,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1640185177,"creation_date":1640177006,"question_id":70449248,"body_markdown":"i started learning Java in university and we have an assignment that requires us to use a Superclass for Shape and Subclass that extend the shape. \r\n\r\nThis is the full questions: \r\n&gt; Create a super class “Shape” from which you derive two subclasses “Square” and “Rectangle” with functions to calculate the square area and the rectangle area. In addition, to the function “toString” to display the square and rectangle info. Derive another sub class “Cube” from square with a function to calculate its area and a function “toString” to display the cube info.&quot; \r\n\r\n What we need to do is calculate the shapes using the classes. Where should I start or move forward to solve the assignment?\r\n\r\nThis is where I think I should start, but need some guidance\r\n\r\n```\r\npublic class Shapes {\r\n  class Shape {\r\n\r\n  }\r\n\r\n  class Rectangle extends Shape {\r\n\r\n  }\r\n\r\n  class Square extends Shape {\r\n\r\n  }\r\n}\r\n```","title":"Creating Superclasses and Subclasses Java quesiton","body":"<p>i started learning Java in university and we have an assignment that requires us to use a Superclass for Shape and Subclass that extend the shape.</p>\n<p>This is the full questions:</p>\n<blockquote>\n<p>Create a super class “Shape” from which you derive two subclasses “Square” and “Rectangle” with functions to calculate the square area and the rectangle area. In addition, to the function “toString” to display the square and rectangle info. Derive another sub class “Cube” from square with a function to calculate its area and a function “toString” to display the cube info.&quot;</p>\n</blockquote>\n<p>What we need to do is calculate the shapes using the classes. Where should I start or move forward to solve the assignment?</p>\n<p>This is where I think I should start, but need some guidance</p>\n<pre><code>public class Shapes {\n  class Shape {\n\n  }\n\n  class Rectangle extends Shape {\n\n  }\n\n  class Square extends Shape {\n\n  }\n}\n</code></pre>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":137237,"reputation":13989,"user_id":341291,"accept_rate":76,"display_name":"Axel"},"score":0,"creation_date":1383160960,"post_id":19691920,"comment_id":29249105,"body_markdown":"Hey, who is downvoting all these correct answers? That behaviour is required by the Map interface after all.","body":"Hey, who is downvoting all these correct answers? That behaviour is required by the Map interface after all."},{"owner":{"account_id":66010,"reputation":22927,"user_id":193906,"display_name":"Sanjay T. Sharma"},"score":1,"creation_date":1383161161,"post_id":19691920,"comment_id":29249220,"body_markdown":"@Axel: I guess that&#39;s because folks have misunderstood the OP. The OP basically wants to know what happens when multiple keys are hashed to the same bucket. That is when collision resolution is used. All the others answers keep going on about multi maps and what not...","body":"@Axel: I guess that&#39;s because folks have misunderstood the OP. The OP basically wants to know what happens when multiple keys are hashed to the same bucket. That is when collision resolution is used. All the others answers keep going on about multi maps and what not..."},{"owner":{"account_id":137237,"reputation":13989,"user_id":341291,"accept_rate":76,"display_name":"Axel"},"score":2,"creation_date":1383162820,"post_id":19691920,"comment_id":29250106,"body_markdown":"But the OP explicitly gives the example of putting two elements with the same key (10) and wonders why not both different values are stored. And that *is* the behaviour of a MultiMap.","body":"But the OP explicitly gives the example of putting two elements with the same key (10) and wonders why not both different values are stored. And that <i>is</i> the behaviour of a MultiMap."},{"owner":{"account_id":1487751,"reputation":278,"user_id":1395608,"display_name":"Zaiping Bie"},"score":0,"creation_date":1431485816,"post_id":19691920,"comment_id":48514863,"body_markdown":"This can be confirmed with the source code of HashMap.getEntry. It&#39;s pretty clear that the entry is a list with different key-value for the same hash code.","body":"This can be confirmed with the source code of HashMap.getEntry. It&#39;s pretty clear that the entry is a list with different key-value for the same hash code."}],"answers":[{"tags":[],"owner":{"account_id":66010,"reputation":22927,"user_id":193906,"display_name":"Sanjay T. Sharma"},"down_vote_count":0,"up_vote_count":141,"is_accepted":true,"score":141,"last_activity_date":1529716547,"creation_date":1383160845,"answer_id":19691998,"question_id":19691920,"body_markdown":"When you insert the pair `(10, 17)` and then `(10, 20)`, there is technically no collision involved. You are just replacing the old value with the new value for a given key `10` (since in both cases, 10 is equal to 10 and also the hash code for 10 is always 10).\r\n\r\nCollision happens when multiple keys hash to the same bucket. In that case, you need to make sure that you can distinguish between those keys. Chaining collision resolution is one of those techniques which is used for this.\r\n\r\nAs an example, let&#39;s suppose that two strings `&quot;abra ka dabra&quot;` and `&quot;wave my wand&quot;` yield hash codes `100` and `200` respectively. Assuming the total array size is 10, both of them end up in the same bucket (`100 % 10` and `200 % 10`). Chaining ensures that whenever you do `map.get( &quot;abra ka dabra&quot; );`, you end up with the correct value associated with the key. In the case of hash map in Java, this is done by using the `equals` method.","title":"Collision resolution in Java HashMap","body":"<p>When you insert the pair <code>(10, 17)</code> and then <code>(10, 20)</code>, there is technically no collision involved. You are just replacing the old value with the new value for a given key <code>10</code> (since in both cases, 10 is equal to 10 and also the hash code for 10 is always 10).</p>\n\n<p>Collision happens when multiple keys hash to the same bucket. In that case, you need to make sure that you can distinguish between those keys. Chaining collision resolution is one of those techniques which is used for this.</p>\n\n<p>As an example, let's suppose that two strings <code>\"abra ka dabra\"</code> and <code>\"wave my wand\"</code> yield hash codes <code>100</code> and <code>200</code> respectively. Assuming the total array size is 10, both of them end up in the same bucket (<code>100 % 10</code> and <code>200 % 10</code>). Chaining ensures that whenever you do <code>map.get( \"abra ka dabra\" );</code>, you end up with the correct value associated with the key. In the case of hash map in Java, this is done by using the <code>equals</code> method.</p>\n"},{"tags":[],"owner":{"account_id":446738,"reputation":17522,"user_id":839965,"accept_rate":67,"display_name":"TotoroTotoro"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1383161243,"creation_date":1383160853,"answer_id":19692004,"question_id":19691920,"body_markdown":"There is no collision in your example. You use the same key, so the old value gets replaced with the new one. Now, if you used two keys that map to the same hash code, then you&#39;d have a collision. But even in that case, HashMap would replace your value! If you want the values to be chained in case of a collision, you have to do it yourself, e.g. by using a list as a value.","title":"Collision resolution in Java HashMap","body":"<p>There is no collision in your example. You use the same key, so the old value gets replaced with the new one. Now, if you used two keys that map to the same hash code, then you'd have a collision. But even in that case, HashMap would replace your value! If you want the values to be chained in case of a collision, you have to do it yourself, e.g. by using a list as a value.</p>\n"},{"tags":[],"owner":{"account_id":3438922,"reputation":5562,"user_id":2881298,"display_name":"yamafontes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1383160857,"creation_date":1383160857,"answer_id":19692008,"question_id":19691920,"body_markdown":"It isn&#39;t defined to do so. In order to achieve this functionality, you need to create a map that maps keys to lists of values:\r\n\r\n    Map&lt;Foo, List&lt;Bar&gt;&gt; myMap;\r\n\r\nOr, you could use &lt;a href=&quot;http://guava-libraries.googlecode.com/svn/tags/release03/javadoc/com/google/common/collect/Multimap.html&quot;&gt;the Multimap from google collections / guava libraries&lt;/a&gt;","title":"Collision resolution in Java HashMap","body":"<p>It isn't defined to do so. In order to achieve this functionality, you need to create a map that maps keys to lists of values:</p>\n\n<pre><code>Map&lt;Foo, List&lt;Bar&gt;&gt; myMap;\n</code></pre>\n\n<p>Or, you could use <a href=\"http://guava-libraries.googlecode.com/svn/tags/release03/javadoc/com/google/common/collect/Multimap.html\" rel=\"nofollow\">the Multimap from google collections / guava libraries</a></p>\n"},{"tags":[],"owner":{"account_id":294087,"reputation":6941,"user_id":597770,"display_name":"iluxa"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1497084378,"creation_date":1383160901,"answer_id":19692021,"question_id":19691920,"body_markdown":"It could have formed a linked list, indeed. It&#39;s just that `Map` contract requires it to replace the entry:\r\n\r\n&gt; `V put(K key, V value)`\r\n\r\n&gt; Associates the specified value with the specified key in this map\r\n&gt; (optional operation). If the map previously contained a mapping for\r\n&gt; the key, the old value is replaced by the specified value. (A map m is\r\n&gt; said to contain a mapping for a key k if and only if m.containsKey(k)\r\n&gt; would return true.)\r\n\r\nhttp://docs.oracle.com/javase/6/docs/api/java/util/Map.html\r\n\r\nFor a map to store lists of values, it&#39;d need to be a `Multimap`. Here&#39;s Google&#39;s: http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Multimap.html\r\n\r\n&gt; A collection similar to a Map, but which may associate multiple values\r\n&gt; with a single key. If you call put(K, V) twice, with the same key but\r\n&gt; different values, the multimap contains mappings from the key to both\r\n&gt; values.\r\n\r\n**Edit: Collision resolution**\r\n\r\nThat&#39;s a bit different. A collision happens when two different keys happen to have the same hash code, or two keys with different hash codes happen to map into the same bucket in the underlying array.\r\n\r\nConsider `HashMap`&#39;s source (bits and pieces removed):\r\n\r\n    public V put(K key, V value) {\r\n        int hash = hash(key.hashCode());\r\n        int i = indexFor(hash, table.length);\r\n        // i is the index where we want to insert the new element\r\n        addEntry(hash, key, value, i);\r\n        return null;\r\n    }\r\n\r\n    void addEntry(int hash, K key, V value, int bucketIndex) {\r\n        // take the entry that&#39;s already in that bucket\r\n        Entry&lt;K,V&gt; e = table[bucketIndex];\r\n        // and create a new one that points to the old one = linked list\r\n        table[bucketIndex] = new Entry&lt;&gt;(hash, key, value, e);\r\n    }\r\n\r\nFor those who are curious how the `Entry` class in `HashMap` comes to behave like a list, it turns out that `HashMap` defines its own static `Entry` class which implements `Map.Entry`.  You can see for yourself by viewing the source code:\r\n\r\n[**GrepCode for HashMap**][1]\r\n\r\n\r\n  [1]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/HashMap.java#HashMap.Entry","title":"Collision resolution in Java HashMap","body":"<p>It could have formed a linked list, indeed. It's just that <code>Map</code> contract requires it to replace the entry:</p>\n\n<blockquote>\n  <p><code>V put(K key, V value)</code></p>\n  \n  <p>Associates the specified value with the specified key in this map\n  (optional operation). If the map previously contained a mapping for\n  the key, the old value is replaced by the specified value. (A map m is\n  said to contain a mapping for a key k if and only if m.containsKey(k)\n  would return true.)</p>\n</blockquote>\n\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/6/docs/api/java/util/Map.html</a></p>\n\n<p>For a map to store lists of values, it'd need to be a <code>Multimap</code>. Here's Google's: <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Multimap.html\" rel=\"nofollow noreferrer\">http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Multimap.html</a></p>\n\n<blockquote>\n  <p>A collection similar to a Map, but which may associate multiple values\n  with a single key. If you call put(K, V) twice, with the same key but\n  different values, the multimap contains mappings from the key to both\n  values.</p>\n</blockquote>\n\n<p><strong>Edit: Collision resolution</strong></p>\n\n<p>That's a bit different. A collision happens when two different keys happen to have the same hash code, or two keys with different hash codes happen to map into the same bucket in the underlying array.</p>\n\n<p>Consider <code>HashMap</code>'s source (bits and pieces removed):</p>\n\n<pre><code>public V put(K key, V value) {\n    int hash = hash(key.hashCode());\n    int i = indexFor(hash, table.length);\n    // i is the index where we want to insert the new element\n    addEntry(hash, key, value, i);\n    return null;\n}\n\nvoid addEntry(int hash, K key, V value, int bucketIndex) {\n    // take the entry that's already in that bucket\n    Entry&lt;K,V&gt; e = table[bucketIndex];\n    // and create a new one that points to the old one = linked list\n    table[bucketIndex] = new Entry&lt;&gt;(hash, key, value, e);\n}\n</code></pre>\n\n<p>For those who are curious how the <code>Entry</code> class in <code>HashMap</code> comes to behave like a list, it turns out that <code>HashMap</code> defines its own static <code>Entry</code> class which implements <code>Map.Entry</code>.  You can see for yourself by viewing the source code:</p>\n\n<p><a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/HashMap.java#HashMap.Entry\" rel=\"nofollow noreferrer\"><strong>GrepCode for HashMap</strong></a></p>\n"},{"tags":[],"owner":{"account_id":96860,"reputation":9642,"user_id":263057,"display_name":"Guillaume Poussel"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1529733519,"creation_date":1383160946,"answer_id":19692036,"question_id":19691920,"body_markdown":"In a `HashMap` the key is an object, that contains `hashCode()` and `equals(Object)` methods.\r\n\r\nWhen you insert a new entry into the Map, it checks whether the `hashCode` is already known. Then, it will iterate through all objects with this hashcode, and test their equality with `.equals()`. If an *equal* object is found, the new value replaces the old one. If not, it will create a new entry in the map.\r\n\r\nUsually, talking about maps, you use **collision** when two objects have the same `hashCode` but they are different. They are internally stored in a list.","title":"Collision resolution in Java HashMap","body":"<p>In a <code>HashMap</code> the key is an object, that contains <code>hashCode()</code> and <code>equals(Object)</code> methods.</p>\n\n<p>When you insert a new entry into the Map, it checks whether the <code>hashCode</code> is already known. Then, it will iterate through all objects with this hashcode, and test their equality with <code>.equals()</code>. If an <em>equal</em> object is found, the new value replaces the old one. If not, it will create a new entry in the map.</p>\n\n<p>Usually, talking about maps, you use <strong>collision</strong> when two objects have the same <code>hashCode</code> but they are different. They are internally stored in a list.</p>\n"},{"tags":[],"owner":{"account_id":2855900,"reputation":1876,"user_id":2452184,"accept_rate":17,"display_name":"Rajarshee Mitra"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1640185125,"creation_date":1443275310,"answer_id":32797877,"question_id":19691920,"body_markdown":"First of all, you have got the concept of hashing a little wrong and it has been [rectified by @Sanjay](https://stackoverflow.com/a/19691998/10251345).\r\n\r\nAnd yes, Java indeed implement a collision resolution technique. When two keys get hashed to a same value (as the internal array used is finite in size and at some point the hashcode() method will return same hash value for two different keys) at this time, a linked list is formed at the bucket location where all the informations are entered as an Map.Entry object that contains a key-value pair. Accessing an object via a key will at worst require O(n) if the entry in present in such a lists. Comparison between the key you passed with each key in such list will be done by the equals() method.\r\n\r\nAlthough, from Java 8 , the linked lists are replaced with trees (O(log n))","title":"Collision resolution in Java HashMap","body":"<p>First of all, you have got the concept of hashing a little wrong and it has been <a href=\"https://stackoverflow.com/a/19691998/10251345\">rectified by @Sanjay</a>.</p>\n<p>And yes, Java indeed implement a collision resolution technique. When two keys get hashed to a same value (as the internal array used is finite in size and at some point the hashcode() method will return same hash value for two different keys) at this time, a linked list is formed at the bucket location where all the informations are entered as an Map.Entry object that contains a key-value pair. Accessing an object via a key will at worst require O(n) if the entry in present in such a lists. Comparison between the key you passed with each key in such list will be done by the equals() method.</p>\n<p>Although, from Java 8 , the linked lists are replaced with trees (O(log n))</p>\n"},{"tags":[],"owner":{"account_id":6142728,"reputation":425,"user_id":4789631,"accept_rate":75,"display_name":"Hutashan Chandrakar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1483566868,"creation_date":1483566868,"answer_id":41473884,"question_id":19691920,"body_markdown":"There is difference between collision and duplication.\r\nCollision means hashcode and bucket is same, but in duplicate, it will be same hashcode,same bucket, but here equals method come in picture.  \r\n\r\nCollision detected and you can add element on existing key. but in case of duplication it will replace new value.","title":"Collision resolution in Java HashMap","body":"<p>There is difference between collision and duplication.\nCollision means hashcode and bucket is same, but in duplicate, it will be same hashcode,same bucket, but here equals method come in picture.  </p>\n\n<p>Collision detected and you can add element on existing key. but in case of duplication it will replace new value.</p>\n"},{"tags":[],"owner":{"account_id":5523724,"reputation":22000,"user_id":4385895,"accept_rate":58,"display_name":"Vasu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1540450878,"creation_date":1540449425,"answer_id":52982828,"question_id":19691920,"body_markdown":"Your case is not talking about collision resolution, it is simply replacement of older value with a new value for the same key because Java&#39;s `HashMap` can&#39;t contain duplicates (i.e., multiple **values**) for the same **key**. \r\n\r\nIn your example, the value 17 will be simply replaced with 20 for the same key 10 inside the HashMap.\r\n\r\nIf you are trying to put a different/new value for the same key, it is not the concept of collision resolution, rather it is simply replacing the old value with a new value for the same key. It is how `HashMap` has been designed and you can have a look at the below API (emphasis is mine) taken from [here][1].\r\n\r\n&gt; public V put(K key, V value) \r\n\r\n&gt; Associates the specified value with the\r\n&gt; specified key in this map. **If the map previously contained a mapping\r\n&gt; for the key, the old value is replaced**. \r\n\r\n\r\n----\r\nOn the other hand, collision resolution techniques comes into play only when **multiple keys end up with the same hashcode** (i.e., they fall in the same bucket location) where an entry is already stored. `HashMap` handles the collision resolution by using the concept of chaining i.e., it stores the values in a linked list (or a balanced tree since Java8, depends on the number of entries).\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html#put-K-V-","title":"Collision resolution in Java HashMap","body":"<p>Your case is not talking about collision resolution, it is simply replacement of older value with a new value for the same key because Java's <code>HashMap</code> can't contain duplicates (i.e., multiple <strong>values</strong>) for the same <strong>key</strong>. </p>\n\n<p>In your example, the value 17 will be simply replaced with 20 for the same key 10 inside the HashMap.</p>\n\n<p>If you are trying to put a different/new value for the same key, it is not the concept of collision resolution, rather it is simply replacing the old value with a new value for the same key. It is how <code>HashMap</code> has been designed and you can have a look at the below API (emphasis is mine) taken from <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html#put-K-V-\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<blockquote>\n  <p>public V put(K key, V value) </p>\n  \n  <p>Associates the specified value with the\n  specified key in this map. <strong>If the map previously contained a mapping\n  for the key, the old value is replaced</strong>. </p>\n</blockquote>\n\n<hr>\n\n<p>On the other hand, collision resolution techniques comes into play only when <strong>multiple keys end up with the same hashcode</strong> (i.e., they fall in the same bucket location) where an entry is already stored. <code>HashMap</code> handles the collision resolution by using the concept of chaining i.e., it stores the values in a linked list (or a balanced tree since Java8, depends on the number of entries).</p>\n"},{"tags":[],"owner":{"account_id":14837628,"reputation":41,"user_id":10715224,"display_name":"RAKESH AKUTHOTA"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1543384951,"creation_date":1543383879,"answer_id":53512877,"question_id":19691920,"body_markdown":"When multiple keys end up in same hash code which is present in same bucket.\r\nWhen the same key has different values then the old value will be replaced with new value.\r\n\r\nLiked list converted to balanced Binary tree from java 8 version on wards in worst case scenario.\r\n\r\nCollision happen when 2 distinct keys generate the same hashcode() value.\r\nWhen there are more collisions then there it will leads to worst performance of hashmap.\r\n\r\nObjects which are are equal according to the equals method must return the same hashCode value.\r\nWhen both objects return the same has code then they will be moved into the same bucket.","title":"Collision resolution in Java HashMap","body":"<p>When multiple keys end up in same hash code which is present in same bucket.\nWhen the same key has different values then the old value will be replaced with new value.</p>\n\n<p>Liked list converted to balanced Binary tree from java 8 version on wards in worst case scenario.</p>\n\n<p>Collision happen when 2 distinct keys generate the same hashcode() value.\nWhen there are more collisions then there it will leads to worst performance of hashmap.</p>\n\n<p>Objects which are are equal according to the equals method must return the same hashCode value.\nWhen both objects return the same has code then they will be moved into the same bucket.</p>\n"}],"owner":{"account_id":3515081,"reputation":1120,"user_id":2938723,"accept_rate":44,"display_name":"user2938723"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167078,"favorite_count":0,"down_vote_count":0,"up_vote_count":95,"accepted_answer_id":19691998,"answer_count":9,"score":95,"last_activity_date":1640185125,"creation_date":1383160645,"question_id":19691920,"body_markdown":"Java `HashMap` uses `put` method to insert the K/V pair in `HashMap`. \r\nLets say I have used `put` method and now `HashMap&lt;Integer, Integer&gt;` has one entry with `key` as 10 and `value` as 17.\r\n\r\nIf I insert 10,20 in this `HashMap` it simply replaces the the previous entry with this entry due to collision because of same key 10. \r\n\r\nIf the key collides `HashMap` replaces the old K/V pair with the new K/V pair. \r\n\r\nSo my question is when does the `HashMap` use Chaining collision resolution technique? \r\n\r\nWhy it did not form a `linkedlist` with key as 10 and value as 17,20?\r\n","title":"Collision resolution in Java HashMap","body":"<p>Java <code>HashMap</code> uses <code>put</code> method to insert the K/V pair in <code>HashMap</code>. \nLets say I have used <code>put</code> method and now <code>HashMap&lt;Integer, Integer&gt;</code> has one entry with <code>key</code> as 10 and <code>value</code> as 17.</p>\n\n<p>If I insert 10,20 in this <code>HashMap</code> it simply replaces the the previous entry with this entry due to collision because of same key 10. </p>\n\n<p>If the key collides <code>HashMap</code> replaces the old K/V pair with the new K/V pair. </p>\n\n<p>So my question is when does the <code>HashMap</code> use Chaining collision resolution technique? </p>\n\n<p>Why it did not form a <code>linkedlist</code> with key as 10 and value as 17,20?</p>\n"},{"tags":["java","unit-testing","junit","spring-data-jpa","mockito"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1640182319,"post_id":70450333,"comment_id":124535064,"body_markdown":"why do you make a float, just to parse it to an int? just remove the (int) and the L. Either way, you know the code of your agencyRepository better than we do, so you should check whether or not that method is there","body":"why do you make a float, just to parse it to an int? just remove the (int) and the L. Either way, you know the code of your agencyRepository better than we do, so you should check whether or not that method is there"},{"owner":{"account_id":20683043,"reputation":35,"user_id":15186159,"display_name":"Alessia"},"score":0,"creation_date":1640182456,"post_id":70450333,"comment_id":124535117,"body_markdown":"The only code in my AgencyRepository is `@Repository\npublic interface AgencyRepository extends JpaRepository&lt;Agency, Integer&gt; {}` and I have to pass a parameter to the delete method. I&#39;ve tried passing directly an int (for ex. 1), but the test fails with the same error","body":"The only code in my AgencyRepository is <code>@Repository public interface AgencyRepository extends JpaRepository&lt;Agency, Integer&gt; {}</code> and I have to pass a parameter to the delete method. I&#39;ve tried passing directly an int (for ex. 1), but the test fails with the same error"}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640184624,"creation_date":1640182457,"answer_id":70450407,"question_id":70450333,"body_markdown":"`repo` is a mock, so calling `deleteById` on it won&#39;t actually delete anything. Instead, you could verify that calling the `AgencyService`&#39;s `deleteById` actually calls `AgencyRepository`&#39;s `deleteById`.\r\n\r\n**EDIT:**\\\r\nThe repository&#39;s code uses `findAll`, not `findById`, so you need to make sure you mock that:\r\n\r\n    @Test\r\n    void delete() {\r\n        Agency agency = new Agency();\r\n        agenct.setId((int) 1L);\r\n\r\n        when(agencyRepository.findAll()).thenReturn(Collections.singletonList(agency));\r\n\r\n        agencyService.deleteById((int) 1L);\r\n\r\n        verify(agencyRepository).delteById((int) 1L);\r\n    }","title":"JUnit test to delete an entity by id fails","body":"<p><code>repo</code> is a mock, so calling <code>deleteById</code> on it won't actually delete anything. Instead, you could verify that calling the <code>AgencyService</code>'s <code>deleteById</code> actually calls <code>AgencyRepository</code>'s <code>deleteById</code>.</p>\n<p><strong>EDIT:</strong><br />\nThe repository's code uses <code>findAll</code>, not <code>findById</code>, so you need to make sure you mock that:</p>\n<pre><code>@Test\nvoid delete() {\n    Agency agency = new Agency();\n    agenct.setId((int) 1L);\n\n    when(agencyRepository.findAll()).thenReturn(Collections.singletonList(agency));\n\n    agencyService.deleteById((int) 1L);\n\n    verify(agencyRepository).delteById((int) 1L);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9074935,"reputation":1264,"user_id":6756858,"display_name":"ata"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640183031,"creation_date":1640183031,"answer_id":70450525,"question_id":70450333,"body_markdown":"Not the answer, but your method could be written something like this:\r\n\r\n```java\r\n public void deleteById(Integer id) {\r\n     Agency agency = repo.findById(id).orElseThrow(() -&gt; throw new AgencyNotFoundException(&quot;Agency not found&quot;));\r\n     repo.deleteById(agency.getId());\r\n }\r\n```\r\n\r\nBecause:\r\n - `Optional&lt;Agency&gt; optionalAgency = repo.findAll().stream().filter(agency -&gt; agency.getId().equals(id)).findFirst();` is not efficient. What if you have thousands of agencies? Will you fetch all and filter through all of them just to find by id. You have that method in your repository already.\r\n - `if (optionalAgency.isPresent()) {}` Optional.isPresent is not good practise. Read [here][1] and [this answer][2]\r\n\r\n\r\n  [1]: https://dzone.com/articles/optional-ispresent-is-bad-for-you\r\n  [2]: https://stackoverflow.com/a/26328555/6756858","title":"JUnit test to delete an entity by id fails","body":"<p>Not the answer, but your method could be written something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code> public void deleteById(Integer id) {\n     Agency agency = repo.findById(id).orElseThrow(() -&gt; throw new AgencyNotFoundException(&quot;Agency not found&quot;));\n     repo.deleteById(agency.getId());\n }\n</code></pre>\n<p>Because:</p>\n<ul>\n<li><code>Optional&lt;Agency&gt; optionalAgency = repo.findAll().stream().filter(agency -&gt; agency.getId().equals(id)).findFirst();</code> is not efficient. What if you have thousands of agencies? Will you fetch all and filter through all of them just to find by id. You have that method in your repository already.</li>\n<li><code>if (optionalAgency.isPresent()) {}</code> Optional.isPresent is not good practise. Read <a href=\"https://dzone.com/articles/optional-ispresent-is-bad-for-you\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://stackoverflow.com/a/26328555/6756858\">this answer</a></li>\n</ul>\n"}],"owner":{"account_id":20683043,"reputation":35,"user_id":15186159,"display_name":"Alessia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3604,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1640184624,"creation_date":1640182088,"question_id":70450333,"body_markdown":"I am trying to make a test for the method to delete an entity by id. I&#39;ve written the test for the case when an entity with the given id doesn&#39;t exist, but in case when the entity exists, I&#39;m apparently doing something wrong. This is the delete method from the service. I&#39;m using the `deleteById()` method of the `JpaRepository`.\r\n```\r\n  public void deleteById(Integer id) {\r\n        Optional&lt;Agency&gt; optionalAgency = repo.findAll().stream()\r\n                .filter(agency -&gt; agency.getId().equals(id))\r\n                .findFirst();\r\n\r\n        if (optionalAgency.isPresent()) {\r\n            repo.deleteById(optionalAgency.get().getId());\r\n        } else {\r\n            throw new AgencyNotFoundException(&quot;Agency not found&quot;);\r\n        }\r\n    }\r\n```\r\nAnd this is my test:\r\n```\r\n    @Mock\r\n    private AgencyRepository agencyRepository;\r\n\r\n    @Mock\r\n    private AgencyMapper mapper;\r\n\r\n    @InjectMocks\r\n    private AgencyService agencyService;\r\n\r\n    @Test\r\n    void delete() {\r\n        Agency agency = new Agency();\r\n\r\n        when(agencyRepository.findById(1)).thenReturn(Optional.of(agency));\r\n\r\n        agencyService.deleteById(1);\r\n\r\n        verify(agencyRepository).deleteById(1);\r\n\r\n    }\r\n```\r\nWhat assertion should I make in order to verify that the deletion was successful? The way I&#39;ve tried it it doesn&#39;t work, the result of the test is that an exception is thrown. I&#39;m guessing that the exception is thrown because ```agencyRepository.findById((int) 1L);``` basically doesn&#39;t exist anymore, but I thought maybe there&#39;s a better way to verify the deletion, without searching for the deleted object.","title":"JUnit test to delete an entity by id fails","body":"<p>I am trying to make a test for the method to delete an entity by id. I've written the test for the case when an entity with the given id doesn't exist, but in case when the entity exists, I'm apparently doing something wrong. This is the delete method from the service. I'm using the <code>deleteById()</code> method of the <code>JpaRepository</code>.</p>\n<pre><code>  public void deleteById(Integer id) {\n        Optional&lt;Agency&gt; optionalAgency = repo.findAll().stream()\n                .filter(agency -&gt; agency.getId().equals(id))\n                .findFirst();\n\n        if (optionalAgency.isPresent()) {\n            repo.deleteById(optionalAgency.get().getId());\n        } else {\n            throw new AgencyNotFoundException(&quot;Agency not found&quot;);\n        }\n    }\n</code></pre>\n<p>And this is my test:</p>\n<pre><code>    @Mock\n    private AgencyRepository agencyRepository;\n\n    @Mock\n    private AgencyMapper mapper;\n\n    @InjectMocks\n    private AgencyService agencyService;\n\n    @Test\n    void delete() {\n        Agency agency = new Agency();\n\n        when(agencyRepository.findById(1)).thenReturn(Optional.of(agency));\n\n        agencyService.deleteById(1);\n\n        verify(agencyRepository).deleteById(1);\n\n    }\n</code></pre>\n<p>What assertion should I make in order to verify that the deletion was successful? The way I've tried it it doesn't work, the result of the test is that an exception is thrown. I'm guessing that the exception is thrown because <code>agencyRepository.findById((int) 1L);</code> basically doesn't exist anymore, but I thought maybe there's a better way to verify the deletion, without searching for the deleted object.</p>\n"},{"tags":["java","spring-boot","gradle","jar","executable-jar"],"comments":[{"owner":{"account_id":99405,"reputation":8076,"user_id":268530,"accept_rate":93,"display_name":"Young"},"score":0,"creation_date":1640087437,"post_id":70434528,"comment_id":124507303,"body_markdown":"https://stackoverflow.com/questions/50231736/applicationcontextexception-unable-to-start-servletwebserverapplicationcontext","body":"<a href=\"https://stackoverflow.com/questions/50231736/applicationcontextexception-unable-to-start-servletwebserverapplicationcontext\" title=\"applicationcontextexception unable to start servletwebserverapplicationcontext\">stackoverflow.com/questions/50231736/&hellip;</a>"},{"owner":{"account_id":23709514,"reputation":41,"user_id":17731580,"display_name":"Destan"},"score":0,"creation_date":1640091824,"post_id":70434528,"comment_id":124508879,"body_markdown":"I tried:\n- My main class got @SpringBootApplication and already extends from SpringBootServletInitializer\n- added to every profile spring.main.web-application-type=none\n- Case 3 already done aswell\n- I&#39;m not using tomcat\n- I&#39;m building from a gitlab VM so don&#39;t need to repackage or clean\n- Tried to add spring-boot-starter-parent\n- spring.profiles.active=default\nNothing works","body":"I tried: - My main class got @SpringBootApplication and already extends from SpringBootServletInitializer - added to every profile spring.main.web-application-type=none - Case 3 already done aswell - I&#39;m not using tomcat - I&#39;m building from a gitlab VM so don&#39;t need to repackage or clean - Tried to add spring-boot-starter-parent - spring.profiles.active=default Nothing works"}],"answers":[{"tags":[],"owner":{"account_id":23709514,"reputation":41,"user_id":17731580,"display_name":"Destan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640184609,"creation_date":1640184609,"answer_id":70450888,"question_id":70434528,"body_markdown":"I found the problem. When I&#39;m upgrading from springboot 2.4.X to 2.6.X, now gradle build is generating a new jar &quot;plain&quot; with my casual jar. And I renamed my jar to the same name. So instead of using the biggest jar, I was using the smallest. Just added that to my gradle.build:\r\n\r\n    jar {\r\n\tenabled = false\r\n\t}\r\nSo now, it&#39;s not creating the &quot;plain&quot; jar and everything is working fine\r\n\r\n","title":"Can&#39;t run my jar after upgrading SpringBoot from 2.4.X to 2.6.X","body":"<p>I found the problem. When I'm upgrading from springboot 2.4.X to 2.6.X, now gradle build is generating a new jar &quot;plain&quot; with my casual jar. And I renamed my jar to the same name. So instead of using the biggest jar, I was using the smallest. Just added that to my gradle.build:</p>\n<pre><code>jar {\nenabled = false\n}\n</code></pre>\n<p>So now, it's not creating the &quot;plain&quot; jar and everything is working fine</p>\n"}],"owner":{"account_id":23709514,"reputation":41,"user_id":17731580,"display_name":"Destan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":526,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70450888,"answer_count":1,"score":2,"last_activity_date":1640184609,"creation_date":1640085109,"question_id":70434528,"body_markdown":"I upgraded my library recently from gradle 5.X to 7.3.1 and upgraded Spring-Boot from 2.4.X to 2.6.X but I&#39;m facing an issues. I was using gradle build to create a jar and execute this jar on my server and that was working fine with Spring-Boot 2.4.X but now with 2.6.X I got some issues:\r\n\r\n&gt; no main manifest attribute\r\n\r\nSo I added to my build.gradle\r\n\r\n    jar {\r\n\t   manifest {\r\n\t\t   attributes &quot;Main-Class&quot;: &quot;my.package.MainClass&quot;\r\n\t   }\r\n\r\n\t   from {\r\n\t\t   configurations.compileClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n\t\t   configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n\t   }\r\n\t}\r\nAnd now i&#39;m getting the error \r\n\r\n&gt; Could not find or load main class my.package.MainClass\r\n\r\nIf I&#39;m switching back to 2.4.X it&#39;s working fine. \r\nMy jar from : \r\n- spring-boot 2.4.X -&gt; 90Mo\r\n- spring-boot 2.6.X -&gt; 500 Ko\r\n\r\nSo I tried to create a fat jar with shadowJar and got this error\r\n\r\n&gt; ERROR org.springframework.boot.SpringApplication - Application run failed\r\nDec 21 10:04:09 vps-11602ed1 project[12706]: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.\r\n\r\nIf someone got an answer about how to make it works with Spring-boot 2.6.X.\r\n\r\nThanks in advance\r\n\r\n","title":"Can&#39;t run my jar after upgrading SpringBoot from 2.4.X to 2.6.X","body":"<p>I upgraded my library recently from gradle 5.X to 7.3.1 and upgraded Spring-Boot from 2.4.X to 2.6.X but I'm facing an issues. I was using gradle build to create a jar and execute this jar on my server and that was working fine with Spring-Boot 2.4.X but now with 2.6.X I got some issues:</p>\n<blockquote>\n<p>no main manifest attribute</p>\n</blockquote>\n<p>So I added to my build.gradle</p>\n<pre><code>jar {\n   manifest {\n       attributes &quot;Main-Class&quot;: &quot;my.package.MainClass&quot;\n   }\n\n   from {\n       configurations.compileClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n       configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n   }\n}\n</code></pre>\n<p>And now i'm getting the error</p>\n<blockquote>\n<p>Could not find or load main class my.package.MainClass</p>\n</blockquote>\n<p>If I'm switching back to 2.4.X it's working fine.\nMy jar from :</p>\n<ul>\n<li>spring-boot 2.4.X -&gt; 90Mo</li>\n<li>spring-boot 2.6.X -&gt; 500 Ko</li>\n</ul>\n<p>So I tried to create a fat jar with shadowJar and got this error</p>\n<blockquote>\n<p>ERROR org.springframework.boot.SpringApplication - Application run failed\nDec 21 10:04:09 vps-11602ed1 project[12706]: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.</p>\n</blockquote>\n<p>If someone got an answer about how to make it works with Spring-boot 2.6.X.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","spring","spring-boot","hazelcast"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1640184793,"post_id":70450879,"comment_id":124536090,"body_markdown":"&quot;because i use @Autowired it is creating new instance for every service&quot; - um, no? Where is it created? If it comes from spring auto config, there will be the single instance shared across all services.","body":"&quot;because i use @Autowired it is creating new instance for every service&quot; - um, no? Where is it created? If it comes from spring auto config, there will be the single instance shared across all services."},{"owner":{"account_id":8901665,"reputation":315,"user_id":6644926,"accept_rate":12,"display_name":"Владимир Гичев"},"score":0,"creation_date":1640185053,"post_id":70450879,"comment_id":124536199,"body_markdown":"On my main class i`m using \n```AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(\n\t\t\t\tHazelcastClientApplication.class);\n\t\tcontext.getBean(BaseService.class).loadInstance(clientConfig);``` to initialize the hazelcast Instance at the start and it is working. When i system.out.println it it is ok but then on service is again null. Can you explain me why?","body":"On my main class i`m using  <code>AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext( \t\t\t\tHazelcastClientApplication.class); \t\tcontext.getBean(BaseService.class).loadInstance(clientConf&zwnj;&#8203;ig);</code> to initialize the hazelcast Instance at the start and it is working. When i system.out.println it it is ok but then on service is again null. Can you explain me why?"},{"owner":{"account_id":383617,"reputation":1175,"user_id":739583,"display_name":"Nicolas"},"score":0,"creation_date":1640185216,"post_id":70450879,"comment_id":124536256,"body_markdown":"@ВладимирГичев How much do you know about Spring and Spring Boot? Do you how about scopes, e.g., Singleton? Do you how that Spring Boot will create a HazelcastInstance for you if you provide a hazelcast.xml or a Config bean?","body":"@ВладимирГичев How much do you know about Spring and Spring Boot? Do you how about scopes, e.g., Singleton? Do you how that Spring Boot will create a HazelcastInstance for you if you provide a hazelcast.xml or a Config bean?"},{"owner":{"account_id":8901665,"reputation":315,"user_id":6644926,"accept_rate":12,"display_name":"Владимир Гичев"},"score":0,"creation_date":1640185520,"post_id":70450879,"comment_id":124536392,"body_markdown":"@Nicolas\nHow much do you know about Spring and Spring Boot - mid level\nDo you how about scopes, e.g., Singleton - yes\nDo you how that Spring Boot will create a HazelcastInstance for you if you provide a hazelcast.xml or a Config bean? - No, until now i used very old hazelcast and now i&#39;m trying to migrate to 3.9.3","body":"@Nicolas How much do you know about Spring and Spring Boot - mid level Do you how about scopes, e.g., Singleton - yes Do you how that Spring Boot will create a HazelcastInstance for you if you provide a hazelcast.xml or a Config bean? - No, until now i used very old hazelcast and now i&#39;m trying to migrate to 3.9.3"},{"owner":{"account_id":383617,"reputation":1175,"user_id":739583,"display_name":"Nicolas"},"score":0,"creation_date":1640185705,"post_id":70450879,"comment_id":124536473,"body_markdown":"First, migrate to at least Hazelcast 4. Then, remove the Blackboard component. Finally, add a hazelcast.xml to trigger Spring Boot to create a Singleton-scoped Hazelcast bean. Inject it wherever you need (please use construction injection)","body":"First, migrate to at least Hazelcast 4. Then, remove the Blackboard component. Finally, add a hazelcast.xml to trigger Spring Boot to create a Singleton-scoped Hazelcast bean. Inject it wherever you need (please use construction injection)"},{"owner":{"account_id":8901665,"reputation":315,"user_id":6644926,"accept_rate":12,"display_name":"Владимир Гичев"},"score":0,"creation_date":1640874331,"post_id":70450879,"comment_id":124680616,"body_markdown":"@Nicolas I migrated to hazelcast 4.2.4 but I don&#39;t want to use any xml/yaml files in my application. Is there any other way to create this Hazelcast bean?","body":"@Nicolas I migrated to hazelcast 4.2.4 but I don&#39;t want to use any xml/yaml files in my application. Is there any other way to create this Hazelcast bean?"}],"owner":{"account_id":8901665,"reputation":315,"user_id":6644926,"accept_rate":12,"display_name":"Владимир Гичев"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640184576,"creation_date":1640184576,"question_id":70450879,"body_markdown":"I&#39;m creating an application based on Hazelcast and spring-boot-starter-web. The application structure is:\r\nBook controller-&gt; BookService interface-&gt; BookServiceImplementation-&gt; put into hazelcast queue\r\n\r\nAuthor controller-&gt; AuthorService interface-&gt; AuthorServiceImplementation-&gt; put into hazelcast queue.\r\n\r\nFor that purpose i need one class that contains hazelcastInstance to share it in all services so i created blackboard interface but because i use ```@Autowired``` it is creating new instance for every service and i need to set hazelcast instance again.\r\nMy code so far:\r\n\r\n**Controller:**\r\n```\r\n@GetMapping(&quot;book&quot;)\r\npublic ResponseEntity&lt;Void&gt; getBookDetails(\r\n\t\t@RequestParam(value = &quot;bookId&quot;, required = false) Long bookId) {\r\n\tbookService.add(bookId);\r\nreturn new ResponseEntity&lt;Void&gt;(HttpStatus.OK);\r\n}\r\n```\r\n**Service impl:**\r\n```\r\n@Service(&quot;bookService&quot;)\r\npublic class BookServiceImpl extends BaseService implements BookService {\r\n@Override\r\n\tpublic void add(Long bookId) {\r\n\t\t\t\t\tblackboard.add(bookId, Listeners.BOOK_QUEUE_NAME);\r\n\t\t\t\r\n\t}\r\n```\r\n\r\n**BaseService:**\r\n```\r\npublic class BaseService {\r\n@Autowired\r\n\tprotected Blackboard blackboard;\r\n\tpublic void loadInstance(ClientConfig clientConfig) {\r\n\t\tHazelcastInstance hazelcastInstanceClient = HazelcastClient.newHazelcastClient(clientConfig);\r\n\t\tblackboard.setHazelcastInstance(hazelcastInstanceClient);\r\n\t}\r\n}\r\n```\r\n**Blackboard interface impl:**\r\n```\r\n@Component(&quot;blackboard&quot;)\r\npublic class BlackboardImpl implements Blackboard {\r\n\r\n\tprivate HazelcastInstance hazelcastInstance;\r\n\r\n\t@Override\r\n\tpublic HazelcastInstance getHazelcastInstance() {\r\n\r\n\t\treturn hazelcastInstance;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void setHazelcastInstance(HazelcastInstance hazelcastInstance) {\r\n\t\tthis.hazelcastInstance = hazelcastInstance;\r\n\t}\r\n\r\n\t\r\n\t@Override\r\n\tpublic boolean add(Object obj, String collectionId) {\r\n\r\n\t\tIQueue&lt;Object&gt; queue = hazelcastInstance.getQueue(collectionId);\r\n\t\treturn queue.add(obj);\r\n\t}\r\n    }\r\n```\r\n\r\n\r\n","title":"Share one interface instance on whole application","body":"<p>I'm creating an application based on Hazelcast and spring-boot-starter-web. The application structure is:\nBook controller-&gt; BookService interface-&gt; BookServiceImplementation-&gt; put into hazelcast queue</p>\n<p>Author controller-&gt; AuthorService interface-&gt; AuthorServiceImplementation-&gt; put into hazelcast queue.</p>\n<p>For that purpose i need one class that contains hazelcastInstance to share it in all services so i created blackboard interface but because i use <code>@Autowired</code> it is creating new instance for every service and i need to set hazelcast instance again.\nMy code so far:</p>\n<p><strong>Controller:</strong></p>\n<pre><code>@GetMapping(&quot;book&quot;)\npublic ResponseEntity&lt;Void&gt; getBookDetails(\n        @RequestParam(value = &quot;bookId&quot;, required = false) Long bookId) {\n    bookService.add(bookId);\nreturn new ResponseEntity&lt;Void&gt;(HttpStatus.OK);\n}\n</code></pre>\n<p><strong>Service impl:</strong></p>\n<pre><code>@Service(&quot;bookService&quot;)\npublic class BookServiceImpl extends BaseService implements BookService {\n@Override\n    public void add(Long bookId) {\n                    blackboard.add(bookId, Listeners.BOOK_QUEUE_NAME);\n            \n    }\n</code></pre>\n<p><strong>BaseService:</strong></p>\n<pre><code>public class BaseService {\n@Autowired\n    protected Blackboard blackboard;\n    public void loadInstance(ClientConfig clientConfig) {\n        HazelcastInstance hazelcastInstanceClient = HazelcastClient.newHazelcastClient(clientConfig);\n        blackboard.setHazelcastInstance(hazelcastInstanceClient);\n    }\n}\n</code></pre>\n<p><strong>Blackboard interface impl:</strong></p>\n<pre><code>@Component(&quot;blackboard&quot;)\npublic class BlackboardImpl implements Blackboard {\n\n    private HazelcastInstance hazelcastInstance;\n\n    @Override\n    public HazelcastInstance getHazelcastInstance() {\n\n        return hazelcastInstance;\n    }\n\n    @Override\n    public void setHazelcastInstance(HazelcastInstance hazelcastInstance) {\n        this.hazelcastInstance = hazelcastInstance;\n    }\n\n    \n    @Override\n    public boolean add(Object obj, String collectionId) {\n\n        IQueue&lt;Object&gt; queue = hazelcastInstance.getQueue(collectionId);\n        return queue.add(obj);\n    }\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-webflux"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1639563138,"post_id":70361851,"comment_id":124378416,"body_markdown":"JPA cannot be made reactive as JPA is blocking by design. So this simply won&#39;t work.","body":"JPA cannot be made reactive as JPA is blocking by design. So this simply won&#39;t work."},{"owner":{"account_id":1344997,"reputation":1348,"user_id":1285928,"accept_rate":56,"display_name":"user1285928"},"score":0,"creation_date":1639563275,"post_id":70361851,"comment_id":124378466,"body_markdown":"What are the alternative solutions?","body":"What are the alternative solutions?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1639563520,"post_id":70361851,"comment_id":124378547,"body_markdown":"Not using reactive with JPA. It is blocking nonetheless so trying to shoehorn this into a reactive stack only complicates things. But you can always just return a list (just use the regular `findAll` and turn the `List` or `Stream` into a `Flux`, still blocking as all results are being fetched and not in a reactive way).","body":"Not using reactive with JPA. It is blocking nonetheless so trying to shoehorn this into a reactive stack only complicates things. But you can always just return a list (just use the regular <code>findAll</code> and turn the <code>List</code> or <code>Stream</code> into a <code>Flux</code>, still blocking as all results are being fetched and not in a reactive way)."},{"owner":{"account_id":1344997,"reputation":1348,"user_id":1285928,"accept_rate":56,"display_name":"user1285928"},"score":0,"creation_date":1639563770,"post_id":70361851,"comment_id":124378649,"body_markdown":"Can you show me code example, please how to make this convert?","body":"Can you show me code example, please how to make this convert?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1639564643,"post_id":70361851,"comment_id":124378991,"body_markdown":"Just use the regular `JpaRepostiry` and in the calling code transform the result of the `findAll` call using the `Flux` factory methods.","body":"Just use the regular <code>JpaRepostiry</code> and in the calling code transform the result of the <code>findAll</code> call using the <code>Flux</code> factory methods."}],"answers":[{"tags":[],"owner":{"account_id":23702470,"reputation":76,"user_id":17725465,"display_name":"Saman Sarem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640184216,"creation_date":1640184216,"answer_id":70450811,"question_id":70361851,"body_markdown":"When you would like to find by **Specification** you should declare in method name such as ```Flux&lt;ActivePairs&gt; findBySpecification(Specification specification, Pageable pageable);```","title":"No property findAll found for type Pairs","body":"<p>When you would like to find by <strong>Specification</strong> you should declare in method name such as <code>Flux&lt;ActivePairs&gt; findBySpecification(Specification specification, Pageable pageable);</code></p>\n"}],"owner":{"account_id":1344997,"reputation":1348,"user_id":1285928,"accept_rate":56,"display_name":"user1285928"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640184216,"creation_date":1639563086,"question_id":70361851,"body_markdown":"I want to create a reactive repository using `ReactiveCrudRepository`\r\n\r\nI tried this code:\r\n\r\n    import io.nexo.admin.console.domain.ActivePairs;\r\n    import org.springframework.data.domain.Pageable;\r\n    import org.springframework.data.jpa.domain.Specification;\r\n    import org.springframework.data.repository.reactive.ReactiveCrudRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    import reactor.core.publisher.Flux;\r\n    \r\n    @Repository\r\n    public interface ActivePairsSearchRepository extends ReactiveCrudRepository&lt;ActivePairs, Long&gt; {\r\n        Flux&lt;ActivePairs&gt; findAll(Specification spec, Pageable pageable);\r\n    }\r\n\r\nBut during deployment I get error:\r\n\r\n    Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract reactor.core.publisher.Flux io.nexo.admin.console.repository.ActivePairsSearchRepository.findAll(org.springframework.data.jpa.domain.Specification,org.springframework.data.domain.Pageable)! No property findAll found for type Pairs\r\n\r\nDo you know how I can fix this issue?","title":"No property findAll found for type Pairs","body":"<p>I want to create a reactive repository using <code>ReactiveCrudRepository</code></p>\n<p>I tried this code:</p>\n<pre><code>import io.nexo.admin.console.domain.ActivePairs;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.jpa.domain.Specification;\nimport org.springframework.data.repository.reactive.ReactiveCrudRepository;\nimport org.springframework.stereotype.Repository;\nimport reactor.core.publisher.Flux;\n\n@Repository\npublic interface ActivePairsSearchRepository extends ReactiveCrudRepository&lt;ActivePairs, Long&gt; {\n    Flux&lt;ActivePairs&gt; findAll(Specification spec, Pageable pageable);\n}\n</code></pre>\n<p>But during deployment I get error:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract reactor.core.publisher.Flux io.nexo.admin.console.repository.ActivePairsSearchRepository.findAll(org.springframework.data.jpa.domain.Specification,org.springframework.data.domain.Pageable)! No property findAll found for type Pairs\n</code></pre>\n<p>Do you know how I can fix this issue?</p>\n"},{"tags":["java","excel","stream","apache-poi","iostream"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1594299549,"post_id":62814976,"comment_id":111081879,"body_markdown":"Such kinds of questions are not answerable without having a complete example. See https://stackoverflow.com/questions/61221133/apache-poi-is-taking-extremely-large-time-to-write-into-the-workbook/61223866#61223866. There I provided a such and also have told my results.","body":"Such kinds of questions are not answerable without having a complete example. See <a href=\"https://stackoverflow.com/questions/61221133/apache-poi-is-taking-extremely-large-time-to-write-into-the-workbook/61223866#61223866\" title=\"apache poi is taking extremely large time to write into the workbook\">stackoverflow.com/questions/61221133/&hellip;</a>. There I provided a such and also have told my results."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1594307465,"post_id":62814976,"comment_id":111086483,"body_markdown":"Java piped I/O (needing an extra thread) would be ideal. But adding a sufficiently large initial capacity would help too: `new ByteArrayOutputStream(10_000_000)`. `openBufferedStream` probably does not improve things.","body":"Java piped I/O (needing an extra thread) would be ideal. But adding a sufficiently large initial capacity would help too: <code>new ByteArrayOutputStream(10_000_000)</code>. <code>openBufferedStream</code> probably does not improve things."},{"owner":{"account_id":967624,"reputation":10828,"user_id":990750,"accept_rate":50,"display_name":"Tarik"},"score":0,"creation_date":1594307931,"post_id":62814976,"comment_id":111086761,"body_markdown":"If you have enough memory, use a memory stream then dump the content of the memory stream to file. I faced this kind of problem with a library dealing with DB4 files. It avoids continuously hitting the OS to perform IO operations.","body":"If you have enough memory, use a memory stream then dump the content of the memory stream to file. I faced this kind of problem with a library dealing with DB4 files. It avoids continuously hitting the OS to perform IO operations."}],"answers":[{"tags":[],"owner":{"account_id":7091735,"reputation":2510,"user_id":5426703,"display_name":"Spyros K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640184014,"creation_date":1594306766,"answer_id":62817824,"question_id":62814976,"body_markdown":"A [Minimal Reproducible Example][1] would help to provide a more complete answer.\r\n\r\nHowever the following code uses PipedStreams to accelerate the operations shown in the code of the question. However the benefits you get from this approach cannot be larger than the fastest of the 2 parallel processes. Or, stated differently, the final duration cannot be faster than the slower of the parallel operations.\r\nIn a PipedStreams approach you need 2 Streams.\r\nA PipedOutputStream where data will be written and a PipedInputStream were data will be consumed.\r\nTo benefit from this approach you need to run these two operations in parallel. \r\n\r\n    public StreamedContent generateStreamRep(final String fileName, final Workbook wb) {\r\n        try (final PipedOutputStream dsf = new PipedOutputStream ();\r\n             final PipedInputStream sink=new PipedInputStream (dsf);){     \r\n\r\n            final ExecutorService executorService= Executors.newSingleThreadExecutor();\r\n\r\n            //Write to output stream\r\n            executorService.execute(()-&gt;wb.write(dsf));\r\n\r\n           //read from input stream\r\n           file = new DefaultStreamedContent(sink, &quot;xlsx&quot;, fileName);\r\n\r\n            executorService.shutdown();\r\n\r\n             //wait until task is finished or until a maximum time, which ever comes first. Normally in this case the task is already finished\r\n            executorService.awaitTermination(2,TimeUnit.Minutes);\r\n      \r\n\r\n       }\r\n\r\n\r\n  [1]: https://stackoverflow.com/help/minimal-reproducible-example","title":"Writing huge excel file(20k records) is taking more then 1 minute java?","body":"<p>A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal Reproducible Example</a> would help to provide a more complete answer.</p>\n<p>However the following code uses PipedStreams to accelerate the operations shown in the code of the question. However the benefits you get from this approach cannot be larger than the fastest of the 2 parallel processes. Or, stated differently, the final duration cannot be faster than the slower of the parallel operations.\nIn a PipedStreams approach you need 2 Streams.\nA PipedOutputStream where data will be written and a PipedInputStream were data will be consumed.\nTo benefit from this approach you need to run these two operations in parallel.</p>\n<pre><code>public StreamedContent generateStreamRep(final String fileName, final Workbook wb) {\n    try (final PipedOutputStream dsf = new PipedOutputStream ();\n         final PipedInputStream sink=new PipedInputStream (dsf);){     \n\n        final ExecutorService executorService= Executors.newSingleThreadExecutor();\n\n        //Write to output stream\n        executorService.execute(()-&gt;wb.write(dsf));\n\n       //read from input stream\n       file = new DefaultStreamedContent(sink, &quot;xlsx&quot;, fileName);\n\n        executorService.shutdown();\n\n         //wait until task is finished or until a maximum time, which ever comes first. Normally in this case the task is already finished\n        executorService.awaitTermination(2,TimeUnit.Minutes);\n  \n\n   }\n</code></pre>\n"}],"owner":{"account_id":6622954,"reputation":417,"user_id":5114012,"accept_rate":35,"display_name":"Gopi Lal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640184014,"creation_date":1594298187,"question_id":62814976,"body_markdown":"Hi i am using apache POI and for writing into workbook i am using SXSSFWorkbook since data will be huge,\r\n\r\nEveything looks good, but while converting workbook to inputstream it&#39;s taking huge time for exporting reports.\r\n\r\nHere is my code\r\n\r\n    public StreamedContent generateStreamRep(String fileName, Workbook wb) {\r\n        try (ByteArrayOutputStream dsf = new ByteArrayOutputStream();){ \t\r\n    \t\twb.write(dsf); \t\t\r\n    \t    file = new DefaultStreamedContent(ByteSource.wrap(dsf.toByteArray()).openStream(), &quot;xlsx&quot;, fileName);\r\n       }\r\n\r\nI was using IOUtils now switched to\r\n**com.google.common.io.ByteSource**\r\n\r\nLooked into PipedStreams but not getting proper resource.","title":"Writing huge excel file(20k records) is taking more then 1 minute java?","body":"<p>Hi i am using apache POI and for writing into workbook i am using SXSSFWorkbook since data will be huge,</p>\n<p>Eveything looks good, but while converting workbook to inputstream it's taking huge time for exporting reports.</p>\n<p>Here is my code</p>\n<pre><code>public StreamedContent generateStreamRep(String fileName, Workbook wb) {\n    try (ByteArrayOutputStream dsf = new ByteArrayOutputStream();){     \n        wb.write(dsf);      \n        file = new DefaultStreamedContent(ByteSource.wrap(dsf.toByteArray()).openStream(), &quot;xlsx&quot;, fileName);\n   }\n</code></pre>\n<p>I was using IOUtils now switched to\n<strong>com.google.common.io.ByteSource</strong></p>\n<p>Looked into PipedStreams but not getting proper resource.</p>\n"},{"tags":["java","caching","volatile"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":4,"creation_date":1640158940,"post_id":70445601,"comment_id":124526619,"body_markdown":"Not sure your benchmark, without significant changes, tests much. Are you even sure the JVM has left interpreted mode? Not convinced your code would even be JIT’ed","body":"Not sure your benchmark, without significant changes, tests much. Are you even sure the JVM has left interpreted mode? Not convinced your code would even be JIT’ed"},{"owner":{"account_id":8853132,"reputation":360,"user_id":11719624,"display_name":"Denis Kisina"},"score":1,"creation_date":1640159196,"post_id":70445601,"comment_id":124526702,"body_markdown":"Yes, the variable will be read from memory because the volatile guarantees that the JVM reads it from memory.\nAs for the benchmark test am with @Bor","body":"Yes, the variable will be read from memory because the volatile guarantees that the JVM reads it from memory. As for the benchmark test am with @Bor"},{"owner":{"account_id":13737414,"reputation":613,"user_id":10147834,"display_name":"Sara"},"score":0,"creation_date":1640160066,"post_id":70445601,"comment_id":124526971,"body_markdown":"@BoristheSpider I merely assumed that the variable i would be stored in CPU cache, mainly because at any given point of time its value is &lt; 1MB.","body":"@BoristheSpider I merely assumed that the variable i would be stored in CPU cache, mainly because at any given point of time its value is &lt; 1MB."},{"owner":{"account_id":17832421,"reputation":4234,"user_id":12952113,"display_name":"Alex Sveshnikov"},"score":1,"creation_date":1640160315,"post_id":70445601,"comment_id":124527039,"body_markdown":"The value stored in a variable has nothing to do with it being stored in cache or main memory. You are probably thinking about a large array, which cannot fit in cache as a whole, but right now you have just a single int variable, which takes just 4 bytes of memory.","body":"The value stored in a variable has nothing to do with it being stored in cache or main memory. You are probably thinking about a large array, which cannot fit in cache as a whole, but right now you have just a single int variable, which takes just 4 bytes of memory."},{"owner":{"account_id":13737414,"reputation":613,"user_id":10147834,"display_name":"Sara"},"score":0,"creation_date":1640160436,"post_id":70445601,"comment_id":124527077,"body_markdown":"@Alex So, doesn&#39;t the size of the variable define if it could be CPU cached or not? This is what my instructor has mentioned in my last class. I think I need to research more into this.","body":"@Alex So, doesn&#39;t the size of the variable define if it could be CPU cached or not? This is what my instructor has mentioned in my last class. I think I need to research more into this."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1640164812,"post_id":70445601,"comment_id":124528554,"body_markdown":"by logic, there must be some disadvantage if using `volatile`, otherwise it would be the default and not even exist. By JMH test it is a big difference (factor 20 for loop and summing the variable {println not used})","body":"by logic, there must be some disadvantage if using <code>volatile</code>, otherwise it would be the default and not even exist. By JMH test it is a big difference (factor 20 for loop and summing the variable {println not used})"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1640160768,"creation_date":1640160768,"answer_id":70445994,"question_id":70445601,"body_markdown":"I think that the answer is &quot;probably yes&quot; ... for current Java implementations.\r\n\r\nThere are two reasons that we can&#39;t be sure.\r\n\r\n1.  The Java language specification doesn&#39;t actually say anything about registers, CPU caches or anything like that.  What it actually says is that there is a *happens before* relationship between one thread writing the volatile and another thread (subsequently) reading it.\r\n\r\n2.  While it is reasonable to assume that this will affect caching in the case where there are multiple threads, if the JIT compiler was able to deduce that the `volatile` variable was *thread confined* for a given execution of your application, it could reason that it can cache the variable.\r\n\r\n------------------\r\n\r\nThat is the theory.  \r\n\r\nIf there was a measurable performance difference, you would be able to measure it in a properly written benchmark.  (Though you may get different results depending on the Java version and your hardware.)\r\n\r\nHowever the current version of your benchmark has a number of flaws which would make any results it gives doubtful.  If you want to get meaningful results, I strongly recommend that you read the following Q&amp;A.\r\n\r\n  - https://stackoverflow.com/questions/504103.\r\n\r\n(Unfortunately some of the links in some of the answers seem to be broken ...)","title":"Using Java volatile keyword in non-thread scenario","body":"<p>I think that the answer is &quot;probably yes&quot; ... for current Java implementations.</p>\n<p>There are two reasons that we can't be sure.</p>\n<ol>\n<li><p>The Java language specification doesn't actually say anything about registers, CPU caches or anything like that.  What it actually says is that there is a <em>happens before</em> relationship between one thread writing the volatile and another thread (subsequently) reading it.</p>\n</li>\n<li><p>While it is reasonable to assume that this will affect caching in the case where there are multiple threads, if the JIT compiler was able to deduce that the <code>volatile</code> variable was <em>thread confined</em> for a given execution of your application, it could reason that it can cache the variable.</p>\n</li>\n</ol>\n<hr />\n<p>That is the theory.</p>\n<p>If there was a measurable performance difference, you would be able to measure it in a properly written benchmark.  (Though you may get different results depending on the Java version and your hardware.)</p>\n<p>However the current version of your benchmark has a number of flaws which would make any results it gives doubtful.  If you want to get meaningful results, I strongly recommend that you read the following Q&amp;A.</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/504103\">How do I write a correct micro-benchmark in Java?</a>.</li>\n</ul>\n<p>(Unfortunately some of the links in some of the answers seem to be broken ...)</p>\n"},{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1640183895,"creation_date":1640173333,"answer_id":70448502,"question_id":70445601,"body_markdown":"The premise of your benchmark is flawed; the cache is the source of truth.  The cache coherence protocol makes sure that CPU caches are coherent; memory is just a spill bucket for whatever doesn&#39;t fit into the cache since most caches are write-behind (not write-through). In other words; a write of a volatile doesn&#39;t need to be written to main memory; it is sufficient to write it to the cache.\r\n\r\nA few examples where writing to the cache isn&#39;t desired:\r\n- I/O DMA: you want to prevent writing to cache because otherwise, main memory and CPU cache could become incoherent.\r\n- Non-temporal data: e.g. you are processing some huge data set and you only access it once, there is no point in caching it. \r\n\r\nBut this is outside of the reach of a regular Java volatile.\r\n\r\nThere is a price to pay using volatile:\r\n1) Atomicity guarantees.\r\n2) Loads and stores can&#39;t be optimized out. This rules out many compiler optimizations. Volatile will not prevent using CPU registers; it will only prevent &#39;caching&#39; the content of a variable in a register &#39;indefinitely&#39;.\r\n3) Ordering guarantees in the form of fences. On the X86 in the above case, the price is at the volatile store. The store needs to wait for the store and all earlier stores to commit to the cache.\r\n\r\nEspecially the last 2 will impact volatile performance.\r\n\r\nApart from that, your benchmark is flawed. First of all, I would switch to JMH as others already pointed out. It will take care of quite a few typical benchmark errors like warmup and dead code elimination. Also, you should not be using a System.out in the benchmark since this will completely dominate the performance.\r\n","title":"Using Java volatile keyword in non-thread scenario","body":"<p>The premise of your benchmark is flawed; the cache is the source of truth.  The cache coherence protocol makes sure that CPU caches are coherent; memory is just a spill bucket for whatever doesn't fit into the cache since most caches are write-behind (not write-through). In other words; a write of a volatile doesn't need to be written to main memory; it is sufficient to write it to the cache.</p>\n<p>A few examples where writing to the cache isn't desired:</p>\n<ul>\n<li>I/O DMA: you want to prevent writing to cache because otherwise, main memory and CPU cache could become incoherent.</li>\n<li>Non-temporal data: e.g. you are processing some huge data set and you only access it once, there is no point in caching it.</li>\n</ul>\n<p>But this is outside of the reach of a regular Java volatile.</p>\n<p>There is a price to pay using volatile:</p>\n<ol>\n<li>Atomicity guarantees.</li>\n<li>Loads and stores can't be optimized out. This rules out many compiler optimizations. Volatile will not prevent using CPU registers; it will only prevent 'caching' the content of a variable in a register 'indefinitely'.</li>\n<li>Ordering guarantees in the form of fences. On the X86 in the above case, the price is at the volatile store. The store needs to wait for the store and all earlier stores to commit to the cache.</li>\n</ol>\n<p>Especially the last 2 will impact volatile performance.</p>\n<p>Apart from that, your benchmark is flawed. First of all, I would switch to JMH as others already pointed out. It will take care of quite a few typical benchmark errors like warmup and dead code elimination. Also, you should not be using a System.out in the benchmark since this will completely dominate the performance.</p>\n"}],"owner":{"account_id":13737414,"reputation":613,"user_id":10147834,"display_name":"Sara"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1640183895,"creation_date":1640158366,"question_id":70445601,"body_markdown":"I understand that the Java keyword **volatile** is used in multi-threading context; the main purpose is to read from the memory rather than from the cache or even if read from the cache, it would be updated first.\r\n\r\nIn the below example, there is no multi-threading concept. I want to understand if the variable **i** would be cached as a part of code optimization and hence read from cpu cache rather than memory? If yes, if the variable is declared as volatile, will it certainly be read from the memory? \r\n\r\nI have run the program multiple times, by adding and also by deleting the volatile keyword; but, since there is no constant time for the for loop, I was unable to come to a conclusion if more time is consumed when the variable is declared as volatile. \r\n\r\nAll I want to see is that the time taken from CPU cache is actually less than when it is declared as volatile. \r\n\r\nIs my understanding even right? If yes, how can I see the concept in working, with a good record of the times for both CPU cache reads and memory reads? \r\n\r\n\r\n    import java.time.Duration;\r\n    import java.time.Instant;\r\n    \r\n    public class Test {\r\n        \r\n    \tvolatile static int i=0;\r\n    //\tstatic int i=0;\r\n    \r\n        public static void main(String[] args) {\r\n    \t    Instant start = Instant.now();\r\n    \r\n    \t\tfor (i=0; i&lt;838_860_8; i++) { // 2 power 23; ~ 1 MB CPU Cache\r\n    \t\t\tSystem.out.println(&quot;i:&quot; + i);\r\n    \t\t}\r\n    \t    Instant end  = Instant.now();\r\n    \t    \r\n    \t    long timeElapsed = Duration.between(start, end).getSeconds();\r\n    \t    System.out.println(&quot;timeElapsed: &quot; + timeElapsed + &quot; seconds.&quot;);\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\n","title":"Using Java volatile keyword in non-thread scenario","body":"<p>I understand that the Java keyword <strong>volatile</strong> is used in multi-threading context; the main purpose is to read from the memory rather than from the cache or even if read from the cache, it would be updated first.</p>\n<p>In the below example, there is no multi-threading concept. I want to understand if the variable <strong>i</strong> would be cached as a part of code optimization and hence read from cpu cache rather than memory? If yes, if the variable is declared as volatile, will it certainly be read from the memory?</p>\n<p>I have run the program multiple times, by adding and also by deleting the volatile keyword; but, since there is no constant time for the for loop, I was unable to come to a conclusion if more time is consumed when the variable is declared as volatile.</p>\n<p>All I want to see is that the time taken from CPU cache is actually less than when it is declared as volatile.</p>\n<p>Is my understanding even right? If yes, how can I see the concept in working, with a good record of the times for both CPU cache reads and memory reads?</p>\n<pre><code>import java.time.Duration;\nimport java.time.Instant;\n\npublic class Test {\n    \n    volatile static int i=0;\n//  static int i=0;\n\n    public static void main(String[] args) {\n        Instant start = Instant.now();\n\n        for (i=0; i&lt;838_860_8; i++) { // 2 power 23; ~ 1 MB CPU Cache\n            System.out.println(&quot;i:&quot; + i);\n        }\n        Instant end  = Instant.now();\n        \n        long timeElapsed = Duration.between(start, end).getSeconds();\n        System.out.println(&quot;timeElapsed: &quot; + timeElapsed + &quot; seconds.&quot;);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","performance","hibernate","one-to-one"],"comments":[{"owner":{"account_id":5434664,"reputation":31,"user_id":4324492,"display_name":"Greg Crider"},"score":0,"creation_date":1639845655,"post_id":70279037,"comment_id":124454698,"body_markdown":"I changed some of the narrative to point out that the migration also involves going from JDK 11 to JDK 16, in case that is relevant.","body":"I changed some of the narrative to point out that the migration also involves going from JDK 11 to JDK 16, in case that is relevant."},{"owner":{"account_id":5434664,"reputation":31,"user_id":4324492,"display_name":"Greg Crider"},"score":0,"creation_date":1639864812,"post_id":70279037,"comment_id":124458646,"body_markdown":"With regard to **Update 5**, my tests were initially done with log4j1-2.16. When I switched over to logback and slf4j-1.7.5 (no log4j) for the same tests, the times were fast as expected.","body":"With regard to <b>Update 5</b>, my tests were initially done with log4j1-2.16. When I switched over to logback and slf4j-1.7.5 (no log4j) for the same tests, the times were fast as expected."}],"answers":[{"tags":[],"owner":{"account_id":5434664,"reputation":31,"user_id":4324492,"display_name":"Greg Crider"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640183787,"creation_date":1640183787,"answer_id":70450705,"question_id":70279037,"body_markdown":"In the end, I found my own answer to this problem.\r\n\r\nFirst, there was no problem at all with Hibernate 5.x and one-to-one bidirectional associations. The problem had everything to do with debug/trace logging. With Hibernate 5.x and bytecode enhancement, a lot of new logging was added. Not only is logging done for each row-wise entity, but also for each column/property (testing for column lazy loading?).\r\n\r\nSecond, my entity classes have special formatting for toString(). Invocations of these toString()s can take a lot of time to execute, and then multiply if over hundreds of entities.\r\n\r\nThird, there must be some bug between jboss-logging and log4j1-12.x. Internally, jboss-logging#doLogf() checks for whether or not the logging level is enabled, however, it is still reaching the String formatter. Here is a snapshot from VisualVM with the application running in Tomcat; you can see that 700ms was added for debug formatting, even though it would never be printed out to the log file:\r\n\r\n[![VisualVM CPU Sample Snapshot - Tomcat 9][1]][1]\r\n\r\nIf the Hibernate code had debug/trace level checks before the logging calls, this would not happen.\r\n\r\nIn the end, with Tomcat, I removed all log4j and slf4j-log4j jar files. That solved the problem.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/M9Gzu.png","title":"Legacy Project Migrated to Hibernate 5.6 (Java 16) Has Slow one-to-one bidirectional Performance","body":"<p>In the end, I found my own answer to this problem.</p>\n<p>First, there was no problem at all with Hibernate 5.x and one-to-one bidirectional associations. The problem had everything to do with debug/trace logging. With Hibernate 5.x and bytecode enhancement, a lot of new logging was added. Not only is logging done for each row-wise entity, but also for each column/property (testing for column lazy loading?).</p>\n<p>Second, my entity classes have special formatting for toString(). Invocations of these toString()s can take a lot of time to execute, and then multiply if over hundreds of entities.</p>\n<p>Third, there must be some bug between jboss-logging and log4j1-12.x. Internally, jboss-logging#doLogf() checks for whether or not the logging level is enabled, however, it is still reaching the String formatter. Here is a snapshot from VisualVM with the application running in Tomcat; you can see that 700ms was added for debug formatting, even though it would never be printed out to the log file:</p>\n<p><a href=\"https://i.stack.imgur.com/M9Gzu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M9Gzu.png\" alt=\"VisualVM CPU Sample Snapshot - Tomcat 9\" /></a></p>\n<p>If the Hibernate code had debug/trace level checks before the logging calls, this would not happen.</p>\n<p>In the end, with Tomcat, I removed all log4j and slf4j-log4j jar files. That solved the problem.</p>\n"}],"owner":{"account_id":5434664,"reputation":31,"user_id":4324492,"display_name":"Greg Crider"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":486,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640183787,"creation_date":1638983371,"question_id":70279037,"body_markdown":"I am migrating a legacy hibernate project from version 4.3 (with Java 11) to 5.6 (with Java 16). The HBM files below map an object graph of **Jurisdiction -&gt; Unit -&gt; UnitAux**. Units are lazy-loaded, and UnitAux is one-to-one with Unit. Under version 4.3, when initiazing Units, it would take about 100ms to load. Under version 5.6, it now takes 600-800ms.\r\n\r\nThese are the abbreviated HBM files for the 3 entities:\r\n\r\n**Jurisdiction.hbm.xml**\r\n```\r\n&lt;hibernate-mapping&gt;\r\n  &lt;class name=&quot;com.edc.c2c.core.model.impl.Jurisdiction&quot; table=&quot;Jurisdiction&quot; schema=&quot;domain&quot; dynamic-update=&quot;true&quot;&gt;\r\n    \r\n\t&lt;set name=&quot;units&quot; \r\n\t\tinverse=&quot;true&quot; cascade=&quot;all&quot; lazy=&quot;true&quot; fetch=&quot;select&quot; \r\n\t\toptimistic-lock=&quot;false&quot; batch-size=&quot;1000&quot; where=&quot;recordStatus = &#39;A&#39;&quot;&gt;\r\n  \t\t&lt;key&gt;\r\n    \t\t&lt;column name=&quot;jurisdictionId&quot;/&gt;\r\n  \t\t&lt;/key&gt;\r\n  \t\t&lt;one-to-many class=&quot;com.edc.c2c.core.model.impl.Unit&quot;/&gt;\r\n\t&lt;/set&gt;\r\n\r\n  &lt;/class&gt;\r\n&lt;/hibernate-mapping&gt;\r\n```\r\n\r\n**Unit.hbm.xml**\r\n```\r\n&lt;hibernate-mapping&gt;\r\n  &lt;class name=&quot;com.edc.c2c.core.model.impl.Unit&quot; table=&quot;Unit&quot; schema=&quot;domain&quot; dynamic-update=&quot;false&quot;&gt;\r\n  \r\n  &lt;composite-id&gt;\r\n\t\t&lt;key-property name=&quot;id&quot;                   column=&quot;id&quot;             type=&quot;long&quot;/&gt;\r\n\t\t&lt;key-property name=&quot;owningJurisdictionId&quot; column=&quot;jurisdictionId&quot; type=&quot;long&quot;/&gt;\r\n\t&lt;/composite-id&gt;\r\n  \t\r\n\t&lt;one-to-one name=&quot;unitAux&quot; class=&quot;com.edc.c2c.core.model.impl.UnitAux&quot; cascade=&quot;all&quot; fetch=&quot;join&quot; property-ref=&quot;unit&quot;/&gt;\r\n  \r\n  &lt;/class&gt;\r\n&lt;/hibernate-mapping&gt;\r\n```\r\n\r\n**UnitAux.hbm.xml**\r\n```\r\n&lt;hibernate-mapping&gt;\r\n  &lt;class name=&quot;com.edc.c2c.core.model.impl.UnitAux&quot; table=&quot;UnitAux&quot; schema=&quot;domain&quot; dynamic-update=&quot;true&quot;&gt;\r\n  \r\n  &lt;composite-id&gt;\r\n\t\t&lt;key-property name=&quot;id&quot;             column=&quot;id&quot;             type=&quot;long&quot;/&gt;\r\n\t\t&lt;key-property name=&quot;jurisdictionId&quot; column=&quot;jurisdictionId&quot; type=&quot;long&quot;/&gt;\r\n\t&lt;/composite-id&gt;\r\n  \t\r\n\t&lt;many-to-one name=&quot;unit&quot; class=&quot;com.edc.c2c.core.model.impl.Unit&quot; unique=&quot;true&quot; not-null=&quot;true&quot; \r\n\t\tcascade=&quot;all&quot; insert=&quot;false&quot; update=&quot;false&quot;&gt;\r\n\t\t&lt;column name=&quot;id&quot;/&gt;\r\n\t\t&lt;column name=&quot;jurisdictionId&quot;/&gt;\r\n\t&lt;/many-to-one&gt;\r\n  \t\r\n  &lt;/class&gt;\r\n&lt;/hibernate-mapping&gt;\r\n```\r\n\r\nIf I comment out the one-to-one in **Unit.hbm.xml**, the unit(s) Set loads fast, as expected.\r\n\r\nIn the UnitAux.hbm.xml, I replaced the many-to-one with a bag containing a one-to-many, something like this:\r\n\r\n```\r\n&lt;bag name=&quot;unitGroup&quot; inverse=&quot;true&quot; cascade=&quot;all&quot; lazy=&quot;true&quot; fetch=&quot;select&quot;&gt;\r\n  &lt;key&gt;\r\n      &lt;column name=&quot;id&quot;/&gt;\r\n      &lt;column name=&quot;jurisdictionId&quot;/&gt;\r\n  &lt;/key&gt;\r\n  &lt;one-to-many class=&quot;com.edc.c2c.core.model.impl.unit&quot;/&gt;\r\n&lt;/bag&gt;\r\n```\r\n\r\nWith this, the UnitAux class had a List&lt;Unit&gt; property called unitGroup. With the bag, the unit(s) load time dropped to 300ms.\r\n\r\nI&#39;m at a loss as to how to get the hibernate 5.6 to perform at the same load times as 4.3.\r\n\r\nAny ideas or suggestions would be greatly appreciated.\r\n\r\n**Update:** I forgot to mention, both versions effectively produce the same SQL. Something about how the objects themselves are initialized must be causing the slow down.\r\n\r\n**Update 2:** The session statistics between 4.3 and 5.6 were very similar; not enough to explain the performance difference. My investigation has shown that the delays appear to be centered around initializing the entities. Specifically, the call to \r\n\r\n```\r\nLoader.initializeEntitiesAndCollections( final List hydratedObjects, final Object resultSetId, final SharedSessionContractImplementor session, final boolean readOnly, List&lt;AfterLoadAction&gt; afterLoadActions)\r\n```\r\n\r\nThe time spent here is where the latency lies. Every property in each entity is tested for bytecode enhancement. In my test, I&#39;m loading 600+ Units, along with the 600+ UnitAux entities. Is than an alternate loader that doesn&#39;t do this?\r\n\r\n**Update 3:** Changing the association for Unit -&gt; UnitAux to unidirectional reduced the latency by roughly half. Now it&#39;s only 3x slower.\r\n\r\n**Update 4:** This is very strange. After experimenting with a variety of things, I made the following discovery. If I enable logging at the INFO (or ERROR) level for hibernate (see below config), everything runs fast, at the expected timing:\r\n\r\n```\r\n&lt;logger name=&quot;org.hibernate&quot; additivity=&quot;false&quot;&gt;\r\n    &lt;level value=&quot;info&quot;/&gt;\r\n    &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\r\n&lt;/logger&gt;\r\n```\r\n\r\nIf logging isn&#39;t declared, it runs slow (meaning nothing is specifically configured for hibernate). Is this something peculiar with jboss logging? I&#39;m using jboss-logging-3.4.2.Final.jar. Does it run slower if nothing is explicitly declared in the log4j.xml? It&#39;s like the classic problem of having debug statements that never get used, but Java has to build all of the string values, which leads to extreme latency.\r\n\r\n**Update 5:** I just did a spot check of the source code for Hibernate Core 5.6.0-Final. 141 classes use log.trace, and there are 249 class that use log.debug. Most of the log.trace calls don&#39;t pre-check to see if TRACE is enabled. The log.debug calls are checked more frequently, but there are stil a ton that don&#39;t pre-check to see if DEBUG is enabled.","title":"Legacy Project Migrated to Hibernate 5.6 (Java 16) Has Slow one-to-one bidirectional Performance","body":"<p>I am migrating a legacy hibernate project from version 4.3 (with Java 11) to 5.6 (with Java 16). The HBM files below map an object graph of <strong>Jurisdiction -&gt; Unit -&gt; UnitAux</strong>. Units are lazy-loaded, and UnitAux is one-to-one with Unit. Under version 4.3, when initiazing Units, it would take about 100ms to load. Under version 5.6, it now takes 600-800ms.</p>\n<p>These are the abbreviated HBM files for the 3 entities:</p>\n<p><strong>Jurisdiction.hbm.xml</strong></p>\n<pre><code>&lt;hibernate-mapping&gt;\n  &lt;class name=&quot;com.edc.c2c.core.model.impl.Jurisdiction&quot; table=&quot;Jurisdiction&quot; schema=&quot;domain&quot; dynamic-update=&quot;true&quot;&gt;\n    \n    &lt;set name=&quot;units&quot; \n        inverse=&quot;true&quot; cascade=&quot;all&quot; lazy=&quot;true&quot; fetch=&quot;select&quot; \n        optimistic-lock=&quot;false&quot; batch-size=&quot;1000&quot; where=&quot;recordStatus = 'A'&quot;&gt;\n        &lt;key&gt;\n            &lt;column name=&quot;jurisdictionId&quot;/&gt;\n        &lt;/key&gt;\n        &lt;one-to-many class=&quot;com.edc.c2c.core.model.impl.Unit&quot;/&gt;\n    &lt;/set&gt;\n\n  &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n<p><strong>Unit.hbm.xml</strong></p>\n<pre><code>&lt;hibernate-mapping&gt;\n  &lt;class name=&quot;com.edc.c2c.core.model.impl.Unit&quot; table=&quot;Unit&quot; schema=&quot;domain&quot; dynamic-update=&quot;false&quot;&gt;\n  \n  &lt;composite-id&gt;\n        &lt;key-property name=&quot;id&quot;                   column=&quot;id&quot;             type=&quot;long&quot;/&gt;\n        &lt;key-property name=&quot;owningJurisdictionId&quot; column=&quot;jurisdictionId&quot; type=&quot;long&quot;/&gt;\n    &lt;/composite-id&gt;\n    \n    &lt;one-to-one name=&quot;unitAux&quot; class=&quot;com.edc.c2c.core.model.impl.UnitAux&quot; cascade=&quot;all&quot; fetch=&quot;join&quot; property-ref=&quot;unit&quot;/&gt;\n  \n  &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n<p><strong>UnitAux.hbm.xml</strong></p>\n<pre><code>&lt;hibernate-mapping&gt;\n  &lt;class name=&quot;com.edc.c2c.core.model.impl.UnitAux&quot; table=&quot;UnitAux&quot; schema=&quot;domain&quot; dynamic-update=&quot;true&quot;&gt;\n  \n  &lt;composite-id&gt;\n        &lt;key-property name=&quot;id&quot;             column=&quot;id&quot;             type=&quot;long&quot;/&gt;\n        &lt;key-property name=&quot;jurisdictionId&quot; column=&quot;jurisdictionId&quot; type=&quot;long&quot;/&gt;\n    &lt;/composite-id&gt;\n    \n    &lt;many-to-one name=&quot;unit&quot; class=&quot;com.edc.c2c.core.model.impl.Unit&quot; unique=&quot;true&quot; not-null=&quot;true&quot; \n        cascade=&quot;all&quot; insert=&quot;false&quot; update=&quot;false&quot;&gt;\n        &lt;column name=&quot;id&quot;/&gt;\n        &lt;column name=&quot;jurisdictionId&quot;/&gt;\n    &lt;/many-to-one&gt;\n    \n  &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n<p>If I comment out the one-to-one in <strong>Unit.hbm.xml</strong>, the unit(s) Set loads fast, as expected.</p>\n<p>In the UnitAux.hbm.xml, I replaced the many-to-one with a bag containing a one-to-many, something like this:</p>\n<pre><code>&lt;bag name=&quot;unitGroup&quot; inverse=&quot;true&quot; cascade=&quot;all&quot; lazy=&quot;true&quot; fetch=&quot;select&quot;&gt;\n  &lt;key&gt;\n      &lt;column name=&quot;id&quot;/&gt;\n      &lt;column name=&quot;jurisdictionId&quot;/&gt;\n  &lt;/key&gt;\n  &lt;one-to-many class=&quot;com.edc.c2c.core.model.impl.unit&quot;/&gt;\n&lt;/bag&gt;\n</code></pre>\n<p>With this, the UnitAux class had a List property called unitGroup. With the bag, the unit(s) load time dropped to 300ms.</p>\n<p>I'm at a loss as to how to get the hibernate 5.6 to perform at the same load times as 4.3.</p>\n<p>Any ideas or suggestions would be greatly appreciated.</p>\n<p><strong>Update:</strong> I forgot to mention, both versions effectively produce the same SQL. Something about how the objects themselves are initialized must be causing the slow down.</p>\n<p><strong>Update 2:</strong> The session statistics between 4.3 and 5.6 were very similar; not enough to explain the performance difference. My investigation has shown that the delays appear to be centered around initializing the entities. Specifically, the call to</p>\n<pre><code>Loader.initializeEntitiesAndCollections( final List hydratedObjects, final Object resultSetId, final SharedSessionContractImplementor session, final boolean readOnly, List&lt;AfterLoadAction&gt; afterLoadActions)\n</code></pre>\n<p>The time spent here is where the latency lies. Every property in each entity is tested for bytecode enhancement. In my test, I'm loading 600+ Units, along with the 600+ UnitAux entities. Is than an alternate loader that doesn't do this?</p>\n<p><strong>Update 3:</strong> Changing the association for Unit -&gt; UnitAux to unidirectional reduced the latency by roughly half. Now it's only 3x slower.</p>\n<p><strong>Update 4:</strong> This is very strange. After experimenting with a variety of things, I made the following discovery. If I enable logging at the INFO (or ERROR) level for hibernate (see below config), everything runs fast, at the expected timing:</p>\n<pre><code>&lt;logger name=&quot;org.hibernate&quot; additivity=&quot;false&quot;&gt;\n    &lt;level value=&quot;info&quot;/&gt;\n    &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\n&lt;/logger&gt;\n</code></pre>\n<p>If logging isn't declared, it runs slow (meaning nothing is specifically configured for hibernate). Is this something peculiar with jboss logging? I'm using jboss-logging-3.4.2.Final.jar. Does it run slower if nothing is explicitly declared in the log4j.xml? It's like the classic problem of having debug statements that never get used, but Java has to build all of the string values, which leads to extreme latency.</p>\n<p><strong>Update 5:</strong> I just did a spot check of the source code for Hibernate Core 5.6.0-Final. 141 classes use log.trace, and there are 249 class that use log.debug. Most of the log.trace calls don't pre-check to see if TRACE is enabled. The log.debug calls are checked more frequently, but there are stil a ton that don't pre-check to see if DEBUG is enabled.</p>\n"},{"tags":["java","postgresql","hibernate","optimistic-locking"],"answers":[{"tags":[],"owner":{"account_id":8633322,"reputation":218393,"user_id":6464308,"display_name":"Laurenz Albe"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1624322949,"creation_date":1624322949,"answer_id":68076235,"question_id":68075307,"body_markdown":"Don&#39;t mix up `REPEATABLE READ` and `SERIALIZABLE`: the latter is stronger than the former, and the former does not incur additional performance costs. `REPEATABLE READ` is enough for optimistic locking.\r\n\r\nI would normally prefer optimistic locking with database techniques, as this will be cheaper. There is, however, one case in which I would prefer optimistic locking on the application side: if the resulting database transaction would take long.\r\n\r\nWith `REPEATABLE READ`, you have to perform the `SELECT` and the final `UPDATE` in the same database transaction. Now transactions have to be short for the database to work well, so if there is for example a user interaction involved, using `REPEATABLE READ` transactions would be a non-starter.\r\n\r\nIf you want to know what is bad about long `REPEATABLE READ` transactions:\r\n\r\n1. they hold locks, potentially blocking concurrent activity indefinitely long (imagine you want to run an `ALTER TABLE` in this database)\r\n\r\n2. they prevent the progress of autovacuum, thereby bloating your tables","title":"When would you use Hibernate optimistic lock over postgres serializable isolation level?","body":"<p>Don't mix up <code>REPEATABLE READ</code> and <code>SERIALIZABLE</code>: the latter is stronger than the former, and the former does not incur additional performance costs. <code>REPEATABLE READ</code> is enough for optimistic locking.</p>\n<p>I would normally prefer optimistic locking with database techniques, as this will be cheaper. There is, however, one case in which I would prefer optimistic locking on the application side: if the resulting database transaction would take long.</p>\n<p>With <code>REPEATABLE READ</code>, you have to perform the <code>SELECT</code> and the final <code>UPDATE</code> in the same database transaction. Now transactions have to be short for the database to work well, so if there is for example a user interaction involved, using <code>REPEATABLE READ</code> transactions would be a non-starter.</p>\n<p>If you want to know what is bad about long <code>REPEATABLE READ</code> transactions:</p>\n<ol>\n<li><p>they hold locks, potentially blocking concurrent activity indefinitely long (imagine you want to run an <code>ALTER TABLE</code> in this database)</p>\n</li>\n<li><p>they prevent the progress of autovacuum, thereby bloating your tables</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":962360,"reputation":2794,"user_id":986437,"accept_rate":53,"display_name":"GionJh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640183622,"creation_date":1640086658,"answer_id":70434818,"question_id":68075307,"body_markdown":"One use case would be Long conversations, see here: https://vladmihalcea.com/preventing-lost-updates-in-long-conversations/)\r\n\r\nIn this case though in order to avoid lost updates, ([see here](https://stackoverflow.com/questions/16888951/is-optimistic-locking-absolutely-safe.)) you should use Optimistic locking in addition to `REPEATABLE READ` isolation level if using `postgres`, in mysql I think `SERIALIZABLE` would be needed.","title":"When would you use Hibernate optimistic lock over postgres serializable isolation level?","body":"<p>One use case would be Long conversations, see here: <a href=\"https://vladmihalcea.com/preventing-lost-updates-in-long-conversations/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/preventing-lost-updates-in-long-conversations/</a>)</p>\n<p>In this case though in order to avoid lost updates, (<a href=\"https://stackoverflow.com/questions/16888951/is-optimistic-locking-absolutely-safe.\">see here</a>) you should use Optimistic locking in addition to <code>REPEATABLE READ</code> isolation level if using <code>postgres</code>, in mysql I think <code>SERIALIZABLE</code> would be needed.</p>\n"}],"owner":{"account_id":10909625,"reputation":3249,"user_id":8019439,"accept_rate":58,"display_name":"Almas Abdrazak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1012,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":68076235,"answer_count":2,"score":4,"last_activity_date":1640183622,"creation_date":1624313389,"question_id":68075307,"body_markdown":"Good day , I understand what is a serializable isolation level and how it differs from `REPEATABLE READ` in Postgres. Serializable transaction is able to detect read write cycles so only the first commit will succeed . \r\n\r\nWith this in mind, does it make sense to use `Hibernate&#39;s` optimistic locking based on row versioning  ? The row versioning will behave in exactly the same manner, if version column was updated then Java exception will be thrown which will rollback the transaction. Moreover, according to [Postgres wiki][1] , the trigger has to be created if some updates were done out of application level code (like plain sql query ran by psql). So in my humble opinion , Serializable level is a drop in replacement for Optimistic locking , is it so or there are some use cases where you would prefer Optimistic locking instead ?  \r\n\r\n\r\n  [1]: https://wiki.postgresql.org/wiki/Hibernate_oplocks","title":"When would you use Hibernate optimistic lock over postgres serializable isolation level?","body":"<p>Good day , I understand what is a serializable isolation level and how it differs from <code>REPEATABLE READ</code> in Postgres. Serializable transaction is able to detect read write cycles so only the first commit will succeed .</p>\n<p>With this in mind, does it make sense to use <code>Hibernate's</code> optimistic locking based on row versioning  ? The row versioning will behave in exactly the same manner, if version column was updated then Java exception will be thrown which will rollback the transaction. Moreover, according to <a href=\"https://wiki.postgresql.org/wiki/Hibernate_oplocks\" rel=\"nofollow noreferrer\">Postgres wiki</a> , the trigger has to be created if some updates were done out of application level code (like plain sql query ran by psql). So in my humble opinion , Serializable level is a drop in replacement for Optimistic locking , is it so or there are some use cases where you would prefer Optimistic locking instead ?</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","log4j2"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1640153727,"post_id":70444826,"comment_id":124525345,"body_markdown":"That depends on how you build your lambdas. Hopefully the answer is that they all use the same version, which is set in your parent pom :-)","body":"That depends on how you build your lambdas. Hopefully the answer is that they all use the same version, which is set in your parent pom :-)"}],"answers":[{"tags":[],"owner":{"account_id":1459602,"reputation":9525,"user_id":1374267,"accept_rate":94,"display_name":"Yannick Blondeau"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640156690,"creation_date":1640156690,"answer_id":70445346,"question_id":70444826,"body_markdown":"It is most likely that AWS has already got you covered.\r\n\r\nFrom https://aws.amazon.com/security/security-bulletins/AWS-2021-006/:\r\n\r\n&gt; **AWS Lambda**\r\n&gt; \r\n&gt; AWS Lambda does not include Log4j2 in its managed runtimes or base\r\n&gt; container images. These are therefore not affected by the issue\r\n&gt; described in CVE-2021-44228 and CVE-2021-45046.\r\n&gt; \r\n&gt; For cases where a customer function includes an impacted Log4j2\r\n&gt; version, we have applied a change to the Lambda Java managed runtimes\r\n&gt; and base container images (Java 8, Java 8 on AL2, and Java 11) that\r\n&gt; helps to mitigate the issues in CVE-2021-44228 and CVE-2021-45046.\r\n&gt; Customers using managed runtimes will have the change applied\r\n&gt; automatically.\r\n&gt; \r\n&gt; Customers using container images will need to rebuild from the latest\r\n&gt; base container image, and redeploy.\r\n&gt; \r\n&gt; Independent of this change, we strongly encourage all customers whose\r\n&gt; functions include Log4j2 to update to the latest version.\r\n&gt; Specifically, customers using the aws-lambda-java-log4j2 library in\r\n&gt; their functions should update to version 1.4.0 and redeploy their\r\n&gt; functions. This version updates the underlying Log4j2 utility\r\n&gt; dependencies to version 2.16.0. The updated aws-lambda-java-log4j2\r\n&gt; binary is available at the Maven repository and its source code is\r\n&gt; available in Github.","title":"How to quickly check AWS Lambdas with Log4j2 library","body":"<p>It is most likely that AWS has already got you covered.</p>\n<p>From <a href=\"https://aws.amazon.com/security/security-bulletins/AWS-2021-006/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/security/security-bulletins/AWS-2021-006/</a>:</p>\n<blockquote>\n<p><strong>AWS Lambda</strong></p>\n<p>AWS Lambda does not include Log4j2 in its managed runtimes or base\ncontainer images. These are therefore not affected by the issue\ndescribed in CVE-2021-44228 and CVE-2021-45046.</p>\n<p>For cases where a customer function includes an impacted Log4j2\nversion, we have applied a change to the Lambda Java managed runtimes\nand base container images (Java 8, Java 8 on AL2, and Java 11) that\nhelps to mitigate the issues in CVE-2021-44228 and CVE-2021-45046.\nCustomers using managed runtimes will have the change applied\nautomatically.</p>\n<p>Customers using container images will need to rebuild from the latest\nbase container image, and redeploy.</p>\n<p>Independent of this change, we strongly encourage all customers whose\nfunctions include Log4j2 to update to the latest version.\nSpecifically, customers using the aws-lambda-java-log4j2 library in\ntheir functions should update to version 1.4.0 and redeploy their\nfunctions. This version updates the underlying Log4j2 utility\ndependencies to version 2.16.0. The updated aws-lambda-java-log4j2\nbinary is available at the Maven repository and its source code is\navailable in Github.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640181523,"creation_date":1640181523,"answer_id":70450218,"question_id":70444826,"body_markdown":"It will be much easier to examine your build scripts and their output, but assuming that you can&#39;t do that ...\r\n\r\nTo check your existing functions, you&#39;ll need to download the function code. If you run `aws lambda get-function` you should see a `Code` element, with a URL that points to an AWS server (for example, `prod-04-2014-tasks.s3.us-east-1.amazonaws.com`). This is a public URL, and you can use `wget` or `curl` to download the Lambda&#39;s deployment bundle from it.\r\n\r\nThen, unpack the deployment bundle. If it contains JAR files, simply look for the presence of a vulnerable Log4J version.\r\n\r\nIf, however, it&#39;s an &quot;uberjar&quot;, which just contains classfiles, then you&#39;ll need to look at the date on the file `MessagePatternConverter.class`. If it&#39;s before 2021-12-05 then you are vulnerable. Look for a date of 2021-12-20 to get the latest version (2.17.0).","title":"How to quickly check AWS Lambdas with Log4j2 library","body":"<p>It will be much easier to examine your build scripts and their output, but assuming that you can't do that ...</p>\n<p>To check your existing functions, you'll need to download the function code. If you run <code>aws lambda get-function</code> you should see a <code>Code</code> element, with a URL that points to an AWS server (for example, <code>prod-04-2014-tasks.s3.us-east-1.amazonaws.com</code>). This is a public URL, and you can use <code>wget</code> or <code>curl</code> to download the Lambda's deployment bundle from it.</p>\n<p>Then, unpack the deployment bundle. If it contains JAR files, simply look for the presence of a vulnerable Log4J version.</p>\n<p>If, however, it's an &quot;uberjar&quot;, which just contains classfiles, then you'll need to look at the date on the file <code>MessagePatternConverter.class</code>. If it's before 2021-12-05 then you are vulnerable. Look for a date of 2021-12-20 to get the latest version (2.17.0).</p>\n"}],"owner":{"account_id":23469794,"reputation":41,"user_id":17523447,"display_name":"Gnay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70450218,"answer_count":2,"score":1,"last_activity_date":1640183423,"creation_date":1640152781,"question_id":70444826,"body_markdown":"In an environment which have more than 100 Lambda functions using Java 8 runtime, how can I quickly check if any of Lambda is using a Log4j 2 vulnerable version?","title":"How to quickly check AWS Lambdas with Log4j2 library","body":"<p>In an environment which have more than 100 Lambda functions using Java 8 runtime, how can I quickly check if any of Lambda is using a Log4j 2 vulnerable version?</p>\n"},{"tags":["java","android","touch","android-linearlayout"],"answers":[{"tags":[],"owner":{"account_id":3311831,"reputation":89,"user_id":2785155,"display_name":"Joe Mattioni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640183136,"creation_date":1640183136,"answer_id":70450548,"question_id":70440981,"body_markdown":"Well, this appears to be a clash between material design and older UI design support functions in Android. The main fix for my issue was to REMOVE the style setting from the button definitions:\r\n\r\n```\r\nstyle=&quot;@style/ClassButton&quot;\r\n```\r\n\r\nThe other change that allowed retaining the &quot;ripple&quot; touch animation was to change the button background:\r\n\r\n```\r\nandroid:background=&quot;@drawable/btn_default_ripple&quot;\r\n```\r\n\r\nwhere btn_default_ripple.xml is a drawable that wraps a typical button background drawable within the ripple tag:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;ripple xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:color=&quot;?android:colorControlHighlight&quot;&gt;\r\n    &lt;item android:drawable=&quot;@drawable/btn_default_bg&quot; /&gt;\r\n&lt;/ripple&gt;\r\n```\r\nI forgot to mention the dependency for material being used, it was:\r\n\r\n```\r\nimplementation &#39;com.google.android.material:material:1.3.0&#39;\r\n```\r\n\r\nThese changes seem to have eliminated the odd touch animations.\r\n","title":"Why is LinearLayout touch animation occurring on wrong element?","body":"<p>Well, this appears to be a clash between material design and older UI design support functions in Android. The main fix for my issue was to REMOVE the style setting from the button definitions:</p>\n<pre><code>style=&quot;@style/ClassButton&quot;\n</code></pre>\n<p>The other change that allowed retaining the &quot;ripple&quot; touch animation was to change the button background:</p>\n<pre><code>android:background=&quot;@drawable/btn_default_ripple&quot;\n</code></pre>\n<p>where btn_default_ripple.xml is a drawable that wraps a typical button background drawable within the ripple tag:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;ripple xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        android:color=&quot;?android:colorControlHighlight&quot;&gt;\n    &lt;item android:drawable=&quot;@drawable/btn_default_bg&quot; /&gt;\n&lt;/ripple&gt;\n</code></pre>\n<p>I forgot to mention the dependency for material being used, it was:</p>\n<pre><code>implementation 'com.google.android.material:material:1.3.0'\n</code></pre>\n<p>These changes seem to have eliminated the odd touch animations.</p>\n"}],"owner":{"account_id":3311831,"reputation":89,"user_id":2785155,"display_name":"Joe Mattioni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70450548,"answer_count":1,"score":0,"last_activity_date":1640183136,"creation_date":1640116792,"question_id":70440981,"body_markdown":"I have an Android Fragment consisting of nested LinearLayouts. The bottom of the screen consists of 4 LinearLayouts that act as buttons (class_btn_1, class_btn_2, class_btn_3, and class_btn_4). The program is Android/Java. Everything works in the code as expected. But, the system&#39;s touch animation for any of the &quot;buttons&quot; always appears on the 4th button, regardless of which of the 4 buttons are tapped. Anyone know why that may be?\r\n\r\nConfig info:\r\n```\r\n        minSdkVersion 27 // API version for Moto G5 is 27\r\n        targetSdkVersion 31\r\n```\r\n\r\nVersions of dependencies:\r\n\r\n```\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.2&#39;\r\n    implementation &#39;androidx.preference:preference:1.1.1&#39;\r\n```\r\n\r\nXml for the Fragment definition. The buttons are near the bottom of the definition.\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;layout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n  &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n      android:layout_width=&quot;match_parent&quot;\r\n      android:layout_height=&quot;match_parent&quot;\r\n      android:background=&quot;?attr/colorButtonNormal&quot;\r\n      android:focusable=&quot;false&quot;\r\n      tools:context=&quot;com.google.learning.brain.mobile.transfer.android.MainActivity&quot;&gt;\r\n\r\n    &lt;SurfaceView\r\n        android:id=&quot;@+id/preparedImagePreview&quot;\r\n        android:layout_width=&quot;280dp&quot;\r\n        android:layout_height=&quot;280dp&quot;\r\n        android:layout_marginTop=&quot;4dp&quot;\r\n        android:visibility=&quot;visible&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;@+id/classes_bar&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@+id/classes_bar&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/sharpness&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/ValueNotSet&quot;\r\n        android:textSize=&quot;12sp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@+id/preparedImagePreview&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/className&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;4dp&quot;\r\n        android:text=&quot;@string/unclassified&quot;\r\n        android:textColor=&quot;@color/design_default_color_on_secondary&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@+id/classImageStats&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.25&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@id/preparedImagePreview&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/preparedImagePreview&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/classImageStats&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;4dp&quot;\r\n        android:text=&quot;@string/ValueNotSet&quot;\r\n        android:textColor=&quot;@color/design_default_color_on_secondary&quot;\r\n        android:visibility=&quot;visible&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;@id/preparedImagePreview&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@+id/className&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/preparedImagePreview&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/logDateEntry&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/StringValueNotSet&quot;\r\n        android:textColor=&quot;@android:color/white&quot;\r\n        android:textSize=&quot;18sp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;@+id/preparedImagePreview&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@+id/preparedImagePreview&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@+id/preparedImagePreview&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/logClassName&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/StringValueNotSet&quot;\r\n        android:textColor=&quot;?attr/colorAccent&quot;\r\n        android:textSize=&quot;18sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/preparedImagePreview&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;@+id/preparedImagePreview&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@+id/preparedImagePreview&quot; /&gt;\r\n\r\n    &lt;Spinner\r\n        android:id=&quot;@+id/modeSpinner&quot;\r\n        style=&quot;@style/Widget.AppCompat.Spinner&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;16dp&quot;\r\n        android:layout_marginEnd=&quot;14dp&quot;\r\n        android:entries=&quot;@array/train_mode&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@+id/deleteImgButton&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@+id/preparedImagePreview&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/classImageStats&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/deleteImgButton&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;4dp&quot;\r\n        android:text=&quot;@string/delete_image_button&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;@+id/preparedImagePreview&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/classImageStats&quot; /&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/classes_bar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:baselineAligned=&quot;false&quot;\r\n        android:focusable=&quot;false&quot;\r\n        android:focusableInTouchMode=&quot;false&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/classes_bar2&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\r\n\r\n      &lt;LinearLayout\r\n          android:id=&quot;@+id/class_btn_1&quot;\r\n          style=&quot;@style/ClassButton&quot;\r\n          android:layout_width=&quot;0dp&quot;\r\n          android:layout_height=&quot;wrap_content&quot;\r\n          android:layout_margin=&quot;2dp&quot;\r\n          android:layout_weight=&quot;.25&quot;\r\n          android:focusable=&quot;false&quot;\r\n          android:focusableInTouchMode=&quot;false&quot;\r\n          android:orientation=&quot;vertical&quot;\r\n          android:paddingTop=&quot;4dp&quot;\r\n          android:paddingBottom=&quot;4dp&quot;\r\n          android:touchscreenBlocksFocus=&quot;true&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/textLabel11&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:focusable=&quot;false&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/textLabel12&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:focusable=&quot;false&quot;\r\n            android:tag=&quot;subtitle&quot;\r\n            android:textSize=&quot;12sp&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/textLabel13&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:focusable=&quot;false&quot;\r\n            android:tag=&quot;subtitle&quot;\r\n            android:textSize=&quot;12sp&quot; /&gt;\r\n      &lt;/LinearLayout&gt;\r\n\r\n      &lt;LinearLayout\r\n          android:id=&quot;@+id/class_btn_2&quot;\r\n          style=&quot;@style/ClassButton&quot;\r\n          android:layout_width=&quot;0dp&quot;\r\n          android:layout_height=&quot;wrap_content&quot;\r\n          android:layout_margin=&quot;2dp&quot;\r\n          android:layout_weight=&quot;.25&quot;\r\n          android:focusable=&quot;false&quot;\r\n          android:focusableInTouchMode=&quot;false&quot;\r\n          android:orientation=&quot;vertical&quot;\r\n          android:paddingTop=&quot;4dp&quot;\r\n          android:paddingBottom=&quot;4dp&quot;\r\n          android:touchscreenBlocksFocus=&quot;true&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/textLabel21&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:focusable=&quot;false&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/textLabel22&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:focusable=&quot;false&quot;\r\n            android:tag=&quot;subtitle&quot;\r\n            android:textSize=&quot;12sp&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/textLabel23&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:focusable=&quot;false&quot;\r\n            android:tag=&quot;subtitle&quot;\r\n            android:textSize=&quot;12sp&quot; /&gt;\r\n      &lt;/LinearLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/classes_bar2&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:baselineAligned=&quot;false&quot;\r\n        android:focusable=&quot;false&quot;\r\n        android:focusableInTouchMode=&quot;false&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\r\n\r\n      &lt;LinearLayout\r\n          android:id=&quot;@+id/class_btn_3&quot;\r\n          style=&quot;@style/ClassButton&quot;\r\n          android:layout_width=&quot;0dp&quot;\r\n          android:layout_height=&quot;wrap_content&quot;\r\n          android:layout_margin=&quot;2dp&quot;\r\n          android:layout_weight=&quot;.25&quot;\r\n          android:focusable=&quot;false&quot;\r\n          android:focusableInTouchMode=&quot;false&quot;\r\n          android:orientation=&quot;vertical&quot;\r\n          android:paddingTop=&quot;4dp&quot;\r\n          android:paddingBottom=&quot;4dp&quot;\r\n          android:touchscreenBlocksFocus=&quot;true&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/textLabel31&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:focusable=&quot;false&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/textLabel32&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:focusable=&quot;false&quot;\r\n            android:tag=&quot;subtitle&quot;\r\n            android:textSize=&quot;12sp&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/textLabel33&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:focusable=&quot;false&quot;\r\n            android:tag=&quot;subtitle&quot;\r\n            android:textSize=&quot;12sp&quot; /&gt;\r\n      &lt;/LinearLayout&gt;\r\n\r\n      &lt;LinearLayout\r\n          android:id=&quot;@+id/class_btn_4&quot;\r\n          style=&quot;@style/ClassButton&quot;\r\n          android:layout_width=&quot;0dp&quot;\r\n          android:layout_height=&quot;wrap_content&quot;\r\n          android:layout_margin=&quot;2dp&quot;\r\n          android:layout_weight=&quot;.25&quot;\r\n          android:focusable=&quot;false&quot;\r\n          android:focusableInTouchMode=&quot;false&quot;\r\n          android:orientation=&quot;vertical&quot;\r\n          android:paddingTop=&quot;4dp&quot;\r\n          android:paddingBottom=&quot;4dp&quot;\r\n          android:touchscreenBlocksFocus=&quot;true&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/textLabel41&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:focusable=&quot;false&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/textLabel42&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:focusable=&quot;false&quot;\r\n            android:tag=&quot;subtitle&quot;\r\n            android:textSize=&quot;12sp&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/textLabel43&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:focusable=&quot;false&quot;\r\n            android:tag=&quot;subtitle&quot;\r\n            android:textSize=&quot;12sp&quot; /&gt;\r\n      &lt;/LinearLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/trainInstruction&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/classes_bar&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n  &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n&lt;/layout&gt;\r\n```\r\n\r\nI&#39;m hoping someone can make sense of this. Thanks.","title":"Why is LinearLayout touch animation occurring on wrong element?","body":"<p>I have an Android Fragment consisting of nested LinearLayouts. The bottom of the screen consists of 4 LinearLayouts that act as buttons (class_btn_1, class_btn_2, class_btn_3, and class_btn_4). The program is Android/Java. Everything works in the code as expected. But, the system's touch animation for any of the &quot;buttons&quot; always appears on the 4th button, regardless of which of the 4 buttons are tapped. Anyone know why that may be?</p>\n<p>Config info:</p>\n<pre><code>        minSdkVersion 27 // API version for Moto G5 is 27\n        targetSdkVersion 31\n</code></pre>\n<p>Versions of dependencies:</p>\n<pre><code>    implementation 'androidx.appcompat:appcompat:1.4.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.2'\n    implementation 'androidx.preference:preference:1.1.1'\n</code></pre>\n<p>Xml for the Fragment definition. The buttons are near the bottom of the definition.</p>\n<pre><code>&lt;layout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n  &lt;androidx.constraintlayout.widget.ConstraintLayout\n      android:layout_width=&quot;match_parent&quot;\n      android:layout_height=&quot;match_parent&quot;\n      android:background=&quot;?attr/colorButtonNormal&quot;\n      android:focusable=&quot;false&quot;\n      tools:context=&quot;com.google.learning.brain.mobile.transfer.android.MainActivity&quot;&gt;\n\n    &lt;SurfaceView\n        android:id=&quot;@+id/preparedImagePreview&quot;\n        android:layout_width=&quot;280dp&quot;\n        android:layout_height=&quot;280dp&quot;\n        android:layout_marginTop=&quot;4dp&quot;\n        android:visibility=&quot;visible&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@+id/classes_bar&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/classes_bar&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n\n    &lt;TextView\n        android:id=&quot;@+id/sharpness&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/ValueNotSet&quot;\n        android:textSize=&quot;12sp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/preparedImagePreview&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/className&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;4dp&quot;\n        android:text=&quot;@string/unclassified&quot;\n        android:textColor=&quot;@color/design_default_color_on_secondary&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@+id/classImageStats&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.25&quot;\n        app:layout_constraintStart_toStartOf=&quot;@id/preparedImagePreview&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/preparedImagePreview&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/classImageStats&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;4dp&quot;\n        android:text=&quot;@string/ValueNotSet&quot;\n        android:textColor=&quot;@color/design_default_color_on_secondary&quot;\n        android:visibility=&quot;visible&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@id/preparedImagePreview&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/className&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/preparedImagePreview&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/logDateEntry&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/StringValueNotSet&quot;\n        android:textColor=&quot;@android:color/white&quot;\n        android:textSize=&quot;18sp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@+id/preparedImagePreview&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/preparedImagePreview&quot;\n        app:layout_constraintTop_toTopOf=&quot;@+id/preparedImagePreview&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/logClassName&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/StringValueNotSet&quot;\n        android:textColor=&quot;?attr/colorAccent&quot;\n        android:textSize=&quot;18sp&quot;\n        android:textStyle=&quot;bold&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/preparedImagePreview&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@+id/preparedImagePreview&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/preparedImagePreview&quot; /&gt;\n\n    &lt;Spinner\n        android:id=&quot;@+id/modeSpinner&quot;\n        style=&quot;@style/Widget.AppCompat.Spinner&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        android:layout_marginEnd=&quot;14dp&quot;\n        android:entries=&quot;@array/train_mode&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@+id/deleteImgButton&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/preparedImagePreview&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/classImageStats&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/deleteImgButton&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;4dp&quot;\n        android:text=&quot;@string/delete_image_button&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@+id/preparedImagePreview&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/classImageStats&quot; /&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/classes_bar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:baselineAligned=&quot;false&quot;\n        android:focusable=&quot;false&quot;\n        android:focusableInTouchMode=&quot;false&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/classes_bar2&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\n\n      &lt;LinearLayout\n          android:id=&quot;@+id/class_btn_1&quot;\n          style=&quot;@style/ClassButton&quot;\n          android:layout_width=&quot;0dp&quot;\n          android:layout_height=&quot;wrap_content&quot;\n          android:layout_margin=&quot;2dp&quot;\n          android:layout_weight=&quot;.25&quot;\n          android:focusable=&quot;false&quot;\n          android:focusableInTouchMode=&quot;false&quot;\n          android:orientation=&quot;vertical&quot;\n          android:paddingTop=&quot;4dp&quot;\n          android:paddingBottom=&quot;4dp&quot;\n          android:touchscreenBlocksFocus=&quot;true&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textLabel11&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:focusable=&quot;false&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textLabel12&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:focusable=&quot;false&quot;\n            android:tag=&quot;subtitle&quot;\n            android:textSize=&quot;12sp&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textLabel13&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:focusable=&quot;false&quot;\n            android:tag=&quot;subtitle&quot;\n            android:textSize=&quot;12sp&quot; /&gt;\n      &lt;/LinearLayout&gt;\n\n      &lt;LinearLayout\n          android:id=&quot;@+id/class_btn_2&quot;\n          style=&quot;@style/ClassButton&quot;\n          android:layout_width=&quot;0dp&quot;\n          android:layout_height=&quot;wrap_content&quot;\n          android:layout_margin=&quot;2dp&quot;\n          android:layout_weight=&quot;.25&quot;\n          android:focusable=&quot;false&quot;\n          android:focusableInTouchMode=&quot;false&quot;\n          android:orientation=&quot;vertical&quot;\n          android:paddingTop=&quot;4dp&quot;\n          android:paddingBottom=&quot;4dp&quot;\n          android:touchscreenBlocksFocus=&quot;true&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textLabel21&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:focusable=&quot;false&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textLabel22&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:focusable=&quot;false&quot;\n            android:tag=&quot;subtitle&quot;\n            android:textSize=&quot;12sp&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textLabel23&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:focusable=&quot;false&quot;\n            android:tag=&quot;subtitle&quot;\n            android:textSize=&quot;12sp&quot; /&gt;\n      &lt;/LinearLayout&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/classes_bar2&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:baselineAligned=&quot;false&quot;\n        android:focusable=&quot;false&quot;\n        android:focusableInTouchMode=&quot;false&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\n\n      &lt;LinearLayout\n          android:id=&quot;@+id/class_btn_3&quot;\n          style=&quot;@style/ClassButton&quot;\n          android:layout_width=&quot;0dp&quot;\n          android:layout_height=&quot;wrap_content&quot;\n          android:layout_margin=&quot;2dp&quot;\n          android:layout_weight=&quot;.25&quot;\n          android:focusable=&quot;false&quot;\n          android:focusableInTouchMode=&quot;false&quot;\n          android:orientation=&quot;vertical&quot;\n          android:paddingTop=&quot;4dp&quot;\n          android:paddingBottom=&quot;4dp&quot;\n          android:touchscreenBlocksFocus=&quot;true&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textLabel31&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:focusable=&quot;false&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textLabel32&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:focusable=&quot;false&quot;\n            android:tag=&quot;subtitle&quot;\n            android:textSize=&quot;12sp&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textLabel33&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:focusable=&quot;false&quot;\n            android:tag=&quot;subtitle&quot;\n            android:textSize=&quot;12sp&quot; /&gt;\n      &lt;/LinearLayout&gt;\n\n      &lt;LinearLayout\n          android:id=&quot;@+id/class_btn_4&quot;\n          style=&quot;@style/ClassButton&quot;\n          android:layout_width=&quot;0dp&quot;\n          android:layout_height=&quot;wrap_content&quot;\n          android:layout_margin=&quot;2dp&quot;\n          android:layout_weight=&quot;.25&quot;\n          android:focusable=&quot;false&quot;\n          android:focusableInTouchMode=&quot;false&quot;\n          android:orientation=&quot;vertical&quot;\n          android:paddingTop=&quot;4dp&quot;\n          android:paddingBottom=&quot;4dp&quot;\n          android:touchscreenBlocksFocus=&quot;true&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textLabel41&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:focusable=&quot;false&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textLabel42&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:focusable=&quot;false&quot;\n            android:tag=&quot;subtitle&quot;\n            android:textSize=&quot;12sp&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textLabel43&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:focusable=&quot;false&quot;\n            android:tag=&quot;subtitle&quot;\n            android:textSize=&quot;12sp&quot; /&gt;\n      &lt;/LinearLayout&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/trainInstruction&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/classes_bar&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n  &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n&lt;/layout&gt;\n</code></pre>\n<p>I'm hoping someone can make sense of this. Thanks.</p>\n"},{"tags":["java","linux","spring-boot","ibm-mq"],"comments":[{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1640183161,"post_id":70450191,"comment_id":124535412,"body_markdown":"Have to tried 9.2.4 or 9.2.0.4 to see if you still have the same issue?","body":"Have to tried 9.2.4 or 9.2.0.4 to see if you still have the same issue?"},{"owner":{"account_id":2686715,"reputation":8194,"user_id":2320961,"display_name":"Nic3500"},"score":1,"creation_date":1640222723,"post_id":70450191,"comment_id":124546715,"body_markdown":"Firewall timing out connections?","body":"Firewall timing out connections?"},{"owner":{"account_id":11252732,"reputation":1,"user_id":10104821,"display_name":"Hiren Patel"},"score":0,"creation_date":1640234590,"post_id":70450191,"comment_id":124548321,"body_markdown":"@Nic3500 - On Firewall we can see Session End Reason as - Age-out exactly after 30 mins since connection is created. Firewall is just allow or deny so not sure from which end Timeout is -Source or destination. There is no timeout settings on Firewall.","body":"@Nic3500 - On Firewall we can see Session End Reason as - Age-out exactly after 30 mins since connection is created. Firewall is just allow or deny so not sure from which end Timeout is -Source or destination. There is no timeout settings on Firewall."},{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1640252846,"post_id":70450191,"comment_id":124552588,"body_markdown":"@Nic3500 - agree this sounds like firewall to me too","body":"@Nic3500 - agree this sounds like firewall to me too"},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1640257922,"post_id":70450191,"comment_id":124554383,"body_markdown":"What is your channels HBINT set to?","body":"What is your channels HBINT set to?"},{"owner":{"account_id":11252732,"reputation":1,"user_id":10104821,"display_name":"Hiren Patel"},"score":0,"creation_date":1643884240,"post_id":70450191,"comment_id":125459824,"body_markdown":"@JoshMc - It is 0","body":"@JoshMc - It is 0"},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1643907668,"post_id":70450191,"comment_id":125469797,"body_markdown":"Zero means there won&#39;t be any traffic if the channel has no messages. It also means that MQ needs to rely on keepalive to determine if the connection was broken.   You should set it to 15 or 30 seconds.   This will help both keep the firewall from timing out the session and allow MQ to catch a connection issue in less than 60 seconds.","body":"Zero means there won&#39;t be any traffic if the channel has no messages. It also means that MQ needs to rely on keepalive to determine if the connection was broken.   You should set it to 15 or 30 seconds.   This will help both keep the firewall from timing out the session and allow MQ to catch a connection issue in less than 60 seconds."},{"owner":{"account_id":11252732,"reputation":1,"user_id":10104821,"display_name":"Hiren Patel"},"score":0,"creation_date":1644215995,"post_id":70450191,"comment_id":125536468,"body_markdown":"@JoshMc - But we have kept it zero only earlier and it was not giving any issues. Like with MQ 8 and also in lower env - it is working fine with zero value with MQ 9.","body":"@JoshMc - But we have kept it zero only earlier and it was not giving any issues. Like with MQ 8 and also in lower env - it is working fine with zero value with MQ 9."},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1644235704,"post_id":70450191,"comment_id":125542961,"body_markdown":"Can you confirm what specific mq version you are running?   There are 3 major releases of &quot;9&quot; each with fix packs.   9.0 (out of support), 9.1, and 9.2.  Can you confirm the server or the client jars were updated or both?","body":"Can you confirm what specific mq version you are running?   There are 3 major releases of &quot;9&quot; each with fix packs.   9.0 (out of support), 9.1, and 9.2.  Can you confirm the server or the client jars were updated or both?"},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1644236044,"post_id":70450191,"comment_id":125543096,"body_markdown":"Maybe there was a bug at an earlier release causing extra traffic which was keeping your connection active.  Maybe the firewall team made a change around the same time you upgraded.   Maybe the app traffic pattern has changed.  As a MQ admin with many years of experience I can tell you that you should set it higher than zero(disabled) because with out it mq can only rely on tcp keepalive to determine and will take longer to know about a connection problem.  In your case it should also keep your firewall from timing the connection out.","body":"Maybe there was a bug at an earlier release causing extra traffic which was keeping your connection active.  Maybe the firewall team made a change around the same time you upgraded.   Maybe the app traffic pattern has changed.  As a MQ admin with many years of experience I can tell you that you should set it higher than zero(disabled) because with out it mq can only rely on tcp keepalive to determine and will take longer to know about a connection problem.  In your case it should also keep your firewall from timing the connection out."},{"owner":{"account_id":11252732,"reputation":1,"user_id":10104821,"display_name":"Hiren Patel"},"score":0,"creation_date":1644327090,"post_id":70450191,"comment_id":125572583,"body_markdown":"@JoshMc - MQ version is 9.1.0.7 and client jar version is - 9.2.3.0","body":"@JoshMc - MQ version is 9.1.0.7 and client jar version is - 9.2.3.0"},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1644334881,"post_id":70450191,"comment_id":125576206,"body_markdown":"I would suggest you try setting the HBINT. I think you will find this solves the problem.","body":"I would suggest you try setting the HBINT. I think you will find this solves the problem."},{"owner":{"account_id":11252732,"reputation":1,"user_id":10104821,"display_name":"Hiren Patel"},"score":0,"creation_date":1644384938,"post_id":70450191,"comment_id":125589746,"body_markdown":"@JoshMc - There two settings - Disconnect Interval and Heartbeat interval - We tried setting both values as 6000 and 300 sec respectively on MQ9. We were still able to see the Timeouts and Connection Broken errors only thing changed was the frequency which was earlier at 30 mins fixed time, post above change, it become random.\n\nAs soon as we switch to MQ 8 on same day - where both values are zero - we do not see the Timeouts.","body":"@JoshMc - There two settings - Disconnect Interval and Heartbeat interval - We tried setting both values as 6000 and 300 sec respectively on MQ9. We were still able to see the Timeouts and Connection Broken errors only thing changed was the frequency which was earlier at 30 mins fixed time, post above change, it become random.  As soon as we switch to MQ 8 on same day - where both values are zero - we do not see the Timeouts."},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1644391461,"post_id":70450191,"comment_id":125591310,"body_markdown":"What specific version of 8 and what was switched, the queue manager or the client jar files?  What did the TCP stanza of the qm.ini look like at v9.1 and now?","body":"What specific version of 8 and what was switched, the queue manager or the client jar files?  What did the TCP stanza of the qm.ini look like at v9.1 and now?"},{"owner":{"account_id":11252732,"reputation":1,"user_id":10104821,"display_name":"Hiren Patel"},"score":0,"creation_date":1644492475,"post_id":70450191,"comment_id":125623815,"body_markdown":"@JoshMc - Earlier version was Version: 8.0.0.16\nLevel: p800-016-210212\n\nTCP Stanza - It is same as below for both 8.0 and 9.1\n\nKeepAlive=Yes\nSndBuffSize=0\nRcvBuffSize=0\nRcvSndBuffSize=0\nRcvRcvBuffSize=0\nClntSndBuffSize=0\nClntRcvBuffSize=0\nSvrSndBuffSize=0\nSvrRcvBuffSize=0","body":"@JoshMc - Earlier version was Version: 8.0.0.16 Level: p800-016-210212  TCP Stanza - It is same as below for both 8.0 and 9.1  KeepAlive=Yes SndBuffSize=0 RcvBuffSize=0 RcvSndBuffSize=0 RcvRcvBuffSize=0 ClntSndBuffSize=0 ClntRcvBuffSize=0 SvrSndBuffSize=0 SvrRcvBuffSize=0"},{"owner":{"account_id":11252732,"reputation":1,"user_id":10104821,"display_name":"Hiren Patel"},"score":0,"creation_date":1644492501,"post_id":70450191,"comment_id":125623830,"body_markdown":"@JoshMc - Client jar version is same for both - 9.2.3.0","body":"@JoshMc - Client jar version is same for both - 9.2.3.0"},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1644497892,"post_id":70450191,"comment_id":125625904,"body_markdown":"What is the SVRCONN&#39;s SHARECNV set to?","body":"What is the SVRCONN&#39;s SHARECNV set to?"},{"owner":{"account_id":11252732,"reputation":1,"user_id":10104821,"display_name":"Hiren Patel"},"score":0,"creation_date":1644499976,"post_id":70450191,"comment_id":125626770,"body_markdown":"@JoshMc - It is 10","body":"@JoshMc - It is 10"},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1644873250,"post_id":70450191,"comment_id":125716133,"body_markdown":"8.0 is out of support.   My only thought is that 8.0 is sending heart beat even though it shouldn&#39;t be with `HBINT(0)`.  I suggest trying the upgrade to 9.1.0 7 along with setting the `HBINT` down to 30 seconds or less and seeing how it goes.   If it does not resolve it,  you could take  a queue manager trace of the failure and of the 8.0 behavior and open a case with IBM.","body":"8.0 is out of support.   My only thought is that 8.0 is sending heart beat even though it shouldn&#39;t be with <code>HBINT(0)</code>.  I suggest trying the upgrade to 9.1.0 7 along with setting the <code>HBINT</code> down to 30 seconds or less and seeing how it goes.   If it does not resolve it,  you could take  a queue manager trace of the failure and of the 8.0 behavior and open a case with IBM."}],"owner":{"account_id":11252732,"reputation":1,"user_id":10104821,"display_name":"Hiren Patel"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640183061,"creation_date":1640181391,"question_id":70450191,"body_markdown":"We have Sprintboot application on Azure Linux VM which is connecting to IBM MQ 8 and connection goes via KPN.\r\n\r\nRecently we have upgraded IBM MQ from 8 to 9. No settings are changed on application, but with IBM MQ 9 - we can see that post 30 mins - connections are getting timed out and new connections are getting created post every 30 mins.\r\n\r\nChecked with IBM MQ 9 team - no timeout setting at their end.\r\n\r\nError - \r\n```\r\n[com.ibm.mq.allclient-9.2.3.0.jar!/:9.2.3.0 - p923-L210708]\r\nCaused by: com.ibm.mq.jmqi.JmqiException: CC=2;RC=2009;AMQ9208: Error on receive from host &#39;Host Details&#39;. [1=javax.net.ssl.SSLException[Connection timed out (Read failed)],3=,4=TCP,5=InputStream.read]\r\n\r\n    Caused by: javax.net.ssl.SSLException: Connection timed out (Read failed)\r\n    Suppressed: java.net.SocketException: Broken pipe (Write failed)\r\n    enter code here`Caused by: java.net.SocketException: Connection timed out (Read failed)\r\n```","title":"IBM MQ 8 to 9 Migration","body":"<p>We have Sprintboot application on Azure Linux VM which is connecting to IBM MQ 8 and connection goes via KPN.</p>\n<p>Recently we have upgraded IBM MQ from 8 to 9. No settings are changed on application, but with IBM MQ 9 - we can see that post 30 mins - connections are getting timed out and new connections are getting created post every 30 mins.</p>\n<p>Checked with IBM MQ 9 team - no timeout setting at their end.</p>\n<p>Error -</p>\n<pre><code>[com.ibm.mq.allclient-9.2.3.0.jar!/:9.2.3.0 - p923-L210708]\nCaused by: com.ibm.mq.jmqi.JmqiException: CC=2;RC=2009;AMQ9208: Error on receive from host 'Host Details'. [1=javax.net.ssl.SSLException[Connection timed out (Read failed)],3=,4=TCP,5=InputStream.read]\n\n    Caused by: javax.net.ssl.SSLException: Connection timed out (Read failed)\n    Suppressed: java.net.SocketException: Broken pipe (Write failed)\n    enter code here`Caused by: java.net.SocketException: Connection timed out (Read failed)\n</code></pre>\n"},{"tags":["java","shell","process","runtime","processbuilder"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1640153365,"post_id":70444879,"comment_id":124525266,"body_markdown":"&quot;not giving me null as output&quot; Can you explain what you mean? You have an empty catch block, so probably you are getting an exception and just ignoring it.","body":"&quot;not giving me null as output&quot; Can you explain what you mean? You have an empty catch block, so probably you are getting an exception and just ignoring it."},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":1,"creation_date":1640153426,"post_id":70444879,"comment_id":124525279,"body_markdown":"Also consider running the ps command without the shell script, and do the grep part in code.","body":"Also consider running the ps command without the shell script, and do the grep part in code."},{"owner":{"account_id":7380647,"reputation":876,"user_id":5617478,"display_name":"Subhajit"},"score":0,"creation_date":1640155521,"post_id":70444879,"comment_id":124525745,"body_markdown":"@tgdavies Pls see I have updated the code and output to confirm the output is null.","body":"@tgdavies Pls see I have updated the code and output to confirm the output is null."},{"owner":{"account_id":7380647,"reputation":876,"user_id":5617478,"display_name":"Subhajit"},"score":0,"creation_date":1640156520,"post_id":70444879,"comment_id":124525999,"body_markdown":"@JustanotherJavaprogrammer, I am able to get the expected output using &quot;ps -eaf&quot; but getting no output while using grep. Is it a fact that we cannot use grep command when executing through java process ?","body":"@JustanotherJavaprogrammer, I am able to get the expected output using &quot;ps -eaf&quot; but getting no output while using grep. Is it a fact that we cannot use grep command when executing through java process ?"},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1640156751,"post_id":70444879,"comment_id":124526048,"body_markdown":"I think your problem is that you don&#39;t run your command string in a shell. Exec a suitable shell as your process, and save your current command in an actual command file which you run in the shell.","body":"I think your problem is that you don&#39;t run your command string in a shell. Exec a suitable shell as your process, and save your current command in an actual command file which you run in the shell."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1640159244,"post_id":70444879,"comment_id":124526714,"body_markdown":"And if anything isn&#39;t working, look at stderr.","body":"And if anything isn&#39;t working, look at stderr."},{"owner":{"account_id":7380647,"reputation":876,"user_id":5617478,"display_name":"Subhajit"},"score":0,"creation_date":1640166507,"post_id":70444879,"comment_id":124529199,"body_markdown":"@tgdavies as I mentioned to JustanotherJavaprogrammer , the command &quot;ps -eaf&quot; is returning the expected output in java, but while I am trying to grep for a process name like this &quot;ps -eaf | grep myProcess&quot; the output is empty. There is some problem with the piped grep command.","body":"@tgdavies as I mentioned to JustanotherJavaprogrammer , the command &quot;ps -eaf&quot; is returning the expected output in java, but while I am trying to grep for a process name like this &quot;ps -eaf | grep myProcess&quot; the output is empty. There is some problem with the piped grep command."},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1640181337,"post_id":70444879,"comment_id":124534685,"body_markdown":"@Subhajit Simply changing the cmd used isn&#39;t going to fix your issue. You need to fix the code around as per the answers which both say use &#39;ProcessBuilder&#39; in a specific way - you don&#39;t read the stderr stream above.","body":"@Subhajit Simply changing the cmd used isn&#39;t going to fix your issue. You need to fix the code around as per the answers which both say use &#39;ProcessBuilder&#39; in a specific way - you don&#39;t read the stderr stream above."},{"owner":{"account_id":7380647,"reputation":876,"user_id":5617478,"display_name":"Subhajit"},"score":0,"creation_date":1640185439,"post_id":70444879,"comment_id":124536345,"body_markdown":"Thanks @DuncG , I found that there was some problem with my setup. I should have checked the error.","body":"Thanks @DuncG , I found that there was some problem with my setup. I should have checked the error."}],"answers":[{"tags":[],"owner":{"account_id":3537759,"reputation":2321,"user_id":2955605,"display_name":"Slimu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640183007,"creation_date":1640156720,"answer_id":70445349,"question_id":70444879,"body_markdown":"Your problem is that you are trying to use the pipe in your command, so you need a shell to execute it. You can use the following command:\r\n```\r\np = new ProcessBuilder(&quot;/bin/sh&quot;, &quot;-c&quot;, &quot;ps -aux | grep myProcess&quot;).start();\r\n````\r\n\r\nYou can read more here: https://stackoverflow.com/questions/3776195/using-java-processbuilder-to-execute-a-piped-command\r\n\r\nTo test it, I started `top` in a shell and run the command with it as the grep pattern. Here is the output I got:\r\n```\r\n&lt;edited&gt;   139890  0.4  0.0  23640  4376 pts/0    S+   16:05   0:00 top\r\n&lt;edited&gt;   139945  0.0  0.0  20996  3448 ?        S    16:06   0:00 /bin/bash -c ps -aux | grep top\r\n&lt;edited&gt;   139947  0.0  0.0  20536  2776 ?        S    16:06   0:00 grep top\r\n```\r\n\r\nBased on your comment, I suggest you first run the commands in a shell to see the output and check to see if it matches that from the Java program. I guess `myProcess` is only a placeholder for the actual process to check. \r\n\r\nOne thing which I noticed is that when running htop from a snap, and using the above code to grep after htop will return answers like in your comment, but grepping by top will include the actual process. I also checked with gedit and it looks like grep with gedit returns like in your case, but using only `edit` will return the actual process. Not sure what is the problem in this case.\r\n","title":"how to execute command &quot;ps -eaf | grep myprocess&quot; in java","body":"<p>Your problem is that you are trying to use the pipe in your command, so you need a shell to execute it. You can use the following command:</p>\n<pre><code>p = new ProcessBuilder(&quot;/bin/sh&quot;, &quot;-c&quot;, &quot;ps -aux | grep myProcess&quot;).start();\n</code></pre>\n<p>You can read more here: <a href=\"https://stackoverflow.com/questions/3776195/using-java-processbuilder-to-execute-a-piped-command\">Using Java ProcessBuilder to Execute a Piped Command</a></p>\n<p>To test it, I started <code>top</code> in a shell and run the command with it as the grep pattern. Here is the output I got:</p>\n<pre><code>&lt;edited&gt;   139890  0.4  0.0  23640  4376 pts/0    S+   16:05   0:00 top\n&lt;edited&gt;   139945  0.0  0.0  20996  3448 ?        S    16:06   0:00 /bin/bash -c ps -aux | grep top\n&lt;edited&gt;   139947  0.0  0.0  20536  2776 ?        S    16:06   0:00 grep top\n</code></pre>\n<p>Based on your comment, I suggest you first run the commands in a shell to see the output and check to see if it matches that from the Java program. I guess <code>myProcess</code> is only a placeholder for the actual process to check.</p>\n<p>One thing which I noticed is that when running htop from a snap, and using the above code to grep after htop will return answers like in your comment, but grepping by top will include the actual process. I also checked with gedit and it looks like grep with gedit returns like in your case, but using only <code>edit</code> will return the actual process. Not sure what is the problem in this case.</p>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640170005,"creation_date":1640169625,"answer_id":70447721,"question_id":70444879,"body_markdown":"As @Slimo answer indicates you must launch a shell to execute a shell command (the pipe), and read the error stream to determine what may have gone wrong. \r\n\r\nLaunching subprocess without using `waitFor()` or consuming stdout and stderr at SAME time can lead to issues, use file redirect or as in this example merge stderr  -&gt; stdout and read one stream only:\r\n\r\n\tString procname = &quot;myProcess&quot;;\r\n\tString[] cmd = new String[]{&quot;bash&quot;,&quot;-c&quot;, &quot;ps -eaf | grep &quot;+procname+&quot; | grep -v grep&quot;}\r\n\tProcessBuilder pb = new ProcessBuilder(cmd);\r\n\tpb.redirectErrorStream(true);\r\n\tProcess process = pb.start();\r\n\tprocess.getInputStream().transferTo(System.out);\r\n\tint rc = process.waitFor();\r\n\tif (rc != 0)\r\n\t\tthrow new RuntimeException(&quot;Failed rc=&quot;+rc+&quot; cmd=&quot;+Arrays.toString(cmd));\r\n\t\t\r\nIn later JDK you don&#39;t need ProcessBuilder, you may find all the process attributes in the data-structures returned by `ProcessHandle`:\r\n\r\n\tProcessHandle.allProcesses()\r\n\t\t.filter(ph -&gt; ph.info().command().isPresent() &amp;&amp; ph.info().command().get().contains(procname))\r\n\t\t.forEach(ph -&gt; System.out.println(&quot;PID: &quot;+ph.pid()+&quot; command: &quot;+ph.info().command()))\r\n","title":"how to execute command &quot;ps -eaf | grep myprocess&quot; in java","body":"<p>As @Slimo answer indicates you must launch a shell to execute a shell command (the pipe), and read the error stream to determine what may have gone wrong.</p>\n<p>Launching subprocess without using <code>waitFor()</code> or consuming stdout and stderr at SAME time can lead to issues, use file redirect or as in this example merge stderr  -&gt; stdout and read one stream only:</p>\n<pre><code>String procname = &quot;myProcess&quot;;\nString[] cmd = new String[]{&quot;bash&quot;,&quot;-c&quot;, &quot;ps -eaf | grep &quot;+procname+&quot; | grep -v grep&quot;}\nProcessBuilder pb = new ProcessBuilder(cmd);\npb.redirectErrorStream(true);\nProcess process = pb.start();\nprocess.getInputStream().transferTo(System.out);\nint rc = process.waitFor();\nif (rc != 0)\n    throw new RuntimeException(&quot;Failed rc=&quot;+rc+&quot; cmd=&quot;+Arrays.toString(cmd));\n    \n</code></pre>\n<p>In later JDK you don't need ProcessBuilder, you may find all the process attributes in the data-structures returned by <code>ProcessHandle</code>:</p>\n<pre><code>ProcessHandle.allProcesses()\n    .filter(ph -&gt; ph.info().command().isPresent() &amp;&amp; ph.info().command().get().contains(procname))\n    .forEach(ph -&gt; System.out.println(&quot;PID: &quot;+ph.pid()+&quot; command: &quot;+ph.info().command()))\n</code></pre>\n"}],"owner":{"account_id":7380647,"reputation":876,"user_id":5617478,"display_name":"Subhajit"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":914,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70447721,"answer_count":2,"score":0,"last_activity_date":1640183007,"creation_date":1640153132,"question_id":70444879,"body_markdown":"I googled and checked the SO if there is any code to find PID of any other process.\r\nThere is a solution to create a shell script with the command  &quot;ps -eaf | grep myprocess&quot; in it and executing that script from java.\r\n\r\nBut I want to execute using java ProcessBuilder or Runtime methods. Below is the code that I have tried which is not giving me null as output.\r\n\r\n```import java.util.*;\r\nimport java.io.*;\r\n\r\npublic class TestShellCommand {\r\n\r\n    public static void main(String args[]) {\r\n        Process p = null;\r\n        String command = &quot;ps -ef | grep myProcess&quot;;\r\n        try {\r\n            // p = new ProcessBuilder(command).start();\r\n            p = Runtime.getRuntime().exec(command);\r\n            BufferedReader br[] = new BufferedReader[2];\r\n            br[1] = new BufferedReader(new InputStreamReader(p.getErrorStream()));\r\n            br[0] = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n\r\n            String line = null;\r\n            if(br[0].readLine() == null){\r\n                System.out.println(&quot;The input stream is null.&quot;);\r\n            }\r\n            while ((line = br[0].readLine()) != null) {\r\n                System.out.println(line);\r\n            }\r\n\r\n            try {\r\n                br[0].close();\r\n            } catch (Exception a) {\r\n                a.printStackTrace();\r\n            }\r\n            try {\r\n                br[1].close();\r\n            } catch (Exception a) {\r\n                a.printStackTrace();\r\n            }\r\n        } catch (Exception grrr) {\r\n            grrr.printStackTrace();\r\n        } finally {\r\n            try {\r\n                closeStreams(p);\r\n                p.destroy();\r\n            } catch (Exception r) {\r\n                r.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    static void closeStreams(Process p) throws IOException {\r\n        p.getInputStream().close();\r\n        p.getOutputStream().close();\r\n        p.getErrorStream().close();\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe output for the command is :\r\n\r\n    java TestShellCommand\r\n    The input stream is null.\r\n    {sdc@ip-172-31-32-49}[26] echo $?\r\n    0\r\n\r\n\r\nPlease let me know if there is any error in my code as when I search manually from shell i do get the expected output as below:\r\n\r\n```\r\nps -ef | grep myProcess\r\nroot       7433      1  0 10:33 ?        00:00:00 myProcess hello\r\nsdc       19894  14130  0 11:24 pts/7    00:00:00 grep myProcess\r\n\r\n```\r\n\r\n**[UPDATED CODE - Without the grep command]**\r\n\r\n```import java.util.*;\r\nimport java.io.*;\r\n\r\npublic class TestShellCommand {\r\n\r\n    public static void main(String args[]) {\r\n        Process p = null;\r\n        String [] command = {&quot;ps&quot;, &quot;-eaf&quot;};\r\n        try {\r\n            p = Runtime.getRuntime().exec(command);\r\n            BufferedReader br[] = new BufferedReader[2];\r\n            br[1] = new BufferedReader(new InputStreamReader(p.getErrorStream()));\r\n            br[0] = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n\r\n            String line = null;\r\n            if(br[0].readLine() == null){\r\n                System.out.println(&quot;The input stream is null.&quot;);\r\n            }\r\n            while ((line = br[0].readLine()) != null) {\r\n                System.out.println(line);\r\n            }\r\n\r\n            // Then code to find by process name by using string methods ...\r\n\r\n            try {\r\n                br[0].close();\r\n            } catch (Exception a) {\r\n                a.printStackTrace();\r\n            }\r\n            try {\r\n                br[1].close();\r\n            } catch (Exception a) {\r\n                a.printStackTrace();\r\n            }\r\n        } catch (Exception grrr) {\r\n            grrr.printStackTrace();\r\n        } finally {\r\n            try {\r\n                closeStreams(p);\r\n                p.destroy();\r\n            } catch (Exception r) {\r\n                r.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    static void closeStreams(Process p) throws IOException {\r\n        p.getInputStream().close();\r\n        p.getOutputStream().close();\r\n        p.getErrorStream().close();\r\n    }\r\n}\r\n\r\n```\r\nI have added the code that is working, when I am passing command as:\r\n\r\n 1.   `new String[]{&quot;/bin/sh&quot;,&quot;-c&quot;, &quot;ps -eaf | grep &quot;+ &quot;myProcess&quot; +&quot; | grep -v grep&quot;}` - Empty response.\r\n 2.  `new String[] {&quot;ps&quot;, &quot;-eaf&quot;, &quot;grep -m 1 myProcess&quot;, &quot;awk -F &#39; &#39; &#39;{print $2}&#39; &quot;}` - Empty response.\r\n\r\nThanks in advance for any leads.","title":"how to execute command &quot;ps -eaf | grep myprocess&quot; in java","body":"<p>I googled and checked the SO if there is any code to find PID of any other process.\nThere is a solution to create a shell script with the command  &quot;ps -eaf | grep myprocess&quot; in it and executing that script from java.</p>\n<p>But I want to execute using java ProcessBuilder or Runtime methods. Below is the code that I have tried which is not giving me null as output.</p>\n<pre><code>import java.io.*;\n\npublic class TestShellCommand {\n\n    public static void main(String args[]) {\n        Process p = null;\n        String command = &quot;ps -ef | grep myProcess&quot;;\n        try {\n            // p = new ProcessBuilder(command).start();\n            p = Runtime.getRuntime().exec(command);\n            BufferedReader br[] = new BufferedReader[2];\n            br[1] = new BufferedReader(new InputStreamReader(p.getErrorStream()));\n            br[0] = new BufferedReader(new InputStreamReader(p.getInputStream()));\n\n            String line = null;\n            if(br[0].readLine() == null){\n                System.out.println(&quot;The input stream is null.&quot;);\n            }\n            while ((line = br[0].readLine()) != null) {\n                System.out.println(line);\n            }\n\n            try {\n                br[0].close();\n            } catch (Exception a) {\n                a.printStackTrace();\n            }\n            try {\n                br[1].close();\n            } catch (Exception a) {\n                a.printStackTrace();\n            }\n        } catch (Exception grrr) {\n            grrr.printStackTrace();\n        } finally {\n            try {\n                closeStreams(p);\n                p.destroy();\n            } catch (Exception r) {\n                r.printStackTrace();\n            }\n        }\n    }\n\n    static void closeStreams(Process p) throws IOException {\n        p.getInputStream().close();\n        p.getOutputStream().close();\n        p.getErrorStream().close();\n    }\n}\n\n</code></pre>\n<p>The output for the command is :</p>\n<pre><code>java TestShellCommand\nThe input stream is null.\n{sdc@ip-172-31-32-49}[26] echo $?\n0\n</code></pre>\n<p>Please let me know if there is any error in my code as when I search manually from shell i do get the expected output as below:</p>\n<pre><code>ps -ef | grep myProcess\nroot       7433      1  0 10:33 ?        00:00:00 myProcess hello\nsdc       19894  14130  0 11:24 pts/7    00:00:00 grep myProcess\n\n</code></pre>\n<p><strong>[UPDATED CODE - Without the grep command]</strong></p>\n<pre><code>import java.io.*;\n\npublic class TestShellCommand {\n\n    public static void main(String args[]) {\n        Process p = null;\n        String [] command = {&quot;ps&quot;, &quot;-eaf&quot;};\n        try {\n            p = Runtime.getRuntime().exec(command);\n            BufferedReader br[] = new BufferedReader[2];\n            br[1] = new BufferedReader(new InputStreamReader(p.getErrorStream()));\n            br[0] = new BufferedReader(new InputStreamReader(p.getInputStream()));\n\n            String line = null;\n            if(br[0].readLine() == null){\n                System.out.println(&quot;The input stream is null.&quot;);\n            }\n            while ((line = br[0].readLine()) != null) {\n                System.out.println(line);\n            }\n\n            // Then code to find by process name by using string methods ...\n\n            try {\n                br[0].close();\n            } catch (Exception a) {\n                a.printStackTrace();\n            }\n            try {\n                br[1].close();\n            } catch (Exception a) {\n                a.printStackTrace();\n            }\n        } catch (Exception grrr) {\n            grrr.printStackTrace();\n        } finally {\n            try {\n                closeStreams(p);\n                p.destroy();\n            } catch (Exception r) {\n                r.printStackTrace();\n            }\n        }\n    }\n\n    static void closeStreams(Process p) throws IOException {\n        p.getInputStream().close();\n        p.getOutputStream().close();\n        p.getErrorStream().close();\n    }\n}\n\n</code></pre>\n<p>I have added the code that is working, when I am passing command as:</p>\n<ol>\n<li><code>new String[]{&quot;/bin/sh&quot;,&quot;-c&quot;, &quot;ps -eaf | grep &quot;+ &quot;myProcess&quot; +&quot; | grep -v grep&quot;}</code> - Empty response.</li>\n<li><code>new String[] {&quot;ps&quot;, &quot;-eaf&quot;, &quot;grep -m 1 myProcess&quot;, &quot;awk -F ' ' '{print $2}' &quot;}</code> - Empty response.</li>\n</ol>\n<p>Thanks in advance for any leads.</p>\n"},{"tags":["java","jquery","grails"],"answers":[{"tags":[],"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640182376,"creation_date":1640182376,"answer_id":70450393,"question_id":70446765,"body_markdown":"&gt; Is there any version dependency for grails and java while updating the\r\n&gt; jQuery to 3.0?\r\n\r\nThere is not.\r\n\r\nThere are no versions of Grails for which you could not use jQuery 3.  If there isn&#39;t a corresponding Grails plugin, you can still use the library.  The plugin provides some conveniences for pulling in and using a JS library but is definitely not required.","title":"minimum version of grails and java needed for supporting jQuery3.0","body":"<blockquote>\n<p>Is there any version dependency for grails and java while updating the\njQuery to 3.0?</p>\n</blockquote>\n<p>There is not.</p>\n<p>There are no versions of Grails for which you could not use jQuery 3.  If there isn't a corresponding Grails plugin, you can still use the library.  The plugin provides some conveniences for pulling in and using a JS library but is definitely not required.</p>\n"}],"owner":{"account_id":10994309,"reputation":147,"user_id":8077065,"display_name":"Chintu Karthi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70450393,"answer_count":1,"score":0,"last_activity_date":1640182376,"creation_date":1640164878,"question_id":70446765,"body_markdown":"I have a grails app using version 1.3.7 and I wanted to uplift it to jQuery 3.0 currently it&#39;s using the 1.4.4 grails-jquery plugin and java 1.6\r\n\r\nIs there any version dependency for grails and java while updating the jQuery to 3.0? I can see grails 4.0 requires java-8. But wanted to make sure that nothing breaks as part of this upgrade.","title":"minimum version of grails and java needed for supporting jQuery3.0","body":"<p>I have a grails app using version 1.3.7 and I wanted to uplift it to jQuery 3.0 currently it's using the 1.4.4 grails-jquery plugin and java 1.6</p>\n<p>Is there any version dependency for grails and java while updating the jQuery to 3.0? I can see grails 4.0 requires java-8. But wanted to make sure that nothing breaks as part of this upgrade.</p>\n"},{"tags":["java","android","retrofit2"],"answers":[{"tags":[],"owner":{"account_id":15097668,"reputation":123,"user_id":10895658,"display_name":"Sergiy Khomyn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640181925,"creation_date":1640181925,"answer_id":70450300,"question_id":70449825,"body_markdown":"Check again the way that you are calling the api, even your userid is getting null, probably  it&#39;s getting null in the user, but the response is 200 bc there was no error, simply no user with that id.","title":"How to Fetch data from API using Retrofit in Android","body":"<p>Check again the way that you are calling the api, even your userid is getting null, probably  it's getting null in the user, but the response is 200 bc there was no error, simply no user with that id.</p>\n"}],"owner":{"account_id":20450643,"reputation":11,"user_id":15005487,"display_name":"Ashwin Vishwakarma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1478,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640181925,"creation_date":1640179630,"question_id":70449825,"body_markdown":"I&#39;m Trying to call API using retrofit in Android. Although I&#39;m successfully able to api in response I&#39;m getting **Success** Code = 200. But Apart from that Inside Json object Json array is null although while I&#39;m trying to call same api in **Postman** I&#39;m getting the desire result.\r\n\r\nI&#39;m trying to call using POST request \r\n\r\nURL Request :- https://example.com/AD1/api/user/profile\r\n\r\nI&#39;m passing parameter in Body **userid:- MFL176116**\r\n\r\nBelow Postman\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n \r\n\r\n\r\n**APIInterface.java**\r\n\r\npublic interface APIInterface {\r\n\r\n    @POST(&quot;profile&quot;)\r\n    Call&lt;ProfilePojo&gt; getUserProfile(@Body ProfilePojo profilePojo);\r\n}\r\n\r\n\r\n**ProfilePojo.java**\r\n\r\n\r\npublic class ProfilePojo {\r\n\r\n    @SerializedName(&quot;message&quot;)\r\n    @Expose\r\n    private String message;\r\n    @SerializedName(&quot;code&quot;)\r\n    @Expose\r\n    private Integer code;\r\n    @SerializedName(&quot;user_data&quot;)\r\n    @Expose\r\n    private List&lt;UserDatum&gt; userData = new ArrayList();\r\n\r\n    private String userid;\r\n\r\n    public ProfilePojo(String userid) {\r\n        this.userid = userid;\r\n    }\r\n\r\n    public String getUserid() {\r\n        return userid;\r\n    }\r\n\r\n    public void setUserid(String userid) {\r\n        this.userid = userid;\r\n    }\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n\r\n    public void setMessage(String message) {\r\n        this.message = message;\r\n    }\r\n\r\n    public List&lt;UserDatum&gt; getUserData() {\r\n        return userData;\r\n    }\r\n\r\n    public void setUserData(List&lt;UserDatum&gt; userData) {\r\n        this.userData = userData;\r\n    }\r\n\r\n    public Integer getCode() {\r\n        return code;\r\n    }\r\n\r\n    public void setCode(Integer code) {\r\n        this.code = code;\r\n    }\r\n\r\n    public class UserDatum {\r\n\r\n        @SerializedName(&quot;id&quot;)\r\n        @Expose\r\n        private String id;\r\n        @SerializedName(&quot;username&quot;)\r\n        @Expose\r\n        private String username;\r\n        @SerializedName(&quot;password&quot;)\r\n        @Expose\r\n        private String password;\r\n        @SerializedName(&quot;under_id&quot;)\r\n        @Expose\r\n        private String underId;\r\n        @SerializedName(&quot;place_under_id&quot;)\r\n        @Expose\r\n        private String placeUnderId;\r\n        @SerializedName(&quot;mobile&quot;)\r\n        @Expose\r\n        private String mobile;\r\n        @SerializedName(&quot;side&quot;)\r\n        @Expose\r\n        private String side;\r\n        @SerializedName(&quot;email&quot;)\r\n        @Expose\r\n        private String email;\r\n        @SerializedName(&quot;status&quot;)\r\n        @Expose\r\n        private String status;\r\n        @SerializedName(&quot;member_name&quot;)\r\n        @Expose\r\n        private String memberName;\r\n        @SerializedName(&quot;package_id&quot;)\r\n        @Expose\r\n        private String packageId;\r\n        @SerializedName(&quot;package_id1&quot;)\r\n        @Expose\r\n        private String packageId1;\r\n        @SerializedName(&quot;avatar&quot;)\r\n        @Expose\r\n        private String avatar;\r\n        @SerializedName(&quot;gender&quot;)\r\n        @Expose\r\n        private Object gender;\r\n        @SerializedName(&quot;date_of_birth&quot;)\r\n        @Expose\r\n        private Object dateOfBirth;\r\n        @SerializedName(&quot;address_line1&quot;)\r\n        @Expose\r\n        private String addressLine1;\r\n        @SerializedName(&quot;address_line2&quot;)\r\n        @Expose\r\n        private String addressLine2;\r\n        @SerializedName(&quot;country&quot;)\r\n        @Expose\r\n        private String country;\r\n        @SerializedName(&quot;country_code&quot;)\r\n        @Expose\r\n        private String countryCode;\r\n        @SerializedName(&quot;state&quot;)\r\n        @Expose\r\n        private String state;\r\n        @SerializedName(&quot;city&quot;)\r\n        @Expose\r\n        private String city;\r\n        @SerializedName(&quot;pincode&quot;)\r\n        @Expose\r\n        private String pincode;\r\n        @SerializedName(&quot;pancard_no&quot;)\r\n        @Expose\r\n        private String pancardNo;\r\n        @SerializedName(&quot;adharcard_no&quot;)\r\n        @Expose\r\n        private String adharcardNo;\r\n        @SerializedName(&quot;franchaise_type&quot;)\r\n        @Expose\r\n        private String franchaiseType;\r\n        @SerializedName(&quot;franchise_id&quot;)\r\n        @Expose\r\n        private Object franchiseId;\r\n        @SerializedName(&quot;franchise_per&quot;)\r\n        @Expose\r\n        private Object franchisePer;\r\n        @SerializedName(&quot;franchise_status&quot;)\r\n        @Expose\r\n        private Object franchiseStatus;\r\n        @SerializedName(&quot;transaction_pass&quot;)\r\n        @Expose\r\n        private String transactionPass;\r\n        @SerializedName(&quot;id_proof&quot;)\r\n        @Expose\r\n        private Object idProof;\r\n        @SerializedName(&quot;address_proof&quot;)\r\n        @Expose\r\n        private Object addressProof;\r\n        @SerializedName(&quot;self_video&quot;)\r\n        @Expose\r\n        private String selfVideo;\r\n        @SerializedName(&quot;residential_proof&quot;)\r\n        @Expose\r\n        private String residentialProof;\r\n        @SerializedName(&quot;btc_address&quot;)\r\n        @Expose\r\n        private Object btcAddress;\r\n        @SerializedName(&quot;perfect_money&quot;)\r\n        @Expose\r\n        private Object perfectMoney;\r\n        @SerializedName(&quot;email_status&quot;)\r\n        @Expose\r\n        private String emailStatus;\r\n        @SerializedName(&quot;email_verify&quot;)\r\n        @Expose\r\n        private String emailVerify;\r\n        @SerializedName(&quot;created_on&quot;)\r\n        @Expose\r\n        private String createdOn;\r\n        @SerializedName(&quot;edited_on&quot;)\r\n        @Expose\r\n        private String editedOn;\r\n        @SerializedName(&quot;isDeleted&quot;)\r\n        @Expose\r\n        private String isDeleted;\r\n\r\n        public String getId() {\r\n            return id;\r\n        }\r\n\r\n        public void setId(String id) {\r\n            this.id = id;\r\n        }\r\n\r\n        public String getUsername() {\r\n            return username;\r\n        }\r\n\r\n        public void setUsername(String username) {\r\n            this.username = username;\r\n        }\r\n\r\n        public String getPassword() {\r\n            return password;\r\n        }\r\n\r\n        public void setPassword(String password) {\r\n            this.password = password;\r\n        }\r\n\r\n        public String getUnderId() {\r\n            return underId;\r\n        }\r\n\r\n        public void setUnderId(String underId) {\r\n            this.underId = underId;\r\n        }\r\n\r\n        public String getPlaceUnderId() {\r\n            return placeUnderId;\r\n        }\r\n\r\n        public void setPlaceUnderId(String placeUnderId) {\r\n            this.placeUnderId = placeUnderId;\r\n        }\r\n\r\n        public String getMobile() {\r\n            return mobile;\r\n        }\r\n\r\n        public void setMobile(String mobile) {\r\n            this.mobile = mobile;\r\n        }\r\n\r\n        public String getSide() {\r\n            return side;\r\n        }\r\n\r\n        public void setSide(String side) {\r\n            this.side = side;\r\n        }\r\n\r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n\r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n\r\n        public String getStatus() {\r\n            return status;\r\n        }\r\n\r\n        public void setStatus(String status) {\r\n            this.status = status;\r\n        }\r\n\r\n        public String getMemberName() {\r\n            return memberName;\r\n        }\r\n\r\n        public void setMemberName(String memberName) {\r\n            this.memberName = memberName;\r\n        }\r\n\r\n        public String getPackageId() {\r\n            return packageId;\r\n        }\r\n\r\n        public void setPackageId(String packageId) {\r\n            this.packageId = packageId;\r\n        }\r\n\r\n        public String getPackageId1() {\r\n            return packageId1;\r\n        }\r\n\r\n        public void setPackageId1(String packageId1) {\r\n            this.packageId1 = packageId1;\r\n        }\r\n\r\n        public String getAvatar() {\r\n            return avatar;\r\n        }\r\n\r\n        public void setAvatar(String avatar) {\r\n            this.avatar = avatar;\r\n        }\r\n\r\n        public Object getGender() {\r\n            return gender;\r\n        }\r\n\r\n        public void setGender(Object gender) {\r\n            this.gender = gender;\r\n        }\r\n\r\n        public Object getDateOfBirth() {\r\n            return dateOfBirth;\r\n        }\r\n\r\n        public void setDateOfBirth(Object dateOfBirth) {\r\n            this.dateOfBirth = dateOfBirth;\r\n        }\r\n\r\n        public String getAddressLine1() {\r\n            return addressLine1;\r\n        }\r\n\r\n        public void setAddressLine1(String addressLine1) {\r\n            this.addressLine1 = addressLine1;\r\n        }\r\n\r\n        public String getAddressLine2() {\r\n            return addressLine2;\r\n        }\r\n\r\n        public void setAddressLine2(String addressLine2) {\r\n            this.addressLine2 = addressLine2;\r\n        }\r\n\r\n        public String getCountry() {\r\n            return country;\r\n        }\r\n\r\n        public void setCountry(String country) {\r\n            this.country = country;\r\n        }\r\n\r\n        public String getCountryCode() {\r\n            return countryCode;\r\n        }\r\n\r\n        public void setCountryCode(String countryCode) {\r\n            this.countryCode = countryCode;\r\n        }\r\n\r\n        public String getState() {\r\n            return state;\r\n        }\r\n\r\n        public void setState(String state) {\r\n            this.state = state;\r\n        }\r\n\r\n        public String getCity() {\r\n            return city;\r\n        }\r\n\r\n        public void setCity(String city) {\r\n            this.city = city;\r\n        }\r\n\r\n        public String getPincode() {\r\n            return pincode;\r\n        }\r\n\r\n        public void setPincode(String pincode) {\r\n            this.pincode = pincode;\r\n        }\r\n\r\n        public String getPancardNo() {\r\n            return pancardNo;\r\n        }\r\n\r\n        public void setPancardNo(String pancardNo) {\r\n            this.pancardNo = pancardNo;\r\n        }\r\n\r\n        public String getAdharcardNo() {\r\n            return adharcardNo;\r\n        }\r\n\r\n        public void setAdharcardNo(String adharcardNo) {\r\n            this.adharcardNo = adharcardNo;\r\n        }\r\n\r\n        public String getFranchaiseType() {\r\n            return franchaiseType;\r\n        }\r\n\r\n        public void setFranchaiseType(String franchaiseType) {\r\n            this.franchaiseType = franchaiseType;\r\n        }\r\n\r\n        public Object getFranchiseId() {\r\n            return franchiseId;\r\n        }\r\n\r\n        public void setFranchiseId(Object franchiseId) {\r\n            this.franchiseId = franchiseId;\r\n        }\r\n\r\n        public Object getFranchisePer() {\r\n            return franchisePer;\r\n        }\r\n\r\n        public void setFranchisePer(Object franchisePer) {\r\n            this.franchisePer = franchisePer;\r\n        }\r\n\r\n        public Object getFranchiseStatus() {\r\n            return franchiseStatus;\r\n        }\r\n\r\n        public void setFranchiseStatus(Object franchiseStatus) {\r\n            this.franchiseStatus = franchiseStatus;\r\n        }\r\n\r\n        public String getTransactionPass() {\r\n            return transactionPass;\r\n        }\r\n\r\n        public void setTransactionPass(String transactionPass) {\r\n            this.transactionPass = transactionPass;\r\n        }\r\n\r\n        public Object getIdProof() {\r\n            return idProof;\r\n        }\r\n\r\n        public void setIdProof(Object idProof) {\r\n            this.idProof = idProof;\r\n        }\r\n\r\n        public Object getAddressProof() {\r\n            return addressProof;\r\n        }\r\n\r\n        public void setAddressProof(Object addressProof) {\r\n            this.addressProof = addressProof;\r\n        }\r\n\r\n        public String getSelfVideo() {\r\n            return selfVideo;\r\n        }\r\n\r\n        public void setSelfVideo(String selfVideo) {\r\n            this.selfVideo = selfVideo;\r\n        }\r\n\r\n        public String getResidentialProof() {\r\n            return residentialProof;\r\n        }\r\n\r\n        public void setResidentialProof(String residentialProof) {\r\n            this.residentialProof = residentialProof;\r\n        }\r\n\r\n        public Object getBtcAddress() {\r\n            return btcAddress;\r\n        }\r\n\r\n        public void setBtcAddress(Object btcAddress) {\r\n            this.btcAddress = btcAddress;\r\n        }\r\n\r\n        public Object getPerfectMoney() {\r\n            return perfectMoney;\r\n        }\r\n\r\n        public void setPerfectMoney(Object perfectMoney) {\r\n            this.perfectMoney = perfectMoney;\r\n        }\r\n\r\n        public String getEmailStatus() {\r\n            return emailStatus;\r\n        }\r\n\r\n        public void setEmailStatus(String emailStatus) {\r\n            this.emailStatus = emailStatus;\r\n        }\r\n\r\n        public String getEmailVerify() {\r\n            return emailVerify;\r\n        }\r\n\r\n        public void setEmailVerify(String emailVerify) {\r\n            this.emailVerify = emailVerify;\r\n        }\r\n\r\n        public String getCreatedOn() {\r\n            return createdOn;\r\n        }\r\n\r\n        public void setCreatedOn(String createdOn) {\r\n            this.createdOn = createdOn;\r\n        }\r\n\r\n        public String getEditedOn() {\r\n            return editedOn;\r\n        }\r\n\r\n        public void setEditedOn(String editedOn) {\r\n            this.editedOn = editedOn;\r\n        }\r\n\r\n        public String getIsDeleted() {\r\n            return isDeleted;\r\n        }\r\n\r\n        public void setIsDeleted(String isDeleted) {\r\n            this.isDeleted = isDeleted;\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n**Dashboard.java**\r\n\r\n    private void getUserProfile() {\r\n\r\n        apiInterface = ApiLinks.getClient().create(APIInterface.class);\r\n        ProfilePojo profilePojo = new ProfilePojo(&quot;MFL176116&quot;);\r\n        Call&lt;ProfilePojo&gt; call = apiInterface.getUserProfile(profilePojo);\r\n        call.enqueue(new Callback&lt;ProfilePojo&gt;() {\r\n            @Override\r\n            public void onResponse(@NonNull Call&lt;ProfilePojo&gt; call, @NonNull Response&lt;ProfilePojo&gt; response) {\r\n                \r\n                ProfilePojo profilePojo = response.body();\r\n                Toast.makeText(getApplicationContext(), &quot;sucess&quot;, Toast.LENGTH_LONG).show();\r\n                \r\n            }\r\n\r\n            @Override\r\n            public void onFailure(@NonNull Call&lt;ProfilePojo&gt; call, @NonNull Throwable t) {\r\n                Toast.makeText(getApplicationContext(), t.getMessage(), Toast.LENGTH_LONG).show();\r\n            }\r\n        });\r\n    }\r\n\r\nAfter debugging the code can see Message is success, code =200, but userdata size ==0 please help me to get rid of this error\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NpkZD.png\r\n  [2]: https://i.stack.imgur.com/iijo3.png","title":"How to Fetch data from API using Retrofit in Android","body":"<p>I'm Trying to call API using retrofit in Android. Although I'm successfully able to api in response I'm getting <strong>Success</strong> Code = 200. But Apart from that Inside Json object Json array is null although while I'm trying to call same api in <strong>Postman</strong> I'm getting the desire result.</p>\n<p>I'm trying to call using POST request</p>\n<p>URL Request :- <a href=\"https://example.com/AD1/api/user/profile\" rel=\"nofollow noreferrer\">https://example.com/AD1/api/user/profile</a></p>\n<p>I'm passing parameter in Body <strong>userid:- MFL176116</strong></p>\n<p>Below Postman</p>\n<p><a href=\"https://i.stack.imgur.com/NpkZD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NpkZD.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>APIInterface.java</strong></p>\n<p>public interface APIInterface {</p>\n<pre><code>@POST(&quot;profile&quot;)\nCall&lt;ProfilePojo&gt; getUserProfile(@Body ProfilePojo profilePojo);\n</code></pre>\n<p>}</p>\n<p><strong>ProfilePojo.java</strong></p>\n<p>public class ProfilePojo {</p>\n<pre><code>@SerializedName(&quot;message&quot;)\n@Expose\nprivate String message;\n@SerializedName(&quot;code&quot;)\n@Expose\nprivate Integer code;\n@SerializedName(&quot;user_data&quot;)\n@Expose\nprivate List&lt;UserDatum&gt; userData = new ArrayList();\n\nprivate String userid;\n\npublic ProfilePojo(String userid) {\n    this.userid = userid;\n}\n\npublic String getUserid() {\n    return userid;\n}\n\npublic void setUserid(String userid) {\n    this.userid = userid;\n}\npublic String getMessage() {\n    return message;\n}\n\npublic void setMessage(String message) {\n    this.message = message;\n}\n\npublic List&lt;UserDatum&gt; getUserData() {\n    return userData;\n}\n\npublic void setUserData(List&lt;UserDatum&gt; userData) {\n    this.userData = userData;\n}\n\npublic Integer getCode() {\n    return code;\n}\n\npublic void setCode(Integer code) {\n    this.code = code;\n}\n\npublic class UserDatum {\n\n    @SerializedName(&quot;id&quot;)\n    @Expose\n    private String id;\n    @SerializedName(&quot;username&quot;)\n    @Expose\n    private String username;\n    @SerializedName(&quot;password&quot;)\n    @Expose\n    private String password;\n    @SerializedName(&quot;under_id&quot;)\n    @Expose\n    private String underId;\n    @SerializedName(&quot;place_under_id&quot;)\n    @Expose\n    private String placeUnderId;\n    @SerializedName(&quot;mobile&quot;)\n    @Expose\n    private String mobile;\n    @SerializedName(&quot;side&quot;)\n    @Expose\n    private String side;\n    @SerializedName(&quot;email&quot;)\n    @Expose\n    private String email;\n    @SerializedName(&quot;status&quot;)\n    @Expose\n    private String status;\n    @SerializedName(&quot;member_name&quot;)\n    @Expose\n    private String memberName;\n    @SerializedName(&quot;package_id&quot;)\n    @Expose\n    private String packageId;\n    @SerializedName(&quot;package_id1&quot;)\n    @Expose\n    private String packageId1;\n    @SerializedName(&quot;avatar&quot;)\n    @Expose\n    private String avatar;\n    @SerializedName(&quot;gender&quot;)\n    @Expose\n    private Object gender;\n    @SerializedName(&quot;date_of_birth&quot;)\n    @Expose\n    private Object dateOfBirth;\n    @SerializedName(&quot;address_line1&quot;)\n    @Expose\n    private String addressLine1;\n    @SerializedName(&quot;address_line2&quot;)\n    @Expose\n    private String addressLine2;\n    @SerializedName(&quot;country&quot;)\n    @Expose\n    private String country;\n    @SerializedName(&quot;country_code&quot;)\n    @Expose\n    private String countryCode;\n    @SerializedName(&quot;state&quot;)\n    @Expose\n    private String state;\n    @SerializedName(&quot;city&quot;)\n    @Expose\n    private String city;\n    @SerializedName(&quot;pincode&quot;)\n    @Expose\n    private String pincode;\n    @SerializedName(&quot;pancard_no&quot;)\n    @Expose\n    private String pancardNo;\n    @SerializedName(&quot;adharcard_no&quot;)\n    @Expose\n    private String adharcardNo;\n    @SerializedName(&quot;franchaise_type&quot;)\n    @Expose\n    private String franchaiseType;\n    @SerializedName(&quot;franchise_id&quot;)\n    @Expose\n    private Object franchiseId;\n    @SerializedName(&quot;franchise_per&quot;)\n    @Expose\n    private Object franchisePer;\n    @SerializedName(&quot;franchise_status&quot;)\n    @Expose\n    private Object franchiseStatus;\n    @SerializedName(&quot;transaction_pass&quot;)\n    @Expose\n    private String transactionPass;\n    @SerializedName(&quot;id_proof&quot;)\n    @Expose\n    private Object idProof;\n    @SerializedName(&quot;address_proof&quot;)\n    @Expose\n    private Object addressProof;\n    @SerializedName(&quot;self_video&quot;)\n    @Expose\n    private String selfVideo;\n    @SerializedName(&quot;residential_proof&quot;)\n    @Expose\n    private String residentialProof;\n    @SerializedName(&quot;btc_address&quot;)\n    @Expose\n    private Object btcAddress;\n    @SerializedName(&quot;perfect_money&quot;)\n    @Expose\n    private Object perfectMoney;\n    @SerializedName(&quot;email_status&quot;)\n    @Expose\n    private String emailStatus;\n    @SerializedName(&quot;email_verify&quot;)\n    @Expose\n    private String emailVerify;\n    @SerializedName(&quot;created_on&quot;)\n    @Expose\n    private String createdOn;\n    @SerializedName(&quot;edited_on&quot;)\n    @Expose\n    private String editedOn;\n    @SerializedName(&quot;isDeleted&quot;)\n    @Expose\n    private String isDeleted;\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getUnderId() {\n        return underId;\n    }\n\n    public void setUnderId(String underId) {\n        this.underId = underId;\n    }\n\n    public String getPlaceUnderId() {\n        return placeUnderId;\n    }\n\n    public void setPlaceUnderId(String placeUnderId) {\n        this.placeUnderId = placeUnderId;\n    }\n\n    public String getMobile() {\n        return mobile;\n    }\n\n    public void setMobile(String mobile) {\n        this.mobile = mobile;\n    }\n\n    public String getSide() {\n        return side;\n    }\n\n    public void setSide(String side) {\n        this.side = side;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getStatus() {\n        return status;\n    }\n\n    public void setStatus(String status) {\n        this.status = status;\n    }\n\n    public String getMemberName() {\n        return memberName;\n    }\n\n    public void setMemberName(String memberName) {\n        this.memberName = memberName;\n    }\n\n    public String getPackageId() {\n        return packageId;\n    }\n\n    public void setPackageId(String packageId) {\n        this.packageId = packageId;\n    }\n\n    public String getPackageId1() {\n        return packageId1;\n    }\n\n    public void setPackageId1(String packageId1) {\n        this.packageId1 = packageId1;\n    }\n\n    public String getAvatar() {\n        return avatar;\n    }\n\n    public void setAvatar(String avatar) {\n        this.avatar = avatar;\n    }\n\n    public Object getGender() {\n        return gender;\n    }\n\n    public void setGender(Object gender) {\n        this.gender = gender;\n    }\n\n    public Object getDateOfBirth() {\n        return dateOfBirth;\n    }\n\n    public void setDateOfBirth(Object dateOfBirth) {\n        this.dateOfBirth = dateOfBirth;\n    }\n\n    public String getAddressLine1() {\n        return addressLine1;\n    }\n\n    public void setAddressLine1(String addressLine1) {\n        this.addressLine1 = addressLine1;\n    }\n\n    public String getAddressLine2() {\n        return addressLine2;\n    }\n\n    public void setAddressLine2(String addressLine2) {\n        this.addressLine2 = addressLine2;\n    }\n\n    public String getCountry() {\n        return country;\n    }\n\n    public void setCountry(String country) {\n        this.country = country;\n    }\n\n    public String getCountryCode() {\n        return countryCode;\n    }\n\n    public void setCountryCode(String countryCode) {\n        this.countryCode = countryCode;\n    }\n\n    public String getState() {\n        return state;\n    }\n\n    public void setState(String state) {\n        this.state = state;\n    }\n\n    public String getCity() {\n        return city;\n    }\n\n    public void setCity(String city) {\n        this.city = city;\n    }\n\n    public String getPincode() {\n        return pincode;\n    }\n\n    public void setPincode(String pincode) {\n        this.pincode = pincode;\n    }\n\n    public String getPancardNo() {\n        return pancardNo;\n    }\n\n    public void setPancardNo(String pancardNo) {\n        this.pancardNo = pancardNo;\n    }\n\n    public String getAdharcardNo() {\n        return adharcardNo;\n    }\n\n    public void setAdharcardNo(String adharcardNo) {\n        this.adharcardNo = adharcardNo;\n    }\n\n    public String getFranchaiseType() {\n        return franchaiseType;\n    }\n\n    public void setFranchaiseType(String franchaiseType) {\n        this.franchaiseType = franchaiseType;\n    }\n\n    public Object getFranchiseId() {\n        return franchiseId;\n    }\n\n    public void setFranchiseId(Object franchiseId) {\n        this.franchiseId = franchiseId;\n    }\n\n    public Object getFranchisePer() {\n        return franchisePer;\n    }\n\n    public void setFranchisePer(Object franchisePer) {\n        this.franchisePer = franchisePer;\n    }\n\n    public Object getFranchiseStatus() {\n        return franchiseStatus;\n    }\n\n    public void setFranchiseStatus(Object franchiseStatus) {\n        this.franchiseStatus = franchiseStatus;\n    }\n\n    public String getTransactionPass() {\n        return transactionPass;\n    }\n\n    public void setTransactionPass(String transactionPass) {\n        this.transactionPass = transactionPass;\n    }\n\n    public Object getIdProof() {\n        return idProof;\n    }\n\n    public void setIdProof(Object idProof) {\n        this.idProof = idProof;\n    }\n\n    public Object getAddressProof() {\n        return addressProof;\n    }\n\n    public void setAddressProof(Object addressProof) {\n        this.addressProof = addressProof;\n    }\n\n    public String getSelfVideo() {\n        return selfVideo;\n    }\n\n    public void setSelfVideo(String selfVideo) {\n        this.selfVideo = selfVideo;\n    }\n\n    public String getResidentialProof() {\n        return residentialProof;\n    }\n\n    public void setResidentialProof(String residentialProof) {\n        this.residentialProof = residentialProof;\n    }\n\n    public Object getBtcAddress() {\n        return btcAddress;\n    }\n\n    public void setBtcAddress(Object btcAddress) {\n        this.btcAddress = btcAddress;\n    }\n\n    public Object getPerfectMoney() {\n        return perfectMoney;\n    }\n\n    public void setPerfectMoney(Object perfectMoney) {\n        this.perfectMoney = perfectMoney;\n    }\n\n    public String getEmailStatus() {\n        return emailStatus;\n    }\n\n    public void setEmailStatus(String emailStatus) {\n        this.emailStatus = emailStatus;\n    }\n\n    public String getEmailVerify() {\n        return emailVerify;\n    }\n\n    public void setEmailVerify(String emailVerify) {\n        this.emailVerify = emailVerify;\n    }\n\n    public String getCreatedOn() {\n        return createdOn;\n    }\n\n    public void setCreatedOn(String createdOn) {\n        this.createdOn = createdOn;\n    }\n\n    public String getEditedOn() {\n        return editedOn;\n    }\n\n    public void setEditedOn(String editedOn) {\n        this.editedOn = editedOn;\n    }\n\n    public String getIsDeleted() {\n        return isDeleted;\n    }\n\n    public void setIsDeleted(String isDeleted) {\n        this.isDeleted = isDeleted;\n    }\n\n}\n</code></pre>\n<p>}</p>\n<p><strong>Dashboard.java</strong></p>\n<pre><code>private void getUserProfile() {\n\n    apiInterface = ApiLinks.getClient().create(APIInterface.class);\n    ProfilePojo profilePojo = new ProfilePojo(&quot;MFL176116&quot;);\n    Call&lt;ProfilePojo&gt; call = apiInterface.getUserProfile(profilePojo);\n    call.enqueue(new Callback&lt;ProfilePojo&gt;() {\n        @Override\n        public void onResponse(@NonNull Call&lt;ProfilePojo&gt; call, @NonNull Response&lt;ProfilePojo&gt; response) {\n            \n            ProfilePojo profilePojo = response.body();\n            Toast.makeText(getApplicationContext(), &quot;sucess&quot;, Toast.LENGTH_LONG).show();\n            \n        }\n\n        @Override\n        public void onFailure(@NonNull Call&lt;ProfilePojo&gt; call, @NonNull Throwable t) {\n            Toast.makeText(getApplicationContext(), t.getMessage(), Toast.LENGTH_LONG).show();\n        }\n    });\n}\n</code></pre>\n<p>After debugging the code can see Message is success, code =200, but userdata size ==0 please help me to get rid of this error</p>\n<p><a href=\"https://i.stack.imgur.com/iijo3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iijo3.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-websocket"],"answers":[{"tags":[],"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640181571,"creation_date":1640181571,"answer_id":70450228,"question_id":70446698,"body_markdown":"If you take a look at the method `AbstractSecurityWebSocketMessageBrokerConfigurer#configureClientInboundChannel(ChannelRegistration)`, when you have the `sameOriginDisabled` set to `false`, it simply register a `CsrfChannelInterceptor`:\r\n\r\n```java\r\nif (!sameOriginDisabled()) {\r\n\tregistration.setInterceptors(this.context.getBean(CsrfChannelInterceptor.class));\r\n}\r\n```\r\n\r\nAnd after that, it calls the `customizeClientInboundChannel(ChannelRegistration)` method.\r\n\r\nI can&#39;t test now, but I think you can override the method `customizeClientInboundChannel(ChannelRegistration)` and do the following:\r\n\r\n```java\r\n@Override\r\nprotected void customizeClientInboundChannel(ChannelRegistration registration) {\r\n     registration.addInterceptor(myCustomCsrfChannelInterceptor());\r\n}\r\n\r\nprivate CsrfChannelInterceptor myCustomCsrfChannelInterceptor() {\r\n    return new MyCustomCsrfChannelInterceptor();\r\n}\r\n\r\nprivate static class MyCustomCsrfChannelInterceptor {\r\n    private MessageMatcher&lt;Object&gt; matcher = //create your MessageMatcher with your rules\r\n\r\n    @Override\r\n\tpublic Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\r\n\t\tif (!this.matcher.matches(message)) {\r\n\t\t\treturn message;\r\n\t\t}\r\n\t\t//copy the content from `CsrfChannelInterceptor`\r\n\t}\r\n}\r\n```\r\n\r\nIn summary, what you are doing is creating a custom `CsrfChannelInterceptor` that will use a custom `MessageMatcher` with your own rules to check if it should apply to that `Message`, and the rest is just a copy of the original interceptor.","title":"How to mix csrf enabled and disabled spring websockets in one application","body":"<p>If you take a look at the method <code>AbstractSecurityWebSocketMessageBrokerConfigurer#configureClientInboundChannel(ChannelRegistration)</code>, when you have the <code>sameOriginDisabled</code> set to <code>false</code>, it simply register a <code>CsrfChannelInterceptor</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (!sameOriginDisabled()) {\n    registration.setInterceptors(this.context.getBean(CsrfChannelInterceptor.class));\n}\n</code></pre>\n<p>And after that, it calls the <code>customizeClientInboundChannel(ChannelRegistration)</code> method.</p>\n<p>I can't test now, but I think you can override the method <code>customizeClientInboundChannel(ChannelRegistration)</code> and do the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void customizeClientInboundChannel(ChannelRegistration registration) {\n     registration.addInterceptor(myCustomCsrfChannelInterceptor());\n}\n\nprivate CsrfChannelInterceptor myCustomCsrfChannelInterceptor() {\n    return new MyCustomCsrfChannelInterceptor();\n}\n\nprivate static class MyCustomCsrfChannelInterceptor {\n    private MessageMatcher&lt;Object&gt; matcher = //create your MessageMatcher with your rules\n\n    @Override\n    public Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\n        if (!this.matcher.matches(message)) {\n            return message;\n        }\n        //copy the content from `CsrfChannelInterceptor`\n    }\n}\n</code></pre>\n<p>In summary, what you are doing is creating a custom <code>CsrfChannelInterceptor</code> that will use a custom <code>MessageMatcher</code> with your own rules to check if it should apply to that <code>Message</code>, and the rest is just a copy of the original interceptor.</p>\n"}],"owner":{"account_id":14854496,"reputation":233,"user_id":10727434,"display_name":"Christoph"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":419,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1640181571,"creation_date":1640164576,"question_id":70446698,"body_markdown":"I have an application where I need two different websocket setups:\r\n1. one for allowing communication between the application and remote Java-based clients \r\n    - uses stateless comms (auth token is included in each request, also in the websocket connect request)\r\n    - csrf needs to be disabled\r\n2. one for allowing async push notifications from the application to its own web UI.\r\n    - uses normal session authentication\r\n    - csrf needs to be, or should preferably be, enabled (correct me if I&#39;m wrong?)\r\n\r\nNow, in Spring, to disable cross origin checking for websockets one needs to extend `AbstractSecurityWebSocketMessageBrokerConfigurer` e.g. as follows:\r\n\r\n    @Configuration\r\n    public class WebSocketSecurityConfig extends AbstractSecurityWebSocketMessageBrokerConfigurer {\r\n        @Override\r\n        protected void configureInbound(final MessageSecurityMetadataSourceRegistry messages) {\r\n            messages.anyMessage().authenticated();\r\n        }\r\n\r\n        @Override\r\n        protected boolean sameOriginDisabled() {\r\n            return true;\r\n        }\r\n    }\r\n\r\nThe question is, how can I have it disabled for some websockets and enabled for others?","title":"How to mix csrf enabled and disabled spring websockets in one application","body":"<p>I have an application where I need two different websocket setups:</p>\n<ol>\n<li>one for allowing communication between the application and remote Java-based clients\n<ul>\n<li>uses stateless comms (auth token is included in each request, also in the websocket connect request)</li>\n<li>csrf needs to be disabled</li>\n</ul>\n</li>\n<li>one for allowing async push notifications from the application to its own web UI.\n<ul>\n<li>uses normal session authentication</li>\n<li>csrf needs to be, or should preferably be, enabled (correct me if I'm wrong?)</li>\n</ul>\n</li>\n</ol>\n<p>Now, in Spring, to disable cross origin checking for websockets one needs to extend <code>AbstractSecurityWebSocketMessageBrokerConfigurer</code> e.g. as follows:</p>\n<pre><code>@Configuration\npublic class WebSocketSecurityConfig extends AbstractSecurityWebSocketMessageBrokerConfigurer {\n    @Override\n    protected void configureInbound(final MessageSecurityMetadataSourceRegistry messages) {\n        messages.anyMessage().authenticated();\n    }\n\n    @Override\n    protected boolean sameOriginDisabled() {\n        return true;\n    }\n}\n</code></pre>\n<p>The question is, how can I have it disabled for some websockets and enabled for others?</p>\n"},{"tags":["java","logging","slf4j"],"comments":[{"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":0,"creation_date":1331575168,"post_id":9665966,"comment_id":12286230,"body_markdown":"try `...pattern = c:\\logs\\myApp.log`","body":"try <code>...pattern = c:\\logs\\myApp.log</code>"},{"owner":{"account_id":1072167,"reputation":1024,"user_id":1071179,"accept_rate":17,"display_name":"Mahesh"},"score":0,"creation_date":1331611152,"post_id":9665966,"comment_id":12295524,"body_markdown":"@DwB: My issue is not that java util logging is unable to find myApp.log. Rather it is unable to find logging.properties inside my WEB-INF/classes - sorry if I wasn&#39;t clear on this.","body":"@DwB: My issue is not that java util logging is unable to find myApp.log. Rather it is unable to find logging.properties inside my WEB-INF/classes - sorry if I wasn&#39;t clear on this."}],"answers":[{"tags":[],"owner":{"account_id":1201405,"reputation":1039,"user_id":1172000,"accept_rate":67,"display_name":"foch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1331573143,"creation_date":1331573143,"answer_id":9671816,"question_id":9665966,"body_markdown":"Don&#39;t use an absolute path for your log fine. Instead, just write :\r\n\r\n    # File Logging\r\n    java.util.logging.FileHandler.pattern = myApp.log\r\n\r\nThen you can look for *myApp.log* with a file search tool, and use a relative path based on the default path you will find.","title":"slf4j logging issue - log file not getting generated","body":"<p>Don't use an absolute path for your log fine. Instead, just write :</p>\n\n<pre><code># File Logging\njava.util.logging.FileHandler.pattern = myApp.log\n</code></pre>\n\n<p>Then you can look for <em>myApp.log</em> with a file search tool, and use a relative path based on the default path you will find.</p>\n"},{"tags":[],"owner":{"account_id":1072167,"reputation":1024,"user_id":1071179,"accept_rate":17,"display_name":"Mahesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1331708688,"creation_date":1331708688,"answer_id":9697327,"question_id":9665966,"body_markdown":"Fixed the problem. Had to set -Djava.util.logging.config.file= &quot;pathto\\WEB-INF\\classes\\logging.properties in Arguments tab - Open Server-&gt;Open Launch Configuration in Eclipse","title":"slf4j logging issue - log file not getting generated","body":"<p>Fixed the problem. Had to set -Djava.util.logging.config.file= \"pathto\\WEB-INF\\classes\\logging.properties in Arguments tab - Open Server->Open Launch Configuration in Eclipse</p>\n"},{"tags":[],"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640181560,"creation_date":1640181560,"answer_id":70450225,"question_id":9665966,"body_markdown":"JUL property file is [never loaded from the classpath][1] of the application classloader. The classes of the JUL are loaded in the context of the system classloader. The classpath of you application is unknown on this level. Therefore you need to specify the file location manually as:\r\n\r\n    -Djava.util.logging.config.file=&lt;location&gt;\r\n\r\nThe default location is `lib/logging.properties` inside the JRE directory.\r\n\r\nHere is a useful link about classloader hierarchy of the WebLogic:\r\n\r\nhttps://docs.oracle.com/en/middleware/fusion-middleware/weblogic-server/12.2.1.4/wlprg/classloading.html#GUID-7932D476-4282-462E-AF84-0EAD3CD97021\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/805701/load-java-util-logging-config-file-for-default-initialization","title":"slf4j logging issue - log file not getting generated","body":"<p>JUL property file is <a href=\"https://stackoverflow.com/questions/805701/load-java-util-logging-config-file-for-default-initialization\">never loaded from the classpath</a> of the application classloader. The classes of the JUL are loaded in the context of the system classloader. The classpath of you application is unknown on this level. Therefore you need to specify the file location manually as:</p>\n<pre><code>-Djava.util.logging.config.file=&lt;location&gt;\n</code></pre>\n<p>The default location is <code>lib/logging.properties</code> inside the JRE directory.</p>\n<p>Here is a useful link about classloader hierarchy of the WebLogic:</p>\n<p><a href=\"https://docs.oracle.com/en/middleware/fusion-middleware/weblogic-server/12.2.1.4/wlprg/classloading.html#GUID-7932D476-4282-462E-AF84-0EAD3CD97021\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/middleware/fusion-middleware/weblogic-server/12.2.1.4/wlprg/classloading.html#GUID-7932D476-4282-462E-AF84-0EAD3CD97021</a></p>\n"}],"owner":{"account_id":1072167,"reputation":1024,"user_id":1071179,"accept_rate":17,"display_name":"Mahesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3792,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1640181560,"creation_date":1331550628,"question_id":9665966,"body_markdown":"I am using slf4j over java util logging.  I am trying to place logging.properties file so that it will picked up by my webapp.  The following is how my logging.properties file look like:\r\n\r\n    # Logging\r\n    handlers = java.util.logging.FileHandler, java.util.logging.ConsoleHandler\r\n    .level = ALL\r\n    \r\n    # File Logging\r\n    java.util.logging.FileHandler.pattern = c:/logs/myApp.log\r\n    java.util.logging.FileHandler.formatter = java.util.logging.SimpleFormatter\r\n    java.util.logging.FileHandler.level = FINE\r\n    \r\n    java.util.logging.ConsoleHandler.level = FINE\r\n    java.util.logging.ConsoleHandler.formatter = java.util.logging.SimpleFormatter\r\n    \r\n    com.foo.bar.level=ALL\r\n\r\nI am *NOT* doing -Djava.util.logging.config.file=&quot;file_path/logging.properties.  Instead I have put the logging.properties in my WEB-INF/classes and included this folder as a class folder in eclipse.  I dont know if this is sufficient for things to work.\r\n\r\nThe log file myApp.log is not getting generated nor any logging happens in it.  But anyways, the logging still occurs on the Eclipse console.\r\n\r\nI suspect it is not taking this logging.properties file at all.  But then I tried a suggestion from the posting - [https://stackoverflow.com/questions/9457976/java-logging-where-is-my-log-file][1] - I can see that it prints the file path with file name.\r\n\r\nI will appreciate if some help can be provided in this regard.\r\n\r\nNOTE:  I am using slf4j over java util logging.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9457976/java-logging-where-is-my-log-file","title":"slf4j logging issue - log file not getting generated","body":"<p>I am using slf4j over java util logging.  I am trying to place logging.properties file so that it will picked up by my webapp.  The following is how my logging.properties file look like:</p>\n\n<pre><code># Logging\nhandlers = java.util.logging.FileHandler, java.util.logging.ConsoleHandler\n.level = ALL\n\n# File Logging\njava.util.logging.FileHandler.pattern = c:/logs/myApp.log\njava.util.logging.FileHandler.formatter = java.util.logging.SimpleFormatter\njava.util.logging.FileHandler.level = FINE\n\njava.util.logging.ConsoleHandler.level = FINE\njava.util.logging.ConsoleHandler.formatter = java.util.logging.SimpleFormatter\n\ncom.foo.bar.level=ALL\n</code></pre>\n\n<p>I am <em>NOT</em> doing -Djava.util.logging.config.file=\"file_path/logging.properties.  Instead I have put the logging.properties in my WEB-INF/classes and included this folder as a class folder in eclipse.  I dont know if this is sufficient for things to work.</p>\n\n<p>The log file myApp.log is not getting generated nor any logging happens in it.  But anyways, the logging still occurs on the Eclipse console.</p>\n\n<p>I suspect it is not taking this logging.properties file at all.  But then I tried a suggestion from the posting - <a href=\"https://stackoverflow.com/questions/9457976/java-logging-where-is-my-log-file\">Java Logging - where is my log file?</a> - I can see that it prints the file path with file name.</p>\n\n<p>I will appreciate if some help can be provided in this regard.</p>\n\n<p>NOTE:  I am using slf4j over java util logging.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","google-cloud-platform"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640181516,"creation_date":1640178800,"answer_id":70449643,"question_id":70447197,"body_markdown":"To be able to get the count of all children who have the `weeksearch` field set to `4112021yes`, please use the following query:\r\n\r\n    String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n\tDatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n\tDatabaseReference uidRef = db.child(&quot;attendance&quot;).child(subjectId).child(uid);\r\n                                                                              &#128070;\r\n    Query queryByWeekSearch = uidRef.orderByChild(&quot;weeksearch&quot;).equalTo(week + &quot;yes&quot;);\r\n    queryByWeekSearch.addValueEventListener(/* ... /*);\r\n\r\nRemember that you need to add all nodes inside your reference, including the UID of the users.\r\n\r\n**Edit:**\r\n\r\n&gt; What I want is all the nodes under the subjectId.\r\n\r\nThat&#39;s not possible with your actual database structure. The queries in the Realtime Database work on a flat list of nodes, where the value on which you want to perform the filter **must** be at a fixed path under each direct child node. That being said, you should use a simpler database schema that can allow you to perform the desired query. The simplest I can think of would be to add the UID as property of each child:\r\n\r\n    Firebase-root\r\n      |\r\n      --- attendance\r\n            |\r\n            --- $subjectId\r\n                  |\r\n                  --- weeksearch: &quot;4112021yes&quot;\r\n                  |\r\n                  --- uid: &quot;8IMf...ndA3&quot; &#128072;\r\n\r\nCase in which you can leave your actual code untouched.","title":"Get children count of a node inside another node in Firebase","body":"<p>To be able to get the count of all children who have the <code>weeksearch</code> field set to <code>4112021yes</code>, please use the following query:</p>\n<pre><code>String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\nDatabaseReference db = FirebaseDatabase.getInstance().getReference();\nDatabaseReference uidRef = db.child(&quot;attendance&quot;).child(subjectId).child(uid);\n                                                                          👆\nQuery queryByWeekSearch = uidRef.orderByChild(&quot;weeksearch&quot;).equalTo(week + &quot;yes&quot;);\nqueryByWeekSearch.addValueEventListener(/* ... /*);\n</code></pre>\n<p>Remember that you need to add all nodes inside your reference, including the UID of the users.</p>\n<p><strong>Edit:</strong></p>\n<blockquote>\n<p>What I want is all the nodes under the subjectId.</p>\n</blockquote>\n<p>That's not possible with your actual database structure. The queries in the Realtime Database work on a flat list of nodes, where the value on which you want to perform the filter <strong>must</strong> be at a fixed path under each direct child node. That being said, you should use a simpler database schema that can allow you to perform the desired query. The simplest I can think of would be to add the UID as property of each child:</p>\n<pre><code>Firebase-root\n  |\n  --- attendance\n        |\n        --- $subjectId\n              |\n              --- weeksearch: &quot;4112021yes&quot;\n              |\n              --- uid: &quot;8IMf...ndA3&quot; 👈\n</code></pre>\n<p>Case in which you can leave your actual code untouched.</p>\n"}],"owner":{"account_id":16829849,"reputation":101,"user_id":12168123,"display_name":"willy "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70449643,"answer_count":1,"score":0,"last_activity_date":1640181516,"creation_date":1640166996,"question_id":70447197,"body_markdown":"I want the number of children under a subject ID that has a value of &quot;4112021yes&quot; in the &quot;weeksearch&quot; key as shown in the attached image. I do not want to focus on the userId because there can be several userids under the same subject id. I have tried doing this \r\n\r\n    DatabaseReference reference2 = FirebaseDatabase.getInstance().getReference(&quot;attendance&quot;).child(subjectId);\r\n                Query query2 = reference2.orderByChild(&quot;weeksearch&quot;).equalTo(week+&quot;yes&quot;);\r\n                query2.addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                        long numberOfUsers = snapshot.getChildrenCount();\r\n                        noOfAbsentStudents = (int) numberOfUsers;\r\n                         \r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                    }\r\n                });\r\n\r\nBut was not successful. Any suggestions on how I can get that children count?\r\n\r\n[![I want the number of children under the subject id that has a value of &quot;4112021yes&quot; in the &quot;weeksearch&quot; key][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lZGlQ.jpg","title":"Get children count of a node inside another node in Firebase","body":"<p>I want the number of children under a subject ID that has a value of &quot;4112021yes&quot; in the &quot;weeksearch&quot; key as shown in the attached image. I do not want to focus on the userId because there can be several userids under the same subject id. I have tried doing this</p>\n<pre><code>DatabaseReference reference2 = FirebaseDatabase.getInstance().getReference(&quot;attendance&quot;).child(subjectId);\n            Query query2 = reference2.orderByChild(&quot;weeksearch&quot;).equalTo(week+&quot;yes&quot;);\n            query2.addValueEventListener(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\n                    long numberOfUsers = snapshot.getChildrenCount();\n                    noOfAbsentStudents = (int) numberOfUsers;\n                     \n                }\n\n                @Override\n                public void onCancelled(@NonNull DatabaseError error) {\n\n                }\n            });\n</code></pre>\n<p>But was not successful. Any suggestions on how I can get that children count?</p>\n<p><a href=\"https://i.stack.imgur.com/lZGlQ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lZGlQ.jpg\" alt=\"I want the number of children under the subject id that has a value of &quot;4112021yes&quot; in the &quot;weeksearch&quot; key\" /></a></p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":16442004,"reputation":3360,"user_id":11877986,"display_name":"GoldenretriverYT"},"score":1,"creation_date":1640179488,"post_id":70449747,"comment_id":124533926,"body_markdown":"JavaScript is not the same as Java. Use correct tags.","body":"JavaScript is not the same as Java. Use correct tags."},{"owner":{"account_id":137890,"reputation":8718,"user_id":995052,"accept_rate":56,"display_name":"Kris"},"score":0,"creation_date":1640182426,"post_id":70449747,"comment_id":124535105,"body_markdown":"Does this answer your question? [is there a way i can fix this invalid module name error?](https://stackoverflow.com/questions/62765500/is-there-a-way-i-can-fix-this-invalid-module-name-error)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/62765500/is-there-a-way-i-can-fix-this-invalid-module-name-error\">is there a way i can fix this invalid module name error?</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1640926731,"post_id":70449747,"comment_id":124692387,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":23720264,"reputation":1,"user_id":17740908,"display_name":"ClEevEer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640181468,"creation_date":1640179270,"question_id":70449747,"body_markdown":"Like the title says  every time I try to run the client I get this error\r\nI am fairly new to coding so excuse me if the error is really obvious\r\nI am using Intellij with JRE java 17\r\n\r\nFeel free to ask if you need any more information\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: : Invalid module name: &#39;&#39; is not a Java identifier\r\n\tat java.base/jdk.internal.module.Checks.requireModuleName(Checks.java:59)\r\n\tat java.base/java.lang.module.ModuleDescriptor$Builder.&lt;init&gt;(ModuleDescriptor.java:1515)\r\n\tat java.base/java.lang.module.ModuleDescriptor.newAutomaticModule(ModuleDescriptor.java:2395)\r\n\tat cpw.mods.securejarhandler@0.9.54/cpw.mods.jarhandling.impl.SimpleJarMetadata.descriptor(SimpleJarMetadata.java:13)\r\n\tat cpw.mods.securejarhandler@0.9.54/cpw.mods.jarhandling.impl.Jar.computeDescriptor(Jar.java:47)\r\n\tat cpw.mods.securejarhandler@0.9.54/cpw.mods.cl.JarModuleFinder$JarModuleReference.&lt;init&gt;(JarModuleFinder.java:50)\r\n\tat cpw.mods.securejarhandler@0.9.54/cpw.mods.cl.JarModuleFinder.lambda$new$0(JarModuleFinder.java:28)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)\r\n\tat cpw.mods.securejarhandler@0.9.54/cpw.mods.cl.JarModuleFinder.&lt;init&gt;(JarModuleFinder.java:29)\r\n\tat cpw.mods.securejarhandler@0.9.54/cpw.mods.cl.JarModuleFinder.of(JarModuleFinder.java:43)\r\n\tat cpw.mods.bootstraplauncher@0.1.17/cpw.mods.bootstraplauncher.BootstrapLauncher.main(BootstrapLauncher.java:81)","title":"Invalid module name error when runing the client","body":"<p>Like the title says  every time I try to run the client I get this error\nI am fairly new to coding so excuse me if the error is really obvious\nI am using Intellij with JRE java 17</p>\n<p>Feel free to ask if you need any more information</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: : Invalid module name: '' is not a Java identifier\nat java.base/jdk.internal.module.Checks.requireModuleName(Checks.java:59)\nat java.base/java.lang.module.ModuleDescriptor$Builder.&lt;init&gt;(ModuleDescriptor.java:1515)\nat java.base/java.lang.module.ModuleDescriptor.newAutomaticModule(ModuleDescriptor.java:2395)\nat cpw.mods.securejarhandler@0.9.54/cpw.mods.jarhandling.impl.SimpleJarMetadata.descriptor(SimpleJarMetadata.java:13)\nat cpw.mods.securejarhandler@0.9.54/cpw.mods.jarhandling.impl.Jar.computeDescriptor(Jar.java:47)\nat cpw.mods.securejarhandler@0.9.54/cpw.mods.cl.JarModuleFinder$JarModuleReference.&lt;init&gt;(JarModuleFinder.java:50)\nat cpw.mods.securejarhandler@0.9.54/cpw.mods.cl.JarModuleFinder.lambda$new$0(JarModuleFinder.java:28)\nat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\nat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)\nat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\nat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\nat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)\nat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\nat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)\nat cpw.mods.securejarhandler@0.9.54/cpw.mods.cl.JarModuleFinder.&lt;init&gt;(JarModuleFinder.java:29)\nat cpw.mods.securejarhandler@0.9.54/cpw.mods.cl.JarModuleFinder.of(JarModuleFinder.java:43)\nat cpw.mods.bootstraplauncher@0.1.17/cpw.mods.bootstraplauncher.BootstrapLauncher.main(BootstrapLauncher.java:81)\n</code></pre>\n"},{"tags":["java","equals","lombok"],"comments":[{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":1,"creation_date":1640181286,"post_id":70450013,"comment_id":124534673,"body_markdown":"You have comparison logic which you need for a very specific use case. This shouldn&#39;t be part of `equals()`. And in general putting `@Data` on an Entity.. Ouch.","body":"You have comparison logic which you need for a very specific use case. This shouldn&#39;t be part of <code>equals()</code>. And in general putting <code>@Data</code> on an Entity.. Ouch."}],"answers":[{"tags":[],"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1640181209,"creation_date":1640180659,"answer_id":70450041,"question_id":70450013,"body_markdown":"You can also use Lombok&#39;s @EqualsAndHashCode in conjunction with an exclude.\r\n\r\n```java\r\n@EqualsAndHashCode\r\npublic class MyObject{\r\n\r\n    @EqualsAndHashCode.Exclude\r\n    Object fieldToExclude;\r\n\r\n}\r\n```\r\n\r\nInstead of choosing which to exclude you can also opt to choose the ones you wish to include like so. All which is not annotated with Include will not be used in the equals &amp; hashcode implementation.\r\n\r\n\r\n```java\r\n@EqualsAndHashCode(onlyExplicitlyIncluded = true)\r\npublic class MyObject{\r\n\r\n    @EqualsAndHashCode.Include\r\n    Object fieldToInclude;\r\n\r\n}\r\n```\r\n\r\n\r\n[Lombok EqualsAndHashCode documentation][1]\r\n\r\n\r\n  [1]: https://projectlombok.org/features/EqualsAndHashCode","title":"How to ignore 1 field in Java equals() for custom object?","body":"<p>You can also use Lombok's @EqualsAndHashCode in conjunction with an exclude.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EqualsAndHashCode\npublic class MyObject{\n\n    @EqualsAndHashCode.Exclude\n    Object fieldToExclude;\n\n}\n</code></pre>\n<p>Instead of choosing which to exclude you can also opt to choose the ones you wish to include like so. All which is not annotated with Include will not be used in the equals &amp; hashcode implementation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EqualsAndHashCode(onlyExplicitlyIncluded = true)\npublic class MyObject{\n\n    @EqualsAndHashCode.Include\n    Object fieldToInclude;\n\n}\n</code></pre>\n<p><a href=\"https://projectlombok.org/features/EqualsAndHashCode\" rel=\"noreferrer\">Lombok EqualsAndHashCode documentation</a></p>\n"}],"owner":{"account_id":19144297,"reputation":637,"user_id":13983643,"display_name":"newLearner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3434,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":70450041,"answer_count":1,"score":8,"last_activity_date":1640181209,"creation_date":1640180514,"question_id":70450013,"body_markdown":"I have a `Person` object which has 20 fields and stored in dynamoDB.\r\nI want to create a new `Person` object based on some input, check if the same object exists in the Database or not. If it exists, I want to compare the 2 objects on the basis of `19 fields out of 20`. The field to ignore is a boolean flag check.\r\n\r\nI am using `Lombok @Data` to generate the equals method.\r\n\r\nIs there a way to do this without having to write a full fledged overriden `equals` method myself ?","title":"How to ignore 1 field in Java equals() for custom object?","body":"<p>I have a <code>Person</code> object which has 20 fields and stored in dynamoDB.\nI want to create a new <code>Person</code> object based on some input, check if the same object exists in the Database or not. If it exists, I want to compare the 2 objects on the basis of <code>19 fields out of 20</code>. The field to ignore is a boolean flag check.</p>\n<p>I am using <code>Lombok @Data</code> to generate the equals method.</p>\n<p>Is there a way to do this without having to write a full fledged overriden <code>equals</code> method myself ?</p>\n"},{"tags":["java","maven","log4j"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":3,"creation_date":1639909756,"post_id":70410416,"comment_id":124464054,"body_markdown":"First why are you trying to build from source? Second you should use this location: https://logging.apache.org/log4j/2.x/download.html (source) apart from that it does not make sense use the one which is provided by central repository ...furthermore why using such an old version... also the description how to build shows `mvn install`...","body":"First why are you trying to build from source? Second you should use this location: <a href=\"https://logging.apache.org/log4j/2.x/download.html\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/download.html</a> (source) apart from that it does not make sense use the one which is provided by central repository ...furthermore why using such an old version... also the description how to build shows <code>mvn install</code>..."},{"owner":{"account_id":4088741,"reputation":6300,"user_id":3357352,"accept_rate":97,"display_name":"OrenIshShalom"},"score":0,"creation_date":1639914888,"post_id":70410416,"comment_id":124465196,"body_markdown":"@khmarbaise I can&#39;t see infected version `2.14.1` there?","body":"@khmarbaise I can&#39;t see infected version <code>2.14.1</code> there?"},{"owner":{"account_id":4088741,"reputation":6300,"user_id":3357352,"accept_rate":97,"display_name":"OrenIshShalom"},"score":0,"creation_date":1639914954,"post_id":70410416,"comment_id":124465208,"body_markdown":"`mvn install` fails with the same error as `mvn compile`","body":"<code>mvn install</code> fails with the same error as <code>mvn compile</code>"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1640087103,"post_id":70410416,"comment_id":124507180,"body_markdown":"If you want to get the binaries for version 2.14.1, just go to the [download page](https://logging.apache.org/log4j/2.x/download.html) given by @khmarbaise, click the [ASF archive repository](https://archive.apache.org/dist/logging/log4j/) link, then the 2.14.1 directory, and finally apache-log4j-2.14.1-bin.tar.gz.","body":"If you want to get the binaries for version 2.14.1, just go to the <a href=\"https://logging.apache.org/log4j/2.x/download.html\" rel=\"nofollow noreferrer\">download page</a> given by @khmarbaise, click the <a href=\"https://archive.apache.org/dist/logging/log4j/\" rel=\"nofollow noreferrer\">ASF archive repository</a> link, then the 2.14.1 directory, and finally apache-log4j-2.14.1-bin.tar.gz."},{"owner":{"account_id":4088741,"reputation":6300,"user_id":3357352,"accept_rate":97,"display_name":"OrenIshShalom"},"score":0,"creation_date":1640088440,"post_id":70410416,"comment_id":124507655,"body_markdown":"@Olivier thanks, but I want to build the jars from source after editing them.","body":"@Olivier thanks, but I want to build the jars from source after editing them."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1640095089,"post_id":70410416,"comment_id":124510183,"body_markdown":"Why use the most recent release of Log4j 2.17.0...","body":"Why use the most recent release of Log4j 2.17.0..."},{"owner":{"account_id":4088741,"reputation":6300,"user_id":3357352,"accept_rate":97,"display_name":"OrenIshShalom"},"score":0,"creation_date":1640095527,"post_id":70410416,"comment_id":124510369,"body_markdown":"I&#39;m doing research on the infected log4j version ...","body":"I&#39;m doing research on the infected log4j version ..."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":1,"creation_date":1640103843,"post_id":70410416,"comment_id":124513844,"body_markdown":"Versions before 2.15 are not &quot;infected&quot;, they are vulnerable.","body":"Versions before 2.15 are not &quot;infected&quot;, they are vulnerable."}],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640180981,"creation_date":1640100727,"answer_id":70437911,"question_id":70410416,"body_markdown":"Until recently, the build process of `log4j-core` depends on the build process of a companion `log4j-core-java9` module.\r\n\r\nThis multi-module build approach was introduced in [this issue](https://issues.apache.org/jira/browse/LOG4J2-2191) and the changes performed are described in [this commit](https://github.com/apache/logging-log4j2/commit/46cdb7f470f4e0452fc662f97bad1f6e2a174e0d).\r\n\r\nIn a future version of the library these dependencies will be removed as described in [this issue](https://issues.apache.org/jira/browse/LOG4J2-3241) precisely to avoid potential dependency problems. The issue provides more information about was it going on:\r\n\r\n&gt; Log4j API and Log4j Core have to build the Java 9 classes in one \r\n&gt; Maven module and then copy them into the &quot;normal&quot; module. The Java \r\n&gt; 9 projects are not deployed during a release. The pom.xml files \r\n&gt; were specifying both as provided dependencies. When the enforcer \r\n&gt; plugin sees this it is trying to resolve them - sometimes - and \r\n&gt; fails. It seems these don&#39;t need to be declared as dependencies \r\n&gt; because they are configured into the dependency plugin. So the \r\n&gt; dependencies should be removed from the pom files.\r\n\r\nIf you need to build the code from an older version from source, according to the changes introduced in the [aforementioned commit](https://github.com/apache/logging-log4j2/commit/46cdb7f470f4e0452fc662f97bad1f6e2a174e0d), you first need to assembly `log4j-core-java9` and then use the dependency in the build process of `log4j-core` itself.\r\n\r\nIn a nutshell, try the following.\r\n\r\nFirst, `log4j2` uses [`toolchains`](https://maven.apache.org/guides/mini/guide-using-toolchains.html) in its build process, so for JDK 11 you may need to provide an entry in `~/.m2/toolchains.xml` file like the following:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF8&quot;?&gt;\r\n&lt;toolchains&gt;\r\n  &lt;!-- other definitions --&gt;\r\n  &lt;toolchain&gt;\r\n    &lt;type&gt;jdk&lt;/type&gt;\r\n    &lt;provides&gt;\r\n      &lt;version&gt;11&lt;/version&gt;\r\n    &lt;/provides&gt;\r\n    &lt;configuration&gt;\r\n      &lt;jdkHome&gt;path/to/the/jdk (/opt/java/openjdk, for instance)&lt;/jdkHome&gt;\r\n    &lt;/configuration&gt;\r\n  &lt;/toolchain&gt;\r\n&lt;/toolchains&gt;\r\n```\r\n\r\nYou can find different toolchain configuration examples in the repository library.\r\n\r\nNow, run the following commands from the directory in which you unpacked the library.\r\n\r\nInstall `log4j2-api-java9`:\r\n\r\n```\r\ncd log4j2-api-java9\r\n../mvnw clean install -Dmaven.test.skip=true -Dmaven.javadoc.skip=true\r\n```\r\n\r\n\r\nInstall `log4j2-api`:\r\n\r\n```\r\ncd ../log4j2-api\r\n../mvnw clean install -Dmaven.test.skip=true -Dmaven.javadoc.skip=true\r\n```\r\n\r\nInstall `log4j-core-java9`:\r\n\r\n```\r\ncd ../log4j-core-java9/\r\n../mvnw clean install -Dmaven.test.skip=true -Dmaven.javadoc.skip=true\r\n```\r\n\r\nFinally, package `log4j-core`:\r\n\r\n```\r\ncd ../log4j-core\r\n../mvnw clean package -Dmaven.test.skip=true -Dmaven.javadoc.skip=true\r\n```\r\n\r\nPlease, be aware that this build process could generate a lot of artifacts that will be installed in your Maven local repository, and that may conflict with versions of the library downloaded from the Maven remote repository. Consider using for this process a temporary docker container, for example:\r\n\r\n```\r\ndocker run -it --entrypoint /bin/bash adoptopenjdk/openjdk11:latest\r\n```\r\n\r\nand run these different commands within it.","title":"maven build fails for java 9 when java 11 is installed","body":"<p>Until recently, the build process of <code>log4j-core</code> depends on the build process of a companion <code>log4j-core-java9</code> module.</p>\n<p>This multi-module build approach was introduced in <a href=\"https://issues.apache.org/jira/browse/LOG4J2-2191\" rel=\"nofollow noreferrer\">this issue</a> and the changes performed are described in <a href=\"https://github.com/apache/logging-log4j2/commit/46cdb7f470f4e0452fc662f97bad1f6e2a174e0d\" rel=\"nofollow noreferrer\">this commit</a>.</p>\n<p>In a future version of the library these dependencies will be removed as described in <a href=\"https://issues.apache.org/jira/browse/LOG4J2-3241\" rel=\"nofollow noreferrer\">this issue</a> precisely to avoid potential dependency problems. The issue provides more information about was it going on:</p>\n<blockquote>\n<p>Log4j API and Log4j Core have to build the Java 9 classes in one\nMaven module and then copy them into the &quot;normal&quot; module. The Java\n9 projects are not deployed during a release. The pom.xml files\nwere specifying both as provided dependencies. When the enforcer\nplugin sees this it is trying to resolve them - sometimes - and\nfails. It seems these don't need to be declared as dependencies\nbecause they are configured into the dependency plugin. So the\ndependencies should be removed from the pom files.</p>\n</blockquote>\n<p>If you need to build the code from an older version from source, according to the changes introduced in the <a href=\"https://github.com/apache/logging-log4j2/commit/46cdb7f470f4e0452fc662f97bad1f6e2a174e0d\" rel=\"nofollow noreferrer\">aforementioned commit</a>, you first need to assembly <code>log4j-core-java9</code> and then use the dependency in the build process of <code>log4j-core</code> itself.</p>\n<p>In a nutshell, try the following.</p>\n<p>First, <code>log4j2</code> uses <a href=\"https://maven.apache.org/guides/mini/guide-using-toolchains.html\" rel=\"nofollow noreferrer\"><code>toolchains</code></a> in its build process, so for JDK 11 you may need to provide an entry in <code>~/.m2/toolchains.xml</code> file like the following:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF8&quot;?&gt;\n&lt;toolchains&gt;\n  &lt;!-- other definitions --&gt;\n  &lt;toolchain&gt;\n    &lt;type&gt;jdk&lt;/type&gt;\n    &lt;provides&gt;\n      &lt;version&gt;11&lt;/version&gt;\n    &lt;/provides&gt;\n    &lt;configuration&gt;\n      &lt;jdkHome&gt;path/to/the/jdk (/opt/java/openjdk, for instance)&lt;/jdkHome&gt;\n    &lt;/configuration&gt;\n  &lt;/toolchain&gt;\n&lt;/toolchains&gt;\n</code></pre>\n<p>You can find different toolchain configuration examples in the repository library.</p>\n<p>Now, run the following commands from the directory in which you unpacked the library.</p>\n<p>Install <code>log4j2-api-java9</code>:</p>\n<pre><code>cd log4j2-api-java9\n../mvnw clean install -Dmaven.test.skip=true -Dmaven.javadoc.skip=true\n</code></pre>\n<p>Install <code>log4j2-api</code>:</p>\n<pre><code>cd ../log4j2-api\n../mvnw clean install -Dmaven.test.skip=true -Dmaven.javadoc.skip=true\n</code></pre>\n<p>Install <code>log4j-core-java9</code>:</p>\n<pre><code>cd ../log4j-core-java9/\n../mvnw clean install -Dmaven.test.skip=true -Dmaven.javadoc.skip=true\n</code></pre>\n<p>Finally, package <code>log4j-core</code>:</p>\n<pre><code>cd ../log4j-core\n../mvnw clean package -Dmaven.test.skip=true -Dmaven.javadoc.skip=true\n</code></pre>\n<p>Please, be aware that this build process could generate a lot of artifacts that will be installed in your Maven local repository, and that may conflict with versions of the library downloaded from the Maven remote repository. Consider using for this process a temporary docker container, for example:</p>\n<pre><code>docker run -it --entrypoint /bin/bash adoptopenjdk/openjdk11:latest\n</code></pre>\n<p>and run these different commands within it.</p>\n"}],"owner":{"account_id":4088741,"reputation":6300,"user_id":3357352,"accept_rate":97,"display_name":"OrenIshShalom"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":452,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70437911,"answer_count":1,"score":2,"last_activity_date":1640180981,"creation_date":1639908011,"question_id":70410416,"body_markdown":"I&#39;m trying to build the log4j package from source:\r\n```\r\n$ wget https://github.com/apache/logging-log4j2/archive/refs/tags/rel/2.14.1.tar.gz\r\n$ tar -xf 2.14.1.tar.gz\r\n$ cd logging-log4j2-rel-2.14.1/log4j-core\r\n$ /apache-maven-3.8.4/bin/mvn compile 1&gt;./temp.txt\r\n$ grep &quot;\\[ERROR\\] Failed.*java9.*&quot; ./temp.txt | sed &quot;s/: org/:\\norg/g&quot;\r\n[ERROR] Failed to execute goal on project log4j-core: Could not resolve dependencies for project org.apache.logging.log4j:log4j-core:jar:2.14.1:\r\norg.apache.logging.log4j:log4j-core-java9:zip:2.14.1 was not found in https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced -&gt; [Help 1]\r\n```\r\nThis is a bit weird because my java version is 11, what am I missing?\r\n```\r\n$ java -version\r\nopenjdk version &quot;11.0.13&quot; 2021-10-19\r\nOpenJDK Runtime Environment (build 11.0.13+8-Ubuntu-0ubuntu1.20.04)\r\nOpenJDK 64-Bit Server VM (build 11.0.13+8-Ubuntu-0ubuntu1.20.04, mixed mode, sharing)\r\n```","title":"maven build fails for java 9 when java 11 is installed","body":"<p>I'm trying to build the log4j package from source:</p>\n<pre><code>$ wget https://github.com/apache/logging-log4j2/archive/refs/tags/rel/2.14.1.tar.gz\n$ tar -xf 2.14.1.tar.gz\n$ cd logging-log4j2-rel-2.14.1/log4j-core\n$ /apache-maven-3.8.4/bin/mvn compile 1&gt;./temp.txt\n$ grep &quot;\\[ERROR\\] Failed.*java9.*&quot; ./temp.txt | sed &quot;s/: org/:\\norg/g&quot;\n[ERROR] Failed to execute goal on project log4j-core: Could not resolve dependencies for project org.apache.logging.log4j:log4j-core:jar:2.14.1:\norg.apache.logging.log4j:log4j-core-java9:zip:2.14.1 was not found in https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced -&gt; [Help 1]\n</code></pre>\n<p>This is a bit weird because my java version is 11, what am I missing?</p>\n<pre><code>$ java -version\nopenjdk version &quot;11.0.13&quot; 2021-10-19\nOpenJDK Runtime Environment (build 11.0.13+8-Ubuntu-0ubuntu1.20.04)\nOpenJDK 64-Bit Server VM (build 11.0.13+8-Ubuntu-0ubuntu1.20.04, mixed mode, sharing)\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":2,"creation_date":1639773063,"post_id":70398527,"comment_id":124443040,"body_markdown":"It sounds like your design is flawed.  SUGGESTION: 1) your app&#39;s toplevel should be Spring.  2) If you want to use &quot;Spring&quot; capabilities in certain classes or methods in your library ... then those should probably be loaded from Spring, e.g. as a [Spring Bean](https://www.baeldung.com/spring-bean).","body":"It sounds like your design is flawed.  SUGGESTION: 1) your app&#39;s toplevel should be Spring.  2) If you want to use &quot;Spring&quot; capabilities in certain classes or methods in your library ... then those should probably be loaded from Spring, e.g. as a <a href=\"https://www.baeldung.com/spring-bean\" rel=\"nofollow noreferrer\">Spring Bean</a>."},{"owner":{"account_id":114741,"reputation":212,"user_id":301573,"display_name":"LoBo"},"score":0,"creation_date":1639773739,"post_id":70398527,"comment_id":124443229,"body_markdown":"@paulsm4 My top-level app is not under my control, and it does not use Spring. The dependency library, which uses Spring, is also used from other application which has its own Spring context.","body":"@paulsm4 My top-level app is not under my control, and it does not use Spring. The dependency library, which uses Spring, is also used from other application which has its own Spring context."}],"answers":[{"tags":[],"owner":{"account_id":114741,"reputation":212,"user_id":301573,"display_name":"LoBo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640180465,"creation_date":1640170313,"answer_id":70447879,"question_id":70398527,"body_markdown":"I have found an answer here [Designing a Java library with Spring][1]. I have added new class `BeanFactory` to the `lib` module:\r\n\r\n    package org.example.lib;\r\n\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    @Configuration\r\n    @ComponentScan(basePackages = &quot;org.example&quot;)\r\n    public class BeanFactory {\r\n    \r\n        private static ApplicationContext context;\r\n        \r\n        private static ApplicationContext getContext() {\r\n             if (context == null) {\r\n                 context = new AnnotationConfigApplicationContext(BeanFactory.class);\r\n             }\r\n             return context;\r\n        }\r\n        \r\n        public static &lt;T&gt; T getBean(Class&lt;T&gt; requiredType) {\r\n            return getContext().getBean(requiredType);\r\n        }\r\n    }\r\n\r\nand modified the ```Executor``` class:\r\n\r\n    package org.example.lib;\r\n    \r\n    import org.example.springlib.SpringService;\r\n    \r\n    public class Executor {\r\n    \r\n        public String getMessageFromService() {\r\n            SpringService service = BeanFactory.getBean(SpringService.class);\r\n            return service.getMessage();\r\n        }\r\n    }\r\n\r\nNow the ```BeanFactory``` serves simultaneously as an entry point for accessing the ```ApplicationContext``` and as a configuration class. The configuration can be a separate class as well.\r\n\r\n  [1]: https://www.py4u.net/discuss/1518480","title":"Creating Spring context in a library","body":"<p>I have found an answer here <a href=\"https://www.py4u.net/discuss/1518480\" rel=\"nofollow noreferrer\">Designing a Java library with Spring</a>. I have added new class <code>BeanFactory</code> to the <code>lib</code> module:</p>\n<pre><code>package org.example.lib;\n\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n@ComponentScan(basePackages = &quot;org.example&quot;)\npublic class BeanFactory {\n\n    private static ApplicationContext context;\n    \n    private static ApplicationContext getContext() {\n         if (context == null) {\n             context = new AnnotationConfigApplicationContext(BeanFactory.class);\n         }\n         return context;\n    }\n    \n    public static &lt;T&gt; T getBean(Class&lt;T&gt; requiredType) {\n        return getContext().getBean(requiredType);\n    }\n}\n</code></pre>\n<p>and modified the <code>Executor</code> class:</p>\n<pre><code>package org.example.lib;\n\nimport org.example.springlib.SpringService;\n\npublic class Executor {\n\n    public String getMessageFromService() {\n        SpringService service = BeanFactory.getBean(SpringService.class);\n        return service.getMessage();\n    }\n}\n</code></pre>\n<p>Now the <code>BeanFactory</code> serves simultaneously as an entry point for accessing the <code>ApplicationContext</code> and as a configuration class. The configuration can be a separate class as well.</p>\n"}],"owner":{"account_id":114741,"reputation":212,"user_id":301573,"display_name":"LoBo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":852,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70447879,"answer_count":1,"score":0,"last_activity_date":1640180465,"creation_date":1639772649,"question_id":70398527,"body_markdown":"I am developing a library which will be used from a non-Spring application. However, I need to use another library which is developed for a work in Spring context and want to also use Spring features like dependency injection. So, I need to create a Spring `ApplicationContext` in my library and include dependency library into it. To demonstrate the situation, I have an example project with two modules:\r\n\r\n[![Project structure][1]][1]\r\n\r\nRoot project pom.xml (lib-with-spring-dep):\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\t\t xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;org.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;lib-with-spring-dep&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;modules&gt;\r\n\t\t&lt;module&gt;lib&lt;/module&gt;\r\n\t\t&lt;module&gt;spring-lib&lt;/module&gt;\r\n\t&lt;/modules&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.13.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.example&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lib&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\npom.xml (lib):\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\t\t xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;artifactId&gt;lib-with-spring-dep&lt;/artifactId&gt;\r\n\t\t&lt;groupId&gt;org.example&lt;/groupId&gt;\r\n\t\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;artifactId&gt;lib&lt;/artifactId&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.example&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-lib&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.3.13&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\npom.xml (spring-lib):\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\t\t xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;artifactId&gt;lib-with-spring-dep&lt;/artifactId&gt;\r\n\t\t&lt;groupId&gt;org.example&lt;/groupId&gt;\r\n\t\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;artifactId&gt;spring-lib&lt;/artifactId&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.3.13&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\nSpringService.java:\r\n```\r\npackage org.example.springlib;\r\n\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class SpringService {\r\n\r\n\tpublic String getMessage() {\r\n\t\treturn &quot;Message&quot;;\r\n\t}\r\n}\r\n```\r\nExecutor.java:\r\n```\r\npackage org.example.lib;\r\n\r\nimport org.example.springlib.SpringService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class Executor {\r\n\r\n\t@Autowired\r\n\tprivate SpringService service;\r\n\r\n\tpublic String getMessageFromService() {\r\n\t\treturn service.getMessage();\r\n\t}\r\n}\r\n```\r\nTestExecutor.java:\r\n```\r\nimport static org.hamcrest.CoreMatchers.is;\r\n\r\nimport org.example.lib.Executor;\r\nimport org.junit.Assert;\r\nimport org.junit.Test;\r\n\r\npublic class TestExecutor {\r\n\r\n\t@Test\r\n\tpublic void testSpringContext() {\r\n\t\tString message = new Executor().getMessageFromService();\r\n\t\tAssert.assertThat(message, is(&quot;Message&quot;));\r\n\t}\r\n}\r\n```\r\nRunning the test gives the exception:\r\n```\r\njava.lang.NullPointerException\r\n\tat org.example.lib.Executor.getMessageFromService(Executor.java:14)\r\n\tat TestExecutor.testSpringContext(TestExecutor.java:11)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n```\r\nHow can I create a Spring context in the `lib` library?\r\nThere was also an answered question https://stackoverflow.com/questions/2502064/how-does-one-instantiate-spring-in-the-context-of-a-library, but it was almost 12 years ago, and I hope there are some new options to achieve this.\r\n\r\n  [1]: https://i.stack.imgur.com/iI9Xn.png","title":"Creating Spring context in a library","body":"<p>I am developing a library which will be used from a non-Spring application. However, I need to use another library which is developed for a work in Spring context and want to also use Spring features like dependency injection. So, I need to create a Spring <code>ApplicationContext</code> in my library and include dependency library into it. To demonstrate the situation, I have an example project with two modules:</p>\n<p><a href=\"https://i.stack.imgur.com/iI9Xn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iI9Xn.png\" alt=\"Project structure\" /></a></p>\n<p>Root project pom.xml (lib-with-spring-dep):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;lib-with-spring-dep&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;lib&lt;/module&gt;\n        &lt;module&gt;spring-lib&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.example&lt;/groupId&gt;\n            &lt;artifactId&gt;lib&lt;/artifactId&gt;\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>pom.xml (lib):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;artifactId&gt;lib-with-spring-dep&lt;/artifactId&gt;\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;lib&lt;/artifactId&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.example&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-lib&lt;/artifactId&gt;\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n            &lt;version&gt;5.3.13&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>pom.xml (spring-lib):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;artifactId&gt;lib-with-spring-dep&lt;/artifactId&gt;\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;spring-lib&lt;/artifactId&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;5.3.13&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>SpringService.java:</p>\n<pre><code>package org.example.springlib;\n\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class SpringService {\n\n    public String getMessage() {\n        return &quot;Message&quot;;\n    }\n}\n</code></pre>\n<p>Executor.java:</p>\n<pre><code>package org.example.lib;\n\nimport org.example.springlib.SpringService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class Executor {\n\n    @Autowired\n    private SpringService service;\n\n    public String getMessageFromService() {\n        return service.getMessage();\n    }\n}\n</code></pre>\n<p>TestExecutor.java:</p>\n<pre><code>import static org.hamcrest.CoreMatchers.is;\n\nimport org.example.lib.Executor;\nimport org.junit.Assert;\nimport org.junit.Test;\n\npublic class TestExecutor {\n\n    @Test\n    public void testSpringContext() {\n        String message = new Executor().getMessageFromService();\n        Assert.assertThat(message, is(&quot;Message&quot;));\n    }\n}\n</code></pre>\n<p>Running the test gives the exception:</p>\n<pre><code>java.lang.NullPointerException\n    at org.example.lib.Executor.getMessageFromService(Executor.java:14)\n    at TestExecutor.testSpringContext(TestExecutor.java:11)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n<p>How can I create a Spring context in the <code>lib</code> library?\nThere was also an answered question <a href=\"https://stackoverflow.com/questions/2502064/how-does-one-instantiate-spring-in-the-context-of-a-library\">How does one instantiate Spring in the context of a library?</a>, but it was almost 12 years ago, and I hope there are some new options to achieve this.</p>\n"},{"tags":["java","spring-boot","spring-hateoas"],"comments":[{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1528442696,"post_id":50755379,"comment_id":88518681,"body_markdown":"see this error message Could not resolve placeholder &#39;password&#39; in value &quot;${password}&quot;. Do you have password declared in your properties file?","body":"see this error message Could not resolve placeholder &#39;password&#39; in value &quot;${password}&quot;. Do you have password declared in your properties file?"}],"answers":[{"tags":[],"owner":{"account_id":5199437,"reputation":44,"user_id":4159405,"display_name":"Ryszard Grodzicki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528442820,"creation_date":1528442820,"answer_id":50755499,"question_id":50755379,"body_markdown":"It looks like you have not declared the property &#39;password&#39; (or there&#39;s something wrong with it&#39;s declaration) that you&#39;re trying to use in &#39;spring.datasource.password&#39; property. \r\nIt&#39;s hard to tell, though, without seeing the whole properties file.\r\n","title":"Update your application&#39;s configuration in Spring Boot","body":"<p>It looks like you have not declared the property 'password' (or there's something wrong with it's declaration) that you're trying to use in 'spring.datasource.password' property. \nIt's hard to tell, though, without seeing the whole properties file.</p>\n"},{"tags":[],"owner":{"account_id":11350676,"reputation":2304,"user_id":8321787,"display_name":"Oresztesz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528444452,"creation_date":1528444007,"answer_id":50755829,"question_id":50755379,"body_markdown":"You have to turn on filtering for your maven resources plugin. You have to add a `&lt;filtering&gt;` tag to your POM and set it to `true`. \r\n\r\nThe `${password}` variable possibly needs to be replaced with the real password by maven, during the &quot;process resources&quot; phase\r\n\r\nFor further info see:\r\n\r\nhttps://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html\r\n","title":"Update your application&#39;s configuration in Spring Boot","body":"<p>You have to turn on filtering for your maven resources plugin. You have to add a <code>&lt;filtering&gt;</code> tag to your POM and set it to <code>true</code>. </p>\n\n<p>The <code>${password}</code> variable possibly needs to be replaced with the real password by maven, during the \"process resources\" phase</p>\n\n<p>For further info see:</p>\n\n<p><a href=\"https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html</a></p>\n"},{"tags":[],"owner":{"account_id":21260902,"reputation":984,"user_id":15641685,"display_name":"Huu Phuong Vu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619064404,"creation_date":1619064404,"answer_id":67206626,"question_id":50755379,"body_markdown":"The error is because your application can&#39;t find the env variable `password`. If this problem only happens on you local machine, simply specify a default value when the env var is not present. Like this:\r\n\r\n`spring.datasource.password: ${password:local-password}`\r\n\r\n(Change `local-password` to the real password of your local database.)\r\n\r\n\r\nIf it happens in your test or prod environment, you have to inject it into your server&#39;s environment variables, or contact the DevOps guy to help you do that.","title":"Update your application&#39;s configuration in Spring Boot","body":"<p>The error is because your application can't find the env variable <code>password</code>. If this problem only happens on you local machine, simply specify a default value when the env var is not present. Like this:</p>\n<p><code>spring.datasource.password: ${password:local-password}</code></p>\n<p>(Change <code>local-password</code> to the real password of your local database.)</p>\n<p>If it happens in your test or prod environment, you have to inject it into your server's environment variables, or contact the DevOps guy to help you do that.</p>\n"},{"tags":[],"owner":{"account_id":1735752,"reputation":2511,"user_id":1588361,"accept_rate":54,"display_name":"Ravi MCA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640180249,"creation_date":1640180249,"answer_id":70449951,"question_id":50755379,"body_markdown":"In my case removing below from `pom.xml` fixed the issue\r\n```\r\n\t\t&lt;resources&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n\t\t\t\t&lt;directory&gt;${project.basedir}/src/main/resources/&lt;/directory&gt;\r\n\t\t\t\t&lt;targetPath&gt;${project.build.directory}/config/&lt;/targetPath&gt;\r\n\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t&lt;include&gt;application.properties&lt;/include&gt;\r\n\t\t\t\t&lt;/includes&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t&lt;/resources&gt;\r\n```","title":"Update your application&#39;s configuration in Spring Boot","body":"<p>In my case removing below from <code>pom.xml</code> fixed the issue</p>\n<pre><code>        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;directory&gt;${project.basedir}/src/main/resources/&lt;/directory&gt;\n                &lt;targetPath&gt;${project.build.directory}/config/&lt;/targetPath&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;application.properties&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n</code></pre>\n"}],"owner":{"account_id":13360741,"reputation":574,"user_id":9642851,"display_name":"Ayman Patel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22555,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1640180249,"creation_date":1528442352,"question_id":50755379,"body_markdown":"Update your application&#39;s configuration in Spring Boot error when I am running a Spring Boot Application.\r\n\r\nThe maven is built successfully, but still the error persists.\r\n\r\nWhat should I do to change overcome this error?\r\n\r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::             (v2.0.0.M4)\r\n    \r\n    2018-06-08 12:45:36.422  INFO 8904 --- [           main] com.lankydan.Application                 : Starting Application on GH-6C9HNH2 with PID 8904 (C:\\Users\\E080978\\Downloads\\Maven\\spring-boot-hateoas-master\\target\\classes started by E080978 in C:\\Users\\E080978\\Downloads\\Maven\\spring-boot-hateoas-master)\r\n    2018-06-08 12:45:36.426  INFO 8904 --- [           main] com.lankydan.Application                 : No active profile set, falling back to default profiles: default\r\n    2018-06-08 12:45:36.484  INFO 8904 --- [           main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2805c96b: startup date [Fri Jun 08 12:45:36 IST 2018]; root of context hierarchy\r\n    2018-06-08 12:45:37.897  INFO 8904 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration&#39; of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3a19c841] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    2018-06-08 12:45:38.652  INFO 8904 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)\r\n    2018-06-08 12:45:38.672  INFO 8904 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2018-06-08 12:45:38.673  INFO 8904 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.20\r\n    2018-06-08 12:45:38.818  INFO 8904 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2018-06-08 12:45:38.818  INFO 8904 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2337 ms\r\n    2018-06-08 12:45:39.020  INFO 8904 --- [ost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: &#39;dispatcherServlet&#39; to [/]\r\n    2018-06-08 12:45:39.025  INFO 8904 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;characterEncodingFilter&#39; to: [/*]\r\n    2018-06-08 12:45:39.025  INFO 8904 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;hiddenHttpMethodFilter&#39; to: [/*]\r\n    2018-06-08 12:45:39.026  INFO 8904 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;httpPutFormContentFilter&#39; to: [/*]\r\n    2018-06-08 12:45:39.026  INFO 8904 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;requestContextFilter&#39; to: [/*]\r\n    2018-06-08 12:45:39.075  WARN 8904 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration&#39;: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Unsatisfied dependency expressed through method &#39;dataSource&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties&#39;: Could not bind properties to &#39;DataSourceProperties&#39;: prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is org.springframework.boot.context.properties.bind.BindException: Failed to bind properties under &#39;spring.datasource.password&#39; to java.lang.String\r\n    2018-06-08 12:45:39.077  INFO 8904 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2018-06-08 12:45:39.098  INFO 8904 --- [           main] utoConfigurationReportLoggingInitializer : \r\n    \r\n    Error starting ApplicationContext. To display the auto-configuration report re-run your application with &#39;debug&#39; enabled.\r\n    2018-06-08 12:45:39.103 ERROR 8904 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Binding to target [Bindable@6bff19ff type = java.lang.String, value = &#39;provided&#39;, annotations = array&lt;Annotation&gt;[[empty]]] failed:\r\n    \r\n        Property: spring.datasource.password\r\n        Value: ${password}\r\n        Origin: class path resource [application.properties]:7:28\r\n        Reason: Could not resolve placeholder &#39;password&#39; in value &quot;${password}&quot;\r\n    \r\n    Action:\r\n    \r\n    Update your application&#39;s configuration\r\n\r\n","title":"Update your application&#39;s configuration in Spring Boot","body":"<p>Update your application's configuration in Spring Boot error when I am running a Spring Boot Application.</p>\n\n<p>The maven is built successfully, but still the error persists.</p>\n\n<p>What should I do to change overcome this error?</p>\n\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::             (v2.0.0.M4)\n\n2018-06-08 12:45:36.422  INFO 8904 --- [           main] com.lankydan.Application                 : Starting Application on GH-6C9HNH2 with PID 8904 (C:\\Users\\E080978\\Downloads\\Maven\\spring-boot-hateoas-master\\target\\classes started by E080978 in C:\\Users\\E080978\\Downloads\\Maven\\spring-boot-hateoas-master)\n2018-06-08 12:45:36.426  INFO 8904 --- [           main] com.lankydan.Application                 : No active profile set, falling back to default profiles: default\n2018-06-08 12:45:36.484  INFO 8904 --- [           main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2805c96b: startup date [Fri Jun 08 12:45:36 IST 2018]; root of context hierarchy\n2018-06-08 12:45:37.897  INFO 8904 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3a19c841] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2018-06-08 12:45:38.652  INFO 8904 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)\n2018-06-08 12:45:38.672  INFO 8904 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2018-06-08 12:45:38.673  INFO 8904 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.20\n2018-06-08 12:45:38.818  INFO 8904 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2018-06-08 12:45:38.818  INFO 8904 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2337 ms\n2018-06-08 12:45:39.020  INFO 8904 --- [ost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]\n2018-06-08 12:45:39.025  INFO 8904 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]\n2018-06-08 12:45:39.025  INFO 8904 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]\n2018-06-08 12:45:39.026  INFO 8904 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]\n2018-06-08 12:45:39.026  INFO 8904 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]\n2018-06-08 12:45:39.075  WARN 8904 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Unsatisfied dependency expressed through method 'dataSource' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties': Could not bind properties to 'DataSourceProperties': prefix=spring.datasource, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is org.springframework.boot.context.properties.bind.BindException: Failed to bind properties under 'spring.datasource.password' to java.lang.String\n2018-06-08 12:45:39.077  INFO 8904 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2018-06-08 12:45:39.098  INFO 8904 --- [           main] utoConfigurationReportLoggingInitializer : \n\nError starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.\n2018-06-08 12:45:39.103 ERROR 8904 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nBinding to target [Bindable@6bff19ff type = java.lang.String, value = 'provided', annotations = array&lt;Annotation&gt;[[empty]]] failed:\n\n    Property: spring.datasource.password\n    Value: ${password}\n    Origin: class path resource [application.properties]:7:28\n    Reason: Could not resolve placeholder 'password' in value \"${password}\"\n\nAction:\n\nUpdate your application's configuration\n</code></pre>\n"},{"tags":["java","debugging","build.xml","netbeans-8.2"],"comments":[{"owner":{"account_id":4681576,"reputation":151,"user_id":3790139,"display_name":"Peter"},"score":0,"creation_date":1566989796,"post_id":50671675,"comment_id":101825977,"body_markdown":"I have the same problem. It used to work, so I&#39;ve changed something but don&#39;t know what. :(","body":"I have the same problem. It used to work, so I&#39;ve changed something but don&#39;t know what. :("},{"owner":{"account_id":4681576,"reputation":151,"user_id":3790139,"display_name":"Peter"},"score":0,"creation_date":1566990363,"post_id":50671675,"comment_id":101826273,"body_markdown":"@Sir Exotic   For some reason I couldn&#39;t edit the previous comment. Wanted to say that the removal (by renaming) of the build.xml and build-impl.xml files gave errors.","body":"@Sir Exotic   For some reason I couldn&#39;t edit the previous comment. Wanted to say that the removal (by renaming) of the build.xml and build-impl.xml files gave errors."}],"owner":{"account_id":13705387,"reputation":21,"user_id":9889179,"display_name":"starfish_1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":808,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1640179907,"creation_date":1528066187,"question_id":50671675,"body_markdown":"I&#39;m attempting to debug a Java app in NetBeans 8.2 using JDK 1.8.171.\r\n\r\nI get the following error:\r\n\r\n&gt; nbproject\\build-impl.xml:1351:\r\n\r\n The following error occurred while executing this line: `nbproject\\build-impl.xml:858:`, nbjpdastart doesn&#39;t support the nested &quot;modulepath&quot; element.\r\n\r\nSame problem and question [**here**][1].\r\n\r\nIn the comment thread it was suggested to remove the `build.xml` and `build-impl.xml` as a solution.\r\n\r\nI was skeptical about the solution suggested since the `build-impl.xml` is a generated file using the build.xml file. Also, when doing a build, clean/build, run or debug netBeans will be expecting the build.xml file.\r\n\r\nI tried the suggested solution in incremental steps. First I deleted just the generated file (build-impl.xml), but I received an error that the build-impl.xml was missing. I then tried deleting the build.xml, and got the error that the build.xml file was missing. Is there something else that needs to be done to implement a working solution?  Is there some other work around for this issue?  I am aware that there is a NetBeans Bugzilla bug#271443, but this refers to a JavaFX debugging issue. I am having this issue with a Java application (not a JavaFX app). \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/50615661/debug-error-nbjpdastart-doesnt-support-the-nested-modulepath-element?answertab=votes#tab-top","title":"netbeans debug error - nbjpdastart doesn&#39;t support the nested “modulepath” element","body":"<p>I'm attempting to debug a Java app in NetBeans 8.2 using JDK 1.8.171.</p>\n\n<p>I get the following error:</p>\n\n<blockquote>\n  <p>nbproject\\build-impl.xml:1351:</p>\n</blockquote>\n\n<p>The following error occurred while executing this line: <code>nbproject\\build-impl.xml:858:</code>, nbjpdastart doesn't support the nested \"modulepath\" element.</p>\n\n<p>Same problem and question <a href=\"https://stackoverflow.com/questions/50615661/debug-error-nbjpdastart-doesnt-support-the-nested-modulepath-element?answertab=votes#tab-top\"><strong>here</strong></a>.</p>\n\n<p>In the comment thread it was suggested to remove the <code>build.xml</code> and <code>build-impl.xml</code> as a solution.</p>\n\n<p>I was skeptical about the solution suggested since the <code>build-impl.xml</code> is a generated file using the build.xml file. Also, when doing a build, clean/build, run or debug netBeans will be expecting the build.xml file.</p>\n\n<p>I tried the suggested solution in incremental steps. First I deleted just the generated file (build-impl.xml), but I received an error that the build-impl.xml was missing. I then tried deleting the build.xml, and got the error that the build.xml file was missing. Is there something else that needs to be done to implement a working solution?  Is there some other work around for this issue?  I am aware that there is a NetBeans Bugzilla bug#271443, but this refers to a JavaFX debugging issue. I am having this issue with a Java application (not a JavaFX app). </p>\n"},{"tags":["java","variables"],"comments":[{"owner":{"account_id":2269226,"reputation":22774,"user_id":1997093,"accept_rate":100,"display_name":"akash"},"score":0,"creation_date":1404463960,"post_id":24570201,"comment_id":38058786,"body_markdown":"_I am trying to get the int count to increment each time **I run the program** ._ Are you sure or you want count to retain value during execution of main method only???","body":"<i>I am trying to get the int count to increment each time <b>I run the program</b> .</i> Are you sure or you want count to retain value during execution of main method only???"},{"owner":{"account_id":4451090,"reputation":10972,"user_id":3622940,"accept_rate":100,"display_name":"Unihedron"},"score":0,"creation_date":1404464135,"post_id":24570201,"comment_id":38058886,"body_markdown":"Can&#39;t you just use `++i` instead every time you use `i`?","body":"Can&#39;t you just use <code>++i</code> instead every time you use <code>i</code>?"},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":1,"creation_date":1404464369,"post_id":24570201,"comment_id":38059025,"body_markdown":"Your title and the content of your question don&#39;t match.. *each time I run a method* is different from *each time I run the program*.","body":"Your title and the content of your question don&#39;t match.. <i>each time I run a method</i> is different from <i>each time I run the program</i>."},{"owner":{"account_id":2269226,"reputation":22774,"user_id":1997093,"accept_rate":100,"display_name":"akash"},"score":0,"creation_date":1404465177,"post_id":24570201,"comment_id":38059505,"body_markdown":"If we ignore the title question is quite clear...!","body":"If we ignore the title question is quite clear...!"},{"owner":{"account_id":4701231,"reputation":77,"user_id":3804738,"display_name":"user3804738"},"score":0,"creation_date":1404467085,"post_id":24570201,"comment_id":38060659,"body_markdown":"Sorry guys the question was badly thought-out. I mean each time i &#39;run the program&#39; Because what i&#39;m doing is putting data on a text file and running the program to import that data. So when I run main() method it seems int count is always resetting to 0. When in fact I need count to be for example 34, if I am running this program for the 34th time. So I believe even if I make &#39;int count = 0&#39; an instance variable it will get overwritten. However gkbStar&#39;s excellent code I think will help solve my problem. Thank you","body":"Sorry guys the question was badly thought-out. I mean each time i &#39;run the program&#39; Because what i&#39;m doing is putting data on a text file and running the program to import that data. So when I run main() method it seems int count is always resetting to 0. When in fact I need count to be for example 34, if I am running this program for the 34th time. So I believe even if I make &#39;int count = 0&#39; an instance variable it will get overwritten. However gkbStar&#39;s excellent code I think will help solve my problem. Thank you"}],"answers":[{"tags":[],"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413101038,"creation_date":1404463681,"answer_id":24570219,"question_id":24570201,"body_markdown":"declare `int count = 0;` either at *instance* level or at *class* level.\r\n\r\n    public void doMethod() {\r\n        int count = 0; // a new count variable is created each time doMethod() is called\r\n        count++;\r\n        System.out.println(count);\r\n    }","title":"How to make a variable increment on every running of a method?","body":"<p>declare <code>int count = 0;</code> either at <em>instance</em> level or at <em>class</em> level.</p>\n\n<pre><code>public void doMethod() {\n    int count = 0; // a new count variable is created each time doMethod() is called\n    count++;\n    System.out.println(count);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1404463689,"creation_date":1404463689,"answer_id":24570224,"question_id":24570201,"body_markdown":"Instead of making it as a local to method, make it as instance member.\r\n\r\n    int count = 0;\r\n    -----\r\n\tpublic void doMethod() {\r\n\t\tcount++;\r\n\t\tSystem.out.println(count);\r\n\t}\r\n\r\nSo that it wont reset to `0` on each call of `doMethod()`.","title":"How to make a variable increment on every running of a method?","body":"<p>Instead of making it as a local to method, make it as instance member.</p>\n\n<pre><code>int count = 0;\n-----\npublic void doMethod() {\n    count++;\n    System.out.println(count);\n}\n</code></pre>\n\n<p>So that it wont reset to <code>0</code> on each call of <code>doMethod()</code>.</p>\n"},{"tags":[],"owner":{"account_id":2530824,"reputation":1416,"user_id":2199168,"accept_rate":80,"display_name":"Simon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413101023,"creation_date":1404464083,"answer_id":24570351,"question_id":24570201,"body_markdown":"If you declare the variable outside of a method, the state is remembered.\r\n\r\nA solution could be:\r\n\r\n    public class Test {\r\n\r\n        int count = 0;\r\n\r\n        public static void main(String[] args) {\r\n            Test test1 = new Test();\r\n            test1.doMethod();\r\n            test1.doMethod();\r\n            test1.doMethod();\r\n        }\r\n\r\n        public void doMethod ()  {\r\n            count++;\r\n            System.out.println(count);\r\n        }\r\n    }\r\n\r\nThis way `count` is created the moment you call `new Test()` and will be remembered until the Object is destroyed. Variables have something called a &#39;scope&#39;. They can only be accessed in their scope and will only exist in that scope. Because you created `count` inside your `void doMethod()` method, it did not exist anywhere else. An easy way to look at the scope is by watching the brackets `{  }` your variables are only stored inside those brackets. In my solution the brackets for `count` are the brackets for the entire `Test` class. Thus the variable is stored until the Object is destroyed.\r\n\r\nMore on scope: http://en.wikipedia.org/wiki/Scope_(computer_science)\r\n\r\nI just noticed you mentioned you want the `count` value to remain after you run the program. You can do this by saving it in a database or file. However, you might have meant that you want the `count` value to remain after you run the `void doMethod()` method. I have edited my solution to execute the `void doMethod()` method three times so you see the value actually remains after running the method.","title":"How to make a variable increment on every running of a method?","body":"<p>If you declare the variable outside of a method, the state is remembered.</p>\n\n<p>A solution could be:</p>\n\n<pre><code>public class Test {\n\n    int count = 0;\n\n    public static void main(String[] args) {\n        Test test1 = new Test();\n        test1.doMethod();\n        test1.doMethod();\n        test1.doMethod();\n    }\n\n    public void doMethod ()  {\n        count++;\n        System.out.println(count);\n    }\n}\n</code></pre>\n\n<p>This way <code>count</code> is created the moment you call <code>new Test()</code> and will be remembered until the Object is destroyed. Variables have something called a 'scope'. They can only be accessed in their scope and will only exist in that scope. Because you created <code>count</code> inside your <code>void doMethod()</code> method, it did not exist anywhere else. An easy way to look at the scope is by watching the brackets <code>{  }</code> your variables are only stored inside those brackets. In my solution the brackets for <code>count</code> are the brackets for the entire <code>Test</code> class. Thus the variable is stored until the Object is destroyed.</p>\n\n<p>More on scope: <a href=\"http://en.wikipedia.org/wiki/Scope_(computer_science)\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Scope_(computer_science)</a></p>\n\n<p>I just noticed you mentioned you want the <code>count</code> value to remain after you run the program. You can do this by saving it in a database or file. However, you might have meant that you want the <code>count</code> value to remain after you run the <code>void doMethod()</code> method. I have edited my solution to execute the <code>void doMethod()</code> method three times so you see the value actually remains after running the method.</p>\n"},{"tags":[],"owner":{"account_id":3479047,"reputation":122,"user_id":2911595,"display_name":"Jaithera"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1404464428,"creation_date":1404464142,"answer_id":24570369,"question_id":24570201,"body_markdown":"If you want to increment count each time you run the program, \r\n\r\n - You have to store your `counter` variable count into a *file or a database table*\r\n - So every time when execution starts *get value from storage*-*initialize to count* -*increment and print in method* and *store to storage after completion of method*.\r\n - If you do so the variable count will be initialized to new value for each run of the program.","title":"How to make a variable increment on every running of a method?","body":"<p>If you want to increment count each time you run the program, </p>\n\n<ul>\n<li>You have to store your <code>counter</code> variable count into a <em>file or a database table</em></li>\n<li>So every time when execution starts <em>get value from storage</em>-<em>initialize to count</em> -<em>increment and print in method</em> and <em>store to storage after completion of method</em>.</li>\n<li>If you do so the variable count will be initialized to new value for each run of the program.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3759287,"reputation":55,"user_id":3124787,"accept_rate":100,"display_name":"Ashvini K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413100980,"creation_date":1404465262,"answer_id":24570752,"question_id":24570201,"body_markdown":"Define your count variable out of that method:\r\n\r\n    public class Test {\r\n        int count = 0;\r\n        public static void main(String[] args) {\r\n            Test test1 = new Test();\r\n\r\n            test1.doMethod();\r\n\r\n        }\r\n\r\n        public void doMethod() {\r\n\r\n            count++;\r\n            System.out.println(count);\r\n        }\r\n    }","title":"How to make a variable increment on every running of a method?","body":"<p>Define your count variable out of that method:</p>\n\n<pre><code>public class Test {\n    int count = 0;\n    public static void main(String[] args) {\n        Test test1 = new Test();\n\n        test1.doMethod();\n\n    }\n\n    public void doMethod() {\n\n        count++;\n        System.out.println(count);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2160876,"reputation":615,"user_id":1915051,"accept_rate":75,"display_name":"gkbstar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1413101181,"creation_date":1404466316,"answer_id":24571094,"question_id":24570201,"body_markdown":"As you want to know how many number of times your program has executed including current execution. So, for this either you need to write count to a file or you need to create a registry where you can put your counter and increase all the time your program execute through your program:\r\n\r\nFollowing is an example of storing execution counter to a text file.\r\n\r\n    class Test {\r\n        public static void main(String[] args) {\r\n\r\n            Test test1 = new Test();\r\n\r\n            test1.doMethod();\r\n\r\n        }\r\n\r\n        public int getCount() {\r\n\r\n            int count = 0;\r\n            try {\r\n                if ( !new File(&quot;d:\\\\myCount.txt&quot;).exists())\r\n                    return 1;\r\n                else {\r\n                    BufferedReader br = new BufferedReader(new FileReader(new File(&quot;d:\\\\myCount.txt&quot;)));\r\n                    String s = br.readLine();\r\n                    count = Integer.parseInt(s);\r\n                    br.close();\r\n                }                \r\n            } catch(Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            return count;\r\n        }\r\n        \r\n        public void putCount(int count) {\r\n            try {\r\n                BufferedWriter bw = new BufferedWriter(new FileWriter(new File(&quot;d:\\\\myCount.txt&quot;)));\r\n                bw.write(Integer.toString(count));\r\n                bw.close();\r\n            } catch(Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        \r\n        public void doMethod() { \r\n            int count = getCount();            \r\n            System.out.println(&quot;You are running this program &quot; + count + &quot; number of times&quot;);\r\n            count++;\r\n            putCount(count);            \r\n        }\r\n    }","title":"How to make a variable increment on every running of a method?","body":"<p>As you want to know how many number of times your program has executed including current execution. So, for this either you need to write count to a file or you need to create a registry where you can put your counter and increase all the time your program execute through your program:</p>\n\n<p>Following is an example of storing execution counter to a text file.</p>\n\n<pre><code>class Test {\n    public static void main(String[] args) {\n\n        Test test1 = new Test();\n\n        test1.doMethod();\n\n    }\n\n    public int getCount() {\n\n        int count = 0;\n        try {\n            if ( !new File(\"d:\\\\myCount.txt\").exists())\n                return 1;\n            else {\n                BufferedReader br = new BufferedReader(new FileReader(new File(\"d:\\\\myCount.txt\")));\n                String s = br.readLine();\n                count = Integer.parseInt(s);\n                br.close();\n            }                \n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n        return count;\n    }\n\n    public void putCount(int count) {\n        try {\n            BufferedWriter bw = new BufferedWriter(new FileWriter(new File(\"d:\\\\myCount.txt\")));\n            bw.write(Integer.toString(count));\n            bw.close();\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public void doMethod() { \n        int count = getCount();            \n        System.out.println(\"You are running this program \" + count + \" number of times\");\n        count++;\n        putCount(count);            \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10501530,"reputation":11,"user_id":7740104,"display_name":"Ramesh Hiremath"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507369811,"creation_date":1490015581,"answer_id":42904537,"question_id":24570201,"body_markdown":"    public class Arguments {\r\n\r\n\t   private static int i = 1;\r\n\t\r\n       //\tArguments() {\r\n       //\t\tSystem.out.println(&quot;Main method thread constructor incremented for &quot;+ i++ + &quot; time&quot; +&quot;\\n&quot;);\r\n       //\t}\r\n\r\n\t   public static void main(String[] args) {\r\n\t\t    new Arguments().method();\r\n\t    \tnew Arguments().method();\r\n\t    \tnew Arguments().method();\r\n\t    \tnew Arguments().method();\r\n\t    \tnew Arguments().method();\r\n\t    \tnew Arguments().method();\r\n\t   }\r\n\r\n\t   private void method() {\r\n\t\t   System.out.println(&quot;Main method value incremented for &quot;+ i++ + &quot; time&quot; +&quot;\\n&quot;);\r\n\t   }\r\n    }","title":"How to make a variable increment on every running of a method?","body":"<pre><code>public class Arguments {\n\n   private static int i = 1;\n\n   //   Arguments() {\n   //       System.out.println(\"Main method thread constructor incremented for \"+ i++ + \" time\" +\"\\n\");\n   //   }\n\n   public static void main(String[] args) {\n        new Arguments().method();\n        new Arguments().method();\n        new Arguments().method();\n        new Arguments().method();\n        new Arguments().method();\n        new Arguments().method();\n   }\n\n   private void method() {\n       System.out.println(\"Main method value incremented for \"+ i++ + \" time\" +\"\\n\");\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6703369,"reputation":2240,"user_id":5169186,"accept_rate":88,"display_name":"Oghli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490020677,"creation_date":1490016505,"answer_id":42904859,"question_id":24570201,"body_markdown":"you can declare `static` variable `count` \r\n\r\n`count` will be part of the class, not part of any individual object.\r\n\r\nnow you only need to increment a count variable in each method call:\r\n\r\n    public class Test {\r\n          // Set count to zero initially.\r\n        static int count = 0;\r\n     \r\n        public static void main (String[] args) {\r\n    \r\n            Test test1 = new Test();\r\n    \r\n            test1.doMethod();\r\n    \r\n        }\r\n         \r\n        public void doMethod ()  {\r\n            // Every time the method calls, increment count.\r\n            count++;\r\n            System.out.println(count);\r\n        }\r\n    }\r\n\r\n**Update:**\r\n\r\nalso you can instead of printing count inside `doMethod ()` after each call  \r\n\r\nyou can define `static` method as part of the class to get the value of the static variable `count` after method calls:\r\n\r\n    class Test\r\n    {   \r\n        // Set count to zero initially.\r\n    \tstatic int count = 0;\r\n    \t\r\n    \t public void doMethod ()  {\r\n            // Every time the method calls, increment count.\r\n            count++;\r\n        }\r\n        \r\n        static int getCount(){\r\n            // get latest value of count after method calls\r\n        \treturn count;\r\n        }\r\n    \t   \r\n        public static void main (String[] args) throws java.lang.Exception\r\n        \t{\r\n        \t\t Test test1 = new Test();\r\n        \r\n                 test1.doMethod();\r\n                 \r\n                 test1.doMethod();\r\n                  \r\n                 test1.doMethod();\r\n                 \r\n                 System.out.println(Test.getCount());\r\n        \t}\r\n    }\r\n\r\n ","title":"How to make a variable increment on every running of a method?","body":"<p>you can declare <code>static</code> variable <code>count</code> </p>\n\n<p><code>count</code> will be part of the class, not part of any individual object.</p>\n\n<p>now you only need to increment a count variable in each method call:</p>\n\n<pre><code>public class Test {\n      // Set count to zero initially.\n    static int count = 0;\n\n    public static void main (String[] args) {\n\n        Test test1 = new Test();\n\n        test1.doMethod();\n\n    }\n\n    public void doMethod ()  {\n        // Every time the method calls, increment count.\n        count++;\n        System.out.println(count);\n    }\n}\n</code></pre>\n\n<p><strong>Update:</strong></p>\n\n<p>also you can instead of printing count inside <code>doMethod ()</code> after each call  </p>\n\n<p>you can define <code>static</code> method as part of the class to get the value of the static variable <code>count</code> after method calls:</p>\n\n<pre><code>class Test\n{   \n    // Set count to zero initially.\n    static int count = 0;\n\n     public void doMethod ()  {\n        // Every time the method calls, increment count.\n        count++;\n    }\n\n    static int getCount(){\n        // get latest value of count after method calls\n        return count;\n    }\n\n    public static void main (String[] args) throws java.lang.Exception\n        {\n             Test test1 = new Test();\n\n             test1.doMethod();\n\n             test1.doMethod();\n\n             test1.doMethod();\n\n             System.out.println(Test.getCount());\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11899890,"reputation":33,"user_id":8708170,"display_name":"Suyash Saurabh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507365025,"creation_date":1507365025,"answer_id":46618234,"question_id":24570201,"body_markdown":"    public static int count;\r\n\r\n    public int get(){\r\n    count=count+1;\r\n    return count;\r\n    }","title":"How to make a variable increment on every running of a method?","body":"<pre><code>public static int count;\n\npublic int get(){\ncount=count+1;\nreturn count;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23720060,"reputation":1,"user_id":17740731,"display_name":"Johnn Doee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640179859,"creation_date":1640177752,"answer_id":70449423,"question_id":24570201,"body_markdown":"This is a different version of how to increment a value to a file each time you run a program.\r\n\r\n```\r\npublic class FileCount {\r\n    int count=0;\r\n\r\n    public int ScanForValue() throws IOException {\r\n        if(! new File(&quot;C:\\\\Users\\\\name\\\\Desktop\\\\file.txt&quot;).exists())\r\n            return 0;\r\n        else{\r\n            FileReader fr = new FileReader(&quot;C:\\\\Users\\\\name\\\\Desktop\\\\file.txt&quot;);\r\n            Scanner scanFile = new Scanner(fr);\r\n            String n =scanFile.nextLine();\r\n            count = Integer.parseInt(n);\r\n            scanFile.close();\r\n        }\r\n        return count;\r\n    }\r\n\r\n    public void increment() throws IOException {\r\n        int newValue = ScanForValue();\r\n        newValue++;\r\n        System.out.println(&quot;counts: &quot;+newValue);\r\n        writeIntoFile(newValue);\r\n    }\r\n\r\n    public void writeIntoFile(int countNumber) throws IOException {\r\n        FileWriter fw = new FileWriter(&quot;C:\\\\Users\\\\name\\\\Desktop\\\\file.txt&quot;);\r\n        String fin = String.valueOf(countNumber);\r\n        fw.write(fin);\r\n        fw.close();\r\n    }\r\n}\r\n```","title":"How to make a variable increment on every running of a method?","body":"<p>This is a different version of how to increment a value to a file each time you run a program.</p>\n<pre><code>public class FileCount {\n    int count=0;\n\n    public int ScanForValue() throws IOException {\n        if(! new File(&quot;C:\\\\Users\\\\name\\\\Desktop\\\\file.txt&quot;).exists())\n            return 0;\n        else{\n            FileReader fr = new FileReader(&quot;C:\\\\Users\\\\name\\\\Desktop\\\\file.txt&quot;);\n            Scanner scanFile = new Scanner(fr);\n            String n =scanFile.nextLine();\n            count = Integer.parseInt(n);\n            scanFile.close();\n        }\n        return count;\n    }\n\n    public void increment() throws IOException {\n        int newValue = ScanForValue();\n        newValue++;\n        System.out.println(&quot;counts: &quot;+newValue);\n        writeIntoFile(newValue);\n    }\n\n    public void writeIntoFile(int countNumber) throws IOException {\n        FileWriter fw = new FileWriter(&quot;C:\\\\Users\\\\name\\\\Desktop\\\\file.txt&quot;);\n        String fin = String.valueOf(countNumber);\n        fw.write(fin);\n        fw.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4701231,"reputation":77,"user_id":3804738,"display_name":"user3804738"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60501,"favorite_count":0,"down_vote_count":2,"up_vote_count":8,"answer_count":10,"score":6,"last_activity_date":1640179859,"creation_date":1404463625,"question_id":24570201,"body_markdown":"I am trying to get the int count to increment each time I run the program. ie: So if I ran the program 9 times, and doMethod was called 9 times, the value of count would be 9. But since I have to initialize count to = 0 count keeps resetting itself to 0 on every iteration of the method. Is there a way around this?\r\n\r\n    public class Test {\r\n\r\n        public static void main (String[] args) {\r\n\r\n            Test test1 = new Test();\r\n\r\n            test1.doMethod();\r\n\r\n        }\r\n    \r\n        public void doMethod ()  {\r\n\r\n            int count = 0;\r\n\r\n            count++;\r\n            System.out.println(count);\r\n        }\r\n    }","title":"How to make a variable increment on every running of a method?","body":"<p>I am trying to get the int count to increment each time I run the program. ie: So if I ran the program 9 times, and doMethod was called 9 times, the value of count would be 9. But since I have to initialize count to = 0 count keeps resetting itself to 0 on every iteration of the method. Is there a way around this?</p>\n\n<pre><code>public class Test {\n\n    public static void main (String[] args) {\n\n        Test test1 = new Test();\n\n        test1.doMethod();\n\n    }\n\n    public void doMethod ()  {\n\n        int count = 0;\n\n        count++;\n        System.out.println(count);\n    }\n}\n</code></pre>\n"},{"tags":["java","libgdx","scene2d"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1640205651,"post_id":70448445,"comment_id":124543214,"body_markdown":"1) Depends if your complete skin is small enough to justify delaying the loading screen until it is loaded. 2) not quite sure what your suggesting.  3) nope. If your skin is relatively small, add the skin to the asset manager and wait for it to finish loading, then start the progress bar and load the rest. If your skin is so big it’s taking too long to start showing the loading screen, then do two skins.","body":"1) Depends if your complete skin is small enough to justify delaying the loading screen until it is loaded. 2) not quite sure what your suggesting.  3) nope. If your skin is relatively small, add the skin to the asset manager and wait for it to finish loading, then start the progress bar and load the rest. If your skin is so big it’s taking too long to start showing the loading screen, then do two skins."},{"owner":{"account_id":2184749,"reputation":717,"user_id":1933399,"accept_rate":29,"display_name":"The Shoe Shiner"},"score":0,"creation_date":1640267525,"post_id":70448445,"comment_id":124557391,"body_markdown":"@Tenfour04 My #2 basically just meant - keep the skin small, and load everything else after the skin is loaded (either in a second skin or manually). Which sort of lines up with your suggestion. So that&#39;s the direction I&#39;ll head in.","body":"@Tenfour04 My #2 basically just meant - keep the skin small, and load everything else after the skin is loaded (either in a second skin or manually). Which sort of lines up with your suggestion. So that&#39;s the direction I&#39;ll head in."}],"owner":{"account_id":2184749,"reputation":717,"user_id":1933399,"accept_rate":29,"display_name":"The Shoe Shiner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640179807,"creation_date":1640173007,"question_id":70448445,"body_markdown":"Given that the scene2d progress bar uses a skin, there is a circular reference there. How does one skin a progress bar that tracks the loading of an asset manager that&#39;s loading the same skin?\r\n\r\n- Breaking it out into two skins seems overkill, but would work\r\n- Maybe skins are not meant to be large enough to warrant progress bars, So just load the skin without the bar, and use the bar to track the loading of other non-skin assets?\r\n- Is there some other feature of libgdx that allows me to track when specific parts of a skin are loading?","title":"How to use libgdx progress bar when loading a skin via asset manager","body":"<p>Given that the scene2d progress bar uses a skin, there is a circular reference there. How does one skin a progress bar that tracks the loading of an asset manager that's loading the same skin?</p>\n<ul>\n<li>Breaking it out into two skins seems overkill, but would work</li>\n<li>Maybe skins are not meant to be large enough to warrant progress bars, So just load the skin without the bar, and use the bar to track the loading of other non-skin assets?</li>\n<li>Is there some other feature of libgdx that allows me to track when specific parts of a skin are loading?</li>\n</ul>\n"},{"tags":["java","arrays","algorithm","segment-tree"],"comments":[{"owner":{"account_id":11092824,"reputation":484,"user_id":8144061,"accept_rate":100,"display_name":"Wing Kui Tsoi"},"score":0,"creation_date":1639798412,"post_id":70400694,"comment_id":124447162,"body_markdown":"If you ask for anther way but not segement tree, I can show how to find the ans.","body":"If you ask for anther way but not segement tree, I can show how to find the ans."},{"owner":{"account_id":12931984,"reputation":7896,"user_id":9350720,"display_name":"Abhinav Mathur"},"score":0,"creation_date":1639801073,"post_id":70400694,"comment_id":124447409,"body_markdown":"What is the range of `array[i]`?","body":"What is the range of <code>array[i]</code>?"},{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":0,"creation_date":1639802642,"post_id":70400694,"comment_id":124447545,"body_markdown":"Segment tree could wrong _if_ you are thinking in terms of min and max. For example `check(0, 2, 20, 22)` should return true.","body":"Segment tree could wrong <i>if</i> you are thinking in terms of min and max. For example <code>check(0, 2, 20, 22)</code> should return true."},{"owner":{"account_id":19005728,"reputation":620,"user_id":13879370,"display_name":"lier wu"},"score":0,"creation_date":1639843156,"post_id":70400694,"comment_id":124454163,"body_markdown":"@WingKuiTsoi, Sure using segment tree is just my thought, not needed.","body":"@WingKuiTsoi, Sure using segment tree is just my thought, not needed."},{"owner":{"account_id":19005728,"reputation":620,"user_id":13879370,"display_name":"lier wu"},"score":0,"creation_date":1639843281,"post_id":70400694,"comment_id":124454192,"body_markdown":"@AbhinavMathur less than 2E5, all numbers are integer and distinct.","body":"@AbhinavMathur less than 2E5, all numbers are integer and distinct."},{"owner":{"account_id":19005728,"reputation":620,"user_id":13879370,"display_name":"lier wu"},"score":0,"creation_date":1639843455,"post_id":70400694,"comment_id":124454225,"body_markdown":"@nice_dev I&#39;m not thinking in terms of min and max but Segment Tree. A Segment Tree is not limited to getting the min and max. I&#39;m thinking this problem is related to the Segment Tree since RMQ is similar to my question(In some way).","body":"@nice_dev I&#39;m not thinking in terms of min and max but Segment Tree. A Segment Tree is not limited to getting the min and max. I&#39;m thinking this problem is related to the Segment Tree since RMQ is similar to my question(In some way)."},{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":0,"creation_date":1639844674,"post_id":70400694,"comment_id":124454493,"body_markdown":"@lierwu But what would you store in segments?","body":"@lierwu But what would you store in segments?"},{"owner":{"account_id":19005728,"reputation":620,"user_id":13879370,"display_name":"lier wu"},"score":0,"creation_date":1639844847,"post_id":70400694,"comment_id":124454537,"body_markdown":"@nice_dev Two integers, ```check(int a, int b, int l, int r)```, I would pass in two integers, ```a``` being the left endpoint, ```b``` being the right endpoint.","body":"@nice_dev Two integers, <code>check(int a, int b, int l, int r)</code>, I would pass in two integers, <code>a</code> being the left endpoint, <code>b</code> being the right endpoint."},{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":0,"creation_date":1639845050,"post_id":70400694,"comment_id":124454572,"body_markdown":"So for `[21,34,12]`, the `a` and `b` would be 12 and 34?","body":"So for <code>[21,34,12]</code>, the <code>a</code> and <code>b</code> would be 12 and 34?"},{"owner":{"account_id":19005728,"reputation":620,"user_id":13879370,"display_name":"lier wu"},"score":0,"creation_date":1639845063,"post_id":70400694,"comment_id":124454576,"body_markdown":"@nice_dev, wait, does your ```segments``` means the ```segments``` in the segment tree? I&#39;m not sure if I understand correctly.","body":"@nice_dev, wait, does your <code>segments</code> means the <code>segments</code> in the segment tree? I&#39;m not sure if I understand correctly."},{"owner":{"account_id":19005728,"reputation":620,"user_id":13879370,"display_name":"lier wu"},"score":0,"creation_date":1639845181,"post_id":70400694,"comment_id":124454599,"body_markdown":"@nice_dev, no,  for ```[21,34,12]```, ```a``` and ```b``` would be ```0``` and ```2``` since ```[21, 34, 12, 88, 54, 73]```&#39;s ```index from 0 to 2``` is ```[21,34,12]```","body":"@nice_dev, no,  for <code>[21,34,12]</code>, <code>a</code> and <code>b</code> would be <code>0</code> and <code>2</code> since <code>[21, 34, 12, 88, 54, 73]</code>&#39;s <code>index from 0 to 2</code> is <code>[21,34,12]</code>"},{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":0,"creation_date":1639845574,"post_id":70400694,"comment_id":124454684,"body_markdown":"Ok I mean what would the nodes in the seg tree hold? If you are storing indexes, how will you decide if a value exists in the range l and r given to you during querying?","body":"Ok I mean what would the nodes in the seg tree hold? If you are storing indexes, how will you decide if a value exists in the range l and r given to you during querying?"},{"owner":{"account_id":19005728,"reputation":620,"user_id":13879370,"display_name":"lier wu"},"score":1,"creation_date":1639845747,"post_id":70400694,"comment_id":124454716,"body_markdown":"@nice_dev, I understand now, that is a problem, actually, that is the problem I have if I want to use a segment tree for this. That is also the problem I&#39;m asking for. I&#39;ll update the question to be more clear, thank you.","body":"@nice_dev, I understand now, that is a problem, actually, that is the problem I have if I want to use a segment tree for this. That is also the problem I&#39;m asking for. I&#39;ll update the question to be more clear, thank you."},{"owner":{"account_id":11092824,"reputation":484,"user_id":8144061,"accept_rate":100,"display_name":"Wing Kui Tsoi"},"score":0,"creation_date":1640013874,"post_id":70400694,"comment_id":124488153,"body_markdown":"I can&#39;t see the relationship between O(log(n)) and your problem that searching numbers in the array within range so I don&#39;t know what to suggest unless you can specify.","body":"I can&#39;t see the relationship between O(log(n)) and your problem that searching numbers in the array within range so I don&#39;t know what to suggest unless you can specify."},{"owner":{"account_id":19005728,"reputation":620,"user_id":13879370,"display_name":"lier wu"},"score":0,"creation_date":1640016340,"post_id":70400694,"comment_id":124489182,"body_markdown":"@WingKuiTsoi specify what? I would want to answer each query in ```O(log(n))``` where there is a lot of queries, if preset needed, complete it in time complexity less than ```O(n^2)```","body":"@WingKuiTsoi specify what? I would want to answer each query in <code>O(log(n))</code> where there is a lot of queries, if preset needed, complete it in time complexity less than <code>O(n^2)</code>"},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":1,"creation_date":1640181620,"post_id":70400694,"comment_id":124534792,"body_markdown":"Can you process all the queries at the same time?  It makes this problem a lot easier.","body":"Can you process all the queries at the same time?  It makes this problem a lot easier."},{"owner":{"account_id":19005728,"reputation":620,"user_id":13879370,"display_name":"lier wu"},"score":0,"creation_date":1640190965,"post_id":70400694,"comment_id":124538581,"body_markdown":"@MattTimmermans ```int l``` and ``` int r``` can be any integer, thus, there is no way to process the queries all at once.","body":"@MattTimmermans <code>int l</code> and ``` int r``` can be any integer, thus, there is no way to process the queries all at once."},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":0,"creation_date":1640191009,"post_id":70400694,"comment_id":124538598,"body_markdown":"I mean if you have access to all the queries in advance, then you can simplify the problem.","body":"I mean if you have access to all the queries in advance, then you can simplify the problem."},{"owner":{"account_id":19005728,"reputation":620,"user_id":13879370,"display_name":"lier wu"},"score":0,"creation_date":1640191083,"post_id":70400694,"comment_id":124538627,"body_markdown":"@MattTimmermans May you explain a little more? I can&#39;t understand, sorry.","body":"@MattTimmermans May you explain a little more? I can&#39;t understand, sorry."},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":0,"creation_date":1640191292,"post_id":70400694,"comment_id":124538688,"body_markdown":"Could you, for example, sort the queries and process them in order of their `l` values?","body":"Could you, for example, sort the queries and process them in order of their <code>l</code> values?"},{"owner":{"account_id":19005728,"reputation":620,"user_id":13879370,"display_name":"lier wu"},"score":0,"creation_date":1640191396,"post_id":70400694,"comment_id":124538719,"body_markdown":"@MattTimmermans Yes, you can... But I don&#39;t see how that can simplify the problem.","body":"@MattTimmermans Yes, you can... But I don&#39;t see how that can simplify the problem."},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":1,"creation_date":1640192604,"post_id":70400694,"comment_id":124539212,"body_markdown":"...and that&#39;s why you ask questions on SO :)  I added a comment to the accepted answer.","body":"...and that&#39;s why you ask questions on SO :)  I added a comment to the accepted answer."}],"answers":[{"tags":[],"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639811335,"creation_date":1639811335,"answer_id":70401607,"question_id":70400694,"body_markdown":"`O(N)` is easy:\r\n\r\n```java\r\npublic static boolean check(int[] data, int a, int b, int l, int r) {\r\n    return Arrays.stream(data, a, b + 1).anyMatch(n -&gt; n &gt;= l &amp;&amp; n &lt;= r);\r\n}\r\n```\r\n\r\nI suspect that any more big-O efficient approach would spend enough time building the needed data structure that it&#39;s not worth the effort unless you&#39;re doing a *lot* of lookups on a huge dataset. Even then, maybe a parallel version of the above might be good enough.\r\n","title":"Is there a way to quickly find in a range contains a number that is in a given range?","body":"<p><code>O(N)</code> is easy:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean check(int[] data, int a, int b, int l, int r) {\n    return Arrays.stream(data, a, b + 1).anyMatch(n -&gt; n &gt;= l &amp;&amp; n &lt;= r);\n}\n</code></pre>\n<p>I suspect that any more big-O efficient approach would spend enough time building the needed data structure that it's not worth the effort unless you're doing a <em>lot</em> of lookups on a huge dataset. Even then, maybe a parallel version of the above might be good enough.</p>\n"},{"tags":[],"owner":{"account_id":11092824,"reputation":484,"user_id":8144061,"accept_rate":100,"display_name":"Wing Kui Tsoi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1640179684,"creation_date":1640024178,"answer_id":70426296,"question_id":70400694,"body_markdown":"**UPDATED:**\r\n\r\n    public static void main(String[] args) {\r\n\t\tint[] data = {21, 34, 12, 88, 54, 73, 99, 100};\r\n\t\tList&lt;Integer&gt; dataList = Arrays.stream(data).boxed().collect(Collectors.toList());\r\n\t\tSystem.out.println(searchRange(0, 2, 20, 50, data));\r\n\t\tSystem.out.println(searchRange(2, 3, 20, 80, data));\r\n\t\tSystem.out.println(searchRange(0, 2, 20, 22, data));\t\r\n\r\n    public static boolean searchRange(int from, int to, int min, int max, int[] data) {\r\n        // slice array\r\n\t\tdata = Arrays.copyOfRange(data, from, to + 1);\r\n\t\tArrays.sort(data);\r\n\t\t// System.out.println(Arrays.toString(data));\r\n\t\tint index = findInBoundaries(data, min, max);\r\n\t\t// System.out.println(index);\r\n\t\treturn index != -1;\r\n\t}\r\n\r\n    // return -1: no elements found.\r\n\tstatic int findInBoundaries(int[] data, int min, int max) {\r\n\t\tint start = 0;\r\n\t\tint end = data.length - 1;\r\n\t\tint ans = -1;\r\n        while (start &lt;= end) {\r\n            int mid = (start + end) / 2;\r\n            // Break if found \r\n            if (data[mid] &gt;= min &amp;&amp; data[mid] &lt;= max) {\r\n                ans = mid;\r\n                break;\r\n            } \r\n            // Right move if element &lt;= max\r\n            else if (data[mid] &lt;= max) {\r\n            \tstart = mid + 1;\r\n            }\r\n            // Left move\r\n            else {\r\n                end = mid - 1;\r\n            }\r\n        }\r\n        return ans;\r\n\t}\r\n\r\nOutput\r\n\r\n    true\r\n    false\r\n    true\r\n\r\nThis code has been tested for more times. Unlike my first answer to hit the min and max boundaries independently, this is finding the range for the target element to determine if the subarray contains the eligible numbers.\r\n\r\n**Explanation:**\r\n\r\nTo simplify the question, I define it as if any numbers of subarray is in the given range and the method should be in time complexity less than O(n^2).\r\n\r\nOnce the array is sorted, it is easy to do it in binary search. The solution starts from the middle element (int mid = (start + end) / 2) to search a number within the given range. When the element meets the range requirement, the loop terminates. If it is smaller than (or smaller than and equals to) the max value, it will search the right (larger) element, otherwise, it will search the left (smaller) element. In this case, the maximum loop times will be O(log n) where n is the size of the array. \r\n\r\n**Example:**\r\n\r\nI modified to compare the solution with normal looping by adding counters. In some cases, normal looping needs to loop through the whole array.\r\nThe sorting for normal solution is not very important so I don&#39;t do it.\r\n\r\n\t// return -1: no elements found.\r\n\tstatic void findBoundaryCompareMethods(int[] data, int min, int max) {\r\n\t\tint start = 0;\r\n\t\tint end = data.length - 1;\r\n\t\tint ans = -1;\r\n\t\tint count = 0;\r\n        while (start &lt;= end) {\r\n            int mid = (start + end) / 2;\r\n            count++;\r\n            // Right move to find element &gt; max \r\n            if (data[mid] &gt;= min &amp;&amp; data[mid] &lt;= max) {\r\n                ans = mid;\r\n                break;\r\n            } \r\n            else if (data[mid] &lt;= max) {\r\n            \tstart = mid + 1;\r\n            }\r\n            // Left move\r\n            else {\r\n                end = mid - 1;\r\n            }\r\n        }\r\n        System.out.println(&quot;Method 1 Find: &quot; + ans);\r\n        System.out.println(&quot;Method 1 Count: &quot; + count);\r\n        ans = -1;\r\n        count = 0;\r\n\t\tfor (int i = 0; i &lt; data.length; i++) {\r\n\t\t\tcount++;\r\n\t\t\tif (data[i] &gt;= min &amp;&amp; data[i] &lt;= max) {\r\n\t\t\t\tans = i;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Method 2 Find: &quot; + ans);\r\n        System.out.println(&quot;Method 2 Count: &quot; + count);\r\n\t}\r\n\t\r\nThe testing output is below. Method 1 is the answer solution and Method 2 is normal solution.\r\n\t\r\nOutput\r\n\r\n\tArray: [12, 21, 34]\r\n\tMin: 20 Max: 50\r\n\tMethod 1 Find: 1\r\n\tMethod 1 Count: 1\r\n\tMethod 2 Find: 1\r\n\tMethod 2 Count: 2\r\n\r\n\tArray: [12, 88]\r\n\tMin: 20 Max: 80\r\n\tMethod 1 Find: -1\r\n\tMethod 1 Count: 2\r\n\tMethod 2 Find: -1\r\n\tMethod 2 Count: 2\r\n\r\n\tArray: [12, 21, 34]\r\n\tMin: 20 Max: 22\r\n\tMethod 1 Find: 1\r\n\tMethod 1 Count: 1\r\n\tMethod 2 Find: 1\r\n\tMethod 2 Count: 2\r\n\r\n\tArray: [12, 21, 34, 54, 73, 88, 99, 100]\r\n\tMin: 70 Max: 73\r\n\tMethod 1 Find: 4\r\n\tMethod 1 Count: 3\r\n\tMethod 2 Find: 4\r\n\tMethod 2 Count: 5","title":"Is there a way to quickly find in a range contains a number that is in a given range?","body":"<p><strong>UPDATED:</strong></p>\n<pre><code>public static void main(String[] args) {\n    int[] data = {21, 34, 12, 88, 54, 73, 99, 100};\n    List&lt;Integer&gt; dataList = Arrays.stream(data).boxed().collect(Collectors.toList());\n    System.out.println(searchRange(0, 2, 20, 50, data));\n    System.out.println(searchRange(2, 3, 20, 80, data));\n    System.out.println(searchRange(0, 2, 20, 22, data));    \n\npublic static boolean searchRange(int from, int to, int min, int max, int[] data) {\n    // slice array\n    data = Arrays.copyOfRange(data, from, to + 1);\n    Arrays.sort(data);\n    // System.out.println(Arrays.toString(data));\n    int index = findInBoundaries(data, min, max);\n    // System.out.println(index);\n    return index != -1;\n}\n\n// return -1: no elements found.\nstatic int findInBoundaries(int[] data, int min, int max) {\n    int start = 0;\n    int end = data.length - 1;\n    int ans = -1;\n    while (start &lt;= end) {\n        int mid = (start + end) / 2;\n        // Break if found \n        if (data[mid] &gt;= min &amp;&amp; data[mid] &lt;= max) {\n            ans = mid;\n            break;\n        } \n        // Right move if element &lt;= max\n        else if (data[mid] &lt;= max) {\n            start = mid + 1;\n        }\n        // Left move\n        else {\n            end = mid - 1;\n        }\n    }\n    return ans;\n}\n</code></pre>\n<p>Output</p>\n<pre><code>true\nfalse\ntrue\n</code></pre>\n<p>This code has been tested for more times. Unlike my first answer to hit the min and max boundaries independently, this is finding the range for the target element to determine if the subarray contains the eligible numbers.</p>\n<p><strong>Explanation:</strong></p>\n<p>To simplify the question, I define it as if any numbers of subarray is in the given range and the method should be in time complexity less than O(n^2).</p>\n<p>Once the array is sorted, it is easy to do it in binary search. The solution starts from the middle element (int mid = (start + end) / 2) to search a number within the given range. When the element meets the range requirement, the loop terminates. If it is smaller than (or smaller than and equals to) the max value, it will search the right (larger) element, otherwise, it will search the left (smaller) element. In this case, the maximum loop times will be O(log n) where n is the size of the array.</p>\n<p><strong>Example:</strong></p>\n<p>I modified to compare the solution with normal looping by adding counters. In some cases, normal looping needs to loop through the whole array.\nThe sorting for normal solution is not very important so I don't do it.</p>\n<pre><code>// return -1: no elements found.\nstatic void findBoundaryCompareMethods(int[] data, int min, int max) {\n    int start = 0;\n    int end = data.length - 1;\n    int ans = -1;\n    int count = 0;\n    while (start &lt;= end) {\n        int mid = (start + end) / 2;\n        count++;\n        // Right move to find element &gt; max \n        if (data[mid] &gt;= min &amp;&amp; data[mid] &lt;= max) {\n            ans = mid;\n            break;\n        } \n        else if (data[mid] &lt;= max) {\n            start = mid + 1;\n        }\n        // Left move\n        else {\n            end = mid - 1;\n        }\n    }\n    System.out.println(&quot;Method 1 Find: &quot; + ans);\n    System.out.println(&quot;Method 1 Count: &quot; + count);\n    ans = -1;\n    count = 0;\n    for (int i = 0; i &lt; data.length; i++) {\n        count++;\n        if (data[i] &gt;= min &amp;&amp; data[i] &lt;= max) {\n            ans = i;\n            break;\n        }\n    }\n    System.out.println(&quot;Method 2 Find: &quot; + ans);\n    System.out.println(&quot;Method 2 Count: &quot; + count);\n}\n</code></pre>\n<p>The testing output is below. Method 1 is the answer solution and Method 2 is normal solution.</p>\n<p>Output</p>\n<pre><code>Array: [12, 21, 34]\nMin: 20 Max: 50\nMethod 1 Find: 1\nMethod 1 Count: 1\nMethod 2 Find: 1\nMethod 2 Count: 2\n\nArray: [12, 88]\nMin: 20 Max: 80\nMethod 1 Find: -1\nMethod 1 Count: 2\nMethod 2 Find: -1\nMethod 2 Count: 2\n\nArray: [12, 21, 34]\nMin: 20 Max: 22\nMethod 1 Find: 1\nMethod 1 Count: 1\nMethod 2 Find: 1\nMethod 2 Count: 2\n\nArray: [12, 21, 34, 54, 73, 88, 99, 100]\nMin: 70 Max: 73\nMethod 1 Find: 4\nMethod 1 Count: 3\nMethod 2 Find: 4\nMethod 2 Count: 5\n</code></pre>\n"},{"tags":[],"owner":{"account_id":413689,"reputation":40197,"user_id":787480,"accept_rate":69,"display_name":"Sneftel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1640027001,"creation_date":1640025110,"answer_id":70426465,"question_id":70400694,"body_markdown":"It&#39;s a bit exotic, but a persistent red-black tree, or a persistent variant of any other self-balancing tree, would work.\r\n\r\nA [persistent data structure](https://en.wikipedia.org/wiki/Persistent_data_structure) allows one to (time- and space-)efficiently take &quot;snapshots&quot; of the structure at different times, and then query those snapshots later, receiving results based on the structure&#39;s state as of the snapshot time. For this use case, the particular query we would want to do would be to count all the contained elements within a given range (which can be performed in `O(log n)` if each node is annotated with the number of its descendants).\r\n\r\nIn this case, you would start with an empty structure, and at time `i`, insert `data[i]` and then store a snapshot as `snapshot[i]`. Then, `check(a,b,l,r)` would be implemented as `return snapshot[b].countInRange(l,r) &gt; snapshot[a].countInRange(l,r)`. That is, if there were more elements in the target range as of time `b` than there were as of time `a`, then some element in the target range must have been added between `a` and `b` and thus satisfies your constraints.\r\n\r\nIf optimally implemented, the precomputation would take time `O(n log n)` and space `O(n)`, and queries would take time `O(log n)`.\r\n\r\n---\r\n\r\nIf you were willing to relax the `O(log n)` requirement for queries, a simpler and potentially more practical approach would be a 2-dimensional [k-D tree](https://en.wikipedia.org/wiki/K-d_tree). Simply insert each `data[i]` as the point `(i, data[i])`, and then do a range search for `a&lt;=x&lt;b, l&lt;=y&lt;r`. This gives you a query time of `O(sqrt(n))`, which is not as efficient, but a lot easier to code up (or to find existing code for).","title":"Is there a way to quickly find in a range contains a number that is in a given range?","body":"<p>It's a bit exotic, but a persistent red-black tree, or a persistent variant of any other self-balancing tree, would work.</p>\n<p>A <a href=\"https://en.wikipedia.org/wiki/Persistent_data_structure\" rel=\"nofollow noreferrer\">persistent data structure</a> allows one to (time- and space-)efficiently take &quot;snapshots&quot; of the structure at different times, and then query those snapshots later, receiving results based on the structure's state as of the snapshot time. For this use case, the particular query we would want to do would be to count all the contained elements within a given range (which can be performed in <code>O(log n)</code> if each node is annotated with the number of its descendants).</p>\n<p>In this case, you would start with an empty structure, and at time <code>i</code>, insert <code>data[i]</code> and then store a snapshot as <code>snapshot[i]</code>. Then, <code>check(a,b,l,r)</code> would be implemented as <code>return snapshot[b].countInRange(l,r) &gt; snapshot[a].countInRange(l,r)</code>. That is, if there were more elements in the target range as of time <code>b</code> than there were as of time <code>a</code>, then some element in the target range must have been added between <code>a</code> and <code>b</code> and thus satisfies your constraints.</p>\n<p>If optimally implemented, the precomputation would take time <code>O(n log n)</code> and space <code>O(n)</code>, and queries would take time <code>O(log n)</code>.</p>\n<hr />\n<p>If you were willing to relax the <code>O(log n)</code> requirement for queries, a simpler and potentially more practical approach would be a 2-dimensional <a href=\"https://en.wikipedia.org/wiki/K-d_tree\" rel=\"nofollow noreferrer\">k-D tree</a>. Simply insert each <code>data[i]</code> as the point <code>(i, data[i])</code>, and then do a range search for <code>a&lt;=x&lt;b, l&lt;=y&lt;r</code>. This gives you a query time of <code>O(sqrt(n))</code>, which is not as efficient, but a lot easier to code up (or to find existing code for).</p>\n"}],"owner":{"account_id":19005728,"reputation":620,"user_id":13879370,"display_name":"lier wu"},"comment_count":22,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1068,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":70426465,"answer_count":3,"score":5,"last_activity_date":1640179684,"creation_date":1639796538,"question_id":70400694,"body_markdown":"So here is a problem, I am given an integer array, whose number is all distinct, let&#39;s say it is \r\n```\r\nint[] data = {21, 34, 12, 88, 54, 73};\r\n```\r\nnow that I would like to see if a subarray, or a range, contains a number is in a range(which is also given). In other words, I want to see if a range of the array contains a number that is in a range. For instance, if I have a function ```check(int a, int b, int l, int r)``` where ```a``` and ```b``` is the range of the array and ```l``` and ```r``` is the range of the number.  \r\n\r\n So for the array above, ```check(0, 2, 20, 50)``` should return ```true``` since from ```index = 0 to 2```, there is ```21, 34, 12``` and there is two numbers,```21, 34```, is in range of ```20 to 50```.  \r\n  \r\n So another example would be ```check(2, 3, 20, 80)``` should return ```false``` since there,```12, 88```, is no number in range of 20, 80.  \r\n\r\nI&#39;m thinking about using Segment Tree, since as I know, RMQ(range minimum query) can be solved by using Segment Tree, thus I think Segment Tree would also work on this problem; however, all of the ```&quot;get&quot; function``` of Segment Tree is ```&quot;single&quot;```(Perhaps not the best word), so, I would want to know what nodes should the Segment Tree hold. Is there any algorithm that can answer each query in ```O(log(n))``` while the ```&quot;build&quot; time``` is not ```O(n^2)```, where ```n``` is the size of the array?  \r\n\r\nNote: Using Segment Tree is just my own thought, any other approach is appreciated.","title":"Is there a way to quickly find in a range contains a number that is in a given range?","body":"<p>So here is a problem, I am given an integer array, whose number is all distinct, let's say it is</p>\n<pre><code>int[] data = {21, 34, 12, 88, 54, 73};\n</code></pre>\n<p>now that I would like to see if a subarray, or a range, contains a number is in a range(which is also given). In other words, I want to see if a range of the array contains a number that is in a range. For instance, if I have a function <code>check(int a, int b, int l, int r)</code> where <code>a</code> and <code>b</code> is the range of the array and <code>l</code> and <code>r</code> is the range of the number.</p>\n<p>So for the array above, <code>check(0, 2, 20, 50)</code> should return <code>true</code> since from <code>index = 0 to 2</code>, there is <code>21, 34, 12</code> and there is two numbers,<code>21, 34</code>, is in range of <code>20 to 50</code>.</p>\n<p>So another example would be <code>check(2, 3, 20, 80)</code> should return <code>false</code> since there,<code>12, 88</code>, is no number in range of 20, 80.</p>\n<p>I'm thinking about using Segment Tree, since as I know, RMQ(range minimum query) can be solved by using Segment Tree, thus I think Segment Tree would also work on this problem; however, all of the <code>&quot;get&quot; function</code> of Segment Tree is <code>&quot;single&quot;</code>(Perhaps not the best word), so, I would want to know what nodes should the Segment Tree hold. Is there any algorithm that can answer each query in <code>O(log(n))</code> while the <code>&quot;build&quot; time</code> is not <code>O(n^2)</code>, where <code>n</code> is the size of the array?</p>\n<p>Note: Using Segment Tree is just my own thought, any other approach is appreciated.</p>\n"},{"tags":["java","z3","smt"],"comments":[{"owner":{"account_id":899912,"reputation":28525,"user_id":936310,"accept_rate":100,"display_name":"alias"},"score":0,"creation_date":1640105408,"post_id":70425407,"comment_id":124514480,"body_markdown":"You already asked this question and got an answer here: https://stackoverflow.com/questions/70157458/datatypeexpr-cannot-be-cast-to-boolexpr-in-z3-java-api-when-using-enums","body":"You already asked this question and got an answer here: <a href=\"https://stackoverflow.com/questions/70157458/datatypeexpr-cannot-be-cast-to-boolexpr-in-z3-java-api-when-using-enums\" title=\"datatypeexpr cannot be cast to boolexpr in z3 java api when using enums\">stackoverflow.com/questions/70157458/&hellip;</a>"},{"owner":{"account_id":11791079,"reputation":71,"user_id":8627180,"display_name":"Julia"},"score":0,"creation_date":1640159589,"post_id":70425407,"comment_id":124526821,"body_markdown":"No. It was not. I asked how to create a specific constraint over an enumeration. A simple example would actually be more helpful","body":"No. It was not. I asked how to create a specific constraint over an enumeration. A simple example would actually be more helpful"},{"owner":{"account_id":899912,"reputation":28525,"user_id":936310,"accept_rate":100,"display_name":"alias"},"score":0,"creation_date":1640183546,"post_id":70425407,"comment_id":124535579,"body_markdown":"SMTLib is a typed language. This means that you cannot create any value of your enum that has the value `pink`. This is like asking if `&quot;hello&quot;`  is a number. In a typed system, that will never happen.","body":"SMTLib is a typed language. This means that you cannot create any value of your enum that has the value <code>pink</code>. This is like asking if <code>&quot;hello&quot;</code>  is a number. In a typed system, that will never happen."},{"owner":{"account_id":11791079,"reputation":71,"user_id":8627180,"display_name":"Julia"},"score":0,"creation_date":1641821299,"post_id":70425407,"comment_id":124899150,"body_markdown":"Thanks. That answer actually helped me. Sorry if my original question was stupid or something","body":"Thanks. That answer actually helped me. Sorry if my original question was stupid or something"},{"owner":{"account_id":899912,"reputation":28525,"user_id":936310,"accept_rate":100,"display_name":"alias"},"score":0,"creation_date":1641823959,"post_id":70425407,"comment_id":124900277,"body_markdown":"No worries. When you&#39;re given an answer and you don&#39;t accept/vote on it, it&#39;s hard to tell if you&#39;ve further questions or if something else was confusing. This is how stack-overflow works in general. See here: https://stackoverflow.com/help/someone-answers","body":"No worries. When you&#39;re given an answer and you don&#39;t accept/vote on it, it&#39;s hard to tell if you&#39;ve further questions or if something else was confusing. This is how stack-overflow works in general. See here: <a href=\"https://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>"}],"answers":[{"tags":[],"owner":{"account_id":465703,"reputation":8244,"user_id":869966,"display_name":"Christoph Wintersteiger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640179664,"creation_date":1640179664,"answer_id":70449833,"question_id":70425407,"body_markdown":"See the [Z3Py tutorial][1], search for &quot;Color&quot; :-)\r\n\r\nNote that you should not be able to create an expression of sort `rgbEnum` for &quot;pink&quot;, because the result would clearly not be an expression of sort `rgbEnum`.  You can however create a constant/variable of sort `rgbEnum` which has the name &quot;pink&quot;, e.g. `Expr pink = myCtx.mkConst(&quot;pink&quot;, rgbEnum);`, but that constant will never be assigned any value that&#39;s not in the enum.\r\n\r\n\r\n  [1]: https://ericpony.github.io/z3py-tutorial/advanced-examples.htm","title":"Creating constraints over EnumSorts in Z3 Java api","body":"<p>See the <a href=\"https://ericpony.github.io/z3py-tutorial/advanced-examples.htm\" rel=\"nofollow noreferrer\">Z3Py tutorial</a>, search for &quot;Color&quot; :-)</p>\n<p>Note that you should not be able to create an expression of sort <code>rgbEnum</code> for &quot;pink&quot;, because the result would clearly not be an expression of sort <code>rgbEnum</code>.  You can however create a constant/variable of sort <code>rgbEnum</code> which has the name &quot;pink&quot;, e.g. <code>Expr pink = myCtx.mkConst(&quot;pink&quot;, rgbEnum);</code>, but that constant will never be assigned any value that's not in the enum.</p>\n"}],"owner":{"account_id":11791079,"reputation":71,"user_id":8627180,"display_name":"Julia"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640179664,"creation_date":1640019761,"question_id":70425407,"body_markdown":"i am stuck and need some help from you (i consulted the documentation and looked at the master example in Z3 github repo but could not find an example for what i want to do).\r\n\r\nLets say i would like to have an enum, that contains all the RGB (i.e. red, green, blue) colors and I would like to pose constraint on this enum, whether any particular color is contained by the enum or not.\r\n\r\nThe following constraint should evaluate to Sat: *enumRgb **contains** &quot;red&quot; &amp;&amp; enumRgb **contain** &quot;green&quot;*\r\n\r\nThis constraint should evaluate to UnSat: *enumRgb **contains** &quot;pink&quot;.*\r\n\r\nIn code (its not complete, because I am stuck) it looks like this:\r\n\r\n    public Expr addEnumExpr() { \r\n      EnumSort rgbEnum = myCtx.mkEnumSort(myCtx.mkSymbol(&quot;rgbEnum&quot;), myCtx.mkSymbol(&quot;red&quot;), myCtx.mkSymbol(&quot;green&quot;), myCtx.mkSymbol(&quot;blue&quot;)); \r\n      Symbol colorPink = myCtx.mkSymbol(&quot;pink&quot;); \r\n      Expr enumExpr = myCtx.mkConst(&quot;enumExpr&quot;, rgbEnum); \r\n      return myCtx.mkEq(colorPink, enumExpr); \r\n    }\r\n\r\nNote: myCtx is a global variable that holds the Context.\r\n\r\nSo the concrete problems I am having:\r\n\r\n1) the equals constraint cannot be create because of incompatible types (colorPink is a Symbol)\r\n2) Is the equals expression even the right one, in order to check for containment of a certain color in the enum?\r\n\r\n","title":"Creating constraints over EnumSorts in Z3 Java api","body":"<p>i am stuck and need some help from you (i consulted the documentation and looked at the master example in Z3 github repo but could not find an example for what i want to do).</p>\n<p>Lets say i would like to have an enum, that contains all the RGB (i.e. red, green, blue) colors and I would like to pose constraint on this enum, whether any particular color is contained by the enum or not.</p>\n<p>The following constraint should evaluate to Sat: <em>enumRgb <strong>contains</strong> &quot;red&quot; &amp;&amp; enumRgb <strong>contain</strong> &quot;green&quot;</em></p>\n<p>This constraint should evaluate to UnSat: <em>enumRgb <strong>contains</strong> &quot;pink&quot;.</em></p>\n<p>In code (its not complete, because I am stuck) it looks like this:</p>\n<pre><code>public Expr addEnumExpr() { \n  EnumSort rgbEnum = myCtx.mkEnumSort(myCtx.mkSymbol(&quot;rgbEnum&quot;), myCtx.mkSymbol(&quot;red&quot;), myCtx.mkSymbol(&quot;green&quot;), myCtx.mkSymbol(&quot;blue&quot;)); \n  Symbol colorPink = myCtx.mkSymbol(&quot;pink&quot;); \n  Expr enumExpr = myCtx.mkConst(&quot;enumExpr&quot;, rgbEnum); \n  return myCtx.mkEq(colorPink, enumExpr); \n}\n</code></pre>\n<p>Note: myCtx is a global variable that holds the Context.</p>\n<p>So the concrete problems I am having:</p>\n<ol>\n<li>the equals constraint cannot be create because of incompatible types (colorPink is a Symbol)</li>\n<li>Is the equals expression even the right one, in order to check for containment of a certain color in the enum?</li>\n</ol>\n"},{"tags":["java","netbeans-8","javascript-debugger"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1530460372,"post_id":51124696,"comment_id":89234538,"body_markdown":"If you suspect it&#39;s actually NetBeans and not your Class code then ..... Do you have any older versions of NetBeans still on your system? Perhaps ensure they do not share the same project path or uninstall the older version (save your projects somewhere for that version first). If all fails....save your projects somewhere, uninstall all NetBeans, **Reboot Computer**, download and reinstall NetBeans 8.2. Ensure you get the latest updates.","body":"If you suspect it&#39;s actually NetBeans and not your Class code then ..... Do you have any older versions of NetBeans still on your system? Perhaps ensure they do not share the same project path or uninstall the older version (save your projects somewhere for that version first). If all fails....save your projects somewhere, uninstall all NetBeans, <b>Reboot Computer</b>, download and reinstall NetBeans 8.2. Ensure you get the latest updates."},{"owner":{"account_id":13683846,"reputation":282,"user_id":9873440,"display_name":"Annunaki"},"score":0,"creation_date":1530461394,"post_id":51124696,"comment_id":89234773,"body_markdown":"nope, I tried all that but I didn&#39;t reinstall it ,  I have only NB 8.2 on my system, and current project i&#39;m working on compiles without errors also it generates some results, but I&#39;m trying to debug some methods there, I would prefer to know what&#39;s causing this error than going through the last resort solution,,thanks","body":"nope, I tried all that but I didn&#39;t reinstall it ,  I have only NB 8.2 on my system, and current project i&#39;m working on compiles without errors also it generates some results, but I&#39;m trying to debug some methods there, I would prefer to know what&#39;s causing this error than going through the last resort solution,,thanks"},{"owner":{"account_id":13683846,"reputation":282,"user_id":9873440,"display_name":"Annunaki"},"score":0,"creation_date":1530461585,"post_id":51124696,"comment_id":89234813,"body_markdown":"also I want to mention that I can debug other projects on NB, just this project specifically is generating this error","body":"also I want to mention that I can debug other projects on NB, just this project specifically is generating this error"}],"answers":[{"tags":[],"owner":{"account_id":21158518,"reputation":1,"user_id":15557285,"display_name":"berkeerdm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640179589,"creation_date":1640179589,"answer_id":70449811,"question_id":51124696,"body_markdown":"Delete these files from the project folder (From Files tab).\r\n\r\nbuild.xml\r\nbuild-imp.xml\r\nRestart netbeans.\r\n\r\nDebug again.","title":"netbeans 8.2, java debugger error on windows 10","body":"<p>Delete these files from the project folder (From Files tab).</p>\n<p>build.xml\nbuild-imp.xml\nRestart netbeans.</p>\n<p>Debug again.</p>\n"}],"owner":{"account_id":13683846,"reputation":282,"user_id":9873440,"display_name":"Annunaki"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":532,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640179589,"creation_date":1530459520,"question_id":51124696,"body_markdown":"recently, netbeans 8.2 on win10, started giving me some debugger errors for java project.\r\nthe project compiles and runs without issues, but when I try to debug it after I put few breakpoints on some methods,\r\nI tried to clean NB cache , I removed build and properties files to have fresh build files , but still getting the follwoing debugger error :\r\n\r\ncompile-single:\r\n\r\nC:\\........\\nbproject\\build-impl.xml:1351: The following error occurred while executing this line:\r\nC:\\.........\\nbproject\\build-impl.xml:858: nbjpdastart doesn&#39;t support the nested &quot;modulepath&quot; element.\r\nBUILD FAILED (total time: 0 seconds)\r\n\r\nI appreciate your help\r\n\r\nthanks","title":"netbeans 8.2, java debugger error on windows 10","body":"<p>recently, netbeans 8.2 on win10, started giving me some debugger errors for java project.\nthe project compiles and runs without issues, but when I try to debug it after I put few breakpoints on some methods,\nI tried to clean NB cache , I removed build and properties files to have fresh build files , but still getting the follwoing debugger error :</p>\n\n<p>compile-single:</p>\n\n<p>C:........\\nbproject\\build-impl.xml:1351: The following error occurred while executing this line:\nC:.........\\nbproject\\build-impl.xml:858: nbjpdastart doesn't support the nested \"modulepath\" element.\nBUILD FAILED (total time: 0 seconds)</p>\n\n<p>I appreciate your help</p>\n\n<p>thanks</p>\n"},{"tags":["java","scala","gradle","intellij-idea","groovy"],"comments":[{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1640186884,"post_id":70449780,"comment_id":124536930,"body_markdown":"Does the error happen when you invoke `compileTestGroovy` directly, as opposed to transitively by way of `compileTestScala`?","body":"Does the error happen when you invoke <code>compileTestGroovy</code> directly, as opposed to transitively by way of <code>compileTestScala</code>?"},{"owner":{"account_id":11026325,"reputation":21,"user_id":8099124,"display_name":"user8099124"},"score":0,"creation_date":1640239896,"post_id":70449780,"comment_id":124549142,"body_markdown":"`compileTestGroovy` gets build successfully when it is invoked directly. But when `compileTestScala` is invoked, it fails.","body":"<code>compileTestGroovy</code> gets build successfully when it is invoked directly. But when <code>compileTestScala</code> is invoked, it fails."}],"owner":{"account_id":11026325,"reputation":21,"user_id":8099124,"display_name":"user8099124"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1640179456,"creation_date":1640179456,"question_id":70449780,"body_markdown":"I have a module which uses Groovy (2.5.14) and Scala (2.11.6). All the dependencies are maintained by gradle (ver 6.x). While building the project I am getting some strange compilation Error as shown below:\r\n\r\n&gt; [Error] Class A.B.C$Trait$FieldHelper not found - continuing with a stub.\r\n(where C is some trait)\r\n\r\nTo be precise, while build the module, the task `compileTestScala` fails with the above error.\r\n\r\nHere is the snapshot of the build gradle\r\n\r\n    compileTestScala {\r\n    classpath = classpath.plus(files(compileTestGroovy.destinationDir))\r\n    dependsOn compileTestGroovy\r\n    }\r\n\r\n    compileScala {\r\n    classpath = classpath.plus(files(compileGroovy.destinationDir))\r\n    dependsOn compileGroovy\r\n    }\r\n\r\nHowever, the compileScala builds successfully. What could be the root cause?\r\n\r\n\r\n\r\n\r\n","title":"Error compiling class that contains trait in groovy","body":"<p>I have a module which uses Groovy (2.5.14) and Scala (2.11.6). All the dependencies are maintained by gradle (ver 6.x). While building the project I am getting some strange compilation Error as shown below:</p>\n<blockquote>\n<p>[Error] Class A.B.C$Trait$FieldHelper not found - continuing with a stub.\n(where C is some trait)</p>\n</blockquote>\n<p>To be precise, while build the module, the task <code>compileTestScala</code> fails with the above error.</p>\n<p>Here is the snapshot of the build gradle</p>\n<pre><code>compileTestScala {\nclasspath = classpath.plus(files(compileTestGroovy.destinationDir))\ndependsOn compileTestGroovy\n}\n\ncompileScala {\nclasspath = classpath.plus(files(compileGroovy.destinationDir))\ndependsOn compileGroovy\n}\n</code></pre>\n<p>However, the compileScala builds successfully. What could be the root cause?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1640179018,"post_id":70449654,"comment_id":124533706,"body_markdown":"why do you use java 11 code if you intend it to work on a java 8 environment?","body":"why do you use java 11 code if you intend it to work on a java 8 environment?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1640179202,"post_id":70449654,"comment_id":124533798,"body_markdown":"You should use `&lt;maven.compiler.release&gt;8&lt;/maven.compiler.release&gt;` if using JDK9+... @Stultuske Why not ...it&#39;s easier...and also shows already if the code can be compiled with JDK11..","body":"You should use <code>&lt;maven.compiler.release&gt;8&lt;&#47;maven.compiler.release&gt;</code> if using JDK9+... @Stultuske Why not ...it&#39;s easier...and also shows already if the code can be compiled with JDK11.."},{"owner":{"account_id":19174656,"reputation":71,"user_id":14007608,"display_name":"INJG"},"score":0,"creation_date":1640179397,"post_id":70449654,"comment_id":124533889,"body_markdown":"@Stultuske: I use Java 11, but had forgotten to change the properties. So I was wondering why this works.","body":"@Stultuske: I use Java 11, but had forgotten to change the properties. So I was wondering why this works."},{"owner":{"account_id":19174656,"reputation":71,"user_id":14007608,"display_name":"INJG"},"score":0,"creation_date":1640179449,"post_id":70449654,"comment_id":124533912,"body_markdown":"@khmarbaise Thanks, that means only from 1.9 you can also do a syntax check.","body":"@khmarbaise Thanks, that means only from 1.9 you can also do a syntax check."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1640180000,"post_id":70449654,"comment_id":124534155,"body_markdown":"No...syntax check has nothing to do with that... The source controls the syntax but it does not limit the methods from your jdk (earlier times used animal sniffer to check that)...today JDK9+ use release options..much easier and more reliable... So use JDK11 or JDK17 to build your app and control the target (version of generated class files) via `maven.compiler.release` property...","body":"No...syntax check has nothing to do with that... The source controls the syntax but it does not limit the methods from your jdk (earlier times used animal sniffer to check that)...today JDK9+ use release options..much easier and more reliable... So use JDK11 or JDK17 to build your app and control the target (version of generated class files) via <code>maven.compiler.release</code> property..."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640179368,"creation_date":1640179368,"answer_id":70449767,"question_id":70449654,"body_markdown":"`maven.compiler.source` controls what syntax you can or can&#39;t use, but it doesn&#39;t limit what methods from the JDK the code can be compiled against. For that, you can use the `release` property. E.g:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.8.0&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;release&gt;8&lt;/release&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```","title":"Maven Compiler: Check syntax for Java version","body":"<p><code>maven.compiler.source</code> controls what syntax you can or can't use, but it doesn't limit what methods from the JDK the code can be compiled against. For that, you can use the <code>release</code> property. E.g:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;release&gt;8&lt;/release&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":19174656,"reputation":71,"user_id":14007608,"display_name":"INJG"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70449767,"answer_count":1,"score":1,"last_activity_date":1640179368,"creation_date":1640178834,"question_id":70449654,"body_markdown":"I have a question of understanding: \r\n\r\nSuppose I have Java code and use Java 11 syntax there (e.g. `isBlank()` from String class). \r\n\r\nFor compiling I use the `maven-compiler-plugin` (3.8.1) with the properties `maven.compiler.source` and `maven.compiler.target` each set to the value `1.8`.\r\n\r\nIf I compile `mvn clean` (`java -version` = `openjdk version &quot;11.0.3&quot; 2019-04-16`) it works fine.\r\n\r\nIs the java version I give to the `maven-compiler-plugin` only informative? How can I make sure that I get an artifact that really works under Java 8. Do I need to have JDK 8 installed (i.e. `java -version` = `1.8`)?\r\n\r\n\r\nThanks a lot!\r\n","title":"Maven Compiler: Check syntax for Java version","body":"<p>I have a question of understanding:</p>\n<p>Suppose I have Java code and use Java 11 syntax there (e.g. <code>isBlank()</code> from String class).</p>\n<p>For compiling I use the <code>maven-compiler-plugin</code> (3.8.1) with the properties <code>maven.compiler.source</code> and <code>maven.compiler.target</code> each set to the value <code>1.8</code>.</p>\n<p>If I compile <code>mvn clean</code> (<code>java -version</code> = <code>openjdk version &quot;11.0.3&quot; 2019-04-16</code>) it works fine.</p>\n<p>Is the java version I give to the <code>maven-compiler-plugin</code> only informative? How can I make sure that I get an artifact that really works under Java 8. Do I need to have JDK 8 installed (i.e. <code>java -version</code> = <code>1.8</code>)?</p>\n<p>Thanks a lot!</p>\n"},{"tags":["java","kotlin","sockets","asynchronous","serversocket"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1640178741,"post_id":70448255,"comment_id":124533583,"body_markdown":"The important part of the [docs](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/channels/AsynchronousByteChannel.html#read(java.nio.ByteBuffer,A,java.nio.channels.CompletionHandler)) is _&quot;-1 if no bytes could be read **because the channel has reached end-of-stream**.&quot;_ You only reach end-of-stream if the channel has been closed on the other side.","body":"The important part of the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/channels/AsynchronousByteChannel.html#read(java.nio.ByteBuffer,A,java.nio.channels.CompletionHandler)\" rel=\"nofollow noreferrer\">docs</a> is <i>&quot;-1 if no bytes could be read <b>because the channel has reached end-of-stream</b>.&quot;</i> You only reach end-of-stream if the channel has been closed on the other side."},{"owner":{"account_id":250668,"reputation":12542,"user_id":527533,"accept_rate":97,"display_name":"Jan Vladimir Mostert"},"score":0,"creation_date":1640179194,"post_id":70448255,"comment_id":124533795,"body_markdown":"That makes sense and matches what I&#39;m seeing. I&#39;ll need to treat this stream of data as if it has no end.","body":"That makes sense and matches what I&#39;m seeing. I&#39;ll need to treat this stream of data as if it has no end."}],"answers":[{"tags":[],"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640178548,"creation_date":1640178192,"answer_id":70449509,"question_id":70448255,"body_markdown":"Your whole idea of detecting the end of the stream by reading less than the size of the buffer is entirely wrong.\r\n\r\nSockets are not message-based, they&#39;re streams of data and data is not guaranteed to arrive as it was sent. When you send 692 bytes on one side, it may arrive as a single read of 692 bytes, but it could be e.g. two reads: 400 and 292 bytes. Even if the reading buffer is 1024 bytes.\r\n\r\nTwo ways to detect the end of a stream are:\r\n\r\n* Close the socket on the sending side, wait for `-1` on receiving side.\r\n* Implement some kind of a protocol (or use already existing one) to encode messages on top of the stream of data. The easiest is to send the size of the message first and then read as long as we receive the expected amount of data.","title":"AsynchronousSocketChannel never returns read = -1 if the buffer is completely filled","body":"<p>Your whole idea of detecting the end of the stream by reading less than the size of the buffer is entirely wrong.</p>\n<p>Sockets are not message-based, they're streams of data and data is not guaranteed to arrive as it was sent. When you send 692 bytes on one side, it may arrive as a single read of 692 bytes, but it could be e.g. two reads: 400 and 292 bytes. Even if the reading buffer is 1024 bytes.</p>\n<p>Two ways to detect the end of a stream are:</p>\n<ul>\n<li>Close the socket on the sending side, wait for <code>-1</code> on receiving side.</li>\n<li>Implement some kind of a protocol (or use already existing one) to encode messages on top of the stream of data. The easiest is to send the size of the message first and then read as long as we receive the expected amount of data.</li>\n</ul>\n"}],"owner":{"account_id":250668,"reputation":12542,"user_id":527533,"accept_rate":97,"display_name":"Jan Vladimir Mostert"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":480,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70449509,"answer_count":1,"score":1,"last_activity_date":1640178548,"creation_date":1640172055,"question_id":70448255,"body_markdown":"I&#39;m experimenting reading data from HTTP requests\r\n\r\nIf my buffer size is 1024 bytes and the message coming in is 768 bytes, it works perfectly and I can see that the buffer is not full in which case I can assume that it&#39;s done\r\n\r\n    read=692, buffer=java.nio.HeapByteBuffer[pos=692 lim=1024 cap=1024] :: read &lt; cap\r\n\r\n\r\nIf my buffer size is 512, I can still determine when the request is done\r\n\r\n    read=512, buffer=java.nio.HeapByteBuffer[pos=512 lim=512 cap=512]\r\n    read=160, buffer=java.nio.HeapByteBuffer[pos=160 lim=512 cap=512] :: read &lt; cap\r\n\r\nAt buffer size 64, it still works\r\n\r\n    read=64, buffer=java.nio.HeapByteBuffer[pos=64 lim=64 cap=64]\r\n    ...\r\n    read=64, buffer=java.nio.HeapByteBuffer[pos=64 lim=64 cap=64]\r\n    read=32, buffer=java.nio.HeapByteBuffer[pos=32 lim=64 cap=64] :: read &lt; cap\r\n\r\nWhen I go into the single digits, it appears that the channel is reading garbage data and filling up the buffer\r\n\r\n    read=7, buffer=java.nio.HeapByteBuffer[pos=7 lim=7 cap=7]\r\n    ...\r\n    read=7, buffer=java.nio.HeapByteBuffer[pos=7 lim=7 cap=7]\r\n    read=7, buffer=java.nio.HeapByteBuffer[pos=7 lim=7 cap=7] :: read == cap ?\r\n\r\nThis means I never know when all the data has been read\r\nWith a buffer size of 7, I&#39;m expecting the last one to be \r\n\r\n692 % 7 = 98\r\n\r\n692 - (98*7) = 6\r\n\r\nI&#39;m expecting to see\r\n\r\n    read=6, buffer=java.nio.HeapByteBuffer[pos=6 lim=7 cap=7]\r\n\r\nbut instead I&#39;m seeing read=7\r\n\r\nIf I make the buffer exactly the size of the http request, I&#39;m seeing\r\n\r\n    read=692, buffer=java.nio.HeapByteBuffer[pos=692 lim=692 cap=692] :: read == cap ?\r\n\r\nbut it never goes back into the channel.read::completed until I refresh the browser, then read goes to -1, but then the next request hangs and never reaches read = -1 to trigger the channel close.\r\n\r\n    read=692, buffer=java.nio.HeapByteBuffer[pos=692 lim=692 cap=692]\r\n    read=-1, buffer=java.nio.HeapByteBuffer[pos=0 lim=692 cap=692]\r\n    DONE, closing channel\r\n    read=692, buffer=java.nio.HeapByteBuffer[pos=692 lim=692 cap=692] &lt;&lt; hangs here until refresh, but then the next request does the same again\r\n\r\nAny ideas on how to make the &quot;end-detection&quot; more reliable? \r\n\r\n    AsynchronousServerSocketChannel.open().let { server -&gt;\r\n    \t\tserver.bind(InetSocketAddress(8080))\r\n    \r\n    \t\t// accept next socket\r\n    \t\tserver.accept(ByteBuffer.allocate(bufferSize), object : CompletionHandler&lt;AsynchronousSocketChannel, ByteBuffer&gt; {\r\n    \r\n    \t\t\toverride fun completed(channel: AsynchronousSocketChannel, buffer: ByteBuffer) {\r\n    \r\n    \t\t\t\t// accept next\r\n    \t\t\t\tserver.accept(ByteBuffer.allocate(bufferSize), this)\r\n    \r\n    \t\t\t\tchannel.read(\r\n    \t\t\t\t\tbuffer,\r\n    \t\t\t\t\tchannel,\r\n    \t\t\t\t\tobject : CompletionHandler&lt;Int, AsynchronousSocketChannel&gt; {\r\n    \t\t\t\t\t\toverride fun completed(read: Int, channel: AsynchronousSocketChannel) {\r\n    \r\n    \t\t\t\t\t\t\tprintln((&quot;read=$read, buffer=$buffer&quot;))\r\n    \r\n    \t\t\t\t\t\t\tif (read &gt; 0 || buffer.position() &gt; 0) {\r\n    \t\t\t\t\t\t\t\tbuffer.rewind()\r\n    \t\t\t\t\t\t\t\tchannel.read(\r\n    \t\t\t\t\t\t\t\t\tbuffer,\r\n    \t\t\t\t\t\t\t\t\tchannel,\r\n    \t\t\t\t\t\t\t\t\tthis\r\n    \t\t\t\t\t\t\t\t)\r\n    \t\t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\t\tprintln(&quot;DONE, closing channel&quot;)\r\n    \t\t\t\t\t\t\t\tchannel.close()\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\toverride fun failed(exception: Throwable, channel: AsynchronousSocketChannel) {\r\n    \t\t\t\t\t\t\texception.printStackTrace()\r\n    \t\t\t\t\t\t\tchannel.close()\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t)\r\n    \t\t\t}\r\n    \t\t\toverride fun failed(exception: Throwable, attachment: ByteBuffer?) {\r\n    \t\t\t\texception.printStackTrace()\r\n    \t\t\t}\r\n    \t\t})\r\n    \t}\r\n\r\n","title":"AsynchronousSocketChannel never returns read = -1 if the buffer is completely filled","body":"<p>I'm experimenting reading data from HTTP requests</p>\n<p>If my buffer size is 1024 bytes and the message coming in is 768 bytes, it works perfectly and I can see that the buffer is not full in which case I can assume that it's done</p>\n<pre><code>read=692, buffer=java.nio.HeapByteBuffer[pos=692 lim=1024 cap=1024] :: read &lt; cap\n</code></pre>\n<p>If my buffer size is 512, I can still determine when the request is done</p>\n<pre><code>read=512, buffer=java.nio.HeapByteBuffer[pos=512 lim=512 cap=512]\nread=160, buffer=java.nio.HeapByteBuffer[pos=160 lim=512 cap=512] :: read &lt; cap\n</code></pre>\n<p>At buffer size 64, it still works</p>\n<pre><code>read=64, buffer=java.nio.HeapByteBuffer[pos=64 lim=64 cap=64]\n...\nread=64, buffer=java.nio.HeapByteBuffer[pos=64 lim=64 cap=64]\nread=32, buffer=java.nio.HeapByteBuffer[pos=32 lim=64 cap=64] :: read &lt; cap\n</code></pre>\n<p>When I go into the single digits, it appears that the channel is reading garbage data and filling up the buffer</p>\n<pre><code>read=7, buffer=java.nio.HeapByteBuffer[pos=7 lim=7 cap=7]\n...\nread=7, buffer=java.nio.HeapByteBuffer[pos=7 lim=7 cap=7]\nread=7, buffer=java.nio.HeapByteBuffer[pos=7 lim=7 cap=7] :: read == cap ?\n</code></pre>\n<p>This means I never know when all the data has been read\nWith a buffer size of 7, I'm expecting the last one to be</p>\n<p>692 % 7 = 98</p>\n<p>692 - (98*7) = 6</p>\n<p>I'm expecting to see</p>\n<pre><code>read=6, buffer=java.nio.HeapByteBuffer[pos=6 lim=7 cap=7]\n</code></pre>\n<p>but instead I'm seeing read=7</p>\n<p>If I make the buffer exactly the size of the http request, I'm seeing</p>\n<pre><code>read=692, buffer=java.nio.HeapByteBuffer[pos=692 lim=692 cap=692] :: read == cap ?\n</code></pre>\n<p>but it never goes back into the channel.read::completed until I refresh the browser, then read goes to -1, but then the next request hangs and never reaches read = -1 to trigger the channel close.</p>\n<pre><code>read=692, buffer=java.nio.HeapByteBuffer[pos=692 lim=692 cap=692]\nread=-1, buffer=java.nio.HeapByteBuffer[pos=0 lim=692 cap=692]\nDONE, closing channel\nread=692, buffer=java.nio.HeapByteBuffer[pos=692 lim=692 cap=692] &lt;&lt; hangs here until refresh, but then the next request does the same again\n</code></pre>\n<p>Any ideas on how to make the &quot;end-detection&quot; more reliable?</p>\n<pre><code>AsynchronousServerSocketChannel.open().let { server -&gt;\n        server.bind(InetSocketAddress(8080))\n\n        // accept next socket\n        server.accept(ByteBuffer.allocate(bufferSize), object : CompletionHandler&lt;AsynchronousSocketChannel, ByteBuffer&gt; {\n\n            override fun completed(channel: AsynchronousSocketChannel, buffer: ByteBuffer) {\n\n                // accept next\n                server.accept(ByteBuffer.allocate(bufferSize), this)\n\n                channel.read(\n                    buffer,\n                    channel,\n                    object : CompletionHandler&lt;Int, AsynchronousSocketChannel&gt; {\n                        override fun completed(read: Int, channel: AsynchronousSocketChannel) {\n\n                            println((&quot;read=$read, buffer=$buffer&quot;))\n\n                            if (read &gt; 0 || buffer.position() &gt; 0) {\n                                buffer.rewind()\n                                channel.read(\n                                    buffer,\n                                    channel,\n                                    this\n                                )\n                            } else {\n                                println(&quot;DONE, closing channel&quot;)\n                                channel.close()\n                            }\n                        }\n                        override fun failed(exception: Throwable, channel: AsynchronousSocketChannel) {\n                            exception.printStackTrace()\n                            channel.close()\n                        }\n                    }\n                )\n            }\n            override fun failed(exception: Throwable, attachment: ByteBuffer?) {\n                exception.printStackTrace()\n            }\n        })\n    }\n</code></pre>\n"},{"tags":["java","spring","rest"],"comments":[{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1640177101,"post_id":70449230,"comment_id":124532949,"body_markdown":"As the simplest way, did you consider creating a `Bean`-annotated method returning a `MyConfig` instance in a `Config`-annotated configuration?","body":"As the simplest way, did you consider creating a <code>Bean</code>-annotated method returning a <code>MyConfig</code> instance in a <code>Config</code>-annotated configuration?"},{"owner":{"account_id":364230,"reputation":2747,"user_id":708502,"accept_rate":38,"display_name":"shree"},"score":0,"creation_date":1640177387,"post_id":70449230,"comment_id":124533059,"body_markdown":"How the value will be set if @Bean? ServiceClass and Pojo class in one module. and Controller is other module? Where to create @Configuration. Can u help in that?","body":"How the value will be set if @Bean? ServiceClass and Pojo class in one module. and Controller is other module? Where to create @Configuration. Can u help in that?"},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1640178392,"post_id":70449230,"comment_id":124533460,"body_markdown":"Modules do not have anything to that. Again: the upvoted answer is suggesting you the same. Note you can also inject `@Value`-annotated parameters to that method. I can&#39;t see the real issue so far.","body":"Modules do not have anything to that. Again: the upvoted answer is suggesting you the same. Note you can also inject <code>@Value</code>-annotated parameters to that method. I can&#39;t see the real issue so far."}],"answers":[{"tags":[],"owner":{"account_id":9074935,"reputation":1264,"user_id":6756858,"display_name":"ata"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640177309,"creation_date":1640177309,"answer_id":70449306,"question_id":70449230,"body_markdown":"`@Bean` annotation is used in your case. For example:\r\n\r\nCreate some configuration file with `@Configuration` annotation. It doesn&#39;t matter where you create your `Config` configuration class or how you name it. You can even have multiple `@Configuration` classes across your project.\r\n```java\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\n\r\nclass Config {\r\n  // configure your MyConfig class here as a bean\r\n  @Bean\r\n  public MyConfig myConfig() {\r\n    return MyConfig.Builder().limit(100).build();\r\n  }\r\n}\r\n```\r\nNow you can autowire it wherever you use it as in you example.","title":"How to inject pojo class in spring?","body":"<p><code>@Bean</code> annotation is used in your case. For example:</p>\n<p>Create some configuration file with <code>@Configuration</code> annotation. It doesn't matter where you create your <code>Config</code> configuration class or how you name it. You can even have multiple <code>@Configuration</code> classes across your project.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n\nclass Config {\n  // configure your MyConfig class here as a bean\n  @Bean\n  public MyConfig myConfig() {\n    return MyConfig.Builder().limit(100).build();\n  }\n}\n</code></pre>\n<p>Now you can autowire it wherever you use it as in you example.</p>\n"},{"tags":[],"owner":{"account_id":18544976,"reputation":241,"user_id":13512579,"display_name":"Navneet Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640177499,"creation_date":1640177499,"answer_id":70449347,"question_id":70449230,"body_markdown":"You can use @Configuration and @Bean. Something like this\r\n\r\nAppConfig.java\r\n\r\n    @Configuration\r\n    public class AppConfig {\r\n    \r\n        @Bean\r\n        public PojoClass getBean(){ return new PojoClass();}\r\n    \r\n    }","title":"How to inject pojo class in spring?","body":"<p>You can use @Configuration and @Bean. Something like this</p>\n<p>AppConfig.java</p>\n<pre><code>@Configuration\npublic class AppConfig {\n\n    @Bean\n    public PojoClass getBean(){ return new PojoClass();}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17849762,"reputation":104,"user_id":12965752,"display_name":"Bhushan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640177600,"creation_date":1640177600,"answer_id":70449372,"question_id":70449230,"body_markdown":"**You can use @Bean**\r\n\r\n    @Configuration\r\n\t  public class Config {\r\n      @Bean\r\n\t  public MyConfig MyConfig() {\r\n\t    return new MyConfig();\r\n\t  }\r\n\t}","title":"How to inject pojo class in spring?","body":"<p><strong>You can use @Bean</strong></p>\n<pre><code>@Configuration\n  public class Config {\n  @Bean\n  public MyConfig MyConfig() {\n    return new MyConfig();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":364230,"reputation":2747,"user_id":708502,"accept_rate":38,"display_name":"shree"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":871,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1640177944,"creation_date":1640176944,"question_id":70449230,"body_markdown":"I have a pojo class which i need to inject in component. how to inject pojo object in spring?\r\nFor example\r\n**RestClass is under Module(like one microservice).  Pojo Value should be injected here only. service class and pojo is different module.**\r\n\r\n    @Controller\r\n    public class RestClass {\r\n    \r\n     @Autowired\r\n     private ServiceClass serviceClass;\r\n     // How to apply MyConfig pojo object into ServiceClass\r\n     //like MyConfig.Builder().limit(100).build();\r\n     @PostMapping(&quot;/business&quot;)\r\n     private void callDoBusiness(){\r\n       serviceClass.doBusiness();\r\n     }\r\n    \r\n    }\r\n    //// ServiceClass and Pojo class is under one module. Pojo object should not construct here. should be passed from another module\r\n    \r\n    @Service\r\n    public class ServiceClass {\r\n    \r\n     @Autowired\r\n     private MyConfig myConfig;\r\n    \r\n     public void doBusiness(){\r\n    \tSystem.out.println(myConfig.getLimit())\r\n     }\r\n    \r\n    }\r\n    \r\n    \r\n    @Builder\r\n    @Getter\r\n    public class MyConfig {\r\n    \r\n     private int limit;\r\n     .\r\n     .\r\n    \r\n    }\r\n\r\n","title":"How to inject pojo class in spring?","body":"<p>I have a pojo class which i need to inject in component. how to inject pojo object in spring?\nFor example\n<strong>RestClass is under Module(like one microservice).  Pojo Value should be injected here only. service class and pojo is different module.</strong></p>\n<pre><code>@Controller\npublic class RestClass {\n\n @Autowired\n private ServiceClass serviceClass;\n // How to apply MyConfig pojo object into ServiceClass\n //like MyConfig.Builder().limit(100).build();\n @PostMapping(&quot;/business&quot;)\n private void callDoBusiness(){\n   serviceClass.doBusiness();\n }\n\n}\n//// ServiceClass and Pojo class is under one module. Pojo object should not construct here. should be passed from another module\n\n@Service\npublic class ServiceClass {\n\n @Autowired\n private MyConfig myConfig;\n\n public void doBusiness(){\n    System.out.println(myConfig.getLimit())\n }\n\n}\n\n\n@Builder\n@Getter\npublic class MyConfig {\n\n private int limit;\n .\n .\n\n}\n</code></pre>\n"},{"tags":["java","selenium","xpath","accordion","webdriverwait"],"answers":[{"tags":[],"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640114316,"creation_date":1640114316,"answer_id":70440562,"question_id":70438334,"body_markdown":"As far as I see, second and third paragraphs are hidden (not expanded), so `getText()` reruns an empty string for present, but not visible element.\r\n\r\nYou have to expand(make visible) the elements before getting text.\r\n\r\nTry to click on corresponding accordeon headers.","title":"Unable to extract the paragraph text within an accordion using Selenium Java","body":"<p>As far as I see, second and third paragraphs are hidden (not expanded), so <code>getText()</code> reruns an empty string for present, but not visible element.</p>\n<p>You have to expand(make visible) the elements before getting text.</p>\n<p>Try to click on corresponding accordeon headers.</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640177507,"creation_date":1640121563,"answer_id":70441706,"question_id":70438334,"body_markdown":"The elements are within an _**accordion**_. Within the accordion though the first question is _**visible**_ by default, the second and the third question is collapsed by default.\r\n\r\n[![Accordian][1]][1]\r\n\r\n\r\n----------\r\n\r\n\r\nSo to extract the text you have to [click()](https://stackoverflow.com/questions/35770992/how-many-ways-to-click-on-webelement-in-webdriver/70077251#70077251) and open the [accordion](https://stackoverflow.com/questions/47115719/open-an-accordion-with-selenium-in-python/47132508#47132508) and you can use the following [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n\r\n- Code Block:\r\n\r\n\t  driver.get(&quot;https://demoqa.com/widgets&quot;);\r\n\t  ((JavascriptExecutor)driver).executeScript(&quot;scroll(0, 100)&quot;);\r\n\t  new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[@id=&#39;section2Heading&#39;]&quot;))).click();\r\n\t  System.out.println(new WebDriverWait(driver, 20).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//div[@id=&#39;section2Heading&#39;]//following::div[1]/div[@id=&#39;section2Content&#39;]&quot;))).getText());\r\n\t  \r\n- Console Output:\r\n\r\n\t  Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. Lorem Ipsum comes from sections 1.10.32 and 1.10.33 of &quot;de Finibus Bonorum et Malorum&quot; (The Extremes of Good and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory of ethics, very popular during the Renaissance. The first line of Lorem Ipsum, &quot;Lorem ipsum dolor sit amet..&quot;, comes from a line in section 1.10.32.\r\n\t  The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from &quot;de Finibus Bonorum et Malorum&quot; by Cicero are also reproduced in their exact original form, accompanied by English versions from the 1914 translation by H. Rackham.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4NKOM.png","title":"Unable to extract the paragraph text within an accordion using Selenium Java","body":"<p>The elements are within an <em><strong>accordion</strong></em>. Within the accordion though the first question is <em><strong>visible</strong></em> by default, the second and the third question is collapsed by default.</p>\n<p><a href=\"https://i.stack.imgur.com/4NKOM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4NKOM.png\" alt=\"Accordian\" /></a></p>\n<hr />\n<p>So to extract the text you have to <a href=\"https://stackoverflow.com/questions/35770992/how-many-ways-to-click-on-webelement-in-webdriver/70077251#70077251\">click()</a> and open the <a href=\"https://stackoverflow.com/questions/47115719/open-an-accordion-with-selenium-in-python/47132508#47132508\">accordion</a> and you can use the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n<ul>\n<li><p>Code Block:</p>\n<pre><code>driver.get(&quot;https://demoqa.com/widgets&quot;);\n((JavascriptExecutor)driver).executeScript(&quot;scroll(0, 100)&quot;);\nnew WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[@id='section2Heading']&quot;))).click();\nSystem.out.println(new WebDriverWait(driver, 20).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//div[@id='section2Heading']//following::div[1]/div[@id='section2Content']&quot;))).getText());\n</code></pre>\n</li>\n<li><p>Console Output:</p>\n<pre><code>Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. Lorem Ipsum comes from sections 1.10.32 and 1.10.33 of &quot;de Finibus Bonorum et Malorum&quot; (The Extremes of Good and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory of ethics, very popular during the Renaissance. The first line of Lorem Ipsum, &quot;Lorem ipsum dolor sit amet..&quot;, comes from a line in section 1.10.32.\nThe standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from &quot;de Finibus Bonorum et Malorum&quot; by Cicero are also reproduced in their exact original form, accompanied by English versions from the 1914 translation by H. Rackham.\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":23357762,"reputation":27,"user_id":17430501,"display_name":"Muthukumar Gangadharan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70441706,"answer_count":2,"score":1,"last_activity_date":1640177507,"creation_date":1640102884,"question_id":70438334,"body_markdown":"I used xpath for getting the paragraph text, it works fine for first paragraph but second and third paragraph it is not working fine. it shows empty in console output.\r\n\r\nFollowing string are the ones which i have faced the issue - String secondAns , String thirdAns\r\n\r\n[Note : I did not face any issue as element not found for second and third paragraph ]\r\n\r\n    driver.get(&quot;https://demoqa.com/widgets&quot;);\r\n    driver.manage().window().maximize();\r\n    driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n    driver.findElement(By.xpath(&quot;//span[text()=&#39;Accordian&#39;]&quot;)).click(); \r\n    //clicking the left menu \r\n\t//First Paragraph\r\n\tString firstques = driver.findElement(By.xpath(&quot;//div[@id=&#39;section1Heading&#39;]&quot;)).getText();\r\n\tSystem.out.println(&quot;First Question : &quot; + firstques); \r\n\tString firstAns = driver.findElement(By.xpath(&quot;//div[@id=&#39;section1Content&#39;]//p[1]&quot;)).getText(); \r\n\tSystem.out.println(&quot;First Answer : &quot; + firstAns); \r\n\t\t\r\n    //Second Paragraph\r\n\tString secondques = driver.findElement(By.xpath(&quot;//div[@id=&#39;section2Heading&#39;]&quot;)).getText();\r\n\tSystem.out.println(&quot;Second Question : &quot; + secondques); \r\n\tString secondAns = driver.findElement(By.xpath(&quot;//div[@id=&#39;section2Content&#39;]//p[1]&quot;)).getText(); \r\n\tSystem.out.println(&quot;Second Answer : &quot; + secondAns); \r\n\t\t\r\n    //Third Paragraph\r\n\tString thirdques = driver.findElement(By.xpath(&quot;//div[@id=&#39;section3Heading&#39;]&quot;)).getText();\r\n\tSystem.out.println(&quot;Third Question : &quot; + thirdques); \r\n\tString thirdAns = driver.findElement(By.xpath(&quot;//div[@id=&#39;section3Content&#39;]//p[1]&quot;)).getText(); \r\n\tSystem.out.println(&quot;Third Answer : &quot; + thirdAns","title":"Unable to extract the paragraph text within an accordion using Selenium Java","body":"<p>I used xpath for getting the paragraph text, it works fine for first paragraph but second and third paragraph it is not working fine. it shows empty in console output.</p>\n<p>Following string are the ones which i have faced the issue - String secondAns , String thirdAns</p>\n<p>[Note : I did not face any issue as element not found for second and third paragraph ]</p>\n<pre><code>driver.get(&quot;https://demoqa.com/widgets&quot;);\ndriver.manage().window().maximize();\ndriver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\ndriver.findElement(By.xpath(&quot;//span[text()='Accordian']&quot;)).click(); \n//clicking the left menu \n//First Paragraph\nString firstques = driver.findElement(By.xpath(&quot;//div[@id='section1Heading']&quot;)).getText();\nSystem.out.println(&quot;First Question : &quot; + firstques); \nString firstAns = driver.findElement(By.xpath(&quot;//div[@id='section1Content']//p[1]&quot;)).getText(); \nSystem.out.println(&quot;First Answer : &quot; + firstAns); \n    \n//Second Paragraph\nString secondques = driver.findElement(By.xpath(&quot;//div[@id='section2Heading']&quot;)).getText();\nSystem.out.println(&quot;Second Question : &quot; + secondques); \nString secondAns = driver.findElement(By.xpath(&quot;//div[@id='section2Content']//p[1]&quot;)).getText(); \nSystem.out.println(&quot;Second Answer : &quot; + secondAns); \n    \n//Third Paragraph\nString thirdques = driver.findElement(By.xpath(&quot;//div[@id='section3Heading']&quot;)).getText();\nSystem.out.println(&quot;Third Question : &quot; + thirdques); \nString thirdAns = driver.findElement(By.xpath(&quot;//div[@id='section3Content']//p[1]&quot;)).getText(); \nSystem.out.println(&quot;Third Answer : &quot; + thirdAns\n</code></pre>\n"},{"tags":["java","java-8","ubuntu-16.04"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1640177293,"post_id":70448847,"comment_id":124533019,"body_markdown":"If 312 is distributed via Ubuntu, then `apt-get upgrade` (potentially after `apt-get update`) should get you to the latest version. If it doesn&#39;t, then check the `apt` sources on the working server (i.e. `/etc/apt/sources.list` and the files in `/etc/apt/source.list.d`) where the updated JDK came from.","body":"If 312 is distributed via Ubuntu, then <code>apt-get upgrade</code> (potentially after <code>apt-get update</code>) should get you to the latest version. If it doesn&#39;t, then check the <code>apt</code> sources on the working server (i.e. <code>&#47;etc&#47;apt&#47;sources.list</code> and the files in <code>&#47;etc&#47;apt&#47;source.list.d</code>) where the updated JDK came from."},{"owner":{"account_id":2684718,"reputation":801,"user_id":2319341,"accept_rate":53,"display_name":"Omkar"},"score":0,"creation_date":1640179088,"post_id":70448847,"comment_id":124533744,"body_markdown":"Maybe this can help:\nhttps://askubuntu.com/questions/987748/install-exact-version-of-openjdk","body":"Maybe this can help: <a href=\"https://askubuntu.com/questions/987748/install-exact-version-of-openjdk\" title=\"install exact version of openjdk\">askubuntu.com/questions/987748/install-exact-version-of-open&zwnj;&#8203;jdk</a>"}],"answers":[{"tags":[],"owner":{"account_id":8278041,"reputation":64,"user_id":6223546,"display_name":"Hady Willi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1640177009,"creation_date":1640177009,"answer_id":70449250,"question_id":70448847,"body_markdown":"I&#39;d suggest to use [sdkman][1]. I&#39;m not 100% sure about compatibility with 16.04 specifically, but it shouldn&#39;t be a problem.\r\n\r\n\r\n  [1]: https://sdkman.io/","title":"How to install specific openjdk version in Ubuntu 16.04?","body":"<p>I'd suggest to use <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">sdkman</a>. I'm not 100% sure about compatibility with 16.04 specifically, but it shouldn't be a problem.</p>\n"}],"owner":{"account_id":2146093,"reputation":319,"user_id":1903691,"display_name":"MHegde"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2377,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1640177424,"creation_date":1640175075,"question_id":70448847,"body_markdown":"I have a new Ubuntu server and when I run &quot;sudo apt-get install openjdk-8-jdk&quot;, this installed OpenJDK version &quot;1.8.0_312&quot;, all good here.\r\n\r\nI have one more Ubuntu 16.04 server which already has OpenJDK version &quot;1.8.0_292&quot;. How can I change this 1.8.0_292 to &quot;1.8.0_312&quot;?\r\n\r\n","title":"How to install specific openjdk version in Ubuntu 16.04?","body":"<p>I have a new Ubuntu server and when I run &quot;sudo apt-get install openjdk-8-jdk&quot;, this installed OpenJDK version &quot;1.8.0_312&quot;, all good here.</p>\n<p>I have one more Ubuntu 16.04 server which already has OpenJDK version &quot;1.8.0_292&quot;. How can I change this 1.8.0_292 to &quot;1.8.0_312&quot;?</p>\n"},{"tags":["java","maven","build","pom.xml","maven-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1640176864,"post_id":70449091,"comment_id":124532860,"body_markdown":"You seemed to misunderstand the intention of maven-compiler-plugin ? And no it&#39;s not possible to build a java app without using JDK...installed because Maven it self as well as your app need JDK to be able to compile java code into class files... Can you also more detail describe what your problem is ? Because to be honest it&#39;s confusing?","body":"You seemed to misunderstand the intention of maven-compiler-plugin ? And no it&#39;s not possible to build a java app without using JDK...installed because Maven it self as well as your app need JDK to be able to compile java code into class files... Can you also more detail describe what your problem is ? Because to be honest it&#39;s confusing?"},{"owner":{"account_id":9713597,"reputation":615,"user_id":7204683,"accept_rate":38,"display_name":"Umair"},"score":0,"creation_date":1640200822,"post_id":70449091,"comment_id":124541909,"body_markdown":"@khmarbaise the only confusion I have is that when locally installed JDK is used to compile and build java code then why do we use the maven build and compile plugins in our POM.xml file? This is the thing which I want to understand.","body":"@khmarbaise the only confusion I have is that when locally installed JDK is used to compile and build java code then why do we use the maven build and compile plugins in our POM.xml file? This is the thing which I want to understand."}],"answers":[{"tags":[],"owner":{"account_id":20010953,"reputation":80,"user_id":14667978,"display_name":"Bj&#246;rn B&#252;ttner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640177376,"creation_date":1640177376,"answer_id":70449320,"question_id":70449091,"body_markdown":"The short answer, as @khmarbaise mentioned, is no. Building java applications without jdk is not an option.\r\n\r\nMaven plugins solve issues, depending on the plugin they may move things, generate code or do similar things to make the real build possible. They do not in any way replace a jdk tho.","title":"Can we build java application through build plagin of maven without installing local JDK","body":"<p>The short answer, as @khmarbaise mentioned, is no. Building java applications without jdk is not an option.</p>\n<p>Maven plugins solve issues, depending on the plugin they may move things, generate code or do similar things to make the real build possible. They do not in any way replace a jdk tho.</p>\n"}],"owner":{"account_id":9713597,"reputation":615,"user_id":7204683,"accept_rate":38,"display_name":"Umair"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640177376,"creation_date":1640176241,"question_id":70449091,"body_markdown":"Can we build java web app through build plagin of maven without installing local JDK.\r\n\r\nAs we all know that we have plugins in POM.xml and maven is using them for different steps, So my question is that is it possible that I write java code with POM.xml file and then add build/compile plugins to that POM.xml file and then compile this code only through maven plugin instead of installing jdk locally ?\r\n\r\n\r\nIf this is not possible then what is purpose of adding build and compile plugins to POM file ?","title":"Can we build java application through build plagin of maven without installing local JDK","body":"<p>Can we build java web app through build plagin of maven without installing local JDK.</p>\n<p>As we all know that we have plugins in POM.xml and maven is using them for different steps, So my question is that is it possible that I write java code with POM.xml file and then add build/compile plugins to that POM.xml file and then compile this code only through maven plugin instead of installing jdk locally ?</p>\n<p>If this is not possible then what is purpose of adding build and compile plugins to POM file ?</p>\n"},{"tags":["java","android","okhttp","interceptor","refresh-token"],"comments":[{"owner":{"account_id":1481915,"reputation":12601,"user_id":1542667,"accept_rate":75,"display_name":"Yuri Schimke"},"score":0,"creation_date":1640083463,"post_id":70431808,"comment_id":124505852,"body_markdown":"I wouldn&#39;t rebuild Retrofit or OkHttpClient instance on token refresh.  You already have an interceptor, you can use AccessTokenInterceptor only, and check the response, request a new token and update itself and the saved token.  Then it&#39;s all in one place, not split between an Authenticator + Interceptor + DI.","body":"I wouldn&#39;t rebuild Retrofit or OkHttpClient instance on token refresh.  You already have an interceptor, you can use AccessTokenInterceptor only, and check the response, request a new token and update itself and the saved token.  Then it&#39;s all in one place, not split between an Authenticator + Interceptor + DI."},{"owner":{"account_id":19052506,"reputation":1223,"user_id":13910368,"display_name":"M123"},"score":0,"creation_date":1640083792,"post_id":70431808,"comment_id":124505968,"body_markdown":"@YuriSchimke Can you please give me example about what  you are saying?","body":"@YuriSchimke Can you please give me example about what  you are saying?"},{"owner":{"account_id":1481915,"reputation":12601,"user_id":1542667,"accept_rate":75,"display_name":"Yuri Schimke"},"score":0,"creation_date":1640084367,"post_id":70431808,"comment_id":124506176,"body_markdown":"There are a lot of similar questions on stackoverflow like https://stackoverflow.com/questions/31021725/android-okhttp-refresh-expired-token and https://stackoverflow.com/questions/55688352/retrofit-handle-refresh-token-expiration","body":"There are a lot of similar questions on stackoverflow like <a href=\"https://stackoverflow.com/questions/31021725/android-okhttp-refresh-expired-token\" title=\"android okhttp refresh expired token\">stackoverflow.com/questions/31021725/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/55688352/retrofit-handle-refresh-token-expiration\" title=\"retrofit handle refresh token expiration\">stackoverflow.com/questions/55688352/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":19052506,"reputation":1223,"user_id":13910368,"display_name":"M123"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640177071,"creation_date":1640177071,"answer_id":70449265,"question_id":70431808,"body_markdown":"The main cause was **if (retrofitRefresh==null)** condition in getAdapterRefresh method. \r\n\r\nI removed this from method , it&#39;s working as expected \r\n\r\nMake it like below:\r\n\r\n```\r\npublic Retrofit getAdapterRefresh(String token) {\r\n   final OkHttpClient.Builder httpClient = new OkHttpClient.Builder();\r\n   httpClient.addInterceptor(new Interceptor() {\r\n       @Override\r\n           public Response intercept(Chain chain) throws IOException {\r\n              Request request = chain.request()\r\n                     .newBuilder()\r\n                     // add Authorization key on request header\r\n                     // key will be using refresh token\r\n                     .addHeader(AUTHORIZATION,token)\r\n                     .build();\r\n                return chain.proceed(request);\r\n             }\r\n    });\r\n\r\n     Gson gson = new GsonBuilder().setLenient().create();\r\n         \r\n     return new Retrofit.Builder()\r\n                    .baseUrl(BASE_URL)\r\n                    .addConverterFactory(GsonConverterFactory.create(gson))\r\n                    .client(httpClient.build())\r\n                    .build();\r\n    }\r\n```","title":"HttpservletRequest not taking newer refreshtoken at backend side in only refreshtoken api call","body":"<p>The main cause was <strong>if (retrofitRefresh==null)</strong> condition in getAdapterRefresh method.</p>\n<p>I removed this from method , it's working as expected</p>\n<p>Make it like below:</p>\n<pre><code>public Retrofit getAdapterRefresh(String token) {\n   final OkHttpClient.Builder httpClient = new OkHttpClient.Builder();\n   httpClient.addInterceptor(new Interceptor() {\n       @Override\n           public Response intercept(Chain chain) throws IOException {\n              Request request = chain.request()\n                     .newBuilder()\n                     // add Authorization key on request header\n                     // key will be using refresh token\n                     .addHeader(AUTHORIZATION,token)\n                     .build();\n                return chain.proceed(request);\n             }\n    });\n\n     Gson gson = new GsonBuilder().setLenient().create();\n         \n     return new Retrofit.Builder()\n                    .baseUrl(BASE_URL)\n                    .addConverterFactory(GsonConverterFactory.create(gson))\n                    .client(httpClient.build())\n                    .build();\n    }\n</code></pre>\n"}],"owner":{"account_id":19052506,"reputation":1223,"user_id":13910368,"display_name":"M123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70449265,"answer_count":1,"score":2,"last_activity_date":1640177071,"creation_date":1640070829,"question_id":70431808,"body_markdown":"I&#39;m using `authenticate` method of `Authenticator(okhttp3)` class for to give refreshtoken of apis.\\\r\nIn that method I&#39;ve calling refreshtoken api using `httpClient.addInterceptor` for giving new token \r\n\r\nbut issue create with authorization token \r\n\r\nIt&#39;s giving newer authorization token to other api but in only refreshtoken apicall it&#39;s getting their previous authorization token at backend side although at android side giving newer refreshtoken as header\r\n\r\n\r\n**Example:**\r\n\r\nWhen run app that time token is &quot;ABC&quot;\r\nafter it&#39;s expired ,new refresh token is &quot;xyw&quot;\r\nafter &quot;xyw&quot; expired - then it&#39;s take &quot;xyw&quot; as oldAccessToken  - and newer refreshtoken is &quot;pqr&quot;\r\n\r\nnow when &quot;pqr&quot; expired then it&#39;s take &quot;xyw&quot; instead of &quot;pqr&quot;\r\n\r\nit create this problem in only refreshtoken apicall.\r\nI can&#39;t able to find the main cause of this issue\\\r\nCan anyone please suggest me why this issue raised ?\r\n\r\n\r\n**Code:**\r\n\r\nMain api call using post method :\r\n\r\n``` \r\n  public static void post(String url, String json, Context context, Callback callback) {\r\n        okHttpClient = new OkHttpClient().newBuilder()\r\n                .connectTimeout(10, TimeUnit.SECONDS)\r\n                .callTimeout(60,TimeUnit.SECONDS)\r\n                .writeTimeout(60, TimeUnit.SECONDS)\r\n                .readTimeout(60, TimeUnit.SECONDS)\r\n                .authenticator(new TokenAuthenticator(context))\r\n                .addInterceptor(new AccessTokenInterceptor(context)).build();\r\n\r\n        RequestBody body = RequestBody.create(json,mediaType);\r\n        System.out.println(&quot;J:&gt; 1 main Token ::&quot;+getToken(context));\r\n        Request request = new Request.Builder()\r\n                .url(url)\r\n                .header(AUTHORIZATION,getToken(context))\r\n                .post(body)\r\n                .build();\r\n        Call call = okHttpClient.newCall(request);\r\n        call.enqueue(callback);\r\n    }\r\n```\r\n\r\nAccessTokenInterceptor :\r\n\r\n```\r\npublic class AccessTokenInterceptor  implements Interceptor {\r\n\r\n    private Context mContext;\r\n    public AccessTokenInterceptor(Context mContext) {\r\n        this.mContext = mContext;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Response intercept(@NonNull Chain chain) throws IOException {\r\n        System.out.println(&quot;J:&gt; AUTH intercept inside...&quot;);\r\n        Request request = chain.request()\r\n                .newBuilder()\r\n                .addHeader(AUTHORIZATION, APIServices.getToken(mContext))\r\n                .build();\r\n\r\n\r\n        return chain.proceed(request);\r\n\r\n   }\r\n}\r\n```\r\n\r\nTokenAuthenticator:\r\n\r\n```\r\n public Request authenticate(@Nullable Route route, @NonNull Response response) throws IOException {\r\n     \r\n        if (!response.request().header(AUTHORIZATION).equals(APIServices.getToken(mContext)))\r\n            return null;\r\n        String accessToken = null;\r\n\r\n        ApiInterface apiService = getAdapterRefresh(response.request().header(AUTHORIZATION)).create(ApiInterface.class);\r\n        Call&lt;JwtRefreshTokenResponseModel&gt; call = apiService.requestAccessToken();\r\n        try {\r\n            retrofit2.Response responseCall = call.execute();\r\n            JwtRefreshTokenResponseModel responseRequest = (JwtRefreshTokenResponseModel) responseCall.body();\r\n            if (responseRequest != null) {\r\n                String data = responseRequest.getToken();\r\n                accessToken = data;\r\n\t\t\t\t//store token in session\r\n            }\r\n    }catch (Exception ex){\r\n        Log.d(&quot;ERROR&quot;, &quot;onResponse: &quot;+ ex.toString());\r\n        ex.printStackTrace();\r\n    }\r\n\r\n        if (accessToken != null) {\r\n            // retry the failed 401 request with new access token\r\n                     return response.request().newBuilder()\r\n                    .header(&quot;Authorization&quot;, accessToken) // use the new access token\r\n                    .build();\r\n        }else{\r\n            return null;\r\n        }\r\n\r\n    }\r\n```\r\n\t\r\ngetAdapterRefresh:\r\n\r\n```\r\npublic Retrofit getAdapterRefresh(String token) {\r\n   if (retrofitRefresh==null) { \r\n\r\n      final OkHttpClient.Builder httpClient = new OkHttpClient.Builder().\r\n              connectTimeout(10, TimeUnit.SECONDS)\r\n              .callTimeout(60,TimeUnit.SECONDS)\r\n              .writeTimeout(60, TimeUnit.SECONDS)\r\n              .readTimeout(60, TimeUnit.SECONDS);\r\n            httpClient.addInterceptor(new Interceptor() {\r\n                @Override\r\n                public Response intercept(Chain chain) throws IOException {\r\n                    Request request = chain.request()\r\n                            .newBuilder()\r\n                            // add Authorization key on request header\r\n                            // key will be using refresh token\r\n                            .addHeader(AUTHORIZATION,token)\r\n                            .build();\r\n                   return chain.proceed(request);\r\n                }\r\n            });\r\n\r\n            Gson gson = new GsonBuilder()\r\n                    .setLenient()\r\n                    .create();\r\n            retrofitRefresh= new Retrofit.Builder()\r\n                    .baseUrl(BASE_URL)\r\n                    .addConverterFactory(GsonConverterFactory.create(gson))\r\n                    .client(httpClient.build())\r\n                    .build();\r\n        }\r\n        return retrofitRefresh;\r\n    }\r\n```\r\nThanks in advance","title":"HttpservletRequest not taking newer refreshtoken at backend side in only refreshtoken api call","body":"<p>I'm using <code>authenticate</code> method of <code>Authenticator(okhttp3)</code> class for to give refreshtoken of apis.<br />\nIn that method I've calling refreshtoken api using <code>httpClient.addInterceptor</code> for giving new token</p>\n<p>but issue create with authorization token</p>\n<p>It's giving newer authorization token to other api but in only refreshtoken apicall it's getting their previous authorization token at backend side although at android side giving newer refreshtoken as header</p>\n<p><strong>Example:</strong></p>\n<p>When run app that time token is &quot;ABC&quot;\nafter it's expired ,new refresh token is &quot;xyw&quot;\nafter &quot;xyw&quot; expired - then it's take &quot;xyw&quot; as oldAccessToken  - and newer refreshtoken is &quot;pqr&quot;</p>\n<p>now when &quot;pqr&quot; expired then it's take &quot;xyw&quot; instead of &quot;pqr&quot;</p>\n<p>it create this problem in only refreshtoken apicall.\nI can't able to find the main cause of this issue<br />\nCan anyone please suggest me why this issue raised ?</p>\n<p><strong>Code:</strong></p>\n<p>Main api call using post method :</p>\n<pre><code>  public static void post(String url, String json, Context context, Callback callback) {\n        okHttpClient = new OkHttpClient().newBuilder()\n                .connectTimeout(10, TimeUnit.SECONDS)\n                .callTimeout(60,TimeUnit.SECONDS)\n                .writeTimeout(60, TimeUnit.SECONDS)\n                .readTimeout(60, TimeUnit.SECONDS)\n                .authenticator(new TokenAuthenticator(context))\n                .addInterceptor(new AccessTokenInterceptor(context)).build();\n\n        RequestBody body = RequestBody.create(json,mediaType);\n        System.out.println(&quot;J:&gt; 1 main Token ::&quot;+getToken(context));\n        Request request = new Request.Builder()\n                .url(url)\n                .header(AUTHORIZATION,getToken(context))\n                .post(body)\n                .build();\n        Call call = okHttpClient.newCall(request);\n        call.enqueue(callback);\n    }\n</code></pre>\n<p>AccessTokenInterceptor :</p>\n<pre><code>public class AccessTokenInterceptor  implements Interceptor {\n\n    private Context mContext;\n    public AccessTokenInterceptor(Context mContext) {\n        this.mContext = mContext;\n    }\n\n    @NonNull\n    @Override\n    public Response intercept(@NonNull Chain chain) throws IOException {\n        System.out.println(&quot;J:&gt; AUTH intercept inside...&quot;);\n        Request request = chain.request()\n                .newBuilder()\n                .addHeader(AUTHORIZATION, APIServices.getToken(mContext))\n                .build();\n\n\n        return chain.proceed(request);\n\n   }\n}\n</code></pre>\n<p>TokenAuthenticator:</p>\n<pre><code> public Request authenticate(@Nullable Route route, @NonNull Response response) throws IOException {\n     \n        if (!response.request().header(AUTHORIZATION).equals(APIServices.getToken(mContext)))\n            return null;\n        String accessToken = null;\n\n        ApiInterface apiService = getAdapterRefresh(response.request().header(AUTHORIZATION)).create(ApiInterface.class);\n        Call&lt;JwtRefreshTokenResponseModel&gt; call = apiService.requestAccessToken();\n        try {\n            retrofit2.Response responseCall = call.execute();\n            JwtRefreshTokenResponseModel responseRequest = (JwtRefreshTokenResponseModel) responseCall.body();\n            if (responseRequest != null) {\n                String data = responseRequest.getToken();\n                accessToken = data;\n                //store token in session\n            }\n    }catch (Exception ex){\n        Log.d(&quot;ERROR&quot;, &quot;onResponse: &quot;+ ex.toString());\n        ex.printStackTrace();\n    }\n\n        if (accessToken != null) {\n            // retry the failed 401 request with new access token\n                     return response.request().newBuilder()\n                    .header(&quot;Authorization&quot;, accessToken) // use the new access token\n                    .build();\n        }else{\n            return null;\n        }\n\n    }\n</code></pre>\n<p>getAdapterRefresh:</p>\n<pre><code>public Retrofit getAdapterRefresh(String token) {\n   if (retrofitRefresh==null) { \n\n      final OkHttpClient.Builder httpClient = new OkHttpClient.Builder().\n              connectTimeout(10, TimeUnit.SECONDS)\n              .callTimeout(60,TimeUnit.SECONDS)\n              .writeTimeout(60, TimeUnit.SECONDS)\n              .readTimeout(60, TimeUnit.SECONDS);\n            httpClient.addInterceptor(new Interceptor() {\n                @Override\n                public Response intercept(Chain chain) throws IOException {\n                    Request request = chain.request()\n                            .newBuilder()\n                            // add Authorization key on request header\n                            // key will be using refresh token\n                            .addHeader(AUTHORIZATION,token)\n                            .build();\n                   return chain.proceed(request);\n                }\n            });\n\n            Gson gson = new GsonBuilder()\n                    .setLenient()\n                    .create();\n            retrofitRefresh= new Retrofit.Builder()\n                    .baseUrl(BASE_URL)\n                    .addConverterFactory(GsonConverterFactory.create(gson))\n                    .client(httpClient.build())\n                    .build();\n        }\n        return retrofitRefresh;\n    }\n</code></pre>\n<p>Thanks in advance</p>\n"},{"tags":["java","spring","rest"],"comments":[{"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"score":1,"creation_date":1640077964,"post_id":70432853,"comment_id":124503915,"body_markdown":"If you try to send a json object as a body of the request you need to specify that by adding the @RequestBody annotation :  public Alien addAlien(@RequestBody Alien alien)","body":"If you try to send a json object as a body of the request you need to specify that by adding the @RequestBody annotation :  public Alien addAlien(@RequestBody Alien alien)"},{"owner":{"account_id":23073571,"reputation":41,"user_id":17186853,"display_name":"Sasori123"},"score":1,"creation_date":1640118809,"post_id":70432853,"comment_id":124519134,"body_markdown":"Yes that worked, thanks @OussamaZAGHDOUD .","body":"Yes that worked, thanks @OussamaZAGHDOUD ."},{"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"score":1,"creation_date":1640120091,"post_id":70432853,"comment_id":124519465,"body_markdown":"@OussamaZAGHDOUD you should probably post that as an answer","body":"@OussamaZAGHDOUD you should probably post that as an answer"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1640164815,"post_id":70432853,"comment_id":124528557,"body_markdown":"For the future: please learn how to use the markdown language properly to format/indent your code input. Dont just **assume** you know how it works, and put down something, to then ignore that it really doesn&#39;t look like it should. You see, that link &quot;help&quot; there, and &quot;preview&quot;, they exist for a reason. To help you coming up with quality content.","body":"For the future: please learn how to use the markdown language properly to format/indent your code input. Dont just <b>assume</b> you know how it works, and put down something, to then ignore that it really doesn&#39;t look like it should. You see, that link &quot;help&quot; there, and &quot;preview&quot;, they exist for a reason. To help you coming up with quality content."}],"answers":[{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640176666,"creation_date":1640164420,"answer_id":70446669,"question_id":70432853,"body_markdown":"You should use the annotation `@RequestBody`\r\n\r\n       public Alien addAlien(@RequestBody Alien alien)\r\n\r\nYou should inform Spring that you are waiting for a `HttpRequest`  that contains a `Body` , Spring will automatically deserialize the inbound `HttpRequest` body onto Java object\r\n","title":"Why am I getting null values on the server side after sending a post request by Postman","body":"<p>You should use the annotation <code>@RequestBody</code></p>\n<pre><code>   public Alien addAlien(@RequestBody Alien alien)\n</code></pre>\n<p>You should inform Spring that you are waiting for a <code>HttpRequest</code>  that contains a <code>Body</code> , Spring will automatically deserialize the inbound <code>HttpRequest</code> body onto Java object</p>\n"}],"owner":{"account_id":23073571,"reputation":41,"user_id":17186853,"display_name":"Sasori123"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1823,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1640176899,"creation_date":1640077349,"question_id":70432853,"body_markdown":"I have created a RESTful webservice using Spring boot to add a record to `H2` database but when I send data from postman to my handler method I get null values on the server side and on the response sent to the client side as well, could anybody help me?\r\n\r\nEclipse Snapshot [![Eclipse snapshot][1]][1]\r\nPostman Snapshot [![Postman Snapshot][2]][2]\r\n\r\nMy Controller Code:\r\n\r\n    @RestController\r\n    public class AlienController {\r\n    \r\n    \t@Autowired\r\n    \tAlienRepo repo;\r\n    \t\r\n    \t@RequestMapping(&quot;/&quot;)\r\n    \tpublic String home() {\r\n    \t\treturn&quot;home.jsp&quot;;\r\n    \t}\r\n    \t\r\n    \t@PostMapping(path=&quot;/alien&quot;)\r\n    \tpublic Alien addAlien(Alien alien) {\r\n    \t\tSystem.out.println(alien);\r\n    \t\trepo.save(alien);\r\n    \t\treturn alien;\r\n    \t}\r\n    \t\r\n    \r\nMy DAO Class:\r\n\r\n        @Entity\r\n        public class Alien {\r\n        \r\n        \t@Id\r\n        \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        \tprivate int aid;\r\n        \tprivate String aname;\r\n        \tprivate String lang;\r\n        \t\r\n        \tpublic int getAid() {\r\n        \t\treturn aid;\r\n        \t}\r\n        \tpublic void setAid(int aid) {\r\n        \t\tthis.aid=aid; \t\t\r\n        \t}\r\n        \t\r\n        \tpublic String getAname() {\r\n        \t\treturn aname;\r\n        \t}\r\n        \tpublic void setAname(String aname) {\r\n        \t\tthis.aname=aname; \t\t\r\n        \t}\r\n        \t\r\n        \tpublic String getLang() {\r\n        \t\treturn lang;\r\n        \t}\r\n        \tpublic void setLang(String lang) {\r\n        \t\tthis.lang=lang; \t\t\r\n        \t}\r\n        \t@Override\r\n        \tpublic String toString() {\r\n        \t\treturn &quot;Alien Info: Aid=&quot; + aid + &quot;, Aname=&quot; + aname + &quot;, Lang=&quot; +lang;\r\n        \t}      \t\r\n        }\r\n        \r\nMy AlienRepository code:\r\n        \r\n        public interface AlienRepo extends JpaRepository&lt;Alien, Integer&gt;{ \t\r\n        }\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/d7em4.png\r\n  [2]: https://i.stack.imgur.com/kzNj1.png","title":"Why am I getting null values on the server side after sending a post request by Postman","body":"<p>I have created a RESTful webservice using Spring boot to add a record to <code>H2</code> database but when I send data from postman to my handler method I get null values on the server side and on the response sent to the client side as well, could anybody help me?</p>\n<p>Eclipse Snapshot <a href=\"https://i.stack.imgur.com/d7em4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d7em4.png\" alt=\"Eclipse snapshot\" /></a>\nPostman Snapshot <a href=\"https://i.stack.imgur.com/kzNj1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kzNj1.png\" alt=\"Postman Snapshot\" /></a></p>\n<p>My Controller Code:</p>\n<pre><code>@RestController\npublic class AlienController {\n\n    @Autowired\n    AlienRepo repo;\n    \n    @RequestMapping(&quot;/&quot;)\n    public String home() {\n        return&quot;home.jsp&quot;;\n    }\n    \n    @PostMapping(path=&quot;/alien&quot;)\n    public Alien addAlien(Alien alien) {\n        System.out.println(alien);\n        repo.save(alien);\n        return alien;\n    }\n    \n</code></pre>\n<p>My DAO Class:</p>\n<pre><code>    @Entity\n    public class Alien {\n    \n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        private int aid;\n        private String aname;\n        private String lang;\n        \n        public int getAid() {\n            return aid;\n        }\n        public void setAid(int aid) {\n            this.aid=aid;       \n        }\n        \n        public String getAname() {\n            return aname;\n        }\n        public void setAname(String aname) {\n            this.aname=aname;       \n        }\n        \n        public String getLang() {\n            return lang;\n        }\n        public void setLang(String lang) {\n            this.lang=lang;         \n        }\n        @Override\n        public String toString() {\n            return &quot;Alien Info: Aid=&quot; + aid + &quot;, Aname=&quot; + aname + &quot;, Lang=&quot; +lang;\n        }       \n    }\n    \n</code></pre>\n<p>My AlienRepository code:</p>\n<pre><code>    public interface AlienRepo extends JpaRepository&lt;Alien, Integer&gt;{   \n    }\n</code></pre>\n"},{"tags":["java","design-patterns"],"answers":[{"tags":[],"owner":{"account_id":8876914,"reputation":451,"user_id":6628723,"display_name":"Saravanakrishnan Pk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640147454,"creation_date":1640147454,"answer_id":70444225,"question_id":70443984,"body_markdown":"Try Unmarshalling with JAXB.\r\n\r\nExamples:\r\n- https://howtodoinjava.com/jaxb/jaxb-unmarshaller-example/\r\n- https://howtodoinjava.com/jaxb/read-xml-to-java-object/","title":"Design pattern to use to populate multiple class fields","body":"<p>Try Unmarshalling with JAXB.</p>\n<p>Examples:</p>\n<ul>\n<li><a href=\"https://howtodoinjava.com/jaxb/jaxb-unmarshaller-example/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/jaxb/jaxb-unmarshaller-example/</a></li>\n<li><a href=\"https://howtodoinjava.com/jaxb/read-xml-to-java-object/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/jaxb/read-xml-to-java-object/</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8853132,"reputation":360,"user_id":11719624,"display_name":"Denis Kisina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640147502,"creation_date":1640147502,"answer_id":70444234,"question_id":70443984,"body_markdown":"I usually like using the builder pattern, Lombok @Builder annotation, to create my objects. \r\n\r\n    @Builder\r\n    @Getter\r\n    class Details implements Serializable {\r\n    \r\n      Set&lt;TagAInfo&gt; tagAInformation; \r\n      Set&lt;TagBInfo&gt; tagBInformation;\r\n\r\n      public static void mapTagAInfo(details, xmlRootElement) {\r\n        ...\r\n      }\r\n     }\r\n\r\nThe other design pattern I like to use is creating Static method inside the class to construct my objects especially DTOs\r\n\r\nDon&#39;t know if this helps","title":"Design pattern to use to populate multiple class fields","body":"<p>I usually like using the builder pattern, Lombok @Builder annotation, to create my objects.</p>\n<pre><code>@Builder\n@Getter\nclass Details implements Serializable {\n\n  Set&lt;TagAInfo&gt; tagAInformation; \n  Set&lt;TagBInfo&gt; tagBInformation;\n\n  public static void mapTagAInfo(details, xmlRootElement) {\n    ...\n  }\n }\n</code></pre>\n<p>The other design pattern I like to use is creating Static method inside the class to construct my objects especially DTOs</p>\n<p>Don't know if this helps</p>\n"}],"owner":{"account_id":8755610,"reputation":51,"user_id":6547308,"display_name":"do5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1640176682,"creation_date":1640144430,"question_id":70443984,"body_markdown":"I have a use case where I have to parse an XML document and fill details in a corresponding fields of an internal model POJO `Details`.\r\nLet&#39;s say, the XML look like following - \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n...\r\n&lt;TagA&gt;\r\n &lt;Child1&gt;\r\n ...\r\n &lt;/Child1&gt;\r\n &lt;Child2&gt;\r\n ...\r\n &lt;/Child2&gt;\r\n&lt;/TagA&gt;\r\n\r\n...\r\n\r\n&lt;TagB&gt;\r\n &lt;Child1&gt;\r\n ...\r\n &lt;/Child1&gt;\r\n &lt;Child2&gt;\r\n ...\r\n &lt;/Child2&gt;\r\n&lt;/TagB&gt;\r\n....\r\n\r\n```\r\n\r\nAnd the internal model POJO looks like following - \r\n\r\n```\r\npublic class Details {\r\n\r\n...\r\n\r\nSet&lt;TagAInfo&gt; tagAInformation; \r\nSet&lt;TagBInfo&gt; tagBInformation;\r\n\r\n...\r\n\r\n}\r\n```\r\n\r\nThe XML has multiple fields like TagAs, TagBs etc. \r\n\r\n**Current implementation:** So currently there is a mapper/parser class(let&#39;s say `Mapper.java`) that calls multiple methods like `mapTagAInfo(details, xmlRootElement)`, `mapTagBInfo(details, xmlRootElement)` etc. on `details`(i.e. instance of `Details.java`) something like following -  \r\n\r\n```\r\npublic class Mapper {\r\n ....\r\n\r\npublic Details mapInfo(XmlElement xmlRootElement) {\r\n  Details details = new Details();\r\n  mapTagAInfo(details, xmlRootElement)\r\n  mapTagBInfo(details, xmlRootElement)\r\n  mapTagCInfo(details, xmlRootElement)\r\n ....\r\n return details;\r\n}\r\n\r\nprivate void mapTagAInfo(details, xmlRootElement) {\r\n  stp1: Extract &lt;TagA&gt; tag element info using a utility which reads the xml document\r\n  stp2: use the stp1 info and convert to internal model POJO TagAInfo and \r\n  add to details (details.addTagAInfo(tagAInfo))\r\n}\r\n\r\n```\r\n\r\n**Question:** The current implementation makes the code look very ugly(as in a single class `Mapper.java` multiple things are happening), so wanted to know if I can use some design pattern to improve the code ? If so, please suggest what design pattern to use and an example explaining the design pattern usage would help a lot.\r\n\r\n**Update:** The project uses Dom4j to read XML. Also, the question was more around handling the responsibilities of the mapper class. As one can see, it has lot of functions like mapTagAInfo, mapTagBInfo etc. Wanted to know if I should delegate the responsibilities to different classes - eg. TagAInfoEnricher, TagBInfoEnricher etc. If yes, then how to do it, what design pattern to use etc. ? \r\n","title":"Design pattern to use to populate multiple class fields","body":"<p>I have a use case where I have to parse an XML document and fill details in a corresponding fields of an internal model POJO <code>Details</code>.\nLet's say, the XML look like following -</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n...\n&lt;TagA&gt;\n &lt;Child1&gt;\n ...\n &lt;/Child1&gt;\n &lt;Child2&gt;\n ...\n &lt;/Child2&gt;\n&lt;/TagA&gt;\n\n...\n\n&lt;TagB&gt;\n &lt;Child1&gt;\n ...\n &lt;/Child1&gt;\n &lt;Child2&gt;\n ...\n &lt;/Child2&gt;\n&lt;/TagB&gt;\n....\n\n</code></pre>\n<p>And the internal model POJO looks like following -</p>\n<pre><code>public class Details {\n\n...\n\nSet&lt;TagAInfo&gt; tagAInformation; \nSet&lt;TagBInfo&gt; tagBInformation;\n\n...\n\n}\n</code></pre>\n<p>The XML has multiple fields like TagAs, TagBs etc.</p>\n<p><strong>Current implementation:</strong> So currently there is a mapper/parser class(let's say <code>Mapper.java</code>) that calls multiple methods like <code>mapTagAInfo(details, xmlRootElement)</code>, <code>mapTagBInfo(details, xmlRootElement)</code> etc. on <code>details</code>(i.e. instance of <code>Details.java</code>) something like following -</p>\n<pre><code>public class Mapper {\n ....\n\npublic Details mapInfo(XmlElement xmlRootElement) {\n  Details details = new Details();\n  mapTagAInfo(details, xmlRootElement)\n  mapTagBInfo(details, xmlRootElement)\n  mapTagCInfo(details, xmlRootElement)\n ....\n return details;\n}\n\nprivate void mapTagAInfo(details, xmlRootElement) {\n  stp1: Extract &lt;TagA&gt; tag element info using a utility which reads the xml document\n  stp2: use the stp1 info and convert to internal model POJO TagAInfo and \n  add to details (details.addTagAInfo(tagAInfo))\n}\n\n</code></pre>\n<p><strong>Question:</strong> The current implementation makes the code look very ugly(as in a single class <code>Mapper.java</code> multiple things are happening), so wanted to know if I can use some design pattern to improve the code ? If so, please suggest what design pattern to use and an example explaining the design pattern usage would help a lot.</p>\n<p><strong>Update:</strong> The project uses Dom4j to read XML. Also, the question was more around handling the responsibilities of the mapper class. As one can see, it has lot of functions like mapTagAInfo, mapTagBInfo etc. Wanted to know if I should delegate the responsibilities to different classes - eg. TagAInfoEnricher, TagBInfoEnricher etc. If yes, then how to do it, what design pattern to use etc. ?</p>\n"},{"tags":["java","android","xml","android-studio","kotlin"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1640144191,"post_id":70443936,"comment_id":124523886,"body_markdown":"Layouts are not `View`s. They are blueprints for `View`s, and every time you `inflate()` one, it is a new, completely separate instance that has no relation to any other instance that you might have used elsewhere. Neither of the instances of `R.layout.bubble_view` you inflate in `MainActivity` is added to an on-screen hierarchy anywhere, so whichever instance you are seeing and interacting with (presumably one created in `SimpleService`) is not going to be affected by the code in `MainActivity`.","body":"Layouts are not <code>View</code>s. They are blueprints for <code>View</code>s, and every time you <code>inflate()</code> one, it is a new, completely separate instance that has no relation to any other instance that you might have used elsewhere. Neither of the instances of <code>R.layout.bubble_view</code> you inflate in <code>MainActivity</code> is added to an on-screen hierarchy anywhere, so whichever instance you are seeing and interacting with (presumably one created in <code>SimpleService</code>) is not going to be affected by the code in <code>MainActivity</code>."},{"owner":{"account_id":11639846,"reputation":189,"user_id":8524713,"display_name":"bhaskarkh"},"score":0,"creation_date":1640144620,"post_id":70443936,"comment_id":124523933,"body_markdown":"if you can share xml also then it will be  quite easy to find out the actual issue.","body":"if you can share xml also then it will be  quite easy to find out the actual issue."},{"owner":{"account_id":19182934,"reputation":74,"user_id":14014255,"display_name":"Bao Dinh"},"score":0,"creation_date":1640144717,"post_id":70443936,"comment_id":124523949,"body_markdown":"Thanks for your explanation, Mike. btw do you have any suggestions to fix it?","body":"Thanks for your explanation, Mike. btw do you have any suggestions to fix it?"},{"owner":{"account_id":11639846,"reputation":189,"user_id":8524713,"display_name":"bhaskarkh"},"score":0,"creation_date":1640144790,"post_id":70443936,"comment_id":124523961,"body_markdown":"case R.id.predict:\n                predict_text.setText(&quot;Hi&quot;); // &lt;--- It don&#39;t work :( try this","body":"case R.id.predict:                 predict_text.setText(&quot;Hi&quot;); // &lt;--- It don&#39;t work :( try this"},{"owner":{"account_id":19182934,"reputation":74,"user_id":14014255,"display_name":"Bao Dinh"},"score":0,"creation_date":1640144821,"post_id":70443936,"comment_id":124523966,"body_markdown":"Ok i will edit and add some xml file in the post ,bhaskarkh","body":"Ok i will edit and add some xml file in the post ,bhaskarkh"},{"owner":{"account_id":19182934,"reputation":74,"user_id":14014255,"display_name":"Bao Dinh"},"score":0,"creation_date":1640144936,"post_id":70443936,"comment_id":124523982,"body_markdown":"Cannot resolve symbol &#39;predict_text&#39;. I already tried,and I got this error @bhaskarkh","body":"Cannot resolve symbol &#39;predict_text&#39;. I already tried,and I got this error @bhaskarkh"},{"owner":{"account_id":19182934,"reputation":74,"user_id":14014255,"display_name":"Bao Dinh"},"score":0,"creation_date":1640145322,"post_id":70443936,"comment_id":124524019,"body_markdown":"I edited the post. Can u see my XML code ?","body":"I edited the post. Can u see my XML code ?"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1640145608,"post_id":70443936,"comment_id":124524053,"body_markdown":"Well, I&#39;m not really sure what your overall design is. I&#39;m assuming that you have a `View bubbleView` added to `WindowManager` in `SimpleService`. If so, that&#39;s the one that you need to use with `bubbleView.findViewById()`. The simple fix is to basically just move all of that code to your `SimpleService` class. If you need to somehow pass or relay data from `MainActivity` to that `SimpleService`, that would probably be the next thing you want to investigate for your design. As it is now,`bubble_view` really has no need to be in `MainActivity` anywhere.","body":"Well, I&#39;m not really sure what your overall design is. I&#39;m assuming that you have a <code>View bubbleView</code> added to <code>WindowManager</code> in <code>SimpleService</code>. If so, that&#39;s the one that you need to use with <code>bubbleView.findViewById()</code>. The simple fix is to basically just move all of that code to your <code>SimpleService</code> class. If you need to somehow pass or relay data from <code>MainActivity</code> to that <code>SimpleService</code>, that would probably be the next thing you want to investigate for your design. As it is now,<code>bubble_view</code> really has no need to be in <code>MainActivity</code> anywhere."},{"owner":{"account_id":19182934,"reputation":74,"user_id":14014255,"display_name":"Bao Dinh"},"score":0,"creation_date":1640145949,"post_id":70443936,"comment_id":124524092,"body_markdown":"I&#39;m designing a bubble floating like messenger. And do u know how to get id from a different layout?","body":"I&#39;m designing a bubble floating like messenger. And do u know how to get id from a different layout?"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1640146317,"post_id":70443936,"comment_id":124524133,"body_markdown":"It&#39;s not clear exactly what that means. If you&#39;re trying to using `findViewById()` from `MainActivity` to get at a `bubble_view` created in `SimpleService`, it&#39;s not going to work like that. As mentioned, that&#39;s something you&#39;ll need to investigate and research yourself, because there are multiple different ways to do it, so I can&#39;t blindly recommend one way over another. If that is what you&#39;re trying to do, are you sure that `MainActivity` even needs to know about `bubbleView`? Can&#39;t you just pass the needed data around? Why does `MainActivity` have to know about a completely separate `View`?","body":"It&#39;s not clear exactly what that means. If you&#39;re trying to using <code>findViewById()</code> from <code>MainActivity</code> to get at a <code>bubble_view</code> created in <code>SimpleService</code>, it&#39;s not going to work like that. As mentioned, that&#39;s something you&#39;ll need to investigate and research yourself, because there are multiple different ways to do it, so I can&#39;t blindly recommend one way over another. If that is what you&#39;re trying to do, are you sure that <code>MainActivity</code> even needs to know about <code>bubbleView</code>? Can&#39;t you just pass the needed data around? Why does <code>MainActivity</code> have to know about a completely separate <code>View</code>?"}],"answers":[{"tags":[],"owner":{"account_id":11639846,"reputation":189,"user_id":8524713,"display_name":"bhaskarkh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640147120,"creation_date":1640147120,"answer_id":70444199,"question_id":70443936,"body_markdown":"Try This it will add Your bubble view in your parent and you can perform any action on that particular Layout from main Layout.\r\n\r\n\r\n    public class MainActivity extends AppCompatActivity  {\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n    \r\n    LinearLayout parent = findViewById(R.id.activity_main);        //parent layout.\r\n            View childView = LayoutInflater.from(getApplicationContext()).inflate(R.layout.bubble_view,parent,false);\r\n                \r\n            parent.addView(childView);\r\n           \r\n    \r\n    \r\n            Button predict = (Button) childView.findViewById(R.id.predict);\r\n    \r\n    \r\n            TextView predict_text = (TextView) childView.findViewById(R.id.predict_text);\r\n    \r\n            \r\n    \r\n            predict.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    predict_text.setText(&quot;Hi&quot;); // &lt;--- It don&#39;t work :(\r\n                }\r\n            });\r\n    }\r\n    }","title":"Why SetText not work in OnClick() function","body":"<p>Try This it will add Your bubble view in your parent and you can perform any action on that particular Layout from main Layout.</p>\n<pre><code>public class MainActivity extends AppCompatActivity  {\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\nLinearLayout parent = findViewById(R.id.activity_main);        //parent layout.\n        View childView = LayoutInflater.from(getApplicationContext()).inflate(R.layout.bubble_view,parent,false);\n            \n        parent.addView(childView);\n       \n\n\n        Button predict = (Button) childView.findViewById(R.id.predict);\n\n\n        TextView predict_text = (TextView) childView.findViewById(R.id.predict_text);\n\n        \n\n        predict.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                predict_text.setText(&quot;Hi&quot;); // &lt;--- It don't work :(\n            }\n        });\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15181333,"reputation":1,"user_id":10954526,"display_name":"Bommukkani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640158683,"creation_date":1640157169,"answer_id":70445407,"question_id":70443936,"body_markdown":"Add `break` to the each `case` statement in the `switch`.","title":"Why SetText not work in OnClick() function","body":"<p>Add <code>break</code> to the each <code>case</code> statement in the <code>switch</code>.</p>\n"},{"tags":[],"owner":{"account_id":15181333,"reputation":1,"user_id":10954526,"display_name":"Bommukkani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640167474,"creation_date":1640167474,"answer_id":70447292,"question_id":70443936,"body_markdown":"    public class MainActivity extends AppCompatActivity implements View.OnClickListener{\r\n        TextView predict_text;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            Button start = (Button) findViewById(R.id.start_bubble);\r\n    \r\n            LinearLayout parent = findViewById(R.id.activity_main);  \r\n            View childView = LayoutInflater.from(getApplicationContext()).inflate(R.layout.bubble_view, parent, false);\r\n            parent.addView(childView);\r\n            Button predict = (Button) childView.findViewById(R.id.predict);\r\n            predict_text = (TextView) childView.findViewById(R.id.predict_text);\r\n    \r\n            predict.setOnClickListener(this);\r\n            start.setOnClickListener(this);\r\n    \r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onClick(View view) {\r\n    \r\n            switch (view.getId()){\r\n                case R.id.predict:\r\n                    predict_text.setText(&quot;Hi&quot;); \r\n                    break;\r\n            }\r\n        }\r\n    }","title":"Why SetText not work in OnClick() function","body":"<pre><code>public class MainActivity extends AppCompatActivity implements View.OnClickListener{\n    TextView predict_text;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        Button start = (Button) findViewById(R.id.start_bubble);\n\n        LinearLayout parent = findViewById(R.id.activity_main);  \n        View childView = LayoutInflater.from(getApplicationContext()).inflate(R.layout.bubble_view, parent, false);\n        parent.addView(childView);\n        Button predict = (Button) childView.findViewById(R.id.predict);\n        predict_text = (TextView) childView.findViewById(R.id.predict_text);\n\n        predict.setOnClickListener(this);\n        start.setOnClickListener(this);\n\n\n\n    }\n\n    @Override\n    public void onClick(View view) {\n\n        switch (view.getId()){\n            case R.id.predict:\n                predict_text.setText(&quot;Hi&quot;); \n                break;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4236080,"reputation":1269,"user_id":3467187,"accept_rate":20,"display_name":"KZoNE"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640176458,"creation_date":1640176458,"answer_id":70449137,"question_id":70443936,"body_markdown":"I&#39;m not sure why you inflate the &quot;bubble_view.xml&quot; layout in the activity class. But as your question, there are two main methods to make the button clickable. There is a good explanation in your first comment which is done by Mike M. Once you inflate a layout, it will create a new instance. \r\n\r\n**Fist answer, Assuming you want everything inside the activity.**\r\n\r\n        public class MainActivity extends AppCompatActivity implements View.OnClickListener {\r\n    \r\n        private Button bubble;\r\n        private Button predict;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            initUIViews() // Initialze UI Views\r\n            initUIActions() // Initialize Ui Actions \r\n        }\r\n\r\n        private void initUiViews() {    \r\n            Button bubble = (Button) findViewById(R.id.start_bubble);\r\n            Button predict = (Button) bubbleView.findViewById(R.id.predict);\r\n        }\r\n\r\n         private void initUIActions() {\r\n            bubble.setOnClickListener(this);// calling onClick() method \r\n            predict.setOnClickListener(this);\r\n         }    \r\n\r\n        @Override\r\n        public void onClick(View view) {\r\n            switch (view.getId()) {\r\n                case R.id.start_bubble:\r\n                    startService(new Intent(getApplicationContext(), SimpleService.class)); \r\n                    break;\r\n                case R.id.predict:\r\n                    predict_text.setText(&quot;Hi&quot;);  \r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nand restructure your XML layout as follow. There are few ways to restructure these layouts, I&#39;ll write the easiest way, but note that this is not the optimal way. \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/activity_main&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:context=&quot;com.siddharthks.sampleapp.MainActivity&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;Project KHKT&quot;\r\n            android:textColor=&quot;#AA000000&quot;\r\n            android:textSize=&quot;21sp&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/start_bubble&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;Paste and Predict&quot;\r\n            android:textSize=&quot;18sp&quot; /&gt;\r\n    \r\n        &lt;!-- include bubble layout file --&gt;\r\n        &lt;include layout=&quot;@layout/bubble_view.xml&quot; /&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\nOther than the include tag you can add the whole code inside to the Activity layout.\r\n\r\n**The second answer, Assuming you want activity and Service with a bubble view.**\r\n\r\nIf you are looking for a bubble view, You have to create a Bubble service. \r\n\r\nCheck this answer: [Bubble Example][1]\r\nOfficial Doc: [Android Bubble][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/46341303/3467187\r\n  [2]: https://developer.android.com/guide/topics/ui/bubbles","title":"Why SetText not work in OnClick() function","body":"<p>I'm not sure why you inflate the &quot;bubble_view.xml&quot; layout in the activity class. But as your question, there are two main methods to make the button clickable. There is a good explanation in your first comment which is done by Mike M. Once you inflate a layout, it will create a new instance.</p>\n<p><strong>Fist answer, Assuming you want everything inside the activity.</strong></p>\n<pre><code>    public class MainActivity extends AppCompatActivity implements View.OnClickListener {\n\n    private Button bubble;\n    private Button predict;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        initUIViews() // Initialze UI Views\n        initUIActions() // Initialize Ui Actions \n    }\n\n    private void initUiViews() {    \n        Button bubble = (Button) findViewById(R.id.start_bubble);\n        Button predict = (Button) bubbleView.findViewById(R.id.predict);\n    }\n\n     private void initUIActions() {\n        bubble.setOnClickListener(this);// calling onClick() method \n        predict.setOnClickListener(this);\n     }    \n\n    @Override\n    public void onClick(View view) {\n        switch (view.getId()) {\n            case R.id.start_bubble:\n                startService(new Intent(getApplicationContext(), SimpleService.class)); \n                break;\n            case R.id.predict:\n                predict_text.setText(&quot;Hi&quot;);  \n                break;\n            default:\n                break;\n        }\n    }\n}\n</code></pre>\n<p>and restructure your XML layout as follow. There are few ways to restructure these layouts, I'll write the easiest way, but note that this is not the optimal way.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/activity_main&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:gravity=&quot;center&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;com.siddharthks.sampleapp.MainActivity&quot;&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;Project KHKT&quot;\n        android:textColor=&quot;#AA000000&quot;\n        android:textSize=&quot;21sp&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/start_bubble&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;Paste and Predict&quot;\n        android:textSize=&quot;18sp&quot; /&gt;\n\n    &lt;!-- include bubble layout file --&gt;\n    &lt;include layout=&quot;@layout/bubble_view.xml&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Other than the include tag you can add the whole code inside to the Activity layout.</p>\n<p><strong>The second answer, Assuming you want activity and Service with a bubble view.</strong></p>\n<p>If you are looking for a bubble view, You have to create a Bubble service.</p>\n<p>Check this answer: <a href=\"https://stackoverflow.com/a/46341303/3467187\">Bubble Example</a>\nOfficial Doc: <a href=\"https://developer.android.com/guide/topics/ui/bubbles\" rel=\"nofollow noreferrer\">Android Bubble</a></p>\n"}],"owner":{"account_id":19182934,"reputation":74,"user_id":14014255,"display_name":"Bao Dinh"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":591,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":70449137,"answer_count":4,"score":1,"last_activity_date":1640176458,"creation_date":1640143563,"question_id":70443936,"body_markdown":"I just know how to use Android Studio Code Yesterday. And I got a problem when I need to Change the text when clicking a button.\r\n\r\nBut when I text, Its don&#39;t work.\r\n\r\nHere is my code:        \r\n    \r\n    public class MainActivity extends AppCompatActivity implements View.OnClickListener {\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            View bubbleView = getLayoutInflater().inflate(R.layout.bubble_view, null);\r\n    \r\n            Button bubble = (Button) findViewById(R.id.start_bubble);\r\n            bubble.setOnClickListener(this);// calling onClick() method\r\n    \r\n            Button predict = (Button) bubbleView.findViewById(R.id.predict);\r\n            predict.setOnClickListener(this);\r\n        }\r\n    \r\n        @Override\r\n        public void onClick(View view) {\r\n            switch (view.getId()) {\r\n                case R.id.start_bubble:\r\n                    startService(new Intent(getApplicationContext(), SimpleService.class));\r\n                case R.id.predict:\r\n                    View bubbleView = getLayoutInflater().inflate(R.layout.bubble_view, null);\r\n                    TextView predict_text = (TextView) bubbleView.findViewById(R.id.predict_text);\r\n                    predict_text.setText(&quot;Hi&quot;); // &lt;--- It don&#39;t work :(\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n[EDIT] []\r\nAdd some .XML file\r\nHere is my activity_main.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/activity_main&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:context=&quot;com.siddharthks.sampleapp.MainActivity&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;Project KHKT&quot;\r\n            android:textColor=&quot;#AA000000&quot;\r\n            android:textSize=&quot;21sp&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/start_bubble&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;Paste and Predict&quot;\r\n            android:textSize=&quot;18sp&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\nand here is my bubble_view.xml, its just for a\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;ScrollView\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n            &lt;TextView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:paddingStart=&quot;16dp&quot;\r\n                android:paddingTop=&quot;16dp&quot;\r\n                android:paddingEnd=&quot;16dp&quot;\r\n                android:text=&quot;Project KHKT&quot;\r\n                android:textColor=&quot;#AA000000&quot;\r\n                android:textSize=&quot;21sp&quot; /&gt;\r\n    \r\n            &lt;Button\r\n                android:id=&quot;@+id/predict&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:text=&quot;Paste and Predict&quot;\r\n                android:textSize=&quot;18sp&quot; /&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/predict_text&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:paddingStart=&quot;16dp&quot;\r\n                android:paddingTop=&quot;16dp&quot;\r\n                android:paddingEnd=&quot;16dp&quot;\r\n                android:textColor=&quot;#AA000000&quot;\r\n                android:textSize=&quot;21sp&quot; /&gt;\r\n    \r\n    \r\n        &lt;/LinearLayout&gt;\r\n    &lt;/ScrollView&gt;\r\nDo you have any suggested for me ?","title":"Why SetText not work in OnClick() function","body":"<p>I just know how to use Android Studio Code Yesterday. And I got a problem when I need to Change the text when clicking a button.</p>\n<p>But when I text, Its don't work.</p>\n<p>Here is my code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity implements View.OnClickListener {\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        View bubbleView = getLayoutInflater().inflate(R.layout.bubble_view, null);\n\n        Button bubble = (Button) findViewById(R.id.start_bubble);\n        bubble.setOnClickListener(this);// calling onClick() method\n\n        Button predict = (Button) bubbleView.findViewById(R.id.predict);\n        predict.setOnClickListener(this);\n    }\n\n    @Override\n    public void onClick(View view) {\n        switch (view.getId()) {\n            case R.id.start_bubble:\n                startService(new Intent(getApplicationContext(), SimpleService.class));\n            case R.id.predict:\n                View bubbleView = getLayoutInflater().inflate(R.layout.bubble_view, null);\n                TextView predict_text = (TextView) bubbleView.findViewById(R.id.predict_text);\n                predict_text.setText(&quot;Hi&quot;); // &lt;--- It don't work :(\n            default:\n                break;\n        }\n    }\n}\n</code></pre>\n<p>[EDIT] []\nAdd some .XML file\nHere is my activity_main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/activity_main&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:gravity=&quot;center&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;com.siddharthks.sampleapp.MainActivity&quot;&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;Project KHKT&quot;\n        android:textColor=&quot;#AA000000&quot;\n        android:textSize=&quot;21sp&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/start_bubble&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;Paste and Predict&quot;\n        android:textSize=&quot;18sp&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>and here is my bubble_view.xml, its just for a</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;ScrollView\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:paddingStart=&quot;16dp&quot;\n            android:paddingTop=&quot;16dp&quot;\n            android:paddingEnd=&quot;16dp&quot;\n            android:text=&quot;Project KHKT&quot;\n            android:textColor=&quot;#AA000000&quot;\n            android:textSize=&quot;21sp&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/predict&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;Paste and Predict&quot;\n            android:textSize=&quot;18sp&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/predict_text&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:paddingStart=&quot;16dp&quot;\n            android:paddingTop=&quot;16dp&quot;\n            android:paddingEnd=&quot;16dp&quot;\n            android:textColor=&quot;#AA000000&quot;\n            android:textSize=&quot;21sp&quot; /&gt;\n\n\n    &lt;/LinearLayout&gt;\n&lt;/ScrollView&gt;\n</code></pre>\n<p>Do you have any suggested for me ?</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":0,"creation_date":1640173276,"post_id":70448467,"comment_id":124531540,"body_markdown":"Do you have this in a loop ?","body":"Do you have this in a loop ?"},{"owner":{"account_id":10944677,"reputation":25,"user_id":8043225,"display_name":"Juhi Sehgal"},"score":0,"creation_date":1640173558,"post_id":70448467,"comment_id":124531648,"body_markdown":"Yes it is inside a loop","body":"Yes it is inside a loop"},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1640174544,"post_id":70448467,"comment_id":124532012,"body_markdown":"How is question heading _count of element_ and description _looking for an element on the page_ related? Sounds to be two different usecases.","body":"How is question heading <i>count of element</i> and description <i>looking for an element on the page</i> related? Sounds to be two different usecases."},{"owner":{"account_id":10944677,"reputation":25,"user_id":8043225,"display_name":"Juhi Sehgal"},"score":0,"creation_date":1640174904,"post_id":70448467,"comment_id":124532155,"body_markdown":"if the count of the element is greater than 0 then the element is displayed on the page","body":"if the count of the element is greater than 0 then the element is displayed on the page"},{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":0,"creation_date":1640178973,"post_id":70448467,"comment_id":124533679,"body_markdown":"Please share the exact code, not in pieces for further analysis.","body":"Please share the exact code, not in pieces for further analysis."}],"answers":[{"tags":[],"owner":{"account_id":7865489,"reputation":380,"user_id":5944412,"display_name":"Bipin Kumar Chaurasia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640176303,"creation_date":1640176303,"answer_id":70449106,"question_id":70448467,"body_markdown":"Can you please add explicit waits before this IF statement for locator, `By.xpath(&quot;MyLocator&quot;)`?","title":"Selenium - Unable to find the count of element","body":"<p>Can you please add explicit waits before this IF statement for locator, <code>By.xpath(&quot;MyLocator&quot;)</code>?</p>\n"}],"owner":{"account_id":10944677,"reputation":25,"user_id":8043225,"display_name":"Juhi Sehgal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640176303,"creation_date":1640173169,"question_id":70448467,"body_markdown":"**Actual**:- I am looking for an element on the page. If the condition evaluates to true then the code works but if the element is not found then the code fails.\r\n\r\n**Expected**:- Evaluate the IF part is the element is found or move to the else part\r\nWhy is it so because the similar thing used to work earlier    \r\n\t\t\t\t\r\n\r\n    if(driver.findElements(By.xpath(&quot;MyLocator&quot;)).size()!=0)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tcontinue;\r\n    \t\t\t\t}\r\n    else {\r\n    execute the else part\r\n    }\r\n\r\n","title":"Selenium - Unable to find the count of element","body":"<p><strong>Actual</strong>:- I am looking for an element on the page. If the condition evaluates to true then the code works but if the element is not found then the code fails.</p>\n<p><strong>Expected</strong>:- Evaluate the IF part is the element is found or move to the else part\nWhy is it so because the similar thing used to work earlier</p>\n<pre><code>if(driver.findElements(By.xpath(&quot;MyLocator&quot;)).size()!=0)\n                {\n                    continue;\n                }\nelse {\nexecute the else part\n}\n</code></pre>\n"},{"tags":["java","puzzle"],"comments":[{"owner":{"account_id":5533,"reputation":119441,"user_id":8954,"accept_rate":93,"display_name":"Tamas Czinege"},"score":2,"creation_date":1246881807,"post_id":1086595,"comment_id":900117,"body_markdown":"Is it allowed in Java to mess with a collection while iterating through it? It is a big no-no in C#.","body":"Is it allowed in Java to mess with a collection while iterating through it? It is a big no-no in C#."},{"owner":{"account_id":7448,"reputation":526464,"user_id":12950,"accept_rate":94,"display_name":"tvanfosson"},"score":1,"creation_date":1246882011,"post_id":1086595,"comment_id":900125,"body_markdown":"Actually, in C# it would be an error to re-use the iterator after the collection had changed.  Removing an element from a set obtained using an iterator is ok.","body":"Actually, in C# it would be an error to re-use the iterator after the collection had changed.  Removing an element from a set obtained using an iterator is ok."},{"owner":{"account_id":18162,"reputation":105064,"user_id":41360,"accept_rate":59,"display_name":"Vilx-"},"score":0,"creation_date":1246882068,"post_id":1086595,"comment_id":900128,"body_markdown":"Not really. You can do that in C# too. Except that if you do it, then any further operations on the iterator will result in an exception. Not an issue in this case though.","body":"Not really. You can do that in C# too. Except that if you do it, then any further operations on the iterator will result in an exception. Not an issue in this case though."},{"owner":{"account_id":18182,"reputation":33673,"user_id":41423,"accept_rate":100,"display_name":"Nick Holt"},"score":0,"creation_date":1246882094,"post_id":1086595,"comment_id":900133,"body_markdown":"@DrJokepu - if you were iterating through the collection it would be a no-no and you should call remove on the Iterator, but it looks like @Yvon Rozijin is just using the iterator to get the first element in the list.","body":"@DrJokepu - if you were iterating through the collection it would be a no-no and you should call remove on the Iterator, but it looks like @Yvon Rozijin is just using the iterator to get the first element in the list."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1246882101,"post_id":1086595,"comment_id":900136,"body_markdown":"There is no dispose on __java.util.Iterator__, so we are calling __remove__ whilst the iterator is in play.","body":"There is no dispose on <b>java.util.Iterator</b>, so we are calling <b>remove</b> whilst the iterator is in play."},{"owner":{"account_id":39206,"reputation":8779,"user_id":112964,"accept_rate":100,"display_name":"nd."},"score":0,"creation_date":1246882498,"post_id":1086595,"comment_id":900154,"body_markdown":"The code above does not modify the set while iterating it: It only uses the iterator to get the first object, and then removes the object from the set.\n\nIn Java, modifying a collection through its add/remove methods while iterating through it is usually unsupported and throws an Exception. There may be implementations that support modification while iteration, e.g. java.util.concurrent.CopyOnWriteArraySet.\n\nIn any case, the Iterator features a remove() method to remove the element returned previously. Implementation of remove() is optional and may throw an UnsupportedOperationException","body":"The code above does not modify the set while iterating it: It only uses the iterator to get the first object, and then removes the object from the set.  In Java, modifying a collection through its add/remove methods while iterating through it is usually unsupported and throws an Exception. There may be implementations that support modification while iteration, e.g. java.util.concurrent.CopyOnWriteArraySet.  In any case, the Iterator features a remove() method to remove the element returned previously. Implementation of remove() is optional and may throw an UnsupportedOperationException"},{"owner":{"display_name":"user133638"},"score":0,"creation_date":1246888524,"post_id":1086595,"comment_id":900677,"body_markdown":"Yes, the iterator is just used to get &#39;an&#39; element of the set.","body":"Yes, the iterator is just used to get &#39;an&#39; element of the set."}],"answers":[{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1246882675,"creation_date":1246881622,"answer_id":1086614,"question_id":1086595,"body_markdown":"Puzzle? If `Object.hashCode`, `Object.equals` or the &quot;hash set&quot; were implemented incorrectly (see for instance, `java.net.URL` - use `URI`).\r\n\r\nAlso if the set (directly or indirectly) contains itself, something odd is likely to happen (exactly what is implementation and phase of the moon dependent).","title":"Why won&#39;t it remove from the set?","body":"<p>Puzzle? If <code>Object.hashCode</code>, <code>Object.equals</code> or the \"hash set\" were implemented incorrectly (see for instance, <code>java.net.URL</code> - use <code>URI</code>).</p>\n\n<p>Also if the set (directly or indirectly) contains itself, something odd is likely to happen (exactly what is implementation and phase of the moon dependent).</p>\n"},{"tags":[],"owner":{"account_id":32207,"reputation":6562,"user_id":89112,"accept_rate":75,"display_name":"freitass"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1246881688,"creation_date":1246881688,"answer_id":1086616,"question_id":1086595,"body_markdown":"Beyond the missing &#39;;&#39; after `set.remove(obj)`, It can happen in three situations (quoted from javadoc).\r\n\r\n&gt;     ClassCastException - if the type of the specified element is incompatible with this set (optional).\r\n&gt;     NullPointerException - if the specified element is null and this set does not support null elements (optional). \r\n&gt;     UnsupportedOperationException - if the remove method is not supported by this set.\r\n\r\nYou can also try:\r\n\r\n    public void foo(Set&lt;Object&gt; set)\r\n    {\r\n        Object obj=set.iterator().next();\r\n        iterator.remove();\r\n    }\r\n","title":"Why won&#39;t it remove from the set?","body":"<p>Beyond the missing ';' after <code>set.remove(obj)</code>, It can happen in three situations (quoted from javadoc).</p>\n\n<blockquote>\n<pre><code>ClassCastException - if the type of the specified element is incompatible with this set (optional).\nNullPointerException - if the specified element is null and this set does not support null elements (optional). \nUnsupportedOperationException - if the remove method is not supported by this set.\n</code></pre>\n</blockquote>\n\n<p>You can also try:</p>\n\n<pre><code>public void foo(Set&lt;Object&gt; set)\n{\n    Object obj=set.iterator().next();\n    iterator.remove();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":295,"reputation":101679,"user_id":369,"accept_rate":93,"display_name":"Blorgbeard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1246881901,"creation_date":1246881901,"answer_id":1086620,"question_id":1086595,"body_markdown":"Should it be:\r\n\r\n    public void foo(Set&lt;Object&gt; set)\r\n    {\r\n        Iterator i = set.iterator();\r\n        i.next();\r\n        i.remove();\r\n    }\r\n\r\n?\r\n\r\nThe bug could be something to do with:\r\n\r\n&gt; **public void remove()**\r\n&gt;\r\n&gt; The behavior of an iterator is\r\n&gt; unspecified if the underlying\r\n&gt; collection is modified while the\r\n&gt; iteration is in progress in any way\r\n&gt; other than by calling this method.\r\n\r\n([Reference][1])\r\n\r\n\r\n  [1]: http://www.j2ee.me/j2se/1.4.2/docs/api/java/util/Iterator.html#remove%28%29","title":"Why won&#39;t it remove from the set?","body":"<p>Should it be:</p>\n\n<pre><code>public void foo(Set&lt;Object&gt; set)\n{\n    Iterator i = set.iterator();\n    i.next();\n    i.remove();\n}\n</code></pre>\n\n<p>?</p>\n\n<p>The bug could be something to do with:</p>\n\n<blockquote>\n  <p><strong>public void remove()</strong></p>\n  \n  <p>The behavior of an iterator is\n  unspecified if the underlying\n  collection is modified while the\n  iteration is in progress in any way\n  other than by calling this method.</p>\n</blockquote>\n\n<p>(<a href=\"http://www.j2ee.me/j2se/1.4.2/docs/api/java/util/Iterator.html#remove%28%29\" rel=\"nofollow noreferrer\">Reference</a>)</p>\n"},{"tags":[],"owner":{"account_id":39206,"reputation":8779,"user_id":112964,"accept_rate":100,"display_name":"nd."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1246881984,"creation_date":1246881984,"answer_id":1086624,"question_id":1086595,"body_markdown":"What is the implementation type of the set and what objects are inside the set?\r\n\r\n* If it is a HashSet, make sure that the value of the object&#39;s hashCode() method remains constant between `set.put(...)` and `set.remove(...)`.\r\n* If it is a TreeSet, make sure that not modifications were made to the object that affect the set&#39;s comparator or the object&#39;s `compareTo` method.\r\n\r\nIn both cases, the code between `set.put(...)` and `set.remove(...)` violates the contract defined by the respective class implementation. As a rule of thumb, it is a good idea to use immutable objects as set content (and as Map keys). By their very nature such objects cannot be changed while they are stored inside a set.\r\n\r\nIf you are using some other set implementation, check out its JavaDoc for its contract; but usually either `equals` or `hashCode` must remain the same while the object is contained in the set.","title":"Why won&#39;t it remove from the set?","body":"<p>What is the implementation type of the set and what objects are inside the set?</p>\n\n<ul>\n<li>If it is a HashSet, make sure that the value of the object's hashCode() method remains constant between <code>set.put(...)</code> and <code>set.remove(...)</code>.</li>\n<li>If it is a TreeSet, make sure that not modifications were made to the object that affect the set's comparator or the object's <code>compareTo</code> method.</li>\n</ul>\n\n<p>In both cases, the code between <code>set.put(...)</code> and <code>set.remove(...)</code> violates the contract defined by the respective class implementation. As a rule of thumb, it is a good idea to use immutable objects as set content (and as Map keys). By their very nature such objects cannot be changed while they are stored inside a set.</p>\n\n<p>If you are using some other set implementation, check out its JavaDoc for its contract; but usually either <code>equals</code> or <code>hashCode</code> must remain the same while the object is contained in the set.</p>\n"},{"tags":[],"owner":{"account_id":18313,"reputation":13576,"user_id":41861,"accept_rate":62,"display_name":"Adrian Pronk"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1611005235,"creation_date":1246882429,"answer_id":1086643,"question_id":1086595,"body_markdown":"For a HashSet, this can occur if the object&#39;s hashCode changes after it has been added to the set.  The HashSet.remove() method may then look in the wrong Hash bucket and fail to find it.\r\n\r\n&lt;s&gt;This probably wouldn&#39;t happen if you did iterator.remove()&lt;/s&gt;, but in any case, storing objects in a HashSet whose hashCode can change is an accident waiting to happen (as you&#39;ve discovered).","title":"Why won&#39;t it remove from the set?","body":"<p>For a HashSet, this can occur if the object's hashCode changes after it has been added to the set.  The HashSet.remove() method may then look in the wrong Hash bucket and fail to find it.</p>\n<p><s>This probably wouldn't happen if you did iterator.remove()</s>, but in any case, storing objects in a HashSet whose hashCode can change is an accident waiting to happen (as you've discovered).</p>\n"},{"tags":[],"owner":{"account_id":40802,"reputation":10460,"user_id":118364,"accept_rate":92,"display_name":"Matthew Iselin"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1246882542,"creation_date":1246882542,"answer_id":1086647,"question_id":1086595,"body_markdown":"I can&#39;t help but feel that (part of) the problem is that the set is passed by value, not reference. I don&#39;t have much experience in Java though, so I could be totally wrong.","title":"Why won&#39;t it remove from the set?","body":"<p>I can't help but feel that (part of) the problem is that the set is passed by value, not reference. I don't have much experience in Java though, so I could be totally wrong.</p>\n"},{"tags":[],"owner":{"account_id":11070566,"reputation":685,"user_id":8128825,"display_name":"Barrrettt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640176301,"creation_date":1640176301,"answer_id":70449105,"question_id":1086595,"body_markdown":"My similar case: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wsJor.png\r\nThis not work for me. I need @Override __equals__ and __hashCode__ on my class Group, like this:\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        final int prime = 31;\r\n        int result = 1;\r\n        result = prime * result + ((id == null) ? 0 : id.hashCode());\r\n        return result;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        if (this == obj) return true;\r\n        if (obj == null) return false;\r\n        if (getClass() != obj.getClass()) return false;\r\n        Group other = (Group) obj;\r\n        if (id == null) {\r\n            if (other.id != null) return false;\r\n        } else if (!id.equals(other.id)) return false;\r\n        return true;\r\n    }\r\nThis forces to compare POJOs by __id__ field, without the phase of the moon.","title":"Why won&#39;t it remove from the set?","body":"<p>My similar case:</p>\n<p><a href=\"https://i.stack.imgur.com/wsJor.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wsJor.png\" alt=\"enter image description here\" /></a></p>\n<p>This not work for me. I need @Override <strong>equals</strong> and <strong>hashCode</strong> on my class Group, like this:</p>\n<pre><code>@Override\npublic int hashCode() {\n    final int prime = 31;\n    int result = 1;\n    result = prime * result + ((id == null) ? 0 : id.hashCode());\n    return result;\n}\n\n@Override\npublic boolean equals(Object obj) {\n    if (this == obj) return true;\n    if (obj == null) return false;\n    if (getClass() != obj.getClass()) return false;\n    Group other = (Group) obj;\n    if (id == null) {\n        if (other.id != null) return false;\n    } else if (!id.equals(other.id)) return false;\n    return true;\n}\n</code></pre>\n<p>This forces to compare POJOs by <strong>id</strong> field, without the phase of the moon.</p>\n"}],"owner":{"display_name":"user133638"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8499,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":1086643,"answer_count":7,"score":6,"last_activity_date":1640176301,"creation_date":1246881213,"question_id":1086595,"body_markdown":"This bug took me a while to find...\r\n\r\nConsider this method:\r\n\r\n    public void foo(Set&lt;Object&gt; set)\r\n    {\r\n        Object obj=set.iterator().next();\r\n        set.remove(obj)\r\n    }\r\n\r\nI invoke the method with a non-empty hash set, but no element will be removed!\r\n\r\nWhy would that be?\r\n","title":"Why won&#39;t it remove from the set?","body":"<p>This bug took me a while to find...</p>\n\n<p>Consider this method:</p>\n\n<pre><code>public void foo(Set&lt;Object&gt; set)\n{\n    Object obj=set.iterator().next();\n    set.remove(obj)\n}\n</code></pre>\n\n<p>I invoke the method with a non-empty hash set, but no element will be removed!</p>\n\n<p>Why would that be?</p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":17647913,"reputation":43,"user_id":12808946,"display_name":"Prathviraj Singh Chouhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640176057,"creation_date":1640176057,"answer_id":70449053,"question_id":70447782,"body_markdown":"So, to use JDBCitemwriter with compositeitemwriter, just make your JdbcitemWriter return type to itemwriter.\r\n\r\n     @Bean \r\n     public ItemWriter retryFileWriterToDB(){\r\n      JdbcBatchItemWriter writer = new JdbcBatchItemWriter ();\r\n         writer.setDataSource(pdccRepositoryConfig.pdccDataSource());\r\n         writer.setSql(&quot;insert into failed_forter_claim_api_order (accertify_cb_control_number, internal_comment2, dispute_type, brand, resolution1_name, reason_code, reason_description, won_loss_status, disputed_date, disputed_amount, reporting_group, due_date, location, resolution1_ts, transaction_date)&quot; +\r\n                 &quot; values (?, ?, ?, ? , ?, ?, ? , ?, ?, ? , ?, ?, ?, ?, ? ) &quot;);\r\n         writer.setItemPreparedStatementSetter(new ItemPreparedStatementSetter&lt;ChargeBack&gt;() {\r\n             @Override\r\n             public void setValues(ChargeBack item, PreparedStatement ps) throws SQLException {\r\n            \t ps.setString(1, item.getAccertifyCBControlNumber().toString());\r\n                 ps.setString(2,item.getInternalComment2());\r\n                 ps.setString(3, item.getDisputeType());\r\n                 ps.setString(4, item.getBrand());\r\n                 ps.setString(5,item.getResolution1ts());\r\n                 ps.setString(6, item.getReasonCode());\r\n                 ps.setString(7, item.getReasonDescription());\r\n                 ps.setString(8,item.getWonLossStatus());\r\n                 ps.setString(9, item.getDisputedDate());\r\n                 ps.setString(10, Double.toString(item.getDisputedAmount()));\r\n                 ps.setString(11, item.getReportingGroup());\r\n                 ps.setString(12, item.getDueDate());\r\n                 ps.setString(13,item.getLocation());\r\n                 ps.setString(14, item.getResolution1ts());\r\n                 ps.setString(15, item.getTransactionDate());\r\n                \r\n             }\r\n\r\n\t\t\t\r\n         });\r\n\r\n         return writer;\r\n\r\n     }\r\n\r\n\r\n2. autowire in your compositeItemwriter like below, u can prefer retryFileWriterToDB as a keyword, how I used it in below code.\r\n\r\n  \r\n\r\n\r\n\r\n\r\n @Component(&quot;CompositeFileWriter&quot;)\r\npublic class ChargeBackCompositeFileWriter implements ItemStreamWriter&lt;ChargeBack&gt;{\r\n\r\n\r\n\t@Autowired\r\n\tprivate PartOrderDao partOrderDao;\r\n\t\r\n\t@Autowired\r\n\t@Qualifier(&quot;errorFileWriter&quot;)\r\n\tprivate ItemStreamWriter&lt;ChargeBack&gt; errorFileWriter;\r\n\t\r\n\t@Autowired\r\n\t@Qualifier(&quot;retryFileWriterToDB&quot;)\r\n\tprivate ItemWriter&lt;ChargeBack&gt; retryFileWriterToDB;\r\n\t\r\n\t\r\n\t\r\n\t@Autowired\r\n\t@Qualifier(&quot;processedFileWriter&quot;)\r\n\tprivate ItemStreamWriter&lt;ChargeBack&gt; processedFileWriter;\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t@Override\r\n\tpublic void write(List&lt;? extends ChargeBack&gt; items) throws Exception {\r\n\t\t\r\n\t\r\n\t\t\r\n\t\tList&lt;ChargeBack&gt; errorRecords = items.stream().filter(ChargeBack::isBadRecord).collect(Collectors.toList());\r\n\r\n\t\tList&lt;ChargeBack&gt; retryRecords = items.stream().filter(ChargeBack::isRetryRecord)\r\n\t\t\t\t.collect(Collectors.toList());\r\n\t\t\r\n\t\tList&lt;ChargeBack&gt; processedRecords = items.stream()\r\n\t\t\t\t.filter(chargeBack -&gt; !chargeBack.isBadRecord())\r\n\t\t\t\t.filter(chargeBack-&gt; !chargeBack.isRetryRecord())\r\n\t\t\t\t.collect(Collectors.toList());\r\n\t\t\r\n       \t\r\n\t\t\r\n\t\t\r\n\t\t//ChargeBack chargeBack = new ChargeBack();\r\n\r\n\t\tif (CollectionUtils.isNotEmpty(errorRecords)) {\r\n\t\t\terrorFileWriter.write(errorRecords);\r\n\t\t}\r\n\r\n\t\tif (CollectionUtils.isNotEmpty(processedRecords)) {\r\n\t\t\tprocessedFileWriter.write(processedRecords);\r\n\t\r\n\t\t}\r\n\t\t\r\n\t\tif (CollectionUtils.isNotEmpty(retryRecords)) {\r\n\t\t\t\r\n\t     \tSystem.out.println(&quot;writing ti DB:..&quot;);\r\n\t\t//\tSystem.out.println(&quot;Calling partdao.......&quot;);\r\n\t\t\t//partOrderDao.insertFailedRecord(retryRecords);\r\n\t     \tretryFileWriterToDB.write(retryRecords);\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n\t@Override\r\n\tpublic void open(ExecutionContext executionContext) throws ItemStreamException {\r\n\t\terrorFileWriter.open(executionContext);\r\n\t\tprocessedFileWriter.open(executionContext);\r\n\t\t//((ItemStream) retryFileWriter).open(executionContext);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void update(ExecutionContext executionContext) throws ItemStreamException {\r\n\t\terrorFileWriter.update(executionContext);\r\n\t\tprocessedFileWriter.update(executionContext);\r\n\t\t//((ItemStream) retryFileWriter).update(executionContext);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void close() throws ItemStreamException {\r\n\t\terrorFileWriter.close();\r\n\t\tprocessedFileWriter.close();\r\n\t\t//((ItemStream) retryFileWriter).close();\r\n\t}\r\n\t\r\n\t\r\n  }\r\n\r\n\r\n\r\n Rest all code is same,as pasted in question. In batchCOnfig file I just change return type of jdbcitemwriter and in Compositewriter class I have autowired this jdbcitemwriter, like this \r\n   `@Autowired\r\n\t@Qualifier(&quot;retryFileWriterToDB&quot;)\r\n\tprivate ItemWriter&lt;ChargeBack&gt; retryFileWriterToDB;\r\n\t`\r\nand used this in composite writer class as \r\n\r\n       \r\n\t     \tretryFileWriterToDB.write(retryRecords);\r\n\t\t\r\n\r\n","title":"How to use composite file writer for jdbc or writing data to database?","body":"<p>So, to use JDBCitemwriter with compositeitemwriter, just make your JdbcitemWriter return type to itemwriter.</p>\n<pre><code> @Bean \n public ItemWriter retryFileWriterToDB(){\n  JdbcBatchItemWriter writer = new JdbcBatchItemWriter ();\n     writer.setDataSource(pdccRepositoryConfig.pdccDataSource());\n     writer.setSql(&quot;insert into failed_forter_claim_api_order (accertify_cb_control_number, internal_comment2, dispute_type, brand, resolution1_name, reason_code, reason_description, won_loss_status, disputed_date, disputed_amount, reporting_group, due_date, location, resolution1_ts, transaction_date)&quot; +\n             &quot; values (?, ?, ?, ? , ?, ?, ? , ?, ?, ? , ?, ?, ?, ?, ? ) &quot;);\n     writer.setItemPreparedStatementSetter(new ItemPreparedStatementSetter&lt;ChargeBack&gt;() {\n         @Override\n         public void setValues(ChargeBack item, PreparedStatement ps) throws SQLException {\n             ps.setString(1, item.getAccertifyCBControlNumber().toString());\n             ps.setString(2,item.getInternalComment2());\n             ps.setString(3, item.getDisputeType());\n             ps.setString(4, item.getBrand());\n             ps.setString(5,item.getResolution1ts());\n             ps.setString(6, item.getReasonCode());\n             ps.setString(7, item.getReasonDescription());\n             ps.setString(8,item.getWonLossStatus());\n             ps.setString(9, item.getDisputedDate());\n             ps.setString(10, Double.toString(item.getDisputedAmount()));\n             ps.setString(11, item.getReportingGroup());\n             ps.setString(12, item.getDueDate());\n             ps.setString(13,item.getLocation());\n             ps.setString(14, item.getResolution1ts());\n             ps.setString(15, item.getTransactionDate());\n            \n         }\n\n        \n     });\n\n     return writer;\n\n }\n</code></pre>\n<ol start=\"2\">\n<li>autowire in your compositeItemwriter like below, u can prefer retryFileWriterToDB as a keyword, how I used it in below code.</li>\n</ol>\n<p>@Component(&quot;CompositeFileWriter&quot;)\npublic class ChargeBackCompositeFileWriter implements ItemStreamWriter{</p>\n<pre><code>@Autowired\nprivate PartOrderDao partOrderDao;\n\n@Autowired\n@Qualifier(&quot;errorFileWriter&quot;)\nprivate ItemStreamWriter&lt;ChargeBack&gt; errorFileWriter;\n\n@Autowired\n@Qualifier(&quot;retryFileWriterToDB&quot;)\nprivate ItemWriter&lt;ChargeBack&gt; retryFileWriterToDB;\n\n\n\n@Autowired\n@Qualifier(&quot;processedFileWriter&quot;)\nprivate ItemStreamWriter&lt;ChargeBack&gt; processedFileWriter;\n\n\n\n\n@Override\npublic void write(List&lt;? extends ChargeBack&gt; items) throws Exception {\n    \n\n    \n    List&lt;ChargeBack&gt; errorRecords = items.stream().filter(ChargeBack::isBadRecord).collect(Collectors.toList());\n\n    List&lt;ChargeBack&gt; retryRecords = items.stream().filter(ChargeBack::isRetryRecord)\n            .collect(Collectors.toList());\n    \n    List&lt;ChargeBack&gt; processedRecords = items.stream()\n            .filter(chargeBack -&gt; !chargeBack.isBadRecord())\n            .filter(chargeBack-&gt; !chargeBack.isRetryRecord())\n            .collect(Collectors.toList());\n    \n    \n    \n    \n    //ChargeBack chargeBack = new ChargeBack();\n\n    if (CollectionUtils.isNotEmpty(errorRecords)) {\n        errorFileWriter.write(errorRecords);\n    }\n\n    if (CollectionUtils.isNotEmpty(processedRecords)) {\n        processedFileWriter.write(processedRecords);\n\n    }\n    \n    if (CollectionUtils.isNotEmpty(retryRecords)) {\n        \n        System.out.println(&quot;writing ti DB:..&quot;);\n    //  System.out.println(&quot;Calling partdao.......&quot;);\n        //partOrderDao.insertFailedRecord(retryRecords);\n        retryFileWriterToDB.write(retryRecords);\n    }\n}\n\n\n@Override\npublic void open(ExecutionContext executionContext) throws ItemStreamException {\n    errorFileWriter.open(executionContext);\n    processedFileWriter.open(executionContext);\n    //((ItemStream) retryFileWriter).open(executionContext);\n}\n\n@Override\npublic void update(ExecutionContext executionContext) throws ItemStreamException {\n    errorFileWriter.update(executionContext);\n    processedFileWriter.update(executionContext);\n    //((ItemStream) retryFileWriter).update(executionContext);\n}\n\n@Override\npublic void close() throws ItemStreamException {\n    errorFileWriter.close();\n    processedFileWriter.close();\n    //((ItemStream) retryFileWriter).close();\n}\n</code></pre>\n<p>}</p>\n<p>Rest all code is same,as pasted in question. In batchCOnfig file I just change return type of jdbcitemwriter and in Compositewriter class I have autowired this jdbcitemwriter, like this\n<code>@Autowired @Qualifier(&quot;retryFileWriterToDB&quot;) private ItemWriter&lt;ChargeBack&gt; retryFileWriterToDB; </code>\nand used this in composite writer class as</p>\n<pre><code>        retryFileWriterToDB.write(retryRecords);\n    \n</code></pre>\n"}],"owner":{"account_id":17647913,"reputation":43,"user_id":12808946,"display_name":"Prathviraj Singh Chouhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640176057,"creation_date":1640169882,"question_id":70447782,"body_markdown":"I have written a composite item writer for writing to the flat file, but I want to write in database also if certain condition meet. So, how can I do that... I am a  beginner. Kindly help..\r\n\r\n**Composite file writer class:**\r\n\r\n    @Component(&quot;CompositeFileWriter&quot;)\r\n public class ChargeBackCompositeFileWriter implements ItemStreamWriter&lt;ChargeBack&gt;{\r\n\r\n\r\n\t@Autowired\r\n\tprivate PartOrderDao partOrderDao;\r\n\t\r\n\t@Autowired\r\n\t@Qualifier(&quot;errorFileWriter&quot;)\r\n\tprivate ItemStreamWriter&lt;ChargeBack&gt; errorFileWriter;\r\n\t\r\n\t@Autowired\r\n\t@Qualifier(&quot;retryFileWriter&quot;)\r\n\tprivate ItemStreamWriter&lt;ChargeBack&gt; retryFileWriter;\r\n\t\r\n\t\r\n\t\r\n\t@Autowired\r\n\t@Qualifier(&quot;processedFileWriter&quot;)\r\n\tprivate ItemStreamWriter&lt;ChargeBack&gt; processedFileWriter;\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t@Override\r\n\tpublic void write(List&lt;? extends ChargeBack&gt; items) throws Exception {\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tList&lt;ChargeBack&gt; errorRecords = items.stream().filter(ChargeBack::isBadRecord).collect(Collectors.toList());\r\n\r\n\t\tList&lt;ChargeBack&gt; retryRecords = items.stream().filter(ChargeBack::isRetryRecord)\r\n\t\t\t\t.collect(Collectors.toList());\r\n\t\t\r\n\t\tList&lt;ChargeBack&gt; processedRecords = items.stream()\r\n\t\t\t\t.filter(chargeBack -&gt; !chargeBack.isBadRecord())\r\n\t\t\t\t.filter(chargeBack-&gt; !chargeBack.isRetryRecord())\r\n\t\t\t\t.collect(Collectors.toList());\r\n\t\t\r\n       \t\r\n\t\t\r\n\t\t\r\n\t\t//ChargeBack chargeBack = new ChargeBack();\r\n\r\n\t\tif (CollectionUtils.isNotEmpty(errorRecords)) {\r\n\t\t\terrorFileWriter.write(errorRecords);\r\n\t\t}\r\n\r\n\t\tif (CollectionUtils.isNotEmpty(processedRecords)) {\r\n\t\t\tprocessedFileWriter.write(processedRecords);\r\n\t\t}\r\n\t\t\r\n\t\tif (CollectionUtils.isNotEmpty(retryRecords)) {\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n\t@Override\r\n\tpublic void open(ExecutionContext executionContext) throws ItemStreamException {\r\n\t\terrorFileWriter.open(executionContext);\r\n\t\tprocessedFileWriter.open(executionContext);\r\n\t\t//retryFileWriter.open(executionContext);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void update(ExecutionContext executionContext) throws ItemStreamException {\r\n\t\terrorFileWriter.update(executionContext);\r\n\t\tprocessedFileWriter.update(executionContext);\r\n\t\t//retryFileWriter.update(executionContext);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void close() throws ItemStreamException {\r\n\t\terrorFileWriter.close();\r\n\t\tprocessedFileWriter.close();\r\n\t\t//retryFileWriter.close();\r\n\t}\r\n\t\r\n\t\r\n}\r\n\r\n **BatchConfg file**\r\n\r\n    @Bean\r\n\tpublic ItemStreamWriter&lt;ChargeBack&gt; processedFileWriter(\r\n\t\t\t@Value(&quot;${processed.file}&quot;) FileSystemResource processedFile) {\r\n\t\tFlatFileItemWriter&lt;ChargeBack&gt; writer = new FlatFileItemWriter&lt;&gt;();\r\n\t\twriter.setResource(processedFile);\r\n\t\twriter.setLineAggregator(new DelimitedLineAggregator&lt;ChargeBack&gt;() {\r\n\t\t\t{\r\n\t\t\t\tsetDelimiter(&quot;|&quot;);\r\n\t\t\t\tsetFieldExtractor(new BeanWrapperFieldExtractor&lt;ChargeBack&gt;() {\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tsetNames(new String[] { &quot;&quot;\r\n\t\t\t\t\t\t\t\t  });\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn writer;\r\n\t}\r\n\t\r\n\t//for reading retry file and passing it, for writing record to the table.\r\n\t@Bean\r\n    @StepScope\r\n    public FlatFileItemReader retryFileReader(@Value(&quot;${input.retryFile}&quot;) FileSystemResource inputFile){\r\n        FlatFileItemReader reader = new FlatFileItemReader();\r\n        reader.setResource(inputFile);\r\n        reader.setLinesToSkip(0);\r\n        reader.setStrict(false);\r\n        reader.setLineMapper(new DefaultLineMapper(){\r\n            {setFieldSetMapper(new BeanWrapperFieldSetMapper(){{\r\n             setTargetType(ChargeBack.class);}});\r\n             setLineTokenizer(new DelimitedLineTokenizer(){{\r\n             setNames(new String[]{&quot;&quot;});\r\n             setDelimiter(&quot;|&quot;);}});}});\r\n        return reader;\r\n    }\r\n\r\n \t\r\n \t @Bean\r\n     public JdbcBatchItemWriter retryFileWriterToDB(){\r\n         JdbcBatchItemWriter writer = new JdbcBatchItemWriter ();\r\n         writer.setDataSource(pdccRepositoryConfig.pdccDataSource());\r\n         writer.setSql(&quot;)&quot; +\r\n                 &quot; values (?, ?, ?, ? , ?, ?, ? , ?, ?, ? , ?, ?, ?, ?, ? ) &quot;);\r\n         writer.setItemPreparedStatementSetter(new ItemPreparedStatementSetter&lt;ChargeBack&gt;() {\r\n             @Override\r\n             public void setValues(ChargeBack item, PreparedStatement ps) throws SQLException {\r\n            \t ps.setString(1, item.getAccertifyCBControlNumber().toString());\r\n                 ps.setString(2,item.getInternalComment2());\r\n                 ps.setString(3, item.getDisputeType());\r\n                 ps.setString(4, item.getBrand());\r\n                 ps.setString(5,item.getResolution1ts());\r\n                 ps.setString(6, item.getReasonCode());\r\n                 ps.setString(7, item.getReasonDescription());\r\n                 ps.setString(8,item.getWonLossStatus());\r\n                 ps.setString(9, item.getDisputedDate());\r\n                 ps.setString(10, Double.toString(item.getDisputedAmount()));\r\n                 ps.setString(11, item.getReportingGroup());\r\n                 ps.setString(12, item.getDueDate());\r\n                 ps.setString(13,item.getLocation());\r\n                 ps.setString(14, item.getResolution1ts());\r\n                 ps.setString(15, item.getTransactionDate());\r\n                \r\n             }\r\n\r\n\t\t\t\r\n         });\r\n\r\n         return writer;\r\n\r\n     }\r\n\r\n**I am currently writing separately in database  using above jdbcbatchitemwriter, but i want it to be used by streamitemwriter, so as i can write on same time, instead of writing seperately. \r\nMy question in sort is I want to use this jdbcbatchitemwriter to be used by streamitemwriter, like above I m using flat file item writer&#39;s. \r\nAnd If I cannot use jdbcbatchitemwriter in streamwriter then what is the next solution. kindly elaborate it if possible..**","title":"How to use composite file writer for jdbc or writing data to database?","body":"<p>I have written a composite item writer for writing to the flat file, but I want to write in database also if certain condition meet. So, how can I do that... I am a  beginner. Kindly help..</p>\n<p><strong>Composite file writer class:</strong></p>\n<pre><code>@Component(&quot;CompositeFileWriter&quot;)\n</code></pre>\n<p>public class ChargeBackCompositeFileWriter implements ItemStreamWriter{</p>\n<pre><code>@Autowired\nprivate PartOrderDao partOrderDao;\n\n@Autowired\n@Qualifier(&quot;errorFileWriter&quot;)\nprivate ItemStreamWriter&lt;ChargeBack&gt; errorFileWriter;\n\n@Autowired\n@Qualifier(&quot;retryFileWriter&quot;)\nprivate ItemStreamWriter&lt;ChargeBack&gt; retryFileWriter;\n\n\n\n@Autowired\n@Qualifier(&quot;processedFileWriter&quot;)\nprivate ItemStreamWriter&lt;ChargeBack&gt; processedFileWriter;\n\n\n\n\n@Override\npublic void write(List&lt;? extends ChargeBack&gt; items) throws Exception {\n    \n    \n    \n    List&lt;ChargeBack&gt; errorRecords = items.stream().filter(ChargeBack::isBadRecord).collect(Collectors.toList());\n\n    List&lt;ChargeBack&gt; retryRecords = items.stream().filter(ChargeBack::isRetryRecord)\n            .collect(Collectors.toList());\n    \n    List&lt;ChargeBack&gt; processedRecords = items.stream()\n            .filter(chargeBack -&gt; !chargeBack.isBadRecord())\n            .filter(chargeBack-&gt; !chargeBack.isRetryRecord())\n            .collect(Collectors.toList());\n    \n    \n    \n    \n    //ChargeBack chargeBack = new ChargeBack();\n\n    if (CollectionUtils.isNotEmpty(errorRecords)) {\n        errorFileWriter.write(errorRecords);\n    }\n\n    if (CollectionUtils.isNotEmpty(processedRecords)) {\n        processedFileWriter.write(processedRecords);\n    }\n    \n    if (CollectionUtils.isNotEmpty(retryRecords)) {\n        \n    }\n}\n\n\n@Override\npublic void open(ExecutionContext executionContext) throws ItemStreamException {\n    errorFileWriter.open(executionContext);\n    processedFileWriter.open(executionContext);\n    //retryFileWriter.open(executionContext);\n}\n\n@Override\npublic void update(ExecutionContext executionContext) throws ItemStreamException {\n    errorFileWriter.update(executionContext);\n    processedFileWriter.update(executionContext);\n    //retryFileWriter.update(executionContext);\n}\n\n@Override\npublic void close() throws ItemStreamException {\n    errorFileWriter.close();\n    processedFileWriter.close();\n    //retryFileWriter.close();\n}\n</code></pre>\n<p>}</p>\n<p><strong>BatchConfg file</strong></p>\n<pre><code>@Bean\npublic ItemStreamWriter&lt;ChargeBack&gt; processedFileWriter(\n        @Value(&quot;${processed.file}&quot;) FileSystemResource processedFile) {\n    FlatFileItemWriter&lt;ChargeBack&gt; writer = new FlatFileItemWriter&lt;&gt;();\n    writer.setResource(processedFile);\n    writer.setLineAggregator(new DelimitedLineAggregator&lt;ChargeBack&gt;() {\n        {\n            setDelimiter(&quot;|&quot;);\n            setFieldExtractor(new BeanWrapperFieldExtractor&lt;ChargeBack&gt;() {\n                {\n                    setNames(new String[] { &quot;&quot;\n                              });\n                }\n            });\n        }\n    });\n    return writer;\n}\n\n//for reading retry file and passing it, for writing record to the table.\n@Bean\n@StepScope\npublic FlatFileItemReader retryFileReader(@Value(&quot;${input.retryFile}&quot;) FileSystemResource inputFile){\n    FlatFileItemReader reader = new FlatFileItemReader();\n    reader.setResource(inputFile);\n    reader.setLinesToSkip(0);\n    reader.setStrict(false);\n    reader.setLineMapper(new DefaultLineMapper(){\n        {setFieldSetMapper(new BeanWrapperFieldSetMapper(){{\n         setTargetType(ChargeBack.class);}});\n         setLineTokenizer(new DelimitedLineTokenizer(){{\n         setNames(new String[]{&quot;&quot;});\n         setDelimiter(&quot;|&quot;);}});}});\n    return reader;\n}\n\n\n @Bean\n public JdbcBatchItemWriter retryFileWriterToDB(){\n     JdbcBatchItemWriter writer = new JdbcBatchItemWriter ();\n     writer.setDataSource(pdccRepositoryConfig.pdccDataSource());\n     writer.setSql(&quot;)&quot; +\n             &quot; values (?, ?, ?, ? , ?, ?, ? , ?, ?, ? , ?, ?, ?, ?, ? ) &quot;);\n     writer.setItemPreparedStatementSetter(new ItemPreparedStatementSetter&lt;ChargeBack&gt;() {\n         @Override\n         public void setValues(ChargeBack item, PreparedStatement ps) throws SQLException {\n             ps.setString(1, item.getAccertifyCBControlNumber().toString());\n             ps.setString(2,item.getInternalComment2());\n             ps.setString(3, item.getDisputeType());\n             ps.setString(4, item.getBrand());\n             ps.setString(5,item.getResolution1ts());\n             ps.setString(6, item.getReasonCode());\n             ps.setString(7, item.getReasonDescription());\n             ps.setString(8,item.getWonLossStatus());\n             ps.setString(9, item.getDisputedDate());\n             ps.setString(10, Double.toString(item.getDisputedAmount()));\n             ps.setString(11, item.getReportingGroup());\n             ps.setString(12, item.getDueDate());\n             ps.setString(13,item.getLocation());\n             ps.setString(14, item.getResolution1ts());\n             ps.setString(15, item.getTransactionDate());\n            \n         }\n\n        \n     });\n\n     return writer;\n\n }\n</code></pre>\n<p><strong>I am currently writing separately in database  using above jdbcbatchitemwriter, but i want it to be used by streamitemwriter, so as i can write on same time, instead of writing seperately.\nMy question in sort is I want to use this jdbcbatchitemwriter to be used by streamitemwriter, like above I m using flat file item writer's.\nAnd If I cannot use jdbcbatchitemwriter in streamwriter then what is the next solution. kindly elaborate it if possible..</strong></p>\n"},{"tags":["java","json","gson","httprequest","httpclient"],"answers":[{"tags":[],"owner":{"account_id":7865489,"reputation":380,"user_id":5944412,"display_name":"Bipin Kumar Chaurasia"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1640174747,"creation_date":1640174747,"answer_id":70448787,"question_id":70448659,"body_markdown":"Try adding setters methods in `Food` class for getting description text and then try to print `description` with following print statement as,\r\n\r\n`System.out.println(food.getDescription());`","title":"Parsing JSON Data with Gson","body":"<p>Try adding setters methods in <code>Food</code> class for getting description text and then try to print <code>description</code> with following print statement as,</p>\n<p><code>System.out.println(food.getDescription());</code></p>\n"},{"tags":[],"owner":{"account_id":18453936,"reputation":23,"user_id":17419233,"display_name":"Bigggie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640175068,"creation_date":1640175068,"answer_id":70448844,"question_id":70448659,"body_markdown":"So I took a closer look at the api documentation and found that the classes should be\r\n```\r\nclass Result {\r\n\tint totalHits;\r\n\tSearchResultFood[] foods;\r\n}\r\n\r\nclass SearchResultFood {\r\n\tString description;\r\n}\r\n```\r\nAnd to only print the description: \r\n```\r\n        Result result = new Gson().fromJson(response.body(), Result.class);\r\n        // the response:\r\n        //System.out.println(response.body());\r\n        for(SearchResultFood s : result.foods) {\r\n        \tSystem.out.println(s.description);\r\n        }\r\n```\r\nwhich works perfectly!","title":"Parsing JSON Data with Gson","body":"<p>So I took a closer look at the api documentation and found that the classes should be</p>\n<pre><code>class Result {\n    int totalHits;\n    SearchResultFood[] foods;\n}\n\nclass SearchResultFood {\n    String description;\n}\n</code></pre>\n<p>And to only print the description:</p>\n<pre><code>        Result result = new Gson().fromJson(response.body(), Result.class);\n        // the response:\n        //System.out.println(response.body());\n        for(SearchResultFood s : result.foods) {\n            System.out.println(s.description);\n        }\n</code></pre>\n<p>which works perfectly!</p>\n"},{"tags":[],"owner":{"account_id":22846548,"reputation":1,"user_id":16992796,"display_name":"Mercy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1640175391,"creation_date":1640175391,"answer_id":70448914,"question_id":70448659,"body_markdown":"your Food.class should look like this:\r\n\r\n    public class Food {\r\n\r\n    private String description;\r\n\r\n    public String getDescription() {\r\n        return description;\r\n     }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n     }\r\n    }\r\n\r\nand then you can get the description via get method.\r\n","title":"Parsing JSON Data with Gson","body":"<p>your Food.class should look like this:</p>\n<pre><code>public class Food {\n\nprivate String description;\n\npublic String getDescription() {\n    return description;\n }\n\npublic void setDescription(String description) {\n    this.description = description;\n }\n}\n</code></pre>\n<p>and then you can get the description via get method.</p>\n"}],"owner":{"account_id":18453936,"reputation":23,"user_id":17419233,"display_name":"Bigggie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1640175391,"creation_date":1640174077,"question_id":70448659,"body_markdown":"I am a complete beginner when it comes to Http request, json etc. I am trying to access food data through Java&#39;s HttpClient and HttpRequest. The data contains alot of information but I am trying only to display the &quot;description&quot;. Here is my Food Class:\r\n```\r\npublic class Food {\r\n\tString description;\r\n}\r\n```\r\nand my request:\r\n```\r\npublic class Test {\r\n\t\r\n    public static void main(String[] args) throws IOException, InterruptedException {\r\n        // create a client\r\n    \tHttpClient client = HttpClient.newHttpClient();\r\n\r\n        // create a request\r\n    \tHttpRequest request = HttpRequest.newBuilder()\r\n            .GET()\r\n            .uri(\r\n            URI.create(&quot;https://api.nal.usda.gov/fdc/v1/foods/search?query=mango&amp;pageSize=1&amp;pageNumber=1&amp;api_key=...&quot;)\r\n            ).build();\r\n\r\n        // use the client to send the request\r\n        HttpResponse&lt;String&gt; response = client.send(request,HttpResponse.BodyHandlers.ofString());\r\n        Food food = new Gson().fromJson(response.body(), Food.class);\r\n        // the response:\r\n        System.out.println(response.body());\r\n        System.out.println(food.description);\r\n    }\r\n}\r\n```\r\nNow the first print statement gives me all the data:\r\n```\r\n{&quot;totalHits&quot;:11,&quot;currentPage&quot;:1,&quot;totalPages&quot;:11,&quot;pageList&quot;:[1,2,3,4,5,6,7,8,9,10],&quot;foodSearchCriteria&quot;:{&quot;dataType&quot;:[&quot;Survey (FNDDS)&quot;],&quot;query&quot;:&quot;mango&quot;,&quot;generalSearchInput&quot;:&quot;mango&quot;,&quot;pageNumber&quot;:1,&quot;numberOfResultsPerPage&quot;:50,&quot;pageSize&quot;:1,&quot;requireAllWords&quot;:false,&quot;foodTypes&quot;:[&quot;Survey (FNDDS)&quot;]},&quot;foods&quot;:[{&quot;fdcId&quot;:1102670,&quot;description&quot;:&quot;Mango, raw&quot;,&quot;lowercaseDescription&quot;\r\n```\r\nand this is not even all, but you find the description part at the end of this fraction of all the data. The problem is the second print statement doesn&#39;t print the description, it prints null. What goes wrong? The Api documentation: https://fdc.nal.usda.gov/api-spec/fdc_api.html#/","title":"Parsing JSON Data with Gson","body":"<p>I am a complete beginner when it comes to Http request, json etc. I am trying to access food data through Java's HttpClient and HttpRequest. The data contains alot of information but I am trying only to display the &quot;description&quot;. Here is my Food Class:</p>\n<pre><code>public class Food {\n    String description;\n}\n</code></pre>\n<p>and my request:</p>\n<pre><code>public class Test {\n    \n    public static void main(String[] args) throws IOException, InterruptedException {\n        // create a client\n        HttpClient client = HttpClient.newHttpClient();\n\n        // create a request\n        HttpRequest request = HttpRequest.newBuilder()\n            .GET()\n            .uri(\n            URI.create(&quot;https://api.nal.usda.gov/fdc/v1/foods/search?query=mango&amp;pageSize=1&amp;pageNumber=1&amp;api_key=...&quot;)\n            ).build();\n\n        // use the client to send the request\n        HttpResponse&lt;String&gt; response = client.send(request,HttpResponse.BodyHandlers.ofString());\n        Food food = new Gson().fromJson(response.body(), Food.class);\n        // the response:\n        System.out.println(response.body());\n        System.out.println(food.description);\n    }\n}\n</code></pre>\n<p>Now the first print statement gives me all the data:</p>\n<pre><code>{&quot;totalHits&quot;:11,&quot;currentPage&quot;:1,&quot;totalPages&quot;:11,&quot;pageList&quot;:[1,2,3,4,5,6,7,8,9,10],&quot;foodSearchCriteria&quot;:{&quot;dataType&quot;:[&quot;Survey (FNDDS)&quot;],&quot;query&quot;:&quot;mango&quot;,&quot;generalSearchInput&quot;:&quot;mango&quot;,&quot;pageNumber&quot;:1,&quot;numberOfResultsPerPage&quot;:50,&quot;pageSize&quot;:1,&quot;requireAllWords&quot;:false,&quot;foodTypes&quot;:[&quot;Survey (FNDDS)&quot;]},&quot;foods&quot;:[{&quot;fdcId&quot;:1102670,&quot;description&quot;:&quot;Mango, raw&quot;,&quot;lowercaseDescription&quot;\n</code></pre>\n<p>and this is not even all, but you find the description part at the end of this fraction of all the data. The problem is the second print statement doesn't print the description, it prints null. What goes wrong? The Api documentation: <a href=\"https://fdc.nal.usda.gov/api-spec/fdc_api.html#/\" rel=\"nofollow noreferrer\">https://fdc.nal.usda.gov/api-spec/fdc_api.html#/</a></p>\n"},{"tags":["java","sql","jdbc"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1640175404,"post_id":70448901,"comment_id":124532352,"body_markdown":"what is tricky about it? read the file, store the data in memory, write it to your db","body":"what is tricky about it? read the file, store the data in memory, write it to your db"},{"owner":{"account_id":15006333,"reputation":66,"user_id":10832295,"display_name":"Aziz Gasimov"},"score":0,"creation_date":1640175723,"post_id":70448901,"comment_id":124532460,"body_markdown":"I do not know how to separate column names and data here in this particular structure.  for example, column names are in two lines","body":"I do not know how to separate column names and data here in this particular structure.  for example, column names are in two lines"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1640175910,"post_id":70448901,"comment_id":124532523,"body_markdown":"yes, but you know up front how many lines they are on. or just understand that the data begins after the second ------------------- line","body":"yes, but you know up front how many lines they are on. or just understand that the data begins after the second ------------------- line"},{"owner":{"account_id":15006333,"reputation":66,"user_id":10832295,"display_name":"Aziz Gasimov"},"score":0,"creation_date":1640176739,"post_id":70448901,"comment_id":124532808,"body_markdown":"I see the point now,  your comment gave me an idea thank you @Stultuske!","body":"I see the point now,  your comment gave me an idea thank you @Stultuske!"}],"owner":{"account_id":15006333,"reputation":66,"user_id":10832295,"display_name":"Aziz Gasimov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640175339,"creation_date":1640175339,"question_id":70448901,"body_markdown":"I want to insert the data from the txt file into the database table. Until this point, I am used to doing this with simple text files such as data only separated by `,` or `#` etc. But the tricky part here is that the text file looks like this: \r\n\r\n```\r\n    +--------------------------------------+--------------------+---------------------+---------------------+---------------------+---------------------+---------------------+---------+---------------------+\r\n    !         Settlement Category          ! Transaction Amount ! Reconciliation Amnt !          Fee Amount !  Transaction Amount ! Reconciliation Amnt !          Fee Amount !   Count !           Net Value !\r\n    !                                      !             Credit !              Credit !              Credit !               Debit !               Debit !               Debit !   Total !                     !\r\n    +--------------------------------------+--------------------+---------------------+---------------------+---------------------+---------------------+---------------------+---------+---------------------+\r\n\r\n    ! MC Acq Fin Detail ATM Out                           5.00                   3.57                 49.75                  0.00                  0.00                  0.00        31                  3.32 !\r\n    ! MC Acq Fin Detail Retail Out                        5.40                 262.01                  0.00                  0.00                  0.00                 -3.96        10                258.05 !\r\n\r\n    ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n                      Totals :                           10.40                 265.58                 49.75                  0.00                  0.00                 -3.96        41                261.37\r\n```\r\nSo my question is which approach should I take here. I just need a recommendation, not the code \r\n ","title":"Inserting data from txt file into database","body":"<p>I want to insert the data from the txt file into the database table. Until this point, I am used to doing this with simple text files such as data only separated by <code>,</code> or <code>#</code> etc. But the tricky part here is that the text file looks like this:</p>\n<pre><code>    +--------------------------------------+--------------------+---------------------+---------------------+---------------------+---------------------+---------------------+---------+---------------------+\n    !         Settlement Category          ! Transaction Amount ! Reconciliation Amnt !          Fee Amount !  Transaction Amount ! Reconciliation Amnt !          Fee Amount !   Count !           Net Value !\n    !                                      !             Credit !              Credit !              Credit !               Debit !               Debit !               Debit !   Total !                     !\n    +--------------------------------------+--------------------+---------------------+---------------------+---------------------+---------------------+---------------------+---------+---------------------+\n\n    ! MC Acq Fin Detail ATM Out                           5.00                   3.57                 49.75                  0.00                  0.00                  0.00        31                  3.32 !\n    ! MC Acq Fin Detail Retail Out                        5.40                 262.01                  0.00                  0.00                  0.00                 -3.96        10                258.05 !\n\n    ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n                      Totals :                           10.40                 265.58                 49.75                  0.00                  0.00                 -3.96        41                261.37\n</code></pre>\n<p>So my question is which approach should I take here. I just need a recommendation, not the code</p>\n"},{"tags":["java","unit-testing","servlets","mocking"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1640171405,"post_id":70448070,"comment_id":124530925,"body_markdown":"A mocked object is one created with `Mockito.mock(ServletContext.class)`, not your own mock implementation of `ServletContext`.","body":"A mocked object is one created with <code>Mockito.mock(ServletContext.class)</code>, not your own mock implementation of <code>ServletContext</code>."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1640171582,"post_id":70448070,"comment_id":124530993,"body_markdown":"Yes (Hi!), MockServletContext is *not* (mockito)Mock!!","body":"Yes (Hi!), MockServletContext is <i>not</i> (mockito)Mock!!"},{"owner":{"account_id":18325724,"reputation":1,"user_id":13345406,"display_name":"Sephir"},"score":0,"creation_date":1640174912,"post_id":70448070,"comment_id":124532159,"body_markdown":"Thanks for the extreme fast reply. Yes, obvious after the solution :) Its working now! Thanks very much @tgdavis and xerx593.","body":"Thanks for the extreme fast reply. Yes, obvious after the solution :) Its working now! Thanks very much @tgdavis and xerx593."}],"owner":{"account_id":18325724,"reputation":1,"user_id":13345406,"display_name":"Sephir"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":487,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640175227,"creation_date":1640171178,"question_id":70448070,"body_markdown":"i am currently writing Junit-Tests for on OData-Application (a hobby project). In there, I initialize a Servlet with the init() function. In order to receive specific application settings, i use the context.getResource() method.\r\n\r\nHere is my code:\r\n\r\n\t@Override\r\n\tpublic void init(ServletConfig config) {\r\n\t\ttry {\r\n\t\t\tsuper.init(config);\r\n\t\t\tServletContext context = getServletContext();\r\n\t\t\tURL resourceUrl = context.getResource(&quot;/WEB-INF/config.properties&quot;);\r\n\t\t\tif (resourceUrl == null) {\r\n\t\t\t\tthrow new ConfigurationException(&quot;Unable to find config.properties&quot;);\r\n\t\t\t}\r\n\t\t\tPath configFile = Paths.get(resourceUrl.toURI());\r\n\r\n\r\nNow, I try to mock it. The Servlet itself is easy to mock, but im getting error when i try to mock the &quot;getResource&quot;-functionality. Here is my Junit-(beforeClass) Block:\r\n\r\n\tpublic static ODataServlet getServlet() throws MalformedURLException {\r\n\t\tif (servlet == null) {\r\n        \tservletConfig = new MockServletConfig(); \r\n        \tMockServletContext context = new MockServletContext();\r\n\t\t\tPath path = Paths.get(&quot;src/test/resources/config.properties&quot;);\r\n\t\t\twhen(context.getResource(&quot;/WEB-INF/config.properties&quot;)).thenReturn(path.toUri().toURL());\r\n\r\n\t\t\tservlet = new ODataServlet(){\r\n\t\t\t\t /**\r\n\t\t\t\t * \r\n\t\t\t\t */\r\n\t\t\t\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t\t\t\tpublic ServletContext getServletContext() {\r\n\t\t\t\t      return context; // return the mock\r\n\t\t\t\t    }\r\n\t\t\t};\r\n\t\t\tservlet.init(servletConfig);\r\n\t\t}\r\n\t\treturn servlet;\r\n\t}\r\n\r\nUnfortunately, i always get the Exception: \r\n\r\n*org.mockito.exceptions.misusing.MissingMethodInvocationException: \r\nwhen() requires an argument which has to be &#39;a method call on a mock&#39;.*\r\n\r\nIn the line \r\n\r\n``` when(context.getResource(&quot;/WEB-INF/config.properties&quot;)).thenReturn(path.toUri().toURL());``` \r\n\r\nI dont understand why. the context-Object **is** a MockedObject (MockServletContext).\r\n\r\nAny advice ? Im also thinking changing everytghing to classloader.getResource as a workaround. But actually i like it like this ...\r\n\r\nAny help would be much appreciated.\r\n\r\nSephir\r\n\r\n**UPDATE:**  **SOLVED**. After literally only a few minutes in here, some guys pointed out the Issue: MockServletContext context is from the Package org.springframework.mock.web which is not working with the Mockito.\r\n\r\nAfter changing the MockServletContext        \t\r\n\r\n       MockServletContext context = new MockServletContext();\r\nto \r\n\r\n    context = Mockito.mock(ServletContext.class);\r\n\r\neverything is working. \r\n\r\nBig thanks to you Guys (!).","title":"How to mock ServletContext getResource?","body":"<p>i am currently writing Junit-Tests for on OData-Application (a hobby project). In there, I initialize a Servlet with the init() function. In order to receive specific application settings, i use the context.getResource() method.</p>\n<p>Here is my code:</p>\n<pre><code>@Override\npublic void init(ServletConfig config) {\n    try {\n        super.init(config);\n        ServletContext context = getServletContext();\n        URL resourceUrl = context.getResource(&quot;/WEB-INF/config.properties&quot;);\n        if (resourceUrl == null) {\n            throw new ConfigurationException(&quot;Unable to find config.properties&quot;);\n        }\n        Path configFile = Paths.get(resourceUrl.toURI());\n</code></pre>\n<p>Now, I try to mock it. The Servlet itself is easy to mock, but im getting error when i try to mock the &quot;getResource&quot;-functionality. Here is my Junit-(beforeClass) Block:</p>\n<pre><code>public static ODataServlet getServlet() throws MalformedURLException {\n    if (servlet == null) {\n        servletConfig = new MockServletConfig(); \n        MockServletContext context = new MockServletContext();\n        Path path = Paths.get(&quot;src/test/resources/config.properties&quot;);\n        when(context.getResource(&quot;/WEB-INF/config.properties&quot;)).thenReturn(path.toUri().toURL());\n\n        servlet = new ODataServlet(){\n             /**\n             * \n             */\n            private static final long serialVersionUID = 1L;\n\n            public ServletContext getServletContext() {\n                  return context; // return the mock\n                }\n        };\n        servlet.init(servletConfig);\n    }\n    return servlet;\n}\n</code></pre>\n<p>Unfortunately, i always get the Exception:</p>\n<p><em>org.mockito.exceptions.misusing.MissingMethodInvocationException:\nwhen() requires an argument which has to be 'a method call on a mock'.</em></p>\n<p>In the line</p>\n<p><code> when(context.getResource(&quot;/WEB-INF/config.properties&quot;)).thenReturn(path.toUri().toURL());</code></p>\n<p>I dont understand why. the context-Object <strong>is</strong> a MockedObject (MockServletContext).</p>\n<p>Any advice ? Im also thinking changing everytghing to classloader.getResource as a workaround. But actually i like it like this ...</p>\n<p>Any help would be much appreciated.</p>\n<p>Sephir</p>\n<p><strong>UPDATE:</strong>  <strong>SOLVED</strong>. After literally only a few minutes in here, some guys pointed out the Issue: MockServletContext context is from the Package org.springframework.mock.web which is not working with the Mockito.</p>\n<p>After changing the MockServletContext</p>\n<pre><code>   MockServletContext context = new MockServletContext();\n</code></pre>\n<p>to</p>\n<pre><code>context = Mockito.mock(ServletContext.class);\n</code></pre>\n<p>everything is working.</p>\n<p>Big thanks to you Guys (!).</p>\n"},{"tags":["java","database","apache-commons-dbutils"],"comments":[{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":0,"creation_date":1640174171,"post_id":70448610,"comment_id":124531886,"body_markdown":"Can you share your full code sample?","body":"Can you share your full code sample?"},{"owner":{"account_id":12562045,"reputation":326,"user_id":9139429,"display_name":"Alexander Slesarev"},"score":0,"creation_date":1640175071,"post_id":70448610,"comment_id":124532212,"body_markdown":"I have made an update of the code sample, is it full enough?","body":"I have made an update of the code sample, is it full enough?"}],"owner":{"account_id":12562045,"reputation":326,"user_id":9139429,"display_name":"Alexander Slesarev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640175005,"creation_date":1640173831,"question_id":70448610,"body_markdown":"I need to select single row and store it attributes into `List&lt;String&gt;`, but I do not know what handler could fit.\r\n\r\nMore formal:\r\n```\r\nQueryRunner runner = new QueryRunner();;\r\nList&lt;String&gt; row = runner.query(&quot;SELECT * FROM table_name WHERE id = ?&quot;, new Handler(), id);\r\n```","title":"Apache DbUtils handler for single row query result","body":"<p>I need to select single row and store it attributes into <code>List&lt;String&gt;</code>, but I do not know what handler could fit.</p>\n<p>More formal:</p>\n<pre><code>QueryRunner runner = new QueryRunner();;\nList&lt;String&gt; row = runner.query(&quot;SELECT * FROM table_name WHERE id = ?&quot;, new Handler(), id);\n</code></pre>\n"},{"tags":["java","data-structures","bytecode","javassist"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1640173788,"post_id":70448555,"comment_id":124531732,"body_markdown":"Can you give an example of what you mean by &quot;initial capacity&quot;? I suspect that the information that you are looking for is hidden in executable code and not easily extracted from a class file. Also, this *might* be a [XY problem](https://xyproblem.info), so if you could tell us *why* you want that specific piece of information, we might be able to suggest alternative solutions.","body":"Can you give an example of what you mean by &quot;initial capacity&quot;? I suspect that the information that you are looking for is hidden in executable code and not easily extracted from a class file. Also, this <i>might</i> be a <a href=\"https://xyproblem.info\" rel=\"nofollow noreferrer\">XY problem</a>, so if you could tell us <i>why</i> you want that specific piece of information, we might be able to suggest alternative solutions."},{"owner":{"account_id":18660132,"reputation":299,"user_id":13601548,"display_name":"Janitha Nawarathna"},"score":0,"creation_date":1640173936,"post_id":70448555,"comment_id":124531787,"body_markdown":"If I declare it like this `Map map = new HashMap(18);`, the initial capacity would be 18. Like that!","body":"If I declare it like this <code>Map map = new HashMap(18);</code>, the initial capacity would be 18. Like that!"},{"owner":{"account_id":18660132,"reputation":299,"user_id":13601548,"display_name":"Janitha Nawarathna"},"score":0,"creation_date":1640174292,"post_id":70448555,"comment_id":124531933,"body_markdown":"Thank you for commenting @JoachimSauer. My intention is to analyze Java programs that use Java data structures like `HashMap` and gather information about how those data structures have been initialized like initial capacity and growing policy etc. Is that possible to collect those data by analyzing the Class File or are there any alternative ways?","body":"Thank you for commenting @JoachimSauer. My intention is to analyze Java programs that use Java data structures like <code>HashMap</code> and gather information about how those data structures have been initialized like initial capacity and growing policy etc. Is that possible to collect those data by analyzing the Class File or are there any alternative ways?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1640176799,"post_id":70448555,"comment_id":124532834,"body_markdown":"Your best bet is probably to manually look in the specification (or even code) of the relevant classes and store the resulting numbers in your code. In other words: pick a set of classes that you want to support and manually inspect them to find the relevant values (for a given JDK/library version, that is). I think that any fully-automated way to find that values will be a.) quite complex and b.) quite error-prone.","body":"Your best bet is probably to manually look in the specification (or even code) of the relevant classes and store the resulting numbers in your code. In other words: pick a set of classes that you want to support and manually inspect them to find the relevant values (for a given JDK/library version, that is). I think that any fully-automated way to find that values will be a.) quite complex and b.) quite error-prone."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1640181511,"post_id":70448555,"comment_id":124534744,"body_markdown":"When `Map map = new HashMap(18);` is a field declaration, the `map = new HashMap(18);` assignment will be copied to every constructor that doesn’t delegate to another constructor. In other words, its bytecode is indistinguishable from having an individual `map = new HashMap(18);` in every constructor. But what if one constructor has `map = new HashMap(18);` and the other `map = new HashMap(24);`? The bytecode differs by only one byte from the variant with the `Map map = new HashMap(18);` field declaration, but you have to perform a deep analysis to find out.","body":"When <code>Map map = new HashMap(18);</code> is a field declaration, the <code>map = new HashMap(18);</code> assignment will be copied to every constructor that doesn’t delegate to another constructor. In other words, its bytecode is indistinguishable from having an individual <code>map = new HashMap(18);</code> in every constructor. But what if one constructor has <code>map = new HashMap(18);</code> and the other <code>map = new HashMap(24);</code>? The bytecode differs by only one byte from the variant with the <code>Map map = new HashMap(18);</code> field declaration, but you have to perform a deep analysis to find out."},{"owner":{"account_id":18660132,"reputation":299,"user_id":13601548,"display_name":"Janitha Nawarathna"},"score":0,"creation_date":1640193514,"post_id":70448555,"comment_id":124539506,"body_markdown":"Thanks for replying! What if I get the memory taken by each instance? For example, if I use something like `RamUsageEstimator` from `com.carrotsearch.sizeof.RamUsageEstimator` and get the memory size taken by the particular data structure! Can I consider something like the capacity is proportional to the memory usage? So then I can get the growing rate of the particular data structure as well right?","body":"Thanks for replying! What if I get the memory taken by each instance? For example, if I use something like <code>RamUsageEstimator</code> from <code>com.carrotsearch.sizeof.RamUsageEstimator</code> and get the memory size taken by the particular data structure! Can I consider something like the capacity is proportional to the memory usage? So then I can get the growing rate of the particular data structure as well right?"},{"owner":{"account_id":18660132,"reputation":299,"user_id":13601548,"display_name":"Janitha Nawarathna"},"score":0,"creation_date":1640194269,"post_id":70448555,"comment_id":124539785,"body_markdown":"For example; I ran this code with an `ArrayList` of an initial size of 4. I added 5 elements to the list using a loop. According to the growing policy of the Java `ArrayList`, it should grow itself by 50%, which means after the 4rth element when I enter the 5th element new size would be 6. I got the following results,\n`Bytes -&gt; 72, 88, 104, 120, 144`. \nWe can clearly see here that between the first 4 elements, the byte gap is 16, and eventually, at the 5th element, it has become 24. So, it clearly shows the growth and the rate right?","body":"For example; I ran this code with an <code>ArrayList</code> of an initial size of 4. I added 5 elements to the list using a loop. According to the growing policy of the Java <code>ArrayList</code>, it should grow itself by 50%, which means after the 4rth element when I enter the 5th element new size would be 6. I got the following results, <code>Bytes -&gt; 72, 88, 104, 120, 144</code>.  We can clearly see here that between the first 4 elements, the byte gap is 16, and eventually, at the 5th element, it has become 24. So, it clearly shows the growth and the rate right?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1640263261,"post_id":70448555,"comment_id":124556007,"body_markdown":"Sounds like you actually want to instrument the collection classes, to find out when they are created with what initial capacity and track how they grow.","body":"Sounds like you actually want to instrument the collection classes, to find out when they are created with what initial capacity and track how they grow."}],"owner":{"account_id":18660132,"reputation":299,"user_id":13601548,"display_name":"Janitha Nawarathna"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640174710,"creation_date":1640173618,"question_id":70448555,"body_markdown":"I wanna analyze the bytecode of a java program and gather some data including what fields are in there. So far, I was able to gather all the data about fields except the initial capacities of the declared data structured.\r\n\r\nIs there any way to know the initial capacity of a declared data structure field by reading the bytecode? Or else, is there any other way to achieve the same task?\r\n\r\nFor example:\r\nIf I declare it like this `Map map = new HashMap(18);`, the initial capacity would be `18`. Like that!\r\n\r\nI have used Javassist library so far and can I use it for this as well?\r\n\r\n**The reason is I wanna analyze Java programs that use Java data structures inside and gather data about how those data structures have been initialized(initial capacity) and furthermore, how those data structures have grown after executing the program(according to the growing policy of Java data structures). Then my intention is to analyze the performance of those particular programs.**\r\n\r\nAny answer would be great! Thank you!","title":"How to get the initial capacity of a Java data structure from the Class File","body":"<p>I wanna analyze the bytecode of a java program and gather some data including what fields are in there. So far, I was able to gather all the data about fields except the initial capacities of the declared data structured.</p>\n<p>Is there any way to know the initial capacity of a declared data structure field by reading the bytecode? Or else, is there any other way to achieve the same task?</p>\n<p>For example:\nIf I declare it like this <code>Map map = new HashMap(18);</code>, the initial capacity would be <code>18</code>. Like that!</p>\n<p>I have used Javassist library so far and can I use it for this as well?</p>\n<p><strong>The reason is I wanna analyze Java programs that use Java data structures inside and gather data about how those data structures have been initialized(initial capacity) and furthermore, how those data structures have grown after executing the program(according to the growing policy of Java data structures). Then my intention is to analyze the performance of those particular programs.</strong></p>\n<p>Any answer would be great! Thank you!</p>\n"},{"tags":["java","android","android-api-levels"],"answers":[{"tags":[],"owner":{"account_id":22616962,"reputation":3155,"user_id":16796366,"display_name":"Nitish"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1640174509,"creation_date":1640174509,"answer_id":70448747,"question_id":70448390,"body_markdown":"You can enable [desugarring](https://developer.android.com/studio/write/java8-support#library-desugaring) - it will enable lower api version to also use the lastest java8 features.\r\n\r\nIn your app module&#39;s `build.gradle`, add `coreLibraryDesugaringEnabled`\r\n\r\n     compileOptions {\r\n            // Flag to enable support for the new language APIs\r\n            coreLibraryDesugaringEnabled true\r\n            // Sets Java compatibility to Java 8\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n\r\n    dependencies {\r\n        coreLibraryDesugaring &#39;com.android.tools:desugar_jdk_libs:1.1.5&#39;\r\n    }","title":"call requires api level 24 java.util.comparator","body":"<p>You can enable <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"noreferrer\">desugarring</a> - it will enable lower api version to also use the lastest java8 features.</p>\n<p>In your app module's <code>build.gradle</code>, add <code>coreLibraryDesugaringEnabled</code></p>\n<pre><code> compileOptions {\n        // Flag to enable support for the new language APIs\n        coreLibraryDesugaringEnabled true\n        // Sets Java compatibility to Java 8\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\ndependencies {\n    coreLibraryDesugaring 'com.android.tools:desugar_jdk_libs:1.1.5'\n}\n</code></pre>\n"}],"owner":{"account_id":20150877,"reputation":73,"user_id":14778218,"display_name":"Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1650,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70448747,"answer_count":1,"score":2,"last_activity_date":1640174509,"creation_date":1640172795,"question_id":70448390,"body_markdown":"I am getting api level error when using Comparator, but when I add @RequiresApi(N) annotation, error is solved.\r\n [![error lint][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gCxlL.png\r\n\r\nThe problem is after adding @RequiresApi(N) annotation, this app cannot be run in api level below 24, I get this error on API 23 phone - \r\n\r\n     Process: com.example.chatapp, PID: 13778\r\n    java.lang.NoClassDefFoundError: adapters.chatPageAdapter$$ExternalSyntheticLambda0\r\n        at adapters.chatPageAdapter.onBindViewHolder(chatPageAdapter.java:59)\r\n        at adapters.chatPageAdapter.onBindViewHolder(chatPageAdapter.java:25)\r\n        at androidx.recyclerview.widget.RecyclerView$Adapter.onBindViewHolder(RecyclerView.java:7065)\r\n        at androidx.recyclerview.widget.RecyclerView$Adapter.bindViewHolder(RecyclerView.java:7107)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryBindViewHolderByDeadline(RecyclerView.java:6012)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6279)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6118)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6114)\r\n        at androidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2303)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1627)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1587)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:665)\r\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:4134)\r\n        at androidx.recyclerview.widget.RecyclerView.onMeasure(RecyclerView.java:3540)\r\n\r\nSo, is there any way that I can use this method and even run app on api below 23? \r\n\r\nBuild.Gradle - \r\n\r\n    \r\n    android {\r\n        compileSdk 30\r\n\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.chatapp&quot;\r\n        minSdk 23\r\n        targetSdk 30\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    }","title":"call requires api level 24 java.util.comparator","body":"<p>I am getting api level error when using Comparator, but when I add @RequiresApi(N) annotation, error is solved.\n<a href=\"https://i.stack.imgur.com/gCxlL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gCxlL.png\" alt=\"error lint\" /></a></p>\n<p>The problem is after adding @RequiresApi(N) annotation, this app cannot be run in api level below 24, I get this error on API 23 phone -</p>\n<pre><code> Process: com.example.chatapp, PID: 13778\njava.lang.NoClassDefFoundError: adapters.chatPageAdapter$$ExternalSyntheticLambda0\n    at adapters.chatPageAdapter.onBindViewHolder(chatPageAdapter.java:59)\n    at adapters.chatPageAdapter.onBindViewHolder(chatPageAdapter.java:25)\n    at androidx.recyclerview.widget.RecyclerView$Adapter.onBindViewHolder(RecyclerView.java:7065)\n    at androidx.recyclerview.widget.RecyclerView$Adapter.bindViewHolder(RecyclerView.java:7107)\n    at androidx.recyclerview.widget.RecyclerView$Recycler.tryBindViewHolderByDeadline(RecyclerView.java:6012)\n    at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6279)\n    at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6118)\n    at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6114)\n    at androidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2303)\n    at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1627)\n    at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1587)\n    at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:665)\n    at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:4134)\n    at androidx.recyclerview.widget.RecyclerView.onMeasure(RecyclerView.java:3540)\n</code></pre>\n<p>So, is there any way that I can use this method and even run app on api below 23?</p>\n<p>Build.Gradle -</p>\n<pre><code>android {\n    compileSdk 30\n\nbuildFeatures {\n    viewBinding true\n}\n\ndefaultConfig {\n    applicationId &quot;com.example.chatapp&quot;\n    minSdk 23\n    targetSdk 30\n    versionCode 1\n    versionName &quot;1.0&quot;\n\n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n}\n\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n    }\n}\ncompileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n}\n</code></pre>\n"},{"tags":["java","hibernate","validation"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1640174962,"post_id":70448713,"comment_id":124532173,"body_markdown":"An _optional_ field? Does not make sense to me. Why not simply having a `private String petsName` that can be `null`?","body":"An <i>optional</i> field? Does not make sense to me. Why not simply having a <code>private String petsName</code> that can be <code>null</code>?"},{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1640176490,"post_id":70448713,"comment_id":124532719,"body_markdown":"You shouldn&#39;t use Optionals as class attributes. https://stackoverflow.com/questions/29033518/is-it-a-good-practice-to-use-optional-as-an-attribute-in-a-class","body":"You shouldn&#39;t use Optionals as class attributes. <a href=\"https://stackoverflow.com/questions/29033518/is-it-a-good-practice-to-use-optional-as-an-attribute-in-a-class\" title=\"is it a good practice to use optional as an attribute in a class\">stackoverflow.com/questions/29033518/&hellip;</a>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1640180872,"post_id":70448713,"comment_id":124534518,"body_markdown":"@Nikolai but [also](https://stackoverflow.com/a/26328555/16320675) &quot;There&#39;s nothing wrong with Optional that it should be avoided&quot; (the source of the text quoted in accepted answer of the question you provided the link to, that is, Brian Goetz) - Actually that link does not say that it shouldn&#39;t be used as property, it just states that it was not intended to be used as such (I would not use it, since just adding an additional *state* - variable itself being `null`)","body":"@Nikolai but <a href=\"https://stackoverflow.com/a/26328555/16320675\">also</a> &quot;There&#39;s nothing wrong with Optional that it should be avoided&quot; (the source of the text quoted in accepted answer of the question you provided the link to, that is, Brian Goetz) - Actually that link does not say that it shouldn&#39;t be used as property, it just states that it was not intended to be used as such (I would not use it, since just adding an additional <i>state</i> - variable itself being <code>null</code>)"},{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1640193092,"post_id":70448713,"comment_id":124539362,"body_markdown":"@user16320675 I agree with you. My intent (maybe it&#39;s not clear) is that when you use non-standard approach, then you have to deal with some unpredicted behaviour. E.g. when you use non-JavaBean-conventional naming for attributes (e.g.`user_id` instead of `userId`) in your java classes, Jackson might work not as intended :)","body":"@user16320675 I agree with you. My intent (maybe it&#39;s not clear) is that when you use non-standard approach, then you have to deal with some unpredicted behaviour. E.g. when you use non-JavaBean-conventional naming for attributes (e.g.<code>user_id</code> instead of <code>userId</code>) in your java classes, Jackson might work not as intended :)"}],"owner":{"account_id":5914240,"reputation":1974,"user_id":4653517,"display_name":"James Mudd"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":588,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640174337,"creation_date":1640174337,"question_id":70448713,"body_markdown":"Consider this code\r\n```java\r\nimport org.hibernate.validator.constraints.Range;\r\nimport javax.validation.ConstraintViolation;\r\nimport javax.validation.Validation;\r\nimport javax.validation.Validator;\r\nimport javax.validation.constraints.NotBlank;\r\nimport javax.validation.constraints.NotNull;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\nimport java.util.Set;\r\n\r\nclass Scratch {\r\n    public static void main(String[] args) {\r\n        final Person alice = new Person(&quot;Alice&quot;, 54, Optional.of(&quot;Tiddles&quot;));// Valid has pet with valid name\r\n        final Person frank = new Person(&quot;Frank&quot;, 75, Optional.of(&quot;  &quot;)); // Should be invalid pet name is blank\r\n        final Person oliver = new Person(&quot;Oliver&quot;, 75, null); // Should be invalid pet name is null\r\n        final Person bob = new Person(&quot;Bob&quot;, 33, Optional.empty()); // Valid no pet\r\n\r\n        final List&lt;Person&gt; people = List.of(alice, frank, oliver, bob);\r\n\r\n        final Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\r\n\r\n        for (Person person : people) {\r\n            final Set&lt;ConstraintViolation&lt;Person&gt;&gt; violations = validator.validate(person);\r\n            if (violations.isEmpty()) {\r\n                System.out.println(String.format( &quot;[%s] is valid&quot;, person.name));\r\n            } else {\r\n                System.out.println(String.format(&quot;[%s] is invalid [%s]&quot;, person.name, violations));\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    static class Person {\r\n        @NotBlank\r\n        public String name;\r\n        @Range(min = 0, max = 150)\r\n        public int age;\r\n        @NotNull\r\n        public Optional&lt;@NotBlank String&gt; petsName;\r\n\r\n        public Person(String name, int age, Optional&lt;String&gt; petsName) {\r\n            this.name = name;\r\n            this.age = age;\r\n            this.petsName = petsName;\r\n        }\r\n    }\r\n}\r\n```\r\nThe question is how to validate `Optional` fields. Its valid for petsName to be an empty Optional (i.e. no pet) but if there is a pet it should have a valid (i.e. non-blank) name.\r\nWhen I run this code it outputs\r\n```\r\nDec 22, 2021 11:50:25 AM org.hibernate.validator.internal.util.Version &lt;clinit&gt;\r\nINFO: HV000001: Hibernate Validator 6.1.7.Final\r\n[Alice] is valid\r\n[Frank] is invalid [[ConstraintViolationImpl{interpolatedMessage=&#39;must not be blank&#39;, propertyPath=petsName, rootBeanClass=class Scratch$Person, messageTemplate=&#39;{javax.validation.constraints.NotBlank.message}&#39;}]]\r\n[Oliver] is invalid [[ConstraintViolationImpl{interpolatedMessage=&#39;must not be null&#39;, propertyPath=petsName, rootBeanClass=class Scratch$Person, messageTemplate=&#39;{javax.validation.constraints.NotNull.message}&#39;}]]\r\n[Bob] is invalid [[ConstraintViolationImpl{interpolatedMessage=&#39;must not be blank&#39;, propertyPath=petsName, rootBeanClass=class Scratch$Person, messageTemplate=&#39;{javax.validation.constraints.NotBlank.message}&#39;}]\r\n```\r\nSo its close to working. Only the last case of bob is wrong. Is there any obvious solution i&#39;m missing?","title":"Validation of Optional&lt;String&gt;","body":"<p>Consider this code</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.hibernate.validator.constraints.Range;\nimport javax.validation.ConstraintViolation;\nimport javax.validation.Validation;\nimport javax.validation.Validator;\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.NotNull;\nimport java.util.List;\nimport java.util.Optional;\nimport java.util.Set;\n\nclass Scratch {\n    public static void main(String[] args) {\n        final Person alice = new Person(&quot;Alice&quot;, 54, Optional.of(&quot;Tiddles&quot;));// Valid has pet with valid name\n        final Person frank = new Person(&quot;Frank&quot;, 75, Optional.of(&quot;  &quot;)); // Should be invalid pet name is blank\n        final Person oliver = new Person(&quot;Oliver&quot;, 75, null); // Should be invalid pet name is null\n        final Person bob = new Person(&quot;Bob&quot;, 33, Optional.empty()); // Valid no pet\n\n        final List&lt;Person&gt; people = List.of(alice, frank, oliver, bob);\n\n        final Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\n\n        for (Person person : people) {\n            final Set&lt;ConstraintViolation&lt;Person&gt;&gt; violations = validator.validate(person);\n            if (violations.isEmpty()) {\n                System.out.println(String.format( &quot;[%s] is valid&quot;, person.name));\n            } else {\n                System.out.println(String.format(&quot;[%s] is invalid [%s]&quot;, person.name, violations));\n            }\n\n        }\n    }\n\n    static class Person {\n        @NotBlank\n        public String name;\n        @Range(min = 0, max = 150)\n        public int age;\n        @NotNull\n        public Optional&lt;@NotBlank String&gt; petsName;\n\n        public Person(String name, int age, Optional&lt;String&gt; petsName) {\n            this.name = name;\n            this.age = age;\n            this.petsName = petsName;\n        }\n    }\n}\n</code></pre>\n<p>The question is how to validate <code>Optional</code> fields. Its valid for petsName to be an empty Optional (i.e. no pet) but if there is a pet it should have a valid (i.e. non-blank) name.\nWhen I run this code it outputs</p>\n<pre><code>Dec 22, 2021 11:50:25 AM org.hibernate.validator.internal.util.Version &lt;clinit&gt;\nINFO: HV000001: Hibernate Validator 6.1.7.Final\n[Alice] is valid\n[Frank] is invalid [[ConstraintViolationImpl{interpolatedMessage='must not be blank', propertyPath=petsName, rootBeanClass=class Scratch$Person, messageTemplate='{javax.validation.constraints.NotBlank.message}'}]]\n[Oliver] is invalid [[ConstraintViolationImpl{interpolatedMessage='must not be null', propertyPath=petsName, rootBeanClass=class Scratch$Person, messageTemplate='{javax.validation.constraints.NotNull.message}'}]]\n[Bob] is invalid [[ConstraintViolationImpl{interpolatedMessage='must not be blank', propertyPath=petsName, rootBeanClass=class Scratch$Person, messageTemplate='{javax.validation.constraints.NotBlank.message}'}]\n</code></pre>\n<p>So its close to working. Only the last case of bob is wrong. Is there any obvious solution i'm missing?</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1640100467,"post_id":70437791,"comment_id":124512481,"body_markdown":"Do you have any idea regarding how to approach this task?","body":"Do you have any idea regarding how to approach this task?"},{"owner":{"display_name":"user12835700"},"score":0,"creation_date":1640100600,"post_id":70437791,"comment_id":124512542,"body_markdown":"I tried  something like while (num &gt; 0) {\n                remain_x = num % x;\n                if (remain_x == 0) {\n                    count_x++;\n                } else {\n                    while (num &gt; 0) {\n                        remain_y = num % y;\n                        if (remain_y == 0) {\n                            count_y++;\n                        }\n                        num = num / y;\n                    }\n                }\n                num = num / x;\n            }","body":"I tried  something like while (num &gt; 0) {                 remain_x = num % x;                 if (remain_x == 0) {                     count_x++;                 } else {                     while (num &gt; 0) {                         remain_y = num % y;                         if (remain_y == 0) {                             count_y++;                         }                         num = num / y;                     }                 }                 num = num / x;             }"},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1640100668,"post_id":70437791,"comment_id":124512569,"body_markdown":"Please put that code in your question. It&#39;s hard to read as a comment.","body":"Please put that code in your question. It&#39;s hard to read as a comment."},{"owner":{"display_name":"user12835700"},"score":0,"creation_date":1640100791,"post_id":70437791,"comment_id":124512615,"body_markdown":"my problem is I couldn&#39;t understand the math part of it so I can&#39;t solve. Maybe I should have ask somewhere else I dont know that either. My exam already finished but I wanted to learn how to write that algorithm.","body":"my problem is I couldn&#39;t understand the math part of it so I can&#39;t solve. Maybe I should have ask somewhere else I dont know that either. My exam already finished but I wanted to learn how to write that algorithm."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1640104011,"post_id":70437791,"comment_id":124513928,"body_markdown":"ok, you&#39;re overcomplicating things unnecessarily. How about a different approach - generate two `Set&lt;Integer&gt;` containing values of powers  X^0 to X^k and Y^0 to Y^k respecitvely. (you obrain K as the first power of that number above the boundary). After you have those two sets, you just sum each of those elements and put them a new, third set, as long as they&#39;re `&lt;= boundary`. And call the problem done? So for `x=2, y=3, boundary=5` your `k_x` is 2 and `k_y` is 1. if the boundary is 10, `k_x=3` and `k_y=2`. Sum all possible values of `2^0...k_x`  and `3^0...k_y`. Discard the bigger ones.","body":"ok, you&#39;re overcomplicating things unnecessarily. How about a different approach - generate two <code>Set&lt;Integer&gt;</code> containing values of powers  X^0 to X^k and Y^0 to Y^k respecitvely. (you obrain K as the first power of that number above the boundary). After you have those two sets, you just sum each of those elements and put them a new, third set, as long as they&#39;re <code>&lt;= boundary</code>. And call the problem done? So for <code>x=2, y=3, boundary=5</code> your <code>k_x</code> is 2 and <code>k_y</code> is 1. if the boundary is 10, <code>k_x=3</code> and <code>k_y=2</code>. Sum all possible values of <code>2^0...k_x</code>  and <code>3^0...k_y</code>. Discard the bigger ones."},{"owner":{"display_name":"user12835700"},"score":0,"creation_date":1640107049,"post_id":70437791,"comment_id":124515167,"body_markdown":"@Shark thank you so much. I wrote something it&#39;s working correctly :D writing 3 nested for is not good I guess but al least it&#39;s working.","body":"@Shark thank you so much. I wrote something it&#39;s working correctly :D writing 3 nested for is not good I guess but al least it&#39;s working."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1640165860,"post_id":70437791,"comment_id":124528961,"body_markdown":"no problem, i figured i&#39;d chime in my idea since all I see here is a bunch of nested `while(true)` loops when the thing i mentioned up there just uses three sequential, bounded for loops.","body":"no problem, i figured i&#39;d chime in my idea since all I see here is a bunch of nested <code>while(true)</code> loops when the thing i mentioned up there just uses three sequential, bounded for loops."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1640172548,"post_id":70437791,"comment_id":124531317,"body_markdown":"Please dont put &quot;the solution&quot; into question. Make sure that your question solely covers your &quot;request&quot;, and dont start changing your code in there (besides making it more clear and such).","body":"Please dont put &quot;the solution&quot; into question. Make sure that your question solely covers your &quot;request&quot;, and dont start changing your code in there (besides making it more clear and such)."}],"answers":[{"tags":[],"owner":{"account_id":7028063,"reputation":924,"user_id":7099900,"display_name":"ytan11"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640174026,"creation_date":1640103394,"answer_id":70438444,"question_id":70437791,"body_markdown":"I am not sure if this is the most efficient method. Basically, I increment `j` until `x^i + y^j &gt; boundary` then increment `i`. \r\n\r\n```\r\n    public static ArrayList&lt;Integer&gt; findNumbers(int x, int y, int boundary) {\r\n        Set&lt;Integer&gt; result = new HashSet&lt;&gt;(); // make sure result is unique\r\n        int powerX = 0, powerY = 0, total = 0, tempX = 0;\r\n        while (true) {\r\n            // calculate x^i\r\n            tempX = (int) Math.pow(x, powerX);\r\n            while (true) {\r\n                // calculate x^i + y^j and compare against boundary\r\n                if ((total = tempX + (int) Math.pow(y, powerY)) &lt;= boundary) {\r\n                    // add result to set and increment y\r\n                    result.add(total);\r\n                    powerY++;\r\n                    // break if y &lt;= 1\r\n                    if (y &lt;= 1)\r\n                        break;\r\n                } else\r\n                    break;\r\n            }\r\n            // break if x &lt;= 1 || x^i &gt; boundary\r\n            if (tempX &gt; boundary || x &lt;= 1)\r\n                break;\r\n            // reset j and increment i\r\n            powerY = 0;\r\n            powerX++;\r\n        }\r\n        // return sorted result\r\n        ArrayList&lt;Integer&gt; arr = new ArrayList&lt;&gt;();\r\n        arr.addAll(result);\r\n        arr.sort(null);\r\n        return arr;\r\n    }\r\n```\r\nYou might be able refactor the code for better efficiency.","title":"How to write a number as sum of some other numbers&#39; power","body":"<p>I am not sure if this is the most efficient method. Basically, I increment <code>j</code> until <code>x^i + y^j &gt; boundary</code> then increment <code>i</code>.</p>\n<pre><code>    public static ArrayList&lt;Integer&gt; findNumbers(int x, int y, int boundary) {\n        Set&lt;Integer&gt; result = new HashSet&lt;&gt;(); // make sure result is unique\n        int powerX = 0, powerY = 0, total = 0, tempX = 0;\n        while (true) {\n            // calculate x^i\n            tempX = (int) Math.pow(x, powerX);\n            while (true) {\n                // calculate x^i + y^j and compare against boundary\n                if ((total = tempX + (int) Math.pow(y, powerY)) &lt;= boundary) {\n                    // add result to set and increment y\n                    result.add(total);\n                    powerY++;\n                    // break if y &lt;= 1\n                    if (y &lt;= 1)\n                        break;\n                } else\n                    break;\n            }\n            // break if x &lt;= 1 || x^i &gt; boundary\n            if (tempX &gt; boundary || x &lt;= 1)\n                break;\n            // reset j and increment i\n            powerY = 0;\n            powerX++;\n        }\n        // return sorted result\n        ArrayList&lt;Integer&gt; arr = new ArrayList&lt;&gt;();\n        arr.addAll(result);\n        arr.sort(null);\n        return arr;\n    }\n</code></pre>\n<p>You might be able refactor the code for better efficiency.</p>\n"},{"tags":[],"owner":{"display_name":"user12835700"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640172067,"creation_date":1640172067,"answer_id":70448259,"question_id":70437791,"body_markdown":"```import java.util.ArrayList;\r\n\r\npublic class Main {\r\n\r\n    public static ArrayList&lt;Integer&gt; find_numbers(int x, int y, int boundary) {\r\n        ArrayList&lt;Integer&gt; res = new ArrayList&lt;Integer&gt;();\r\n        int x_k = 0;\r\n        int y_k= 0;\r\n       while(Math.pow(x,x_k)&lt; boundary){\r\n           x_k++;\r\n       }\r\n        while(Math.pow(y,y_k)&lt; boundary){\r\n            y_k++;\r\n        }\r\n        for(int k = 2 ; k&lt;= boundary;++k) {\r\n            for (int i = 0; i &lt; x_k; ++i) {\r\n                for (int j = 0; j &lt; y_k; ++j) {\r\n                    if(k == (int)Math.pow(x,i)+(int)Math.pow(y,j) &amp;&amp; !res.contains(k)){\r\n                        System.out.println(&quot;----------------------------------------&quot;);\r\n                        System.out.println(k +&quot; =&gt;&quot; +x + &quot;^&quot; +i +&quot;+&quot;+y+ &quot;^&quot; +j);\r\n                        res.add(k);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        ArrayList&lt;Integer&gt; res = new ArrayList&lt;Integer&gt;();\r\n        int x = 1 + (int) (Math.random() * 100);\r\n        int y = 1 + (int) (Math.random() * 100);\r\n        int boundary = 1 + (int) (Math.random() * 1000000);\r\n        res = find_numbers(x,  y,boundary);\r\n        System.out.println(&quot;x:&quot; + x);\r\n        System.out.println(&quot;y:&quot; + y);\r\n        System.out.println(&quot;boundary:&quot; + boundary);\r\n        System.out.println(&quot;Result:&quot; + res);\r\n    }\r\n}\r\n```","title":"How to write a number as sum of some other numbers&#39; power","body":"<pre><code>\npublic class Main {\n\n    public static ArrayList&lt;Integer&gt; find_numbers(int x, int y, int boundary) {\n        ArrayList&lt;Integer&gt; res = new ArrayList&lt;Integer&gt;();\n        int x_k = 0;\n        int y_k= 0;\n       while(Math.pow(x,x_k)&lt; boundary){\n           x_k++;\n       }\n        while(Math.pow(y,y_k)&lt; boundary){\n            y_k++;\n        }\n        for(int k = 2 ; k&lt;= boundary;++k) {\n            for (int i = 0; i &lt; x_k; ++i) {\n                for (int j = 0; j &lt; y_k; ++j) {\n                    if(k == (int)Math.pow(x,i)+(int)Math.pow(y,j) &amp;&amp; !res.contains(k)){\n                        System.out.println(&quot;----------------------------------------&quot;);\n                        System.out.println(k +&quot; =&gt;&quot; +x + &quot;^&quot; +i +&quot;+&quot;+y+ &quot;^&quot; +j);\n                        res.add(k);\n                    }\n                }\n            }\n        }\n        return res;\n    }\n\n    public static void main(String[] args) {\n        ArrayList&lt;Integer&gt; res = new ArrayList&lt;Integer&gt;();\n        int x = 1 + (int) (Math.random() * 100);\n        int y = 1 + (int) (Math.random() * 100);\n        int boundary = 1 + (int) (Math.random() * 1000000);\n        res = find_numbers(x,  y,boundary);\n        System.out.println(&quot;x:&quot; + x);\n        System.out.println(&quot;y:&quot; + y);\n        System.out.println(&quot;boundary:&quot; + boundary);\n        System.out.println(&quot;Result:&quot; + res);\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user12835700"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70448259,"answer_count":2,"score":-1,"last_activity_date":1640174026,"creation_date":1640100226,"question_id":70437791,"body_markdown":"Okay firstly I&#39;m sorry I know that I&#39;m not intelligent enough. I&#39;m bad at Math.\r\n\r\nI couldn&#39;t write an algorithm to this question.\r\n\r\nSystem gives us int x, int y, int boundary and wants us to find which numbers up to boundary satisfy the rule as\r\n\r\n       some_number = x^i + y^j\r\n\r\n       Boundary &lt;= 10^6\r\n       i and j &gt; = 0 \r\n       x and y &lt; 100\r\n\r\nfor example x = 2, y = 3 and boundary= 5,   \r\n         \r\n\r\n           2 = 2^0 + 3^0\r\n           3 = 2^1 + 3^0\r\n           4 = 2^0 + 3^1\r\n           5 = 2^1 + 3^1\r\n\r\noutput : 2,3,4,5\r\n\r\n```\r\nimport java.util.ArrayList;\r\n\r\npublic class Main {\r\n public static ArrayList&lt;Integer&gt; find_numbers(int x, int y, int boundary) {\r\n        ArrayList&lt;Integer&gt; res = new ArrayList&lt;Integer&gt;();\r\n        int num = 0;\r\n        int remain_x = 0, remain_y = 0;\r\n        int count_x = 0, count_y = 0;\r\n        if (boundary &gt;= 2) {\r\n            res.add(2);\r\n        }\r\n        for (int i = 3; i &lt;= boundary; ++i) {\r\n            if(i == x+y)\r\n                res.add(i);\r\n            count_x = 0;\r\n            count_y = 0;\r\n            num = i;\r\n            while (num &gt; 0) {\r\n                remain_x = num % x;\r\n                if (remain_x == 0) {\r\n                    count_x++;\r\n                } else {\r\n                    while (num &gt; 0) {\r\n                        remain_y = num % y;\r\n                        if (remain_y == 0) {\r\n                            count_y++;\r\n                        }\r\n                        num = num / y;\r\n                    }\r\n                }\r\n                num = num / x;\r\n            }\r\n            System.out.println(&quot;i =&gt;&quot; +i);\r\n            System.out.println(&quot;x=&gt;&quot; + count_x);\r\n            System.out.println(&quot;y =&gt;&quot; + count_y);\r\n        }\r\n\r\n        return res;\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        ArrayList&lt;Integer&gt; res = new ArrayList&lt;Integer&gt;();\r\n        int x = 1 + (int) (Math.random() * 100);\r\n        int y = 1 + (int) (Math.random() * 100);\r\n        int boundary = 1 + (int) (Math.random() * 1000000);\r\n        res = find_numbers(x, y, boundary );\r\n        System.out.println(res);\r\n    }\r\n}\r\n```\r\nEdit:\r\nI wrote something after reading Shark&#39;s comment thank you so much. it&#39;s working.\r\n```\r\nimport java.util.ArrayList;\r\n\r\npublic class Main {\r\n\r\n    public static ArrayList&lt;Integer&gt; find_numbers(int x, int y, int boundary) {\r\n        ArrayList&lt;Integer&gt; res = new ArrayList&lt;Integer&gt;();\r\n        int x_k = 0;\r\n        int y_k= 0;\r\n       while(Math.pow(x,x_k)&lt; boundary){\r\n           x_k++;\r\n       }\r\n        while(Math.pow(y,y_k)&lt; boundary){\r\n            y_k++;\r\n        }\r\n        for(int k = 2 ; k&lt;= boundary;++k) {\r\n            for (int i = 0; i &lt; x_k; ++i) {\r\n                for (int j = 0; j &lt; y_k; ++j) {\r\n                    if(k == (int)Math.pow(x,i)+(int)Math.pow(y,j) &amp;&amp; !res.contains(k)){\r\n                        System.out.println(&quot;----------------------------------------&quot;);\r\n                        System.out.println(k +&quot; =&gt;&quot; +x + &quot;^&quot; +i +&quot;+&quot;+y+ &quot;^&quot; +j);\r\n                        res.add(k);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        ArrayList&lt;Integer&gt; res = new ArrayList&lt;Integer&gt;();\r\n        int x = 1 + (int) (Math.random() * 100);\r\n        int y = 1 + (int) (Math.random() * 100);\r\n        int boundary = 1 + (int) (Math.random() * 1000000);\r\n        res = find_numbers(x,  y,boundary);\r\n        System.out.println(&quot;x:&quot; + x);\r\n        System.out.println(&quot;y:&quot; + y);\r\n        System.out.println(&quot;boundary:&quot; + boundary);\r\n        System.out.println(&quot;Result:&quot; + res);\r\n    }\r\n}\r\n\r\n```","title":"How to write a number as sum of some other numbers&#39; power","body":"<p>Okay firstly I'm sorry I know that I'm not intelligent enough. I'm bad at Math.</p>\n<p>I couldn't write an algorithm to this question.</p>\n<p>System gives us int x, int y, int boundary and wants us to find which numbers up to boundary satisfy the rule as</p>\n<pre><code>   some_number = x^i + y^j\n\n   Boundary &lt;= 10^6\n   i and j &gt; = 0 \n   x and y &lt; 100\n</code></pre>\n<p>for example x = 2, y = 3 and boundary= 5,</p>\n<pre><code>       2 = 2^0 + 3^0\n       3 = 2^1 + 3^0\n       4 = 2^0 + 3^1\n       5 = 2^1 + 3^1\n</code></pre>\n<p>output : 2,3,4,5</p>\n<pre><code>import java.util.ArrayList;\n\npublic class Main {\n public static ArrayList&lt;Integer&gt; find_numbers(int x, int y, int boundary) {\n        ArrayList&lt;Integer&gt; res = new ArrayList&lt;Integer&gt;();\n        int num = 0;\n        int remain_x = 0, remain_y = 0;\n        int count_x = 0, count_y = 0;\n        if (boundary &gt;= 2) {\n            res.add(2);\n        }\n        for (int i = 3; i &lt;= boundary; ++i) {\n            if(i == x+y)\n                res.add(i);\n            count_x = 0;\n            count_y = 0;\n            num = i;\n            while (num &gt; 0) {\n                remain_x = num % x;\n                if (remain_x == 0) {\n                    count_x++;\n                } else {\n                    while (num &gt; 0) {\n                        remain_y = num % y;\n                        if (remain_y == 0) {\n                            count_y++;\n                        }\n                        num = num / y;\n                    }\n                }\n                num = num / x;\n            }\n            System.out.println(&quot;i =&gt;&quot; +i);\n            System.out.println(&quot;x=&gt;&quot; + count_x);\n            System.out.println(&quot;y =&gt;&quot; + count_y);\n        }\n\n        return res;\n    }\n\n\n    public static void main(String[] args) {\n        ArrayList&lt;Integer&gt; res = new ArrayList&lt;Integer&gt;();\n        int x = 1 + (int) (Math.random() * 100);\n        int y = 1 + (int) (Math.random() * 100);\n        int boundary = 1 + (int) (Math.random() * 1000000);\n        res = find_numbers(x, y, boundary );\n        System.out.println(res);\n    }\n}\n</code></pre>\n<p>Edit:\nI wrote something after reading Shark's comment thank you so much. it's working.</p>\n<pre><code>import java.util.ArrayList;\n\npublic class Main {\n\n    public static ArrayList&lt;Integer&gt; find_numbers(int x, int y, int boundary) {\n        ArrayList&lt;Integer&gt; res = new ArrayList&lt;Integer&gt;();\n        int x_k = 0;\n        int y_k= 0;\n       while(Math.pow(x,x_k)&lt; boundary){\n           x_k++;\n       }\n        while(Math.pow(y,y_k)&lt; boundary){\n            y_k++;\n        }\n        for(int k = 2 ; k&lt;= boundary;++k) {\n            for (int i = 0; i &lt; x_k; ++i) {\n                for (int j = 0; j &lt; y_k; ++j) {\n                    if(k == (int)Math.pow(x,i)+(int)Math.pow(y,j) &amp;&amp; !res.contains(k)){\n                        System.out.println(&quot;----------------------------------------&quot;);\n                        System.out.println(k +&quot; =&gt;&quot; +x + &quot;^&quot; +i +&quot;+&quot;+y+ &quot;^&quot; +j);\n                        res.add(k);\n                    }\n                }\n            }\n        }\n        return res;\n    }\n\n    public static void main(String[] args) {\n        ArrayList&lt;Integer&gt; res = new ArrayList&lt;Integer&gt;();\n        int x = 1 + (int) (Math.random() * 100);\n        int y = 1 + (int) (Math.random() * 100);\n        int boundary = 1 + (int) (Math.random() * 1000000);\n        res = find_numbers(x,  y,boundary);\n        System.out.println(&quot;x:&quot; + x);\n        System.out.println(&quot;y:&quot; + y);\n        System.out.println(&quot;boundary:&quot; + boundary);\n        System.out.println(&quot;Result:&quot; + res);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","regex","regexp-replace"],"answers":[{"tags":[],"owner":{"account_id":22429349,"reputation":130,"user_id":16635445,"display_name":"evren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640171720,"creation_date":1640171720,"answer_id":70448192,"question_id":70446947,"body_markdown":"You can try the below code. I just use a &quot;temp&quot; regex in between in order to replace two words.\r\n\r\n     String str = &quot;boy girl loop for get out boy girl left right&quot;;\r\n            String regexGirl = &quot;(girl)&quot;;\r\n            String regexBoy = &quot;(boy)&quot;;\r\n            System.out.println(str.replaceAll(regexGirl, &quot;temp&quot;).replaceAll(regexBoy, &quot;girl&quot;).replaceAll(&quot;temp&quot;, &quot;boy&quot;));\r\n\r\n","title":"Swap two specific words using regex","body":"<p>You can try the below code. I just use a &quot;temp&quot; regex in between in order to replace two words.</p>\n<pre><code> String str = &quot;boy girl loop for get out boy girl left right&quot;;\n        String regexGirl = &quot;(girl)&quot;;\n        String regexBoy = &quot;(boy)&quot;;\n        System.out.println(str.replaceAll(regexGirl, &quot;temp&quot;).replaceAll(regexBoy, &quot;girl&quot;).replaceAll(&quot;temp&quot;, &quot;boy&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640173986,"creation_date":1640173462,"answer_id":70448524,"question_id":70446947,"body_markdown":"You can use a &quot;callback&quot; in the replacement using `Matcher#replaceAll`:\r\n```java\r\nString str = &quot;boy girl loop for get out boy girl left right&quot;;\r\nMatcher m = Pattern.compile(&quot;\\\\b(girl)\\\\b|\\\\b(boy)\\\\b&quot;).matcher(str);\r\nSystem.out.println( m.replaceAll(r -&gt; r.group(2) != null ? &quot;girl&quot; : &quot;boy&quot;) );\r\n// =&gt; girl boy loop for get out girl boy left right\r\n```\r\nSee the [Java demo online][1].\r\n\r\nHere, `\\b(girl)\\b|\\b(boy)\\b` matches a whole word `girl` into Group 1 and `boy` into Group 2.\r\n\r\nThe `r -&gt; r.group(2) != null ? &quot;girl&quot; : &quot;boy&quot;` replacement checks if Group 2 matched, and if not, the replacement is `girl`, else, it is `boy`.\r\n\r\nThere is also a &quot;replace with a dictionary&quot; approach:\r\n```java\r\nString[] find = {&quot;girl&quot;, &quot;boy&quot;};\r\nString[] replace = {&quot;boy&quot;, &quot;girl&quot;};\r\n\t\t \r\nMap&lt;String, String&gt; dictionary = new HashMap&lt;String, String&gt;();\r\nfor (int i = 0; i &lt; find.length; i++) {\r\n    dictionary.put(find[i], replace[i]);\r\n}\r\n\t\t \r\nString str = &quot;boy girl loop for get out boy girl left right&quot;;\r\nMatcher m = Pattern.compile(&quot;\\\\b(?:&quot; + String.join(&quot;|&quot;, find) + &quot;)\\\\b&quot;).matcher(str);\r\nSystem.out.println( m.replaceAll(r -&gt; dictionary.get(r.group())) );\r\n// =&gt; girl boy loop for get out girl boy left right \r\n```\r\nSee [this Java demo][2].\r\n\r\n\r\n  [1]: https://ideone.com/i8GLqF\r\n  [2]: https://ideone.com/QLKIJd","title":"Swap two specific words using regex","body":"<p>You can use a &quot;callback&quot; in the replacement using <code>Matcher#replaceAll</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = &quot;boy girl loop for get out boy girl left right&quot;;\nMatcher m = Pattern.compile(&quot;\\\\b(girl)\\\\b|\\\\b(boy)\\\\b&quot;).matcher(str);\nSystem.out.println( m.replaceAll(r -&gt; r.group(2) != null ? &quot;girl&quot; : &quot;boy&quot;) );\n// =&gt; girl boy loop for get out girl boy left right\n</code></pre>\n<p>See the <a href=\"https://ideone.com/i8GLqF\" rel=\"nofollow noreferrer\">Java demo online</a>.</p>\n<p>Here, <code>\\b(girl)\\b|\\b(boy)\\b</code> matches a whole word <code>girl</code> into Group 1 and <code>boy</code> into Group 2.</p>\n<p>The <code>r -&gt; r.group(2) != null ? &quot;girl&quot; : &quot;boy&quot;</code> replacement checks if Group 2 matched, and if not, the replacement is <code>girl</code>, else, it is <code>boy</code>.</p>\n<p>There is also a &quot;replace with a dictionary&quot; approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] find = {&quot;girl&quot;, &quot;boy&quot;};\nString[] replace = {&quot;boy&quot;, &quot;girl&quot;};\n         \nMap&lt;String, String&gt; dictionary = new HashMap&lt;String, String&gt;();\nfor (int i = 0; i &lt; find.length; i++) {\n    dictionary.put(find[i], replace[i]);\n}\n         \nString str = &quot;boy girl loop for get out boy girl left right&quot;;\nMatcher m = Pattern.compile(&quot;\\\\b(?:&quot; + String.join(&quot;|&quot;, find) + &quot;)\\\\b&quot;).matcher(str);\nSystem.out.println( m.replaceAll(r -&gt; dictionary.get(r.group())) );\n// =&gt; girl boy loop for get out girl boy left right \n</code></pre>\n<p>See <a href=\"https://ideone.com/QLKIJd\" rel=\"nofollow noreferrer\">this Java demo</a>.</p>\n"}],"owner":{"account_id":17883302,"reputation":19,"user_id":12991523,"display_name":"LingangWang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":70448524,"answer_count":2,"score":1,"last_activity_date":1640173986,"creation_date":1640165712,"question_id":70446947,"body_markdown":"I have a text like this:\r\n&gt; boy girl loop for get out boy girl left right\r\n\r\nI want to swap `boy` and `girl` using regex。（Notice：`boy`/`girl` appears in unordered.）So I write this:\r\n```java\r\nString str = &quot;boy girl loop for get out boy girl left right&quot;;\r\nString regex = &quot;(\\\\bgirl\\\\b)|(\\\\bboy\\\\b)&quot;;\r\nSystem.out.println(str.replaceAll(regex, &quot;$2$1&quot;));\r\n```\r\n\r\nBut it doesn&#39;t work。Can you tell me why and show the correct solution？","title":"Swap two specific words using regex","body":"<p>I have a text like this:</p>\n<blockquote>\n<p>boy girl loop for get out boy girl left right</p>\n</blockquote>\n<p>I want to swap <code>boy</code> and <code>girl</code> using regex。（Notice：<code>boy</code>/<code>girl</code> appears in unordered.）So I write this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = &quot;boy girl loop for get out boy girl left right&quot;;\nString regex = &quot;(\\\\bgirl\\\\b)|(\\\\bboy\\\\b)&quot;;\nSystem.out.println(str.replaceAll(regex, &quot;$2$1&quot;));\n</code></pre>\n<p>But it doesn't work。Can you tell me why and show the correct solution？</p>\n"},{"tags":["java","ubuntu","minecraft-forge"],"owner":{"account_id":21501920,"reputation":21,"user_id":15845993,"display_name":"user15845993"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1640173960,"creation_date":1640173960,"question_id":70448639,"body_markdown":"Today i tried to install forge on Ubuntu 20.10 with the command `java -jar forge-1.8.9-11.15.1.2318-1.8.9-universal.jar` previously i have ran `sudo apt update` so most of my packages utd well here is the error\r\n```java\r\nWe appear to be missing one or more essential library files.\r\nYou will need to add them to your server before FML and Forge will run successfully.java.lang.ClassNotFoundException: net.minecraft.launchwrapper.Launch\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:398)\r\n\tat net.minecraftforge.fml.relauncher.ServerLaunchWrapper.run(ServerLaunchWrapper.java:25)\r\n\tat net.minecraftforge.fml.relauncher.ServerLaunchWrapper.main(ServerLaunchWrapper.java:12)\r\n```\r\ncould some one tell me what the problem is i want to use some mods ","title":"Forge returning error when ran on ubuntu w/ java 17","body":"<p>Today i tried to install forge on Ubuntu 20.10 with the command <code>java -jar forge-1.8.9-11.15.1.2318-1.8.9-universal.jar</code> previously i have ran <code>sudo apt update</code> so most of my packages utd well here is the error</p>\n<pre class=\"lang-java prettyprint-override\"><code>We appear to be missing one or more essential library files.\nYou will need to add them to your server before FML and Forge will run successfully.java.lang.ClassNotFoundException: net.minecraft.launchwrapper.Launch\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:398)\n    at net.minecraftforge.fml.relauncher.ServerLaunchWrapper.run(ServerLaunchWrapper.java:25)\n    at net.minecraftforge.fml.relauncher.ServerLaunchWrapper.main(ServerLaunchWrapper.java:12)\n</code></pre>\n<p>could some one tell me what the problem is i want to use some mods</p>\n"},{"tags":["java","maven","cucumber","karate","feature-file"],"owner":{"account_id":7865489,"reputation":380,"user_id":5944412,"display_name":"Bipin Kumar Chaurasia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1640180432,"answer_count":0,"score":1,"last_activity_date":1640173811,"creation_date":1640173811,"question_id":70448605,"body_markdown":"I have following karate feature file with distinct tags for all scenarios and I want to execute scenarios with following conditions via maven command with details as,\r\n```\r\nFeature: Multiple Tags Execution\r\n\r\n  @qq1\r\n  Scenario: Test 01\r\n    * print &#39;Test 0&#39;\r\n\r\n  @qq2\r\n  Scenario: Test 02\r\n    * print &#39;Test 02&#39;\r\n\r\n  @qq1 @qq2 @qq3\r\n  Scenario: Test 03\r\n    * print &#39;Test 03&#39;\r\n\r\n  @qq1 @qq2 @qq4\r\n  Scenario: Test 04\r\n    * print &#39;Test 04&#39;\r\n\r\n  @qq5\r\n  Scenario: Test 05\r\n    * print &#39;Test 05&#39;\r\n\r\n```\r\nI am able to run with below mvn args for scenarios which has either of tags as `@qq1` or `@qq2` with below command as,\r\n\r\n`mvn test &quot;-Dkarate.options=--tags @qq1,@qq2&quot;`\r\n\r\nI need help for following tags conditional executions with cases below as,\r\n\r\n1. Execute scenarios for which it has tags as both, `@qq1` AND `@qq2`,\r\n2. Execute scenarios for which it has tags as both, `@qq1` AND `@qq2` but not `@qq3`.","title":"Karate Multiple Tags execution with AND/ OR case","body":"<p>I have following karate feature file with distinct tags for all scenarios and I want to execute scenarios with following conditions via maven command with details as,</p>\n<pre><code>Feature: Multiple Tags Execution\n\n  @qq1\n  Scenario: Test 01\n    * print 'Test 0'\n\n  @qq2\n  Scenario: Test 02\n    * print 'Test 02'\n\n  @qq1 @qq2 @qq3\n  Scenario: Test 03\n    * print 'Test 03'\n\n  @qq1 @qq2 @qq4\n  Scenario: Test 04\n    * print 'Test 04'\n\n  @qq5\n  Scenario: Test 05\n    * print 'Test 05'\n\n</code></pre>\n<p>I am able to run with below mvn args for scenarios which has either of tags as <code>@qq1</code> or <code>@qq2</code> with below command as,</p>\n<p><code>mvn test &quot;-Dkarate.options=--tags @qq1,@qq2&quot;</code></p>\n<p>I need help for following tags conditional executions with cases below as,</p>\n<ol>\n<li>Execute scenarios for which it has tags as both, <code>@qq1</code> AND <code>@qq2</code>,</li>\n<li>Execute scenarios for which it has tags as both, <code>@qq1</code> AND <code>@qq2</code> but not <code>@qq3</code>.</li>\n</ol>\n"},{"tags":["java","file","logging","log4j"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1640172359,"post_id":70448291,"comment_id":124531240,"body_markdown":"just because you call a method .error, doesn&#39;t mean it should write in an error log. as long as you call .info(...) it&#39;s an info log. Try using .error(...) for errors","body":"just because you call a method .error, doesn&#39;t mean it should write in an error log. as long as you call .info(...) it&#39;s an info log. Try using .error(...) for errors"},{"owner":{"account_id":7084135,"reputation":232,"user_id":5421438,"accept_rate":73,"display_name":"EvgenieT"},"score":0,"creation_date":1640173106,"post_id":70448291,"comment_id":124531481,"body_markdown":"Thanks a lot, that helped. Please submit it as answer, so I can upvote it and close the question.","body":"Thanks a lot, that helped. Please submit it as answer, so I can upvote it and close the question."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1640173744,"post_id":70448291,"comment_id":124531713,"body_markdown":"no problem, done","body":"no problem, done"},{"owner":{"account_id":7084135,"reputation":232,"user_id":5421438,"accept_rate":73,"display_name":"EvgenieT"},"score":0,"creation_date":1640174752,"post_id":70448291,"comment_id":124532096,"body_markdown":"Again, thank you!","body":"Again, thank you!"}],"answers":[{"tags":[],"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640173376,"creation_date":1640173376,"answer_id":70448511,"question_id":70448291,"body_markdown":"    public static void addLogInfo(String log) {\r\n            myLogger.info(log);\r\n        }\r\n        \r\n        public static void addLogErrors(String log)\r\n        {\r\n            myLogger.info(log);\r\n        }\r\n\r\nYou have something like these methods, to differentiate between info and error logs, but the name of the method doesn&#39;t have an impact on that.\r\n\r\nYou&#39;ll need to call the correct method of the logger:\r\n\r\n    public static void addLogInfo(String log) {\r\n            myLogger.info(log);\r\n        }\r\n    \r\n    public static void addLogErrors(String log) {\r\n        myLogger.error(log);\r\n    }","title":"When using log4j, program creates mutliple files but fills only one, when should fill all","body":"<pre><code>public static void addLogInfo(String log) {\n        myLogger.info(log);\n    }\n    \n    public static void addLogErrors(String log)\n    {\n        myLogger.info(log);\n    }\n</code></pre>\n<p>You have something like these methods, to differentiate between info and error logs, but the name of the method doesn't have an impact on that.</p>\n<p>You'll need to call the correct method of the logger:</p>\n<pre><code>public static void addLogInfo(String log) {\n        myLogger.info(log);\n    }\n\npublic static void addLogErrors(String log) {\n    myLogger.error(log);\n}\n</code></pre>\n"}],"owner":{"account_id":7084135,"reputation":232,"user_id":5421438,"accept_rate":73,"display_name":"EvgenieT"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70448511,"answer_count":1,"score":0,"last_activity_date":1640173376,"creation_date":1640172237,"question_id":70448291,"body_markdown":"At college we are now making a project, and as a part of it, we are trying to add a part that will use log4j to output all errors and exceptions to external files.\r\n\r\nWe want to have one file for errors, one for warnings and one for everything at once, it will also include messages that everything is correct.\r\nFor thorough testing, we added some errors that SHOULD happen. Also we want to record all exceptions as warnings, and output them to separate file.\r\n\r\n**At the current stage, there is a problem: the program creates four files, desired three and also one that it adds on its own, which also includes debug messages. However, for some reason, the information about warnings and errors goes ONLY to INFO log, while it&#39;s also supposed to go to their own log files.**\r\n\r\n**Logback file:**\r\n\r\n&lt;configuration&gt;\r\n\r\n    &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\r\n        &lt;file&gt;${log.name}&lt;/file&gt;\r\n        &lt;append&gt;true&lt;/append&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %-4relative [%thread] %-5level %logger{35} - %msg %n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;ERRORS-FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\r\n        &lt;file&gt;${log.name}.errors&lt;/file&gt;\r\n        &lt;append&gt;true&lt;/append&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %-4relative [%thread] %-5level %logger{36} - %msg %n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n    \r\n    &lt;appender name=&quot;WARNINGS-FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\r\n        &lt;file&gt;${log.name}.warnings&lt;/file&gt;\r\n        &lt;append&gt;true&lt;/append&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %-4relative [%thread] %-5level %logger{36} - %msg %n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n    \r\n        &lt;appender name=&quot;INFO-FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\r\n        &lt;file&gt;${log.name}.info&lt;/file&gt;\r\n        &lt;append&gt;true&lt;/append&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %-4relative [%thread] %-5level %logger{36} - %msg %n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n    \r\n    &lt;!-- additivity=false ensures analytics data only goes to the analytics log --&gt;\r\n    \r\n    &lt;logger name=&quot;errors&quot; level=&quot;ERROR&quot; additivity=&quot;true&quot;&gt;\r\n        &lt;appender-ref ref=&quot;ERRORS-FILE&quot;/&gt;\r\n    &lt;/logger&gt;\r\n    \r\n    &lt;logger name=&quot;warnings&quot; level=&quot;WARN&quot; additivity=&quot;true&quot;&gt;\r\n        &lt;appender-ref ref=&quot;WARNINGS-FILE&quot;/&gt;\r\n    &lt;/logger&gt;\r\n    \r\n    &lt;logger name=&quot;info&quot; level=&quot;INFO&quot; additivity=&quot;true&quot;&gt;\r\n        &lt;appender-ref ref=&quot;INFO-FILE&quot;/&gt;\r\n    &lt;/logger&gt;\r\n    \r\n    &lt;root&gt;\r\n        &lt;appender-ref ref=&quot;FILE&quot;/&gt;\r\n    &lt;/root&gt;\r\n\r\n&lt;/configuration&gt;\r\n\r\n**LoggerManager class I created to use it for outputting logs from other classes:**\r\n\r\n```\r\npackage com.evgenie_tomer_itay.CouponSystemSpringBoot.utilities;\r\n\r\nimport java.io.File;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class LoggerManager\r\n{\r\n\tprivate final static Logger loggerErrors = LoggerFactory.getLogger(&quot;errors&quot;);\r\n\tprivate final static Logger loggerWarnings = LoggerFactory.getLogger(&quot;warnings&quot;);\r\n\tprivate final static Logger loggerInfo = LoggerFactory.getLogger(&quot;info&quot;);\r\n  \r\n\tprivate static String getCurrentDateAsString()\r\n\t{\r\n\t\tSimpleDateFormat formatter= new SimpleDateFormat(&quot;yyyy-MM-dd HH-mm-ss&quot;);\r\n\t\tDate date = new Date(System.currentTimeMillis());\r\n\t\t\t\r\n\t\treturn formatter.format(date);\r\n\t}\r\n\t\r\n\tpublic static void addLogInfo(String log)\r\n\t{\r\n\t\tLoggerManager.loggerInfo.info(log);\r\n\t}\r\n\t\r\n\tpublic static void addLogWarnings(String log)\r\n\t{\r\n\t\tLoggerManager.loggerWarnings.info(log);\r\n\t\tLoggerManager.loggerInfo.info(log);\r\n\t}\r\n\t\r\n\tpublic static void addLogErrors(String log)\r\n\t{\r\n\t\tLoggerManager.loggerErrors.info(log);\r\n\t\tLoggerManager.loggerInfo.info(log);\r\n\t}\r\n}\r\n```\r\n\r\n**Dependencies:**\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nThis part creates files at start of main:\r\n\r\n\tpublic static void createLogFiles()\r\n\t{\r\n\t\t String desktopPath = System.getProperty(&quot;user.home&quot;) + File.separator + &quot;Desktop&quot;;\r\n\t\t String fileName = desktopPath+&quot;\\\\CouponSystemSpringBootLog&quot;;\r\n\t\t System.setProperty(&quot;log.name&quot;,fileName);\r\n\t}\r\n\r\n**Example of how I create a log from any class:**\r\n\r\nLoggerManager.addLogErrors(&quot;ERROR&quot;);\r\n\r\n**Now, again, &quot;addLogInfo&quot; works, but not &quot;addLogError&quot; or &quot;addLogWarning&quot;.**\r\n\r\nPlease help understand what are doing wrong.\r\n\r\nThank you in advance!\r\n","title":"When using log4j, program creates mutliple files but fills only one, when should fill all","body":"<p>At college we are now making a project, and as a part of it, we are trying to add a part that will use log4j to output all errors and exceptions to external files.</p>\n<p>We want to have one file for errors, one for warnings and one for everything at once, it will also include messages that everything is correct.\nFor thorough testing, we added some errors that SHOULD happen. Also we want to record all exceptions as warnings, and output them to separate file.</p>\n<p><strong>At the current stage, there is a problem: the program creates four files, desired three and also one that it adds on its own, which also includes debug messages. However, for some reason, the information about warnings and errors goes ONLY to INFO log, while it's also supposed to go to their own log files.</strong></p>\n<p><strong>Logback file:</strong></p>\n\n<pre><code>&lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\n    &lt;file&gt;${log.name}&lt;/file&gt;\n    &lt;append&gt;true&lt;/append&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %-4relative [%thread] %-5level %logger{35} - %msg %n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;appender name=&quot;ERRORS-FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\n    &lt;file&gt;${log.name}.errors&lt;/file&gt;\n    &lt;append&gt;true&lt;/append&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %-4relative [%thread] %-5level %logger{36} - %msg %n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;appender name=&quot;WARNINGS-FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\n    &lt;file&gt;${log.name}.warnings&lt;/file&gt;\n    &lt;append&gt;true&lt;/append&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %-4relative [%thread] %-5level %logger{36} - %msg %n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n\n    &lt;appender name=&quot;INFO-FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\n    &lt;file&gt;${log.name}.info&lt;/file&gt;\n    &lt;append&gt;true&lt;/append&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %-4relative [%thread] %-5level %logger{36} - %msg %n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;!-- additivity=false ensures analytics data only goes to the analytics log --&gt;\n\n&lt;logger name=&quot;errors&quot; level=&quot;ERROR&quot; additivity=&quot;true&quot;&gt;\n    &lt;appender-ref ref=&quot;ERRORS-FILE&quot;/&gt;\n&lt;/logger&gt;\n\n&lt;logger name=&quot;warnings&quot; level=&quot;WARN&quot; additivity=&quot;true&quot;&gt;\n    &lt;appender-ref ref=&quot;WARNINGS-FILE&quot;/&gt;\n&lt;/logger&gt;\n\n&lt;logger name=&quot;info&quot; level=&quot;INFO&quot; additivity=&quot;true&quot;&gt;\n    &lt;appender-ref ref=&quot;INFO-FILE&quot;/&gt;\n&lt;/logger&gt;\n\n&lt;root&gt;\n    &lt;appender-ref ref=&quot;FILE&quot;/&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p><strong>LoggerManager class I created to use it for outputting logs from other classes:</strong></p>\n<pre><code>package com.evgenie_tomer_itay.CouponSystemSpringBoot.utilities;\n\nimport java.io.File;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class LoggerManager\n{\n    private final static Logger loggerErrors = LoggerFactory.getLogger(&quot;errors&quot;);\n    private final static Logger loggerWarnings = LoggerFactory.getLogger(&quot;warnings&quot;);\n    private final static Logger loggerInfo = LoggerFactory.getLogger(&quot;info&quot;);\n  \n    private static String getCurrentDateAsString()\n    {\n        SimpleDateFormat formatter= new SimpleDateFormat(&quot;yyyy-MM-dd HH-mm-ss&quot;);\n        Date date = new Date(System.currentTimeMillis());\n            \n        return formatter.format(date);\n    }\n    \n    public static void addLogInfo(String log)\n    {\n        LoggerManager.loggerInfo.info(log);\n    }\n    \n    public static void addLogWarnings(String log)\n    {\n        LoggerManager.loggerWarnings.info(log);\n        LoggerManager.loggerInfo.info(log);\n    }\n    \n    public static void addLogErrors(String log)\n    {\n        LoggerManager.loggerErrors.info(log);\n        LoggerManager.loggerInfo.info(log);\n    }\n}\n</code></pre>\n<p><strong>Dependencies:</strong></p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;2.7&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>This part creates files at start of main:</p>\n<pre><code>public static void createLogFiles()\n{\n     String desktopPath = System.getProperty(&quot;user.home&quot;) + File.separator + &quot;Desktop&quot;;\n     String fileName = desktopPath+&quot;\\\\CouponSystemSpringBootLog&quot;;\n     System.setProperty(&quot;log.name&quot;,fileName);\n}\n</code></pre>\n<p><strong>Example of how I create a log from any class:</strong></p>\n<p>LoggerManager.addLogErrors(&quot;ERROR&quot;);</p>\n<p><strong>Now, again, &quot;addLogInfo&quot; works, but not &quot;addLogError&quot; or &quot;addLogWarning&quot;.</strong></p>\n<p>Please help understand what are doing wrong.</p>\n<p>Thank you in advance!</p>\n"},{"tags":["java","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":8283204,"reputation":11,"user_id":6227188,"display_name":"Burak Balım"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640171366,"creation_date":1640170437,"answer_id":70447907,"question_id":70447742,"body_markdown":"Maybe your request has id&#39;s value is null or you can use :\r\n```\r\n@GeneratedValue(strategy = GenerationType.AUTO)\r\n```","title":"Working with JpaRepository, the getById () function returns null","body":"<p>Maybe your request has id's value is null or you can use :</p>\n<pre><code>@GeneratedValue(strategy = GenerationType.AUTO)\n</code></pre>\n"}],"owner":{"account_id":10542069,"reputation":1,"user_id":7767736,"display_name":"jonatan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640172781,"creation_date":1640169737,"question_id":70447742,"body_markdown":"I have the following situation: A user entity can have a lot of friends who are also users themselves.\r\n\r\nTo resolve this situation I used this answer &lt;https://stackoverflow.com/questions/1656113/hibernate-recursive-many-to-many-association-with-the-same-entity&gt;\r\n\r\nIt works! But not completely. After I put data into table TBL_FRIENDS the data is saved as I expected **but** then the getById function of the interface JpaRepository returns NULL for users I entered into the TBL_FRIENDS table.\r\n\r\nthis is my code:\r\n\r\n```java\r\npackage com.example.demo.user;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Date;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\nimport java.util.Set;\r\n\r\nimport javax.persistence.CascadeType;\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.FetchType;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.JoinTable;\r\nimport javax.persistence.ManyToMany;\r\nimport javax.persistence.ManyToOne;\r\n \r\n@Entity\r\npublic class User {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\t@Column(name = &quot;username&quot;, nullable = false)\r\n\tprivate String username;\r\n\t@Column(name = &quot;gender&quot;, nullable = false)\r\n    private String gender;\r\n\t@Column(name = &quot;date&quot;, nullable = true)\r\n    private Date date;\r\n\t@Column(name = &quot;phone&quot;, nullable = false)\r\n    private String phone;   \r\n\t@Column(name = &quot;email&quot;, nullable = false)\r\n    private String email;\r\n\t@Column(name = &quot;description&quot;, nullable = true)\r\n    private String description;\r\n\t@Column(name = &quot;hashpassword&quot;, nullable = false)\r\n    private String hashpassword;\r\n\r\n\t@ManyToMany(cascade = CascadeType.ALL)\r\n\t@JoinTable(name=&quot;tbl_friends&quot;,\r\n\t joinColumns=@JoinColumn(name=&quot;personId&quot;),\r\n\t inverseJoinColumns=@JoinColumn(name=&quot;friendId&quot;)\r\n\t)\r\n\tprivate List&lt;User&gt; friends = new ArrayList&lt;&gt;();\r\n\r\n\t@ManyToMany(mappedBy = &quot;friends&quot;)\r\n\t@JoinTable(name=&quot;tbl_friends&quot;,\r\n\t joinColumns=@JoinColumn(name=&quot;friendId&quot;),\r\n\t inverseJoinColumns=@JoinColumn(name=&quot;personId&quot;)\r\n\t)\r\n\tprivate List&lt;User&gt; friendOf = new ArrayList&lt;&gt;();\r\n\t       \r\n\tprotected User() {\r\n\t\t\r\n\t} \r\n\r\n\tpublic User(Long id, String username, String gender,Date date, String phone, String email, String description,String hashpassword ) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.username = username;\r\n\t\tthis.gender = gender;\r\n\t\tthis.date = date;\r\n\t\tthis.phone = phone;\r\n\t\tthis.email = email;\r\n\t\tthis.description = description;\r\n\t\tthis.hashpassword = hashpassword;\r\n\t}\r\n\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getUsername() {\r\n\t\treturn username;\r\n\t}\r\n\r\n\tpublic void setUsername(String username) {\r\n\t\tthis.username = username;\r\n\t}\r\n\r\n\tpublic String getGender() {\r\n\t\treturn gender;\r\n\t}\r\n\r\n\tpublic void setGender(String gender) {\r\n\t\tthis.gender = gender;\r\n\t}\r\n\r\n\tpublic Date getDate() {\r\n\t\treturn date;\r\n\t}\r\n\r\n\tpublic void setDate(Date date) {\r\n\t\tthis.date = date;\r\n\t}\r\n\r\n\tpublic String getPhone() {\r\n\t\treturn phone;\r\n\t}\r\n\r\n\tpublic void setPhone(String phone) {\r\n\t\tthis.phone = phone;\r\n\t}\r\n\r\n\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\r\n\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n\t\r\n\tpublic String getDescription() {\r\n\t\treturn description;\r\n\t}\r\n\r\n\r\n\tpublic void setDescription(String description) {\r\n\t\tthis.description = description;\r\n\t}\r\n\t\r\n\tpublic String getHashpassword() {\r\n\t\treturn hashpassword;\r\n\t}\r\n\r\n\tpublic void setHashpassword(String hashpassword) {\r\n\t\tthis.hashpassword = hashpassword;\r\n\t}\r\n\r\n\tpublic List&lt;User&gt; getFriends() {\r\n\t\treturn friends;\r\n\t}\r\n\r\n\tpublic void addFriends(User friend) {\r\n\t\tthis.friends.add(friend);\r\n\t}\r\n\t\r\n\tpublic List&lt;User&gt; getFriendOf() {\r\n\t\treturn friendOf;\r\n\t}\r\n\r\n\tpublic void addFriendOf(User friend) {\r\n\t\tthis.friendOf.add(friend);\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic int hashCode() {\r\n\t\treturn Objects.hash(id);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean equals(Object obj) {\r\n\t\tif (this == obj)\r\n\t\t\treturn true;\r\n\t\tif (obj == null)\r\n\t\t\treturn false;\r\n\t\tif (getClass() != obj.getClass())\r\n\t\t\treturn false;\r\n\t\tUser other = (User) obj;\r\n\t\treturn id == other.id;\r\n\t}\r\n}\r\n```\r\n```java\r\npublic void insertUserAndFriends(User sourceUser,User targetUser) {\t\r\n\tUser su = userJpaRepository.getOne(sourceUser.getId());\r\n\tsu.addFriends(targetUser);\r\n\tsu.addFriendOf(targetUser);\r\n\tuserJpaRepository.save(su);\r\n}\r\n```\r\n\r\n```java\r\n@PostMapping(&quot;/jpa/users/{userId}/friends&quot;)\r\npublic ResponseEntity&lt;Void&gt;insertFriends(@RequestBody Map&lt;String,User&gt; jason){\r\n  userJpaRepository.insertUserAndFriends(jason.get(&quot;sourceUser&quot;),jason.get(&quot;targetUser&quot;));\t\r\n\treturn ResponseEntity.ok().build(); \t\r\n}\r\n```\r\n\r\n```java\r\n@GetMapping(&quot;/jpa/users/{userId}&quot;)\r\npublic User getUser(@PathVariable Long userId){\r\n    return userJpaRepository.findById(userId).get();\r\n}\r\n```\r\n\r\nI would like to hear any advice.:","title":"Working with JpaRepository, the getById () function returns null","body":"<p>I have the following situation: A user entity can have a lot of friends who are also users themselves.</p>\n<p>To resolve this situation I used this answer <a href=\"https://stackoverflow.com/questions/1656113/hibernate-recursive-many-to-many-association-with-the-same-entity\">Hibernate recursive many-to-many association with the same entity</a></p>\n<p>It works! But not completely. After I put data into table TBL_FRIENDS the data is saved as I expected <strong>but</strong> then the getById function of the interface JpaRepository returns NULL for users I entered into the TBL_FRIENDS table.</p>\n<p>this is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo.user;\n\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.List;\nimport java.util.Objects;\nimport java.util.Set;\n\nimport javax.persistence.CascadeType;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.JoinTable;\nimport javax.persistence.ManyToMany;\nimport javax.persistence.ManyToOne;\n \n@Entity\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @Column(name = &quot;username&quot;, nullable = false)\n    private String username;\n    @Column(name = &quot;gender&quot;, nullable = false)\n    private String gender;\n    @Column(name = &quot;date&quot;, nullable = true)\n    private Date date;\n    @Column(name = &quot;phone&quot;, nullable = false)\n    private String phone;   \n    @Column(name = &quot;email&quot;, nullable = false)\n    private String email;\n    @Column(name = &quot;description&quot;, nullable = true)\n    private String description;\n    @Column(name = &quot;hashpassword&quot;, nullable = false)\n    private String hashpassword;\n\n    @ManyToMany(cascade = CascadeType.ALL)\n    @JoinTable(name=&quot;tbl_friends&quot;,\n     joinColumns=@JoinColumn(name=&quot;personId&quot;),\n     inverseJoinColumns=@JoinColumn(name=&quot;friendId&quot;)\n    )\n    private List&lt;User&gt; friends = new ArrayList&lt;&gt;();\n\n    @ManyToMany(mappedBy = &quot;friends&quot;)\n    @JoinTable(name=&quot;tbl_friends&quot;,\n     joinColumns=@JoinColumn(name=&quot;friendId&quot;),\n     inverseJoinColumns=@JoinColumn(name=&quot;personId&quot;)\n    )\n    private List&lt;User&gt; friendOf = new ArrayList&lt;&gt;();\n           \n    protected User() {\n        \n    } \n\n    public User(Long id, String username, String gender,Date date, String phone, String email, String description,String hashpassword ) {\n        super();\n        this.id = id;\n        this.username = username;\n        this.gender = gender;\n        this.date = date;\n        this.phone = phone;\n        this.email = email;\n        this.description = description;\n        this.hashpassword = hashpassword;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getGender() {\n        return gender;\n    }\n\n    public void setGender(String gender) {\n        this.gender = gender;\n    }\n\n    public Date getDate() {\n        return date;\n    }\n\n    public void setDate(Date date) {\n        this.date = date;\n    }\n\n    public String getPhone() {\n        return phone;\n    }\n\n    public void setPhone(String phone) {\n        this.phone = phone;\n    }\n\n\n    public String getEmail() {\n        return email;\n    }\n\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n    \n    public String getDescription() {\n        return description;\n    }\n\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n    \n    public String getHashpassword() {\n        return hashpassword;\n    }\n\n    public void setHashpassword(String hashpassword) {\n        this.hashpassword = hashpassword;\n    }\n\n    public List&lt;User&gt; getFriends() {\n        return friends;\n    }\n\n    public void addFriends(User friend) {\n        this.friends.add(friend);\n    }\n    \n    public List&lt;User&gt; getFriendOf() {\n        return friendOf;\n    }\n\n    public void addFriendOf(User friend) {\n        this.friendOf.add(friend);\n    }\n    \n    @Override\n    public int hashCode() {\n        return Objects.hash(id);\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        User other = (User) obj;\n        return id == other.id;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public void insertUserAndFriends(User sourceUser,User targetUser) { \n    User su = userJpaRepository.getOne(sourceUser.getId());\n    su.addFriends(targetUser);\n    su.addFriendOf(targetUser);\n    userJpaRepository.save(su);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/jpa/users/{userId}/friends&quot;)\npublic ResponseEntity&lt;Void&gt;insertFriends(@RequestBody Map&lt;String,User&gt; jason){\n  userJpaRepository.insertUserAndFriends(jason.get(&quot;sourceUser&quot;),jason.get(&quot;targetUser&quot;));  \n    return ResponseEntity.ok().build();     \n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/jpa/users/{userId}&quot;)\npublic User getUser(@PathVariable Long userId){\n    return userJpaRepository.findById(userId).get();\n}\n</code></pre>\n<p>I would like to hear any advice.:</p>\n"},{"tags":["java","memory-leaks","autocloseable"],"answers":[{"tags":[],"owner":{"account_id":23503,"reputation":28545,"user_id":58956,"accept_rate":91,"display_name":"gustafc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640172692,"creation_date":1640172692,"answer_id":70448367,"question_id":70448041,"body_markdown":"No, unless you explicitly call `sc.close()`, or scope it in a [try-with-resources block][1], there are no guarantees it will be closed. Some classes might have a finalizer or an associated [`Cleaner`][2], but these are very unreliable (as in, you never know when or even if they will get called).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/lang/ref/Cleaner.html","title":"Is allocating new instance of Closeable to previously created instance, closing previous?","body":"<p>No, unless you explicitly call <code>sc.close()</code>, or scope it in a <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources block</a>, there are no guarantees it will be closed. Some classes might have a finalizer or an associated <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/ref/Cleaner.html\" rel=\"nofollow noreferrer\"><code>Cleaner</code></a>, but these are very unreliable (as in, you never know when or even if they will get called).</p>\n"}],"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70448367,"answer_count":1,"score":0,"last_activity_date":1640172692,"creation_date":1640171041,"question_id":70448041,"body_markdown":"For example `Scanner` class, which implements `Closeable` interface:\r\n\r\n    Scanner sc = new Scanner(...);\r\n    sc.//do smthing\r\n    sc = new Scanner(...); &lt;- is previous Scanner closed? Does it create memory leak?\r\n    sc.//do smthing\r\n    sc.close();","title":"Is allocating new instance of Closeable to previously created instance, closing previous?","body":"<p>For example <code>Scanner</code> class, which implements <code>Closeable</code> interface:</p>\n<pre><code>Scanner sc = new Scanner(...);\nsc.//do smthing\nsc = new Scanner(...); &lt;- is previous Scanner closed? Does it create memory leak?\nsc.//do smthing\nsc.close();\n</code></pre>\n"},{"tags":["java","floating-point","jit","sse","vectorization"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":4,"creation_date":1338209432,"post_id":10784951,"comment_id":14026548,"body_markdown":"The easiest way to find out is probably to get the most modern JIT you can find and have it output the generated assembly with `-XX:+UnlockDiagnosticVMOptions  -XX:+PrintAssembly -XX:+LogCompilation`.  You&#39;ll need a program that runs the vectorizable method enough times to make it &quot;hot.&quot;","body":"The easiest way to find out is probably to get the most modern JIT you can find and have it output the generated assembly with <code>-XX:+UnlockDiagnosticVMOptions  -XX:+PrintAssembly -XX:+LogCompilation</code>.  You&#39;ll need a program that runs the vectorizable method enough times to make it &quot;hot.&quot;"},{"owner":{"account_id":147727,"reputation":12641,"user_id":359035,"accept_rate":92,"display_name":"BillRobertson42"},"score":1,"creation_date":1338209771,"post_id":10784951,"comment_id":14026673,"body_markdown":"Or have a look at the source. http://download.java.net/openjdk/jdk7/","body":"Or have a look at the source. <a href=\"http://download.java.net/openjdk/jdk7/\" rel=\"nofollow noreferrer\">download.java.net/openjdk/jdk7</a>"},{"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"score":1,"creation_date":1343070799,"post_id":10784951,"comment_id":15385095,"body_markdown":"&quot;Coming soon&quot; to a jdk near you: http://mail.openjdk.java.net/pipermail/hotspot-compiler-dev/2012-July/008123.html","body":"&quot;Coming soon&quot; to a jdk near you: <a href=\"http://mail.openjdk.java.net/pipermail/hotspot-compiler-dev/2012-July/008123.html\" rel=\"nofollow noreferrer\">mail.openjdk.java.net/pipermail/hotspot-compiler-dev/2012-Ju&zwnj;&#8203;ly/&hellip;</a>"},{"owner":{"account_id":38019,"reputation":28480,"user_id":108915,"accept_rate":73,"display_name":"ziggystar"},"score":3,"creation_date":1355515374,"post_id":10784951,"comment_id":19127326,"body_markdown":"Actually, according to [this blog](http://www.opengamma.com/blog/2012/05/25/jna-jni-and-raw-java-performance), JNI can be rather fast if used &quot;correctly&quot;.","body":"Actually, according to <a href=\"http://www.opengamma.com/blog/2012/05/25/jna-jni-and-raw-java-performance\" rel=\"nofollow noreferrer\">this blog</a>, JNI can be rather fast if used &quot;correctly&quot;."},{"owner":{"account_id":1041776,"reputation":2850,"user_id":1047667,"accept_rate":100,"display_name":"Nitsan Wakart"},"score":2,"creation_date":1431066935,"post_id":10784951,"comment_id":48344876,"body_markdown":"A relevant blog post on this can be found here: http://psy-lob-saw.blogspot.com/2015/04/on-arraysfill-intrinsics-superword-and.html with the general message that vectorization can happen, and does happen. Apart from vectorizing specific cases (Arrays.fill()/equals(char[])/arrayCopy) the JVM auto-vectorizes using Superword Level Parallelization. The relevant code is in superword.cpp and the paper its based on is here: http://groups.csail.mit.edu/cag/slp/SLP-PLDI-2000.pdf","body":"A relevant blog post on this can be found here: <a href=\"http://psy-lob-saw.blogspot.com/2015/04/on-arraysfill-intrinsics-superword-and.html\" rel=\"nofollow noreferrer\">psy-lob-saw.blogspot.com/2015/04/&hellip;</a> with the general message that vectorization can happen, and does happen. Apart from vectorizing specific cases (Arrays.fill()/equals(char[])/arrayCopy) the JVM auto-vectorizes using Superword Level Parallelization. The relevant code is in superword.cpp and the paper its based on is here: <a href=\"http://groups.csail.mit.edu/cag/slp/SLP-PLDI-2000.pdf\" rel=\"nofollow noreferrer\">groups.csail.mit.edu/cag/slp/SLP-PLDI-2000.pdf</a>"},{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":0,"creation_date":1444572332,"post_id":10784951,"comment_id":53950584,"body_markdown":"@NitsanWakart Thank you for the blog. However, do you have information on when the SuperWord autovectorization kicks in for more typical code? What ISAs are supported? Etc.","body":"@NitsanWakart Thank you for the blog. However, do you have information on when the SuperWord autovectorization kicks in for more typical code? What ISAs are supported? Etc."},{"owner":{"account_id":1041776,"reputation":2850,"user_id":1047667,"accept_rate":100,"display_name":"Nitsan Wakart"},"score":0,"creation_date":1444650784,"post_id":10784951,"comment_id":53977357,"body_markdown":"@AleksandrDubinsky SuperWord coverage is expanded all the time. AFAIK at the moment it will optimize only simple array accessing loops of the type: &quot;for(int i=0;i&lt;a.length;i++) a[i] = f(b[i]);&quot;, or code which can be reduced to such a loop. I&#39;m not sure what you mean by typical code...","body":"@AleksandrDubinsky SuperWord coverage is expanded all the time. AFAIK at the moment it will optimize only simple array accessing loops of the type: &quot;for(int i=0;i&lt;a.length;i++) a[i] = f(b[i]);&quot;, or code which can be reduced to such a loop. I&#39;m not sure what you mean by typical code..."},{"owner":{"account_id":1046777,"reputation":261,"user_id":9963146,"display_name":"Styp"},"score":0,"creation_date":1692022920,"post_id":10784951,"comment_id":135565988,"body_markdown":"https://medium.com/itnext/auto-vectorization-how-to-get-beaten-by-compiler-optimization-java-jit-vector-api-92c72b97fba3 - Answer is: &#39;yes&#39;, and the JIT got pretty clever...","body":"<a href=\"https://medium.com/itnext/auto-vectorization-how-to-get-beaten-by-compiler-optimization-java-jit-vector-api-92c72b97fba3\" rel=\"nofollow noreferrer\">medium.com/itnext/&hellip;</a> - Answer is: &#39;yes&#39;, and the JIT got pretty clever..."}],"answers":[{"tags":[],"owner":{"account_id":248409,"reputation":4974,"user_id":523744,"display_name":"Samuel Audet"},"down_vote_count":6,"up_vote_count":52,"is_accepted":true,"score":46,"last_activity_date":1568604510,"creation_date":1338343613,"answer_id":10809123,"question_id":10784951,"body_markdown":"So, basically, you want your code to run faster. JNI is the answer. I know you said it didn&#39;t work for you, but let me show you that you are wrong.\r\n\r\nHere&#39;s `Dot.java`:\r\n\r\n    import java.nio.FloatBuffer;\r\n    import org.bytedeco.javacpp.*;\r\n    import org.bytedeco.javacpp.annotation.*;\r\n    \r\n    @Platform(include = &quot;Dot.h&quot;, compiler = &quot;fastfpu&quot;)\r\n    public class Dot {\r\n        static { Loader.load(); }\r\n    \r\n        static float[] a = new float[50], b = new float[50];\r\n        static float dot() {\r\n            float sum = 0;\r\n            for (int i = 0; i &lt; 50; i++) {\r\n                sum += a[i]*b[i];\r\n            }\r\n            return sum;\r\n        }\r\n        static native @MemberGetter FloatPointer ac();\r\n        static native @MemberGetter FloatPointer bc();\r\n        static native @NoException float dotc();\r\n    \r\n        public static void main(String[] args) {\r\n            FloatBuffer ab = ac().capacity(50).asBuffer();\r\n            FloatBuffer bb = bc().capacity(50).asBuffer();\r\n    \r\n            for (int i = 0; i &lt; 10000000; i++) {\r\n                a[i%50] = b[i%50] = dot();\r\n                float sum = dotc();\r\n                ab.put(i%50, sum);\r\n                bb.put(i%50, sum);\r\n            }\r\n            long t1 = System.nanoTime();\r\n            for (int i = 0; i &lt; 10000000; i++) {\r\n                a[i%50] = b[i%50] = dot();\r\n            }\r\n            long t2 = System.nanoTime();\r\n            for (int i = 0; i &lt; 10000000; i++) {\r\n                float sum = dotc();\r\n                ab.put(i%50, sum);\r\n                bb.put(i%50, sum);\r\n            }\r\n            long t3 = System.nanoTime();\r\n            System.out.println(&quot;dot(): &quot; + (t2 - t1)/10000000 + &quot; ns&quot;);\r\n            System.out.println(&quot;dotc(): &quot;  + (t3 - t2)/10000000 + &quot; ns&quot;);\r\n        }\r\n    }\r\n\r\nand `Dot.h`:\r\n\r\n    float ac[50], bc[50];\r\n    \r\n    inline float dotc() {\r\n        float sum = 0;\r\n        for (int i = 0; i &lt; 50; i++) {\r\n            sum += ac[i]*bc[i];\r\n        }\r\n        return sum;\r\n    }\r\n\r\nWe can compile and run that with [JavaCPP][1] using this command:\r\n\r\n    $ java -jar javacpp.jar Dot.java -exec\r\n\r\nWith an Intel(R) Core(TM) i7-7700HQ CPU @ 2.80GHz, Fedora 30, GCC 9.1.1, and OpenJDK 8 or 11, I get this kind of output:\r\n\r\n    dot(): 39 ns\r\n    dotc(): 16 ns\r\n\r\nOr roughly 2.4 times faster. We need to use direct NIO buffers instead of arrays, but [HotSpot can access direct NIO buffers as fast as arrays][2]. On the other hand, manually unrolling the loop does not provide a measurable boost in performance, in this case.\r\n\r\n  [1]: https://github.com/bytedeco/javacpp\r\n  [2]: http://web.archive.org/web/20111117132310/http://blog.vlad1.com/2011/10/05/looking-at-java-nio-buffer-performance/\r\n\r\n","title":"Do any JVM&#39;s JIT compilers generate code that uses vectorized floating point instructions?","body":"<p>So, basically, you want your code to run faster. JNI is the answer. I know you said it didn't work for you, but let me show you that you are wrong.</p>\n\n<p>Here's <code>Dot.java</code>:</p>\n\n<pre><code>import java.nio.FloatBuffer;\nimport org.bytedeco.javacpp.*;\nimport org.bytedeco.javacpp.annotation.*;\n\n@Platform(include = \"Dot.h\", compiler = \"fastfpu\")\npublic class Dot {\n    static { Loader.load(); }\n\n    static float[] a = new float[50], b = new float[50];\n    static float dot() {\n        float sum = 0;\n        for (int i = 0; i &lt; 50; i++) {\n            sum += a[i]*b[i];\n        }\n        return sum;\n    }\n    static native @MemberGetter FloatPointer ac();\n    static native @MemberGetter FloatPointer bc();\n    static native @NoException float dotc();\n\n    public static void main(String[] args) {\n        FloatBuffer ab = ac().capacity(50).asBuffer();\n        FloatBuffer bb = bc().capacity(50).asBuffer();\n\n        for (int i = 0; i &lt; 10000000; i++) {\n            a[i%50] = b[i%50] = dot();\n            float sum = dotc();\n            ab.put(i%50, sum);\n            bb.put(i%50, sum);\n        }\n        long t1 = System.nanoTime();\n        for (int i = 0; i &lt; 10000000; i++) {\n            a[i%50] = b[i%50] = dot();\n        }\n        long t2 = System.nanoTime();\n        for (int i = 0; i &lt; 10000000; i++) {\n            float sum = dotc();\n            ab.put(i%50, sum);\n            bb.put(i%50, sum);\n        }\n        long t3 = System.nanoTime();\n        System.out.println(\"dot(): \" + (t2 - t1)/10000000 + \" ns\");\n        System.out.println(\"dotc(): \"  + (t3 - t2)/10000000 + \" ns\");\n    }\n}\n</code></pre>\n\n<p>and <code>Dot.h</code>:</p>\n\n<pre><code>float ac[50], bc[50];\n\ninline float dotc() {\n    float sum = 0;\n    for (int i = 0; i &lt; 50; i++) {\n        sum += ac[i]*bc[i];\n    }\n    return sum;\n}\n</code></pre>\n\n<p>We can compile and run that with <a href=\"https://github.com/bytedeco/javacpp\" rel=\"noreferrer\">JavaCPP</a> using this command:</p>\n\n<pre><code>$ java -jar javacpp.jar Dot.java -exec\n</code></pre>\n\n<p>With an Intel(R) Core(TM) i7-7700HQ CPU @ 2.80GHz, Fedora 30, GCC 9.1.1, and OpenJDK 8 or 11, I get this kind of output:</p>\n\n<pre><code>dot(): 39 ns\ndotc(): 16 ns\n</code></pre>\n\n<p>Or roughly 2.4 times faster. We need to use direct NIO buffers instead of arrays, but <a href=\"http://web.archive.org/web/20111117132310/http://blog.vlad1.com/2011/10/05/looking-at-java-nio-buffer-performance/\" rel=\"noreferrer\">HotSpot can access direct NIO buffers as fast as arrays</a>. On the other hand, manually unrolling the loop does not provide a measurable boost in performance, in this case.</p>\n"},{"tags":[],"owner":{"account_id":22774,"reputation":18102,"user_id":56524,"accept_rate":45,"display_name":"mP."},"down_vote_count":6,"up_vote_count":0,"is_accepted":false,"score":-6,"last_activity_date":1338345642,"creation_date":1338345642,"answer_id":10809318,"question_id":10784951,"body_markdown":"I dont believe most if any VMs are ever smart enough for this sort of optimisations. To be fair most optimisations are much simpler, such as shifting instead of multiplication whena power of two. The mono project introduced their own vector and other methods with native backings to help performance.","title":"Do any JVM&#39;s JIT compilers generate code that uses vectorized floating point instructions?","body":"<p>I dont believe most if any VMs are ever smart enough for this sort of optimisations. To be fair most optimisations are much simpler, such as shifting instead of multiplication whena power of two. The mono project introduced their own vector and other methods with native backings to help performance.</p>\n"},{"tags":[],"owner":{"account_id":148345,"reputation":19114,"user_id":360060,"accept_rate":50,"display_name":"Mikael Lepist&#246;"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1362063754,"creation_date":1362063754,"answer_id":15138772,"question_id":10784951,"body_markdown":"\r\nYou could write OpenCl kernel to do the computing and run it from java http://www.jocl.org/. \r\n\r\nCode can be run on CPU and/or GPU and OpenCL language supports also vector types so you should be able to take explicitly advantage of e.g. SSE3/4 instructions.\r\n","title":"Do any JVM&#39;s JIT compilers generate code that uses vectorized floating point instructions?","body":"<p>You could write OpenCl kernel to do the computing and run it from java <a href=\"http://www.jocl.org/\" rel=\"nofollow\">http://www.jocl.org/</a>. </p>\n\n<p>Code can be run on CPU and/or GPU and OpenCL language supports also vector types so you should be able to take explicitly advantage of e.g. SSE3/4 instructions.</p>\n"},{"tags":[],"owner":{"account_id":1041776,"reputation":2850,"user_id":1047667,"accept_rate":100,"display_name":"Nitsan Wakart"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1507583536,"creation_date":1371456033,"answer_id":17142855,"question_id":10784951,"body_markdown":"To address some of the scepticism expressed by others here I suggest anyone who wants to prove to themselves or other use the following method:\r\n\r\n* Create a JMH project\r\n* Write a small snippet of vectorizable math.\r\n* Run their benchmark flipping between -XX:-UseSuperWord and -XX:+UseSuperWord(default)\r\n* If no difference in performance is observed, your code probably didn&#39;t get vectorized\r\n* To make sure, run your benchmark such that it prints out the assembly. On linux you can enjoy the perfasm profiler(&#39;-prof perfasm&#39;) have a look and see if the instructions you expect get generated.\r\n\r\nExample:\r\n    \r\n    @Benchmark\r\n    @CompilerControl(CompilerControl.Mode.DONT_INLINE) //makes looking at assembly easier\r\n    public void inc() {\r\n        for (int i=0;i&lt;a.length;i++)\r\n            a[i]++;// a is an int[], I benchmarked with size 32K\r\n    }\r\n\r\nThe result with and without the flag (on recent Haswell laptop, Oracle JDK 8u60):\r\n-XX:+UseSuperWord :  475.073 &#177; 44.579  ns/op (nanoseconds per op)\r\n-XX:-UseSuperWord : 3376.364 &#177; 233.211 ns/op\r\n\r\nThe assembly for the hot loop is a bit much to format and stick in here  but here&#39;s a snippet(hsdis.so is failing to format some of the AVX2 vector instructions so I ran with -XX:UseAVX=1): -XX:+UseSuperWord(with &#39;-prof perfasm:intelSyntax=true&#39;)\r\n\r\n    \r\n      9.15%   10.90%  │││ │↗    0x00007fc09d1ece60: vmovdqu xmm1,XMMWORD PTR [r10+r9*4+0x18]\r\n     10.63%    9.78%  │││ ││    0x00007fc09d1ece67: vpaddd xmm1,xmm1,xmm0\r\n     12.47%   12.67%  │││ ││    0x00007fc09d1ece6b: movsxd r11,r9d\r\n      8.54%    7.82%  │││ ││    0x00007fc09d1ece6e: vmovdqu xmm2,XMMWORD PTR [r10+r11*4+0x28]\r\n                      │││ ││                                                  ;*iaload\r\n                      │││ ││                                                  ; - psy.lob.saw.VectorMath::inc@17 (line 45)\r\n     10.68%   10.36%  │││ ││    0x00007fc09d1ece75: vmovdqu XMMWORD PTR [r10+r9*4+0x18],xmm1\r\n     10.65%   10.44%  │││ ││    0x00007fc09d1ece7c: vpaddd xmm1,xmm2,xmm0\r\n     10.11%   11.94%  │││ ││    0x00007fc09d1ece80: vmovdqu XMMWORD PTR [r10+r11*4+0x28],xmm1\r\n                      │││ ││                                                  ;*iastore\r\n                      │││ ││                                                  ; - psy.lob.saw.VectorMath::inc@20 (line 45)\r\n     11.19%   12.65%  │││ ││    0x00007fc09d1ece87: add    r9d,0x8            ;*iinc\r\n                      │││ ││                                                  ; - psy.lob.saw.VectorMath::inc@21 (line 44)\r\n      8.38%    9.50%  │││ ││    0x00007fc09d1ece8b: cmp    r9d,ecx\r\n                      │││ │╰    0x00007fc09d1ece8e: jl     0x00007fc09d1ece60  ;*if_icmpge\r\n\r\nHave fun storming the castle!","title":"Do any JVM&#39;s JIT compilers generate code that uses vectorized floating point instructions?","body":"<p>To address some of the scepticism expressed by others here I suggest anyone who wants to prove to themselves or other use the following method:</p>\n\n<ul>\n<li>Create a JMH project</li>\n<li>Write a small snippet of vectorizable math.</li>\n<li>Run their benchmark flipping between -XX:-UseSuperWord and -XX:+UseSuperWord(default)</li>\n<li>If no difference in performance is observed, your code probably didn't get vectorized</li>\n<li>To make sure, run your benchmark such that it prints out the assembly. On linux you can enjoy the perfasm profiler('-prof perfasm') have a look and see if the instructions you expect get generated.</li>\n</ul>\n\n<p>Example:</p>\n\n<pre><code>@Benchmark\n@CompilerControl(CompilerControl.Mode.DONT_INLINE) //makes looking at assembly easier\npublic void inc() {\n    for (int i=0;i&lt;a.length;i++)\n        a[i]++;// a is an int[], I benchmarked with size 32K\n}\n</code></pre>\n\n<p>The result with and without the flag (on recent Haswell laptop, Oracle JDK 8u60):\n-XX:+UseSuperWord :  475.073 ± 44.579  ns/op (nanoseconds per op)\n-XX:-UseSuperWord : 3376.364 ± 233.211 ns/op</p>\n\n<p>The assembly for the hot loop is a bit much to format and stick in here  but here's a snippet(hsdis.so is failing to format some of the AVX2 vector instructions so I ran with -XX:UseAVX=1): -XX:+UseSuperWord(with '-prof perfasm:intelSyntax=true')</p>\n\n<pre><code>  9.15%   10.90%  │││ │↗    0x00007fc09d1ece60: vmovdqu xmm1,XMMWORD PTR [r10+r9*4+0x18]\n 10.63%    9.78%  │││ ││    0x00007fc09d1ece67: vpaddd xmm1,xmm1,xmm0\n 12.47%   12.67%  │││ ││    0x00007fc09d1ece6b: movsxd r11,r9d\n  8.54%    7.82%  │││ ││    0x00007fc09d1ece6e: vmovdqu xmm2,XMMWORD PTR [r10+r11*4+0x28]\n                  │││ ││                                                  ;*iaload\n                  │││ ││                                                  ; - psy.lob.saw.VectorMath::inc@17 (line 45)\n 10.68%   10.36%  │││ ││    0x00007fc09d1ece75: vmovdqu XMMWORD PTR [r10+r9*4+0x18],xmm1\n 10.65%   10.44%  │││ ││    0x00007fc09d1ece7c: vpaddd xmm1,xmm2,xmm0\n 10.11%   11.94%  │││ ││    0x00007fc09d1ece80: vmovdqu XMMWORD PTR [r10+r11*4+0x28],xmm1\n                  │││ ││                                                  ;*iastore\n                  │││ ││                                                  ; - psy.lob.saw.VectorMath::inc@20 (line 45)\n 11.19%   12.65%  │││ ││    0x00007fc09d1ece87: add    r9d,0x8            ;*iinc\n                  │││ ││                                                  ; - psy.lob.saw.VectorMath::inc@21 (line 44)\n  8.38%    9.50%  │││ ││    0x00007fc09d1ece8b: cmp    r9d,ecx\n                  │││ │╰    0x00007fc09d1ece8e: jl     0x00007fc09d1ece60  ;*if_icmpge\n</code></pre>\n\n<p>Have fun storming the castle!</p>\n"},{"tags":[],"owner":{"account_id":3654721,"reputation":261,"user_id":3046058,"display_name":"Vedran"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1385645413,"creation_date":1385645413,"answer_id":20267515,"question_id":10784951,"body_markdown":"In HotSpot versions beginning with Java 7u40, the server compiler provides support for auto-vectorisation. According to [JDK-6340864][1]\r\n\r\nHowever, this seems to be true only for &quot;simple loops&quot; - at least for the moment. For example, accumulating an array cannot be vectorised yet [JDK-7192383][2]\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=6340864\r\n  [2]: https://bugs.java.com/bugdatabase/view_bug?bug_id=7192383","title":"Do any JVM&#39;s JIT compilers generate code that uses vectorized floating point instructions?","body":"<p>In HotSpot versions beginning with Java 7u40, the server compiler provides support for auto-vectorisation. According to <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6340864\" rel=\"nofollow noreferrer\">JDK-6340864</a></p>\n<p>However, this seems to be true only for &quot;simple loops&quot; - at least for the moment. For example, accumulating an array cannot be vectorised yet <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=7192383\" rel=\"nofollow noreferrer\">JDK-7192383</a></p>\n"},{"tags":[],"owner":{"account_id":1033919,"reputation":5797,"user_id":1041691,"accept_rate":67,"display_name":"fommil"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1448989041,"creation_date":1448989041,"answer_id":34025764,"question_id":10784951,"body_markdown":"I&#39;m guessing you wrote this question before you found out about netlib-java ;-) it provides exactly the native API you require, with machine optimised implementations, and does not have any cost at the native boundary due thanks to memory pinning.","title":"Do any JVM&#39;s JIT compilers generate code that uses vectorized floating point instructions?","body":"<p>I'm guessing you wrote this question before you found out about netlib-java ;-) it provides exactly the native API you require, with machine optimised implementations, and does not have any cost at the native boundary due thanks to memory pinning.</p>\n"},{"tags":[],"owner":{"account_id":76593,"reputation":7148,"user_id":219153,"accept_rate":73,"display_name":"Paul Jurczak"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1449357094,"creation_date":1449357094,"answer_id":34112044,"question_id":10784951,"body_markdown":"Have a look at [Performance comparison between Java and JNI for optimal implementation of computational micro-kernels][1]. They show that Java HotSpot VM server compiler supports auto-vectorization using Super-word Level Parallelism, which is limited to simple cases of inside the loop parallelism. This article will also give you some guidance whether your data size is large enough to justify going JNI route.\r\n\r\n\r\n  [1]: http://arxiv.org/abs/1412.6765","title":"Do any JVM&#39;s JIT compilers generate code that uses vectorized floating point instructions?","body":"<p>Have a look at <a href=\"http://arxiv.org/abs/1412.6765\" rel=\"nofollow\">Performance comparison between Java and JNI for optimal implementation of computational micro-kernels</a>. They show that Java HotSpot VM server compiler supports auto-vectorization using Super-word Level Parallelism, which is limited to simple cases of inside the loop parallelism. This article will also give you some guidance whether your data size is large enough to justify going JNI route.</p>\n"},{"tags":[],"owner":{"account_id":76000,"reputation":5341,"user_id":217852,"accept_rate":100,"display_name":"kokosing"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1498680599,"creation_date":1498680599,"answer_id":44811712,"question_id":10784951,"body_markdown":"Here is nice article about experimenting with Java and SIMD instructions written by my friend:\r\nhttp://prestodb.rocks/code/simd/\r\n\r\nIts general outcome is that you can expect JIT to use some SSE operations in 1.8 (and some more in 1.9). Though you should not expect much and you need to be careful. ","title":"Do any JVM&#39;s JIT compilers generate code that uses vectorized floating point instructions?","body":"<p>Here is nice article about experimenting with Java and SIMD instructions written by my friend:\n<a href=\"http://prestodb.rocks/code/simd/\" rel=\"noreferrer\">http://prestodb.rocks/code/simd/</a></p>\n\n<p>Its general outcome is that you can expect JIT to use some SSE operations in 1.8 (and some more in 1.9). Though you should not expect much and you need to be careful. </p>\n"},{"tags":[],"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1640172177,"creation_date":1640106339,"answer_id":70439108,"question_id":10784951,"body_markdown":"Java 16 introduced the Vector API ([JEP 417](https://openjdk.java.net/jeps/417), [JEP 414](https://openjdk.java.net/jeps/414), [JEP 338](https://openjdk.java.net/jeps/338)). It is currently &quot;incubating&quot; (ie, beta), although anyone can use it. It will probably become GA in Java 19 or 20.\r\n\r\nIt&#39;s a little verbose, but is meant to be reliable and portable.\r\n\r\nThe following code can be rewritten:\r\n\r\n    void scalarComputation(float[] a, float[] b, float[] c) {\r\n       assert a.length == b.length &amp;&amp; b.length == c.length;\r\n       for (int i = 0; i &lt; a.length; i++) {\r\n            c[i] = (a[i] * a[i] + b[i] * b[i]) * -1.0f;\r\n       }\r\n    }\r\n\r\nUsing the Vector API:\r\n\r\n    static final VectorSpecies&lt;Float&gt; SPECIES = FloatVector.SPECIES_PREFERRED;\r\n    \r\n    void vectorComputation(float[] a, float[] b, float[] c) {\r\n        assert a.length == b.length &amp;&amp; b.length == c.length;\r\n        int i = 0;\r\n        int upperBound = SPECIES.loopBound(a.length);\r\n        for (; i &lt; upperBound; i += SPECIES.length()) {\r\n            // FloatVector va, vb, vc;\r\n            var va = FloatVector.fromArray(SPECIES, a, i);\r\n            var vb = FloatVector.fromArray(SPECIES, b, i);\r\n            var vc = va.mul(va)\r\n                       .add(vb.mul(vb))\r\n                       .neg();\r\n            vc.intoArray(c, i);\r\n        }\r\n        for (; i &lt; a.length; i++) {\r\n            c[i] = (a[i] * a[i] + b[i] * b[i]) * -1.0f;\r\n        }\r\n    }\r\n\r\nNewer builds (ie, Java 18) are trying to get rid of that last for loop using predicate instructions, but support for that is still supposedly spotty.","title":"Do any JVM&#39;s JIT compilers generate code that uses vectorized floating point instructions?","body":"<p>Java 16 introduced the Vector API (<a href=\"https://openjdk.java.net/jeps/417\" rel=\"nofollow noreferrer\">JEP 417</a>, <a href=\"https://openjdk.java.net/jeps/414\" rel=\"nofollow noreferrer\">JEP 414</a>, <a href=\"https://openjdk.java.net/jeps/338\" rel=\"nofollow noreferrer\">JEP 338</a>). It is currently &quot;incubating&quot; (ie, beta), although anyone can use it. It will probably become GA in Java 19 or 20.</p>\n<p>It's a little verbose, but is meant to be reliable and portable.</p>\n<p>The following code can be rewritten:</p>\n<pre><code>void scalarComputation(float[] a, float[] b, float[] c) {\n   assert a.length == b.length &amp;&amp; b.length == c.length;\n   for (int i = 0; i &lt; a.length; i++) {\n        c[i] = (a[i] * a[i] + b[i] * b[i]) * -1.0f;\n   }\n}\n</code></pre>\n<p>Using the Vector API:</p>\n<pre><code>static final VectorSpecies&lt;Float&gt; SPECIES = FloatVector.SPECIES_PREFERRED;\n\nvoid vectorComputation(float[] a, float[] b, float[] c) {\n    assert a.length == b.length &amp;&amp; b.length == c.length;\n    int i = 0;\n    int upperBound = SPECIES.loopBound(a.length);\n    for (; i &lt; upperBound; i += SPECIES.length()) {\n        // FloatVector va, vb, vc;\n        var va = FloatVector.fromArray(SPECIES, a, i);\n        var vb = FloatVector.fromArray(SPECIES, b, i);\n        var vc = va.mul(va)\n                   .add(vb.mul(vb))\n                   .neg();\n        vc.intoArray(c, i);\n    }\n    for (; i &lt; a.length; i++) {\n        c[i] = (a[i] * a[i] + b[i] * b[i]) * -1.0f;\n    }\n}\n</code></pre>\n<p>Newer builds (ie, Java 18) are trying to get rid of that last for loop using predicate instructions, but support for that is still supposedly spotty.</p>\n"}],"owner":{"account_id":25066,"reputation":66292,"user_id":64174,"accept_rate":100,"display_name":"Sean Owen"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28382,"favorite_count":0,"down_vote_count":0,"up_vote_count":100,"accepted_answer_id":10809123,"answer_count":9,"score":100,"last_activity_date":1640172177,"creation_date":1338209301,"question_id":10784951,"body_markdown":"Let&#39;s say the bottleneck of my Java program really is some tight loops to compute a bunch of vector dot products. Yes I&#39;ve profiled, yes it&#39;s the bottleneck, yes it&#39;s significant, yes that&#39;s just how the algorithm is, yes I&#39;ve run Proguard to optimize the byte code, etc.\r\n\r\nThe work is, essentially, dot products. As in, I have two `float[50]` and I need to compute the sum of pairwise products. I know processor instruction sets exist to perform these kind of operations quickly and in bulk, like SSE or MMX.\r\n\r\nYes I can probably access these by writing some native code in JNI. The JNI call turns out to  be pretty expensive.\r\n\r\nI know you can&#39;t guarantee what a JIT will compile or not compile. Has anyone *ever* heard of a JIT generating code that uses these instructions? and if so, is there anything about the Java code that helps make it compilable this way?\r\n\r\nProbably a &quot;no&quot;; worth asking.","title":"Do any JVM&#39;s JIT compilers generate code that uses vectorized floating point instructions?","body":"<p>Let's say the bottleneck of my Java program really is some tight loops to compute a bunch of vector dot products. Yes I've profiled, yes it's the bottleneck, yes it's significant, yes that's just how the algorithm is, yes I've run Proguard to optimize the byte code, etc.</p>\n\n<p>The work is, essentially, dot products. As in, I have two <code>float[50]</code> and I need to compute the sum of pairwise products. I know processor instruction sets exist to perform these kind of operations quickly and in bulk, like SSE or MMX.</p>\n\n<p>Yes I can probably access these by writing some native code in JNI. The JNI call turns out to  be pretty expensive.</p>\n\n<p>I know you can't guarantee what a JIT will compile or not compile. Has anyone <em>ever</em> heard of a JIT generating code that uses these instructions? and if so, is there anything about the Java code that helps make it compilable this way?</p>\n\n<p>Probably a \"no\"; worth asking.</p>\n"},{"tags":["java","spring-boot","unit-testing","mockito","junit5"],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640171952,"creation_date":1640171952,"answer_id":70448232,"question_id":70448197,"body_markdown":"You are almost there:\r\n\r\n    when(apiUrlUtil.getNextUrl(Mockito.any())).thenReturn(&quot;nextUrl&quot;);\r\n\r\nyou can turn that into\r\n\r\n    when(apiUrlUtil.getNextUrl(Mockito.any())).thenThrow( ... )\r\n\r\nand have that throw whatever you want. \r\n\r\nOf course, you also want to adapt the *assertions* accordingly, for example to check for that 404 status and &quot;Not Found&quot; message.\r\n\r\nBut note, the real answer here is: read the documentation, and do your own research. ","title":"How to throw and mock exception in mockito and Junit5. And how to write test case for that","body":"<p>You are almost there:</p>\n<pre><code>when(apiUrlUtil.getNextUrl(Mockito.any())).thenReturn(&quot;nextUrl&quot;);\n</code></pre>\n<p>you can turn that into</p>\n<pre><code>when(apiUrlUtil.getNextUrl(Mockito.any())).thenThrow( ... )\n</code></pre>\n<p>and have that throw whatever you want.</p>\n<p>Of course, you also want to adapt the <em>assertions</em> accordingly, for example to check for that 404 status and &quot;Not Found&quot; message.</p>\n<p>But note, the real answer here is: read the documentation, and do your own research.</p>\n"}],"owner":{"account_id":17849762,"reputation":104,"user_id":12965752,"display_name":"Bhushan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1618,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1640171952,"creation_date":1640171754,"question_id":70448197,"body_markdown":"When the URL is wrong or something wrong with the response during third party API call in getMethodWithHeader this method will throw HttpClientErrorException so how to write a test case for this\r\n\r\n**This is my main code method**\r\n\r\n    public JSONObject callRespectiveAPI(String url, String apiKeyAndPassword) {\r\n\t\tJSONObject result = new JSONObject();\r\n\t\ttry {\r\n\t\t\tString accessToken = apiUrlUtil.getAccessToken(apiKeyAndPassword);\r\n\t\t\tResponseEntity&lt;String&gt; response = apiUrlUtil.getMethodWithHeader(url, accessToken);\r\n\t\t\tString nextUrl = apiUrlUtil.getNextUrl(response.getHeaders());\r\n\t\t\tresult = JSONObject.fromObject(response.getBody());\r\n\t\t\tresult.put(&quot;nextUrl&quot;, nextUrl);\r\n\t\t\t\r\n\t\t} catch(HttpClientErrorException e) {\r\n\t\t\tresult.put(&quot;status&quot;, &quot;404&quot;);\r\n\t\t\tresult.put(&quot;message&quot;, &quot;Not Found&quot;);\r\n\t\t\tLOGGER.error(e.getMessage());\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\nI want to throw HttpClientErrorException and test it\r\n\r\n**This is the test code**\r\n\r\n    @Test\r\n\tpublic void callRespectiveAPITest2() {\r\n\t\tJSONObject object = new JSONObject();\r\n\t\tobject.put(&quot;success&quot;, true);\r\n\t\tResponseEntity&lt;String&gt; response = new ResponseEntity&lt;String&gt;(object.toString(), HttpStatus.OK);\r\n\t\twhen(apiUrlUtil.getAccessToken(Mockito.anyString())).thenReturn(&quot;accessToken&quot;);\r\n\t\twhen(apiUrlUtil.getMethodWithHeader(Mockito.anyString(), Mockito.anyString())).thenReturn(response);\r\n\t\twhen(apiUrlUtil.getNextUrl(Mockito.any())).thenReturn(&quot;nextUrl&quot;);\r\n\r\n\t\tassertEquals(true, shopifyService.callRespectiveAPI(&quot;nextUrl&quot;, &quot;accessToken&quot;).get(&quot;success&quot;));\r\n\t}","title":"How to throw and mock exception in mockito and Junit5. And how to write test case for that","body":"<p>When the URL is wrong or something wrong with the response during third party API call in getMethodWithHeader this method will throw HttpClientErrorException so how to write a test case for this</p>\n<p><strong>This is my main code method</strong></p>\n<pre><code>public JSONObject callRespectiveAPI(String url, String apiKeyAndPassword) {\n    JSONObject result = new JSONObject();\n    try {\n        String accessToken = apiUrlUtil.getAccessToken(apiKeyAndPassword);\n        ResponseEntity&lt;String&gt; response = apiUrlUtil.getMethodWithHeader(url, accessToken);\n        String nextUrl = apiUrlUtil.getNextUrl(response.getHeaders());\n        result = JSONObject.fromObject(response.getBody());\n        result.put(&quot;nextUrl&quot;, nextUrl);\n        \n    } catch(HttpClientErrorException e) {\n        result.put(&quot;status&quot;, &quot;404&quot;);\n        result.put(&quot;message&quot;, &quot;Not Found&quot;);\n        LOGGER.error(e.getMessage());\n    }\n    return result;\n}\n</code></pre>\n<p>I want to throw HttpClientErrorException and test it</p>\n<p><strong>This is the test code</strong></p>\n<pre><code>@Test\npublic void callRespectiveAPITest2() {\n    JSONObject object = new JSONObject();\n    object.put(&quot;success&quot;, true);\n    ResponseEntity&lt;String&gt; response = new ResponseEntity&lt;String&gt;(object.toString(), HttpStatus.OK);\n    when(apiUrlUtil.getAccessToken(Mockito.anyString())).thenReturn(&quot;accessToken&quot;);\n    when(apiUrlUtil.getMethodWithHeader(Mockito.anyString(), Mockito.anyString())).thenReturn(response);\n    when(apiUrlUtil.getNextUrl(Mockito.any())).thenReturn(&quot;nextUrl&quot;);\n\n    assertEquals(true, shopifyService.callRespectiveAPI(&quot;nextUrl&quot;, &quot;accessToken&quot;).get(&quot;success&quot;));\n}\n</code></pre>\n"},{"tags":["java","php","jquery","ajax","laravel"],"comments":[{"owner":{"account_id":14686604,"reputation":28244,"user_id":10606400,"display_name":"Swati"},"score":1,"creation_date":1639205493,"post_id":70300770,"comment_id":124293843,"body_markdown":"Hi, simple fix will be add this variable `var el = $(this)` outside ajax call and then inside success function of ajax change `$(&quot;select[name^=&#39;state&#39;&quot;)` to `el.closest(&quot;tr&quot;).find(&quot;select[name^=&#39;state&#39;]&quot;)` see if that works","body":"Hi, simple fix will be add this variable <code>var el = $(this)</code> outside ajax call and then inside success function of ajax change <code>$(&quot;select[name^=&#39;state&#39;&quot;)</code> to <code>el.closest(&quot;tr&quot;).find(&quot;select[name^=&#39;state&#39;]&quot;)</code> see if that works"},{"owner":{"account_id":18044098,"reputation":98,"user_id":13115532,"display_name":"chidruppa"},"score":0,"creation_date":1639369576,"post_id":70300770,"comment_id":124322885,"body_markdown":"Thank you @Swati it worked for me, I will click on answered if you write the code within answer field.","body":"Thank you @Swati it worked for me, I will click on answered if you write the code within answer field."}],"owner":{"account_id":18044098,"reputation":98,"user_id":13115532,"display_name":"chidruppa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":849,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1640171920,"creation_date":1639119361,"question_id":70300770,"body_markdown":"This is a simple Dynamic form so that I can select a country from the first select box. It will load all states of that country in each row.\r\nIt was working fine for the first row, but when I click `Add More` and select another country for the next row, it was loading the last selected row states in all rows.\r\n**Expected Results**\r\n\r\nhttp://demo.webslesson.info/demo-add-remove-dynamic-dependent-drop-down-box/\r\n\r\n\r\n**Create.blade.php**\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css&quot;&gt;\r\n    &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;table class=&quot;table&quot; id=&quot;dynamicTable12&quot;&gt;\r\n        &lt;tr&gt;\r\n          \r\n            &lt;th scope=&quot;col&quot; width=&quot;250&quot;&gt;Country&lt;/th&gt;\r\n            &lt;th scope=&quot;col&quot; width=&quot;250&quot;&gt;State&lt;/th&gt;\r\n        &lt;/tr&gt;\r\n        &lt;tr&gt;\r\n            \r\n            &lt;td&gt;\r\n                &lt;select name=&quot;country[0]&quot; class=&quot;form-control js&quot; id=&quot;state&quot; required=&quot;required&quot;&gt;\r\n                    &lt;option value=&quot;&quot;&gt;-- Select Project --&lt;/option&gt;\r\n                    @foreach ($countries as $key =&gt; $value)\r\n                    &lt;option value=&quot;{{ $key }}&quot;&gt;{{ $value }}&lt;/option&gt;\r\n                    @endforeach\r\n                &lt;/select&gt;\r\n            &lt;/td&gt;\r\n            &lt;td&gt;\r\n                &lt;select name=&quot;state[0]&quot; class=&quot;form-control js&quot;&gt;\r\n                    &lt;option&gt;-- Sub Head--&lt;/option&gt;\r\n                &lt;/select&gt;\r\n            &lt;/td&gt;\r\n            &lt;td&gt;&lt;button type=&quot;button&quot; name=&quot;add&quot; id=&quot;add12&quot; class=&quot;btn btn-success&quot;&gt;Add More&lt;/button&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/table&gt;\r\n\r\n    &lt;script type=&quot;text/javascript&quot;&gt;\r\n        $(document).ready(function () {\r\n\r\n            $(document.body).on(&quot;change.select2&quot;, &quot;select[name^=&#39;country&#39;]&quot;, function () {\r\n                var id_country = $(this).val();\r\n                var token = $(&quot;input[name=&#39;_token&#39;]&quot;).val();\r\n                $.ajax({\r\n                    url: &quot;&lt;?php echo route(&#39;select-ajax&#39;) ?&gt;&quot;,\r\n                    method: &#39;GET&#39;,\r\n                    dataType: &#39;json&#39;,\r\n                    data: { id_country: id_country, _token: token },\r\n                    success: function (data) {\r\n                        $(&quot;select[name^=&#39;state&#39;&quot;).html(&#39;&#39;);\r\n                        $(&quot;select[name^=&#39;state&#39;&quot;).html(data.options);\r\n                    }\r\n                });\r\n            });\r\n        });\r\n    &lt;/script&gt;\r\n\r\n    &lt;script&gt;\r\n\r\n        let initializeSelect2 = function () {\r\n            $(&#39;.js&#39;).select2();\r\n        }\r\n        var i = 0;\r\n        $(&quot;#add12&quot;).click(function () {\r\n            ++i;\r\n            $(&quot;#dynamicTable12&quot;).append(&#39;&lt;tr&gt; &lt;td&gt; &lt;select  class=&quot;form-control js&quot; name=&quot;country[&#39; + i + &#39;]&quot; required=&quot;required&quot;&gt;&lt;option value=&quot;&quot;&gt;--select--&lt;/option&gt;@foreach ($countries as $key =&gt; $value)&lt;option value=&quot;{{ $key }}&quot;&gt;{{ $value }}&lt;/option&gt;@endforeach&lt;/select&gt;&lt;/td&gt; &lt;td&gt; &lt;select name=&quot;state[&#39; + i + &#39;]&quot; class=&quot;form-control js&quot;&gt;&lt;option&gt;-- Sub Head--&lt;/option&gt;&lt;/select&gt;&lt;/td&gt;&lt;td&gt;&lt;button type=&quot;button&quot; class=&quot;btn btn-danger remove-tr&quot;&gt;Remove&lt;/button&gt;&lt;/td&gt;&lt;/tr&gt;&#39;);\r\n            initializeSelect2()\r\n        });\r\n        $(document).on(&#39;click&#39;, &#39;.remove-tr&#39;, function () {\r\n            $(this).parents(&#39;tr&#39;).remove();\r\n        });\r\n\r\n        $(document).ready(function () {\r\n            initializeSelect2()\r\n        });\r\n    &lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n**ajax-select.blade.php**\r\n```\r\n&lt;option value=&quot;0&quot;&gt;--- Select Sub-Head ---&lt;/option&gt;\r\n@if(!empty($states))\r\n  @foreach($states as $key =&gt; $value)\r\n    &lt;option value=&quot;{{ $key }}&quot;&gt;{{ $value }}&lt;/option&gt;\r\n  @endforeach\r\n@endif\r\n```\r\n**Controller**\r\n```\r\npublic function create()\r\n    {\r\n        $countries = DB::table(&#39;projects&#39;)-&gt;pluck(&quot;name&quot;,&quot;id&quot;)-&gt;all();\r\n        return view(&#39;create&#39;,compact(&#39;countries&#39;));\r\n    }\r\n\r\n public function selectAjax(Request $request) { \r\n        \r\n        if($request-&gt;ajax()){ $states = DB::table(&#39;project_heads&#39;)-&gt;where(&#39;project_id&#39;,$request-&gt;id_country)-&gt;pluck(&quot;head&quot;,&quot;id&quot;)-&gt;all(); \r\n        $data = view(&#39;ajax-select&#39;,compact(&#39;states&#39;))-&gt;render(); \r\n        return response()-&gt;json([&#39;options&#39;=&gt;$data]); } } \r\n    \r\n    }\r\n```\r\n","title":"Multiple added (dynamically) dependent select box Laravel","body":"<p>This is a simple Dynamic form so that I can select a country from the first select box. It will load all states of that country in each row.\nIt was working fine for the first row, but when I click <code>Add More</code> and select another country for the next row, it was loading the last selected row states in all rows.\n<strong>Expected Results</strong></p>\n<p><a href=\"http://demo.webslesson.info/demo-add-remove-dynamic-dependent-drop-down-box/\" rel=\"nofollow noreferrer\">http://demo.webslesson.info/demo-add-remove-dynamic-dependent-drop-down-box/</a></p>\n<p><strong>Create.blade.php</strong></p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css&quot;&gt;\n    &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;table class=&quot;table&quot; id=&quot;dynamicTable12&quot;&gt;\n        &lt;tr&gt;\n          \n            &lt;th scope=&quot;col&quot; width=&quot;250&quot;&gt;Country&lt;/th&gt;\n            &lt;th scope=&quot;col&quot; width=&quot;250&quot;&gt;State&lt;/th&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            \n            &lt;td&gt;\n                &lt;select name=&quot;country[0]&quot; class=&quot;form-control js&quot; id=&quot;state&quot; required=&quot;required&quot;&gt;\n                    &lt;option value=&quot;&quot;&gt;-- Select Project --&lt;/option&gt;\n                    @foreach ($countries as $key =&gt; $value)\n                    &lt;option value=&quot;{{ $key }}&quot;&gt;{{ $value }}&lt;/option&gt;\n                    @endforeach\n                &lt;/select&gt;\n            &lt;/td&gt;\n            &lt;td&gt;\n                &lt;select name=&quot;state[0]&quot; class=&quot;form-control js&quot;&gt;\n                    &lt;option&gt;-- Sub Head--&lt;/option&gt;\n                &lt;/select&gt;\n            &lt;/td&gt;\n            &lt;td&gt;&lt;button type=&quot;button&quot; name=&quot;add&quot; id=&quot;add12&quot; class=&quot;btn btn-success&quot;&gt;Add More&lt;/button&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n\n    &lt;script type=&quot;text/javascript&quot;&gt;\n        $(document).ready(function () {\n\n            $(document.body).on(&quot;change.select2&quot;, &quot;select[name^='country']&quot;, function () {\n                var id_country = $(this).val();\n                var token = $(&quot;input[name='_token']&quot;).val();\n                $.ajax({\n                    url: &quot;&lt;?php echo route('select-ajax') ?&gt;&quot;,\n                    method: 'GET',\n                    dataType: 'json',\n                    data: { id_country: id_country, _token: token },\n                    success: function (data) {\n                        $(&quot;select[name^='state'&quot;).html('');\n                        $(&quot;select[name^='state'&quot;).html(data.options);\n                    }\n                });\n            });\n        });\n    &lt;/script&gt;\n\n    &lt;script&gt;\n\n        let initializeSelect2 = function () {\n            $('.js').select2();\n        }\n        var i = 0;\n        $(&quot;#add12&quot;).click(function () {\n            ++i;\n            $(&quot;#dynamicTable12&quot;).append('&lt;tr&gt; &lt;td&gt; &lt;select  class=&quot;form-control js&quot; name=&quot;country[' + i + ']&quot; required=&quot;required&quot;&gt;&lt;option value=&quot;&quot;&gt;--select--&lt;/option&gt;@foreach ($countries as $key =&gt; $value)&lt;option value=&quot;{{ $key }}&quot;&gt;{{ $value }}&lt;/option&gt;@endforeach&lt;/select&gt;&lt;/td&gt; &lt;td&gt; &lt;select name=&quot;state[' + i + ']&quot; class=&quot;form-control js&quot;&gt;&lt;option&gt;-- Sub Head--&lt;/option&gt;&lt;/select&gt;&lt;/td&gt;&lt;td&gt;&lt;button type=&quot;button&quot; class=&quot;btn btn-danger remove-tr&quot;&gt;Remove&lt;/button&gt;&lt;/td&gt;&lt;/tr&gt;');\n            initializeSelect2()\n        });\n        $(document).on('click', '.remove-tr', function () {\n            $(this).parents('tr').remove();\n        });\n\n        $(document).ready(function () {\n            initializeSelect2()\n        });\n    &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>ajax-select.blade.php</strong></p>\n<pre><code>&lt;option value=&quot;0&quot;&gt;--- Select Sub-Head ---&lt;/option&gt;\n@if(!empty($states))\n  @foreach($states as $key =&gt; $value)\n    &lt;option value=&quot;{{ $key }}&quot;&gt;{{ $value }}&lt;/option&gt;\n  @endforeach\n@endif\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>public function create()\n    {\n        $countries = DB::table('projects')-&gt;pluck(&quot;name&quot;,&quot;id&quot;)-&gt;all();\n        return view('create',compact('countries'));\n    }\n\n public function selectAjax(Request $request) { \n        \n        if($request-&gt;ajax()){ $states = DB::table('project_heads')-&gt;where('project_id',$request-&gt;id_country)-&gt;pluck(&quot;head&quot;,&quot;id&quot;)-&gt;all(); \n        $data = view('ajax-select',compact('states'))-&gt;render(); \n        return response()-&gt;json(['options'=&gt;$data]); } } \n    \n    }\n</code></pre>\n"},{"tags":["java","byte","bit"],"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":1,"creation_date":1640172512,"post_id":70448220,"comment_id":124531304,"body_markdown":"`0xFF` as byte is `0x000000FF` as an int. If for some reason Java uses ints to calculate, you make sure that other possible bytes in the front are &#39;cut off&#39;. I am not sure this will have a real effect in the method posted above; simply try it out. But when it comes to byte shifting and masking, lots of unexpected things can happen, especially with the sign bit. When casting a negative `byte` to `int`, will it look like `0b 10000000 00000000 00000000 0xxxxxxx` or like `0b 00000000 00000000 00000000 1xxxxxxx`? Check out the Java Language Specification for more info on those topics.","body":"<code>0xFF</code> as byte is <code>0x000000FF</code> as an int. If for some reason Java uses ints to calculate, you make sure that other possible bytes in the front are &#39;cut off&#39;. I am not sure this will have a real effect in the method posted above; simply try it out. But when it comes to byte shifting and masking, lots of unexpected things can happen, especially with the sign bit. When casting a negative <code>byte</code> to <code>int</code>, will it look like <code>0b 10000000 00000000 00000000 0xxxxxxx</code> or like <code>0b 00000000 00000000 00000000 1xxxxxxx</code>? Check out the Java Language Specification for more info on those topics."},{"owner":{"account_id":20044429,"reputation":109,"user_id":14694459,"display_name":"Luqus"},"score":0,"creation_date":1640173214,"post_id":70448220,"comment_id":124531516,"body_markdown":"According to Java&#39;s `Integer.toBinaryString()` `Integer.toBinaryString((byte) 128);` is 11111111111111111111111110000000 and `Integer.toBinaryString((byte)128 &amp; 0xff)` is 10000000. I think you are right and this just ensures that resulting numbers still are &quot;as long as a byte&quot; even they are an integer.","body":"According to Java&#39;s <code>Integer.toBinaryString()</code> <code>Integer.toBinaryString((byte) 128);</code> is 11111111111111111111111110000000 and <code>Integer.toBinaryString((byte)128 &amp; 0xff)</code> is 10000000. I think you are right and this just ensures that resulting numbers still are &quot;as long as a byte&quot; even they are an integer."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":2,"creation_date":1640173220,"post_id":70448220,"comment_id":124531517,"body_markdown":"I think it may have effect if bit 7 of the byte is 1. That is, anything between 0x80 and 0xFF. Without the mask, that bit will be taken as sign and extended to become 0xFFFFFF80-0xFFFFFFFF. With the mask, you get the unsigned integer.","body":"I think it may have effect if bit 7 of the byte is 1. That is, anything between 0x80 and 0xFF. Without the mask, that bit will be taken as sign and extended to become 0xFFFFFF80-0xFFFFFFFF. With the mask, you get the unsigned integer."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1640173555,"post_id":70448220,"comment_id":124531646,"body_markdown":"Right, this is commonly done to treat the byte as an unsigned integer.  Bytes in Java are normally signed.  And-ing the byte with 0xFF sign extends it to an integer but then just grabs the lower 8 bits of the int, resulting in an unsigned value between 0-255.","body":"Right, this is commonly done to treat the byte as an unsigned integer.  Bytes in Java are normally signed.  And-ing the byte with 0xFF sign extends it to an integer but then just grabs the lower 8 bits of the int, resulting in an unsigned value between 0-255."},{"owner":{"account_id":20044429,"reputation":109,"user_id":14694459,"display_name":"Luqus"},"score":0,"creation_date":1640173571,"post_id":70448220,"comment_id":124531655,"body_markdown":"You are right. 0xFF will result in 0xFFFFFFFF when converted to integer, 0x7F will result in 0x7F. The use of &amp; 0xFF (0x000000FF) will just cut off all but the last 8 bit.","body":"You are right. 0xFF will result in 0xFFFFFFFF when converted to integer, 0x7F will result in 0x7F. The use of &amp; 0xFF (0x000000FF) will just cut off all but the last 8 bit."}],"owner":{"account_id":20044429,"reputation":109,"user_id":14694459,"display_name":"Luqus"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640171886,"creation_date":1640171886,"question_id":70448220,"body_markdown":"I had a look at the Twofish source code in Java and discovered this line, which I don&#39;t quite understand. \r\n```java\r\npublic static byte[] blockEncrypt (byte[] in, int inOffset, Object sessionKey) {\r\n    int x0 = (in[inOffset++] &amp; 0xFF) | (in[inOffset++] &amp; 0xFF) &lt;&lt;  8 | (in[inOffset++] &amp; 0xFF) &lt;&lt; 16 | (in[inOffset++] &amp; 0xFF) &lt;&lt; 24;\r\n}\r\n```\r\nHere, a byte is offset with a logical AND with 0xFF (11111111). Why is this done? If I take an 8-bit value and calculate it &amp; (logical AND) 0xFF, the value I had previously is returned in the end, because only the bits that were 1 in the original value are taken over. (11010011 &amp; 11111111 should result in 11010011)\r\n\r\n","title":"byte &amp; 0xff | Java","body":"<p>I had a look at the Twofish source code in Java and discovered this line, which I don't quite understand.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static byte[] blockEncrypt (byte[] in, int inOffset, Object sessionKey) {\n    int x0 = (in[inOffset++] &amp; 0xFF) | (in[inOffset++] &amp; 0xFF) &lt;&lt;  8 | (in[inOffset++] &amp; 0xFF) &lt;&lt; 16 | (in[inOffset++] &amp; 0xFF) &lt;&lt; 24;\n}\n</code></pre>\n<p>Here, a byte is offset with a logical AND with 0xFF (11111111). Why is this done? If I take an 8-bit value and calculate it &amp; (logical AND) 0xFF, the value I had previously is returned in the end, because only the bits that were 1 in the original value are taken over. (11010011 &amp; 11111111 should result in 11010011)</p>\n"},{"tags":["java","jakarta-ee","wildfly"],"comments":[{"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"score":0,"creation_date":1640175141,"post_id":70448163,"comment_id":124532239,"body_markdown":"Are you using WildFly 26 preview ? Standard WildFly is still JakartaEE 8. Aslo those modules should be aliases to the jakarta one if you are on preview.","body":"Are you using WildFly 26 preview ? Standard WildFly is still JakartaEE 8. Aslo those modules should be aliases to the jakarta one if you are on preview."},{"owner":{"account_id":10164227,"reputation":33,"user_id":7506700,"display_name":"Gerry Askefalk"},"score":0,"creation_date":1640264993,"post_id":70448163,"comment_id":124556565,"body_markdown":"Yes i am using 26.0 Final Java EE9.1 Preview.","body":"Yes i am using 26.0 Final Java EE9.1 Preview."},{"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"score":0,"creation_date":1640267640,"post_id":70448163,"comment_id":124557433,"body_markdown":"I think you should fill a Jira on Wildfly about this.","body":"I think you should fill a Jira on Wildfly about this."},{"owner":{"account_id":10164227,"reputation":33,"user_id":7506700,"display_name":"Gerry Askefalk"},"score":0,"creation_date":1640552382,"post_id":70448163,"comment_id":124604290,"body_markdown":"Ok, so i got this sorted.\n\nThe key is to NOT have the JAX-RS dep, that is instead now part of Core.\n\nBut with a different interface (of course).\n\nWas it well documented? No.\n\n\nIf someone has the same issues, just write and i can elaborate.","body":"Ok, so i got this sorted.  The key is to NOT have the JAX-RS dep, that is instead now part of Core.  But with a different interface (of course).  Was it well documented? No.   If someone has the same issues, just write and i can elaborate."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":1,"creation_date":1640662182,"post_id":70448163,"comment_id":124627272,"body_markdown":"It looks like currently the RESTEasy documentation is not working. However, I think this was documented in the upgrade from RESTEasy 3.x to 4.x. Also you should not include dependencies the container provides.","body":"It looks like currently the RESTEasy documentation is not working. However, I think this was documented in the upgrade from RESTEasy 3.x to 4.x. Also you should not include dependencies the container provides."},{"owner":{"account_id":10164227,"reputation":33,"user_id":7506700,"display_name":"Gerry Askefalk"},"score":0,"creation_date":1640780238,"post_id":70448163,"comment_id":124656257,"body_markdown":"No of course not, BUT we need the deps to be able to for isntance use the context.\nIn version 4 one could use Static methods like this.\n\n\n  ResteasyProviderFactory.pushContext(Foo.class, foo);\n\nFoo foo = ResteasyProviderFactory.getContextData(Foo.class);\n\nHowever now that is removed.\nResteasyProviderFactory factory = ResteasyProviderFactory.getInstance();\n\n Map&lt;String, Object&gt; contextProperties = new HashMap&lt;&gt;();\n\n        contextProperties.put(&quot;foo&quot;,foo);\n\n        factory.setProperties(contextProperties);\n\nAnd to read\n\nreturn (Foo)factory.getProperties().get(&quot;foo&quot;);","body":"No of course not, BUT we need the deps to be able to for isntance use the context. In version 4 one could use Static methods like this.     ResteasyProviderFactory.pushContext(Foo.class, foo);  Foo foo = ResteasyProviderFactory.getContextData(Foo.class);  However now that is removed. ResteasyProviderFactory factory = ResteasyProviderFactory.getInstance();   Map&lt;String, Object&gt; contextProperties = new HashMap&lt;&gt;();          contextProperties.put(&quot;foo&quot;,foo);          factory.setProperties(contextProperties);  And to read  return (Foo)factory.getProperties().get(&quot;foo&quot;);"}],"owner":{"account_id":10164227,"reputation":33,"user_id":7506700,"display_name":"Gerry Askefalk"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":995,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1640171594,"creation_date":1640171594,"question_id":70448163,"body_markdown":"**Background**\r\nTransforming a Wildfly 17 Java EE project (EAR) to Wildfly 26 and Jakarta EE9.1\r\nUpdated all dependencies and changed imports. Also some code changes necessary.\r\n\r\nNow i am stuck on resteasy-core-spi-6.0.0.Beta1\r\n\r\n\r\nWhen deploying i get this error:\r\n\r\n*Caused by: java.lang.IncompatibleClassChangeError: Expected static method &#39;java.lang.Object org.jboss.resteasy.spi.ResteasyProviderFactory.getContextData(java.lang.Class)&#39;*\r\n\r\n\r\n\r\nThe Code that calls this method looks like this.\r\n\r\nFooClass foo = ResteasyProviderFactory.getContextData(FooClass .class);\r\n\r\n\r\nA look at the SPI Class reveals this.\r\n\r\n     public static &lt;T&gt; T getContextData(Class&lt;T&gt; type) {\r\n        return getContextDataMap().get(type);\r\n    }\r\n\r\n\r\nThat looks perfectly fine.\r\n\r\nExamining the Wildfly system dir and looking in the module for same jar.(resteasy-core-spi-6.0.0.Beta1,jar)\r\n\r\nreveals this\r\n\r\n &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!--\r\n  ~ Copyright 2021 Red Hat, Inc.\r\n  ~\r\n  ~ Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\r\n  ~ you may not use this file except in compliance with the License.\r\n  ~ You may obtain a copy of the License at\r\n  ~\r\n  ~   http://www.apache.org/licenses/LICENSE-2.0\r\n  ~\r\n  ~ Unless required by applicable law or agreed to in writing, software\r\n  ~ distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n  ~ See the License for the specific language governing permissions and\r\n  ~ limitations under the License.\r\n  --&gt;\r\n&lt;module name=&quot;org.jboss.resteasy.resteasy-core-spi&quot; xmlns=&quot;urn:jboss:module:1.9&quot;&gt;\r\n\r\n    &lt;resources&gt;\r\n        &lt;resource-root path=&quot;resteasy-core-spi-6.0.0.Beta1.jar&quot;/&gt;\r\n    &lt;/resources&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;module name=&quot;java.desktop&quot;/&gt;\r\n        &lt;module name=&quot;java.logging&quot;/&gt;\r\n        &lt;module name=&quot;java.management&quot;/&gt;\r\n        &lt;module name=&quot;java.naming&quot;/&gt;\r\n        &lt;module name=&quot;java.xml&quot;/&gt;\r\n        &lt;module name=&quot;javax.activation.api&quot;/&gt;\r\n        &lt;module name=&quot;javax.annotation.api&quot;/&gt;\r\n        &lt;module name=&quot;javax.enterprise.api&quot;/&gt;\r\n        &lt;module name=&quot;javax.servlet.api&quot;/&gt;\r\n        &lt;module name=&quot;javax.validation.api&quot;/&gt;\r\n        &lt;module name=&quot;javax.xml.bind.api&quot;/&gt;\r\n        &lt;module name=&quot;javax.ws.rs.api&quot;/&gt;\r\n        &lt;module name=&quot;org.jboss.logging&quot;/&gt;\r\n        &lt;module name=&quot;org.reactivestreams&quot;/&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/module&gt;\r\n\r\n\r\nI tried to update that to jakarta namespace but no change.\r\n\r\nI am at a loss here, do anyone have some ideas?\r\n","title":"Wildfly 26 Jakarta EE 9.1","body":"<p><strong>Background</strong>\nTransforming a Wildfly 17 Java EE project (EAR) to Wildfly 26 and Jakarta EE9.1\nUpdated all dependencies and changed imports. Also some code changes necessary.</p>\n<p>Now i am stuck on resteasy-core-spi-6.0.0.Beta1</p>\n<p>When deploying i get this error:</p>\n<p><em>Caused by: java.lang.IncompatibleClassChangeError: Expected static method 'java.lang.Object org.jboss.resteasy.spi.ResteasyProviderFactory.getContextData(java.lang.Class)'</em></p>\n<p>The Code that calls this method looks like this.</p>\n<p>FooClass foo = ResteasyProviderFactory.getContextData(FooClass .class);</p>\n<p>A look at the SPI Class reveals this.</p>\n<pre><code> public static &lt;T&gt; T getContextData(Class&lt;T&gt; type) {\n    return getContextDataMap().get(type);\n}\n</code></pre>\n<p>That looks perfectly fine.</p>\n<p>Examining the Wildfly system dir and looking in the module for same jar.(resteasy-core-spi-6.0.0.Beta1,jar)</p>\n<p>reveals this</p>\n \n\n\n<pre><code>&lt;resources&gt;\n    &lt;resource-root path=&quot;resteasy-core-spi-6.0.0.Beta1.jar&quot;/&gt;\n&lt;/resources&gt;\n\n&lt;dependencies&gt;\n    &lt;module name=&quot;java.desktop&quot;/&gt;\n    &lt;module name=&quot;java.logging&quot;/&gt;\n    &lt;module name=&quot;java.management&quot;/&gt;\n    &lt;module name=&quot;java.naming&quot;/&gt;\n    &lt;module name=&quot;java.xml&quot;/&gt;\n    &lt;module name=&quot;javax.activation.api&quot;/&gt;\n    &lt;module name=&quot;javax.annotation.api&quot;/&gt;\n    &lt;module name=&quot;javax.enterprise.api&quot;/&gt;\n    &lt;module name=&quot;javax.servlet.api&quot;/&gt;\n    &lt;module name=&quot;javax.validation.api&quot;/&gt;\n    &lt;module name=&quot;javax.xml.bind.api&quot;/&gt;\n    &lt;module name=&quot;javax.ws.rs.api&quot;/&gt;\n    &lt;module name=&quot;org.jboss.logging&quot;/&gt;\n    &lt;module name=&quot;org.reactivestreams&quot;/&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>I tried to update that to jakarta namespace but no change.</p>\n<p>I am at a loss here, do anyone have some ideas?</p>\n"},{"tags":["java","eclipse","performance","liferay-6"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1640171525,"post_id":70448016,"comment_id":124530967,"body_markdown":"That looks like Eclipse Kepler which is now 19 releases old, how about trying something newer with an up to date Java. Current versions of Eclipse can still develop code for older versions of Java.","body":"That looks like Eclipse Kepler which is now 19 releases old, how about trying something newer with an up to date Java. Current versions of Eclipse can still develop code for older versions of Java."},{"owner":{"account_id":3191574,"reputation":1,"user_id":2695700,"display_name":"user2695700"},"score":0,"creation_date":1640336943,"post_id":70448016,"comment_id":124571951,"body_markdown":"I’m currently using Luna eclipse\nIt takes more 10s when I click a folder/package to expand in the project in eclipse","body":"I’m currently using Luna eclipse It takes more 10s when I click a folder/package to expand in the project in eclipse"},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1640339827,"post_id":70448016,"comment_id":124572634,"body_markdown":"Luna is still 7 years and 18 releases old. This may also depend on your operating system / file system - some file systems don&#39;t perform well with large folders.","body":"Luna is still 7 years and 18 releases old. This may also depend on your operating system / file system - some file systems don&#39;t perform well with large folders."},{"owner":{"account_id":3191574,"reputation":1,"user_id":2695700,"display_name":"user2695700"},"score":0,"creation_date":1659580130,"post_id":70448016,"comment_id":129330040,"body_markdown":"At last I use Liferay-developer-studio to develop, it is fast and have many functions supporting for liferay","body":"At last I use Liferay-developer-studio to develop, it is fast and have many functions supporting for liferay"}],"owner":{"account_id":3191574,"reputation":1,"user_id":2695700,"display_name":"user2695700"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640170943,"creation_date":1640170943,"question_id":70448016,"body_markdown":"I have a liferay 6.2 project with thousand files in source folder\r\nI use eclipse IDE to develop and it has a annoyed issue: each time I click a folder in eclipse, it take long time to open the folder to see files and subfolders\r\nI have config the eclipse.ini of eclipse to tuning eclipse performance but it does not have any effect.\r\nPlease me the suggestion to speedup eclipse\r\n\r\nBellow is the content of eclipse.ini\r\n\r\n    -startup\r\n    plugins/org.eclipse.equinox.launcher_1.3.0.v20140415-2008.jar\r\n    --launcher.library\r\n    plugins/org.eclipse.equinox.launcher.win32.win32.x86_64_1.1.200.v20140603-1326\r\n    -product\r\n    org.eclipse.epp.package.jee.product\r\n    --launcher.defaultAction\r\n    openFile\r\n    --launcher.XXMaxPermSize\r\n    2048M\r\n    -showsplash\r\n    org.eclipse.platform\r\n    --launcher.XXMaxPermSize\r\n    4096m\r\n    --launcher.defaultAction\r\n    openFile\r\n    --launcher.appendVmargs\r\n    -vmargs\r\n    -Dosgi.requiredJavaVersion=1.6\r\n    -Xms2048m\r\n    -Xmx4096m\r\n    -Xverify:none","title":"How to speed up reading files of a project in eclipse","body":"<p>I have a liferay 6.2 project with thousand files in source folder\nI use eclipse IDE to develop and it has a annoyed issue: each time I click a folder in eclipse, it take long time to open the folder to see files and subfolders\nI have config the eclipse.ini of eclipse to tuning eclipse performance but it does not have any effect.\nPlease me the suggestion to speedup eclipse</p>\n<p>Bellow is the content of eclipse.ini</p>\n<pre><code>-startup\nplugins/org.eclipse.equinox.launcher_1.3.0.v20140415-2008.jar\n--launcher.library\nplugins/org.eclipse.equinox.launcher.win32.win32.x86_64_1.1.200.v20140603-1326\n-product\norg.eclipse.epp.package.jee.product\n--launcher.defaultAction\nopenFile\n--launcher.XXMaxPermSize\n2048M\n-showsplash\norg.eclipse.platform\n--launcher.XXMaxPermSize\n4096m\n--launcher.defaultAction\nopenFile\n--launcher.appendVmargs\n-vmargs\n-Dosgi.requiredJavaVersion=1.6\n-Xms2048m\n-Xmx4096m\n-Xverify:none\n</code></pre>\n"},{"tags":["java","swing","floating","i3"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1640176320,"post_id":70447905,"comment_id":124532661,"body_markdown":"Are you referring to a [JDialog or JOptionPane](https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html)?","body":"Are you referring to a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html\" rel=\"nofollow noreferrer\">JDialog or JOptionPane</a>?"},{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1640920173,"post_id":70447905,"comment_id":124691635,"body_markdown":"Do you know about modal windows? https://stackoverflow.com/questions/1481405/how-to-make-a-jframe-modal-in-swing-java","body":"Do you know about modal windows? <a href=\"https://stackoverflow.com/questions/1481405/how-to-make-a-jframe-modal-in-swing-java\" title=\"how to make a jframe modal in swing java\">stackoverflow.com/questions/1481405/&hellip;</a>"}],"owner":{"account_id":15218644,"reputation":860,"user_id":10981198,"display_name":"G L"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640170433,"creation_date":1640170433,"question_id":70447905,"body_markdown":"I use i3 tiling manager. Was wondering how to force Java Swing windows to floating mode. See python&#39;s tkinter solution:\r\n\r\nhttps://stackoverflow.com/q/35830851/13850406\r\n\r\ntl;dr:\r\n```\r\nroot = Tk()\r\nroot.attributes(&#39;-type&#39;, &#39;dialog&#39;)&#39;\r\n```","title":"Force Java Swing window to floating mode","body":"<p>I use i3 tiling manager. Was wondering how to force Java Swing windows to floating mode. See python's tkinter solution:</p>\n<p><a href=\"https://stackoverflow.com/q/35830851/13850406\">How to make tkinter Window floating in i3 windowmanager</a></p>\n<p>tl;dr:</p>\n<pre><code>root = Tk()\nroot.attributes('-type', 'dialog')'\n</code></pre>\n"},{"tags":["java","java-17"],"comments":[{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":0,"creation_date":1640170767,"post_id":70447864,"comment_id":124530694,"body_markdown":"I think this is a legit question in 2021 given that JRE is no longer a thing (except for Adoptium which still builds them).","body":"I think this is a legit question in 2021 given that JRE is no longer a thing (except for Adoptium which still builds them)."},{"owner":{"account_id":1554291,"reputation":3889,"user_id":1445898,"accept_rate":75,"display_name":"Sergey Alaev"},"score":0,"creation_date":1640170988,"post_id":70447864,"comment_id":124530773,"body_markdown":"Linked answer is very old and probably no longer valid for newest JDK","body":"Linked answer is very old and probably no longer valid for newest JDK"},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":0,"creation_date":1640173100,"post_id":70447864,"comment_id":124531480,"body_markdown":"I definitely think the actual difference is the same - less advanced JIT compilation (no C2?), less aggressive settings. The question is whether it&#39;s even possible to get a client JDK nowadays. On my end (Temurin 17 on Mac OS) `-client` is simply ignored. I see some &quot;client&quot; mentions on https://docs.oracle.com/en/java/javase/11/tools/java.html, but none on https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html. The linked question also says _&quot;A 64-bit capable JDK currently ignores this option and instead uses the Java Hotspot Server VM.&quot;_. So, why are you looking into this?","body":"I definitely think the actual difference is the same - less advanced JIT compilation (no C2?), less aggressive settings. The question is whether it&#39;s even possible to get a client JDK nowadays. On my end (Temurin 17 on Mac OS) <code>-client</code> is simply ignored. I see some &quot;client&quot; mentions on <a href=\"https://docs.oracle.com/en/java/javase/11/tools/java.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/tools/java.html</a>, but none on <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/specs/man/java.html</a>. The linked question also says <i>&quot;A 64-bit capable JDK currently ignores this option and instead uses the Java Hotspot Server VM.&quot;</i>. So, why are you looking into this?"},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":0,"creation_date":1640173380,"post_id":70447864,"comment_id":124531584,"body_markdown":"The last place where I can see `-client` explicitly documented is on Java 8: https://docs.oracle.com/javase/8/docs/technotes/tools/windows/java.html#BABDJJFI.","body":"The last place where I can see <code>-client</code> explicitly documented is on Java 8: <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/java.html#BABDJJFI\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/tools/windows/&hellip;</a>."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1640173870,"post_id":70447864,"comment_id":124531761,"body_markdown":"@SergeyAlaev I think that you edit the question and emphasize that you mean *specifically* JDK 17, the question *may* be reopened.","body":"@SergeyAlaev I think that you edit the question and emphasize that you mean <i>specifically</i> JDK 17, the question <i>may</i> be reopened."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1640187264,"post_id":70447864,"comment_id":124537069,"body_markdown":"Since Oracle only provides 64 bit server JVMs, it makes sense that there’s no documentation for these ineffective options. Other JDK builds may still have client and server JVMs; just look into the `bin` directory. If both subdirectories, `client` and `server` are present, the option can make a difference.","body":"Since Oracle only provides 64 bit server JVMs, it makes sense that there’s no documentation for these ineffective options. Other JDK builds may still have client and server JVMs; just look into the <code>bin</code> directory. If both subdirectories, <code>client</code> and <code>server</code> are present, the option can make a difference."},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":0,"creation_date":1640188034,"post_id":70447864,"comment_id":124537394,"body_markdown":"...I just looked at some random x86 builds and indeed, both Azul Zulu 17 for Linux x86 and Adoptium Temurin 17 for Windows x86 have the client JVM in them. Once again, why is this interesting / important in 2021? I&#39;m curious!","body":"...I just looked at some random x86 builds and indeed, both Azul Zulu 17 for Linux x86 and Adoptium Temurin 17 for Windows x86 have the client JVM in them. Once again, why is this interesting / important in 2021? I&#39;m curious!"},{"owner":{"account_id":1554291,"reputation":3889,"user_id":1445898,"accept_rate":75,"display_name":"Sergey Alaev"},"score":1,"creation_date":1640257831,"post_id":70447864,"comment_id":124554342,"body_markdown":"Because jdk17 supports -client and even enables it for environments with limited resources including Kubernetes pods.","body":"Because jdk17 supports -client and even enables it for environments with limited resources including Kubernetes pods."}],"owner":{"account_id":1554291,"reputation":3889,"user_id":1445898,"accept_rate":75,"display_name":"Sergey Alaev"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1640170434,"answer_count":0,"score":1,"last_activity_date":1640170231,"creation_date":1640170231,"question_id":70447864,"body_markdown":"Strangely enough, I was not able to find official documentation on `-client` and `-server` java options and what are exact differences between server hotspot JRE and client hotspot JRE.\r\n\r\nCan anyone point me out to official documentation or unofficial research?","title":"What is the difference between server and client hotspot in Jdk17?","body":"<p>Strangely enough, I was not able to find official documentation on <code>-client</code> and <code>-server</code> java options and what are exact differences between server hotspot JRE and client hotspot JRE.</p>\n<p>Can anyone point me out to official documentation or unofficial research?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1058078,"reputation":728,"user_id":4446563,"display_name":"Link64"},"score":2,"creation_date":1543866605,"post_id":53600568,"comment_id":94064160,"body_markdown":"Answering as comment because I am not sure anymore: I think I might recall that Button has `hoverProperty()` or something similar.\nEDIT: Yeah, [this](https://docs.oracle.com/javase/8/javafx/api/javafx/scene/Node.html#hoverProperty--) might help!","body":"Answering as comment because I am not sure anymore: I think I might recall that Button has <code>hoverProperty()</code> or something similar. EDIT: Yeah, <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/Node.html#hoverProperty--\" rel=\"nofollow noreferrer\">this</a> might help!"}],"answers":[{"tags":[],"owner":{"account_id":13265735,"reputation":45,"user_id":9578627,"display_name":"Mathiu2002"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1543871438,"creation_date":1543871438,"answer_id":53601908,"question_id":53600568,"body_markdown":"\r\n    button.setOnMouseEntered( (event ) -&gt; {\r\n            button.setTranslateX(button.getTranslateX() + 20);\r\n            button.setTranslateY(button.getTranslateY() + 20);\r\n            \r\n        });`\r\n\r\nReplace `button.setOnMouseMoved(this);` with my code. This will do!","title":"How to check is mouse cursor is on the button in Java FX?","body":"<pre><code>button.setOnMouseEntered( (event ) -&gt; {\n        button.setTranslateX(button.getTranslateX() + 20);\n        button.setTranslateY(button.getTranslateY() + 20);\n\n    });`\n</code></pre>\n\n<p>Replace <code>button.setOnMouseMoved(this);</code> with my code. This will do!</p>\n"},{"tags":[],"owner":{"account_id":3943859,"reputation":1239,"user_id":10674888,"display_name":"MS90"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1543873711,"creation_date":1543873711,"answer_id":53602424,"question_id":53600568,"body_markdown":"I have made small code for you. Take a look. It prints in the console &quot;Ho-Ho-Ho-Hovereed!&quot; once you hover over your button.\r\n\r\n     @Override\r\n        public void start(Stage primaryStage) {\r\n            Button btn = new Button();\r\n            btn.setText(&quot;Hover over me.&#39;&quot;);\r\n            \r\n            btn.hoverProperty().addListener((event)-&gt;System.out.println(&quot;Ho-Ho-Ho-Hovereeed!&quot;));        \r\n            \r\n            StackPane root = new StackPane();\r\n            root.getChildren().add(btn);\r\n            \r\n            Scene scene = new Scene(root, 300, 250);\r\n            \r\n            primaryStage.setTitle(&quot;Mouse manpulation example in JavaFX!&quot;);\r\n            primaryStage.setScene(scene);\r\n            primaryStage.show();\r\n        }","title":"How to check is mouse cursor is on the button in Java FX?","body":"<p>I have made small code for you. Take a look. It prints in the console \"Ho-Ho-Ho-Hovereed!\" once you hover over your button.</p>\n\n<pre><code> @Override\n    public void start(Stage primaryStage) {\n        Button btn = new Button();\n        btn.setText(\"Hover over me.'\");\n\n        btn.hoverProperty().addListener((event)-&gt;System.out.println(\"Ho-Ho-Ho-Hovereeed!\"));        \n\n        StackPane root = new StackPane();\n        root.getChildren().add(btn);\n\n        Scene scene = new Scene(root, 300, 250);\n\n        primaryStage.setTitle(\"Mouse manpulation example in JavaFX!\");\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11573122,"reputation":49,"user_id":8479324,"display_name":"CRLZXO"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543875195,"creation_date":1543875195,"answer_id":53602740,"question_id":53600568,"body_markdown":"i guess you can do that with event handler or css, like...\r\n\r\n    button.setOnMouseEntered(new EventHandler&lt;MouseEvent&gt;() {\r\n            @Override\r\n            public void handle(MouseEvent mouseEvent) {                \r\n                System.out.println(&quot;Cursor Over Button&quot;);\r\n            }\r\n        });\r\nor/with styles (css)\r\n\r\n`.button:hover{\r\n    -fx-background-color: red;\r\n}`","title":"How to check is mouse cursor is on the button in Java FX?","body":"<p>i guess you can do that with event handler or css, like...</p>\n\n<pre><code>button.setOnMouseEntered(new EventHandler&lt;MouseEvent&gt;() {\n        @Override\n        public void handle(MouseEvent mouseEvent) {                \n            System.out.println(\"Cursor Over Button\");\n        }\n    });\n</code></pre>\n\n<p>or/with styles (css)</p>\n\n<p><code>.button:hover{\n    -fx-background-color: red;\n}</code></p>\n"},{"tags":[],"owner":{"account_id":8664592,"reputation":9965,"user_id":6485651,"accept_rate":65,"display_name":"Zephyr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1543898695,"creation_date":1543898695,"answer_id":53605832,"question_id":53600568,"body_markdown":"Each `Node` provides a `hover` property to track whether the mouse cursor is hovering over it or not. By using a simple listener, you can detect when the mouse starts and stops hovering:\r\n\r\n    button.hoverProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n        if (newValue) {\r\n            System.out.println(&quot;Hovering...&quot;);\r\n        } else {\r\n            System.out.println(&quot;Retreating...&quot;);\r\n        }\r\n    });\r\n\r\nWith this listener, `newValue` will always be `true` if the mouse is currently hovering over the button and change to `false` when the mouse leaves the area.","title":"How to check is mouse cursor is on the button in Java FX?","body":"<p>Each <code>Node</code> provides a <code>hover</code> property to track whether the mouse cursor is hovering over it or not. By using a simple listener, you can detect when the mouse starts and stops hovering:</p>\n\n<pre><code>button.hoverProperty().addListener((observable, oldValue, newValue) -&gt; {\n    if (newValue) {\n        System.out.println(\"Hovering...\");\n    } else {\n        System.out.println(\"Retreating...\");\n    }\n});\n</code></pre>\n\n<p>With this listener, <code>newValue</code> will always be <code>true</code> if the mouse is currently hovering over the button and change to <code>false</code> when the mouse leaves the area.</p>\n"},{"tags":[],"owner":{"account_id":17592216,"reputation":346,"user_id":12763842,"display_name":"Mateusz Niedbal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640170002,"creation_date":1640170002,"answer_id":70447806,"question_id":53600568,"body_markdown":"There is also a useful check on a Node - isHover() You can use it on MouseEvents to check if the mouse is hovering over the needed node. Such a tip ;)","title":"How to check is mouse cursor is on the button in Java FX?","body":"<p>There is also a useful check on a Node - isHover() You can use it on MouseEvents to check if the mouse is hovering over the needed node. Such a tip ;)</p>\n"}],"owner":{"display_name":"user9717641"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2439,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":53602424,"answer_count":5,"score":3,"last_activity_date":1640170002,"creation_date":1543865279,"question_id":53600568,"body_markdown":"I&#39;m new to Java and I&#39;m wondering if it is possible to check if mouse cursor is for example on the button? I mean not getting clicking events but just moving cursor on the button.\r\n\r\nI had working code getting click and then printing something, but I want to change it a little and I can&#39;t find out why it doesn&#39;t work.\r\n\r\n    public class Main extends Application implements EventHandler&lt;MouseEvent&gt; {\r\n\r\n    Button button;\r\n    Stage window;\r\n    Scene scene;\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception {\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;sample.fxml&quot;));\r\n        primaryStage.setTitle(&quot;Where&#39;s the button?&quot;);\r\n        button.setText(&quot;Click me!&quot;);\r\n        button.setOnMouseMoved(this);\r\n\r\n        StackPane layout = new StackPane();\r\n        layout.getChildren().add(button);\r\n\r\n        Scene scene = new Scene(layout, 300,350);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void handle(MouseEvent actionEvent) {\r\n        System.out.println(&quot;You clicked the button!&quot;);\r\n    }\r\n    }\r\n","title":"How to check is mouse cursor is on the button in Java FX?","body":"<p>I'm new to Java and I'm wondering if it is possible to check if mouse cursor is for example on the button? I mean not getting clicking events but just moving cursor on the button.</p>\n\n<p>I had working code getting click and then printing something, but I want to change it a little and I can't find out why it doesn't work.</p>\n\n<pre><code>public class Main extends Application implements EventHandler&lt;MouseEvent&gt; {\n\nButton button;\nStage window;\nScene scene;\n\n@Override\npublic void start(Stage primaryStage) throws Exception {\n    Parent root = FXMLLoader.load(getClass().getResource(\"sample.fxml\"));\n    primaryStage.setTitle(\"Where's the button?\");\n    button.setText(\"Click me!\");\n    button.setOnMouseMoved(this);\n\n    StackPane layout = new StackPane();\n    layout.getChildren().add(button);\n\n    Scene scene = new Scene(layout, 300,350);\n    primaryStage.setScene(scene);\n    primaryStage.show();\n\n}\n\n\npublic static void main(String[] args) {\n    launch(args);\n}\n\n@Override\npublic void handle(MouseEvent actionEvent) {\n    System.out.println(\"You clicked the button!\");\n}\n}\n</code></pre>\n"},{"tags":["java","apache-poi","dataformat","leading-zero"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559191752,"creation_date":1558536751,"answer_id":56259610,"question_id":56246395,"body_markdown":"Cannot reproduce your issue. \r\n\r\nFollowing code creates a `Excel` sheet having Ids in column `A` which are not losing their text format and leading zeros even if edited in `Excel`s `GUI`.\r\n\r\n    import java.io.FileOutputStream;\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    \r\n    class CreateExcelNumberFormatText {\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      try (Workbook workbook = new XSSFWorkbook(); \r\n           FileOutputStream fileout = new FileOutputStream(&quot;Excel.xlsx&quot;) ) {\r\n    \r\n       DataFormat format = workbook.createDataFormat();\r\n       CellStyle textStyle = workbook.createCellStyle();\r\n       textStyle.setDataFormat(format.getFormat(&quot;@&quot;));\r\n    \r\n       Sheet sheet = workbook.createSheet(); \r\n       sheet.setDefaultColumnStyle(0, textStyle);\r\n    \r\n       Cell cell = sheet.createRow(0).createCell(0);\r\n       cell.setCellStyle(textStyle);\r\n       cell.setCellValue(&quot;Id&quot;);\r\n    \r\n       cell = sheet.createRow(1).createCell(0);\r\n       cell.setCellStyle(textStyle);\r\n       cell.setCellValue(&quot;0000111&quot;);\r\n    \r\n       cell = sheet.createRow(2).createCell(0);\r\n       cell.setCellStyle(textStyle);\r\n       cell.setCellValue(&quot;0001111&quot;);\r\n    \r\n       workbook.write(fileout);\r\n      }\r\n    \r\n     }\r\n    }\r\n\r\nWhat you probably not expected is that `apache poi` does not applying the column style to new created cells in that column. This you needs doing in code else the cell style will be `General`. Setting the column style is nevertheless necessary since else `Excel`s `GUI` will not use the text style while adding cell contents there.\r\n\r\nMy code is complete, tested and works for me. Simply editing the cells in `Excel` cannot lead to lost of  parts of cell contents (the leading zeros) because of using the number format `@ = Text`. \r\n\r\nOf course, if someone changes the column number format from `Text` to `General`, then `0000111` will be the number `111` after editing. But this is cannot be prevented when the sheet is editable by the user.\r\n\r\nMaybe one could set [CellStyle.setQuotePrefixed](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/CellStyle.html#setQuotePrefixed-boolean-) additionally. As: \r\n\r\n    ...\r\n       textStyle.setDataFormat(format.getFormat(&quot;@&quot;));\r\n       textStyle.setQuotePrefixed(true);\r\n    ...\r\n\r\nThen all content will be prefixed with a quote prefix apostrophe `&#39;` additionally. But this too can be changed by a user editing the sheet.\r\n","title":"Apache-poi template leading zeros disappear on editing cells","body":"<p>Cannot reproduce your issue. </p>\n\n<p>Following code creates a <code>Excel</code> sheet having Ids in column <code>A</code> which are not losing their text format and leading zeros even if edited in <code>Excel</code>s <code>GUI</code>.</p>\n\n<pre><code>import java.io.FileOutputStream;\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\nclass CreateExcelNumberFormatText {\n\n public static void main(String[] args) throws Exception {\n\n  try (Workbook workbook = new XSSFWorkbook(); \n       FileOutputStream fileout = new FileOutputStream(\"Excel.xlsx\") ) {\n\n   DataFormat format = workbook.createDataFormat();\n   CellStyle textStyle = workbook.createCellStyle();\n   textStyle.setDataFormat(format.getFormat(\"@\"));\n\n   Sheet sheet = workbook.createSheet(); \n   sheet.setDefaultColumnStyle(0, textStyle);\n\n   Cell cell = sheet.createRow(0).createCell(0);\n   cell.setCellStyle(textStyle);\n   cell.setCellValue(\"Id\");\n\n   cell = sheet.createRow(1).createCell(0);\n   cell.setCellStyle(textStyle);\n   cell.setCellValue(\"0000111\");\n\n   cell = sheet.createRow(2).createCell(0);\n   cell.setCellStyle(textStyle);\n   cell.setCellValue(\"0001111\");\n\n   workbook.write(fileout);\n  }\n\n }\n}\n</code></pre>\n\n<p>What you probably not expected is that <code>apache poi</code> does not applying the column style to new created cells in that column. This you needs doing in code else the cell style will be <code>General</code>. Setting the column style is nevertheless necessary since else <code>Excel</code>s <code>GUI</code> will not use the text style while adding cell contents there.</p>\n\n<p>My code is complete, tested and works for me. Simply editing the cells in <code>Excel</code> cannot lead to lost of  parts of cell contents (the leading zeros) because of using the number format <code>@ = Text</code>. </p>\n\n<p>Of course, if someone changes the column number format from <code>Text</code> to <code>General</code>, then <code>0000111</code> will be the number <code>111</code> after editing. But this is cannot be prevented when the sheet is editable by the user.</p>\n\n<p>Maybe one could set <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/CellStyle.html#setQuotePrefixed-boolean-\" rel=\"nofollow noreferrer\">CellStyle.setQuotePrefixed</a> additionally. As: </p>\n\n<pre><code>...\n   textStyle.setDataFormat(format.getFormat(\"@\"));\n   textStyle.setQuotePrefixed(true);\n...\n</code></pre>\n\n<p>Then all content will be prefixed with a quote prefix apostrophe <code>'</code> additionally. But this too can be changed by a user editing the sheet.</p>\n"},{"tags":[],"owner":{"account_id":6369229,"reputation":850,"user_id":5142882,"display_name":"Bertrand P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640169840,"creation_date":1640169840,"answer_id":70447769,"question_id":56246395,"body_markdown":"This was the solution for me :\r\n\r\n```java\r\ncell = row.createCell(col, CellType.STRING);\r\ncell.setCellValue(val);\r\n```","title":"Apache-poi template leading zeros disappear on editing cells","body":"<p>This was the solution for me :</p>\n<pre class=\"lang-java prettyprint-override\"><code>cell = row.createCell(col, CellType.STRING);\ncell.setCellValue(val);\n</code></pre>\n"}],"owner":{"account_id":15985501,"reputation":11,"user_id":11536116,"display_name":"NicoloB91"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1381,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1640169840,"creation_date":1558472892,"question_id":56246395,"body_markdown":"I&#39;m creating a .xlsx template using apache-poi, the user have to insert an id that has fixed length.\r\n\r\ni&#39;ve already tried the setDataFormat(workbook.createDataFormat().getFormat(&quot;@&quot;)) trick, but when the cell is edited it seems to forget that, and leading zeros disappear.\r\n\r\n```Java\r\n//this is the code snippet i found here on stackoverflow and tried out\r\nDataFormat fmt = workbook.createDataFormat();\r\nCellStyle textStyle = workbook.createCellStyle();\r\ntextStyle.setDataFormat(fmt.getFormat(&quot;@&quot;));\r\nworksheet.setDefaultColumnStyle(0, textStyle);\r\n``` \r\n\r\nIt would be great finding a true solution, because adding leading zeros to get the expected length can cause errors. Ex: user means 0000111 but forgets a 1 , new id will be 0000011 and unfortunately ids aren&#39;t sequential.\r\n\r\nThanks for your time, and forgive me for my bad english XD","title":"Apache-poi template leading zeros disappear on editing cells","body":"<p>I'm creating a .xlsx template using apache-poi, the user have to insert an id that has fixed length.</p>\n\n<p>i've already tried the setDataFormat(workbook.createDataFormat().getFormat(\"@\")) trick, but when the cell is edited it seems to forget that, and leading zeros disappear.</p>\n\n<pre><code>//this is the code snippet i found here on stackoverflow and tried out\nDataFormat fmt = workbook.createDataFormat();\nCellStyle textStyle = workbook.createCellStyle();\ntextStyle.setDataFormat(fmt.getFormat(\"@\"));\nworksheet.setDefaultColumnStyle(0, textStyle);\n</code></pre>\n\n<p>It would be great finding a true solution, because adding leading zeros to get the expected length can cause errors. Ex: user means 0000111 but forgets a 1 , new id will be 0000011 and unfortunately ids aren't sequential.</p>\n\n<p>Thanks for your time, and forgive me for my bad english XD</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams","debezium"],"comments":[{"owner":{"account_id":513777,"reputation":3202,"user_id":2069922,"accept_rate":62,"display_name":"user152468"},"score":0,"creation_date":1640169547,"post_id":70428275,"comment_id":124530309,"body_markdown":"You should not use a KafkaProducer (or the Spring KafkaTemplate) to produce messages from within your Kafka Streams topology. KafkaStreams itself has embedded producers, and when you stream your results using the &quot;to(...)&quot; directive, those embedded producers are used. Not sure if this solves your performance problems, but it will give you benefits like Exactly Once Processing.","body":"You should not use a KafkaProducer (or the Spring KafkaTemplate) to produce messages from within your Kafka Streams topology. KafkaStreams itself has embedded producers, and when you stream your results using the &quot;to(...)&quot; directive, those embedded producers are used. Not sure if this solves your performance problems, but it will give you benefits like Exactly Once Processing."},{"owner":{"account_id":513777,"reputation":3202,"user_id":2069922,"accept_rate":62,"display_name":"user152468"},"score":0,"creation_date":1640169698,"post_id":70428275,"comment_id":124530356,"body_markdown":"What throughput do you get in messages/second or megabyte/second? To get a feeling of what your cluster supports, you could compare with the kafka-producer-perf-test and kafka-consumer-perf-test command line utilities.","body":"What throughput do you get in messages/second or megabyte/second? To get a feeling of what your cluster supports, you could compare with the kafka-producer-perf-test and kafka-consumer-perf-test command line utilities."},{"owner":{"account_id":20366318,"reputation":1,"user_id":14939580,"display_name":"Adam Gw&#243;źdź"},"score":0,"creation_date":1640174806,"post_id":70428275,"comment_id":124532112,"body_markdown":"&quot;You should not use a KafkaProducer (or the Spring KafkaTemplate) to produce messages from within your Kafka Streams topology.&quot; _ You are right I change this topology and now I use ```.stream().to()``` instead of *kafkaTemplate*\n\nTo be honset I don&#39;t know how to check througth put of my java application stream","body":"&quot;You should not use a KafkaProducer (or the Spring KafkaTemplate) to produce messages from within your Kafka Streams topology.&quot; _ You are right I change this topology and now I use <code>.stream().to()</code> instead of <i>kafkaTemplate</i>  To be honset I don&#39;t know how to check througth put of my java application stream"}],"answers":[{"tags":[],"owner":{"account_id":12181645,"reputation":183,"user_id":14014537,"display_name":"Karsten Schnitter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640038789,"creation_date":1640038789,"answer_id":70428640,"question_id":70428275,"body_markdown":"It is hard to give general advice on performance, but I will try to share some of my experience. I am running a Kafka Streams application, that can easily reach a throughput of over 100k messages per second on a single thread. Not sure, how this compares to your use-case. To get there, I was inspecting the application with VisualVM and its sampler. But any profiler would do. This will show you, where the bottlenecks in your application are. \r\n\r\nFor me it was JSON serialization and deserialization, which I improved by switching to protocol buffers. Not sure, if that is an option in your case. Maybe avro is a better option for you. \r\n\r\nAnother major improvement was using zstd compression on the topics, which greatly reduced the data volume and network load. This also sped up Kafka streams considerably.\r\n\r\nFinally, I am wondering, why you use the KafkaTemplate to write to the output topic. I would have expected a dsl expression like this:\r\n\r\n```\r\nstreamsBuilder.stream(debeziumTopic, Consumed.with(Serdes.String(), jsonDebeziumSerde))  \r\n  .selectKey((k,v) -&gt; {\r\n    var id = v.get(&quot;ID&quot;);\r\n    if (id != null) {\r\n      return id.textValue();\r\n    }\r\n    log.warn(debeziumTopic + &quot; has empty message&quot;); \r\n    return null;\r\n  })\r\n  .filter((k,v) -&gt; k != null)\r\n  .to(otherTopic, Produced.with(Serdes.String(), jsonDebeziumSerde));\r\n```\r\n\r\nI am not sure about the performance implications of that approach, but it is more idiomatic for Kafka Streams, so it might be more efficient.                        ","title":"Single partition consumer speed and throughput","body":"<p>It is hard to give general advice on performance, but I will try to share some of my experience. I am running a Kafka Streams application, that can easily reach a throughput of over 100k messages per second on a single thread. Not sure, how this compares to your use-case. To get there, I was inspecting the application with VisualVM and its sampler. But any profiler would do. This will show you, where the bottlenecks in your application are.</p>\n<p>For me it was JSON serialization and deserialization, which I improved by switching to protocol buffers. Not sure, if that is an option in your case. Maybe avro is a better option for you.</p>\n<p>Another major improvement was using zstd compression on the topics, which greatly reduced the data volume and network load. This also sped up Kafka streams considerably.</p>\n<p>Finally, I am wondering, why you use the KafkaTemplate to write to the output topic. I would have expected a dsl expression like this:</p>\n<pre><code>streamsBuilder.stream(debeziumTopic, Consumed.with(Serdes.String(), jsonDebeziumSerde))  \n  .selectKey((k,v) -&gt; {\n    var id = v.get(&quot;ID&quot;);\n    if (id != null) {\n      return id.textValue();\n    }\n    log.warn(debeziumTopic + &quot; has empty message&quot;); \n    return null;\n  })\n  .filter((k,v) -&gt; k != null)\n  .to(otherTopic, Produced.with(Serdes.String(), jsonDebeziumSerde));\n</code></pre>\n<p>I am not sure about the performance implications of that approach, but it is more idiomatic for Kafka Streams, so it might be more efficient.</p>\n"}],"owner":{"account_id":20366318,"reputation":1,"user_id":14939580,"display_name":"Adam Gw&#243;źdź"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":724,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640169262,"creation_date":1640035902,"question_id":70428275,"body_markdown":"I am developing a system which imports a huge amount of event data from a database to Apache Kafka and then my Java application processes this data and then puts messages back to a Kafka topic.\r\n\r\nI am using Debezium and Kafka Connect for importing data to Kafka. Then data from Debezium is taken by my consumer application. It is mandatory for this consumer to read from a single partition because I need the ordering guarantee from the database. The problem is that a single consumer can&#39;t keep up with the Debezium producer, so my messages are more and more delayed. Is it possible to somehow improve speed of this consumer? What is the most important configurations which improve speed and throughput of my consumer?\r\n\r\nMy Debezium messages do not include schema information so they aren&#39;t big.\r\nMy consumer is implemented using the Kafka-Streams library with the following configurations:\r\n\r\n```\r\nProperties properties = new Properties();\r\n properties.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\r\n properties.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;appId&quot;); \r\nproperties.put(StreamsConfig.NUM_STREAM_THREADS_CONFIG, 1); \r\nproperties.put(StreamsConfig.POLL_MS_CONFIG,50);\r\n properties.put(StreamsConfig.DEFAULT_DESERIALIZATION_EXCEPTION_HANDLER_CLASS_CONFIG, LogAndContinueExceptionHandler.class);\r\n```\r\nMy topology for this consumer is the following:\r\n\r\n```\r\npublic Topology createTopology(String debeziumTopic, String otherTopic) {     \r\n    JsonDebeziumSerde jsonDebeziumSerde = new JsonDebeziumSerde();      \r\n    StreamsBuilder streamsBuilder = new StreamsBuilder();      \r\n    streamsBuilder.stream(debeziumTopic, Consumed.with(Serdes.String(), jsonDebeziumSerde))                   \r\n        .foreach((k, v) -&gt; {                       \r\n            try {                           \r\n                String id = v.get(&quot;ID&quot;).textValue();                           \r\n                kafkaTemplate.send(otherTopic, id, v);                                      \r\n            } catch (NullPointerException ex) {                           \r\n                log.warn(debeziumTopic + &quot; has empty message&quot;);    \r\n            }                  \r\n     });      \r\n    Topology topology = streamsBuilder.build();      \r\n   \r\n    return topology;\r\n }\r\n```\r\n\r\nMy broker configurations:\r\n```\r\nauto.create.topics.enable=true\r\ndefault.replication.factor=3\r\nmin.insync.replicas=2\r\nnum.io.threads=8\r\nnum.network.threads=5\r\nnum.replica.fetchers=2\r\nreplica.lag.time.max.ms=30000\r\nsocket.receive.buffer.bytes=102400\r\nsocket.request.max.bytes=104857600\r\nsocket.send.buffer.bytes=102400\r\nunclean.leader.election.enable=true\r\nzookeeper.session.timeout.ms=18000\r\nzookeeper.connection.timeout.ms=1000\r\nlog.retention.hours=1\r\nnum.partitions=10\r\ndelete.topic.enable=true\r\n```","title":"Single partition consumer speed and throughput","body":"<p>I am developing a system which imports a huge amount of event data from a database to Apache Kafka and then my Java application processes this data and then puts messages back to a Kafka topic.</p>\n<p>I am using Debezium and Kafka Connect for importing data to Kafka. Then data from Debezium is taken by my consumer application. It is mandatory for this consumer to read from a single partition because I need the ordering guarantee from the database. The problem is that a single consumer can't keep up with the Debezium producer, so my messages are more and more delayed. Is it possible to somehow improve speed of this consumer? What is the most important configurations which improve speed and throughput of my consumer?</p>\n<p>My Debezium messages do not include schema information so they aren't big.\nMy consumer is implemented using the Kafka-Streams library with the following configurations:</p>\n<pre><code>Properties properties = new Properties();\n properties.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\n properties.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;appId&quot;); \nproperties.put(StreamsConfig.NUM_STREAM_THREADS_CONFIG, 1); \nproperties.put(StreamsConfig.POLL_MS_CONFIG,50);\n properties.put(StreamsConfig.DEFAULT_DESERIALIZATION_EXCEPTION_HANDLER_CLASS_CONFIG, LogAndContinueExceptionHandler.class);\n</code></pre>\n<p>My topology for this consumer is the following:</p>\n<pre><code>public Topology createTopology(String debeziumTopic, String otherTopic) {     \n    JsonDebeziumSerde jsonDebeziumSerde = new JsonDebeziumSerde();      \n    StreamsBuilder streamsBuilder = new StreamsBuilder();      \n    streamsBuilder.stream(debeziumTopic, Consumed.with(Serdes.String(), jsonDebeziumSerde))                   \n        .foreach((k, v) -&gt; {                       \n            try {                           \n                String id = v.get(&quot;ID&quot;).textValue();                           \n                kafkaTemplate.send(otherTopic, id, v);                                      \n            } catch (NullPointerException ex) {                           \n                log.warn(debeziumTopic + &quot; has empty message&quot;);    \n            }                  \n     });      \n    Topology topology = streamsBuilder.build();      \n   \n    return topology;\n }\n</code></pre>\n<p>My broker configurations:</p>\n<pre><code>auto.create.topics.enable=true\ndefault.replication.factor=3\nmin.insync.replicas=2\nnum.io.threads=8\nnum.network.threads=5\nnum.replica.fetchers=2\nreplica.lag.time.max.ms=30000\nsocket.receive.buffer.bytes=102400\nsocket.request.max.bytes=104857600\nsocket.send.buffer.bytes=102400\nunclean.leader.election.enable=true\nzookeeper.session.timeout.ms=18000\nzookeeper.connection.timeout.ms=1000\nlog.retention.hours=1\nnum.partitions=10\ndelete.topic.enable=true\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-firestore","geopoints"],"comments":[{"owner":{"account_id":19594580,"reputation":1380,"user_id":14340917,"display_name":"Monu Rohilla"},"score":0,"creation_date":1609339515,"post_id":65508717,"comment_id":115816839,"body_markdown":"check https://developers.google.com/android/reference/com/google/firebase/firestore/GeoPoint","body":"check <a href=\"https://developers.google.com/android/reference/com/google/firebase/firestore/GeoPoint\" rel=\"nofollow noreferrer\">developers.google.com/android/reference/com/google/firebase/&zwnj;&#8203;&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1640169024,"creation_date":1609344904,"answer_id":65510063,"question_id":65508717,"body_markdown":"&gt; Can I query a Firestore database by GeoPoint values to find local places?\r\n\r\nSure you can. If you want to query Firestore by a specific GeoPoint object, then you should [perform a Query][1]. Assuming that you have in the database a document that has a property of type GeoPoint which holds, for example, `51.5074` for latitude and `0.1278` for longitude, then the following query is required:\r\n\r\n    FirebaseFirestore rootRef = FirebaseFirestore.getInstance();\r\n    CollectionReference placesRef = rootRef.collection(&quot;places&quot;);\r\n    Query geoQuery = placesRef.whereEqualTo(&quot;geoPoint&quot;, new GeoPoint(51.5074, 0.1278));\r\n    geoQuery.get().addOnCompleteListener(/* ... */);\r\n\r\nHowever, if you want to query nearby locations, please note that Firebase recently launched [Geo queries][2], meaning that you can get documents that would fall into a specific radius.\r\n\r\n  [1]: https://firebase.google.com/docs/firestore/query-data/queries#execute_a_query\r\n  [2]: https://firebase.google.com/docs/firestore/solutions/geoqueries","title":"Can I query a Firestore database by GeoPoint values to find local places?","body":"<blockquote>\n<p>Can I query a Firestore database by GeoPoint values to find local places?</p>\n</blockquote>\n<p>Sure you can. If you want to query Firestore by a specific GeoPoint object, then you should <a href=\"https://firebase.google.com/docs/firestore/query-data/queries#execute_a_query\" rel=\"nofollow noreferrer\">perform a Query</a>. Assuming that you have in the database a document that has a property of type GeoPoint which holds, for example, <code>51.5074</code> for latitude and <code>0.1278</code> for longitude, then the following query is required:</p>\n<pre><code>FirebaseFirestore rootRef = FirebaseFirestore.getInstance();\nCollectionReference placesRef = rootRef.collection(&quot;places&quot;);\nQuery geoQuery = placesRef.whereEqualTo(&quot;geoPoint&quot;, new GeoPoint(51.5074, 0.1278));\ngeoQuery.get().addOnCompleteListener(/* ... */);\n</code></pre>\n<p>However, if you want to query nearby locations, please note that Firebase recently launched <a href=\"https://firebase.google.com/docs/firestore/solutions/geoqueries\" rel=\"nofollow noreferrer\">Geo queries</a>, meaning that you can get documents that would fall into a specific radius.</p>\n"}],"owner":{"account_id":12657504,"reputation":17,"user_id":9199551,"display_name":"thomas_roe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65510063,"answer_count":1,"score":1,"last_activity_date":1640169024,"creation_date":1609339226,"question_id":65508717,"body_markdown":"I&#39;m wondering if this is possible, as I&#39;ve searched for quite a while and not found any documentation that shows that a query can be made against stored GeoPoints in Firestore from Android in Java? ","title":"Can I query a Firestore database by GeoPoint values to find local places?","body":"<p>I'm wondering if this is possible, as I've searched for quite a while and not found any documentation that shows that a query can be made against stored GeoPoints in Firestore from Android in Java?</p>\n"},{"tags":["java","jsp","jdbc"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1640159813,"post_id":70445811,"comment_id":124526897,"body_markdown":"You should definitely remove all those snippets, and start using servlets.","body":"You should definitely remove all those snippets, and start using servlets."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1640160194,"post_id":70445811,"comment_id":124527006,"body_markdown":"Are you looking at the log output? Shouldn&#39;t the SQL be `insert into list values (...`","body":"Are you looking at the log output? Shouldn&#39;t the SQL be <code>insert into list values (...</code>"},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1640162141,"post_id":70445811,"comment_id":124527552,"body_markdown":"It would be helpful if we could see the error messages; &quot;program does not work&quot; is very far from a useful error description … But the comment from @tgdavies should give you a hint already on what is wrong with your code. And your program should never proceed after an exception when you have not remediated the reason for that exception! Printing the stacktrace is not solving an issue!!!","body":"It would be helpful if we could see the error messages; &quot;program does not work&quot; is very far from a useful error description … But the comment from @tgdavies should give you a hint already on what is wrong with your code. And your program should never proceed after an exception when you have not remediated the reason for that exception! Printing the stacktrace is not solving an issue!!!"},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1640167425,"post_id":70445811,"comment_id":124529551,"body_markdown":"See hints above for SQL. Note that putting some variables in class scope `&lt;%! ...  %&gt;` means your JSP is not thread-safe as the connection + statement variables would be visible to and accessed by simultaneous callers. Obviously this isn&#39;t an issue for homework but it is serious flaw if this technique is used in live system.","body":"See hints above for SQL. Note that putting some variables in class scope <code>&lt;%! ...  %&gt;</code> means your JSP is not thread-safe as the connection + statement variables would be visible to and accessed by simultaneous callers. Obviously this isn&#39;t an issue for homework but it is serious flaw if this technique is used in live system."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1640168884,"post_id":70445811,"comment_id":124530075,"body_markdown":"You&#39;re swallowing exceptions and then continue on as if nothing happens. If you get an exception loading the driver class or creating the connection, `con` and `ps` will be null, if you get an exception creating the statement, `ps` will be `null`. Check your logs for errors.","body":"You&#39;re swallowing exceptions and then continue on as if nothing happens. If you get an exception loading the driver class or creating the connection, <code>con</code> and <code>ps</code> will be null, if you get an exception creating the statement, <code>ps</code> will be <code>null</code>. Check your logs for errors."}],"owner":{"display_name":"user15180283"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1640169001,"creation_date":1640159696,"question_id":70445811,"body_markdown":"As a part of my project, I started a student monitoring system. As a part of this, I want to insert the student details into the database.  I want to insert entered details into database using a prepared statement. In this process I faced this issue. How to solve?\r\n\r\nThe code is as follows.\r\n\r\n    &lt;%@ page import=&quot;java.sql.*&quot;%&gt;\r\n    &lt;%@ page import=&quot;java.util.*&quot;%&gt;\r\n    &lt;html&gt;\r\n        &lt;body bgcolor = &quot;pink&quot;&gt;\r\n    \t\t&lt;%!\r\n    \t\t\tConnection con;\r\n    \t\t\tPreparedStatement ps;\r\n    \t\t\tpublic void jspInit()\r\n    \t\t\t{\r\n    \t\t\t\ttry\r\n    \t\t\t\t{\r\n    \t\t\t\t\tClass.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);  \r\n    \t\t\t\t\tcon=DriverManager.getConnection( &quot;jdbc:oracle:thin:@localhost:1521:XE&quot;,&quot;system&quot;,&quot;sai&quot;);\r\n    \t\t\t\t\tps = con.prepareStatement(&quot;insert into list(?,?,?,?,?,?)&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\tcatch(Exception ex){ex.printStackTrace();}\r\n    \t\t\t}\r\n    \t\t%&gt;\r\n    \t\t&lt;%\r\n    \t\t\tString firstname = request.getParameter(&quot;firstname&quot;);\r\n    \t\t\tString lastname = request.getParameter(&quot;lastname&quot;);\r\n    \t\t\tString ID = request.getParameter(&quot;ID&quot;);\r\n    \t\t\tString gender = request.getParameter(&quot;gender&quot;);\r\n    \t\t\tString phone = request.getParameter(&quot;phone&quot;);\r\n    \t\t\tString email = request.getParameter(&quot;email&quot;);\r\n    \t\t%&gt;\r\n    \t\t\t&lt;h2 align = &quot;center&quot;&gt;&lt;font color = &quot;red&quot;&gt;Your Entered Details::&lt;/font&gt;&lt;/h2&gt;\r\n    \t\t\t&lt;table align = &quot;center&quot; border = &quot;1px solid black&quot; cellspacing = &quot;2px&quot; cellpadding=&quot;5px&quot;&gt;\r\n    \t\t\t\t&lt;tr&gt;\r\n    \t\t\t\t\t&lt;td&gt;&lt;b&gt;Field&lt;/b&gt;&lt;/td&gt;\r\n    \t\t\t\t\t&lt;td&gt;&lt;b&gt;data&lt;/b&gt;&lt;/td&gt;\r\n    \t\t\t\t&lt;/tr&gt;\r\n    \t\t\t\t&lt;tr&gt;\r\n    \t\t\t\t\t&lt;td&gt;&lt;b&gt;Firstname&lt;/b&gt; &lt;/td&gt;\r\n    \t\t\t\t\t&lt;td&gt;&lt;%=firstname%&gt;&lt;/td&gt;\r\n    \t\t\t\t&lt;/tr&gt;\r\n    \t\t\t\t&lt;tr&gt;\r\n    \t\t\t\t\t&lt;td&gt;&lt;b&gt;Lastname&lt;/b&gt;&lt;/td&gt;\r\n    \t\t\t\t\t&lt;td&gt;&lt;%=lastname%&gt;&lt;/td&gt;\r\n    \t\t\t\t&lt;/tr&gt;\r\n    \t\t\t\t&lt;tr&gt;\r\n    \t\t\t\t\t&lt;td&gt;&lt;b&gt;Student ID&lt;/b&gt;&lt;/td&gt;\r\n    \t\t\t\t\t&lt;td&gt;&lt;%=ID%&gt;&lt;/td&gt;\r\n    \t\t\t\t&lt;/tr&gt;\r\n    \t\t\t\t&lt;tr&gt;\r\n    \t\t\t\t\t&lt;td&gt;&lt;b&gt;Gender   &lt;/b&gt;&lt;/td&gt;\r\n    \t\t\t\t\t&lt;td&gt;&lt;%=gender%&gt;&lt;/td&gt;\r\n    \t\t\t\t&lt;/tr&gt;\r\n    \t\t\t\t&lt;tr&gt;\r\n    \t\t\t\t\t&lt;td&gt;&lt;b&gt;Phone &lt;/b&gt;&lt;/td&gt;\r\n    \t\t\t\t\t&lt;td&gt;&lt;%=phone%&gt;&lt;/td&gt;\r\n    \t\t\t\t&lt;/tr&gt;\r\n    \t\t\t\t&lt;tr&gt;\r\n    \t\t\t\t\t&lt;td&gt;&lt;b&gt;Email&lt;/b&gt;&lt;/td&gt;\r\n    \t\t\t\t\t&lt;td&gt;&lt;%=email%&gt; &lt;/td&gt;\r\n    \t\t\t\t&lt;/tr&gt;\r\n    \t\t\t&lt;/table&gt;\r\n    \t\t&lt;%\r\n    \t\t\ttry\r\n    \t\t\t{\r\n    \t\t\t\t\r\n    \t\t\t\tps.setString(1,firstname);\r\n    \t\t\t\tps.setString(2,lastname);\r\n    \t\t\t\tps.setString(3,ID);\r\n    \t\t\t\tps.setString(4,gender);\r\n    \t\t\t\tps.setString(5,phone);\r\n    \t\t\t\tps.setString(6,email);\r\n    \t\t\t\tint i = ps.executeUpdate();\r\n    \t\t\t\tif(i&gt;0)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tout.println(&quot;&lt;h3 align = &#39;center&#39;&gt;&lt;font color = &#39;red&#39;&gt;successfully registered&lt;/font&gt;&lt;/h3&gt;&quot;);\r\n    \t\t\t\t\tout.println(&quot;&lt;h4 align = &#39;center&#39;&gt;Click here to.! -&gt; &lt;a href=&#39;http://localhost:9999/kaushik/index.html&#39;&gt;Go back&lt;/a&gt;&lt;/h4&gt;&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\telse\r\n    \t\t\t\t{\r\n    \t\t\t\t\t out.println(&quot;&lt;h3 align = &#39;center&#39;&gt;&lt;font color = &#39;red&#39;&gt;Unable to register&lt;/font&gt;&lt;/h3&gt;&quot;);\r\n    \t\t\t\t\t out.println(&quot;&lt;h4 align = &#39;center&#39;&gt;please try again.! -&gt; &lt;a href=&#39;http://localhost:9999/kaushik/insert.html&#39;&gt; click here&lt;/a&gt;&lt;/h4&gt;&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tcatch(Exception ex){out.println(&quot;An exception occurred: &quot; + ex);}\r\n    \t\t%&gt;\r\n    \t\t&lt;%!\r\n    \t\t\tpublic void jspDestroy()\r\n    \t\t\t{\r\n    \t\t\t\ttry\r\n    \t\t\t\t{\r\n    \t\t\t\t\tps.close();\r\n    \t\t\t\t\tcon.close();\r\n    \t\t\t\t}\r\n    \t\t\t\tcatch(Exception ex)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tex.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t%&gt;\r\n    \t&lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n \r\nI think the is no problem in the variables set (firstname, lastname, etc.) as those values are successfully being displayed in the table.\r\nSo, the `ps.setString(...)` is not working because `ps` is set to null. I created the table in Oracle database. How to solve this issue? What is the error in my program?","title":"Why prepared statement in jdbc in jsp program is returning null value","body":"<p>As a part of my project, I started a student monitoring system. As a part of this, I want to insert the student details into the database.  I want to insert entered details into database using a prepared statement. In this process I faced this issue. How to solve?</p>\n<p>The code is as follows.</p>\n<pre><code>&lt;%@ page import=&quot;java.sql.*&quot;%&gt;\n&lt;%@ page import=&quot;java.util.*&quot;%&gt;\n&lt;html&gt;\n    &lt;body bgcolor = &quot;pink&quot;&gt;\n        &lt;%!\n            Connection con;\n            PreparedStatement ps;\n            public void jspInit()\n            {\n                try\n                {\n                    Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);  \n                    con=DriverManager.getConnection( &quot;jdbc:oracle:thin:@localhost:1521:XE&quot;,&quot;system&quot;,&quot;sai&quot;);\n                    ps = con.prepareStatement(&quot;insert into list(?,?,?,?,?,?)&quot;);\n                }\n                catch(Exception ex){ex.printStackTrace();}\n            }\n        %&gt;\n        &lt;%\n            String firstname = request.getParameter(&quot;firstname&quot;);\n            String lastname = request.getParameter(&quot;lastname&quot;);\n            String ID = request.getParameter(&quot;ID&quot;);\n            String gender = request.getParameter(&quot;gender&quot;);\n            String phone = request.getParameter(&quot;phone&quot;);\n            String email = request.getParameter(&quot;email&quot;);\n        %&gt;\n            &lt;h2 align = &quot;center&quot;&gt;&lt;font color = &quot;red&quot;&gt;Your Entered Details::&lt;/font&gt;&lt;/h2&gt;\n            &lt;table align = &quot;center&quot; border = &quot;1px solid black&quot; cellspacing = &quot;2px&quot; cellpadding=&quot;5px&quot;&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;&lt;b&gt;Field&lt;/b&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;b&gt;data&lt;/b&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;&lt;b&gt;Firstname&lt;/b&gt; &lt;/td&gt;\n                    &lt;td&gt;&lt;%=firstname%&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;&lt;b&gt;Lastname&lt;/b&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;%=lastname%&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;&lt;b&gt;Student ID&lt;/b&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;%=ID%&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;&lt;b&gt;Gender   &lt;/b&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;%=gender%&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;&lt;b&gt;Phone &lt;/b&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;%=phone%&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;&lt;b&gt;Email&lt;/b&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;%=email%&gt; &lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/table&gt;\n        &lt;%\n            try\n            {\n                \n                ps.setString(1,firstname);\n                ps.setString(2,lastname);\n                ps.setString(3,ID);\n                ps.setString(4,gender);\n                ps.setString(5,phone);\n                ps.setString(6,email);\n                int i = ps.executeUpdate();\n                if(i&gt;0)\n                {\n                    out.println(&quot;&lt;h3 align = 'center'&gt;&lt;font color = 'red'&gt;successfully registered&lt;/font&gt;&lt;/h3&gt;&quot;);\n                    out.println(&quot;&lt;h4 align = 'center'&gt;Click here to.! -&gt; &lt;a href='http://localhost:9999/kaushik/index.html'&gt;Go back&lt;/a&gt;&lt;/h4&gt;&quot;);\n                }\n                else\n                {\n                     out.println(&quot;&lt;h3 align = 'center'&gt;&lt;font color = 'red'&gt;Unable to register&lt;/font&gt;&lt;/h3&gt;&quot;);\n                     out.println(&quot;&lt;h4 align = 'center'&gt;please try again.! -&gt; &lt;a href='http://localhost:9999/kaushik/insert.html'&gt; click here&lt;/a&gt;&lt;/h4&gt;&quot;);\n                }\n            }\n            catch(Exception ex){out.println(&quot;An exception occurred: &quot; + ex);}\n        %&gt;\n        &lt;%!\n            public void jspDestroy()\n            {\n                try\n                {\n                    ps.close();\n                    con.close();\n                }\n                catch(Exception ex)\n                {\n                    ex.printStackTrace();\n                }\n            }\n        %&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I think the is no problem in the variables set (firstname, lastname, etc.) as those values are successfully being displayed in the table.\nSo, the <code>ps.setString(...)</code> is not working because <code>ps</code> is set to null. I created the table in Oracle database. How to solve this issue? What is the error in my program?</p>\n"},{"tags":["java","websocket","akka","akka-http","akka-cluster"],"owner":{"account_id":8503606,"reputation":11,"user_id":6375881,"display_name":"pjetras"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1640168414,"creation_date":1640008424,"question_id":70422887,"body_markdown":"I am attempting to implement a way for users to connect to a specific websocket, which enables all connected clients to send and receive messages to all connected users.  This can be thought of as a group chat where there is a dedicated websocket URL per chat room.\r\n\r\nI have used a handleWebSocketMessages route and used the following boiler plate code (source) for data distribution across connected users:\r\n\r\n      Pair&lt;Sink&lt;Message, NotUsed&gt;, Source&lt;Message, NotUsed&gt;&gt; sinkSourcePair =\r\n      MergeHub.of(Message.class)\r\n          .toMat(BroadcastHub.of(Message.class), Keep.both())\r\n          .run(actorSystem);\r\n    \r\n      Sink&lt;Message, NotUsed&gt; hubSink = sinkSourcePair.first();\r\n      Source&lt;Message, NotUsed&gt; hubSource = sinkSourcePair.second();\r\n      Flow&lt;Message, Message, NotUsed&gt; broadcastFlow = Flow.fromSinkAndSource(hubSink, hubSource);\r\n\r\nWhen a message arrives via the websocket, I want it to be registered by the cluster sharded Actor (entity), which I complete using EntityRef.ask.\r\n\r\n    Flow&lt;Message, Message, NotUsed&gt; incomingMessageFlow = Flow.of(Message.class)\r\n    Flow&lt;Message, Message, NotUsed&gt; recordMessageFlow = ...\r\n    Flow&lt;Message, Message, NotUsed&gt; broadcastFlow = Flow.fromSinkAndSource(hubSink, hubSource);\r\n    \r\n    return handleWebSocketMessages(incomingMessageFlow.via(recordMessageFlow).via(broadcastFlow);\r\n\r\nThe above works fine for clients connected to a single websocket but I want my websockets to be associated with a sharded Actor based on the websocket URL (e.g. ws://localhost/my-group-chat/ws).\r\n\r\nWhere should I define my broadcast flow? I&#39;ve tried several approaches:\r\n\r\n1. to define it within Route for websocket handling (makes no sense as it is created new for every connection)\r\n2. to include it in a sharded actor (fails because of serialization requirements between sharded actors)\r\n3. to store a map of broadcast flows so that when it exists for a specific URL it is utilized and when it doesn&#39;t exist it is initialized. &lt;- this one worked but I don&#39;t like it\r\n\r\nI believe the broadcast flow should be assigned to the sharded actor, where the current map breaks this pattern in terms of using Akka cluster sharding.\r\n\r\nI&#39;d appreciate any ideas.\r\n","title":"Appropriate Architecture for Akka WebSockets with Cluster Sharding","body":"<p>I am attempting to implement a way for users to connect to a specific websocket, which enables all connected clients to send and receive messages to all connected users.  This can be thought of as a group chat where there is a dedicated websocket URL per chat room.</p>\n<p>I have used a handleWebSocketMessages route and used the following boiler plate code (source) for data distribution across connected users:</p>\n<pre><code>  Pair&lt;Sink&lt;Message, NotUsed&gt;, Source&lt;Message, NotUsed&gt;&gt; sinkSourcePair =\n  MergeHub.of(Message.class)\n      .toMat(BroadcastHub.of(Message.class), Keep.both())\n      .run(actorSystem);\n\n  Sink&lt;Message, NotUsed&gt; hubSink = sinkSourcePair.first();\n  Source&lt;Message, NotUsed&gt; hubSource = sinkSourcePair.second();\n  Flow&lt;Message, Message, NotUsed&gt; broadcastFlow = Flow.fromSinkAndSource(hubSink, hubSource);\n</code></pre>\n<p>When a message arrives via the websocket, I want it to be registered by the cluster sharded Actor (entity), which I complete using EntityRef.ask.</p>\n<pre><code>Flow&lt;Message, Message, NotUsed&gt; incomingMessageFlow = Flow.of(Message.class)\nFlow&lt;Message, Message, NotUsed&gt; recordMessageFlow = ...\nFlow&lt;Message, Message, NotUsed&gt; broadcastFlow = Flow.fromSinkAndSource(hubSink, hubSource);\n\nreturn handleWebSocketMessages(incomingMessageFlow.via(recordMessageFlow).via(broadcastFlow);\n</code></pre>\n<p>The above works fine for clients connected to a single websocket but I want my websockets to be associated with a sharded Actor based on the websocket URL (e.g. ws://localhost/my-group-chat/ws).</p>\n<p>Where should I define my broadcast flow? I've tried several approaches:</p>\n<ol>\n<li>to define it within Route for websocket handling (makes no sense as it is created new for every connection)</li>\n<li>to include it in a sharded actor (fails because of serialization requirements between sharded actors)</li>\n<li>to store a map of broadcast flows so that when it exists for a specific URL it is utilized and when it doesn't exist it is initialized. &lt;- this one worked but I don't like it</li>\n</ol>\n<p>I believe the broadcast flow should be assigned to the sharded actor, where the current map breaks this pattern in terms of using Akka cluster sharding.</p>\n<p>I'd appreciate any ideas.</p>\n"},{"tags":["java","maven","configuration","log4j2","properties-file"],"answers":[{"tags":[],"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640168411,"creation_date":1639735092,"answer_id":70391365,"question_id":70391364,"body_markdown":"Using *log4j2-test.properties* file: https://logging.apache.org/log4j/2.x/manual/configuration.html#AutomaticConfiguration\r\n\r\n    ...\r\n    logger.filelogconvert.appenderRef = Console\r\n    logger.fileloggeneral.appenderRef = Console\r\n    rootLogger.appenderRef.console.ref = Console\r\n    \r\n    logger.fileloggeneral.level = info\r\n    rootLogger.level = info\r\n\r\nThen exlude it in pom.xml in jar plugin:\r\n\r\n    &lt;build&gt;\r\n        ...\r\n        &lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t&lt;exclude&gt;log4j2-test.properties&lt;/exclude&gt;\r\n\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/plugin&gt;\r\n        ...\r\n    &lt;/build&gt;\r\n\r\n\r\n\r\nThere surely are several other ways how to achieve this.","title":"How to use one log4j2 configuration file for runtime in IDE and another log4j2 configuration file for packaging/deployment?","body":"<p>Using <em>log4j2-test.properties</em> file: <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#AutomaticConfiguration\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/configuration.html#AutomaticConfiguration</a></p>\n<pre><code>...\nlogger.filelogconvert.appenderRef = Console\nlogger.fileloggeneral.appenderRef = Console\nrootLogger.appenderRef.console.ref = Console\n\nlogger.fileloggeneral.level = info\nrootLogger.level = info\n</code></pre>\n<p>Then exlude it in pom.xml in jar plugin:</p>\n<pre><code>&lt;build&gt;\n    ...\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;excludes&gt;\n                &lt;exclude&gt;log4j2-test.properties&lt;/exclude&gt;\n            &lt;/excludes&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n    ...\n&lt;/build&gt;\n</code></pre>\n<p>There surely are several other ways how to achieve this.</p>\n"}],"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70391365,"answer_count":1,"score":2,"last_activity_date":1640168411,"creation_date":1639735092,"question_id":70391364,"body_markdown":"Using Eclipse 06-2021, Maven, log4j2.\r\n\r\nI am using log4j2 framework for logging in my application. I created configuration in resources folder in a log4j2.properties file.\r\n\r\nI defined there some loggers and their levels:\r\n\r\n    ...\r\n    logger.filelogconvert.appenderRef = FileLogConvert\r\n    logger.fileloggeneral.appenderRef = FileLogGeneral\r\n    rootLogger.appenderRef.console.ref = FileLogGeneral\r\n    \r\n    logger.fileloggeneral.level = warn\r\n    rootLogger.level = warn\r\n\r\nHowever i need to rewrite this file when i want to deploy application, because i need to change levels from `info` to `warn` or change appender/logger references.","title":"How to use one log4j2 configuration file for runtime in IDE and another log4j2 configuration file for packaging/deployment?","body":"<p>Using Eclipse 06-2021, Maven, log4j2.</p>\n<p>I am using log4j2 framework for logging in my application. I created configuration in resources folder in a log4j2.properties file.</p>\n<p>I defined there some loggers and their levels:</p>\n<pre><code>...\nlogger.filelogconvert.appenderRef = FileLogConvert\nlogger.fileloggeneral.appenderRef = FileLogGeneral\nrootLogger.appenderRef.console.ref = FileLogGeneral\n\nlogger.fileloggeneral.level = warn\nrootLogger.level = warn\n</code></pre>\n<p>However i need to rewrite this file when i want to deploy application, because i need to change levels from <code>info</code> to <code>warn</code> or change appender/logger references.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11597672,"reputation":359,"user_id":8495914,"display_name":"Zakir Hussain"},"score":0,"creation_date":1640167265,"post_id":70447193,"comment_id":124529492,"body_markdown":"Can you add error logs?","body":"Can you add error logs?"}],"answers":[{"tags":[],"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640168253,"creation_date":1640168253,"answer_id":70447454,"question_id":70447193,"body_markdown":"`balance`is an array.\r\n\r\nWriting `balance &gt;= 1000000` makes no sense as you are comparing an int with an array. You are not comparing a value of the table, but the whole table.\r\n\r\nInstead use:\r\n\r\n    if(balance[i] &gt;= 1000000){\r\n ","title":"showing bad operands: first is double[] and second is int in the if statement","body":"<p><code>balance</code>is an array.</p>\n<p>Writing <code>balance &gt;= 1000000</code> makes no sense as you are comparing an int with an array. You are not comparing a value of the table, but the whole table.</p>\n<p>Instead use:</p>\n<pre><code>if(balance[i] &gt;= 1000000){\n</code></pre>\n"}],"owner":{"account_id":23718575,"reputation":1,"user_id":17739410,"display_name":"Chess Streak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1640442305,"accepted_answer_id":70447454,"answer_count":1,"score":-1,"last_activity_date":1640168290,"creation_date":1640166983,"question_id":70447193,"body_markdown":"    package bank.vip.or.np;\r\n    import java.util.Scanner;\r\n \r\n    public class BankVipOrNp {\r\n   \r\n        public static void main(String[] args) {\r\n            // this is a programm for a bank to determine whether the customer is vip or np\r\n            Scanner input = new Scanner (System.in);\r\n\r\n            double [] balance = new double[100];\r\n\r\n            for (int i=0;i&lt;balance.length;i++){\r\n\r\n                System.out.println(&quot;enter the balance for customer no&quot;+(i+1));\r\n                balance[i]=input.nextDouble();\r\n            }\r\n           \r\n            for (int i=0;i&lt;balance.length;i++){\r\n                if(  balance &gt;= 1000000){\r\n                    System.out.println(&quot;the customer is vip&quot;+balance);\r\n            }\r\n            else {\r\n                System.out.println(&quot;the customer is np&quot;+balance);}\r\n            }\r\n        }\r\n    }\r\n    ","title":"showing bad operands: first is double[] and second is int in the if statement","body":"<pre><code>package bank.vip.or.np;\nimport java.util.Scanner;\n\npublic class BankVipOrNp {\n\n    public static void main(String[] args) {\n        // this is a programm for a bank to determine whether the customer is vip or np\n        Scanner input = new Scanner (System.in);\n\n        double [] balance = new double[100];\n\n        for (int i=0;i&lt;balance.length;i++){\n\n            System.out.println(&quot;enter the balance for customer no&quot;+(i+1));\n            balance[i]=input.nextDouble();\n        }\n       \n        for (int i=0;i&lt;balance.length;i++){\n            if(  balance &gt;= 1000000){\n                System.out.println(&quot;the customer is vip&quot;+balance);\n        }\n        else {\n            System.out.println(&quot;the customer is np&quot;+balance);}\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","line","jmonkeyengine"],"answers":[{"tags":[],"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1640168170,"creation_date":1372765618,"answer_id":17424782,"question_id":17424781,"body_markdown":"**Update**\r\n\r\nIn the most recent version of Jmonkey a [`Line`](https://javadoc.jmonkeyengine.org/v3.x/com/jme3/scene/shape/Line.html) class exists which makes this process far simpler. This is detailed [here](https://gamedev.stackexchange.com/a/81510/36681).\r\n\r\n**Original answer**\r\n\r\nLines in JMonkey are created with custom meshes to which you give the vertices as a position buffer of floats and the indices (which vertices connect to which) as a buffer of shorts. This answer is loosly based upon [a forum thread on mesh buffers][1] and [the JMonkey advanced graphics wiki page][2]\r\n\r\nAn example program would be as follows\r\n\r\n    import com.jme3.app.SimpleApplication;\r\n    import com.jme3.asset.AssetManager;\r\n    import com.jme3.material.Material;\r\n    import com.jme3.math.ColorRGBA;\r\n    import com.jme3.math.Vector3f;\r\n    import com.jme3.renderer.RenderManager;\r\n    import com.jme3.scene.Geometry;\r\n    import com.jme3.scene.Mesh;\r\n    import com.jme3.scene.Node;\r\n    import com.jme3.scene.VertexBuffer;\r\n    import com.jme3.scene.shape.Box;\r\n    import com.jme3.util.BufferUtils;\r\n    \r\n    public class Main extends SimpleApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            Main app = new Main();\r\n            app.start();\r\n        }\r\n    \r\n        @Override\r\n        public void simpleInitApp() {\r\n            \r\n            Vector3f[] lineVerticies=new Vector3f[5];\r\n            \r\n            lineVerticies[0]=new Vector3f(2,0,0);\r\n            lineVerticies[1]=new Vector3f(-1,0,1);\r\n            lineVerticies[2]=new Vector3f(0,1,1);\r\n            lineVerticies[3]=new Vector3f(1,1,1);\r\n            lineVerticies[4]=new Vector3f(1,4,0);\r\n            \r\n            plotLine(lineVerticies,ColorRGBA.Blue);\r\n        }\r\n    \r\n        public void plotLine(Vector3f[] lineVerticies, ColorRGBA lineColor){\r\n            Mesh m = new Mesh();\r\n            m.setMode(Mesh.Mode.Lines);\r\n          \r\n    \r\n            m.setBuffer(VertexBuffer.Type.Position, 3, BufferUtils.createFloatBuffer(lineVerticies));\r\n            \r\n            short[] indexes=new short[2*lineVerticies.length]; //Indexes are in pairs, from a vertex and to a vertex\r\n            \r\n            for(short i=0;i&lt;lineVerticies.length-1;i++){\r\n                indexes[2*i]=i;\r\n                indexes[2*i+1]=(short)(i+1);\r\n            }\r\n            \r\n            m.setBuffer(VertexBuffer.Type.Index, 2, indexes);\r\n            \r\n            m.updateBound();\r\n            m.updateCounts();\r\n\r\n            Geometry geo=new Geometry(&quot;line&quot;,m);\r\n            Material mat = new Material(assetManager, &quot;Common/MatDefs/Misc/Unshaded.j3md&quot;);\r\n            mat.setColor(&quot;Color&quot;, lineColor);\r\n            geo.setMaterial(mat);\r\n            \r\n            rootNode.attachChild(geo);\r\n        }\r\n        \r\n        \r\n        @Override\r\n        public void simpleUpdate(float tpf) {\r\n            //TODO: add update code\r\n        }\r\n    \r\n        @Override\r\n        public void simpleRender(RenderManager rm) {\r\n            //TODO: add render code\r\n        }\r\n    }\r\n\r\nIn this program the mesh type is set as \r\n\r\n    m.setMode(Mesh.Mode.Lines);\r\n\r\nThis indicates that the mesh will expect pairs of indexes that indicate which verticies are connected to which (other options commonly used include `m.setMode(Mesh.Mode.Triangles);` in which case it would expect sets of three indices indicating which vertices made up the triangles).\r\n\r\nIn its most basic state the Vertex buffer expects x1, y1, z1, x2, y2, z2, x3, ... with no demarcation between where one vertex ends and the other begins. So the following would enter 3 vertices into the buffer; (1.1, 1.2, 1.3), (2.1, 2.2, 2.3) and (3.1, 3.2, 3.3)\r\n\r\n    m.setBuffer(VertexBuffer.Type.Position, 3, new float[]{1.1, 1.2, 1.3, 2.1, 2.2, 2.3, 3.1, 3.2, 3.3});\r\n\r\nAnd the index buffer would connect then 0--&gt;1 1--&gt;2\r\n\r\n     m.setBuffer(VertexBuffer.Type.Index, 2, new short[]{0, 1, 1, 2});\r\n\r\nNote that the second argument for each buffer indicates how many entries correspond to a single &quot;operation&quot;, for example the vertices are 3D so the argument is 3 and the indices are in from--&gt;to pairs so the argument is 2.\r\n\r\nThere are however utility methods that makes this more pleasant to use, instead of entering x1, y1, z1, x2, y2, z2, x3, ... the `BufferUtils.createFloatBuffer()` method allows you to use an array of `Vector3f` instead, so\r\n\r\n    m.setBuffer(VertexBuffer.Type.Position, 3, BufferUtils.createFloatBuffer(lineVerticies));\r\n\r\nwhere `lineVerticies` was of type `Vector3f[]`. It&#39;s worth noting however that there is a performance hit for doing so, if you can create the float[] directly it will avoid an unnecessary conversion (especially important for large meshes).\r\n        \r\n`m.updateBound();` and `m.updateCounts();` may appear to not be essential to ensure the line is drawn; however without them the line can be culled incorrectly (when it is still on screen the graphics card can believe it isn&#39;t and &quot;not bother&quot; to render it)\r\n  \r\n\r\n\r\n  [1]: http://hub.jmonkeyengine.org/forum/topic/how-to-draw-a-line/\r\n  [2]: http://hub.jmonkeyengine.org/wiki/doku.php/jme3:advanced:custom_meshes","title":"How can I draw a straight line in the JMonkey Engine library","body":"<p><strong>Update</strong></p>\n<p>In the most recent version of Jmonkey a <a href=\"https://javadoc.jmonkeyengine.org/v3.x/com/jme3/scene/shape/Line.html\" rel=\"nofollow noreferrer\"><code>Line</code></a> class exists which makes this process far simpler. This is detailed <a href=\"https://gamedev.stackexchange.com/a/81510/36681\">here</a>.</p>\n<p><strong>Original answer</strong></p>\n<p>Lines in JMonkey are created with custom meshes to which you give the vertices as a position buffer of floats and the indices (which vertices connect to which) as a buffer of shorts. This answer is loosly based upon <a href=\"http://hub.jmonkeyengine.org/forum/topic/how-to-draw-a-line/\" rel=\"nofollow noreferrer\">a forum thread on mesh buffers</a> and <a href=\"http://hub.jmonkeyengine.org/wiki/doku.php/jme3:advanced:custom_meshes\" rel=\"nofollow noreferrer\">the JMonkey advanced graphics wiki page</a></p>\n<p>An example program would be as follows</p>\n<pre><code>import com.jme3.app.SimpleApplication;\nimport com.jme3.asset.AssetManager;\nimport com.jme3.material.Material;\nimport com.jme3.math.ColorRGBA;\nimport com.jme3.math.Vector3f;\nimport com.jme3.renderer.RenderManager;\nimport com.jme3.scene.Geometry;\nimport com.jme3.scene.Mesh;\nimport com.jme3.scene.Node;\nimport com.jme3.scene.VertexBuffer;\nimport com.jme3.scene.shape.Box;\nimport com.jme3.util.BufferUtils;\n\npublic class Main extends SimpleApplication {\n\n    public static void main(String[] args) {\n        Main app = new Main();\n        app.start();\n    }\n\n    @Override\n    public void simpleInitApp() {\n        \n        Vector3f[] lineVerticies=new Vector3f[5];\n        \n        lineVerticies[0]=new Vector3f(2,0,0);\n        lineVerticies[1]=new Vector3f(-1,0,1);\n        lineVerticies[2]=new Vector3f(0,1,1);\n        lineVerticies[3]=new Vector3f(1,1,1);\n        lineVerticies[4]=new Vector3f(1,4,0);\n        \n        plotLine(lineVerticies,ColorRGBA.Blue);\n    }\n\n    public void plotLine(Vector3f[] lineVerticies, ColorRGBA lineColor){\n        Mesh m = new Mesh();\n        m.setMode(Mesh.Mode.Lines);\n      \n\n        m.setBuffer(VertexBuffer.Type.Position, 3, BufferUtils.createFloatBuffer(lineVerticies));\n        \n        short[] indexes=new short[2*lineVerticies.length]; //Indexes are in pairs, from a vertex and to a vertex\n        \n        for(short i=0;i&lt;lineVerticies.length-1;i++){\n            indexes[2*i]=i;\n            indexes[2*i+1]=(short)(i+1);\n        }\n        \n        m.setBuffer(VertexBuffer.Type.Index, 2, indexes);\n        \n        m.updateBound();\n        m.updateCounts();\n\n        Geometry geo=new Geometry(&quot;line&quot;,m);\n        Material mat = new Material(assetManager, &quot;Common/MatDefs/Misc/Unshaded.j3md&quot;);\n        mat.setColor(&quot;Color&quot;, lineColor);\n        geo.setMaterial(mat);\n        \n        rootNode.attachChild(geo);\n    }\n    \n    \n    @Override\n    public void simpleUpdate(float tpf) {\n        //TODO: add update code\n    }\n\n    @Override\n    public void simpleRender(RenderManager rm) {\n        //TODO: add render code\n    }\n}\n</code></pre>\n<p>In this program the mesh type is set as</p>\n<pre><code>m.setMode(Mesh.Mode.Lines);\n</code></pre>\n<p>This indicates that the mesh will expect pairs of indexes that indicate which verticies are connected to which (other options commonly used include <code>m.setMode(Mesh.Mode.Triangles);</code> in which case it would expect sets of three indices indicating which vertices made up the triangles).</p>\n<p>In its most basic state the Vertex buffer expects x1, y1, z1, x2, y2, z2, x3, ... with no demarcation between where one vertex ends and the other begins. So the following would enter 3 vertices into the buffer; (1.1, 1.2, 1.3), (2.1, 2.2, 2.3) and (3.1, 3.2, 3.3)</p>\n<pre><code>m.setBuffer(VertexBuffer.Type.Position, 3, new float[]{1.1, 1.2, 1.3, 2.1, 2.2, 2.3, 3.1, 3.2, 3.3});\n</code></pre>\n<p>And the index buffer would connect then 0--&gt;1 1--&gt;2</p>\n<pre><code> m.setBuffer(VertexBuffer.Type.Index, 2, new short[]{0, 1, 1, 2});\n</code></pre>\n<p>Note that the second argument for each buffer indicates how many entries correspond to a single &quot;operation&quot;, for example the vertices are 3D so the argument is 3 and the indices are in from--&gt;to pairs so the argument is 2.</p>\n<p>There are however utility methods that makes this more pleasant to use, instead of entering x1, y1, z1, x2, y2, z2, x3, ... the <code>BufferUtils.createFloatBuffer()</code> method allows you to use an array of <code>Vector3f</code> instead, so</p>\n<pre><code>m.setBuffer(VertexBuffer.Type.Position, 3, BufferUtils.createFloatBuffer(lineVerticies));\n</code></pre>\n<p>where <code>lineVerticies</code> was of type <code>Vector3f[]</code>. It's worth noting however that there is a performance hit for doing so, if you can create the float[] directly it will avoid an unnecessary conversion (especially important for large meshes).</p>\n<p><code>m.updateBound();</code> and <code>m.updateCounts();</code> may appear to not be essential to ensure the line is drawn; however without them the line can be culled incorrectly (when it is still on screen the graphics card can believe it isn't and &quot;not bother&quot; to render it)</p>\n"}],"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3144,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1640168170,"creation_date":1372765618,"question_id":17424781,"body_markdown":"I&#39;m trying to draw straight lines between 3D vertices that I specify using the JMonkey Engine 3D graphics library. JMonkey is of course optimised for importing models but I understand it can be used to create custom shapes &quot;internally&quot; as well.\r\n\r\nSo for example if I was to try to plot between:  \r\n(2,0,0)  \r\n(-1,0,1)  \r\n(0,1,1)  \r\n(1,1,1)  \r\n(1,4,0)  \r\n\r\nThen I would get:  \r\n\r\n![JMonkey straight lines][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/pAFX4.png","title":"How can I draw a straight line in the JMonkey Engine library","body":"<p>I'm trying to draw straight lines between 3D vertices that I specify using the JMonkey Engine 3D graphics library. JMonkey is of course optimised for importing models but I understand it can be used to create custom shapes \"internally\" as well.</p>\n\n<p>So for example if I was to try to plot between:<br>\n(2,0,0)<br>\n(-1,0,1)<br>\n(0,1,1)<br>\n(1,1,1)<br>\n(1,4,0)  </p>\n\n<p>Then I would get:  </p>\n\n<p><img src=\"https://i.stack.imgur.com/pAFX4.png\" alt=\"JMonkey straight lines\"></p>\n"},{"tags":["java","time-complexity","depth-first-search"],"answers":[{"tags":[],"owner":{"account_id":5886544,"reputation":959,"user_id":4634373,"display_name":"inordirection"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640167807,"creation_date":1640167342,"answer_id":70447263,"question_id":70442590,"body_markdown":"Your DFS isn&#39;t O(V+E) = O(nm) because you don&#39;t have a visited set. Without this set, the paths your various branches take can overlap and duplicate work such that you can potentially explore the same vertices and traverse the same edges many times over from any given DFS call from `longestIncreasingPath`. A memory-less search with a branching factor of 4 is what causes exponential behavior.\r\n\r\nFor example, consider the potential worst case of a perfectly convex matrix:\r\n```\r\n6 5 4 3 4 5 6\r\n5 4 3 2 3 4 5\r\n4 3 2 1 2 3 4 \r\n3 2 1 0 1 2 3\r\n4 3 2 1 2 3 4\r\n5 4 3 2 3 4 5\r\n6 5 4 3 4 5 6\r\n```\r\nThe worst case path for any vertex you search is to climb diagonally to the nearest corner, and such paths are O((n+m)/2) steps long. Every vertex has up to 4 options, and as there&#39;s no shared memory in the form of a visited set between recursive calls, you get a naive 4^((n+m)/2) = 2^(n+m) worst-case complexity for DFS. It would be more precise to say that most vertices in this worst case scenario only have 2 to 3 viable neighbors to recurse into, such that the actual worst-case complexity for each search would be between sqrt(2)^(n+m) and sqrt(3)^(n+m), but the exponential run-time is the same.\r\n\r\nIf you had a visited set, you would get a complexity more like the one you alluded to in your answer. It would be O(nm\\*((n+m)/2)) = O(n^2\\*m + m^2\\*n) because of the restriction that paths be increasing, but without that restriction it would be O((nm)^2).","title":"Time Complexity of DFS in logest increasing path in a matrix","body":"<p>Your DFS isn't O(V+E) = O(nm) because you don't have a visited set. Without this set, the paths your various branches take can overlap and duplicate work such that you can potentially explore the same vertices and traverse the same edges many times over from any given DFS call from <code>longestIncreasingPath</code>. A memory-less search with a branching factor of 4 is what causes exponential behavior.</p>\n<p>For example, consider the potential worst case of a perfectly convex matrix:</p>\n<pre><code>6 5 4 3 4 5 6\n5 4 3 2 3 4 5\n4 3 2 1 2 3 4 \n3 2 1 0 1 2 3\n4 3 2 1 2 3 4\n5 4 3 2 3 4 5\n6 5 4 3 4 5 6\n</code></pre>\n<p>The worst case path for any vertex you search is to climb diagonally to the nearest corner, and such paths are O((n+m)/2) steps long. Every vertex has up to 4 options, and as there's no shared memory in the form of a visited set between recursive calls, you get a naive 4^((n+m)/2) = 2^(n+m) worst-case complexity for DFS. It would be more precise to say that most vertices in this worst case scenario only have 2 to 3 viable neighbors to recurse into, such that the actual worst-case complexity for each search would be between sqrt(2)^(n+m) and sqrt(3)^(n+m), but the exponential run-time is the same.</p>\n<p>If you had a visited set, you would get a complexity more like the one you alluded to in your answer. It would be O(nm*((n+m)/2)) = O(n^2*m + m^2*n) because of the restriction that paths be increasing, but without that restriction it would be O((nm)^2).</p>\n"}],"owner":{"account_id":13621539,"reputation":517,"user_id":9825870,"display_name":"Ufder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70447263,"answer_count":1,"score":1,"last_activity_date":1640167807,"creation_date":1640128766,"question_id":70442590,"body_markdown":"I came across a problem to find the longest increasing path in a matrix. The Brute-Force solution to it is pretty straight forward:\r\n```\r\npublic class Solution {\r\n\r\n  private static final int[][] dirs = {{0, 1}, {1, 0}, {0, -1}, {-1, 0}};\r\n  private int m, n;\r\n\r\n  public int longestIncreasingPath(int[][] matrix) {\r\n      if (matrix.length == 0) return 0;\r\n      m = matrix.length;\r\n      n = matrix[0].length;\r\n      int ans = 0;\r\n      for (int i = 0; i &lt; m; ++i)\r\n          for (int j = 0; j &lt; n; ++j)\r\n              ans = Math.max(ans, dfs(matrix, i, j));\r\n      return ans;\r\n  }\r\n\r\n  private int dfs(int[][] matrix, int i, int j) {\r\n      int ans = 0;\r\n      for (int[] d : dirs) {\r\n          int x = i + d[0], y = j + d[1];\r\n          if (0 &lt;= x &amp;&amp; x &lt; m &amp;&amp; 0 &lt;= y &amp;&amp; y &lt; n &amp;&amp; matrix[x][y] &gt; matrix[i][j])\r\n              ans = Math.max(ans, dfs(matrix, x, y));\r\n      }\r\n      return ++ans;\r\n  }\r\n}\r\n```\r\nAnd the time complexity for this was given as `O(2^(m+n))` where m is no. of rows, and n is no. of cols in the matrix. \r\n\r\nI&#39;m having a hard time understanding this. The first nested for loop is `O(mn)` which is fine. Now each cell is treated as a root, and a DFS is done on it. However the time complexity for a DFS is `O(V + E)`, and here `V = mn and E = 4*mn`, so each dfs should be `O(mn)`, so the total time complexity should be `O(mn) x O(mn) = O(m^2.n^2)` right? \r\n\r\nNote: I am aware that this is not an optimal solution and this can be memoized, however my question is about understanding time complexity in this brute for method.","title":"Time Complexity of DFS in logest increasing path in a matrix","body":"<p>I came across a problem to find the longest increasing path in a matrix. The Brute-Force solution to it is pretty straight forward:</p>\n<pre><code>public class Solution {\n\n  private static final int[][] dirs = {{0, 1}, {1, 0}, {0, -1}, {-1, 0}};\n  private int m, n;\n\n  public int longestIncreasingPath(int[][] matrix) {\n      if (matrix.length == 0) return 0;\n      m = matrix.length;\n      n = matrix[0].length;\n      int ans = 0;\n      for (int i = 0; i &lt; m; ++i)\n          for (int j = 0; j &lt; n; ++j)\n              ans = Math.max(ans, dfs(matrix, i, j));\n      return ans;\n  }\n\n  private int dfs(int[][] matrix, int i, int j) {\n      int ans = 0;\n      for (int[] d : dirs) {\n          int x = i + d[0], y = j + d[1];\n          if (0 &lt;= x &amp;&amp; x &lt; m &amp;&amp; 0 &lt;= y &amp;&amp; y &lt; n &amp;&amp; matrix[x][y] &gt; matrix[i][j])\n              ans = Math.max(ans, dfs(matrix, x, y));\n      }\n      return ++ans;\n  }\n}\n</code></pre>\n<p>And the time complexity for this was given as <code>O(2^(m+n))</code> where m is no. of rows, and n is no. of cols in the matrix.</p>\n<p>I'm having a hard time understanding this. The first nested for loop is <code>O(mn)</code> which is fine. Now each cell is treated as a root, and a DFS is done on it. However the time complexity for a DFS is <code>O(V + E)</code>, and here <code>V = mn and E = 4*mn</code>, so each dfs should be <code>O(mn)</code>, so the total time complexity should be <code>O(mn) x O(mn) = O(m^2.n^2)</code> right?</p>\n<p>Note: I am aware that this is not an optimal solution and this can be memoized, however my question is about understanding time complexity in this brute for method.</p>\n"},{"tags":["javascript","java","php","html"],"answers":[{"tags":[],"owner":{"account_id":4960858,"reputation":77,"user_id":3992028,"display_name":"Hemand S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586153095,"creation_date":1586150522,"answer_id":61053405,"question_id":61053328,"body_markdown":"you forgot to initialize the variable `VisOn`\r\n\r\n    var VisOn = 0;\r\n\r\nDo it like this and it should work.\r\n\r\nUPDATE: Added the working jsfiddle\r\nhttps://jsfiddle.net/qept46bo/","title":"window.onload and window.beforeunload not working while trying to update and display a variable","body":"<p>you forgot to initialize the variable <code>VisOn</code></p>\n\n<pre><code>var VisOn = 0;\n</code></pre>\n\n<p>Do it like this and it should work.</p>\n\n<p>UPDATE: Added the working jsfiddle\n<a href=\"https://jsfiddle.net/qept46bo/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/qept46bo/</a></p>\n"},{"tags":[],"owner":{"account_id":20010953,"reputation":80,"user_id":14667978,"display_name":"Bj&#246;rn B&#252;ttner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640167769,"creation_date":1640167769,"answer_id":70447347,"question_id":61053328,"body_markdown":"besides the missing initialization already mentioned above, there is no mechanism added, that can retrieve the amount of other people opening the page.\r\nYour javascript is running ONLY on the client, meaning you need to add some server communication to have the intended effect.","title":"window.onload and window.beforeunload not working while trying to update and display a variable","body":"<p>besides the missing initialization already mentioned above, there is no mechanism added, that can retrieve the amount of other people opening the page.\nYour javascript is running ONLY on the client, meaning you need to add some server communication to have the intended effect.</p>\n"}],"owner":{"account_id":18127878,"reputation":29,"user_id":13183258,"display_name":"Chayce Rolleston"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1640167769,"creation_date":1586150069,"question_id":61053328,"body_markdown":"So i want to increment a variable when a user loads my website, and decrease that variable when a user leaves.\r\n\r\nThe output I&#39;m getting is: &quot;Value is : undefined&quot;\r\n\r\nwhich makes sense if the variable wasn&#39;t being incremented and left undefined. This leads me to believe the onload and onbeforeload functions aren&#39;t being executed. HOWEVER, with this code, when a user leaves the website they are prompted with an alert which leads me to believe the functions are being executed while the variable isn&#39;t being increment or decreased for some reason.\r\n\r\nI am testing the connections from my laptop using firefox and my raspberry pi using the default browser.\r\n\r\nWhat i was expecting was the variable VisOn to increase by 1 when my laptop connects to the website and would display: &quot;Value is : 2&quot; when my pi and laptop are both connected.\r\n\r\nthe code is posted below:\r\n\r\n```\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n\t\r\n&lt;script type=&quot;text/javascript&quot;&gt;\r\n\t\r\n\tvar VisOn;\r\n\t\r\n\t\r\n\t function load()\r\n        {\r\n            VisOn = VisOn +1 ;\r\n            return VisOn;\r\n        }\r\n        \r\n     function leave()\r\n        {\r\n            VisOn = VisOn -1 ;\r\n            return VisOn;\r\n        }   \r\n\t\r\n\r\n\r\n    window.onbeforeunload = leave;\r\n\twindow.onload = load;\r\n\r\n\r\n&lt;/script&gt;\r\n\t\r\n&lt;/head&gt;\r\n\t\t\r\n&lt;style&gt;\r\nbody {background-color: lightyellow}\r\nh1 {color:blue}\r\n\r\n&lt;/style&gt;\r\n\r\n&lt;body&gt;\r\n      \r\n     \r\n\r\n   &lt;form&gt;\r\n   \r\n   \r\n   &lt;br&gt;\r\n   \r\n   value is : \r\n     &lt;script type=&quot;text/javascript&quot;&gt;\r\n        document.write(VisOn)\r\n      &lt;/script&gt;\r\n    \r\n    &lt;/form&gt;\r\n    \r\n    &lt;br&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```","title":"window.onload and window.beforeunload not working while trying to update and display a variable","body":"<p>So i want to increment a variable when a user loads my website, and decrease that variable when a user leaves.</p>\n\n<p>The output I'm getting is: \"Value is : undefined\"</p>\n\n<p>which makes sense if the variable wasn't being incremented and left undefined. This leads me to believe the onload and onbeforeload functions aren't being executed. HOWEVER, with this code, when a user leaves the website they are prompted with an alert which leads me to believe the functions are being executed while the variable isn't being increment or decreased for some reason.</p>\n\n<p>I am testing the connections from my laptop using firefox and my raspberry pi using the default browser.</p>\n\n<p>What i was expecting was the variable VisOn to increase by 1 when my laptop connects to the website and would display: \"Value is : 2\" when my pi and laptop are both connected.</p>\n\n<p>the code is posted below:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n\n    var VisOn;\n\n\n     function load()\n        {\n            VisOn = VisOn +1 ;\n            return VisOn;\n        }\n\n     function leave()\n        {\n            VisOn = VisOn -1 ;\n            return VisOn;\n        }   \n\n\n\n    window.onbeforeunload = leave;\n    window.onload = load;\n\n\n&lt;/script&gt;\n\n&lt;/head&gt;\n\n&lt;style&gt;\nbody {background-color: lightyellow}\nh1 {color:blue}\n\n&lt;/style&gt;\n\n&lt;body&gt;\n\n\n\n   &lt;form&gt;\n\n\n   &lt;br&gt;\n\n   value is : \n     &lt;script type=\"text/javascript\"&gt;\n        document.write(VisOn)\n      &lt;/script&gt;\n\n    &lt;/form&gt;\n\n    &lt;br&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","rpc","spring-data-solr"],"answers":[{"tags":[],"owner":{"account_id":7038378,"reputation":11,"user_id":5391588,"display_name":"Li Haiquan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483934665,"creation_date":1483934665,"answer_id":41540885,"question_id":41074174,"body_markdown":"pageable default implements class is PageRequest,There is not no params constructor,but dubbo need this method for decoding ,so it can&#39;t decode","title":"Dubbo cannot serialize SolrPageRequest","body":"<p>pageable default implements class is PageRequest,There is not no params constructor,but dubbo need this method for decoding ,so it can't decode</p>\n"}],"owner":{"account_id":9734903,"reputation":21,"user_id":7218475,"display_name":"赵忠伟"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":839,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640167133,"creation_date":1481363162,"question_id":41074174,"body_markdown":"I&#39;m using Dubbo to make a micro-service for documents search with spring-data-solr, my Dubbo&#39;s version is 2.5.3 and my spring-data-solr version is 2.0.5. My export interface is like this:\r\n    \r\n    import edu.whu.irlab.scholarreader.domain.Paper;\r\n    import org.springframework.data.domain.Page;\r\n    import org.springframework.data.domain.Pageable;\r\n    import org.springframework.data.solr.core.query.result.HighlightPage;\r\n    import org.springframework.data.solr.repository.Boost;\r\n    import org.springframework.data.solr.repository.Highlight;\r\n    \r\n    import java.util.Collection;\r\n    \r\n    public interface PaperService {\r\n    \r\n        Page&lt;Paper&gt; findByTitle(String title, Pageable page);\r\n    \r\n        Page&lt;Paper&gt; findByContent(String content, Pageable page);\r\n    \r\n        Page&lt;Paper&gt; findByTitleOrAbsText(@Boost(2) String title, String absText, Pageable page);\r\n    \r\n        @Highlight\r\n        HighlightPage&lt;Paper&gt; findByIdIn(Collection&lt;String&gt; id, Pageable page);\r\n    \r\n        //    @Query(value = &quot;name:?0&quot;)\r\n    //    @Facet(fields = { &quot;cat&quot; }, limit=20)\r\n    //    FacetPage&lt;Paper&gt; findByNameAndFacetOnCategory(String name, Pageable page);\r\n        Page&lt;Paper&gt; findAll(Pageable pageable);\r\n    \r\n        Page&lt;Paper&gt; findByKeywords(String keywords, Pageable pageable);\r\n    \r\n        Page&lt;Paper&gt; findByAuthors(String authors, Pageable pageable);\r\n    \r\n        Page&lt;Paper&gt; findByAbsText(String absText, Pageable pageable);\r\n    \r\n        Page&lt;Paper&gt; findByAffiliations(String affiliations, Pageable pageable);\r\n    \r\n        Page&lt;Paper&gt; findBySearchFields(String searchFields, Pageable pageable);\r\n\r\n}\r\n\r\nIn the provider I have implementation class:\r\n    \r\n    import edu.whu.irlab.scholarreader.dao.solr.SolrPaperRepository;\r\n    import edu.whu.irlab.scholarreader.domain.Paper;\r\n    import edu.whu.irlab.scholarreader.export.PaperService;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.data.domain.Page;\r\n    import org.springframework.data.domain.Pageable;\r\n    import org.springframework.data.solr.core.query.result.HighlightPage;\r\n    import org.springframework.data.solr.repository.Boost;\r\n    \r\n    import java.util.Collection;\r\n    \r\n    public class PaperServiceImpl implements PaperService {\r\n    \r\n        @Autowired\r\n        private SolrPaperRepository solrPaperRepository;\r\n    \r\n        public PaperServiceImpl() {\r\n    \r\n        }\r\n    \r\n    \r\n        @Override\r\n        public Page&lt;Paper&gt; findByTitle(String title, Pageable page) {\r\n            return solrPaperRepository.findByTitle(title, page);\r\n        }\r\n    \r\n        @Override\r\n        public Page&lt;Paper&gt; findByContent(String content, Pageable page) {\r\n            return solrPaperRepository.findByContent(content, page);\r\n        }\r\n    \r\n        @Override\r\n        public Page&lt;Paper&gt; findByTitleOrAbsText(@Boost(2) String title, String absText, Pageable page) {\r\n            return solrPaperRepository.findByTitleOrAbsText(title, absText, page);\r\n        }\r\n    \r\n        @Override\r\n        public HighlightPage&lt;Paper&gt; findByIdIn(Collection&lt;String&gt; id, Pageable page) {\r\n            return solrPaperRepository.findByIdIn(id, page);\r\n        }\r\n    \r\n        @Override\r\n        public Page&lt;Paper&gt; findAll(Pageable pageable) {\r\n            return solrPaperRepository.findAll(pageable);\r\n        }\r\n    \r\n        @Override\r\n        public Page&lt;Paper&gt; findByKeywords(String keywords, Pageable pageable) {\r\n            return solrPaperRepository.findByKeywords(keywords, pageable);\r\n        }\r\n    \r\n        @Override\r\n        public Page&lt;Paper&gt; findByAuthors(String authors, Pageable pageable) {\r\n            return solrPaperRepository.findByAuthors(authors, pageable);\r\n        }\r\n    \r\n        @Override\r\n        public Page&lt;Paper&gt; findByAbsText(String absText, Pageable pageable) {\r\n            return solrPaperRepository.findByAbsText(absText, pageable);\r\n        }\r\n    \r\n        @Override\r\n        public Page&lt;Paper&gt; findByAffiliations(String affiliations, Pageable pageable) {\r\n            return solrPaperRepository.findByAffiliations(affiliations, pageable);\r\n        }\r\n    \r\n        @Override\r\n        public Page&lt;Paper&gt; findBySearchFields(String searchFields, Pageable pageable) {\r\n            return solrPaperRepository.findBySearchFields(searchFields, pageable);\r\n        }\r\n    }\r\n\r\nIn the Dubbo-consumer when I invoke `paperService.findBySearchFields(searchStr, new PageRequest(pageNumber - 1, pageSize));`, error occurred:\r\n\r\n    17:35:18.794 [qtp477643715-33] ERROR 500.jsp - Failed to invoke the method findBySearchFields in the service edu.whu.irlab.scholarreader.export.PaperService. Tried 3 times of the providers [10.129.166.252:20880] (1/1) from the registry 127.0.0.1:2181 on the consumer 10.129.166.252 using the dubbo version 2.4.10. Last error is: Failed to invoke remote method: findBySearchFields, provider: dubbo://10.129.166.252:20880/edu.whu.irlab.scholarreader.export.PaperService?anyhost=true&amp;application=dubbo-consumer&amp;check=false&amp;dubbo=2.4.10&amp;interface=edu.whu.irlab.scholarreader.export.PaperService&amp;methods=findByContent,findByIdIn,findByAuthors,findByAffiliations,findBySearchFields,findByTitleOrAbsText,findByTitle,findByAbsText,findAll,findByKeywords&amp;pid=34732&amp;revision=1.0-SNAPSHOT&amp;side=consumer&amp;timestamp=1481362482218, cause: Fail to decode request due to: RpcInvocation [methodName=findBySearchFields, parameterTypes=[class java.lang.String, interface org.springframework.data.domain.Pageable], arguments=null, attachments={path=edu.whu.irlab.scholarreader.export.PaperService, input=355, dubbo=2.4.10, version=0.0.0}]\r\n    com.alibaba.dubbo.rpc.RpcException: Failed to invoke the method findBySearchFields in the service edu.whu.irlab.scholarreader.export.PaperService. Tried 3 times of the providers [10.129.166.252:20880] (1/1) from the registry 127.0.0.1:2181 on the consumer 10.129.166.252 using the dubbo version 2.4.10. Last error is: Failed to invoke remote method: findBySearchFields, provider: dubbo://10.129.166.252:20880/edu.whu.irlab.scholarreader.export.PaperService?anyhost=true&amp;application=dubbo-consumer&amp;check=false&amp;dubbo=2.4.10&amp;interface=edu.whu.irlab.scholarreader.export.PaperService&amp;methods=findByContent,findByIdIn,findByAuthors,findByAffiliations,findBySearchFields,findByTitleOrAbsText,findByTitle,findByAbsText,findAll,findByKeywords&amp;pid=34732&amp;revision=1.0-SNAPSHOT&amp;side=consumer&amp;timestamp=1481362482218, cause: Fail to decode request due to: RpcInvocation [methodName=findBySearchFields, parameterTypes=[class java.lang.String, interface org.springframework.data.domain.Pageable], arguments=null, attachments={path=edu.whu.irlab.scholarreader.export.PaperService, input=355, dubbo=2.4.10, version=0.0.0}]\r\n    \tat com.alibaba.dubbo.rpc.cluster.support.FailoverClusterInvoker.doInvoke(FailoverClusterInvoker.java:101)\r\n    \tat com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.invoke(AbstractClusterInvoker.java:226)\r\n    \tat com.alibaba.dubbo.rpc.cluster.support.wrapper.MockClusterInvoker.invoke(MockClusterInvoker.java:72)\r\n    \tat com.alibaba.dubbo.rpc.proxy.InvokerInvocationHandler.invoke(InvokerInvocationHandler.java:52)\r\n    \tat com.alibaba.dubbo.common.bytecode.proxy0.findBySearchFields(proxy0.java)\r\n    \tat edu.whu.irlab.scholarreader.web.paper.PaperController.list(PaperController.java:47)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\r\n    \tat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:652)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1317)\r\n    \tat com.opensymphony.sitemesh.webapp.SiteMeshFilter.obtainContent(SiteMeshFilter.java:129)\r\n    \tat com.opensymphony.sitemesh.webapp.SiteMeshFilter.doFilter(SiteMeshFilter.java:77)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1288)\r\n    \tat org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61)\r\n    \tat org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108)\r\n    \tat org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137)\r\n    \tat org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)\r\n    \tat org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66)\r\n    \tat org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449)\r\n    \tat org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365)\r\n    \tat org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90)\r\n    \tat org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83)\r\n    \tat org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383)\r\n    \tat org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362)\r\n    \tat org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1288)\r\n    \tat org.springframework.orm.jpa.support.OpenEntityManagerInViewFilter.doFilterInternal(OpenEntityManagerInViewFilter.java:178)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1288)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1288)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:443)\r\n    \tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137)\r\n    \tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:556)\r\n    \tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:227)\r\n    \tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1044)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:372)\r\n    \tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:189)\r\n    \tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:978)\r\n    \tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)\r\n    \tat org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:255)\r\n    \tat org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154)\r\n    \tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)\r\n    \tat org.eclipse.jetty.server.Server.handle(Server.java:369)\r\n    \tat org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:486)\r\n    \tat org.eclipse.jetty.server.AbstractHttpConnection.headerComplete(AbstractHttpConnection.java:933)\r\n    \tat org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.headerComplete(AbstractHttpConnection.java:995)\r\n    \tat org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:644)\r\n    \tat org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)\r\n    \tat org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:82)\r\n    \tat org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:667)\r\n    \tat org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:52)\r\n    \tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)\r\n    \tat org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: com.alibaba.dubbo.remoting.RemotingException: Fail to decode request due to: RpcInvocation [methodName=findBySearchFields, parameterTypes=[class java.lang.String, interface org.springframework.data.domain.Pageable], arguments=null, attachments={path=edu.whu.irlab.scholarreader.export.PaperService, input=355, dubbo=2.4.10, version=0.0.0}]\r\n    \tat com.alibaba.dubbo.remoting.exchange.support.DefaultFuture.returnFromResponse(DefaultFuture.java:190)\r\n    \tat com.alibaba.dubbo.remoting.exchange.support.DefaultFuture.get(DefaultFuture.java:110)\r\n    \tat com.alibaba.dubbo.remoting.exchange.support.DefaultFuture.get(DefaultFuture.java:84)\r\n    \tat com.alibaba.dubbo.rpc.protocol.dubbo.DubboInvoker.doInvoke(DubboInvoker.java:96)\r\n    \tat com.alibaba.dubbo.rpc.protocol.AbstractInvoker.invoke(AbstractInvoker.java:144)\r\n    \tat com.alibaba.dubbo.rpc.listener.ListenerInvokerWrapper.invoke(ListenerInvokerWrapper.java:74)\r\n    \tat com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)\r\n    \tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:91)\r\n    \tat com.alibaba.dubbo.rpc.protocol.dubbo.filter.FutureFilter.invoke(FutureFilter.java:53)\r\n    \tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:91)\r\n    \tat com.alibaba.dubbo.rpc.filter.ConsumerContextFilter.invoke(ConsumerContextFilter.java:48)\r\n    \tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:91)\r\n    \tat com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:53)\r\n    \tat com.alibaba.dubbo.rpc.cluster.support.FailoverClusterInvoker.doInvoke(FailoverClusterInvoker.java:77)\r\n    \t... 72 common frames omitted\r\n\r\nThe `org.springframework.data.domain.PageRequest` implements `java.io.Serializable`, but `org.springframework.data.solr.core.query.SolrPageRequest` does not. PageRequest converts to SolrPageRequest automatically.\r\nSo, how can I solve this problem? If like this, is it saying that I cannot export my spring-data-solr service with Dubbo?","title":"Dubbo cannot serialize SolrPageRequest","body":"<p>I'm using Dubbo to make a micro-service for documents search with spring-data-solr, my Dubbo's version is 2.5.3 and my spring-data-solr version is 2.0.5. My export interface is like this:</p>\n\n<pre><code>import edu.whu.irlab.scholarreader.domain.Paper;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.solr.core.query.result.HighlightPage;\nimport org.springframework.data.solr.repository.Boost;\nimport org.springframework.data.solr.repository.Highlight;\n\nimport java.util.Collection;\n\npublic interface PaperService {\n\n    Page&lt;Paper&gt; findByTitle(String title, Pageable page);\n\n    Page&lt;Paper&gt; findByContent(String content, Pageable page);\n\n    Page&lt;Paper&gt; findByTitleOrAbsText(@Boost(2) String title, String absText, Pageable page);\n\n    @Highlight\n    HighlightPage&lt;Paper&gt; findByIdIn(Collection&lt;String&gt; id, Pageable page);\n\n    //    @Query(value = \"name:?0\")\n//    @Facet(fields = { \"cat\" }, limit=20)\n//    FacetPage&lt;Paper&gt; findByNameAndFacetOnCategory(String name, Pageable page);\n    Page&lt;Paper&gt; findAll(Pageable pageable);\n\n    Page&lt;Paper&gt; findByKeywords(String keywords, Pageable pageable);\n\n    Page&lt;Paper&gt; findByAuthors(String authors, Pageable pageable);\n\n    Page&lt;Paper&gt; findByAbsText(String absText, Pageable pageable);\n\n    Page&lt;Paper&gt; findByAffiliations(String affiliations, Pageable pageable);\n\n    Page&lt;Paper&gt; findBySearchFields(String searchFields, Pageable pageable);\n</code></pre>\n\n<p>}</p>\n\n<p>In the provider I have implementation class:</p>\n\n<pre><code>import edu.whu.irlab.scholarreader.dao.solr.SolrPaperRepository;\nimport edu.whu.irlab.scholarreader.domain.Paper;\nimport edu.whu.irlab.scholarreader.export.PaperService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.solr.core.query.result.HighlightPage;\nimport org.springframework.data.solr.repository.Boost;\n\nimport java.util.Collection;\n\npublic class PaperServiceImpl implements PaperService {\n\n    @Autowired\n    private SolrPaperRepository solrPaperRepository;\n\n    public PaperServiceImpl() {\n\n    }\n\n\n    @Override\n    public Page&lt;Paper&gt; findByTitle(String title, Pageable page) {\n        return solrPaperRepository.findByTitle(title, page);\n    }\n\n    @Override\n    public Page&lt;Paper&gt; findByContent(String content, Pageable page) {\n        return solrPaperRepository.findByContent(content, page);\n    }\n\n    @Override\n    public Page&lt;Paper&gt; findByTitleOrAbsText(@Boost(2) String title, String absText, Pageable page) {\n        return solrPaperRepository.findByTitleOrAbsText(title, absText, page);\n    }\n\n    @Override\n    public HighlightPage&lt;Paper&gt; findByIdIn(Collection&lt;String&gt; id, Pageable page) {\n        return solrPaperRepository.findByIdIn(id, page);\n    }\n\n    @Override\n    public Page&lt;Paper&gt; findAll(Pageable pageable) {\n        return solrPaperRepository.findAll(pageable);\n    }\n\n    @Override\n    public Page&lt;Paper&gt; findByKeywords(String keywords, Pageable pageable) {\n        return solrPaperRepository.findByKeywords(keywords, pageable);\n    }\n\n    @Override\n    public Page&lt;Paper&gt; findByAuthors(String authors, Pageable pageable) {\n        return solrPaperRepository.findByAuthors(authors, pageable);\n    }\n\n    @Override\n    public Page&lt;Paper&gt; findByAbsText(String absText, Pageable pageable) {\n        return solrPaperRepository.findByAbsText(absText, pageable);\n    }\n\n    @Override\n    public Page&lt;Paper&gt; findByAffiliations(String affiliations, Pageable pageable) {\n        return solrPaperRepository.findByAffiliations(affiliations, pageable);\n    }\n\n    @Override\n    public Page&lt;Paper&gt; findBySearchFields(String searchFields, Pageable pageable) {\n        return solrPaperRepository.findBySearchFields(searchFields, pageable);\n    }\n}\n</code></pre>\n\n<p>In the Dubbo-consumer when I invoke <code>paperService.findBySearchFields(searchStr, new PageRequest(pageNumber - 1, pageSize));</code>, error occurred:</p>\n\n<pre><code>17:35:18.794 [qtp477643715-33] ERROR 500.jsp - Failed to invoke the method findBySearchFields in the service edu.whu.irlab.scholarreader.export.PaperService. Tried 3 times of the providers [10.129.166.252:20880] (1/1) from the registry 127.0.0.1:2181 on the consumer 10.129.166.252 using the dubbo version 2.4.10. Last error is: Failed to invoke remote method: findBySearchFields, provider: dubbo://10.129.166.252:20880/edu.whu.irlab.scholarreader.export.PaperService?anyhost=true&amp;application=dubbo-consumer&amp;check=false&amp;dubbo=2.4.10&amp;interface=edu.whu.irlab.scholarreader.export.PaperService&amp;methods=findByContent,findByIdIn,findByAuthors,findByAffiliations,findBySearchFields,findByTitleOrAbsText,findByTitle,findByAbsText,findAll,findByKeywords&amp;pid=34732&amp;revision=1.0-SNAPSHOT&amp;side=consumer&amp;timestamp=1481362482218, cause: Fail to decode request due to: RpcInvocation [methodName=findBySearchFields, parameterTypes=[class java.lang.String, interface org.springframework.data.domain.Pageable], arguments=null, attachments={path=edu.whu.irlab.scholarreader.export.PaperService, input=355, dubbo=2.4.10, version=0.0.0}]\ncom.alibaba.dubbo.rpc.RpcException: Failed to invoke the method findBySearchFields in the service edu.whu.irlab.scholarreader.export.PaperService. Tried 3 times of the providers [10.129.166.252:20880] (1/1) from the registry 127.0.0.1:2181 on the consumer 10.129.166.252 using the dubbo version 2.4.10. Last error is: Failed to invoke remote method: findBySearchFields, provider: dubbo://10.129.166.252:20880/edu.whu.irlab.scholarreader.export.PaperService?anyhost=true&amp;application=dubbo-consumer&amp;check=false&amp;dubbo=2.4.10&amp;interface=edu.whu.irlab.scholarreader.export.PaperService&amp;methods=findByContent,findByIdIn,findByAuthors,findByAffiliations,findBySearchFields,findByTitleOrAbsText,findByTitle,findByAbsText,findAll,findByKeywords&amp;pid=34732&amp;revision=1.0-SNAPSHOT&amp;side=consumer&amp;timestamp=1481362482218, cause: Fail to decode request due to: RpcInvocation [methodName=findBySearchFields, parameterTypes=[class java.lang.String, interface org.springframework.data.domain.Pageable], arguments=null, attachments={path=edu.whu.irlab.scholarreader.export.PaperService, input=355, dubbo=2.4.10, version=0.0.0}]\n    at com.alibaba.dubbo.rpc.cluster.support.FailoverClusterInvoker.doInvoke(FailoverClusterInvoker.java:101)\n    at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.invoke(AbstractClusterInvoker.java:226)\n    at com.alibaba.dubbo.rpc.cluster.support.wrapper.MockClusterInvoker.invoke(MockClusterInvoker.java:72)\n    at com.alibaba.dubbo.rpc.proxy.InvokerInvocationHandler.invoke(InvokerInvocationHandler.java:52)\n    at com.alibaba.dubbo.common.bytecode.proxy0.findBySearchFields(proxy0.java)\n    at edu.whu.irlab.scholarreader.web.paper.PaperController.list(PaperController.java:47)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\n    at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:652)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1317)\n    at com.opensymphony.sitemesh.webapp.SiteMeshFilter.obtainContent(SiteMeshFilter.java:129)\n    at com.opensymphony.sitemesh.webapp.SiteMeshFilter.doFilter(SiteMeshFilter.java:77)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1288)\n    at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61)\n    at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108)\n    at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137)\n    at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)\n    at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66)\n    at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449)\n    at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365)\n    at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90)\n    at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83)\n    at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383)\n    at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362)\n    at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1288)\n    at org.springframework.orm.jpa.support.OpenEntityManagerInViewFilter.doFilterInternal(OpenEntityManagerInViewFilter.java:178)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1288)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1288)\n    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:443)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137)\n    at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:556)\n    at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:227)\n    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1044)\n    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:372)\n    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:189)\n    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:978)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)\n    at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:255)\n    at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154)\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)\n    at org.eclipse.jetty.server.Server.handle(Server.java:369)\n    at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:486)\n    at org.eclipse.jetty.server.AbstractHttpConnection.headerComplete(AbstractHttpConnection.java:933)\n    at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.headerComplete(AbstractHttpConnection.java:995)\n    at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:644)\n    at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)\n    at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:82)\n    at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:667)\n    at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:52)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: com.alibaba.dubbo.remoting.RemotingException: Fail to decode request due to: RpcInvocation [methodName=findBySearchFields, parameterTypes=[class java.lang.String, interface org.springframework.data.domain.Pageable], arguments=null, attachments={path=edu.whu.irlab.scholarreader.export.PaperService, input=355, dubbo=2.4.10, version=0.0.0}]\n    at com.alibaba.dubbo.remoting.exchange.support.DefaultFuture.returnFromResponse(DefaultFuture.java:190)\n    at com.alibaba.dubbo.remoting.exchange.support.DefaultFuture.get(DefaultFuture.java:110)\n    at com.alibaba.dubbo.remoting.exchange.support.DefaultFuture.get(DefaultFuture.java:84)\n    at com.alibaba.dubbo.rpc.protocol.dubbo.DubboInvoker.doInvoke(DubboInvoker.java:96)\n    at com.alibaba.dubbo.rpc.protocol.AbstractInvoker.invoke(AbstractInvoker.java:144)\n    at com.alibaba.dubbo.rpc.listener.ListenerInvokerWrapper.invoke(ListenerInvokerWrapper.java:74)\n    at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)\n    at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:91)\n    at com.alibaba.dubbo.rpc.protocol.dubbo.filter.FutureFilter.invoke(FutureFilter.java:53)\n    at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:91)\n    at com.alibaba.dubbo.rpc.filter.ConsumerContextFilter.invoke(ConsumerContextFilter.java:48)\n    at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:91)\n    at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:53)\n    at com.alibaba.dubbo.rpc.cluster.support.FailoverClusterInvoker.doInvoke(FailoverClusterInvoker.java:77)\n    ... 72 common frames omitted\n</code></pre>\n\n<p>The <code>org.springframework.data.domain.PageRequest</code> implements <code>java.io.Serializable</code>, but <code>org.springframework.data.solr.core.query.SolrPageRequest</code> does not. PageRequest converts to SolrPageRequest automatically.\nSo, how can I solve this problem? If like this, is it saying that I cannot export my spring-data-solr service with Dubbo?</p>\n"},{"tags":["java","domain-driven-design","reactive-programming","quarkus","ddd-repositories"],"comments":[{"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"score":2,"creation_date":1622555408,"post_id":67789709,"comment_id":119821595,"body_markdown":"Does using `List` or `Set` in the domain also violate DDD principles? If it doesn&#39;t, why using `Uni` or `Multi` does? My understanding of domain modeling is that its very purpose is to build a language in which you can be precise. If you need to use reactive programming, that language naturally has to include terms (types, in this case) from reactive programming. That said -- if you really really really have to avoid Mutiny types in your domain layer, you can use the `CompletionStage` and (Java 9+) `Flow` types. It will make your life harder, but that&#39;s the price for &quot;purity&quot;.","body":"Does using <code>List</code> or <code>Set</code> in the domain also violate DDD principles? If it doesn&#39;t, why using <code>Uni</code> or <code>Multi</code> does? My understanding of domain modeling is that its very purpose is to build a language in which you can be precise. If you need to use reactive programming, that language naturally has to include terms (types, in this case) from reactive programming. That said -- if you really really really have to avoid Mutiny types in your domain layer, you can use the <code>CompletionStage</code> and (Java 9+) <code>Flow</code> types. It will make your life harder, but that&#39;s the price for &quot;purity&quot;."},{"owner":{"account_id":21795756,"reputation":43,"user_id":16095359,"display_name":"KaiSkywalker90"},"score":0,"creation_date":1622557372,"post_id":67789709,"comment_id":119822525,"body_markdown":"Hello @Ladicek! Thank you so mucho for your answer. It is not forbidden to use Mutiny types for the domain layer, and I perfectly understand your position, there are occasions like this, where I think we should not be so purist, and be more KISS.","body":"Hello @Ladicek! Thank you so mucho for your answer. It is not forbidden to use Mutiny types for the domain layer, and I perfectly understand your position, there are occasions like this, where I think we should not be so purist, and be more KISS."},{"owner":{"account_id":4424946,"reputation":5229,"user_id":3603660,"accept_rate":75,"display_name":"loicmathieu"},"score":0,"creation_date":1622623708,"post_id":67789709,"comment_id":119842410,"body_markdown":"If you want to be framework agnostic you can have your repository returning reactive stream Publisher (Multi extends it), it&#39;s less coupling as it&#39;s a standard interface.\nYou can also return CompletionStage, it&#39;s no coupling, but it&#39;s no more reactive but only async.","body":"If you want to be framework agnostic you can have your repository returning reactive stream Publisher (Multi extends it), it&#39;s less coupling as it&#39;s a standard interface. You can also return CompletionStage, it&#39;s no coupling, but it&#39;s no more reactive but only async."},{"owner":{"account_id":21795756,"reputation":43,"user_id":16095359,"display_name":"KaiSkywalker90"},"score":0,"creation_date":1622657450,"post_id":67789709,"comment_id":119857872,"body_markdown":"Thank you @loicmathieu, I will take a look at what you are saying. Thanks again for your input.","body":"Thank you @loicmathieu, I will take a look at what you are saying. Thanks again for your input."}],"answers":[{"tags":[],"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640167104,"creation_date":1634163156,"answer_id":69562945,"question_id":67789709,"body_markdown":"You can declare your domain repository interface with generic type:\r\n\r\n    public interface MyRepositoryOutgoingPort &lt;T&gt; {\r\n      T persist(My my);\r\n    }\r\n\r\nAnd in reactive (e.g. Mongo) implementation you can wrap the result:\r\n\r\n    @Repository\r\n    public interface MyRepositoryMongoImpl\r\n    extends ReactiveMongoRepository&lt;My, UUID&gt;,\r\n        MyRepositoryOutgoingPort&lt;Mono&lt;My&gt;&gt; {\r\n\r\n      @Override\r\n      default Mono&lt;My&gt; persist(My my) {\r\n        Mono&lt;My&gt; savedMy = save(my);\r\n        return savedMy;\r\n      }\r\n    }","title":"Doubts on how to use the reactive paradigm with DDD - Domain repositories","body":"<p>You can declare your domain repository interface with generic type:</p>\n<pre><code>public interface MyRepositoryOutgoingPort &lt;T&gt; {\n  T persist(My my);\n}\n</code></pre>\n<p>And in reactive (e.g. Mongo) implementation you can wrap the result:</p>\n<pre><code>@Repository\npublic interface MyRepositoryMongoImpl\nextends ReactiveMongoRepository&lt;My, UUID&gt;,\n    MyRepositoryOutgoingPort&lt;Mono&lt;My&gt;&gt; {\n\n  @Override\n  default Mono&lt;My&gt; persist(My my) {\n    Mono&lt;My&gt; savedMy = save(my);\n    return savedMy;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":21795756,"reputation":43,"user_id":16095359,"display_name":"KaiSkywalker90"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":525,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":69562945,"answer_count":1,"score":4,"last_activity_date":1640167104,"creation_date":1622553815,"question_id":67789709,"body_markdown":"I am working on a project where the DDD methodology is going to be used for the development and, due to the business needs, a reactive programming approach is going to be used.\r\n\r\nI am modeling the domain, and some doubts have arisen when I was working on the definition of the repositories. I see the problem when implementing the repositories, through an adapter, because using reactive programming, all methods return Uni or Multi (Mutiny! will be used). \r\nThis is a problem because I am introducing dependencies with the framework in the domain, which violates DDD principles.\r\n\r\nI have seen some posts on this forum (e.g.: https://stackoverflow.com/questions/56450151/ddd-java-with-spring-repository-returning-mono-flux), but I am not confident with the solution proposed. Has anyone been able to deal with this challenge effectively?","title":"Doubts on how to use the reactive paradigm with DDD - Domain repositories","body":"<p>I am working on a project where the DDD methodology is going to be used for the development and, due to the business needs, a reactive programming approach is going to be used.</p>\n<p>I am modeling the domain, and some doubts have arisen when I was working on the definition of the repositories. I see the problem when implementing the repositories, through an adapter, because using reactive programming, all methods return Uni or Multi (Mutiny! will be used).\nThis is a problem because I am introducing dependencies with the framework in the domain, which violates DDD principles.</p>\n<p>I have seen some posts on this forum (e.g.: <a href=\"https://stackoverflow.com/questions/56450151/ddd-java-with-spring-repository-returning-mono-flux\">DDD Java with Spring - Repository returning Mono/Flux</a>), but I am not confident with the solution proposed. Has anyone been able to deal with this challenge effectively?</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":0,"creation_date":1536842813,"post_id":52314043,"comment_id":91575198,"body_markdown":"No, why would code execution continue normally after an uncaught exception?","body":"No, why would code execution continue normally after an uncaught exception?"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":2,"creation_date":1536842818,"post_id":52314043,"comment_id":91575201,"body_markdown":"Your method throws an exception and doesn&#39;t catch it, so anything after the `try/finally` block can&#39;t be reached.","body":"Your method throws an exception and doesn&#39;t catch it, so anything after the <code>try&#47;finally</code> block can&#39;t be reached."},{"owner":{"account_id":2473025,"reputation":1806,"user_id":2154359,"accept_rate":92,"display_name":"xmen-5"},"score":0,"creation_date":1536842933,"post_id":52314043,"comment_id":91575275,"body_markdown":"@khelwood but the finally block is executed.","body":"@khelwood but the finally block is executed."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1536843062,"post_id":52314043,"comment_id":91575343,"body_markdown":"Yes, but a finally block doesn&#39;t catch the exception. It gets run, and then the exception is still uncaught, so the method exits.","body":"Yes, but a finally block doesn&#39;t catch the exception. It gets run, and then the exception is still uncaught, so the method exits."}],"answers":[{"tags":[],"owner":{"account_id":325619,"reputation":125,"user_id":646912,"accept_rate":86,"display_name":"Arquillian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536842819,"creation_date":1536842819,"answer_id":52314073,"question_id":52314043,"body_markdown":"you didnt catch your exception. so 1 is printed, the finally block executed and then the exception gets thrown. 4 will never be called","title":"unreachable statement after finally block","body":"<p>you didnt catch your exception. so 1 is printed, the finally block executed and then the exception gets thrown. 4 will never be called</p>\n"},{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1536842825,"creation_date":1536842825,"answer_id":52314075,"question_id":52314043,"body_markdown":"A `finally` statement doesn&#39;t catch exceptions thrown in the `try` block. Only `catch` statements can catch exceptions.\r\n\r\nTherefore, `System.out.println(&quot;4&quot;);` is never reached, since the try block always throws an uncaught exception. ","title":"unreachable statement after finally block","body":"<p>A <code>finally</code> statement doesn't catch exceptions thrown in the <code>try</code> block. Only <code>catch</code> statements can catch exceptions.</p>\n\n<p>Therefore, <code>System.out.println(\"4\");</code> is never reached, since the try block always throws an uncaught exception. </p>\n"},{"tags":[],"owner":{"account_id":5644665,"reputation":35951,"user_id":4467208,"accept_rate":51,"display_name":"Murat Karag&#246;z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536842859,"creation_date":1536842859,"answer_id":52314085,"question_id":52314043,"body_markdown":"You throw an exception without catching it. This will result in early termination of the code execution and never reach the last line.","title":"unreachable statement after finally block","body":"<p>You throw an exception without catching it. This will result in early termination of the code execution and never reach the last line.</p>\n"},{"tags":[],"owner":{"account_id":5111999,"reputation":7665,"user_id":4098311,"accept_rate":80,"display_name":"Halayem Anis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536843798,"creation_date":1536843798,"answer_id":52314357,"question_id":52314043,"body_markdown":"From [Oracle documentation][1]\n\n&gt;The &lt;b&gt;finally&lt;/b&gt; block always executes when the try block exits. This ensures that the finally block is executed even if an unexpected exception occurs. But finally is useful for more than just exception handling — it allows the programmer to avoid having cleanup code accidentally bypassed by a return, continue, or break. Putting cleanup code in a finally block is always a good practice, even when no exceptions are anticipated.\n\nRemember: `finally` does not catch an exception !\n\n  [1]: http://The%20finally%20block%20always%20executes%20when%20the%20try%20block%20exits.%20This%20ensures%20that%20the%20finally%20block%20is%20executed%20even%20if%20an%20unexpected%20exception%20occurs.%20But%20finally%20is%20useful%20for%20more%20than%20just%20exception%20handling%20%E2%80%94%20it%20allows%20the%20programmer%20to%20avoid%20having%20cleanup%20code%20accidentally%20bypassed%20by%20a%20return,%20continue,%20or%20break.%20Putting%20cleanup%20code%20in%20a%20finally%20block%20is%20always%20a%20good%20practice,%20even%20when%20no%20exceptions%20are%20anticipated.","title":"unreachable statement after finally block","body":"<p>From <a href=\"http://The%20finally%20block%20always%20executes%20when%20the%20try%20block%20exits.%20This%20ensures%20that%20the%20finally%20block%20is%20executed%20even%20if%20an%20unexpected%20exception%20occurs.%20But%20finally%20is%20useful%20for%20more%20than%20just%20exception%20handling%20%E2%80%94%20it%20allows%20the%20programmer%20to%20avoid%20having%20cleanup%20code%20accidentally%20bypassed%20by%20a%20return,%20continue,%20or%20break.%20Putting%20cleanup%20code%20in%20a%20finally%20block%20is%20always%20a%20good%20practice,%20even%20when%20no%20exceptions%20are%20anticipated.\" rel=\"nofollow noreferrer\">Oracle documentation</a></p>\n<blockquote>\n<p>The <b>finally</b> block always executes when the try block exits. This ensures that the finally block is executed even if an unexpected exception occurs. But finally is useful for more than just exception handling — it allows the programmer to avoid having cleanup code accidentally bypassed by a return, continue, or break. Putting cleanup code in a finally block is always a good practice, even when no exceptions are anticipated.</p>\n</blockquote>\n<p>Remember: <code>finally</code> does not catch an exception !</p>\n"}],"owner":{"account_id":2473025,"reputation":1806,"user_id":2154359,"accept_rate":92,"display_name":"xmen-5"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1139,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":52314075,"answer_count":4,"score":1,"last_activity_date":1640167039,"creation_date":1536842716,"question_id":52314043,"body_markdown":"I&#39;m learning about exceptions in Java, and I&#39;m facing a compilation error in this example:\r\n\r\n    public class FinallyExceptionExample {\r\n        public static void main (String[] args) throws Exception {\r\n            try {\r\n                System.out.println(&quot;1&quot;);\r\n                throw new Exception();\r\n            } finally{\r\n                System.out.println(&quot;3&quot;);\r\n            }\r\n            System.out.println(&quot;4&quot;);\r\n        }\r\n    }\r\n\r\nThe exception is &quot;unreachable statement&quot; for the line:\r\n\r\n    System.out.println(&quot;4&quot;);\r\n\r\nI&#39;m wondering why i&#39;m getting this error, normally after finally we continue the execution of the code?\r\n","title":"unreachable statement after finally block","body":"<p>I'm learning about exceptions in Java, and I'm facing a compilation error in this example:</p>\n\n<pre><code>public class FinallyExceptionExample {\n    public static void main (String[] args) throws Exception {\n        try {\n            System.out.println(\"1\");\n            throw new Exception();\n        } finally{\n            System.out.println(\"3\");\n        }\n        System.out.println(\"4\");\n    }\n}\n</code></pre>\n\n<p>The exception is \"unreachable statement\" for the line:</p>\n\n<pre><code>System.out.println(\"4\");\n</code></pre>\n\n<p>I'm wondering why i'm getting this error, normally after finally we continue the execution of the code?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":17781530,"reputation":46,"user_id":12912640,"display_name":"M-i-c-h-a-e-l"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640166972,"creation_date":1640166972,"answer_id":70447186,"question_id":70446813,"body_markdown":"in my experience some classes can not be hotloaded, for example static classes, scheduler and rest controller\r\n\r\nmaybe that could help","title":"Spring boot hot reloading does not work in InteliJ Ultimate edition","body":"<p>in my experience some classes can not be hotloaded, for example static classes, scheduler and rest controller</p>\n<p>maybe that could help</p>\n"}],"owner":{"account_id":10968388,"reputation":34405,"user_id":8059459,"accept_rate":90,"display_name":"Willem van der Veen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70447186,"answer_count":1,"score":0,"last_activity_date":1640166972,"creation_date":1640165110,"question_id":70446813,"body_markdown":"I previously had a problem with the community edition of  InteliJ. The problem was that hot swapping didn&#39;t work via spring boot devtools (i.e. after updating a class the server should only update those classes and not restart).\r\n\r\nhttps://stackoverflow.com/questions/70404191/spring-boot-hot-reloading-does-not-work-in-intelij\r\n\r\nSomeone told me this was due to the community edition. After installing the ultimate edition my problem remains the same. \r\n\r\nDetails:\r\n\r\nPOM:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nIntelliJ IDEA 2021.3 (Ultimate Edition),\r\nWindows 10\r\n\r\nSettings &gt; compiler &gt; build project automatically &gt; enabled\r\n\r\nSettings &gt; advanced &gt; allow auto-make start if developed app is currently running &gt; enabled\r\n\r\nAnyone has a idea?\r\n\r\n\r\n\r\n","title":"Spring boot hot reloading does not work in InteliJ Ultimate edition","body":"<p>I previously had a problem with the community edition of  InteliJ. The problem was that hot swapping didn't work via spring boot devtools (i.e. after updating a class the server should only update those classes and not restart).</p>\n<p><a href=\"https://stackoverflow.com/questions/70404191/spring-boot-hot-reloading-does-not-work-in-intelij\">Spring boot hot reloading does not work in InteliJ Community edition</a></p>\n<p>Someone told me this was due to the community edition. After installing the ultimate edition my problem remains the same.</p>\n<p>Details:</p>\n<p>POM:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>IntelliJ IDEA 2021.3 (Ultimate Edition),\nWindows 10</p>\n<p>Settings &gt; compiler &gt; build project automatically &gt; enabled</p>\n<p>Settings &gt; advanced &gt; allow auto-make start if developed app is currently running &gt; enabled</p>\n<p>Anyone has a idea?</p>\n"},{"tags":["java","sql","oracle","hibernate","nativequery"],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640166123,"creation_date":1640166123,"answer_id":70447027,"question_id":70446915,"body_markdown":"I suspect some kind of case sensitive table naming issue here.  To be safe, please explicitly set the table `name` using the `@Entity` annotation:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Entity(name = &quot;COMPANIA&quot;)\r\n    public class Compania {\r\n        ...\r\n    }\r\n\r\n    @Entity(name = &quot;DEFAULT_GROUP&quot;)\r\n    public class DefaultGroup {\r\n        ...\r\n    }\r\n\r\n    @Entity(name = &quot;COMPANIA_DEFAULT_GROUP&quot;)\r\n    public class CompanyDefaultGroup {\r\n        ...\r\n    }","title":"@NativeQuery ORA-00942: table or view does not exist - SpringBoot","body":"<p>I suspect some kind of case sensitive table naming issue here.  To be safe, please explicitly set the table <code>name</code> using the <code>@Entity</code> annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(name = &quot;COMPANIA&quot;)\npublic class Compania {\n    ...\n}\n\n@Entity(name = &quot;DEFAULT_GROUP&quot;)\npublic class DefaultGroup {\n    ...\n}\n\n@Entity(name = &quot;COMPANIA_DEFAULT_GROUP&quot;)\npublic class CompanyDefaultGroup {\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":10383212,"reputation":333,"user_id":7657219,"display_name":"Varox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":772,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640166123,"creation_date":1640165585,"question_id":70446915,"body_markdown":"so I&#39;m trying to do a native query to fetch some data from an Oracle Database and I keep getting this error:\r\n\r\n&gt; java.sql.SQLSyntaxErrorException: ORA-00942: table or view does not\r\n&gt; exist\r\n\r\nMy Query is this one:\r\n\r\n    @Query(\r\n            value = &quot;select d.* from DEFAULT_GROUP d &quot; +\r\n                &quot;inner join COMPANIA_DEFAULT_GROUP cd on d.ID = cd.DEFAULT_GROUP_ID &quot; +\r\n                &quot;inner join COMPANIA c on c.ID = cd.COMPANIA_ID &quot; +\r\n                &quot;where c.ID = cast(:companiaId AS NUMBER) and lower(d.NAME) like lower(cast(:dgName AS varchar(255))) ORDER BY d.NAME ASC &quot; ,\r\n            nativeQuery = true\r\n        )\r\n        List&lt;DefaultGroup&gt; findDefaultGroupsByNameLike(@Param(&quot;companiaId&quot;) Long companiaId,@Param(&quot;dgName&quot;) String dgName);\r\n\r\nMy entity **Compania** is like this:\r\n\r\n\r\n\r\n    @Entity(name = &quot;Compania&quot;)\r\n    @Table(\r\n        name = &quot;compania&quot;\r\n    )\r\n    public class Compania {\r\n        @Id\r\n        @SequenceGenerator(\r\n            name = &quot;compania_sequence&quot;,\r\n            sequenceName = &quot;compania_sequence&quot;,\r\n            allocationSize = 1\r\n        )\r\n        @GeneratedValue(\r\n            strategy = GenerationType.AUTO,\r\n            generator = &quot;compania_sequence&quot;\r\n        )\r\n        @Column(\r\n            nullable = false\r\n        )\r\n        private Long id;\r\n    \r\n    \r\n        @Column(\r\n            name = &quot;name&quot;,\r\n            nullable = false,\r\n            unique = true\r\n        )\r\n        private String name;\r\n    \r\n        @Column(\r\n            name = &quot;dominio&quot;\r\n        )\r\n        private String dominio;\r\n    \r\n        @Column(\r\n            name = &quot;altas&quot;\r\n        )\r\n        private String altas;\r\n    \r\n        @Column(\r\n            name = &quot;bajas&quot;\r\n        )\r\n        private String bajas;\r\n    \r\n        @OneToMany(\r\n            cascade = CascadeType.ALL,\r\n            fetch = FetchType.LAZY,\r\n            orphanRemoval = true\r\n        )\r\n        private List&lt;DefaultGroup&gt; default_group;\r\n    \r\n        @OneToMany(\r\n            cascade = CascadeType.ALL,\r\n            fetch = FetchType.LAZY,\r\n            orphanRemoval = true\r\n        )\r\n        private List&lt;Office&gt; office;\r\n    \r\n        public Compania() {\r\n        }\r\n    \r\n        public Compania(String name, String dominio, String altas, String bajas, List&lt;DefaultGroup&gt; defaultGroup, List&lt;Office&gt; office) {\r\n            this.name = name;\r\n            this.dominio = dominio;\r\n            this.altas = altas;\r\n            this.bajas = bajas;\r\n            this.default_group = defaultGroup;\r\n            this.office = office;\r\n        }\r\n        ... Getters and Setters...\r\n\r\nAnd my entity **Default Group** is like this:\r\n\r\n\r\n    @Entity\r\n    @Table\r\n    public class DefaultGroup {\r\n        @Id\r\n        @SequenceGenerator(\r\n            name = &quot;defaultGroup_sequence&quot;,\r\n            sequenceName = &quot;defaultGroup_sequence&quot;,\r\n            allocationSize = 1\r\n        )\r\n        @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;defaultGroup_sequence&quot;\r\n        )\r\n        @Column(\r\n            nullable = false\r\n        )\r\n        private Long id;\r\n    \r\n        @Column(\r\n            name = &quot;name&quot;,\r\n            nullable = false\r\n        )\r\n        private String name;\r\n    \r\n        @Column(\r\n            name = &quot;path&quot;,\r\n            nullable = false\r\n        )\r\n        private String path;\r\n    \r\n        public DefaultGroup() {\r\n        }\r\n    \r\n        public DefaultGroup(String name, String path) {\r\n            this.name = name;\r\n            this.path = path;\r\n        }\r\n       ... Getters and Setters...\r\n\r\nWhen I check the failures in the Azure Insights I see that it is trying this SQL:\r\n\r\n&gt; /* dynamic native SQL query */ select d.* from DEFAULT_GROUP d inner\r\n&gt; join COMPANIA_DEFAULT_GROUP cd on d.ID = cd.DEFAULT_GROUP_ID inner\r\n&gt; join COMPANIA c on c.ID = cd.COMPANIA_ID where c.ID = cast(? AS\r\n&gt; NUMBER) and lower(d.NAME) like lower(cast(? AS varchar(?))) ORDER BY\r\n&gt; d.NAME ASC\r\n\r\nThen throws me a *500 internal server error* and the oracle error code *ORA-00942: table or view does not exist*\r\n\r\nI&#39;ve also seen this error at the end of the errorstack:\r\n\r\n    Caused by: Error : 942, Position : 141, Sql = /* dynamic native SQL query */ select d.* from DEFAULT_GROUP d inner join COMPANIA_DEFAULT_GROUP cd on d.ID = cd.DEFAULT_GROUP_ID inner join COMPANIA c on c.ID = cd.COMPANIA_ID where c.ID = cast(:1  AS NUMBER) and lower(d.NAME) like lower(cast(:2  AS varchar(255))) ORDER BY d.NAME ASC , OriginalSql = /* dynamic native SQL query */ select d.* from DEFAULT_GROUP d inner join COMPANIA_DEFAULT_GROUP cd on d.ID = cd.DEFAULT_GROUP_ID inner join COMPANIA c on c.ID = cd.COMPANIA_ID where c.ID = cast(? AS NUMBER) and lower(d.NAME) like lower(cast(? AS varchar(255))) ORDER BY d.NAME ASC , Error Msg = ORA-00942: table or view does not exist\r\n\r\nThe same thing happens with my other table that is called OFFICE \r\n\r\nThe tables that the database has are:\r\n\r\n - COMPANIA\r\n - COMPANIA_DEFAULT_GROUP (ids of both entities)\r\n - COMPANIA_OFFICE (ids of both entities)\r\n - DEFAULT_GROUP\r\n - OFFICE","title":"@NativeQuery ORA-00942: table or view does not exist - SpringBoot","body":"<p>so I'm trying to do a native query to fetch some data from an Oracle Database and I keep getting this error:</p>\n<blockquote>\n<p>java.sql.SQLSyntaxErrorException: ORA-00942: table or view does not\nexist</p>\n</blockquote>\n<p>My Query is this one:</p>\n<pre><code>@Query(\n        value = &quot;select d.* from DEFAULT_GROUP d &quot; +\n            &quot;inner join COMPANIA_DEFAULT_GROUP cd on d.ID = cd.DEFAULT_GROUP_ID &quot; +\n            &quot;inner join COMPANIA c on c.ID = cd.COMPANIA_ID &quot; +\n            &quot;where c.ID = cast(:companiaId AS NUMBER) and lower(d.NAME) like lower(cast(:dgName AS varchar(255))) ORDER BY d.NAME ASC &quot; ,\n        nativeQuery = true\n    )\n    List&lt;DefaultGroup&gt; findDefaultGroupsByNameLike(@Param(&quot;companiaId&quot;) Long companiaId,@Param(&quot;dgName&quot;) String dgName);\n</code></pre>\n<p>My entity <strong>Compania</strong> is like this:</p>\n<pre><code>@Entity(name = &quot;Compania&quot;)\n@Table(\n    name = &quot;compania&quot;\n)\npublic class Compania {\n    @Id\n    @SequenceGenerator(\n        name = &quot;compania_sequence&quot;,\n        sequenceName = &quot;compania_sequence&quot;,\n        allocationSize = 1\n    )\n    @GeneratedValue(\n        strategy = GenerationType.AUTO,\n        generator = &quot;compania_sequence&quot;\n    )\n    @Column(\n        nullable = false\n    )\n    private Long id;\n\n\n    @Column(\n        name = &quot;name&quot;,\n        nullable = false,\n        unique = true\n    )\n    private String name;\n\n    @Column(\n        name = &quot;dominio&quot;\n    )\n    private String dominio;\n\n    @Column(\n        name = &quot;altas&quot;\n    )\n    private String altas;\n\n    @Column(\n        name = &quot;bajas&quot;\n    )\n    private String bajas;\n\n    @OneToMany(\n        cascade = CascadeType.ALL,\n        fetch = FetchType.LAZY,\n        orphanRemoval = true\n    )\n    private List&lt;DefaultGroup&gt; default_group;\n\n    @OneToMany(\n        cascade = CascadeType.ALL,\n        fetch = FetchType.LAZY,\n        orphanRemoval = true\n    )\n    private List&lt;Office&gt; office;\n\n    public Compania() {\n    }\n\n    public Compania(String name, String dominio, String altas, String bajas, List&lt;DefaultGroup&gt; defaultGroup, List&lt;Office&gt; office) {\n        this.name = name;\n        this.dominio = dominio;\n        this.altas = altas;\n        this.bajas = bajas;\n        this.default_group = defaultGroup;\n        this.office = office;\n    }\n    ... Getters and Setters...\n</code></pre>\n<p>And my entity <strong>Default Group</strong> is like this:</p>\n<pre><code>@Entity\n@Table\npublic class DefaultGroup {\n    @Id\n    @SequenceGenerator(\n        name = &quot;defaultGroup_sequence&quot;,\n        sequenceName = &quot;defaultGroup_sequence&quot;,\n        allocationSize = 1\n    )\n    @GeneratedValue(\n        strategy = GenerationType.SEQUENCE,\n        generator = &quot;defaultGroup_sequence&quot;\n    )\n    @Column(\n        nullable = false\n    )\n    private Long id;\n\n    @Column(\n        name = &quot;name&quot;,\n        nullable = false\n    )\n    private String name;\n\n    @Column(\n        name = &quot;path&quot;,\n        nullable = false\n    )\n    private String path;\n\n    public DefaultGroup() {\n    }\n\n    public DefaultGroup(String name, String path) {\n        this.name = name;\n        this.path = path;\n    }\n   ... Getters and Setters...\n</code></pre>\n<p>When I check the failures in the Azure Insights I see that it is trying this SQL:</p>\n<blockquote>\n<p>/* dynamic native SQL query <em>/ select d.</em> from DEFAULT_GROUP d inner\njoin COMPANIA_DEFAULT_GROUP cd on d.ID = cd.DEFAULT_GROUP_ID inner\njoin COMPANIA c on c.ID = cd.COMPANIA_ID where c.ID = cast(? AS\nNUMBER) and lower(d.NAME) like lower(cast(? AS varchar(?))) ORDER BY\nd.NAME ASC</p>\n</blockquote>\n<p>Then throws me a <em>500 internal server error</em> and the oracle error code <em>ORA-00942: table or view does not exist</em></p>\n<p>I've also seen this error at the end of the errorstack:</p>\n<pre><code>Caused by: Error : 942, Position : 141, Sql = /* dynamic native SQL query */ select d.* from DEFAULT_GROUP d inner join COMPANIA_DEFAULT_GROUP cd on d.ID = cd.DEFAULT_GROUP_ID inner join COMPANIA c on c.ID = cd.COMPANIA_ID where c.ID = cast(:1  AS NUMBER) and lower(d.NAME) like lower(cast(:2  AS varchar(255))) ORDER BY d.NAME ASC , OriginalSql = /* dynamic native SQL query */ select d.* from DEFAULT_GROUP d inner join COMPANIA_DEFAULT_GROUP cd on d.ID = cd.DEFAULT_GROUP_ID inner join COMPANIA c on c.ID = cd.COMPANIA_ID where c.ID = cast(? AS NUMBER) and lower(d.NAME) like lower(cast(? AS varchar(255))) ORDER BY d.NAME ASC , Error Msg = ORA-00942: table or view does not exist\n</code></pre>\n<p>The same thing happens with my other table that is called OFFICE</p>\n<p>The tables that the database has are:</p>\n<ul>\n<li>COMPANIA</li>\n<li>COMPANIA_DEFAULT_GROUP (ids of both entities)</li>\n<li>COMPANIA_OFFICE (ids of both entities)</li>\n<li>DEFAULT_GROUP</li>\n<li>OFFICE</li>\n</ul>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1640164997,"post_id":70446636,"comment_id":124528617,"body_markdown":"Does this answer your question? [Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/WebDriver](https://stackoverflow.com/questions/47823506/exception-in-thread-main-java-lang-noclassdeffounderror-org-openqa-selenium-w)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/47823506/exception-in-thread-main-java-lang-noclassdeffounderror-org-openqa-selenium-w\">Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/WebDriver</a>"}],"answers":[{"tags":[],"owner":{"account_id":7865489,"reputation":380,"user_id":5944412,"display_name":"Bipin Kumar Chaurasia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640165407,"creation_date":1640165407,"answer_id":70446865,"question_id":70446636,"body_markdown":"Please refer to the following code being working as expected on Mac OS machine as,\r\n\r\n```\r\n    public void launchBrowser() {\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, System.getProperty(&quot;user.home&quot;) + &quot;/Documents/chromedriver&quot;);\r\n    WebDriver driver = (WebDriver) new ChromeDriver();\r\n    driver.get(&quot;https://www.google.com/&quot;);\r\n    driver.manage().window().maximize();\r\n    driver.close();\r\n    driver.quit();\r\n  }\r\n```","title":"How to find Selenium WebDriver path in Macbook pro M1 silica chip?","body":"<p>Please refer to the following code being working as expected on Mac OS machine as,</p>\n<pre><code>    public void launchBrowser() {\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, System.getProperty(&quot;user.home&quot;) + &quot;/Documents/chromedriver&quot;);\n    WebDriver driver = (WebDriver) new ChromeDriver();\n    driver.get(&quot;https://www.google.com/&quot;);\n    driver.manage().window().maximize();\n    driver.close();\n    driver.quit();\n  }\n</code></pre>\n"}],"owner":{"account_id":16754950,"reputation":1,"user_id":12111101,"display_name":"Suneth Sandaruwan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":579,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640165407,"creation_date":1640164275,"question_id":70446636,"body_markdown":"I&#39;m getting in the below code but it error in my code?\r\n\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;.\\\\Users\\\\sunethsandaruwan\\\\Documents\\\\chromedriver.exe&quot;);\r\n\t\tWebDriver driver = (WebDriver) new ChromeDriver();\r\n\t\tdriver.get(&quot;https://www.google.com/&quot;);\r\n\t\tdriver.manage().window().maximize();\r\n\t\tdriver.close();\t\r\n\r\nCome this error?\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/devtools/HasDevTools\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:6\r\n\r\n","title":"How to find Selenium WebDriver path in Macbook pro M1 silica chip?","body":"<p>I'm getting in the below code but it error in my code?</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;.\\\\Users\\\\sunethsandaruwan\\\\Documents\\\\chromedriver.exe&quot;);\n    WebDriver driver = (WebDriver) new ChromeDriver();\n    driver.get(&quot;https://www.google.com/&quot;);\n    driver.manage().window().maximize();\n    driver.close(); \n</code></pre>\n<p>Come this error?</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/devtools/HasDevTools\nat java.base/java.lang.ClassLoader.defineClass1(Native Method)\nat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\nat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\nat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\nat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:6\n</code></pre>\n"},{"tags":["java","for-loop","duplicates","boolean","break"],"answers":[{"tags":[],"owner":{"account_id":4096887,"reputation":826,"user_id":3363386,"display_name":"polo-language"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1640163827,"creation_date":1640163827,"answer_id":70446545,"question_id":70446511,"body_markdown":"The `break` will only get out of the inner loop, not both loops. One option is to just return `true` instead of break. And return `false` at the end of the method if there is no early return. No need for the `type` variable in this case.","title":"I can&#39;t understand why break is not working","body":"<p>The <code>break</code> will only get out of the inner loop, not both loops. One option is to just return <code>true</code> instead of break. And return <code>false</code> at the end of the method if there is no early return. No need for the <code>type</code> variable in this case.</p>\n"},{"tags":[],"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640165103,"creation_date":1640165103,"answer_id":70446811,"question_id":70446511,"body_markdown":"your present logic keeps on iterating all the elements even if it finds a duplicate value. To change that, you need to check the type value in the outer for loop and if it is true, then you can break from that loop and return the value. \r\n\r\nThough your present logic will help in identifying the duplicate values, it will be an overhead once the value is found as it will keep on iterating the array. \r\n\r\nHere is the solution that should suit your requirement:\r\n\r\n    public class Main {\r\n    public static void main(String[] args) {\r\n        System.out.println( singleNumber(new int[]{1,3,1}) );\r\n    }\r\n    \r\n     public static boolean singleNumber(int[] nums) {\r\n           boolean type = false;\r\n           for (int i = 0; i &lt; nums.length - 1; i++) {\r\n              for (int j = i + 1; j &lt;= nums.length - 1; j++) {\r\n                   if (nums[i] == nums[j]) {\r\n                        type = true;\r\n                        break; // to break out of the inner for loop\r\n                  }\r\n               }\r\n               if( type)   \r\n               {\r\n                   break; // to break out of the outer for loop\r\n               }\r\n             }\r\n             return type;\r\n           }\r\n}","title":"I can&#39;t understand why break is not working","body":"<p>your present logic keeps on iterating all the elements even if it finds a duplicate value. To change that, you need to check the type value in the outer for loop and if it is true, then you can break from that loop and return the value.</p>\n<p>Though your present logic will help in identifying the duplicate values, it will be an overhead once the value is found as it will keep on iterating the array.</p>\n<p>Here is the solution that should suit your requirement:</p>\n<pre><code>public class Main {\npublic static void main(String[] args) {\n    System.out.println( singleNumber(new int[]{1,3,1}) );\n}\n\n public static boolean singleNumber(int[] nums) {\n       boolean type = false;\n       for (int i = 0; i &lt; nums.length - 1; i++) {\n          for (int j = i + 1; j &lt;= nums.length - 1; j++) {\n               if (nums[i] == nums[j]) {\n                    type = true;\n                    break; // to break out of the inner for loop\n              }\n           }\n           if( type)   \n           {\n               break; // to break out of the outer for loop\n           }\n         }\n         return type;\n       }\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":18293878,"reputation":13,"user_id":13320163,"display_name":"Salem Shehabeddin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1640360038,"accepted_answer_id":70446545,"answer_count":2,"score":0,"last_activity_date":1640165103,"creation_date":1640163685,"question_id":70446511,"body_markdown":"So I am trying to write a function that checks if there is duplicates inside an array. Once the function detects a duplicate I want it exit break out of the loop and return type. However in my case it keeps on looping as if the break does not exist. Can please someone explain for me why this happening?\r\n\r\n     \r\n  \r\n\r\n     public static boolean singleNumber(int[] nums) {\r\n               boolean type = false;\r\n               for (int i = 0; i &lt; nums.length - 1; i++) {\r\n                  for (int j = i + 1; j &lt;= nums.length - 1; j++) {\r\n                       if (nums[i] == nums[j]) {\r\n                            type = true;\r\n                            break;\r\n                      }\r\n                   }\r\n                 }\r\n                 return type;\r\n               }","title":"I can&#39;t understand why break is not working","body":"<p>So I am trying to write a function that checks if there is duplicates inside an array. Once the function detects a duplicate I want it exit break out of the loop and return type. However in my case it keeps on looping as if the break does not exist. Can please someone explain for me why this happening?</p>\n<pre><code> public static boolean singleNumber(int[] nums) {\n           boolean type = false;\n           for (int i = 0; i &lt; nums.length - 1; i++) {\n              for (int j = i + 1; j &lt;= nums.length - 1; j++) {\n                   if (nums[i] == nums[j]) {\n                        type = true;\n                        break;\n                  }\n               }\n             }\n             return type;\n           }\n</code></pre>\n"},{"tags":["java","blockingqueue"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1640138409,"post_id":70443248,"comment_id":124523079,"body_markdown":"Cite your source.","body":"Cite your source."},{"owner":{"account_id":4996428,"reputation":362,"user_id":4016860,"accept_rate":75,"display_name":"Popeye"},"score":0,"creation_date":1640147869,"post_id":70443248,"comment_id":124524334,"body_markdown":"Looks like head is only package level. Probably other Class in the same package is accessing head, being a low level API, they would not create any unnecessary overhead by making this private","body":"Looks like head is only package level. Probably other Class in the same package is accessing head, being a low level API, they would not create any unnecessary overhead by making this private"}],"answers":[{"tags":[],"owner":{"account_id":20485417,"reputation":4847,"user_id":15032688,"display_name":"Sercan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640140092,"creation_date":1640137943,"answer_id":70443424,"question_id":70443248,"body_markdown":"I examined the [`LinkedBlockingQueue.java`](https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/util/concurrent/LinkedBlockingQueue.java) file in the [`jdk7u`](https://github.com/openjdk-mirror/) source code and saw that both fields (`head`, `last`) are naturally defined as hidden. This is a commonly used technique in programming languages based on _OOP_ to prevent direct client access to fields. [Relevant lines of code](https://github.com/openjdk-mirror/jdk7u-jdk/blob/f4d80957e89a19a29bb9f9807d2a28351ed7f7df/src/share/classes/java/util/concurrent/LinkedBlockingQueue.java#L140) are available below:\r\n\r\n```java\r\n/**\r\n * Head of linked list.\r\n * Invariant: head.item == null\r\n */\r\nprivate transient Node&lt;E&gt; head;\r\n\r\n/**\r\n * Tail of linked list.\r\n * Invariant: last.next == null\r\n */\r\nprivate transient Node&lt;E&gt; last;\r\n```\r\n\r\nComing to your question, it&#39;s possible that you come across different uses when browsing from a different source. However, you are always responsible for questioning and investigating its reliability. I recommend looking at more sources to get good code practices.","title":"Why LinkedBlockingQueue&#39;s head is not private?","body":"<p>I examined the <a href=\"https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/util/concurrent/LinkedBlockingQueue.java\" rel=\"nofollow noreferrer\"><code>LinkedBlockingQueue.java</code></a> file in the <a href=\"https://github.com/openjdk-mirror/\" rel=\"nofollow noreferrer\"><code>jdk7u</code></a> source code and saw that both fields (<code>head</code>, <code>last</code>) are naturally defined as hidden. This is a commonly used technique in programming languages based on <em>OOP</em> to prevent direct client access to fields. <a href=\"https://github.com/openjdk-mirror/jdk7u-jdk/blob/f4d80957e89a19a29bb9f9807d2a28351ed7f7df/src/share/classes/java/util/concurrent/LinkedBlockingQueue.java#L140\" rel=\"nofollow noreferrer\">Relevant lines of code</a> are available below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Head of linked list.\n * Invariant: head.item == null\n */\nprivate transient Node&lt;E&gt; head;\n\n/**\n * Tail of linked list.\n * Invariant: last.next == null\n */\nprivate transient Node&lt;E&gt; last;\n</code></pre>\n<p>Coming to your question, it's possible that you come across different uses when browsing from a different source. However, you are always responsible for questioning and investigating its reliability. I recommend looking at more sources to get good code practices.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1640165102,"creation_date":1640139260,"answer_id":70443535,"question_id":70443248,"body_markdown":"First some facts.\r\n\r\n1.  In Java 6, the `head` field is `private`.\r\n2.  By Java 17, the `head` field is package private ... and it has the comment about invariants.\r\n3.  The change actually happened in Java 8.\r\n\r\nSo *why* did they change it?\r\n\r\nWell I haven&#39;t been able to figure that out so far, but possible reasons might include:\r\n\r\n  - So that subclasses (in the same package) can access the field, though I can&#39;t see any such classes in the published code base.\r\n  - To make it easier to test the class.  (This is not a *good* reason to make this change, and I can&#39;t see any evidence that this is the reason.)\r\n  - It is a &quot;personal style&quot; thing related to inner classes, though I&#39;m not convinced.  (Why just do it for `head`?  Why not `tail` as well?)\r\n  - It happened by accident.\r\n\r\nAfter spending a 20 minutes of so looking at the history on Github, I think it was probably an accident.  The change appears to have happened in this commit (https://github.com/openjdk/jdk8u/commit/6f31fa54ac050d781656d6e8ed18a40b55ef5c0d) ... according to &quot;git blame&quot;.  But when I look what is in the commit, I can&#39;t see the change at all, let alone the purpose&lt;sup&gt;1&lt;/sup&gt;.  It is baffling.  \r\n\r\nMaybe it is clearer in the Mercurial history&lt;sup&gt;2&lt;/sup&gt;.\r\n\r\nAt any rate, this whole thing is an exercise in curiosity.  It doesn&#39;t matter why they changed it, and it doesn&#39;t affect any user code that they did&lt;sup&gt;3&lt;/sup&gt;.\r\n\r\n-----------------\r\n\r\n&lt;sup&gt;1 - The changeset description says that it is just syncing up with a private repo maintained by the original / primary author of the `java.util.concurrent` classes.&lt;br&gt;\r\n2 - We are looking a read-only Git mirror of the definitive Mercurial repository. It is possible that something has gotten screwed up in the creation of the mirror.&lt;br&gt;\r\n3 - ... modulo interaction with Heisenbugs already present in the user&#39;s code.&lt;/sup&gt;","title":"Why LinkedBlockingQueue&#39;s head is not private?","body":"<p>First some facts.</p>\n<ol>\n<li>In Java 6, the <code>head</code> field is <code>private</code>.</li>\n<li>By Java 17, the <code>head</code> field is package private ... and it has the comment about invariants.</li>\n<li>The change actually happened in Java 8.</li>\n</ol>\n<p>So <em>why</em> did they change it?</p>\n<p>Well I haven't been able to figure that out so far, but possible reasons might include:</p>\n<ul>\n<li>So that subclasses (in the same package) can access the field, though I can't see any such classes in the published code base.</li>\n<li>To make it easier to test the class.  (This is not a <em>good</em> reason to make this change, and I can't see any evidence that this is the reason.)</li>\n<li>It is a &quot;personal style&quot; thing related to inner classes, though I'm not convinced.  (Why just do it for <code>head</code>?  Why not <code>tail</code> as well?)</li>\n<li>It happened by accident.</li>\n</ul>\n<p>After spending a 20 minutes of so looking at the history on Github, I think it was probably an accident.  The change appears to have happened in this commit (<a href=\"https://github.com/openjdk/jdk8u/commit/6f31fa54ac050d781656d6e8ed18a40b55ef5c0d\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk8u/commit/6f31fa54ac050d781656d6e8ed18a40b55ef5c0d</a>) ... according to &quot;git blame&quot;.  But when I look what is in the commit, I can't see the change at all, let alone the purpose<sup>1</sup>.  It is baffling.</p>\n<p>Maybe it is clearer in the Mercurial history<sup>2</sup>.</p>\n<p>At any rate, this whole thing is an exercise in curiosity.  It doesn't matter why they changed it, and it doesn't affect any user code that they did<sup>3</sup>.</p>\n<hr />\n<p><sup>1 - The changeset description says that it is just syncing up with a private repo maintained by the original / primary author of the <code>java.util.concurrent</code> classes.<br>\n2 - We are looking a read-only Git mirror of the definitive Mercurial repository. It is possible that something has gotten screwed up in the creation of the mirror.<br>\n3 - ... modulo interaction with Heisenbugs already present in the user's code.</sup></p>\n"}],"owner":{"account_id":7337638,"reputation":31,"user_id":5588426,"display_name":"fjdingsd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1640165102,"creation_date":1640135733,"question_id":70443248,"body_markdown":"I&#39;m reading LinkedBlockingQueue code (JDK8u), and I find LinkedBlockingQueue&#39;s head field is not private, but last field is private. I can&#39;t find any particular opration with head . So why not set head to private ?\r\n\r\n    /**\r\n     * Head of linked list.\r\n     * Invariant: head.item == null\r\n     */\r\n    transient Node&lt;E&gt; head;\r\n\r\n    /**\r\n     * Tail of linked list.\r\n     * Invariant: last.next == null\r\n     */\r\n    private transient Node&lt;E&gt; last;","title":"Why LinkedBlockingQueue&#39;s head is not private?","body":"<p>I'm reading LinkedBlockingQueue code (JDK8u), and I find LinkedBlockingQueue's head field is not private, but last field is private. I can't find any particular opration with head . So why not set head to private ?</p>\n<pre><code>/**\n * Head of linked list.\n * Invariant: head.item == null\n */\ntransient Node&lt;E&gt; head;\n\n/**\n * Tail of linked list.\n * Invariant: last.next == null\n */\nprivate transient Node&lt;E&gt; last;\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1639838313,"post_id":70404191,"comment_id":124453071,"body_markdown":"sorry (stupid question!?), but IntelliJ Ultimate? (not Community!?)","body":"sorry (stupid question!?), but IntelliJ Ultimate? (not Community!?)"},{"owner":{"account_id":10968388,"reputation":34405,"user_id":8059459,"accept_rate":90,"display_name":"Willem van der Veen"},"score":1,"creation_date":1639838508,"post_id":70404191,"comment_id":124453113,"body_markdown":"@xerx593 It is Community edition, is this only for ultimate?","body":"@xerx593 It is Community edition, is this only for ultimate?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1639838628,"post_id":70404191,"comment_id":124453147,"body_markdown":"yeah, ;( &quot;spring support only in Ultimate&quot;","body":"yeah, ;( &quot;spring support only in Ultimate&quot;"},{"owner":{"account_id":10968388,"reputation":34405,"user_id":8059459,"accept_rate":90,"display_name":"Willem van der Veen"},"score":0,"creation_date":1639838742,"post_id":70404191,"comment_id":124453182,"body_markdown":"@xerx593 Okay but with ultimate version it would restart the server when I change one of the classes right?","body":"@xerx593 Okay but with ultimate version it would restart the server when I change one of the classes right?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1639839053,"post_id":70404191,"comment_id":124453259,"body_markdown":"(i also use community-only, but) &quot;never heard complaints&quot; :-)","body":"(i also use community-only, but) &quot;never heard complaints&quot; :-)"},{"owner":{"account_id":10968388,"reputation":34405,"user_id":8059459,"accept_rate":90,"display_name":"Willem van der Veen"},"score":0,"creation_date":1639839101,"post_id":70404191,"comment_id":124453278,"body_markdown":"Does this work in your community edition?","body":"Does this work in your community edition?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1639839700,"post_id":70404191,"comment_id":124453411,"body_markdown":"no, it doesn&#39;t! (we can little (ugly) hack))...","body":"no, it doesn&#39;t! (we can little (ugly) hack))..."}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1639841487,"creation_date":1639840621,"answer_id":70404604,"question_id":70404191,"body_markdown":"As the [IntelliJ Edition Comparison][1] shows, Community Edition doesn&#39;t &quot;support&quot;:\r\n\r\n&gt; Spring, Jakarta EE, Java EE, Micronaut, Quarkus, Helidon and more...\r\n\r\nWe can (little ugly, because an exception &quot;flies&quot;, the restart happens (at least)2 times ..depending how long the build/compilation takes) &quot;hack&quot;.\r\n\r\nRunning a *maven `spring-boot:run` configuration*, we can:\r\n\r\n- (better) Deactivate the shown settings: Save on Compile, &quot;Allow auto make on running...&quot; (we can also leave, but the result/number of restarts will be less predictable:)\r\n- Trigger an (additional) &quot;(Re-)build module/project&quot; build, or a `mvn process-classes` (or something, that &quot;touches the classpath&quot;).\r\n\r\n\r\n\r\n\r\n  [1]: https://www.jetbrains.com/idea/download/","title":"Spring boot hot reloading does not work in InteliJ Community edition","body":"<p>As the <a href=\"https://www.jetbrains.com/idea/download/\" rel=\"nofollow noreferrer\">IntelliJ Edition Comparison</a> shows, Community Edition doesn't &quot;support&quot;:</p>\n<blockquote>\n<p>Spring, Jakarta EE, Java EE, Micronaut, Quarkus, Helidon and more...</p>\n</blockquote>\n<p>We can (little ugly, because an exception &quot;flies&quot;, the restart happens (at least)2 times ..depending how long the build/compilation takes) &quot;hack&quot;.</p>\n<p>Running a <em>maven <code>spring-boot:run</code> configuration</em>, we can:</p>\n<ul>\n<li>(better) Deactivate the shown settings: Save on Compile, &quot;Allow auto make on running...&quot; (we can also leave, but the result/number of restarts will be less predictable:)</li>\n<li>Trigger an (additional) &quot;(Re-)build module/project&quot; build, or a <code>mvn process-classes</code> (or something, that &quot;touches the classpath&quot;).</li>\n</ul>\n"}],"owner":{"account_id":10968388,"reputation":34405,"user_id":8059459,"accept_rate":90,"display_name":"Willem van der Veen"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":660,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70404604,"answer_count":1,"score":2,"last_activity_date":1640164649,"creation_date":1639837416,"question_id":70404191,"body_markdown":"I would like to have spring boot auto restart the server when my classes are updated. I already have seen the following answer:\r\n\r\nhttps://stackoverflow.com/questions/45018873/how-does-spring-boot-load-changes-in-code-without-restarting-the-server/45019249\r\n\r\nMy pom file has the following dependency: \r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nI have the following settings enabled in Intelij:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAnd also:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhen I now spin up the server I get the following:\r\n\r\nNotice in the logs:\r\n\r\n&gt; 2021-12-18 15:18:42.624  INFO 4204 --- [  restartedMain]\r\n&gt; o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is\r\n&gt; running on port 35729\r\n\r\nBut now when I make changes to any of the files in the package where my main method is and subpackages (for example: Test controller) my server does not get reloaded. \r\n\r\n[![enter image description here][3]][3]\r\n\r\nAny ideas how to fix this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FL0j6.png\r\n  [2]: https://i.stack.imgur.com/Niel6.png\r\n  [3]: https://i.stack.imgur.com/hiMrP.png","title":"Spring boot hot reloading does not work in InteliJ Community edition","body":"<p>I would like to have spring boot auto restart the server when my classes are updated. I already have seen the following answer:</p>\n<p><a href=\"https://stackoverflow.com/questions/45018873/how-does-spring-boot-load-changes-in-code-without-restarting-the-server/45019249\">How does Spring Boot load changes in code without restarting the server</a></p>\n<p>My pom file has the following dependency:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I have the following settings enabled in Intelij:</p>\n<p><a href=\"https://i.stack.imgur.com/FL0j6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FL0j6.png\" alt=\"enter image description here\" /></a></p>\n<p>And also:</p>\n<p><a href=\"https://i.stack.imgur.com/Niel6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Niel6.png\" alt=\"enter image description here\" /></a></p>\n<p>When I now spin up the server I get the following:</p>\n<p>Notice in the logs:</p>\n<blockquote>\n<p>2021-12-18 15:18:42.624  INFO 4204 --- [  restartedMain]\no.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is\nrunning on port 35729</p>\n</blockquote>\n<p>But now when I make changes to any of the files in the package where my main method is and subpackages (for example: Test controller) my server does not get reloaded.</p>\n<p><a href=\"https://i.stack.imgur.com/hiMrP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hiMrP.png\" alt=\"enter image description here\" /></a></p>\n<p>Any ideas how to fix this?</p>\n"},{"tags":["java","spring","rest","validation"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1479285401,"post_id":40627261,"comment_id":68487928,"body_markdown":"JSON has no concept of a distinction between integers and floating-point.","body":"JSON has no concept of a distinction between integers and floating-point."},{"owner":{"account_id":3211455,"reputation":1907,"user_id":2711378,"accept_rate":94,"display_name":"Amanuel Nega"},"score":0,"creation_date":1479288559,"post_id":40627261,"comment_id":68489820,"body_markdown":"The question doesn&#39;t contain enough details,.. how are you taking the data? post body? or pathvariable?","body":"The question doesn&#39;t contain enough details,.. how are you taking the data? post body? or pathvariable?"},{"owner":{"account_id":9471208,"reputation":153,"user_id":7042004,"display_name":"Rajat Goel"},"score":0,"creation_date":1479289759,"post_id":40627261,"comment_id":68490554,"body_markdown":"Hi Amanuel, I am using post body to post the data","body":"Hi Amanuel, I am using post body to post the data"}],"answers":[{"tags":[],"owner":{"account_id":2552468,"reputation":456,"user_id":2215986,"accept_rate":60,"display_name":"dtrihinas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1479285549,"creation_date":1479285549,"answer_id":40627401,"question_id":40627261,"body_markdown":"    if (age instanceof Integer) //dowork();\r\n    else //throw custom exception\r\n\r\nconsider age as type Object and then use the above code to do your testing.","title":"how to prevent user from entering decimal values in integer fields in REST APIs in spring in java","body":"<pre><code>if (age instanceof Integer) //dowork();\nelse //throw custom exception\n</code></pre>\n\n<p>consider age as type Object and then use the above code to do your testing.</p>\n"},{"tags":[],"owner":{"account_id":13293158,"reputation":404,"user_id":9597039,"display_name":"Milos"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1640164635,"creation_date":1640164635,"answer_id":70446715,"question_id":40627261,"body_markdown":"Actually there is a way of preventing user from entering decimal numbers in place of an integer. You can do it this way. \r\n\r\n    @JsonProperty(&quot;age&quot;)\r\n    @NotNull\r\n    @Min(value = 0L, message = &quot;The value must be positive&quot;)\r\n    @Digits(integer = 10, fraction = 0)\r\n    private BigDecimal age;\r\n\r\nBasically, you should change the type from **int** to the **BigDecimal**, becasue BigDecimal itself supports **@Digits** annotation, and this way, you can limit the field to only accept 0 decimal points as this example shows. If the user entered decimal value instead of integer, he will recieve **400 Bad Request**. \r\n\r\n","title":"how to prevent user from entering decimal values in integer fields in REST APIs in spring in java","body":"<p>Actually there is a way of preventing user from entering decimal numbers in place of an integer. You can do it this way.</p>\n<pre><code>@JsonProperty(&quot;age&quot;)\n@NotNull\n@Min(value = 0L, message = &quot;The value must be positive&quot;)\n@Digits(integer = 10, fraction = 0)\nprivate BigDecimal age;\n</code></pre>\n<p>Basically, you should change the type from <strong>int</strong> to the <strong>BigDecimal</strong>, becasue BigDecimal itself supports <strong>@Digits</strong> annotation, and this way, you can limit the field to only accept 0 decimal points as this example shows. If the user entered decimal value instead of integer, he will recieve <strong>400 Bad Request</strong>.</p>\n"}],"owner":{"account_id":9471208,"reputation":153,"user_id":7042004,"display_name":"Rajat Goel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1950,"favorite_count":0,"down_vote_count":3,"up_vote_count":5,"accepted_answer_id":40627401,"answer_count":2,"score":2,"last_activity_date":1640164635,"creation_date":1479285022,"question_id":40627261,"body_markdown":"Spring is automatically converting Decimal values to Integers while sending data through body of POST Method in REST APIs. While, I want to throw a custom exception if user enters Decimal values. Is there any easy way to do this.\r\n\r\nEg:: If user enters **age = 4.3** , then Spring is converting it to **4**.","title":"how to prevent user from entering decimal values in integer fields in REST APIs in spring in java","body":"<p>Spring is automatically converting Decimal values to Integers while sending data through body of POST Method in REST APIs. While, I want to throw a custom exception if user enters Decimal values. Is there any easy way to do this.</p>\n\n<p>Eg:: If user enters <strong>age = 4.3</strong> , then Spring is converting it to <strong>4</strong>.</p>\n"},{"tags":["java","json","jackson","json-api"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1454589441,"post_id":35201036,"comment_id":58118249,"body_markdown":"That seems like quite some odd behavior for that service. Any chance to tell the provider to fix that?","body":"That seems like quite some odd behavior for that service. Any chance to tell the provider to fix that?"},{"owner":{"account_id":2647922,"reputation":1409,"user_id":2290251,"accept_rate":89,"display_name":"Javier Alvarez"},"score":0,"creation_date":1454596965,"post_id":35201036,"comment_id":58123460,"body_markdown":"@Thomas Unfortunately not. It&#39;s a big SaaS provider with hundreds of users and I&#39;m just one of them.","body":"@Thomas Unfortunately not. It&#39;s a big SaaS provider with hundreds of users and I&#39;m just one of them."},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1626106904,"post_id":35201036,"comment_id":120799043,"body_markdown":"I&#39;ve added the tag for JSON:API since that&#39;s the context under which this obnoxious behavior is likely to be found.","body":"I&#39;ve added the tag for JSON:API since that&#39;s the context under which this obnoxious behavior is likely to be found."}],"answers":[{"tags":[],"owner":{"account_id":5984666,"reputation":7885,"user_id":4702544,"accept_rate":50,"display_name":"Sachin Gupta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1454590796,"creation_date":1454590796,"answer_id":35201677,"question_id":35201036,"body_markdown":"A custom JsonDeserializer can be used to solve this.\r\n\r\nE.g. \r\n\r\n    class CustomDeserializer extends JsonDeserializer&lt;List&lt;Item&gt;&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic List&lt;Item&gt; deserialize(JsonParser jsonParser, DeserializationContext context)\r\n    \t\t\tthrows IOException, JsonProcessingException {\r\n    \r\n    \t\tJsonNode node = jsonParser.readValueAsTree();\r\n    \r\n    \t\tList&lt;Item&gt; items = new ArrayList&lt;&gt;();\r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \r\n    \t\tif (node.size() == 1) {\r\n    \t\t\tItem item = mapper.readValue(node.toString(), Item.class);\r\n    \t\t\titems.add(item);\r\n    \r\n    \t\t} else {\r\n    \t\t\tfor (int i = 0; i &lt; node.size(); i++) {\r\n    \t\t\t\tItem item = mapper.readValue(node.get(i).toString(), Item.class);\r\n    \t\t\t\titems.add(item);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\treturn items;\r\n    \t}\r\n    \r\n    }\r\n\r\nyou need to tell jackson to use this to de-serialize `items`, like:\r\n\r\n    @JsonDeserialize(using = CustomDeserializer.class)\r\n    private List&lt;Item&gt; items;\r\n\r\n\r\n\r\nAfter that it will work. Happy coding :)\r\n","title":"Jackson deserialize single item into list","body":"<p>A custom JsonDeserializer can be used to solve this.</p>\n\n<p>E.g. </p>\n\n<pre><code>class CustomDeserializer extends JsonDeserializer&lt;List&lt;Item&gt;&gt; {\n\n    @Override\n    public List&lt;Item&gt; deserialize(JsonParser jsonParser, DeserializationContext context)\n            throws IOException, JsonProcessingException {\n\n        JsonNode node = jsonParser.readValueAsTree();\n\n        List&lt;Item&gt; items = new ArrayList&lt;&gt;();\n        ObjectMapper mapper = new ObjectMapper();\n\n        if (node.size() == 1) {\n            Item item = mapper.readValue(node.toString(), Item.class);\n            items.add(item);\n\n        } else {\n            for (int i = 0; i &lt; node.size(); i++) {\n                Item item = mapper.readValue(node.get(i).toString(), Item.class);\n                items.add(item);\n            }\n        }\n\n        return items;\n    }\n\n}\n</code></pre>\n\n<p>you need to tell jackson to use this to de-serialize <code>items</code>, like:</p>\n\n<pre><code>@JsonDeserialize(using = CustomDeserializer.class)\nprivate List&lt;Item&gt; items;\n</code></pre>\n\n<p>After that it will work. Happy coding :)</p>\n"},{"tags":[],"owner":{"account_id":4180584,"reputation":4753,"user_id":3425744,"accept_rate":89,"display_name":"Thomas Betous"},"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1454593856,"creation_date":1454590847,"answer_id":35201701,"question_id":35201036,"body_markdown":"You are not the first to ask for this problem. It seems pretty old.\r\n\r\nAfter looking at this problem, you can use the `DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY` :\r\n\r\nLook at the documentation :\r\nhttp://fasterxml.github.io/jackson-databind/javadoc/2.5/com/fasterxml/jackson/databind/DeserializationFeature.html#ACCEPT_SINGLE_VALUE_AS_ARRAY\r\n\r\nYou need to add this jackson feature to your object mapper.\r\n\r\nI hope it will help you.","title":"Jackson deserialize single item into list","body":"<p>You are not the first to ask for this problem. It seems pretty old.</p>\n\n<p>After looking at this problem, you can use the <code>DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY</code> :</p>\n\n<p>Look at the documentation :\n<a href=\"http://fasterxml.github.io/jackson-databind/javadoc/2.5/com/fasterxml/jackson/databind/DeserializationFeature.html#ACCEPT_SINGLE_VALUE_AS_ARRAY\">http://fasterxml.github.io/jackson-databind/javadoc/2.5/com/fasterxml/jackson/databind/DeserializationFeature.html#ACCEPT_SINGLE_VALUE_AS_ARRAY</a></p>\n\n<p>You need to add this jackson feature to your object mapper.</p>\n\n<p>I hope it will help you.</p>\n"},{"tags":[],"owner":{"account_id":1571214,"reputation":533,"user_id":1458867,"accept_rate":82,"display_name":"Higarian"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1590172474,"creation_date":1590172474,"answer_id":61961702,"question_id":35201036,"body_markdown":"I think the anotation suits the code better.\r\n    \r\n    @JsonFormat(with = JsonFormat.Feature.ACCEPT_SINGLE_VALUE_AS_ARRAY)\r\n    private List&lt;Item&gt; items;","title":"Jackson deserialize single item into list","body":"<p>I think the anotation suits the code better.</p>\n\n<pre><code>@JsonFormat(with = JsonFormat.Feature.ACCEPT_SINGLE_VALUE_AS_ARRAY)\nprivate List&lt;Item&gt; items;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5268754,"reputation":103,"user_id":4207752,"accept_rate":50,"display_name":"Florens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640164080,"creation_date":1638439577,"answer_id":70197485,"question_id":35201036,"body_markdown":"`@JsonFormat(with = JsonFormat.Feature.ACCEPT_SINGLE_VALUE_AS_ARRAY)` does not seem work with `@JsonValue`.\r\n\r\nMeaning it won&#39;t work if you want to deserialize either of these as a list:\r\n```\r\n{\r\n  &quot;key&quot;: true\r\n}\r\n```\r\n```\r\n[\r\n  {\r\n    &quot;key&quot;: true\r\n  },\r\n  {\r\n    &quot;key&quot;: false\r\n  }\r\n]\r\n```\r\n\r\nAs a solution it&#39;s possible to create a custom deserializer like this:\r\n```\r\n@JsonDeserialize(using = CustomDeserializer.class)\r\npublic record ListHolder(List&lt;Item&gt; items) {}\r\n\r\npublic class CustomDeserializer extends JsonDeserializer&lt;ListHolder&gt; {\r\n\r\n    @Override\r\n    public ListHolder deserialize(JsonParser parser, DeserializationContext context) throws IOException {\r\n        List&lt;Item&gt; items;\r\n\r\n        if (parser.isExpectedStartArrayToken()) {\r\n            items = parser.readValueAs(new TypeReference&lt;&gt;() {});\r\n        } else {\r\n            items = List.of(parser.readValueAs(Item.class));\r\n        }\r\n\r\n        return new ListHolder(items);\r\n    }\r\n}\r\n```","title":"Jackson deserialize single item into list","body":"<p><code>@JsonFormat(with = JsonFormat.Feature.ACCEPT_SINGLE_VALUE_AS_ARRAY)</code> does not seem work with <code>@JsonValue</code>.</p>\n<p>Meaning it won't work if you want to deserialize either of these as a list:</p>\n<pre><code>{\n  &quot;key&quot;: true\n}\n</code></pre>\n<pre><code>[\n  {\n    &quot;key&quot;: true\n  },\n  {\n    &quot;key&quot;: false\n  }\n]\n</code></pre>\n<p>As a solution it's possible to create a custom deserializer like this:</p>\n<pre><code>@JsonDeserialize(using = CustomDeserializer.class)\npublic record ListHolder(List&lt;Item&gt; items) {}\n\npublic class CustomDeserializer extends JsonDeserializer&lt;ListHolder&gt; {\n\n    @Override\n    public ListHolder deserialize(JsonParser parser, DeserializationContext context) throws IOException {\n        List&lt;Item&gt; items;\n\n        if (parser.isExpectedStartArrayToken()) {\n            items = parser.readValueAs(new TypeReference&lt;&gt;() {});\n        } else {\n            items = List.of(parser.readValueAs(Item.class));\n        }\n\n        return new ListHolder(items);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2647922,"reputation":1409,"user_id":2290251,"accept_rate":89,"display_name":"Javier Alvarez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17118,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":35201701,"answer_count":4,"score":26,"last_activity_date":1640164080,"creation_date":1454588866,"question_id":35201036,"body_markdown":"I&#39;m trying to consume a service that gives me an entity with a field that it&#39;s an array. \r\n\r\n    {\r\n      &quot;id&quot;: &quot;23233&quot;,\r\n      &quot;items&quot;: [\r\n        {\r\n          &quot;name&quot;: &quot;item 1&quot;\r\n        },\r\n        {\r\n          &quot;name&quot;: &quot;item 2&quot;\r\n        }\r\n      ]\r\n    }\r\n        \r\nBut when the array contains a single item, the item itself is returned, instead of an array of one element.\r\n\r\n    {\r\n      &quot;id&quot;: &quot;43567&quot;,\r\n      &quot;items&quot;: {\r\n          &quot;name&quot;: &quot;item only&quot;\r\n        }\r\n    }\r\n\r\nIn this case, Jackson fails to convert to my Java object.\r\n\r\n\r\n    public class ResponseItem {\r\n\r\n       private String id;\r\n       private List&lt;Item&gt; items;\r\n\r\n       //Getters and setters...\r\n    }\r\n\r\nIs there an straightforward solution for it?","title":"Jackson deserialize single item into list","body":"<p>I'm trying to consume a service that gives me an entity with a field that it's an array. </p>\n\n<pre><code>{\n  \"id\": \"23233\",\n  \"items\": [\n    {\n      \"name\": \"item 1\"\n    },\n    {\n      \"name\": \"item 2\"\n    }\n  ]\n}\n</code></pre>\n\n<p>But when the array contains a single item, the item itself is returned, instead of an array of one element.</p>\n\n<pre><code>{\n  \"id\": \"43567\",\n  \"items\": {\n      \"name\": \"item only\"\n    }\n}\n</code></pre>\n\n<p>In this case, Jackson fails to convert to my Java object.</p>\n\n<pre><code>public class ResponseItem {\n\n   private String id;\n   private List&lt;Item&gt; items;\n\n   //Getters and setters...\n}\n</code></pre>\n\n<p>Is there an straightforward solution for it?</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate"],"comments":[{"owner":{"account_id":16028389,"reputation":140,"user_id":11568052,"display_name":"Armando Microsse"},"score":0,"creation_date":1640104784,"post_id":70435578,"comment_id":124514257,"body_markdown":"Try to use `@Generated Value(strategy = GenerationType.IDENTITY)` by default this as per JPA doc this generation use autoincrement and asign a value to a database e begin to use  `GenerationType.SEQUENCE`","body":"Try to use <code>@Generated Value(strategy = GenerationType.IDENTITY)</code> by default this as per JPA doc this generation use autoincrement and asign a value to a database e begin to use  <code>GenerationType.SEQUENCE</code>"},{"owner":{"account_id":1179813,"reputation":150,"user_id":1154990,"display_name":"Karim"},"score":0,"creation_date":1640162271,"post_id":70435578,"comment_id":124527597,"body_markdown":"I&#39;ve tried all IDENTITY, TABLE and SEQUENCE still nothing happened.","body":"I&#39;ve tried all IDENTITY, TABLE and SEQUENCE still nothing happened."}],"owner":{"account_id":1179813,"reputation":150,"user_id":1154990,"display_name":"Karim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1640163775,"creation_date":1640090141,"question_id":70435578,"body_markdown":"I use Spring Boot 2.6.1, Hibernate 5.6.1 and Postgresql 14.1 on docker. I have an entity called person that extends a base entity class.\r\n```\r\n@MappedSuperclass\r\npublic abstract class BaseEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    protected long id;\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\npublic class Person extends BaseEntity {\r\n    private String name;\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe problem is when Hibernate creates my schema on Postgresql it ignores the @GeneratedValue(strategy = GenerationType.AUTO) and creates a simple column with no auto increment or identity mechanism. So the query\r\n```\r\n\tINSERT INTO person(name) VALUES(&#39;Bob&#39;)\r\n```\r\nexecutes with error.\r\nERROR:  null value in column &quot;id&quot; of relation &quot;person&quot; violates not-null constraint\r\n\r\n\r\n","title":"Hibernate ignores @GeneratedValue when creating schema on Postgresql","body":"<p>I use Spring Boot 2.6.1, Hibernate 5.6.1 and Postgresql 14.1 on docker. I have an entity called person that extends a base entity class.</p>\n<pre><code>@MappedSuperclass\npublic abstract class BaseEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    protected long id;\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n}\n</code></pre>\n<pre><code>@Entity\npublic class Person extends BaseEntity {\n    private String name;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n\n</code></pre>\n<p>The problem is when Hibernate creates my schema on Postgresql it ignores the @GeneratedValue(strategy = GenerationType.AUTO) and creates a simple column with no auto increment or identity mechanism. So the query</p>\n<pre><code>    INSERT INTO person(name) VALUES('Bob')\n</code></pre>\n<p>executes with error.\nERROR:  null value in column &quot;id&quot; of relation &quot;person&quot; violates not-null constraint</p>\n"},{"tags":["java","linux","shell"],"comments":[{"owner":{"account_id":23673496,"reputation":59,"user_id":17699980,"display_name":"asd21d32a"},"score":0,"creation_date":1640162752,"post_id":70445893,"comment_id":124527749,"body_markdown":"The problem has been solved.","body":"The problem has been solved."}],"answers":[{"tags":[],"owner":{"account_id":23673496,"reputation":59,"user_id":17699980,"display_name":"asd21d32a"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640162931,"creation_date":1640162931,"answer_id":70446348,"question_id":70445893,"body_markdown":"If the jar is in the current directory,Change the shell to this.\r\n```\r\ncd target\r\n\r\necho &quot;shell parameters: $*&quot;\r\n\r\njava -classpath .:./mysql-connector-java-8.0.27.jar com.tencent.Example $*\r\n```","title":"How to add jar to java project under linux","body":"<p>If the jar is in the current directory,Change the shell to this.</p>\n<pre><code>cd target\n\necho &quot;shell parameters: $*&quot;\n\njava -classpath .:./mysql-connector-java-8.0.27.jar com.tencent.Example $*\n</code></pre>\n"}],"owner":{"account_id":23673496,"reputation":59,"user_id":17699980,"display_name":"asd21d32a"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1640162931,"creation_date":1640160110,"question_id":70445893,"body_markdown":"i use this shell script to start the java project\r\n```\r\ncd target\r\necho &quot;shell parameters: $*&quot;\r\njava -classpath . com.tencent.Example $*\r\n```\r\nBut now I need to use the jdbc jar,How should I modify the shell script and in which path to put the jar?","title":"How to add jar to java project under linux","body":"<p>i use this shell script to start the java project</p>\n<pre><code>cd target\necho &quot;shell parameters: $*&quot;\njava -classpath . com.tencent.Example $*\n</code></pre>\n<p>But now I need to use the jdbc jar,How should I modify the shell script and in which path to put the jar?</p>\n"},{"tags":["java","android","android-edittext"],"comments":[{"owner":{"account_id":3720406,"reputation":385,"user_id":3095612,"accept_rate":80,"display_name":"Johann67"},"score":1,"creation_date":1566302867,"post_id":57573239,"comment_id":101606852,"body_markdown":"Use a regex to extract the value (080 whitout $), cast the value to int, and reformate the text to put the $ and the value casted to int","body":"Use a regex to extract the value (080 whitout $), cast the value to int, and reformate the text to put the $ and the value casted to int"},{"owner":{"account_id":4370350,"reputation":11132,"user_id":3756408,"accept_rate":83,"display_name":"Darish"},"score":3,"creation_date":1566302870,"post_id":57573239,"comment_id":101606855,"body_markdown":"why want to put the $ symbol inside the edit text? why don&#39;t try to put the $ symbol in a  TextView before the EditText?","body":"why want to put the $ symbol inside the edit text? why don&#39;t try to put the $ symbol in a  TextView before the EditText?"},{"owner":{"account_id":16392422,"reputation":65,"user_id":11840855,"display_name":"V K"},"score":0,"creation_date":1566303038,"post_id":57573239,"comment_id":101606946,"body_markdown":"@Darish its a field of amount and in centre of edittext should be start with $0 and replace with the actual amount","body":"@Darish its a field of amount and in centre of edittext should be start with $0 and replace with the actual amount"},{"owner":{"account_id":4370350,"reputation":11132,"user_id":3756408,"accept_rate":83,"display_name":"Darish"},"score":0,"creation_date":1566303274,"post_id":57573239,"comment_id":101607072,"body_markdown":"Well, then simply check the text value by using amountEdittext.getText(), If it starts with a $, then simply do nothing, otherwise simply add $ symbol before the String and set it back to the EditText.","body":"Well, then simply check the text value by using amountEdittext.getText(), If it starts with a $, then simply do nothing, otherwise simply add $ symbol before the String and set it back to the EditText."}],"answers":[{"tags":[],"owner":{"account_id":6826461,"reputation":1308,"user_id":5252037,"display_name":"Avinash Joshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640162422,"creation_date":1566303380,"answer_id":57573474,"question_id":57573239,"body_markdown":"Instead of using the text property you should **HINT** &lt;br/&gt;\r\n\r\n    amountEdittext.setHint(&quot;$0&quot;);\r\nyou will no longer require any other code.\r\nand keep the text blank you can then add validation to check for empty text.\r\n\r\nyou can change the hint when it has focus using `setOnFocusChangeListener()`","title":"Best approach to replace 0 with amount, when user enters an amount in edittext","body":"<p>Instead of using the text property you should <strong>HINT</strong> <br/></p>\n<pre><code>amountEdittext.setHint(&quot;$0&quot;);\n</code></pre>\n<p>you will no longer require any other code.\nand keep the text blank you can then add validation to check for empty text.</p>\n<p>you can change the hint when it has focus using <code>setOnFocusChangeListener()</code></p>\n"},{"tags":[],"owner":{"account_id":6976446,"reputation":9597,"user_id":5351055,"display_name":"Manoj Perumarath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566304051,"creation_date":1566303576,"answer_id":57573528,"question_id":57573239,"body_markdown":"Better use a InputFilter than using `TextWatcher`. Since you&#39;ve the **$** sign better to remove it from the `EditText` and use one `TextView` along with `EditText` horizontally. So that you can get rid of the dollar sign\r\n\r\n    class DecimalDigitsInputFilter(digitsBeforeZero: Int, digitsAfterZero: Int) : InputFilter {\r\n    private val mPattern: Pattern\r\n\r\n    init {\r\n        mPattern =\r\n            Pattern.compile(&quot;[0-9]{0,&quot; + (digitsBeforeZero ) + &quot;}+((\\\\.[0-9]{0,&quot; + (digitsAfterZero ) + &quot;})?)||(\\\\.)?&quot;)\r\n    }\r\n\r\n    override fun filter(\r\n        source: CharSequence?,\r\n        start: Int,\r\n        end: Int,\r\n        dest: Spanned?,\r\n        dstart: Int,\r\n        dend: Int\r\n    ): CharSequence? {\r\n       \r\n        if (source != null &amp;&amp; dest != null) {\r\n            val replacement = source.subSequence(start, end).toString()\r\n            val newVal = (dest.subSequence(0, dstart).toString() + replacement\r\n                    + dest.subSequence(dend, dest.length).toString())\r\n            val matcher = mPattern.matcher(newVal)\r\n            if (matcher.matches())\r\n                return null\r\n\r\n            return if (TextUtils.isEmpty(source))\r\n                dest.subSequence(dstart, dend)\r\n            else\r\n                return &quot;&quot;\r\n        }\r\n        return &quot;&quot;\r\n        }\r\n    }\r\n","title":"Best approach to replace 0 with amount, when user enters an amount in edittext","body":"<p>Better use a InputFilter than using <code>TextWatcher</code>. Since you've the <strong>$</strong> sign better to remove it from the <code>EditText</code> and use one <code>TextView</code> along with <code>EditText</code> horizontally. So that you can get rid of the dollar sign</p>\n\n<pre><code>class DecimalDigitsInputFilter(digitsBeforeZero: Int, digitsAfterZero: Int) : InputFilter {\nprivate val mPattern: Pattern\n\ninit {\n    mPattern =\n        Pattern.compile(\"[0-9]{0,\" + (digitsBeforeZero ) + \"}+((\\\\.[0-9]{0,\" + (digitsAfterZero ) + \"})?)||(\\\\.)?\")\n}\n\noverride fun filter(\n    source: CharSequence?,\n    start: Int,\n    end: Int,\n    dest: Spanned?,\n    dstart: Int,\n    dend: Int\n): CharSequence? {\n\n    if (source != null &amp;&amp; dest != null) {\n        val replacement = source.subSequence(start, end).toString()\n        val newVal = (dest.subSequence(0, dstart).toString() + replacement\n                + dest.subSequence(dend, dest.length).toString())\n        val matcher = mPattern.matcher(newVal)\n        if (matcher.matches())\n            return null\n\n        return if (TextUtils.isEmpty(source))\n            dest.subSequence(dstart, dend)\n        else\n            return \"\"\n    }\n    return \"\"\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7974126,"reputation":3,"user_id":10412816,"display_name":"Bernard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566307670,"creation_date":1566303889,"answer_id":57573623,"question_id":57573239,"body_markdown":"I have just realized what you are doing, `Selection.setSelection` moves the cursor to the end of text in the edittext,so that will be after zero.\r\n\r\nSo, here is a solution that i think would work;\r\n\r\n        amountEdittext.setText(&quot;$0&quot;);\r\n        amountEdittext.setOnFocusChange(View view, boolean b) {\r\n            if (b &amp;&amp; amountEdittext.getText().toString().matches(&quot;^\\\\$0$&quot;)) {\r\n                amountEdittext.setText(&quot;$&quot;);\r\n                Selection.setSelection(amountEdittext.getText(), amountEdittext.getText().length());\r\n            } else {\r\n                Selection.setSelection(amountEdittext.getText(), amountEdittext.getText().length());\r\n            }\r\n        }","title":"Best approach to replace 0 with amount, when user enters an amount in edittext","body":"<p>I have just realized what you are doing, <code>Selection.setSelection</code> moves the cursor to the end of text in the edittext,so that will be after zero.</p>\n\n<p>So, here is a solution that i think would work;</p>\n\n<pre><code>    amountEdittext.setText(\"$0\");\n    amountEdittext.setOnFocusChange(View view, boolean b) {\n        if (b &amp;&amp; amountEdittext.getText().toString().matches(\"^\\\\$0$\")) {\n            amountEdittext.setText(\"$\");\n            Selection.setSelection(amountEdittext.getText(), amountEdittext.getText().length());\n        } else {\n            Selection.setSelection(amountEdittext.getText(), amountEdittext.getText().length());\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6757363,"reputation":36,"user_id":5205250,"display_name":"Rishi Rajput"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1566306898,"creation_date":1566306416,"answer_id":57574408,"question_id":57573239,"body_markdown":"This should solve your question.\r\n\r\n        amountEdittext.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n            }\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable editable) {\r\n                if (editable.length() &gt; 2) {\r\n                    for (int i = 0; i &lt; editable.length() - 1; i++) {\r\n                        if (editable.charAt(i) == &#39;$&#39; &amp;&amp; editable.charAt(i + 1) == &#39;0&#39;) {\r\n                            editable.delete(i + 1, i + 2);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }","title":"Best approach to replace 0 with amount, when user enters an amount in edittext","body":"<p>This should solve your question.</p>\n\n<pre><code>    amountEdittext.addTextChangedListener(new TextWatcher() {\n        @Override\n        public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n        }\n\n        @Override\n        public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n        }\n\n        @Override\n        public void afterTextChanged(Editable editable) {\n            if (editable.length() &gt; 2) {\n                for (int i = 0; i &lt; editable.length() - 1; i++) {\n                    if (editable.charAt(i) == '$' &amp;&amp; editable.charAt(i + 1) == '0') {\n                        editable.delete(i + 1, i + 2);\n                    }\n                }\n            }\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":16392422,"reputation":65,"user_id":11840855,"display_name":"V K"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":384,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":57574408,"answer_count":4,"score":0,"last_activity_date":1640162422,"creation_date":1566302603,"question_id":57573239,"body_markdown":"I am working on app where an edittext is having $0 as pre-defined text.\r\nZero is editable. But as soon as user enters an amount like $80, its showing $080.\r\nI am using textwatcher to non deleted $ and replaced at time of printing value.\r\n\r\nHow can i achieve the output as $80 when user is typing an amount\r\n\r\npreset value - $0\r\nafter typing $80, \r\nOutput = $080\r\nExpected = $80\r\n\r\nThanks in advance.\r\n\r\n       amountEdittext.setText(&quot;$0&quot;);\r\n        Selection.setSelection(amountEdittext.getText(), \r\n     amountEdittext.getText().length());\r\n        amountEdittext.addTextChangedListener(new TextWatcher() {\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void beforeTextChanged(CharSequence s, int start, int count,\r\n                                          int after) {\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable s) {\r\n                if (!s.toString().startsWith(&quot;$&quot;)) {\r\n                    amountEdittext.setText(&quot;$&quot;);\r\n                    Selection.setSelection(amountEdittext.getText(), amountEdittext.getText().length());\r\n\r\n                }\r\n\r\n            }\r\n        });","title":"Best approach to replace 0 with amount, when user enters an amount in edittext","body":"<p>I am working on app where an edittext is having $0 as pre-defined text.\nZero is editable. But as soon as user enters an amount like $80, its showing $080.\nI am using textwatcher to non deleted $ and replaced at time of printing value.</p>\n\n<p>How can i achieve the output as $80 when user is typing an amount</p>\n\n<p>preset value - $0\nafter typing $80, \nOutput = $080\nExpected = $80</p>\n\n<p>Thanks in advance.</p>\n\n<pre><code>   amountEdittext.setText(\"$0\");\n    Selection.setSelection(amountEdittext.getText(), \n amountEdittext.getText().length());\n    amountEdittext.addTextChangedListener(new TextWatcher() {\n\n        @Override\n        public void onTextChanged(CharSequence s, int start, int before, int count) {\n\n        }\n\n        @Override\n        public void beforeTextChanged(CharSequence s, int start, int count,\n                                      int after) {\n        }\n\n        @Override\n        public void afterTextChanged(Editable s) {\n            if (!s.toString().startsWith(\"$\")) {\n                amountEdittext.setText(\"$\");\n                Selection.setSelection(amountEdittext.getText(), amountEdittext.getText().length());\n\n            }\n\n        }\n    });\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8253,"page":1739,"page_size":100}
