{"items":[{"tags":["java","java-stream","average"],"comments":[{"owner":{"account_id":17773763,"reputation":1154,"user_id":12906648,"display_name":"Maxwell D. Dorliea"},"score":0,"creation_date":1645574176,"post_id":71229739,"comment_id":125906912,"body_markdown":"Is it a list of object or array? Please try adding sample of your dataset please","body":"Is it a list of object or array? Please try adding sample of your dataset please"},{"owner":{"account_id":22909694,"reputation":652,"user_id":17047177,"display_name":"A.Casanova"},"score":0,"creation_date":1645574176,"post_id":71229739,"comment_id":125906913,"body_markdown":"Please, could you paste the error code of the program","body":"Please, could you paste the error code of the program"},{"owner":{"account_id":24345909,"reputation":1,"user_id":18282491,"display_name":"Utsav Kothari"},"score":0,"creation_date":1645574511,"post_id":71229739,"comment_id":125906987,"body_markdown":"It is an array.\nError - Cannot resolve size in Stream.","body":"It is an array. Error - Cannot resolve size in Stream."},{"owner":{"account_id":1928650,"reputation":894,"user_id":1738539,"accept_rate":0,"display_name":"user1738539"},"score":0,"creation_date":1645575409,"post_id":71229739,"comment_id":125907215,"body_markdown":"`indexOfSalesInTheYear` is a `Stream`. You need to collect to a list first","body":"<code>indexOfSalesInTheYear</code> is a <code>Stream</code>. You need to collect to a list first"},{"owner":{"account_id":24345909,"reputation":1,"user_id":18282491,"display_name":"Utsav Kothari"},"score":0,"creation_date":1645576162,"post_id":71229739,"comment_id":125907367,"body_markdown":"I&#39;m unable to convert it to a list because more than 1 data type is present, it is being converted to an object and not a list.","body":"I&#39;m unable to convert it to a list because more than 1 data type is present, it is being converted to an object and not a list."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1645576694,"post_id":71229739,"comment_id":125907485,"body_markdown":"It looks like `Sale` contains separate arrays for values, years, and branches, instead of being a list of objects, with each object having a value, year, and branch?","body":"It looks like <code>Sale</code> contains separate arrays for values, years, and branches, instead of being a list of objects, with each object having a value, year, and branch?"},{"owner":{"account_id":24345909,"reputation":1,"user_id":18282491,"display_name":"Utsav Kothari"},"score":0,"creation_date":1645576971,"post_id":71229739,"comment_id":125907512,"body_markdown":"Yeah! Sale has arrays of values, years, branch name, month, house no., and post code as mentioned in the question.","body":"Yeah! Sale has arrays of values, years, branch name, month, house no., and post code as mentioned in the question."}],"answers":[{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645579013,"creation_date":1645577802,"answer_id":71230147,"question_id":71229739,"body_markdown":"Here is how I would approach it. Instead of separate lists of values, years, and branches, have a list of objects that contain these fields:\r\n\r\n    record Sale(int value, int year, String branch) {\r\n    }\r\n\r\nHere I am using a `record` but if you prefer, need to have mutable `Sale` instances, or are using an earlier version of Java, you could adapt this code to use classes with ordinary getters and setters.\r\n\r\n    List&lt;Sale&gt; sales = List.of(\r\n        new Sale(12, 2020, &quot;east&quot;),\r\n        new Sale(15, 2020, &quot;west&quot;),\r\n        new Sale(13, 2020, &quot;east&quot;),\r\n        new Sale(16, 2020, &quot;west&quot;),\r\n        new Sale(14, 2020, &quot;east&quot;),\r\n        new Sale(17, 2020, &quot;west&quot;),\r\n        new Sale(18, 2021, &quot;east&quot;),\r\n        new Sale(19, 2021, &quot;west&quot;));\r\n\r\n    double averageOfSales(int year, String branchName) {\r\n        OptionalDouble average = sales.stream()\r\n            .filter(sale -&gt; sale.year() == year)\r\n            .filter(sale -&gt; sale.branch().equals(branchName))\r\n            .mapToInt(sale -&gt; sale.value())\r\n            .average();\r\n        return average.orElseThrow(() -&gt;\r\n            new NoSuchElementException(&quot;no matching year and branch&quot;));\r\n    }\r\n\r\nYou may want to simply return the `OptionalDouble` or throw a different exception; it all depends on how you want to handle the case where there are no values for the year and branch name provided. You may even want to just `return 0.0` or NaN or -1.0 or some other sentinel value in that case.\r\n\r\nThere is no need to sum the values yourself or divide by the number of values to find the mean since `IntStream` already has methods for finding the sum or average.\r\n\r\nKeeping the different pieces of data broken out in separate, parallel structures is a common pattern among new Java programmers but it really goes against the concept of object oriented programming or even just abstract data types. You don&#39;t need to keep separate collections of simple values; you can invent your own types that encompass the value, year, branch, month, house number, post code, and whatever else you want to model as part of the domain of the data you&#39;re working with.","title":"How do I find the average of filtered elements from list in Java","body":"<p>Here is how I would approach it. Instead of separate lists of values, years, and branches, have a list of objects that contain these fields:</p>\n<pre><code>record Sale(int value, int year, String branch) {\n}\n</code></pre>\n<p>Here I am using a <code>record</code> but if you prefer, need to have mutable <code>Sale</code> instances, or are using an earlier version of Java, you could adapt this code to use classes with ordinary getters and setters.</p>\n<pre><code>List&lt;Sale&gt; sales = List.of(\n    new Sale(12, 2020, &quot;east&quot;),\n    new Sale(15, 2020, &quot;west&quot;),\n    new Sale(13, 2020, &quot;east&quot;),\n    new Sale(16, 2020, &quot;west&quot;),\n    new Sale(14, 2020, &quot;east&quot;),\n    new Sale(17, 2020, &quot;west&quot;),\n    new Sale(18, 2021, &quot;east&quot;),\n    new Sale(19, 2021, &quot;west&quot;));\n\ndouble averageOfSales(int year, String branchName) {\n    OptionalDouble average = sales.stream()\n        .filter(sale -&gt; sale.year() == year)\n        .filter(sale -&gt; sale.branch().equals(branchName))\n        .mapToInt(sale -&gt; sale.value())\n        .average();\n    return average.orElseThrow(() -&gt;\n        new NoSuchElementException(&quot;no matching year and branch&quot;));\n}\n</code></pre>\n<p>You may want to simply return the <code>OptionalDouble</code> or throw a different exception; it all depends on how you want to handle the case where there are no values for the year and branch name provided. You may even want to just <code>return 0.0</code> or NaN or -1.0 or some other sentinel value in that case.</p>\n<p>There is no need to sum the values yourself or divide by the number of values to find the mean since <code>IntStream</code> already has methods for finding the sum or average.</p>\n<p>Keeping the different pieces of data broken out in separate, parallel structures is a common pattern among new Java programmers but it really goes against the concept of object oriented programming or even just abstract data types. You don't need to keep separate collections of simple values; you can invent your own types that encompass the value, year, branch, month, house number, post code, and whatever else you want to model as part of the domain of the data you're working with.</p>\n"},{"tags":[],"owner":{"account_id":1928650,"reputation":894,"user_id":1738539,"accept_rate":0,"display_name":"user1738539"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645578574,"creation_date":1645578574,"answer_id":71230230,"question_id":71229739,"body_markdown":"In your existing code, you are never iterating the `allValues` list.\r\nSince you are using streams you can do this. \r\n```\r\ndouble average = IntStream.of(0, Sale.allValues.size()-1) // go up to the last index only\r\n                .filter(i -&gt; Sale.allYears.get(i).equals(yearEntered))\r\n                .filter(i -&gt; Sale.allBranches.get(i).equals(branchNameEntered))\r\n                .mapToDouble(i -&gt; Sale.allValues.get(i)) // now you have every sale value for yearEntered and branchNameEntered\r\n                .average().orElse(-1); // or if not present, throw error, or get the optional, etc\r\n\r\n```\r\nReally you shouldn&#39;t have separate lists, you should have a list of Sale objects.","title":"How do I find the average of filtered elements from list in Java","body":"<p>In your existing code, you are never iterating the <code>allValues</code> list.\nSince you are using streams you can do this.</p>\n<pre><code>double average = IntStream.of(0, Sale.allValues.size()-1) // go up to the last index only\n                .filter(i -&gt; Sale.allYears.get(i).equals(yearEntered))\n                .filter(i -&gt; Sale.allBranches.get(i).equals(branchNameEntered))\n                .mapToDouble(i -&gt; Sale.allValues.get(i)) // now you have every sale value for yearEntered and branchNameEntered\n                .average().orElse(-1); // or if not present, throw error, or get the optional, etc\n\n</code></pre>\n<p>Really you shouldn't have separate lists, you should have a list of Sale objects.</p>\n"}],"owner":{"account_id":24345909,"reputation":1,"user_id":18282491,"display_name":"Utsav Kothari"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1645579931,"creation_date":1645573786,"question_id":71229739,"body_markdown":"I wish to find the average of sales by a particular branch in a given year. There is a list which has all the branches and all the years of sale. I&#39;ve tried to use IntStream to filter the elements with the required year and branch but I&#39;m unable to find the average, There is an error showing in indexOfSaleInTheYear.size(), and I am not sure if the average part code is correct. Please help. Thank You.\r\n\r\n    Scanner avgSale = new Scanner(System.in);\r\n        System.out.println(&quot;Please enter the year for average sale: \\n&quot;);\r\n        int yearEntered = avgSale.nextInt();\r\n\r\n        Scanner branchNameForAvg = new Scanner(System.in);\r\n        System.out.println(&quot;Please enter the branch name whose average sale is to be found, case sensitive: \\n&quot;);\r\n        String branchNameEntered = branchNameForAvg.nextLine();\r\n\r\n        Stream&lt;Integer&gt; indexOfSalesInTheYear = IntStream.of(0, Sale.allValues.size()).boxed()\r\n                .filter(i -&gt; Sale.allYears.get(i).equals(yearEntered))\r\n                .filter(i -&gt; Sale.allBranches.get(i).equals(branchNameEntered));\r\n        \r\n        int sum = 0;\r\n        for(int j = 0; j &lt; indexOfSalesInTheYear.size(); j++){\r\n            sum += j;\r\n        }\r\n        double avgSaleFinal = sum/indexOfSalesInTheYear.size();\r\n\r\n        System.out.println(&quot;The average sale for the year &quot; + yearEntered + &quot; is &quot; + avgSaleFinal + &quot;.&quot;);\r\n        }","title":"How do I find the average of filtered elements from list in Java","body":"<p>I wish to find the average of sales by a particular branch in a given year. There is a list which has all the branches and all the years of sale. I've tried to use IntStream to filter the elements with the required year and branch but I'm unable to find the average, There is an error showing in indexOfSaleInTheYear.size(), and I am not sure if the average part code is correct. Please help. Thank You.</p>\n<pre><code>Scanner avgSale = new Scanner(System.in);\n    System.out.println(&quot;Please enter the year for average sale: \\n&quot;);\n    int yearEntered = avgSale.nextInt();\n\n    Scanner branchNameForAvg = new Scanner(System.in);\n    System.out.println(&quot;Please enter the branch name whose average sale is to be found, case sensitive: \\n&quot;);\n    String branchNameEntered = branchNameForAvg.nextLine();\n\n    Stream&lt;Integer&gt; indexOfSalesInTheYear = IntStream.of(0, Sale.allValues.size()).boxed()\n            .filter(i -&gt; Sale.allYears.get(i).equals(yearEntered))\n            .filter(i -&gt; Sale.allBranches.get(i).equals(branchNameEntered));\n    \n    int sum = 0;\n    for(int j = 0; j &lt; indexOfSalesInTheYear.size(); j++){\n        sum += j;\n    }\n    double avgSaleFinal = sum/indexOfSalesInTheYear.size();\n\n    System.out.println(&quot;The average sale for the year &quot; + yearEntered + &quot; is &quot; + avgSaleFinal + &quot;.&quot;);\n    }\n</code></pre>\n"},{"tags":["java","recursion"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645579457,"creation_date":1645390631,"answer_id":71198714,"question_id":71198637,"body_markdown":"The **base case** of your recursive method is incorrect: `sum == 0` isn&#39;t a sufficient condition you also have to check whether `k == 0`. If the `sum` is `0` but you still have to use a few more elements then the result `true` is incorrect.\r\n\r\nThe **recursive part** of the method has some mistakes in it as well. The number of elements summed up `k` never gets decremented. \r\n\r\nAlso, you have to track a *position* in the array. I mean you need to iterate over the array. And while iterating for each element there are only **two options**: *apply it* (decrement the `k` and subtract current value from the *sum*) or *discard it*. In both cases, you have to increment the *position* that you are passing as an argument.\r\n\r\nThat is how it could be fixed:\r\n```\r\n    public static boolean groupSum(int[] nums, int k, int pos, int sum) {\r\n        if (sum == 0 &amp;&amp; k == 0) {\r\n            return true;\r\n        }\r\n        if (sum &lt; 0) {\r\n            return false;\r\n        }\r\n\r\n        boolean result = false;\r\n        for (int i = pos; i &lt; nums.length; i++) {\r\n            boolean takeElement = groupSum(nums, k - 1, pos + 1, sum - nums[i]);\r\n            boolean discardElement = groupSum(nums, k, pos + 1, sum);\r\n            result = takeElement || discardElement;\r\n            if (result) { // a combination that yield the target sum was found\r\n                break;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n```\r\nThere&#39;s another option how to implement this method. But **caution**: it will be *slower* and significantly *increases memory consumption*. \r\n\r\nThis approach requires creating a **copy** of the given array with a *length decremented* by **1** at each recursive method call and pass it as an argument. In this version, an *element at position* `0` is always used when the method is called, therefore it doesn&#39;t require to track the position in the array. The main logic remains the same: a *new element* can be used either to *contribute* the `sum` or can be *discarded*.\r\n```\r\n    public static boolean groupSum(int[] nums, int k, int sum) {\r\n        if (sum == 0 &amp;&amp; k == 0) {\r\n            return true;\r\n        }\r\n        if (sum &lt; 0 || nums.length == 0) {\r\n            return false;\r\n        }\r\n\r\n        boolean takeElement = groupSum(Arrays.copyOfRange(nums, 1, nums.length), k - 1, sum - nums[0]);\r\n        boolean discardElement = groupSum(Arrays.copyOfRange(nums, 1, nums.length), k, sum);\r\n\r\n        return takeElement || discardElement;\r\n    }\r\n```\r\n```\r\n    public static void main(String[] args) {\r\n        // sum of 1, 2, 3, 4, 5 yields 15 - expected true\r\n        System.out.println(groupSum(new int[]{1, 2, 3, 4, 5, 6, 7, 8, 9}, 5, 0, 15));\r\n        // it&#39;s impossible with only one element - expected false\r\n        System.out.println(groupSum(new int[]{1, 2, 3, 4, 5, 6, 7, 8, 9}, 1, 0, 10));\r\n        // sum of 4, 5, 6 yields 15 - expected true\r\n        System.out.println(groupSum(new int[]{1, 2, 3, 4, 5, 6, 7, 8, 9}, 3, 0, 15));\r\n    }\r\n```\r\n**output**\r\n```\r\ntrue\r\nfalse\r\ntrue\r\n```","title":"Find if an array can produce a sum n with k number of elements","body":"<p>The <strong>base case</strong> of your recursive method is incorrect: <code>sum == 0</code> isn't a sufficient condition you also have to check whether <code>k == 0</code>. If the <code>sum</code> is <code>0</code> but you still have to use a few more elements then the result <code>true</code> is incorrect.</p>\n<p>The <strong>recursive part</strong> of the method has some mistakes in it as well. The number of elements summed up <code>k</code> never gets decremented.</p>\n<p>Also, you have to track a <em>position</em> in the array. I mean you need to iterate over the array. And while iterating for each element there are only <strong>two options</strong>: <em>apply it</em> (decrement the <code>k</code> and subtract current value from the <em>sum</em>) or <em>discard it</em>. In both cases, you have to increment the <em>position</em> that you are passing as an argument.</p>\n<p>That is how it could be fixed:</p>\n<pre><code>    public static boolean groupSum(int[] nums, int k, int pos, int sum) {\n        if (sum == 0 &amp;&amp; k == 0) {\n            return true;\n        }\n        if (sum &lt; 0) {\n            return false;\n        }\n\n        boolean result = false;\n        for (int i = pos; i &lt; nums.length; i++) {\n            boolean takeElement = groupSum(nums, k - 1, pos + 1, sum - nums[i]);\n            boolean discardElement = groupSum(nums, k, pos + 1, sum);\n            result = takeElement || discardElement;\n            if (result) { // a combination that yield the target sum was found\n                break;\n            }\n        }\n        return result;\n    }\n</code></pre>\n<p>There's another option how to implement this method. But <strong>caution</strong>: it will be <em>slower</em> and significantly <em>increases memory consumption</em>.</p>\n<p>This approach requires creating a <strong>copy</strong> of the given array with a <em>length decremented</em> by <strong>1</strong> at each recursive method call and pass it as an argument. In this version, an <em>element at position</em> <code>0</code> is always used when the method is called, therefore it doesn't require to track the position in the array. The main logic remains the same: a <em>new element</em> can be used either to <em>contribute</em> the <code>sum</code> or can be <em>discarded</em>.</p>\n<pre><code>    public static boolean groupSum(int[] nums, int k, int sum) {\n        if (sum == 0 &amp;&amp; k == 0) {\n            return true;\n        }\n        if (sum &lt; 0 || nums.length == 0) {\n            return false;\n        }\n\n        boolean takeElement = groupSum(Arrays.copyOfRange(nums, 1, nums.length), k - 1, sum - nums[0]);\n        boolean discardElement = groupSum(Arrays.copyOfRange(nums, 1, nums.length), k, sum);\n\n        return takeElement || discardElement;\n    }\n</code></pre>\n<pre><code>    public static void main(String[] args) {\n        // sum of 1, 2, 3, 4, 5 yields 15 - expected true\n        System.out.println(groupSum(new int[]{1, 2, 3, 4, 5, 6, 7, 8, 9}, 5, 0, 15));\n        // it's impossible with only one element - expected false\n        System.out.println(groupSum(new int[]{1, 2, 3, 4, 5, 6, 7, 8, 9}, 1, 0, 10));\n        // sum of 4, 5, 6 yields 15 - expected true\n        System.out.println(groupSum(new int[]{1, 2, 3, 4, 5, 6, 7, 8, 9}, 3, 0, 15));\n    }\n</code></pre>\n<p><strong>output</strong></p>\n<pre><code>true\nfalse\ntrue\n</code></pre>\n"}],"owner":{"display_name":"user13566276"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1168,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71198714,"answer_count":1,"score":1,"last_activity_date":1645579457,"creation_date":1645390119,"question_id":71198637,"body_markdown":"Given an int array that may contain duplicates. I need to find out whether the array can produce a `sum` with `k` elements?\r\n\r\nI&#39;m trying to use recursion for now but I&#39;m not getting anywhere at the moment. I have a problem with getting the base-case right.\r\n```\r\n    static boolean groupSum(int[] nums, int k, int sum) {\r\n    \r\n    \t\tif (sum == 0)\r\n    \t\t\treturn true;\r\n    \r\n    \t\tif (k &gt; nums.length || sum != 0)\r\n    \t\t\treturn false;\r\n    \t\tif (groupSum(nums, k, sum - nums[k - k] - nums[k - k + 1] - nums[k - k + 2]))\r\n    \t\t\treturn true;\r\n    \t\tif (groupSum(nums, k, sum - nums[k - k + 1] - nums[k - k + 2] - nums[k - k + 3]))\r\n    \t\t\treturn true;\r\n    \r\n    \t\telse\r\n    \t\t\treturn false;\r\n    \r\n    \t}\r\n```","title":"Find if an array can produce a sum n with k number of elements","body":"<p>Given an int array that may contain duplicates. I need to find out whether the array can produce a <code>sum</code> with <code>k</code> elements?</p>\n<p>I'm trying to use recursion for now but I'm not getting anywhere at the moment. I have a problem with getting the base-case right.</p>\n<pre><code>    static boolean groupSum(int[] nums, int k, int sum) {\n    \n            if (sum == 0)\n                return true;\n    \n            if (k &gt; nums.length || sum != 0)\n                return false;\n            if (groupSum(nums, k, sum - nums[k - k] - nums[k - k + 1] - nums[k - k + 2]))\n                return true;\n            if (groupSum(nums, k, sum - nums[k - k + 1] - nums[k - k + 2] - nums[k - k + 3]))\n                return true;\n    \n            else\n                return false;\n    \n        }\n</code></pre>\n"},{"tags":["java","hadoop","mockito","log4j","powermock"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1645581708,"post_id":71230246,"comment_id":125908217,"body_markdown":"I would wrap FileSystem in my own interface and class to avoid PowerMockito altogether.","body":"I would wrap FileSystem in my own interface and class to avoid PowerMockito altogether."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1645586054,"post_id":71230246,"comment_id":125908898,"body_markdown":"Given that the ultimate cause is `Caused by: java.lang.RuntimeException: org.apache.hadoop.fs.FileSystem$Cache$Key class is frozen` I doubt that this is anything to do with log4j.","body":"Given that the ultimate cause is <code>Caused by: java.lang.RuntimeException: org.apache.hadoop.fs.FileSystem$Cache$Key class is frozen</code> I doubt that this is anything to do with log4j."}],"owner":{"account_id":14662194,"reputation":13,"user_id":10589043,"display_name":"V D"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":678,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645578704,"creation_date":1645578704,"question_id":71230246,"body_markdown":"This is the entire error:\r\n```\r\n\r\n\r\nMockito cannot mock this class: class org.apache.hadoop.fs.FileSystem.\r\n\r\nMockito can only mock non-private &amp; non-final classes.\r\nIf you&#39;re not sure why you&#39;re getting this error, please report to the mailing list.\r\n\r\n\r\nJava               : 1.8\r\nJVM vendor name    : Azul Systems, Inc.\r\nJVM vendor version : 25.282-b08\r\nJVM name           : OpenJDK 64-Bit Server VM\r\nJVM version        : 1.8.0_282-b08\r\nJVM info           : mixed mode\r\nOS name            : Mac OS X\r\nOS version         : 10.16\r\n\r\n\r\nUnderlying exception : java.lang.IllegalStateException: Error invoking java.lang.reflect.Method#getAnnotatedReturnType\r\norg.mockito.exceptions.base.MockitoException: \r\nMockito cannot mock this class: class org.apache.hadoop.fs.FileSystem.\r\n\r\nMockito can only mock non-private &amp; non-final classes.\r\nIf you&#39;re not sure why you&#39;re getting this error, please report to the mailing list.\r\n\r\n\r\nJava               : 1.8\r\nJVM vendor name    : Azul Systems, Inc.\r\nJVM vendor version : 25.282-b08\r\nJVM name           : OpenJDK 64-Bit Server VM\r\nJVM version        : 1.8.0_282-b08\r\nJVM info           : mixed mode\r\nOS name            : Mac OS X\r\nOS version         : 10.16\r\n\r\n\r\nUnderlying exception : java.lang.IllegalStateException: Error invoking java.lang.reflect.Method#getAnnotatedReturnType\r\n\tat com.platfora.proton.builder.spark.TestCredentialManager.initTest(TestCredentialManager.java:109)\r\n\tat org.junit.internal.runners.MethodRoadie.runBefores(MethodRoadie.java:133)\r\n\tat org.junit.internal.runners.MethodRoadie.runBeforesThenTestThenAfters(MethodRoadie.java:96)\r\n\tat org.junit.internal.runners.MethodRoadie.runTest(MethodRoadie.java:87)\r\n\tat org.junit.internal.runners.MethodRoadie.run(MethodRoadie.java:50)\r\n\tat org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:34)\r\n\tat org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:44)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\r\n\tat org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:118)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:412)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.IllegalStateException: Error invoking java.lang.reflect.Method#getAnnotatedReturnType\r\n\tat net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$Dispatcher$ForJava8CapableVm$AnnotatedReturnType.resolve(TypeDescription.java:2984)\r\n\tat net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$Delegator.asList(TypeDescription.java:3238)\r\n\tat net.bytebuddy.description.type.TypeDescription$Generic$OfNonGenericType$ForLoadedType.getDeclaredAnnotations(TypeDescription.java:3987)\r\n\tat net.bytebuddy.implementation.attribute.AnnotationAppender$ForTypeAnnotations.apply(AnnotationAppender.java:725)\r\n\tat net.bytebuddy.implementation.attribute.AnnotationAppender$ForTypeAnnotations.onNonGenericType(AnnotationAppender.java:706)\r\n\tat net.bytebuddy.implementation.attribute.AnnotationAppender$ForTypeAnnotations.onNonGenericType(AnnotationAppender.java:409)\r\n\tat net.bytebuddy.description.type.TypeDescription$Generic$OfNonGenericType.accept(TypeDescription.java:3769)\r\n\tat net.bytebuddy.implementation.attribute.MethodAttributeAppender$ForInstrumentedMethod.apply(MethodAttributeAppender.java:196)\r\n\tat net.bytebuddy.implementation.attribute.MethodAttributeAppender$Compound.apply(MethodAttributeAppender.java:484)\r\n\tat net.bytebuddy.dynamic.scaffold.TypeWriter$MethodPool$Record$ForDefinedMethod$WithBody.applyAttributes(TypeWriter.java:701)\r\n\tat net.bytebuddy.dynamic.scaffold.TypeWriter$MethodPool$Record$ForDefinedMethod$WithBody.applyBody(TypeWriter.java:691)\r\n\tat net.bytebuddy.dynamic.scaffold.TypeWriter$MethodPool$Record$ForDefinedMethod.apply(TypeWriter.java:600)\r\n\tat net.bytebuddy.dynamic.scaffold.TypeWriter$Default$ForCreation.create(TypeWriter.java:5660)\r\n\tat net.bytebuddy.dynamic.scaffold.TypeWriter$Default.make(TypeWriter.java:2166)\r\n\tat net.bytebuddy.dynamic.scaffold.subclass.SubclassDynamicTypeBuilder.make(SubclassDynamicTypeBuilder.java:232)\r\n\tat net.bytebuddy.dynamic.scaffold.subclass.SubclassDynamicTypeBuilder.make(SubclassDynamicTypeBuilder.java:204)\r\n\tat net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase.make(DynamicType.java:3595)\r\n\tat net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase$Delegator.make(DynamicType.java:3819)\r\n\tat org.mockito.internal.creation.bytebuddy.SubclassBytecodeGenerator.mockClass(SubclassBytecodeGenerator.java:173)\r\n\tat org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator$1.call(TypeCachingBytecodeGenerator.java:37)\r\n\tat org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator$1.call(TypeCachingBytecodeGenerator.java:34)\r\n\tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:152)\r\n\tat net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:365)\r\n\tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:174)\r\n\tat net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:376)\r\n\tat org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator.mockClass(TypeCachingBytecodeGenerator.java:32)\r\n\tat org.mockito.internal.creation.bytebuddy.SubclassByteBuddyMockMaker.createMockType(SubclassByteBuddyMockMaker.java:71)\r\n\tat org.mockito.internal.creation.bytebuddy.SubclassByteBuddyMockMaker.createMock(SubclassByteBuddyMockMaker.java:42)\r\n\tat org.mockito.internal.creation.bytebuddy.ByteBuddyMockMaker.createMock(ByteBuddyMockMaker.java:25)\r\n\tat org.powermock.api.mockito.mockmaker.PowerMockMaker.createMock(PowerMockMaker.java:41)\r\n\tat org.mockito.internal.util.MockUtil.createMock(MockUtil.java:35)\r\n\tat org.mockito.internal.MockitoCore.mock(MockitoCore.java:63)\r\n\tat org.mockito.Mockito.mock(Mockito.java:1908)\r\n\tat org.powermock.api.mockito.internal.mockcreation.DefaultMockCreator.createMethodInvocationControl(DefaultMockCreator.java:108)\r\n\tat org.powermock.api.mockito.internal.mockcreation.DefaultMockCreator.doCreateMock(DefaultMockCreator.java:61)\r\n\tat org.powermock.api.mockito.internal.mockcreation.DefaultMockCreator.createMock(DefaultMockCreator.java:53)\r\n\tat org.powermock.api.mockito.internal.mockcreation.DefaultMockCreator.mock(DefaultMockCreator.java:40)\r\n\tat org.powermock.api.mockito.PowerMockito.mock(PowerMockito.java:126)\r\n\tat com.platfora.proton.builder.spark.TestCredentialManager.initTest(TestCredentialManager.java:109)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.junit.internal.runners.MethodRoadie.runBefores(MethodRoadie.java:133)\r\n\tat org.junit.internal.runners.MethodRoadie.runBeforesThenTestThenAfters(MethodRoadie.java:96)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.executeTest(PowerMockJUnit44RunnerDelegateImpl.java:310)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTestInSuper(PowerMockJUnit47RunnerDelegateImpl.java:131)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.access$100(PowerMockJUnit47RunnerDelegateImpl.java:59)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner$TestExecutorStatement.evaluate(PowerMockJUnit47RunnerDelegateImpl.java:147)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.evaluateStatement(PowerMockJUnit47RunnerDelegateImpl.java:107)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTest(PowerMockJUnit47RunnerDelegateImpl.java:82)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runBeforesThenTestThenAfters(PowerMockJUnit44RunnerDelegateImpl.java:298)\r\n\tat org.junit.internal.runners.MethodRoadie.runTest(MethodRoadie.java:87)\r\n\tat org.junit.internal.runners.MethodRoadie.run(MethodRoadie.java:50)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:218)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.runMethods(PowerMockJUnit44RunnerDelegateImpl.java:160)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$1.run(PowerMockJUnit44RunnerDelegateImpl.java:134)\r\n\tat org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:34)\r\n\tat org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:44)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.run(PowerMockJUnit44RunnerDelegateImpl.java:136)\r\n\tat org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:117)\r\n\tat org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:57)\r\n\tat org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:59)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\r\n\tat org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat com.sun.proxy.$Proxy2.processTestClass(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:118)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\t... 11 more\r\nCaused by: java.lang.IllegalStateException: Failed to transform class with name org.apache.hadoop.fs.FileSystem$Cache. Reason: org.apache.hadoop.fs.FileSystem$Cache$Key class is frozen\r\n\tat org.powermock.core.classloader.javassist.JavassistMockClassLoader.defineAndTransformClass(JavassistMockClassLoader.java:119)\r\n\tat org.powermock.core.classloader.MockClassLoader.loadMockClass(MockClassLoader.java:174)\r\n\tat org.powermock.core.classloader.MockClassLoader.loadClassByThisClassLoader(MockClassLoader.java:102)\r\n\tat org.powermock.core.classloader.DeferSupportingClassLoader.loadClass1(DeferSupportingClassLoader.java:147)\r\n\tat org.powermock.core.classloader.DeferSupportingClassLoader.loadClass(DeferSupportingClassLoader.java:98)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:352)\r\n\tat java.lang.Class.getDeclaringClass0(Native Method)\r\n\tat java.lang.Class.getDeclaringClass(Class.java:1235)\r\n\tat java.lang.Class.getEnclosingClass(Class.java:1277)\r\n\tat sun.reflect.annotation.AnnotatedTypeFactory.addNesting(AnnotatedTypeFactory.java:96)\r\n\tat sun.reflect.annotation.AnnotatedTypeFactory.buildAnnotatedType(AnnotatedTypeFactory.java:65)\r\n\tat sun.reflect.annotation.TypeAnnotationParser.buildAnnotatedType(TypeAnnotationParser.java:79)\r\n\tat java.lang.reflect.Executable.getAnnotatedReturnType0(Executable.java:640)\r\n\tat java.lang.reflect.Method.getAnnotatedReturnType(Method.java:648)\r\n\tat sun.reflect.GeneratedMethodAccessor19.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$Dispatcher$ForJava8CapableVm$AnnotatedReturnType.resolve(TypeDescription.java:2980)\r\n\t... 92 more\r\nCaused by: java.lang.RuntimeException: org.apache.hadoop.fs.FileSystem$Cache$Key class is frozen\r\n\tat javassist.CtClassType.checkModify(CtClassType.java:334)\r\n\tat javassist.CtBehavior.setModifiers(CtBehavior.java:178)\r\n\tat org.powermock.core.transformers.javassist.ConstructorsMockTransformer.transform(ConstructorsMockTransformer.java:64)\r\n\tat org.powermock.core.transformers.javassist.ConstructorsMockTransformer.transform(ConstructorsMockTransformer.java:51)\r\n\tat org.powermock.core.transformers.javassist.AbstractJavaAssistMockTransformer.transform(AbstractJavaAssistMockTransformer.java:40)\r\n\tat org.powermock.core.transformers.support.DefaultMockTransformerChain.transform(DefaultMockTransformerChain.java:43)\r\n\tat org.powermock.core.classloader.MockClassLoader.transformClass(MockClassLoader.java:184)\r\n\tat org.powermock.core.classloader.javassist.JavassistMockClassLoader.defineAndTransformClass(JavassistMockClassLoader.java:102)\r\n\t... 109 more\r\n\r\n\r\n```\r\nThis seems to be related to us upgrading our log4j version. The test works fine in a branch with the log4j version being 1.2.17. The current version is 2.16.0. We must keep the log4j version at 2.16 – we updated it to remove a security vulnerability. \r\n\r\nThis is the Apache Hadoop FileSystem class: \r\n\r\n```@SuppressWarnings(&quot;DeprecatedIsStillUsed&quot;)\r\n@InterfaceAudience.Public\r\n@InterfaceStability.Stable\r\npublic abstract class FileSystem extends Configured\r\n    implements Closeable, DelegationTokenIssuer {\r\n  public static final String FS_DEFAULT_NAME_KEY =\r\n                   CommonConfigurationKeys.FS_DEFAULT_NAME_KEY;\r\n  public static final String DEFAULT_FS =\r\n                   CommonConfigurationKeys.FS_DEFAULT_NAME_DEFAULT;\r\n\r\n  /**\r\n   * This log is widely used in the org.apache.hadoop.fs code and tests,\r\n   * so must be considered something to only be changed with care.\r\n   */\r\n  @InterfaceAudience.Private\r\n  public static final Log LOG = LogFactory.getLog(FileSystem.class);\r\n\r\n  /**\r\n   * The SLF4J logger to use in logging within the FileSystem class itself.\r\n   */\r\n  private static final Logger LOGGER =\r\n      LoggerFactory.getLogger(FileSystem.class);\r\n```\r\nAs you can see on the bottom line above, we initialize the logger. \r\n\r\n\r\nThis is the test class that is failing: \r\n```\r\n\r\n@PrepareForTest({ UserGroupInformation.class, CredentialManager.class, KerberosUtil.class, FileSystem.class,\r\n    HadoopBDSConfigurator.class })\r\n@RunWith(PowerMockRunner.class)\r\n@PowerMockIgnore({ &quot;javax.management.*&quot;, &quot;javax.security.*&quot;})\r\n@ProtonTestType(ProtonTestCategory.SYSTEM_INTEGRATION)\r\n@ProtonTestTags(tags = {ProtonTestTag.DSS})\r\npublic class TestCredentialManager {\r\n\r\n    private static final String realm = &quot;TEST.REALM&quot;;\r\n    private static final String tenantUser = &quot;testTenantUser&quot;;\r\n    private static final String tenantUserWithRealm = tenantUser+&quot;@&quot;+realm;\r\n    private static final String TOKEN_ALIAS = &quot;token_alias&quot;;\r\n    private static final String TOKEN_ALIAS_2 = &quot;token_alias_2&quot;;\r\n    private static final byte[] expected = {72, 68, 84, 83, 0, 1, 11, 116, 111, 107, 101, 110, 95, 97, 108, 105, 97, 115, 0, 0, 0, 0, 0};\r\n//    private static FileSystemTestHelper.MockFileSystem mockFileSystem;\r\n    private static FileSystem mockFileSystem;\r\n\r\n    final Logger logger = LoggerFactory.getLogger(TestCredentialManager.class);\r\n\r\n    @BeforeClass\r\n    public static void init()\r\n            throws Exception {\r\n        ProtonBootstrap.initForUnitTests();\r\n        PlatforaConfig.SPARK_QUERY_TOKEN_FETCH_REPEATS.setup(null,System.getProperties());\r\n        if (PrismToggles.toggleRenewDelegationToken().isEnabled()) {\r\n            CredentialManager.getInstance().prismDTCache().clear();\r\n        } else {\r\n            CredentialManager.getInstance().tokenExpiryCache().clear();\r\n        }\r\n        CredentialManager.getInstance().tenantCredentialsCache().clear();\r\n    }\r\n\r\n    @Before\r\n    public void initTest()\r\n            throws Exception {\r\n        mockFileSystem = PowerMockito.mock(FileSystem.class);\r\n        PowerMockito.mockStatic(FileSystem.class);\r\n        doReturn(this.mockFileSystem).when(FileSystem.class, &quot;get&quot;, any());\r\n    }\r\n\r\n    @After\r\n    public void reset() {\r\n        if (PrismToggles.toggleRenewDelegationToken().isEnabled()) {\r\n            CredentialManager.getInstance().prismDTCache().clear();\r\n        } else {\r\n            CredentialManager.getInstance().tokenExpiryCache().clear();\r\n        }\r\n        CredentialManager.getInstance().tenantCredentialsCache().clear();\r\n    }\r\n    @Test\r\n    public void testSerializeCredentials() {\r\n        final Credentials credentials = getCredentialsWithToken();\r\n        final ByteArray byteArray = CredentialManager.getInstance().serializeCredentials(credentials);\r\n        Assert.assertArrayEquals(expected, byteArray.bytes);\r\n    }\r\n```\r\n\r\nIt is specifically failing on this line\r\n```mockFileSystem = PowerMockito.mock(FileSystem.class);```\r\n\r\nMockito version: 2.8.9\r\nPowermock version:2.0.9\r\n\r\nI have tried the following things: \r\n- Going to the project structure and making sure that the versions of mockito and powermockito were consistent. Found a conflict with both two mockitos being there: 2.8.9 and 3.3.3. Tried to remove the newer one and it didn&#39;t resolve the issue.\r\n- In project structure, there are 5 javassist packages with an &#39;org&#39; prefix and one without. Tried these options: 1) removing the non-org package 2) only the org 3.18 package 3) only the lastest org package 4) steps 2 and 3 with the other non-org package present\r\n- Tried to move the mock(FileSystem.class) and mockStatic(...) lines in a static code block at the beginning of the class definition before the log instantiation. We thought this might help if it happens before the log4j stuff, but same issue.\r\n- Apache actually has a class called MockFileSystem with is a subclass of FileSystem. I tried to replace this in the code directly, but we still have the same issue, probably because it still has to initilize log4j in the superclass in the same manner. So still same issue despite MockFileSystem not being abstract\r\n\r\n\r\nI have scavenged the web and am running out of ideas. Can someone help? It seems to be related to the log4j logger being instantiated in the FileSystem class and it not being compatible with that Powermock instantiation. ","title":"How to resolve the following error related to powermockito: &quot;Mockito cannot mock this class: class org.apache.hadoop.fs.FileSystem.&quot;","body":"<p>This is the entire error:</p>\n<pre><code>\n\nMockito cannot mock this class: class org.apache.hadoop.fs.FileSystem.\n\nMockito can only mock non-private &amp; non-final classes.\nIf you're not sure why you're getting this error, please report to the mailing list.\n\n\nJava               : 1.8\nJVM vendor name    : Azul Systems, Inc.\nJVM vendor version : 25.282-b08\nJVM name           : OpenJDK 64-Bit Server VM\nJVM version        : 1.8.0_282-b08\nJVM info           : mixed mode\nOS name            : Mac OS X\nOS version         : 10.16\n\n\nUnderlying exception : java.lang.IllegalStateException: Error invoking java.lang.reflect.Method#getAnnotatedReturnType\norg.mockito.exceptions.base.MockitoException: \nMockito cannot mock this class: class org.apache.hadoop.fs.FileSystem.\n\nMockito can only mock non-private &amp; non-final classes.\nIf you're not sure why you're getting this error, please report to the mailing list.\n\n\nJava               : 1.8\nJVM vendor name    : Azul Systems, Inc.\nJVM vendor version : 25.282-b08\nJVM name           : OpenJDK 64-Bit Server VM\nJVM version        : 1.8.0_282-b08\nJVM info           : mixed mode\nOS name            : Mac OS X\nOS version         : 10.16\n\n\nUnderlying exception : java.lang.IllegalStateException: Error invoking java.lang.reflect.Method#getAnnotatedReturnType\n    at com.platfora.proton.builder.spark.TestCredentialManager.initTest(TestCredentialManager.java:109)\n    at org.junit.internal.runners.MethodRoadie.runBefores(MethodRoadie.java:133)\n    at org.junit.internal.runners.MethodRoadie.runBeforesThenTestThenAfters(MethodRoadie.java:96)\n    at org.junit.internal.runners.MethodRoadie.runTest(MethodRoadie.java:87)\n    at org.junit.internal.runners.MethodRoadie.run(MethodRoadie.java:50)\n    at org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:34)\n    at org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:44)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\n    at org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:118)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\n    at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:412)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.IllegalStateException: Error invoking java.lang.reflect.Method#getAnnotatedReturnType\n    at net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$Dispatcher$ForJava8CapableVm$AnnotatedReturnType.resolve(TypeDescription.java:2984)\n    at net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$Delegator.asList(TypeDescription.java:3238)\n    at net.bytebuddy.description.type.TypeDescription$Generic$OfNonGenericType$ForLoadedType.getDeclaredAnnotations(TypeDescription.java:3987)\n    at net.bytebuddy.implementation.attribute.AnnotationAppender$ForTypeAnnotations.apply(AnnotationAppender.java:725)\n    at net.bytebuddy.implementation.attribute.AnnotationAppender$ForTypeAnnotations.onNonGenericType(AnnotationAppender.java:706)\n    at net.bytebuddy.implementation.attribute.AnnotationAppender$ForTypeAnnotations.onNonGenericType(AnnotationAppender.java:409)\n    at net.bytebuddy.description.type.TypeDescription$Generic$OfNonGenericType.accept(TypeDescription.java:3769)\n    at net.bytebuddy.implementation.attribute.MethodAttributeAppender$ForInstrumentedMethod.apply(MethodAttributeAppender.java:196)\n    at net.bytebuddy.implementation.attribute.MethodAttributeAppender$Compound.apply(MethodAttributeAppender.java:484)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$MethodPool$Record$ForDefinedMethod$WithBody.applyAttributes(TypeWriter.java:701)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$MethodPool$Record$ForDefinedMethod$WithBody.applyBody(TypeWriter.java:691)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$MethodPool$Record$ForDefinedMethod.apply(TypeWriter.java:600)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$Default$ForCreation.create(TypeWriter.java:5660)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$Default.make(TypeWriter.java:2166)\n    at net.bytebuddy.dynamic.scaffold.subclass.SubclassDynamicTypeBuilder.make(SubclassDynamicTypeBuilder.java:232)\n    at net.bytebuddy.dynamic.scaffold.subclass.SubclassDynamicTypeBuilder.make(SubclassDynamicTypeBuilder.java:204)\n    at net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase.make(DynamicType.java:3595)\n    at net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase$Delegator.make(DynamicType.java:3819)\n    at org.mockito.internal.creation.bytebuddy.SubclassBytecodeGenerator.mockClass(SubclassBytecodeGenerator.java:173)\n    at org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator$1.call(TypeCachingBytecodeGenerator.java:37)\n    at org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator$1.call(TypeCachingBytecodeGenerator.java:34)\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:152)\n    at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:365)\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:174)\n    at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:376)\n    at org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator.mockClass(TypeCachingBytecodeGenerator.java:32)\n    at org.mockito.internal.creation.bytebuddy.SubclassByteBuddyMockMaker.createMockType(SubclassByteBuddyMockMaker.java:71)\n    at org.mockito.internal.creation.bytebuddy.SubclassByteBuddyMockMaker.createMock(SubclassByteBuddyMockMaker.java:42)\n    at org.mockito.internal.creation.bytebuddy.ByteBuddyMockMaker.createMock(ByteBuddyMockMaker.java:25)\n    at org.powermock.api.mockito.mockmaker.PowerMockMaker.createMock(PowerMockMaker.java:41)\n    at org.mockito.internal.util.MockUtil.createMock(MockUtil.java:35)\n    at org.mockito.internal.MockitoCore.mock(MockitoCore.java:63)\n    at org.mockito.Mockito.mock(Mockito.java:1908)\n    at org.powermock.api.mockito.internal.mockcreation.DefaultMockCreator.createMethodInvocationControl(DefaultMockCreator.java:108)\n    at org.powermock.api.mockito.internal.mockcreation.DefaultMockCreator.doCreateMock(DefaultMockCreator.java:61)\n    at org.powermock.api.mockito.internal.mockcreation.DefaultMockCreator.createMock(DefaultMockCreator.java:53)\n    at org.powermock.api.mockito.internal.mockcreation.DefaultMockCreator.mock(DefaultMockCreator.java:40)\n    at org.powermock.api.mockito.PowerMockito.mock(PowerMockito.java:126)\n    at com.platfora.proton.builder.spark.TestCredentialManager.initTest(TestCredentialManager.java:109)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.internal.runners.MethodRoadie.runBefores(MethodRoadie.java:133)\n    at org.junit.internal.runners.MethodRoadie.runBeforesThenTestThenAfters(MethodRoadie.java:96)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.executeTest(PowerMockJUnit44RunnerDelegateImpl.java:310)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTestInSuper(PowerMockJUnit47RunnerDelegateImpl.java:131)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.access$100(PowerMockJUnit47RunnerDelegateImpl.java:59)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner$TestExecutorStatement.evaluate(PowerMockJUnit47RunnerDelegateImpl.java:147)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.evaluateStatement(PowerMockJUnit47RunnerDelegateImpl.java:107)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTest(PowerMockJUnit47RunnerDelegateImpl.java:82)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runBeforesThenTestThenAfters(PowerMockJUnit44RunnerDelegateImpl.java:298)\n    at org.junit.internal.runners.MethodRoadie.runTest(MethodRoadie.java:87)\n    at org.junit.internal.runners.MethodRoadie.run(MethodRoadie.java:50)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:218)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.runMethods(PowerMockJUnit44RunnerDelegateImpl.java:160)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$1.run(PowerMockJUnit44RunnerDelegateImpl.java:134)\n    at org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:34)\n    at org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:44)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.run(PowerMockJUnit44RunnerDelegateImpl.java:136)\n    at org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:117)\n    at org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:57)\n    at org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:59)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\n    at org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy2.processTestClass(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:118)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    ... 11 more\nCaused by: java.lang.IllegalStateException: Failed to transform class with name org.apache.hadoop.fs.FileSystem$Cache. Reason: org.apache.hadoop.fs.FileSystem$Cache$Key class is frozen\n    at org.powermock.core.classloader.javassist.JavassistMockClassLoader.defineAndTransformClass(JavassistMockClassLoader.java:119)\n    at org.powermock.core.classloader.MockClassLoader.loadMockClass(MockClassLoader.java:174)\n    at org.powermock.core.classloader.MockClassLoader.loadClassByThisClassLoader(MockClassLoader.java:102)\n    at org.powermock.core.classloader.DeferSupportingClassLoader.loadClass1(DeferSupportingClassLoader.java:147)\n    at org.powermock.core.classloader.DeferSupportingClassLoader.loadClass(DeferSupportingClassLoader.java:98)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:352)\n    at java.lang.Class.getDeclaringClass0(Native Method)\n    at java.lang.Class.getDeclaringClass(Class.java:1235)\n    at java.lang.Class.getEnclosingClass(Class.java:1277)\n    at sun.reflect.annotation.AnnotatedTypeFactory.addNesting(AnnotatedTypeFactory.java:96)\n    at sun.reflect.annotation.AnnotatedTypeFactory.buildAnnotatedType(AnnotatedTypeFactory.java:65)\n    at sun.reflect.annotation.TypeAnnotationParser.buildAnnotatedType(TypeAnnotationParser.java:79)\n    at java.lang.reflect.Executable.getAnnotatedReturnType0(Executable.java:640)\n    at java.lang.reflect.Method.getAnnotatedReturnType(Method.java:648)\n    at sun.reflect.GeneratedMethodAccessor19.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$Dispatcher$ForJava8CapableVm$AnnotatedReturnType.resolve(TypeDescription.java:2980)\n    ... 92 more\nCaused by: java.lang.RuntimeException: org.apache.hadoop.fs.FileSystem$Cache$Key class is frozen\n    at javassist.CtClassType.checkModify(CtClassType.java:334)\n    at javassist.CtBehavior.setModifiers(CtBehavior.java:178)\n    at org.powermock.core.transformers.javassist.ConstructorsMockTransformer.transform(ConstructorsMockTransformer.java:64)\n    at org.powermock.core.transformers.javassist.ConstructorsMockTransformer.transform(ConstructorsMockTransformer.java:51)\n    at org.powermock.core.transformers.javassist.AbstractJavaAssistMockTransformer.transform(AbstractJavaAssistMockTransformer.java:40)\n    at org.powermock.core.transformers.support.DefaultMockTransformerChain.transform(DefaultMockTransformerChain.java:43)\n    at org.powermock.core.classloader.MockClassLoader.transformClass(MockClassLoader.java:184)\n    at org.powermock.core.classloader.javassist.JavassistMockClassLoader.defineAndTransformClass(JavassistMockClassLoader.java:102)\n    ... 109 more\n\n\n</code></pre>\n<p>This seems to be related to us upgrading our log4j version. The test works fine in a branch with the log4j version being 1.2.17. The current version is 2.16.0. We must keep the log4j version at 2.16 – we updated it to remove a security vulnerability.</p>\n<p>This is the Apache Hadoop FileSystem class:</p>\n<pre><code>@InterfaceAudience.Public\n@InterfaceStability.Stable\npublic abstract class FileSystem extends Configured\n    implements Closeable, DelegationTokenIssuer {\n  public static final String FS_DEFAULT_NAME_KEY =\n                   CommonConfigurationKeys.FS_DEFAULT_NAME_KEY;\n  public static final String DEFAULT_FS =\n                   CommonConfigurationKeys.FS_DEFAULT_NAME_DEFAULT;\n\n  /**\n   * This log is widely used in the org.apache.hadoop.fs code and tests,\n   * so must be considered something to only be changed with care.\n   */\n  @InterfaceAudience.Private\n  public static final Log LOG = LogFactory.getLog(FileSystem.class);\n\n  /**\n   * The SLF4J logger to use in logging within the FileSystem class itself.\n   */\n  private static final Logger LOGGER =\n      LoggerFactory.getLogger(FileSystem.class);\n</code></pre>\n<p>As you can see on the bottom line above, we initialize the logger.</p>\n<p>This is the test class that is failing:</p>\n<pre><code>\n@PrepareForTest({ UserGroupInformation.class, CredentialManager.class, KerberosUtil.class, FileSystem.class,\n    HadoopBDSConfigurator.class })\n@RunWith(PowerMockRunner.class)\n@PowerMockIgnore({ &quot;javax.management.*&quot;, &quot;javax.security.*&quot;})\n@ProtonTestType(ProtonTestCategory.SYSTEM_INTEGRATION)\n@ProtonTestTags(tags = {ProtonTestTag.DSS})\npublic class TestCredentialManager {\n\n    private static final String realm = &quot;TEST.REALM&quot;;\n    private static final String tenantUser = &quot;testTenantUser&quot;;\n    private static final String tenantUserWithRealm = tenantUser+&quot;@&quot;+realm;\n    private static final String TOKEN_ALIAS = &quot;token_alias&quot;;\n    private static final String TOKEN_ALIAS_2 = &quot;token_alias_2&quot;;\n    private static final byte[] expected = {72, 68, 84, 83, 0, 1, 11, 116, 111, 107, 101, 110, 95, 97, 108, 105, 97, 115, 0, 0, 0, 0, 0};\n//    private static FileSystemTestHelper.MockFileSystem mockFileSystem;\n    private static FileSystem mockFileSystem;\n\n    final Logger logger = LoggerFactory.getLogger(TestCredentialManager.class);\n\n    @BeforeClass\n    public static void init()\n            throws Exception {\n        ProtonBootstrap.initForUnitTests();\n        PlatforaConfig.SPARK_QUERY_TOKEN_FETCH_REPEATS.setup(null,System.getProperties());\n        if (PrismToggles.toggleRenewDelegationToken().isEnabled()) {\n            CredentialManager.getInstance().prismDTCache().clear();\n        } else {\n            CredentialManager.getInstance().tokenExpiryCache().clear();\n        }\n        CredentialManager.getInstance().tenantCredentialsCache().clear();\n    }\n\n    @Before\n    public void initTest()\n            throws Exception {\n        mockFileSystem = PowerMockito.mock(FileSystem.class);\n        PowerMockito.mockStatic(FileSystem.class);\n        doReturn(this.mockFileSystem).when(FileSystem.class, &quot;get&quot;, any());\n    }\n\n    @After\n    public void reset() {\n        if (PrismToggles.toggleRenewDelegationToken().isEnabled()) {\n            CredentialManager.getInstance().prismDTCache().clear();\n        } else {\n            CredentialManager.getInstance().tokenExpiryCache().clear();\n        }\n        CredentialManager.getInstance().tenantCredentialsCache().clear();\n    }\n    @Test\n    public void testSerializeCredentials() {\n        final Credentials credentials = getCredentialsWithToken();\n        final ByteArray byteArray = CredentialManager.getInstance().serializeCredentials(credentials);\n        Assert.assertArrayEquals(expected, byteArray.bytes);\n    }\n</code></pre>\n<p>It is specifically failing on this line\n<code>mockFileSystem = PowerMockito.mock(FileSystem.class);</code></p>\n<p>Mockito version: 2.8.9\nPowermock version:2.0.9</p>\n<p>I have tried the following things:</p>\n<ul>\n<li>Going to the project structure and making sure that the versions of mockito and powermockito were consistent. Found a conflict with both two mockitos being there: 2.8.9 and 3.3.3. Tried to remove the newer one and it didn't resolve the issue.</li>\n<li>In project structure, there are 5 javassist packages with an 'org' prefix and one without. Tried these options: 1) removing the non-org package 2) only the org 3.18 package 3) only the lastest org package 4) steps 2 and 3 with the other non-org package present</li>\n<li>Tried to move the mock(FileSystem.class) and mockStatic(...) lines in a static code block at the beginning of the class definition before the log instantiation. We thought this might help if it happens before the log4j stuff, but same issue.</li>\n<li>Apache actually has a class called MockFileSystem with is a subclass of FileSystem. I tried to replace this in the code directly, but we still have the same issue, probably because it still has to initilize log4j in the superclass in the same manner. So still same issue despite MockFileSystem not being abstract</li>\n</ul>\n<p>I have scavenged the web and am running out of ideas. Can someone help? It seems to be related to the log4j logger being instantiated in the FileSystem class and it not being compatible with that Powermock instantiation.</p>\n"},{"tags":["java","maven","logging","null","log4j"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1645497168,"post_id":71215247,"comment_id":125881521,"body_markdown":"Personally I am removing Log4J from all my projects as fast as possible.","body":"Personally I am removing Log4J from all my projects as fast as possible."},{"owner":{"account_id":24335052,"reputation":11,"user_id":18273259,"display_name":"Natan da Fonseca Lisboa"},"score":0,"creation_date":1645497282,"post_id":71215247,"comment_id":125881537,"body_markdown":"Actually, If I could I would haha.","body":"Actually, If I could I would haha."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1645538992,"post_id":71215247,"comment_id":125894038,"body_markdown":"Please, don&#39;t post the errors as images, but as text. Anyway you have a _&quot;Not a version 4.0.0 POM...&quot;_ root cause, that suggests an error occurred while downloading `org.apache.logging.log4j:log4j`. Now you have a corrupted local copy, just delete it.","body":"Please, don&#39;t post the errors as images, but as text. Anyway you have a <i>&quot;Not a version 4.0.0 POM...&quot;</i> root cause, that suggests an error occurred while downloading <code>org.apache.logging.log4j:log4j</code>. Now you have a corrupted local copy, just delete it."},{"owner":{"account_id":24335052,"reputation":11,"user_id":18273259,"display_name":"Natan da Fonseca Lisboa"},"score":0,"creation_date":1645564408,"post_id":71215247,"comment_id":125904221,"body_markdown":"I did it already and tried to run `mvn clean install` again, but it didn&#39;t work at all.","body":"I did it already and tried to run <code>mvn clean install</code> again, but it didn&#39;t work at all."},{"owner":{"account_id":24335052,"reputation":11,"user_id":18273259,"display_name":"Natan da Fonseca Lisboa"},"score":0,"creation_date":1645567869,"post_id":71215247,"comment_id":125905315,"body_markdown":"I updated the post with the new error message that I&#39;m having after include log4j and log4j-api artifacts in `pom.xml`","body":"I updated the post with the new error message that I&#39;m having after include log4j and log4j-api artifacts in <code>pom.xml</code>"},{"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"score":0,"creation_date":1645572617,"post_id":71215247,"comment_id":125906544,"body_markdown":"What are those first `&lt;dependency&gt;` references? And why do they specify different versions (2.3 and 2.3.2)?","body":"What are those first <code>&lt;dependency&gt;</code> references? And why do they specify different versions (2.3 and 2.3.2)?"},{"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"score":0,"creation_date":1645572738,"post_id":71215247,"comment_id":125906566,"body_markdown":"Looking at that image, it appears that you&#39;re using some sort of proxy server / local repository to store your artifacts. Is that true?","body":"Looking at that image, it appears that you&#39;re using some sort of proxy server / local repository to store your artifacts. Is that true?"},{"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"score":0,"creation_date":1645572834,"post_id":71215247,"comment_id":125906591,"body_markdown":"I recommend that you delete your local maven repository (`$HOME/.m2/repository` on Linux), then run your build again. If it fails, paste all of the output in your questions -- not a screenshot.","body":"I recommend that you delete your local maven repository (<code>$HOME&#47;.m2&#47;repository</code> on Linux), then run your build again. If it fails, paste all of the output in your questions -- not a screenshot."},{"owner":{"account_id":24335052,"reputation":11,"user_id":18273259,"display_name":"Natan da Fonseca Lisboa"},"score":0,"creation_date":1645579544,"post_id":71215247,"comment_id":125907923,"body_markdown":"Just to answer you, @Parsifal. The dependencies above log4j-core are recommended dependencies in order to migrate from slf4j (with log4j 1.x) to apache log4j 2.x (at least this is what I understood from this link: https://logging.apache.org/log4j/2.x/manual/migration.html). And yes, I use some sort of proxy to get the dependencies, but I realized that the proxy is no longer avaliable and, honestly, I don&#39;t know what to do now.\nI updated the post to you verify it. Thanks for all the support :)","body":"Just to answer you, @Parsifal. The dependencies above log4j-core are recommended dependencies in order to migrate from slf4j (with log4j 1.x) to apache log4j 2.x (at least this is what I understood from this link: <a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/manual/migration.html</a>). And yes, I use some sort of proxy to get the dependencies, but I realized that the proxy is no longer avaliable and, honestly, I don&#39;t know what to do now. I updated the post to you verify it. Thanks for all the support :)"},{"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"score":0,"creation_date":1645623207,"post_id":71215247,"comment_id":125920833,"body_markdown":"OK, starting with the repository server: normally you configure that in [settings.xml](https://maven.apache.org/ref/3.0.4/maven-settings/settings.html), although you can also put `&lt;repository&gt;` entries in your POM. Once you correct this, you&#39;ll need to delete your repository directory again to get rid of any corrupted files.","body":"OK, starting with the repository server: normally you configure that in <a href=\"https://maven.apache.org/ref/3.0.4/maven-settings/settings.html\" rel=\"nofollow noreferrer\">settings.xml</a>, although you can also put <code>&lt;repository&gt;</code> entries in your POM. Once you correct this, you&#39;ll need to delete your repository directory again to get rid of any corrupted files."},{"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"score":0,"creation_date":1645623281,"post_id":71215247,"comment_id":125920866,"body_markdown":"I suspect that the &quot;Not a v4.0.0 POM&quot; is caused by the repository server. I&#39;m betting that if you look at it you&#39;ll see HTML rather than an actual POM. There&#39;s no other reason for the POM for a Maven plugin to be corrupted.","body":"I suspect that the &quot;Not a v4.0.0 POM&quot; is caused by the repository server. I&#39;m betting that if you look at it you&#39;ll see HTML rather than an actual POM. There&#39;s no other reason for the POM for a Maven plugin to be corrupted."},{"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"score":0,"creation_date":1645623545,"post_id":71215247,"comment_id":125920975,"body_markdown":"I suspect that you&#39;re also using a very old version of Maven: the [maven-clean-plugin](https://search.maven.org/artifact/org.apache.maven.plugins/maven-clean-plugin) is currently at version 3.1.0, and version 2.2 was released in 2007. If you&#39;re using Java8, you should download the latest version.","body":"I suspect that you&#39;re also using a very old version of Maven: the <a href=\"https://search.maven.org/artifact/org.apache.maven.plugins/maven-clean-plugin\" rel=\"nofollow noreferrer\">maven-clean-plugin</a> is currently at version 3.1.0, and version 2.2 was released in 2007. If you&#39;re using Java8, you should download the latest version."},{"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"score":0,"creation_date":1645623701,"post_id":71215247,"comment_id":125921040,"body_markdown":"The same comment applies to the Log4J version: the latest version, for Java 8, is [2.17.1](https://search.maven.org/artifact/org.apache.logging.log4j/log4j-core). Version 2.3.2 appears to be a release that fixes the Log4Shell vulnerability for people who are using Java 1.5 (or maybe 1.6). The Log4J project has made a lot of changes since then (some for the better, some for the worse).","body":"The same comment applies to the Log4J version: the latest version, for Java 8, is <a href=\"https://search.maven.org/artifact/org.apache.logging.log4j/log4j-core\" rel=\"nofollow noreferrer\">2.17.1</a>. Version 2.3.2 appears to be a release that fixes the Log4Shell vulnerability for people who are using Java 1.5 (or maybe 1.6). The Log4J project has made a lot of changes since then (some for the better, some for the worse)."},{"owner":{"account_id":24335052,"reputation":11,"user_id":18273259,"display_name":"Natan da Fonseca Lisboa"},"score":0,"creation_date":1645637227,"post_id":71215247,"comment_id":125927488,"body_markdown":"You got all right, @Parsifal. I&#39;m using JDK 6 and Maven 2.2.1 to compile the project, so the latest version of Apache Log4J for these artifacts is 2.3.2. Actually, I already solved my problem. That error message is quite self explanatory. Basically, I was missing the correct version of parent artifact for log4j-api and log4j-core (parent artifact: log4j). I realized that 2.3 actually was not the latest version for log4j artifact but, as you suggested above, 2.3.2. I will post the solution with more details later. Thanks for all the support, guys :)","body":"You got all right, @Parsifal. I&#39;m using JDK 6 and Maven 2.2.1 to compile the project, so the latest version of Apache Log4J for these artifacts is 2.3.2. Actually, I already solved my problem. That error message is quite self explanatory. Basically, I was missing the correct version of parent artifact for log4j-api and log4j-core (parent artifact: log4j). I realized that 2.3 actually was not the latest version for log4j artifact but, as you suggested above, 2.3.2. I will post the solution with more details later. Thanks for all the support, guys :)"}],"owner":{"account_id":24335052,"reputation":11,"user_id":18273259,"display_name":"Natan da Fonseca Lisboa"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":654,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645577825,"creation_date":1645496979,"question_id":71215247,"body_markdown":"I am trying to upgrade the log4j version of my application, but when I run `mvn clean install` to get the .ear file I always have the same error.\r\n\r\n    Caused by: org.apache.maven.project.ProjectBuildingException: Parent: null:log4j-core:jar:null of project: unknown:log4j-core has wrong packaging: jar. Must be &#39;pom&#39;. for project unknown:log4j-core\r\n        at org.apache.maven.project.DefaultMavenProjectBuilder.assembleLineage(DefaultMavenProjectBuilder.java:1403)\r\n        at org.apache.maven.project.DefaultMavenProjectBuilder.buildInternal(DefaultMavenProjectBuilder.java:823)\r\n        at org.apache.maven.project.DefaultMavenProjectBuilder.buildFromRepository(DefaultMavenProjectBuilder.java:255)\r\n        at org.apache.maven.project.artifact.MavenMetadataSource.retrieveRelocatedProject(MavenMetadataSource.java:163)\r\n        ... 25 more\r\n\r\nAnalyzing the error message, it looks like I&#39;m pointing the wrong .pom file somewhere, but the dependencies look fine for me.\r\n\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3&lt;/version&gt;\r\n    \t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.3.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n[Path that I want to reach running `mvn clean install`][2]\r\n\r\nHere is also the entire `pom.xml` of my .ear application and the path to the .pom file that is wrongly referenced by my application.\r\n\r\n`\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;artifactId&gt;Server&lt;/artifactId&gt;\r\n\t\t&lt;groupId&gt;com.client.bi&lt;/groupId&gt;\r\n\t\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;artifactId&gt;ClientCRM-ejb-jar&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;ejb&lt;/packaging&gt;\r\n\t&lt;name&gt;ClientCRM-ejb-jar&lt;/name&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;rootFolder&gt;..${file.separator}..&lt;/rootFolder&gt;\r\n\t\t&lt;resourceFolder&gt;src/main/resources&lt;/resourceFolder&gt;\r\n\t    &lt;powermock.version&gt;1.5.5&lt;/powermock.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-jaxrs&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-xc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jersey-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jboss.ws&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jbossws-jboss423&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${jbossws-version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jboss.ws.native&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jbossws-native-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${jbossws-version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jboss.ws.native&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jbossws-native-jaxws&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${jbossws-version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.ejb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ejb-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.j2ee&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;j2ee&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.jms&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jms&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-annotations&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.2.1.ga&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jsqlparser&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jsqlparser&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.6.2.a&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;hsqldb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.8.0.10&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.1.ga&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jboss&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;concurrent&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.2.3.GA&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jboss&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jbossmq-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.2.3.GA&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jboss&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jboss-common-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.2.3.GA&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jboss&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jboss-system-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.2.3.GA&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jboss&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jnp-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.2.3.GA&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jmock&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jmock-junit3&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javassist&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.12.1.GA&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;   \r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;${powermock.version}&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;powermock-api-mockito&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;${powermock.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.11&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;axis&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;axis&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.5&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.5&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;ClientCRM-ejb-jar&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-ejb-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;ejbVersion&gt;3.0&lt;/ejbVersion&gt;\r\n\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t&lt;addMavenDescriptor&gt;false&lt;/addMavenDescriptor&gt;\r\n\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\r\n\t\t&lt;filters&gt;\r\n\t\t\t&lt;filter&gt;src/main/resources/properties/${targetEnvironment}.properties&lt;/filter&gt;\r\n\t\t&lt;/filters&gt;\r\n\t\t&lt;resources&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;src/main/java&lt;/directory&gt;\r\n\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t&lt;include&gt;**/*.properties&lt;/include&gt;\r\n\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;${resourceFolder}&lt;/directory&gt;\r\n\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t&lt;include&gt;**/*.xml&lt;/include&gt;\r\n\t\t\t\t&lt;/includes&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;${resourceFolder}&lt;/directory&gt;\r\n\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t&lt;include&gt;*.sql&lt;/include&gt;\r\n\t\t\t\t&lt;/includes&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t&lt;/resources&gt;\r\n\r\n\t\t&lt;testResources&gt;\r\n\t\t\t&lt;testResource&gt;\r\n\t\t\t\t&lt;directory&gt;src/test/java&lt;/directory&gt;\r\n\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t&lt;include&gt;**/*.properties&lt;/include&gt;\r\n\t\t\t\t\t&lt;include&gt;**/*.xml&lt;/include&gt;\r\n\t\t\t\t&lt;/includes&gt;\r\n\t\t\t&lt;/testResource&gt;\r\n\t\t&lt;/testResources&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n`\r\n\r\n[Path that I am reaching with `mvn clean install` (wrong path)][3]\r\n\r\nAlso, the `log4j-2.3.2.pom` in the image above has the `301 Moved Permanently` code on the content.\r\n\r\nCould someone help me with this? I&#39;m here to give more information if you need.\r\n\r\n**Last update:**\r\n\r\nWhen I get rid of the `repository` folder inside `$HOME/.m2` as recommended, I had the following error message: \r\n\r\n```\r\nProject ID: org.apache.maven.plugins:maven-clean-plugin\r\nPOM Location: C:\\Users\\&lt;My User&gt;\\.m2\\repository\\org\\apache\\maven\\plugins\\maven-clean-plugin\\2.2\\maven-clean-plugin-2.2.pom\r\n\r\nReason: Not a v4.0.0 POM. for project org.apache.maven.plugins:maven-clean-plugin at C:\\Users\\&lt;My User&gt;\\.m2\\repository\\org\\apache\\maven\\plugins\\maven-clean-plugin\\2.2\\maven-clean-plugin-2.2.pom\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/cs5V5.png\r\n  [2]: https://i.stack.imgur.com/NJpow.png\r\n  [3]: https://i.stack.imgur.com/ReM0H.png","title":"Cannot find parent: org.apache.logging.log4j:log4j for project: null:log4j-core:jar:null for project null:log4j-core:jar:null","body":"<p>I am trying to upgrade the log4j version of my application, but when I run <code>mvn clean install</code> to get the .ear file I always have the same error.</p>\n<pre><code>Caused by: org.apache.maven.project.ProjectBuildingException: Parent: null:log4j-core:jar:null of project: unknown:log4j-core has wrong packaging: jar. Must be 'pom'. for project unknown:log4j-core\n    at org.apache.maven.project.DefaultMavenProjectBuilder.assembleLineage(DefaultMavenProjectBuilder.java:1403)\n    at org.apache.maven.project.DefaultMavenProjectBuilder.buildInternal(DefaultMavenProjectBuilder.java:823)\n    at org.apache.maven.project.DefaultMavenProjectBuilder.buildFromRepository(DefaultMavenProjectBuilder.java:255)\n    at org.apache.maven.project.artifact.MavenMetadataSource.retrieveRelocatedProject(MavenMetadataSource.java:163)\n    ... 25 more\n</code></pre>\n<p>Analyzing the error message, it looks like I'm pointing the wrong .pom file somewhere, but the dependencies look fine for me.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;version&gt;2.3&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;2.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/NJpow.png\" rel=\"nofollow noreferrer\">Path that I want to reach running <code>mvn clean install</code></a></p>\n<p>Here is also the entire <code>pom.xml</code> of my .ear application and the path to the .pom file that is wrongly referenced by my application.</p>\n<p>`\n\n\nServer\ncom.client.bi\n1.0-SNAPSHOT\n</p>\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;artifactId&gt;ClientCRM-ejb-jar&lt;/artifactId&gt;\n&lt;packaging&gt;ejb&lt;/packaging&gt;\n&lt;name&gt;ClientCRM-ejb-jar&lt;/name&gt;\n&lt;properties&gt;\n    &lt;rootFolder&gt;..${file.separator}..&lt;/rootFolder&gt;\n    &lt;resourceFolder&gt;src/main/resources&lt;/resourceFolder&gt;\n    &lt;powermock.version&gt;1.5.5&lt;/powermock.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-jaxrs&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-xc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;jbossws-jboss423&lt;/artifactId&gt;\n        &lt;version&gt;${jbossws-version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.ws.native&lt;/groupId&gt;\n        &lt;artifactId&gt;jbossws-native-core&lt;/artifactId&gt;\n        &lt;version&gt;${jbossws-version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.ws.native&lt;/groupId&gt;\n        &lt;artifactId&gt;jbossws-native-jaxws&lt;/artifactId&gt;\n        &lt;version&gt;${jbossws-version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n        &lt;version&gt;2.1&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;joda-time&lt;/groupId&gt;\n        &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n        &lt;version&gt;1.6.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.ejb&lt;/groupId&gt;\n        &lt;artifactId&gt;ejb-api&lt;/artifactId&gt;\n        &lt;version&gt;3.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.j2ee&lt;/groupId&gt;\n        &lt;artifactId&gt;j2ee&lt;/artifactId&gt;\n        &lt;version&gt;1.4&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.jms&lt;/groupId&gt;\n        &lt;artifactId&gt;jms&lt;/artifactId&gt;\n        &lt;version&gt;1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-annotations&lt;/artifactId&gt;\n        &lt;version&gt;3.2.1.ga&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;jsqlparser&lt;/groupId&gt;\n        &lt;artifactId&gt;jsqlparser&lt;/artifactId&gt;\n        &lt;version&gt;0.6.2.a&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;hsqldb&lt;/groupId&gt;\n        &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n        &lt;version&gt;1.8.0.10&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;version&gt;3.3.1.ga&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;jboss&lt;/groupId&gt;\n        &lt;artifactId&gt;concurrent&lt;/artifactId&gt;\n        &lt;version&gt;4.2.3.GA&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;jboss&lt;/groupId&gt;\n        &lt;artifactId&gt;jbossmq-client&lt;/artifactId&gt;\n        &lt;version&gt;4.2.3.GA&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;jboss&lt;/groupId&gt;\n        &lt;artifactId&gt;jboss-common-client&lt;/artifactId&gt;\n        &lt;version&gt;4.2.3.GA&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;jboss&lt;/groupId&gt;\n        &lt;artifactId&gt;jboss-system-client&lt;/artifactId&gt;\n        &lt;version&gt;4.2.3.GA&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;jboss&lt;/groupId&gt;\n        &lt;artifactId&gt;jnp-client&lt;/artifactId&gt;\n        &lt;version&gt;4.2.3.GA&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jmock&lt;/groupId&gt;\n        &lt;artifactId&gt;jmock-junit3&lt;/artifactId&gt;\n        &lt;version&gt;2.5.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javassist&lt;/groupId&gt;\n        &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n        &lt;version&gt;3.12.1.GA&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;   \n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n        &lt;version&gt;${powermock.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-api-mockito&lt;/artifactId&gt;\n        &lt;version&gt;${powermock.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.11&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;axis&lt;/groupId&gt;\n        &lt;artifactId&gt;axis&lt;/artifactId&gt;\n        &lt;version&gt;1.4&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;1.7.5&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;version&gt;1.7.5&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;2.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;finalName&gt;ClientCRM-ejb-jar&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-ejb-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;ejbVersion&gt;3.0&lt;/ejbVersion&gt;\n                &lt;archive&gt;\n                    &lt;addMavenDescriptor&gt;false&lt;/addMavenDescriptor&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n\n    &lt;filters&gt;\n        &lt;filter&gt;src/main/resources/properties/${targetEnvironment}.properties&lt;/filter&gt;\n    &lt;/filters&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/java&lt;/directory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*.properties&lt;/include&gt;\n            &lt;/includes&gt;\n            &lt;filtering&gt;true&lt;/filtering&gt;\n        &lt;/resource&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;${resourceFolder}&lt;/directory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*.xml&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/resource&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;${resourceFolder}&lt;/directory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;*.sql&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n\n    &lt;testResources&gt;\n        &lt;testResource&gt;\n            &lt;directory&gt;src/test/java&lt;/directory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*.properties&lt;/include&gt;\n                &lt;include&gt;**/*.xml&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/testResource&gt;\n    &lt;/testResources&gt;\n&lt;/build&gt;\n</code></pre>\n\n`\n<p><a href=\"https://i.stack.imgur.com/ReM0H.png\" rel=\"nofollow noreferrer\">Path that I am reaching with <code>mvn clean install</code> (wrong path)</a></p>\n<p>Also, the <code>log4j-2.3.2.pom</code> in the image above has the <code>301 Moved Permanently</code> code on the content.</p>\n<p>Could someone help me with this? I'm here to give more information if you need.</p>\n<p><strong>Last update:</strong></p>\n<p>When I get rid of the <code>repository</code> folder inside <code>$HOME/.m2</code> as recommended, I had the following error message:</p>\n<pre><code>Project ID: org.apache.maven.plugins:maven-clean-plugin\nPOM Location: C:\\Users\\&lt;My User&gt;\\.m2\\repository\\org\\apache\\maven\\plugins\\maven-clean-plugin\\2.2\\maven-clean-plugin-2.2.pom\n\nReason: Not a v4.0.0 POM. for project org.apache.maven.plugins:maven-clean-plugin at C:\\Users\\&lt;My User&gt;\\.m2\\repository\\org\\apache\\maven\\plugins\\maven-clean-plugin\\2.2\\maven-clean-plugin-2.2.pom\n</code></pre>\n"},{"tags":["java","spring-boot","cxf","jax-ws"],"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645577219,"creation_date":1645577219,"question_id":71230085,"body_markdown":"I&#39;m new to the CXF and JAX-WS using with Spring Boot. So far I have a service with one endpoint but as next I want to add another endpoint to the same service by publishing new endpoint as\r\n\r\n```\r\n@Configuration\r\npublic class CXFSvcConfig\r\n{\r\n\t@Autowired\r\n\tprotected Bus bus;\r\n\t\r\n   @Bean\r\n   @ConditionalOnMissingBean\r\n   public Service mySvc()\r\n   {\r\n      return new Service();\r\n   }\r\n\r\n\r\n   @Bean\r\n\t@ConditionalOnMissingBean    \r\n    public Endpoint testService1()\r\n    {\r\n        final EndpointImpl endpoint = new EndpointImpl(bus, mySvc());\r\n        endpoint.publish(&quot;/Service1&quot;);\r\n        return endpoint;\r\n    }\r\n\r\n   @Bean\r\n   @ConditionalOnMissingBean\r\n   public Endpoint testService2()\r\n   {\r\n      final EndpointImpl endpoint2 = new EndpointImpl(bus, mySvc());\r\n      endpoint2.publish(&quot;/Service2&quot;);\r\n      return endpoint2;\r\n   }\r\n}\r\n\r\n```\r\n\r\n`/Service1` endpoint will work fine (will display WSDL) but `/Service2` will throw `Service not found` when I will expect to see the same WSDL as is for `/Service1`\r\n\r\nWhat am I doing wrong?","title":"CXF web services and multiple endpoints for service","body":"<p>I'm new to the CXF and JAX-WS using with Spring Boot. So far I have a service with one endpoint but as next I want to add another endpoint to the same service by publishing new endpoint as</p>\n<pre><code>@Configuration\npublic class CXFSvcConfig\n{\n    @Autowired\n    protected Bus bus;\n    \n   @Bean\n   @ConditionalOnMissingBean\n   public Service mySvc()\n   {\n      return new Service();\n   }\n\n\n   @Bean\n    @ConditionalOnMissingBean    \n    public Endpoint testService1()\n    {\n        final EndpointImpl endpoint = new EndpointImpl(bus, mySvc());\n        endpoint.publish(&quot;/Service1&quot;);\n        return endpoint;\n    }\n\n   @Bean\n   @ConditionalOnMissingBean\n   public Endpoint testService2()\n   {\n      final EndpointImpl endpoint2 = new EndpointImpl(bus, mySvc());\n      endpoint2.publish(&quot;/Service2&quot;);\n      return endpoint2;\n   }\n}\n\n</code></pre>\n<p><code>/Service1</code> endpoint will work fine (will display WSDL) but <code>/Service2</code> will throw <code>Service not found</code> when I will expect to see the same WSDL as is for <code>/Service1</code></p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","jfreechart","java-time"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1645576515,"creation_date":1616179478,"answer_id":66713994,"question_id":66705486,"body_markdown":"In the case of [`LocalDate`][1], you can create a time series chart by constructing the corresponding [`Day`][2], as shown below.\r\n\r\n    LocalDate ld = entry.getKey();\r\n    Day d = new Day(ld.getDayOfMonth(), ld.getMonthValue(), ld.getYear());\r\n    series.add(d, entry.getValue());\r\n\r\nIf you have relevant time zone data, you can use it when constructing the `Day`. A similar approach can be used for [`LocalDateTime`][3] and any desired concrete [`RegularTimePeriod`][4]. See also the approach shown [here][5] and [here][6], given an [`Instant`][7]. Moreover, a custom implementation of `XYDataset`, seen [here][8], can simply convert the result of `toEpochMilli()` and return it from `getX()`.\r\n\r\n[![image][9]][9]\r\n\r\n```\r\n\r\nimport java.awt.Dimension;\r\nimport java.awt.EventQueue;\r\nimport java.text.DateFormat;\r\nimport java.time.LocalDate;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport javax.swing.JFrame;\r\nimport org.jfree.chart.ChartFactory;\r\nimport org.jfree.chart.ChartPanel;\r\nimport org.jfree.chart.JFreeChart;\r\nimport org.jfree.chart.axis.DateAxis;\r\nimport org.jfree.chart.plot.XYPlot;\r\nimport org.jfree.data.time.Day;\r\nimport org.jfree.data.time.TimeSeries;\r\nimport org.jfree.data.time.TimeSeriesCollection;\r\nimport org.jfree.data.xy.XYDataset;\r\n\r\n/**\r\n * @see https://stackoverflow.com/a/66713994/230513\r\n * @see https://stackoverflow.com/a/12481509/230513\r\n */\r\npublic class XYTest {\r\n\r\n    private static final int N = 16;\r\n\r\n    private XYDataset createDataset() {\r\n        long t = LocalDate.now().toEpochDay();\r\n        Map&lt;LocalDate, Integer&gt; dateToCountMap = new HashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; N; i++) {\r\n            dateToCountMap.put(LocalDate.ofEpochDay(t + i), (int) Math.pow(i, 1.61));\r\n        }\r\n        TimeSeries series = new TimeSeries(&quot;Data)&quot;);\r\n        for (Map.Entry&lt;LocalDate, Integer&gt; entry : dateToCountMap.entrySet()) {\r\n            LocalDate ld = entry.getKey();\r\n            Day d = new Day(ld.getDayOfMonth(), ld.getMonthValue(), ld.getYear());\r\n            series.add(d, entry.getValue());\r\n        }\r\n        return new TimeSeriesCollection(series);\r\n    }\r\n\r\n    private JFreeChart createChart(final XYDataset dataset) {\r\n        JFreeChart chart = ChartFactory.createTimeSeriesChart(\r\n            &quot;Test&quot;, &quot;Day&quot;, &quot;Value&quot;, dataset, false, false, false);\r\n        XYPlot plot = (XYPlot) chart.getPlot();\r\n        DateAxis domain = (DateAxis) plot.getDomainAxis();\r\n        domain.setDateFormatOverride(DateFormat.getDateInstance());\r\n        return chart;\r\n    }\r\n\r\n    static void create() {\r\n        JFrame frame = new JFrame(&quot;Bar Chart&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        XYTest xyTest = new XYTest();\r\n        XYDataset dataset = xyTest.createDataset();\r\n        JFreeChart chart = xyTest.createChart(dataset);\r\n        ChartPanel chartPanel = new ChartPanel(chart) {\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(800, 300);\r\n            }\r\n        };\r\n        frame.add(chartPanel);\r\n        frame.pack();\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(XYTest::create);\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\r\n  [2]: https://www.jfree.org/jfreechart/api/javadoc/org/jfree/data/time/Day.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\r\n  [4]: https://www.jfree.org/jfreechart/api/javadoc/org/jfree/data/time/RegularTimePeriod.html\r\n  [5]: https://stackoverflow.com/a/66500377/230513\r\n  [6]: https://stackoverflow.com/a/45173688/230513\r\n  [7]: https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\r\n  [8]: https://stackoverflow.com/a/12481509/230513\r\n  [9]: https://i.stack.imgur.com/PzoW7.png","title":"JFreeChart: create a chart with java.time.LocalDate or java.time.LocalDateTime","body":"<p>In the case of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a>, you can create a time series chart by constructing the corresponding <a href=\"https://www.jfree.org/jfreechart/api/javadoc/org/jfree/data/time/Day.html\" rel=\"nofollow noreferrer\"><code>Day</code></a>, as shown below.</p>\n<pre><code>LocalDate ld = entry.getKey();\nDay d = new Day(ld.getDayOfMonth(), ld.getMonthValue(), ld.getYear());\nseries.add(d, entry.getValue());\n</code></pre>\n<p>If you have relevant time zone data, you can use it when constructing the <code>Day</code>. A similar approach can be used for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\"><code>LocalDateTime</code></a> and any desired concrete <a href=\"https://www.jfree.org/jfreechart/api/javadoc/org/jfree/data/time/RegularTimePeriod.html\" rel=\"nofollow noreferrer\"><code>RegularTimePeriod</code></a>. See also the approach shown <a href=\"https://stackoverflow.com/a/66500377/230513\">here</a> and <a href=\"https://stackoverflow.com/a/45173688/230513\">here</a>, given an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a>. Moreover, a custom implementation of <code>XYDataset</code>, seen <a href=\"https://stackoverflow.com/a/12481509/230513\">here</a>, can simply convert the result of <code>toEpochMilli()</code> and return it from <code>getX()</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/PzoW7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PzoW7.png\" alt=\"image\" /></a></p>\n<pre><code>\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.text.DateFormat;\nimport java.time.LocalDate;\nimport java.util.HashMap;\nimport java.util.Map;\nimport javax.swing.JFrame;\nimport org.jfree.chart.ChartFactory;\nimport org.jfree.chart.ChartPanel;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.axis.DateAxis;\nimport org.jfree.chart.plot.XYPlot;\nimport org.jfree.data.time.Day;\nimport org.jfree.data.time.TimeSeries;\nimport org.jfree.data.time.TimeSeriesCollection;\nimport org.jfree.data.xy.XYDataset;\n\n/**\n * @see https://stackoverflow.com/a/66713994/230513\n * @see https://stackoverflow.com/a/12481509/230513\n */\npublic class XYTest {\n\n    private static final int N = 16;\n\n    private XYDataset createDataset() {\n        long t = LocalDate.now().toEpochDay();\n        Map&lt;LocalDate, Integer&gt; dateToCountMap = new HashMap&lt;&gt;();\n        for (int i = 0; i &lt; N; i++) {\n            dateToCountMap.put(LocalDate.ofEpochDay(t + i), (int) Math.pow(i, 1.61));\n        }\n        TimeSeries series = new TimeSeries(&quot;Data)&quot;);\n        for (Map.Entry&lt;LocalDate, Integer&gt; entry : dateToCountMap.entrySet()) {\n            LocalDate ld = entry.getKey();\n            Day d = new Day(ld.getDayOfMonth(), ld.getMonthValue(), ld.getYear());\n            series.add(d, entry.getValue());\n        }\n        return new TimeSeriesCollection(series);\n    }\n\n    private JFreeChart createChart(final XYDataset dataset) {\n        JFreeChart chart = ChartFactory.createTimeSeriesChart(\n            &quot;Test&quot;, &quot;Day&quot;, &quot;Value&quot;, dataset, false, false, false);\n        XYPlot plot = (XYPlot) chart.getPlot();\n        DateAxis domain = (DateAxis) plot.getDomainAxis();\n        domain.setDateFormatOverride(DateFormat.getDateInstance());\n        return chart;\n    }\n\n    static void create() {\n        JFrame frame = new JFrame(&quot;Bar Chart&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        XYTest xyTest = new XYTest();\n        XYDataset dataset = xyTest.createDataset();\n        JFreeChart chart = xyTest.createChart(dataset);\n        ChartPanel chartPanel = new ChartPanel(chart) {\n\n            @Override\n            public Dimension getPreferredSize() {\n                return new Dimension(800, 300);\n            }\n        };\n        frame.add(chartPanel);\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(XYTest::create);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":639,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":66713994,"answer_count":1,"score":3,"last_activity_date":1645576515,"creation_date":1616145664,"question_id":66705486,"body_markdown":"`java.util.Date` is very error prone. It is dead. Long live `java.time.*`.\r\n\r\nGiven a `Map&lt;LocalDate, Integer&gt; dateToCountMap`, how do I create a `JFreeChart` chart that shows the count per date?","title":"JFreeChart: create a chart with java.time.LocalDate or java.time.LocalDateTime","body":"<p><code>java.util.Date</code> is very error prone. It is dead. Long live <code>java.time.*</code>.</p>\n<p>Given a <code>Map&lt;LocalDate, Integer&gt; dateToCountMap</code>, how do I create a <code>JFreeChart</code> chart that shows the count per date?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1645576164,"post_id":71229972,"comment_id":125907368,"body_markdown":"The problem (the runtime exception) is caused by running a program that has not compiled correctly.  The solution is to fix the compilation errors **before** you attempt to run the program.  We don&#39;t know what the compilation errors are because you haven&#39;t told us.","body":"The problem (the runtime exception) is caused by running a program that has not compiled correctly.  The solution is to fix the compilation errors <b>before</b> you attempt to run the program.  We don&#39;t know what the compilation errors are because you haven&#39;t told us."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1645576247,"post_id":71229972,"comment_id":125907389,"body_markdown":"You seem to have an extra `}` at the of the file","body":"You seem to have an extra <code>}</code> at the of the file"}],"answers":[{"tags":[],"owner":{"account_id":4099822,"reputation":1256,"user_id":3365667,"display_name":"Roslan Amir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645576263,"creation_date":1645576263,"answer_id":71229997,"question_id":71229972,"body_markdown":"If you formatted your code properly using an IDE, you would have noticed that you have an extra closing brace `}` at the end.","title":"Java programming error &quot;Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem:&quot;","body":"<p>If you formatted your code properly using an IDE, you would have noticed that you have an extra closing brace <code>}</code> at the end.</p>\n"}],"owner":{"account_id":14437836,"reputation":1,"user_id":10429377,"display_name":"farris"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3306,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1645577094,"accepted_answer_id":71229997,"answer_count":1,"score":-3,"last_activity_date":1645576347,"creation_date":1645575912,"question_id":71229972,"body_markdown":"New Java programmer. I have no idea of what&#39;s causing this error.\r\n\r\nEverything compiled fine until I added the if statements.\r\nStill learning how to debug. \r\n\r\n```\r\nimport javax.swing.*;\r\npublic class VelocityTest2 {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t//Chapter3 example\r\n\t\t// \r\n\t\t\r\n\t\tint time2, time1;\r\n\t\tdouble distance1, distance2, velocity;\r\n\t\tdouble velocityValue = 60.0;\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tString input= JOptionPane.showInputDialog(&quot;Enter time 2&quot;);\r\n\t\ttime2= Integer.parseInt(input); // Enter 4 (hrs)\r\n\t\t\r\n\t\tinput= JOptionPane.showInputDialog(&quot;Enter time 1&quot;);\r\n\t\ttime1= Integer.parseInt(input); \r\n\t\t\r\n\t\tinput= JOptionPane.showInputDialog(&quot;Enter distance 2&quot;);\r\n\t\tdistance2 = Integer.parseInt(input); \r\n\t\t\r\n\t\tinput= JOptionPane.showInputDialog(&quot;Enter distance 1&quot;);\r\n\t\tdistance1 = Integer.parseInt(input); \r\n\t\t\r\n\t\tvelocity = (distance2 - distance1)/(time2 - time1);\r\n\t\t\r\n\t\tSystem.out.println();\r\n\t\t\r\n\t\tSystem.out.println(&quot;the velocity is &quot; + velocity);\r\n\t\t\r\n\t\t\r\n\t\tif (velocity &gt; velocityValue) {\r\n\t\t\tSystem.out.println(&quot;the velocity is greater than 60&quot;);\r\n\t\t}\r\n\t\t\t\r\n\t\telse {\r\n\t\t\tSystem.out.println(&quot;the velocity is less than 60&quot;);\r\n\t\t}\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\r\n\r\n\r\n\t}\r\n\r\n}\r\n```","title":"Java programming error &quot;Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem:&quot;","body":"<p>New Java programmer. I have no idea of what's causing this error.</p>\n<p>Everything compiled fine until I added the if statements.\nStill learning how to debug.</p>\n<pre><code>import javax.swing.*;\npublic class VelocityTest2 {\n\n    public static void main(String[] args) {\n        \n        //Chapter3 example\n        // \n        \n        int time2, time1;\n        double distance1, distance2, velocity;\n        double velocityValue = 60.0;\n        \n        \n        \n        String input= JOptionPane.showInputDialog(&quot;Enter time 2&quot;);\n        time2= Integer.parseInt(input); // Enter 4 (hrs)\n        \n        input= JOptionPane.showInputDialog(&quot;Enter time 1&quot;);\n        time1= Integer.parseInt(input); \n        \n        input= JOptionPane.showInputDialog(&quot;Enter distance 2&quot;);\n        distance2 = Integer.parseInt(input); \n        \n        input= JOptionPane.showInputDialog(&quot;Enter distance 1&quot;);\n        distance1 = Integer.parseInt(input); \n        \n        velocity = (distance2 - distance1)/(time2 - time1);\n        \n        System.out.println();\n        \n        System.out.println(&quot;the velocity is &quot; + velocity);\n        \n        \n        if (velocity &gt; velocityValue) {\n            System.out.println(&quot;the velocity is greater than 60&quot;);\n        }\n            \n        else {\n            System.out.println(&quot;the velocity is less than 60&quot;);\n        }\n            \n            }\n        \n\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-rest","x-forwarded-for"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1645563017,"post_id":71227989,"comment_id":125903739,"body_markdown":"Try adding `@Import(ForwardedHeaderFilter.class)` on one of your `@Configuration`s.","body":"Try adding <code>@Import(ForwardedHeaderFilter.class)</code> on one of your <code>@Configuration</code>s."},{"owner":{"account_id":55691,"reputation":7677,"user_id":166850,"accept_rate":67,"display_name":"RMorrisey"},"score":0,"creation_date":1645563567,"post_id":71227989,"comment_id":125903915,"body_markdown":"Thanks, I will try this and let you know the result","body":"Thanks, I will try this and let you know the result"},{"owner":{"account_id":55691,"reputation":7677,"user_id":166850,"accept_rate":67,"display_name":"RMorrisey"},"score":0,"creation_date":1645570793,"post_id":71227989,"comment_id":125906139,"body_markdown":"This change solved the issue and allowed me to throw out a maze of junk code! Thanks for your help. Don&#39;t forget to post an answer so I can mark it as accepted. We will configure our gateway to send the X-Forwarded-* headers properly if it&#39;s not doing that already.","body":"This change solved the issue and allowed me to throw out a maze of junk code! Thanks for your help. Don&#39;t forget to post an answer so I can mark it as accepted. We will configure our gateway to send the X-Forwarded-* headers properly if it&#39;s not doing that already."}],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645576220,"creation_date":1645576220,"answer_id":71229994,"question_id":71227989,"body_markdown":"If Spring MVC knows about your load balancer/proxy, it can automatically rewrite generated URLs in Spring Data REST and your own controllers (with `MvcUriComponentsBuilder`) to reflect the original request URL, including scheme, port, and more.\r\n\r\nThere&#39;s a built-in Servlet filter named `ForwardedHeaderFilter` that handles this for you by inspecting well-known forwarding headers such as `X-Forwarded-For`; if you&#39;re using Spring Boot, you can set `server.forward-headers-strategy = framework` to get one registered, or you can use `@Import(ForwardedHeaderFilter.class)` to create a bean that Boot will then apply to the container. If you&#39;re using Spring MVC without Boot, add this filter to your Servlet configuration.","title":"How do I rewrite the app&#39;s base URL in spring-data-rest links?","body":"<p>If Spring MVC knows about your load balancer/proxy, it can automatically rewrite generated URLs in Spring Data REST and your own controllers (with <code>MvcUriComponentsBuilder</code>) to reflect the original request URL, including scheme, port, and more.</p>\n<p>There's a built-in Servlet filter named <code>ForwardedHeaderFilter</code> that handles this for you by inspecting well-known forwarding headers such as <code>X-Forwarded-For</code>; if you're using Spring Boot, you can set <code>server.forward-headers-strategy = framework</code> to get one registered, or you can use <code>@Import(ForwardedHeaderFilter.class)</code> to create a bean that Boot will then apply to the container. If you're using Spring MVC without Boot, add this filter to your Servlet configuration.</p>\n"}],"owner":{"account_id":55691,"reputation":7677,"user_id":166850,"accept_rate":67,"display_name":"RMorrisey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":727,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71229994,"answer_count":1,"score":1,"last_activity_date":1645576264,"creation_date":1645562228,"question_id":71227989,"body_markdown":"My company uses an API gateway that transforms URLs as follows, modifying both the hostname and the base path of the resource:\r\n```https://apigateway.mycompany.com/myapp/foo -&gt; https://myapp.mycompany.com/foo```\r\n\r\nIn Spring Data REST, the app wants to generate links using ```https://myapp.mycompany.com/foo```. How can I customize the app to force it to produce API gateway links for all ```rel``` attributes? \r\n\r\nI want to change the way that the links are rendered *without* changing the actual paths to those resources on the myapp.mycompany.com server. I checked the docs section on customizing the ```rel``` but it doesn&#39;t appear to cover this use case.\r\n\r\nWhat should I do?\r\n","title":"How do I rewrite the app&#39;s base URL in spring-data-rest links?","body":"<p>My company uses an API gateway that transforms URLs as follows, modifying both the hostname and the base path of the resource:\n<code>https://apigateway.mycompany.com/myapp/foo -&gt; https://myapp.mycompany.com/foo</code></p>\n<p>In Spring Data REST, the app wants to generate links using <code>https://myapp.mycompany.com/foo</code>. How can I customize the app to force it to produce API gateway links for all <code>rel</code> attributes?</p>\n<p>I want to change the way that the links are rendered <em>without</em> changing the actual paths to those resources on the myapp.mycompany.com server. I checked the docs section on customizing the <code>rel</code> but it doesn't appear to cover this use case.</p>\n<p>What should I do?</p>\n"},{"tags":["java","algorithm","data-structures"],"comments":[{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1645496017,"post_id":71215108,"comment_id":125881344,"body_markdown":"`System.currentTimeMillis` does not guarantee returning different numbers each time you call it. Neither does `System.nanoTime`, for that matter.","body":"<code>System.currentTimeMillis</code> does not guarantee returning different numbers each time you call it. Neither does <code>System.nanoTime</code>, for that matter."},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1645496286,"post_id":71215108,"comment_id":125881402,"body_markdown":"Does this answer your question? [Making a Java PriorityQueue into a stable priority queue](https://stackoverflow.com/questions/21617098/making-a-java-priorityqueue-into-a-stable-priority-queue)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/21617098/making-a-java-priorityqueue-into-a-stable-priority-queue\">Making a Java PriorityQueue into a stable priority queue</a>"},{"owner":{"account_id":11774606,"reputation":1337,"user_id":10969942,"display_name":"maplemaple"},"score":0,"creation_date":1645496310,"post_id":71215108,"comment_id":125881408,"body_markdown":"@kaya3 Thank you so mcuh. First learn the caveat!","body":"@kaya3 Thank you so mcuh. First learn the caveat!"}],"answers":[{"tags":[],"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645574102,"creation_date":1645495872,"answer_id":71215165,"question_id":71215108,"body_markdown":"Assign a sequence number in order of arrival. This requires just replacing the line where you assign &#39;timestamp&#39; with assigning the next value of a monotonically increasing sequence number. \r\n\r\n    static long nextSequence = 0;\r\n    long sequence = nextSequence++;\r\n\r\nand replace your use of &#39;timestamp&#39; with &#39;sequence&#39;.\r\n\r\nI regard this as superior to use of currentTimeMillis since (a) it allows processing of arrival rates higher than one every millisecond, and (b) the current time is not guaranteed against going backwards.\r\n\r\nA long integer has plenty of headroom. If you&#39;re generating a new id every 100 nS, it&#39;ll overflow after about 30,000 years.","title":"How to use insertion order to break tier for PriorityQueue or minHeap?","body":"<p>Assign a sequence number in order of arrival. This requires just replacing the line where you assign 'timestamp' with assigning the next value of a monotonically increasing sequence number.</p>\n<pre><code>static long nextSequence = 0;\nlong sequence = nextSequence++;\n</code></pre>\n<p>and replace your use of 'timestamp' with 'sequence'.</p>\n<p>I regard this as superior to use of currentTimeMillis since (a) it allows processing of arrival rates higher than one every millisecond, and (b) the current time is not guaranteed against going backwards.</p>\n<p>A long integer has plenty of headroom. If you're generating a new id every 100 nS, it'll overflow after about 30,000 years.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645504021,"creation_date":1645499287,"answer_id":71215449,"question_id":71215108,"body_markdown":"I&#39;ve come to the following solution:\r\n* implement a container that wraps a `PriorityQueue` and track the *count* of element added to the queue;\r\n* create wrapper over the `Student` class, which I implemented as a `record`.\r\n```\r\npublic record StudentWrapper(Student student, long queueId) {}\r\n```\r\n```\r\npublic class OrderedQueue {\r\n    private static final Comparator&lt;StudentWrapper&gt; BY_AGE_AND_QUEUE_ID =\r\n            Comparator.&lt;StudentWrapper&gt;comparingInt(studWr -&gt; studWr.student().getAge())\r\n                    .thenComparingLong(StudentWrapper::queueId);\r\n\r\n    private Queue&lt;StudentWrapper&gt; queue;\r\n    private long count;\r\n\r\n    public OrderedQueue() {\r\n        this.queue = new PriorityQueue&lt;&gt;(BY_AGE_AND_QUEUE_ID);\r\n    }\r\n\r\n    public void addStudent(Student student) {\r\n        queue.offer(new StudentWrapper(student, count++));\r\n    }\r\n\r\n    public Optional&lt;Student&gt; removeStudent() {\r\n        return Optional.ofNullable(queue.poll())\r\n                .map(StudentWrapper::student);\r\n    }\r\n\r\n    public boolean isEmpty() {\r\n        return queue.isEmpty();\r\n    }\r\n}\r\n```\r\n**main**\r\n```\r\n    public static void main(String[] args) {\r\n        OrderedQueue orderedQueue = new OrderedQueue();\r\n        orderedQueue.addStudent(new Student(1, &quot;foo&quot;));\r\n        orderedQueue.addStudent(new Student(2, &quot;a&quot;));\r\n        orderedQueue.addStudent(new Student(2, &quot;b&quot;));\r\n        orderedQueue.addStudent(new Student(1, &quot;bar&quot;));\r\n        orderedQueue.addStudent(new Student(1, &quot;c&quot;));\r\n\r\n        while (!orderedQueue.isEmpty()) {\r\n            orderedQueue.removeStudent().ifPresent(System.out::println);\r\n        }\r\n    }\r\n```\r\n**Output**\r\n```\r\nStudent{age=1, name=&#39;foo&#39;}\r\nStudent{age=1, name=&#39;bar&#39;}\r\nStudent{age=1, name=&#39;c&#39;}\r\nStudent{age=2, name=&#39;a&#39;}\r\nStudent{age=2, name=&#39;b&#39;}\r\n```","title":"How to use insertion order to break tier for PriorityQueue or minHeap?","body":"<p>I've come to the following solution:</p>\n<ul>\n<li>implement a container that wraps a <code>PriorityQueue</code> and track the <em>count</em> of element added to the queue;</li>\n<li>create wrapper over the <code>Student</code> class, which I implemented as a <code>record</code>.</li>\n</ul>\n<pre><code>public record StudentWrapper(Student student, long queueId) {}\n</code></pre>\n<pre><code>public class OrderedQueue {\n    private static final Comparator&lt;StudentWrapper&gt; BY_AGE_AND_QUEUE_ID =\n            Comparator.&lt;StudentWrapper&gt;comparingInt(studWr -&gt; studWr.student().getAge())\n                    .thenComparingLong(StudentWrapper::queueId);\n\n    private Queue&lt;StudentWrapper&gt; queue;\n    private long count;\n\n    public OrderedQueue() {\n        this.queue = new PriorityQueue&lt;&gt;(BY_AGE_AND_QUEUE_ID);\n    }\n\n    public void addStudent(Student student) {\n        queue.offer(new StudentWrapper(student, count++));\n    }\n\n    public Optional&lt;Student&gt; removeStudent() {\n        return Optional.ofNullable(queue.poll())\n                .map(StudentWrapper::student);\n    }\n\n    public boolean isEmpty() {\n        return queue.isEmpty();\n    }\n}\n</code></pre>\n<p><strong>main</strong></p>\n<pre><code>    public static void main(String[] args) {\n        OrderedQueue orderedQueue = new OrderedQueue();\n        orderedQueue.addStudent(new Student(1, &quot;foo&quot;));\n        orderedQueue.addStudent(new Student(2, &quot;a&quot;));\n        orderedQueue.addStudent(new Student(2, &quot;b&quot;));\n        orderedQueue.addStudent(new Student(1, &quot;bar&quot;));\n        orderedQueue.addStudent(new Student(1, &quot;c&quot;));\n\n        while (!orderedQueue.isEmpty()) {\n            orderedQueue.removeStudent().ifPresent(System.out::println);\n        }\n    }\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>Student{age=1, name='foo'}\nStudent{age=1, name='bar'}\nStudent{age=1, name='c'}\nStudent{age=2, name='a'}\nStudent{age=2, name='b'}\n</code></pre>\n"}],"owner":{"account_id":11774606,"reputation":1337,"user_id":10969942,"display_name":"maplemaple"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71215449,"answer_count":2,"score":0,"last_activity_date":1645574102,"creation_date":1645495238,"question_id":71215108,"body_markdown":"I met this question in an interview. The interviewer gave me an `class Student` like following:\r\n\r\n```java\r\nclass Student {\r\n    int age;\r\n    String name;\r\n\r\n    public Student(int age, String name) {\r\n        this.age = age;\r\n        this.name = name;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Student{&quot; +\r\n                &quot;age=&quot; + age +\r\n                &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\nHe wanted me to implement a `PriorityQueue` with smallest student&#39;s age be highest priority. If there is a tier, he wanted me to use insertion order to break tier, i.e. earliest element with highest priority.\r\n\r\nMy idea is to use following warper class to encode infomation of timestamp.\r\n```java\r\nclass Element implements Comparable&lt;Element&gt; {\r\n    Student student;\r\n    long timestamp = System.currentTimeMillis();\r\n\r\n    public Element(Student student) {\r\n        this.student = student;\r\n    }\r\n\r\n    @Override\r\n    public int compareTo(Element o) {\r\n        int cmp = Integer.compare(student.age, o.student.age);\r\n        return cmp == 0 ? Long.compare(timestamp, o.timestamp) : cmp;\r\n    }\r\n}\r\n\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        PriorityQueue&lt;Element&gt; pq = new PriorityQueue&lt;&gt;();\r\n        Student t1 = new Student(2, &quot;a&quot;);\r\n        Student t2 = new Student(2, &quot;b&quot;);\r\n        Student t3 = new Student(1, &quot;c&quot;);\r\n\r\n        pq.offer(new Element(t1));\r\n        pq.offer(new Element(t2));\r\n        pq.offer(new Element(t3));\r\n\r\n        System.out.println(pq.poll().student);\r\n        System.out.println(pq.poll().student);\r\n        System.out.println(pq.poll().student);\r\n    }\r\n}\r\n``` \r\nHowever, the interviewer wanted me not to use timestamp infomation, then I cannot come up with a concrete solution in interview. I can only guess some ideas: \r\n\r\n(1) it may require me to use hybrid data structure(combine something like `LinkedHashMap`/`LinkedList` and `PriorityQueue`) \r\n\r\n(2) it may require me to implement personal binary minHeap which can break tier by using insertion order. I know how to implement minHeap using percolateUp and percolateDown. However, I never heard I can just hack the binary heap&#39;s implemention to use insertion order in algorithm class. \r\n\r\n","title":"How to use insertion order to break tier for PriorityQueue or minHeap?","body":"<p>I met this question in an interview. The interviewer gave me an <code>class Student</code> like following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Student {\n    int age;\n    String name;\n\n    public Student(int age, String name) {\n        this.age = age;\n        this.name = name;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Student{&quot; +\n                &quot;age=&quot; + age +\n                &quot;, name='&quot; + name + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>He wanted me to implement a <code>PriorityQueue</code> with smallest student's age be highest priority. If there is a tier, he wanted me to use insertion order to break tier, i.e. earliest element with highest priority.</p>\n<p>My idea is to use following warper class to encode infomation of timestamp.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Element implements Comparable&lt;Element&gt; {\n    Student student;\n    long timestamp = System.currentTimeMillis();\n\n    public Element(Student student) {\n        this.student = student;\n    }\n\n    @Override\n    public int compareTo(Element o) {\n        int cmp = Integer.compare(student.age, o.student.age);\n        return cmp == 0 ? Long.compare(timestamp, o.timestamp) : cmp;\n    }\n}\n\npublic class Test {\n    public static void main(String[] args) {\n        PriorityQueue&lt;Element&gt; pq = new PriorityQueue&lt;&gt;();\n        Student t1 = new Student(2, &quot;a&quot;);\n        Student t2 = new Student(2, &quot;b&quot;);\n        Student t3 = new Student(1, &quot;c&quot;);\n\n        pq.offer(new Element(t1));\n        pq.offer(new Element(t2));\n        pq.offer(new Element(t3));\n\n        System.out.println(pq.poll().student);\n        System.out.println(pq.poll().student);\n        System.out.println(pq.poll().student);\n    }\n}\n</code></pre>\n<p>However, the interviewer wanted me not to use timestamp infomation, then I cannot come up with a concrete solution in interview. I can only guess some ideas:</p>\n<p>(1) it may require me to use hybrid data structure(combine something like <code>LinkedHashMap</code>/<code>LinkedList</code> and <code>PriorityQueue</code>)</p>\n<p>(2) it may require me to implement personal binary minHeap which can break tier by using insertion order. I know how to implement minHeap using percolateUp and percolateDown. However, I never heard I can just hack the binary heap's implemention to use insertion order in algorithm class.</p>\n"},{"tags":["java","bufferstrategy"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1645574687,"post_id":71229752,"comment_id":125907033,"body_markdown":"Generally, no.  If you wanted this kind of feature, then you&#39;d need to make it yourself.  Remember in this case, you&#39;re using a &quot;page flipping&quot; process, where there is a &quot;presented&quot; buffer and then a series of &quot;off screen&quot; buffers.  You write to the off screen buffer(s) and then request that it be made the &quot;presentation&quot; buffer","body":"Generally, no.  If you wanted this kind of feature, then you&#39;d need to make it yourself.  Remember in this case, you&#39;re using a &quot;page flipping&quot; process, where there is a &quot;presented&quot; buffer and then a series of &quot;off screen&quot; buffers.  You write to the off screen buffer(s) and then request that it be made the &quot;presentation&quot; buffer"},{"owner":{"account_id":22235192,"reputation":35,"user_id":16470689,"display_name":"telos"},"score":0,"creation_date":1645576373,"post_id":71229752,"comment_id":125907417,"body_markdown":"@MadProgrammer Alright, thank you. I&#39;ll post it here if i end up creating it.","body":"@MadProgrammer Alright, thank you. I&#39;ll post it here if i end up creating it."}],"owner":{"account_id":22235192,"reputation":35,"user_id":16470689,"display_name":"telos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645573910,"creation_date":1645573910,"question_id":71229752,"body_markdown":"is there a way to get the content of the current Buffer im writing to? a sort of a representation of what i&#39;ve written to its graphics. For example, in the following code, i would like to get a BufferedImage or even an Array that has values that represent what i&#39;ve written, in this case; a black background and a white rectangle:\r\n\r\n```\r\npublic static void render (Canvas canvas) {\r\n\t\tBufferStrategy buffer = canvas.getBufferStrategy();\r\n\t\tGraphics g = buffer.getDrawGraphics();\r\n\t\t\r\n        g.setColor(Color.BLACK);\r\n\t\tg.fillRect(0, 0, canvas.getWidth(), canvas.getHeight());\r\n\r\n        g.setColor(Color.WHITE);\r\n        g.drawRect(50, 50, 100, 100);\t\r\n\r\n\t\tg.dispose();\r\n        // Maybe a method here that allows me to get what has been writen?\r\n\t\tbuffer.show();\t\t\t\t\t\r\n\t}\r\n```\r\n\r\nThanks in advance!","title":"How do i get the content of the BufferStrategy/its Graphics in Java?","body":"<p>is there a way to get the content of the current Buffer im writing to? a sort of a representation of what i've written to its graphics. For example, in the following code, i would like to get a BufferedImage or even an Array that has values that represent what i've written, in this case; a black background and a white rectangle:</p>\n<pre><code>public static void render (Canvas canvas) {\n        BufferStrategy buffer = canvas.getBufferStrategy();\n        Graphics g = buffer.getDrawGraphics();\n        \n        g.setColor(Color.BLACK);\n        g.fillRect(0, 0, canvas.getWidth(), canvas.getHeight());\n\n        g.setColor(Color.WHITE);\n        g.drawRect(50, 50, 100, 100);   \n\n        g.dispose();\n        // Maybe a method here that allows me to get what has been writen?\n        buffer.show();                  \n    }\n</code></pre>\n<p>Thanks in advance!</p>\n"},{"tags":["java","regex","split"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1645570248,"post_id":71229294,"comment_id":125906002,"body_markdown":"Whiteline? Do you mean white space?","body":"Whiteline? Do you mean white space?"},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":3,"creation_date":1645570294,"post_id":71229294,"comment_id":125906022,"body_markdown":"show your code please","body":"show your code please"},{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1645570802,"post_id":71229294,"comment_id":125906142,"body_markdown":"`String[] splitted = sentence.split(&quot;;(?=\\\\S)&quot;);`","body":"<code>String[] splitted = sentence.split(&quot;;(?=\\\\S)&quot;);</code>"}],"answers":[{"tags":[],"owner":{"account_id":23910782,"reputation":481,"user_id":17907758,"display_name":"anut"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645571026,"creation_date":1645570711,"answer_id":71229354,"question_id":71229294,"body_markdown":"You can use a regex negative lookahead/lookbehind for this.\r\n\r\n    String testString = &quot;hello;world; test1 ;test2&quot;;\r\n\r\n    String[] splitString = testString.split(&quot;(?&lt;! );(?! )&quot;); // Negative lookahead and lookbehind\r\n\r\n    for (String s : splitString) System.out.println(s);\r\nOutput:\r\n\r\n    hello\r\n    world; test1 ;test2\r\n\r\nHere, the characters near the start and end of the regex are saying &quot;only split on the semicolon if there are **no spaces before or after it**&quot;","title":"How do I skip splitting when white space occurs?","body":"<p>You can use a regex negative lookahead/lookbehind for this.</p>\n<pre><code>String testString = &quot;hello;world; test1 ;test2&quot;;\n\nString[] splitString = testString.split(&quot;(?&lt;! );(?! )&quot;); // Negative lookahead and lookbehind\n\nfor (String s : splitString) System.out.println(s);\n</code></pre>\n<p>Output:</p>\n<pre><code>hello\nworld; test1 ;test2\n</code></pre>\n<p>Here, the characters near the start and end of the regex are saying &quot;only split on the semicolon if there are <strong>no spaces before or after it</strong>&quot;</p>\n"}],"owner":{"account_id":14173417,"reputation":11,"user_id":10239404,"display_name":"M.Jankowski"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645573773,"creation_date":1645570184,"question_id":71229294,"body_markdown":"I want to split using `&quot;;&quot;` as delimiter and put outcome into the list of strings, for example\r\n\r\nInput:\r\n\r\n    sentence;sentence;sentence\r\n\r\nshould produce:\r\n\r\n    [sentence, sentence, sentence]\r\n\r\nProblem is some strings are like this:\r\n`&quot;sentence; continuation;new sentence&quot;`, and for such I&#39;d like the outcome to be: `[sentence; continuation, new sentence]`.\r\n\r\nI&#39;d like to skip splitting when there is whitespace after (or before) semicolon.\r\n\r\nExample string I&#39;d like to split:\r\n\r\n    String sentence = &quot;Ogłoszenie o zam&#243;wieniu;2022/BZP 00065216/01;&quot;Dostawa pojemnik&#243;w na odpady segregowane (900 sztuk o pojemności 240 l – kolor ż&#243;łty; 30 sztuk o pojemności 1100 l – kolor ż&#243;łty).&quot;;Zakład Wodociąg&#243;w i Usług Komunalnych EKOWOD Sp&#243;łka z ograniczoną odpowiedzialnością&quot;\r\n\r\nI tried:\r\n\r\n    String[] splitted = sentence.split(&quot;;\\\\S&quot;);\r\n\r\nBut this cuts off the first character of each sentence.\r\n\r\n\r\n","title":"How do I skip splitting when white space occurs?","body":"<p>I want to split using <code>&quot;;&quot;</code> as delimiter and put outcome into the list of strings, for example</p>\n<p>Input:</p>\n<pre><code>sentence;sentence;sentence\n</code></pre>\n<p>should produce:</p>\n<pre><code>[sentence, sentence, sentence]\n</code></pre>\n<p>Problem is some strings are like this:\n<code>&quot;sentence; continuation;new sentence&quot;</code>, and for such I'd like the outcome to be: <code>[sentence; continuation, new sentence]</code>.</p>\n<p>I'd like to skip splitting when there is whitespace after (or before) semicolon.</p>\n<p>Example string I'd like to split:</p>\n<pre><code>String sentence = &quot;Ogłoszenie o zamówieniu;2022/BZP 00065216/01;&quot;Dostawa pojemników na odpady segregowane (900 sztuk o pojemności 240 l – kolor żółty; 30 sztuk o pojemności 1100 l – kolor żółty).&quot;;Zakład Wodociągów i Usług Komunalnych EKOWOD Spółka z ograniczoną odpowiedzialnością&quot;\n</code></pre>\n<p>I tried:</p>\n<pre><code>String[] splitted = sentence.split(&quot;;\\\\S&quot;);\n</code></pre>\n<p>But this cuts off the first character of each sentence.</p>\n"},{"tags":["java","bit-manipulation"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1641305920,"post_id":70580138,"comment_id":124767029,"body_markdown":"Show more examples, and I don&#39;t think your theory holds. For example, `111 XOR 001` does not return zero as the link wants","body":"Show more examples, and I don&#39;t think your theory holds. For example, <code>111 XOR 001</code> does not return zero as the link wants"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":4,"creation_date":1641305950,"post_id":70580138,"comment_id":124767048,"body_markdown":"&quot;*if you XOR ONE(1) With 5(101) you will get 2(010)*&quot; - Nope. XORing `0b101` with `0b001` results in `0b100`, which is `4` in base10, as expected.","body":"&quot;<i>if you XOR ONE(1) With 5(101) you will get 2(010)</i>&quot; - Nope. XORing <code>0b101</code> with <code>0b001</code> results in <code>0b100</code>, which is <code>4</code> in base10, as expected."},{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1641306022,"post_id":70580138,"comment_id":124767085,"body_markdown":"&quot;By theory if you Exclusive OR(XOR) One(1) with any number you will get the compliment of that number.&quot; &lt;- Where did you get that from? I never heard of that before and can&#39;t really think of any reason why it should be true.","body":"&quot;By theory if you Exclusive OR(XOR) One(1) with any number you will get the compliment of that number.&quot; &lt;- Where did you get that from? I never heard of that before and can&#39;t really think of any reason why it should be true."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1641306133,"post_id":70580138,"comment_id":124767155,"body_markdown":"XORing with 1 flips the lowest bit, nothing else.","body":"XORing with 1 flips the lowest bit, nothing else."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1641306202,"post_id":70580138,"comment_id":124767181,"body_markdown":"We can of course flip all bits by XORing with `-1`, but this will flip **all** bits.","body":"We can of course flip all bits by XORing with <code>-1</code>, but this will flip <b>all</b> bits."},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1641307138,"post_id":70580138,"comment_id":124767642,"body_markdown":"I think you have misinterpreted the &#39;XOR with 1&#39; notion.  The value you need to XOR with to get the complement is a number of the same binary length consisting of ALL 1s.  So to get the complement of 1010 you would XOR with 1111 (i.e. 0101).","body":"I think you have misinterpreted the &#39;XOR with 1&#39; notion.  The value you need to XOR with to get the complement is a number of the same binary length consisting of ALL 1s.  So to get the complement of 1010 you would XOR with 1111 (i.e. 0101)."},{"owner":{"account_id":17773763,"reputation":1154,"user_id":12906648,"display_name":"Maxwell D. Dorliea"},"score":0,"creation_date":1641308247,"post_id":70580138,"comment_id":124768184,"body_markdown":"@Turing85  **This is what I am trying to say**.&lt;br /&gt; `101(5) ^ 111 = 010(2)`","body":"@Turing85  <b>This is what I am trying to say</b>.&lt;br /&gt; <code>101(5) ^ 111 = 010(2)</code>"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1641308391,"post_id":70580138,"comment_id":124768260,"body_markdown":"@MaxwellD.Dorliea maybe, but that&#39;s not what you wrote. And `0b111 != -1`.","body":"@MaxwellD.Dorliea maybe, but that&#39;s not what you wrote. And <code>0b111 != -1</code>."}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641306751,"creation_date":1641305915,"answer_id":70580176,"question_id":70580138,"body_markdown":"Look at this trick. `~` operation switch `0 &lt;-&gt; 1`.\r\n\r\n```java\r\nint a = 0b010;\r\nint b = ~a &amp; 0b111; // 0x101\r\n```\r\n\r\nSo the solution is pretty simple:\r\n\r\n 1. Find the highest `1` bit; it gives you the number of bits for the mask\r\n 1. User `~` to find a compliment number and limit it to the number of bits.","title":"Why my function is returning 11 instead of 5?","body":"<p>Look at this trick. <code>~</code> operation switch <code>0 &lt;-&gt; 1</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int a = 0b010;\nint b = ~a &amp; 0b111; // 0x101\n</code></pre>\n<p>So the solution is pretty simple:</p>\n<ol>\n<li>Find the highest <code>1</code> bit; it gives you the number of bits for the mask</li>\n<li>User <code>~</code> to find a compliment number and limit it to the number of bits.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15128674,"reputation":1304,"user_id":10917226,"display_name":"Lovesh Dongre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641306415,"creation_date":1641306415,"answer_id":70580294,"question_id":70580138,"body_markdown":"**Why 10 ^ 1 = 11** (and not 5)\r\n\r\n10 in binary is `1010` and 1 in binary is  `0001`\r\n\r\nnow lets calculate 1010 ^ 0001\r\n```\r\n  1010\r\n^ 0001\r\n  ----\r\n  1011\r\n  ----\r\n```\r\n\r\n1011 in decimal is 11! (since 5 in binary is 0101)","title":"Why my function is returning 11 instead of 5?","body":"<p><strong>Why 10 ^ 1 = 11</strong> (and not 5)</p>\n<p>10 in binary is <code>1010</code> and 1 in binary is  <code>0001</code></p>\n<p>now lets calculate 1010 ^ 0001</p>\n<pre><code>  1010\n^ 0001\n  ----\n  1011\n  ----\n</code></pre>\n<p>1011 in decimal is 11! (since 5 in binary is 0101)</p>\n"}],"owner":{"account_id":17773763,"reputation":1154,"user_id":12906648,"display_name":"Maxwell D. Dorliea"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"accepted_answer_id":70580176,"answer_count":2,"score":-4,"last_activity_date":1645573660,"creation_date":1641305722,"question_id":70580138,"body_markdown":"I am trying to solve a problem with leetcode label **Compliment of Base 10 Integer**. By theory, if you **Exclusive OR(XOR) One(1)** with any number you will get the compliment of that number. For example, if you XOR (111) With 5(101) you will get 2(010)\r\n\r\n**Note: Assuming that the input is 10. It is returning 11 instead of 5**\r\n\r\n[This is the link to the question that I am trying to solve][1]\r\n\r\n\r\n**This is what I wrote**\r\n \r\n    class Solution {\r\n    public int bitwiseComplement(int n) {\r\n        return (n^1);\r\n    }\r\n}\r\n\r\n\r\n  [1]: https://leetcode.com/problems/complement-of-base-10-integer/","title":"Why my function is returning 11 instead of 5?","body":"<p>I am trying to solve a problem with leetcode label <strong>Compliment of Base 10 Integer</strong>. By theory, if you <strong>Exclusive OR(XOR) One(1)</strong> with any number you will get the compliment of that number. For example, if you XOR (111) With 5(101) you will get 2(010)</p>\n<p><strong>Note: Assuming that the input is 10. It is returning 11 instead of 5</strong></p>\n<p><a href=\"https://leetcode.com/problems/complement-of-base-10-integer/\" rel=\"nofollow noreferrer\">This is the link to the question that I am trying to solve</a></p>\n<p><strong>This is what I wrote</strong></p>\n<pre><code>class Solution {\npublic int bitwiseComplement(int n) {\n    return (n^1);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring-boot","mockito"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1645569153,"post_id":71229016,"comment_id":125905692,"body_markdown":"Perhaps the test needs to prepare `jdbcTemplate` to return the created order, .e.g, `when(jdbcTemplate..execute(...)..thenReturn(anOrder);`","body":"Perhaps the test needs to prepare <code>jdbcTemplate</code> to return the created order, .e.g, <code>when(jdbcTemplate..execute(...)..thenReturn(anOrder);</code>"}],"answers":[{"tags":[],"owner":{"account_id":23620375,"reputation":32,"user_id":17653766,"display_name":"Nalbert Wattam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645573004,"creation_date":1645573004,"answer_id":71229634,"question_id":71229016,"body_markdown":"Mockito it&#39;s used when you wanna test something and assume that it&#39;s requirements don&#39;t need to be tested. For example, you wanna test a controller class but not the service class, so ou mock the service class to kinda &quot;pretend&quot; that&#39;s already working. In your case you don&#39;t want to mock anything, you really need to test the service functionalities, so the correct code would be something like this:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    public class GetOrderServiceTest {\r\n    \r\n        @Autowired\r\n        private OrderServiceImpl orderServiceImpl;\r\n    \r\n        private Order createOrder(int id, String ticker, double price, int quantity, String direction, String date){\r\n    \r\n            Order order = new Order();\r\n            order.setOrderId(id);\r\n            order.setTicker(ticker);\r\n            order.setPrice(price);\r\n            order.setQuantity(quantity);\r\n            order.setDirection(direction);\r\n            order.setOrderDate(LocalDate.parse(date));\r\n    \r\n            return order;\r\n        }\r\n    \r\n        @Test\r\n        void shouldInsert() {\r\n    \r\n            Order expected = createOrder(1, &quot;Ticker&quot;, 1.0, 1, &quot;Direction&quot;, &quot;1111-11-11&quot;);\r\n    \r\n            Order actual = orderServiceImpl.processOrder(expected);\r\n    \r\n            assertEquals(expected, actual);\r\n            assertEquals(expected.getId(), actual.getId());\r\n            assertEquals(expected.getTicker(), actual.getTicker());\r\n            assertEquals(expected.getPrice(), actual.getPrice());\r\n            assertEquals(expected.getQuantity(), actual.getQuantity());\r\n            assertEquals(expected.getDirection(), actual.getDirection());\r\n            assertEquals(expected.getDate(), actual.getDate());\r\n        }\r\n    }\r\n\r\nYou can set every attribute of your orders on every single test method, but I recommend you to use the **createOrder()** to make your life easier.","title":"Springboot test Insert Jdbc","body":"<p>Mockito it's used when you wanna test something and assume that it's requirements don't need to be tested. For example, you wanna test a controller class but not the service class, so ou mock the service class to kinda &quot;pretend&quot; that's already working. In your case you don't want to mock anything, you really need to test the service functionalities, so the correct code would be something like this:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class GetOrderServiceTest {\n\n    @Autowired\n    private OrderServiceImpl orderServiceImpl;\n\n    private Order createOrder(int id, String ticker, double price, int quantity, String direction, String date){\n\n        Order order = new Order();\n        order.setOrderId(id);\n        order.setTicker(ticker);\n        order.setPrice(price);\n        order.setQuantity(quantity);\n        order.setDirection(direction);\n        order.setOrderDate(LocalDate.parse(date));\n\n        return order;\n    }\n\n    @Test\n    void shouldInsert() {\n\n        Order expected = createOrder(1, &quot;Ticker&quot;, 1.0, 1, &quot;Direction&quot;, &quot;1111-11-11&quot;);\n\n        Order actual = orderServiceImpl.processOrder(expected);\n\n        assertEquals(expected, actual);\n        assertEquals(expected.getId(), actual.getId());\n        assertEquals(expected.getTicker(), actual.getTicker());\n        assertEquals(expected.getPrice(), actual.getPrice());\n        assertEquals(expected.getQuantity(), actual.getQuantity());\n        assertEquals(expected.getDirection(), actual.getDirection());\n        assertEquals(expected.getDate(), actual.getDate());\n    }\n}\n</code></pre>\n<p>You can set every attribute of your orders on every single test method, but I recommend you to use the <strong>createOrder()</strong> to make your life easier.</p>\n"}],"owner":{"account_id":24346123,"reputation":13,"user_id":18282672,"display_name":"user18282672"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645573004,"creation_date":1645568340,"question_id":71229016,"body_markdown":"*I am new to Mockito, and trying to understand the concept.\r\n\r\nTrying to unit test inserting new record to db using jdbc. \r\n\r\nHere is my service; OrderServiceImpl\r\n\r\n```\r\npackage com.ordermanager.service;\r\n\r\nimport com.ordermanager.models.Order;\r\nimport com.ordermanager.models.OrderRowMapper;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.dao.DataAccessException;\r\nimport org.springframework.dao.EmptyResultDataAccessException;\r\nimport org.springframework.jdbc.core.JdbcTemplate;\r\nimport org.springframework.jdbc.core.PreparedStatementCallback;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.SQLException;\r\n\r\n@Service\r\npublic class OrderServiceImpl implements OrderService{\r\n\r\n    @Autowired\r\n    JdbcTemplate jdbcTemplate;\r\n\r\n\r\n\r\n    @Override\r\n    public String validateFields(Order order) {\r\n        String err = &quot;&quot;;\r\n\r\n        if(order.getTicker() == null)\r\n            err = &quot;Ticker is blank. &quot;;\r\n        if(order.getOrderDate() == null)\r\n            err += &quot;OrderDate is blank. &quot;;\r\n        if(order.getQuantity() &lt;= 0)\r\n            err += &quot;Quantity is invalid. &quot;;\r\n        if(order.getPrice() &lt;= 0)\r\n            err += &quot;Price is invalid. &quot;;\r\n        if(order.getDirection() == null)\r\n            err += &quot;Direction is blank. &quot;;\r\n\r\n        if(!(order.getDirection().toLowerCase().equals(&quot;buy&quot;) || order.getDirection().toLowerCase().equals(&quot;sell&quot;))) {\r\n            err += &quot;Direction must be either &#39;buy&#39; or &#39;sell&#39;. &quot;;\r\n        }\r\n\r\n        return err;\r\n    }\r\n\r\n    @Override\r\n    public Order getById(int orderId) {\r\n\r\n        String sql = &quot;Select OrderId, Ticker, OrderDate, Quantity, Price, Direction from Orders WHERE orderID =?&quot;;\r\n\r\n        try{\r\n            return (Order) this.jdbcTemplate.queryForObject(sql,new Object[] {orderId}, new OrderRowMapper());\r\n        }\r\n        catch (EmptyResultDataAccessException ex) {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public Order processOrder(Order order) {\r\n        String sql = &quot;INSERT INTO `OrderManagement`.`Orders` (`Ticker`,`OrderDate`, `Price`, `Quantity`, `Direction`) VALUES (?,?,?,?,?)&quot;;\r\n        return jdbcTemplate.execute(sql, new PreparedStatementCallback&lt;Order&gt;() {\r\n            @Override\r\n            public Order doInPreparedStatement(PreparedStatement ps) throws SQLException, DataAccessException {\r\n\r\n                ps.setString(1,order.getTicker());\r\n                ps.setDate(2, new java.sql.Date(order.getOrderDate().getTime()));\r\n                ps.setFloat(3,order.getPrice());\r\n                ps.setInt(4,order.getQuantity());\r\n                ps.setString(5,order.getDirection());\r\n\r\n                ps.execute();\r\n\r\n                return order;\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nHere is my Test\r\n```\r\npackage com.ordermanager.unit.service;\r\n\r\nimport com.ordermanager.controller.OrderController;\r\nimport com.ordermanager.models.Order;\r\nimport com.ordermanager.service.OrderService;\r\nimport com.ordermanager.service.OrderServiceImpl;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.Mock;\r\nimport org.mockito.MockitoAnnotations;\r\nimport org.mockito.junit.MockitoJUnitRunner;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.jdbc.core.JdbcTemplate;\r\n\r\nimport java.sql.Date;\r\nimport java.time.LocalDate;\r\n\r\nimport static org.hamcrest.CoreMatchers.equalTo;\r\nimport static org.hamcrest.MatcherAssert.assertThat;\r\n\r\n@RunWith(MockitoJUnitRunner.class)\r\n@SpringBootTest\r\npublic class GetOrderServiceTest {\r\n\r\n\r\n    @Mock\r\n    JdbcTemplate jdbcTemplate;\r\n\r\n    @InjectMocks\r\n    private OrderServiceImpl orderServiceImpl;\r\n\r\n\r\n    @Test\r\n    public void testInsert(){\r\n\r\n        Order order = new Order();\r\n        order.setOrderId(1);\r\n        order.setTicker(&quot;MSFT&quot;);\r\n        order.setPrice(100);\r\n        order.setQuantity(3);\r\n        order.setDirection(&quot;buy&quot;);\r\n        LocalDate myDate =LocalDate.parse(&quot;2014-02-14&quot;);\r\n        order.setOrderDate(Date.valueOf(myDate));\r\n\r\n\r\n        Order created = orderServiceImpl.processOrder(order);\r\n\r\n        assertThat(created.getOrderId() ,equalTo( order.getOrderId()));\r\n    }\r\n}\r\n```\r\n\r\nerror message I am receiving; \r\n\r\nCannot invoke &quot;com.ordermanager.models.Order.getOrderId()&quot; because &quot;created&quot; is null\r\njava.lang.NullPointerException: Cannot invoke &quot;com.ordermanager.models.Order.getOrderId()&quot; because &quot;created&quot; is null\r\n\r\n\r\n\r\n","title":"Springboot test Insert Jdbc","body":"<p>*I am new to Mockito, and trying to understand the concept.</p>\n<p>Trying to unit test inserting new record to db using jdbc.</p>\n<p>Here is my service; OrderServiceImpl</p>\n<pre><code>package com.ordermanager.service;\n\nimport com.ordermanager.models.Order;\nimport com.ordermanager.models.OrderRowMapper;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.dao.DataAccessException;\nimport org.springframework.dao.EmptyResultDataAccessException;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.jdbc.core.PreparedStatementCallback;\nimport org.springframework.stereotype.Service;\n\nimport java.sql.PreparedStatement;\nimport java.sql.SQLException;\n\n@Service\npublic class OrderServiceImpl implements OrderService{\n\n    @Autowired\n    JdbcTemplate jdbcTemplate;\n\n\n\n    @Override\n    public String validateFields(Order order) {\n        String err = &quot;&quot;;\n\n        if(order.getTicker() == null)\n            err = &quot;Ticker is blank. &quot;;\n        if(order.getOrderDate() == null)\n            err += &quot;OrderDate is blank. &quot;;\n        if(order.getQuantity() &lt;= 0)\n            err += &quot;Quantity is invalid. &quot;;\n        if(order.getPrice() &lt;= 0)\n            err += &quot;Price is invalid. &quot;;\n        if(order.getDirection() == null)\n            err += &quot;Direction is blank. &quot;;\n\n        if(!(order.getDirection().toLowerCase().equals(&quot;buy&quot;) || order.getDirection().toLowerCase().equals(&quot;sell&quot;))) {\n            err += &quot;Direction must be either 'buy' or 'sell'. &quot;;\n        }\n\n        return err;\n    }\n\n    @Override\n    public Order getById(int orderId) {\n\n        String sql = &quot;Select OrderId, Ticker, OrderDate, Quantity, Price, Direction from Orders WHERE orderID =?&quot;;\n\n        try{\n            return (Order) this.jdbcTemplate.queryForObject(sql,new Object[] {orderId}, new OrderRowMapper());\n        }\n        catch (EmptyResultDataAccessException ex) {\n            return null;\n        }\n    }\n\n    @Override\n    public Order processOrder(Order order) {\n        String sql = &quot;INSERT INTO `OrderManagement`.`Orders` (`Ticker`,`OrderDate`, `Price`, `Quantity`, `Direction`) VALUES (?,?,?,?,?)&quot;;\n        return jdbcTemplate.execute(sql, new PreparedStatementCallback&lt;Order&gt;() {\n            @Override\n            public Order doInPreparedStatement(PreparedStatement ps) throws SQLException, DataAccessException {\n\n                ps.setString(1,order.getTicker());\n                ps.setDate(2, new java.sql.Date(order.getOrderDate().getTime()));\n                ps.setFloat(3,order.getPrice());\n                ps.setInt(4,order.getQuantity());\n                ps.setString(5,order.getDirection());\n\n                ps.execute();\n\n                return order;\n            }\n        });\n\n\n    }\n}\n</code></pre>\n<p>Here is my Test</p>\n<pre><code>package com.ordermanager.unit.service;\n\nimport com.ordermanager.controller.OrderController;\nimport com.ordermanager.models.Order;\nimport com.ordermanager.service.OrderService;\nimport com.ordermanager.service.OrderServiceImpl;\nimport org.junit.jupiter.api.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.MockitoAnnotations;\nimport org.mockito.junit.MockitoJUnitRunner;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.jdbc.core.JdbcTemplate;\n\nimport java.sql.Date;\nimport java.time.LocalDate;\n\nimport static org.hamcrest.CoreMatchers.equalTo;\nimport static org.hamcrest.MatcherAssert.assertThat;\n\n@RunWith(MockitoJUnitRunner.class)\n@SpringBootTest\npublic class GetOrderServiceTest {\n\n\n    @Mock\n    JdbcTemplate jdbcTemplate;\n\n    @InjectMocks\n    private OrderServiceImpl orderServiceImpl;\n\n\n    @Test\n    public void testInsert(){\n\n        Order order = new Order();\n        order.setOrderId(1);\n        order.setTicker(&quot;MSFT&quot;);\n        order.setPrice(100);\n        order.setQuantity(3);\n        order.setDirection(&quot;buy&quot;);\n        LocalDate myDate =LocalDate.parse(&quot;2014-02-14&quot;);\n        order.setOrderDate(Date.valueOf(myDate));\n\n\n        Order created = orderServiceImpl.processOrder(order);\n\n        assertThat(created.getOrderId() ,equalTo( order.getOrderId()));\n    }\n}\n</code></pre>\n<p>error message I am receiving;</p>\n<p>Cannot invoke &quot;com.ordermanager.models.Order.getOrderId()&quot; because &quot;created&quot; is null\njava.lang.NullPointerException: Cannot invoke &quot;com.ordermanager.models.Order.getOrderId()&quot; because &quot;created&quot; is null</p>\n"},{"tags":["java","windows","shell","gradle","command-line"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1645557842,"post_id":71227075,"comment_id":125902010,"body_markdown":"What is the directory the gradle project is located under? Is it in `C:`?","body":"What is the directory the gradle project is located under? Is it in <code>C:</code>?"},{"owner":{"account_id":21736352,"reputation":439,"user_id":16044298,"display_name":"Bradford Griggs"},"score":0,"creation_date":1645558070,"post_id":71227075,"comment_id":125902087,"body_markdown":"@dan1st Thanks for your reply. `JPostal` (which is the project I&#39;m trying to build) is located under the directory: `C:\\x\\Program Files\\JPostal` (`x` is being used as a placeholder for a custom folder name). The actual `.gradle` installation is under: `C:\\Users\\xyz\\.gradle`","body":"@dan1st Thanks for your reply. <code>JPostal</code> (which is the project I&#39;m trying to build) is located under the directory: <code>C:\\x\\Program Files\\JPostal</code> (<code>x</code> is being used as a placeholder for a custom folder name). The actual <code>.gradle</code> installation is under: <code>C:\\Users\\xyz\\.gradle</code>"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1645558124,"post_id":71227075,"comment_id":125902105,"body_markdown":"Maybe try building it in a folder without spaces.","body":"Maybe try building it in a folder without spaces."},{"owner":{"account_id":21736352,"reputation":439,"user_id":16044298,"display_name":"Bradford Griggs"},"score":0,"creation_date":1645568637,"post_id":71227075,"comment_id":125905538,"body_markdown":"@dan1st Thanks for your suggestion. As per your suggestion, I tried changing `Program Files` to `ProgramFiles` (removed the space) but I still get the same error.","body":"@dan1st Thanks for your suggestion. As per your suggestion, I tried changing <code>Program Files</code> to <code>ProgramFiles</code> (removed the space) but I still get the same error."},{"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"score":0,"creation_date":1645569813,"post_id":71227075,"comment_id":125905899,"body_markdown":"The link you posted is a link to the screenshot. Is there a link to the directions you are following that was meant to be that link?","body":"The link you posted is a link to the screenshot. Is there a link to the directions you are following that was meant to be that link?"},{"owner":{"account_id":21736352,"reputation":439,"user_id":16044298,"display_name":"Bradford Griggs"},"score":0,"creation_date":1645569948,"post_id":71227075,"comment_id":125905930,"body_markdown":"@FranciscoMateo Oops, my mistake. I intended to post the link to the directions. I&#39;m updating the post [with the correct link](https://github.com/openvenues/jpostal#building-jpostal).","body":"@FranciscoMateo Oops, my mistake. I intended to post the link to the directions. I&#39;m updating the post <a href=\"https://github.com/openvenues/jpostal#building-jpostal\" rel=\"nofollow noreferrer\">with the correct link</a>."},{"owner":{"account_id":21736352,"reputation":439,"user_id":16044298,"display_name":"Bradford Griggs"},"score":0,"creation_date":1645570988,"post_id":71227075,"comment_id":125906186,"body_markdown":"For information purposes, I had previously ran into [the issue raised here](https://github.com/openvenues/jpostal/issues/37) and solved it by changing `commandLine ./build.sh` to `commandLine sh./build.sh` [as suggested in above thread](https://github.com/openvenues/jpostal/issues/37#issuecomment-572235426) - not sure if this matters but thought I&#39;ll share just in case","body":"For information purposes, I had previously ran into <a href=\"https://github.com/openvenues/jpostal/issues/37\" rel=\"nofollow noreferrer\">the issue raised here</a> and solved it by changing <code>commandLine .&#47;build.sh</code> to <code>commandLine sh.&#47;build.sh</code> <a href=\"https://github.com/openvenues/jpostal/issues/37#issuecomment-572235426\" rel=\"nofollow noreferrer\">as suggested in above thread</a> - not sure if this matters but thought I&#39;ll share just in case"}],"answers":[{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645572080,"creation_date":1645571516,"answer_id":71229451,"question_id":71227075,"body_markdown":"Despite these are supported, but paths with spaces generally tend to be problematic on Linux.&lt;br/&gt;\r\nEven without the `build.gradle`, the path is obviously wrong; this likely needs to be escaped:\r\n\r\n    &quot;C:\\\\x\\\\Program\\ Files\\\\Msys64\\\\usr\\\\share\\\\aclocal&quot;\r\n\r\nWhere `\\\\` gives `\\` and `\\ ` gives ` `.\r\n\r\n ---\r\n\r\nTo use `${File.separator}` would be the alternate cross-platform approach.\r\n\r\nThis would give `\\` on Windows and `/` on Linux.","title":"./gradlew assemble fails due to missing file when the file clearly exists","body":"<p>Despite these are supported, but paths with spaces generally tend to be problematic on Linux.<br/>\nEven without the <code>build.gradle</code>, the path is obviously wrong; this likely needs to be escaped:</p>\n<pre><code>&quot;C:\\\\x\\\\Program\\ Files\\\\Msys64\\\\usr\\\\share\\\\aclocal&quot;\n</code></pre>\n<p>Where <code>\\\\</code> gives <code>\\</code> and <code>\\ </code> gives <code> </code>.</p>\n<hr />\n<p>To use <code>${File.separator}</code> would be the alternate cross-platform approach.</p>\n<p>This would give <code>\\</code> on Windows and <code>/</code> on Linux.</p>\n"}],"owner":{"account_id":21736352,"reputation":439,"user_id":16044298,"display_name":"Bradford Griggs"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71229451,"answer_count":1,"score":3,"last_activity_date":1645572080,"creation_date":1645557206,"question_id":71227075,"body_markdown":"I&#39;m trying to [build JPostal as described in this link][1] using the following command:\r\n\r\n    ./gradlew assemble\r\n\r\n\r\nHowever, the command produces the following output claiming the file `C:\\x\\Program Files\\Msys64\\usr\\share` does not exist **when it clearly does**:\r\n\r\n\r\n    $ ./gradlew assemble\r\n    \r\n    :buildJniLibaclocal-1.16: error: aclocal: file &#39;/x/Program Files/Msys64/usr/share/aclocal/tcl-tea.m4&#39; does not exist\r\n    autoreconf-2.71: error: aclocal failed with exit status: 1\r\n    configure: WARNING: you should use --build, --host, --target\r\n    configure: WARNING: invalid host type: Files/JPostal/src/main/jniLibs\r\n    configure: error: cannot find required auxiliary files: compile config.guess config.sub ltmain.sh missing install-sh\r\n    make: *** No rule to make target &#39;install&#39;.  Stop.\r\n     FAILED\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:buildJniLib&#39;.\r\n    &gt; Process &#39;command &#39;sh&#39;&#39; finished with non-zero exit value 2\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\r\n    \r\n    BUILD FAILED\r\n    \r\n    Total time: 5.844 secs\r\n\r\n\r\nI can clearly see a file named `tcl-tea.m4` in the directory: `C:\\x\\Program Files\\Msys64\\usr\\share\\aclocal`\r\n\r\nSee the **screenshot** below:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nIf the file clearly exists, why am I getting this error? Why is the file being discriminated against?\r\n\r\n\r\n  [1]: https://github.com/openvenues/jpostal#building-jpostal\r\n  [2]: https://i.stack.imgur.com/nF3eN.jpg\r\n","title":"./gradlew assemble fails due to missing file when the file clearly exists","body":"<p>I'm trying to <a href=\"https://github.com/openvenues/jpostal#building-jpostal\" rel=\"nofollow noreferrer\">build JPostal as described in this link</a> using the following command:</p>\n<pre><code>./gradlew assemble\n</code></pre>\n<p>However, the command produces the following output claiming the file <code>C:\\x\\Program Files\\Msys64\\usr\\share</code> does not exist <strong>when it clearly does</strong>:</p>\n<pre><code>$ ./gradlew assemble\n\n:buildJniLibaclocal-1.16: error: aclocal: file '/x/Program Files/Msys64/usr/share/aclocal/tcl-tea.m4' does not exist\nautoreconf-2.71: error: aclocal failed with exit status: 1\nconfigure: WARNING: you should use --build, --host, --target\nconfigure: WARNING: invalid host type: Files/JPostal/src/main/jniLibs\nconfigure: error: cannot find required auxiliary files: compile config.guess config.sub ltmain.sh missing install-sh\nmake: *** No rule to make target 'install'.  Stop.\n FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':buildJniLib'.\n&gt; Process 'command 'sh'' finished with non-zero exit value 2\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n\nBUILD FAILED\n\nTotal time: 5.844 secs\n</code></pre>\n<p>I can clearly see a file named <code>tcl-tea.m4</code> in the directory: <code>C:\\x\\Program Files\\Msys64\\usr\\share\\aclocal</code></p>\n<p>See the <strong>screenshot</strong> below:</p>\n<p><a href=\"https://i.stack.imgur.com/nF3eN.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nF3eN.jpg\" alt=\"enter image description here\" /></a></p>\n<p>If the file clearly exists, why am I getting this error? Why is the file being discriminated against?</p>\n"},{"tags":["java","android","kotlin","android-progressbar","android-storage"],"answers":[{"tags":[],"owner":{"account_id":951026,"reputation":5933,"user_id":977177,"display_name":"slkorolev"},"down_vote_count":0,"up_vote_count":268,"is_accepted":true,"score":268,"last_activity_date":1517768812,"creation_date":1319660657,"answer_id":7908446,"question_id":7908193,"body_markdown":"For your first question try \r\n  \r\n  \r\n\r\n    Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS); \r\n\r\n(available since API 8)\r\n\r\nTo access individual files in this directory use either [File.list()](http://developer.android.com/reference/java/io/File.html#list()) or [File.listFiles()](http://developer.android.com/reference/java/io/File.html#listFiles()).\r\nSeems that reporting download progress is only possible in notification, see [here](https://stackoverflow.com/questions/2689729/progress-bar-in-notification-bar).","title":"how to access downloads folder in android?","body":"<p>For your first question try </p>\n\n<pre><code>Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS); \n</code></pre>\n\n<p>(available since API 8)</p>\n\n<p>To access individual files in this directory use either <a href=\"http://developer.android.com/reference/java/io/File.html#list()\" rel=\"noreferrer\">File.list()</a> or <a href=\"http://developer.android.com/reference/java/io/File.html#listFiles()\" rel=\"noreferrer\">File.listFiles()</a>.\nSeems that reporting download progress is only possible in notification, see <a href=\"https://stackoverflow.com/questions/2689729/progress-bar-in-notification-bar\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":1194714,"reputation":261,"user_id":1166678,"display_name":"mac"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1328974570,"creation_date":1328966429,"answer_id":9240542,"question_id":7908193,"body_markdown":"You need to set this permission in your manifest.xml file\r\n  \r\n\r\n    android.permission.WRITE_EXTERNAL_STORAGE\r\n\r\n","title":"how to access downloads folder in android?","body":"<p>You need to set this permission in your manifest.xml file</p>\n\n<pre><code>android.permission.WRITE_EXTERNAL_STORAGE\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1310971,"reputation":1348,"user_id":1258982,"display_name":"Mark Lu"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1469522557,"creation_date":1469484296,"answer_id":38578137,"question_id":7908193,"body_markdown":"If you are using Marshmallow, you have to either:\r\n\r\n1. [Request permissions][1] at runtime (the user will get to allow or deny the request) or:\r\n2. The user must go into *Settings -&gt; Apps -&gt; {Your App} -&gt; Permissions* and \r\n[grant storage access][2].\r\n\r\nThis is because in Marshmallow, Google completely revamped how permissions work.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/support/v4/app/ActivityCompat.html#requestPermissions(android.app.Activity,%20java.lang.String[],%20int)\r\n  [2]: https://i.stack.imgur.com/9Y7c7.png","title":"how to access downloads folder in android?","body":"<p>If you are using Marshmallow, you have to either:</p>\n\n<ol>\n<li><a href=\"https://developer.android.com/reference/android/support/v4/app/ActivityCompat.html#requestPermissions(android.app.Activity,%20java.lang.String[],%20int)\" rel=\"noreferrer\">Request permissions</a> at runtime (the user will get to allow or deny the request) or:</li>\n<li>The user must go into <em>Settings -> Apps -> {Your App} -> Permissions</em> and \n<a href=\"https://i.stack.imgur.com/9Y7c7.png\" rel=\"noreferrer\">grant storage access</a>.</li>\n</ol>\n\n<p>This is because in Marshmallow, Google completely revamped how permissions work.</p>\n"},{"tags":[],"owner":{"display_name":"user3064538"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1563328576,"creation_date":1563328576,"answer_id":57067519,"question_id":7908193,"body_markdown":"If you&#39;re using a shell, the filepath to the Download (no &quot;s&quot;) folder is\r\n\r\n    /storage/emulated/0/Download\r\n","title":"how to access downloads folder in android?","body":"<p>If you're using a shell, the filepath to the Download (no \"s\") folder is</p>\n\n<pre><code>/storage/emulated/0/Download\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7837986,"reputation":42767,"user_id":5925259,"accept_rate":100,"display_name":"Yogesh Umesh Vaity"},"down_vote_count":3,"up_vote_count":43,"is_accepted":false,"score":40,"last_activity_date":1622202333,"creation_date":1572126951,"answer_id":58575031,"question_id":7908193,"body_markdown":"Updated\r\n-------\r\n`getExternalStoragePublicDirectory()` is **deprecated**.\r\n\r\nTo get the download folder from a `Fragment`, \r\n\r\n    val downloadFolder = requireContext().getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS)\r\n\r\nFrom an `Activity`,\r\n\r\n    val downloadFolder = getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS)\r\n\r\n`downloadFolder.listFiles()` will list the `File`s.\r\n\r\n`downloadFolder?.path` will give you the String path of the download folder.\r\n\r\nUpdate:\r\n\r\nThe Direct filesystem access to storage has become limited in recent versions of Android.\r\n\r\n`context.getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS)` gives you the directory `/emulated/0/Android/data/{package}/files/Download`. If you want to have the public downloads folder, look into the Storage Access Framework of Android documentation.","title":"how to access downloads folder in android?","body":"<h2>Updated</h2>\n<p><code>getExternalStoragePublicDirectory()</code> is <strong>deprecated</strong>.</p>\n<p>To get the download folder from a <code>Fragment</code>,</p>\n<pre><code>val downloadFolder = requireContext().getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS)\n</code></pre>\n<p>From an <code>Activity</code>,</p>\n<pre><code>val downloadFolder = getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS)\n</code></pre>\n<p><code>downloadFolder.listFiles()</code> will list the <code>File</code>s.</p>\n<p><code>downloadFolder?.path</code> will give you the String path of the download folder.</p>\n<p>Update:</p>\n<p>The Direct filesystem access to storage has become limited in recent versions of Android.</p>\n<p><code>context.getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS)</code> gives you the directory <code>/emulated/0/Android/data/{package}/files/Download</code>. If you want to have the public downloads folder, look into the Storage Access Framework of Android documentation.</p>\n"},{"tags":[],"owner":{"account_id":2166313,"reputation":2054,"user_id":3825816,"display_name":"Yvgen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1590759172,"creation_date":1590759172,"answer_id":62087191,"question_id":7908193,"body_markdown":"You should add next permission:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\nAnd then here is usages in code:\r\n\r\n    val externalFilesDir = context.getExternalFilesDir(DIRECTORY_DOWNLOADS)\r\n\r\n","title":"how to access downloads folder in android?","body":"<p>You should add next permission:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n</code></pre>\n\n<p>And then here is usages in code:</p>\n\n<pre><code>val externalFilesDir = context.getExternalFilesDir(DIRECTORY_DOWNLOADS)\n</code></pre>\n"}],"owner":{"account_id":470160,"reputation":1688,"user_id":877202,"accept_rate":66,"display_name":"Dhruv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236599,"favorite_count":0,"down_vote_count":0,"up_vote_count":106,"accepted_answer_id":7908446,"answer_count":6,"score":106,"last_activity_date":1645571977,"creation_date":1319659337,"question_id":7908193,"body_markdown":"I am new android, i&#39;m making an app in which one can download files to downloads folder (using Download Manager). I can see pictures if i go to downloads folder in emulator. So if i want to show a slideshow of downloaded files how can i get the access to that folder? Secondly how to add progress bar to this code:--\r\n\r\n    import java.util.Arrays;\r\n    \r\n    import android.app.Activity;\r\n    import android.app.DownloadManager;\r\n    import android.app.DownloadManager.Query;\r\n    import android.app.DownloadManager.Request;\r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.content.IntentFilter;\r\n    import android.database.Cursor;\r\n    import android.net.Uri;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.ImageView;\r\n    \r\n    public class Download_managerActivity extends Activity {\r\n    \t private long quueue_for_url;\r\n    \t  \r\n    \t private DownloadManager dm;\r\n    \t \r\n    \t    /** Called when the activity is first created. */\r\n    \t    @Override\r\n    \t    public void onCreate(Bundle savedInstanceState) {\r\n    \t        super.onCreate(savedInstanceState);\r\n    \t        setContentView(R.layout.main);\r\n    \t \r\n    \t        BroadcastReceiver receiver = new BroadcastReceiver() {\r\n    \t            @Override\r\n    \t            public void onReceive(Context context, Intent intent) {\r\n    \t                String action = intent.getAction();\r\n    \t               \r\n    \t                if (DownloadManager.ACTION_DOWNLOAD_COMPLETE.equals(action)) {\r\n    \t                    long downloadId = intent.getLongExtra(\r\n    \t                            DownloadManager.EXTRA_DOWNLOAD_ID, 0);\r\n    \t                    Query query = new Query();\r\n    \t                    query.setFilterById(quueue_for_url);\r\n    \t                    Cursor c = dm.query(query);\r\n    \t                    if (c.moveToFirst()) {\r\n    \t                        int columnIndex = c\r\n    \t                                .getColumnIndex(DownloadManager.COLUMN_STATUS);\r\n    \t                        if (DownloadManager.STATUS_SUCCESSFUL == c\r\n    \t                                .getInt(columnIndex)) {\r\n    \t                        \r\n    \t                            ImageView view = (ImageView) findViewById(R.id.imageView1);\r\n    \t                            String uri_String_abcd = c\r\n    \t                                    .getString(c\r\n    \t                                            .getColumnIndex(DownloadManager.COLUMN_LOCAL_URI));\r\n    \t                            view.setImageURI(Uri.parse(uri_String_abcd));\r\n    \t                            \r\n    \t                        }\r\n    \t                    }\r\n    \t                }\r\n    \t            }\r\n    \t        };\r\n    \t \r\n    \t        registerReceiver(receiver, new IntentFilter(\r\n    \t                DownloadManager.ACTION_DOWNLOAD_COMPLETE));\r\n    \t    }\r\n    \t \r\n    \t    public void onClick(View view) {\r\n    \t        dm = (DownloadManager) getSystemService(DOWNLOAD_SERVICE);\r\n    \t \r\n    \t        Request request_for_url = new Request(\r\n    \t                Uri.parse(&quot;http://fc03.deviantart.net/fs14/i/2007/086/9/1/Steve_Jobs_portrait_by_tumb.jpg&quot;));\r\n    \t        \r\n    \t        Request request_for_url1 = new Request(\r\n    \t                Uri.parse(&quot;http://2.bp.blogspot.com/_q7Rxg4wqDyc/S5ZRVLxVYuI/AAAAAAAAAvU/fQAUZ2XFcp8/s400/katrina-kaif.jpg&quot;));\r\n    \t        Request request_for_url2 = new Request(\r\n    \t                Uri.parse(&quot;http://www.buzzreactor.com/sites/default/files/Bill-Gates1.jpg&quot;));\r\n    \t        \r\n    \t        quueue_for_url = dm.enqueue(request_for_url);\r\n    \t        quueue_for_url = dm.enqueue(request_for_url1);\r\n    \t        quueue_for_url = dm.enqueue(request_for_url2);\r\n    \t \r\n    \t    }\r\n    \t \r\n    \t    public void showDownload(View view) {\r\n    \t        Intent i = new Intent();\r\n    \t        //try more options to show downloading , retrieving and complete\r\n    \t        i.setAction(DownloadManager.ACTION_VIEW_DOWNLOADS);\r\n    \t        startActivity(i);\r\n    \t    }\r\n    \t}\r\n\r\nI want to add a button which performs the function of taking the pictures from downloads folder and then display like a slideshow.\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n          package=&quot;cmpe235.lab1&quot;\r\n          android:versionCode=&quot;1&quot;\r\n          android:versionName=&quot;1.0&quot;&gt;\r\n        &lt;uses-sdk android:minSdkVersion=&quot;9&quot; /&gt;\r\n    \r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;&gt;&lt;/uses-permission&gt;\r\n    \r\n        &lt;application android:icon=&quot;@drawable/icon&quot; android:label=&quot;@string/app_name&quot;&gt;\r\n            &lt;activity android:name=&quot;.Download_managerActivity&quot;\r\n                      android:label=&quot;@string/app_name&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n    \r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\n\r\nmain.xml:-\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:orientation=&quot;vertical&quot; android:layout_width=&quot;fill_parent&quot;\r\n        android:layout_height=&quot;fill_parent&quot;&gt;\r\n        \r\n        \r\n        &lt;Button android:text=&quot;Start Download&quot; android:id=&quot;@+id/button1&quot;\r\n            android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot;\r\n             android:layout_gravity=&quot;center_vertical|center_horizontal|center&quot; android:textColor=&quot;#0000A0&quot; \r\n             android:typeface=&quot;serif&quot; android:onClick=&quot;onClick&quot;&gt;&lt;/Button&gt;\r\n            \r\n        &lt;Button android:text=&quot;View Downloads&quot; android:id=&quot;@+id/button2&quot;\r\n            android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot;\r\n             android:layout_gravity=&quot;center_vertical|center_horizontal|center&quot; android:textColor=&quot;#0000A0&quot; \r\n             android:typeface=&quot;serif&quot; android:onClick=&quot;showDownload&quot;&gt;&lt;/Button&gt;\r\n            \r\n        &lt;ImageView android:layout_height=&quot;wrap_content&quot; android:id=&quot;@+id/imageView1&quot;\r\n            android:src=&quot;@drawable/icon&quot; android:layout_width=&quot;wrap_content&quot;&gt;&lt;/ImageView&gt;\r\n            \r\n    &lt;/LinearLayout&gt;","title":"how to access downloads folder in android?","body":"<p>I am new android, i'm making an app in which one can download files to downloads folder (using Download Manager). I can see pictures if i go to downloads folder in emulator. So if i want to show a slideshow of downloaded files how can i get the access to that folder? Secondly how to add progress bar to this code:--</p>\n\n<pre><code>import java.util.Arrays;\n\nimport android.app.Activity;\nimport android.app.DownloadManager;\nimport android.app.DownloadManager.Query;\nimport android.app.DownloadManager.Request;\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.IntentFilter;\nimport android.database.Cursor;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.ImageView;\n\npublic class Download_managerActivity extends Activity {\n     private long quueue_for_url;\n\n     private DownloadManager dm;\n\n        /** Called when the activity is first created. */\n        @Override\n        public void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.main);\n\n            BroadcastReceiver receiver = new BroadcastReceiver() {\n                @Override\n                public void onReceive(Context context, Intent intent) {\n                    String action = intent.getAction();\n\n                    if (DownloadManager.ACTION_DOWNLOAD_COMPLETE.equals(action)) {\n                        long downloadId = intent.getLongExtra(\n                                DownloadManager.EXTRA_DOWNLOAD_ID, 0);\n                        Query query = new Query();\n                        query.setFilterById(quueue_for_url);\n                        Cursor c = dm.query(query);\n                        if (c.moveToFirst()) {\n                            int columnIndex = c\n                                    .getColumnIndex(DownloadManager.COLUMN_STATUS);\n                            if (DownloadManager.STATUS_SUCCESSFUL == c\n                                    .getInt(columnIndex)) {\n\n                                ImageView view = (ImageView) findViewById(R.id.imageView1);\n                                String uri_String_abcd = c\n                                        .getString(c\n                                                .getColumnIndex(DownloadManager.COLUMN_LOCAL_URI));\n                                view.setImageURI(Uri.parse(uri_String_abcd));\n\n                            }\n                        }\n                    }\n                }\n            };\n\n            registerReceiver(receiver, new IntentFilter(\n                    DownloadManager.ACTION_DOWNLOAD_COMPLETE));\n        }\n\n        public void onClick(View view) {\n            dm = (DownloadManager) getSystemService(DOWNLOAD_SERVICE);\n\n            Request request_for_url = new Request(\n                    Uri.parse(\"http://fc03.deviantart.net/fs14/i/2007/086/9/1/Steve_Jobs_portrait_by_tumb.jpg\"));\n\n            Request request_for_url1 = new Request(\n                    Uri.parse(\"http://2.bp.blogspot.com/_q7Rxg4wqDyc/S5ZRVLxVYuI/AAAAAAAAAvU/fQAUZ2XFcp8/s400/katrina-kaif.jpg\"));\n            Request request_for_url2 = new Request(\n                    Uri.parse(\"http://www.buzzreactor.com/sites/default/files/Bill-Gates1.jpg\"));\n\n            quueue_for_url = dm.enqueue(request_for_url);\n            quueue_for_url = dm.enqueue(request_for_url1);\n            quueue_for_url = dm.enqueue(request_for_url2);\n\n        }\n\n        public void showDownload(View view) {\n            Intent i = new Intent();\n            //try more options to show downloading , retrieving and complete\n            i.setAction(DownloadManager.ACTION_VIEW_DOWNLOADS);\n            startActivity(i);\n        }\n    }\n</code></pre>\n\n<p>I want to add a button which performs the function of taking the pictures from downloads folder and then display like a slideshow.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n      package=\"cmpe235.lab1\"\n      android:versionCode=\"1\"\n      android:versionName=\"1.0\"&gt;\n    &lt;uses-sdk android:minSdkVersion=\"9\" /&gt;\n\n&lt;uses-permission android:name=\"android.permission.INTERNET\"&gt;&lt;/uses-permission&gt;\n\n    &lt;application android:icon=\"@drawable/icon\" android:label=\"@string/app_name\"&gt;\n        &lt;activity android:name=\".Download_managerActivity\"\n                  android:label=\"@string/app_name\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p>main.xml:-</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:orientation=\"vertical\" android:layout_width=\"fill_parent\"\n    android:layout_height=\"fill_parent\"&gt;\n\n\n    &lt;Button android:text=\"Start Download\" android:id=\"@+id/button1\"\n        android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\"\n         android:layout_gravity=\"center_vertical|center_horizontal|center\" android:textColor=\"#0000A0\" \n         android:typeface=\"serif\" android:onClick=\"onClick\"&gt;&lt;/Button&gt;\n\n    &lt;Button android:text=\"View Downloads\" android:id=\"@+id/button2\"\n        android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\"\n         android:layout_gravity=\"center_vertical|center_horizontal|center\" android:textColor=\"#0000A0\" \n         android:typeface=\"serif\" android:onClick=\"showDownload\"&gt;&lt;/Button&gt;\n\n    &lt;ImageView android:layout_height=\"wrap_content\" android:id=\"@+id/imageView1\"\n        android:src=\"@drawable/icon\" android:layout_width=\"wrap_content\"&gt;&lt;/ImageView&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1645528972,"post_id":71220301,"comment_id":125889898,"body_markdown":"Somehow, I can&#39;t think of any significantly better implementation, although you can get rid of `all`, and just add `afterX` to `beforeX` and return the latter (or the reverse of that).","body":"Somehow, I can&#39;t think of any significantly better implementation, although you can get rid of <code>all</code>, and just add <code>afterX</code> to <code>beforeX</code> and return the latter (or the reverse of that)."},{"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"score":1,"creation_date":1645532712,"post_id":71220301,"comment_id":125891259,"body_markdown":"A single iteration of the swapping part of [Quicksort](https://en.wikipedia.org/wiki/Quicksort), with `x` as your &quot;pivot&quot;, would solve the problem in linear time and constant memory.","body":"A single iteration of the swapping part of <a href=\"https://en.wikipedia.org/wiki/Quicksort\" rel=\"nofollow noreferrer\">Quicksort</a>, with <code>x</code> as your &quot;pivot&quot;, would solve the problem in linear time and constant memory."}],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645532309,"creation_date":1645530054,"answer_id":71220677,"question_id":71220301,"body_markdown":"The following way is very slightly more efficient because it adds the numbers straight into the resulting list in one go, instead of using intermediate lists:\r\n\r\n    public static List&lt;Integer&gt; divideListByX1(List&lt;Integer&gt; list, int x) {\r\n        Integer[] result = new Integer[list.size()];\r\n        int lowIndex = 0;\r\n        int highIndex = result.length - 1;\r\n        for (Integer n : list) {\r\n            if (n &lt; x)\r\n                result[lowIndex++] = n;\r\n            else\r\n                result[highIndex--] = n;\r\n        }\r\n        return Arrays.asList(result);\r\n    }\r\n\r\nThe downside with that is that the &quot;high numbers&quot; part is not in the original order of the input list, but I guess that&#39;s not important.\r\n\r\n\r\nAlso, here&#39;s a way to do it using Streams, but is probably not more efficient than your initial attempt:\r\n\r\n    public List&lt;Integer&gt; divideListByX1(List&lt;Integer&gt; list, int x) {\r\n        return list\r\n            .stream()\r\n            .collect(Collectors.partitioningBy(n -&gt; n &gt;= x))\r\n            .values()\r\n            .stream()\r\n            .flatMap(List::stream)\r\n            .toList();\r\n    }","title":"Given a list and a value of x, split it such that all items less than x came before items greater than or equal to x","body":"<p>The following way is very slightly more efficient because it adds the numbers straight into the resulting list in one go, instead of using intermediate lists:</p>\n<pre><code>public static List&lt;Integer&gt; divideListByX1(List&lt;Integer&gt; list, int x) {\n    Integer[] result = new Integer[list.size()];\n    int lowIndex = 0;\n    int highIndex = result.length - 1;\n    for (Integer n : list) {\n        if (n &lt; x)\n            result[lowIndex++] = n;\n        else\n            result[highIndex--] = n;\n    }\n    return Arrays.asList(result);\n}\n</code></pre>\n<p>The downside with that is that the &quot;high numbers&quot; part is not in the original order of the input list, but I guess that's not important.</p>\n<p>Also, here's a way to do it using Streams, but is probably not more efficient than your initial attempt:</p>\n<pre><code>public List&lt;Integer&gt; divideListByX1(List&lt;Integer&gt; list, int x) {\n    return list\n        .stream()\n        .collect(Collectors.partitioningBy(n -&gt; n &gt;= x))\n        .values()\n        .stream()\n        .flatMap(List::stream)\n        .toList();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645570923,"creation_date":1645544605,"answer_id":71224188,"question_id":71220301,"body_markdown":"This can be done in-place in linear time using the Pivot operation of Quicksort:\r\n\r\n    public static void pivot(List&lt;Integer&gt; list, int pivot) {\r\n        int left = 0;\r\n        int right = list.size() - 1;\r\n\r\n        while (left &lt; right) {\r\n            while (left &lt; list.size() &amp;&amp; list.get(left) &lt; pivot) {\r\n                left++;\r\n            }\r\n            while (right &gt;= 0 &amp;&amp; list.get(right) &gt;= pivot) {\r\n                right--;\r\n            }\r\n            if (left &lt; right)\r\n                Collections.swap(list, left++, right--);\r\n        }\r\n    }","title":"Given a list and a value of x, split it such that all items less than x came before items greater than or equal to x","body":"<p>This can be done in-place in linear time using the Pivot operation of Quicksort:</p>\n<pre><code>public static void pivot(List&lt;Integer&gt; list, int pivot) {\n    int left = 0;\n    int right = list.size() - 1;\n\n    while (left &lt; right) {\n        while (left &lt; list.size() &amp;&amp; list.get(left) &lt; pivot) {\n            left++;\n        }\n        while (right &gt;= 0 &amp;&amp; list.get(right) &gt;= pivot) {\n            right--;\n        }\n        if (left &lt; right)\n            Collections.swap(list, left++, right--);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23010547,"reputation":55,"user_id":17133127,"display_name":"Marco Cor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1645570923,"creation_date":1645528447,"question_id":71220301,"body_markdown":"I have a question. Is there a more efficient way to solve this issue? I made it like below but i created 3 new Lists.\r\n\r\n    public List&lt;Integer&gt; divideListByX1(List&lt;Integer&gt; list, int x) {\r\n        List&lt;Integer&gt; beforeX = new ArrayList&lt;&gt;();\r\n        List&lt;Integer&gt; afterX = new ArrayList&lt;&gt;();\r\n        List&lt;Integer&gt; all = new ArrayList&lt;&gt;();\r\n        for (Integer integer : list) {\r\n            boolean b = (integer &lt; x) ? beforeX.add(integer) : afterX.add(integer);\r\n        }\r\n        all.addAll(beforeX);\r\n        all.addAll(afterX);\r\n        return all;\r\n    }\r\n\r\nThanks for your help\r\n ","title":"Given a list and a value of x, split it such that all items less than x came before items greater than or equal to x","body":"<p>I have a question. Is there a more efficient way to solve this issue? I made it like below but i created 3 new Lists.</p>\n<pre><code>public List&lt;Integer&gt; divideListByX1(List&lt;Integer&gt; list, int x) {\n    List&lt;Integer&gt; beforeX = new ArrayList&lt;&gt;();\n    List&lt;Integer&gt; afterX = new ArrayList&lt;&gt;();\n    List&lt;Integer&gt; all = new ArrayList&lt;&gt;();\n    for (Integer integer : list) {\n        boolean b = (integer &lt; x) ? beforeX.add(integer) : afterX.add(integer);\n    }\n    all.addAll(beforeX);\n    all.addAll(afterX);\n    return all;\n}\n</code></pre>\n<p>Thanks for your help</p>\n"},{"tags":["java","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645570788,"creation_date":1645570788,"answer_id":71229365,"question_id":71228993,"body_markdown":"You need to [create a Run/Debug Configuration that includes an `args` array](https://code.visualstudio.com/docs/java/java-debugging#_launch)\r\n\r\nIt&#39;ll create a `.vscode/launch.json` file with at least this content \r\n\r\n```json\r\n{\r\n... \r\n&quot;type&quot;: &quot;java&quot;,\r\n&quot;mainClass&quot;: &quot;Sort_Three&quot;,\r\n&quot;args&quot;: [3, 1, 2]\r\n}\r\n```\r\n\r\n","title":"How to provide command line values to Java args within VS Code?","body":"<p>You need to <a href=\"https://code.visualstudio.com/docs/java/java-debugging#_launch\" rel=\"nofollow noreferrer\">create a Run/Debug Configuration that includes an <code>args</code> array</a></p>\n<p>It'll create a <code>.vscode/launch.json</code> file with at least this content</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n... \n&quot;type&quot;: &quot;java&quot;,\n&quot;mainClass&quot;: &quot;Sort_Three&quot;,\n&quot;args&quot;: [3, 1, 2]\n}\n</code></pre>\n"}],"owner":{"account_id":16812246,"reputation":3,"user_id":12154995,"display_name":"vbrnrt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":500,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71229365,"answer_count":1,"score":0,"last_activity_date":1645570788,"creation_date":1645568231,"question_id":71228993,"body_markdown":" I try to run a Java program within VS Code and keep on getting the following error due to not able to pass in values for args in main() by clicking the &quot;run java&quot; icon.\r\n\r\n```\r\n&#39;C:\\Program Files\\Java\\jdk-17\\bin\\java.exe&#39; &#39;--enable-preview&#39; &#39;-XX:+ShowCodeDetailsInExceptionMessages&#39; &#39;-cp&#39; &#39;C:\\Users\\llee\\AppData\\Roaming\\Code\\User\\workspaceStorage\\6a201af46b5315f239f3bba771ed2cc7\\redhat.java\\jdt_ws\\Lecture 1_b97312ef\\bin&#39; &#39;Sort_Three&#39; \r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 0 \r\nout of bounds for length 0\r\n        at Sort_Three.main(Sort_Three.java:3)\r\n```\r\n\r\n\r\nI understand that variable args is null and there is no value passed to the program. So, what should I do to pass values for VS Code by clicking on the &quot;run java&quot; icon?\r\n\r\nIf I run the program outside VS Code on a command line, the program works fine.\r\n\r\n```\r\nPS C:\\Users\\Desktop\\Exercises\\Lecture 1&gt; java Sort_Three 3 1 2\r\n1\r\n2\r\n3\r\n```\r\n\r\n","title":"How to provide command line values to Java args within VS Code?","body":"<p>I try to run a Java program within VS Code and keep on getting the following error due to not able to pass in values for args in main() by clicking the &quot;run java&quot; icon.</p>\n<pre><code>'C:\\Program Files\\Java\\jdk-17\\bin\\java.exe' '--enable-preview' '-XX:+ShowCodeDetailsInExceptionMessages' '-cp' 'C:\\Users\\llee\\AppData\\Roaming\\Code\\User\\workspaceStorage\\6a201af46b5315f239f3bba771ed2cc7\\redhat.java\\jdt_ws\\Lecture 1_b97312ef\\bin' 'Sort_Three' \nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 0 \nout of bounds for length 0\n        at Sort_Three.main(Sort_Three.java:3)\n</code></pre>\n<p>I understand that variable args is null and there is no value passed to the program. So, what should I do to pass values for VS Code by clicking on the &quot;run java&quot; icon?</p>\n<p>If I run the program outside VS Code on a command line, the program works fine.</p>\n<pre><code>PS C:\\Users\\Desktop\\Exercises\\Lecture 1&gt; java Sort_Three 3 1 2\n1\n2\n3\n</code></pre>\n"},{"tags":["java","openapi"],"owner":{"account_id":557241,"reputation":2186,"user_id":919610,"accept_rate":93,"display_name":"jussi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1645570525,"creation_date":1645570525,"question_id":71229336,"body_markdown":"I am using a generated OpenAPI Client for uploading a file (~190mb) to a service.\r\nWhen using the generated method, the code fails with an OutOfMemoryException.\r\n\r\nHow can I tell the OpenAPI Client to use a buffered reader/writer for the file? Is there another solution?\r\n\r\nLog:\r\n```2022-02-22 22:37:45.566  INFO 1 --- [  XNIO-1 task-3] okhttp3.OkHttpClient                     : --&gt; POST URL\r\n2022-02-22 22:37:45.569  INFO 1 --- [  XNIO-1 task-3] okhttp3.OkHttpClient                     : Content-Type: multipart/form-data; boundary=b75abfd1-9ae1-4c86-b69e-e444d341b051\r\n2022-02-22 22:37:45.570  INFO 1 --- [  XNIO-1 task-3] okhttp3.OkHttpClient                     : Content-Length: 193464281\r\n2022-02-22 22:37:45.570  INFO 1 --- [  XNIO-1 task-3] okhttp3.OkHttpClient                     : Authorization: Basic XXX\r\n2022-02-22 22:37:45.570  INFO 1 --- [  XNIO-1 task-3] okhttp3.OkHttpClient                     : Accept: application/json\r\n2022-02-22 22:37:45.571  INFO 1 --- [  XNIO-1 task-3] okhttp3.OkHttpClient                     : User-Agent: OpenAPI-Generator/0.0.13/java\r\n2022-02-22 22:37:45.744  INFO 1 --- [  XNIO-1 task-3] okhttp3.OkHttpClient                     :\r\n2022-02-22 22:37:49.588 ERROR 1 --- [  XNIO-1 task-3] o.z.problem.spring.common.AdviceTraits   : Internal Server Error\r\n\r\norg.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.OutOfMemoryError: Java heap space\r\n```\r\n\r\nCode:\r\n\r\n```\r\nprivate ApiClient login() {\r\n        ApiClient defaultClient = Configuration.getDefaultApiClient();\r\n        defaultClient.setDebugging(true);\r\n        defaultClient.setBasePath(this.basepath);\r\n\r\n        // Configure HTTP basic authorization: Basic\r\n        HttpBasicAuth Basic = (HttpBasicAuth) defaultClient.getAuthentication(&quot;Basic&quot;);\r\n        Basic.setUsername(this.username);\r\n        Basic.setPassword(this.password);\r\n\r\n        return defaultClient;\r\n    }\r\n\r\nprivate void upload() {\r\n        String filename = &quot;file.file&quot;;\r\n        ApiClient client = login();\r\n        MediaApi mediaApi = new MediaApi();\r\n        mediaApi.setApiClient(client);\r\n        Media m = mediaApi.mediaCreate(new File(filename));\r\n}\r\n```\r\n\r\nOpenApi:\r\n\r\n```{\r\n  &quot;swagger&quot;: &quot;2.0&quot;,\r\n  &quot;info&quot;: {\r\n    &quot;title&quot;: &quot;MediaCMS API&quot;,\r\n    &quot;version&quot;: &quot;0.0.13&quot;\r\n  },\r\n  &quot;host&quot;: &quot;localhost:8085&quot;,\r\n  &quot;schemes&quot;: [&quot;http&quot;],\r\n  &quot;basePath&quot;: &quot;/api/v1&quot;,\r\n  &quot;consumes&quot;: [&quot;application/json&quot;],\r\n  &quot;produces&quot;: [&quot;application/json&quot;],\r\n  &quot;securityDefinitions&quot;: {\r\n    &quot;Basic&quot;: {\r\n      &quot;type&quot;: &quot;basic&quot;\r\n    }\r\n  },\r\n  &quot;security&quot;: [\r\n    {\r\n      &quot;Basic&quot;: []\r\n    }\r\n  ],\r\n  &quot;paths&quot;: {\r\n    &quot;/media&quot;: {\r\n      &quot;post&quot;: {\r\n        &quot;operationId&quot;: &quot;media_create&quot;,\r\n        &quot;summary&quot;: &quot;Add new Media&quot;,\r\n        &quot;description&quot;: &quot;Adds a new media, for authenticated users&quot;,\r\n        &quot;parameters&quot;: [\r\n          {\r\n            &quot;name&quot;: &quot;media_file&quot;,\r\n            &quot;in&quot;: &quot;formData&quot;,\r\n            &quot;description&quot;: &quot;media_file&quot;,\r\n            &quot;required&quot;: true,\r\n            &quot;type&quot;: &quot;file&quot;\r\n          },\r\n          {\r\n            &quot;name&quot;: &quot;description&quot;,\r\n            &quot;in&quot;: &quot;formData&quot;,\r\n            &quot;description&quot;: &quot;description&quot;,\r\n            &quot;required&quot;: false,\r\n            &quot;type&quot;: &quot;string&quot;\r\n          },\r\n          {\r\n            &quot;name&quot;: &quot;title&quot;,\r\n            &quot;in&quot;: &quot;formData&quot;,\r\n            &quot;description&quot;: &quot;title&quot;,\r\n            &quot;required&quot;: false,\r\n            &quot;type&quot;: &quot;string&quot;\r\n          }\r\n        ],\r\n        &quot;responses&quot;: {\r\n          &quot;201&quot;: {\r\n            &quot;description&quot;: &quot;response description&quot;,\r\n            &quot;schema&quot;: {\r\n              &quot;$ref&quot;: &quot;#/definitions/Media&quot;\r\n            }\r\n          },\r\n          &quot;401&quot;: {\r\n            &quot;description&quot;: &quot;bad request&quot;\r\n          }\r\n        },\r\n        &quot;consumes&quot;: [&quot;multipart/form-data&quot;, &quot;application/x-www-form-urlencoded&quot;],\r\n        &quot;tags&quot;: [&quot;Media&quot;]\r\n      }\r\n    }\r\n  }\r\n}\r\n```","title":"OpenApi generated Client fails during upload with java.lang.OutOfMemoryError: Java heap space","body":"<p>I am using a generated OpenAPI Client for uploading a file (~190mb) to a service.\nWhen using the generated method, the code fails with an OutOfMemoryException.</p>\n<p>How can I tell the OpenAPI Client to use a buffered reader/writer for the file? Is there another solution?</p>\n<p>Log:</p>\n<pre><code>2022-02-22 22:37:45.569  INFO 1 --- [  XNIO-1 task-3] okhttp3.OkHttpClient                     : Content-Type: multipart/form-data; boundary=b75abfd1-9ae1-4c86-b69e-e444d341b051\n2022-02-22 22:37:45.570  INFO 1 --- [  XNIO-1 task-3] okhttp3.OkHttpClient                     : Content-Length: 193464281\n2022-02-22 22:37:45.570  INFO 1 --- [  XNIO-1 task-3] okhttp3.OkHttpClient                     : Authorization: Basic XXX\n2022-02-22 22:37:45.570  INFO 1 --- [  XNIO-1 task-3] okhttp3.OkHttpClient                     : Accept: application/json\n2022-02-22 22:37:45.571  INFO 1 --- [  XNIO-1 task-3] okhttp3.OkHttpClient                     : User-Agent: OpenAPI-Generator/0.0.13/java\n2022-02-22 22:37:45.744  INFO 1 --- [  XNIO-1 task-3] okhttp3.OkHttpClient                     :\n2022-02-22 22:37:49.588 ERROR 1 --- [  XNIO-1 task-3] o.z.problem.spring.common.AdviceTraits   : Internal Server Error\n\norg.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.OutOfMemoryError: Java heap space\n</code></pre>\n<p>Code:</p>\n<pre><code>private ApiClient login() {\n        ApiClient defaultClient = Configuration.getDefaultApiClient();\n        defaultClient.setDebugging(true);\n        defaultClient.setBasePath(this.basepath);\n\n        // Configure HTTP basic authorization: Basic\n        HttpBasicAuth Basic = (HttpBasicAuth) defaultClient.getAuthentication(&quot;Basic&quot;);\n        Basic.setUsername(this.username);\n        Basic.setPassword(this.password);\n\n        return defaultClient;\n    }\n\nprivate void upload() {\n        String filename = &quot;file.file&quot;;\n        ApiClient client = login();\n        MediaApi mediaApi = new MediaApi();\n        mediaApi.setApiClient(client);\n        Media m = mediaApi.mediaCreate(new File(filename));\n}\n</code></pre>\n<p>OpenApi:</p>\n<pre><code>  &quot;swagger&quot;: &quot;2.0&quot;,\n  &quot;info&quot;: {\n    &quot;title&quot;: &quot;MediaCMS API&quot;,\n    &quot;version&quot;: &quot;0.0.13&quot;\n  },\n  &quot;host&quot;: &quot;localhost:8085&quot;,\n  &quot;schemes&quot;: [&quot;http&quot;],\n  &quot;basePath&quot;: &quot;/api/v1&quot;,\n  &quot;consumes&quot;: [&quot;application/json&quot;],\n  &quot;produces&quot;: [&quot;application/json&quot;],\n  &quot;securityDefinitions&quot;: {\n    &quot;Basic&quot;: {\n      &quot;type&quot;: &quot;basic&quot;\n    }\n  },\n  &quot;security&quot;: [\n    {\n      &quot;Basic&quot;: []\n    }\n  ],\n  &quot;paths&quot;: {\n    &quot;/media&quot;: {\n      &quot;post&quot;: {\n        &quot;operationId&quot;: &quot;media_create&quot;,\n        &quot;summary&quot;: &quot;Add new Media&quot;,\n        &quot;description&quot;: &quot;Adds a new media, for authenticated users&quot;,\n        &quot;parameters&quot;: [\n          {\n            &quot;name&quot;: &quot;media_file&quot;,\n            &quot;in&quot;: &quot;formData&quot;,\n            &quot;description&quot;: &quot;media_file&quot;,\n            &quot;required&quot;: true,\n            &quot;type&quot;: &quot;file&quot;\n          },\n          {\n            &quot;name&quot;: &quot;description&quot;,\n            &quot;in&quot;: &quot;formData&quot;,\n            &quot;description&quot;: &quot;description&quot;,\n            &quot;required&quot;: false,\n            &quot;type&quot;: &quot;string&quot;\n          },\n          {\n            &quot;name&quot;: &quot;title&quot;,\n            &quot;in&quot;: &quot;formData&quot;,\n            &quot;description&quot;: &quot;title&quot;,\n            &quot;required&quot;: false,\n            &quot;type&quot;: &quot;string&quot;\n          }\n        ],\n        &quot;responses&quot;: {\n          &quot;201&quot;: {\n            &quot;description&quot;: &quot;response description&quot;,\n            &quot;schema&quot;: {\n              &quot;$ref&quot;: &quot;#/definitions/Media&quot;\n            }\n          },\n          &quot;401&quot;: {\n            &quot;description&quot;: &quot;bad request&quot;\n          }\n        },\n        &quot;consumes&quot;: [&quot;multipart/form-data&quot;, &quot;application/x-www-form-urlencoded&quot;],\n        &quot;tags&quot;: [&quot;Media&quot;]\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java",".net",".net-3.5","linkedhashmap"],"comments":[{"owner":{"account_id":21936,"reputation":25665,"user_id":53718,"accept_rate":67,"display_name":"Cerebrus"},"score":1,"creation_date":1233133643,"post_id":486948,"comment_id":303263,"body_markdown":"I would like to understand the logic whereby merely accessing an element in the collection is regarded as a modification, thereby causing re-ordering.","body":"I would like to understand the logic whereby merely accessing an element in the collection is regarded as a modification, thereby causing re-ordering."},{"owner":{"account_id":20560,"reputation":29631,"user_id":49241,"accept_rate":100,"display_name":"Adam Ralph"},"score":1,"creation_date":1233134024,"post_id":486948,"comment_id":303269,"body_markdown":"I&#39;m not familiar with the class in question, but perhaps to allow faster access to most accessed elements?","body":"I&#39;m not familiar with the class in question, but perhaps to allow faster access to most accessed elements?"},{"owner":{"account_id":19947,"reputation":32593,"user_id":47190,"accept_rate":80,"display_name":"Peter Štibran&#253;"},"score":1,"creation_date":1233134215,"post_id":486948,"comment_id":303274,"body_markdown":"You can see details about LinkedHashMap at http://java.sun.com/javase/6/docs/api/java/util/LinkedHashMap.html It explains usage, and when it is useful (LRU caches).","body":"You can see details about LinkedHashMap at <a href=\"http://java.sun.com/javase/6/docs/api/java/util/LinkedHashMap.html\" rel=\"nofollow noreferrer\">java.sun.com/javase/6/docs/api/java/util/LinkedHashMap.html</a> It explains usage, and when it is useful (LRU caches)."},{"owner":{"account_id":335069,"reputation":70755,"user_id":661933,"accept_rate":94,"display_name":"nawfal"},"score":0,"creation_date":1404142143,"post_id":486948,"comment_id":37916750,"body_markdown":"See [generic-key-value-pair-collection-in-that-preserves-insertion-order](http://stackoverflow.com/questions/1396718/generic-key-value-pair-collection-in-that-preserves-insertion-order)","body":"See <a href=\"http://stackoverflow.com/questions/1396718/generic-key-value-pair-collection-in-that-preserves-insertion-order\">generic-key-value-pair-collection-in-that-preserves-insertio&zwnj;&#8203;n-order</a>"},{"owner":{"account_id":52915,"reputation":6885,"user_id":158179,"accept_rate":50,"display_name":"N0thing"},"score":0,"creation_date":1463678371,"post_id":486948,"comment_id":62178717,"body_markdown":"I answered this in http://stackoverflow.com/a/36961779/158179, I put a minimal, no dependencies LinkedHashMap implemented in C#. Hope it helps! (Also: could we link the two questions? They seem to ask more or less the same thing).","body":"I answered this in <a href=\"http://stackoverflow.com/a/36961779/158179\">stackoverflow.com/a/36961779/158179</a>, I put a minimal, no dependencies LinkedHashMap implemented in C#. Hope it helps! (Also: could we link the two questions? They seem to ask more or less the same thing)."}],"answers":[{"tags":[],"owner":{"account_id":20560,"reputation":29631,"user_id":49241,"accept_rate":100,"display_name":"Adam Ralph"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1373469891,"creation_date":1233134850,"answer_id":487005,"question_id":486948,"body_markdown":"A bit of Googling seems to show that there is no built in C# equivalent for LinkedHashMap, but there are some third party options available.","title":"LinkedHashMap in .NET","body":"<p>A bit of Googling seems to show that there is no built in C# equivalent for LinkedHashMap, but there are some third party options available.</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1233134880,"creation_date":1233134880,"answer_id":487006,"question_id":486948,"body_markdown":"Just to clarify a bit for readers: LinkedHashMap only behaves that way when built with one particular constructor overload. Normally the elements are maintained in insert order. (This feels a little odd to me, but never mind.)\r\n\r\nI don&#39;t believe there&#39;s any such class in .NET. It wouldn&#39;t be too hard to build one, using a linked list of elements and a dictionary from key to linked list node. Access would then consist of fetching the linked list node, moving it to the head, and returning the value.\r\n\r\nI&#39;d be happy to implement it tonight or tomorrow if you want - although probably not with full unit tests etc. (Fully testing a collection is a time-consuming business!)","title":"LinkedHashMap in .NET","body":"<p>Just to clarify a bit for readers: LinkedHashMap only behaves that way when built with one particular constructor overload. Normally the elements are maintained in insert order. (This feels a little odd to me, but never mind.)</p>\n\n<p>I don't believe there's any such class in .NET. It wouldn't be too hard to build one, using a linked list of elements and a dictionary from key to linked list node. Access would then consist of fetching the linked list node, moving it to the head, and returning the value.</p>\n\n<p>I'd be happy to implement it tonight or tomorrow if you want - although probably not with full unit tests etc. (Fully testing a collection is a time-consuming business!)</p>\n"},{"tags":[],"owner":{"account_id":14779,"reputation":4649,"user_id":30698,"accept_rate":58,"display_name":"biozinc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1244214313,"creation_date":1244214313,"answer_id":956359,"question_id":486948,"body_markdown":"Here&#39;s a C# implementation I found on a [forum][1]:\r\n\r\nIt&#39;s undocumented, but does have some tests. It is not generic, however. At least it&#39;s something I guess.\r\n\r\n@Jon: I&#39;d appreciate it too if you could do a quick implementation. I imagined that a Dictionary on top of a LinkedList would be best, but [I hear][2] there are garbage collection issues with LinkedList that slows things down.\r\n\r\n\r\n  [1]: http://www.pcreview.co.uk/forums/thread-2134948.php\r\n  [2]: http://en.csharp-online.net/CSharp_Generics_Recipes—Implementing_a_Linked_List","title":"LinkedHashMap in .NET","body":"<p>Here's a C# implementation I found on a <a href=\"http://www.pcreview.co.uk/forums/thread-2134948.php\" rel=\"nofollow noreferrer\">forum</a>:</p>\n\n<p>It's undocumented, but does have some tests. It is not generic, however. At least it's something I guess.</p>\n\n<p>@Jon: I'd appreciate it too if you could do a quick implementation. I imagined that a Dictionary on top of a LinkedList would be best, but <a href=\"http://en.csharp-online.net/CSharp_Generics_Recipes%E2%80%94Implementing_a_Linked_List\" rel=\"nofollow noreferrer\">I hear</a> there are garbage collection issues with LinkedList that slows things down.</p>\n"},{"tags":[],"owner":{"account_id":204096,"reputation":1554,"user_id":452101,"accept_rate":92,"display_name":"Nico"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1399663705,"creation_date":1399663705,"answer_id":23572488,"question_id":486948,"body_markdown":"I used System.Collections.Specialized.OrderedDictionary as a replacement for LinkedHashMap. It worked for me. Is there anything I&#39;m missing about OrderedDictionary (yes, it&#39;s not generic, but it is available with .Net 2 or newer)?","title":"LinkedHashMap in .NET","body":"<p>I used System.Collections.Specialized.OrderedDictionary as a replacement for LinkedHashMap. It worked for me. Is there anything I'm missing about OrderedDictionary (yes, it's not generic, but it is available with .Net 2 or newer)?</p>\n"},{"tags":[],"owner":{"account_id":55308,"reputation":2521,"user_id":165622,"accept_rate":41,"display_name":"Luiz Henrique Martins Lins Rol"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1460028460,"creation_date":1460028460,"answer_id":36474833,"question_id":486948,"body_markdown":"Nhibernate has a  NHibernate.Util.LinkedHashMap implementation.\r\n\r\nIf you already have it on your code, as I had, it can be handy","title":"LinkedHashMap in .NET","body":"<p>Nhibernate has a  NHibernate.Util.LinkedHashMap implementation.</p>\n\n<p>If you already have it on your code, as I had, it can be handy</p>\n"},{"tags":[],"owner":{"account_id":2779530,"reputation":3249,"user_id":2392330,"display_name":"Boris Parfenenkov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587437282,"creation_date":1587437282,"answer_id":61335178,"question_id":486948,"body_markdown":"As there is still no LinkedHashMap in C#, and I needed this functionality, I&#39;ve implemented one on the latest net core (3.1). https://github.com/idlerboris/LinkedHashMap/blob/master/CustomCollections/CustomCollections/LinkedHashMap.cs. It&#39;s covered with basic tests and seems to be good, but feel free to contribute/report issues.","title":"LinkedHashMap in .NET","body":"<p>As there is still no LinkedHashMap in C#, and I needed this functionality, I've implemented one on the latest net core (3.1). <a href=\"https://github.com/idlerboris/LinkedHashMap/blob/master/CustomCollections/CustomCollections/LinkedHashMap.cs\" rel=\"nofollow noreferrer\">https://github.com/idlerboris/LinkedHashMap/blob/master/CustomCollections/CustomCollections/LinkedHashMap.cs</a>. It's covered with basic tests and seems to be good, but feel free to contribute/report issues.</p>\n"},{"tags":[],"owner":{"account_id":6713505,"reputation":45299,"user_id":5176071,"display_name":"D-Shih"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635175243,"creation_date":1635175243,"answer_id":69710689,"question_id":486948,"body_markdown":"I know this is an old topic, but there is an awesome open source project to implement `LinkedHashMap` in .NET [C5](https://www.nuget.org/packages/C5)\r\n\r\nHere is [LinkedHashMap](https://github.com/sestoft/C5/blob/master/C5/LinkedLists/HashedLinkedList.cs) source code.","title":"LinkedHashMap in .NET","body":"<p>I know this is an old topic, but there is an awesome open source project to implement <code>LinkedHashMap</code> in .NET <a href=\"https://www.nuget.org/packages/C5\" rel=\"nofollow noreferrer\">C5</a></p>\n<p>Here is <a href=\"https://github.com/sestoft/C5/blob/master/C5/LinkedLists/HashedLinkedList.cs\" rel=\"nofollow noreferrer\">LinkedHashMap</a> source code.</p>\n"},{"tags":[],"owner":{"account_id":4197336,"reputation":31,"user_id":3438435,"display_name":"botg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645570511,"creation_date":1645569858,"answer_id":71229249,"question_id":486948,"body_markdown":"pretty late to the game, but I implemented the LinkedHashMap (Java) equivalent in C# as LinkedDictionary as follows:\r\n\r\n        public class LinkedDictionary&lt;K, V&gt; : IDictionary&lt;K, V&gt;, ICollection&lt;KeyValuePair&lt;K, V&gt;&gt;, IEnumerable&lt;KeyValuePair&lt;K, V&gt;&gt;\r\n        {\r\n\r\n        private List&lt;K&gt; list = new List&lt;K&gt;();\r\n        private Dictionary&lt;K, V&gt; dictionary = new Dictionary&lt;K, V&gt;();\r\n\r\n        public LinkedDictionary()\r\n        {\r\n\r\n        }\r\n\r\n        public V this[K key] {\r\n            get {\r\n                return this.dictionary[key];\r\n            }\r\n            set {\r\n                this.dictionary[key] = value;\r\n                if (!this.list.Contains(key))\r\n                {\r\n                    this.list.Add(key);\r\n                }\r\n            }\r\n        }\r\n                \r\n        public int Count =&gt; this.dictionary.Count;\r\n\r\n        public bool IsReadOnly =&gt; false;\r\n\r\n        ICollection&lt;K&gt; IDictionary&lt;K, V&gt;.Keys =&gt; this.list;\r\n\r\n        ICollection&lt;V&gt; IDictionary&lt;K, V&gt;.Values\r\n        {\r\n            get\r\n            {\r\n                List&lt;V&gt; values = new List&lt;V&gt;(this.dictionary.Count);\r\n                foreach(K key in this.list)\r\n                {\r\n                    V value = default(V);\r\n                    this.dictionary.TryGetValue(key, out value);\r\n                    values.Add(value);\r\n                }\r\n                return values;\r\n            }\r\n        }\r\n\r\n        public void Add(KeyValuePair&lt;K, V&gt; item)\r\n        {\r\n            this.dictionary.Add(item.Key, item.Value);\r\n            if (!this.list.Contains(item.Key))\r\n            {\r\n                this.list.Add(item.Key);\r\n            }\r\n        }\r\n\r\n        public void Add(K key, V value)\r\n        {\r\n            this.dictionary.Add(key, value);\r\n            if (!this.list.Contains(key))\r\n            {\r\n                this.list.Add(key);\r\n            }\r\n        }\r\n\r\n        public void Clear()\r\n        {\r\n            this.dictionary.Clear();\r\n            this.list.Clear();\r\n        }\r\n\r\n        public bool Contains(KeyValuePair&lt;K, V&gt; item)\r\n        {\r\n            return this.dictionary.Contains(item);\r\n        }\r\n\r\n        public bool ContainsKey(K key)\r\n        {\r\n            return this.dictionary.ContainsKey(key);\r\n        }\r\n\r\n        public void CopyTo(KeyValuePair&lt;K, V&gt;[] array, int arrayIndex)\r\n        {\r\n            throw new NotImplementedException();\r\n        }\r\n\r\n        public bool Remove(KeyValuePair&lt;K, V&gt; item)\r\n        {\r\n            if (this.Contains(item)){\r\n                this.list.Remove(item.Key);\r\n                return this.dictionary.Remove(item.Key);\r\n            } else\r\n            {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        public bool Remove(K key)\r\n        {\r\n            if (this.dictionary.ContainsKey(key))\r\n            {\r\n                this.list.Remove(key);\r\n                return this.dictionary.Remove(key);\r\n            }\r\n            else\r\n            {\r\n                return false;\r\n            }\r\n        }\r\n\r\n         public bool TryGetValue(K key, [MaybeNullWhen(false)] out V value)\r\n        {\r\n            return this.dictionary.TryGetValue(key, out value);\r\n        }\r\n\r\n        public V Get(K key)\r\n        {\r\n            V value = default(V);\r\n            this.dictionary.TryGetValue(key, out value);\r\n            return value;\r\n        }\r\n\r\n        public IEnumerator&lt;KeyValuePair&lt;K, V&gt;&gt; GetEnumerator()\r\n        {\r\n            foreach (K key in this.list){\r\n                V value = default(V);\r\n                this.dictionary.TryGetValue(key, out value);\r\n                yield return new KeyValuePair&lt;K, V&gt;(key, value);\r\n            }\r\n        }\r\n\r\n        IEnumerator IEnumerable.GetEnumerator()\r\n        {\r\n            return this.GetEnumerator();\r\n        }\r\n\r\n        private class LinkedDictionaryIterator&lt;K, V&gt; : IEnumerator&lt;V&gt;\r\n        {\r\n\r\n            private int i;\r\n            private readonly Dictionary&lt;K, V&gt; dictionary;\r\n            private readonly List&lt;K&gt; list;\r\n            \r\n            public LinkedDictionaryIterator(Dictionary&lt;K, V&gt; dictionary, List&lt;K&gt; list)\r\n            {\r\n                this.dictionary = dictionary;\r\n                this.list = list;\r\n                this.i = 0;\r\n            }\r\n\r\n            public void Dispose()\r\n            {\r\n                \r\n            }\r\n\r\n            public bool MoveNext()\r\n            {\r\n                return this.i &lt; this.dictionary.Count;\r\n            }\r\n\r\n            public void Reset()\r\n            {\r\n                this.i = 0;\r\n            }\r\n\r\n            public KeyValuePair&lt;K, V&gt; Current\r\n            {\r\n                get\r\n                {\r\n                    int ii = this.i;\r\n                    ++this.i;\r\n                    V value = default(V);\r\n                    K key = this.list[ii];\r\n                    this.dictionary.TryGetValue(key, out value);\r\n                    return new KeyValuePair&lt;K, V&gt;(key, value);\r\n                }\r\n            }\r\n\r\n            V IEnumerator&lt;V&gt;.Current\r\n            {\r\n                get\r\n                {\r\n                    int ii = this.i;\r\n                    ++this.i;\r\n                    V value = default(V);\r\n                    K key = this.list[ii];\r\n                    this.dictionary.TryGetValue(key, out value);\r\n                    return value;\r\n                }\r\n            }\r\n\r\n            object IEnumerator.Current\r\n            {\r\n                get\r\n                {\r\n                    return Current;\r\n                }\r\n            }\r\n        }\r\n\r\nAnd a simple UnitTest where I compare it to Dictionary\r\n\r\n    \r\n        class UnitTest_LinkedDictionary\r\n        {\r\n            [Test]\r\n            public void Test00()\r\n            {\r\n                LinkedDictionary&lt;string, int&gt; d = new LinkedDictionary&lt;string, int&gt;();\r\n\r\n    \r\n\r\n                d.Add(&quot;1&quot;, 1);\r\n                d.Add(&quot;2&quot;, 2);\r\n                d.Add(&quot;3&quot;, 3);\r\n                d.Remove(&quot;2&quot;);\r\n                d.Add(&quot;4&quot;, 4);\r\n\r\n                d.Select(i =&gt; $&quot;{i.Key}: {i.Value}&quot;).ToList().ForEach(Console.WriteLine);\r\n\r\n            }\r\n\r\n            [Test]\r\n            public void Test01()\r\n            {\r\n                Dictionary&lt;string, int&gt; d = new Dictionary&lt;string, int&gt;();\r\n\r\n                d.Add(&quot;1&quot;, 1);\r\n                d.Add(&quot;2&quot;, 2);\r\n                d.Add(&quot;3&quot;, 3);\r\n                d.Remove(&quot;2&quot;);\r\n                d.Add(&quot;4&quot;, 4);\r\n\r\n                d.Select(i =&gt; $&quot;{i.Key} :{i.Value}&quot;).ToList().ForEach(Console.WriteLine);\r\n\r\n            }\r\n\r\n        }\r\n\r\nAs it is based on a Dictionary and a List it at least adds the time complexity of List accesses and Dictionary accesses.\r\n","title":"LinkedHashMap in .NET","body":"<p>pretty late to the game, but I implemented the LinkedHashMap (Java) equivalent in C# as LinkedDictionary as follows:</p>\n<pre><code>    public class LinkedDictionary&lt;K, V&gt; : IDictionary&lt;K, V&gt;, ICollection&lt;KeyValuePair&lt;K, V&gt;&gt;, IEnumerable&lt;KeyValuePair&lt;K, V&gt;&gt;\n    {\n\n    private List&lt;K&gt; list = new List&lt;K&gt;();\n    private Dictionary&lt;K, V&gt; dictionary = new Dictionary&lt;K, V&gt;();\n\n    public LinkedDictionary()\n    {\n\n    }\n\n    public V this[K key] {\n        get {\n            return this.dictionary[key];\n        }\n        set {\n            this.dictionary[key] = value;\n            if (!this.list.Contains(key))\n            {\n                this.list.Add(key);\n            }\n        }\n    }\n            \n    public int Count =&gt; this.dictionary.Count;\n\n    public bool IsReadOnly =&gt; false;\n\n    ICollection&lt;K&gt; IDictionary&lt;K, V&gt;.Keys =&gt; this.list;\n\n    ICollection&lt;V&gt; IDictionary&lt;K, V&gt;.Values\n    {\n        get\n        {\n            List&lt;V&gt; values = new List&lt;V&gt;(this.dictionary.Count);\n            foreach(K key in this.list)\n            {\n                V value = default(V);\n                this.dictionary.TryGetValue(key, out value);\n                values.Add(value);\n            }\n            return values;\n        }\n    }\n\n    public void Add(KeyValuePair&lt;K, V&gt; item)\n    {\n        this.dictionary.Add(item.Key, item.Value);\n        if (!this.list.Contains(item.Key))\n        {\n            this.list.Add(item.Key);\n        }\n    }\n\n    public void Add(K key, V value)\n    {\n        this.dictionary.Add(key, value);\n        if (!this.list.Contains(key))\n        {\n            this.list.Add(key);\n        }\n    }\n\n    public void Clear()\n    {\n        this.dictionary.Clear();\n        this.list.Clear();\n    }\n\n    public bool Contains(KeyValuePair&lt;K, V&gt; item)\n    {\n        return this.dictionary.Contains(item);\n    }\n\n    public bool ContainsKey(K key)\n    {\n        return this.dictionary.ContainsKey(key);\n    }\n\n    public void CopyTo(KeyValuePair&lt;K, V&gt;[] array, int arrayIndex)\n    {\n        throw new NotImplementedException();\n    }\n\n    public bool Remove(KeyValuePair&lt;K, V&gt; item)\n    {\n        if (this.Contains(item)){\n            this.list.Remove(item.Key);\n            return this.dictionary.Remove(item.Key);\n        } else\n        {\n            return false;\n        }\n    }\n\n    public bool Remove(K key)\n    {\n        if (this.dictionary.ContainsKey(key))\n        {\n            this.list.Remove(key);\n            return this.dictionary.Remove(key);\n        }\n        else\n        {\n            return false;\n        }\n    }\n\n     public bool TryGetValue(K key, [MaybeNullWhen(false)] out V value)\n    {\n        return this.dictionary.TryGetValue(key, out value);\n    }\n\n    public V Get(K key)\n    {\n        V value = default(V);\n        this.dictionary.TryGetValue(key, out value);\n        return value;\n    }\n\n    public IEnumerator&lt;KeyValuePair&lt;K, V&gt;&gt; GetEnumerator()\n    {\n        foreach (K key in this.list){\n            V value = default(V);\n            this.dictionary.TryGetValue(key, out value);\n            yield return new KeyValuePair&lt;K, V&gt;(key, value);\n        }\n    }\n\n    IEnumerator IEnumerable.GetEnumerator()\n    {\n        return this.GetEnumerator();\n    }\n\n    private class LinkedDictionaryIterator&lt;K, V&gt; : IEnumerator&lt;V&gt;\n    {\n\n        private int i;\n        private readonly Dictionary&lt;K, V&gt; dictionary;\n        private readonly List&lt;K&gt; list;\n        \n        public LinkedDictionaryIterator(Dictionary&lt;K, V&gt; dictionary, List&lt;K&gt; list)\n        {\n            this.dictionary = dictionary;\n            this.list = list;\n            this.i = 0;\n        }\n\n        public void Dispose()\n        {\n            \n        }\n\n        public bool MoveNext()\n        {\n            return this.i &lt; this.dictionary.Count;\n        }\n\n        public void Reset()\n        {\n            this.i = 0;\n        }\n\n        public KeyValuePair&lt;K, V&gt; Current\n        {\n            get\n            {\n                int ii = this.i;\n                ++this.i;\n                V value = default(V);\n                K key = this.list[ii];\n                this.dictionary.TryGetValue(key, out value);\n                return new KeyValuePair&lt;K, V&gt;(key, value);\n            }\n        }\n\n        V IEnumerator&lt;V&gt;.Current\n        {\n            get\n            {\n                int ii = this.i;\n                ++this.i;\n                V value = default(V);\n                K key = this.list[ii];\n                this.dictionary.TryGetValue(key, out value);\n                return value;\n            }\n        }\n\n        object IEnumerator.Current\n        {\n            get\n            {\n                return Current;\n            }\n        }\n    }\n</code></pre>\n<p>And a simple UnitTest where I compare it to Dictionary</p>\n<pre><code>    class UnitTest_LinkedDictionary\n    {\n        [Test]\n        public void Test00()\n        {\n            LinkedDictionary&lt;string, int&gt; d = new LinkedDictionary&lt;string, int&gt;();\n\n\n\n            d.Add(&quot;1&quot;, 1);\n            d.Add(&quot;2&quot;, 2);\n            d.Add(&quot;3&quot;, 3);\n            d.Remove(&quot;2&quot;);\n            d.Add(&quot;4&quot;, 4);\n\n            d.Select(i =&gt; $&quot;{i.Key}: {i.Value}&quot;).ToList().ForEach(Console.WriteLine);\n\n        }\n\n        [Test]\n        public void Test01()\n        {\n            Dictionary&lt;string, int&gt; d = new Dictionary&lt;string, int&gt;();\n\n            d.Add(&quot;1&quot;, 1);\n            d.Add(&quot;2&quot;, 2);\n            d.Add(&quot;3&quot;, 3);\n            d.Remove(&quot;2&quot;);\n            d.Add(&quot;4&quot;, 4);\n\n            d.Select(i =&gt; $&quot;{i.Key} :{i.Value}&quot;).ToList().ForEach(Console.WriteLine);\n\n        }\n\n    }\n</code></pre>\n<p>As it is based on a Dictionary and a List it at least adds the time complexity of List accesses and Dictionary accesses.</p>\n"}],"owner":{"account_id":49953,"reputation":20780,"user_id":148909,"accept_rate":89,"display_name":"Schildmeijer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13252,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":487005,"answer_count":8,"score":26,"last_activity_date":1645570511,"creation_date":1233133119,"question_id":486948,"body_markdown":"I wonder if there is a counterpart to `java.util.LinkedHashMap` in .NET? (ie. the elements are (re)ordered automatically if I access an element. (boolean accessOrder) ).","title":"LinkedHashMap in .NET","body":"<p>I wonder if there is a counterpart to <code>java.util.LinkedHashMap</code> in .NET? (ie. the elements are (re)ordered automatically if I access an element. (boolean accessOrder) ).</p>\n"},{"tags":["java","arraylist","hashmap","hashset"],"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1645570308,"post_id":71229242,"comment_id":125906025,"body_markdown":"What is the problem you trying to solve?","body":"What is the problem you trying to solve?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1645572919,"post_id":71229242,"comment_id":125906608,"body_markdown":"Are you trying to create the &quot;backwards&quot; mapping?  You&#39;ve said what the keys should be, what should the corresponding values be?","body":"Are you trying to create the &quot;backwards&quot; mapping?  You&#39;ve said what the keys should be, what should the corresponding values be?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1645627124,"post_id":71229242,"comment_id":125922665,"body_markdown":"“So newMap1 would have &#39;jab&#39; as the key, newMap2 would have &#39;hook&#39; as the key and so on.”  And what are the corresponding values in each of those Maps?","body":"“So newMap1 would have &#39;jab&#39; as the key, newMap2 would have &#39;hook&#39; as the key and so on.”  And what are the corresponding values in each of those Maps?"},{"owner":{"account_id":24346425,"reputation":11,"user_id":18282927,"display_name":"HashMapJunkie"},"score":0,"creation_date":1645742327,"post_id":71229242,"comment_id":125958963,"body_markdown":"@VGR That&#39;s right. The values in those maps would be a HashSet, which would be created from the rest of the values in the original. So newMap1 would have &#39;jab&#39; as the key, and a HashSet with values hook, uppercut.","body":"@VGR That&#39;s right. The values in those maps would be a HashSet, which would be created from the rest of the values in the original. So newMap1 would have &#39;jab&#39; as the key, and a HashSet with values hook, uppercut."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1645742663,"post_id":71229242,"comment_id":125959051,"body_markdown":"So, you want each of the new Maps to have values consisting of all values in `boxing` other than the value used as the new Map’s key?","body":"So, you want each of the new Maps to have values consisting of all values in <code>boxing</code> other than the value used as the new Map’s key?"}],"answers":[{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645570153,"creation_date":1645570153,"answer_id":71229288,"question_id":71229242,"body_markdown":"Since Java 9 you can do this:\r\n\r\n    Map&lt;String, Set&lt;String&gt;&gt; newMap = Map.of(&quot;fighting&quot;, Set.of(&quot;jab&quot;,&quot;hook&quot;,&quot;uppercut&quot;));","title":"Create HashMap from HashSet value using loop","body":"<p>Since Java 9 you can do this:</p>\n<pre><code>Map&lt;String, Set&lt;String&gt;&gt; newMap = Map.of(&quot;fighting&quot;, Set.of(&quot;jab&quot;,&quot;hook&quot;,&quot;uppercut&quot;));\n</code></pre>\n"}],"owner":{"account_id":24346425,"reputation":11,"user_id":18282927,"display_name":"HashMapJunkie"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1645570153,"creation_date":1645569838,"question_id":71229242,"body_markdown":"I&#39;m trying to create a HashMap from values of a HashSet (which itself is stored as values in a HashMap).\r\n\r\nI&#39;m not sure whether to Iterate or use a for loop. \r\n\r\nExample:\r\n\r\n    newMap = new HashMap&lt;String, HashSet&lt;String&gt;&gt;();\r\n    HashSet&lt;String&gt; boxing = new HashSet&lt;String&gt;();\r\n            \r\n            newMap.put(&quot;fighting&quot;, boxing);\r\n            boxing.add(&quot;jab&quot;);\r\n            boxing.add(&quot;hook&quot;);\r\n            boxing.add(&quot;uppercut&quot;);\r\n\r\nNow I need to iterate or loop through so that each value in the &#39;boxing&#39; HashSet creates a new HashMap with the value as the key for the new map.\r\n\r\nSo newMap1 would have &#39;jab&#39; as the key, newMap2 would have &#39;hook&#39; as the key and so on.\r\n\r\nAny help is appreciated.\r\n","title":"Create HashMap from HashSet value using loop","body":"<p>I'm trying to create a HashMap from values of a HashSet (which itself is stored as values in a HashMap).</p>\n<p>I'm not sure whether to Iterate or use a for loop.</p>\n<p>Example:</p>\n<pre><code>newMap = new HashMap&lt;String, HashSet&lt;String&gt;&gt;();\nHashSet&lt;String&gt; boxing = new HashSet&lt;String&gt;();\n        \n        newMap.put(&quot;fighting&quot;, boxing);\n        boxing.add(&quot;jab&quot;);\n        boxing.add(&quot;hook&quot;);\n        boxing.add(&quot;uppercut&quot;);\n</code></pre>\n<p>Now I need to iterate or loop through so that each value in the 'boxing' HashSet creates a new HashMap with the value as the key for the new map.</p>\n<p>So newMap1 would have 'jab' as the key, newMap2 would have 'hook' as the key and so on.</p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","collections","hashmap"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1645384911,"post_id":71197521,"comment_id":125851871,"body_markdown":"Yes, the messier the better! Imagine you have 1000 values having 500 different hash codes. Those 500 hash codes maybe put in 100 buckets reserved momentarily. Per average 5 conflicting hashcodes in a bucket, 10 conflictimg values. Reading from `HashMap` will be out of order. `TreeMap` (not a hash map), will be a `SortedMap`, And `LinkedHashMap` will keep a List to maintain be order of _insertion_.","body":"Yes, the messier the better! Imagine you have 1000 values having 500 different hash codes. Those 500 hash codes maybe put in 100 buckets reserved momentarily. Per average 5 conflicting hashcodes in a bucket, 10 conflictimg values. Reading from <code>HashMap</code> will be out of order. <code>TreeMap</code> (not a hash map), will be a <code>SortedMap</code>, And <code>LinkedHashMap</code> will keep a List to maintain be order of <i>insertion</i>."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645570151,"creation_date":1645383140,"answer_id":71197672,"question_id":71197521,"body_markdown":"It means that HashMap maintains an **array** of *buckets* under the hood. **Hash code** produced by the `hashCode()` method of a *key* object determines to which *bucket* this entry should go.\r\n\r\nA situation when multiple *keys* yield *similar hashes* and as a consequence are mapped to the same *bucket* is called a **collision**. \r\n\r\nEntries of the map that are mapped to the same *bucket* will be structured as a *linked list*. Starting with *Java 8* when a number of collisions grow after a certain threshold the list will be transformed into a *tree*.\r\n\r\nAs you probably know the cost of accessing an element under a certain index in the array is **O(1)**. And HashMap provides access to the values by key with amortized time complexity **O(1)**, but only if a number of collisions is neglectable. I.e. `hashCode()` is implemented in such a way that it allows to spread the keys relatively evenly between the buckets.\r\n\r\nIn the edge case when the **hash function** is badly implemented and, let&#39;s say, it returns the *same **hash** for every key* all the entries end up in the *same bucket*. The time complexity for methods like `get()`, `containsKey()` degrades to **O(n)** (with *Java 7* and earlier) because you have to iterate over the *list* of all entries in order to find a particular one. And with *Java 8* onwards the time complexity will be **O(log n)** because that is the worse time required to find an element in a *red-black tree*.\r\n\r\n&gt; Does that simply mean that the **order** you get, after assigning, will be\r\n&gt; a mess?\r\n\r\nThe order of elements in the `HashMap` is undefined. This class is useful when you need quick access and don&#39;t care about the order. If need an ordered map consider `LinkedHashMap` which tracks the order in which the entries were added to a map by maintaining a linked list or `TreeMap` which sorts keys ordered accordingly to their natural order or based on the given comparator.","title":"What does &quot;assuming the hash function disperses the elements properly among the buckets&quot; mean at all?","body":"<p>It means that HashMap maintains an <strong>array</strong> of <em>buckets</em> under the hood. <strong>Hash code</strong> produced by the <code>hashCode()</code> method of a <em>key</em> object determines to which <em>bucket</em> this entry should go.</p>\n<p>A situation when multiple <em>keys</em> yield <em>similar hashes</em> and as a consequence are mapped to the same <em>bucket</em> is called a <strong>collision</strong>.</p>\n<p>Entries of the map that are mapped to the same <em>bucket</em> will be structured as a <em>linked list</em>. Starting with <em>Java 8</em> when a number of collisions grow after a certain threshold the list will be transformed into a <em>tree</em>.</p>\n<p>As you probably know the cost of accessing an element under a certain index in the array is <strong>O(1)</strong>. And HashMap provides access to the values by key with amortized time complexity <strong>O(1)</strong>, but only if a number of collisions is neglectable. I.e. <code>hashCode()</code> is implemented in such a way that it allows to spread the keys relatively evenly between the buckets.</p>\n<p>In the edge case when the <strong>hash function</strong> is badly implemented and, let's say, it returns the <em>same <strong>hash</strong> for every key</em> all the entries end up in the <em>same bucket</em>. The time complexity for methods like <code>get()</code>, <code>containsKey()</code> degrades to <strong>O(n)</strong> (with <em>Java 7</em> and earlier) because you have to iterate over the <em>list</em> of all entries in order to find a particular one. And with <em>Java 8</em> onwards the time complexity will be <strong>O(log n)</strong> because that is the worse time required to find an element in a <em>red-black tree</em>.</p>\n<blockquote>\n<p>Does that simply mean that the <strong>order</strong> you get, after assigning, will be\na mess?</p>\n</blockquote>\n<p>The order of elements in the <code>HashMap</code> is undefined. This class is useful when you need quick access and don't care about the order. If need an ordered map consider <code>LinkedHashMap</code> which tracks the order in which the entries were added to a map by maintaining a linked list or <code>TreeMap</code> which sorts keys ordered accordingly to their natural order or based on the given comparator.</p>\n"},{"tags":[],"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645383201,"creation_date":1645383201,"answer_id":71197682,"question_id":71197521,"body_markdown":"A hash map contains a number of &quot;buckets&quot;.  For best performance, you want the number of entries to be more or less the same in each bucket.  The bucket is determined by the hash function; thus you want a hash function that results in more or less the same probability of hitting each bucket.  That is, &quot;the hash function disperses the elements properly among the buckets&quot;.\r\n\r\nAt the other extreme: a hash function that always returned, say, the value 3 would work, but map access wouldn&#39;t be very efficient, since one bucket would have all the entries.\r\n\r\nI don&#39;t understand what you mean by the order being a &quot;mess&quot;.  A hash map is not ordered; the location of an element depends on its hash code.\r\n\r\n","title":"What does &quot;assuming the hash function disperses the elements properly among the buckets&quot; mean at all?","body":"<p>A hash map contains a number of &quot;buckets&quot;.  For best performance, you want the number of entries to be more or less the same in each bucket.  The bucket is determined by the hash function; thus you want a hash function that results in more or less the same probability of hitting each bucket.  That is, &quot;the hash function disperses the elements properly among the buckets&quot;.</p>\n<p>At the other extreme: a hash function that always returned, say, the value 3 would work, but map access wouldn't be very efficient, since one bucket would have all the entries.</p>\n<p>I don't understand what you mean by the order being a &quot;mess&quot;.  A hash map is not ordered; the location of an element depends on its hash code.</p>\n"}],"owner":{"account_id":18304375,"reputation":11,"user_id":13328487,"display_name":"Sendi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71197672,"answer_count":2,"score":0,"last_activity_date":1645570151,"creation_date":1645382135,"question_id":71197521,"body_markdown":"Having started learning Java, I came across this statement in the docs of Java 8:\r\n\r\n*assuming the hash function disperses the elements properly among the buckets.* \r\n\r\nDoes that simply mean that the order you get, after assigning, will be a mess?","title":"What does &quot;assuming the hash function disperses the elements properly among the buckets&quot; mean at all?","body":"<p>Having started learning Java, I came across this statement in the docs of Java 8:</p>\n<p><em>assuming the hash function disperses the elements properly among the buckets.</em></p>\n<p>Does that simply mean that the order you get, after assigning, will be a mess?</p>\n"},{"tags":["java","utf-8"],"comments":[{"owner":{"account_id":450872,"reputation":371,"user_id":846431,"display_name":"nilamber"},"score":1,"creation_date":1622366911,"post_id":67759625,"comment_id":119768091,"body_markdown":"Which kind of content type in file you are downloading  please mention little more detail.","body":"Which kind of content type in file you are downloading  please mention little more detail."},{"owner":{"account_id":450872,"reputation":371,"user_id":846431,"display_name":"nilamber"},"score":0,"creation_date":1622368515,"post_id":67759625,"comment_id":119768437,"body_markdown":"Code is working fine for normal json file which I tried to download over http and save it locally Can you share the file or content of actual file you are downloading","body":"Code is working fine for normal json file which I tried to download over http and save it locally Can you share the file or content of actual file you are downloading"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1622371382,"post_id":67759625,"comment_id":119769170,"body_markdown":"That &quot;gibberish&quot; looks like binary data. What are you downloading?","body":"That &quot;gibberish&quot; looks like binary data. What are you downloading?"},{"owner":{"account_id":15021181,"reputation":3,"user_id":10842548,"display_name":"Idan Azulay"},"score":0,"creation_date":1622479593,"post_id":67759625,"comment_id":119799400,"body_markdown":"the file is Json file","body":"the file is Json file"},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1622561393,"post_id":67759625,"comment_id":119824581,"body_markdown":"You might be reading a stream with content-encoding gzip, so are writing compressed bytes to json file not the expanded text.","body":"You might be reading a stream with content-encoding gzip, so are writing compressed bytes to json file not the expanded text."},{"owner":{"account_id":15021181,"reputation":3,"user_id":10842548,"display_name":"Idan Azulay"},"score":0,"creation_date":1622966948,"post_id":67759625,"comment_id":119938886,"body_markdown":"So how do I unzip it first then save it ?","body":"So how do I unzip it first then save it ?"}],"answers":[{"tags":[],"owner":{"account_id":15021181,"reputation":3,"user_id":10842548,"display_name":"Idan Azulay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1623143131,"creation_date":1623143131,"answer_id":67884625,"question_id":67759625,"body_markdown":"**Solved**\r\nThe issue was that the file extension which I downloaded was (.gz - zip) .\r\nand I tried to copy the details while using &quot;BufferedInputStream&quot; - that was wrong because the file content are compressed.\r\nI switched between &quot;BufferedInputStream&quot; to &quot;GZipInputStream&quot; and the file download fine.\r\n\r\nThanks for everyone who helped :)","title":"download from URL to file using Java (BufferedInputStream, FileOutputStream, Commons IO library, NIO)","body":"<p><strong>Solved</strong>\nThe issue was that the file extension which I downloaded was (.gz - zip) .\nand I tried to copy the details while using &quot;BufferedInputStream&quot; - that was wrong because the file content are compressed.\nI switched between &quot;BufferedInputStream&quot; to &quot;GZipInputStream&quot; and the file download fine.</p>\n<p>Thanks for everyone who helped :)</p>\n"}],"owner":{"account_id":15021181,"reputation":3,"user_id":10842548,"display_name":"Idan Azulay"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1645362406,"accepted_answer_id":67884625,"answer_count":1,"score":-1,"last_activity_date":1645569634,"creation_date":1622366657,"question_id":67759625,"body_markdown":"I have tried all the ways above to download from URL to file in java.\r\nAll the ways work, they really downloading the files to the correct directory. There is one issue:\r\nThe file content always in gibberish. \r\n\r\nFile content example:\r\n\r\n&quot;&#227;ˇ&#168;ΩK&#236;&#207;&#187;&#233;&amp;∂&#252;_˜l&#165;πU&#241;&#235;&#244;&#193;’&#170;n&#245;&#177;Q&#245;FY˜’h&#176;&#235;&#161;@A&quot;&#200;x&#184;&#235;&#229;∂˛&#212;2w2y™n&#161;&#163;Z&#227;{&#206;df&lt;H&#223;;&#175;&#183;ﬂ˛”&#223;◊W—„&#195;&#235;&#184;&#217;ˇˆ…cd&#200;?˝√”_?y:2&#249;&#172;&#223;&#175;˛ﬂˇ&#206;˙‰)pG“8&#209;#:G1o&#197;&#223;˜&#193;œ›&#192;&#243;?~’&#195;(\r\n8&#163;&#232;I&#209;&#193;?~π‡&#235;{&#171;–&#176;$x{&#163;u˘&#251;&#209;•&#225;&#201;z:&#237;&#225;&#218;gp8“&#161;k˝€;‰∞@&#243;ˆ&#252;&#252;&#229;[”E&#161;&#180;N!&#216;≤:h∞&#229;w∏&#233;&#207;ˆt∑$&#195;&#181;W&#199;&#226;∞”S&#196;&#193;˝◊?~[ O&#172;q&#229;pDﬂ&quot;4‡&#242;f&#217;X˚&#214;C&#205;&#199;&quot;\r\n\r\nIs anyone has any idea why the file dowloaded in that way? Maybe I should  try UTF-8 or something else?\r\n\r\nMy code:\r\n\r\n\t\tString dirName = &quot;/Users/idanazulay/Desktop/Hotels-river/&quot;;\r\n\t\tString fileUrl = null;\r\n\t\ttry {\r\n\t\t\tfileUrl = getHotelReview(&quot;en&quot;).getBody().getData().getURL();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (ParseException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t// downloadFileFromURLUsingNIO(dirName +&quot;\\\\feed_en2.json&quot;, fileUrl);\r\n\t\tBufferedInputStream in = null;\r\n\t\tFileOutputStream fout = null;\r\n\t\tURL httpUrl = new URL(UriUtils.encodePath(fileUrl, &quot;UTF-8&quot;));\r\n\t\ttry {\r\n\t\t\ttry {\r\n\t\t\t\tin = new BufferedInputStream(httpUrl.openStream());\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tfout = new FileOutputStream(dirName + &quot;\\\\feed_en2.json&quot;);\r\n\t\t\t} catch (FileNotFoundException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\tbyte data[] = new byte[1024];\r\n\t\t\tint count;\r\n\t\t\ttry {\r\n\t\t\t\twhile ((count = in.read(data, 0, 1024)) != -1) {\r\n\t\t\t\t\tfout.write(data, 0, count);\r\n\t\t\t\t}\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t} finally {\r\n\t\t\tif (in != null)\r\n\t\t\t\tin.close();\r\n\t\t\tif (fout != null)\r\n\t\t\t\tfout.close();\r\n\t\t}\r\n\t\tSystem.out.println(&quot;completed&quot;);\r\n\t\treturn &quot;Download completed&quot;;\r\n\r\n\t}\r\n\r\n\t// Using Commons IO library\r\n\tpublic static void saveFileFromUrlWithCommonsIO(String fileName, String fileUrl)\r\n\t\t\tthrows MalformedURLException, IOException {\r\n\t\tURL httpUrl = new URL(UriUtils.encodePath(fileUrl, &quot;UTF-8&quot;));\r\n\t\tFileUtils.copyURLToFile(httpUrl, new File(fileName));\r\n\t}\r\n\tprivate static void downloadFileFromURLUsingNIO(String fileName,String fileUrl) throws IOException {\r\n\t\t  URL url = new URL(fileUrl);\r\n\t\t  ReadableByteChannel rbc = Channels.newChannel(url.openStream());\r\n\t\t  FileOutputStream fOutStream = new FileOutputStream(fileName);\r\n\t\t  fOutStream.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);\r\n\t\t  fOutStream.close();\r\n\t\t  rbc.close();\r\n\t\t }\r\n\t\t \r\n\t\t \r\n","title":"download from URL to file using Java (BufferedInputStream, FileOutputStream, Commons IO library, NIO)","body":"<p>I have tried all the ways above to download from URL to file in java.\nAll the ways work, they really downloading the files to the correct directory. There is one issue:\nThe file content always in gibberish.</p>\n<p>File content example:</p>\n<p>&quot;ãˇ¨ΩKìÏ»é&amp;∂ü_˜l¥πUñëôÁ’ªnõ±QõFY˜’h°ë¡@A&quot;Èx¸ëå∂˛Ô2w2y™n¡£Zã{Îdf&lt;Hß;¯·ﬂ˛”ß◊W—„Ãë¸Ùˇˆ…cdÈ?˝√”_?y:2ù¬ß¯˛ﬂˇÎ˙‰)pG“8Ñ#:G1oÅß˜Áœ›Àó?~’Ã(\n8£èIÑÁ?~π‡ë{«–°$x{£u˘ûÑ•áÉz:íáÚgp8“¡k˝€;‰∞@óˆüüå[”E¡´N!Ø≤:h∞åw∏éÏˆt∑$ÃµWÇâ∞”SÄÁ˝◊?~[ O¬qåpDﬂ&quot;4‡òfÙX˚ÖCÍÇ&quot;</p>\n<p>Is anyone has any idea why the file dowloaded in that way? Maybe I should  try UTF-8 or something else?</p>\n<p>My code:</p>\n<pre><code>    String dirName = &quot;/Users/idanazulay/Desktop/Hotels-river/&quot;;\n    String fileUrl = null;\n    try {\n        fileUrl = getHotelReview(&quot;en&quot;).getBody().getData().getURL();\n    } catch (IOException e) {\n        e.printStackTrace();\n    } catch (ParseException e) {\n        e.printStackTrace();\n    }\n    // downloadFileFromURLUsingNIO(dirName +&quot;\\\\feed_en2.json&quot;, fileUrl);\n    BufferedInputStream in = null;\n    FileOutputStream fout = null;\n    URL httpUrl = new URL(UriUtils.encodePath(fileUrl, &quot;UTF-8&quot;));\n    try {\n        try {\n            in = new BufferedInputStream(httpUrl.openStream());\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        try {\n            fout = new FileOutputStream(dirName + &quot;\\\\feed_en2.json&quot;);\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n        byte data[] = new byte[1024];\n        int count;\n        try {\n            while ((count = in.read(data, 0, 1024)) != -1) {\n                fout.write(data, 0, count);\n            }\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    } finally {\n        if (in != null)\n            in.close();\n        if (fout != null)\n            fout.close();\n    }\n    System.out.println(&quot;completed&quot;);\n    return &quot;Download completed&quot;;\n\n}\n\n// Using Commons IO library\npublic static void saveFileFromUrlWithCommonsIO(String fileName, String fileUrl)\n        throws MalformedURLException, IOException {\n    URL httpUrl = new URL(UriUtils.encodePath(fileUrl, &quot;UTF-8&quot;));\n    FileUtils.copyURLToFile(httpUrl, new File(fileName));\n}\nprivate static void downloadFileFromURLUsingNIO(String fileName,String fileUrl) throws IOException {\n      URL url = new URL(fileUrl);\n      ReadableByteChannel rbc = Channels.newChannel(url.openStream());\n      FileOutputStream fOutStream = new FileOutputStream(fileName);\n      fOutStream.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);\n      fOutStream.close();\n      rbc.close();\n     }\n     \n     \n</code></pre>\n"},{"tags":["java","spring","spring-boot","yaml"],"comments":[{"owner":{"account_id":13314523,"reputation":26,"user_id":9611435,"display_name":"tudvari"},"score":0,"creation_date":1589614869,"post_id":61833373,"comment_id":109367707,"body_markdown":"You can use the @PropertySource annotation for this. [Check this thread please](https://stackoverflow.com/questions/23134869/spring-boot-how-to-use-multiple-yml-files)","body":"You can use the @PropertySource annotation for this. <a href=\"https://stackoverflow.com/questions/23134869/spring-boot-how-to-use-multiple-yml-files\">Check this thread please</a>"},{"owner":{"account_id":15665976,"reputation":43,"user_id":11303704,"display_name":"clumsy.kitten"},"score":0,"creation_date":1589615131,"post_id":61833373,"comment_id":109367773,"body_markdown":"Thank you so much but the file is very large and would be splitted into many small files, I&#39;m not sure if @PropertySource will help in this case. I kinda want a clean and nice code. Do you have any other alternatives?","body":"Thank you so much but the file is very large and would be splitted into many small files, I&#39;m not sure if @PropertySource will help in this case. I kinda want a clean and nice code. Do you have any other alternatives?"}],"answers":[{"tags":[],"owner":{"account_id":13314523,"reputation":26,"user_id":9611435,"display_name":"tudvari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589617923,"creation_date":1589617923,"answer_id":61833986,"question_id":61833373,"body_markdown":"Unfortunately I don&#39;t have better solution for you. You can use multiple source file this annotation: [PropertySources annotation][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/4.0.0.RELEASE/javadoc-api/org/springframework/context/annotation/PropertySources.html\r\n\r\nThis annotation can bind multiple PropertySource into one configuration.\r\n\r\nFor example: \r\n\r\n`@PropertySources({\r\n        @PropertySource(&quot;/file1.properties&quot;),\r\n        @PropertySource(&quot;/file2.properties&quot;)\r\n})`","title":"How to make spring.profile.include to include YAML files from subfolder?","body":"<p>Unfortunately I don't have better solution for you. You can use multiple source file this annotation: <a href=\"https://docs.spring.io/spring/docs/4.0.0.RELEASE/javadoc-api/org/springframework/context/annotation/PropertySources.html\" rel=\"nofollow noreferrer\">PropertySources annotation</a></p>\n\n<p>This annotation can bind multiple PropertySource into one configuration.</p>\n\n<p>For example: </p>\n\n<p><code>@PropertySources({\n        @PropertySource(\"/file1.properties\"),\n        @PropertySource(\"/file2.properties\")\n})</code></p>\n"},{"tags":[],"owner":{"account_id":15158968,"reputation":33,"user_id":10938777,"display_name":"martaisty"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589618115,"creation_date":1589618115,"answer_id":61834013,"question_id":61833373,"body_markdown":"You could try naming your subconfigs like this `application-a.yaml`,`application-b.yaml` and then use it in `application.yaml`\r\n```\r\nspring:\r\n   profiles:\r\n      include:\r\n         a,\r\n         b,\r\n         ...\r\n```\r\nThe idea taken from: https://stackoverflow.com/a/40500683/10938777","title":"How to make spring.profile.include to include YAML files from subfolder?","body":"<p>You could try naming your subconfigs like this <code>application-a.yaml</code>,<code>application-b.yaml</code> and then use it in <code>application.yaml</code></p>\n\n<pre><code>spring:\n   profiles:\n      include:\n         a,\n         b,\n         ...\n</code></pre>\n\n<p>The idea taken from: <a href=\"https://stackoverflow.com/a/40500683/10938777\">https://stackoverflow.com/a/40500683/10938777</a></p>\n"},{"tags":[],"owner":{"account_id":11568557,"reputation":1458,"user_id":8475994,"display_name":"athom"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645569519,"creation_date":1645569519,"answer_id":71229191,"question_id":61833373,"body_markdown":"Since Spring-Boot 2.4 you can use `spring.config.import` to import into your config.\r\n\r\nSo you could use something like this in your application.yml\r\n\r\n`spring.config.import: connection.yml`\r\n\r\nSpring Blog post [here][1]\r\n\r\n\r\n  [1]: https://spring.io/blog/2020/08/14/config-file-processing-in-spring-boot-2-4","title":"How to make spring.profile.include to include YAML files from subfolder?","body":"<p>Since Spring-Boot 2.4 you can use <code>spring.config.import</code> to import into your config.</p>\n<p>So you could use something like this in your application.yml</p>\n<p><code>spring.config.import: connection.yml</code></p>\n<p>Spring Blog post <a href=\"https://spring.io/blog/2020/08/14/config-file-processing-in-spring-boot-2-4\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":15665976,"reputation":43,"user_id":11303704,"display_name":"clumsy.kitten"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2189,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1645569519,"creation_date":1589614294,"question_id":61833373,"body_markdown":"I currently have 4 YAML files\r\n\r\n```\r\napplication.yaml\r\napplication-local.yaml\r\napplication-test.yaml\r\napplication-dev.yaml\r\n```\r\nI assume that `application.yaml` is acting as `default`.\r\n\r\nIn the other 3 files contains\r\n```\r\nspring:\r\n  profiles:\r\n    include: default\r\n```\r\n\r\nMy problem is that my `application.yaml` is very large \r\nand it contains properties that are hierarchical.\r\n\r\nFor example,\r\n```\r\nconnection:\r\n  baseUrl: &#39;http://localhost:5000&#39;\r\n  brokerUrl: &#39;http://localhost:8082&#39;\r\n  ...\r\n\r\nworkspaces:\r\n  a:\r\n    width: 45\r\n    height: 100\r\n    ...\r\n  b:\r\n    width: 56\r\n    height: 125\r\n    ...\r\n    \r\n```\r\n\r\nI would like to keep the content in current `application.yaml` in multiple files in subfolders.\r\n\r\nLet&#39;s say `connection.yaml` will contain\r\n```\r\nconnection:\r\n  baseUrl: &#39;http://localhost:5000&#39;\r\n  brokerUrl: &#39;http://localhost:8082&#39;\r\n  ...\r\n```\r\n`workspace-a.yaml`\r\nwill contain\r\n```\r\nworkspaces:\r\n  a:\r\n    width: 45\r\n    height: 100\r\n    ...\r\n```\r\nand lastly, `workspace-b.yaml` will contain\r\n```\r\nworkspaces:\r\n  a:\r\n    width: 56\r\n    height: 125\r\n    ...\r\n```\r\n\r\nat the end the structure will be like\r\n```\r\n/resources\r\n  application.yaml\r\n  application-local.yaml\r\n  application-test.yaml\r\n  application-dev.yaml\r\n  connection.yaml\r\n  /workspaces\r\n    a.yaml\r\n    b.yaml\r\n```\r\n\r\nI&#39;ve tried to put the following code in `application.yaml` but it didn&#39;t work.\r\n```\r\nspring:\r\n  profiles:\r\n    active: &#39;local&#39;\r\n    include:\r\n      - connection.yaml\r\n      - workspaces/a.yaml\r\n      - workspaces/b.yaml\r\n```\r\nI also have tried different formats like\r\n```\r\n- classpath:/workspaces/a.yaml\r\n- ./workspaces/a.yaml\r\n- file:./workspaces/a.yaml\r\n```\r\n\r\nPlease help :&#39;(","title":"How to make spring.profile.include to include YAML files from subfolder?","body":"<p>I currently have 4 YAML files</p>\n\n<pre><code>application.yaml\napplication-local.yaml\napplication-test.yaml\napplication-dev.yaml\n</code></pre>\n\n<p>I assume that <code>application.yaml</code> is acting as <code>default</code>.</p>\n\n<p>In the other 3 files contains</p>\n\n<pre><code>spring:\n  profiles:\n    include: default\n</code></pre>\n\n<p>My problem is that my <code>application.yaml</code> is very large \nand it contains properties that are hierarchical.</p>\n\n<p>For example,</p>\n\n<pre><code>connection:\n  baseUrl: 'http://localhost:5000'\n  brokerUrl: 'http://localhost:8082'\n  ...\n\nworkspaces:\n  a:\n    width: 45\n    height: 100\n    ...\n  b:\n    width: 56\n    height: 125\n    ...\n\n</code></pre>\n\n<p>I would like to keep the content in current <code>application.yaml</code> in multiple files in subfolders.</p>\n\n<p>Let's say <code>connection.yaml</code> will contain</p>\n\n<pre><code>connection:\n  baseUrl: 'http://localhost:5000'\n  brokerUrl: 'http://localhost:8082'\n  ...\n</code></pre>\n\n<p><code>workspace-a.yaml</code>\nwill contain</p>\n\n<pre><code>workspaces:\n  a:\n    width: 45\n    height: 100\n    ...\n</code></pre>\n\n<p>and lastly, <code>workspace-b.yaml</code> will contain</p>\n\n<pre><code>workspaces:\n  a:\n    width: 56\n    height: 125\n    ...\n</code></pre>\n\n<p>at the end the structure will be like</p>\n\n<pre><code>/resources\n  application.yaml\n  application-local.yaml\n  application-test.yaml\n  application-dev.yaml\n  connection.yaml\n  /workspaces\n    a.yaml\n    b.yaml\n</code></pre>\n\n<p>I've tried to put the following code in <code>application.yaml</code> but it didn't work.</p>\n\n<pre><code>spring:\n  profiles:\n    active: 'local'\n    include:\n      - connection.yaml\n      - workspaces/a.yaml\n      - workspaces/b.yaml\n</code></pre>\n\n<p>I also have tried different formats like</p>\n\n<pre><code>- classpath:/workspaces/a.yaml\n- ./workspaces/a.yaml\n- file:./workspaces/a.yaml\n</code></pre>\n\n<p>Please help :'(</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1645568459,"post_id":71228994,"comment_id":125905489,"body_markdown":"What&#39;s the comparator for? A list could be generated by walking the tree appropriately.","body":"What&#39;s the comparator for? A list could be generated by walking the tree appropriately."},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":1,"creation_date":1645568500,"post_id":71228994,"comment_id":125905497,"body_markdown":"Agreed. This isn&#39;t a sorting problem. It&#39;s a [traversal problem](https://en.wikipedia.org/wiki/Tree_traversal).","body":"Agreed. This isn&#39;t a sorting problem. It&#39;s a <a href=\"https://en.wikipedia.org/wiki/Tree_traversal\" rel=\"nofollow noreferrer\">traversal problem</a>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645568900,"post_id":71228994,"comment_id":125905624,"body_markdown":"I don&#39;t fully understand the ordering you want. Would E5, E1, E3, E4, E2 be valid?","body":"I don&#39;t fully understand the ordering you want. Would E5, E1, E3, E4, E2 be valid?"},{"owner":{"account_id":23816906,"reputation":1,"user_id":17825049,"display_name":"one1on"},"score":0,"creation_date":1645569138,"post_id":71228994,"comment_id":125905690,"body_markdown":"@tgdavies no, E1 and E5 are &quot;roots&quot;. I can accept any order E1, E5 or E5, E1 on the first level.","body":"@tgdavies no, E1 and E5 are &quot;roots&quot;. I can accept any order E1, E5 or E5, E1 on the first level."},{"owner":{"account_id":23816906,"reputation":1,"user_id":17825049,"display_name":"one1on"},"score":0,"creation_date":1645569253,"post_id":71228994,"comment_id":125905723,"body_markdown":"@DaveNewton that&#39;s a very simple approach I did not think about yet. +1","body":"@DaveNewton that&#39;s a very simple approach I did not think about yet. +1"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645569273,"post_id":71228994,"comment_id":125905732,"body_markdown":"Then why not E3, E4, E2 on the second level?","body":"Then why not E3, E4, E2 on the second level?"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645568359,"creation_date":1645568359,"answer_id":71229018,"question_id":71228994,"body_markdown":"The most viable solution is to use a tree to get to a comparator -- by going through the tree and adding the index to each node.  Just add an `int` value to each tree node, and then number the entries as you go through them.","title":"Comparator for recursivly nested structure","body":"<p>The most viable solution is to use a tree to get to a comparator -- by going through the tree and adding the index to each node.  Just add an <code>int</code> value to each tree node, and then number the entries as you go through them.</p>\n"}],"owner":{"account_id":23816906,"reputation":1,"user_id":17825049,"display_name":"one1on"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645569395,"creation_date":1645568236,"question_id":71228994,"body_markdown":"I do have a `List&lt;Entry&gt;` where each `Entry` has an attribute `parent` of type `Entry`.\r\nI want them sorted like this (of course the order can not be used from the name - only from parent property):\r\n```\r\n(spaces do not matter)\r\nE1\r\n  E2\r\n  E3\r\n    E4\r\nE5\r\n```\r\n```java\r\nprivate record Entry(String name, Entry parent) {}\r\n\r\nvar e1 = new Entry(&quot;e1&quot;, null);\r\nvar e2 = new Entry(&quot;e2&quot;, e1);\r\nvar e3 = new Entry(&quot;e3&quot;, e1);\r\nvar e4 = new Entry(&quot;e4&quot;, e3);\r\nvar e5 = new Entry(&quot;e5&quot;, null);\r\n\r\nList&lt;Entry&gt; entries = List.of(e5, e2, e3, e1, e4); // unsorted order\r\n```\r\nMy idea was to unflatten this list to a Tree but a Tree does not help to get an Comparator. How could I use the structures to what I need to transform it, so that I can sort it with a Comparator? ","title":"Comparator for recursivly nested structure","body":"<p>I do have a <code>List&lt;Entry&gt;</code> where each <code>Entry</code> has an attribute <code>parent</code> of type <code>Entry</code>.\nI want them sorted like this (of course the order can not be used from the name - only from parent property):</p>\n<pre><code>(spaces do not matter)\nE1\n  E2\n  E3\n    E4\nE5\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>private record Entry(String name, Entry parent) {}\n\nvar e1 = new Entry(&quot;e1&quot;, null);\nvar e2 = new Entry(&quot;e2&quot;, e1);\nvar e3 = new Entry(&quot;e3&quot;, e1);\nvar e4 = new Entry(&quot;e4&quot;, e3);\nvar e5 = new Entry(&quot;e5&quot;, null);\n\nList&lt;Entry&gt; entries = List.of(e5, e2, e3, e1, e4); // unsorted order\n</code></pre>\n<p>My idea was to unflatten this list to a Tree but a Tree does not help to get an Comparator. How could I use the structures to what I need to transform it, so that I can sort it with a Comparator?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":5126847,"reputation":356,"user_id":4108566,"accept_rate":50,"display_name":"VMi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1628845982,"creation_date":1628845982,"answer_id":68769682,"question_id":68746883,"body_markdown":"You have to change the output buffer writing method.\r\n\r\nSo instead of, in zip download method\r\n\r\n        output.write(count);\r\n\r\nUse,\r\n\r\n      output.write(data,0,count);","title":"Unable to Unzip file when downloaded from URL, but works when downloaded from FTP","body":"<p>You have to change the output buffer writing method.</p>\n<p>So instead of, in zip download method</p>\n<pre><code>    output.write(count);\n</code></pre>\n<p>Use,</p>\n<pre><code>  output.write(data,0,count);\n</code></pre>\n"}],"owner":{"display_name":"user14892417"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68769682,"answer_count":1,"score":0,"last_activity_date":1645569276,"creation_date":1628704682,"question_id":68746883,"body_markdown":"I am trying to download an e-book from URL and unzip it, which further goes for display. While the same unzip logic works perfectly for a FTP download, when it comes to URL, unzipping method does nothing after download.\r\n\r\nMy book download calling method :\r\n\r\n         DownloadBook db = new DownloadBook(localFile,&quot;some url&quot;,book.key,context,(TaskListener) result -&gt; {\r\n    \r\n                if (result) {\r\n                       \r\n                runOnUiThread(() -&gt; pBar.setVisibility(View.VISIBLE));\r\n    \r\n                \r\n                    Runnable t = (Runnable) () -&gt; {\r\n                        unzip(localFile.getPath(), b.key.replace(&quot;.zip&quot;,&quot;&quot;), b);\r\n                        isDownloaded = true;\r\n                      \r\n                        //Deleting downlaoded zip file\r\n                        System.out.println(&quot;zip file deleted - &quot;+localFile.delete());\r\n    \r\n                        String urls = localFile.getPath() + &quot;/&quot; + ((b.key).replace(&quot;.zip&quot;, &quot;&quot;));\r\n                        System.out.println(&quot;URL IS &quot; + urls);\r\n                        System.out.println(&quot;Going for Display&quot;);\r\n                        GlobalVars.title = b.title;\r\n                        Intent intent = new Intent(My_Library.this, DisplayActivity.class);\r\n                        startActivity(intent);//\r\n                    };\r\n    \r\n                    t.run();\r\n    \r\n                } else {\r\n                    runOnUiThread(() -&gt;\r\n                    {\r\n                        alert = new AlertDialog.Builder(this);\r\n    \r\n                    alert.setTitle(&quot;Error&quot;);\r\n                    alert.setMessage(&quot;Could not download. Please try again !&quot;)\r\n                            .setCancelable(true)\r\n                            .setNegativeButton(&quot;Continue&quot;, new DialogInterface.OnClickListener() {\r\n                                @Override\r\n                                public void onClick(DialogInterface dialog, int which) {\r\n                                    Intent intent = new Intent(My_Library.this, My_Library.class);\r\n                                    startActivity(intent);\r\n                                    dialog.cancel();\r\n                                }\r\n                            });\r\n    \r\n                    alert.create();\r\n                    alert.show();\r\n    \r\n                }\r\n                    );\r\n    \r\n    \r\n                }\r\n    \r\n            });\r\n\r\nThe zip file download method :\r\n\r\n      t = new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                   \r\n                    InputStream input = null;\r\n                    OutputStream output = null;\r\n                    HttpURLConnection connection = null;\r\n                    try {\r\n                        URL url = new URL(&quot;some url&quot;);\r\n                        connection = (HttpURLConnection) url.openConnection();\r\n                        connection.connect();\r\n\r\n                      \r\n                        int fileLength = connection.getContentLength();\r\n\r\n                        // download the file\r\n                        input = connection.getInputStream();\r\n                        output = new FileOutputStream(localFile);\r\n\r\n                        byte data[] = new byte[4096];\r\n                        long total = 0;\r\n                        int count;\r\n                        while ((count = input.read(data)) != -1) {\r\n\r\n                            total += count;\r\n                            // publishing the progress....\r\n                            System.out.println(&quot;Total is &quot;+total);\r\n\r\n                            if(fileLength&gt;0)\r\n                            {\r\n                                System.out.println(&quot;File length is &quot;+fileLength+&quot; local file length is &quot;+localFile.length());\r\n                                percent = (int) (total * 100 / fileLength);\r\n                                System.out.println(&quot;FTP_DOWNLOAD bytesTransferred /downloaded -&gt; &quot; + percent);\r\n                                mProgress.setProgress(percent);\r\n\r\n                            }\r\n                            output.write(count);\r\n                            output.flush();\r\n\r\n                        }\r\n\r\n                        mListener.finished(true);\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                        mListener.finished(false);\r\n                    } finally {\r\n                        try {\r\n                            output.flush();\r\n                            if (output != null)\r\n                                output.close();\r\n                            if (input != null)\r\n                                input.close();\r\n\r\n                        } catch (IOException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                           connection.disconnect();\r\n                    }\r\n\r\nThe unzip method\r\n\r\n    public void unzip(String _zipFile, String _targetLocation, Book b) {\r\n        pBar.setVisibility(View.VISIBLE);\r\n        GlobalVars.path = _targetLocation;\r\n        _targetLocation = getApplicationContext().getFilesDir().getPath();\r\n\r\n        dirChecker(_targetLocation);\r\n\r\n        try {\r\n            BufferedInputStream fin = new BufferedInputStream(new FileInputStream(_zipFile));\r\n            ZipInputStream zin = new ZipInputStream(fin);\r\n            ZipEntry ze = null;\r\n            while ((ze = zin.getNextEntry()) != null) {\r\n                System.out.println(&quot;Unzipping file -&gt; &quot; + ze.getName());\r\n                //create dir if required while unzipping\r\n                if (ze.isDirectory()) {\r\n                    dirChecker(getApplicationContext().getFilesDir().getPath() + &quot;/&quot; + ze.getName());\r\n                } else {\r\n                    File f = new File(getApplicationContext().getFilesDir().getPath() + &quot;/&quot; + ze.getName());\r\n                    dirChecker(f.getParent());\r\n                    long size = f.length();\r\n                    BufferedOutputStream fout = new BufferedOutputStream(new FileOutputStream(new File(String.valueOf(f.getAbsoluteFile()))));\r\n\r\n                    byte[] buffer = new byte[1024];\r\n                    int read = 0;\r\n                    while ((read = zin.read(buffer)) != -1) {\r\n                        fout.write(buffer, 0, read);\r\n                    }\r\n                    zin.closeEntry();\r\n                    fout.close();\r\n\r\n            }\r\n            zin.close();\r\n        } catch (Exception e) {\r\n            System.out.println(e);\r\n        } \r\n    }\r\n\r\nThe FTP download class method Unzip works absolutely fine. But as I try to put download from url, it just downloads but not unzips.","title":"Unable to Unzip file when downloaded from URL, but works when downloaded from FTP","body":"<p>I am trying to download an e-book from URL and unzip it, which further goes for display. While the same unzip logic works perfectly for a FTP download, when it comes to URL, unzipping method does nothing after download.</p>\n<p>My book download calling method :</p>\n<pre><code>     DownloadBook db = new DownloadBook(localFile,&quot;some url&quot;,book.key,context,(TaskListener) result -&gt; {\n\n            if (result) {\n                   \n            runOnUiThread(() -&gt; pBar.setVisibility(View.VISIBLE));\n\n            \n                Runnable t = (Runnable) () -&gt; {\n                    unzip(localFile.getPath(), b.key.replace(&quot;.zip&quot;,&quot;&quot;), b);\n                    isDownloaded = true;\n                  \n                    //Deleting downlaoded zip file\n                    System.out.println(&quot;zip file deleted - &quot;+localFile.delete());\n\n                    String urls = localFile.getPath() + &quot;/&quot; + ((b.key).replace(&quot;.zip&quot;, &quot;&quot;));\n                    System.out.println(&quot;URL IS &quot; + urls);\n                    System.out.println(&quot;Going for Display&quot;);\n                    GlobalVars.title = b.title;\n                    Intent intent = new Intent(My_Library.this, DisplayActivity.class);\n                    startActivity(intent);//\n                };\n\n                t.run();\n\n            } else {\n                runOnUiThread(() -&gt;\n                {\n                    alert = new AlertDialog.Builder(this);\n\n                alert.setTitle(&quot;Error&quot;);\n                alert.setMessage(&quot;Could not download. Please try again !&quot;)\n                        .setCancelable(true)\n                        .setNegativeButton(&quot;Continue&quot;, new DialogInterface.OnClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialog, int which) {\n                                Intent intent = new Intent(My_Library.this, My_Library.class);\n                                startActivity(intent);\n                                dialog.cancel();\n                            }\n                        });\n\n                alert.create();\n                alert.show();\n\n            }\n                );\n\n\n            }\n\n        });\n</code></pre>\n<p>The zip file download method :</p>\n<pre><code>  t = new Thread(new Runnable() {\n            @Override\n            public void run() {\n               \n                InputStream input = null;\n                OutputStream output = null;\n                HttpURLConnection connection = null;\n                try {\n                    URL url = new URL(&quot;some url&quot;);\n                    connection = (HttpURLConnection) url.openConnection();\n                    connection.connect();\n\n                  \n                    int fileLength = connection.getContentLength();\n\n                    // download the file\n                    input = connection.getInputStream();\n                    output = new FileOutputStream(localFile);\n\n                    byte data[] = new byte[4096];\n                    long total = 0;\n                    int count;\n                    while ((count = input.read(data)) != -1) {\n\n                        total += count;\n                        // publishing the progress....\n                        System.out.println(&quot;Total is &quot;+total);\n\n                        if(fileLength&gt;0)\n                        {\n                            System.out.println(&quot;File length is &quot;+fileLength+&quot; local file length is &quot;+localFile.length());\n                            percent = (int) (total * 100 / fileLength);\n                            System.out.println(&quot;FTP_DOWNLOAD bytesTransferred /downloaded -&gt; &quot; + percent);\n                            mProgress.setProgress(percent);\n\n                        }\n                        output.write(count);\n                        output.flush();\n\n                    }\n\n                    mListener.finished(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                    mListener.finished(false);\n                } finally {\n                    try {\n                        output.flush();\n                        if (output != null)\n                            output.close();\n                        if (input != null)\n                            input.close();\n\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                       connection.disconnect();\n                }\n</code></pre>\n<p>The unzip method</p>\n<pre><code>public void unzip(String _zipFile, String _targetLocation, Book b) {\n    pBar.setVisibility(View.VISIBLE);\n    GlobalVars.path = _targetLocation;\n    _targetLocation = getApplicationContext().getFilesDir().getPath();\n\n    dirChecker(_targetLocation);\n\n    try {\n        BufferedInputStream fin = new BufferedInputStream(new FileInputStream(_zipFile));\n        ZipInputStream zin = new ZipInputStream(fin);\n        ZipEntry ze = null;\n        while ((ze = zin.getNextEntry()) != null) {\n            System.out.println(&quot;Unzipping file -&gt; &quot; + ze.getName());\n            //create dir if required while unzipping\n            if (ze.isDirectory()) {\n                dirChecker(getApplicationContext().getFilesDir().getPath() + &quot;/&quot; + ze.getName());\n            } else {\n                File f = new File(getApplicationContext().getFilesDir().getPath() + &quot;/&quot; + ze.getName());\n                dirChecker(f.getParent());\n                long size = f.length();\n                BufferedOutputStream fout = new BufferedOutputStream(new FileOutputStream(new File(String.valueOf(f.getAbsoluteFile()))));\n\n                byte[] buffer = new byte[1024];\n                int read = 0;\n                while ((read = zin.read(buffer)) != -1) {\n                    fout.write(buffer, 0, read);\n                }\n                zin.closeEntry();\n                fout.close();\n\n        }\n        zin.close();\n    } catch (Exception e) {\n        System.out.println(e);\n    } \n}\n</code></pre>\n<p>The FTP download class method Unzip works absolutely fine. But as I try to put download from url, it just downloads but not unzips.</p>\n"},{"tags":["java","filereader"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1645564180,"post_id":71228302,"comment_id":125904134,"body_markdown":"You must write code to do this. But it can be done in 1 line.","body":"You must write code to do this. But it can be done in 1 line."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":2,"creation_date":1645564426,"post_id":71228302,"comment_id":125904225,"body_markdown":"Because we&#39;re programmers: what does `101213 242526 858584` turn into? Because there is no reason for that to be `{10,12,13}...`, it could just as easily be `{1012,1,3}`.","body":"Because we&#39;re programmers: what does <code>101213 242526 858584</code> turn into? Because there is no reason for that to be <code>{10,12,13}...</code>, it could just as easily be <code>{1012,1,3}</code>."},{"owner":{"account_id":24257365,"reputation":3,"user_id":18207515,"display_name":"Oninji"},"score":0,"creation_date":1645565720,"post_id":71228302,"comment_id":125904638,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans I added some clarification, each character is it&#39;s own number. Which is kinda my problem, as to not read the them as (int 123) but {1,2,3}.","body":"@Mike&#39;Pomax&#39;Kamermans I added some clarification, each character is it&#39;s own number. Which is kinda my problem, as to not read the them as (int 123) but {1,2,3}."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1645566187,"post_id":71228302,"comment_id":125904770,"body_markdown":"In that case, just read the entire string, split it into an array of single letters, and then iterate over that. If you see a space, you know you need to move on to the next tuple, if it&#39;s not, convert to int and do what you need to do with that, given a knowledge of &quot;how many numbers you already saw&quot;. You should be able to least write _some_ code yourself here that you can add into your post.","body":"In that case, just read the entire string, split it into an array of single letters, and then iterate over that. If you see a space, you know you need to move on to the next tuple, if it&#39;s not, convert to int and do what you need to do with that, given a knowledge of &quot;how many numbers you already saw&quot;. You should be able to least write <i>some</i> code yourself here that you can add into your post."},{"owner":{"account_id":24257365,"reputation":3,"user_id":18207515,"display_name":"Oninji"},"score":0,"creation_date":1645566723,"post_id":71228302,"comment_id":125904969,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans That&#39;s pretty much what I was asking, If I could do it another way. But if not, seems fine I&#39;ll do it that way then. :) Import as strings, separate characters and convert into integers. Just felt a bit roundabout, but thanks!","body":"@Mike&#39;Pomax&#39;Kamermans That&#39;s pretty much what I was asking, If I could do it another way. But if not, seems fine I&#39;ll do it that way then. :) Import as strings, separate characters and convert into integers. Just felt a bit roundabout, but thanks!"}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645569089,"creation_date":1645569089,"answer_id":71229132,"question_id":71228302,"body_markdown":"Try this:\r\n\r\n    int[][][] array = Files.lines(Path.of(&quot;myfilename.txt&quot;))\r\n        .map(line -&gt; Arrays.stream(line.split(&quot; &quot;)) // split line into terms\r\n                .map(term -&gt; term.chars().map(Character::getNumericValue).toArray()) // convert each term to int[]\r\n                .toArray(int[][]::new)) // convert each line to int[][]\r\n        .toArray(int[][][]::new); // convert all lines of file to a single int[][][]\r\n\r\nSee [live demo][1].\r\n\r\n\r\n  [1]: https://ideone.com/sQwbEA","title":"Java; Writing int from characters in file to an array","body":"<p>Try this:</p>\n<pre><code>int[][][] array = Files.lines(Path.of(&quot;myfilename.txt&quot;))\n    .map(line -&gt; Arrays.stream(line.split(&quot; &quot;)) // split line into terms\n            .map(term -&gt; term.chars().map(Character::getNumericValue).toArray()) // convert each term to int[]\n            .toArray(int[][]::new)) // convert each line to int[][]\n    .toArray(int[][][]::new); // convert all lines of file to a single int[][][]\n</code></pre>\n<p>See <a href=\"https://ideone.com/sQwbEA\" rel=\"nofollow noreferrer\">live demo</a>.</p>\n"}],"owner":{"account_id":24257365,"reputation":3,"user_id":18207515,"display_name":"Oninji"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":71229132,"answer_count":1,"score":-2,"last_activity_date":1645569089,"creation_date":1645564010,"question_id":71228302,"body_markdown":"I need to convert a file into an int array, my source have a strict formatting. Each single character correspond a int(or byte) to be stored in an array, spacing delimiting a new array in a 2D Array.\r\n\r\nThe file would be formatted as so. (x,y,z coordinates), each character of a 3 number string needing to be stored individually.\r\n\r\n    013 234 456 567\r\n\r\nMy desired output would be as so.\r\n\r\n    {0,1,3}{2,3,4}{4,5,6}{5,6,7}\r\n\r\nWould there be achieve directly from a file reading method or will I have to import them as string with a scanner, than separate the numbers from there?","title":"Java; Writing int from characters in file to an array","body":"<p>I need to convert a file into an int array, my source have a strict formatting. Each single character correspond a int(or byte) to be stored in an array, spacing delimiting a new array in a 2D Array.</p>\n<p>The file would be formatted as so. (x,y,z coordinates), each character of a 3 number string needing to be stored individually.</p>\n<pre><code>013 234 456 567\n</code></pre>\n<p>My desired output would be as so.</p>\n<pre><code>{0,1,3}{2,3,4}{4,5,6}{5,6,7}\n</code></pre>\n<p>Would there be achieve directly from a file reading method or will I have to import them as string with a scanner, than separate the numbers from there?</p>\n"},{"tags":["java","android","flutter"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1641051572,"post_id":70549815,"comment_id":124712334,"body_markdown":"https://meta.stackoverflow.com/questions/272165/are-developer-centric-questions-about-application-stores-on-topic","body":"<a href=\"https://meta.stackoverflow.com/questions/272165/are-developer-centric-questions-about-application-stores-on-topic\" title=\"are developer centric questions about application stores on topic\">meta.stackoverflow.com/questions/272165/&hellip;</a>"},{"owner":{"account_id":20639121,"reputation":2546,"user_id":15152205,"display_name":"Feulgen"},"score":0,"creation_date":1644589748,"post_id":70549815,"comment_id":125653596,"body_markdown":"Did you find a solution about your problem ?","body":"Did you find a solution about your problem ?"},{"owner":{"account_id":15555741,"reputation":65,"user_id":11582172,"display_name":"Aleyna Eser"},"score":0,"creation_date":1644864257,"post_id":70549815,"comment_id":125713269,"body_markdown":"Unfortunately, i couldn&#39;t find any solution","body":"Unfortunately, i couldn&#39;t find any solution"}],"answers":[{"tags":[],"owner":{"account_id":15010219,"reputation":55,"user_id":10834931,"display_name":"Darian Pudic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645569068,"creation_date":1645568738,"answer_id":71229081,"question_id":70549815,"body_markdown":"Problem potentially comes from signing certificate. Use the key for production, not the one that you used for development. You can find more here: https://stackoverflow.com/questions/47107297/google-sign-in-not-working-from-app-downloaded-from-playstore/54566104#54566104\r\n\r\nAlso, make sure that your privacy policy is globally accessible. I put mine on my website, you can try to do the same.\r\n\r\nAlso, feel free to screen record usage of application on your side, submit what you record to Youtube and provide link to the video together with your login instructions. \r\n\r\nAdditional option: you may submit an appeal on reviewer&#39;s decision and you will receive one on one support in form of email discussion. They are providing generic answers, I was under impression that they weren&#39;t reading at all what I wrote in previous email, but when you combine this support with a lot of digging you will hopefully find the solution.","title":"I can&#39;t add my app to google play: Issue: Need login credentials for app review","body":"<p>Problem potentially comes from signing certificate. Use the key for production, not the one that you used for development. You can find more here: <a href=\"https://stackoverflow.com/questions/47107297/google-sign-in-not-working-from-app-downloaded-from-playstore/54566104#54566104\">Google Sign in not working from app downloaded from playstore</a></p>\n<p>Also, make sure that your privacy policy is globally accessible. I put mine on my website, you can try to do the same.</p>\n<p>Also, feel free to screen record usage of application on your side, submit what you record to Youtube and provide link to the video together with your login instructions.</p>\n<p>Additional option: you may submit an appeal on reviewer's decision and you will receive one on one support in form of email discussion. They are providing generic answers, I was under impression that they weren't reading at all what I wrote in previous email, but when you combine this support with a lot of digging you will hopefully find the solution.</p>\n"}],"owner":{"account_id":15555741,"reputation":65,"user_id":11582172,"display_name":"Aleyna Eser"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1699,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1645569068,"creation_date":1641050884,"question_id":70549815,"body_markdown":"I can&#39;t add my app to google play. it gives the following error but I added login credentials.\r\n\r\nERROR:\r\n```\r\nIssue: Need login credentials for app review\r\nIn order for us to review your app for compliance with Developer Program Policies, we will need you to provide valid login credentials for your app. \r\n\r\n{If in-app content can’t be accessed after entering login credentials}We could not access in-app content due to app connection error.\r\n\r\n```\r\n\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nhere i hide my mail and password but normally i write\r\n\r\n[![enter image description here][2]][2]\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/C90eQ.png\r\n  [2]: https://i.stack.imgur.com/hYDie.png","title":"I can&#39;t add my app to google play: Issue: Need login credentials for app review","body":"<p>I can't add my app to google play. it gives the following error but I added login credentials.</p>\n<p>ERROR:</p>\n<pre><code>Issue: Need login credentials for app review\nIn order for us to review your app for compliance with Developer Program Policies, we will need you to provide valid login credentials for your app. \n\n{If in-app content can’t be accessed after entering login credentials}We could not access in-app content due to app connection error.\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/C90eQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C90eQ.png\" alt=\"enter image description here\" /></a></p>\n<p>here i hide my mail and password but normally i write</p>\n<p><a href=\"https://i.stack.imgur.com/hYDie.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hYDie.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","logging","startup"],"answers":[{"tags":[],"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1620911891,"creation_date":1515691709,"answer_id":48212783,"question_id":48212761,"body_markdown":"For doing this you need to register an [`ApplicationListener`](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/ApplicationListener.html). The event to catch is the [`ApplicationPreparedEvent`](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/context/event/ApplicationPreparedEvent.html), according to the documentation:\r\n\r\n&gt; ApplicationPreparedEvent is an event published when a SpringApplication is starting up and the\r\n&gt; ApplicationContext is fully prepared but not refreshed. The bean\r\n&gt; definitions will be loaded and the Environment is ready for use at\r\n&gt; this stage.\r\n\r\nThe main method would look like this:\r\n\r\n    public static void main(String[] args) {\r\n    \t\tSpringApplication springApplication = new SpringApplication(MyApplication.class);\r\n    \t\tspringApplication.addListeners(new PropertiesLogger());\r\n    \t\tspringApplication.run(args);\t\t\r\n    }\r\n\r\nI&#39;ve reused the code of the answer cited in the current question but I&#39;ve modified it because the context you get is not already refreshed and the structure of the environment is not exactly the same as after the startup of the application. I&#39;ve also printed the properties by property sources: one for the the system environment, one for the system properties, one for the application configuration properties, etc... Note also that the `ApplicationPreparedEvent` can be triggered multiple times, and that properties are printed only the first time. See [Spring Boot issue #8899](https://github.com/spring-projects/spring-boot/issues/8899) for details.\r\n\r\n\r\n    package com.toto.myapp.util;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.boot.context.event.ApplicationPreparedEvent;\r\n    import org.springframework.context.ApplicationListener;\r\n    import org.springframework.core.env.ConfigurableEnvironment;\r\n    import org.springframework.core.env.EnumerablePropertySource;\r\n    import org.springframework.core.env.PropertySource;\r\n    \r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    \r\n    public class PropertiesLogger implements ApplicationListener&lt;ApplicationPreparedEvent&gt; {\r\n      private static final Logger log = LoggerFactory.getLogger(PropertiesLogger.class);\r\n    \r\n      private ConfigurableEnvironment environment;\r\n      private boolean isFirstRun = true;\r\n    \r\n      @Override\r\n      public void onApplicationEvent(ApplicationPreparedEvent event) {\r\n        if (isFirstRun) {\r\n          environment = event.getApplicationContext().getEnvironment();\r\n          printProperties();\r\n        }\r\n        isFirstRun = false;\r\n      }\r\n    \r\n      public void printProperties() {\r\n        for (EnumerablePropertySource propertySource : findPropertiesPropertySources()) {\r\n          log.info(&quot;******* &quot; + propertySource.getName() + &quot; *******&quot;);\r\n          String[] propertyNames = propertySource.getPropertyNames();\r\n          Arrays.sort(propertyNames);\r\n          for (String propertyName : propertyNames) {\r\n            String resolvedProperty = environment.getProperty(propertyName);\r\n            String sourceProperty = propertySource.getProperty(propertyName).toString();\r\n            if(resolvedProperty.equals(sourceProperty)) {\r\n              log.info(&quot;{}={}&quot;, propertyName, resolvedProperty);\r\n            }else {\r\n              log.info(&quot;{}={} OVERRIDDEN to {}&quot;, propertyName, sourceProperty, resolvedProperty);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    \r\n      private List&lt;EnumerablePropertySource&gt; findPropertiesPropertySources() {\r\n        List&lt;EnumerablePropertySource&gt; propertiesPropertySources = new LinkedList&lt;&gt;();\r\n        for (PropertySource&lt;?&gt; propertySource : environment.getPropertySources()) {\r\n          if (propertySource instanceof EnumerablePropertySource) {\r\n            propertiesPropertySources.add((EnumerablePropertySource) propertySource);\r\n          }\r\n        }\r\n        return propertiesPropertySources;\r\n      }\r\n    }","title":"How to log all active properties of a spring boot application before the beans instantiation?","body":"<p>For doing this you need to register an <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/ApplicationListener.html\" rel=\"noreferrer\"><code>ApplicationListener</code></a>. The event to catch is the <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/context/event/ApplicationPreparedEvent.html\" rel=\"noreferrer\"><code>ApplicationPreparedEvent</code></a>, according to the documentation:</p>\n<blockquote>\n<p>ApplicationPreparedEvent is an event published when a SpringApplication is starting up and the\nApplicationContext is fully prepared but not refreshed. The bean\ndefinitions will be loaded and the Environment is ready for use at\nthis stage.</p>\n</blockquote>\n<p>The main method would look like this:</p>\n<pre><code>public static void main(String[] args) {\n        SpringApplication springApplication = new SpringApplication(MyApplication.class);\n        springApplication.addListeners(new PropertiesLogger());\n        springApplication.run(args);        \n}\n</code></pre>\n<p>I've reused the code of the answer cited in the current question but I've modified it because the context you get is not already refreshed and the structure of the environment is not exactly the same as after the startup of the application. I've also printed the properties by property sources: one for the the system environment, one for the system properties, one for the application configuration properties, etc... Note also that the <code>ApplicationPreparedEvent</code> can be triggered multiple times, and that properties are printed only the first time. See <a href=\"https://github.com/spring-projects/spring-boot/issues/8899\" rel=\"noreferrer\">Spring Boot issue #8899</a> for details.</p>\n<pre><code>package com.toto.myapp.util;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.context.event.ApplicationPreparedEvent;\nimport org.springframework.context.ApplicationListener;\nimport org.springframework.core.env.ConfigurableEnvironment;\nimport org.springframework.core.env.EnumerablePropertySource;\nimport org.springframework.core.env.PropertySource;\n\nimport java.util.LinkedList;\nimport java.util.List;\n\npublic class PropertiesLogger implements ApplicationListener&lt;ApplicationPreparedEvent&gt; {\n  private static final Logger log = LoggerFactory.getLogger(PropertiesLogger.class);\n\n  private ConfigurableEnvironment environment;\n  private boolean isFirstRun = true;\n\n  @Override\n  public void onApplicationEvent(ApplicationPreparedEvent event) {\n    if (isFirstRun) {\n      environment = event.getApplicationContext().getEnvironment();\n      printProperties();\n    }\n    isFirstRun = false;\n  }\n\n  public void printProperties() {\n    for (EnumerablePropertySource propertySource : findPropertiesPropertySources()) {\n      log.info(&quot;******* &quot; + propertySource.getName() + &quot; *******&quot;);\n      String[] propertyNames = propertySource.getPropertyNames();\n      Arrays.sort(propertyNames);\n      for (String propertyName : propertyNames) {\n        String resolvedProperty = environment.getProperty(propertyName);\n        String sourceProperty = propertySource.getProperty(propertyName).toString();\n        if(resolvedProperty.equals(sourceProperty)) {\n          log.info(&quot;{}={}&quot;, propertyName, resolvedProperty);\n        }else {\n          log.info(&quot;{}={} OVERRIDDEN to {}&quot;, propertyName, sourceProperty, resolvedProperty);\n        }\n      }\n    }\n  }\n\n  private List&lt;EnumerablePropertySource&gt; findPropertiesPropertySources() {\n    List&lt;EnumerablePropertySource&gt; propertiesPropertySources = new LinkedList&lt;&gt;();\n    for (PropertySource&lt;?&gt; propertySource : environment.getPropertySources()) {\n      if (propertySource instanceof EnumerablePropertySource) {\n        propertiesPropertySources.add((EnumerablePropertySource) propertySource);\n      }\n    }\n    return propertiesPropertySources;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":192592,"reputation":21561,"user_id":433814,"accept_rate":86,"display_name":"Marcello DeSales"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645567962,"creation_date":1645567962,"answer_id":71228953,"question_id":48212761,"body_markdown":"# &#128221; Show the Properties BEFORE application is ready\r\n\r\n* In my case, I needed to show the properties before the context is loaded. While debugging the app, I would like to log all the properties so that I know what&#39;s going on...\r\n\r\n# ☕ Kotlin Implementation\r\n\r\nAs described at https://www.baeldung.com/spring-boot-environmentpostprocessor, the properties can be collected before the context is loaded through the use of EnvironmentPostProcessor, which is instantiated as part of Spring Factories from the call ConfigFileApplicationListener.loadPostProcessors(). At this point, you can collect all the properties and show in any specific way.\r\n\r\n&gt; **NOTE**: While loading properties during this event, the context isn&#39;t ready. So, are the loggers. For this reason, the properties can be loaded before the App Banner (if any)\r\n\r\n* Also, the entry for the spring factory must be present, so create it first\r\n\r\n```java\r\norg.springframework.boot.env.EnvironmentPostProcessor=\\\r\ncash.app.PropertiesLoggerEnvironmentPostProcessor\r\n```\r\n\r\n* Then, create the logger\r\n\r\n\r\n```kotlin\r\npackage cash.app\r\n\r\nimport org.springframework.boot.SpringApplication\r\nimport org.springframework.boot.env.EnvironmentPostProcessor\r\nimport org.springframework.core.Ordered\r\nimport org.springframework.core.annotation.Order\r\nimport org.springframework.core.env.ConfigurableEnvironment\r\nimport org.springframework.core.env.EnumerablePropertySource\r\nimport java.util.*\r\n\r\n/**\r\n * This is to log the properties (config and system) before the app loads. This way, we know what will be loaded\r\n * on the app.\r\n * Note that we can&#39;t use the logger because the context hasn&#39;t built yet at the time it loads the properties twice.\r\n *\r\n * As an event consumer, the method ConfigFileApplicationListener.onApplicationEnvironmentPreparedEvent is called\r\n * while the context is building. The process is described at https://www.baeldung.com/spring-boot-environmentpostprocessor\r\n * and one important aspect is that this class is an EnvironmentPostProcessor, only loaded before the App is loaded\r\n * with the assistance of the &quot;src/main/resources/META-INF/spring.factories&quot;. It is loaded by the\r\n * ConfigFileApplicationListener.loadPostProcessors(), which looks for the list of classses in the factories.\r\n *\r\n * https://www.baeldung.com/spring-boot-environmentpostprocessor explains how to create AutoConfiguration classes for\r\n * shared libraries. For the case of config, the reload of properties is detailed and explained on the docs at\r\n * https://www.baeldung.com/spring-reloading-properties\r\n *\r\n * TODO: We need to hide the secrets, if they are defined here.\r\n *\r\n * @author Marcello.DeSales@gmail.com\r\n */\r\n@Order(Ordered.LOWEST_PRECEDENCE)\r\nclass PropertiesLoggerEnvironmentPostProcessor : EnvironmentPostProcessor {\r\n\r\n    companion object {\r\n        /**\r\n         * Sharing is started immediately and never stops.\r\n         */\r\n        private var numberOfPasses: Int = 0\r\n        private var systemProperties: MutableMap&lt;String, String&gt; = mutableMapOf()\r\n    }\r\n\r\n    override fun postProcessEnvironment(environment: ConfigurableEnvironment, application: SpringApplication) {\r\n        for (propertySource in findPropertiesPropertySources(environment)) {\r\n            // Avoid printing the systemProperties twice\r\n            if (propertySource.name.equals(&quot;systemProperties&quot;)) {\r\n                numberOfPasses = numberOfPasses?.inc()\r\n\r\n            } else {\r\n                System.out.println(&quot;******* \\&quot; + ${propertySource.getName()} + \\&quot; *******&quot; )\r\n            }\r\n\r\n            // Adaptation of https://stackoverflow.com/questions/48212761/how-to-log-all-active-properties-of-a-spring-boot-application-before-the-beans-i/48212783#48212783\r\n            val propertyNames = propertySource.propertyNames\r\n            Arrays.sort(propertyNames)\r\n            for (propertyName in propertyNames) {\r\n                val resolvedProperty = environment!!.getProperty(propertyName!!)\r\n                val sourceProperty = propertySource.getProperty(propertyName).toString()\r\n\r\n                if (resolvedProperty == sourceProperty) {\r\n                    if (propertySource.name.equals(&quot;systemProperties&quot;)) {\r\n                        systemProperties.put(propertyName, resolvedProperty)\r\n                    } else {\r\n                        System.out.println( &quot;${propertyName}=${resolvedProperty}&quot; )\r\n                    }\r\n\r\n                } else {\r\n                    if (propertySource.name.equals(&quot;systemProperties&quot;)) {\r\n                        systemProperties.put(propertyName, resolvedProperty ?: &quot;&quot;)\r\n\r\n                    } else {\r\n                        System.out.println( &quot;${propertyName}=${sourceProperty} ----- OVERRIDDEN =&gt;&gt;&gt;&gt;&gt;&gt; ${propertyName}=${resolvedProperty}&quot; )\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // The system properties show up twice in the process... The class is called twice and we only print it in the end.\r\n        if (numberOfPasses == 2) {\r\n            System.out.println(&quot;******* \\&quot; System Properties \\&quot; *******&quot;)\r\n            val sysPropertyNames = systemProperties.keys.sorted()\r\n            for (sysPropertyName in sysPropertyNames) {\r\n                val sysPropertyValue = systemProperties!!.get(sysPropertyName!!)\r\n                System.out.println( &quot;${sysPropertyName}=${sysPropertyValue}&quot; )\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun findPropertiesPropertySources(environment: ConfigurableEnvironment): List&lt;EnumerablePropertySource&lt;*&gt;&gt; {\r\n        val propertiesPropertySources: MutableList&lt;EnumerablePropertySource&lt;*&gt;&gt; = LinkedList()\r\n        for (propertySource in environment!!.propertySources) {\r\n            if (propertySource is EnumerablePropertySource&lt;*&gt;) {\r\n                if (propertySource.name.equals(&quot;systemProperties&quot;) || propertySource.name.contains(&quot;applicationConfig:&quot;)) {\r\n                    propertiesPropertySources.add(propertySource)\r\n                }\r\n            }\r\n        }\r\n\r\n        return propertiesPropertySources.asReversed()\r\n    }\r\n}\r\n```\r\n\r\n# &#128266; Example Logs\r\n\r\n* Here&#39;s the loggers during the bootstrap of one of my services\r\n\r\n```java\r\n/Users/marcellodesales/.gradle/jdks/jdk-14.0.2+12/Contents/Home/bin/java -XX:TieredStopAtLevel=1 -noverify -Dspring.output.ansi.enabled=always \r\n....\r\n....\r\n2022-02-22T21:24:39  INFO [app=springAppName_IS_UNDEFINED,prof=observed,db,ppd_dev][tid=,sid=,sxp=][uid=] 74720 --- [  restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in /Users/marcellodesales/.gradle/caches/modules-2/files-2.1/com.sun.xml.bind/jaxb-core/2.2.7s-codec-1.11.jar\r\n2022-02-22T21:24:39  INFO [app=springAppName_IS_UNDEFINED,prof=observed,db,ppd_dev][tid=,sid=,sxp=][uid=] 74720 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n******* &quot; + applicationConfig: [classpath:/application.yaml] + &quot; *******\r\n\r\nmanagement.endpoint.health.show-details=always\r\nmanagement.endpoints.web.base-path=/actuator ==========&gt;&gt;&gt;&gt;&gt;&gt; OVERRIDDEN =========&gt;&gt;&gt;&gt;&gt;&gt; management.endpoints.web.base-path=/orchestrator/actuator\r\nmanagement.endpoints.web.exposure.include=*\r\nmanagement.metrics.web.server.request.autotime.enabled=true\r\nspring.application.name=orchestrator-service\r\nspring.boot.admin.client.enabled=false ==========&gt;&gt;&gt;&gt;&gt;&gt; OVERRIDDEN =========&gt;&gt;&gt;&gt;&gt;&gt; spring.boot.admin.client.enabled=true\r\nspring.cloud.discovery.client.composite-indicator.enabled=false\r\n\r\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\r\n******* &quot; + applicationConfig: [classpath:/application-ppd_dev.yaml] + &quot; *******\r\nspring.datasource.url=jdbc:postgresql://localhost:6433/supercash?createDatabaseIfNotExist=true ==========&gt;&gt;&gt;&gt;&gt;&gt; OVERRIDDEN \r\n\r\n=========&gt;&gt;&gt;&gt;&gt;&gt; spring.datasource.url=jdbc:postgresql://localhost:6433/supercash?createDatabaseIfNotExist\\=true\r\nspring.devtools.livereload.enabled=true\r\nspring.mail.properties.mail.smtp.starttls.required=true\r\nspring.mail.test-connection=true\r\n\r\n******* &quot; System Properties &quot; *******\r\nLOG_LEVEL_PATTERN=%5p [,%X{X-B3-TraceId:-},%X{X-B3-SpanId:-},%X{X-Span-Export:-}]\r\nPID=74720\r\ncom.sun.management.jmxremote=\r\nfile.encoding=UTF-8\r\nftion\r\njava.vm.specification.version=14\r\njava.vm.vendor=AdoptOpenJDK\r\njava.vm.version=14.0.2+12\r\njboss.modules.system.pkgs=com.intellij.rt\r\njdk.debug=release\r\nline.separator=\r\n\r\nos.arch=x86_64\r\nos.name=Mac OS X\r\nos.version=10.16\r\n\r\nuser.name=marcellodesales\r\nuser.timezone=America/Los_Angeles\r\n\r\n2022-02-22T21:25:16 DEBUG [app=orchestrator-service,prof=observed,db,ppd_dev][tid=,sid=,sxp=][uid=] 74720 --- [  restartedMain] o.s.b.c.c.ConfigFileApplicationListener  : Activated activeProfiles observed,db,ppd_dev\r\n\r\n   _____                        _____          _     \r\n  / ____|                      / ____|        | |    \r\n | (___  _   _ _ __   ___ _ __| |     __ _ ___| |__  \r\n\r\n\r\n2022-02-22T20:41:08  INFO [app=orchestrator-service,prof=observed,db,ppd_dev][tid=,sid=,sxp=][uid=] 74181 --- [  restartedMain] \r\n```\r\n\r\n","title":"How to log all active properties of a spring boot application before the beans instantiation?","body":"<h1>📝 Show the Properties BEFORE application is ready</h1>\n<ul>\n<li>In my case, I needed to show the properties before the context is loaded. While debugging the app, I would like to log all the properties so that I know what's going on...</li>\n</ul>\n<h1>☕ Kotlin Implementation</h1>\n<p>As described at <a href=\"https://www.baeldung.com/spring-boot-environmentpostprocessor\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-environmentpostprocessor</a>, the properties can be collected before the context is loaded through the use of EnvironmentPostProcessor, which is instantiated as part of Spring Factories from the call ConfigFileApplicationListener.loadPostProcessors(). At this point, you can collect all the properties and show in any specific way.</p>\n<blockquote>\n<p><strong>NOTE</strong>: While loading properties during this event, the context isn't ready. So, are the loggers. For this reason, the properties can be loaded before the App Banner (if any)</p>\n</blockquote>\n<ul>\n<li>Also, the entry for the spring factory must be present, so create it first</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>org.springframework.boot.env.EnvironmentPostProcessor=\\\ncash.app.PropertiesLoggerEnvironmentPostProcessor\n</code></pre>\n<ul>\n<li>Then, create the logger</li>\n</ul>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package cash.app\n\nimport org.springframework.boot.SpringApplication\nimport org.springframework.boot.env.EnvironmentPostProcessor\nimport org.springframework.core.Ordered\nimport org.springframework.core.annotation.Order\nimport org.springframework.core.env.ConfigurableEnvironment\nimport org.springframework.core.env.EnumerablePropertySource\nimport java.util.*\n\n/**\n * This is to log the properties (config and system) before the app loads. This way, we know what will be loaded\n * on the app.\n * Note that we can't use the logger because the context hasn't built yet at the time it loads the properties twice.\n *\n * As an event consumer, the method ConfigFileApplicationListener.onApplicationEnvironmentPreparedEvent is called\n * while the context is building. The process is described at https://www.baeldung.com/spring-boot-environmentpostprocessor\n * and one important aspect is that this class is an EnvironmentPostProcessor, only loaded before the App is loaded\n * with the assistance of the &quot;src/main/resources/META-INF/spring.factories&quot;. It is loaded by the\n * ConfigFileApplicationListener.loadPostProcessors(), which looks for the list of classses in the factories.\n *\n * https://www.baeldung.com/spring-boot-environmentpostprocessor explains how to create AutoConfiguration classes for\n * shared libraries. For the case of config, the reload of properties is detailed and explained on the docs at\n * https://www.baeldung.com/spring-reloading-properties\n *\n * TODO: We need to hide the secrets, if they are defined here.\n *\n * @author Marcello.DeSales@gmail.com\n */\n@Order(Ordered.LOWEST_PRECEDENCE)\nclass PropertiesLoggerEnvironmentPostProcessor : EnvironmentPostProcessor {\n\n    companion object {\n        /**\n         * Sharing is started immediately and never stops.\n         */\n        private var numberOfPasses: Int = 0\n        private var systemProperties: MutableMap&lt;String, String&gt; = mutableMapOf()\n    }\n\n    override fun postProcessEnvironment(environment: ConfigurableEnvironment, application: SpringApplication) {\n        for (propertySource in findPropertiesPropertySources(environment)) {\n            // Avoid printing the systemProperties twice\n            if (propertySource.name.equals(&quot;systemProperties&quot;)) {\n                numberOfPasses = numberOfPasses?.inc()\n\n            } else {\n                System.out.println(&quot;******* \\&quot; + ${propertySource.getName()} + \\&quot; *******&quot; )\n            }\n\n            // Adaptation of https://stackoverflow.com/questions/48212761/how-to-log-all-active-properties-of-a-spring-boot-application-before-the-beans-i/48212783#48212783\n            val propertyNames = propertySource.propertyNames\n            Arrays.sort(propertyNames)\n            for (propertyName in propertyNames) {\n                val resolvedProperty = environment!!.getProperty(propertyName!!)\n                val sourceProperty = propertySource.getProperty(propertyName).toString()\n\n                if (resolvedProperty == sourceProperty) {\n                    if (propertySource.name.equals(&quot;systemProperties&quot;)) {\n                        systemProperties.put(propertyName, resolvedProperty)\n                    } else {\n                        System.out.println( &quot;${propertyName}=${resolvedProperty}&quot; )\n                    }\n\n                } else {\n                    if (propertySource.name.equals(&quot;systemProperties&quot;)) {\n                        systemProperties.put(propertyName, resolvedProperty ?: &quot;&quot;)\n\n                    } else {\n                        System.out.println( &quot;${propertyName}=${sourceProperty} ----- OVERRIDDEN =&gt;&gt;&gt;&gt;&gt;&gt; ${propertyName}=${resolvedProperty}&quot; )\n                    }\n                }\n            }\n        }\n\n        // The system properties show up twice in the process... The class is called twice and we only print it in the end.\n        if (numberOfPasses == 2) {\n            System.out.println(&quot;******* \\&quot; System Properties \\&quot; *******&quot;)\n            val sysPropertyNames = systemProperties.keys.sorted()\n            for (sysPropertyName in sysPropertyNames) {\n                val sysPropertyValue = systemProperties!!.get(sysPropertyName!!)\n                System.out.println( &quot;${sysPropertyName}=${sysPropertyValue}&quot; )\n            }\n        }\n    }\n\n    private fun findPropertiesPropertySources(environment: ConfigurableEnvironment): List&lt;EnumerablePropertySource&lt;*&gt;&gt; {\n        val propertiesPropertySources: MutableList&lt;EnumerablePropertySource&lt;*&gt;&gt; = LinkedList()\n        for (propertySource in environment!!.propertySources) {\n            if (propertySource is EnumerablePropertySource&lt;*&gt;) {\n                if (propertySource.name.equals(&quot;systemProperties&quot;) || propertySource.name.contains(&quot;applicationConfig:&quot;)) {\n                    propertiesPropertySources.add(propertySource)\n                }\n            }\n        }\n\n        return propertiesPropertySources.asReversed()\n    }\n}\n</code></pre>\n<h1>🔊 Example Logs</h1>\n<ul>\n<li>Here's the loggers during the bootstrap of one of my services</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>/Users/marcellodesales/.gradle/jdks/jdk-14.0.2+12/Contents/Home/bin/java -XX:TieredStopAtLevel=1 -noverify -Dspring.output.ansi.enabled=always \n....\n....\n2022-02-22T21:24:39  INFO [app=springAppName_IS_UNDEFINED,prof=observed,db,ppd_dev][tid=,sid=,sxp=][uid=] 74720 --- [  restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in /Users/marcellodesales/.gradle/caches/modules-2/files-2.1/com.sun.xml.bind/jaxb-core/2.2.7s-codec-1.11.jar\n2022-02-22T21:24:39  INFO [app=springAppName_IS_UNDEFINED,prof=observed,db,ppd_dev][tid=,sid=,sxp=][uid=] 74720 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n******* &quot; + applicationConfig: [classpath:/application.yaml] + &quot; *******\n\nmanagement.endpoint.health.show-details=always\nmanagement.endpoints.web.base-path=/actuator ==========&gt;&gt;&gt;&gt;&gt;&gt; OVERRIDDEN =========&gt;&gt;&gt;&gt;&gt;&gt; management.endpoints.web.base-path=/orchestrator/actuator\nmanagement.endpoints.web.exposure.include=*\nmanagement.metrics.web.server.request.autotime.enabled=true\nspring.application.name=orchestrator-service\nspring.boot.admin.client.enabled=false ==========&gt;&gt;&gt;&gt;&gt;&gt; OVERRIDDEN =========&gt;&gt;&gt;&gt;&gt;&gt; spring.boot.admin.client.enabled=true\nspring.cloud.discovery.client.composite-indicator.enabled=false\n\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\n******* &quot; + applicationConfig: [classpath:/application-ppd_dev.yaml] + &quot; *******\nspring.datasource.url=jdbc:postgresql://localhost:6433/supercash?createDatabaseIfNotExist=true ==========&gt;&gt;&gt;&gt;&gt;&gt; OVERRIDDEN \n\n=========&gt;&gt;&gt;&gt;&gt;&gt; spring.datasource.url=jdbc:postgresql://localhost:6433/supercash?createDatabaseIfNotExist\\=true\nspring.devtools.livereload.enabled=true\nspring.mail.properties.mail.smtp.starttls.required=true\nspring.mail.test-connection=true\n\n******* &quot; System Properties &quot; *******\nLOG_LEVEL_PATTERN=%5p [,%X{X-B3-TraceId:-},%X{X-B3-SpanId:-},%X{X-Span-Export:-}]\nPID=74720\ncom.sun.management.jmxremote=\nfile.encoding=UTF-8\nftion\njava.vm.specification.version=14\njava.vm.vendor=AdoptOpenJDK\njava.vm.version=14.0.2+12\njboss.modules.system.pkgs=com.intellij.rt\njdk.debug=release\nline.separator=\n\nos.arch=x86_64\nos.name=Mac OS X\nos.version=10.16\n\nuser.name=marcellodesales\nuser.timezone=America/Los_Angeles\n\n2022-02-22T21:25:16 DEBUG [app=orchestrator-service,prof=observed,db,ppd_dev][tid=,sid=,sxp=][uid=] 74720 --- [  restartedMain] o.s.b.c.c.ConfigFileApplicationListener  : Activated activeProfiles observed,db,ppd_dev\n\n   _____                        _____          _     \n  / ____|                      / ____|        | |    \n | (___  _   _ _ __   ___ _ __| |     __ _ ___| |__  \n\n\n2022-02-22T20:41:08  INFO [app=orchestrator-service,prof=observed,db,ppd_dev][tid=,sid=,sxp=][uid=] 74181 --- [  restartedMain] \n</code></pre>\n"}],"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17671,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":48212783,"answer_count":2,"score":21,"last_activity_date":1645567962,"creation_date":1515691609,"question_id":48212761,"body_markdown":"There is already a [question](https://stackoverflow.com/questions/24448947/how-to-log-the-active-configuration-in-a-spring-boot-application) asking for logging the active configuration, there is a correct [answer](https://stackoverflow.com/a/37392817/1807667) but the problem is that the configuration is logged only if all beans are correctly instantiated. I would like to log all properties even (mainly) if the application crash at startup. My question is more specific: \r\n\r\nHow to log all active properties of a spring boot application **before** the beans instantiation?","title":"How to log all active properties of a spring boot application before the beans instantiation?","body":"<p>There is already a <a href=\"https://stackoverflow.com/questions/24448947/how-to-log-the-active-configuration-in-a-spring-boot-application\">question</a> asking for logging the active configuration, there is a correct <a href=\"https://stackoverflow.com/a/37392817/1807667\">answer</a> but the problem is that the configuration is logged only if all beans are correctly instantiated. I would like to log all properties even (mainly) if the application crash at startup. My question is more specific: </p>\n\n<p>How to log all active properties of a spring boot application <strong>before</strong> the beans instantiation?</p>\n"},{"tags":["java","spring","postgresql","amazon-rds","transactionmanager"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1613038590,"post_id":66152651,"comment_id":116954676,"body_markdown":"Please don&#39;t post code as images as that is totally unreadable. Just post code as code.","body":"Please don&#39;t post code as images as that is totally unreadable. Just post code as code."},{"owner":{"account_id":3883295,"reputation":1469,"user_id":3215301,"accept_rate":52,"display_name":"Stefano"},"score":0,"creation_date":1613038647,"post_id":66152651,"comment_id":116954697,"body_markdown":"ok, I edit the image part","body":"ok, I edit the image part"},{"owner":{"account_id":3883295,"reputation":1469,"user_id":3215301,"accept_rate":52,"display_name":"Stefano"},"score":0,"creation_date":1613146430,"post_id":66152651,"comment_id":116994537,"body_markdown":"I think that the issue caused by the HikariCP&#39;s connections remain hanging during the failover action on AWS RDS instance DB PostgreSQL. However the transaction timeout does&#39;t work. This article describe the issue on AWS RDS instance and HikariCP https://www.theguardian.com/info/2019/dec/02/faster-postgresql-connection-recovery. I reserve the right to do a test to solve the issue and to give an answer.","body":"I think that the issue caused by the HikariCP&#39;s connections remain hanging during the failover action on AWS RDS instance DB PostgreSQL. However the transaction timeout does&#39;t work. This article describe the issue on AWS RDS instance and HikariCP <a href=\"https://www.theguardian.com/info/2019/dec/02/faster-postgresql-connection-recovery\" rel=\"nofollow noreferrer\">theguardian.com/info/2019/dec/02/&hellip;</a>. I reserve the right to do a test to solve the issue and to give an answer."}],"answers":[{"tags":[],"owner":{"account_id":3883295,"reputation":1469,"user_id":3215301,"accept_rate":52,"display_name":"Stefano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645567703,"creation_date":1613638656,"answer_id":66256615,"question_id":66152651,"body_markdown":"I resolved my issue with the set the property as written in the followed article:\r\n\r\n[faster-postgresql-connection-recovery][1]\r\n\r\nMy code is added configuration HikariCP:\r\n\r\n    hikariConfig.addDataSourceProperty(&quot;socketTimeout&quot;, &quot;120&quot;);\r\n\r\nsocketTimeout to 120 seconds, so in any case the property throws the followed exception after timeout:\r\n\r\n    Caused by: java.net.SocketTimeoutException: Read timed out at java.net.SocketInputStream.socketRead0(Native Method) ~[?:?]    \r\n    at java.net.SocketInputStream.socketRead(SocketInputStream.java:115) ~[?:?]\r\n    at java.net.SocketInputStream.read(SocketInputStream.java:168) ~[?:?]   \r\n    at java.net.SocketInputStream.read(SocketInputStream.java:140) ~[?:?]  \r\n    at sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:448) ~[?:?]   \r\n    at sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:68) ~[?:?]\r\n    at sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1103) ~[?:?]\r\n    at sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:823) ~[?:?]\r\n    at org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161) ~[postgresql-42.2.10.jar!/:42.2.10]\r\n    at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128) ~[postgresql-42.2.10.jar!/:42.2.10]\r\n    at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113) ~[postgresql-42.2.10.jar!/:42.2.10]\r\n    at org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73) ~[postgresql-42.2.10.jar!/:42.2.10]\r\n    at org.postgresql.core.PGStream.receiveChar(PGStream.java:370) ~[postgresql-42.2.10.jar!/:42.2.10]\r\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2015) ~[postgresql-42.2.10.jar!/:42.2.10]\r\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:311) ~[postgresql-42.2.10.jar!/:42.2.10]... 17 more\r\n\r\n \r\n\r\n\r\n  [1]: https://www.theguardian.com/info/2019/dec/02/faster-postgresql-connection-recovery","title":"Why ChainedTransactionManager with setting timeout via annotation not working? Spring boot","body":"<p>I resolved my issue with the set the property as written in the followed article:</p>\n<p><a href=\"https://www.theguardian.com/info/2019/dec/02/faster-postgresql-connection-recovery\" rel=\"nofollow noreferrer\">faster-postgresql-connection-recovery</a></p>\n<p>My code is added configuration HikariCP:</p>\n<pre><code>hikariConfig.addDataSourceProperty(&quot;socketTimeout&quot;, &quot;120&quot;);\n</code></pre>\n<p>socketTimeout to 120 seconds, so in any case the property throws the followed exception after timeout:</p>\n<pre><code>Caused by: java.net.SocketTimeoutException: Read timed out at java.net.SocketInputStream.socketRead0(Native Method) ~[?:?]    \nat java.net.SocketInputStream.socketRead(SocketInputStream.java:115) ~[?:?]\nat java.net.SocketInputStream.read(SocketInputStream.java:168) ~[?:?]   \nat java.net.SocketInputStream.read(SocketInputStream.java:140) ~[?:?]  \nat sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:448) ~[?:?]   \nat sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:68) ~[?:?]\nat sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1103) ~[?:?]\nat sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:823) ~[?:?]\nat org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161) ~[postgresql-42.2.10.jar!/:42.2.10]\nat org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128) ~[postgresql-42.2.10.jar!/:42.2.10]\nat org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113) ~[postgresql-42.2.10.jar!/:42.2.10]\nat org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73) ~[postgresql-42.2.10.jar!/:42.2.10]\nat org.postgresql.core.PGStream.receiveChar(PGStream.java:370) ~[postgresql-42.2.10.jar!/:42.2.10]\nat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2015) ~[postgresql-42.2.10.jar!/:42.2.10]\nat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:311) ~[postgresql-42.2.10.jar!/:42.2.10]... 17 more\n</code></pre>\n"}],"owner":{"account_id":3883295,"reputation":1469,"user_id":3215301,"accept_rate":52,"display_name":"Stefano"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66256615,"answer_count":1,"score":1,"last_activity_date":1645567703,"creation_date":1613038343,"question_id":66152651,"body_markdown":"Application:\r\n\r\n  -  Spring boot version 2.2.13.RELEASE\r\n  -  postgresql version 42.2.10\r\n  -  quartz version 2.3.2\r\n  -  quartz-jobs version 2.3.2\r\n\r\n\r\nI have implemented a job quartz that calls a method implemented in a @Service bean. Into this method there are interactions with two Data base (Oracle and PostgreSql). Every Db is inizialized with a Hikari Connection pool\r\n\r\nPostgresql DB in configuration bean:\r\n\r\n            @Bean(value=&quot;sreDataSource&quot;)\r\n            public DataSource dataSource() {\r\n            \r\n            \tHikariConfig hikariConfig = new HikariConfig();\r\n            \thikariConfig.setDriverClassName(driverClassName);\r\n                hikariConfig.setJdbcUrl(datasourceUrl); \r\n                hikariConfig.setUsername(datasourceUsername);\r\n                hikariConfig.setPassword(datasourcePassword);\r\n                hikariConfig.setConnectionInitSql(&quot;set time zone &#39;UTC&#39;&quot;);\r\n                hikariConfig.setMaximumPoolSize(maxPoolSize);\r\n                hikariConfig.setConnectionTestQuery(&quot;SELECT 1&quot;);\r\n                hikariConfig.setPoolName(&quot;springHikariCP&quot;);\r\n            \r\n                return new HikariDataSource(hikariConfig);\r\n                \r\n            }\r\n        /**\r\n        \t * @return {@link JdbcTemplate}\r\n        \t */\r\n        \t@Bean(value=&quot;sreJdbcTemplate&quot;)\r\n        \tpublic JdbcTemplate jdbcTemplate() {\r\n        \t\t\r\n        \t\tJdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource());\r\n        \t\tjdbcTemplate.setFetchSize(Integer.parseInt(fetchSize));\r\n        \t\tjdbcTemplate.setQueryTimeout(60);\r\n        \t\t\r\n        \t\treturn jdbcTemplate;\r\n        \t}\r\n        \r\n        \t\r\n        \t/**\r\n        \t * Create the namedJdbcTemplate bean for the SRE database\r\n        \t * @return {@link NamedParameterJdbcTemplate}\r\n        \t */\r\n        \t@Bean(value=&quot;sreNamedParameterJdbcTemplate&quot;)\r\n        \tpublic NamedParameterJdbcTemplate namedParameterJdbcTemplate() {\r\n        \t\t\r\n        \t\treturn new NamedParameterJdbcTemplate(jdbcTemplate());\r\n        \t}\r\n        \t\r\n        \t\r\n        \t/**\r\n        \t * @param dataSource\r\n        \t * @return {@link PlatformTransactionManager}\r\n        \t */\r\n        \t@Bean(value=&quot;sreTransactionManager&quot;)\r\n        \tpublic PlatformTransactionManager transactionManager(@Qualifier(&quot;sreDataSource&quot;) DataSource dataSource) {\r\n        \t\t\r\n        \t\treturn new DataSourceTransactionManager(dataSource);\r\n        \t}\r\n    /**\r\n    \t * @param sreTransactionManager\r\n    \t * @param assetTransactionManager\r\n    \t * @return {@link ChainedTransactionManager}\r\n    \t */\r\n    \t@Bean(value=&quot;chainedTransactionManager&quot;)\r\n        public ChainedTransactionManager transactionManager(@Qualifier(&quot;sreTransactionManager&quot;) PlatformTransactionManager sreTransactionManager,\r\n                                                        @Qualifier(&quot;assetTransactionManager&quot;) PlatformTransactionManager assetTransactionManager) {\r\n             return new ChainedTransactionManager(sreTransactionManager, assetTransactionManager);\r\n        }\r\n\r\nOracle DB in configuration bean:\r\n\r\n\r\n    /**\r\n    \t * Datasource\r\n    \t * @return Datasource\r\n    \t */\r\n    \t@Bean(value=&quot;assetDataSource&quot;)\r\n        public DataSource dataSource() {\r\n            \r\n    \t\tHikariConfig hikariConfig = new HikariConfig();\r\n    \t\thikariConfig.setDriverClassName(driverClassName);\r\n    \t    hikariConfig.setJdbcUrl(datasourceUrl); \r\n    \t    hikariConfig.setUsername(datasourceUsername);\r\n    \t    hikariConfig.setPassword(datasourcePassword);\r\n    \t    hikariConfig.addDataSourceProperty(&quot;oracle.jdbc.timezoneAsRegion&quot;, &quot;false&quot;);\r\n    \t    hikariConfig.setMaximumPoolSize(maxPoolSize);\r\n    \t    hikariConfig.setConnectionTestQuery(&quot;SELECT 1 from dual&quot;);\r\n    \t    hikariConfig.setPoolName(&quot;springHikariAssetCp&quot;);\r\n    \t\t\r\n    \t    \r\n    \t    return new HikariDataSource(hikariConfig);\r\n        }\r\n    \t\r\n    \t/**\r\n    \t * JDBCTemplate\r\n    \t * @return JDBCTemplate\r\n    \t */\r\n    \t@Bean(value=&quot;assetJdbcTemplate&quot;)\r\n    \tpublic JdbcTemplate jdbcTemplate() {\r\n    \t\t\r\n    \t\tJdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource());\r\n    \t\tjdbcTemplate.setFetchSize(Integer.parseInt(fetchSize));\r\n    \t\tjdbcTemplate.setQueryTimeout(60);\r\n    \t\t\r\n    \t\treturn jdbcTemplate;\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Create the namedJdbcTemplate bean for the RMD database\r\n    \t * @return NamedParameterJdbcTemplate\r\n    \t */\r\n    \t@Bean(value=&quot;assetNamedParameterJdbcTemplate&quot;)\r\n    \tpublic NamedParameterJdbcTemplate namedParameterJdbcTemplate() {\r\n    \t\t\r\n    \t\treturn new NamedParameterJdbcTemplate(jdbcTemplate());\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Create transaction manager\r\n    \t * @param dataSource Datasource\r\n    \t * @return transaction manager\r\n    \t */\r\n    \t@Bean(value=&quot;assetTransactionManager&quot;)\r\n    \tpublic PlatformTransactionManager transactionManager(@Qualifier(&quot;assetDataSource&quot;) DataSource dataSource) {\r\n    \t\t\r\n    \t\treturn new DataSourceTransactionManager(dataSource);\r\n    \t}\r\n\r\n\r\nThe service bean is called from job quartz in a cluster.The service bean is defined as the followed:\r\n\r\n    /**\r\n     * @author sgalgani\r\n     *\r\n     */\r\n    @Service(&quot;processSreService&quot;)\r\n    @Transactional(&quot;chainedTransactionManager&quot;)\r\n    public class ProcessSreServiceImpl implements ProcessSreService {\r\n    \r\n    \tprivate static final Logger LOGGER = LogManager.getLogger(ProcessSreServiceImpl.class);\r\n    \r\n    \t@Autowired\r\n    \t@Qualifier(&quot;historianService&quot;)\r\n    \tprivate HistorianService historianService;\r\n    \r\n    \t@Autowired\r\n    \t@Qualifier(&quot;sreEvolutionService&quot;)\r\n    \tprivate SreEvolutionService sreEvolutionService;\r\n    \r\n    \t@Autowired\r\n    \t@Qualifier(&quot;assetService&quot;)\r\n    \tprivate AssetService assetService;\r\n    \r\n    \t@Autowired\r\n    \t@Qualifier(&quot;configService&quot;)\r\n    \tprivate ConfigService configService;\r\n    \r\n    \t@Autowired\r\n    \t@Qualifier(&quot;engineSupportService&quot;)\r\n    \tprivate EngineSupportService engineSupportService;\r\n    \r\n    \t@Autowired\r\n    \t@Qualifier(&quot;tagAvailabilityService&quot;)\r\n    \tprivate TagAvailabilityService tagAvailabilityService;\r\n    \r\n    \t@Autowired\r\n    \t@Qualifier(&quot;engineTransformService&quot;)\r\n    \tprivate EngineTransformService engineTransformService;\r\n    \r\n    \t@Autowired\r\n    \t@Qualifier(&quot;quarantineService&quot;)\r\n    \tprivate QuarantineService quarantineService;\r\n    \r\n    \t@Autowired\r\n    \t@Qualifier(&quot;simpleRuleEventService&quot;)\r\n    \tprivate SimpleRuleEventService simpleRuleEventService;\r\n    \r\n    \t@Value(&quot;${save.oracle.temporary.results}&quot;)\r\n    \tprivate boolean saveOracleTemporaryResults;\r\n    \r\n    \t@Value(&quot;${enable.save.local.db.alerts}&quot;)\r\n    \tprivate boolean enableSaveLocalDbAlerts;\r\n    \t\r\n    \t@Value(&quot;${simple.rule.event.service.enable}&quot;)\r\n    \tprivate boolean simpleRuleEventServiceEnable;\r\n    \r\n    \t@SuppressWarnings(&quot;javadoc&quot;)\r\n    \t@Override\r\n    \t@Transactional(value = &quot;chainedTransactionManager&quot;, rollbackFor = Exception.class, timeout = 120)\r\n    \tpublic void processSre(Sre sre, List&lt;TagLastTimestamp&gt; tagsLastTimestamp, Metric metrics) throws Exception {\r\n    \r\n    \t\tLOGGER.info(&quot;[processSre] for JobId : {} and lineup: {} &quot;,sre.getId(), sre.getLineupId() );\r\n\r\n\r\nAfter failover DB action on Amazon RDS postgresql (lost connection to DB), I would exepect a transaction timeout exception after 120 seconds, but timeout is not working, why ? \r\n\r\n  [1]: https://i.stack.imgur.com/YTi0U.png","title":"Why ChainedTransactionManager with setting timeout via annotation not working? Spring boot","body":"<p>Application:</p>\n<ul>\n<li>Spring boot version 2.2.13.RELEASE</li>\n<li>postgresql version 42.2.10</li>\n<li>quartz version 2.3.2</li>\n<li>quartz-jobs version 2.3.2</li>\n</ul>\n<p>I have implemented a job quartz that calls a method implemented in a @Service bean. Into this method there are interactions with two Data base (Oracle and PostgreSql). Every Db is inizialized with a Hikari Connection pool</p>\n<p>Postgresql DB in configuration bean:</p>\n<pre><code>        @Bean(value=&quot;sreDataSource&quot;)\n        public DataSource dataSource() {\n        \n            HikariConfig hikariConfig = new HikariConfig();\n            hikariConfig.setDriverClassName(driverClassName);\n            hikariConfig.setJdbcUrl(datasourceUrl); \n            hikariConfig.setUsername(datasourceUsername);\n            hikariConfig.setPassword(datasourcePassword);\n            hikariConfig.setConnectionInitSql(&quot;set time zone 'UTC'&quot;);\n            hikariConfig.setMaximumPoolSize(maxPoolSize);\n            hikariConfig.setConnectionTestQuery(&quot;SELECT 1&quot;);\n            hikariConfig.setPoolName(&quot;springHikariCP&quot;);\n        \n            return new HikariDataSource(hikariConfig);\n            \n        }\n    /**\n         * @return {@link JdbcTemplate}\n         */\n        @Bean(value=&quot;sreJdbcTemplate&quot;)\n        public JdbcTemplate jdbcTemplate() {\n            \n            JdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource());\n            jdbcTemplate.setFetchSize(Integer.parseInt(fetchSize));\n            jdbcTemplate.setQueryTimeout(60);\n            \n            return jdbcTemplate;\n        }\n    \n        \n        /**\n         * Create the namedJdbcTemplate bean for the SRE database\n         * @return {@link NamedParameterJdbcTemplate}\n         */\n        @Bean(value=&quot;sreNamedParameterJdbcTemplate&quot;)\n        public NamedParameterJdbcTemplate namedParameterJdbcTemplate() {\n            \n            return new NamedParameterJdbcTemplate(jdbcTemplate());\n        }\n        \n        \n        /**\n         * @param dataSource\n         * @return {@link PlatformTransactionManager}\n         */\n        @Bean(value=&quot;sreTransactionManager&quot;)\n        public PlatformTransactionManager transactionManager(@Qualifier(&quot;sreDataSource&quot;) DataSource dataSource) {\n            \n            return new DataSourceTransactionManager(dataSource);\n        }\n/**\n     * @param sreTransactionManager\n     * @param assetTransactionManager\n     * @return {@link ChainedTransactionManager}\n     */\n    @Bean(value=&quot;chainedTransactionManager&quot;)\n    public ChainedTransactionManager transactionManager(@Qualifier(&quot;sreTransactionManager&quot;) PlatformTransactionManager sreTransactionManager,\n                                                    @Qualifier(&quot;assetTransactionManager&quot;) PlatformTransactionManager assetTransactionManager) {\n         return new ChainedTransactionManager(sreTransactionManager, assetTransactionManager);\n    }\n</code></pre>\n<p>Oracle DB in configuration bean:</p>\n<pre><code>/**\n     * Datasource\n     * @return Datasource\n     */\n    @Bean(value=&quot;assetDataSource&quot;)\n    public DataSource dataSource() {\n        \n        HikariConfig hikariConfig = new HikariConfig();\n        hikariConfig.setDriverClassName(driverClassName);\n        hikariConfig.setJdbcUrl(datasourceUrl); \n        hikariConfig.setUsername(datasourceUsername);\n        hikariConfig.setPassword(datasourcePassword);\n        hikariConfig.addDataSourceProperty(&quot;oracle.jdbc.timezoneAsRegion&quot;, &quot;false&quot;);\n        hikariConfig.setMaximumPoolSize(maxPoolSize);\n        hikariConfig.setConnectionTestQuery(&quot;SELECT 1 from dual&quot;);\n        hikariConfig.setPoolName(&quot;springHikariAssetCp&quot;);\n        \n        \n        return new HikariDataSource(hikariConfig);\n    }\n    \n    /**\n     * JDBCTemplate\n     * @return JDBCTemplate\n     */\n    @Bean(value=&quot;assetJdbcTemplate&quot;)\n    public JdbcTemplate jdbcTemplate() {\n        \n        JdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource());\n        jdbcTemplate.setFetchSize(Integer.parseInt(fetchSize));\n        jdbcTemplate.setQueryTimeout(60);\n        \n        return jdbcTemplate;\n    }\n    \n    /**\n     * Create the namedJdbcTemplate bean for the RMD database\n     * @return NamedParameterJdbcTemplate\n     */\n    @Bean(value=&quot;assetNamedParameterJdbcTemplate&quot;)\n    public NamedParameterJdbcTemplate namedParameterJdbcTemplate() {\n        \n        return new NamedParameterJdbcTemplate(jdbcTemplate());\n    }\n    \n    /**\n     * Create transaction manager\n     * @param dataSource Datasource\n     * @return transaction manager\n     */\n    @Bean(value=&quot;assetTransactionManager&quot;)\n    public PlatformTransactionManager transactionManager(@Qualifier(&quot;assetDataSource&quot;) DataSource dataSource) {\n        \n        return new DataSourceTransactionManager(dataSource);\n    }\n</code></pre>\n<p>The service bean is called from job quartz in a cluster.The service bean is defined as the followed:</p>\n<pre><code>/**\n * @author sgalgani\n *\n */\n@Service(&quot;processSreService&quot;)\n@Transactional(&quot;chainedTransactionManager&quot;)\npublic class ProcessSreServiceImpl implements ProcessSreService {\n\n    private static final Logger LOGGER = LogManager.getLogger(ProcessSreServiceImpl.class);\n\n    @Autowired\n    @Qualifier(&quot;historianService&quot;)\n    private HistorianService historianService;\n\n    @Autowired\n    @Qualifier(&quot;sreEvolutionService&quot;)\n    private SreEvolutionService sreEvolutionService;\n\n    @Autowired\n    @Qualifier(&quot;assetService&quot;)\n    private AssetService assetService;\n\n    @Autowired\n    @Qualifier(&quot;configService&quot;)\n    private ConfigService configService;\n\n    @Autowired\n    @Qualifier(&quot;engineSupportService&quot;)\n    private EngineSupportService engineSupportService;\n\n    @Autowired\n    @Qualifier(&quot;tagAvailabilityService&quot;)\n    private TagAvailabilityService tagAvailabilityService;\n\n    @Autowired\n    @Qualifier(&quot;engineTransformService&quot;)\n    private EngineTransformService engineTransformService;\n\n    @Autowired\n    @Qualifier(&quot;quarantineService&quot;)\n    private QuarantineService quarantineService;\n\n    @Autowired\n    @Qualifier(&quot;simpleRuleEventService&quot;)\n    private SimpleRuleEventService simpleRuleEventService;\n\n    @Value(&quot;${save.oracle.temporary.results}&quot;)\n    private boolean saveOracleTemporaryResults;\n\n    @Value(&quot;${enable.save.local.db.alerts}&quot;)\n    private boolean enableSaveLocalDbAlerts;\n    \n    @Value(&quot;${simple.rule.event.service.enable}&quot;)\n    private boolean simpleRuleEventServiceEnable;\n\n    @SuppressWarnings(&quot;javadoc&quot;)\n    @Override\n    @Transactional(value = &quot;chainedTransactionManager&quot;, rollbackFor = Exception.class, timeout = 120)\n    public void processSre(Sre sre, List&lt;TagLastTimestamp&gt; tagsLastTimestamp, Metric metrics) throws Exception {\n\n        LOGGER.info(&quot;[processSre] for JobId : {} and lineup: {} &quot;,sre.getId(), sre.getLineupId() );\n</code></pre>\n<p>After failover DB action on Amazon RDS postgresql (lost connection to DB), I would exepect a transaction timeout exception after 120 seconds, but timeout is not working, why ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"score":0,"creation_date":1645565274,"post_id":71228473,"comment_id":125904508,"body_markdown":"what is the data type of Sale field ?","body":"what is the data type of Sale field ?"},{"owner":{"account_id":24345909,"reputation":1,"user_id":18282491,"display_name":"Utsav Kothari"},"score":0,"creation_date":1645567343,"post_id":71228473,"comment_id":125905174,"body_markdown":"Sale is a class","body":"Sale is a class"}],"answers":[{"tags":[],"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645567401,"creation_date":1645566082,"answer_id":71228656,"question_id":71228473,"body_markdown":"Java streams will make short work of this task:\r\n\r\n```\r\nint indexOfMaxValue = IntStream.range(0, Sale.allValues.size())\r\n    .filter(i -&gt; Sale.allBranches.get(i).equals(branchEntered))\r\n    .boxed()\r\n    .max(Comparator.comparingDouble(i -&gt; Sale.allValues.get(i)))\r\n    .orElseThrow();\r\n\r\ndouble maxValue = Sale.allValues.get(indexOfMaxValue);\r\nString elementOfMaxValuePostcode = Sale.allPostcode.get(indexOfMaxValue);\r\nint elementOfMaxValueHouseNumber = Sale.allHouseNumbers.get(indexOfMaxValue);\r\n```\r\n\r\nExplanation:\r\n\r\n1.  Create a stream over the indices from `0` to `Sale.allValues.size() - 1`:\r\n\r\n    ```\r\n    IntStream.range(0, Sale.allValues.size()).boxed()\r\n    ```\r\n\r\n2.  Filter the indices so only ones for the desired branch are kept:\r\n\r\n    ```\r\n        .filter(i -&gt; Sale.allBranches.get(i).equals(branchEntered))\r\n    ```\r\n\r\n3.  Now look up the sale values for these indices and find the maximum value. By running `.max` on the *indices* rather than *sale values* we get the maximum *index* as a result, eliminating the need to look it up in a second pass.\r\n\r\n    ```\r\n        .boxed()\r\n        .max(Comparator.comparingDouble(i -&gt; Sale.allValues.get(i)))\r\n    ```\r\n\r\n    We use `boxed()` to convert the `IntStream` to a `Stream&lt;Integer&gt;` so we can call `max` with a custom comparator. `IntStream` doesn&#39;t have the method we need.\r\n\r\n4.  If the branch has no sales there won&#39;t be a maximum sale. You can decide how you want to handle this edge case. See the [Optional](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html) class for the methods at your disposal. For simplicity I chose to throw an exception:\r\n\r\n    ```\r\n        .orElseThrow();\r\n    ```\r\n\r\n5.  Finally, the result of all of this is assigned to `indexOfMaxValue`.\r\n\r\n    ```\r\n    int indexOfMaxValue = ...;\r\n    ```","title":"Finding maximum Value along with another condition in Java","body":"<p>Java streams will make short work of this task:</p>\n<pre><code>int indexOfMaxValue = IntStream.range(0, Sale.allValues.size())\n    .filter(i -&gt; Sale.allBranches.get(i).equals(branchEntered))\n    .boxed()\n    .max(Comparator.comparingDouble(i -&gt; Sale.allValues.get(i)))\n    .orElseThrow();\n\ndouble maxValue = Sale.allValues.get(indexOfMaxValue);\nString elementOfMaxValuePostcode = Sale.allPostcode.get(indexOfMaxValue);\nint elementOfMaxValueHouseNumber = Sale.allHouseNumbers.get(indexOfMaxValue);\n</code></pre>\n<p>Explanation:</p>\n<ol>\n<li><p>Create a stream over the indices from <code>0</code> to <code>Sale.allValues.size() - 1</code>:</p>\n<pre><code>IntStream.range(0, Sale.allValues.size()).boxed()\n</code></pre>\n</li>\n<li><p>Filter the indices so only ones for the desired branch are kept:</p>\n<pre><code>    .filter(i -&gt; Sale.allBranches.get(i).equals(branchEntered))\n</code></pre>\n</li>\n<li><p>Now look up the sale values for these indices and find the maximum value. By running <code>.max</code> on the <em>indices</em> rather than <em>sale values</em> we get the maximum <em>index</em> as a result, eliminating the need to look it up in a second pass.</p>\n<pre><code>    .boxed()\n    .max(Comparator.comparingDouble(i -&gt; Sale.allValues.get(i)))\n</code></pre>\n<p>We use <code>boxed()</code> to convert the <code>IntStream</code> to a <code>Stream&lt;Integer&gt;</code> so we can call <code>max</code> with a custom comparator. <code>IntStream</code> doesn't have the method we need.</p>\n</li>\n<li><p>If the branch has no sales there won't be a maximum sale. You can decide how you want to handle this edge case. See the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html\" rel=\"nofollow noreferrer\">Optional</a> class for the methods at your disposal. For simplicity I chose to throw an exception:</p>\n<pre><code>    .orElseThrow();\n</code></pre>\n</li>\n<li><p>Finally, the result of all of this is assigned to <code>indexOfMaxValue</code>.</p>\n<pre><code>int indexOfMaxValue = ...;\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":24345909,"reputation":1,"user_id":18282491,"display_name":"Utsav Kothari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645567401,"creation_date":1645565010,"question_id":71228473,"body_markdown":"I wish to find the element with the highest value(from a list that contains all values) along with an additional condition that the maximum value must be from a particular branch_name(input from the user). There is a list that contains all the branches, its house number, value at which is was sold, etc.\r\n\r\nI&#39;m unable to figure out how can I add another condition(branch name) along with the maximum value.\r\n\r\n\r\n     public static void highestValueSale(){\r\n\r\n        Scanner branch = new Scanner(System.in);\r\n        System.out.println(&quot;Please eneter the name of the branch, case sensitive: &quot;);\r\n        String branchEntered = branch.nextLine();\r\n\r\n        double maxValue = Collections.max(Sale.allValues); //Finds the highest value from list of all values\r\n        int indexOfMaxValue = Sale.allValues.indexOf(maxValue); //Finds index of the highest value from list of all values\r\n        String elementOfMaxValuePostcode = (Sale.allPostcode.get(indexOfMaxValue)); // Finds the elements of same index\r\n        int elementOfMaxValueHouseNumber = Sale.allHouseNumbers.get(indexOfMaxValue); // Finds the elements of same index\r\n\r\n        System.out.println(&quot;The sale with highest value recorded is of house number &quot; + elementOfMaxValueHouseNumber +\r\n                &quot; at postcode &quot; + elementOfMaxValuePostcode + &quot;.&quot; );\r\n    }","title":"Finding maximum Value along with another condition in Java","body":"<p>I wish to find the element with the highest value(from a list that contains all values) along with an additional condition that the maximum value must be from a particular branch_name(input from the user). There is a list that contains all the branches, its house number, value at which is was sold, etc.</p>\n<p>I'm unable to figure out how can I add another condition(branch name) along with the maximum value.</p>\n<pre><code> public static void highestValueSale(){\n\n    Scanner branch = new Scanner(System.in);\n    System.out.println(&quot;Please eneter the name of the branch, case sensitive: &quot;);\n    String branchEntered = branch.nextLine();\n\n    double maxValue = Collections.max(Sale.allValues); //Finds the highest value from list of all values\n    int indexOfMaxValue = Sale.allValues.indexOf(maxValue); //Finds index of the highest value from list of all values\n    String elementOfMaxValuePostcode = (Sale.allPostcode.get(indexOfMaxValue)); // Finds the elements of same index\n    int elementOfMaxValueHouseNumber = Sale.allHouseNumbers.get(indexOfMaxValue); // Finds the elements of same index\n\n    System.out.println(&quot;The sale with highest value recorded is of house number &quot; + elementOfMaxValueHouseNumber +\n            &quot; at postcode &quot; + elementOfMaxValuePostcode + &quot;.&quot; );\n}\n</code></pre>\n"},{"tags":["java","spring-boot","elasticsearch"],"comments":[{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1645519987,"post_id":71218330,"comment_id":125886382,"body_markdown":"Use `data.keyword` instead since you&#39;re doing an exact term search","body":"Use <code>data.keyword</code> instead since you&#39;re doing an exact term search"},{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1645520687,"post_id":71218330,"comment_id":125886660,"body_markdown":"Can you show a document that actually has that value that you&#39;re trying to match?","body":"Can you show a document that actually has that value that you&#39;re trying to match?"},{"owner":{"account_id":8431229,"reputation":472,"user_id":6326888,"accept_rate":100,"display_name":"ProgIsMetal"},"score":0,"creation_date":1645520950,"post_id":71218330,"comment_id":125886766,"body_markdown":"@Val it worked with &quot;data.keyword&quot;. But why for the data field do I need to use &quot;.keyword&quot; and for originalTxHash I don t need to do that","body":"@Val it worked with &quot;data.keyword&quot;. But why for the data field do I need to use &quot;.keyword&quot; and for originalTxHash I don t need to do that"},{"owner":{"account_id":2262931,"reputation":600,"user_id":1992501,"display_name":"Ankur rana"},"score":1,"creation_date":1645531423,"post_id":71218330,"comment_id":125890779,"body_markdown":"understand the concept of [multifields](https://www.elastic.co/guide/en/elasticsearch/reference/6.8/multi-fields.html) in ES.  Use terms query for exact matching and match for searching tokens (in analyzed texts)","body":"understand the concept of <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/6.8/multi-fields.html\" rel=\"nofollow noreferrer\">multifields</a> in ES.  Use terms query for exact matching and match for searching tokens (in analyzed texts)"}],"answers":[{"tags":[],"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645521365,"creation_date":1645521365,"answer_id":71218652,"question_id":71218330,"body_markdown":"Since you&#39;re trying to do an exact match on a string with a `term` query, you need to do it on the `data.keyword` field which is not analyzed. Since the `data` field is a `text` field, hence analyzed by the `standard` analyzer, not only are all letters lowercased but the `=` sign at the end also gets stripped off, so there&#39;s no way this can match (unless you use a `match` query on the `data` field but then you&#39;d not do exact matching anymore).\r\n\r\n    POST _analyze\r\n    {\r\n      &quot;analyzer&quot;: &quot;standard&quot;,\r\n      &quot;text&quot;: &quot;YWRkTGlxdWlkaXR5UHJveHlAMDAwMDAwMDAwMDAwMDAwMDA1MDBlYmQzMDRjMmYzNGE2YjNmNmE1N2MxMzNhYjdiOGM2ZjgxZGM0MDE1NTQ4M0A3ZjE1YjEwODdmMjUwNzQ4QDBjMDU0YjcwNDhlMmY5NTE1ZWE3YWU=&quot;\r\n    }\r\n\r\nResults: \r\n\r\n    {\r\n      &quot;tokens&quot; : [\r\n        {\r\n          &quot;token&quot; : &quot;ywrktglxdwlkaxr5uhjvehlamdawmdawmdawmdawmdawmda1mdblymqzmdrjmmyznge2yjnmnme1n2mxmznhyjdiogm2zjgxzgm0mde1ntq4m0a3zje1yjewoddmmjuwnzq4qdbjmdu0yjcwndhlmmy5nte1zwe3ywu&quot;,\r\n          &quot;start_offset&quot; : 0,\r\n          &quot;end_offset&quot; : 163,\r\n          &quot;type&quot; : &quot;&lt;ALPHANUM&gt;&quot;,\r\n          &quot;position&quot; : 0\r\n        }\r\n      ]\r\n    }\r\n\r\n","title":"Elastic search term query not working on a specific field","body":"<p>Since you're trying to do an exact match on a string with a <code>term</code> query, you need to do it on the <code>data.keyword</code> field which is not analyzed. Since the <code>data</code> field is a <code>text</code> field, hence analyzed by the <code>standard</code> analyzer, not only are all letters lowercased but the <code>=</code> sign at the end also gets stripped off, so there's no way this can match (unless you use a <code>match</code> query on the <code>data</code> field but then you'd not do exact matching anymore).</p>\n<pre><code>POST _analyze\n{\n  &quot;analyzer&quot;: &quot;standard&quot;,\n  &quot;text&quot;: &quot;YWRkTGlxdWlkaXR5UHJveHlAMDAwMDAwMDAwMDAwMDAwMDA1MDBlYmQzMDRjMmYzNGE2YjNmNmE1N2MxMzNhYjdiOGM2ZjgxZGM0MDE1NTQ4M0A3ZjE1YjEwODdmMjUwNzQ4QDBjMDU0YjcwNDhlMmY5NTE1ZWE3YWU=&quot;\n}\n</code></pre>\n<p>Results:</p>\n<pre><code>{\n  &quot;tokens&quot; : [\n    {\n      &quot;token&quot; : &quot;ywrktglxdwlkaxr5uhjvehlamdawmdawmdawmdawmdawmda1mdblymqzmdrjmmyznge2yjnmnme1n2mxmznhyjdiogm2zjgxzgm0mde1ntq4m0a3zje1yjewoddmmjuwnzq4qdbjmdu0yjcwndhlmmy5nte1zwe3ywu&quot;,\n      &quot;start_offset&quot; : 0,\n      &quot;end_offset&quot; : 163,\n      &quot;type&quot; : &quot;&lt;ALPHANUM&gt;&quot;,\n      &quot;position&quot; : 0\n    }\n  ]\n}\n</code></pre>\n"}],"owner":{"account_id":8431229,"reputation":472,"user_id":6326888,"accept_rate":100,"display_name":"ProgIsMetal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":595,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71218652,"answer_count":1,"score":0,"last_activity_date":1645566823,"creation_date":1645519829,"question_id":71218330,"body_markdown":"I&#39;m new to elastic search.\r\n\r\nSo this is how the index looks:\r\n\r\n    {\r\n      &quot;scresults-000001&quot; : {\r\n        &quot;aliases&quot; : {\r\n          &quot;scresults&quot; : { }\r\n        },\r\n        &quot;mappings&quot; : {\r\n          &quot;properties&quot; : {\r\n            &quot;callType&quot; : {\r\n              &quot;type&quot; : &quot;text&quot;,\r\n              &quot;fields&quot; : {\r\n                &quot;keyword&quot; : {\r\n                  &quot;type&quot; : &quot;keyword&quot;,\r\n                  &quot;ignore_above&quot; : 256\r\n                }\r\n              }\r\n            },\r\n            &quot;code&quot; : {\r\n              &quot;type&quot; : &quot;text&quot;,\r\n              &quot;fields&quot; : {\r\n                &quot;keyword&quot; : {\r\n                  &quot;type&quot; : &quot;keyword&quot;,\r\n                  &quot;ignore_above&quot; : 256\r\n                }\r\n              }\r\n            },\r\n            &quot;data&quot; : {\r\n              &quot;type&quot; : &quot;text&quot;,\r\n              &quot;fields&quot; : {\r\n                &quot;keyword&quot; : {\r\n                  &quot;type&quot; : &quot;keyword&quot;,\r\n                  &quot;ignore_above&quot; : 256\r\n                }\r\n              }\r\n            },\r\n            &quot;esdtValues&quot; : {\r\n              &quot;type&quot; : &quot;text&quot;,\r\n              &quot;fields&quot; : {\r\n                &quot;keyword&quot; : {\r\n                  &quot;type&quot; : &quot;keyword&quot;,\r\n                  &quot;ignore_above&quot; : 256\r\n                }\r\n              }\r\n            },\r\n            &quot;gasLimit&quot; : {\r\n              &quot;type&quot; : &quot;long&quot;\r\n            },\r\n                 AND MORE OTHER Fields.......\r\n\r\n\r\nIf I&#39;m trying to create a search query in Java that looks like this:\r\n\r\n    {\r\n      &quot;bool&quot; : {\r\n        &quot;filter&quot; : [\r\n          {\r\n            &quot;term&quot; : {\r\n              &quot;sender&quot; : {\r\n                &quot;value&quot; : &quot;sendervalue&quot;,\r\n                &quot;boost&quot; : 1.0\r\n              }\r\n            }\r\n          },\r\n          {\r\n            &quot;term&quot; : {\r\n              &quot;data&quot; : {\r\n                &quot;value&quot; : &quot;YWRkTGlxdWlkaXR5UHJveHlAMDAwMDAwMDAwMDAwMDAwMDA1MDBlYmQzMDRjMmYzNGE2YjNmNmE1N2MxMzNhYjdiOGM2ZjgxZGM0MDE1NTQ4M0A3ZjE1YjEwODdmMjUwNzQ4QDBjMDU0YjcwNDhlMmY5NTE1ZWE3YWU=&quot;,\r\n                &quot;boost&quot; : 1.0\r\n              }\r\n            }\r\n          }\r\n        ],\r\n        &quot;adjust_pure_negative&quot; : true,\r\n        &quot;boost&quot; : 1.0\r\n      }\r\n    }\r\n\r\nIf I run this query I get 0 hits. If I change the field &quot;data&quot; with other field it works. I don&#39;t understand what&#39;s different.\r\n\r\nHow I actually create the query in Java+SpringBoot:\r\n\r\n    QueryBuilder boolQuery = QueryBuilders.boolQuery()\r\n            .filter(QueryBuilders.termQuery(&quot;sender&quot;, &quot;sendervalue&quot;))\r\n            .filter(QueryBuilders.termQuery(&quot;data&quot;,\r\n                    &quot;YWRkTGlxdWlkaXR5UHJveHlAMDAwMDAwMDAwMDAwMDAwMDA1MDBlYmQzMDRjMmYzNGE2YjNmNmE1N2MxMzNhYjdiOGM2ZjgxZGM0MDE1NTQ4M0A3ZjE1YjEwODdmMjUwNzQ4QDBjMDU0YjcwNDhlMmY5NTE1ZWE3YWU=&quot;));\r\n\r\n    Query searchQuery = new NativeSearchQueryBuilder()\r\n            .withFilter(boolQuery)\r\n            .build();\r\n    SearchHits&lt;ScResults&gt; articles = elasticsearchTemplate.search(searchQuery, ScResults.class);\r\n\r\n","title":"Elastic search term query not working on a specific field","body":"<p>I'm new to elastic search.</p>\n<p>So this is how the index looks:</p>\n<pre><code>{\n  &quot;scresults-000001&quot; : {\n    &quot;aliases&quot; : {\n      &quot;scresults&quot; : { }\n    },\n    &quot;mappings&quot; : {\n      &quot;properties&quot; : {\n        &quot;callType&quot; : {\n          &quot;type&quot; : &quot;text&quot;,\n          &quot;fields&quot; : {\n            &quot;keyword&quot; : {\n              &quot;type&quot; : &quot;keyword&quot;,\n              &quot;ignore_above&quot; : 256\n            }\n          }\n        },\n        &quot;code&quot; : {\n          &quot;type&quot; : &quot;text&quot;,\n          &quot;fields&quot; : {\n            &quot;keyword&quot; : {\n              &quot;type&quot; : &quot;keyword&quot;,\n              &quot;ignore_above&quot; : 256\n            }\n          }\n        },\n        &quot;data&quot; : {\n          &quot;type&quot; : &quot;text&quot;,\n          &quot;fields&quot; : {\n            &quot;keyword&quot; : {\n              &quot;type&quot; : &quot;keyword&quot;,\n              &quot;ignore_above&quot; : 256\n            }\n          }\n        },\n        &quot;esdtValues&quot; : {\n          &quot;type&quot; : &quot;text&quot;,\n          &quot;fields&quot; : {\n            &quot;keyword&quot; : {\n              &quot;type&quot; : &quot;keyword&quot;,\n              &quot;ignore_above&quot; : 256\n            }\n          }\n        },\n        &quot;gasLimit&quot; : {\n          &quot;type&quot; : &quot;long&quot;\n        },\n             AND MORE OTHER Fields.......\n</code></pre>\n<p>If I'm trying to create a search query in Java that looks like this:</p>\n<pre><code>{\n  &quot;bool&quot; : {\n    &quot;filter&quot; : [\n      {\n        &quot;term&quot; : {\n          &quot;sender&quot; : {\n            &quot;value&quot; : &quot;sendervalue&quot;,\n            &quot;boost&quot; : 1.0\n          }\n        }\n      },\n      {\n        &quot;term&quot; : {\n          &quot;data&quot; : {\n            &quot;value&quot; : &quot;YWRkTGlxdWlkaXR5UHJveHlAMDAwMDAwMDAwMDAwMDAwMDA1MDBlYmQzMDRjMmYzNGE2YjNmNmE1N2MxMzNhYjdiOGM2ZjgxZGM0MDE1NTQ4M0A3ZjE1YjEwODdmMjUwNzQ4QDBjMDU0YjcwNDhlMmY5NTE1ZWE3YWU=&quot;,\n            &quot;boost&quot; : 1.0\n          }\n        }\n      }\n    ],\n    &quot;adjust_pure_negative&quot; : true,\n    &quot;boost&quot; : 1.0\n  }\n}\n</code></pre>\n<p>If I run this query I get 0 hits. If I change the field &quot;data&quot; with other field it works. I don't understand what's different.</p>\n<p>How I actually create the query in Java+SpringBoot:</p>\n<pre><code>QueryBuilder boolQuery = QueryBuilders.boolQuery()\n        .filter(QueryBuilders.termQuery(&quot;sender&quot;, &quot;sendervalue&quot;))\n        .filter(QueryBuilders.termQuery(&quot;data&quot;,\n                &quot;YWRkTGlxdWlkaXR5UHJveHlAMDAwMDAwMDAwMDAwMDAwMDA1MDBlYmQzMDRjMmYzNGE2YjNmNmE1N2MxMzNhYjdiOGM2ZjgxZGM0MDE1NTQ4M0A3ZjE1YjEwODdmMjUwNzQ4QDBjMDU0YjcwNDhlMmY5NTE1ZWE3YWU=&quot;));\n\nQuery searchQuery = new NativeSearchQueryBuilder()\n        .withFilter(boolQuery)\n        .build();\nSearchHits&lt;ScResults&gt; articles = elasticsearchTemplate.search(searchQuery, ScResults.class);\n</code></pre>\n"},{"tags":["java","jms"],"answers":[{"tags":[],"owner":{"account_id":6139206,"reputation":1849,"user_id":4787113,"display_name":"victor gallet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1446805276,"creation_date":1446805276,"answer_id":33564529,"question_id":33563519,"body_markdown":"I&#39;m not sure to understand your question but a queue in JMS is a Point-to-Point staging area. It ensures that messages are processed only once but it does not guarantee about order processing.\r\n\r\nIf your example you&#39;re are sending a text message to a queue `Queue` but you should do :\r\n\r\n    connection.start()\r\nto start your connection.\r\n\r\nNow, if you want to receive your message, you can do :\r\n\r\n    Context context = null;\r\n    ConnectionFactory factory = null;\r\n    Connection connection = null;\r\n    Destination destination = null;\r\n    Session session = null;\r\n    MessageConsumer receiver = null;\r\n\r\n    try {\r\n      context = new InitialContext();\r\n      factory = (ConnectionFactory) context.lookup(&quot;jms/javaee7/ConnectionFactory&quot;);\r\n      destination = (Destination) context.lookup(&quot;jms/javaee7/Queue&quot;);\r\n      connection = factory.createConnection();\r\n      session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n      receiver = session.createConsumer(destination);\r\n      connection.start();\r\n\r\n        Message message = receiver.receive();\r\n        if (message instanceof TextMessage) {\r\n          TextMessage text = (TextMessage) message;\r\n          System.out.println(&quot;received message= &quot; + text.getText());\r\n        } else if (message != null) {\r\n          System.out.println(&quot;No message in queue&quot;);\r\n        }\r\n    } catch (Exception e) {\r\n      e.printStackTrace();\r\n    } finally {\r\n      if (context != null) {\r\n        try {\r\n          context.close();\r\n        } catch (NamingException e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n\r\n      if (connection != null) {\r\n        try {\r\n          connection.close();\r\n        } catch (JMSException e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n    }\r\n    }\r\n\r\n\r\nBy the way, if you are using java 7,  you should use **The try-with-resources Statement**.\r\n\r\n ","title":"What is Queue in JMS","body":"<p>I'm not sure to understand your question but a queue in JMS is a Point-to-Point staging area. It ensures that messages are processed only once but it does not guarantee about order processing.</p>\n\n<p>If your example you're are sending a text message to a queue <code>Queue</code> but you should do :</p>\n\n<pre><code>connection.start()\n</code></pre>\n\n<p>to start your connection.</p>\n\n<p>Now, if you want to receive your message, you can do :</p>\n\n<pre><code>Context context = null;\nConnectionFactory factory = null;\nConnection connection = null;\nDestination destination = null;\nSession session = null;\nMessageConsumer receiver = null;\n\ntry {\n  context = new InitialContext();\n  factory = (ConnectionFactory) context.lookup(\"jms/javaee7/ConnectionFactory\");\n  destination = (Destination) context.lookup(\"jms/javaee7/Queue\");\n  connection = factory.createConnection();\n  session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n  receiver = session.createConsumer(destination);\n  connection.start();\n\n    Message message = receiver.receive();\n    if (message instanceof TextMessage) {\n      TextMessage text = (TextMessage) message;\n      System.out.println(\"received message= \" + text.getText());\n    } else if (message != null) {\n      System.out.println(\"No message in queue\");\n    }\n} catch (Exception e) {\n  e.printStackTrace();\n} finally {\n  if (context != null) {\n    try {\n      context.close();\n    } catch (NamingException e) {\n      e.printStackTrace();\n    }\n  }\n\n  if (connection != null) {\n    try {\n      connection.close();\n    } catch (JMSException e) {\n      e.printStackTrace();\n    }\n  }\n}\n}\n</code></pre>\n\n<p>By the way, if you are using java 7,  you should use <strong>The try-with-resources Statement</strong>.</p>\n"}],"owner":{"account_id":7253376,"reputation":43,"user_id":5532868,"display_name":"Wiktor Syrotin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":33564529,"answer_count":1,"score":1,"last_activity_date":1645566732,"creation_date":1446802319,"question_id":33563519,"body_markdown":"I have a task. In parameters there are queue and message. I must send message to a queue. And I don&#39;t know where in is this queue is my queue. I think that it is Destination queue? Thanks a lot.\r\n\r\n    public class Producer {\r\n        public static void main(String[] args) {\r\n            try {\r\n                // Получает контекст JNDI\r\n                Context jndiContext = new InitialContext();\r\n                // Выполняет поиск администрируемых объектов\r\n                ConnectionFactory connectionFactory = (ConnectionFactory) jndiContext.lookup(&quot;jms/javaee7/ConnectionFactory&quot; );\r\n                Destination queue = (Destination) jndiContext.lookup(&quot;jms/javaee7/Queue&quot;);\r\n                //Создает необходимые артефакты для соединения с очередью\r\n                Connection connection = connectionFactory.createConnection();\r\n                Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n                MessageProducer producer = session.createProducer(queue);\r\n                // Отправляет текстовое сообщение в очередь\r\n                TextMessage message = session.createTextMessage(&quot;Сообщение отправлено &quot; + new Date());\r\n                producer.send(message);\r\n                connection.close();\r\n            } catch (NamingException | JMSException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"What is Queue in JMS","body":"<p>I have a task. In parameters there are queue and message. I must send message to a queue. And I don't know where in is this queue is my queue. I think that it is Destination queue? Thanks a lot.</p>\n<pre><code>public class Producer {\n    public static void main(String[] args) {\n        try {\n            // Получает контекст JNDI\n            Context jndiContext = new InitialContext();\n            // Выполняет поиск администрируемых объектов\n            ConnectionFactory connectionFactory = (ConnectionFactory) jndiContext.lookup(&quot;jms/javaee7/ConnectionFactory&quot; );\n            Destination queue = (Destination) jndiContext.lookup(&quot;jms/javaee7/Queue&quot;);\n            //Создает необходимые артефакты для соединения с очередью\n            Connection connection = connectionFactory.createConnection();\n            Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n            MessageProducer producer = session.createProducer(queue);\n            // Отправляет текстовое сообщение в очередь\n            TextMessage message = session.createTextMessage(&quot;Сообщение отправлено &quot; + new Date());\n            producer.send(message);\n            connection.close();\n        } catch (NamingException | JMSException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","accessibility"],"comments":[{"owner":{"account_id":7951471,"reputation":2465,"user_id":6002174,"display_name":"Tsundoku"},"score":1,"creation_date":1552559568,"post_id":55154650,"comment_id":97059543,"body_markdown":"The only guidance that I know of for making custom Swing components accessible is in [Building Custom Accessible Component](https://www.ibm.com/developerworks/community/wikis/home?lang=en#!/wiki/W10ef84c59396_40fb_aa66_a05ad699cda6/page/5.0%20Building%20Custom%20Accessible%20Components) in the *IBM guidelines for writing accessible applications using 100% pure java™* (2004).","body":"The only guidance that I know of for making custom Swing components accessible is in <a href=\"https://www.ibm.com/developerworks/community/wikis/home?lang=en#!/wiki/W10ef84c59396_40fb_aa66_a05ad699cda6/page/5.0%20Building%20Custom%20Accessible%20Components\" rel=\"nofollow noreferrer\">Building Custom Accessible Component</a> in the <i>IBM guidelines for writing accessible applications using 100% pure java™</i> (2004)."}],"answers":[{"tags":[],"owner":{"account_id":15481279,"reputation":9,"user_id":11168463,"display_name":"Caplin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552711626,"creation_date":1552711626,"answer_id":55193525,"question_id":55154650,"body_markdown":"The problem turns out to be largely because of the custom components. The AccessibleJComponent class has a fallback mechanism to name controls which don&#39;t ohterwise have accessible names, but this is hard-coded to look for a JLabel and not a custom label class.\r\n\r\nThere are a few work-arounds for this, such as modifying the get/setAccessibleName methods, or switching to using the accessible description instead.\r\n\r\nThe solution in the long term is probably to use regular Swing components where possible","title":"Accessibility in a custom Swing control which apes a native one?","body":"<p>The problem turns out to be largely because of the custom components. The AccessibleJComponent class has a fallback mechanism to name controls which don't ohterwise have accessible names, but this is hard-coded to look for a JLabel and not a custom label class.</p>\n\n<p>There are a few work-arounds for this, such as modifying the get/setAccessibleName methods, or switching to using the accessible description instead.</p>\n\n<p>The solution in the long term is probably to use regular Swing components where possible</p>\n"}],"owner":{"account_id":15481279,"reputation":9,"user_id":11168463,"display_name":"Caplin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1645566368,"creation_date":1552535043,"question_id":55154650,"body_markdown":"I have a Swing custom control which serves an almost identical function to a JLabel. It&#39;s not accessible by default for people who use assistive technology, like a screen reader. I&#39;m working on the [Megamek GitHub Project][1], and trying to figure out how to associate the PMSimpleLabel class with other objects, as in the JLabel class&#39;s setLabelFor method.\r\n\r\nThe approach taken so far seems to be to more or less ape the JLabel&#39;s accessibility implementation. I&#39;m not sure if this is the right way to go about it, there seem to be some elements in the latter I&#39;m not understanding.\r\n\r\n\r\n  [1]: https://github.com/MegaMek/megamek/issues/1288","title":"Accessibility in a custom Swing control which apes a native one?","body":"<p>I have a Swing custom control which serves an almost identical function to a JLabel. It's not accessible by default for people who use assistive technology, like a screen reader. I'm working on the <a href=\"https://github.com/MegaMek/megamek/issues/1288\" rel=\"nofollow noreferrer\">Megamek GitHub Project</a>, and trying to figure out how to associate the PMSimpleLabel class with other objects, as in the JLabel class's setLabelFor method.</p>\n<p>The approach taken so far seems to be to more or less ape the JLabel's accessibility implementation. I'm not sure if this is the right way to go about it, there seem to be some elements in the latter I'm not understanding.</p>\n"},{"tags":["java","spring","database","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":23620375,"reputation":32,"user_id":17653766,"display_name":"Nalbert Wattam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645565714,"creation_date":1645565714,"answer_id":71228593,"question_id":71215704,"body_markdown":"When you use **scriptsRepository.save(script)** it will save the script on your Database. But if you already have a script in the database with the same ID of the one you are passing through the parameter it will not create a new one, but just update it with the information of the one you are trying to save.\r\n\r\nA Script controller (only with the update method), following REST API design, would be something like this:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/scripts&quot;)\r\n    public class ScriptController {\r\n\r\n        @Autowired\r\n        ScriptRepository scriptRepository;\r\n\r\n        @PutMapping(&quot;/{id}&quot;)\r\n        @ResponseStatus(HttpStatus.OK)\r\n        public Script update(@RequestBody Script script, @PathVariable long id) {\r\n\r\n            if (scriptRepository.findById(id).isEmpty()) {\r\n                throw new RecordNotFoundException();\r\n            }\r\n            script.setId(id);\r\n            return scriptRepository.save(script);\r\n        }\r\n    }\r\n\r\nTo access it you would need to use the endpoint **localhost:8080/scripts/{id}** (in case you use the default Spring Boot **localhost:8080**).\r\n\r\nYou don&#39;t need to throw the exception but in case you want you would need to create a simple class like this:\r\n\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.web.bind.annotation.ResponseStatus;\r\n    \r\n    @ResponseStatus(HttpStatus.NOT_FOUND)\r\n    public class RecordNotFoundException extends RuntimeException {\r\n    \r\n    }\r\n\r\n","title":"How would I find the existing objects id in the database using spring boot?","body":"<p>When you use <strong>scriptsRepository.save(script)</strong> it will save the script on your Database. But if you already have a script in the database with the same ID of the one you are passing through the parameter it will not create a new one, but just update it with the information of the one you are trying to save.</p>\n<p>A Script controller (only with the update method), following REST API design, would be something like this:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/scripts&quot;)\npublic class ScriptController {\n\n    @Autowired\n    ScriptRepository scriptRepository;\n\n    @PutMapping(&quot;/{id}&quot;)\n    @ResponseStatus(HttpStatus.OK)\n    public Script update(@RequestBody Script script, @PathVariable long id) {\n\n        if (scriptRepository.findById(id).isEmpty()) {\n            throw new RecordNotFoundException();\n        }\n        script.setId(id);\n        return scriptRepository.save(script);\n    }\n}\n</code></pre>\n<p>To access it you would need to use the endpoint <strong>localhost:8080/scripts/{id}</strong> (in case you use the default Spring Boot <strong>localhost:8080</strong>).</p>\n<p>You don't need to throw the exception but in case you want you would need to create a simple class like this:</p>\n<pre><code>import org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.ResponseStatus;\n\n@ResponseStatus(HttpStatus.NOT_FOUND)\npublic class RecordNotFoundException extends RuntimeException {\n\n}\n</code></pre>\n"}],"owner":{"account_id":9139575,"reputation":141,"user_id":6797946,"display_name":"Toby"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":859,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71228593,"answer_count":1,"score":1,"last_activity_date":1645565714,"creation_date":1645502030,"question_id":71215704,"body_markdown":"The application has 2 functionalities where I can create a new script file and also edit the existing script file. The logic I have for both create and edit will basically be the same with the only major difference being that for edit instead of creating new scripts, I will have to find the existing script and override it. I am not sure how I should go finding the script by id in spring boot. \r\n\r\nHere is my create script functionality:\r\n\r\nController Class:\r\n```\r\n@Controller\r\n@RequestMapping(&quot;/api/auth/&quot;)\r\npublic class TestServerController {\r\n   @Autowired\r\n   ScriptsRepository scriptsRepository;\r\n   @Autowired\r\n   LineItemRepository lineItemRepository;\r\n   @Autowired\r\n   LineItemDataRepository lineItemDataRepository;\r\n  public TestServerController() {\r\n\r\n  }\r\n   @CrossOrigin(origins = &quot;*&quot;)\r\n   @RequestMapping(value = &quot;createScript&quot;)\r\n   public ResponseEntity&lt;?&gt; createScript(@RequestBody String body, @RequestParam String name) throws Exception {\r\n\r\n\r\n      JSONArray script = new JSONArray(body);\r\n      Scripts new_script = new Scripts(name);\r\n\r\n\r\n      scriptsRepository.save(new_script);\r\n      for (int i = 0;i&lt;script.length();i++) {\r\n\r\n         JSONObject current_line_item = (JSONObject) script.get(i);\r\n\r\n         if(!current_line_item.has(&quot;keyword&quot;)  ){\r\n            return ResponseEntity\r\n                  .badRequest()\r\n                  .body(new MessageResponse(&quot;Invalid Json Object&quot;));\r\n         }\r\n         String keyword = current_line_item.getString(&quot;keyword&quot;);\r\n         LineItem new_li = new LineItem(keyword,i);\r\n         new_li.setSid(new_script);\r\n\r\n         lineItemRepository.save(new_li);\r\n\r\n         int order = 0;\r\n         var keys = current_line_item.keys();\r\n         for (Iterator&lt;String&gt; it = keys; it.hasNext(); ) {\r\n            var key = it.next();\r\n            if(key.equals(&quot;keyword&quot;)){\r\n               continue;\r\n            }\r\n            var value = current_line_item.getString(key);\r\n            // we will need to do something about this if the column values arent strings\r\n\r\n            LineItemData vb = new LineItemData(key,value,order);\r\n            vb.setLid(new_li);\r\n            lineItemDataRepository.save(vb);\r\n            order++;\r\n\r\n         }\r\n\r\n      }\r\n\r\n      return ResponseEntity.ok(new MessageResponse(&quot;Script Uploaded Successfully&quot;));\r\n   }\r\n```\r\n\r\n\r\nFor the edit script, I was thinking to remove       ```Scripts new_script = new Scripts(name);```\r\nand use the findbyId to find the script in the database and pass that in the ```      scriptsRepository.save(new_script);```\r\n where instead of new_script, I would just have the script file using the id. This hasn&#39;t worked for me and I&#39;m getting errors. Is there another way to go about this? \r\n\r\n\r\n","title":"How would I find the existing objects id in the database using spring boot?","body":"<p>The application has 2 functionalities where I can create a new script file and also edit the existing script file. The logic I have for both create and edit will basically be the same with the only major difference being that for edit instead of creating new scripts, I will have to find the existing script and override it. I am not sure how I should go finding the script by id in spring boot.</p>\n<p>Here is my create script functionality:</p>\n<p>Controller Class:</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/api/auth/&quot;)\npublic class TestServerController {\n   @Autowired\n   ScriptsRepository scriptsRepository;\n   @Autowired\n   LineItemRepository lineItemRepository;\n   @Autowired\n   LineItemDataRepository lineItemDataRepository;\n  public TestServerController() {\n\n  }\n   @CrossOrigin(origins = &quot;*&quot;)\n   @RequestMapping(value = &quot;createScript&quot;)\n   public ResponseEntity&lt;?&gt; createScript(@RequestBody String body, @RequestParam String name) throws Exception {\n\n\n      JSONArray script = new JSONArray(body);\n      Scripts new_script = new Scripts(name);\n\n\n      scriptsRepository.save(new_script);\n      for (int i = 0;i&lt;script.length();i++) {\n\n         JSONObject current_line_item = (JSONObject) script.get(i);\n\n         if(!current_line_item.has(&quot;keyword&quot;)  ){\n            return ResponseEntity\n                  .badRequest()\n                  .body(new MessageResponse(&quot;Invalid Json Object&quot;));\n         }\n         String keyword = current_line_item.getString(&quot;keyword&quot;);\n         LineItem new_li = new LineItem(keyword,i);\n         new_li.setSid(new_script);\n\n         lineItemRepository.save(new_li);\n\n         int order = 0;\n         var keys = current_line_item.keys();\n         for (Iterator&lt;String&gt; it = keys; it.hasNext(); ) {\n            var key = it.next();\n            if(key.equals(&quot;keyword&quot;)){\n               continue;\n            }\n            var value = current_line_item.getString(key);\n            // we will need to do something about this if the column values arent strings\n\n            LineItemData vb = new LineItemData(key,value,order);\n            vb.setLid(new_li);\n            lineItemDataRepository.save(vb);\n            order++;\n\n         }\n\n      }\n\n      return ResponseEntity.ok(new MessageResponse(&quot;Script Uploaded Successfully&quot;));\n   }\n</code></pre>\n<p>For the edit script, I was thinking to remove       <code>Scripts new_script = new Scripts(name);</code>\nand use the findbyId to find the script in the database and pass that in the <code>      scriptsRepository.save(new_script);</code>\nwhere instead of new_script, I would just have the script file using the id. This hasn't worked for me and I'm getting errors. Is there another way to go about this?</p>\n"},{"tags":["java","spring-cloud","spring-cloud-netflix"],"comments":[{"owner":{"account_id":20707648,"reputation":177,"user_id":15205097,"display_name":"Charlie Clarke"},"score":0,"creation_date":1645565903,"post_id":71228586,"comment_id":125904693,"body_markdown":"I am using the @EnableHysterix annotation on my application class","body":"I am using the @EnableHysterix annotation on my application class"},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":1,"creation_date":1645566740,"post_id":71228586,"comment_id":125904976,"body_markdown":"I don&#39;t the AOP for `@HystrixCommand` works on private methods. It needs to be in another class. Or put it on  `submitNewReport`","body":"I don&#39;t the AOP for <code>@HystrixCommand</code> works on private methods. It needs to be in another class. Or put it on  <code>submitNewReport</code>"},{"owner":{"account_id":20707648,"reputation":177,"user_id":15205097,"display_name":"Charlie Clarke"},"score":0,"creation_date":1645636776,"post_id":71228586,"comment_id":125927301,"body_markdown":"Thank you, I moved the getValidationResponse to another class and is now working","body":"Thank you, I moved the getValidationResponse to another class and is now working"}],"owner":{"account_id":20707648,"reputation":177,"user_id":15205097,"display_name":"Charlie Clarke"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645565685,"creation_date":1645565685,"question_id":71228586,"body_markdown":"I&#39;m trying to do a very basic example of using hysterix to call a fallback service on failure of the main service. However, when my main service is not available, I just receive a 502 and the running fallback service isn&#39;t called.\r\n\r\n\r\n    import com.morpheus.reportapi.api.ReportInfo;\r\n    import com.morpheus.reportapi.api.ReportValidResponse;\r\n    import com.netflix.hystrix.contrib.javanica.annotation.HystrixCommand;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.web.reactive.function.client.WebClient;\r\n    import reactor.core.publisher.Mono;\r\n\r\n    @Service\r\n    public class ReportService {\r\n\r\n    WebClient masterValidationClient = WebClient.create(&quot;&lt;main-service-url&gt;&quot;);\r\n    WebClient fallbackValidationClient = WebClient.create(&quot;&lt;fallback-service-url&quot;);\r\n\r\n    public boolean submitNewReport(ReportInfo reportInfo) {\r\n        ReportValidResponse areReportFieldsValid = getValidationResponse(reportInfo);\r\n        if (!areReportFieldsValid.isValid()) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    @HystrixCommand(fallbackMethod = &quot;fallbackGetValidationResponse&quot;)\r\n    private ReportValidResponse getValidationResponse(ReportInfo reportInfo) {\r\n        return masterValidationClient.post().\r\n                uri(&quot;/validation&quot;)\r\n                .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n                .body(Mono.just(reportInfo), ReportInfo.class)\r\n                .retrieve()\r\n                .bodyToMono(ReportValidResponse.class)\r\n                .block();\r\n    }\r\n\r\n    private ReportValidResponse fallbackGetValidationResponse(ReportInfo reportInfo) {\r\n        return fallbackValidationClient.post().\r\n                uri(&quot;/validation&quot;)\r\n                .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n                .body(Mono.just(reportInfo), ReportInfo.class)\r\n                .retrieve()\r\n                .bodyToMono(ReportValidResponse.class)\r\n                .block();\r\n    }\r\n    }\r\n\r\n","title":"Spring Netflix Hysterix - not calling fallback method on failure","body":"<p>I'm trying to do a very basic example of using hysterix to call a fallback service on failure of the main service. However, when my main service is not available, I just receive a 502 and the running fallback service isn't called.</p>\n<pre><code>import com.morpheus.reportapi.api.ReportInfo;\nimport com.morpheus.reportapi.api.ReportValidResponse;\nimport com.netflix.hystrix.contrib.javanica.annotation.HystrixCommand;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.MediaType;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.reactive.function.client.WebClient;\nimport reactor.core.publisher.Mono;\n\n@Service\npublic class ReportService {\n\nWebClient masterValidationClient = WebClient.create(&quot;&lt;main-service-url&gt;&quot;);\nWebClient fallbackValidationClient = WebClient.create(&quot;&lt;fallback-service-url&quot;);\n\npublic boolean submitNewReport(ReportInfo reportInfo) {\n    ReportValidResponse areReportFieldsValid = getValidationResponse(reportInfo);\n    if (!areReportFieldsValid.isValid()) {\n        return false;\n    }\n    return true;\n}\n\n@HystrixCommand(fallbackMethod = &quot;fallbackGetValidationResponse&quot;)\nprivate ReportValidResponse getValidationResponse(ReportInfo reportInfo) {\n    return masterValidationClient.post().\n            uri(&quot;/validation&quot;)\n            .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n            .body(Mono.just(reportInfo), ReportInfo.class)\n            .retrieve()\n            .bodyToMono(ReportValidResponse.class)\n            .block();\n}\n\nprivate ReportValidResponse fallbackGetValidationResponse(ReportInfo reportInfo) {\n    return fallbackValidationClient.post().\n            uri(&quot;/validation&quot;)\n            .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n            .body(Mono.just(reportInfo), ReportInfo.class)\n            .retrieve()\n            .bodyToMono(ReportValidResponse.class)\n            .block();\n}\n}\n</code></pre>\n"},{"tags":["java","interface"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1644712719,"post_id":71096483,"comment_id":125679628,"body_markdown":"`Jump jump = new Test();` is fine.  What do you see if you code `jump.greeting()`?","body":"<code>Jump jump = new Test();</code> is fine.  What do you see if you code <code>jump.greeting()</code>?"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644706487,"creation_date":1644706487,"answer_id":71096531,"question_id":71096483,"body_markdown":"Why wouldn&#39;t this work?  It doesn&#39;t matter what the variable is defined as; its internal implementation will work the same.  You could write\r\n\r\n```\r\npublic static void main(String[] args) {\r\n  new Test();\r\n}\r\n```\r\n\r\nYou don&#39;t have to assign it to any variable.  There&#39;s no typo in that code; it&#39;ll work; it&#39;ll print `greeting from Climb interface`.\r\n\r\n","title":"java interface reference type object can acess other interface memeber in same classe even it not defined inside it?","body":"<p>Why wouldn't this work?  It doesn't matter what the variable is defined as; its internal implementation will work the same.  You could write</p>\n<pre><code>public static void main(String[] args) {\n  new Test();\n}\n</code></pre>\n<p>You don't have to assign it to any variable.  There's no typo in that code; it'll work; it'll print <code>greeting from Climb interface</code>.</p>\n"}],"owner":{"account_id":21479801,"reputation":1,"user_id":15827373,"display_name":"Hamoud.Chorfa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1645565680,"creation_date":1644705931,"question_id":71096483,"body_markdown":"If I understand this correctly, the reference type determines which member can be accessed (compile time) while the object type determines which member will be used (runtime).\r\n\r\nI have class that implements two interfaces. These interfaces are not related (no inheritance relation allowing one to extends member of the other).\r\n\r\nOne interface when used as reference type of an object can access a method inside the other method.\r\n\r\n```\r\ninterface Jump { \r\n    // this one do not define anything\r\n}\r\n\r\ninterface Climb {\r\n    default void greeting(){\r\n        System.out.println(&quot;greeting from Climb interface&quot;);\r\n    }\r\n}\r\n\r\npublic class Test implements Jump, Climb {\r\n    public Test(){\r\n        greeting();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Climb climb = new Test(); // this is clear that will call default method in Climb\r\n        Jump jump = new Test(); // but why this did compile and print method defined in Jump ?!!!\r\n    }\r\n}\r\n```\r\n\r\nThe object with reference type `Jump` interface is assumed to access the member in this interface. And the interfaces are not related. What is going on?\r\n\r\n","title":"java interface reference type object can acess other interface memeber in same classe even it not defined inside it?","body":"<p>If I understand this correctly, the reference type determines which member can be accessed (compile time) while the object type determines which member will be used (runtime).</p>\n<p>I have class that implements two interfaces. These interfaces are not related (no inheritance relation allowing one to extends member of the other).</p>\n<p>One interface when used as reference type of an object can access a method inside the other method.</p>\n<pre><code>interface Jump { \n    // this one do not define anything\n}\n\ninterface Climb {\n    default void greeting(){\n        System.out.println(&quot;greeting from Climb interface&quot;);\n    }\n}\n\npublic class Test implements Jump, Climb {\n    public Test(){\n        greeting();\n    }\n\n    public static void main(String[] args) {\n        Climb climb = new Test(); // this is clear that will call default method in Climb\n        Jump jump = new Test(); // but why this did compile and print method defined in Jump ?!!!\n    }\n}\n</code></pre>\n<p>The object with reference type <code>Jump</code> interface is assumed to access the member in this interface. And the interfaces are not related. What is going on?</p>\n"},{"tags":["java","gradle","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1589487262,"post_id":61806532,"comment_id":109322701,"body_markdown":"Any related errors in [idea.log](https://intellij-support.jetbrains.com/hc/articles/207241085)? Please also share [a screenshot with your Gradle settings](https://i.imgur.com/dgN2UKF.png).","body":"Any related errors in <a href=\"https://intellij-support.jetbrains.com/hc/articles/207241085\" rel=\"nofollow noreferrer\">idea.log</a>? Please also share <a href=\"https://i.imgur.com/dgN2UKF.png\" rel=\"nofollow noreferrer\">a screenshot with your Gradle settings</a>."},{"owner":{"account_id":96001,"reputation":35081,"user_id":261159,"accept_rate":73,"display_name":"Gregg"},"score":0,"creation_date":1589487863,"post_id":61806532,"comment_id":109322999,"body_markdown":"Updated with the requested info","body":"Updated with the requested info"},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1589488002,"post_id":61806532,"comment_id":109323061,"body_markdown":"How does the JDK configuration look like? Where do you have Java installed? See https://youtrack.jetbrains.com/issue/IDEA-218786 for the related issue. Does it help if you specify Java 11 for Gradle? See also https://youtrack.jetbrains.com/issue/IDEA-239878#focus=streamItem-27-4131212.0-0.","body":"How does the JDK configuration look like? Where do you have Java installed? See <a href=\"https://youtrack.jetbrains.com/issue/IDEA-218786\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-218786</a> for the related issue. Does it help if you specify Java 11 for Gradle? See also <a href=\"https://youtrack.jetbrains.com/issue/IDEA-239878#focus=streamItem-27-4131212.0-0\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/&hellip;</a>."},{"owner":{"account_id":96001,"reputation":35081,"user_id":261159,"accept_rate":73,"display_name":"Gregg"},"score":0,"creation_date":1589488364,"post_id":61806532,"comment_id":109323226,"body_markdown":"This indeed was the problem and the solution. Not sure when/how this started happening, but thanks!\n\nhttps://youtrack.jetbrains.com/issue/IDEA-239878#focus=streamItem-27-4131212.0-0","body":"This indeed was the problem and the solution. Not sure when/how this started happening, but thanks!  <a href=\"https://youtrack.jetbrains.com/issue/IDEA-239878#focus=streamItem-27-4131212.0-0\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1589488501,"creation_date":1589488501,"answer_id":61806948,"question_id":61806532,"body_markdown":"The issue is likely caused by the incorrect Java home path specified for the JDK in IntelliJ IDEA. Make sure it points to the correct location like this:\r\n\r\n```\r\n/Users/rob/.sdkman/candidates/java/14.0.1-zulu/zulu-14.jdk/Contents/Home\r\n```\r\n\r\nOn macOS `/Contents/Home` part of the path is significant.\r\n","title":"Gradle Sync Failure in Fresh IntelliJ IDEA Install","body":"<p>The issue is likely caused by the incorrect Java home path specified for the JDK in IntelliJ IDEA. Make sure it points to the correct location like this:</p>\n\n<pre><code>/Users/rob/.sdkman/candidates/java/14.0.1-zulu/zulu-14.jdk/Contents/Home\n</code></pre>\n\n<p>On macOS <code>/Contents/Home</code> part of the path is significant.</p>\n"},{"tags":[],"owner":{"account_id":5060517,"reputation":1312,"user_id":4062292,"display_name":"Fernando Nogueira"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645565636,"creation_date":1645565636,"answer_id":71228577,"question_id":61806532,"body_markdown":"If some one are using macos with Sdkman use this version:  `sdk install java 8.0.322-librca` for sdk 1.8 or other correlated version from librca, because sdk fom zulu i always had this same problema in intellij idea with java/kotlin and gradlew...","title":"Gradle Sync Failure in Fresh IntelliJ IDEA Install","body":"<p>If some one are using macos with Sdkman use this version:  <code>sdk install java 8.0.322-librca</code> for sdk 1.8 or other correlated version from librca, because sdk fom zulu i always had this same problema in intellij idea with java/kotlin and gradlew...</p>\n"}],"owner":{"account_id":96001,"reputation":35081,"user_id":261159,"accept_rate":73,"display_name":"Gregg"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9493,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":61806948,"answer_count":2,"score":6,"last_activity_date":1645565636,"creation_date":1589486911,"question_id":61806532,"body_markdown":"I have a new MBP (16&quot; 2019). Downloaded a fresh copy of IntelliJ IDEA Ultimate 2020.1.1. Used SDKMan to install Java 11-zulu and latest Gradle, 6.4. Went to File-&gt;New-Project and chose Gradle. When it loads, I get a Sync error and gradle won&#39;t process in IntelliJ correctly. Everything works fine from the CLI. I tried with importing an existing gradle project, different Java and Gradle versions, all give the same vague error.\r\n\r\nidea.log\r\n\r\n&gt; Caused by:\r\n&gt; org.gradle.launcher.daemon.client.DaemonConnectionException: The newly\r\n&gt; created daemon process has a different context than expected. It won&#39;t\r\n&gt; be possible to reconnect to this daemon. Context mismatch: Java home\r\n&gt; is different.\r\n\r\nI&#39;ve seen other questions about this but none of those solutions are working for me and I&#39;ve never had this issue before, 10 years of using IDEA on OSX.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ib3x6.png\r\n  [2]: https://i.stack.imgur.com/V763g.png","title":"Gradle Sync Failure in Fresh IntelliJ IDEA Install","body":"<p>I have a new MBP (16\" 2019). Downloaded a fresh copy of IntelliJ IDEA Ultimate 2020.1.1. Used SDKMan to install Java 11-zulu and latest Gradle, 6.4. Went to File->New-Project and chose Gradle. When it loads, I get a Sync error and gradle won't process in IntelliJ correctly. Everything works fine from the CLI. I tried with importing an existing gradle project, different Java and Gradle versions, all give the same vague error.</p>\n\n<p>idea.log</p>\n\n<blockquote>\n  <p>Caused by:\n  org.gradle.launcher.daemon.client.DaemonConnectionException: The newly\n  created daemon process has a different context than expected. It won't\n  be possible to reconnect to this daemon. Context mismatch: Java home\n  is different.</p>\n</blockquote>\n\n<p>I've seen other questions about this but none of those solutions are working for me and I've never had this issue before, 10 years of using IDEA on OSX.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ib3x6.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ib3x6.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/V763g.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/V763g.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","discord","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":16432809,"reputation":320,"user_id":11871203,"display_name":"Redi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645565553,"creation_date":1645565553,"answer_id":71228566,"question_id":70999683,"body_markdown":"I tried your code, and it worked the first time I was executing the code. The second time it did not work and threw me a NPE. I quickly found out that the issue you have is that you are trying to print out the Role-ID even if the role already exists. Note that you only assign the role to the variables `role1` or `role2` if the role does not exist.\r\n\r\nSo to fix this, you could either return after the printing that the role already exists or just assigning the existing role to the variable.\r\n\r\nAn example implementation of that would be:\r\n```java\r\nString content = e.getMessage().getContentRaw();\r\nTextChannel channel = e.getTextChannel();\r\n\r\nRole role1 = null;\r\nRole role2 = null;\r\n\r\n\tif (content.equalsIgnoreCase(&quot;$addrole&quot;)) {\r\n\t\tchannel.sendMessage(&quot;Please select the role you want!\\n\\n\\u2694\\uFE0F\\tFighter\\n\\uD83D\\uDEE1\\tTank&quot;)\r\n\t\t\t\t\t.queue(message -&gt; {\r\n\t\t\t\t\t\tmessage.addReaction(&quot;\\u2694\\uFE0F&quot;).queue();\r\n\t\t\t\t\t\tmessage.addReaction(&quot;\\uD83D\\uDEE1&quot;).queue();\r\n\t\t\t\t\t});\r\n\r\n\t\tif (e.getGuild().getRolesByName(&quot;fighter&quot;, true).isEmpty()) {\r\n\t\t\trole1 = e.getGuild().createRole().setName(&quot;fighter&quot;).setPermissions(0L).complete();\r\n\t\t} else {\r\n\t\t\trole1 = e.getGuild().getRolesByName(&quot;fighter&quot;, true).get(0);\r\n\t\t}\r\n\t\tif (e.getGuild().getRolesByName(&quot;tank&quot;, true).isEmpty()) {\r\n\t\t\trole2 = e.getGuild().createRole().setName(&quot;tank&quot;).setPermissions(0L).complete();\r\n\t\t} else {\r\n\t\t\trole2 = e.getGuild().getRolesByName(&quot;tank&quot;, true).get(0);\r\n\t\t}\r\n\r\n\t\tSystem.out.println(&quot;Role1 ID is: &quot; + role1.getId());\r\n\t\tSystem.out.println(&quot;Role2 ID is: &quot; + role2.getId());\r\n\t}\r\n```","title":"Role handling in JDA Java Discord API","body":"<p>I tried your code, and it worked the first time I was executing the code. The second time it did not work and threw me a NPE. I quickly found out that the issue you have is that you are trying to print out the Role-ID even if the role already exists. Note that you only assign the role to the variables <code>role1</code> or <code>role2</code> if the role does not exist.</p>\n<p>So to fix this, you could either return after the printing that the role already exists or just assigning the existing role to the variable.</p>\n<p>An example implementation of that would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String content = e.getMessage().getContentRaw();\nTextChannel channel = e.getTextChannel();\n\nRole role1 = null;\nRole role2 = null;\n\n    if (content.equalsIgnoreCase(&quot;$addrole&quot;)) {\n        channel.sendMessage(&quot;Please select the role you want!\\n\\n\\u2694\\uFE0F\\tFighter\\n\\uD83D\\uDEE1\\tTank&quot;)\n                    .queue(message -&gt; {\n                        message.addReaction(&quot;\\u2694\\uFE0F&quot;).queue();\n                        message.addReaction(&quot;\\uD83D\\uDEE1&quot;).queue();\n                    });\n\n        if (e.getGuild().getRolesByName(&quot;fighter&quot;, true).isEmpty()) {\n            role1 = e.getGuild().createRole().setName(&quot;fighter&quot;).setPermissions(0L).complete();\n        } else {\n            role1 = e.getGuild().getRolesByName(&quot;fighter&quot;, true).get(0);\n        }\n        if (e.getGuild().getRolesByName(&quot;tank&quot;, true).isEmpty()) {\n            role2 = e.getGuild().createRole().setName(&quot;tank&quot;).setPermissions(0L).complete();\n        } else {\n            role2 = e.getGuild().getRolesByName(&quot;tank&quot;, true).get(0);\n        }\n\n        System.out.println(&quot;Role1 ID is: &quot; + role1.getId());\n        System.out.println(&quot;Role2 ID is: &quot; + role2.getId());\n    }\n</code></pre>\n"}],"owner":{"account_id":15297637,"reputation":67,"user_id":11037145,"display_name":"Turwaith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645565553,"creation_date":1644077067,"question_id":70999683,"body_markdown":"I&#39;m learning Java at the moment by coding a discord bot using JDA. Now I just can&#39;t figure what my mistake is using the Role entitiy.\r\n```java\r\n    if (content.equalsIgnoreCase(&quot;$addrole&quot;)){\r\n            channel.sendMessage(&quot;Please select the role you want!\\n\\n\\u2694\\uFE0F\\tFighter\\n\\uD83D\\uDEE1\\tTank&quot;).queue(message -&gt; {\r\n                message.addReaction(&quot;\\u2694\\uFE0F&quot;).queue();\r\n                message.addReaction(&quot;\\uD83D\\uDEE1&quot;).queue();\r\n            });\r\n\r\n            //Role role = event.getGuild().getRolesByName(&quot;@everyone&quot;, true).get(0);\r\n\r\n            if (event.getGuild().getRolesByName(&quot;fighter&quot;, true).isEmpty()){\r\n                role1 = event.getGuild().createRole().setName(&quot;Fighter&quot;).setPermissions(0L).complete();\r\n            } else {\r\n                System.out.println(&quot;Role already exists&quot;);\r\n            }\r\n            if (event.getGuild().getRolesByName(&quot;tank&quot;, true).isEmpty()){\r\n                role2 = event.getGuild().createRole().setName(&quot;Tank&quot;).setPermissions(0L).complete();\r\n            } else {\r\n                System.out.println(&quot;Role already exists&quot;);\r\n            }\r\n\r\n            System.out.println(&quot;Role1 ID is: &quot; + role1.getId());\r\n            System.out.println(&quot;Role2 ID is: &quot; + role2.getId());\r\n        }\r\n```\r\nI do create role1 and role2 as empty objects at the beginning of my MessageListener using `Role role1;` and `Role role2;`.\r\n\r\nNow when executing the command $addrole, the message appears and the roles are created, but I can&#39;t use role1 and role2. Whenever I try to call them e.g. in `System.out.println(&quot;Role1 ID is: &quot; + role1.getId());` I get a load of errors including a nullpointer exception saying that &quot;this.role1 is null&quot;. I just can&#39;t find my mistake.","title":"Role handling in JDA Java Discord API","body":"<p>I'm learning Java at the moment by coding a discord bot using JDA. Now I just can't figure what my mistake is using the Role entitiy.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    if (content.equalsIgnoreCase(&quot;$addrole&quot;)){\n            channel.sendMessage(&quot;Please select the role you want!\\n\\n\\u2694\\uFE0F\\tFighter\\n\\uD83D\\uDEE1\\tTank&quot;).queue(message -&gt; {\n                message.addReaction(&quot;\\u2694\\uFE0F&quot;).queue();\n                message.addReaction(&quot;\\uD83D\\uDEE1&quot;).queue();\n            });\n\n            //Role role = event.getGuild().getRolesByName(&quot;@everyone&quot;, true).get(0);\n\n            if (event.getGuild().getRolesByName(&quot;fighter&quot;, true).isEmpty()){\n                role1 = event.getGuild().createRole().setName(&quot;Fighter&quot;).setPermissions(0L).complete();\n            } else {\n                System.out.println(&quot;Role already exists&quot;);\n            }\n            if (event.getGuild().getRolesByName(&quot;tank&quot;, true).isEmpty()){\n                role2 = event.getGuild().createRole().setName(&quot;Tank&quot;).setPermissions(0L).complete();\n            } else {\n                System.out.println(&quot;Role already exists&quot;);\n            }\n\n            System.out.println(&quot;Role1 ID is: &quot; + role1.getId());\n            System.out.println(&quot;Role2 ID is: &quot; + role2.getId());\n        }\n</code></pre>\n<p>I do create role1 and role2 as empty objects at the beginning of my MessageListener using <code>Role role1;</code> and <code>Role role2;</code>.</p>\n<p>Now when executing the command $addrole, the message appears and the roles are created, but I can't use role1 and role2. Whenever I try to call them e.g. in <code>System.out.println(&quot;Role1 ID is: &quot; + role1.getId());</code> I get a load of errors including a nullpointer exception saying that &quot;this.role1 is null&quot;. I just can't find my mistake.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1645567475,"post_id":71228542,"comment_id":125905213,"body_markdown":"Unable to reproduce this issue, [check this online demo](https://www.jdoodle.com/iembed/v0/nyV) using Java 17","body":"Unable to reproduce this issue, <a href=\"https://www.jdoodle.com/iembed/v0/nyV\" rel=\"nofollow noreferrer\">check this online demo</a> using Java 17"},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1672314054,"post_id":71228542,"comment_id":132264870,"body_markdown":"I know this is an old question, but would you happen to be using Corretto? I think there&#39;s a bug in their compiler","body":"I know this is an old question, but would you happen to be using Corretto? I think there&#39;s a bug in their compiler"}],"owner":{"account_id":5681174,"reputation":1,"user_id":4492337,"display_name":"marcin.ciapa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645565444,"creation_date":1645565444,"question_id":71228542,"body_markdown":"Is it possible to create a record with a custom accessor for a generic component? I get a compilation when I try:\r\n```\r\njava: invalid accessor method in record SearchResult\r\n  (return type of accessor method results() must match the type of record component results)\r\n```\r\n\r\nHere&#39;s the code:\r\n```java\r\npublic record SearchResult&lt;T&gt;(String nextPageId, List&lt;T&gt; results) {\r\n\r\n    public SearchResult {\r\n        requireNonNull(nextPageId);\r\n    }\r\n\r\n    public List&lt;T&gt; results() {\r\n        return unmodifiableList(results);\r\n    }\r\n}\r\n```\r\n```","title":"Custom accessor for record&#39;s generic component","body":"<p>Is it possible to create a record with a custom accessor for a generic component? I get a compilation when I try:</p>\n<pre><code>java: invalid accessor method in record SearchResult\n  (return type of accessor method results() must match the type of record component results)\n</code></pre>\n<p>Here's the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record SearchResult&lt;T&gt;(String nextPageId, List&lt;T&gt; results) {\n\n    public SearchResult {\n        requireNonNull(nextPageId);\n    }\n\n    public List&lt;T&gt; results() {\n        return unmodifiableList(results);\n    }\n}\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":7369804,"reputation":1147,"user_id":5610358,"display_name":"rhowell"},"score":0,"creation_date":1645565426,"post_id":71228514,"comment_id":125904556,"body_markdown":"what&#39;s the question","body":"what&#39;s the question"},{"owner":{"account_id":24241148,"reputation":15,"user_id":18193499,"display_name":"Ddddd12312"},"score":0,"creation_date":1645565618,"post_id":71228514,"comment_id":125904606,"body_markdown":"How do I use what the user inputs, for example, user inputs BTC, to create a statement that returns the Balance of BTC. E.g., cryptoNameTBF == BTC leads to System.out.println(&quot;1.3426&quot;);","body":"How do I use what the user inputs, for example, user inputs BTC, to create a statement that returns the Balance of BTC. E.g., cryptoNameTBF == BTC leads to System.out.println(&quot;1.3426&quot;);"},{"owner":{"account_id":1928650,"reputation":894,"user_id":1738539,"accept_rate":0,"display_name":"user1738539"},"score":0,"creation_date":1645565702,"post_id":71228514,"comment_id":125904627,"body_markdown":"Do these two lines work as intended? `String[] cryptoName = readCryptoNames();` `double[] cryptoBalance = readCryptoBalance();` ? If so then you can just find the index of the crypto in the first array and get that same index in the second array. Really you shouldn&#39;t need to read the file like that into two different arrays with multiple buffered readers.. You can use `Files.lines` to easily read each line of your text, split on space and store key/value into a Map.","body":"Do these two lines work as intended? <code>String[] cryptoName = readCryptoNames();</code> <code>double[] cryptoBalance = readCryptoBalance();</code> ? If so then you can just find the index of the crypto in the first array and get that same index in the second array. Really you shouldn&#39;t need to read the file like that into two different arrays with multiple buffered readers.. You can use <code>Files.lines</code> to easily read each line of your text, split on space and store key/value into a Map."},{"owner":{"account_id":24241148,"reputation":15,"user_id":18193499,"display_name":"Ddddd12312"},"score":0,"creation_date":1645565829,"post_id":71228514,"comment_id":125904667,"body_markdown":"@user1738539 that is exactly what I want to do! I am just having trouble implementing it","body":"@user1738539 that is exactly what I want to do! I am just having trouble implementing it"},{"owner":{"account_id":1928650,"reputation":894,"user_id":1738539,"accept_rate":0,"display_name":"user1738539"},"score":0,"creation_date":1645566423,"post_id":71228514,"comment_id":125904844,"body_markdown":"it&#39;s a very simple for loop: for (int i = 0; i &lt; cryptoName.length; i++) {\n            if (cryptoName[i].equals(cryptoNameTBF)) {\n                System.out.println(&quot;Your balance of &quot; + cryptoName[i] + &quot; is &quot; + cryptoBalance[i]);\n                return;\n            }\n        }","body":"it&#39;s a very simple for loop: for (int i = 0; i &lt; cryptoName.length; i++) {             if (cryptoName[i].equals(cryptoNameTBF)) {                 System.out.println(&quot;Your balance of &quot; + cryptoName[i] + &quot; is &quot; + cryptoBalance[i]);                 return;             }         }"},{"owner":{"account_id":24241148,"reputation":15,"user_id":18193499,"display_name":"Ddddd12312"},"score":0,"creation_date":1645566991,"post_id":71228514,"comment_id":125905064,"body_markdown":"That is extremely simple and would be exactly what I need, however, when I use a &quot;for&quot; statement, I get a ton of errors saying &quot;Cannot resolve method &#39;readCryptoNames&#39; in &#39;Main&quot;. I honestly do not know how to resolve this issue (I am new to Java).","body":"That is extremely simple and would be exactly what I need, however, when I use a &quot;for&quot; statement, I get a ton of errors saying &quot;Cannot resolve method &#39;readCryptoNames&#39; in &#39;Main&quot;. I honestly do not know how to resolve this issue (I am new to Java)."},{"owner":{"account_id":24241148,"reputation":15,"user_id":18193499,"display_name":"Ddddd12312"},"score":0,"creation_date":1645567407,"post_id":71228514,"comment_id":125905196,"body_markdown":"Actually &quot;for&quot; statements are fine, the issue is with &quot;if (cryptoName[i].equals(cryptoNameTBF)&quot;","body":"Actually &quot;for&quot; statements are fine, the issue is with &quot;if (cryptoName[i].equals(cryptoNameTBF)&quot;"}],"owner":{"account_id":24241148,"reputation":15,"user_id":18193499,"display_name":"Ddddd12312"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1645565699,"answer_count":0,"score":0,"last_activity_date":1645565238,"creation_date":1645565238,"question_id":71228514,"body_markdown":"I am working on a project for Uni that involves a program reading a .txt file with information regarding cryptos. \r\n\r\nI am currently stuck on the lookupBalance() section. My goal is to have a user input which crypto they would like to see the balance of, and use that input to provide them a balance of that crypto. I have tried tons of different things and cant seem to get it right. For example, if the user inputs &quot;BTC&quot;, I want the program to provide &quot;1.3426&quot;.\r\n\r\nMy .txt file contains what is in the attached .png [enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RKBKW.png\r\n\r\n\r\n    public class Main {\r\n    static Scanner userInputInt = new Scanner(System.in);\r\n    static Scanner userInputString = new Scanner(System.in);\r\n    static Scanner userInputDouble = new Scanner(System.in);\r\n\r\n    public static void main(String[] args) {\r\n        int userChoice = getUserChoice();\r\n        switch (userChoice) {\r\n            case 1:\r\n                viewWallet();\r\n                break;\r\n             case 2:\r\n                lookupBalance();\r\n                break;\r\n        }\r\n    }\r\n\r\n    // This method asks and returns what the user wants to do\r\n    public static int getUserChoice() {\r\n        System.out.println(&quot;****************************************************************&quot;);\r\n        System.out.println(&quot;****************************************************************&quot;);\r\n        System.out.println(&quot;************ Crypto Wallet **********&quot;);\r\n        System.out.println(&quot;****************************************************************&quot;);\r\n        System.out.println(&quot;****************************************************************&quot;);\r\n        System.out.println(&quot;&quot;);\r\n        System.out.println(&quot;What do you want to do?&quot;);\r\n        System.out.println(&quot;(1) View wallet&quot;);\r\n        System.out.println(&quot;(2) Look up the balance of a given crypto&quot;);\r\n        System.out.println(&quot;(3) Add new cryptos&quot;);\r\n        System.out.println(&quot;(4) Remove an existing crypto&quot;);\r\n        System.out.println(&quot;(5) Update wallet&quot;);\r\n        System.out.println(&quot;****************************************************************&quot;);\r\n        System.out.print(&quot;Please enter your choice (1, 2, 3, 4, or 5): &quot;);\r\n        return userInputInt.nextInt();\r\n    }\r\n\r\n    // This method is called for user choice 1\r\n    public static void viewWallet() {\r\n        String[] cryptoName = readCryptoNames();\r\n        double[] cryptoBalance = readCryptoBalance();\r\n        System.out.println(&quot;Crypto in portfolio &quot; + Arrays.toString(cryptoName) + &quot; Balance of crypto &quot; +  Arrays.toString(readCryptoBalance()));\r\n        }\r\n\r\n    // This method is called for user choice 2\r\n    public static void lookupBalance() {\r\n        String[] cryptoName = readCryptoNames();\r\n        double[] cryptoBalance = readCryptoBalance();\r\n        Arrays.toString(cryptoName);\r\n        System.out.println(Arrays.toString(cryptoName));\r\n        String[] line = new String[cryptoName.length];\r\n        int BTC = (int) 1.3426;\r\n        int ETH = (int) 5.2519;\r\n        int XRP = (int) 158.5000;\r\n\r\n       System.out.println(&quot;Which crypto would you like to view the balance of? &quot;);\r\n        String cryptoNameTBF = userInputString.next();\r\n\r\n        if (cryptoNameTBF == BTC)\r\n            System.out.println(&quot;1.3426&quot;);//example of what I want as an output\r\n        }\r\n\r\n\r\n    // This method reads and returns the crypto names from the file\r\n     public static String[] readCryptoNames() {\r\n\r\n       String[] temp = new String[100];\r\n       int lineNumber = 0;\r\n       try {\r\n\r\n           BufferedReader myFile = new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\John\\\\IdeaProjects\\\\A3_591158\\\\src\\\\com\\\\company\\\\wallet.txt&quot;));\r\n           String sCurrentLine;\r\n           while ((sCurrentLine = myFile.readLine()) != null) {\r\n               String[] tokens = sCurrentLine.split(&quot;\\\\s+&quot;);\r\n               temp[lineNumber] = (tokens[0]);\r\n               lineNumber++;\r\n           }\r\n           myFile.close();\r\n       } catch (IOException e) {\r\n           System.out.println(&quot;Error reading crypto name: &quot; + e.getMessage());\r\n       }\r\n       String[] cryptoName = new String[lineNumber];\r\n       System.arraycopy(temp, 0, cryptoName, 0, lineNumber);\r\n       System.out.println(cryptoName);\r\n       return cryptoName;\r\n    }\r\n\r\n    // This method reads and returns the crypto balances from the file\r\n    public static double[] readCryptoBalance() {\r\n        double[] temp = new double[100];\r\n        int lineNumber = 0;\r\n        try {\r\n\r\n            BufferedReader myFile = new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\John\\\\IdeaProjects\\\\A3_591158\\\\src\\\\com\\\\company\\\\wallet.txt&quot;));\r\n            String sCurrentLine;\r\n            while ((sCurrentLine = myFile.readLine()) != null) {\r\n                String[] tokens = sCurrentLine.split(&quot;\\\\s+&quot;);\r\n                temp[lineNumber] = Double.parseDouble(tokens[1]);\r\n                lineNumber++;\r\n            }\r\n            myFile.close();\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Error reading crypto balance: &quot; + e.getMessage());\r\n        }\r\n        double[] cryptoBalance = new double[lineNumber];\r\n        System.arraycopy(temp, 0, cryptoBalance, 0, lineNumber);\r\n        return cryptoBalance;\r\n    }\r\n","title":"If function using user input","body":"<p>I am working on a project for Uni that involves a program reading a .txt file with information regarding cryptos.</p>\n<p>I am currently stuck on the lookupBalance() section. My goal is to have a user input which crypto they would like to see the balance of, and use that input to provide them a balance of that crypto. I have tried tons of different things and cant seem to get it right. For example, if the user inputs &quot;BTC&quot;, I want the program to provide &quot;1.3426&quot;.</p>\n<p>My .txt file contains what is in the attached .png <a href=\"https://i.stack.imgur.com/RKBKW.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>public class Main {\nstatic Scanner userInputInt = new Scanner(System.in);\nstatic Scanner userInputString = new Scanner(System.in);\nstatic Scanner userInputDouble = new Scanner(System.in);\n\npublic static void main(String[] args) {\n    int userChoice = getUserChoice();\n    switch (userChoice) {\n        case 1:\n            viewWallet();\n            break;\n         case 2:\n            lookupBalance();\n            break;\n    }\n}\n\n// This method asks and returns what the user wants to do\npublic static int getUserChoice() {\n    System.out.println(&quot;****************************************************************&quot;);\n    System.out.println(&quot;****************************************************************&quot;);\n    System.out.println(&quot;************ Crypto Wallet **********&quot;);\n    System.out.println(&quot;****************************************************************&quot;);\n    System.out.println(&quot;****************************************************************&quot;);\n    System.out.println(&quot;&quot;);\n    System.out.println(&quot;What do you want to do?&quot;);\n    System.out.println(&quot;(1) View wallet&quot;);\n    System.out.println(&quot;(2) Look up the balance of a given crypto&quot;);\n    System.out.println(&quot;(3) Add new cryptos&quot;);\n    System.out.println(&quot;(4) Remove an existing crypto&quot;);\n    System.out.println(&quot;(5) Update wallet&quot;);\n    System.out.println(&quot;****************************************************************&quot;);\n    System.out.print(&quot;Please enter your choice (1, 2, 3, 4, or 5): &quot;);\n    return userInputInt.nextInt();\n}\n\n// This method is called for user choice 1\npublic static void viewWallet() {\n    String[] cryptoName = readCryptoNames();\n    double[] cryptoBalance = readCryptoBalance();\n    System.out.println(&quot;Crypto in portfolio &quot; + Arrays.toString(cryptoName) + &quot; Balance of crypto &quot; +  Arrays.toString(readCryptoBalance()));\n    }\n\n// This method is called for user choice 2\npublic static void lookupBalance() {\n    String[] cryptoName = readCryptoNames();\n    double[] cryptoBalance = readCryptoBalance();\n    Arrays.toString(cryptoName);\n    System.out.println(Arrays.toString(cryptoName));\n    String[] line = new String[cryptoName.length];\n    int BTC = (int) 1.3426;\n    int ETH = (int) 5.2519;\n    int XRP = (int) 158.5000;\n\n   System.out.println(&quot;Which crypto would you like to view the balance of? &quot;);\n    String cryptoNameTBF = userInputString.next();\n\n    if (cryptoNameTBF == BTC)\n        System.out.println(&quot;1.3426&quot;);//example of what I want as an output\n    }\n\n\n// This method reads and returns the crypto names from the file\n public static String[] readCryptoNames() {\n\n   String[] temp = new String[100];\n   int lineNumber = 0;\n   try {\n\n       BufferedReader myFile = new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\John\\\\IdeaProjects\\\\A3_591158\\\\src\\\\com\\\\company\\\\wallet.txt&quot;));\n       String sCurrentLine;\n       while ((sCurrentLine = myFile.readLine()) != null) {\n           String[] tokens = sCurrentLine.split(&quot;\\\\s+&quot;);\n           temp[lineNumber] = (tokens[0]);\n           lineNumber++;\n       }\n       myFile.close();\n   } catch (IOException e) {\n       System.out.println(&quot;Error reading crypto name: &quot; + e.getMessage());\n   }\n   String[] cryptoName = new String[lineNumber];\n   System.arraycopy(temp, 0, cryptoName, 0, lineNumber);\n   System.out.println(cryptoName);\n   return cryptoName;\n}\n\n// This method reads and returns the crypto balances from the file\npublic static double[] readCryptoBalance() {\n    double[] temp = new double[100];\n    int lineNumber = 0;\n    try {\n\n        BufferedReader myFile = new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\John\\\\IdeaProjects\\\\A3_591158\\\\src\\\\com\\\\company\\\\wallet.txt&quot;));\n        String sCurrentLine;\n        while ((sCurrentLine = myFile.readLine()) != null) {\n            String[] tokens = sCurrentLine.split(&quot;\\\\s+&quot;);\n            temp[lineNumber] = Double.parseDouble(tokens[1]);\n            lineNumber++;\n        }\n        myFile.close();\n    } catch (IOException e) {\n        System.out.println(&quot;Error reading crypto balance: &quot; + e.getMessage());\n    }\n    double[] cryptoBalance = new double[lineNumber];\n    System.arraycopy(temp, 0, cryptoBalance, 0, lineNumber);\n    return cryptoBalance;\n}\n</code></pre>\n"},{"tags":["java","jasper-reports"],"comments":[{"owner":{"account_id":3564072,"reputation":1696,"user_id":2976142,"accept_rate":100,"display_name":"Přemysl Šťastn&#253;"},"score":0,"creation_date":1467893217,"post_id":38243591,"comment_id":63911154,"body_markdown":"found it in old source code of JR (about 3.x.x version)","body":"found it in old source code of JR (about 3.x.x version)"},{"owner":{"account_id":3564072,"reputation":1696,"user_id":2976142,"accept_rate":100,"display_name":"Přemysl Šťastn&#253;"},"score":0,"creation_date":1467893631,"post_id":38243591,"comment_id":63911440,"body_markdown":"Protected -(zoom isn&#39;t in this version) http://grepcode.com/file/repo1.maven.org/maven2/net.sf.jasperreports/jasperreports/5.0.4/net/sf/jasperreports/engine/JRAbstractExporter.java#JRAbstractExporter.0globalOffsetX","body":"Protected -(zoom isn&#39;t in this version) <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/net.sf.jasperreports/jasperreports/5.0.4/net/sf/jasperreports/engine/JRAbstractExporter.java#JRAbstractExporter.0globalOffsetX\" rel=\"nofollow noreferrer\">grepcode.com/file/repo1.maven.org/maven2/net.sf.jasperreport&zwnj;&#8203;s/&hellip;</a>"},{"owner":{"account_id":3564072,"reputation":1696,"user_id":2976142,"accept_rate":100,"display_name":"Přemysl Šťastn&#253;"},"score":0,"creation_date":1467893857,"post_id":38243591,"comment_id":63911601,"body_markdown":"I am trying to compile this code with new libraries...it worked with old ones and with new one netbeans tells me, the symbol can&#39;t be found - Should I send whole class?","body":"I am trying to compile this code with new libraries...it worked with old ones and with new one netbeans tells me, the symbol can&#39;t be found - Should I send whole class?"},{"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"score":0,"creation_date":1467894497,"post_id":38243591,"comment_id":63912039,"body_markdown":"If the class too big you can post methods with relevant code","body":"If the class too big you can post methods with relevant code"},{"owner":{"account_id":3564072,"reputation":1696,"user_id":2976142,"accept_rate":100,"display_name":"Přemysl Šťastn&#253;"},"score":0,"creation_date":1467895181,"post_id":38243591,"comment_id":63912518,"body_markdown":"https://1drv.ms/t/s!AjBJmuQjZfo4g-owM4cDkmBTsJfWXw","body":"<a href=\"https://1drv.ms/t/s!AjBJmuQjZfo4g-owM4cDkmBTsJfWXw\" rel=\"nofollow noreferrer\">1drv.ms/t/s!AjBJmuQjZfo4g-owM4cDkmBTsJfWXw</a>"}],"answers":[{"tags":[],"owner":{"account_id":3564072,"reputation":1696,"user_id":2976142,"accept_rate":100,"display_name":"Přemysl Šťastn&#253;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1469213738,"creation_date":1469213738,"answer_id":38533534,"question_id":38243591,"body_markdown":"I have finally found inherited function `getCurrentItemConfiguration();`, where  I found these functions:\r\n`getCurrentItemConfiguration().getZoomRatio();`, `getCurrentItemConfiguration().getOffsetX()` and `getCurrentItemConfiguration().getOffsetY()`.\r\n\r\nSo I&#39;ve changed source code (with some other changes due other incompatibilities):\r\n\r\n    @Override\r\n    public void exportReportToGraphics2D(Graphics2D grx) throws JRException {\r\n\r\n        Shape oldClipShape = grx.getClip();\r\n        boolean printPageBorders = (Boolean) parameters.get(SRptGraphics2DExporterParameter.PRINT_PAGE_BORDERS);\r\n        grx.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n        //grx.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_OFF);\r\n        grx.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS, RenderingHints.VALUE_FRACTIONALMETRICS_ON);\r\n        grx.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BICUBIC);\r\n\r\n        rotationAngle = (Double) parameters.get(SRptGraphics2DExporterParameter.ROTATION_ANGLE);\r\n\r\n        setCurrentExporterInputItem(exporterInput.getItems().get(0));\r\n\r\n        ReportExportConfiguration configuration = getCurrentItemConfiguration();\r\n        AffineTransform sa = grx.getTransform();\r\n\r\n        float zoom = 1f;\r\n\r\n        Float zoomRatio = getCurrentItemConfiguration().getZoomRatio();\r\n        if (zoomRatio != null) {\r\n            zoom = zoomRatio.floatValue();\r\n            if (zoom &lt;= 0) {\r\n                throw new JRRuntimeException(\r\n                        EXCEPTION_MESSAGE_KEY_INVALID_ZOOM_RATIO,\r\n                        new Object[]{zoom}\r\n                );\r\n            }\r\n        }\r\n\r\n        AffineTransform atrans = new AffineTransform();\r\n        atrans.translate(\r\n                configuration.getOffsetX() == null ? 0 : configuration.getOffsetX(),\r\n                configuration.getOffsetY() == null ? 0 : configuration.getOffsetY()\r\n        );\r\n        atrans.rotate(rotationAngle);\r\n\r\n        atrans.scale(zoom, zoom);\r\n\r\n        grx.transform(atrans);\r\n\r\n        List&lt;JRPrintPage&gt; pages = jasperPrint.getPages();\r\n        if (pages != null) {\r\n            PageRange pageRange = getPageRange();\r\n            int startPageIndex = (pageRange == null || pageRange.getStartPageIndex() == null) ? 0 : pageRange.getStartPageIndex();\r\n\r\n            PrintPageFormat pageFormat = jasperPrint.getPageFormat(startPageIndex);\r\n            \r\n            grx.clip(new Rectangle(0, 0, pageFormat.getPageWidth(), pageFormat.getPageHeight()));\r\n            atrans = grx.getTransform();\r\n            try {                \r\n                AffineTransform ertrans = new AffineTransform();\r\n                ertrans.translate(\r\n                        configuration.getOffsetX() == null ? 0 : -configuration.getOffsetX(),\r\n                        configuration.getOffsetY() == null ? 0 : -configuration.getOffsetY()\r\n                ); \r\n                grx.transform(ertrans);\r\n\r\n                exportPage(grx, startPageIndex);\r\n                \r\n                grx.setTransform(atrans);\r\n                \r\n                if (printPageBorders) {\r\n                    grx.drawRect(1, 1, pageFormat.getPageWidth() -1, pageFormat.getPageHeight()-1);\r\n                }\r\n\r\n\r\n            } finally {\r\n                \r\n                grx.setTransform(sa);\r\n                grx.setClip(oldClipShape);\r\n                \r\n            }\r\n        }\r\n    }\r\n","title":"Where can be found globalOffsetX, globalOffsetY and zoom in class extending new JRGraphics2DExporter?","body":"<p>I have finally found inherited function <code>getCurrentItemConfiguration();</code>, where  I found these functions:\n<code>getCurrentItemConfiguration().getZoomRatio();</code>, <code>getCurrentItemConfiguration().getOffsetX()</code> and <code>getCurrentItemConfiguration().getOffsetY()</code>.</p>\n\n<p>So I've changed source code (with some other changes due other incompatibilities):</p>\n\n<pre><code>@Override\npublic void exportReportToGraphics2D(Graphics2D grx) throws JRException {\n\n    Shape oldClipShape = grx.getClip();\n    boolean printPageBorders = (Boolean) parameters.get(SRptGraphics2DExporterParameter.PRINT_PAGE_BORDERS);\n    grx.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n    //grx.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_OFF);\n    grx.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS, RenderingHints.VALUE_FRACTIONALMETRICS_ON);\n    grx.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BICUBIC);\n\n    rotationAngle = (Double) parameters.get(SRptGraphics2DExporterParameter.ROTATION_ANGLE);\n\n    setCurrentExporterInputItem(exporterInput.getItems().get(0));\n\n    ReportExportConfiguration configuration = getCurrentItemConfiguration();\n    AffineTransform sa = grx.getTransform();\n\n    float zoom = 1f;\n\n    Float zoomRatio = getCurrentItemConfiguration().getZoomRatio();\n    if (zoomRatio != null) {\n        zoom = zoomRatio.floatValue();\n        if (zoom &lt;= 0) {\n            throw new JRRuntimeException(\n                    EXCEPTION_MESSAGE_KEY_INVALID_ZOOM_RATIO,\n                    new Object[]{zoom}\n            );\n        }\n    }\n\n    AffineTransform atrans = new AffineTransform();\n    atrans.translate(\n            configuration.getOffsetX() == null ? 0 : configuration.getOffsetX(),\n            configuration.getOffsetY() == null ? 0 : configuration.getOffsetY()\n    );\n    atrans.rotate(rotationAngle);\n\n    atrans.scale(zoom, zoom);\n\n    grx.transform(atrans);\n\n    List&lt;JRPrintPage&gt; pages = jasperPrint.getPages();\n    if (pages != null) {\n        PageRange pageRange = getPageRange();\n        int startPageIndex = (pageRange == null || pageRange.getStartPageIndex() == null) ? 0 : pageRange.getStartPageIndex();\n\n        PrintPageFormat pageFormat = jasperPrint.getPageFormat(startPageIndex);\n\n        grx.clip(new Rectangle(0, 0, pageFormat.getPageWidth(), pageFormat.getPageHeight()));\n        atrans = grx.getTransform();\n        try {                \n            AffineTransform ertrans = new AffineTransform();\n            ertrans.translate(\n                    configuration.getOffsetX() == null ? 0 : -configuration.getOffsetX(),\n                    configuration.getOffsetY() == null ? 0 : -configuration.getOffsetY()\n            ); \n            grx.transform(ertrans);\n\n            exportPage(grx, startPageIndex);\n\n            grx.setTransform(atrans);\n\n            if (printPageBorders) {\n                grx.drawRect(1, 1, pageFormat.getPageWidth() -1, pageFormat.getPageHeight()-1);\n            }\n\n\n        } finally {\n\n            grx.setTransform(sa);\n            grx.setClip(oldClipShape);\n\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3564072,"reputation":1696,"user_id":2976142,"accept_rate":100,"display_name":"Přemysl Šťastn&#253;"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":38533534,"answer_count":1,"score":0,"last_activity_date":1645565012,"creation_date":1467888684,"question_id":38243591,"body_markdown":"I am upgrading libraries (from 3.x version to 6.0.0) in my project, which is using them, and I don&#39;t know, where get those 3 missing variables. They used to be protected in older version. Now they are private.\r\n\r\nMy old code:\r\n\r\n    import java.awt.Rectangle;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.Shape;\r\n    import java.awt.geom.AffineTransform;\r\n    import net.sf.jasperreports.engine.JRException;\r\n    import net.sf.jasperreports.engine.JRPrintPage;\r\n    import net.sf.jasperreports.engine.export.JRGraphics2DExporter;\r\n    \r\n    public class SRptGraphics2DExporter extends JRGraphics2DExporter {\r\n    \r\n        Double rotationAngle = 0.0;\r\n    \r\n        public SRptGraphics2DExporter() throws JRException {\r\n            super();\r\n            this.setParameter(SRptGraphics2DExporterParameter.ROTATION_ANGLE, new Double(0.0));\r\n        }\r\n    \r\n        @Override\r\n        public void exportReportToGraphics2D() throws JRException {\r\n            boolean printPageBorders = (Boolean) parameters.get(SRptGraphics2DExporterParameter.PRINT_PAGE_BORDERS);\r\n            rotationAngle = (Double) parameters.get(SRptGraphics2DExporterParameter.ROTATION_ANGLE);\r\n            grx.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n            grx.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS, RenderingHints.VALUE_FRACTIONALMETRICS_ON);\r\n            grx.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BICUBIC);\r\n    \r\n            AffineTransform atrans = new AffineTransform();\r\n            atrans.translate(globalOffsetX, globalOffsetY);\r\n            atrans.rotate(rotationAngle);\r\n            atrans.scale(zoom, zoom);\r\n    \r\n            AffineTransform sa = grx.getTransform();\r\n            grx.transform(atrans);\r\n    \r\n            java.util.List pages = jasperPrint.getPages();\r\n            if (pages != null) {\r\n                Shape oldClipShape = grx.getClip();\r\n                grx.clip(new Rectangle(0, 0, jasperPrint.getPageWidth(), jasperPrint.getPageHeight()));\r\n    \r\n                try {\r\n                    JRPrintPage page = (JRPrintPage) pages.get(startPageIndex);\r\n                    exportPage(page);\r\n                    if (printPageBorders) {\r\n                        grx.drawRect(0, 0, jasperPrint.getPageWidth(), jasperPrint.getPageHeight());\r\n                    }\r\n                } finally {\r\n                    grx.setClip(oldClipShape);\r\n                    grx.setTransform(sa);\r\n                }\r\n            }\r\n        }\r\n    }","title":"Where can be found globalOffsetX, globalOffsetY and zoom in class extending new JRGraphics2DExporter?","body":"<p>I am upgrading libraries (from 3.x version to 6.0.0) in my project, which is using them, and I don't know, where get those 3 missing variables. They used to be protected in older version. Now they are private.</p>\n\n<p>My old code:</p>\n\n<pre><code>import java.awt.Rectangle;\nimport java.awt.RenderingHints;\nimport java.awt.Shape;\nimport java.awt.geom.AffineTransform;\nimport net.sf.jasperreports.engine.JRException;\nimport net.sf.jasperreports.engine.JRPrintPage;\nimport net.sf.jasperreports.engine.export.JRGraphics2DExporter;\n\npublic class SRptGraphics2DExporter extends JRGraphics2DExporter {\n\n    Double rotationAngle = 0.0;\n\n    public SRptGraphics2DExporter() throws JRException {\n        super();\n        this.setParameter(SRptGraphics2DExporterParameter.ROTATION_ANGLE, new Double(0.0));\n    }\n\n    @Override\n    public void exportReportToGraphics2D() throws JRException {\n        boolean printPageBorders = (Boolean) parameters.get(SRptGraphics2DExporterParameter.PRINT_PAGE_BORDERS);\n        rotationAngle = (Double) parameters.get(SRptGraphics2DExporterParameter.ROTATION_ANGLE);\n        grx.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n        grx.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS, RenderingHints.VALUE_FRACTIONALMETRICS_ON);\n        grx.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BICUBIC);\n\n        AffineTransform atrans = new AffineTransform();\n        atrans.translate(globalOffsetX, globalOffsetY);\n        atrans.rotate(rotationAngle);\n        atrans.scale(zoom, zoom);\n\n        AffineTransform sa = grx.getTransform();\n        grx.transform(atrans);\n\n        java.util.List pages = jasperPrint.getPages();\n        if (pages != null) {\n            Shape oldClipShape = grx.getClip();\n            grx.clip(new Rectangle(0, 0, jasperPrint.getPageWidth(), jasperPrint.getPageHeight()));\n\n            try {\n                JRPrintPage page = (JRPrintPage) pages.get(startPageIndex);\n                exportPage(page);\n                if (printPageBorders) {\n                    grx.drawRect(0, 0, jasperPrint.getPageWidth(), jasperPrint.getPageHeight());\n                }\n            } finally {\n                grx.setClip(oldClipShape);\n                grx.setTransform(sa);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","string","if-statement","arraylist"],"comments":[{"owner":{"account_id":3131031,"reputation":24013,"user_id":2648811,"accept_rate":33,"display_name":"Green Cloak Guy"},"score":0,"creation_date":1645555906,"post_id":71226800,"comment_id":125901342,"body_markdown":"Can you share the code you&#39;ve written so far in attempt to solve this problem?","body":"Can you share the code you&#39;ve written so far in attempt to solve this problem?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1645556054,"post_id":71226800,"comment_id":125901400,"body_markdown":"Are the values in each list position dependent?  And this has all indications that a class might serve  you better.","body":"Are the values in each list position dependent?  And this has all indications that a class might serve  you better."},{"owner":{"account_id":19928279,"reputation":133,"user_id":14602454,"display_name":"JoeyOC"},"score":0,"creation_date":1645556147,"post_id":71226800,"comment_id":125901437,"body_markdown":"@WJS No they are not position dependent","body":"@WJS No they are not position dependent"},{"owner":{"account_id":19928279,"reputation":133,"user_id":14602454,"display_name":"JoeyOC"},"score":0,"creation_date":1645556161,"post_id":71226800,"comment_id":125901444,"body_markdown":"@GreenCloakGuy Added code for ref","body":"@GreenCloakGuy Added code for ref"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1645556291,"post_id":71226800,"comment_id":125901488,"body_markdown":"*No they are not position dependent*.  So `john` could be a the front of `list1` and `Smith` could be at the end of `list2`?","body":"<i>No they are not position dependent</i>.  So <code>john</code> could be a the front of <code>list1</code> and <code>Smith</code> could be at the end of <code>list2</code>?"},{"owner":{"account_id":19928279,"reputation":133,"user_id":14602454,"display_name":"JoeyOC"},"score":0,"creation_date":1645556614,"post_id":71226800,"comment_id":125901591,"body_markdown":"@WJS Yes but some columns might be named the same for example Ring in both columns have the same name and so that would print true","body":"@WJS Yes but some columns might be named the same for example Ring in both columns have the same name and so that would print true"},{"owner":{"account_id":19928279,"reputation":133,"user_id":14602454,"display_name":"JoeyOC"},"score":0,"creation_date":1645557182,"post_id":71226800,"comment_id":125901783,"body_markdown":"@Darkman John in list1 has all the same data as smith in list2. I need to check, if column John is present in list one, then smith SHOULD be present in list 2 and check for that column name.","body":"@Darkman John in list1 has all the same data as smith in list2. I need to check, if column John is present in list one, then smith SHOULD be present in list 2 and check for that column name."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645556839,"creation_date":1645556383,"answer_id":71226917,"question_id":71226800,"body_markdown":"The method takes two lists and two supplied strings and checks to see if both strings appear in opposing lists.\r\n```\r\npublic boolean checkName(List&lt;String&gt; list1, List&lt;String&gt; \r\n    list2, String one, String two) {\r\n     return list1.contains(one) &amp;&amp; list2.contains(two) ||\r\n            list1.contains(two) &amp;&amp; list2.contains(one);\r\n}","title":"comparing two arraylist with condition in Java","body":"<p>The method takes two lists and two supplied strings and checks to see if both strings appear in opposing lists.</p>\n<pre><code>public boolean checkName(List&lt;String&gt; list1, List&lt;String&gt; \n    list2, String one, String two) {\n     return list1.contains(one) &amp;&amp; list2.contains(two) ||\n            list1.contains(two) &amp;&amp; list2.contains(one);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645564909,"creation_date":1645559470,"answer_id":71227481,"question_id":71226800,"body_markdown":"You could use a map if you know which column names are linked to each other.\r\n\r\n    Map&lt;String,String&gt; map = new HashMap&lt;&gt;();\r\n    map.put(&quot;John&quot;, &quot;Smith&quot;);\r\n    map.put(&quot;Jane&quot;, &quot;Doe&quot;);\r\n    map.put(&quot;Vehicle&quot;, &quot;Car&quot;);\r\n    map.put(&quot;Snack&quot;, &quot;Bar&quot;);\r\n    map.put(&quot;Ring&quot;, &quot;Ring&quot;);\r\n\r\n**EDIT**\r\n\r\nAssuming you have read the content of the files into lists as given in your example and your list contain: \r\n\r\n    //code to read file content into lists\r\n    //....\r\n\r\n    ArrayList1 = [&quot;John&quot;,&quot;Jane&quot;,&quot;Vehicle&quot;,&quot;Snack&quot;,&quot;Ring&quot;]\r\n    ArrayList2 = [&quot;Car&quot;,&quot;Bar&quot;,&quot;Smith&quot;,&quot;Doe&quot;,&quot;Ring&quot;]\r\n\r\nyou can iterate over the first list and check against second list:\r\n\r\n    for (String column : ArrayList1) {\r\n        boolean found = ArrayList2.stream().anyMatch(map.get(column)::equals);\r\n        if (found){\r\n            System.out.println(String.format(&quot;Found matching columns: %s -&gt; %s.&quot;, column, map.get(column)));\r\n        }\r\n        else {\r\n            System.out.println(String.format(&quot;No matching column found for: %s.&quot;, column));\r\n        }\r\n    }\r\n\r\n \r\n\r\n\r\n","title":"comparing two arraylist with condition in Java","body":"<p>You could use a map if you know which column names are linked to each other.</p>\n<pre><code>Map&lt;String,String&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;John&quot;, &quot;Smith&quot;);\nmap.put(&quot;Jane&quot;, &quot;Doe&quot;);\nmap.put(&quot;Vehicle&quot;, &quot;Car&quot;);\nmap.put(&quot;Snack&quot;, &quot;Bar&quot;);\nmap.put(&quot;Ring&quot;, &quot;Ring&quot;);\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p>Assuming you have read the content of the files into lists as given in your example and your list contain:</p>\n<pre><code>//code to read file content into lists\n//....\n\nArrayList1 = [&quot;John&quot;,&quot;Jane&quot;,&quot;Vehicle&quot;,&quot;Snack&quot;,&quot;Ring&quot;]\nArrayList2 = [&quot;Car&quot;,&quot;Bar&quot;,&quot;Smith&quot;,&quot;Doe&quot;,&quot;Ring&quot;]\n</code></pre>\n<p>you can iterate over the first list and check against second list:</p>\n<pre><code>for (String column : ArrayList1) {\n    boolean found = ArrayList2.stream().anyMatch(map.get(column)::equals);\n    if (found){\n        System.out.println(String.format(&quot;Found matching columns: %s -&gt; %s.&quot;, column, map.get(column)));\n    }\n    else {\n        System.out.println(String.format(&quot;No matching column found for: %s.&quot;, column));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19928279,"reputation":133,"user_id":14602454,"display_name":"JoeyOC"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1645564909,"creation_date":1645555724,"question_id":71226800,"body_markdown":"I have printed two array lists from two CSV files\r\n\r\nCSV 1 to arraylist \r\n```\r\nBufferedReader br = new BufferedReader(new  InputStreamReader(stream));\r\nString text = br.readLine();\r\nString[] b = text.split(String.valueOf(str));\r\ncsv1.add(b[0]);\r\n\r\n```\r\n\r\nCSV 2 to arraylist \r\n```\r\nBufferedReader br = new BufferedReader(new  InputStreamReader(stream));\r\nString text = br.readLine();\r\nString[] b = text.split(String.valueOf(str));\r\ncsv2.add(b[0]);\r\n\r\n```\r\nI need to compare column names but they are labelled differently in each file. column John in list 1 is equal to col smith in list 2\r\n```\r\nArrayList1 = [&quot;John&quot;,&quot;Jane&quot;,&quot;Vehicle&quot;,&quot;Snack&quot;,&quot;Ring&quot;]\r\nArrayList2 = [&quot;Car&quot;,&quot;Bar&quot;,&quot;Smith&quot;,&quot;Doe&quot;,&quot;Ring&quot;]\r\n\r\n```\r\n\r\nFor example; John in list1 has all the same data as smith in list2. I need to check if John is present in list one, then smith SHOULD be present in list 2 and check for that column name. ","title":"comparing two arraylist with condition in Java","body":"<p>I have printed two array lists from two CSV files</p>\n<p>CSV 1 to arraylist</p>\n<pre><code>BufferedReader br = new BufferedReader(new  InputStreamReader(stream));\nString text = br.readLine();\nString[] b = text.split(String.valueOf(str));\ncsv1.add(b[0]);\n\n</code></pre>\n<p>CSV 2 to arraylist</p>\n<pre><code>BufferedReader br = new BufferedReader(new  InputStreamReader(stream));\nString text = br.readLine();\nString[] b = text.split(String.valueOf(str));\ncsv2.add(b[0]);\n\n</code></pre>\n<p>I need to compare column names but they are labelled differently in each file. column John in list 1 is equal to col smith in list 2</p>\n<pre><code>ArrayList1 = [&quot;John&quot;,&quot;Jane&quot;,&quot;Vehicle&quot;,&quot;Snack&quot;,&quot;Ring&quot;]\nArrayList2 = [&quot;Car&quot;,&quot;Bar&quot;,&quot;Smith&quot;,&quot;Doe&quot;,&quot;Ring&quot;]\n\n</code></pre>\n<p>For example; John in list1 has all the same data as smith in list2. I need to check if John is present in list one, then smith SHOULD be present in list 2 and check for that column name.</p>\n"},{"tags":["java","android","image","bitmap","exif"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1502125641,"creation_date":1502125641,"answer_id":45552197,"question_id":45552108,"body_markdown":"&gt; Is there a way to make BitmapFactory.decodeFile() respect EXIF and produce a correct Bitmap?\r\n\r\nNo, sorry.\r\n\r\n&gt; what is the recommended pattern to handle this issue?\r\n\r\nUse the support library&#39;s `ExifInterface` to determine the desired orientation. Then, depending upon your use of the `Bitmap`, either rotate the view (e.g., `ImageView`) or rotate the `Bitmap`. [This sample project](https://github.com/commonsguy/cw-omnibus/tree/v8.7/Camera/EXIFRotater) illustrates both approaches, though I use a separate set of EXIF code, as some things that I use in that sample are not supported by the support library&#39;s `ExifInterface`.\r\n","title":"Is it possible to make BitmapFactory.decodeFile() respect EXIF?","body":"<blockquote>\n  <p>Is there a way to make BitmapFactory.decodeFile() respect EXIF and produce a correct Bitmap?</p>\n</blockquote>\n\n<p>No, sorry.</p>\n\n<blockquote>\n  <p>what is the recommended pattern to handle this issue?</p>\n</blockquote>\n\n<p>Use the support library's <code>ExifInterface</code> to determine the desired orientation. Then, depending upon your use of the <code>Bitmap</code>, either rotate the view (e.g., <code>ImageView</code>) or rotate the <code>Bitmap</code>. <a href=\"https://github.com/commonsguy/cw-omnibus/tree/v8.7/Camera/EXIFRotater\" rel=\"nofollow noreferrer\">This sample project</a> illustrates both approaches, though I use a separate set of EXIF code, as some things that I use in that sample are not supported by the support library's <code>ExifInterface</code>.</p>\n"},{"tags":[],"owner":{"account_id":3305889,"reputation":13887,"user_id":3345644,"accept_rate":93,"display_name":"Alexander Abakumov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1502144104,"creation_date":1502144104,"answer_id":45556485,"question_id":45552108,"body_markdown":"As it turned out, resolving the initial issue turned into the set of new ones. Here is the complete tutorial for further readers.\r\n\r\nFirst of all, as [@CommonsWare pointed in his answer][1], we have to handle orientation manually using EXIF orientation tag. To avoid buggy/security flawed `android.media.ExifInterface` as well as 3rd party dependencies, the best option seems to be a new `com.android.support:exifinterface` library, which we add to `build.gradle` as:\r\n\r\n    dependencies {\r\n        compile &#39;com.android.support:exifinterface:26.0.0&#39;\r\n    }\r\n\r\nHowever for me, it led to a Gradle sync error caused by that this specific newest version of the library is not found in Google repositories, though this version is the latest according to the [Support Library Packages][2] page.\r\n\r\nAfter an hour of trials, I figured out that `jcenter()` repository is not enough and Gradle sync was fixed by adding Google Maven repository:\r\n\r\n    allprojects {\r\n        repositories {\r\n            jcenter()\r\n            maven {\r\n                url &#39;https://maven.google.com&#39;\r\n                // Alternative URL is &#39;https://dl.google.com/dl/android/maven2/&#39;\r\n            }\r\n        }\r\n    }\r\n\r\nOk, now we&#39;re able to use `android.support.media.ExifInterface`.\r\n\r\nThe next disappointment was that width and height stored in EXIF tags also do not respect orientation, i.e. for images taken in portrait mode you get the same width and height that are returned by a `Bitmap` created with `BitmapFactory.decodeFile()`. So the only way is to manually look at the EXIF `ExifInterface.TAG_ORIENTATION` tag and if it says that image is rotated 90 or 270 degree - swap width and height:\r\n\r\n    ExifInterface exif = new ExifInterface(fileNameFull);\r\n    orientation = exif.getAttributeInt(ExifInterface.TAG_ORIENTATION, ExifInterface.ORIENTATION_UNDEFINED);\r\n    \r\n    BitmapFactory.Options optsForBounds = new BitmapFactory.Options();\r\n    optsForBounds.inJustDecodeBounds = true;\r\n    BitmapFactory.decodeFile(fileName, optsForBounds);\r\n    \r\n    int width = optsForBounds.outWidth, height = optsForBounds.outHeight;\r\n    if (orientation == ExifInterface.ORIENTATION_ROTATE_90 || orientation == ExifInterface.ORIENTATION_ROTATE_270)\r\n    {\r\n        int temp = width;\r\n        //noinspection SuspiciousNameCombination\r\n        width = height;\r\n        height = temp;\r\n    }\r\n\r\nI&#39;m not sure if this approach and code covers 100% of cases, so if you encounter any issues across various devices/image sources - feel free to comment.\r\n\r\nIn general, dealing with EXIF doesn&#39;t seem to be a pleasant experience. Implementations of the EXIF standard even from big companies seem to treat nuances very differently. See extensive analysis [here][3].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/45552197/3345644\r\n  [2]: https://developer.android.com/topic/libraries/support-library/packages.html#exif\r\n  [3]: https://www.daveperrett.com/articles/2012/07/28/exif-orientation-handling-is-a-ghetto/\r\n","title":"Is it possible to make BitmapFactory.decodeFile() respect EXIF?","body":"<p>As it turned out, resolving the initial issue turned into the set of new ones. Here is the complete tutorial for further readers.</p>\n\n<p>First of all, as <a href=\"https://stackoverflow.com/a/45552197/3345644\">@CommonsWare pointed in his answer</a>, we have to handle orientation manually using EXIF orientation tag. To avoid buggy/security flawed <code>android.media.ExifInterface</code> as well as 3rd party dependencies, the best option seems to be a new <code>com.android.support:exifinterface</code> library, which we add to <code>build.gradle</code> as:</p>\n\n<pre><code>dependencies {\n    compile 'com.android.support:exifinterface:26.0.0'\n}\n</code></pre>\n\n<p>However for me, it led to a Gradle sync error caused by that this specific newest version of the library is not found in Google repositories, though this version is the latest according to the <a href=\"https://developer.android.com/topic/libraries/support-library/packages.html#exif\" rel=\"nofollow noreferrer\">Support Library Packages</a> page.</p>\n\n<p>After an hour of trials, I figured out that <code>jcenter()</code> repository is not enough and Gradle sync was fixed by adding Google Maven repository:</p>\n\n<pre><code>allprojects {\n    repositories {\n        jcenter()\n        maven {\n            url 'https://maven.google.com'\n            // Alternative URL is 'https://dl.google.com/dl/android/maven2/'\n        }\n    }\n}\n</code></pre>\n\n<p>Ok, now we're able to use <code>android.support.media.ExifInterface</code>.</p>\n\n<p>The next disappointment was that width and height stored in EXIF tags also do not respect orientation, i.e. for images taken in portrait mode you get the same width and height that are returned by a <code>Bitmap</code> created with <code>BitmapFactory.decodeFile()</code>. So the only way is to manually look at the EXIF <code>ExifInterface.TAG_ORIENTATION</code> tag and if it says that image is rotated 90 or 270 degree - swap width and height:</p>\n\n<pre><code>ExifInterface exif = new ExifInterface(fileNameFull);\norientation = exif.getAttributeInt(ExifInterface.TAG_ORIENTATION, ExifInterface.ORIENTATION_UNDEFINED);\n\nBitmapFactory.Options optsForBounds = new BitmapFactory.Options();\noptsForBounds.inJustDecodeBounds = true;\nBitmapFactory.decodeFile(fileName, optsForBounds);\n\nint width = optsForBounds.outWidth, height = optsForBounds.outHeight;\nif (orientation == ExifInterface.ORIENTATION_ROTATE_90 || orientation == ExifInterface.ORIENTATION_ROTATE_270)\n{\n    int temp = width;\n    //noinspection SuspiciousNameCombination\n    width = height;\n    height = temp;\n}\n</code></pre>\n\n<p>I'm not sure if this approach and code covers 100% of cases, so if you encounter any issues across various devices/image sources - feel free to comment.</p>\n\n<p>In general, dealing with EXIF doesn't seem to be a pleasant experience. Implementations of the EXIF standard even from big companies seem to treat nuances very differently. See extensive analysis <a href=\"https://www.daveperrett.com/articles/2012/07/28/exif-orientation-handling-is-a-ghetto/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":439515,"reputation":1432,"user_id":828496,"display_name":"metaphyze"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1553890526,"creation_date":1553890060,"answer_id":55424836,"question_id":45552108,"body_markdown":"You can do this with Glide now.  See the &quot;Background Threads&quot; section here:\r\n\r\nhttps://bumptech.github.io/glide/doc/getting-started.html\r\n\r\nBitmap bitmap = Glide.with(context).asBitmap().load(new File(fileName)).skipMemoryCache(true).submit().get();\r\n\r\nGlide takes into consideration EXIF.  You&#39;ll need to load it on a background thread.  I was using Glide 4.9.0\r\n","title":"Is it possible to make BitmapFactory.decodeFile() respect EXIF?","body":"<p>You can do this with Glide now.  See the \"Background Threads\" section here:</p>\n\n<p><a href=\"https://bumptech.github.io/glide/doc/getting-started.html\" rel=\"noreferrer\">https://bumptech.github.io/glide/doc/getting-started.html</a></p>\n\n<p>Bitmap bitmap = Glide.with(context).asBitmap().load(new File(fileName)).skipMemoryCache(true).submit().get();</p>\n\n<p>Glide takes into consideration EXIF.  You'll need to load it on a background thread.  I was using Glide 4.9.0</p>\n"},{"tags":[],"owner":{"account_id":3450782,"reputation":1,"user_id":2890509,"display_name":"user2890509"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645564891,"creation_date":1645564891,"answer_id":71228460,"question_id":45552108,"body_markdown":"\tBitmap = getThumb(file, dimensionPixelSize);\r\n\r\n\tpublic Bitmap getThumb(String file, float thumbSize) throws FileNotFoundException, IOException, OutOfMemoryError {\r\n\r\n\t\tExifInterface exif = new ExifInterface(file);\r\n\t\tint orientation = exif.getAttributeInt(ExifInterface.TAG_ORIENTATION, ExifInterface.ORIENTATION_UNDEFINED);\r\n\r\n\t\tmOptions.inSampleSize = getSample(file, thumbSize);\r\n\t\tmOptions.inJustDecodeBounds = false;\r\n\r\n\t\tBitmap bitmap = BitmapFactory.decodeFile(file, mOptions);\r\n\r\n\t\tif (orientation == ExifInterface.ORIENTATION_ROTATE_90 || orientation == ExifInterface.ORIENTATION_ROTATE_270) {\r\n\t\t\treturn rotateBitmap(bitmap, 90);\r\n\t\t} else {\r\n\t\t\treturn bitmap;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic int getSample(String file, float thumbSize) throws FileNotFoundException, IOException, OutOfMemoryError {\r\n\t\tmOptions.inJustDecodeBounds = true;\r\n\t\tBitmapFactory.decodeFile(file, mOptions);\r\n\t\tint size = Math.round(Math.max(mOptions.outWidth, mOptions.outHeight) / thumbSize);\r\n\t\tif (size % 2 != 0) {\r\n\t\t\tsize--;\r\n\t\t}\r\n\t\treturn size;\r\n\t}\r\n\t\r\n\tpublic Bitmap rotateBitmap(Bitmap source, float angle) {\r\n\t\t Matrix matrix = new Matrix();\r\n\t\t matrix.postRotate(angle);\r\n\t\t return Bitmap.createBitmap(source, 0, 0, source.getWidth(), source.getHeight(), matrix, true);\r\n\t}","title":"Is it possible to make BitmapFactory.decodeFile() respect EXIF?","body":"<pre><code>Bitmap = getThumb(file, dimensionPixelSize);\n\npublic Bitmap getThumb(String file, float thumbSize) throws FileNotFoundException, IOException, OutOfMemoryError {\n\n    ExifInterface exif = new ExifInterface(file);\n    int orientation = exif.getAttributeInt(ExifInterface.TAG_ORIENTATION, ExifInterface.ORIENTATION_UNDEFINED);\n\n    mOptions.inSampleSize = getSample(file, thumbSize);\n    mOptions.inJustDecodeBounds = false;\n\n    Bitmap bitmap = BitmapFactory.decodeFile(file, mOptions);\n\n    if (orientation == ExifInterface.ORIENTATION_ROTATE_90 || orientation == ExifInterface.ORIENTATION_ROTATE_270) {\n        return rotateBitmap(bitmap, 90);\n    } else {\n        return bitmap;\n    }\n\n}\n\npublic int getSample(String file, float thumbSize) throws FileNotFoundException, IOException, OutOfMemoryError {\n    mOptions.inJustDecodeBounds = true;\n    BitmapFactory.decodeFile(file, mOptions);\n    int size = Math.round(Math.max(mOptions.outWidth, mOptions.outHeight) / thumbSize);\n    if (size % 2 != 0) {\n        size--;\n    }\n    return size;\n}\n\npublic Bitmap rotateBitmap(Bitmap source, float angle) {\n     Matrix matrix = new Matrix();\n     matrix.postRotate(angle);\n     return Bitmap.createBitmap(source, 0, 0, source.getWidth(), source.getHeight(), matrix, true);\n}\n</code></pre>\n"}],"owner":{"account_id":3305889,"reputation":13887,"user_id":3345644,"accept_rate":93,"display_name":"Alexander Abakumov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3394,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":45552197,"answer_count":4,"score":3,"last_activity_date":1645564891,"creation_date":1502125271,"question_id":45552108,"body_markdown":"In my tests, a `Bitmap` created by `BitmapFactory.decodeFile()` doesn&#39;t respect EXIF header.\r\n\r\nFor example, with portrait images taken by a devices that doesn&#39;t rotate actual pixel data depending on camera orientation but rather stores it in EXIF header, when I&#39;m calling `Bitmap.getWidth()` and `Bitmap.getHeight()`, they return incorrect values (height for width and vice versa).\r\n\r\nIs there a way to make  `BitmapFactory.decodeFile()` respect EXIF and produce a correct `Bitmap`?\r\n\r\nIf not, what is the recommended pattern to handle this issue?\r\n\r\nWithout an advice from experienced Android devs, the only way I see is to pre-process taken images (load, rotate according to EXIF, and save). But apart from the huge processing overhead, this might cause `OutOfMemoryException`s for large camera resolutions (in cases when you can&#39;t reduce the quality by using `BitmapFactory.Options.inSampleSize` to load downscaled images).","title":"Is it possible to make BitmapFactory.decodeFile() respect EXIF?","body":"<p>In my tests, a <code>Bitmap</code> created by <code>BitmapFactory.decodeFile()</code> doesn't respect EXIF header.</p>\n\n<p>For example, with portrait images taken by a devices that doesn't rotate actual pixel data depending on camera orientation but rather stores it in EXIF header, when I'm calling <code>Bitmap.getWidth()</code> and <code>Bitmap.getHeight()</code>, they return incorrect values (height for width and vice versa).</p>\n\n<p>Is there a way to make  <code>BitmapFactory.decodeFile()</code> respect EXIF and produce a correct <code>Bitmap</code>?</p>\n\n<p>If not, what is the recommended pattern to handle this issue?</p>\n\n<p>Without an advice from experienced Android devs, the only way I see is to pre-process taken images (load, rotate according to EXIF, and save). But apart from the huge processing overhead, this might cause <code>OutOfMemoryException</code>s for large camera resolutions (in cases when you can't reduce the quality by using <code>BitmapFactory.Options.inSampleSize</code> to load downscaled images).</p>\n"},{"tags":["java","gis","geospatial","jts"],"comments":[{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1487322640,"post_id":42271695,"comment_id":71742596,"body_markdown":"is an error of 2m in 8000m significant to your problem?","body":"is an error of 2m in 8000m significant to your problem?"},{"owner":{"account_id":4890357,"reputation":113,"user_id":3941668,"display_name":"Miguel &#193;ngel Garc&#237;a"},"score":0,"creation_date":1487323833,"post_id":42271695,"comment_id":71743505,"body_markdown":"Yes, is very significant in this context, because the fuchsia area represents a not allowed area, and precision is needed.","body":"Yes, is very significant in this context, because the fuchsia area represents a not allowed area, and precision is needed."},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1487324134,"post_id":42271695,"comment_id":71743733,"body_markdown":"in that case using google maps is probably inappropriate as it uses a spherical representation of the Earth and then a Mercator projection to make a flat map, as you have seen both these choices cause difficulties with accuracy.","body":"in that case using google maps is probably inappropriate as it uses a spherical representation of the Earth and then a Mercator projection to make a flat map, as you have seen both these choices cause difficulties with accuracy."},{"owner":{"account_id":4890357,"reputation":113,"user_id":3941668,"display_name":"Miguel &#193;ngel Garc&#237;a"},"score":0,"creation_date":1487572771,"post_id":42271695,"comment_id":71828190,"body_markdown":"So, what would the best map representation insted of using Google Maps and MySQL? I mean, the best representation with accuracy. Thank you!","body":"So, what would the best map representation insted of using Google Maps and MySQL? I mean, the best representation with accuracy. Thank you!"},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1487580519,"post_id":42271695,"comment_id":71832122,"body_markdown":"probably openlayers or leaflet as client which allow you to pick a local projection, I&#39;d use GeoServer on top of MySQL to support reprojection","body":"probably openlayers or leaflet as client which allow you to pick a local projection, I&#39;d use GeoServer on top of MySQL to support reprojection"},{"owner":{"account_id":4890357,"reputation":113,"user_id":3941668,"display_name":"Miguel &#193;ngel Garc&#237;a"},"score":0,"creation_date":1487587637,"post_id":42271695,"comment_id":71836550,"body_markdown":"Thank you @iant! I&#39;ll do a deeper study of it ;)","body":"Thank you @iant! I&#39;ll do a deeper study of it ;)"},{"owner":{"account_id":4890357,"reputation":113,"user_id":3941668,"display_name":"Miguel &#193;ngel Garc&#237;a"},"score":0,"creation_date":1487590754,"post_id":42271695,"comment_id":71838460,"body_markdown":"But in the context that is shown in te original question, what could the best library to represent the circle in database? E.g. What is the library that I should use to transform the circle, given by its center and radius, to a polygon in the same reference system as Google Maps do?","body":"But in the context that is shown in te original question, what could the best library to represent the circle in database? E.g. What is the library that I should use to transform the circle, given by its center and radius, to a polygon in the same reference system as Google Maps do?"},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1487590958,"post_id":42271695,"comment_id":71838600,"body_markdown":"with google maps +/- 5m is probably the best you can hope for.","body":"with google maps +/- 5m is probably the best you can hope for."}],"answers":[{"tags":[],"owner":{"account_id":24344933,"reputation":1,"user_id":18281730,"display_name":"Ravid luz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645564670,"creation_date":1645564670,"answer_id":71228415,"question_id":42271695,"body_markdown":"I have encountered a similar problem myself. The JTS library is not familiar with curved surfaces and only works with 2D plains. This is a geometry library and not a geography library.\r\nAfter searching in a few libraries (`geolatte-geom` and `GeographicLib`),\r\nI found the `GeoTools` library which I believe should work for you too.\r\nHere is a reference that I hope would help you: https://stackoverflow.com/questions/44249945/how-to-use-geometricshapefactory-in-geotools-to-create-a-circle-on-map. And one last important thing: Make sure you use the right coordinate system (the most common one is wgs84).","title":"Represent a circle in a geodesic spatial","body":"<p>I have encountered a similar problem myself. The JTS library is not familiar with curved surfaces and only works with 2D plains. This is a geometry library and not a geography library.\nAfter searching in a few libraries (<code>geolatte-geom</code> and <code>GeographicLib</code>),\nI found the <code>GeoTools</code> library which I believe should work for you too.\nHere is a reference that I hope would help you: <a href=\"https://stackoverflow.com/questions/44249945/how-to-use-geometricshapefactory-in-geotools-to-create-a-circle-on-map\">How to use GeometricShapeFactory in geoTools to create a Circle on map</a>. And one last important thing: Make sure you use the right coordinate system (the most common one is wgs84).</p>\n"}],"owner":{"account_id":4890357,"reputation":113,"user_id":3941668,"display_name":"Miguel &#193;ngel Garc&#237;a"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645564670,"creation_date":1487242083,"question_id":42271695,"body_markdown":"I am developing a web application using Google Maps to draw circles in the map. This circles are stored in a MySQL 5.7 database, and its representation is done with [Polygon object][1] from [JTS library][2].\r\n\r\nA circle is stored  with center and radius too. When a circle polygon is drawn in Google Maps, center and radius are obtained from database and then the [circle object][3] of Google Maps is created.\r\n\r\nThe results of drawing a circle vary when it is drawn with the [polygon object from Google Maps][4] and its center and radius stored in database, and when it is drawn from the Polygon stored in database. There are some differences, in meters, between both bounds. \r\n\r\nAs is shown in this example:\r\n\r\n[![circle bound differences][5]][5] \r\n\r\nThe black border circle is drawn with Google Maps Circle object and the fuchsia border circle is drawn with Google Maps Polygon object. Zoom is set up to the maximum value. As you can appreciate is quite similar, but there is an error, about 2 o 3 meters. In this example, the circle has a radius of 8.000 m (8 km) and is located in Madrid.\r\n\r\nThis problem grows when radius circle is bigger.\r\n\r\nProbably, this error occurs because of the use of JTS library I don&#39;t know if using a geodesic library, like [Spatial4j][6], solve this (I&#39;ve tried this but I&#39;ve have another problems and, as I mentioned before, I don&#39;t know if this is the solution).\r\n\r\nThank you very much!\r\n\r\n\r\n  [1]: http://grepcode.com/file/repo1.maven.org/maven2/com.vividsolutions/jts/1.11/com/vividsolutions/jts/geom/Polygon.java\r\n  [2]: https://github.com/locationtech/jts\r\n  [3]: https://developers.google.com/maps/documentation/javascript/examples/circle-simple?hl=es-419\r\n  [4]: https://developers.google.com/maps/documentation/javascript/examples/polygon-simple?hl=es-419\r\n  [5]: https://i.stack.imgur.com/rjaJ5.png\r\n  [6]: https://github.com/locationtech/spatial4j","title":"Represent a circle in a geodesic spatial","body":"<p>I am developing a web application using Google Maps to draw circles in the map. This circles are stored in a MySQL 5.7 database, and its representation is done with <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/com.vividsolutions/jts/1.11/com/vividsolutions/jts/geom/Polygon.java\" rel=\"nofollow noreferrer\">Polygon object</a> from <a href=\"https://github.com/locationtech/jts\" rel=\"nofollow noreferrer\">JTS library</a>.</p>\n\n<p>A circle is stored  with center and radius too. When a circle polygon is drawn in Google Maps, center and radius are obtained from database and then the <a href=\"https://developers.google.com/maps/documentation/javascript/examples/circle-simple?hl=es-419\" rel=\"nofollow noreferrer\">circle object</a> of Google Maps is created.</p>\n\n<p>The results of drawing a circle vary when it is drawn with the <a href=\"https://developers.google.com/maps/documentation/javascript/examples/polygon-simple?hl=es-419\" rel=\"nofollow noreferrer\">polygon object from Google Maps</a> and its center and radius stored in database, and when it is drawn from the Polygon stored in database. There are some differences, in meters, between both bounds. </p>\n\n<p>As is shown in this example:</p>\n\n<p><a href=\"https://i.stack.imgur.com/rjaJ5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rjaJ5.png\" alt=\"circle bound differences\"></a> </p>\n\n<p>The black border circle is drawn with Google Maps Circle object and the fuchsia border circle is drawn with Google Maps Polygon object. Zoom is set up to the maximum value. As you can appreciate is quite similar, but there is an error, about 2 o 3 meters. In this example, the circle has a radius of 8.000 m (8 km) and is located in Madrid.</p>\n\n<p>This problem grows when radius circle is bigger.</p>\n\n<p>Probably, this error occurs because of the use of JTS library I don't know if using a geodesic library, like <a href=\"https://github.com/locationtech/spatial4j\" rel=\"nofollow noreferrer\">Spatial4j</a>, solve this (I've tried this but I've have another problems and, as I mentioned before, I don't know if this is the solution).</p>\n\n<p>Thank you very much!</p>\n"},{"tags":["java","eclipse","eclipse-plugin","eclipse-rcp"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1468836739,"post_id":38433914,"comment_id":64273533,"body_markdown":"Perhaps you explain in more detail what you are trying to achieve because there is probably a better way.","body":"Perhaps you explain in more detail what you are trying to achieve because there is probably a better way."},{"owner":{"account_id":3564072,"reputation":1696,"user_id":2976142,"accept_rate":100,"display_name":"Přemysl Šťastn&#253;"},"score":0,"creation_date":1468836934,"post_id":38433914,"comment_id":64273690,"body_markdown":"I am trying to write plug in into jaspersoft studio, which is based on eclipse. It should can open and save file directly from database, without writing it on hdd.","body":"I am trying to write plug in into jaspersoft studio, which is based on eclipse. It should can open and save file directly from database, without writing it on hdd."}],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1468836495,"creation_date":1468836495,"answer_id":38433980,"question_id":38433914,"body_markdown":"If you mean `IFolder` you can&#39;t. The standard Eclipse workspace code does not support in-memory folders or files.","title":"Making in-memory workspace or folder in Eclipse","body":"<p>If you mean <code>IFolder</code> you can't. The standard Eclipse workspace code does not support in-memory folders or files.</p>\n"}],"owner":{"account_id":3564072,"reputation":1696,"user_id":2976142,"accept_rate":100,"display_name":"Přemysl Šťastn&#253;"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":38433980,"answer_count":1,"score":-1,"last_activity_date":1645564526,"creation_date":1468836311,"question_id":38433914,"body_markdown":"I&#39;m working on eclipse plugin. I would like to make by it virtual folder or whole virtual workspace in Eclipse without having it written in File system. (Ergo every read and write, which would Eclipse try to do with files in folder or workspace, would be processed only in memory of plugin.)\r\n\r\nBut I can&#39;t find any suitable method, how to do it. Thanks for help.","title":"Making in-memory workspace or folder in Eclipse","body":"<p>I'm working on eclipse plugin. I would like to make by it virtual folder or whole virtual workspace in Eclipse without having it written in File system. (Ergo every read and write, which would Eclipse try to do with files in folder or workspace, would be processed only in memory of plugin.)</p>\n\n<p>But I can't find any suitable method, how to do it. Thanks for help.</p>\n"},{"tags":["java","swing","graphics","jframe","awt"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1645126852,"post_id":71163434,"comment_id":125794975,"body_markdown":"Remove the call to `setSize` from your painting method.  Under no circumstances should a painting method change the state of a component.  A painting method must do painting only.","body":"Remove the call to <code>setSize</code> from your painting method.  Under no circumstances should a painting method change the state of a component.  A painting method must do painting only."},{"owner":{"account_id":20733885,"reputation":36,"user_id":15225154,"display_name":"Ranger 4860"},"score":0,"creation_date":1645127465,"post_id":71163434,"comment_id":125795189,"body_markdown":"I have edited it out but can you please explain why?","body":"I have edited it out but can you please explain why?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1645129691,"post_id":71163434,"comment_id":125795939,"body_markdown":"You only want to call setSize once, not every time the system requests that the window repaint itself.  Those requests can happen for many different reasons, most of them based on user actions, which are beyond a program’s control.  The same is true for all component properties.","body":"You only want to call setSize once, not every time the system requests that the window repaint itself.  Those requests can happen for many different reasons, most of them based on user actions, which are beyond a program’s control.  The same is true for all component properties."},{"owner":{"account_id":20733885,"reputation":36,"user_id":15225154,"display_name":"Ranger 4860"},"score":0,"creation_date":1645129999,"post_id":71163434,"comment_id":125796050,"body_markdown":"Thank you I will keep that in mind next time","body":"Thank you I will keep that in mind next time"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645128817,"creation_date":1645128817,"answer_id":71164814,"question_id":71163434,"body_markdown":"Adds after `setLayout`. One often uses an overloaded `add` with an extra parameter for a layout&#39;s specific constraint.\r\n\r\nBy default the content pane the frame&#39;s `add`s are done upon, has a `BorderLayout` with center, left and so on.\r\n\r\nThe horizontal &quot;line&quot; in a flow is vertically centered. Setting a preferred height ensures a line component is filled up.\r\n\r\n    d.setPreferredSize(new Dimension(100, 1000)); \r\n\r\nOf course an other layout might serve better; depending on what you want - just experiment.","title":"Having trouble aligning graphics in Java","body":"<p>Adds after <code>setLayout</code>. One often uses an overloaded <code>add</code> with an extra parameter for a layout's specific constraint.</p>\n<p>By default the content pane the frame's <code>add</code>s are done upon, has a <code>BorderLayout</code> with center, left and so on.</p>\n<p>The horizontal &quot;line&quot; in a flow is vertically centered. Setting a preferred height ensures a line component is filled up.</p>\n<pre><code>d.setPreferredSize(new Dimension(100, 1000)); \n</code></pre>\n<p>Of course an other layout might serve better; depending on what you want - just experiment.</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645140682,"creation_date":1645134580,"answer_id":71165805,"question_id":71163434,"body_markdown":"Trying to layout components like this isn&#39;t the easiest thing to to, especially when you consider the complexities of `JLabel` and the possibilities of other layout constraints.\r\n\r\nIf you have the image and you&#39;re drawing the lines via custom painting, I would just custom paint the whole thing\r\n\r\nStarting with...\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWe can produce something like...\r\n\r\n[![enter image description here][2]][2]\r\n\r\n    import java.awt.BasicStroke;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public final class Main {\r\n\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new ClefWithLinesPane());\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class ClefWithLinesPane extends JPanel {\r\n\r\n            private BufferedImage trebbleClef;\r\n\r\n            public ClefWithLinesPane() throws IOException {\r\n                trebbleClef = ImageIO.read(getClass().getResource(&quot;/images/ClefLines.png&quot;));\r\n                setBackground(Color.WHITE);\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(800, 200);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                int x = 0;\r\n                int y = (getHeight() - trebbleClef.getHeight()) / 2;\r\n                g2d.drawImage(trebbleClef, x, y, this);\r\n\r\n                int[] lines = new int[] {\r\n                    30, 60, 89, 120, 149\r\n                };\r\n\r\n                x = trebbleClef.getWidth();\r\n\r\n                g2d.setStroke(new BasicStroke(2));\r\n                for (int line = 0; line &lt; lines.length; line++) {\r\n                    y = lines[line];\r\n                    g2d.drawLine(x, y, getWidth(), y);\r\n                }\r\n\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nBut... as you can see, the lines don&#39;t &quot;quite&quot; match up, now this is simply an issue with source image and you could spend some time cleaning it up, or, you could just dispense with the lines of the clef itself and do those you&#39;re self, for example...\r\n\r\nStarting with...\r\n\r\n[![enter image description here][3]][3]\r\n\r\nWe could produce something like...\r\n\r\n[![enter image description here][4]][4]\r\n\r\n    import java.awt.BasicStroke;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public final class Main {\r\n\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new ClefWithOutLinesPane());\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class ClefWithOutLinesPane extends JPanel {\r\n\r\n            private BufferedImage trebbleClef;\r\n\r\n            public ClefWithOutLinesPane() throws IOException {\r\n                trebbleClef = ImageIO.read(getClass().getResource(&quot;/images/Clef.png&quot;));\r\n                setBackground(Color.WHITE);\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(800, 200);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n\r\n                int minLineY = 30;\r\n                int maxLineY = 150;\r\n\r\n                int lineSpacing = (maxLineY - minLineY) / 4;\r\n\r\n                int x = 10;\r\n\r\n                g2d.setStroke(new BasicStroke(8));\r\n                g2d.drawLine(x, minLineY + 3, x, maxLineY - 3);\r\n                int y = (getHeight() - trebbleClef.getHeight()) / 2;\r\n                g2d.drawImage(trebbleClef, x + 10, y, this);\r\n\r\n                g2d.setStroke(new BasicStroke(2));\r\n                for (int line = 0; line &lt; 5; line++) {\r\n                    y = minLineY + (lineSpacing * line);\r\n                    g2d.drawLine(x, y, getWidth(), y);\r\n                }\r\n\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aH3Jt.png\r\n  [2]: https://i.stack.imgur.com/cNQNG.png\r\n  [3]: https://i.stack.imgur.com/Hpr45.png\r\n  [4]: https://i.stack.imgur.com/AQXJn.png","title":"Having trouble aligning graphics in Java","body":"<p>Trying to layout components like this isn't the easiest thing to to, especially when you consider the complexities of <code>JLabel</code> and the possibilities of other layout constraints.</p>\n<p>If you have the image and you're drawing the lines via custom painting, I would just custom paint the whole thing</p>\n<p>Starting with...</p>\n<p><a href=\"https://i.stack.imgur.com/aH3Jt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aH3Jt.png\" alt=\"enter image description here\" /></a></p>\n<p>We can produce something like...</p>\n<p><a href=\"https://i.stack.imgur.com/cNQNG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cNQNG.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.BasicStroke;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic final class Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JFrame frame = new JFrame();\n                    frame.add(new ClefWithLinesPane());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public class ClefWithLinesPane extends JPanel {\n\n        private BufferedImage trebbleClef;\n\n        public ClefWithLinesPane() throws IOException {\n            trebbleClef = ImageIO.read(getClass().getResource(&quot;/images/ClefLines.png&quot;));\n            setBackground(Color.WHITE);\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(800, 200);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            int x = 0;\n            int y = (getHeight() - trebbleClef.getHeight()) / 2;\n            g2d.drawImage(trebbleClef, x, y, this);\n\n            int[] lines = new int[] {\n                30, 60, 89, 120, 149\n            };\n\n            x = trebbleClef.getWidth();\n\n            g2d.setStroke(new BasicStroke(2));\n            for (int line = 0; line &lt; lines.length; line++) {\n                y = lines[line];\n                g2d.drawLine(x, y, getWidth(), y);\n            }\n\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n<p>But... as you can see, the lines don't &quot;quite&quot; match up, now this is simply an issue with source image and you could spend some time cleaning it up, or, you could just dispense with the lines of the clef itself and do those you're self, for example...</p>\n<p>Starting with...</p>\n<p><a href=\"https://i.stack.imgur.com/Hpr45.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Hpr45.png\" alt=\"enter image description here\" /></a></p>\n<p>We could produce something like...</p>\n<p><a href=\"https://i.stack.imgur.com/AQXJn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AQXJn.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.BasicStroke;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic final class Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JFrame frame = new JFrame();\n                    frame.add(new ClefWithOutLinesPane());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public class ClefWithOutLinesPane extends JPanel {\n\n        private BufferedImage trebbleClef;\n\n        public ClefWithOutLinesPane() throws IOException {\n            trebbleClef = ImageIO.read(getClass().getResource(&quot;/images/Clef.png&quot;));\n            setBackground(Color.WHITE);\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(800, 200);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n\n            int minLineY = 30;\n            int maxLineY = 150;\n\n            int lineSpacing = (maxLineY - minLineY) / 4;\n\n            int x = 10;\n\n            g2d.setStroke(new BasicStroke(8));\n            g2d.drawLine(x, minLineY + 3, x, maxLineY - 3);\n            int y = (getHeight() - trebbleClef.getHeight()) / 2;\n            g2d.drawImage(trebbleClef, x + 10, y, this);\n\n            g2d.setStroke(new BasicStroke(2));\n            for (int line = 0; line &lt; 5; line++) {\n                y = minLineY + (lineSpacing * line);\n                g2d.drawLine(x, y, getWidth(), y);\n            }\n\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20733885,"reputation":36,"user_id":15225154,"display_name":"Ranger 4860"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71165805,"answer_count":2,"score":0,"last_activity_date":1645563986,"creation_date":1645121921,"question_id":71163434,"body_markdown":"So I am using a JFrame object to open up a window and add a bunch of graphics first I am adding an image then I am trying to add some lines, But it seems like the line start from the Y center of the previous image I would like for it to start at the top of the page\r\nhere is my code for the JFrame:\r\n```\r\n\tJFrame f = new JFrame();\r\n    JLabel trebeclef = new JLabel(new ImageIcon(getClass().getClassLoader().getResource(&quot;Some image&quot;)));\r\n    Draw d = new Draw();\r\n    f.add(trebeclef);\r\n    f.add(d);\t\r\n    f.setSize(1000,1000);\r\n    f.getContentPane().setBackground(Color.white);\r\n    f.setLayout(new FlowLayout(FlowLayout.LEFT,0,0));\r\n    f.pack();\r\n    f.setVisible(true);\r\n    f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n```\r\nhere is the code for the Draw class\r\n```\r\npublic void paint(Graphics g2) {\r\n\t\tsuper.paintComponent(g2);\r\n\t\tGraphics2D g = (Graphics2D) g2;\r\n\t    g.setStroke(new BasicStroke(2));\r\n        g.drawLine(0, 0, 100, 0);\r\n\t}\r\n```\r\nit results in this\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAny help appreciated, thanks\r\n\r\n  [1]: https://i.stack.imgur.com/dsUtx.png","title":"Having trouble aligning graphics in Java","body":"<p>So I am using a JFrame object to open up a window and add a bunch of graphics first I am adding an image then I am trying to add some lines, But it seems like the line start from the Y center of the previous image I would like for it to start at the top of the page\nhere is my code for the JFrame:</p>\n<pre><code>    JFrame f = new JFrame();\n    JLabel trebeclef = new JLabel(new ImageIcon(getClass().getClassLoader().getResource(&quot;Some image&quot;)));\n    Draw d = new Draw();\n    f.add(trebeclef);\n    f.add(d);   \n    f.setSize(1000,1000);\n    f.getContentPane().setBackground(Color.white);\n    f.setLayout(new FlowLayout(FlowLayout.LEFT,0,0));\n    f.pack();\n    f.setVisible(true);\n    f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n</code></pre>\n<p>here is the code for the Draw class</p>\n<pre><code>public void paint(Graphics g2) {\n        super.paintComponent(g2);\n        Graphics2D g = (Graphics2D) g2;\n        g.setStroke(new BasicStroke(2));\n        g.drawLine(0, 0, 100, 0);\n    }\n</code></pre>\n<p>it results in this</p>\n<p><a href=\"https://i.stack.imgur.com/dsUtx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dsUtx.png\" alt=\"enter image description here\" /></a></p>\n<p>Any help appreciated, thanks</p>\n"},{"tags":["java","mapstruct","annotation-processing"],"comments":[{"owner":{"account_id":23191137,"reputation":1266,"user_id":17287498,"display_name":"Ben Zegveld"},"score":0,"creation_date":1645138033,"post_id":71095630,"comment_id":125798464,"body_markdown":"what type of object are dictionary and dictionaryField in this case? And how stable are these values per mapping?\nFor example: the dictionaryField could be a String and always called the same for the same mapping, while the dictionary is a Dictionary class, which could change depending on the call.","body":"what type of object are dictionary and dictionaryField in this case? And how stable are these values per mapping? For example: the dictionaryField could be a String and always called the same for the same mapping, while the dictionary is a Dictionary class, which could change depending on the call."},{"owner":{"account_id":24238651,"reputation":1,"user_id":18191364,"display_name":"aphoeriks"},"score":0,"creation_date":1645256504,"post_id":71095630,"comment_id":125826974,"body_markdown":"it`s a record from db which can have any amount of values with any amount of names:) it has 2 main methods getId which return id of first record from &quot;dictionaryName&quot; dictionary by &quot;fieldName&quot; name of one of fields in that dictionary and &quot;fieldValue&quot; value of that field. uuid id = getId(dictionaryName, fieldName, fieldValue); And method which returns value of the field by id of record, name of dictionary and name of field. String fieldValue = getValue(dictionaryName, fieldName, id);","body":"it`s a record from db which can have any amount of values with any amount of names:) it has 2 main methods getId which return id of first record from &quot;dictionaryName&quot; dictionary by &quot;fieldName&quot; name of one of fields in that dictionary and &quot;fieldValue&quot; value of that field. uuid id = getId(dictionaryName, fieldName, fieldValue); And method which returns value of the field by id of record, name of dictionary and name of field. String fieldValue = getValue(dictionaryName, fieldName, id);"}],"answers":[{"tags":[],"owner":{"account_id":23191137,"reputation":1266,"user_id":17287498,"display_name":"Ben Zegveld"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645279753,"creation_date":1645279753,"answer_id":71185749,"question_id":71095630,"body_markdown":"Currently it is not possible to retrieve the fieldname within mapstruct, what however is possible is using an `@Mapping` per field to minimize the amount of mapping code.\r\n\r\nfor example:\r\n```\r\n    @Mapping( target = &quot;myUuidFieldName&quot;, expression = &#39;java(dict.getId(&quot;myUuidFieldName&quot;, source.getMyUuidFieldName()))&#39; )\r\n    @Mapping( target = &quot;myStringFieldName&quot;, expression = &#39;java(dict.getValue(&quot;myStringFieldName&quot;, source.getMyStringFieldName()))&#39; )\r\n    Target map(Source source, @Context Dictionary dict);\r\n```\r\nand have a separate class called `Dictionary` in which you store the mappings for retrieval. This way you can easily replace the `Dictionary` with another `Dictionary` implementation in case you need a different translation.\r\n\r\nExample of a `Dictionary` class:\r\n```\r\nprivate class Dictionary{\r\n    DbRecordAccessor dbRecord;\r\n    Map&lt;String, RetrievalInformation&gt; retrievalMap;\r\n    // constructor and retrievalMap initialization methods\r\n\r\n    UUID getId(String fieldName, String value){\r\n        RetrievalInformation info = retrievalMap.get(fieldName);\r\n        return dbRecord.getId(info.getDictionaryName(), fieldName, info.getDictionaryField());\r\n    }\r\n\r\n    String getValue(String fieldName, String value){\r\n        RetrievalInformation info = retrievalMap.get(fieldName);\r\n        return dbRecord.getValue(info.getDictionaryName(), fieldName, getId(fieldName, value));\r\n    }\r\n}\r\n```\r\n\r\n[The following is not (yet) supported by mapstruct. See here for more information.](https://github.com/mapstruct/mapstruct/issues/2688)\r\n\r\nIt would be nice if you could have done the following:\r\n```\r\n    Target map(Source source, @Context Dictionary dict);\r\n\r\n    UUID getId(String value, @TargetProperty String targetField, @Context Dictionary dict) {\r\n        return dict.getId(targetField, value);\r\n    }\r\n\r\n```","title":"How to extend mapstruct`s @mapping annotation","body":"<p>Currently it is not possible to retrieve the fieldname within mapstruct, what however is possible is using an <code>@Mapping</code> per field to minimize the amount of mapping code.</p>\n<p>for example:</p>\n<pre><code>    @Mapping( target = &quot;myUuidFieldName&quot;, expression = 'java(dict.getId(&quot;myUuidFieldName&quot;, source.getMyUuidFieldName()))' )\n    @Mapping( target = &quot;myStringFieldName&quot;, expression = 'java(dict.getValue(&quot;myStringFieldName&quot;, source.getMyStringFieldName()))' )\n    Target map(Source source, @Context Dictionary dict);\n</code></pre>\n<p>and have a separate class called <code>Dictionary</code> in which you store the mappings for retrieval. This way you can easily replace the <code>Dictionary</code> with another <code>Dictionary</code> implementation in case you need a different translation.</p>\n<p>Example of a <code>Dictionary</code> class:</p>\n<pre><code>private class Dictionary{\n    DbRecordAccessor dbRecord;\n    Map&lt;String, RetrievalInformation&gt; retrievalMap;\n    // constructor and retrievalMap initialization methods\n\n    UUID getId(String fieldName, String value){\n        RetrievalInformation info = retrievalMap.get(fieldName);\n        return dbRecord.getId(info.getDictionaryName(), fieldName, info.getDictionaryField());\n    }\n\n    String getValue(String fieldName, String value){\n        RetrievalInformation info = retrievalMap.get(fieldName);\n        return dbRecord.getValue(info.getDictionaryName(), fieldName, getId(fieldName, value));\n    }\n}\n</code></pre>\n<p><a href=\"https://github.com/mapstruct/mapstruct/issues/2688\" rel=\"nofollow noreferrer\">The following is not (yet) supported by mapstruct. See here for more information.</a></p>\n<p>It would be nice if you could have done the following:</p>\n<pre><code>    Target map(Source source, @Context Dictionary dict);\n\n    UUID getId(String value, @TargetProperty String targetField, @Context Dictionary dict) {\n        return dict.getId(targetField, value);\n    }\n\n</code></pre>\n"}],"owner":{"account_id":24238651,"reputation":1,"user_id":18191364,"display_name":"aphoeriks"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":610,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645563744,"creation_date":1644697815,"question_id":71095630,"body_markdown":"I have a dictionaries which has multiple fields like: `id`, `code`, `ruName`, `enName`. `id` is a UUID, the others are `String`s.\r\n\r\nWhat I want is something like that:\r\n\r\n```\r\n@Mapping(source = &quot;sourceName&quot;, target = &quot;targetName&quot;, dictionary = &quot;dictName&quot;, dictionaryField = &quot;dictionaryField&quot;)\r\n```\r\n\r\nand based on target type it will generate something like that\r\n\r\n```\r\nif target type UUID \r\n    return target.targetName(getId(dictionary ,dictionaryField , sourceName));\r\n\r\nif target type String\r\n    return target.targetName(getValue(dictionary, dictionaryField, sourceName));\r\n```\r\n\r\nWhat I have now is a generator which generates mappers for every dictionary and for every field in format `dictionaryByFieldName`, so I can use this format:\r\n\r\n```\r\n@Mapping(source=&quot;sourceName&quot;, target=&quot;targetName&quot;, qualifiedByName = &quot;dictionaryByFieldName&quot;)\r\n```\r\n\r\nBut I don&#39;t like it cos most of created mappers have no uses in project and aren&#39;t valid cos not every field is unique to get id by field-_-\r\n","title":"How to extend mapstruct`s @mapping annotation","body":"<p>I have a dictionaries which has multiple fields like: <code>id</code>, <code>code</code>, <code>ruName</code>, <code>enName</code>. <code>id</code> is a UUID, the others are <code>String</code>s.</p>\n<p>What I want is something like that:</p>\n<pre><code>@Mapping(source = &quot;sourceName&quot;, target = &quot;targetName&quot;, dictionary = &quot;dictName&quot;, dictionaryField = &quot;dictionaryField&quot;)\n</code></pre>\n<p>and based on target type it will generate something like that</p>\n<pre><code>if target type UUID \n    return target.targetName(getId(dictionary ,dictionaryField , sourceName));\n\nif target type String\n    return target.targetName(getValue(dictionary, dictionaryField, sourceName));\n</code></pre>\n<p>What I have now is a generator which generates mappers for every dictionary and for every field in format <code>dictionaryByFieldName</code>, so I can use this format:</p>\n<pre><code>@Mapping(source=&quot;sourceName&quot;, target=&quot;targetName&quot;, qualifiedByName = &quot;dictionaryByFieldName&quot;)\n</code></pre>\n<p>But I don't like it cos most of created mappers have no uses in project and aren't valid cos not every field is unique to get id by field-_-</p>\n"},{"tags":["java","json","jackson","deserialization"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645563287,"creation_date":1645550284,"answer_id":71225573,"question_id":71224888,"body_markdown":"Here is your problem - `Pojo&lt;?&gt; deserialized = mapper.readValue(json, Pojo.class)`.\r\n\r\nObjectMapper does not know what type to parse `T` to. To tell it the type you need to use either `readValue` overload with [TypeReference][1], or the overload with [JavaType][2]. I find `JavaType` easier to read, so here is an example with it:\r\n```\r\npublic class Test {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.registerModule(new JavaTimeModule());\r\n        mapper.configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true);\r\n\r\n        String json = &quot;{\\&quot;value\\&quot;: \\&quot;2022-02-22T12:00:00\\&quot;}&quot;;\r\n        JavaType javaType = TypeFactory.defaultInstance().constructParametricType(Pojo.class, LocalDateTime.class);\r\n        Pojo&lt;LocalDateTime&gt; deserialized = mapper.readValue(json, javaType);\r\n        System.out.println(deserialized.values[0].toLocalDate());\r\n        System.out.println(deserialized.values[0].toLocalTime());\r\n    }\r\n}\r\n```\r\nWhen constructing the parametric `JavaType` the first argument is the class itself, next are concrete generic types.\r\n\r\n**Edit:** Having in mind the new info, the best i can come up with is custom deserializer, which resolves the type at runtime. Something like this:\r\n```\r\npublic class UnknownTypeDeserializer&lt;T&gt; extends StdDeserializer&lt;Pojo&lt;T&gt;&gt; {\r\n\r\n    private final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;);\r\n\r\n    public UnknownTypeDeserializer() {\r\n        super((Class&lt;?&gt;) null);\r\n    }\r\n\r\n    @Override\r\n    public Pojo&lt;T&gt; deserialize(JsonParser parser, DeserializationContext ctxt) throws IOException, JacksonException {\r\n        JsonNode node = parser.getCodec().readTree(parser);\r\n        String value = node.get(&quot;value&quot;).asText();\r\n        Pojo&lt;T&gt; pojo = new Pojo&lt;&gt;();\r\n        T[] arr;\r\n        try {\r\n            arr = (T[]) new LocalDateTime[]{LocalDateTime.parse(value, this.formatter)};\r\n        } catch (Exception exc) {\r\n            try {\r\n                arr = (T[]) new Integer[]{Integer.parseInt(value)};\r\n            } catch (NumberFormatException numberFormatException) {\r\n                arr = (T[]) new String[]{value};\r\n            }\r\n        }\r\n        pojo.values = arr;\r\n        return pojo;\r\n    }\r\n}\r\n```\r\nThe idea is try to parse to `LocalDateTime`, if not possible, try to parse to `int`, if not possible again leave as `String`. That&#39;s quite the ugly way to do it, but i am trying just to illustrate the idea. Instead of catching exceptions, it might be better to examine the format, using regex for example, and according to which regex matches, parse to correct type. I tested it with string and int, and it actually works.\r\n```\r\npublic class Test {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.registerModule(new JavaTimeModule());\r\n        SimpleModule simpleModule = new SimpleModule();\r\n        simpleModule.addDeserializer(Pojo.class, new UnknownTypeDeserializer&lt;&gt;());\r\n        mapper.registerModule(simpleModule);\r\n\r\n        String json1 = &quot;{\\&quot;value\\&quot;: \\&quot;2022-02-22T12:00:00\\&quot;}&quot;;\r\n        Pojo&lt;?&gt; deserialized1 = mapper.readValue(json1, Pojo.class);\r\n        System.out.println(&quot;is date - &quot; + (deserialized1.values[0] instanceof LocalDateTime));\r\n\r\n        String json2 = &quot;{\\&quot;value\\&quot;: \\&quot;bla bla bla\\&quot;}&quot;;\r\n        Pojo&lt;?&gt; deserialized2 = mapper.readValue(json2, Pojo.class);\r\n        System.out.println(&quot;is string - &quot; + (deserialized2.values[0] instanceof String));\r\n\r\n        String json3 = &quot;{\\&quot;value\\&quot;: 41}&quot;;\r\n        Pojo&lt;?&gt; deserialized3 = mapper.readValue(json3, Pojo.class);\r\n        System.out.println(&quot;is int - &quot; + (deserialized3.values[0] instanceof Integer));\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://fasterxml.github.io/jackson-core/javadoc/2.8/com/fasterxml/jackson/core/type/TypeReference.html\r\n  [2]: https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/JavaType.html","title":"Deserialize to generic member based on value","body":"<p>Here is your problem - <code>Pojo&lt;?&gt; deserialized = mapper.readValue(json, Pojo.class)</code>.</p>\n<p>ObjectMapper does not know what type to parse <code>T</code> to. To tell it the type you need to use either <code>readValue</code> overload with <a href=\"https://fasterxml.github.io/jackson-core/javadoc/2.8/com/fasterxml/jackson/core/type/TypeReference.html\" rel=\"nofollow noreferrer\">TypeReference</a>, or the overload with <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/JavaType.html\" rel=\"nofollow noreferrer\">JavaType</a>. I find <code>JavaType</code> easier to read, so here is an example with it:</p>\n<pre><code>public class Test {\n\n    public static void main(String[] args) throws Exception {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.registerModule(new JavaTimeModule());\n        mapper.configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true);\n\n        String json = &quot;{\\&quot;value\\&quot;: \\&quot;2022-02-22T12:00:00\\&quot;}&quot;;\n        JavaType javaType = TypeFactory.defaultInstance().constructParametricType(Pojo.class, LocalDateTime.class);\n        Pojo&lt;LocalDateTime&gt; deserialized = mapper.readValue(json, javaType);\n        System.out.println(deserialized.values[0].toLocalDate());\n        System.out.println(deserialized.values[0].toLocalTime());\n    }\n}\n</code></pre>\n<p>When constructing the parametric <code>JavaType</code> the first argument is the class itself, next are concrete generic types.</p>\n<p><strong>Edit:</strong> Having in mind the new info, the best i can come up with is custom deserializer, which resolves the type at runtime. Something like this:</p>\n<pre><code>public class UnknownTypeDeserializer&lt;T&gt; extends StdDeserializer&lt;Pojo&lt;T&gt;&gt; {\n\n    private final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss&quot;);\n\n    public UnknownTypeDeserializer() {\n        super((Class&lt;?&gt;) null);\n    }\n\n    @Override\n    public Pojo&lt;T&gt; deserialize(JsonParser parser, DeserializationContext ctxt) throws IOException, JacksonException {\n        JsonNode node = parser.getCodec().readTree(parser);\n        String value = node.get(&quot;value&quot;).asText();\n        Pojo&lt;T&gt; pojo = new Pojo&lt;&gt;();\n        T[] arr;\n        try {\n            arr = (T[]) new LocalDateTime[]{LocalDateTime.parse(value, this.formatter)};\n        } catch (Exception exc) {\n            try {\n                arr = (T[]) new Integer[]{Integer.parseInt(value)};\n            } catch (NumberFormatException numberFormatException) {\n                arr = (T[]) new String[]{value};\n            }\n        }\n        pojo.values = arr;\n        return pojo;\n    }\n}\n</code></pre>\n<p>The idea is try to parse to <code>LocalDateTime</code>, if not possible, try to parse to <code>int</code>, if not possible again leave as <code>String</code>. That's quite the ugly way to do it, but i am trying just to illustrate the idea. Instead of catching exceptions, it might be better to examine the format, using regex for example, and according to which regex matches, parse to correct type. I tested it with string and int, and it actually works.</p>\n<pre><code>public class Test {\n\n    public static void main(String[] args) throws Exception {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.registerModule(new JavaTimeModule());\n        SimpleModule simpleModule = new SimpleModule();\n        simpleModule.addDeserializer(Pojo.class, new UnknownTypeDeserializer&lt;&gt;());\n        mapper.registerModule(simpleModule);\n\n        String json1 = &quot;{\\&quot;value\\&quot;: \\&quot;2022-02-22T12:00:00\\&quot;}&quot;;\n        Pojo&lt;?&gt; deserialized1 = mapper.readValue(json1, Pojo.class);\n        System.out.println(&quot;is date - &quot; + (deserialized1.values[0] instanceof LocalDateTime));\n\n        String json2 = &quot;{\\&quot;value\\&quot;: \\&quot;bla bla bla\\&quot;}&quot;;\n        Pojo&lt;?&gt; deserialized2 = mapper.readValue(json2, Pojo.class);\n        System.out.println(&quot;is string - &quot; + (deserialized2.values[0] instanceof String));\n\n        String json3 = &quot;{\\&quot;value\\&quot;: 41}&quot;;\n        Pojo&lt;?&gt; deserialized3 = mapper.readValue(json3, Pojo.class);\n        System.out.println(&quot;is int - &quot; + (deserialized3.values[0] instanceof Integer));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14117115,"reputation":410,"user_id":10198627,"display_name":"a.ilchinger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71225573,"answer_count":1,"score":1,"last_activity_date":1645563287,"creation_date":1645547347,"question_id":71224888,"body_markdown":"I have a generic class like this:\r\n\r\n    public class Pojo&lt;T&gt; {\r\n        \r\n        @JsonProperty(&quot;value&quot;)\r\n        public T[] values;\r\n    };\r\n\r\nThe T can either hold a `String`, a `LocalDateTime` or an `Integer`. The differentiation between String and Integer seems to work fine, most likely because those types are represented differently in the serialized JSON file. However, when I have a datetime in my JSON object (see example), it is parsed as a string anyway.\r\n\r\nThe actual type in use for the `value` field is determined by the input. While I do have that knowledge in the following minimal example, this is not true for all uses of this code in my program. I can only rely on the pattern of the value of field `value`.\r\n\r\n    public class Main {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.registerModule(new JavaTimeModule());\r\n        mapper.configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true);\r\n\r\n        String json = &quot;{\\&quot;value\\&quot;: \\&quot;2022-02-22T12:00:00\\&quot;}&quot;;\r\n        Pojo&lt;?&gt; deserialized = mapper.readValue(json, Pojo.class);\r\n        assert deserialized.value[0] instanceof LocalDateTime;\r\n    }\r\n\r\nI haven&#39;t had any success tinkering with `JsonTypeInfo` yet. Is there a way to parse the value field as an array of `LocalDateTime` objects if all values for this field match the pattern `yyyy-MM-dd&#39;T&#39;hh:mm:ss`?","title":"Deserialize to generic member based on value","body":"<p>I have a generic class like this:</p>\n<pre><code>public class Pojo&lt;T&gt; {\n    \n    @JsonProperty(&quot;value&quot;)\n    public T[] values;\n};\n</code></pre>\n<p>The T can either hold a <code>String</code>, a <code>LocalDateTime</code> or an <code>Integer</code>. The differentiation between String and Integer seems to work fine, most likely because those types are represented differently in the serialized JSON file. However, when I have a datetime in my JSON object (see example), it is parsed as a string anyway.</p>\n<p>The actual type in use for the <code>value</code> field is determined by the input. While I do have that knowledge in the following minimal example, this is not true for all uses of this code in my program. I can only rely on the pattern of the value of field <code>value</code>.</p>\n<pre><code>public class Main {\n    ObjectMapper mapper = new ObjectMapper();\n    mapper.registerModule(new JavaTimeModule());\n    mapper.configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true);\n\n    String json = &quot;{\\&quot;value\\&quot;: \\&quot;2022-02-22T12:00:00\\&quot;}&quot;;\n    Pojo&lt;?&gt; deserialized = mapper.readValue(json, Pojo.class);\n    assert deserialized.value[0] instanceof LocalDateTime;\n}\n</code></pre>\n<p>I haven't had any success tinkering with <code>JsonTypeInfo</code> yet. Is there a way to parse the value field as an array of <code>LocalDateTime</code> objects if all values for this field match the pattern <code>yyyy-MM-dd'T'hh:mm:ss</code>?</p>\n"},{"tags":["java","javafx","scenebuilder"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":3,"creation_date":1645554617,"post_id":71226314,"comment_id":125900851,"body_markdown":"Your error message says `Root value already specified`. Have you tried not setting the root? Right now you are doing `fxmlLoader.setRoot(new AnchorPane());  `. What happens if you comment that out?","body":"Your error message says <code>Root value already specified</code>. Have you tried not setting the root? Right now you are doing <code>fxmlLoader.setRoot(new AnchorPane());  </code>. What happens if you comment that out?"},{"owner":{"account_id":15637075,"reputation":53,"user_id":11281627,"display_name":"Malik Kadri"},"score":0,"creation_date":1645555294,"post_id":71226314,"comment_id":125901097,"body_markdown":"Same Error when I commented it","body":"Same Error when I commented it"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1645560811,"post_id":71226314,"comment_id":125903050,"body_markdown":"@MalikKadri Please clarify: you commented out the line `fxmlLoader.setRoot(new AnchorPane())` and you still got an error message ***that included the message*** `Root value already specified`?","body":"@MalikKadri Please clarify: you commented out the line <code>fxmlLoader.setRoot(new AnchorPane())</code> and you still got an error message <b><i>that included the message</i></b> <code>Root value already specified</code>?"}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1645563221,"creation_date":1645557430,"answer_id":71227112,"question_id":71226314,"body_markdown":"You have a few errors:\r\n\r\n * Use fx:controller\r\n   * read the [introduction to fxml section on\r\n   controllers](https://docs.oracle.com/javase/8/javafx/api/javafx/fxml/doc-files/introduction_to_fxml.html#controllers).\r\n * Don’t set the root. \r\n * Don’t create a new AnchorPane. \r\n * Your fxml onAction reference should have a `#` prefix.\r\n * Don’t use awt classes.\r\n\r\nAfter making those changes, the app worked for me:\r\n\r\n*module-info.java*\r\n\r\n    module test {\r\n        requires javafx.controls;\r\n        requires javafx.fxml;\r\n    \r\n        opens test to javafx.fxml;\r\n        exports test;\r\n    }\r\n\r\n*MainProgGUI.java*\r\n\r\n    package test;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class MainProgGUI extends Application {\r\n    \r\n        public void start(Stage stage) throws IOException {\r\n            FXMLLoader loader = new FXMLLoader(\r\n                    getClass().getResource(\r\n                            &quot;AjoutPersonne.fxml&quot;\r\n                    )\r\n            );\r\n    \r\n            Parent root = loader.load();\r\n    \r\n            stage.setScene(new Scene(root));\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    \r\n    }\r\n\r\n*AjoutPersonneController.java*\r\n\r\n    package test;\r\n    \r\n    import javafx.event.ActionEvent;\r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.control.TextField;\r\n    \r\n    public class AjoutPersonneController {\r\n        @FXML\r\n        private TextField tfnom;\r\n    \r\n        @FXML\r\n        private TextField tfprenom;\r\n    \r\n        @FXML\r\n        private void ajoutPersonne(ActionEvent event) {\r\n            System.out.println(event);\r\n        }\r\n    }\r\n\r\n*AjoutPersonne.fxml*\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.control.TextField?&gt;\r\n    &lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n    \r\n    &lt;AnchorPane id=&quot;AnchorPane&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot;\r\n                xmlns=&quot;http://javafx.com/javafx/8.0.171&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\r\n                fx:controller=&quot;test.AjoutPersonneController&quot;&gt;\r\n        &lt;children&gt;\r\n            &lt;TextField fx:id=&quot;tfnom&quot; layoutX=&quot;207.0&quot; layoutY=&quot;103.0&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;tfprenom&quot; layoutX=&quot;207.0&quot; layoutY=&quot;176.0&quot; /&gt;\r\n            &lt;Label layoutX=&quot;121.0&quot; layoutY=&quot;108.0&quot; text=&quot;Nom&quot; /&gt;\r\n            &lt;Label layoutX=&quot;121.0&quot; layoutY=&quot;181.0&quot; text=&quot;Prenom&quot; /&gt;\r\n            &lt;Button layoutX=&quot;259.0&quot; layoutY=&quot;276.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#ajoutPersonne&quot; text=&quot;Button&quot; /&gt;\r\n        &lt;/children&gt;\r\n    &lt;/AnchorPane&gt;","title":"problem I can&#39;t find a solution to it on javaFX","body":"<p>You have a few errors:</p>\n<ul>\n<li>Use fx:controller\n<ul>\n<li>read the <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/fxml/doc-files/introduction_to_fxml.html#controllers\" rel=\"nofollow noreferrer\">introduction to fxml section on\ncontrollers</a>.</li>\n</ul>\n</li>\n<li>Don’t set the root.</li>\n<li>Don’t create a new AnchorPane.</li>\n<li>Your fxml onAction reference should have a <code>#</code> prefix.</li>\n<li>Don’t use awt classes.</li>\n</ul>\n<p>After making those changes, the app worked for me:</p>\n<p><em>module-info.java</em></p>\n<pre><code>module test {\n    requires javafx.controls;\n    requires javafx.fxml;\n\n    opens test to javafx.fxml;\n    exports test;\n}\n</code></pre>\n<p><em>MainProgGUI.java</em></p>\n<pre><code>package test;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class MainProgGUI extends Application {\n\n    public void start(Stage stage) throws IOException {\n        FXMLLoader loader = new FXMLLoader(\n                getClass().getResource(\n                        &quot;AjoutPersonne.fxml&quot;\n                )\n        );\n\n        Parent root = loader.load();\n\n        stage.setScene(new Scene(root));\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n}\n</code></pre>\n<p><em>AjoutPersonneController.java</em></p>\n<pre><code>package test;\n\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.TextField;\n\npublic class AjoutPersonneController {\n    @FXML\n    private TextField tfnom;\n\n    @FXML\n    private TextField tfprenom;\n\n    @FXML\n    private void ajoutPersonne(ActionEvent event) {\n        System.out.println(event);\n    }\n}\n</code></pre>\n<p><em>AjoutPersonne.fxml</em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n\n&lt;AnchorPane id=&quot;AnchorPane&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot;\n            xmlns=&quot;http://javafx.com/javafx/8.0.171&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\n            fx:controller=&quot;test.AjoutPersonneController&quot;&gt;\n    &lt;children&gt;\n        &lt;TextField fx:id=&quot;tfnom&quot; layoutX=&quot;207.0&quot; layoutY=&quot;103.0&quot; /&gt;\n        &lt;TextField fx:id=&quot;tfprenom&quot; layoutX=&quot;207.0&quot; layoutY=&quot;176.0&quot; /&gt;\n        &lt;Label layoutX=&quot;121.0&quot; layoutY=&quot;108.0&quot; text=&quot;Nom&quot; /&gt;\n        &lt;Label layoutX=&quot;121.0&quot; layoutY=&quot;181.0&quot; text=&quot;Prenom&quot; /&gt;\n        &lt;Button layoutX=&quot;259.0&quot; layoutY=&quot;276.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#ajoutPersonne&quot; text=&quot;Button&quot; /&gt;\n    &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n"}],"owner":{"account_id":15637075,"reputation":53,"user_id":11281627,"display_name":"Malik Kadri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":555,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1645573305,"answer_count":1,"score":-2,"last_activity_date":1645563221,"creation_date":1645553426,"question_id":71226314,"body_markdown":"I am trying to learn javaFx for an academic reasons so I tried this little project but all I get is his error!\r\n\r\n        Exception in Application start method\r\n    java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:389)\r\n    \tat com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:328)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:767)\r\n    Caused by: java.lang.RuntimeException: Exception in Application start method\r\n    \tat com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:917)\r\n    \tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication$159(LauncherImpl.java:182)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: javafx.fxml.LoadException: Root value already specified.\r\n    /C:/Users/Malik/Documents/NetBeansProjects/WorkshopPIDEV2122/build/classes/tests/AjoutPersonne.fxml\r\n    \r\n    \tat javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2597)\r\n    \tat javafx.fxml.FXMLLoader.createElement(FXMLLoader.java:2755)\r\n    \tat javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2704)\r\n    \tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2527)\r\n    \tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2441)\r\n    \tat javafx.fxml.FXMLLoader.load(FXMLLoader.java:2409)\r\n    \tat tests.MainProgGUI.start(MainProgGUI.java:28)\r\n    \tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$166(LauncherImpl.java:863)\r\n    \tat com.sun.javafx.application.PlatformImpl.lambda$runAndWait$179(PlatformImpl.java:326)\r\n    \tat com.sun.javafx.application.PlatformImpl.lambda$null$177(PlatformImpl.java:295)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat com.sun.javafx.application.PlatformImpl.lambda$runLater$178(PlatformImpl.java:294)\r\n    \tat com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n    \tat com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n    \tat com.sun.glass.ui.win.WinApplication.lambda$null$152(WinApplication.java:177)\r\n    \t... 1 more\r\n    Exception running application tests.MainProgGUI\r\n    C:\\Users\\Malik\\AppData\\Local\\NetBeans\\Cache\\12.6\\executor-snippets\\run.xml:111: The following error occurred while executing this line:\r\n    C:\\Users\\Malik\\AppData\\Local\\NetBeans\\Cache\\12.6\\executor-snippets\\run.xml:94: Java returned: 1\r\n    BUILD FAILED (total time: 0 seconds)\r\n\r\n\r\n\r\nhere is my code:\r\nFXML file:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.control.TextField?&gt;\r\n    &lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n    \r\n    &lt;AnchorPane id=&quot;AnchorPane&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/8.0.171&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n       &lt;children&gt;\r\n          &lt;TextField fx:id=&quot;tfnom&quot; layoutX=&quot;207.0&quot; layoutY=&quot;103.0&quot; /&gt;\r\n          &lt;TextField fx:id=&quot;tfprenom&quot; layoutX=&quot;207.0&quot; layoutY=&quot;176.0&quot; /&gt;\r\n          &lt;Label layoutX=&quot;121.0&quot; layoutY=&quot;108.0&quot; text=&quot;Nom&quot; /&gt;\r\n          &lt;Label layoutX=&quot;121.0&quot; layoutY=&quot;181.0&quot; text=&quot;Prenom&quot; /&gt;\r\n          &lt;Button layoutX=&quot;259.0&quot; layoutY=&quot;276.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;AjoutPersonne&quot; text=&quot;Button&quot; /&gt;\r\n       &lt;/children&gt;\r\n    &lt;/AnchorPane&gt;\r\n    \r\n    \r\n     \r\n\r\nFXML Controller:\r\n\r\n        package tests;\r\n    \r\n    import java.awt.TextField;\r\n    import java.awt.event.ActionEvent;\r\n    import java.net.URL;\r\n    import java.util.ResourceBundle;\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.Initializable;\r\n    \r\n    /**\r\n     * FXML Controller class\r\n     *\r\n     * @author Malik\r\n     */\r\n    public class AjoutPersonneController implements Initializable {\r\n    \r\n        /**\r\n         * Initializes the controller class.\r\n         */\r\n        @Override\r\n        public void initialize(URL url, ResourceBundle rb) {\r\n            // TODO\r\n        }    \r\n         @FXML\r\n        private TextField tfnom;\r\n    \r\n        @FXML\r\n        private TextField tfprenom;\r\n    \r\n        @FXML\r\n        void AjoutPersonne(ActionEvent event) {\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nand my mainprog :\r\n\r\n        /*\r\n     * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\r\n     * Click nbfs://nbhost/SystemFileSystem/Templates/javafx/FXMain.java to edit this template\r\n     */\r\n    package tests;\r\n    \r\n    import java.io.IOException;\r\n    import javafx.application.Application;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.event.EventHandler;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.layout.AnchorPane;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.stage.Stage;\r\n    \r\n    /**\r\n     *\r\n     * @author Malik\r\n     */\r\n    public class MainProgGUI extends Application {\r\n        \r\n        public void start(Stage primaryStage) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;AjoutPersonne.fxml&quot;));\r\n        fxmlLoader.setRoot(new AnchorPane());       \r\n        Parent root = fxmlLoader.load();\r\n        Scene scene = new Scene(root);\r\n    \r\n      \r\n        primaryStage.setTitle(&quot;Workshop PIDEV&quot;);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n        \r\n    }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n        \r\n    }\r\n\r\nthis is the architecture of programme:\r\n[enter image description here][1]\r\n\r\n\r\n\r\nPs: I tried to change the location of FXML file and to use the Parent root = FXMLLoader.load(getClass().getResource(&quot;FXMLDocument.fxml&quot;));\r\nthanks for helping !\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KhIL5.png\r\n\r\n","title":"problem I can&#39;t find a solution to it on javaFX","body":"<p>I am trying to learn javaFx for an academic reasons so I tried this little project but all I get is his error!</p>\n<pre><code>    Exception in Application start method\njava.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:389)\n    at com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:328)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:767)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:917)\n    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$159(LauncherImpl.java:182)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: javafx.fxml.LoadException: Root value already specified.\n/C:/Users/Malik/Documents/NetBeansProjects/WorkshopPIDEV2122/build/classes/tests/AjoutPersonne.fxml\n\n    at javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2597)\n    at javafx.fxml.FXMLLoader.createElement(FXMLLoader.java:2755)\n    at javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2704)\n    at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2527)\n    at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2441)\n    at javafx.fxml.FXMLLoader.load(FXMLLoader.java:2409)\n    at tests.MainProgGUI.start(MainProgGUI.java:28)\n    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$166(LauncherImpl.java:863)\n    at com.sun.javafx.application.PlatformImpl.lambda$runAndWait$179(PlatformImpl.java:326)\n    at com.sun.javafx.application.PlatformImpl.lambda$null$177(PlatformImpl.java:295)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at com.sun.javafx.application.PlatformImpl.lambda$runLater$178(PlatformImpl.java:294)\n    at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\n    at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at com.sun.glass.ui.win.WinApplication.lambda$null$152(WinApplication.java:177)\n    ... 1 more\nException running application tests.MainProgGUI\nC:\\Users\\Malik\\AppData\\Local\\NetBeans\\Cache\\12.6\\executor-snippets\\run.xml:111: The following error occurred while executing this line:\nC:\\Users\\Malik\\AppData\\Local\\NetBeans\\Cache\\12.6\\executor-snippets\\run.xml:94: Java returned: 1\nBUILD FAILED (total time: 0 seconds)\n</code></pre>\n<p>here is my code:\nFXML file:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n\n&lt;AnchorPane id=&quot;AnchorPane&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/8.0.171&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n   &lt;children&gt;\n      &lt;TextField fx:id=&quot;tfnom&quot; layoutX=&quot;207.0&quot; layoutY=&quot;103.0&quot; /&gt;\n      &lt;TextField fx:id=&quot;tfprenom&quot; layoutX=&quot;207.0&quot; layoutY=&quot;176.0&quot; /&gt;\n      &lt;Label layoutX=&quot;121.0&quot; layoutY=&quot;108.0&quot; text=&quot;Nom&quot; /&gt;\n      &lt;Label layoutX=&quot;121.0&quot; layoutY=&quot;181.0&quot; text=&quot;Prenom&quot; /&gt;\n      &lt;Button layoutX=&quot;259.0&quot; layoutY=&quot;276.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;AjoutPersonne&quot; text=&quot;Button&quot; /&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n\n\n \n</code></pre>\n<p>FXML Controller:</p>\n<pre><code>    package tests;\n\nimport java.awt.TextField;\nimport java.awt.event.ActionEvent;\nimport java.net.URL;\nimport java.util.ResourceBundle;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\n\n/**\n * FXML Controller class\n *\n * @author Malik\n */\npublic class AjoutPersonneController implements Initializable {\n\n    /**\n     * Initializes the controller class.\n     */\n    @Override\n    public void initialize(URL url, ResourceBundle rb) {\n        // TODO\n    }    \n     @FXML\n    private TextField tfnom;\n\n    @FXML\n    private TextField tfprenom;\n\n    @FXML\n    void AjoutPersonne(ActionEvent event) {\n\n    }\n\n}\n</code></pre>\n<p>and my mainprog :</p>\n<pre><code>    /*\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\n * Click nbfs://nbhost/SystemFileSystem/Templates/javafx/FXMain.java to edit this template\n */\npackage tests;\n\nimport java.io.IOException;\nimport javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\n\n/**\n *\n * @author Malik\n */\npublic class MainProgGUI extends Application {\n    \n    public void start(Stage primaryStage) throws IOException {\n    FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;AjoutPersonne.fxml&quot;));\n    fxmlLoader.setRoot(new AnchorPane());       \n    Parent root = fxmlLoader.load();\n    Scene scene = new Scene(root);\n\n  \n    primaryStage.setTitle(&quot;Workshop PIDEV&quot;);\n    primaryStage.setScene(scene);\n    primaryStage.show();\n    \n}\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n    \n}\n</code></pre>\n<p>this is the architecture of programme:\n<a href=\"https://i.stack.imgur.com/KhIL5.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Ps: I tried to change the location of FXML file and to use the Parent root = FXMLLoader.load(getClass().getResource(&quot;FXMLDocument.fxml&quot;));\nthanks for helping !</p>\n"},{"tags":["java","tomcat","servlets","bootstrap-4"],"comments":[{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1645547637,"post_id":71224462,"comment_id":125898073,"body_markdown":"You didn&#39;t show us the code for partition. But, it doesn&#39;t seem necessary anyway.  You could use a for loop to get the first 5 elements of your dataItems list.  Something like for(int i = 0; i &lt; 5; i++) { out.println(dataItems.get(i));}","body":"You didn&#39;t show us the code for partition. But, it doesn&#39;t seem necessary anyway.  You could use a for loop to get the first 5 elements of your dataItems list.  Something like for(int i = 0; i &lt; 5; i++) { out.println(dataItems.get(i));}"},{"owner":{"account_id":12211070,"reputation":121,"user_id":10879227,"display_name":"kittyKat"},"score":0,"creation_date":1645557823,"post_id":71224462,"comment_id":125902004,"body_markdown":"@rickz Thank you. I replaced the for (Object item : partition) with your for loop. It kinda works but the 6th item disappeared. It should be in next row. Do you still need the partition code?","body":"@rickz Thank you. I replaced the for (Object item : partition) with your for loop. It kinda works but the 6th item disappeared. It should be in next row. Do you still need the partition code?"}],"answers":[{"tags":[],"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645563215,"creation_date":1645563215,"answer_id":71228153,"question_id":71224462,"body_markdown":"Here is demonstration code. It will work in a Servlet or a JSP.\r\n\r\n        List&lt;String&gt; dataItems = List.of(&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;f&quot;,&quot;g&quot;,&quot;h&quot;,&quot;i&quot;,&quot;j&quot;,&quot;k&quot;,&quot;l&quot;,&quot;m&quot;,&quot;n&quot;,&quot;o&quot;,&quot;p&quot;);\r\n\t\tout.println(&quot;&lt;table&gt;&quot;);\r\n\t\tout.println(&quot;&lt;tr&gt;&quot;);\r\n        for (int i = 0; i &lt; dataItems.size(); i++) {\r\n\t\t\tif(i &gt;= 5 &amp;&amp; i % 5 == 0){\r\n\t\t\t\tout.println(&quot;&lt;/tr&gt;&lt;tr&gt;&quot;);\r\n\t\t\t}\r\n            out.println(&quot;&lt;td&gt; &quot; + dataItems.get(i) + &quot; &lt;/td&gt;&quot;);\r\n        }\r\n\t\tout.println(&quot;&lt;/tr&gt;&quot;);\r\n\t\tout.println(&quot;&lt;/table&gt;&quot;);","title":"How to have a column with each object and add another row if the first row is filled in Java","body":"<p>Here is demonstration code. It will work in a Servlet or a JSP.</p>\n<pre><code>    List&lt;String&gt; dataItems = List.of(&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;f&quot;,&quot;g&quot;,&quot;h&quot;,&quot;i&quot;,&quot;j&quot;,&quot;k&quot;,&quot;l&quot;,&quot;m&quot;,&quot;n&quot;,&quot;o&quot;,&quot;p&quot;);\n    out.println(&quot;&lt;table&gt;&quot;);\n    out.println(&quot;&lt;tr&gt;&quot;);\n    for (int i = 0; i &lt; dataItems.size(); i++) {\n        if(i &gt;= 5 &amp;&amp; i % 5 == 0){\n            out.println(&quot;&lt;/tr&gt;&lt;tr&gt;&quot;);\n        }\n        out.println(&quot;&lt;td&gt; &quot; + dataItems.get(i) + &quot; &lt;/td&gt;&quot;);\n    }\n    out.println(&quot;&lt;/tr&gt;&quot;);\n    out.println(&quot;&lt;/table&gt;&quot;);\n</code></pre>\n"}],"owner":{"account_id":12211070,"reputation":121,"user_id":10879227,"display_name":"kittyKat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71228153,"answer_count":1,"score":0,"last_activity_date":1645563215,"creation_date":1645545804,"question_id":71224462,"body_markdown":"I am writing Java Servlet using MySQL. I want to display data in such a way that in each rows there are five columns. This is the table i want.\r\n\r\n[![table that i want][1]][1]\r\n\r\n\r\nCurrently, I have six data items and i put them in list so in each list there are 5 items. \r\n[a,b,c,d,e] , [f]\r\n\r\n[![table][2]][2]\r\n\r\nThis is the table i currently have. I am not sure how to show each item in the way i want.\r\n\r\n            //getting sql data\r\n            List&lt;Object&gt; dataItems = new ArrayList&lt;Object&gt;();\r\n            while (rset.next()) {\r\n                SQLData item = new SQLData(rset.getString(&quot;name&quot;), rset.getString(&quot;prod_desc&quot;),\r\n                        rset.getDouble(&quot;price&quot;));\r\n                dataItems.add(item);\r\n            }\r\n\r\n            //chuck list\r\n            int size = 5;\r\n            List&lt;Object&gt;[] partition = partition(dataItems, size);\r\n\r\n            out.println(&quot;&lt;div class=&#39;container&#39; style=&#39;border:1px solid #cecece;&#39;&gt;&quot;);\r\n\r\n            out.println(&quot;&lt;div class=&#39;row&#39;&gt;&quot;);\r\n            for (Object item : partition) {\r\n                out.println(&quot;&lt;div class=&#39;col&#39;&gt;&quot;);\r\n                out.println(&quot;&lt;p&gt;&quot; + item + &quot; test &lt;/p&gt;&quot;);\r\n                out.println(&quot;&lt;/div&gt;&quot;);\r\n            }\r\n            out.println(&quot;&lt;/div&gt;&quot;);\r\n\r\n            out.println(&quot;&lt;/div&gt;&quot;);\r\n\r\nAnyone can help?\r\n\r\n  [1]: https://i.stack.imgur.com/zmyt3m.jpg\r\n  [2]: https://i.stack.imgur.com/KZQbT.png","title":"How to have a column with each object and add another row if the first row is filled in Java","body":"<p>I am writing Java Servlet using MySQL. I want to display data in such a way that in each rows there are five columns. This is the table i want.</p>\n<p><a href=\"https://i.stack.imgur.com/zmyt3m.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zmyt3m.jpg\" alt=\"table that i want\" /></a></p>\n<p>Currently, I have six data items and i put them in list so in each list there are 5 items.\n[a,b,c,d,e] , [f]</p>\n<p><a href=\"https://i.stack.imgur.com/KZQbT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KZQbT.png\" alt=\"table\" /></a></p>\n<p>This is the table i currently have. I am not sure how to show each item in the way i want.</p>\n<pre><code>        //getting sql data\n        List&lt;Object&gt; dataItems = new ArrayList&lt;Object&gt;();\n        while (rset.next()) {\n            SQLData item = new SQLData(rset.getString(&quot;name&quot;), rset.getString(&quot;prod_desc&quot;),\n                    rset.getDouble(&quot;price&quot;));\n            dataItems.add(item);\n        }\n\n        //chuck list\n        int size = 5;\n        List&lt;Object&gt;[] partition = partition(dataItems, size);\n\n        out.println(&quot;&lt;div class='container' style='border:1px solid #cecece;'&gt;&quot;);\n\n        out.println(&quot;&lt;div class='row'&gt;&quot;);\n        for (Object item : partition) {\n            out.println(&quot;&lt;div class='col'&gt;&quot;);\n            out.println(&quot;&lt;p&gt;&quot; + item + &quot; test &lt;/p&gt;&quot;);\n            out.println(&quot;&lt;/div&gt;&quot;);\n        }\n        out.println(&quot;&lt;/div&gt;&quot;);\n\n        out.println(&quot;&lt;/div&gt;&quot;);\n</code></pre>\n<p>Anyone can help?</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":0,"creation_date":1645562773,"post_id":71227633,"comment_id":125903652,"body_markdown":"It&#39;s useful to distinguish between behavior that is current, likely or guaranteed by contract.","body":"It&#39;s useful to distinguish between behavior that is current, likely or guaranteed by contract."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1645560891,"creation_date":1645560746,"answer_id":71227724,"question_id":71227633,"body_markdown":"Yes. It will keep its order if no new items are added. An idle map does not just decide to rearrange itself.  But that order is non deterministic and can change once items are added.","title":"Does HashMap keeps its order (not insertion order)","body":"<p>Yes. It will keep its order if no new items are added. An idle map does not just decide to rearrange itself.  But that order is non deterministic and can change once items are added.</p>\n"},{"tags":[],"owner":{"account_id":11442947,"reputation":1,"user_id":11019212,"display_name":"Steve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645563181,"creation_date":1645563181,"answer_id":71228149,"question_id":71227633,"body_markdown":"WJS is correct.  That said, it is very bad style to depend on this.  If you actually depend on the order of the entries, I would suggest using a TreeMap or one of the Apache Commons implementations of OrderedMap. \r\n\r\nYou might be able to get by with your assumption that the order will be stable right now ... but if another developer works on the code, that assumption might not be known and the code will break in unexpected ways that will be big headache for somebody to solve.\r\n\r\nIf you depend on entry order, use a data structure that guarantees that order.","title":"Does HashMap keeps its order (not insertion order)","body":"<p>WJS is correct.  That said, it is very bad style to depend on this.  If you actually depend on the order of the entries, I would suggest using a TreeMap or one of the Apache Commons implementations of OrderedMap.</p>\n<p>You might be able to get by with your assumption that the order will be stable right now ... but if another developer works on the code, that assumption might not be known and the code will break in unexpected ways that will be big headache for somebody to solve.</p>\n<p>If you depend on entry order, use a data structure that guarantees that order.</p>\n"}],"owner":{"account_id":22973129,"reputation":33,"user_id":17101155,"display_name":"mar fo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":71227724,"answer_count":2,"score":0,"last_activity_date":1645563181,"creation_date":1645560203,"question_id":71227633,"body_markdown":"Sorry if and answer to this is out there. I just could not find it.\r\nI don&#39;t care about insertion order, I just want to ensure that HashMap keeps its order without any puts being used in between.\r\n\r\nIf I have the following code:\r\n\r\n    StringBuilder keyChecker = new StringBuilder(&quot;&quot;);\r\n    for(String field : hashmap().keySet()){\r\n        keyChecker.append(field).append(&quot;,&quot;);\r\n    }\r\n\r\n    for(String field : hashmap().keySet()){\r\n        setAny(checker,x++, hashmap().get(field) );\r\n        x++;\r\n    }\r\n**Will the (1st,2nd,3rd,etc) field always match the same one next time I call HashMap keyset.**\r\n\r\nFrom my tests it seems like it always does, but I am not sure about any edge cases that I may come across.","title":"Does HashMap keeps its order (not insertion order)","body":"<p>Sorry if and answer to this is out there. I just could not find it.\nI don't care about insertion order, I just want to ensure that HashMap keeps its order without any puts being used in between.</p>\n<p>If I have the following code:</p>\n<pre><code>StringBuilder keyChecker = new StringBuilder(&quot;&quot;);\nfor(String field : hashmap().keySet()){\n    keyChecker.append(field).append(&quot;,&quot;);\n}\n\nfor(String field : hashmap().keySet()){\n    setAny(checker,x++, hashmap().get(field) );\n    x++;\n}\n</code></pre>\n<p><strong>Will the (1st,2nd,3rd,etc) field always match the same one next time I call HashMap keyset.</strong></p>\n<p>From my tests it seems like it always does, but I am not sure about any edge cases that I may come across.</p>\n"},{"tags":["java","arrays","kotlin"],"comments":[{"owner":{"account_id":23110408,"reputation":6937,"user_id":17218429,"display_name":"lukas.j"},"score":0,"creation_date":1645562970,"post_id":71228071,"comment_id":125903726,"body_markdown":"_val arr = Array(5) { &quot;&quot; }_. See also: https://stackoverflow.com/questions/35253368/how-can-i-create-an-array-in-kotlin-like-in-java-by-just-providing-a-size","body":"<i>val arr = Array(5) { &quot;&quot; }</i>. See also: <a href=\"https://stackoverflow.com/questions/35253368/how-can-i-create-an-array-in-kotlin-like-in-java-by-just-providing-a-size\" title=\"how can i create an array in kotlin like in java by just providing a size\">stackoverflow.com/questions/35253368/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1645562993,"creation_date":1645562993,"answer_id":71228113,"question_id":71228071,"body_markdown":"Sort of.\r\n\r\nIn Kotlin, you can&#39;t have `val arrayOfString : Array&lt;String&gt; = Array(5)`, because the values filling the array would be null, and null isn&#39;t a valid value of `String`.\r\n\r\nYou can have `val arrayOfString: Array&lt;String?&gt; = arrayOfNulls(5)`, or you can have `val arrayOfString : Array&lt;String&gt; = Array(5) { &quot;defaultString&quot; }`.","title":"Kotlin fixed array of strings","body":"<p>Sort of.</p>\n<p>In Kotlin, you can't have <code>val arrayOfString : Array&lt;String&gt; = Array(5)</code>, because the values filling the array would be null, and null isn't a valid value of <code>String</code>.</p>\n<p>You can have <code>val arrayOfString: Array&lt;String?&gt; = arrayOfNulls(5)</code>, or you can have <code>val arrayOfString : Array&lt;String&gt; = Array(5) { &quot;defaultString&quot; }</code>.</p>\n"}],"owner":{"account_id":14404453,"reputation":451,"user_id":10405000,"display_name":"discCard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1645564748,"answer_count":1,"score":0,"last_activity_date":1645563158,"creation_date":1645562698,"question_id":71228071,"body_markdown":"is it possible to create fixed size array of strings using Kotlin like in Java ?\r\n\r\nsomething like `val arrayOfString: Array(5)`\r\n","title":"Kotlin fixed array of strings","body":"<p>is it possible to create fixed size array of strings using Kotlin like in Java ?</p>\n<p>something like <code>val arrayOfString: Array(5)</code></p>\n"},{"tags":["java","swing","jframe","layout-manager","jtextfield"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1645471899,"post_id":71210133,"comment_id":125875761,"body_markdown":"*Trying to Setbound 5 Textfield in a row,* - Don&#39;t!!! Swing was designed to be used with Layout Managers. The FlowLayout will already display the text fields in a single row. Read the Swing tutorial on [Layout Managers](https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html) for working examples and better structured code. A couple is issues with your code: 1) use `new JTextField(10)` to allow the text field to size itself to display about 10 characters. 2) The frame should be made visible AFTER the components have been added to the frame.","body":"<i>Trying to Setbound 5 Textfield in a row,</i> - Don&#39;t!!! Swing was designed to be used with Layout Managers. The FlowLayout will already display the text fields in a single row. Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">Layout Managers</a> for working examples and better structured code. A couple is issues with your code: 1) use <code>new JTextField(10)</code> to allow the text field to size itself to display about 10 characters. 2) The frame should be made visible AFTER the components have been added to the frame."}],"owner":{"account_id":20645614,"reputation":41,"user_id":15157202,"display_name":"Slaven Stajić"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645563000,"creation_date":1645462492,"question_id":71210133,"body_markdown":"Trying to Setbound 5 Textfield in a row, but whatever I write in Setbound nothing changes. \r\nI&#39;m trying to put all 5 Textfields inside panel so I can position it better, tried without it but it still doesn&#39;t work. What am I doing wrong, I&#39;m still learning.\r\nTrying to Setbound 5 Textfield in a row, but whatever I write in Setbound nothing changes. \r\nI&#39;m trying to put all 5 Textfields inside panel so I can position it better, tried without it but it still doesn&#39;t work. What am I doing wrong, I&#39;m still learning.\r\n      package com.company;\r\n        \r\n        import javax.imageio.ImageIO;\r\n        import javax.swing.*;\r\n        import java.awt.*;\r\n        import java.awt.image.BufferedImage;\r\n        import javax.swing.ImageIcon;\r\n        \r\n        public class Main {\r\n        \r\n            public static void main(String[] args) throws Exception {\r\n        \r\n               UserInterface ui = new UserInterface();\r\n               SwingUtilities.invokeLater(ui);\r\n        \r\n        \r\n            }\r\n        }\r\n    \r\n\r\n\r\n/\r\n\r\n    package com.company;\r\n    \r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    \r\n    public class UserInterface extends JFrame implements Runnable {\r\n    \r\n        private JFrame frame;\r\n    \r\n    \r\n        public void run(){\r\n    \r\n            frame = new JFrame();\r\n            frame.setTitle(&quot;Pogodi rijec&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setSize(800,800);\r\n    \r\n    \r\n            frame.setResizable(false);\r\n            frame.setVisible(true);\r\n            frame.setLocationRelativeTo(null);\r\n    \r\n            Components(frame.getContentPane()); // saljem frame\r\n    \r\n    \r\n            frame.getContentPane().setBackground(new Color(168,173,180));\r\n            frame.setLayout(new FlowLayout(FlowLayout.CENTER,100,100));\r\n        }\r\n        public void Components(Container container){\r\n    \r\n    \r\n    \r\n            JPanel panel = new JPanel();\r\n            panel.setPreferredSize(new Dimension(500,500));\r\n            panel.setBackground(Color.lightGray);\r\n            panel.setLayout(new FlowLayout());\r\n    \r\n            JTextField one = new JTextField();\r\n            JTextField two = new JTextField();\r\n            JTextField three = new JTextField();\r\n            JTextField four = new JTextField();\r\n            JTextField five = new JTextField();\r\n    \r\n            one.setBounds(100,100,300,300);\r\n            two.setBounds(200,100,300,300);\r\n            three.setBounds(200,100,300,300);\r\n            four.setBounds(200,100,300,300);\r\n            five.setBounds(200,100,300,300);\r\n    \r\n    \r\n            panel.add(one);\r\n            panel.add(two);\r\n            panel.add(three);\r\n            panel.add(four);\r\n            panel.add(five);\r\n    \r\n    \r\n            container.add(panel);\r\n    \r\n    \r\n        }\r\n        public JFrame getFrame() {\r\n    \r\n            return frame;\r\n    \r\n        }\r\n    }\r\n\r\n","title":"how to use setbounds to position JTextField","body":"<p>Trying to Setbound 5 Textfield in a row, but whatever I write in Setbound nothing changes.\nI'm trying to put all 5 Textfields inside panel so I can position it better, tried without it but it still doesn't work. What am I doing wrong, I'm still learning.\nTrying to Setbound 5 Textfield in a row, but whatever I write in Setbound nothing changes.\nI'm trying to put all 5 Textfields inside panel so I can position it better, tried without it but it still doesn't work. What am I doing wrong, I'm still learning.\npackage com.company;</p>\n<pre><code>    import javax.imageio.ImageIO;\n    import javax.swing.*;\n    import java.awt.*;\n    import java.awt.image.BufferedImage;\n    import javax.swing.ImageIcon;\n    \n    public class Main {\n    \n        public static void main(String[] args) throws Exception {\n    \n           UserInterface ui = new UserInterface();\n           SwingUtilities.invokeLater(ui);\n    \n    \n        }\n    }\n</code></pre>\n<p>/</p>\n<pre><code>package com.company;\n\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class UserInterface extends JFrame implements Runnable {\n\n    private JFrame frame;\n\n\n    public void run(){\n\n        frame = new JFrame();\n        frame.setTitle(&quot;Pogodi rijec&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(800,800);\n\n\n        frame.setResizable(false);\n        frame.setVisible(true);\n        frame.setLocationRelativeTo(null);\n\n        Components(frame.getContentPane()); // saljem frame\n\n\n        frame.getContentPane().setBackground(new Color(168,173,180));\n        frame.setLayout(new FlowLayout(FlowLayout.CENTER,100,100));\n    }\n    public void Components(Container container){\n\n\n\n        JPanel panel = new JPanel();\n        panel.setPreferredSize(new Dimension(500,500));\n        panel.setBackground(Color.lightGray);\n        panel.setLayout(new FlowLayout());\n\n        JTextField one = new JTextField();\n        JTextField two = new JTextField();\n        JTextField three = new JTextField();\n        JTextField four = new JTextField();\n        JTextField five = new JTextField();\n\n        one.setBounds(100,100,300,300);\n        two.setBounds(200,100,300,300);\n        three.setBounds(200,100,300,300);\n        four.setBounds(200,100,300,300);\n        five.setBounds(200,100,300,300);\n\n\n        panel.add(one);\n        panel.add(two);\n        panel.add(three);\n        panel.add(four);\n        panel.add(five);\n\n\n        container.add(panel);\n\n\n    }\n    public JFrame getFrame() {\n\n        return frame;\n\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":278315,"reputation":11589,"user_id":572834,"display_name":"Alexey Ivanov"},"score":3,"creation_date":1645480119,"post_id":71213303,"comment_id":125878203,"body_markdown":"Did you add the panels to your frame? You should do `getContentPane().add(mainPanel, BorderLayout.SOUTH); getContentPane().add(graphPanel, BorderLayout.CENTER);`. Then you should call `pack()` or `setSize` and only then `setVisible()`.","body":"Did you add the panels to your frame? You should do <code>getContentPane().add(mainPanel, BorderLayout.SOUTH); getContentPane().add(graphPanel, BorderLayout.CENTER);</code>. Then you should call <code>pack()</code> or <code>setSize</code> and only then <code>setVisible()</code>."},{"owner":{"account_id":278315,"reputation":11589,"user_id":572834,"display_name":"Alexey Ivanov"},"score":3,"creation_date":1645480267,"post_id":71213303,"comment_id":125878246,"body_markdown":"It&#39;s not directly related to your question but you should not extend `JFrame` unless you extending the functionality of `JFrame`. See [Extends JFrame vs. creating it inside the program](https://stackoverflow.com/q/22003802/572834).","body":"It&#39;s not directly related to your question but you should not extend <code>JFrame</code> unless you extending the functionality of <code>JFrame</code>. See <a href=\"https://stackoverflow.com/q/22003802/572834\">Extends JFrame vs. creating it inside the program</a>."}],"owner":{"account_id":23610428,"reputation":13,"user_id":17645530,"display_name":"Ayush Nobeen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645562824,"creation_date":1645479439,"question_id":71213303,"body_markdown":"My GUI window is opening but nothing is being displayed.\r\nBy printing out my mainPanel and graphPanel, I can deduce that it&#39;s not taking my border values.\r\n\r\nI&#39;m new to GUI, can someone help me out.\r\n\r\n\r\n```\r\npublic class MainGUI extends JFrame{\r\n\r\n    public static void main(String [] args){\r\n        JFrame frame = new MainGUI(&quot;Title&quot;);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    public MainGUI(String title){\r\n        super(title);\r\n\r\n        JPanel mainPanel = new JPanel();\r\n        JPanel graphPanel = new JPanel();\r\n        int w = 200;\r\n        int h = 200;\r\n        System.out.println(mainPanel);\r\n        mainPanel.setBorder(BorderFactory.createEmptyBorder(20, 45, 50, 20)); //Create panel Border\r\n        System.out.println(mainPanel);\r\n        graphPanel.setBorder(BorderFactory.createEmptyBorder(0,0,0,0));\r\n\r\n        graphPanel.setLayout(new GridLayout(1, 1));\r\n        System.out.println(graphPanel);\r\n\r\n        ....\r\n        ....","title":"GUI not displaying in java eclipse","body":"<p>My GUI window is opening but nothing is being displayed.\nBy printing out my mainPanel and graphPanel, I can deduce that it's not taking my border values.</p>\n<p>I'm new to GUI, can someone help me out.</p>\n<pre><code>public class MainGUI extends JFrame{\n\n    public static void main(String [] args){\n        JFrame frame = new MainGUI(&quot;Title&quot;);\n        frame.setVisible(true);\n    }\n\n    public MainGUI(String title){\n        super(title);\n\n        JPanel mainPanel = new JPanel();\n        JPanel graphPanel = new JPanel();\n        int w = 200;\n        int h = 200;\n        System.out.println(mainPanel);\n        mainPanel.setBorder(BorderFactory.createEmptyBorder(20, 45, 50, 20)); //Create panel Border\n        System.out.println(mainPanel);\n        graphPanel.setBorder(BorderFactory.createEmptyBorder(0,0,0,0));\n\n        graphPanel.setLayout(new GridLayout(1, 1));\n        System.out.println(graphPanel);\n\n        ....\n        ....\n</code></pre>\n"},{"tags":["java","spring-boot","testing","junit5"],"answers":[{"tags":[],"owner":{"account_id":19859072,"reputation":31,"user_id":14547788,"display_name":"idri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645562144,"creation_date":1645562144,"answer_id":71227974,"question_id":71226216,"body_markdown":"Maybe you forgot to use mockito annotation **@RunWith(MockitoJUnitRunner.class)**.\r\nHere it&#39;s the unit test for **CustomUserDetailsService** :\r\n\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.mockito.Mock;\r\n    import org.mockito.junit.MockitoJUnitRunner;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.test.util.ReflectionTestUtils;\r\n    \r\n    import static org.junit.Assert.*;\r\n    import static org.mockito.Mockito.mock;\r\n    import static org.mockito.Mockito.when;\r\n    \r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class CustomUserDetailsService {\r\n        @Mock\r\n        private UserRepository userRepository;\r\n    \r\n        private CustomUserDetailsService customUserDetailsService;\r\n    \r\n        @Before\r\n        public void setUp() throws Exception {\r\n            customUserDetailsService = new CustomUserDetailsService(userRepository);\r\n        }\r\n    \r\n        @Test\r\n        public void GIVEN_username_THEN_return_user_details() {\r\n            //Arrange\r\n            final String username = &quot;existingUserName&quot;;\r\n            final User user = mock(User.class);\r\n            when(userRepository.findByUsername(username)).thenReturn(user);\r\n    \r\n            //Act\r\n            final UserDetails userDetails = customUserDetailsService.loadUserByUsername(username);\r\n    \r\n            //Assert\r\n            assertNotNull(userDetails);\r\n            assertEquals(user, ReflectionTestUtils.getField(userDetails, &quot;user&quot;));\r\n        }\r\n    }","title":"How do I test my CustomUserDetailsService?","body":"<p>Maybe you forgot to use mockito annotation <strong>@RunWith(MockitoJUnitRunner.class)</strong>.\nHere it's the unit test for <strong>CustomUserDetailsService</strong> :</p>\n<pre><code>import org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.Mock;\nimport org.mockito.junit.MockitoJUnitRunner;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.test.util.ReflectionTestUtils;\n\nimport static org.junit.Assert.*;\nimport static org.mockito.Mockito.mock;\nimport static org.mockito.Mockito.when;\n\n@RunWith(MockitoJUnitRunner.class)\npublic class CustomUserDetailsService {\n    @Mock\n    private UserRepository userRepository;\n\n    private CustomUserDetailsService customUserDetailsService;\n\n    @Before\n    public void setUp() throws Exception {\n        customUserDetailsService = new CustomUserDetailsService(userRepository);\n    }\n\n    @Test\n    public void GIVEN_username_THEN_return_user_details() {\n        //Arrange\n        final String username = &quot;existingUserName&quot;;\n        final User user = mock(User.class);\n        when(userRepository.findByUsername(username)).thenReturn(user);\n\n        //Act\n        final UserDetails userDetails = customUserDetailsService.loadUserByUsername(username);\n\n        //Assert\n        assertNotNull(userDetails);\n        assertEquals(user, ReflectionTestUtils.getField(userDetails, &quot;user&quot;));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21295186,"reputation":101,"user_id":16988280,"display_name":"Phil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":737,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645562144,"creation_date":1645552984,"question_id":71226216,"body_markdown":"I have a `CustomerUserDetailsService` class, which is part of an implementation of Spring Boot authentication. I have tested my code manually, and it works correctly, allowing me to successfully log in to my app. However, I am unable to work out how to test the `CustomerUserDetailsService`.\r\n\r\nAs a unit test, I believe I would need to mock the `userRepository` member variable, but whatever I try in my test fails, the reason being `userRepository` is set to `null`. I&#39;ve tried adding the `@Repository` annotation to `userRepository` but am told that is not allowed because it is an interface. There&#39;s also the fact that `loadUserByUsername` returns an instance of `CustomUserDetails`, which is just an implementation of an interface, so I have no idea how I&#39;d mock that dependency?\r\n\r\nI&#39;ve also tried doing some kind of integration test but had similar issues, probably due to incorrect annotations on the test itself. In an ideal world, I&#39;d prefer a unit test and would be extremely grateful for any guidance as to how to set it up.\r\n\r\nThese are the relevant classes...\r\n\r\n**CustomerUserDetailsService:**\r\n```java\r\npackage com.phil.urlshortener.security;\r\n\r\nimport com.phil.urlshortener.model.User;\r\nimport com.phil.urlshortener.repositories.UserRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\n\r\npublic class CustomUserDetailsService implements UserDetailsService {\r\n  @Autowired private UserRepository userRepository;\r\n\r\n  @Override\r\n  public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n    User user = userRepository.findByUsername(username);\r\n\r\n    if (user == null) {\r\n      throw new UsernameNotFoundException(&quot;User not found&quot;);\r\n    }\r\n\r\n    return new CustomUserDetails(user);\r\n  }\r\n}\r\n```\r\n**User:**\r\n```java\r\npackage com.phil.urlshortener.model;\r\n\r\nimport lombok.Data;\r\n\r\nimport javax.persistence.*;\r\n\r\n@Data\r\n@Entity\r\npublic class User {\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private Long id;\r\n\r\n  @Column(nullable = false, unique = true, length = 50)\r\n  private String username;\r\n\r\n  @Column(nullable = false, length = 64)\r\n  private String password;\r\n}\r\n```\r\n**UserRepository:**\r\n```java\r\npackage com.phil.urlshortener.repositories;\r\n\r\nimport com.phil.urlshortener.model.User;\r\nimport org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.data.repository.CrudRepository;\r\n\r\npublic interface UserRepository extends CrudRepository&lt;User, Long&gt; {\r\n  @Query(&quot;SELECT u FROM User u WHERE u.username = ?1&quot;)\r\n  User findByUsername(String username);\r\n}\r\n```\r\n**CustomUserDetails:**\r\n```java\r\npackage com.phil.urlshortener.security;\r\n\r\nimport com.phil.urlshortener.model.User;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\n\r\nimport java.util.Collection;\r\n\r\npublic class CustomUserDetails implements UserDetails {\r\n  private final User user;\r\n\r\n  public CustomUserDetails(User user) {\r\n    this.user = user;\r\n  }\r\n\r\n  @Override\r\n  public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n    return null;\r\n  }\r\n\r\n  @Override\r\n  public String getPassword() {\r\n    return user.getPassword();\r\n  }\r\n\r\n  @Override\r\n  public String getUsername() {\r\n    return user.getUsername();\r\n  }\r\n\r\n  @Override\r\n  public boolean isAccountNonExpired() {\r\n    return true;\r\n  }\r\n\r\n  @Override\r\n  public boolean isAccountNonLocked() {\r\n    return true;\r\n  }\r\n\r\n  @Override\r\n  public boolean isCredentialsNonExpired() {\r\n    return true;\r\n  }\r\n\r\n  @Override\r\n  public boolean isEnabled() {\r\n    return true;\r\n  }\r\n}\r\n```","title":"How do I test my CustomUserDetailsService?","body":"<p>I have a <code>CustomerUserDetailsService</code> class, which is part of an implementation of Spring Boot authentication. I have tested my code manually, and it works correctly, allowing me to successfully log in to my app. However, I am unable to work out how to test the <code>CustomerUserDetailsService</code>.</p>\n<p>As a unit test, I believe I would need to mock the <code>userRepository</code> member variable, but whatever I try in my test fails, the reason being <code>userRepository</code> is set to <code>null</code>. I've tried adding the <code>@Repository</code> annotation to <code>userRepository</code> but am told that is not allowed because it is an interface. There's also the fact that <code>loadUserByUsername</code> returns an instance of <code>CustomUserDetails</code>, which is just an implementation of an interface, so I have no idea how I'd mock that dependency?</p>\n<p>I've also tried doing some kind of integration test but had similar issues, probably due to incorrect annotations on the test itself. In an ideal world, I'd prefer a unit test and would be extremely grateful for any guidance as to how to set it up.</p>\n<p>These are the relevant classes...</p>\n<p><strong>CustomerUserDetailsService:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.phil.urlshortener.security;\n\nimport com.phil.urlshortener.model.User;\nimport com.phil.urlshortener.repositories.UserRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\n\npublic class CustomUserDetailsService implements UserDetailsService {\n  @Autowired private UserRepository userRepository;\n\n  @Override\n  public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n    User user = userRepository.findByUsername(username);\n\n    if (user == null) {\n      throw new UsernameNotFoundException(&quot;User not found&quot;);\n    }\n\n    return new CustomUserDetails(user);\n  }\n}\n</code></pre>\n<p><strong>User:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.phil.urlshortener.model;\n\nimport lombok.Data;\n\nimport javax.persistence.*;\n\n@Data\n@Entity\npublic class User {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Long id;\n\n  @Column(nullable = false, unique = true, length = 50)\n  private String username;\n\n  @Column(nullable = false, length = 64)\n  private String password;\n}\n</code></pre>\n<p><strong>UserRepository:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.phil.urlshortener.repositories;\n\nimport com.phil.urlshortener.model.User;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.CrudRepository;\n\npublic interface UserRepository extends CrudRepository&lt;User, Long&gt; {\n  @Query(&quot;SELECT u FROM User u WHERE u.username = ?1&quot;)\n  User findByUsername(String username);\n}\n</code></pre>\n<p><strong>CustomUserDetails:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.phil.urlshortener.security;\n\nimport com.phil.urlshortener.model.User;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\n\nimport java.util.Collection;\n\npublic class CustomUserDetails implements UserDetails {\n  private final User user;\n\n  public CustomUserDetails(User user) {\n    this.user = user;\n  }\n\n  @Override\n  public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n    return null;\n  }\n\n  @Override\n  public String getPassword() {\n    return user.getPassword();\n  }\n\n  @Override\n  public String getUsername() {\n    return user.getUsername();\n  }\n\n  @Override\n  public boolean isAccountNonExpired() {\n    return true;\n  }\n\n  @Override\n  public boolean isAccountNonLocked() {\n    return true;\n  }\n\n  @Override\n  public boolean isCredentialsNonExpired() {\n    return true;\n  }\n\n  @Override\n  public boolean isEnabled() {\n    return true;\n  }\n}\n</code></pre>\n"},{"tags":["java","android-studio"],"owner":{"account_id":24345480,"reputation":21,"user_id":18282163,"display_name":"zokatramvaj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645561787,"creation_date":1645561787,"question_id":71227915,"body_markdown":"I&#39;m in a process of making the TicTacToe app in Android Studio using java, and this is my first try at this. \r\nSo the failure is the winning section, and I cannot find the error myself.\r\nWhen I choose 2  in a row and the computer randomly chooses the 3 square in the same row it finishes the game and the winner is the computer. \r\n\r\n\r\n\r\n\r\npublic class PlayGame extends AppCompatActivity {\r\n\r\n    int activePlayer = 0;\r\n    int[] gameState = {2, 2, 2, 2, 2, 2, 2, 2, 2};\r\n    int[][] winningPositions = {{0, 1, 2}, {3, 4, 5}, {6, 7 ,8}, {0, 3, 6}, {1, 4, 7}, {2, 5, 8}, {0, 4, 8}, {2, 4, 6}};\r\n    boolean gameActive = true;\r\n    ArrayList&lt;String&gt; emptySquares = new ArrayList&lt;&gt;();\r\n    public void computer(){\r\n\r\n        if (gameActive) {\r\n\r\n            int select = emptySquares.size();\r\n            int selected = new Random().nextInt(select);\r\n            String selectedSquare = emptySquares.get(selected);\r\n            switch (selectedSquare) {\r\n                case &quot;0&quot;:\r\n                    ImageView imageView1 = findViewById(R.id.imageView1);\r\n                    imageView1.setImageResource(R.drawable.x);\r\n                    activePlayer = 0;\r\n                    emptySquares.remove(selectedSquare);\r\n                    gameState[Integer.parseInt(selectedSquare)] = activePlayer;\r\n                    break;\r\n\r\n                case &quot;1&quot;:\r\n                    ImageView imageView2 = findViewById(R.id.imageView2);\r\n                    imageView2.setImageResource(R.drawable.x);\r\n                    activePlayer = 0;\r\n                    emptySquares.remove(selectedSquare);\r\n                    gameState[Integer.parseInt(selectedSquare)] = activePlayer;\r\n                    break;\r\n\r\n                case &quot;2&quot;:\r\n                    ImageView imageView3 = findViewById(R.id.imageView3);\r\n                    imageView3.setImageResource(R.drawable.x);\r\n                    activePlayer = 0;\r\n                    emptySquares.remove(selectedSquare);\r\n                    gameState[Integer.parseInt(selectedSquare)] = activePlayer;\r\n                    break;\r\n\r\n                case &quot;3&quot;:\r\n                    ImageView imageView4 = findViewById(R.id.imageView4);\r\n                    imageView4.setImageResource(R.drawable.x);\r\n                    activePlayer = 0;\r\n                    emptySquares.remove(selectedSquare);\r\n                    gameState[Integer.parseInt(selectedSquare)] = activePlayer;\r\n                    break;\r\n\r\n                case &quot;4&quot;:\r\n                    ImageView imageView5 = findViewById(R.id.imageView5);\r\n                    imageView5.setImageResource(R.drawable.x);\r\n                    activePlayer = 0;\r\n                    emptySquares.remove(selectedSquare);\r\n                    gameState[Integer.parseInt(selectedSquare)] = activePlayer;\r\n                    break;\r\n\r\n                case &quot;5&quot;:\r\n                    ImageView imageView6 = findViewById(R.id.imageView6);\r\n                    imageView6.setImageResource(R.drawable.x);\r\n                    activePlayer = 0;\r\n                    emptySquares.remove(selectedSquare);\r\n                    gameState[Integer.parseInt(selectedSquare)] = activePlayer;\r\n                    break;\r\n\r\n                case &quot;6&quot;:\r\n                    ImageView imageView7 = findViewById(R.id.imageView7);\r\n                    imageView7.setImageResource(R.drawable.x);\r\n                    activePlayer = 0;\r\n                    emptySquares.remove(selectedSquare);\r\n                    gameState[Integer.parseInt(selectedSquare)] = activePlayer;\r\n                    break;\r\n\r\n                case &quot;7&quot;:\r\n                    ImageView imageView8 = findViewById(R.id.imageView8);\r\n                    imageView8.setImageResource(R.drawable.x);\r\n                    activePlayer = 0;\r\n                    emptySquares.remove(selectedSquare);\r\n                    gameState[Integer.parseInt(selectedSquare)] = activePlayer;\r\n                    break;\r\n\r\n                case &quot;8&quot;:\r\n                    ImageView imageView9 = findViewById(R.id.imageView9);\r\n                    imageView9.setImageResource(R.drawable.x);\r\n                    activePlayer = 0;\r\n                    emptySquares.remove(selectedSquare);\r\n                    gameState[Integer.parseInt(selectedSquare)] = activePlayer;\r\n                    break;\r\n            }\r\n\r\n            check();\r\n        }\r\n    }\r\n\r\n    public void dropIn(View view){\r\n\r\n        ImageView counter = (ImageView) view;\r\n\r\n        int tappedCounter = Integer.parseInt(counter.getTag().toString());\r\n\r\n        if (gameState[tappedCounter] == 2 &amp;&amp; gameActive &amp;&amp; emptySquares.contains(Integer.toString(tappedCounter))){\r\n\r\n            gameState[tappedCounter] = activePlayer;\r\n\r\n            counter.setTranslationY(-1500);\r\n\r\n            if (activePlayer == 0){\r\n\r\n                counter.setImageResource(R.drawable.o);\r\n\r\n                activePlayer = 1;\r\n\r\n                emptySquares.remove(Integer.toString(tappedCounter));\r\n\r\n                counter.animate().translationYBy(1).rotation(1).setDuration(300);\r\n\r\n                check();\r\n\r\n                computer();\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    public void check(){\r\n        for (int[] winningPosition : winningPositions){\r\n            if (gameState[winningPosition[0]] == gameState[winningPosition[1]] &amp;&amp; gameState[winningPosition[1]] == gameState[winningPosition[2]] &amp;&amp; gameState[winningPosition[0]] != 2){\r\n\r\n                gameActive = false;\r\n\r\n                String winner = &quot;&quot;;\r\n\r\n                if (activePlayer == 1){\r\n                    winner = &quot;O&quot;;\r\n                }\r\n                else {\r\n                    winner = &quot;X&quot;;\r\n                }\r\n\r\n\r\n                TextView winnerTextView = findViewById(R.id.textView);\r\n\r\n                winnerTextView.setText(&quot;Winner : &quot;+ winner);\r\n\r\n                winnerTextView.setVisibility(View.VISIBLE);\r\n            }\r\n            else {\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_play_game);\r\n\r\n        emptySquares.add(&quot;0&quot;);\r\n        emptySquares.add(&quot;1&quot;);\r\n        emptySquares.add(&quot;2&quot;);\r\n        emptySquares.add(&quot;3&quot;);\r\n        emptySquares.add(&quot;4&quot;);\r\n        emptySquares.add(&quot;5&quot;);\r\n        emptySquares.add(&quot;6&quot;);\r\n        emptySquares.add(&quot;7&quot;);\r\n        emptySquares.add(&quot;8&quot;);\r\n    }}","title":"I have a logic issue in my tictactoe app. When I choose 2 in a row and computer randomly choses the 3 squere in the same row it finishes the game","body":"<p>I'm in a process of making the TicTacToe app in Android Studio using java, and this is my first try at this.\nSo the failure is the winning section, and I cannot find the error myself.\nWhen I choose 2  in a row and the computer randomly chooses the 3 square in the same row it finishes the game and the winner is the computer.</p>\n<p>public class PlayGame extends AppCompatActivity {</p>\n<pre><code>int activePlayer = 0;\nint[] gameState = {2, 2, 2, 2, 2, 2, 2, 2, 2};\nint[][] winningPositions = {{0, 1, 2}, {3, 4, 5}, {6, 7 ,8}, {0, 3, 6}, {1, 4, 7}, {2, 5, 8}, {0, 4, 8}, {2, 4, 6}};\nboolean gameActive = true;\nArrayList&lt;String&gt; emptySquares = new ArrayList&lt;&gt;();\npublic void computer(){\n\n    if (gameActive) {\n\n        int select = emptySquares.size();\n        int selected = new Random().nextInt(select);\n        String selectedSquare = emptySquares.get(selected);\n        switch (selectedSquare) {\n            case &quot;0&quot;:\n                ImageView imageView1 = findViewById(R.id.imageView1);\n                imageView1.setImageResource(R.drawable.x);\n                activePlayer = 0;\n                emptySquares.remove(selectedSquare);\n                gameState[Integer.parseInt(selectedSquare)] = activePlayer;\n                break;\n\n            case &quot;1&quot;:\n                ImageView imageView2 = findViewById(R.id.imageView2);\n                imageView2.setImageResource(R.drawable.x);\n                activePlayer = 0;\n                emptySquares.remove(selectedSquare);\n                gameState[Integer.parseInt(selectedSquare)] = activePlayer;\n                break;\n\n            case &quot;2&quot;:\n                ImageView imageView3 = findViewById(R.id.imageView3);\n                imageView3.setImageResource(R.drawable.x);\n                activePlayer = 0;\n                emptySquares.remove(selectedSquare);\n                gameState[Integer.parseInt(selectedSquare)] = activePlayer;\n                break;\n\n            case &quot;3&quot;:\n                ImageView imageView4 = findViewById(R.id.imageView4);\n                imageView4.setImageResource(R.drawable.x);\n                activePlayer = 0;\n                emptySquares.remove(selectedSquare);\n                gameState[Integer.parseInt(selectedSquare)] = activePlayer;\n                break;\n\n            case &quot;4&quot;:\n                ImageView imageView5 = findViewById(R.id.imageView5);\n                imageView5.setImageResource(R.drawable.x);\n                activePlayer = 0;\n                emptySquares.remove(selectedSquare);\n                gameState[Integer.parseInt(selectedSquare)] = activePlayer;\n                break;\n\n            case &quot;5&quot;:\n                ImageView imageView6 = findViewById(R.id.imageView6);\n                imageView6.setImageResource(R.drawable.x);\n                activePlayer = 0;\n                emptySquares.remove(selectedSquare);\n                gameState[Integer.parseInt(selectedSquare)] = activePlayer;\n                break;\n\n            case &quot;6&quot;:\n                ImageView imageView7 = findViewById(R.id.imageView7);\n                imageView7.setImageResource(R.drawable.x);\n                activePlayer = 0;\n                emptySquares.remove(selectedSquare);\n                gameState[Integer.parseInt(selectedSquare)] = activePlayer;\n                break;\n\n            case &quot;7&quot;:\n                ImageView imageView8 = findViewById(R.id.imageView8);\n                imageView8.setImageResource(R.drawable.x);\n                activePlayer = 0;\n                emptySquares.remove(selectedSquare);\n                gameState[Integer.parseInt(selectedSquare)] = activePlayer;\n                break;\n\n            case &quot;8&quot;:\n                ImageView imageView9 = findViewById(R.id.imageView9);\n                imageView9.setImageResource(R.drawable.x);\n                activePlayer = 0;\n                emptySquares.remove(selectedSquare);\n                gameState[Integer.parseInt(selectedSquare)] = activePlayer;\n                break;\n        }\n\n        check();\n    }\n}\n\npublic void dropIn(View view){\n\n    ImageView counter = (ImageView) view;\n\n    int tappedCounter = Integer.parseInt(counter.getTag().toString());\n\n    if (gameState[tappedCounter] == 2 &amp;&amp; gameActive &amp;&amp; emptySquares.contains(Integer.toString(tappedCounter))){\n\n        gameState[tappedCounter] = activePlayer;\n\n        counter.setTranslationY(-1500);\n\n        if (activePlayer == 0){\n\n            counter.setImageResource(R.drawable.o);\n\n            activePlayer = 1;\n\n            emptySquares.remove(Integer.toString(tappedCounter));\n\n            counter.animate().translationYBy(1).rotation(1).setDuration(300);\n\n            check();\n\n            computer();\n        }\n\n    }\n\n}\n\npublic void check(){\n    for (int[] winningPosition : winningPositions){\n        if (gameState[winningPosition[0]] == gameState[winningPosition[1]] &amp;&amp; gameState[winningPosition[1]] == gameState[winningPosition[2]] &amp;&amp; gameState[winningPosition[0]] != 2){\n\n            gameActive = false;\n\n            String winner = &quot;&quot;;\n\n            if (activePlayer == 1){\n                winner = &quot;O&quot;;\n            }\n            else {\n                winner = &quot;X&quot;;\n            }\n\n\n            TextView winnerTextView = findViewById(R.id.textView);\n\n            winnerTextView.setText(&quot;Winner : &quot;+ winner);\n\n            winnerTextView.setVisibility(View.VISIBLE);\n        }\n        else {\n\n        }\n    }\n}\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_play_game);\n\n    emptySquares.add(&quot;0&quot;);\n    emptySquares.add(&quot;1&quot;);\n    emptySquares.add(&quot;2&quot;);\n    emptySquares.add(&quot;3&quot;);\n    emptySquares.add(&quot;4&quot;);\n    emptySquares.add(&quot;5&quot;);\n    emptySquares.add(&quot;6&quot;);\n    emptySquares.add(&quot;7&quot;);\n    emptySquares.add(&quot;8&quot;);\n}}\n</code></pre>\n"},{"tags":["java","sql-server","spring","spring-data-jpa","crud-repository"],"comments":[{"owner":{"account_id":10773302,"reputation":2841,"user_id":7926183,"display_name":"SMor"},"score":1,"creation_date":1645561448,"post_id":71227813,"comment_id":125903260,"body_markdown":"Show the code. An update statement, by itself, does not produce any resultset. Nor should it in most situations. Do you have a trigger on this table?","body":"Show the code. An update statement, by itself, does not produce any resultset. Nor should it in most situations. Do you have a trigger on this table?"},{"owner":{"account_id":9703968,"reputation":29,"user_id":7197967,"display_name":"jonathan gonzalez"},"score":0,"creation_date":1645561574,"post_id":71227813,"comment_id":125903307,"body_markdown":"Yes, I have some triggers, what can I do in that case?","body":"Yes, I have some triggers, what can I do in that case?"},{"owner":{"account_id":10773302,"reputation":2841,"user_id":7926183,"display_name":"SMor"},"score":2,"creation_date":1645563740,"post_id":71227813,"comment_id":125903988,"body_markdown":"Develop good habits and follow best practices. A trigger should NOT produce a resultset since applications (and libraries) often do not expect them - as you see now. Remove the logic from the triggers that generates the resultsets.","body":"Develop good habits and follow best practices. A trigger should NOT produce a resultset since applications (and libraries) often do not expect them - as you see now. Remove the logic from the triggers that generates the resultsets."},{"owner":{"account_id":9703968,"reputation":29,"user_id":7197967,"display_name":"jonathan gonzalez"},"score":0,"creation_date":1645563879,"post_id":71227813,"comment_id":125904025,"body_markdown":"Trigges were not deveped by me, but I already found the problems and yes, in fact are the triggers.","body":"Trigges were not deveped by me, but I already found the problems and yes, in fact are the triggers."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1680204099,"post_id":71227813,"comment_id":133862977,"body_markdown":"Could you please share more details of the solution as an answer? It would help other developers struggling with this error. Thanks.","body":"Could you please share more details of the solution as an answer? It would help other developers struggling with this error. Thanks."}],"owner":{"account_id":9703968,"reputation":29,"user_id":7197967,"display_name":"jonathan gonzalez"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645561727,"creation_date":1645561268,"question_id":71227813,"body_markdown":"\r\n\r\n    @Repository\r\n    public interface IReleaseHeaderDao extends CrudRepository&lt;ReleaseHeader, Integer&gt;{\r\n        \r\n    }\r\nIn my Service:\r\n\r\n        private void updatePfm(PushModel pushModel) {\r\n           \r\n           ReleaseHeader releaseHeader = this.releaseHeaderService.findById(162021);\r\n           releaseHeader.setUpc(pushModel.getUpc());\r\n           releaseHeaderService.save(releaseHeader);\r\n        }\r\n\r\n\r\n\r\n\r\nWhen I update in SQL server I received this result\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut in spring when I saved the object to update it, I received this:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/scdhE.png\r\n  [2]: https://i.stack.imgur.com/T95eI.png","title":"A result set was generated for update spring boot","body":"<pre><code>@Repository\npublic interface IReleaseHeaderDao extends CrudRepository&lt;ReleaseHeader, Integer&gt;{\n    \n}\n</code></pre>\n<p>In my Service:</p>\n<pre><code>    private void updatePfm(PushModel pushModel) {\n       \n       ReleaseHeader releaseHeader = this.releaseHeaderService.findById(162021);\n       releaseHeader.setUpc(pushModel.getUpc());\n       releaseHeaderService.save(releaseHeader);\n    }\n</code></pre>\n<p>When I update in SQL server I received this result</p>\n<p><a href=\"https://i.stack.imgur.com/scdhE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/scdhE.png\" alt=\"enter image description here\" /></a></p>\n<p>But in spring when I saved the object to update it, I received this:\n<a href=\"https://i.stack.imgur.com/T95eI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T95eI.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","hibernate","jdbc","quarkus","quarkus-panache"],"comments":[{"owner":{"account_id":15400934,"reputation":1598,"user_id":11110455,"display_name":"Felipe Windmoller"},"score":0,"creation_date":1645750476,"post_id":71227855,"comment_id":125960482,"body_markdown":"How are you injecting your EntityManager to use hibernate? As you&#39;re using one specific database setting the &quot;oracledb&quot; on the properties name, I think you need to tell hibernate that you&#39;re not using the default data source and you are using the &quot;oracledb&quot;. Something like @Inject\n@PersistenceUnit(&quot;oracledb&quot;) \nEntityManager entityManager; But if you are not using multiple data sources in your project, perhaps you could just remove the &quot;oracledb&quot; from your properties, like change from `quarkus.datasource.&quot;oracledb&quot;.db-kind=other` to `quarkus.datasource.db-kind=other`","body":"How are you injecting your EntityManager to use hibernate? As you&#39;re using one specific database setting the &quot;oracledb&quot; on the properties name, I think you need to tell hibernate that you&#39;re not using the default data source and you are using the &quot;oracledb&quot;. Something like @Inject @PersistenceUnit(&quot;oracledb&quot;)  EntityManager entityManager; But if you are not using multiple data sources in your project, perhaps you could just remove the &quot;oracledb&quot; from your properties, like change from <code>quarkus.datasource.&quot;oracledb&quot;.db-kind=other</code> to <code>quarkus.datasource.db-kind=other</code>"},{"owner":{"account_id":7544544,"reputation":7144,"user_id":5728095,"accept_rate":76,"display_name":"Sergii"},"score":0,"creation_date":1647152216,"post_id":71227855,"comment_id":126295916,"body_markdown":"@felipe-windmoller `@DataSource(&quot;oracledb&quot;)`. i have few datasources in the same project thus i need specified configuration `quarkus.datasource.&quot;oracledb&quot;.db-kind=...`","body":"@felipe-windmoller <code>@DataSource(&quot;oracledb&quot;)</code>. i have few datasources in the same project thus i need specified configuration <code>quarkus.datasource.&quot;oracledb&quot;.db-kind=...</code>"},{"owner":{"account_id":15400934,"reputation":1598,"user_id":11110455,"display_name":"Felipe Windmoller"},"score":0,"creation_date":1647297269,"post_id":71227855,"comment_id":126331876,"body_markdown":"I&#39;ve done a test using Quarkus 2.7 with Panache and everything worked. [Panache with Repository pattern](https://github.com/felipewind/poc-quarkus-multiple-datasources/blob/main/quarkus-vrs-2-7-panache-repository-pattern/README.md) and [Panache with Active Records pattern](https://github.com/felipewind/poc-quarkus-multiple-datasources/blob/main/quarkus-vrs-2-7-panache-active-record-pattern/README.md). If you need to inject the EntityManager, I guess you should use the @PersistenceUnit(&quot;oracledb&quot;) annotation, like [this guide](https://quarkus.io/guides/hibernate-orm#multiple-persistence-units).","body":"I&#39;ve done a test using Quarkus 2.7 with Panache and everything worked. <a href=\"https://github.com/felipewind/poc-quarkus-multiple-datasources/blob/main/quarkus-vrs-2-7-panache-repository-pattern/README.md\" rel=\"nofollow noreferrer\">Panache with Repository pattern</a> and <a href=\"https://github.com/felipewind/poc-quarkus-multiple-datasources/blob/main/quarkus-vrs-2-7-panache-active-record-pattern/README.md\" rel=\"nofollow noreferrer\">Panache with Active Records pattern</a>. If you need to inject the EntityManager, I guess you should use the @PersistenceUnit(&quot;oracledb&quot;) annotation, like <a href=\"https://quarkus.io/guides/hibernate-orm#multiple-persistence-units\" rel=\"nofollow noreferrer\">this guide</a>."},{"owner":{"account_id":15400934,"reputation":1598,"user_id":11110455,"display_name":"Felipe Windmoller"},"score":0,"creation_date":1647297998,"post_id":71227855,"comment_id":126332015,"body_markdown":"When reading the error `The default datasource has not been properly configured.`, looks like that there&#39;s some problem with your quarkus.hibernate-orm.&quot;oracledb&quot;.packages definition. Apparently, the Entity you&#39;re using is not in the same package declared with &quot;oracledb&quot;, so Quarkus tries to find the default datasource to use with your Entity.","body":"When reading the error <code>The default datasource has not been properly configured.</code>, looks like that there&#39;s some problem with your quarkus.hibernate-orm.&quot;oracledb&quot;.packages definition. Apparently, the Entity you&#39;re using is not in the same package declared with &quot;oracledb&quot;, so Quarkus tries to find the default datasource to use with your Entity."},{"owner":{"account_id":15400934,"reputation":1598,"user_id":11110455,"display_name":"Felipe Windmoller"},"score":0,"creation_date":1647298192,"post_id":71227855,"comment_id":126332068,"body_markdown":"The `default datasource` would be the one defined without the `&quot;oracledb&quot;` in the name, like `quarkus.datasource.db-kind=other\nquarkus.datasource.jdbc.driver=oracle.jdbc.driver.OracleDriver\nquarkus.datasource.jdbc.url=jdbc:oracle:thin:@dburl\nquarkus.hibernate-orm.packages=ourproject.model.entities\nquarkus.hibernate-orm.dialect=org.hibernate.dialect.OracleDialect\nquarkus.hibernate-orm.log.sql=false`.","body":"The <code>default datasource</code> would be the one defined without the <code>&quot;oracledb&quot;</code> in the name, like <code>quarkus.datasource.db-kind=other quarkus.datasource.jdbc.driver=oracle.jdbc.driver.OracleDriv&zwnj;&#8203;er quarkus.datasource.jdbc.url=jdbc:oracle:thin:@dburl quarkus.hibernate-orm.packages=ourproject.model.entities quarkus.hibernate-orm.dialect=org.hibernate.dialect.OracleDi&zwnj;&#8203;alect quarkus.hibernate-orm.log.sql=false</code>."}],"owner":{"account_id":7544544,"reputation":7144,"user_id":5728095,"accept_rate":76,"display_name":"Sergii"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1520,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645561469,"creation_date":1645561469,"question_id":71227855,"body_markdown":"In project we use [quarkus][1].\r\n\r\nWe need oracle db for production, but for local development and for testing we need `h2`. `h2` is new one for this project. To manage this way we&#39;ve configured\r\n\r\n```\r\n# mock for oracle db\r\n%local.quarkus.datasource.&quot;oracledb&quot;.db-kind=h2\r\n%local.quarkus.datasource.&quot;oracledb&quot;.jdbc.driver=org.h2.Driver\r\n%local.quarkus.datasource.&quot;oracledb&quot;.jdbc.url=jdbc:h2:mem:default;DB_CLOSE_DELAY=-1\r\n%local.quarkus.hibernate-orm.&quot;oracledb&quot;.database.generation=drop-and-create\r\n%local.quarkus.hibernate-orm.&quot;oracledb&quot;.datasource=oracledb\r\n%local.quarkus.hibernate-orm.&quot;oracledb&quot;.packages=ourproject.model\r\n%local.quarkus.hibernate-orm.&quot;oracledb&quot;.dialect=org.hibernate.dialect.H2Dialect\r\n%local.quarkus.hibernate-orm.&quot;oracledb&quot;.log.sql=false\r\n%local.isbn.suffix=LOCAL\r\n```\r\n\r\nalso we added java configuration dependent on active profile\r\n\r\n```\r\n@IfBuildProfile(&quot;local&quot;)\r\n@Dependent\r\npublic class StartUpLocalConfiguration {\r\n    private static final Logger LOG = Logger.getLogger(StartUpLocalConfiguration.class);\r\n\r\n    @Inject\r\n    @DataSource(&quot;oraclemock&quot;)\r\n    AgroalDataSource oraclemockDataSource;\r\n\r\n    void onStartForLocal(@Observes StartupEvent event) {\r\n        System.out.println();\r\n        LOG.info(&quot;[START] H2 DB initialization for local dev environment where profile: %s&quot;\r\n                .formatted(ProfileManager.getActiveProfile()));\r\n\r\n        List&lt;String&gt; createdTables = createAndInitTablesFromCsvDirectory();\r\n\r\n        LOG.info(&quot;[END] H2 DB initialization for local dev environment where profile: %s&quot;\r\n                .formatted(ProfileManager.getActiveProfile()));\r\n\r\n        // Logging data from specified tables\r\n        System.out.println();\r\n        LOG.debug(&quot;[START] Printing data loaded from H2 DB after it&#39;s initialization&quot;);\r\n        for (String tableName: createdTables) {\r\n            printTableData(tableName);\r\n        }\r\n        LOG.debug(&quot;[END] Printing data loaded from H2 DB after it&#39;s initialization&quot;);\r\n    }\r\n\r\n ...\r\n}\r\n```\r\n\r\nAfter that we can easily work using oracle schema (old approach works perfectly) and h2 db (if profile is `local`).\r\n\r\nLocal java configuration loads data to db perfectly, also it verifies the result (data loading and verification is done over `jdbc`).\r\n\r\n\r\nProblem\r\n-\r\nIn case we manage db operations with hibernate (application completely started and initialized with newly added configuration) it leads to next issues for `local` profile\r\n```\r\nCaused by: java.lang.IllegalStateException: The default datasource has not been properly configured. See https://quarkus.io/guides/datasource#jdbc-datasource for information on how to do that.\r\n\tat io.quarkus.hibernate.orm.panache.common.runtime.AbstractJpaOperations.getEntityManager(AbstractJpaOperations.java:62)\r\n\tat io.quarkus.hibernate.orm.panache.common.runtime.AbstractJpaOperations.getEntityManager(AbstractJpaOperations.java:51)\r\n\tat io.quarkus.hibernate.orm.panache.common.runtime.AbstractJpaOperations.find(AbstractJpaOperations.java:198)\r\n\tat io.quarkus.hibernate.orm.panache.common.runtime.AbstractJpaOperations.find(AbstractJpaOperations.java:193)\r\n\tat io.quarkus.hibernate.orm.panache.common.runtime.AbstractJpaOperations.list(AbstractJpaOperations.java:241)\r\n```\r\n\r\n\r\nP.S.\r\n-\r\nThe default datasource (for oracle one) left with no changes:\r\n```\r\nquarkus.datasource.&quot;oracledb&quot;.db-kind=other\r\nquarkus.datasource.&quot;oracledb&quot;.jdbc.driver=oracle.jdbc.driver.OracleDriver\r\nquarkus.datasource.&quot;oracledb&quot;.jdbc.url=jdbc:oracle:thin:@dburl\r\nquarkus.hibernate-orm.&quot;oracledb&quot;.datasource=oracledb\r\nquarkus.hibernate-orm.&quot;oracledb&quot;.packages=ourproject.model.entities\r\nquarkus.hibernate-orm.&quot;oracledb&quot;.dialect=org.hibernate.dialect.OracleDialect\r\nquarkus.hibernate-orm.&quot;oracledb&quot;.log.sql=false\r\n```\r\nentities configured with [hibernate-orm-panache][2]\r\n\r\n\r\n  [1]: https://quarkus.io/guides/\r\n  [2]: https://quarkus.io/guides/hibernate-orm-panache","title":"Quarkus auto init h2 db for test end local dev purposes","body":"<p>In project we use <a href=\"https://quarkus.io/guides/\" rel=\"nofollow noreferrer\">quarkus</a>.</p>\n<p>We need oracle db for production, but for local development and for testing we need <code>h2</code>. <code>h2</code> is new one for this project. To manage this way we've configured</p>\n<pre><code># mock for oracle db\n%local.quarkus.datasource.&quot;oracledb&quot;.db-kind=h2\n%local.quarkus.datasource.&quot;oracledb&quot;.jdbc.driver=org.h2.Driver\n%local.quarkus.datasource.&quot;oracledb&quot;.jdbc.url=jdbc:h2:mem:default;DB_CLOSE_DELAY=-1\n%local.quarkus.hibernate-orm.&quot;oracledb&quot;.database.generation=drop-and-create\n%local.quarkus.hibernate-orm.&quot;oracledb&quot;.datasource=oracledb\n%local.quarkus.hibernate-orm.&quot;oracledb&quot;.packages=ourproject.model\n%local.quarkus.hibernate-orm.&quot;oracledb&quot;.dialect=org.hibernate.dialect.H2Dialect\n%local.quarkus.hibernate-orm.&quot;oracledb&quot;.log.sql=false\n%local.isbn.suffix=LOCAL\n</code></pre>\n<p>also we added java configuration dependent on active profile</p>\n<pre><code>@IfBuildProfile(&quot;local&quot;)\n@Dependent\npublic class StartUpLocalConfiguration {\n    private static final Logger LOG = Logger.getLogger(StartUpLocalConfiguration.class);\n\n    @Inject\n    @DataSource(&quot;oraclemock&quot;)\n    AgroalDataSource oraclemockDataSource;\n\n    void onStartForLocal(@Observes StartupEvent event) {\n        System.out.println();\n        LOG.info(&quot;[START] H2 DB initialization for local dev environment where profile: %s&quot;\n                .formatted(ProfileManager.getActiveProfile()));\n\n        List&lt;String&gt; createdTables = createAndInitTablesFromCsvDirectory();\n\n        LOG.info(&quot;[END] H2 DB initialization for local dev environment where profile: %s&quot;\n                .formatted(ProfileManager.getActiveProfile()));\n\n        // Logging data from specified tables\n        System.out.println();\n        LOG.debug(&quot;[START] Printing data loaded from H2 DB after it's initialization&quot;);\n        for (String tableName: createdTables) {\n            printTableData(tableName);\n        }\n        LOG.debug(&quot;[END] Printing data loaded from H2 DB after it's initialization&quot;);\n    }\n\n ...\n}\n</code></pre>\n<p>After that we can easily work using oracle schema (old approach works perfectly) and h2 db (if profile is <code>local</code>).</p>\n<p>Local java configuration loads data to db perfectly, also it verifies the result (data loading and verification is done over <code>jdbc</code>).</p>\n<h2>Problem</h2>\n<p>In case we manage db operations with hibernate (application completely started and initialized with newly added configuration) it leads to next issues for <code>local</code> profile</p>\n<pre><code>Caused by: java.lang.IllegalStateException: The default datasource has not been properly configured. See https://quarkus.io/guides/datasource#jdbc-datasource for information on how to do that.\n    at io.quarkus.hibernate.orm.panache.common.runtime.AbstractJpaOperations.getEntityManager(AbstractJpaOperations.java:62)\n    at io.quarkus.hibernate.orm.panache.common.runtime.AbstractJpaOperations.getEntityManager(AbstractJpaOperations.java:51)\n    at io.quarkus.hibernate.orm.panache.common.runtime.AbstractJpaOperations.find(AbstractJpaOperations.java:198)\n    at io.quarkus.hibernate.orm.panache.common.runtime.AbstractJpaOperations.find(AbstractJpaOperations.java:193)\n    at io.quarkus.hibernate.orm.panache.common.runtime.AbstractJpaOperations.list(AbstractJpaOperations.java:241)\n</code></pre>\n<h2>P.S.</h2>\n<p>The default datasource (for oracle one) left with no changes:</p>\n<pre><code>quarkus.datasource.&quot;oracledb&quot;.db-kind=other\nquarkus.datasource.&quot;oracledb&quot;.jdbc.driver=oracle.jdbc.driver.OracleDriver\nquarkus.datasource.&quot;oracledb&quot;.jdbc.url=jdbc:oracle:thin:@dburl\nquarkus.hibernate-orm.&quot;oracledb&quot;.datasource=oracledb\nquarkus.hibernate-orm.&quot;oracledb&quot;.packages=ourproject.model.entities\nquarkus.hibernate-orm.&quot;oracledb&quot;.dialect=org.hibernate.dialect.OracleDialect\nquarkus.hibernate-orm.&quot;oracledb&quot;.log.sql=false\n</code></pre>\n<p>entities configured with <a href=\"https://quarkus.io/guides/hibernate-orm-panache\" rel=\"nofollow noreferrer\">hibernate-orm-panache</a></p>\n"},{"tags":["java","string","replace","replaceall"],"comments":[{"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"score":0,"creation_date":1488525524,"post_id":42572684,"comment_id":72278939,"body_markdown":"try `System.out.println(test.replaceAll(&quot;\\n&quot;,&quot;,&quot;).replaceAll(&quot;\\r\\n&quot;,&quot;,&quot;)); `","body":"try <code>System.out.println(test.replaceAll(&quot;\\n&quot;,&quot;,&quot;).replaceAll(&quot;\\r\\&zwnj;&#8203;n&quot;,&quot;,&quot;)); </code>"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1488525815,"post_id":42572684,"comment_id":72279099,"body_markdown":"_&quot;getting input from UI &quot;_ - Show the code that gets the input from the UI.  Clearly whatever does the reading is not interpreting the escape code and leaving the literal `\\n` in the string.  You may need to interpret escape sequences yourself","body":"<i>&quot;getting input from UI &quot;</i> - Show the code that gets the input from the UI.  Clearly whatever does the reading is not interpreting the escape code and leaving the literal <code>\\n</code> in the string.  You may need to interpret escape sequences yourself"}],"answers":[{"tags":[],"owner":{"account_id":1890132,"reputation":6513,"user_id":1794706,"display_name":"anacron"},"down_vote_count":2,"up_vote_count":22,"is_accepted":true,"score":20,"last_activity_date":1488525606,"creation_date":1488524791,"answer_id":42572701,"question_id":42572684,"body_markdown":"`\\n` is the new line character. If you need to replace that actual backslash character followed by `n`, Then you need to use this:\r\n\r\n    String test =&quot;s1\\ns2\\ns3\\ns4&quot;;\r\n    System.out.println(test.replaceAll(&quot;\\\\n&quot;,&quot;,&quot;));\r\n\r\n\n&gt; **Update:**\n\nYou can use the `System.lineSeparator();` instead of the `\\n` character.\n\n\n    System.out.println(test.replaceAll(System.lineSeparator(),&quot;,&quot;));","title":"Replace &#39;\\n&#39; by &#39;,&#39; in java","body":"<p><code>\\n</code> is the new line character. If you need to replace that actual backslash character followed by <code>n</code>, Then you need to use this:</p>\n\n<pre><code>String test =\"s1\\ns2\\ns3\\ns4\";\nSystem.out.println(test.replaceAll(\"\\\\n\",\",\"));\n</code></pre>\n\n<blockquote>\n  <p><strong>Update:</strong></p>\n</blockquote>\n\n<p>You can use the <code>System.lineSeparator();</code> instead of the <code>\\n</code> character.</p>\n\n<pre><code>System.out.println(test.replaceAll(System.lineSeparator(),\",\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17450,"reputation":12197,"user_id":39062,"accept_rate":100,"display_name":"Markus Lausberg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1488525271,"creation_date":1488525271,"answer_id":42572841,"question_id":42572684,"body_markdown":"As anacron already pointed out &#39;\\n&#39; is a special charachter and different to the user input &quot;\\n&quot;, because the user input is transformed to &quot;\\\\\\\\n&quot;.\r\n\r\nThe Java String after user input will look like\r\n\r\n    String test =&quot;s1\\\\ns2\\\\ns3\\\\ns4&quot;;\r\nand not like your test string\r\n\r\n    String test =&quot;s1\\ns2\\ns3\\ns4&quot;;\r\n\r\n\r\nThe user will input single charachter and the keyboard &#39;\\&#39; is transformed to Java charachter &#39;\\\\\\\\&#39;.","title":"Replace &#39;\\n&#39; by &#39;,&#39; in java","body":"<p>As anacron already pointed out '\\n' is a special charachter and different to the user input \"\\n\", because the user input is transformed to \"\\\\n\".</p>\n\n<p>The Java String after user input will look like</p>\n\n<pre><code>String test =\"s1\\\\ns2\\\\ns3\\\\ns4\";\n</code></pre>\n\n<p>and not like your test string</p>\n\n<pre><code>String test =\"s1\\ns2\\ns3\\ns4\";\n</code></pre>\n\n<p>The user will input single charachter and the keyboard '\\' is transformed to Java charachter '\\\\'.</p>\n"},{"tags":[],"owner":{"account_id":1781872,"reputation":14665,"user_id":1624376,"accept_rate":76,"display_name":"Aubin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1488525274,"creation_date":1488525274,"answer_id":42572842,"question_id":42572684,"body_markdown":"java.util.regex.Pattern [documentation][1] specifies Line terminators as :\r\n\r\n    \r\n\r\n&gt; A line terminator is a one- or two-character sequence that marks the\r\n&gt; end of a line of the input character sequence. The following are\r\n&gt; recognized as line terminators:\r\n&gt; \r\n&gt; A newline (line feed) character (&#39;\\n&#39;),\r\n&gt; A carriage-return character followed immediately by a newline character (&quot;\\r\\n&quot;),\r\n&gt; A standalone carriage-return character (&#39;\\r&#39;),\r\n&gt; A next-line character (&#39;\\u0085&#39;),\r\n&gt; A line-separator character (&#39;\\u2028&#39;), or\r\n&gt; A paragraph-separator character (&#39;\\u2029).\r\n\r\nYour line terminator, from textarea, are \\r\\n (CR/LF).\r\n\r\nregex for that is `[\\r\\n]+`\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html","title":"Replace &#39;\\n&#39; by &#39;,&#39; in java","body":"<p>java.util.regex.Pattern <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">documentation</a> specifies Line terminators as :</p>\n\n<blockquote>\n  <p>A line terminator is a one- or two-character sequence that marks the\n  end of a line of the input character sequence. The following are\n  recognized as line terminators:</p>\n  \n  <p>A newline (line feed) character ('\\n'),\n  A carriage-return character followed immediately by a newline character (\"\\r\\n\"),\n  A standalone carriage-return character ('\\r'),\n  A next-line character ('\\u0085'),\n  A line-separator character ('\\u2028'), or\n  A paragraph-separator character ('\\u2029).</p>\n</blockquote>\n\n<p>Your line terminator, from textarea, are \\r\\n (CR/LF).</p>\n\n<p>regex for that is <code>[\\r\\n]+</code></p>\n"},{"tags":[],"owner":{"account_id":5715909,"reputation":15062,"user_id":4516110,"accept_rate":81,"display_name":"Mehraj Malik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1488526397,"creation_date":1488525978,"answer_id":42573042,"question_id":42572684,"body_markdown":"Using `Regex` : \r\n\r\n    public class Program\r\n    {\r\n        public static void main(String[] args) {\r\n            String str = &quot;s1\\ns2\\ns3\\ns4&quot;;\r\n            str = str.replaceAll(&quot;(\\r\\n|\\n)&quot;, &quot;,&quot;);\r\n            System.out.println(str);\r\n        }\r\n    }\r\n\r\n&gt; outout : s1,s2,s3,s4","title":"Replace &#39;\\n&#39; by &#39;,&#39; in java","body":"<p>Using <code>Regex</code> : </p>\n\n<pre><code>public class Program\n{\n    public static void main(String[] args) {\n        String str = \"s1\\ns2\\ns3\\ns4\";\n        str = str.replaceAll(\"(\\r\\n|\\n)\", \",\");\n        System.out.println(str);\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>outout : s1,s2,s3,s4</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":23749232,"reputation":11,"user_id":17766224,"display_name":"Mateusz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645560789,"creation_date":1645560789,"answer_id":71227732,"question_id":42572684,"body_markdown":"If someone will get from UI \\\\\\\\n in text and want remove one \\ to get next line sign \\n then can use this:\r\n\r\n            String text = &quot;text\\\\ntext\\\\ntext\\\\ntext&quot;;\r\n        System.out.println(text.replaceAll(&quot;\\\\\\\\n&quot;, &quot;\\n&quot;));\r\n\r\n\r\nhttps://i.stack.imgur.com/nAv8d.png","title":"Replace &#39;\\n&#39; by &#39;,&#39; in java","body":"<p>If someone will get from UI \\\\n in text and want remove one \\ to get next line sign \\n then can use this:</p>\n<pre><code>        String text = &quot;text\\\\ntext\\\\ntext\\\\ntext&quot;;\n    System.out.println(text.replaceAll(&quot;\\\\\\\\n&quot;, &quot;\\n&quot;));\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/nAv8d.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/nAv8d.png</a></p>\n"}],"owner":{"account_id":3756064,"reputation":499,"user_id":3122402,"accept_rate":60,"display_name":"Ramya Selvarani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47839,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":42572701,"answer_count":5,"score":9,"last_activity_date":1645560789,"creation_date":1488524724,"question_id":42572684,"body_markdown":"I want to take input from user as `String` and replace the newline character `\\n` with `,`\r\n\r\nI tried : \r\n\r\n` String test =&quot;s1\\ns2\\ns3\\ns4&quot;;\r\n System.out.println(test.replaceAll(&quot;\\n&quot;,&quot;,&quot;));`\r\n\r\n&gt;  Output was s1,s2,s3,s4\r\n\r\nBut when I try the same code by getting input from UI it&#39;s not working.\r\n\r\nWhen I debug it the string test(which I hardcoded) is treated as,\r\n\r\ns1\r\n\r\ns2\r\n\r\ns3\r\n\r\ns4\r\n\r\nbut the string from UI is &quot;`s1\\ns2\\ns3\\ns4`&quot;.\r\n\r\nPlease suggest what is wrong.","title":"Replace &#39;\\n&#39; by &#39;,&#39; in java","body":"<p>I want to take input from user as <code>String</code> and replace the newline character <code>\\n</code> with <code>,</code></p>\n\n<p>I tried : </p>\n\n<p><code>String test =\"s1\\ns2\\ns3\\ns4\";\n System.out.println(test.replaceAll(\"\\n\",\",\"));</code></p>\n\n<blockquote>\n  <p>Output was s1,s2,s3,s4</p>\n</blockquote>\n\n<p>But when I try the same code by getting input from UI it's not working.</p>\n\n<p>When I debug it the string test(which I hardcoded) is treated as,</p>\n\n<p>s1</p>\n\n<p>s2</p>\n\n<p>s3</p>\n\n<p>s4</p>\n\n<p>but the string from UI is \"<code>s1\\ns2\\ns3\\ns4</code>\".</p>\n\n<p>Please suggest what is wrong.</p>\n"},{"tags":["java","swing","jscrollpane","paintcomponent"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1645492147,"post_id":71214764,"comment_id":125880635,"body_markdown":"Your panel needs to have a &quot;preferred size&quot; for it to be successful presented.  At the movement, it&#39;s `0x0`, so the `JScrollPane` is making `0x0` when it&#39;s presented","body":"Your panel needs to have a &quot;preferred size&quot; for it to be successful presented.  At the movement, it&#39;s <code>0x0</code>, so the <code>JScrollPane</code> is making <code>0x0</code> when it&#39;s presented"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1645492418,"post_id":71214764,"comment_id":125880680,"body_markdown":"You might like to have a look at [How to set a background picture in JPanel](https://stackoverflow.com/questions/22162398/how-to-set-a-background-picture-in-jpanel/22162430#22162430) and because you&#39;ve thrown a `JScrollPane` into the mix, [Java - Is there a way to insert a background image in a JList?](https://stackoverflow.com/questions/16390918/java-is-there-a-way-to-insert-a-background-image-in-a-jlist/16390963#16390963)","body":"You might like to have a look at <a href=\"https://stackoverflow.com/questions/22162398/how-to-set-a-background-picture-in-jpanel/22162430#22162430\">How to set a background picture in JPanel</a> and because you&#39;ve thrown a <code>JScrollPane</code> into the mix, <a href=\"https://stackoverflow.com/questions/16390918/java-is-there-a-way-to-insert-a-background-image-in-a-jlist/16390963#16390963\">Java - Is there a way to insert a background image in a JList?</a>"},{"owner":{"account_id":24314867,"reputation":11,"user_id":18256231,"display_name":"hadsag"},"score":0,"creation_date":1645494820,"post_id":71214764,"comment_id":125881143,"body_markdown":"I setPreferredSize() on my JPanel, but then, it won&#39;t add any new components outside of its preferredSize. The JPanel need to be extendable so this method won&#39;t work! I have setMinimumSize(new Dimension(980,600)) to the JPanel, but no max or preferred size","body":"I setPreferredSize() on my JPanel, but then, it won&#39;t add any new components outside of its preferredSize. The JPanel need to be extendable so this method won&#39;t work! I have setMinimumSize(new Dimension(980,600)) to the JPanel, but no max or preferred size"},{"owner":{"account_id":24314867,"reputation":11,"user_id":18256231,"display_name":"hadsag"},"score":0,"creation_date":1645495542,"post_id":71214764,"comment_id":125881276,"body_markdown":"@MadProgrammer I setOpaque(false) on both, as suggested in the linked post, but to no avail. I have a preferred size on my JScrollPane and i set the image to the exact same dimension, but it doesn&#39;t paint the image. setBackground(Black) doesn&#39;t even work.","body":"@MadProgrammer I setOpaque(false) on both, as suggested in the linked post, but to no avail. I have a preferred size on my JScrollPane and i set the image to the exact same dimension, but it doesn&#39;t paint the image. setBackground(Black) doesn&#39;t even work."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1645496381,"post_id":71214764,"comment_id":125881414,"body_markdown":"1. Don&#39;t use `ImageIcon`, use `ImageIO.read`, this throws an error when the image can&#39;t be loaded; 2. Don&#39;t load images in `paintComponent`, this will be a source of bad performance from within your application.  I&#39;ve provided, at least 2, possibly more runnable examples, consider providing a [mcve] to help remove an ambaility","body":"1. Don&#39;t use <code>ImageIcon</code>, use <code>ImageIO.read</code>, this throws an error when the image can&#39;t be loaded; 2. Don&#39;t load images in <code>paintComponent</code>, this will be a source of bad performance from within your application.  I&#39;ve provided, at least 2, possibly more runnable examples, consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to help remove an ambaility"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1645508221,"post_id":71214764,"comment_id":125883209,"body_markdown":"You need to draw the image on the viewport of the scroll pane. Checkout out: https://stackoverflow.com/questions/68474883/static-image-behind-jtextpane-text-in-jscrollpane/68476235#68476235","body":"You need to draw the image on the viewport of the scroll pane. Checkout out: <a href=\"https://stackoverflow.com/questions/68474883/static-image-behind-jtextpane-text-in-jscrollpane/68476235#68476235\" title=\"static image behind jtextpane text in jscrollpane\">stackoverflow.com/questions/68474883/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":24314867,"reputation":11,"user_id":18256231,"display_name":"hadsag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645560557,"creation_date":1645545202,"answer_id":71224317,"question_id":71214764,"body_markdown":"https://stackoverflow.com/questions/68474883/static-image-behind-jtextpane-text-in-jscrollpane/68476235#68476235\r\n\r\n**^^link where I found the solution!! Below is a clean cheatsheet :)**\r\n```java\r\nJPanel jPanel = new JPanel() {\r\n    this.setOpaque(false);\r\n};\r\nJViewport viewport = new JViewport() {\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        ImageIcon background = new ImageIcon(&quot;images/background.png&quot;);\r\n        Image image = background.getImage();\r\n        image.getScaledInstance(width, height, java.awt.Image.SCALE_SMOOTH);\r\n        if (image != null) {\r\n            g.drawImage(image, 0, 0, w, h, null);\r\n        }\r\n    }\r\n};\r\njScrollPane.setViewport(viewport);\r\njScrollPane.setViewportView(jPanel);\r\n```","title":"setting background image for JScrollPane","body":"<p><a href=\"https://stackoverflow.com/questions/68474883/static-image-behind-jtextpane-text-in-jscrollpane/68476235#68476235\">Static Image behind JTextPane text in JScrollPane</a></p>\n<p><strong>^^link where I found the solution!! Below is a clean cheatsheet :)</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>JPanel jPanel = new JPanel() {\n    this.setOpaque(false);\n};\nJViewport viewport = new JViewport() {\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        ImageIcon background = new ImageIcon(&quot;images/background.png&quot;);\n        Image image = background.getImage();\n        image.getScaledInstance(width, height, java.awt.Image.SCALE_SMOOTH);\n        if (image != null) {\n            g.drawImage(image, 0, 0, w, h, null);\n        }\n    }\n};\njScrollPane.setViewport(viewport);\njScrollPane.setViewportView(jPanel);\n</code></pre>\n"}],"owner":{"account_id":24314867,"reputation":11,"user_id":18256231,"display_name":"hadsag"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645560557,"creation_date":1645491925,"question_id":71214764,"body_markdown":"**Intro**\r\n\r\nI created a class ChatView that extends JPanel. I added it as a parameter to my JScrollPane (to get the scrolling effect) and overrode the paintComponent method in hope of setting a background image:\r\n\r\n    new JScrollPane(new ChatView){\r\n                @Override\r\n                protected void paintComponent(Graphics g) {\r\n    \r\n                    super.paintComponent(g);\r\n                    ImageIcon background = new ImageIcon(&quot;files/background.png&quot;);\r\n                    Image image = background.getImage();\r\n                    image.getScaledInstance(980, 600, java.awt.Image.SCALE_SMOOTH);\r\n                    if (image != null)\r\n                    {\r\n                        g.drawImage(image,0,0,this.getWidth(),this.getHeight(),null);\r\n                    }\r\n    \r\n                }\r\n            }\r\n\r\n**problem**\r\n\r\nThis doesn&#39;t seem to do anything; however, the same method works on my class ChatView, which extends JPanel. the problem with adding it to my JPanel is that it stretches every time I add a new component that extends outside of the setPrefferredSize() of my JScrollPane; If I do not revalidate() and repaint() my JPanel, it cuts off or doesn&#39;t add the components. That&#39;s why I think it is necessary to add it to the JScrollPane, but how? or am i on the wrong track?\r\n\r\n\r\n**Code: attributes of my JScrollPane**\r\n\r\n    public void addScroll(JScrollPane pnl, String str, int w, int h){\r\n            pnl.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);\r\n            pnl.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_AS_NEEDED);\r\n            pnl.setSize(new Dimension(w, h));\r\n            pnl.setMinimumSize(new Dimension(w, h));\r\n            pnl.setPreferredSize(new Dimension(w, h));\r\n            pnl.getVerticalScrollBar().setUnitIncrement(16);\r\n            pnl.setBorder(BorderFactory.createLineBorder(black));\r\n            this.add(pnl, str);\r\n        }\r\n\r\n\r\n\r\n\r\n","title":"setting background image for JScrollPane","body":"<p><strong>Intro</strong></p>\n<p>I created a class ChatView that extends JPanel. I added it as a parameter to my JScrollPane (to get the scrolling effect) and overrode the paintComponent method in hope of setting a background image:</p>\n<pre><code>new JScrollPane(new ChatView){\n            @Override\n            protected void paintComponent(Graphics g) {\n\n                super.paintComponent(g);\n                ImageIcon background = new ImageIcon(&quot;files/background.png&quot;);\n                Image image = background.getImage();\n                image.getScaledInstance(980, 600, java.awt.Image.SCALE_SMOOTH);\n                if (image != null)\n                {\n                    g.drawImage(image,0,0,this.getWidth(),this.getHeight(),null);\n                }\n\n            }\n        }\n</code></pre>\n<p><strong>problem</strong></p>\n<p>This doesn't seem to do anything; however, the same method works on my class ChatView, which extends JPanel. the problem with adding it to my JPanel is that it stretches every time I add a new component that extends outside of the setPrefferredSize() of my JScrollPane; If I do not revalidate() and repaint() my JPanel, it cuts off or doesn't add the components. That's why I think it is necessary to add it to the JScrollPane, but how? or am i on the wrong track?</p>\n<p><strong>Code: attributes of my JScrollPane</strong></p>\n<pre><code>public void addScroll(JScrollPane pnl, String str, int w, int h){\n        pnl.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);\n        pnl.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_AS_NEEDED);\n        pnl.setSize(new Dimension(w, h));\n        pnl.setMinimumSize(new Dimension(w, h));\n        pnl.setPreferredSize(new Dimension(w, h));\n        pnl.getVerticalScrollBar().setUnitIncrement(16);\n        pnl.setBorder(BorderFactory.createLineBorder(black));\n        this.add(pnl, str);\n    }\n</code></pre>\n"},{"tags":["java","regex","kotlin"],"comments":[{"owner":{"account_id":14403474,"reputation":3855,"user_id":10404329,"display_name":"Corion"},"score":0,"creation_date":1539182153,"post_id":52742605,"comment_id":92410037,"body_markdown":"Why not just `(.)\\d{3}` to match bad words and then use program logic to reject that? Otherwise, `^(?!.*([A-Za-z0-9\\,])\\1{3})` should work well enough. The anchoring might throw off your matches.","body":"Why not just <code>(.)\\d{3}</code> to match bad words and then use program logic to reject that? Otherwise, <code>^(?!.*([A-Za-z0-9\\,])\\1{3})</code> should work well enough. The anchoring might throw off your matches."}],"answers":[{"tags":[],"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1539182559,"creation_date":1539182251,"answer_id":52742737,"question_id":52742605,"body_markdown":"I think there&#39;s a much simpler solution if you&#39;re looking for *any* character repeated more than 3 times:\r\n\r\n    String[] inputs = {\r\n        &quot;hello how are you...&quot;, // -&gt; VALID\r\n        &quot;hello how are you.............&quot;, // -&gt; INVALID\r\n        &quot;hiii&quot;, // -&gt; VALID\r\n        &quot;hiiiiii&quot; // -&gt; INVALID\r\n    };\r\n    //                            | group 1 - any character\r\n    //                            | | back-reference\r\n    //                            | |   | 4+ quantifier including previous instance\r\n    //                            | |   |     | dot represents any character, \r\n    //                            | |   |     | including whitespace and line feeds\r\n    //                            | |   |     | \r\n    Pattern p = Pattern.compile(&quot;(.)\\\\1{3,}&quot;, Pattern.DOTALL);\r\n    // iterating test inputs\r\n    for (String s: inputs) {\r\n        // matching\r\n        Matcher m = p.matcher(s);\r\n        // 4+ repeated character found\r\n        if (m.find()) {\r\n            System.out.printf(\r\n                &quot;Input &#39;%s&#39; not valid, character &#39;%s&#39; repeated more than 3 times%n&quot;, \r\n                s, \r\n                m.group(1)\r\n            );\r\n        }\r\n    }\r\n\r\n**Output**\r\n\r\n    Input &#39;hello how are you............. not valid&#39;, character &#39;.&#39; repeated more than 3 times\r\n    Input &#39;hiiiiii&#39; not valid, character &#39;i&#39; repeated more than 3 times\r\n    Input &#39;hello    how are you&#39; not valid, character &#39; &#39; repeated more than 3 times","title":"Regex to detect if character is repeated more than three times","body":"<p>I think there's a much simpler solution if you're looking for <em>any</em> character repeated more than 3 times:</p>\n\n<pre><code>String[] inputs = {\n    \"hello how are you...\", // -&gt; VALID\n    \"hello how are you.............\", // -&gt; INVALID\n    \"hiii\", // -&gt; VALID\n    \"hiiiiii\" // -&gt; INVALID\n};\n//                            | group 1 - any character\n//                            | | back-reference\n//                            | |   | 4+ quantifier including previous instance\n//                            | |   |     | dot represents any character, \n//                            | |   |     | including whitespace and line feeds\n//                            | |   |     | \nPattern p = Pattern.compile(\"(.)\\\\1{3,}\", Pattern.DOTALL);\n// iterating test inputs\nfor (String s: inputs) {\n    // matching\n    Matcher m = p.matcher(s);\n    // 4+ repeated character found\n    if (m.find()) {\n        System.out.printf(\n            \"Input '%s' not valid, character '%s' repeated more than 3 times%n\", \n            s, \n            m.group(1)\n        );\n    }\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>Input 'hello how are you............. not valid', character '.' repeated more than 3 times\nInput 'hiiiiii' not valid, character 'i' repeated more than 3 times\nInput 'hello    how are you' not valid, character ' ' repeated more than 3 times\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645560512,"creation_date":1645560203,"answer_id":71227632,"question_id":52742605,"body_markdown":"To disallow four or more consecutive chars in the string, you need\r\n```none\r\n^(?!.*(.)\\1{3,}).*\r\n```\r\nSee the [regex demo][1]. If you do not allow an empty string, replace last `.*` with `.+`. *Details*:\r\n\r\n - `^` - start of string\r\n - `(?!.*(.)\\1{3,})` - a negative lookahead that fails the match if there are zero or more chars other than line break chars as many as possible, and then a char captured into Group 1 that is followed with three occurrences of the same char\r\n - `.*` - any zero or more chars other than line break chars as many as possible (not necessary if you use a method that does not require a full string match, like `[Matcher#find][2]` or [`regex.ContainsMatchIn`][2]).\r\n\r\nHere is a [Kotlin demo][3] (for a change):\r\n```kotlin\r\nimport java.util.*\r\n \r\nfun main(args: Array&lt;String&gt;) {\r\n    val texts = arrayOf&lt;String&gt;(&quot;hello how are you...&quot;,&quot;hiii&quot;, &quot;hello how are you.............&quot;,&quot;hiiiiii&quot;)\r\n    val re = &quot;&quot;&quot;^(?!.*(.)\\1{3,}).*&quot;&quot;&quot;.toRegex()\r\n\tfor(text in texts) {    \r\n\t  val isValid = re.containsMatchIn(text)\r\n\t  println(&quot;${text}: ${isValid}&quot;)    \r\n\t}\r\n}\r\n```\r\nOutput:\r\n```none\r\nhello how are you...: true\r\nhiii: true\r\nhello how are you.............: false\r\nhiiiiii: false\r\n```\r\n**NOTE**:\r\n\r\n**If you do not want to limit to consecutive repeatitions modify the pattern above as follows**:\r\n```none\r\n^(?!.*(.)(?:.*?\\1){3,}).*\r\n```\r\nSee [this regex demo][4]. The `(?:.*?\\1){3,}` regex matches three or more occurrences of any zero or more chars other than line break chars as few as possible and then the Group 1 value.\r\n\r\n**To match across line breaks,** replace `.` with `[\\s\\S]` or add `(?s)` at the start of the pattern.\r\n\r\nTo limit the repetitions to letters, replace `(.)` with ``([a-zA-Z])`` or `(\\p{L})`, and if you need to only check repeated digits, replace ``(.)`` with ``(\\d)`` or `([0-9])`.\r\n\r\n  [1]: https://regex101.com/r/28xwTG/1\r\n  [2]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-regex/contains-match-in.html\r\n  [3]: https://ideone.com/muAxE9\r\n  [4]: https://regex101.com/r/28xwTG/2","title":"Regex to detect if character is repeated more than three times","body":"<p>To disallow four or more consecutive chars in the string, you need</p>\n<pre class=\"lang-none prettyprint-override\"><code>^(?!.*(.)\\1{3,}).*\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/28xwTG/1\" rel=\"nofollow noreferrer\">regex demo</a>. If you do not allow an empty string, replace last <code>.*</code> with <code>.+</code>. <em>Details</em>:</p>\n<ul>\n<li><code>^</code> - start of string</li>\n<li><code>(?!.*(.)\\1{3,})</code> - a negative lookahead that fails the match if there are zero or more chars other than line break chars as many as possible, and then a char captured into Group 1 that is followed with three occurrences of the same char</li>\n<li><code>.*</code> - any zero or more chars other than line break chars as many as possible (not necessary if you use a method that does not require a full string match, like <code>[Matcher#find][2]</code> or <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-regex/contains-match-in.html\" rel=\"nofollow noreferrer\"><code>regex.ContainsMatchIn</code></a>).</li>\n</ul>\n<p>Here is a <a href=\"https://ideone.com/muAxE9\" rel=\"nofollow noreferrer\">Kotlin demo</a> (for a change):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import java.util.*\n \nfun main(args: Array&lt;String&gt;) {\n    val texts = arrayOf&lt;String&gt;(&quot;hello how are you...&quot;,&quot;hiii&quot;, &quot;hello how are you.............&quot;,&quot;hiiiiii&quot;)\n    val re = &quot;&quot;&quot;^(?!.*(.)\\1{3,}).*&quot;&quot;&quot;.toRegex()\n    for(text in texts) {    \n      val isValid = re.containsMatchIn(text)\n      println(&quot;${text}: ${isValid}&quot;)    \n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>hello how are you...: true\nhiii: true\nhello how are you.............: false\nhiiiiii: false\n</code></pre>\n<p><strong>NOTE</strong>:</p>\n<p><strong>If you do not want to limit to consecutive repeatitions modify the pattern above as follows</strong>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>^(?!.*(.)(?:.*?\\1){3,}).*\n</code></pre>\n<p>See <a href=\"https://regex101.com/r/28xwTG/2\" rel=\"nofollow noreferrer\">this regex demo</a>. The <code>(?:.*?\\1){3,}</code> regex matches three or more occurrences of any zero or more chars other than line break chars as few as possible and then the Group 1 value.</p>\n<p><strong>To match across line breaks,</strong> replace <code>.</code> with <code>[\\s\\S]</code> or add <code>(?s)</code> at the start of the pattern.</p>\n<p>To limit the repetitions to letters, replace <code>(.)</code> with <code>([a-zA-Z])</code> or <code>(\\p{L})</code>, and if you need to only check repeated digits, replace <code>(.)</code> with <code>(\\d)</code> or <code>([0-9])</code>.</p>\n"}],"owner":{"account_id":2467072,"reputation":309,"user_id":2149915,"display_name":"davy307"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2404,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":52742737,"answer_count":2,"score":5,"last_activity_date":1645560512,"creation_date":1539181850,"question_id":52742605,"body_markdown":"I&#39;ve tried to follow the solution described here: https://stackoverflow.com/a/17973873/2149915\r\nto try and match a string with the following requirements:\r\n- More than 3 characters repeated sequentially in the string should be matched and returned.\r\n\r\nExamples:\r\n\r\n- hello how are you... -&gt; VALID\r\n- hello how are you............. -&gt; INVALID\r\n- hiii -&gt; VALID\r\n- hiiiiii -&gt; INVALID\r\n\r\nand so on and so forth, the idea is to detect text that is nonsensical.\r\n\r\nSo far my solution was to modify the regex in the link as such.\r\n\r\nORIGINAL: `^(?!.*([A-Za-z0-9])\\1{2})(?=.*[a-z])(?=.*\\d)[A-Za-z0-9]+$`\r\n\r\nADAPTED: `^(?!.*([A-Za-z0-9\\.\\,\\/\\|\\\\])\\1{3})$`\r\n\r\nEssentially i removed the requirement for capture groups of numbers and alphanumerics seen here: `(?=.*[a-z])(?=.*\\d)[A-Za-z0-9]+` and tried to add extra detection of characters such as `./,\\` etc but it doesnt seem to match at all with any characters...\r\n\r\nAny ideas on how i can achieve this?\r\n\r\nthanks in advance :) \r\n\r\nEDIT:\r\ni found this regex: `^.*(\\S)(?: ?\\1){9,}.*$` on this question https://stackoverflow.com/a/44659071/2149915 and have adapted it to match only for 3 characters like such `^.*(\\S)(?: ?\\1){3}.*$`. \r\n\r\nNow it detects things like:\r\n\r\n- aaaa -&gt; INVALID\r\n- hello....... -&gt; INVALID\r\n- /////.... -&gt; INVALID\r\n\r\nhowever it does not take into account whitespace such as this:\r\n\r\n- `.    .    .     .      .`\r\n\r\nis there a modification that can be done to achieve this?","title":"Regex to detect if character is repeated more than three times","body":"<p>I've tried to follow the solution described here: <a href=\"https://stackoverflow.com/a/17973873/2149915\">https://stackoverflow.com/a/17973873/2149915</a>\nto try and match a string with the following requirements:\n- More than 3 characters repeated sequentially in the string should be matched and returned.</p>\n\n<p>Examples:</p>\n\n<ul>\n<li>hello how are you... -> VALID</li>\n<li>hello how are you............. -> INVALID</li>\n<li>hiii -> VALID</li>\n<li>hiiiiii -> INVALID</li>\n</ul>\n\n<p>and so on and so forth, the idea is to detect text that is nonsensical.</p>\n\n<p>So far my solution was to modify the regex in the link as such.</p>\n\n<p>ORIGINAL: <code>^(?!.*([A-Za-z0-9])\\1{2})(?=.*[a-z])(?=.*\\d)[A-Za-z0-9]+$</code></p>\n\n<p>ADAPTED: <code>^(?!.*([A-Za-z0-9\\.\\,\\/\\|\\\\])\\1{3})$</code></p>\n\n<p>Essentially i removed the requirement for capture groups of numbers and alphanumerics seen here: <code>(?=.*[a-z])(?=.*\\d)[A-Za-z0-9]+</code> and tried to add extra detection of characters such as <code>./,\\</code> etc but it doesnt seem to match at all with any characters...</p>\n\n<p>Any ideas on how i can achieve this?</p>\n\n<p>thanks in advance :) </p>\n\n<p>EDIT:\ni found this regex: <code>^.*(\\S)(?: ?\\1){9,}.*$</code> on this question <a href=\"https://stackoverflow.com/a/44659071/2149915\">https://stackoverflow.com/a/44659071/2149915</a> and have adapted it to match only for 3 characters like such <code>^.*(\\S)(?: ?\\1){3}.*$</code>. </p>\n\n<p>Now it detects things like:</p>\n\n<ul>\n<li>aaaa -> INVALID</li>\n<li>hello....... -> INVALID</li>\n<li>/////.... -> INVALID</li>\n</ul>\n\n<p>however it does not take into account whitespace such as this:</p>\n\n<ul>\n<li><code>.    .    .     .      .</code></li>\n</ul>\n\n<p>is there a modification that can be done to achieve this?</p>\n"},{"tags":["java","selenium","selenium-webdriver","webdriverwait"],"answers":[{"tags":[],"owner":{"account_id":19861212,"reputation":59,"user_id":14549538,"display_name":"Elendil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604187337,"creation_date":1604187337,"answer_id":64627372,"question_id":64627014,"body_markdown":"Most of the issues that I have encountered when testing with Selenium on buttons arise from where the button object begins on the html page. The span element itself sometimes begins before the button does so you end up clicking the empty span space instead of the button, if thats the case you may want to use the DRIVER.MoveByOffset(xInt, yInt).Perform() methods to move your pointer into place.\r\nAs for your selector it may be preferal to use By.id(&quot;uniqueID&quot;) when you can, as only one unique id can be given so you know thats the object your grabbing for the test.","title":"How to click with Selenium Webdriver and Java","body":"<p>Most of the issues that I have encountered when testing with Selenium on buttons arise from where the button object begins on the html page. The span element itself sometimes begins before the button does so you end up clicking the empty span space instead of the button, if thats the case you may want to use the DRIVER.MoveByOffset(xInt, yInt).Perform() methods to move your pointer into place.\nAs for your selector it may be preferal to use By.id(&quot;uniqueID&quot;) when you can, as only one unique id can be given so you know thats the object your grabbing for the test.</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645560398,"creation_date":1645560398,"answer_id":71227668,"question_id":64627014,"body_markdown":"To invoke [_click()_](https://stackoverflow.com/a/70077251/7429447) thrice on the element you need to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the [_elementToBeClickable()_](https://stackoverflow.com/a/63301869/7429447) and you can use the following [_locator strategies_](https://stackoverflow.com/a/48056120/7429447):\r\n\r\n\tnew WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;PATH_BOTON&quot;))).click();\r\n\tnew WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;PATH_BOTON&quot;))).click();\r\n\tnew WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;PATH_BOTON&quot;))).click();","title":"How to click with Selenium Webdriver and Java","body":"<p>To invoke <a href=\"https://stackoverflow.com/a/70077251/7429447\"><em>click()</em></a> thrice on the element you need to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/a/63301869/7429447\"><em>elementToBeClickable()</em></a> and you can use the following <a href=\"https://stackoverflow.com/a/48056120/7429447\"><em>locator strategies</em></a>:</p>\n<pre><code>new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;PATH_BOTON&quot;))).click();\nnew WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;PATH_BOTON&quot;))).click();\nnew WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;PATH_BOTON&quot;))).click();\n</code></pre>\n"}],"owner":{"account_id":19869707,"reputation":13,"user_id":14556169,"display_name":"g123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1645560398,"creation_date":1604183534,"question_id":64627014,"body_markdown":"I am doing automated tasks.\r\n\r\nTo finish my task, I want to execute 3 automatic clicks in the same pop-up. The last one fails many times. Sometimes it is not able to click or does it outside the button.\r\n\r\n\r\n\r\nI have also tried thread.sleep and the problem continues.\r\n\r\nMy code:\r\n\r\n\tWebElement boton = driver.findElement(By.xpath(PATH_BOTON));\r\n\tWebDriverWait wait3 = new WebDriverWait(driver, 2);\r\n\twait3.until(ExpectedConditions.elementToBeClickable(boton)).click();\r\n\r\n\r\nCSS selector or Javascript executor are better options?","title":"How to click with Selenium Webdriver and Java","body":"<p>I am doing automated tasks.</p>\n<p>To finish my task, I want to execute 3 automatic clicks in the same pop-up. The last one fails many times. Sometimes it is not able to click or does it outside the button.</p>\n<p>I have also tried thread.sleep and the problem continues.</p>\n<p>My code:</p>\n<pre><code>WebElement boton = driver.findElement(By.xpath(PATH_BOTON));\nWebDriverWait wait3 = new WebDriverWait(driver, 2);\nwait3.until(ExpectedConditions.elementToBeClickable(boton)).click();\n</code></pre>\n<p>CSS selector or Javascript executor are better options?</p>\n"},{"tags":["java","android","android-auto"],"comments":[{"owner":{"account_id":336119,"reputation":17010,"user_id":663604,"accept_rate":89,"display_name":"Oliver Spryn"},"score":0,"creation_date":1645560763,"post_id":71227583,"comment_id":125903036,"body_markdown":"What kind of app are you building? Media, messaging, parking, etc...? This is not possible in most Android Auto apps, but it could depend on the app type.","body":"What kind of app are you building? Media, messaging, parking, etc...? This is not possible in most Android Auto apps, but it could depend on the app type."},{"owner":{"account_id":20605709,"reputation":97,"user_id":15126019,"display_name":"S. Ber Rosenberg"},"score":0,"creation_date":1645647271,"post_id":71227583,"comment_id":125931173,"body_markdown":"messaging! \nbut I can change","body":"messaging!  but I can change"},{"owner":{"account_id":336119,"reputation":17010,"user_id":663604,"accept_rate":89,"display_name":"Oliver Spryn"},"score":0,"creation_date":1645659728,"post_id":71227583,"comment_id":125934686,"body_markdown":"This page has everything you need to know about messaging in Android Auto: https://developer.android.com/training/cars/messaging The short of it is that you don&#39;t create a UI for messaging or media app types. They build the UI and you use a service to provide your information to it. Typing on a keyboard is fundamentally dangerous while driving, so your users must interact with voice. Look at the Message Flow section for specifics: https://developer.android.com/training/cars/messaging#workflow","body":"This page has everything you need to know about messaging in Android Auto: <a href=\"https://developer.android.com/training/cars/messaging\" rel=\"nofollow noreferrer\">developer.android.com/training/cars/messaging</a> The short of it is that you don&#39;t create a UI for messaging or media app types. They build the UI and you use a service to provide your information to it. Typing on a keyboard is fundamentally dangerous while driving, so your users must interact with voice. Look at the Message Flow section for specifics: <a href=\"https://developer.android.com/training/cars/messaging#workflow\" rel=\"nofollow noreferrer\">developer.android.com/training/cars/messaging#workflow</a>"}],"owner":{"account_id":20605709,"reputation":97,"user_id":15126019,"display_name":"S. Ber Rosenberg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645559963,"creation_date":1645559963,"question_id":71227583,"body_markdown":"I try to make a form in android auto what the user can input text in a field but the android auto soft keyboard not pop up when focus  ","title":"how to make a EditText field in own android-auto APP","body":"<p>I try to make a form in android auto what the user can input text in a field but the android auto soft keyboard not pop up when focus</p>\n"},{"tags":["java","android","flutter","dart"],"comments":[{"owner":{"account_id":454513,"reputation":663,"user_id":852146,"accept_rate":50,"display_name":"dramaticlook"},"score":0,"creation_date":1643395951,"post_id":70816320,"comment_id":125337594,"body_markdown":"I am having the same issue, did you come up with a solution yet?","body":"I am having the same issue, did you come up with a solution yet?"},{"owner":{"account_id":3972220,"reputation":1346,"user_id":3276511,"accept_rate":92,"display_name":"Muhammad Noman"},"score":0,"creation_date":1643570206,"post_id":70816320,"comment_id":125369935,"body_markdown":"Same here. Any luck?","body":"Same here. Any luck?"},{"owner":{"account_id":4640815,"reputation":601,"user_id":3760740,"accept_rate":11,"display_name":"phourxx"},"score":0,"creation_date":1650334202,"post_id":70816320,"comment_id":127084759,"body_markdown":"Any luck here, please? I am facing the same issue","body":"Any luck here, please? I am facing the same issue"}],"answers":[{"tags":[],"owner":{"account_id":10162526,"reputation":37,"user_id":8428614,"display_name":"YOUMSI MOUMBE ROMUALD JUNIOR"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1645559686,"creation_date":1645536673,"answer_id":71222243,"question_id":70816320,"body_markdown":"Run\r\n``` \r\nflutter doctor -v\r\n```\r\nAnd check about failed log. For me, I installed a beta version of Android studio and my flutter doctor looked like\r\n[Screenshort of my flutter doctor][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UOIX4.png","title":"An exception has occurred in the compiler (1.8.0_242-release). Please file a bug against the Java compiler - Flutter","body":"<p>Run</p>\n<pre><code>flutter doctor -v\n</code></pre>\n<p>And check about failed log. For me, I installed a beta version of Android studio and my flutter doctor looked like\n<a href=\"https://i.stack.imgur.com/UOIX4.png\" rel=\"nofollow noreferrer\">Screenshort of my flutter doctor</a></p>\n"}],"owner":{"account_id":9841030,"reputation":1812,"user_id":7290043,"display_name":"Faizan Kamal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6766,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1645559686,"creation_date":1642879267,"question_id":70816320,"body_markdown":"I build a flutter project about a year ago. I have updated the flutter version since then. I reopened it today but got the following error. Using [FVM][1], I tried to run a project to the previous version that I think on which that project is built. \r\nI found a [similar question][2] but its verified answer of adding following in build.gradle is not working for me\r\n```\r\ncompileOptions {\r\n    sourceCompatibility = 1.7\r\n    targetCompatibility = 1.7\r\n}\r\n```\r\nThis how my `buid.gradle` looks like \r\n```\r\nandroid {\r\n...\r\n    compileSdkVersion 29\r\n    // compileOptions {\r\n    //   sourceCompatibility = 1.7\r\n    //   targetCompatibility = 1.7\r\n    // }\r\n    ....\r\n  \r\n    defaultConfig {\r\n        applicationId xxxxxx\r\n        minSdkVersion 21\r\n        targetSdkVersion 28\r\n        versionCode flutterVersionCode.toInteger()\r\n        versionName flutterVersionName\r\n    }\r\n    ....\r\n}\r\n```\r\n\r\n**Error**\r\n    \r\n```\r\nLaunching lib\\main.dart on SM N970F in debug mode...\r\n    Parameter format not correct -\r\n    An exception has occurred in the compiler (1.8.0_242-release). Please file a bug against the Java compiler via the Java bug reporting page (http://bugreport.java.com) after checking the Bug Database (http://bugs.java.com) for duplicates. Include your program and the following diagnostic in your report. Thank you.\r\n    java.lang.AssertionError: annotationType(): unrecognized Attribute name MODULE (class com.sun.tools.javac.util.UnsharedNameTable$NameImpl)\r\n    \tat com.sun.tools.javac.util.Assert.error(Assert.java:133)\r\n    \tat com.sun.tools.javac.code.TypeAnnotations.annotationType(TypeAnnotations.java:231)\r\n    \tat com.sun.tools.javac.code.TypeAnnotations$TypeAnnotationPositions.separateAnnotationsKinds(TypeAnnotations.java:294)\r\n    \tat com.sun.tools.javac.code.TypeAnnotations$TypeAnnotationPositions.visitVarDef(TypeAnnotations.java:1164)\r\n    \tat com.sun.tools.javac.tree.JCTree$JCVariableDecl.accept(JCTree.java:852)\r\n    \tat com.sun.tools.javac.tree.TreeScanner.scan(TreeScanner.java:49)\r\n    \tat com.sun.tools.javac.code.TypeAnnotations$TypeAnnotationPositions.scan(TypeAnnotations.java:275)\r\n    \tat com.sun.tools.javac.tree.TreeScanner.scan(TreeScanner.java:57)\r\n    \tat com.sun.tools.javac.code.TypeAnnotations$TypeAnnotationPositions.visitClassDef(TypeAnnotations.java:1042)\r\n    \tat com.sun.tools.javac.tree.JCTree$JCClassDecl.accept(JCTree.java:693)\r\n    \tat com.sun.tools.javac.tree.TreeScanner.scan(TreeScanner.java:49)\r\n    \tat com.sun.tools.javac.code.TypeAnnotations$TypeAnnotationPositions.scan(TypeAnnotations.java:275)\r\n    \tat com.sun.tools.javac.code.TypeAnnotations$1.run(TypeAnnotations.java:127)\r\n    \tat com.sun.tools.javac.comp.Annotate.flush(Annotate.java:152)\r\n    \tat com.sun.tools.javac.comp.Annotate.enterDone(Annotate.java:129)\r\n    \tat com.sun.tools.javac.comp.Enter.complete(Enter.java:512)\r\n    \tat com.sun.tools.javac.comp.Enter.main(Enter.java:471)\r\n    \tat com.sun.tools.javac.main.JavaCompiler.enterTrees(JavaCompiler.java:982)\r\n    \tat com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:857)\r\n    \tat com.sun.tools.javac.main.Main.compile(Main.java:523)\r\n    \tat com.sun.tools.javac.api.JavacTaskImpl.doCall(JavacTaskImpl.java:129)\r\n    \r\n        \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n        \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n        \tat java.lang.Thread.run(Thread.java:748)\r\n        \r\n        FAILURE: Build failed with an exception.\r\n        \r\n        * What went wrong:\r\n        Execution failed for task &#39;:firebase_core:compileDebugJavaWithJavac&#39;.\r\n        &gt; Compilation failed; see the compiler error output for details.\r\n        \r\n        * Try:\r\n        Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n        \r\n        * Get more help at https://help.gradle.org\r\n        \r\n        BUILD FAILED in 26s\r\n        Exception: Gradle task assembleDebug failed with exit code 1\r\n        Exited (sigterm)\r\n```\r\n\r\n\r\n  [1]: https://fvm.app/\r\n  [2]: https://stackoverflow.com/questions/48162522/android-studio-an-exception-has-occurred-in-the-compiler-1-8-0-152-release#","title":"An exception has occurred in the compiler (1.8.0_242-release). Please file a bug against the Java compiler - Flutter","body":"<p>I build a flutter project about a year ago. I have updated the flutter version since then. I reopened it today but got the following error. Using <a href=\"https://fvm.app/\" rel=\"nofollow noreferrer\">FVM</a>, I tried to run a project to the previous version that I think on which that project is built.\nI found a <a href=\"https://stackoverflow.com/questions/48162522/android-studio-an-exception-has-occurred-in-the-compiler-1-8-0-152-release#\">similar question</a> but its verified answer of adding following in build.gradle is not working for me</p>\n<pre><code>compileOptions {\n    sourceCompatibility = 1.7\n    targetCompatibility = 1.7\n}\n</code></pre>\n<p>This how my <code>buid.gradle</code> looks like</p>\n<pre><code>android {\n...\n    compileSdkVersion 29\n    // compileOptions {\n    //   sourceCompatibility = 1.7\n    //   targetCompatibility = 1.7\n    // }\n    ....\n  \n    defaultConfig {\n        applicationId xxxxxx\n        minSdkVersion 21\n        targetSdkVersion 28\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n    }\n    ....\n}\n</code></pre>\n<p><strong>Error</strong></p>\n<pre><code>Launching lib\\main.dart on SM N970F in debug mode...\n    Parameter format not correct -\n    An exception has occurred in the compiler (1.8.0_242-release). Please file a bug against the Java compiler via the Java bug reporting page (http://bugreport.java.com) after checking the Bug Database (http://bugs.java.com) for duplicates. Include your program and the following diagnostic in your report. Thank you.\n    java.lang.AssertionError: annotationType(): unrecognized Attribute name MODULE (class com.sun.tools.javac.util.UnsharedNameTable$NameImpl)\n        at com.sun.tools.javac.util.Assert.error(Assert.java:133)\n        at com.sun.tools.javac.code.TypeAnnotations.annotationType(TypeAnnotations.java:231)\n        at com.sun.tools.javac.code.TypeAnnotations$TypeAnnotationPositions.separateAnnotationsKinds(TypeAnnotations.java:294)\n        at com.sun.tools.javac.code.TypeAnnotations$TypeAnnotationPositions.visitVarDef(TypeAnnotations.java:1164)\n        at com.sun.tools.javac.tree.JCTree$JCVariableDecl.accept(JCTree.java:852)\n        at com.sun.tools.javac.tree.TreeScanner.scan(TreeScanner.java:49)\n        at com.sun.tools.javac.code.TypeAnnotations$TypeAnnotationPositions.scan(TypeAnnotations.java:275)\n        at com.sun.tools.javac.tree.TreeScanner.scan(TreeScanner.java:57)\n        at com.sun.tools.javac.code.TypeAnnotations$TypeAnnotationPositions.visitClassDef(TypeAnnotations.java:1042)\n        at com.sun.tools.javac.tree.JCTree$JCClassDecl.accept(JCTree.java:693)\n        at com.sun.tools.javac.tree.TreeScanner.scan(TreeScanner.java:49)\n        at com.sun.tools.javac.code.TypeAnnotations$TypeAnnotationPositions.scan(TypeAnnotations.java:275)\n        at com.sun.tools.javac.code.TypeAnnotations$1.run(TypeAnnotations.java:127)\n        at com.sun.tools.javac.comp.Annotate.flush(Annotate.java:152)\n        at com.sun.tools.javac.comp.Annotate.enterDone(Annotate.java:129)\n        at com.sun.tools.javac.comp.Enter.complete(Enter.java:512)\n        at com.sun.tools.javac.comp.Enter.main(Enter.java:471)\n        at com.sun.tools.javac.main.JavaCompiler.enterTrees(JavaCompiler.java:982)\n        at com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:857)\n        at com.sun.tools.javac.main.Main.compile(Main.java:523)\n        at com.sun.tools.javac.api.JavacTaskImpl.doCall(JavacTaskImpl.java:129)\n    \n            at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n            at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n            at java.lang.Thread.run(Thread.java:748)\n        \n        FAILURE: Build failed with an exception.\n        \n        * What went wrong:\n        Execution failed for task ':firebase_core:compileDebugJavaWithJavac'.\n        &gt; Compilation failed; see the compiler error output for details.\n        \n        * Try:\n        Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n        \n        * Get more help at https://help.gradle.org\n        \n        BUILD FAILED in 26s\n        Exception: Gradle task assembleDebug failed with exit code 1\n        Exited (sigterm)\n</code></pre>\n"},{"tags":["java","android","dagger-2","android-automotive"],"owner":{"account_id":1790647,"reputation":1230,"user_id":1631150,"accept_rate":22,"display_name":"tellob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":501,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1645559635,"creation_date":1645559635,"question_id":71227521,"body_markdown":"Android 12 provides for example a specific implementation for the &quot;Toast&quot; for the car device. The source code of this can be found here: [CarToastUI](https://android.googlesource.com/platform/packages/apps/Car/SystemUI/+/refs/heads/android12-release/src/com/android/systemui/car/toast/CarToastUI.java). This class extends `ToastUI`, which can be found here: [ToastUI](https://android.googlesource.com/platform/frameworks/base/+/refs/heads/android12-release/packages/SystemUI/src/com/android/systemui/toast/ToastUI.java).\r\n\r\nWhen a &quot;car device&quot; is built from the AOSP, the `CarToastUI` class is used instead of the `ToastUI` class.\r\n\r\n**How does this replacement mechanism work?**\r\n\r\nWhat I found out so far:\r\n* the System UI uses Dagger 2 for dependency injection\r\n* there is some documentation for this here: [dagger.md](https://cs.android.com/android/platform/superproject/+/master:frameworks/base/packages/SystemUI/docs/dagger.md)\r\n* there exists a [CarGlobalRootComponent](https://cs.android.com/android/platform/superproject/+/master:packages/apps/Car/SystemUI/src/com/android/systemui/CarGlobalRootComponent.java;bpv=0;bpt=1), which extends `GlobalRootComponent` and overrides methods\r\n* similarly the [CarSystemUIFactory](https://cs.android.com/android/platform/superproject/+/master:packages/apps/Car/SystemUI/src/com/android/systemui/CarSystemUIFactory.java;bpv=0;bpt=1) overrides methods of `SystemUIFactory`\r\n* there is a [configuration](https://cs.android.com/android/platform/superproject/+/master:packages/apps/Car/SystemUI/res/values/config.xml;l=125;bpv=0;bpt=0) where system UI components are excluded and car system ui components are included\r\n* from the CarSystemUI blueprint file I can see, that SystemUI gets overwritten: [Android.bp](https://android.googlesource.com/platform/packages/apps/Car/SystemUI/+/refs/heads/android12-release/Android.bp#146)","title":"How get SystemUI components replaced by CarSystemUI components in Android 12","body":"<p>Android 12 provides for example a specific implementation for the &quot;Toast&quot; for the car device. The source code of this can be found here: <a href=\"https://android.googlesource.com/platform/packages/apps/Car/SystemUI/+/refs/heads/android12-release/src/com/android/systemui/car/toast/CarToastUI.java\" rel=\"nofollow noreferrer\">CarToastUI</a>. This class extends <code>ToastUI</code>, which can be found here: <a href=\"https://android.googlesource.com/platform/frameworks/base/+/refs/heads/android12-release/packages/SystemUI/src/com/android/systemui/toast/ToastUI.java\" rel=\"nofollow noreferrer\">ToastUI</a>.</p>\n<p>When a &quot;car device&quot; is built from the AOSP, the <code>CarToastUI</code> class is used instead of the <code>ToastUI</code> class.</p>\n<p><strong>How does this replacement mechanism work?</strong></p>\n<p>What I found out so far:</p>\n<ul>\n<li>the System UI uses Dagger 2 for dependency injection</li>\n<li>there is some documentation for this here: <a href=\"https://cs.android.com/android/platform/superproject/+/master:frameworks/base/packages/SystemUI/docs/dagger.md\" rel=\"nofollow noreferrer\">dagger.md</a></li>\n<li>there exists a <a href=\"https://cs.android.com/android/platform/superproject/+/master:packages/apps/Car/SystemUI/src/com/android/systemui/CarGlobalRootComponent.java;bpv=0;bpt=1\" rel=\"nofollow noreferrer\">CarGlobalRootComponent</a>, which extends <code>GlobalRootComponent</code> and overrides methods</li>\n<li>similarly the <a href=\"https://cs.android.com/android/platform/superproject/+/master:packages/apps/Car/SystemUI/src/com/android/systemui/CarSystemUIFactory.java;bpv=0;bpt=1\" rel=\"nofollow noreferrer\">CarSystemUIFactory</a> overrides methods of <code>SystemUIFactory</code></li>\n<li>there is a <a href=\"https://cs.android.com/android/platform/superproject/+/master:packages/apps/Car/SystemUI/res/values/config.xml;l=125;bpv=0;bpt=0\" rel=\"nofollow noreferrer\">configuration</a> where system UI components are excluded and car system ui components are included</li>\n<li>from the CarSystemUI blueprint file I can see, that SystemUI gets overwritten: <a href=\"https://android.googlesource.com/platform/packages/apps/Car/SystemUI/+/refs/heads/android12-release/Android.bp#146\" rel=\"nofollow noreferrer\">Android.bp</a></li>\n</ul>\n"},{"tags":["java","loops","optimization"],"comments":[{"owner":{"account_id":2802711,"reputation":1786,"user_id":2410641,"accept_rate":95,"display_name":"ashu"},"score":2,"creation_date":1644729950,"post_id":71098081,"comment_id":125681357,"body_markdown":"You can open and close the output file once, i.e. outside the loop. Other than that it looks pretty fine. If your output file&#39;s format is the same as the input file, you can use a [byte-level copying](https://stackoverflow.com/questions/43157/easy-way-to-write-contents-of-a-java-inputstream-to-an-outputstream). The general principle for copying large data is always something along the lines: allocate a buffer memory, read a small chunk in the buffer memory, write the buffer to output, repeat step 2 using the same buffer until there&#39;s nothing more to read.","body":"You can open and close the output file once, i.e. outside the loop. Other than that it looks pretty fine. If your output file&#39;s format is the same as the input file, you can use a <a href=\"https://stackoverflow.com/questions/43157/easy-way-to-write-contents-of-a-java-inputstream-to-an-outputstream\">byte-level copying</a>. The general principle for copying large data is always something along the lines: allocate a buffer memory, read a small chunk in the buffer memory, write the buffer to output, repeat step 2 using the same buffer until there&#39;s nothing more to read."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1644732557,"post_id":71098081,"comment_id":125681630,"body_markdown":"Open both files outside the loop. For each line read, write it to the output file.  Close both files when done.","body":"Open both files outside the loop. For each line read, write it to the output file.  Close both files when done."}],"owner":{"account_id":23331297,"reputation":3,"user_id":17407649,"display_name":"Jonathon Duran Jr."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645559577,"creation_date":1644729002,"question_id":71098081,"body_markdown":"I am trying to write a program that takes content from one file and outputs it to another. I feel the code I wrote is really inefficient and can be improved with a loop somewhere, either when declaring variables or writing to the output file. Adding another loop is the only real concern I have. I know their are better ways to copy content from one file to another, but the way I chose works best for my understanding as being someone new to java.\r\n\r\n    \tpublic void readFile() { \r\n\t\t  //File being read\r\n\t\t  File file = new File(&quot;input.in&quot;);\r\n\t\t  try \r\n\t\t  { \r\n\t\t\t  Scanner scnr = new Scanner(file); \r\n\t\t  while(scnr.hasNext()) \r\n\t\t  { \r\n\t\t\t  //Initializing/Declaring variable for each word on file input.in\r\n\t\t\t  String contributions = scnr.next();\r\n\t\t\t  String max = scnr.next();\r\n\t\t\t  String min = scnr.next();\r\n\t\t\t  String average = scnr.next();\r\n\t\t\t  String total = scnr.next();\r\n\t\t\t  try { \r\n\t\t\t\t  //output on file results.out\r\n\t\t\t\t  File outputfile = new File(&quot;results.out&quot;); \r\n\t\t\t\t  BufferedWriter bw = new BufferedWriter(new FileWriter(outputfile));\r\n\t\t\t\t//write each line\r\n\t\t\t\t  bw.write(contributions);\r\n\t\t\t\t  bw.newLine();\r\n\t\t\t\t  bw.write(max);\r\n\t\t\t\t  bw.newLine();\r\n\t\t\t\t  bw.write(min);\r\n\t\t\t\t  bw.newLine();\r\n\t\t\t\t  bw.write(average);\r\n\t\t\t\t  bw.newLine();\r\n\t\t\t\t  bw.write(total);\r\n\t\t\t\t  bw.close();\t\t\t  \r\n\t\t\t  } \r\n\t\t\t  catch (IOException e) { // TODOAuto-generated \r\n\t\t\t\t  e.printStackTrace(); \r\n\t\t\t  } \r\n\t\t  }\r\n\t\t  } \r\n\t\t  catch (FileNotFoundException e) \r\n\t\t  { // TODO Auto-generated\r\n\t\t\t  e.printStackTrace(); \r\n\t\t  }\r\n\t\t  }","title":"Where to put any loop type in order to optimize my program that reads and writes content from one file to another?","body":"<p>I am trying to write a program that takes content from one file and outputs it to another. I feel the code I wrote is really inefficient and can be improved with a loop somewhere, either when declaring variables or writing to the output file. Adding another loop is the only real concern I have. I know their are better ways to copy content from one file to another, but the way I chose works best for my understanding as being someone new to java.</p>\n<pre><code>    public void readFile() { \n      //File being read\n      File file = new File(&quot;input.in&quot;);\n      try \n      { \n          Scanner scnr = new Scanner(file); \n      while(scnr.hasNext()) \n      { \n          //Initializing/Declaring variable for each word on file input.in\n          String contributions = scnr.next();\n          String max = scnr.next();\n          String min = scnr.next();\n          String average = scnr.next();\n          String total = scnr.next();\n          try { \n              //output on file results.out\n              File outputfile = new File(&quot;results.out&quot;); \n              BufferedWriter bw = new BufferedWriter(new FileWriter(outputfile));\n            //write each line\n              bw.write(contributions);\n              bw.newLine();\n              bw.write(max);\n              bw.newLine();\n              bw.write(min);\n              bw.newLine();\n              bw.write(average);\n              bw.newLine();\n              bw.write(total);\n              bw.close();             \n          } \n          catch (IOException e) { // TODOAuto-generated \n              e.printStackTrace(); \n          } \n      }\n      } \n      catch (FileNotFoundException e) \n      { // TODO Auto-generated\n          e.printStackTrace(); \n      }\n      }\n</code></pre>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":2,"creation_date":1645559645,"post_id":71227469,"comment_id":125902619,"body_markdown":"this will help https://stackoverflow.com/questions/52292845/create-custom-annotation-that-uses-jsonignore-based-on-value-in-environment-var","body":"this will help <a href=\"https://stackoverflow.com/questions/52292845/create-custom-annotation-that-uses-jsonignore-based-on-value-in-environment-var\" title=\"create custom annotation that uses jsonignore based on value in environment var\">stackoverflow.com/questions/52292845/&hellip;</a>"},{"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"score":0,"creation_date":1645713230,"post_id":71227469,"comment_id":125948772,"body_markdown":"Thanks, this pointed me to JacksonAnnotationIntrospector, which I didn&#39;t know about","body":"Thanks, this pointed me to JacksonAnnotationIntrospector, which I didn&#39;t know about"}],"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":731,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645559437,"creation_date":1645559437,"question_id":71227469,"body_markdown":"I need to write an annotation that will ignore certain fields, but only in certain contexts.  I would love to be able to just inject a context value into ObjectMapper, but I can&#39;t find anything.  I need the serializing to work exactly the same using the default ObjectMapper.  But in a certain context, my annotation would take special action (in my case, the equivalent of `@JsonIgnore`).\r\nI don&#39;t think filters would work for me, because it doesn&#39;t allow the default case to continue to work.  I also don&#39;t want to skip fields based on the property name.  I want any object to be able to be annotated with `@MyJsonIgnore`\r\n\r\nExample\r\n\r\n```\r\npublic class MyObject {\r\n  private String field1 = &quot;value1&quot;;\r\n  @MyJsonIgnore\r\n  private String field2 = &quot;value2&quot;;\r\n```\r\n\r\nNormally, this would get serialized like this\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\nmapper.writeValueAsString(new MyObject());\r\n{\r\n   &quot;field1&quot;: &quot;value1&quot;,\r\n   &quot;field2&quot;: &quot;value2&quot;\r\n}\r\n```\r\n\r\nBut in my special use case, I would have\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\nmapper.setMagicalContext(&quot;context&quot;);\r\nmapper.writeValueAsString(new MyObject());\r\n{\r\n   &quot;field1&quot;: &quot;value1&quot;\r\n}\r\n```\r\n\r\n`field2` would not get serialized since it has the `@MyJsonIgnore` annotation.\r\n\r\nIs there anything that would do this?","title":"How to write a conditional @JsonIgnore","body":"<p>I need to write an annotation that will ignore certain fields, but only in certain contexts.  I would love to be able to just inject a context value into ObjectMapper, but I can't find anything.  I need the serializing to work exactly the same using the default ObjectMapper.  But in a certain context, my annotation would take special action (in my case, the equivalent of <code>@JsonIgnore</code>).\nI don't think filters would work for me, because it doesn't allow the default case to continue to work.  I also don't want to skip fields based on the property name.  I want any object to be able to be annotated with <code>@MyJsonIgnore</code></p>\n<p>Example</p>\n<pre><code>public class MyObject {\n  private String field1 = &quot;value1&quot;;\n  @MyJsonIgnore\n  private String field2 = &quot;value2&quot;;\n</code></pre>\n<p>Normally, this would get serialized like this</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.writeValueAsString(new MyObject());\n{\n   &quot;field1&quot;: &quot;value1&quot;,\n   &quot;field2&quot;: &quot;value2&quot;\n}\n</code></pre>\n<p>But in my special use case, I would have</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.setMagicalContext(&quot;context&quot;);\nmapper.writeValueAsString(new MyObject());\n{\n   &quot;field1&quot;: &quot;value1&quot;\n}\n</code></pre>\n<p><code>field2</code> would not get serialized since it has the <code>@MyJsonIgnore</code> annotation.</p>\n<p>Is there anything that would do this?</p>\n"},{"tags":["java","multithreading","vector","synchronization","concurrentmodification"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":4,"creation_date":1510277172,"post_id":47214288,"comment_id":81378132,"body_markdown":"Synchronization doesn&#39;t protect an `Iterator`.","body":"Synchronization doesn&#39;t protect an <code>Iterator</code>."},{"owner":{"account_id":317159,"reputation":8327,"user_id":633684,"display_name":"xiaofeng.li"},"score":1,"creation_date":1510277179,"post_id":47214288,"comment_id":81378134,"body_markdown":"The vector is modified when you are trying to calculate sum","body":"The vector is modified when you are trying to calculate sum"},{"owner":{"account_id":5310584,"reputation":1464,"user_id":4237080,"accept_rate":75,"display_name":"brienna"},"score":0,"creation_date":1510277330,"post_id":47214288,"comment_id":81378175,"body_markdown":"So I need a synchronized block around that part?","body":"So I need a synchronized block around that part?"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1510277547,"post_id":47214288,"comment_id":81378233,"body_markdown":"No. Again synchronization won&#39;t help. Which line throws the exception?","body":"No. Again synchronization won&#39;t help. Which line throws the exception?"},{"owner":{"account_id":5310584,"reputation":1464,"user_id":4237080,"accept_rate":75,"display_name":"brienna"},"score":0,"creation_date":1510277881,"post_id":47214288,"comment_id":81378310,"body_markdown":"`for (int num : numbers) {` @HovercraftFullOfEels","body":"<code>for (int num : numbers) {</code> @HovercraftFullOfEels"}],"answers":[{"tags":[],"owner":{"account_id":317159,"reputation":8327,"user_id":633684,"display_name":"xiaofeng.li"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1510277799,"creation_date":1510277799,"answer_id":47214379,"question_id":47214288,"body_markdown":"Your code seems wrong. \r\n\r\nI don&#39;t see why you need a shared vector, if each thread is to calculate the sum of records from an individual file. On the other hand, if you want to calculate the sum of records from all files, you should do it after every thread has completed.\r\n\r\nDepending on which you want, you can either 1) create a vector for each thread and calculate the sum for each file or, 2) in the main thread, wait for all threads to complete then calculate the sum for all files.","title":"Vector throws ConcurrentModificationException despite being synchronized","body":"<p>Your code seems wrong. </p>\n\n<p>I don't see why you need a shared vector, if each thread is to calculate the sum of records from an individual file. On the other hand, if you want to calculate the sum of records from all files, you should do it after every thread has completed.</p>\n\n<p>Depending on which you want, you can either 1) create a vector for each thread and calculate the sum for each file or, 2) in the main thread, wait for all threads to complete then calculate the sum for all files.</p>\n"},{"tags":[],"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1510277825,"creation_date":1510277825,"answer_id":47214383,"question_id":47214288,"body_markdown":"From the [docs][1]:\r\n\r\n&gt; if the vector is structurally modified at any time after the iterator\r\n&gt; is created, in any way except through the iterator&#39;s own remove or add\r\n&gt; methods, the iterator will throw a ConcurrentModificationException.\r\n\r\n\r\nThe following code creates an iterator under the covers:        \r\n\r\n    for (int num : numbers) {\r\n        sum += num;\r\n    }\r\n\r\nSo when one threads modifies the vector (by adding elements) while another vector is iterating it - you&#39;ll see a `ConcurrentModificationException`\r\n\r\nThere are different options to solve it, one way could be to read from a file into another vector and when the reading is done assign this other vector to `numbers` (since assignment is an atomic operation). Keep in mind that in order for the change to be visible to other threads you&#39;ll need to declare `numbers` as `volatile`.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Vector.html","title":"Vector throws ConcurrentModificationException despite being synchronized","body":"<p>From the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Vector.html\" rel=\"nofollow noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p>if the vector is structurally modified at any time after the iterator\n  is created, in any way except through the iterator's own remove or add\n  methods, the iterator will throw a ConcurrentModificationException.</p>\n</blockquote>\n\n<p>The following code creates an iterator under the covers:        </p>\n\n<pre><code>for (int num : numbers) {\n    sum += num;\n}\n</code></pre>\n\n<p>So when one threads modifies the vector (by adding elements) while another vector is iterating it - you'll see a <code>ConcurrentModificationException</code></p>\n\n<p>There are different options to solve it, one way could be to read from a file into another vector and when the reading is done assign this other vector to <code>numbers</code> (since assignment is an atomic operation). Keep in mind that in order for the change to be visible to other threads you'll need to declare <code>numbers</code> as <code>volatile</code>.</p>\n"}],"owner":{"account_id":5310584,"reputation":1464,"user_id":4237080,"accept_rate":75,"display_name":"brienna"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1505,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":47214383,"answer_count":2,"score":2,"last_activity_date":1645558840,"creation_date":1510276816,"question_id":47214288,"body_markdown":"I had an ArrayList that was being operated on by multiple threads, which wasn&#39;t working as the ArrayList isn&#39;t synchronized. I switched the list to a Vector as instructed by my professor. Vector is synchronized, but I&#39;m having exceptions thrown related to synchronization. \r\n\r\nWhy is this happening, and how can I avoid concurrency exceptions in my code? I don&#39;t want to just play around until something works, I want to do the best thing. Thanks!\r\n\r\nException:\r\n\r\n    Exception in thread &quot;Thread-3&quot; java.util.ConcurrentModificationException\r\n    \tat java.util.Vector$Itr.checkForComodification(Vector.java:1184)\r\n    \tat java.util.Vector$Itr.next(Vector.java:1137)\r\n    \tat BytePe4D$ReadInts.run(BytePe4D.java:64)\r\n\r\nCode: \r\n\r\n    import java.io.*;\r\n    import java.util.Vector;\r\n    \r\n    public class BytePe4D {\r\n        private Vector&lt;Integer&gt; numbers;\r\n    \r\n        public static void main(String[] args) {\r\n            new BytePe4D();\r\n        }\r\n    \r\n        public BytePe4D() {\r\n            // Create ArrayList and reset sum\r\n            numbers = new Vector&lt;Integer&gt;();\r\n    \r\n            // Call addInts 8 times, with filenames integer1.dat through integer8.dat\r\n            for (int i = 1; i &lt;= 8; i++) {\r\n                File file = new File(&quot;PE Data/integer&quot; + i + &quot;.dat&quot;);\r\n                ReadInts thread = new ReadInts(file);\r\n                thread.start();\r\n            }\r\n        }\r\n    \r\n        /** Represents a Thread instance */\r\n        class ReadInts extends Thread {\r\n            File file;\r\n    \r\n            public ReadInts(File _file) {\r\n                file = _file;\r\n            }\r\n    \r\n            @Override\r\n            public void run() {\r\n                int count = 0;  // track number of records read\r\n                int sum = 0;\r\n    \r\n                try {\r\n                    // Open stream to binary data file integer1.dat\r\n                    FileInputStream in = new FileInputStream(file);\r\n                    // Buffer the stream\r\n                    BufferedInputStream bin = new BufferedInputStream(in);\r\n                    // Access the primitive data\r\n                    DataInputStream din = new DataInputStream(bin);\r\n    \r\n                    try {\r\n                        // Read file until end reached\r\n                        while (true) {\r\n                            numbers.add(din.readInt());\r\n                            count++;\r\n                        }\r\n                    } catch (EOFException eof) {\r\n                        // System.out.println(&quot;End of file reached.&quot;);\r\n                    } finally {\r\n                        // Close streams\r\n                        din.close();\r\n                    }\r\n                } catch (FileNotFoundException fnf) {\r\n                    System.out.println(&quot;File does not exist: &quot; + file.getName());\r\n                    return;\r\n                } catch (IOException ioe) {\r\n                    ioe.printStackTrace();\r\n                }\r\n    \r\n                // Calculate sum of numbers read\r\n                for (int num : numbers) {\r\n                    sum += num;\r\n                }\r\n    \r\n                // Write info\r\n                System.out.println(\r\n                    String.format(&quot;%s%s%-5s%s%-8d%-5s%s%-12d%-5s%s%d&quot;,\r\n                    &quot;Filename = &quot;, file.getName(), &quot;&quot;,\r\n                    &quot;Count = &quot;, count, &quot;&quot;,\r\n                    &quot;Sum = &quot;, sum, &quot;&quot;,\r\n                    &quot;In List = &quot;, numbers.size()));\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\n","title":"Vector throws ConcurrentModificationException despite being synchronized","body":"<p>I had an ArrayList that was being operated on by multiple threads, which wasn't working as the ArrayList isn't synchronized. I switched the list to a Vector as instructed by my professor. Vector is synchronized, but I'm having exceptions thrown related to synchronization. </p>\n\n<p>Why is this happening, and how can I avoid concurrency exceptions in my code? I don't want to just play around until something works, I want to do the best thing. Thanks!</p>\n\n<p>Exception:</p>\n\n<pre><code>Exception in thread \"Thread-3\" java.util.ConcurrentModificationException\n    at java.util.Vector$Itr.checkForComodification(Vector.java:1184)\n    at java.util.Vector$Itr.next(Vector.java:1137)\n    at BytePe4D$ReadInts.run(BytePe4D.java:64)\n</code></pre>\n\n<p>Code: </p>\n\n<pre><code>import java.io.*;\nimport java.util.Vector;\n\npublic class BytePe4D {\n    private Vector&lt;Integer&gt; numbers;\n\n    public static void main(String[] args) {\n        new BytePe4D();\n    }\n\n    public BytePe4D() {\n        // Create ArrayList and reset sum\n        numbers = new Vector&lt;Integer&gt;();\n\n        // Call addInts 8 times, with filenames integer1.dat through integer8.dat\n        for (int i = 1; i &lt;= 8; i++) {\n            File file = new File(\"PE Data/integer\" + i + \".dat\");\n            ReadInts thread = new ReadInts(file);\n            thread.start();\n        }\n    }\n\n    /** Represents a Thread instance */\n    class ReadInts extends Thread {\n        File file;\n\n        public ReadInts(File _file) {\n            file = _file;\n        }\n\n        @Override\n        public void run() {\n            int count = 0;  // track number of records read\n            int sum = 0;\n\n            try {\n                // Open stream to binary data file integer1.dat\n                FileInputStream in = new FileInputStream(file);\n                // Buffer the stream\n                BufferedInputStream bin = new BufferedInputStream(in);\n                // Access the primitive data\n                DataInputStream din = new DataInputStream(bin);\n\n                try {\n                    // Read file until end reached\n                    while (true) {\n                        numbers.add(din.readInt());\n                        count++;\n                    }\n                } catch (EOFException eof) {\n                    // System.out.println(\"End of file reached.\");\n                } finally {\n                    // Close streams\n                    din.close();\n                }\n            } catch (FileNotFoundException fnf) {\n                System.out.println(\"File does not exist: \" + file.getName());\n                return;\n            } catch (IOException ioe) {\n                ioe.printStackTrace();\n            }\n\n            // Calculate sum of numbers read\n            for (int num : numbers) {\n                sum += num;\n            }\n\n            // Write info\n            System.out.println(\n                String.format(\"%s%s%-5s%s%-8d%-5s%s%-12d%-5s%s%d\",\n                \"Filename = \", file.getName(), \"\",\n                \"Count = \", count, \"\",\n                \"Sum = \", sum, \"\",\n                \"In List = \", numbers.size()));\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","multithreading","java-threads","vfs","apache-commons-vfs"],"owner":{"account_id":182648,"reputation":3820,"user_id":417516,"accept_rate":68,"display_name":"banjara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645558800,"creation_date":1645506224,"question_id":71216150,"body_markdown":"I have noticed slowness in reading data from SFTP server, I have 10 parallel processes running in the different containers which are reading this data and slowness is usually observed in one container randomly. I am using commons-vfs to read data from SFTP server and I have extended SFTP related classes to add come sort logic. I am using centos-7.9 to host my SFTP server.\r\nI have noticed the reader thread is in blocked state and waiting for monitor thread to release lock.\r\n\r\nCan someone please guide me on how to fix this issue.\r\n\r\n\r\n\r\n\r\n    &quot;Thread-135&quot; #150 prio=5 os_prio=0 tid=0x00007f1e3808d800 nid=0x3a2 waiting for monitor entry [0x00007f1ea5eed000]\r\n       java.lang.Thread.State: BLOCKED (on object monitor)\r\n            at org.apache.commons.vfs2.provider.AbstractFileSystem.resolveFile(AbstractFileSystem.java:306)\r\n            - waiting to lock &lt;0x00000005cedf23f8&gt; (a org.apache.commons.vfs2.provider.sftp.MySftpFileSystem)\r\n            at org.apache.commons.vfs2.provider.AbstractFileSystem.resolveFile(AbstractFileSystem.java:301)\r\n            at org.apache.commons.vfs2.provider.AbstractOriginatingFileProvider.findFile(AbstractOriginatingFileProvider.java:76)\r\n            at org.apache.commons.vfs2.provider.AbstractOriginatingFileProvider.findFile(AbstractOriginatingFileProvider.java:56)\r\n            at org.apache.commons.vfs2.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:711)\r\n            at org.apache.commons.vfs2.impl.DefaultVfsComponentContext.resolveFile(DefaultVfsComponentContext.java:46)\r\n            at org.apache.commons.vfs2.provider.AbstractLayeredFileProvider.findFile(AbstractLayeredFileProvider.java:54)\r\n            at org.apache.commons.vfs2.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:711)\r\n            at org.apache.commons.vfs2.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:677)\r\n            at org.apache.commons.vfs2.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:632)\r\n            at com.sqlstream.aspen.namespace.filevfs.FileVFSInputSource$FileReader.run(FileVFSInputSource.java:894)\r\n            at java.lang.Thread.run(Thread.java:748)\r\n    \r\n    &quot;Thread-134&quot; #149 daemon prio=1 os_prio=0 tid=0x00007f1e381e7800 nid=0x3a1 in Object.wait() [0x00007f1ea6af9000]\r\n       java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n            at java.lang.Object.wait(Native Method)\r\n            at java.io.PipedInputStream.read(PipedInputStream.java:326)\r\n            - eliminated &lt;0x00000005d821ea90&gt; (a com.jcraft.jsch.Channel$MyPipedInputStream)\r\n            at java.io.PipedInputStream.read(PipedInputStream.java:377)\r\n            - locked &lt;0x00000005d821ea90&gt; (a com.jcraft.jsch.Channel$MyPipedInputStream)\r\n            at com.jcraft.jsch.ChannelSftp.fill(ChannelSftp.java:2909)\r\n            at com.jcraft.jsch.ChannelSftp.header(ChannelSftp.java:2935)\r\n            at com.jcraft.jsch.ChannelSftp.ls(ChannelSftp.java:1643)\r\n            at com.jcraft.jsch.ChannelSftp.ls(ChannelSftp.java:1553)\r\n            at org.apache.commons.vfs2.provider.sftp.MySftpFileObject.doListChildrenResolved(MySftpFileObject.java:376)\r\n            at org.apache.commons.vfs2.provider.AbstractFileObject.getChildren(AbstractFileObject.java:1081)\r\n            - locked &lt;0x00000005cedf23f8&gt; (a org.apache.commons.vfs2.provider.sftp.MySftpFileSystem)\r\n            at com.sqlstream.aspen.namespace.filevfs.MyFileMonitor$FileMonitorAgent.checkForNewChildren(MyFileMonitor.java:458)\r\n            at com.sqlstream.aspen.namespace.filevfs.MyFileMonitor$FileMonitorAgent.check(MyFileMonitor.java:543)\r\n            at com.sqlstream.aspen.namespace.filevfs.MyFileMonitor$FileMonitorAgent.access$200(MyFileMonitor.java:376)\r\n            at com.sqlstream.aspen.namespace.filevfs.MyFileMonitor.run(MyFileMonitor.java:321)\r\n            at java.lang.Thread.run(Thread.java:748)\r\n\r\n","title":"jsch thread hanging while reading from SFTP","body":"<p>I have noticed slowness in reading data from SFTP server, I have 10 parallel processes running in the different containers which are reading this data and slowness is usually observed in one container randomly. I am using commons-vfs to read data from SFTP server and I have extended SFTP related classes to add come sort logic. I am using centos-7.9 to host my SFTP server.\nI have noticed the reader thread is in blocked state and waiting for monitor thread to release lock.</p>\n<p>Can someone please guide me on how to fix this issue.</p>\n<pre><code>&quot;Thread-135&quot; #150 prio=5 os_prio=0 tid=0x00007f1e3808d800 nid=0x3a2 waiting for monitor entry [0x00007f1ea5eed000]\n   java.lang.Thread.State: BLOCKED (on object monitor)\n        at org.apache.commons.vfs2.provider.AbstractFileSystem.resolveFile(AbstractFileSystem.java:306)\n        - waiting to lock &lt;0x00000005cedf23f8&gt; (a org.apache.commons.vfs2.provider.sftp.MySftpFileSystem)\n        at org.apache.commons.vfs2.provider.AbstractFileSystem.resolveFile(AbstractFileSystem.java:301)\n        at org.apache.commons.vfs2.provider.AbstractOriginatingFileProvider.findFile(AbstractOriginatingFileProvider.java:76)\n        at org.apache.commons.vfs2.provider.AbstractOriginatingFileProvider.findFile(AbstractOriginatingFileProvider.java:56)\n        at org.apache.commons.vfs2.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:711)\n        at org.apache.commons.vfs2.impl.DefaultVfsComponentContext.resolveFile(DefaultVfsComponentContext.java:46)\n        at org.apache.commons.vfs2.provider.AbstractLayeredFileProvider.findFile(AbstractLayeredFileProvider.java:54)\n        at org.apache.commons.vfs2.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:711)\n        at org.apache.commons.vfs2.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:677)\n        at org.apache.commons.vfs2.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:632)\n        at com.sqlstream.aspen.namespace.filevfs.FileVFSInputSource$FileReader.run(FileVFSInputSource.java:894)\n        at java.lang.Thread.run(Thread.java:748)\n\n&quot;Thread-134&quot; #149 daemon prio=1 os_prio=0 tid=0x00007f1e381e7800 nid=0x3a1 in Object.wait() [0x00007f1ea6af9000]\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\n        at java.lang.Object.wait(Native Method)\n        at java.io.PipedInputStream.read(PipedInputStream.java:326)\n        - eliminated &lt;0x00000005d821ea90&gt; (a com.jcraft.jsch.Channel$MyPipedInputStream)\n        at java.io.PipedInputStream.read(PipedInputStream.java:377)\n        - locked &lt;0x00000005d821ea90&gt; (a com.jcraft.jsch.Channel$MyPipedInputStream)\n        at com.jcraft.jsch.ChannelSftp.fill(ChannelSftp.java:2909)\n        at com.jcraft.jsch.ChannelSftp.header(ChannelSftp.java:2935)\n        at com.jcraft.jsch.ChannelSftp.ls(ChannelSftp.java:1643)\n        at com.jcraft.jsch.ChannelSftp.ls(ChannelSftp.java:1553)\n        at org.apache.commons.vfs2.provider.sftp.MySftpFileObject.doListChildrenResolved(MySftpFileObject.java:376)\n        at org.apache.commons.vfs2.provider.AbstractFileObject.getChildren(AbstractFileObject.java:1081)\n        - locked &lt;0x00000005cedf23f8&gt; (a org.apache.commons.vfs2.provider.sftp.MySftpFileSystem)\n        at com.sqlstream.aspen.namespace.filevfs.MyFileMonitor$FileMonitorAgent.checkForNewChildren(MyFileMonitor.java:458)\n        at com.sqlstream.aspen.namespace.filevfs.MyFileMonitor$FileMonitorAgent.check(MyFileMonitor.java:543)\n        at com.sqlstream.aspen.namespace.filevfs.MyFileMonitor$FileMonitorAgent.access$200(MyFileMonitor.java:376)\n        at com.sqlstream.aspen.namespace.filevfs.MyFileMonitor.run(MyFileMonitor.java:321)\n        at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645558415,"creation_date":1645558415,"answer_id":71227280,"question_id":71226086,"body_markdown":"The server side is waiting to read a line from the client, it should work if you **flush** the **PrintWriter** on the client side:\r\n\r\n```\r\n// Sent the input string to the server using &#39;out&#39;          \r\nout.println(line);\r\nout.flush();\r\n```","title":"Websoket program in java is not responding","body":"<p>The server side is waiting to read a line from the client, it should work if you <strong>flush</strong> the <strong>PrintWriter</strong> on the client side:</p>\n<pre><code>// Sent the input string to the server using 'out'          \nout.println(line);\nout.flush();\n</code></pre>\n"}],"owner":{"account_id":19623179,"reputation":113,"user_id":14363210,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71227280,"answer_count":1,"score":0,"last_activity_date":1645558415,"creation_date":1645552384,"question_id":71226086,"body_markdown":"I&#39;m practising WebSocket in java and wrote two simple programs which one of them is a server that starts listening in port 9090 and receives a string as input from the client then makes a string uppercase and returns back to the client. \r\n\r\nThe program has no error but for some reason, it does not work. I can&#39;t find out what is the problem.\r\n \r\nAfter debuting it seems like the server doesn&#39;t receive the inputs string even though both sides connect to each other successfully. When the user inputs his/her string the client sends it to the server but the server doesn&#39;t receive it, therefore, both programs go to the wanting stage and the application will not respond.\r\n\r\ncould you please help me with the issue?\r\nThanks in advance \r\n\r\nserver-side code :\r\n\r\n```\r\n    import java.io.*;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n    \t// Start listening at port 9090\r\n            ServerSocket s = new ServerSocket(9090);\r\n            System.out.println(&quot;Started: &quot; + s);\r\n            Socket socket = s.accept();\r\n            System.out.println(&quot;conecction accepted by &quot; + socket);\r\n    \r\n            try {\r\n                // Buffer reader to get input and save it as &quot;in&quot;\r\n                BufferedReader in = new BufferedReader(\r\n                  new InputStreamReader( \r\n                         socket.getInputStream() \r\n                        )\r\n                    );\r\n\r\n              // write the output as &quot;out&quot;\r\n                PrintWriter out = new PrintWriter(new BufferedWriter(\r\n                        new OutputStreamWriter(socket.getOutputStream()\r\n                          )\r\n                ));\r\n\r\n                // A Loop for waiting to receive the input from the client\r\n                while (true) {\r\n                    System.out.println(&quot;Watting for inpute line ...&quot;);\r\n                    String line = in.readLine();\r\n\r\n                    // print the input string to console to make sure it recive the input\r\n                    System.out.println(&quot;inputed Line: &quot; + line);\r\n\r\n                    // sent back upper case string to client \r\n                    out.println(line.toUpperCase());\r\n                    out.flush();\r\n                }\r\n            }finally {\r\n                System.out.println(&quot;closing...&quot;);\r\n                socket.close();\r\n            }\r\n        }\r\n    }\r\n```\r\n----------------------\r\n\r\nThe cline side code:\r\n\r\n```\r\nimport java.io.*;\r\nimport java.net.InetAddress;\r\nimport java.net.Socket;\r\nimport java.net.UnknownHostException;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        \r\n\t// get the Address for localhost \r\n        InetAddress addr = InetAddress.getByName(null);\r\n        \r\n     //Connect to the server on pprt 9090   \r\n        Socket s = new Socket(addr,9090);\r\n        \r\n     // read and write to server using buffer reader and printwriter\r\n        try{\r\n            BufferedReader in = new BufferedReader(\r\n                    new InputStreamReader(\r\n                            s.getInputStream()\r\n                    )\r\n            );\r\n            PrintWriter out = new PrintWriter(\r\n                    new BufferedWriter(\r\n                            new OutputStreamWriter(s.getOutputStream())\r\n                    )\r\n            );\r\n       //Get the Ipute string from user \r\n            Scanner input = new Scanner(System.in);\r\n            while (true){\r\n                System.out.println(&quot;Enter your text:&quot;);\r\n                String line = input.nextLine();\r\n                if(line.equals(&quot;quit&quot;))\r\n                    break;\r\n                \r\n        // Sent the input string to the server using &#39;out&#39;          \r\n                out.println(line);\r\n        // Recive the upper case string from server        \r\n                String response = in.readLine();\r\n                System.out.println(&quot;Echo:... &quot; + response);\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }finally {\r\n            System.out.println(&quot;closing...&quot;);\r\n            s.close();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n","title":"Websoket program in java is not responding","body":"<p>I'm practising WebSocket in java and wrote two simple programs which one of them is a server that starts listening in port 9090 and receives a string as input from the client then makes a string uppercase and returns back to the client.</p>\n<p>The program has no error but for some reason, it does not work. I can't find out what is the problem.</p>\n<p>After debuting it seems like the server doesn't receive the inputs string even though both sides connect to each other successfully. When the user inputs his/her string the client sends it to the server but the server doesn't receive it, therefore, both programs go to the wanting stage and the application will not respond.</p>\n<p>could you please help me with the issue?\nThanks in advance</p>\n<p>server-side code :</p>\n<pre><code>    import java.io.*;\n    import java.net.ServerSocket;\n    import java.net.Socket;\n    \n    public class Main {\n    \n        public static void main(String[] args) throws IOException {\n        // Start listening at port 9090\n            ServerSocket s = new ServerSocket(9090);\n            System.out.println(&quot;Started: &quot; + s);\n            Socket socket = s.accept();\n            System.out.println(&quot;conecction accepted by &quot; + socket);\n    \n            try {\n                // Buffer reader to get input and save it as &quot;in&quot;\n                BufferedReader in = new BufferedReader(\n                  new InputStreamReader( \n                         socket.getInputStream() \n                        )\n                    );\n\n              // write the output as &quot;out&quot;\n                PrintWriter out = new PrintWriter(new BufferedWriter(\n                        new OutputStreamWriter(socket.getOutputStream()\n                          )\n                ));\n\n                // A Loop for waiting to receive the input from the client\n                while (true) {\n                    System.out.println(&quot;Watting for inpute line ...&quot;);\n                    String line = in.readLine();\n\n                    // print the input string to console to make sure it recive the input\n                    System.out.println(&quot;inputed Line: &quot; + line);\n\n                    // sent back upper case string to client \n                    out.println(line.toUpperCase());\n                    out.flush();\n                }\n            }finally {\n                System.out.println(&quot;closing...&quot;);\n                socket.close();\n            }\n        }\n    }\n</code></pre>\n<hr />\n<p>The cline side code:</p>\n<pre><code>import java.io.*;\nimport java.net.InetAddress;\nimport java.net.Socket;\nimport java.net.UnknownHostException;\nimport java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) throws IOException {\n        \n    // get the Address for localhost \n        InetAddress addr = InetAddress.getByName(null);\n        \n     //Connect to the server on pprt 9090   \n        Socket s = new Socket(addr,9090);\n        \n     // read and write to server using buffer reader and printwriter\n        try{\n            BufferedReader in = new BufferedReader(\n                    new InputStreamReader(\n                            s.getInputStream()\n                    )\n            );\n            PrintWriter out = new PrintWriter(\n                    new BufferedWriter(\n                            new OutputStreamWriter(s.getOutputStream())\n                    )\n            );\n       //Get the Ipute string from user \n            Scanner input = new Scanner(System.in);\n            while (true){\n                System.out.println(&quot;Enter your text:&quot;);\n                String line = input.nextLine();\n                if(line.equals(&quot;quit&quot;))\n                    break;\n                \n        // Sent the input string to the server using 'out'          \n                out.println(line);\n        // Recive the upper case string from server        \n                String response = in.readLine();\n                System.out.println(&quot;Echo:... &quot; + response);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }finally {\n            System.out.println(&quot;closing...&quot;);\n            s.close();\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","html","swing","jlabel","multiline"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1316190686,"post_id":7447691,"comment_id":9007271,"body_markdown":"The other option is to use single line JLabels but place them in a JPanel (the container) that uses a layout that allows you to stack the JLabels, such as a GridLayout or a BoxLayout.","body":"The other option is to use single line JLabels but place them in a JPanel (the container) that uses a layout that allows you to stack the JLabels, such as a GridLayout or a BoxLayout."}],"answers":[{"tags":[],"owner":{"account_id":341214,"reputation":13157,"user_id":671676,"accept_rate":86,"display_name":"confucius"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1316195442,"creation_date":1316190230,"answer_id":7447718,"question_id":7447691,"body_markdown":"use `&lt;br&gt;` instead of using  \\n \r\nand prefix it by `&lt;html&gt;`\r\nlike this \r\n\r\n    &quot;&lt;html&gt;Line1 &lt;br&gt; Line2 &lt;br&gt; Line3&lt;/html&gt;&quot;;","title":"Is there any MultiLine JLabel option?","body":"<p>use <code>&lt;br&gt;</code> instead of using  \\n \nand prefix it by <code>&lt;html&gt;</code>\nlike this </p>\n\n<pre><code>\"&lt;html&gt;Line1 &lt;br&gt; Line2 &lt;br&gt; Line3&lt;/html&gt;\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":78418,"reputation":17437,"user_id":223196,"accept_rate":89,"display_name":"Chandra Patni"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1316194908,"creation_date":1316190281,"answer_id":7447725,"question_id":7447691,"body_markdown":"`JLabel` supports HTML. You can write:\r\n\r\n    String  sText  = &quot;&lt;html&gt;Line1 &lt;br/&gt; Line2 &lt;br/&gt; Line3&lt;/html&gt;&quot;;\r\n    jLabel1.setText (sText);\r\n\r\nEdit:\r\nI added back slashes with br tag in order to make code working","title":"Is there any MultiLine JLabel option?","body":"<p><code>JLabel</code> supports HTML. You can write:</p>\n\n<pre><code>String  sText  = \"&lt;html&gt;Line1 &lt;br/&gt; Line2 &lt;br/&gt; Line3&lt;/html&gt;\";\njLabel1.setText (sText);\n</code></pre>\n\n<p>Edit:\nI added back slashes with br tag in order to make code working</p>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1316191639,"creation_date":1316191287,"answer_id":7447889,"question_id":7447691,"body_markdown":"A better option for HTML formatted text in this case, is to drop the hard line breaks (except at the end of paragraphs) and set the width of the HTML using CSS.\r\n\r\nAs seen in the 2nd example (`LabelRenderTest.java`) shown [here](https://stackoverflow.com/questions/5853879/java-swing-obtain-image-of-jframe/5853992#5853992).\r\n\r\n![JLabel with multiline, formatted, text.][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/SyAdF.png","title":"Is there any MultiLine JLabel option?","body":"<p>A better option for HTML formatted text in this case, is to drop the hard line breaks (except at the end of paragraphs) and set the width of the HTML using CSS.</p>\n\n<p>As seen in the 2nd example (<code>LabelRenderTest.java</code>) shown <a href=\"https://stackoverflow.com/questions/5853879/java-swing-obtain-image-of-jframe/5853992#5853992\">here</a>.</p>\n\n<p><img src=\"https://i.stack.imgur.com/SyAdF.png\" alt=\"JLabel with multiline, formatted, text.\"></p>\n"}],"owner":{"account_id":286979,"reputation":21420,"user_id":586528,"accept_rate":90,"display_name":"Jame"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16804,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":7447725,"answer_count":3,"score":8,"last_activity_date":1645558376,"creation_date":1316190115,"question_id":7447691,"body_markdown":"I want to display some text in JLabel at runtime. I just want to know that is there anyway through which the text is displayed on multiple lines. For example, I want my text to be displayed in following format:\r\n\r\n    Line 1\r\n    Line 2\r\n    Line 3\r\n    \r\n    String  sText  = &quot;Line1 \\n Line2 \\n Line3&quot;;\r\n    jLabel1.setText (sText);\r\n\r\nI tried the above code but its not working. Am I doing some thing wrong or does JLabel not support said feature?\r\n\r\nIf I&#39;m unable to achieve the above functionality, how can I add multiple labels (one for each line) in JPanel at runtime?","title":"Is there any MultiLine JLabel option?","body":"<p>I want to display some text in JLabel at runtime. I just want to know that is there anyway through which the text is displayed on multiple lines. For example, I want my text to be displayed in following format:</p>\n<pre><code>Line 1\nLine 2\nLine 3\n\nString  sText  = &quot;Line1 \\n Line2 \\n Line3&quot;;\njLabel1.setText (sText);\n</code></pre>\n<p>I tried the above code but its not working. Am I doing some thing wrong or does JLabel not support said feature?</p>\n<p>If I'm unable to achieve the above functionality, how can I add multiple labels (one for each line) in JPanel at runtime?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":24344588,"reputation":1,"user_id":18281437,"display_name":"Felipe Moraes"},"score":0,"creation_date":1645558225,"post_id":68807949,"comment_id":125907933,"body_markdown":"I&#39;m having the same problem, I don&#39;t know if you&#39;ve already solved it, but it seems to have something to do with the clip, making a clip.flush(); it seems to update it, but it makes a clicking noise, which I&#39;m still thinking of a solution.","body":"I&#39;m having the same problem, I don&#39;t know if you&#39;ve already solved it, but it seems to have something to do with the clip, making a clip.flush(); it seems to update it, but it makes a clicking noise, which I&#39;m still thinking of a solution."},{"owner":{"account_id":14668600,"reputation":11,"user_id":10593687,"display_name":"Luiz Henrique"},"score":0,"creation_date":1645663464,"post_id":68807949,"comment_id":125935381,"body_markdown":"@FelipeMoraes I didn&#39;t found a solution using these standard libraries. I&#39;ve moved upon this issue and now i&#39;m learning how to use OpenAL instead - the right way to implemend proper 3D sound.","body":"@FelipeMoraes I didn&#39;t found a solution using these standard libraries. I&#39;ve moved upon this issue and now i&#39;m learning how to use OpenAL instead - the right way to implemend proper 3D sound."}],"answers":[{"tags":[],"owner":{"account_id":8719765,"reputation":1168,"user_id":6523288,"display_name":"Dragas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629141789,"creation_date":1629141421,"answer_id":68808142,"question_id":68807949,"body_markdown":"You might want to use [FloatControl#shift](https://docs.oracle.com/en/java/javase/14/docs/api/java.desktop/javax/sound/sampled/FloatControl.html#shift(float,float,int)) method instead.\r\n\r\nAs per docs\r\n\r\n&gt; Changes the control value from the initial value to the final value linearly over the specified time period, specified in microseconds. This method returns without blocking; it does not wait for the shift to complete. An implementation should complete the operation within the time specified. The default implementation simply changes the value to the final value immediately.\r\n\r\nYou might also want to check other methods on `FloatControl`, such as: [getUpdatePeriod](https://docs.oracle.com/en/java/javase/14/docs/api/java.desktop/javax/sound/sampled/FloatControl.html#getUpdatePeriod())\r\n\r\n&gt; Obtains the smallest time interval, in microseconds, over which the control&#39;s value can change during a shift. The update period is the inverse of the frequency with which the control updates its value during a shift. If the implementation does not support value shifting over time, it should set the control&#39;s value to the final value immediately and return -1 from this method.\r\n\r\n&gt;Returns:\r\n    update period in microseconds, or -1 if shifting over time is unsupported\r\n\r\nIn case your control don&#39;t support shifting, you can wrap the audio input stream with your own and implement it there. Seems that [this](https://web.archive.org/web/20210128094456/https://dsp.stackexchange.com/questions/21691/algorithm-to-pan-audio) question addresses that.\r\n","title":"Java Clip slow Volume and Pan update","body":"<p>You might want to use <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.desktop/javax/sound/sampled/FloatControl.html#shift(float,float,int)\" rel=\"nofollow noreferrer\">FloatControl#shift</a> method instead.</p>\n<p>As per docs</p>\n<blockquote>\n<p>Changes the control value from the initial value to the final value linearly over the specified time period, specified in microseconds. This method returns without blocking; it does not wait for the shift to complete. An implementation should complete the operation within the time specified. The default implementation simply changes the value to the final value immediately.</p>\n</blockquote>\n<p>You might also want to check other methods on <code>FloatControl</code>, such as: <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.desktop/javax/sound/sampled/FloatControl.html#getUpdatePeriod()\" rel=\"nofollow noreferrer\">getUpdatePeriod</a></p>\n<blockquote>\n<p>Obtains the smallest time interval, in microseconds, over which the control's value can change during a shift. The update period is the inverse of the frequency with which the control updates its value during a shift. If the implementation does not support value shifting over time, it should set the control's value to the final value immediately and return -1 from this method.</p>\n</blockquote>\n<blockquote>\n<p>Returns:\nupdate period in microseconds, or -1 if shifting over time is unsupported</p>\n</blockquote>\n<p>In case your control don't support shifting, you can wrap the audio input stream with your own and implement it there. Seems that <a href=\"https://web.archive.org/web/20210128094456/https://dsp.stackexchange.com/questions/21691/algorithm-to-pan-audio\" rel=\"nofollow noreferrer\">this</a> question addresses that.</p>\n"}],"owner":{"account_id":14668600,"reputation":11,"user_id":10593687,"display_name":"Luiz Henrique"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645558225,"creation_date":1629140265,"question_id":68807949,"body_markdown":"I am making a 2d Game Engine using Java. On the sound side of things, I&#39;m using the JavaSE standard Clip library to produce sound.\r\n\r\nI&#39;ve decided to create a basic 3D sound system. It worked, but has some flaws. The biggest one is  the big latency of FloatControl changes - Volume and Pan, that is used to create the 3D effect.\r\n\r\nBoth Volume and Pan is updated on every frame, however, the changes does not occur gradually, it seems the changes are applied every second.\r\n\r\n\r\nIs there anything I can do to increase the Floatcontrol changes updates? Any library to accomplish this?\r\n\r\nMy SoundClip class:\r\n\r\n```\r\nprivate static final float NO_PAN_CHANGE = 0.0f;\r\nprivate Clip clip;\r\nprivate FloatControl gainControl;\r\nprivate boolean dead = false;\r\nprivate long clipTime;\r\nprivate boolean isPaused = false;\r\n\r\npublic SoundClip (String path) {\r\n        \r\n        try {\r\n            \r\n            InputStream audioSrc = SoundClip.class.getResourceAsStream(path);\r\n            InputStream bufferedIn = new BufferedInputStream(audioSrc);\r\n            AudioInputStream ais = AudioSystem.getAudioInputStream(bufferedIn);\r\n            AudioFormat baseFormat = ais.getFormat();\r\n            \r\n            AudioFormat decodeFormat = new AudioFormat(\r\n                    AudioFormat.Encoding.PCM_SIGNED,\r\n                    baseFormat.getSampleRate(),\r\n                    16,\r\n                    baseFormat.getChannels(), \r\n                    baseFormat.getChannels() * 2, \r\n                    baseFormat.getSampleRate(),\r\n                    false\r\n            );\r\n            \r\n            AudioInputStream dais = AudioSystem.getAudioInputStream(decodeFormat, ais);\r\n            \r\n            clip = AudioSystem.getClip();\r\n            clip.open(dais);\r\n            \r\n            gainControl = (FloatControl)clip.getControl(FloatControl.Type.MASTER_GAIN);\r\n            \r\n            clip.addLineListener(new LineListener()\r\n            {\r\n                public void update(LineEvent evt)\r\n                {\r\n                    if (evt.getType() == LineEvent.Type.STOP)\r\n                    {\r\n                        if (!isPaused){\r\n                            evt.getLine().close();\r\n                            dead = true;\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            \r\n        } catch (UnsupportedAudioFileException | IOException | LineUnavailableException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\npublic void play() {\r\n        \r\n        if (clip == null) {\r\n            return;\r\n        }\r\n        \r\n        stop();\r\n        \r\n        clip.setFramePosition(0);\r\n        while(!clip.isRunning()) {\r\n            clip.start();\r\n        }\r\n    }\r\n\r\npublic void setVolume(float value) {\r\n        gainControl.setValue(value);\r\n    }\r\n\r\npublic void setPan(float pan)\r\n    {\r\n        if (pan &lt; -1f) {\r\n            pan = -1f;\r\n        }\r\n        if (pan &gt; 1f) {\r\n            pan = 1f;\r\n        }\r\n        \r\n        if ((clip == null) || (pan == NO_PAN_CHANGE)) \r\n        {\r\n            FloatControl panControl = (FloatControl) clip.getControl(FloatControl.Type.PAN);\r\n            panControl.setValue(pan);\r\n        } else if (clip.isControlSupported(FloatControl.Type.BALANCE)) {\r\n            FloatControl balControl = (FloatControl) clip.getControl(FloatControl.Type.BALANCE);\r\n            balControl.setValue(pan);\r\n        } else {\r\n            System.out.println(&quot;No Pan or Balance controls available&quot;);\r\n        }\r\n    }\r\n```","title":"Java Clip slow Volume and Pan update","body":"<p>I am making a 2d Game Engine using Java. On the sound side of things, I'm using the JavaSE standard Clip library to produce sound.</p>\n<p>I've decided to create a basic 3D sound system. It worked, but has some flaws. The biggest one is  the big latency of FloatControl changes - Volume and Pan, that is used to create the 3D effect.</p>\n<p>Both Volume and Pan is updated on every frame, however, the changes does not occur gradually, it seems the changes are applied every second.</p>\n<p>Is there anything I can do to increase the Floatcontrol changes updates? Any library to accomplish this?</p>\n<p>My SoundClip class:</p>\n<pre><code>private static final float NO_PAN_CHANGE = 0.0f;\nprivate Clip clip;\nprivate FloatControl gainControl;\nprivate boolean dead = false;\nprivate long clipTime;\nprivate boolean isPaused = false;\n\npublic SoundClip (String path) {\n        \n        try {\n            \n            InputStream audioSrc = SoundClip.class.getResourceAsStream(path);\n            InputStream bufferedIn = new BufferedInputStream(audioSrc);\n            AudioInputStream ais = AudioSystem.getAudioInputStream(bufferedIn);\n            AudioFormat baseFormat = ais.getFormat();\n            \n            AudioFormat decodeFormat = new AudioFormat(\n                    AudioFormat.Encoding.PCM_SIGNED,\n                    baseFormat.getSampleRate(),\n                    16,\n                    baseFormat.getChannels(), \n                    baseFormat.getChannels() * 2, \n                    baseFormat.getSampleRate(),\n                    false\n            );\n            \n            AudioInputStream dais = AudioSystem.getAudioInputStream(decodeFormat, ais);\n            \n            clip = AudioSystem.getClip();\n            clip.open(dais);\n            \n            gainControl = (FloatControl)clip.getControl(FloatControl.Type.MASTER_GAIN);\n            \n            clip.addLineListener(new LineListener()\n            {\n                public void update(LineEvent evt)\n                {\n                    if (evt.getType() == LineEvent.Type.STOP)\n                    {\n                        if (!isPaused){\n                            evt.getLine().close();\n                            dead = true;\n                        }\n                    }\n                }\n            });\n            \n        } catch (UnsupportedAudioFileException | IOException | LineUnavailableException e) {\n            e.printStackTrace();\n        }\n    }\n\npublic void play() {\n        \n        if (clip == null) {\n            return;\n        }\n        \n        stop();\n        \n        clip.setFramePosition(0);\n        while(!clip.isRunning()) {\n            clip.start();\n        }\n    }\n\npublic void setVolume(float value) {\n        gainControl.setValue(value);\n    }\n\npublic void setPan(float pan)\n    {\n        if (pan &lt; -1f) {\n            pan = -1f;\n        }\n        if (pan &gt; 1f) {\n            pan = 1f;\n        }\n        \n        if ((clip == null) || (pan == NO_PAN_CHANGE)) \n        {\n            FloatControl panControl = (FloatControl) clip.getControl(FloatControl.Type.PAN);\n            panControl.setValue(pan);\n        } else if (clip.isControlSupported(FloatControl.Type.BALANCE)) {\n            FloatControl balControl = (FloatControl) clip.getControl(FloatControl.Type.BALANCE);\n            balControl.setValue(pan);\n        } else {\n            System.out.println(&quot;No Pan or Balance controls available&quot;);\n        }\n    }\n</code></pre>\n"},{"tags":["python","java","android-studio","sockets","networking"],"answers":[{"tags":[],"owner":{"account_id":20610283,"reputation":326,"user_id":15129630,"display_name":"takudzw_M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645558160,"creation_date":1645558160,"answer_id":71227239,"question_id":71226958,"body_markdown":"For this, to work, you need your laptop and mobile to connect to the same network. Then get your laptop&#39;s local IP address like below.\r\n\r\n**How to get your IP address:**\r\n\r\n**On windows**\r\nOpen command prompt-&gt; type ipconfig --&gt; copy you device IP\r\nread this for more https://support.microsoft.com/en-au/windows/find-your-ip-address-in-windows-f21a9bbc-c582-55cd-35e0-73431160a1b9\r\n\r\n**On Linux and Mac**\r\nopen terminal -&gt; type ifconfig --&gt; copy you device ip\r\nread this for more https://www.macworld.co.uk/how-to/ip-address-3676112/#:~:text=the%20search%20bar.-,How%20to%20find%20your%20local%20internal%20(private/local)%20IP%20address,-The%20IP%20address\r\n\r\n  \r\n\r\n    Socket soc=new Socket(&quot;laptop-ip-address&quot;,12343);\r\n                if(soc.isConnected()){\r\n                    CharSequence text = &quot;La connexion avec le syst&#232;me a &#233;t&#233; r&#233;alis&#233;e&quot;;\r\n                    Context context = GlobalApplication.getAppContext();\r\n                    Log.d(&quot;CONNECT&quot;,&quot;connect&#233; au socket&quot;);\r\n                    //Toast.makeText(context,text,Toast.LENGTH_SHORT).show();\r\n                }","title":"How to setup connection (choosing ip adress) from Android App on physical device to Python Program using sockets?","body":"<p>For this, to work, you need your laptop and mobile to connect to the same network. Then get your laptop's local IP address like below.</p>\n<p><strong>How to get your IP address:</strong></p>\n<p><strong>On windows</strong>\nOpen command prompt-&gt; type ipconfig --&gt; copy you device IP\nread this for more <a href=\"https://support.microsoft.com/en-au/windows/find-your-ip-address-in-windows-f21a9bbc-c582-55cd-35e0-73431160a1b9\" rel=\"nofollow noreferrer\">https://support.microsoft.com/en-au/windows/find-your-ip-address-in-windows-f21a9bbc-c582-55cd-35e0-73431160a1b9</a></p>\n<p><strong>On Linux and Mac</strong>\nopen terminal -&gt; type ifconfig --&gt; copy you device ip\nread this for more <a href=\"https://www.macworld.co.uk/how-to/ip-address-3676112/#:%7E:text=the%20search%20bar.-,How%20to%20find%20your%20local%20internal%20(private/local)%20IP%20address,-The%20IP%20address\" rel=\"nofollow noreferrer\">https://www.macworld.co.uk/how-to/ip-address-3676112/#:~:text=the%20search%20bar.-,How%20to%20find%20your%20local%20internal%20(private/local)%20IP%20address,-The%20IP%20address</a></p>\n<pre><code>Socket soc=new Socket(&quot;laptop-ip-address&quot;,12343);\n            if(soc.isConnected()){\n                CharSequence text = &quot;La connexion avec le système a été réalisée&quot;;\n                Context context = GlobalApplication.getAppContext();\n                Log.d(&quot;CONNECT&quot;,&quot;connecté au socket&quot;);\n                //Toast.makeText(context,text,Toast.LENGTH_SHORT).show();\n            }\n</code></pre>\n"}],"owner":{"account_id":20513747,"reputation":3,"user_id":15054915,"display_name":"Aghilas_K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71227239,"answer_count":1,"score":0,"last_activity_date":1645558160,"creation_date":1645556630,"question_id":71226958,"body_markdown":"I am a beginner in socket programming. I wrote a Python code that creates a socket listening on port 12345 :\r\n\r\n``` nb_max_connex = 5\r\nport=12343\r\ns = socket.socket(socket.AF_INET,socket.SOCK_STREAM)\r\nIP = &#39;0.0.0.0&#39;\r\ns.bind((IP,port))\r\ns.listen(nb_max_connex)\r\n\r\nprint(f&quot;Le serveur est lanc&#233; sur {IP} sur le port {port}.&quot;)\r\n\r\nconnexion,addresse=s.accept() #accepter la connexion \r\nprint(&quot;Connect&#233; &#224; &quot;,addresse)\r\n\r\n```\r\nHere is my java code : \r\n\r\n```try{\r\n            Socket soc=new Socket(&quot;10.0.2.2&quot;,12343);\r\n            if(soc.isConnected()){\r\n                CharSequence text = &quot;La connexion avec le syst&#232;me a &#233;t&#233; r&#233;alis&#233;e&quot;;\r\n                Context context = GlobalApplication.getAppContext();\r\n                Log.d(&quot;CONNECT&quot;,&quot;connect&#233; au socket&quot;);\r\n                //Toast.makeText(context,text,Toast.LENGTH_SHORT).show();\r\n            }\r\n```\r\n\r\n10.0.2.2 works well with android emulator, the connection is successful. However when I install my app on my phone, I can&#39;t determine how the connection can be made, I have tried using  Socket soc=new Socket(&quot;127.0.0.1&quot;,12343) but there is no connection... \r\n\r\nCould someone help me out ? \r\n ","title":"How to setup connection (choosing ip adress) from Android App on physical device to Python Program using sockets?","body":"<p>I am a beginner in socket programming. I wrote a Python code that creates a socket listening on port 12345 :</p>\n<pre><code>port=12343\ns = socket.socket(socket.AF_INET,socket.SOCK_STREAM)\nIP = '0.0.0.0'\ns.bind((IP,port))\ns.listen(nb_max_connex)\n\nprint(f&quot;Le serveur est lancé sur {IP} sur le port {port}.&quot;)\n\nconnexion,addresse=s.accept() #accepter la connexion \nprint(&quot;Connecté à &quot;,addresse)\n\n</code></pre>\n<p>Here is my java code :</p>\n<pre><code>            Socket soc=new Socket(&quot;10.0.2.2&quot;,12343);\n            if(soc.isConnected()){\n                CharSequence text = &quot;La connexion avec le système a été réalisée&quot;;\n                Context context = GlobalApplication.getAppContext();\n                Log.d(&quot;CONNECT&quot;,&quot;connecté au socket&quot;);\n                //Toast.makeText(context,text,Toast.LENGTH_SHORT).show();\n            }\n</code></pre>\n<p>10.0.2.2 works well with android emulator, the connection is successful. However when I install my app on my phone, I can't determine how the connection can be made, I have tried using  Socket soc=new Socket(&quot;127.0.0.1&quot;,12343) but there is no connection...</p>\n<p>Could someone help me out ?</p>\n"},{"tags":["java","object","arraylist"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1645557697,"post_id":71227134,"comment_id":125901951,"body_markdown":"What is your question?","body":"What is your question?"},{"owner":{"account_id":24344781,"reputation":1,"user_id":18281596,"display_name":"carbonox"},"score":0,"creation_date":1645558083,"post_id":71227134,"comment_id":125902092,"body_markdown":"What is the code to create a limited matrix in X and Y but use ArrayList of objects in Z","body":"What is the code to create a limited matrix in X and Y but use ArrayList of objects in Z"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1645558761,"post_id":71227134,"comment_id":125902313,"body_markdown":"What does that mean `limited dimensions on the X and Y` and  `but unlimited on the Z`? Maybe you can start with modeling a 3-D point as a **class** with a method that makes sense in your problem domain? You have to provide more context.","body":"What does that mean <code>limited dimensions on the X and Y</code> and  <code>but unlimited on the Z</code>? Maybe you can start with modeling a 3-D point as a <b>class</b> with a method that makes sense in your problem domain? You have to provide more context."}],"answers":[{"tags":[],"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645557919,"creation_date":1645557919,"answer_id":71227192,"question_id":71227134,"body_markdown":"You can make an array of objects. \r\n\r\n```java\r\nArrayList&lt;T&gt;[][] map = new ArrayList&lt;&gt;[10][10];\r\nmap[1][2] = new ArrayList&lt;&gt;();\r\n```\r\n\r\nThere is not a easy go-to answer for something like this. One option would be a `Map&lt;Pair&lt;Integer, Integer&gt;, List&lt;T&gt;&gt;` for a sparse map, but you may need to enforce your own limits on the dimensions.","title":"Matrix defined with arraylist of objects in each cell","body":"<p>You can make an array of objects.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;T&gt;[][] map = new ArrayList&lt;&gt;[10][10];\nmap[1][2] = new ArrayList&lt;&gt;();\n</code></pre>\n<p>There is not a easy go-to answer for something like this. One option would be a <code>Map&lt;Pair&lt;Integer, Integer&gt;, List&lt;T&gt;&gt;</code> for a sparse map, but you may need to enforce your own limits on the dimensions.</p>\n"}],"owner":{"account_id":24344781,"reputation":1,"user_id":18281596,"display_name":"carbonox"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645557919,"creation_date":1645557525,"question_id":71227134,"body_markdown":"I want to implement in Java a map with defined dimensions and in each zone there could be 0 or many objects.\r\n\r\nExample of non-functional code:\r\n\r\n    int[][] map = new int[10][10];\r\n    map[1][2] = new ArrayList&lt;Object&gt;();\r\n\r\nGraphical idea &quot;three-dimensional histogram&quot;. \r\n\r\nIt is somehow possible to create a matrix (Lists, ArrayLists) with limited dimensions on the X and Y axis but unlimited on the Z axis with the methods of an ArrayList.\r\n","title":"Matrix defined with arraylist of objects in each cell","body":"<p>I want to implement in Java a map with defined dimensions and in each zone there could be 0 or many objects.</p>\n<p>Example of non-functional code:</p>\n<pre><code>int[][] map = new int[10][10];\nmap[1][2] = new ArrayList&lt;Object&gt;();\n</code></pre>\n<p>Graphical idea &quot;three-dimensional histogram&quot;.</p>\n<p>It is somehow possible to create a matrix (Lists, ArrayLists) with limited dimensions on the X and Y axis but unlimited on the Z axis with the methods of an ArrayList.</p>\n"},{"tags":["java","api","swagger","rest-assured","json-schema-validator"],"comments":[{"owner":{"account_id":39252,"reputation":89812,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1625123635,"post_id":68203682,"comment_id":120544614,"body_markdown":"Have you tried including the folder path in the file name? See the examples in https://bitbucket.org/atlassian/swagger-request-validator/src/52d64d800a716c235744a823af7dc80fa69ac817/swagger-request-validator-core/src/main/java/com/atlassian/oai/validator/OpenApiInteractionValidator.java#lines-67:71","body":"Have you tried including the folder path in the file name? See the examples in <a href=\"https://bitbucket.org/atlassian/swagger-request-validator/src/52d64d800a716c235744a823af7dc80fa69ac817/swagger-request-validator-core/src/main/java/com/atlassian/oai/validator/OpenApiInteractionValidator.java#lines-67:71\" rel=\"nofollow noreferrer\">bitbucket.org/atlassian/swagger-request-validator/src/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6283683,"reputation":3277,"user_id":4883754,"display_name":"Jess Chen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645557646,"creation_date":1645077082,"answer_id":71153092,"question_id":68203682,"body_markdown":"You can use real path, instead of Object\r\n\r\n```java\r\nOpenApiValidationFilter validationFilter = new OpenApiValidationFilter(\r\n        OpenApiInteractionValidator.createFor(Paths.get(System.getProperty(&quot;user.dir&quot;), &quot;src&quot;, &quot;main&quot;, &quot;swagger&quot;, &quot;swagger.yml&quot;).toString()\r\n        ).build());\r\n\r\n```","title":"Swagger schema validation fails to read swagger spec from custom folder","body":"<p>You can use real path, instead of Object</p>\n<pre class=\"lang-java prettyprint-override\"><code>OpenApiValidationFilter validationFilter = new OpenApiValidationFilter(\n        OpenApiInteractionValidator.createFor(Paths.get(System.getProperty(&quot;user.dir&quot;), &quot;src&quot;, &quot;main&quot;, &quot;swagger&quot;, &quot;swagger.yml&quot;).toString()\n        ).build());\n\n</code></pre>\n"}],"owner":{"account_id":1472463,"reputation":836,"user_id":1383662,"accept_rate":69,"display_name":"Esh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":943,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645557646,"creation_date":1625107930,"question_id":68203682,"body_markdown":"I am using attlasian library for schema validation of swagger.\r\n\r\n&gt; com.atlassian.oai.validator.restassured.OpenApiValidationFilter\r\n\r\n    private static final OpenApiValidationFilter SWAGGER_FILTER_ = new OpenApiValidationFilter( OpenApiInteractionValidator.createFor(&quot;swagger.yml&quot;) .withBasePathOverride(&quot;ApiBasePath&quot;) .build());\r\n\r\nThe above code works only when the swagger specs are available in src/main/api folder.\r\n\r\nI am trying to read specs from `src/main/swagger` or `src/main/api/swaggers` folder.\r\n\r\n&gt; &quot; java.lang.RuntimeException: Could not find /api/swaggers/swagger.yml\r\n&gt; on the classpath&quot;\r\n\r\nWhat am I missing here ?\r\n\r\n","title":"Swagger schema validation fails to read swagger spec from custom folder","body":"<p>I am using attlasian library for schema validation of swagger.</p>\n<blockquote>\n<p>com.atlassian.oai.validator.restassured.OpenApiValidationFilter</p>\n</blockquote>\n<pre><code>private static final OpenApiValidationFilter SWAGGER_FILTER_ = new OpenApiValidationFilter( OpenApiInteractionValidator.createFor(&quot;swagger.yml&quot;) .withBasePathOverride(&quot;ApiBasePath&quot;) .build());\n</code></pre>\n<p>The above code works only when the swagger specs are available in src/main/api folder.</p>\n<p>I am trying to read specs from <code>src/main/swagger</code> or <code>src/main/api/swaggers</code> folder.</p>\n<blockquote>\n<p>&quot; java.lang.RuntimeException: Could not find /api/swaggers/swagger.yml\non the classpath&quot;</p>\n</blockquote>\n<p>What am I missing here ?</p>\n"},{"tags":["java","apache-commons","apache-config"],"comments":[{"owner":{"account_id":13566,"reputation":48845,"user_id":27358,"accept_rate":76,"display_name":"David Moles"},"score":2,"creation_date":1569611934,"post_id":6307318,"comment_id":102667091,"body_markdown":"Note that this is [no longer the default behavior in commons-configuration 2](https://commons.apache.org/proper/commons-configuration/userguide/upgradeto2_0.html#Accessing_Configuration_Properties).","body":"Note that this is <a href=\"https://commons.apache.org/proper/commons-configuration/userguide/upgradeto2_0.html#Accessing_Configuration_Properties\" rel=\"nofollow noreferrer\">no longer the default behavior in commons-configuration 2</a>."}],"answers":[{"tags":[],"owner":{"account_id":102191,"reputation":40009,"user_id":274466,"display_name":"ig0774"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1569611744,"creation_date":1307714389,"answer_id":6307389,"question_id":6307318,"body_markdown":"That behavior is [clearly documented][1], i.e., that `PropertiesConfiguration` treats a value with a comma as multiple values allowing things like:\r\n\r\n    fruit=apples,banana,oranges\r\n\r\nto be interpreted sensibly. The fix (from the doc) is to add a backslash to escape the comma, e.g.,\r\n\r\n    myKey=value\\, with an escaped comma\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-configuration/javadocs/v1.10/apidocs/org/apache/commons/configuration/PropertiesConfiguration.html","title":"apache commons configuration loads property until &quot;,&quot; character","body":"<p>That behavior is <a href=\"https://commons.apache.org/proper/commons-configuration/javadocs/v1.10/apidocs/org/apache/commons/configuration/PropertiesConfiguration.html\" rel=\"nofollow noreferrer\">clearly documented</a>, i.e., that <code>PropertiesConfiguration</code> treats a value with a comma as multiple values allowing things like:</p>\n\n<pre><code>fruit=apples,banana,oranges\n</code></pre>\n\n<p>to be interpreted sensibly. The fix (from the doc) is to add a backslash to escape the comma, e.g.,</p>\n\n<pre><code>myKey=value\\, with an escaped comma\n</code></pre>\n"},{"tags":[],"owner":{"account_id":376123,"reputation":5564,"user_id":727371,"display_name":"Karl-Bj&#248;rnar &#216;ie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1307714439,"creation_date":1307714439,"answer_id":6307397,"question_id":6307318,"body_markdown":"[PropertiesConfiguration][1] interprets &#39;,&#39; as a value separator.\r\n\r\n\r\n\r\n  [1]: http://commons.apache.org/configuration/apidocs/org/apache/commons/configuration/PropertiesConfiguration.html","title":"apache commons configuration loads property until &quot;,&quot; character","body":"<p><a href=\"http://commons.apache.org/configuration/apidocs/org/apache/commons/configuration/PropertiesConfiguration.html\" rel=\"nofollow\">PropertiesConfiguration</a> interprets ',' as a value separator.</p>\n"},{"tags":[],"owner":{"account_id":242871,"reputation":4296,"user_id":514687,"accept_rate":62,"display_name":"KrzyH"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1569611812,"creation_date":1307714503,"answer_id":6307407,"question_id":6307318,"body_markdown":"Check [Javadoc][1]. You have to setDelimiterParsingDisabled(true) to disable parsing list of properties.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-configuration/javadocs/v1.10/apidocs/org/apache/commons/configuration/AbstractConfiguration.html#setDelimiterParsingDisabled(boolean)","title":"apache commons configuration loads property until &quot;,&quot; character","body":"<p>Check <a href=\"https://commons.apache.org/proper/commons-configuration/javadocs/v1.10/apidocs/org/apache/commons/configuration/AbstractConfiguration.html#setDelimiterParsingDisabled(boolean)\" rel=\"nofollow noreferrer\">Javadoc</a>. You have to setDelimiterParsingDisabled(true) to disable parsing list of properties.</p>\n"},{"tags":[],"owner":{"account_id":465136,"reputation":441,"user_id":869030,"display_name":"WarsClon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469207687,"creation_date":1435485066,"answer_id":31098341,"question_id":6307318,"body_markdown":"If you put `\\` before the `,`, you escape it, and you can read the value\r\n\r\nExample:\r\n\r\n    myValue=value\\, with comma\r\n\r\nYou read = `value, with comma` without problems","title":"apache commons configuration loads property until &quot;,&quot; character","body":"<p>If you put <code>\\</code> before the <code>,</code>, you escape it, and you can read the value</p>\n\n<p>Example:</p>\n\n<pre><code>myValue=value\\, with comma\n</code></pre>\n\n<p>You read = <code>value, with comma</code> without problems</p>\n"},{"tags":[],"owner":{"account_id":9543743,"reputation":224,"user_id":7090727,"display_name":"kain"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1645556536,"creation_date":1513070578,"answer_id":47769066,"question_id":6307318,"body_markdown":"Actually propConfig.setDelimiterParsingDisabled(true) is working, but you must load the config file after this setting, for example:\r\n\r\n```java\r\npropConfig = new PropertiesConfiguration();\r\npropConfig.setDelimiterParsingDisabled(true);\r\npropConfig.load(propertiesFile);\r\n```\r\n\r\nSettings won&#39;t work if your code like is:\r\n\r\n```java\r\npropConfig = new PropertiesConfiguration(propertiesFile);\r\npropConfig.setDelimiterParsingDisabled(true);\r\n```","title":"apache commons configuration loads property until &quot;,&quot; character","body":"<p>Actually propConfig.setDelimiterParsingDisabled(true) is working, but you must load the config file after this setting, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>propConfig = new PropertiesConfiguration();\npropConfig.setDelimiterParsingDisabled(true);\npropConfig.load(propertiesFile);\n</code></pre>\n<p>Settings won't work if your code like is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>propConfig = new PropertiesConfiguration(propertiesFile);\npropConfig.setDelimiterParsingDisabled(true);\n</code></pre>\n"}],"owner":{"account_id":768115,"reputation":213,"user_id":792847,"display_name":"Tyler"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10229,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":6307407,"answer_count":5,"score":19,"last_activity_date":1645556536,"creation_date":1307714056,"question_id":6307318,"body_markdown":"I want to load configuration (apache commons configuration) from a properties file. My program is:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    PropertiesConfiguration pc = new PropertiesConfiguration(&quot;my.properties&quot;);\r\n    System.out.println(pc.getString(&quot;myValue&quot;));\r\n\r\nIn `my.properties` I have \r\n\r\n     myValue=value,\r\n\r\nwith comma\r\n\r\nWhen I run program the output is `value`, not `value, with comma`. Looks like value is loaded until `,` character.\r\n\r\nAny ideas?","title":"apache commons configuration loads property until &quot;,&quot; character","body":"<p>I want to load configuration (apache commons configuration) from a properties file. My program is:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>PropertiesConfiguration pc = new PropertiesConfiguration(\"my.properties\");\nSystem.out.println(pc.getString(\"myValue\"));\n</code></pre>\n\n<p>In <code>my.properties</code> I have </p>\n\n<pre><code> myValue=value,\n</code></pre>\n\n<p>with comma</p>\n\n<p>When I run program the output is <code>value</code>, not <code>value, with comma</code>. Looks like value is loaded until <code>,</code> character.</p>\n\n<p>Any ideas?</p>\n"},{"tags":["java","windows","swing","user-interface","jdialog"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1613064666,"post_id":66159456,"comment_id":116967235,"body_markdown":"Does this help? https://stackoverflow.com/questions/3965336/how-to-minimize-a-jframe-window-from-java","body":"Does this help? <a href=\"https://stackoverflow.com/questions/3965336/how-to-minimize-a-jframe-window-from-java\" title=\"how to minimize a jframe window from java\">stackoverflow.com/questions/3965336/&hellip;</a>"},{"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"score":0,"creation_date":1613067264,"post_id":66159456,"comment_id":116968491,"body_markdown":"unable to reproduce the same behaviour (JDK1.8), JDialog is not shown.","body":"unable to reproduce the same behaviour (JDK1.8), JDialog is not shown."},{"owner":{"account_id":18879456,"reputation":320,"user_id":13772184,"display_name":"Peter Alsen"},"score":0,"creation_date":1613072656,"post_id":66159456,"comment_id":116970920,"body_markdown":"I can reproduce this behavior (Oracle JDK 15). JDialog is shown when previewing after close. I tested the code with the `invokeLater()` to run on EDT but same behavior.","body":"I can reproduce this behavior (Oracle JDK 15). JDialog is shown when previewing after close. I tested the code with the <code>invokeLater()</code> to run on EDT but same behavior."},{"owner":{"account_id":20690703,"reputation":33,"user_id":15192150,"display_name":"Stefan S"},"score":0,"creation_date":1613115526,"post_id":66159456,"comment_id":116981502,"body_markdown":"@Abra that is not a feasible workaround. Minimizing and maximizing the main window is very noticeable to the user.","body":"@Abra that is not a feasible workaround. Minimizing and maximizing the main window is very noticeable to the user."},{"owner":{"account_id":20690703,"reputation":33,"user_id":15192150,"display_name":"Stefan S"},"score":0,"creation_date":1613115562,"post_id":66159456,"comment_id":116981515,"body_markdown":"I should mention that I am using OpenJDK 11 (LTS).","body":"I should mention that I am using OpenJDK 11 (LTS)."}],"answers":[{"tags":[],"owner":{"account_id":31618,"reputation":1833,"user_id":86969,"display_name":"Dan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645556397,"creation_date":1645469403,"answer_id":71211546,"question_id":66159456,"body_markdown":"Please try setting WS_EX_TOOLWINDOW style on the dialog directly before hiding it. Then remove it immediately (so it won&#39;t affect rendering on subsequent shows).\r\n\r\nToolbar windows are not allowed on the Taskbar and thus should not be able to be previewed. It&#39;s a hack, but it worked for me for a similar problem in Windows 11.\r\n\r\nHere&#39;s code that worked for me on Windows 11.  I was able to reproduce the error on Windows 11 with JDK17.\r\n\r\nYou need https://github.com/java-native-access/jna\r\n(`jna.jar` and `platform.jar`).  I couldn&#39;t find a way to set win32 window styles without it.\r\n\r\n`javac -cp .;./jna.jar;./platform.jar jdtest.java`\r\n\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JDialog;\r\n    import java.awt.event.*;\r\n    \r\n    import com.sun.jna.Native;\r\n    import com.sun.jna.platform.win32.User32;\r\n    import com.sun.jna.platform.win32.WinDef;\r\n    import com.sun.jna.platform.win32.WinDef.HWND;\r\n    import com.sun.jna.platform.win32.WinUser;\r\n    public class jdtest\r\n    {\r\n    \t\r\n    \tpublic static int WS_EX_TOOLWINDOW = 0x00000080;\r\n    \tpublic static void changeStyle(HWND hwnd, boolean hiding) {\r\n    \t\tint exStyle = User32.INSTANCE.GetWindowLong(hwnd, WinUser.GWL_EXSTYLE);\r\n    \t\tif (hiding)\t{\r\n    \t\t\tUser32.INSTANCE.SetWindowLong(hwnd, WinUser.GWL_EXSTYLE, exStyle | WS_EX_TOOLWINDOW);\r\n    \t\t} else {\r\n    \t\t\tUser32.INSTANCE.SetWindowLong(hwnd, WinUser.GWL_EXSTYLE, exStyle &amp; ~WS_EX_TOOLWINDOW);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tprivate static HWND getHWnd(JDialog d) {\r\n            HWND hwnd = new HWND();\r\n            hwnd.setPointer(Native.getWindowPointer(d));\r\n            return hwnd;\r\n    \t}\r\n    \r\n    \tpublic static void main( String[] args ) throws Exception {\r\n    \t\tJFrame frame = new JFrame();\r\n    \t\tframe.setTitle( &quot;frame&quot; );\r\n    \t\tframe.setSize( 700, 700 );\r\n    \t\tframe.setVisible( true );\r\n    \t\tframe.setDefaultCloseOperation( JDialog.EXIT_ON_CLOSE );\r\n    \r\n    \t\tJDialog d = new JDialog( frame ); // modeless dialog\r\n    \t\td.setTitle( &quot;dialog&quot; );\r\n    \t\td.setSize( 300, 300 );\r\n    \t\td.setDefaultCloseOperation( JDialog.HIDE_ON_CLOSE );\r\n    \r\n    \t\td.addWindowListener(new WindowAdapter() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void windowClosing(WindowEvent e) {\r\n    \t\t\t\tchangeStyle(getHWnd(d), true);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\td.addWindowListener(new WindowAdapter() {\r\n    \t\t\tpublic void windowOpening(WindowEvent e) {\r\n    \t\t\t\tchangeStyle(getHWnd(d), false);\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\td.setVisible( true );\r\n    \t}\r\n    }\r\n\r\n","title":"Hidden JDialog still visible in Windows 10 taskbar peek preview","body":"<p>Please try setting WS_EX_TOOLWINDOW style on the dialog directly before hiding it. Then remove it immediately (so it won't affect rendering on subsequent shows).</p>\n<p>Toolbar windows are not allowed on the Taskbar and thus should not be able to be previewed. It's a hack, but it worked for me for a similar problem in Windows 11.</p>\n<p>Here's code that worked for me on Windows 11.  I was able to reproduce the error on Windows 11 with JDK17.</p>\n<p>You need <a href=\"https://github.com/java-native-access/jna\" rel=\"nofollow noreferrer\">https://github.com/java-native-access/jna</a>\n(<code>jna.jar</code> and <code>platform.jar</code>).  I couldn't find a way to set win32 window styles without it.</p>\n<p><code>javac -cp .;./jna.jar;./platform.jar jdtest.java</code></p>\n<pre><code>import javax.swing.JFrame;\nimport javax.swing.JDialog;\nimport java.awt.event.*;\n\nimport com.sun.jna.Native;\nimport com.sun.jna.platform.win32.User32;\nimport com.sun.jna.platform.win32.WinDef;\nimport com.sun.jna.platform.win32.WinDef.HWND;\nimport com.sun.jna.platform.win32.WinUser;\npublic class jdtest\n{\n    \n    public static int WS_EX_TOOLWINDOW = 0x00000080;\n    public static void changeStyle(HWND hwnd, boolean hiding) {\n        int exStyle = User32.INSTANCE.GetWindowLong(hwnd, WinUser.GWL_EXSTYLE);\n        if (hiding) {\n            User32.INSTANCE.SetWindowLong(hwnd, WinUser.GWL_EXSTYLE, exStyle | WS_EX_TOOLWINDOW);\n        } else {\n            User32.INSTANCE.SetWindowLong(hwnd, WinUser.GWL_EXSTYLE, exStyle &amp; ~WS_EX_TOOLWINDOW);\n        }\n    }\n    \n    private static HWND getHWnd(JDialog d) {\n        HWND hwnd = new HWND();\n        hwnd.setPointer(Native.getWindowPointer(d));\n        return hwnd;\n    }\n\n    public static void main( String[] args ) throws Exception {\n        JFrame frame = new JFrame();\n        frame.setTitle( &quot;frame&quot; );\n        frame.setSize( 700, 700 );\n        frame.setVisible( true );\n        frame.setDefaultCloseOperation( JDialog.EXIT_ON_CLOSE );\n\n        JDialog d = new JDialog( frame ); // modeless dialog\n        d.setTitle( &quot;dialog&quot; );\n        d.setSize( 300, 300 );\n        d.setDefaultCloseOperation( JDialog.HIDE_ON_CLOSE );\n\n        d.addWindowListener(new WindowAdapter() {\n            @Override\n            public void windowClosing(WindowEvent e) {\n                changeStyle(getHWnd(d), true);\n            }\n        });\n        d.addWindowListener(new WindowAdapter() {\n            public void windowOpening(WindowEvent e) {\n                changeStyle(getHWnd(d), false);\n            }\n        });\n\n        d.setVisible( true );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20690703,"reputation":33,"user_id":15192150,"display_name":"Stefan S"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71211546,"answer_count":1,"score":3,"last_activity_date":1645556397,"creation_date":1613063557,"question_id":66159456,"body_markdown":"A `JDialog` configured with `HIDE_ON_CLOSE` becomes invisible after closing it. But it is still visible in the peek preview of the Windows taskbar. The preview is corrected only after the main window is minimized and maximized again. Of course one could dispose the dialog instead of hiding it, but that&#39;s not what I am aiming for.\r\n\r\n - Is this a Java Swing bug?\r\n - Is it possible to force a refresh of the taskbar preview?\r\n - Any other workaround?\r\n\r\nCode sample:\r\n\r\n        public static void main( String[] args ) throws Exception {\r\n            JFrame frame = new JFrame();\r\n            frame.setTitle( &quot;frame&quot; );\r\n            frame.setSize( 700, 700 );\r\n            frame.setVisible( true );\r\n            frame.setDefaultCloseOperation( JDialog.EXIT_ON_CLOSE );\r\n        \r\n            JDialog d = new JDialog( frame ); // modeless dialog\r\n            d.setTitle( &quot;dialog&quot; );\r\n            d.setSize( 300, 300 );\r\n            d.setDefaultCloseOperation( JDialog.HIDE_ON_CLOSE );\r\n            d.setVisible( true );\r\n        }\r\n\r\n![GIF describing the problem][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HFA0y.gif","title":"Hidden JDialog still visible in Windows 10 taskbar peek preview","body":"<p>A <code>JDialog</code> configured with <code>HIDE_ON_CLOSE</code> becomes invisible after closing it. But it is still visible in the peek preview of the Windows taskbar. The preview is corrected only after the main window is minimized and maximized again. Of course one could dispose the dialog instead of hiding it, but that's not what I am aiming for.</p>\n<ul>\n<li>Is this a Java Swing bug?</li>\n<li>Is it possible to force a refresh of the taskbar preview?</li>\n<li>Any other workaround?</li>\n</ul>\n<p>Code sample:</p>\n<pre><code>    public static void main( String[] args ) throws Exception {\n        JFrame frame = new JFrame();\n        frame.setTitle( &quot;frame&quot; );\n        frame.setSize( 700, 700 );\n        frame.setVisible( true );\n        frame.setDefaultCloseOperation( JDialog.EXIT_ON_CLOSE );\n    \n        JDialog d = new JDialog( frame ); // modeless dialog\n        d.setTitle( &quot;dialog&quot; );\n        d.setSize( 300, 300 );\n        d.setDefaultCloseOperation( JDialog.HIDE_ON_CLOSE );\n        d.setVisible( true );\n    }\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/HFA0y.gif\" alt=\"GIF describing the problem\" /></p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645555790,"creation_date":1645555790,"answer_id":71226810,"question_id":71226679,"body_markdown":"Sounds more like Log Compaction feature would fit your requirements: https://kafka.apache.org/documentation/#compaction","title":"How do debounce Spring KafkaListener","body":"<p>Sounds more like Log Compaction feature would fit your requirements: <a href=\"https://kafka.apache.org/documentation/#compaction\" rel=\"nofollow noreferrer\">https://kafka.apache.org/documentation/#compaction</a></p>\n"}],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645556317,"creation_date":1645555175,"question_id":71226679,"body_markdown":"I have a topic that contains server registrations but it may get several messages at once because the servers run in a cluster, but I only need the last one.  So I was thinking I wanted a debounce similar to https://stackoverflow.com/questions/68273851/debounce-kafka-events but I want to implement it for the `KafkaListener` provided by Spring.\r\n\r\nThe data is `compacted`, but it takes time for the segment to shrink and data still comes in pretty quickly.","title":"How do debounce Spring KafkaListener","body":"<p>I have a topic that contains server registrations but it may get several messages at once because the servers run in a cluster, but I only need the last one.  So I was thinking I wanted a debounce similar to <a href=\"https://stackoverflow.com/questions/68273851/debounce-kafka-events\">Debounce kafka events</a> but I want to implement it for the <code>KafkaListener</code> provided by Spring.</p>\n<p>The data is <code>compacted</code>, but it takes time for the segment to shrink and data still comes in pretty quickly.</p>\n"},{"tags":["java","swing","for-loop","jbutton","event-dispatch-thread"],"comments":[{"owner":{"account_id":8666367,"reputation":9194,"user_id":6486738,"accept_rate":100,"display_name":"Ted Klein Bergman"},"score":0,"creation_date":1645475652,"post_id":71212663,"comment_id":125876932,"body_markdown":"You can&#39;t have a for loop iterating continuously in a GUI. You can only have algorithms that works within frames (usually within 33 ms).","body":"You can&#39;t have a for loop iterating continuously in a GUI. You can only have algorithms that works within frames (usually within 33 ms)."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1645477629,"post_id":71212663,"comment_id":125877548,"body_markdown":"See [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) and [Worker Threads and SwingWorker](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html)","body":"See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html\" rel=\"nofollow noreferrer\">Worker Threads and SwingWorker</a>"}],"answers":[{"tags":[],"owner":{"account_id":4074690,"reputation":71,"user_id":3346681,"display_name":"Kyriazis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645476065,"creation_date":1645476065,"answer_id":71212780,"question_id":71212663,"body_markdown":"Put your function with a big for loop inside a [thread][1] and [kill the thread][2] it when the button is pressed.\r\n\r\n\r\n  [1]: https://www.w3schools.com/java/java_threads.asp\r\n  [2]: https://www.geeksforgeeks.org/killing-threads-in-java/#:~:text=A%20thread%20is%20automatically%20destroyed,manage%20the%20execution%20of%20threads.","title":"Can&#39;t click on a button, while an other button is active","body":"<p>Put your function with a big for loop inside a <a href=\"https://www.w3schools.com/java/java_threads.asp\" rel=\"nofollow noreferrer\">thread</a> and <a href=\"https://www.geeksforgeeks.org/killing-threads-in-java/#:%7E:text=A%20thread%20is%20automatically%20destroyed,manage%20the%20execution%20of%20threads.\" rel=\"nofollow noreferrer\">kill the thread</a> it when the button is pressed.</p>\n"}],"owner":{"account_id":22447298,"reputation":3,"user_id":16651019,"display_name":"copy14"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71212780,"answer_count":1,"score":0,"last_activity_date":1645556078,"creation_date":1645475517,"question_id":71212663,"body_markdown":"I made a button, when you click on, it calls a function, which has a big for loop. While the for is active, you can&#39;t click any other thing in the window. I want to make a STOP/EXIT button, when you click on, it exits the program (System.exit(0)). But while the for is active, you cant click on them, so basically it is useless.\r\n\r\nHow can I solve this problem?","title":"Can&#39;t click on a button, while an other button is active","body":"<p>I made a button, when you click on, it calls a function, which has a big for loop. While the for is active, you can't click any other thing in the window. I want to make a STOP/EXIT button, when you click on, it exits the program (System.exit(0)). But while the for is active, you cant click on them, so basically it is useless.</p>\n<p>How can I solve this problem?</p>\n"},{"tags":["java","apache-kafka","kafka-topic"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645457761,"creation_date":1645457761,"answer_id":71209035,"question_id":71203843,"body_markdown":"There&#39;s no attributes across both of these topics for you to join on, but you could consume both in a simple loop and add a simple counter... Or do the same with `filter().map().to()`\r\n\r\n\r\nThe easier solution would be to modify your original producer to iterate over your file in pairs of lines, and produce single kg+date events, rather than send separate events for every line, or having two related events with no shared information between them in separate topics entirely.\r\n\r\nYou also don&#39;t need the file header line in your topic ","title":"Generate a key for kafka messages that haven&#39;t any, in two topics, in order to merge / join them","body":"<p>There's no attributes across both of these topics for you to join on, but you could consume both in a simple loop and add a simple counter... Or do the same with <code>filter().map().to()</code></p>\n<p>The easier solution would be to modify your original producer to iterate over your file in pairs of lines, and produce single kg+date events, rather than send separate events for every line, or having two related events with no shared information between them in separate topics entirely.</p>\n<p>You also don't need the file header line in your topic</p>\n"}],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645555546,"creation_date":1645435340,"question_id":71203843,"body_markdown":"From some row data for input in a `poids_garmin_brut` topic:\r\n\r\n```csv\r\nDur&#233;e,Poids,Variation,IMC,Masse grasse,Masse musculaire squelettique,Masse osseuse,Masse hydrique,\r\n&quot; 14 F&#233;v. 2022&quot;,\r\n06:37,72.1 kg,0.3 kg,22.8,26.3 %,29.7 kg,3.5 kg,53.8 %,\r\n&quot; 13 F&#233;v. 2022&quot;,\r\n06:48,72.4 kg,0.2 kg,22.9,25.4 %,29.8 kg,3.6 kg,54.4 %,\r\n&quot; 12 F&#233;v. 2022&quot;,\r\n06:17,72.2 kg,0.0 kg,22.8,25.3 %,29.7 kg,3.6 kg,54.5 %,\r\n```\r\n\r\nI managed to create two topics `poids_garmin_split_date` and `poids_garmin_split_valeursPoids` with that small method:\r\n\r\n```java\r\npublic StreamsBuilder extraire(StreamsBuilder builder) {\r\n   KStream&lt;Void,String&gt; streamBrut = builder.stream(&quot;poids_garmin_brut&quot;);\r\n\r\n   // Les lignes qui d&#233;butent par &quot; &quot; portent des dates\r\n   streamBrut.filter((key, value) -&gt; value.startsWith(&quot;\\&quot; &quot;)).to(&quot;poids_garmin_split_date&quot;);\r\n\r\n   // celles qui ne d&#233;butent pas par &quot; &quot; ni ne contiennent &quot;Dur&#233;e&quot; (header du csv) sont des donn&#233;es de poids.\r\n   streamBrut.filter((key, value) -&gt; !value.startsWith(&quot;\\&quot; &quot;) &amp;&amp; !value.contains(&quot;Dur&#233;e&quot;)).to(&quot;poids_garmin_split_valeursPoids&quot;);\r\n   return builder;\r\n}\r\n```\r\n\r\nThe topic `poids_garmin_split_date` now contains: \r\n\r\n```\r\n&quot; 14 F&#233;v. 2022&quot;,\r\n&quot; 13 F&#233;v. 2022&quot;,\r\n&quot; 12 F&#233;v. 2022&quot;,\r\n```\r\n\r\nand `poids_garmin_split_valeursPoids`:\r\n\r\n```\r\n06:37,72.1 kg,0.3 kg,22.8,26.3 %,29.7 kg,3.5 kg,53.8 %,\r\n06:48,72.4 kg,0.2 kg,22.9,25.4 %,29.8 kg,3.6 kg,54.4 %,\r\n06:17,72.2 kg,0.0 kg,22.8,25.3 %,29.7 kg,3.6 kg,54.5 %,\r\n```\r\n\r\nBoth topics have _null_ = no key, but I need to add one to both of them, to link their content two by two :\r\n\r\n```\r\n123541, &quot; 14 F&#233;v. 2022&quot;,\r\n123542, &quot; 13 F&#233;v. 2022&quot;,\r\n123543, &quot; 12 F&#233;v. 2022&quot;,\r\n```\r\n\r\nand\r\n\r\n```\r\n123541, 06:37,72.1 kg,0.3 kg,22.8,26.3 %,29.7 kg,3.5 kg,53.8 %,\r\n123542, 06:48,72.4 kg,0.2 kg,22.9,25.4 %,29.8 kg,3.6 kg,54.4 %,\r\n123543, 06:17,72.2 kg,0.0 kg,22.8,25.3 %,29.7 kg,3.6 kg,54.5 %,\r\n```\r\n\r\nfor example, so that I can merge these topics into a single one that would be:\r\n\r\n```\r\n123541, &quot; 14 F&#233;v. 2022&quot;,06:37,72.1 kg,0.3 kg,22.8,26.3 %,29.7 kg,3.5 kg,53.8 %,\r\n123542, &quot; 13 F&#233;v. 2022&quot;,06:48,72.4 kg,0.2 kg,22.9,25.4 %,29.8 kg,3.6 kg,54.4 %,\r\n123543, &quot; 12 F&#233;v. 2022&quot;,06:17,72.2 kg,0.0 kg,22.8,25.3 %,29.7 kg,3.6 kg,54.5 %,\r\n```\r\n\r\nthat I can exploit.\r\n\r\nIf it&#39;s the good way that I should do things (I&#39;m a beginner with _Kafka_),  \r\nhow can I do this?\r\n\r\n`map` operation? `transform` one?\r\n\r\n----------\r\n\r\nFrom your answer, @OneCricketeer, I&#39;ve attempted this:\r\n\r\n```java\r\nKStream&lt;Void,String&gt; streamBrut = builder.stream(&quot;poids_garmin_brut&quot;);\r\n\r\n// Les lignes qui d&#233;butent par &quot; &quot; portent des dates\r\nfinal LongAccumulator compteurDate = new LongAccumulator(Long::sum, 0L);\r\n\r\nstreamBrut.filter((key, value) -&gt; value.startsWith(&quot;\\&quot; &quot;))\r\n   .map((key, value) -&gt; {\r\n      compteurDate.accumulate(1L);\r\n      return new KeyValue&lt;&gt;(compteurDate.toString(), value);\r\n   })\r\n   .to(&quot;poids_garmin_split_date&quot;);\r\n\r\nKStream&lt;String, String&gt; streamSplitDate = builder.stream(&quot;poids_garmin_split_date&quot;);\r\n\r\n// celles qui ne d&#233;butent pas par &quot; &quot; ni ne contiennent &quot;Dur&#233;e&quot; (header du csv) sont des donn&#233;es de poids.\r\nfinal LongAccumulator compteurValeursPoids = new LongAccumulator(Long::sum, 0L);\r\n\r\nstreamBrut.filter((key, value) -&gt; !value.startsWith(&quot;\\&quot; &quot;) &amp;&amp; !value.contains(&quot;Dur&#233;e&quot;))\r\n   .map((key, value) -&gt; {\r\n      compteurValeursPoids.accumulate(1L);\r\n      return new KeyValue&lt;&gt;(compteurValeursPoids.toString(), value);\r\n   })\r\n   .to(&quot;poids_garmin_split_valeursPoids&quot;);\r\n\r\nKStream&lt;String, String&gt; streamSplitValeursPoids = builder.stream(&quot;poids_garmin_split_valeursPoids&quot;);\r\n\r\nstreamSplitDate.join(streamSplitValeursPoids, \r\n   (String date, String valeursPoids) -&gt; date + valeursPoids, \r\n   JoinWindows.ofTimeDifferenceWithNoGrace(Duration.ofMinutes(5)))\r\n   .to(&quot;poids_garmin_join_date_valeurs&quot;);\r\n```\r\n\r\nthat is resulting to a topic `poids_garmin_join_date_valeurs` having this content:\r\n\r\n```\r\n&quot; 14 F&#233;v. 2022&quot;,06:37,72.1 kg,0.3 kg,22.8,26.3 %,29.7 kg,3.5 kg,53.8 %,\r\n&quot; 13 F&#233;v. 2022&quot;,06:48,72.4 kg,0.2 kg,22.9,25.4 %,29.8 kg,3.6 kg,54.4 %,\r\n&quot; 12 F&#233;v. 2022&quot;,06:17,72.2 kg,0.0 kg,22.8,25.3 %,29.7 kg,3.6 kg,54.5 %,\r\n&quot; 11 F&#233;v. 2022&quot;,05:54,72.2 kg,0.1 kg,22.8,25.6 %,29.7 kg,3.5 kg,54.3 %,\r\n&quot; 10 F&#233;v. 2022&quot;,06:14,72.3 kg,0.0 kg,22.8,25.9 %,29.7 kg,3.5 kg,54.1 %,\r\n&quot; 9 F&#233;v. 2022&quot;,06:06,72.3 kg,0.5 kg,22.8,26.3 %,29.7 kg,3.5 kg,53.8 %,\r\n&quot; 8 F&#233;v. 2022&quot;,07:14,71.8 kg,0.7 kg,22.7,26.3 %,29.6 kg,3.5 kg,53.8 %,\r\n```\r\n\r\nBut I don&#39;t know how much that manner of doing things is acceptable.","title":"Generate a key for kafka messages that haven&#39;t any, in two topics, in order to merge / join them","body":"<p>From some row data for input in a <code>poids_garmin_brut</code> topic:</p>\n<pre><code>Durée,Poids,Variation,IMC,Masse grasse,Masse musculaire squelettique,Masse osseuse,Masse hydrique,\n&quot; 14 Fév. 2022&quot;,\n06:37,72.1 kg,0.3 kg,22.8,26.3 %,29.7 kg,3.5 kg,53.8 %,\n&quot; 13 Fév. 2022&quot;,\n06:48,72.4 kg,0.2 kg,22.9,25.4 %,29.8 kg,3.6 kg,54.4 %,\n&quot; 12 Fév. 2022&quot;,\n06:17,72.2 kg,0.0 kg,22.8,25.3 %,29.7 kg,3.6 kg,54.5 %,\n</code></pre>\n<p>I managed to create two topics <code>poids_garmin_split_date</code> and <code>poids_garmin_split_valeursPoids</code> with that small method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public StreamsBuilder extraire(StreamsBuilder builder) {\n   KStream&lt;Void,String&gt; streamBrut = builder.stream(&quot;poids_garmin_brut&quot;);\n\n   // Les lignes qui débutent par &quot; &quot; portent des dates\n   streamBrut.filter((key, value) -&gt; value.startsWith(&quot;\\&quot; &quot;)).to(&quot;poids_garmin_split_date&quot;);\n\n   // celles qui ne débutent pas par &quot; &quot; ni ne contiennent &quot;Durée&quot; (header du csv) sont des données de poids.\n   streamBrut.filter((key, value) -&gt; !value.startsWith(&quot;\\&quot; &quot;) &amp;&amp; !value.contains(&quot;Durée&quot;)).to(&quot;poids_garmin_split_valeursPoids&quot;);\n   return builder;\n}\n</code></pre>\n<p>The topic <code>poids_garmin_split_date</code> now contains:</p>\n<pre><code>&quot; 14 Fév. 2022&quot;,\n&quot; 13 Fév. 2022&quot;,\n&quot; 12 Fév. 2022&quot;,\n</code></pre>\n<p>and <code>poids_garmin_split_valeursPoids</code>:</p>\n<pre><code>06:37,72.1 kg,0.3 kg,22.8,26.3 %,29.7 kg,3.5 kg,53.8 %,\n06:48,72.4 kg,0.2 kg,22.9,25.4 %,29.8 kg,3.6 kg,54.4 %,\n06:17,72.2 kg,0.0 kg,22.8,25.3 %,29.7 kg,3.6 kg,54.5 %,\n</code></pre>\n<p>Both topics have <em>null</em> = no key, but I need to add one to both of them, to link their content two by two :</p>\n<pre><code>123541, &quot; 14 Fév. 2022&quot;,\n123542, &quot; 13 Fév. 2022&quot;,\n123543, &quot; 12 Fév. 2022&quot;,\n</code></pre>\n<p>and</p>\n<pre><code>123541, 06:37,72.1 kg,0.3 kg,22.8,26.3 %,29.7 kg,3.5 kg,53.8 %,\n123542, 06:48,72.4 kg,0.2 kg,22.9,25.4 %,29.8 kg,3.6 kg,54.4 %,\n123543, 06:17,72.2 kg,0.0 kg,22.8,25.3 %,29.7 kg,3.6 kg,54.5 %,\n</code></pre>\n<p>for example, so that I can merge these topics into a single one that would be:</p>\n<pre><code>123541, &quot; 14 Fév. 2022&quot;,06:37,72.1 kg,0.3 kg,22.8,26.3 %,29.7 kg,3.5 kg,53.8 %,\n123542, &quot; 13 Fév. 2022&quot;,06:48,72.4 kg,0.2 kg,22.9,25.4 %,29.8 kg,3.6 kg,54.4 %,\n123543, &quot; 12 Fév. 2022&quot;,06:17,72.2 kg,0.0 kg,22.8,25.3 %,29.7 kg,3.6 kg,54.5 %,\n</code></pre>\n<p>that I can exploit.</p>\n<p>If it's the good way that I should do things (I'm a beginner with <em>Kafka</em>),<br />\nhow can I do this?</p>\n<p><code>map</code> operation? <code>transform</code> one?</p>\n<hr />\n<p>From your answer, @OneCricketeer, I've attempted this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>KStream&lt;Void,String&gt; streamBrut = builder.stream(&quot;poids_garmin_brut&quot;);\n\n// Les lignes qui débutent par &quot; &quot; portent des dates\nfinal LongAccumulator compteurDate = new LongAccumulator(Long::sum, 0L);\n\nstreamBrut.filter((key, value) -&gt; value.startsWith(&quot;\\&quot; &quot;))\n   .map((key, value) -&gt; {\n      compteurDate.accumulate(1L);\n      return new KeyValue&lt;&gt;(compteurDate.toString(), value);\n   })\n   .to(&quot;poids_garmin_split_date&quot;);\n\nKStream&lt;String, String&gt; streamSplitDate = builder.stream(&quot;poids_garmin_split_date&quot;);\n\n// celles qui ne débutent pas par &quot; &quot; ni ne contiennent &quot;Durée&quot; (header du csv) sont des données de poids.\nfinal LongAccumulator compteurValeursPoids = new LongAccumulator(Long::sum, 0L);\n\nstreamBrut.filter((key, value) -&gt; !value.startsWith(&quot;\\&quot; &quot;) &amp;&amp; !value.contains(&quot;Durée&quot;))\n   .map((key, value) -&gt; {\n      compteurValeursPoids.accumulate(1L);\n      return new KeyValue&lt;&gt;(compteurValeursPoids.toString(), value);\n   })\n   .to(&quot;poids_garmin_split_valeursPoids&quot;);\n\nKStream&lt;String, String&gt; streamSplitValeursPoids = builder.stream(&quot;poids_garmin_split_valeursPoids&quot;);\n\nstreamSplitDate.join(streamSplitValeursPoids, \n   (String date, String valeursPoids) -&gt; date + valeursPoids, \n   JoinWindows.ofTimeDifferenceWithNoGrace(Duration.ofMinutes(5)))\n   .to(&quot;poids_garmin_join_date_valeurs&quot;);\n</code></pre>\n<p>that is resulting to a topic <code>poids_garmin_join_date_valeurs</code> having this content:</p>\n<pre><code>&quot; 14 Fév. 2022&quot;,06:37,72.1 kg,0.3 kg,22.8,26.3 %,29.7 kg,3.5 kg,53.8 %,\n&quot; 13 Fév. 2022&quot;,06:48,72.4 kg,0.2 kg,22.9,25.4 %,29.8 kg,3.6 kg,54.4 %,\n&quot; 12 Fév. 2022&quot;,06:17,72.2 kg,0.0 kg,22.8,25.3 %,29.7 kg,3.6 kg,54.5 %,\n&quot; 11 Fév. 2022&quot;,05:54,72.2 kg,0.1 kg,22.8,25.6 %,29.7 kg,3.5 kg,54.3 %,\n&quot; 10 Fév. 2022&quot;,06:14,72.3 kg,0.0 kg,22.8,25.9 %,29.7 kg,3.5 kg,54.1 %,\n&quot; 9 Fév. 2022&quot;,06:06,72.3 kg,0.5 kg,22.8,26.3 %,29.7 kg,3.5 kg,53.8 %,\n&quot; 8 Fév. 2022&quot;,07:14,71.8 kg,0.7 kg,22.7,26.3 %,29.6 kg,3.5 kg,53.8 %,\n</code></pre>\n<p>But I don't know how much that manner of doing things is acceptable.</p>\n"},{"tags":["java","softhsm"],"answers":[{"tags":[],"owner":{"account_id":19951149,"reputation":61,"user_id":14746086,"display_name":"DarkVeider"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645555305,"creation_date":1645554869,"answer_id":71226611,"question_id":71018285,"body_markdown":"It&#39;s because some changes have been happened between versions of java.\r\nYou have two alternatives:\r\n1. Change version of source code, for example with maven you can add these properties to your pom file.\r\n\r\n    ```\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n2. Use providers:\r\n\r\n    ```\r\n    Provider sunPKCS11 = Security.getProvider(&quot;SunPKCS11&quot;);\r\n    sunPKCS11 = sunPKCS11.configure(&quot;softhsm.cfg&quot;);\r\n    KeyStore ks = KeyStore.getInstance(&quot;PKCS11&quot;, sunPKCS11);\r\n\r\nAnd erase this line &quot;import sun.security.pkcs11.*;&quot;. Maybe you have to upgrade bouncycastle too.","title":"sun.security.pkcs11 is not visible","body":"<p>It's because some changes have been happened between versions of java.\nYou have two alternatives:</p>\n<ol>\n<li><p>Change version of source code, for example with maven you can add these properties to your pom file.</p>\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n\n</code></pre>\n</li>\n<li><p>Use providers:</p>\n<pre><code>Provider sunPKCS11 = Security.getProvider(&quot;SunPKCS11&quot;);\nsunPKCS11 = sunPKCS11.configure(&quot;softhsm.cfg&quot;);\nKeyStore ks = KeyStore.getInstance(&quot;PKCS11&quot;, sunPKCS11);\n\n</code></pre>\n</li>\n</ol>\n<p>And erase this line &quot;import sun.security.pkcs11.*;&quot;. Maybe you have to upgrade bouncycastle too.</p>\n"}],"owner":{"account_id":22419216,"reputation":11,"user_id":16626789,"display_name":"Sanskriti Pattanayak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3607,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645555305,"creation_date":1644235482,"question_id":71018285,"body_markdown":"Error:\r\n```none\r\nSoftHSM.java:8: error: package sun.security.pkcs11 is not visible\r\nimport sun.security.pkcs11.*;\r\n                   ^\r\n  (package sun.security.pkcs11 is declared in module jdk.crypto.cryptoki, which is not in the module graph)\r\n```\r\n[![Error log screenshot][1]][1]\r\n\r\nUnable to run SoftHSM.java program to work with softHSM due to the errors.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    import java.io.*;\r\n    import java.math.*;\r\n    import java.util.*;\r\n\r\n    import java.security.*;\r\n    import java.security.interfaces.*;\r\n    import java.security.cert.*;\r\n    import sun.security.pkcs11.*;\r\n    import org.bouncycastle.x509.*;\r\n\r\n    import javax.security.auth.x500.X500Principal;\r\n\r\n    import org.bouncycastle.asn1.x509.BasicConstraints;\r\n    import org.bouncycastle.asn1.x509.ExtendedKeyUsage;\r\n    import org.bouncycastle.asn1.x509.GeneralName;\r\n    import org.bouncycastle.asn1.x509.GeneralNames;\r\n    import org.bouncycastle.asn1.x509.KeyPurposeId;\r\n    import org.bouncycastle.asn1.x509.KeyUsage;\r\n    import org.bouncycastle.asn1.x509.X509Extensions;\r\n    import org.bouncycastle.x509.X509V3CertificateGenerator;\r\n\r\n    class SoftHSM\r\n    {\r\n        public static void main(String args[]) throws Exception {\r\n            // Set up the Sun PKCS 11 provider\r\n            String configName = &quot;softhsm.cfg&quot;;\r\n            Provider p = new SunPKCS11(configName);\r\n\r\n            if (-1 == Security.addProvider(p)) {\r\n                throw new RuntimeException(&quot;could not add security provider&quot;);\r\n            }\r\n\r\n            // Load the key store\r\n            char[] pin = &quot;1234&quot;.toCharArray();\r\n            KeyStore ks = KeyStore.getInstance(&quot;PKCS11&quot;, p);\r\n            ks.load(null, pin);\r\n\r\n            // Generate the key\r\n            SecureRandom sr = new SecureRandom();\r\n            KeyPairGenerator keyGen = KeyPairGenerator.getInstance(&quot;RSA&quot;, p);\r\n            keyGen.initialize(1024, sr);\r\n            KeyPair keyPair = keyGen.generateKeyPair();\r\n            PrivateKey pk = keyPair.getPrivate();\r\n\r\n            // Java API requires a certificate chain\r\n            X509Certificate[] chain = generateV3Certificate(keyPair);\r\n\r\n            ks.setKeyEntry(&quot;ALIAS-GOES-HERE&quot;, pk, &quot;1234&quot;.toCharArray(), chain);\r\n\r\n            ks.store(null);\r\n\r\n            System.out.println(&quot;OK&quot;);\r\n        }\r\n\r\n\r\n        public static X509Certificate[] generateV3Certificate(KeyPair pair) throws InvalidKeyException, NoSuchProviderException, SignatureException {\r\n            Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\r\n\r\n            X509V3CertificateGenerator certGen = new X509V3CertificateGenerator();\r\n\r\n            certGen.setSerialNumber(BigInteger.valueOf(System.currentTimeMillis()));\r\n            certGen.setIssuerDN(new X500Principal(&quot;CN=Test Certificate&quot;));\r\n            certGen.setNotBefore(new Date(System.currentTimeMillis() - 10000));\r\n            certGen.setNotAfter(new Date(System.currentTimeMillis() + 10000));\r\n            certGen.setSubjectDN(new X500Principal(&quot;CN=Test Certificate&quot;));\r\n            certGen.setPublicKey(pair.getPublic());\r\n            certGen.setSignatureAlgorithm(&quot;SHA256WithRSA&quot;);\r\n\r\n            certGen.addExtension(X509Extensions.BasicConstraints, true, new BasicConstraints(false));\r\n            certGen.addExtension(X509Extensions.KeyUsage, true, new KeyUsage(KeyUsage.digitalSignature | KeyUsage.keyEncipherment));\r\n            certGen.addExtension(X509Extensions.ExtendedKeyUsage, true, new ExtendedKeyUsage(KeyPurposeId.id_kp_serverAuth));\r\n\r\n            certGen.addExtension(X509Extensions.SubjectAlternativeName, false, new GeneralNames(new GeneralName(GeneralName.rfc822Name, &quot;test@test.test&quot;)));\r\n\r\n            X509Certificate[] chain = new X509Certificate[1];\r\n            chain[0] = certGen.generateX509Certificate(pair.getPrivate(), &quot;SunPKCS11-SoftHSM&quot;);\r\n\r\n            return chain;\r\n        }\r\n    }\r\n\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    name = SoftHSM\r\n    library = C:/SoftHSM2/lib/softhsm2-x64.dll\r\n    slot = 0x0\r\n    attributes(generate, *, *) = {\r\n       CKA_TOKEN = true\r\n    }\r\n    attributes(generate, CKO_CERTIFICATE, *) = {\r\n       CKA_PRIVATE = false\r\n    }\r\n    attributes(generate, CKO_PUBLIC_KEY, *) = {\r\n       CKA_PRIVATE = false\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hxYzq.png","title":"sun.security.pkcs11 is not visible","body":"<p>Error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>SoftHSM.java:8: error: package sun.security.pkcs11 is not visible\nimport sun.security.pkcs11.*;\n                   ^\n  (package sun.security.pkcs11 is declared in module jdk.crypto.cryptoki, which is not in the module graph)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/hxYzq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hxYzq.png\" alt=\"Error log screenshot\" /></a></p>\n<p>Unable to run SoftHSM.java program to work with softHSM due to the errors.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\nimport java.math.*;\nimport java.util.*;\n\nimport java.security.*;\nimport java.security.interfaces.*;\nimport java.security.cert.*;\nimport sun.security.pkcs11.*;\nimport org.bouncycastle.x509.*;\n\nimport javax.security.auth.x500.X500Principal;\n\nimport org.bouncycastle.asn1.x509.BasicConstraints;\nimport org.bouncycastle.asn1.x509.ExtendedKeyUsage;\nimport org.bouncycastle.asn1.x509.GeneralName;\nimport org.bouncycastle.asn1.x509.GeneralNames;\nimport org.bouncycastle.asn1.x509.KeyPurposeId;\nimport org.bouncycastle.asn1.x509.KeyUsage;\nimport org.bouncycastle.asn1.x509.X509Extensions;\nimport org.bouncycastle.x509.X509V3CertificateGenerator;\n\nclass SoftHSM\n{\n    public static void main(String args[]) throws Exception {\n        // Set up the Sun PKCS 11 provider\n        String configName = &quot;softhsm.cfg&quot;;\n        Provider p = new SunPKCS11(configName);\n\n        if (-1 == Security.addProvider(p)) {\n            throw new RuntimeException(&quot;could not add security provider&quot;);\n        }\n\n        // Load the key store\n        char[] pin = &quot;1234&quot;.toCharArray();\n        KeyStore ks = KeyStore.getInstance(&quot;PKCS11&quot;, p);\n        ks.load(null, pin);\n\n        // Generate the key\n        SecureRandom sr = new SecureRandom();\n        KeyPairGenerator keyGen = KeyPairGenerator.getInstance(&quot;RSA&quot;, p);\n        keyGen.initialize(1024, sr);\n        KeyPair keyPair = keyGen.generateKeyPair();\n        PrivateKey pk = keyPair.getPrivate();\n\n        // Java API requires a certificate chain\n        X509Certificate[] chain = generateV3Certificate(keyPair);\n\n        ks.setKeyEntry(&quot;ALIAS-GOES-HERE&quot;, pk, &quot;1234&quot;.toCharArray(), chain);\n\n        ks.store(null);\n\n        System.out.println(&quot;OK&quot;);\n    }\n\n\n    public static X509Certificate[] generateV3Certificate(KeyPair pair) throws InvalidKeyException, NoSuchProviderException, SignatureException {\n        Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\n\n        X509V3CertificateGenerator certGen = new X509V3CertificateGenerator();\n\n        certGen.setSerialNumber(BigInteger.valueOf(System.currentTimeMillis()));\n        certGen.setIssuerDN(new X500Principal(&quot;CN=Test Certificate&quot;));\n        certGen.setNotBefore(new Date(System.currentTimeMillis() - 10000));\n        certGen.setNotAfter(new Date(System.currentTimeMillis() + 10000));\n        certGen.setSubjectDN(new X500Principal(&quot;CN=Test Certificate&quot;));\n        certGen.setPublicKey(pair.getPublic());\n        certGen.setSignatureAlgorithm(&quot;SHA256WithRSA&quot;);\n\n        certGen.addExtension(X509Extensions.BasicConstraints, true, new BasicConstraints(false));\n        certGen.addExtension(X509Extensions.KeyUsage, true, new KeyUsage(KeyUsage.digitalSignature | KeyUsage.keyEncipherment));\n        certGen.addExtension(X509Extensions.ExtendedKeyUsage, true, new ExtendedKeyUsage(KeyPurposeId.id_kp_serverAuth));\n\n        certGen.addExtension(X509Extensions.SubjectAlternativeName, false, new GeneralNames(new GeneralName(GeneralName.rfc822Name, &quot;test@test.test&quot;)));\n\n        X509Certificate[] chain = new X509Certificate[1];\n        chain[0] = certGen.generateX509Certificate(pair.getPrivate(), &quot;SunPKCS11-SoftHSM&quot;);\n\n        return chain;\n    }\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>name = SoftHSM\nlibrary = C:/SoftHSM2/lib/softhsm2-x64.dll\nslot = 0x0\nattributes(generate, *, *) = {\n   CKA_TOKEN = true\n}\nattributes(generate, CKO_CERTIFICATE, *) = {\n   CKA_PRIVATE = false\n}\nattributes(generate, CKO_PUBLIC_KEY, *) = {\n   CKA_PRIVATE = false\n}\n</code></pre>\n"},{"tags":["java","relationship","java-17"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1645607077,"post_id":71226470,"comment_id":125914020,"body_markdown":"Start with learning about *inheritance*. When your `Mother` class extends the `Child` class, it inherits all members (fields and methods), hence, it has already a name and age. All related repetitions are obsolete and a potential source of inconsistencies. Then, how do you want to establish relationships between these two lists? Just randomly assign children to mothers?","body":"Start with learning about <i>inheritance</i>. When your <code>Mother</code> class extends the <code>Child</code> class, it inherits all members (fields and methods), hence, it has already a name and age. All related repetitions are obsolete and a potential source of inconsistencies. Then, how do you want to establish relationships between these two lists? Just randomly assign children to mothers?"},{"owner":{"display_name":"user17695302"},"score":0,"creation_date":1645613433,"post_id":71226470,"comment_id":125916827,"body_markdown":"Hey , \n yes i need to asign randomly.","body":"Hey ,   yes i need to asign randomly."}],"answers":[{"tags":[],"owner":{"account_id":16509210,"reputation":564,"user_id":11928455,"display_name":"Amimul Ehsan Rahi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645554490,"creation_date":1645554490,"answer_id":71226534,"question_id":71226470,"body_markdown":"You can maintain a list of child on mother. By doing this a mother object will have many child and maintain a mother class ref. in child. will allow you to have a child only one mother.\r\n\r\nExample: \r\n\r\n```\r\nclass Mother{\r\n\r\n    private List&lt;Child&gt; childList = new ArrayList&lt;&gt;();\r\n\r\n    ....................................................\r\n    ....................................................\r\n}\r\n```\r\n\r\n```\r\nclass Child{\r\n\r\n    private Mother mother;\r\n\r\n    ....................................................\r\n    ....................................................\r\n}\r\n```\r\n\r\nBTW you should post what you have tried so far. Try reading about java collection.","title":"Relation between mother an child","body":"<p>You can maintain a list of child on mother. By doing this a mother object will have many child and maintain a mother class ref. in child. will allow you to have a child only one mother.</p>\n<p>Example:</p>\n<pre><code>class Mother{\n\n    private List&lt;Child&gt; childList = new ArrayList&lt;&gt;();\n\n    ....................................................\n    ....................................................\n}\n</code></pre>\n<pre><code>class Child{\n\n    private Mother mother;\n\n    ....................................................\n    ....................................................\n}\n</code></pre>\n<p>BTW you should post what you have tried so far. Try reading about java collection.</p>\n"}],"owner":{"display_name":"user17695302"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1645560010,"answer_count":1,"score":1,"last_activity_date":1645555077,"creation_date":1645554177,"question_id":71226470,"body_markdown":"I have 2 classes : Mother  and Child  +  ofcourse an Main.\r\nClass Mother:\r\n\r\n    public class Mother extends Child {\r\n    \r\n        private int id;\r\n        private String name;\r\n        private int age;\r\n    \r\n        public Mother(int id, String name, int age) {\r\n            super();\r\n            this.id = id;\r\n            this.name = name;\r\n            this.age = age;\r\n        }\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public int getAge() {\r\n            return age;\r\n        }\r\n    \r\n        public void setAge(int age) {\r\n            this.age = age;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Mother{&quot; +\r\n                    &quot;id=&quot; + id +\r\n                    &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &quot;, age=&quot; + age +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n\r\nClass Child:\r\n\r\n    public class Child {\r\n        private String name;\r\n        private int age;\r\n    \r\n        public Child(String name, int age) {\r\n            this.name = name;\r\n            this.age = age;\r\n        }\r\n    \r\n        public Child() {\r\n    \r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public int getAge() {\r\n            return age;\r\n        }\r\n    \r\n        public void setAge(int age) {\r\n            this.age = age;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Child{&quot; +\r\n                    &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &quot;, age=&quot; + age +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\nI have to make a relation  between the classes  that a mother can have  many childs but a child can have\r\nonly  one mother .\r\n\r\nSo in  main I read(the file.txt witch contains the name, age and id for mother and name  and age fro child)and parse it\r\nMain:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class Main5 {\r\n        public static void main(String[] args) throws IOException {\r\n            List&lt;Mother&gt; mothers = mother();\r\n            System.out.println(mothers);\r\n    \r\n            List&lt;Child&gt; child = child();\r\n            System.out.println(child);\r\n        }\r\n    \r\n        public static List&lt;Mother&gt; mother() throws IOException {\r\n            List&lt;Mother&gt; mothers = new ArrayList&lt;&gt;();\r\n            BufferedReader bufferedReader = new BufferedReader(new FileReader(&quot;mom.txt&quot;));\r\n            String line;\r\n            while ((line = bufferedReader.readLine()) != null) {\r\n                String[] s = line.split(&quot;\\\\s+&quot;);\r\n                mothers.add(new Mother(Integer.parseInt(s[0]), s[1], Integer.parseInt(s[2])));\r\n            }\r\n            bufferedReader.close();\r\n            return mothers;\r\n        }\r\n        public static List&lt;Child&gt; child() throws IOException {\r\n            List&lt;Child&gt; childs = new ArrayList&lt;&gt;();\r\n            BufferedReader bufferedReader = new BufferedReader(new FileReader(&quot;child.txt&quot;));\r\n            String line;\r\n            while ((line = bufferedReader.readLine()) != null) {\r\n                String[] s = line.split(&quot;\\\\s+&quot;);\r\n                childs.add(new Child(s[0], Integer.parseInt(s[1])));\r\n            }\r\n            bufferedReader.close();\r\n            return childs;\r\n        }\r\n    }\r\n\r\nIs there somoane that can give me an example of how I should to it or  where I  should start?\r\n","title":"Relation between mother an child","body":"<p>I have 2 classes : Mother  and Child  +  ofcourse an Main.\nClass Mother:</p>\n<pre><code>public class Mother extends Child {\n\n    private int id;\n    private String name;\n    private int age;\n\n    public Mother(int id, String name, int age) {\n        super();\n        this.id = id;\n        this.name = name;\n        this.age = age;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Mother{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, name='&quot; + name + '\\'' +\n                &quot;, age=&quot; + age +\n                '}';\n    }\n}\n</code></pre>\n<p>Class Child:</p>\n<pre><code>public class Child {\n    private String name;\n    private int age;\n\n    public Child(String name, int age) {\n        this.name = name;\n        this.age = age;\n    }\n\n    public Child() {\n\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Child{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                &quot;, age=&quot; + age +\n                '}';\n    }\n}\n</code></pre>\n<p>I have to make a relation  between the classes  that a mother can have  many childs but a child can have\nonly  one mother .</p>\n<p>So in  main I read(the file.txt witch contains the name, age and id for mother and name  and age fro child)and parse it\nMain:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Main5 {\n    public static void main(String[] args) throws IOException {\n        List&lt;Mother&gt; mothers = mother();\n        System.out.println(mothers);\n\n        List&lt;Child&gt; child = child();\n        System.out.println(child);\n    }\n\n    public static List&lt;Mother&gt; mother() throws IOException {\n        List&lt;Mother&gt; mothers = new ArrayList&lt;&gt;();\n        BufferedReader bufferedReader = new BufferedReader(new FileReader(&quot;mom.txt&quot;));\n        String line;\n        while ((line = bufferedReader.readLine()) != null) {\n            String[] s = line.split(&quot;\\\\s+&quot;);\n            mothers.add(new Mother(Integer.parseInt(s[0]), s[1], Integer.parseInt(s[2])));\n        }\n        bufferedReader.close();\n        return mothers;\n    }\n    public static List&lt;Child&gt; child() throws IOException {\n        List&lt;Child&gt; childs = new ArrayList&lt;&gt;();\n        BufferedReader bufferedReader = new BufferedReader(new FileReader(&quot;child.txt&quot;));\n        String line;\n        while ((line = bufferedReader.readLine()) != null) {\n            String[] s = line.split(&quot;\\\\s+&quot;);\n            childs.add(new Child(s[0], Integer.parseInt(s[1])));\n        }\n        bufferedReader.close();\n        return childs;\n    }\n}\n</code></pre>\n<p>Is there somoane that can give me an example of how I should to it or  where I  should start?</p>\n"},{"tags":["java","spring","null","jackson"],"comments":[{"owner":{"account_id":1133362,"reputation":684,"user_id":1118930,"display_name":"Shivam"},"score":0,"creation_date":1645603714,"post_id":71226640,"comment_id":125912661,"body_markdown":"https://stackoverflow.com/questions/54180616/jackson-how-to-include-null-value-property-in-json-serialization same question is here","body":"<a href=\"https://stackoverflow.com/questions/54180616/jackson-how-to-include-null-value-property-in-json-serialization\" title=\"jackson how to include null value property in json serialization\">stackoverflow.com/questions/54180616/&hellip;</a> same question is here"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1645603732,"post_id":71226640,"comment_id":125912668,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":17896040,"reputation":1,"user_id":13001428,"display_name":"Akash Narvaria"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645554975,"creation_date":1645554975,"question_id":71226640,"body_markdown":"I have one to many relationship with company and user. I am using @jsonignore for avoiding infinite recursion but one property is ignored during serialization. Instead of ignoring, I want that property as null in the json. How can I do that? ","title":"I want ignored field by @jsonignore to be null while serialization","body":"<p>I have one to many relationship with company and user. I am using @jsonignore for avoiding infinite recursion but one property is ignored during serialization. Instead of ignoring, I want that property as null in the json. How can I do that?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":16509210,"reputation":564,"user_id":11928455,"display_name":"Amimul Ehsan Rahi"},"score":0,"creation_date":1645555094,"post_id":71226053,"comment_id":125901031,"body_markdown":"Do you need groupA, groupB and groupC elements also in you select query?","body":"Do you need groupA, groupB and groupC elements also in you select query?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1645555891,"post_id":71226053,"comment_id":125901332,"body_markdown":"Turn on SQL logging and look at the queries being generated to get an idea on what can be done to optimize. Something a simple as making certain parts of the graph lazy might drastically help - especially if they are not needed by the application. Just because you are getting 100 rows match; what matters is how many rows are in those tables - you may need indexes on the publish_date and the foreign keys in the various tables involved in the fetching required to build instances of Group. 100 groups could mean up to 300 queries into the groupA,GroupB and GroupC tables on the &quot;id&quot; FK column.","body":"Turn on SQL logging and look at the queries being generated to get an idea on what can be done to optimize. Something a simple as making certain parts of the graph lazy might drastically help - especially if they are not needed by the application. Just because you are getting 100 rows match; what matters is how many rows are in those tables - you may need indexes on the publish_date and the foreign keys in the various tables involved in the fetching required to build instances of Group. 100 groups could mean up to 300 queries into the groupA,GroupB and GroupC tables on the &quot;id&quot; FK column."},{"owner":{"account_id":1180771,"reputation":6820,"user_id":1155739,"accept_rate":56,"display_name":"Thinker"},"score":0,"creation_date":1645595840,"post_id":71226053,"comment_id":125910520,"body_markdown":"@Chris, that&#39;s true. For my main table there is 1 query, which triggers three more queries for every row fetched. (Ex - 30 rows in group table, means 90+1 = 91 queries in total)","body":"@Chris, that&#39;s true. For my main table there is 1 query, which triggers three more queries for every row fetched. (Ex - 30 rows in group table, means 90+1 = 91 queries in total)"},{"owner":{"account_id":1180771,"reputation":6820,"user_id":1155739,"accept_rate":56,"display_name":"Thinker"},"score":0,"creation_date":1645595858,"post_id":71226053,"comment_id":125910525,"body_markdown":"@Chris , what should be the solution for this?","body":"@Chris , what should be the solution for this?"},{"owner":{"account_id":1920229,"reputation":3923,"user_id":1731935,"accept_rate":75,"display_name":"Manuel"},"score":0,"creation_date":1645599233,"post_id":71226053,"comment_id":125911333,"body_markdown":"@Thinker please answer Amimul&#39;s question. What result do you want? Do you need GroupA, GroupB and GroupC as well, or just the &quot;Group&quot;?","body":"@Thinker please answer Amimul&#39;s question. What result do you want? Do you need GroupA, GroupB and GroupC as well, or just the &quot;Group&quot;?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1645629145,"post_id":71226053,"comment_id":125923703,"body_markdown":"there is no one solution for performance issues. If you are seeing 90 queries though, you are experiencing the well documented N+1 issue, which is commonly &#39;solved&#39; by joining them to the main 1 query. Something like &quot;select r from Group r fetch join r. groupA fetch join r. groupB fetch join r. groupC WHERE r.publishDate = ?1&quot; would help greatly, assuming you really need A,B and C with every group instance. Making those relationships lazy and not touching them on the instance would help too, probably more so.","body":"there is no one solution for performance issues. If you are seeing 90 queries though, you are experiencing the well documented N+1 issue, which is commonly &#39;solved&#39; by joining them to the main 1 query. Something like &quot;select r from Group r fetch join r. groupA fetch join r. groupB fetch join r. groupC WHERE r.publishDate = ?1&quot; would help greatly, assuming you really need A,B and C with every group instance. Making those relationships lazy and not touching them on the instance would help too, probably more so."}],"answers":[{"tags":[],"owner":{"account_id":2158882,"reputation":559,"user_id":1913504,"display_name":"Faiz Akram"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1645552618,"creation_date":1645552618,"answer_id":71226138,"question_id":71226053,"body_markdown":"Try to use the Lazy loading concept. \r\n\r\n    @OneToOne(mappedBy = &quot;group&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)","title":"JPA query take huge amount of time for basic select query?","body":"<p>Try to use the Lazy loading concept.</p>\n<pre><code>@OneToOne(mappedBy = &quot;group&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n</code></pre>\n"}],"owner":{"account_id":1180771,"reputation":6820,"user_id":1155739,"accept_rate":56,"display_name":"Thinker"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":509,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1645554616,"creation_date":1645552217,"question_id":71226053,"body_markdown":"I have created JPA entities class. But using basic query taking humongous amount of time for basic sql query having 100 records in database.\r\n\r\nI have 4 tables. (Group/GroupA/GroupB/GroupC) having below structure.\r\n\r\n    @Table(name = &quot;group&quot;)\r\n    public class Group implements Serializable {\r\n    \r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        private String id;\r\n    \r\n        @Column(name = &quot;publish_date&quot;)\r\n        private LocalDate publishDate;\r\n    \r\n        @OneToOne(mappedBy = &quot;group&quot;, cascade = CascadeType.ALL)\r\n        private GroupA groupA;\r\n    \r\n        @OneToOne(mappedBy = &quot;group&quot;, cascade = CascadeType.ALL)\r\n        private GroupB groupB;\r\n    \r\n        @OneToOne(mappedBy = &quot;group&quot;, cascade = CascadeType.ALL)\r\n        private GroupC groupC;\r\n    }\r\n    \r\n    @Table(name = &quot;groupA&quot;)\r\n    public class GroupA {   \r\n        @Id\r\n        @Column(name = &quot;group_id&quot;)\r\n        private Long groupID;\r\n    \r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n    \r\n        @OneToOne\r\n        @JoinColumn(name = &quot;id&quot;)\r\n        @JsonIgnore\r\n        private Group Group;\r\n    \r\n    }\r\n    \r\n    @Table(name = &quot;groupB&quot;)\r\n    public class GroupB {    \r\n        @Id\r\n        @Column(name = &quot;group_id&quot;)\r\n        private Long groupID;\r\n    \r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n    \r\n        @OneToOne\r\n        @JoinColumn(name = &quot;id&quot;)\r\n        @JsonIgnore\r\n        private Group Group;    \r\n    }\r\n    \r\n    @Table(name = &quot;groupC&quot;)\r\n    public class GroupC {    \r\n        @Id\r\n        @Column(name = &quot;group_id&quot;)\r\n        private Long groupID;\r\n    \r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n    \r\n        @OneToOne\r\n        @JoinColumn(name = &quot;id&quot;)\r\n        @JsonIgnore\r\n        private Group Group;\r\n    \r\n    }\r\n\r\n**Repository class:**\r\n\r\n    @Repository\r\n    public interface GroupRepository extends JpaRepository&lt;Group, Long&gt; {    \r\n        @Query(&quot;select r from Group r WHERE r.publishDate = ?1&quot;)\r\n        List&lt;Group&gt; findAllGroupForDate(LocalDate businessDate);    \r\n    }\r\n\r\n\r\nThe above basic query is taking 1 minute 30 seconds for around 100 rows in Main Group table.\r\n\r\n\r\nPlease help if I am making anything wrong in entity class.\r\n\r\nTHanks.\r\n","title":"JPA query take huge amount of time for basic select query?","body":"<p>I have created JPA entities class. But using basic query taking humongous amount of time for basic sql query having 100 records in database.</p>\n<p>I have 4 tables. (Group/GroupA/GroupB/GroupC) having below structure.</p>\n<pre><code>@Table(name = &quot;group&quot;)\npublic class Group implements Serializable {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private String id;\n\n    @Column(name = &quot;publish_date&quot;)\n    private LocalDate publishDate;\n\n    @OneToOne(mappedBy = &quot;group&quot;, cascade = CascadeType.ALL)\n    private GroupA groupA;\n\n    @OneToOne(mappedBy = &quot;group&quot;, cascade = CascadeType.ALL)\n    private GroupB groupB;\n\n    @OneToOne(mappedBy = &quot;group&quot;, cascade = CascadeType.ALL)\n    private GroupC groupC;\n}\n\n@Table(name = &quot;groupA&quot;)\npublic class GroupA {   \n    @Id\n    @Column(name = &quot;group_id&quot;)\n    private Long groupID;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @OneToOne\n    @JoinColumn(name = &quot;id&quot;)\n    @JsonIgnore\n    private Group Group;\n\n}\n\n@Table(name = &quot;groupB&quot;)\npublic class GroupB {    \n    @Id\n    @Column(name = &quot;group_id&quot;)\n    private Long groupID;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @OneToOne\n    @JoinColumn(name = &quot;id&quot;)\n    @JsonIgnore\n    private Group Group;    \n}\n\n@Table(name = &quot;groupC&quot;)\npublic class GroupC {    \n    @Id\n    @Column(name = &quot;group_id&quot;)\n    private Long groupID;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @OneToOne\n    @JoinColumn(name = &quot;id&quot;)\n    @JsonIgnore\n    private Group Group;\n\n}\n</code></pre>\n<p><strong>Repository class:</strong></p>\n<pre><code>@Repository\npublic interface GroupRepository extends JpaRepository&lt;Group, Long&gt; {    \n    @Query(&quot;select r from Group r WHERE r.publishDate = ?1&quot;)\n    List&lt;Group&gt; findAllGroupForDate(LocalDate businessDate);    \n}\n</code></pre>\n<p>The above basic query is taking 1 minute 30 seconds for around 100 rows in Main Group table.</p>\n<p>Please help if I am making anything wrong in entity class.</p>\n<p>THanks.</p>\n"},{"tags":["java","intellij-idea","gradle"],"answers":[{"tags":[],"owner":{"account_id":1815412,"reputation":342,"user_id":1650598,"display_name":"Eric Wu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1385101287,"creation_date":1385101287,"answer_id":20138344,"question_id":20136214,"body_markdown":"Ok, I figured it out. It&#39;s actually pretty simple. Just treat the &quot;data&quot; folder as another project and add dependency declarations to sub projects will do the trick. For example:\r\n\r\n    dependencies {\r\n        compile project (&#39;:data&#39;)\r\n        testCompile project (&#39;:data&#39;)\r\n    }","title":"Gradle: common resource dependency for multiple java projects","body":"<p>Ok, I figured it out. It's actually pretty simple. Just treat the \"data\" folder as another project and add dependency declarations to sub projects will do the trick. For example:</p>\n\n<pre><code>dependencies {\n    compile project (':data')\n    testCompile project (':data')\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31011,"reputation":122006,"user_id":84889,"display_name":"Peter Niederwieser"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1563372606,"creation_date":1385101381,"answer_id":20138368,"question_id":20136214,"body_markdown":"One solution is to apply the Java plugin also to the `data` project, and then use regular project dependencies (e.g. `dependencies { runtime project(&quot;:data&quot;) }`). However, this would require a bit of effort to prevent shipping the test resources. \r\n\r\nAnother solution is not to make `data` a Gradle project but literally include its resource directories in the other two projects (`sourceSets.main.resources.srcDir &quot;../data/main/resources&quot;; sourceSets.test.resources.srcDir &quot;../data/test/resources&quot;`).","title":"Gradle: common resource dependency for multiple java projects","body":"<p>One solution is to apply the Java plugin also to the <code>data</code> project, and then use regular project dependencies (e.g. <code>dependencies { runtime project(\":data\") }</code>). However, this would require a bit of effort to prevent shipping the test resources. </p>\n\n<p>Another solution is not to make <code>data</code> a Gradle project but literally include its resource directories in the other two projects (<code>sourceSets.main.resources.srcDir \"../data/main/resources\"; sourceSets.test.resources.srcDir \"../data/test/resources\"</code>).</p>\n"},{"tags":[],"owner":{"account_id":2423336,"reputation":608,"user_id":2115825,"accept_rate":100,"display_name":"Tono Wiedermann"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1627630023,"creation_date":1493402583,"answer_id":43686346,"question_id":20136214,"body_markdown":"The approach I took was to use project reference\r\n\r\n    sourceSets {\r\n        main {\r\n            resources {\r\n            \tsrcDirs += [\r\n            \t\tproject(&#39;:data&#39;).sourceSets.main.resources\r\n            \t]\r\n            }\r\n        }\r\n    }\r\n\r\nUPDATE: Tested with Gradle7 and it still works. Tested with java-library plugin.","title":"Gradle: common resource dependency for multiple java projects","body":"<p>The approach I took was to use project reference</p>\n<pre><code>sourceSets {\n    main {\n        resources {\n            srcDirs += [\n                project(':data').sourceSets.main.resources\n            ]\n        }\n    }\n}\n</code></pre>\n<p>UPDATE: Tested with Gradle7 and it still works. Tested with java-library plugin.</p>\n"},{"tags":[],"owner":{"account_id":344176,"reputation":2206,"user_id":676344,"accept_rate":43,"display_name":"nucatus"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1523629218,"creation_date":1523629218,"answer_id":49819150,"question_id":20136214,"body_markdown":"You need to choose the project which will hold your resources. All the other projects that require those resources, will add them to the `resources` component of the sourceSets.\r\n\r\n    sourceSets {\r\n        data {\r\n            resources {\r\n                srcDir &quot;${project(&#39;:data&#39;).projectDir}/src/main/resources&quot;\r\n                include &quot;your_pattern_here**&quot;\r\n            }\r\n        }\r\n        main {\r\n            resources {\r\n                srcDirs += [ data.resources ]\r\n            }\r\n        }\r\n    }","title":"Gradle: common resource dependency for multiple java projects","body":"<p>You need to choose the project which will hold your resources. All the other projects that require those resources, will add them to the <code>resources</code> component of the sourceSets.</p>\n\n<pre><code>sourceSets {\n    data {\n        resources {\n            srcDir \"${project(':data').projectDir}/src/main/resources\"\n            include \"your_pattern_here**\"\n        }\n    }\n    main {\n        resources {\n            srcDirs += [ data.resources ]\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10027062,"reputation":417,"user_id":7414933,"display_name":"Dmitri Korobtsov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1547682582,"creation_date":1547682582,"answer_id":54227095,"question_id":20136214,"body_markdown":"And here is version for Kotlin DSL - to sync all resources from :data module to root and all sub-modules build/resources folders:\r\n\r\n    // Synchronizing resources from :data module to project root: build/resources\r\n    synchronizeSharedResources()\r\n    \r\n    subprojects {\r\n        // Synchronizing resources from :data module to all submodules: build/resources\r\n        synchronizeSharedResources()\r\n    }\r\n    \r\n    fun Project.synchronizeSharedResources() {\r\n        sourceSets {\r\n            main {\r\n                resources.srcDir(project(&quot;:data&quot;).sourceSets[&quot;main&quot;].resources.srcDirs)\r\n            }\r\n            test {\r\n                resources.srcDir(project(&quot;:data&quot;).sourceSets[&quot;test&quot;].resources.srcDirs)\r\n            }\r\n        }\r\n    }","title":"Gradle: common resource dependency for multiple java projects","body":"<p>And here is version for Kotlin DSL - to sync all resources from :data module to root and all sub-modules build/resources folders:</p>\n\n<pre><code>// Synchronizing resources from :data module to project root: build/resources\nsynchronizeSharedResources()\n\nsubprojects {\n    // Synchronizing resources from :data module to all submodules: build/resources\n    synchronizeSharedResources()\n}\n\nfun Project.synchronizeSharedResources() {\n    sourceSets {\n        main {\n            resources.srcDir(project(\":data\").sourceSets[\"main\"].resources.srcDirs)\n        }\n        test {\n            resources.srcDir(project(\":data\").sourceSets[\"test\"].resources.srcDirs)\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8723338,"reputation":263,"user_id":6525749,"display_name":"Nelson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601752471,"creation_date":1601752471,"answer_id":64188065,"question_id":20136214,"body_markdown":"```\r\nsourceSets {\r\n    main {\r\n        resources {\r\n            srcDirs += [\r\n                &#39;../sub-project-1/src/main/resources&#39;,\r\n                &#39;../sub-project-2/src/main/resources&#39;,\r\n                &#39;../data/src/main/resources&#39;\r\n            ]\r\n        }\r\n    }\r\n\r\n    test {\r\n        resources {\r\n            srcDir &#39;../data/src/test/resources&#39;\r\n        }\r\n    }    \r\n}\r\n```   ","title":"Gradle: common resource dependency for multiple java projects","body":"<pre><code>sourceSets {\n    main {\n        resources {\n            srcDirs += [\n                '../sub-project-1/src/main/resources',\n                '../sub-project-2/src/main/resources',\n                '../data/src/main/resources'\n            ]\n        }\n    }\n\n    test {\n        resources {\n            srcDir '../data/src/test/resources'\n        }\n    }    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4219149,"reputation":537,"user_id":3454339,"display_name":"Vladimir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623406534,"creation_date":1623406534,"answer_id":67935200,"question_id":20136214,"body_markdown":"I had another problem with resources in multi-module project, may be it will helpful for somebody.\r\n\r\nI have two independent modules:\r\n\r\n    - database (contains migrations for whole project)\r\n    - main (contains business logic(controllers, services and etc))\r\n\r\nAlso I use Spring-Boot 2 in my project.\r\n\r\nI have integration tests in `main` and before test is started I need to create schema and tables in DB. But all my migrations (use `Flyway` for migration control) in `database` module. Path for migration is `src/main/resources/db/migrations`.\r\n\r\nAs a result I need to have all migrations in `/test/resources` in order to start tests. Of course, I don&#39;t want to duplicate migrations in `main` module and I found this solution. I need to add these lines in files in `main` module.\r\n\r\n`builde.gradle`\r\n\r\n```gradle\r\ndependencies { \r\n   testImplementation &quot;com.example.module:database:$dbMigrationVersion&quot;\r\n}\r\n```\r\n\r\n`application-test.yml`\r\n\r\n```yaml\r\nspring:\r\n  flyway:\r\n     locations: classpath:/BOOT-INF/classes/db/migration\r\n```\r\n\r\nAfter these lines all your migrations from &#160;`database`  module will be in `main` module classpath (in our case for *test* profile). And flyway can execute them before starting tests.\r\n","title":"Gradle: common resource dependency for multiple java projects","body":"<p>I had another problem with resources in multi-module project, may be it will helpful for somebody.</p>\n<p>I have two independent modules:</p>\n<pre><code>- database (contains migrations for whole project)\n- main (contains business logic(controllers, services and etc))\n</code></pre>\n<p>Also I use Spring-Boot 2 in my project.</p>\n<p>I have integration tests in <code>main</code> and before test is started I need to create schema and tables in DB. But all my migrations (use <code>Flyway</code> for migration control) in <code>database</code> module. Path for migration is <code>src/main/resources/db/migrations</code>.</p>\n<p>As a result I need to have all migrations in <code>/test/resources</code> in order to start tests. Of course, I don't want to duplicate migrations in <code>main</code> module and I found this solution. I need to add these lines in files in <code>main</code> module.</p>\n<p><code>builde.gradle</code></p>\n<pre><code>dependencies { \n   testImplementation &quot;com.example.module:database:$dbMigrationVersion&quot;\n}\n</code></pre>\n<p><code>application-test.yml</code></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  flyway:\n     locations: classpath:/BOOT-INF/classes/db/migration\n</code></pre>\n<p>After these lines all your migrations from  <code>database</code>  module will be in <code>main</code> module classpath (in our case for <em>test</em> profile). And flyway can execute them before starting tests.</p>\n"},{"tags":[],"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645554615,"creation_date":1645554615,"answer_id":71226552,"question_id":20136214,"body_markdown":"If all your projects are java projects and you apply `java` plugin to them you can just do the following. Assuming your directory structure you could do :\r\n```\r\ndef dataMainResourcesPath = rootProject.projectDir.path + &#39;/data/main/resources&#39;\r\ndef dataTestResourcesPath = rootProject.projectDir.path + &#39;/data/test/resources&#39;\r\n\r\nsubprojects.each {\r\n    it.sourceSets.main.resources.srcDirs += dataMainResourcesPath\r\n    it.sourceSets.test.resources.srcDirs += dataTestResourcesPath\r\n}\r\n```\r\nin your root `build.gradle`.","title":"Gradle: common resource dependency for multiple java projects","body":"<p>If all your projects are java projects and you apply <code>java</code> plugin to them you can just do the following. Assuming your directory structure you could do :</p>\n<pre><code>def dataMainResourcesPath = rootProject.projectDir.path + '/data/main/resources'\ndef dataTestResourcesPath = rootProject.projectDir.path + '/data/test/resources'\n\nsubprojects.each {\n    it.sourceSets.main.resources.srcDirs += dataMainResourcesPath\n    it.sourceSets.test.resources.srcDirs += dataTestResourcesPath\n}\n</code></pre>\n<p>in your root <code>build.gradle</code>.</p>\n"}],"owner":{"account_id":1815412,"reputation":342,"user_id":1650598,"display_name":"Eric Wu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21943,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":20138368,"answer_count":8,"score":25,"last_activity_date":1645554615,"creation_date":1385089224,"question_id":20136214,"body_markdown":"I&#39;m developing a multi-module project with gradle/intellij-idea, and here is the structure of my project home:\r\n    \r\n    project/\r\n      sub-project-1\r\n        /main/resources\r\n      sub-project-2\r\n        /main/resources\r\n      data\r\n        /main/resources\r\n        /test/resources\r\n\r\nAs you can see I have multiple sub-projects (all java), how can I make them depend on some common resources (the &quot;data&quot; project, which contains no code but only resources), as well as their own separate resources?\r\n\r\nAlso it&#39;s best that the intellij-idea can pick up these dependencies with JetGradle automatically (JetGradle do just fine picking up the default gradle java project dependencies within each sub project).\r\n\r\nThanks a lot!","title":"Gradle: common resource dependency for multiple java projects","body":"<p>I'm developing a multi-module project with gradle/intellij-idea, and here is the structure of my project home:</p>\n\n<pre><code>project/\n  sub-project-1\n    /main/resources\n  sub-project-2\n    /main/resources\n  data\n    /main/resources\n    /test/resources\n</code></pre>\n\n<p>As you can see I have multiple sub-projects (all java), how can I make them depend on some common resources (the \"data\" project, which contains no code but only resources), as well as their own separate resources?</p>\n\n<p>Also it's best that the intellij-idea can pick up these dependencies with JetGradle automatically (JetGradle do just fine picking up the default gradle java project dependencies within each sub project).</p>\n\n<p>Thanks a lot!</p>\n"},{"tags":["java","vim","text-cursor","code-navigation"],"answers":[{"tags":[],"owner":{"account_id":430261,"reputation":168643,"user_id":813602,"accept_rate":100,"display_name":"Ingo Karkat"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1348391903,"creation_date":1348391903,"answer_id":12551113,"question_id":12550848,"body_markdown":"The `&#39;suffixesadd&#39;` option allows `gf` to handle Java file extensions; it is already set by the _java_ filetype that ships with Vim, like this:\r\n\r\n    :setlocal suffixesadd=.java\r\n\r\nTo jump to methods, Vim can use a _tags_ file that must be (re-)generated first (there are plugins that can automate that). For Java, you can use the _exuberant ctags_ tool.\r\n\r\n    :! ctags -R\r\n\r\nFor more information and alternatives, read `:help ctags`. Use the `:tag` command or the Ctrl-] shortcut to jump.\r\n\r\nYou can jump to a split window via Ctrl-W ]. To be able to leave a modified file and return back to it later, `:set hidden` in your `~/.vimrc`.\r\n\r\n&lt;sup&gt;PS: Though here they&#39;re kind of related, it&#39;s best to avoid asking multiple questions at Stack Overflow&lt;/sup&gt;\r\n","title":"Vim, Java: Open class under cursor and go to method","body":"<p>The <code>'suffixesadd'</code> option allows <code>gf</code> to handle Java file extensions; it is already set by the <em>java</em> filetype that ships with Vim, like this:</p>\n\n<pre><code>:setlocal suffixesadd=.java\n</code></pre>\n\n<p>To jump to methods, Vim can use a <em>tags</em> file that must be (re-)generated first (there are plugins that can automate that). For Java, you can use the <em>exuberant ctags</em> tool.</p>\n\n<pre><code>:! ctags -R\n</code></pre>\n\n<p>For more information and alternatives, read <code>:help ctags</code>. Use the <code>:tag</code> command or the Ctrl-] shortcut to jump.</p>\n\n<p>You can jump to a split window via Ctrl-W ]. To be able to leave a modified file and return back to it later, <code>:set hidden</code> in your <code>~/.vimrc</code>.</p>\n\n<p><sup>PS: Though here they're kind of related, it's best to avoid asking multiple questions at Stack Overflow</sup></p>\n"}],"owner":{"account_id":21147,"reputation":130351,"user_id":51197,"accept_rate":80,"display_name":"Adam Matan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2971,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":12551113,"answer_count":1,"score":3,"last_activity_date":1645554208,"creation_date":1348389165,"question_id":12550848,"body_markdown":"Vim can open a file under cursor using `gf`. For example, if I have the following under my cursor:\r\n\r\n    SensorManagementActivity.java\r\n\r\nHitting `gf` will open `SensorManagementActivity.java`.\r\n\r\nThe problem is that in Java, the references lack the `java` suffix, and often appear as `SomeClass`, `SomeClass()` or `SomeClass.method()`.\r\n\r\n* How do I open `SomeClass.java` and jump to `someMethod()` when the cursor is on `SomeClass.someMethod()` in another file?\r\n* Is there a way to open a new file without saving the current one, and going back to the current one without losing changes?","title":"Vim, Java: Open class under cursor and go to method","body":"<p>Vim can open a file under cursor using <code>gf</code>. For example, if I have the following under my cursor:</p>\n\n<pre><code>SensorManagementActivity.java\n</code></pre>\n\n<p>Hitting <code>gf</code> will open <code>SensorManagementActivity.java</code>.</p>\n\n<p>The problem is that in Java, the references lack the <code>java</code> suffix, and often appear as <code>SomeClass</code>, <code>SomeClass()</code> or <code>SomeClass.method()</code>.</p>\n\n<ul>\n<li>How do I open <code>SomeClass.java</code> and jump to <code>someMethod()</code> when the cursor is on <code>SomeClass.someMethod()</code> in another file?</li>\n<li>Is there a way to open a new file without saving the current one, and going back to the current one without losing changes?</li>\n</ul>\n"},{"tags":["java","maven","nullpointerexception","embedded-resource","imageicon"],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1634296313,"creation_date":1634296313,"answer_id":69583857,"question_id":69583680,"body_markdown":"Under **maven** only java _sources_ come under **src/main/java/**.\r\nOn the other hand _resources_ come under **src/main/resources/**.\r\n\r\nYou can simple create the folder(s) under Project Files, nothing special.\r\n\r\nFile names must be case-sensitive. Only Windows is case-insensitive. The compiled product packed in a jar (zip format) is case sensitive. As is Linux.","title":"java maven imageIcon","body":"<p>Under <strong>maven</strong> only java <em>sources</em> come under <strong>src/main/java/</strong>.\nOn the other hand <em>resources</em> come under <strong>src/main/resources/</strong>.</p>\n<p>You can simple create the folder(s) under Project Files, nothing special.</p>\n<p>File names must be case-sensitive. Only Windows is case-insensitive. The compiled product packed in a jar (zip format) is case sensitive. As is Linux.</p>\n"}],"owner":{"account_id":22769155,"reputation":37,"user_id":16926816,"display_name":"regragui karim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1634319144,"accepted_answer_id":69583857,"answer_count":1,"score":-3,"last_activity_date":1645553773,"creation_date":1634295444,"question_id":69583680,"body_markdown":"i am using maven in netbeans and i have a frame where i want to add a logo to.\r\nin the design part of the jframe i can see the logo but when i run the app it gives me an error saying that the location is null. however my code works without the icon.\r\n\r\nps i have added the icon through the gui builder of netbeans in a label! \r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nand here is the error:\r\n```none\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;location&quot; is null\r\n\tat java.desktop/javax.swing.ImageIcon.&lt;init&gt;(ImageIcon.java:217)\r\n\tat com.mycompany.moduleborne.BorneMain.initComponents(BorneMain.java:416)\r\n\tat com.mycompany.moduleborne.BorneMain.&lt;init&gt;(BorneMain.java:77)\r\n\tat com.mycompany.moduleborne.Initt.jButton1ActionPerformed(Initt.java:117)\r\n\tat com.mycompany.moduleborne.Initt.access$000(Initt.java:18)\r\n\tat com.mycompany.moduleborne.Initt$1.actionPerformed(Initt.java:50)\r\n\tat java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\r\n\tat java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\r\n\tat java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\r\n\tat java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\r\n\tat java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\r\n\tat java.desktop/java.awt.Component.processMouseEvent(Component.java:6617)\r\n\tat java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3342)\r\n\tat java.desktop/java.awt.Component.processEvent(Component.java:6382)\r\n\tat java.desktop/java.awt.Container.processEvent(Container.java:2264)\r\n\tat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:4993)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2322)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4825)\r\n\tat java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4934)\r\n\tat java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4563)\r\n\tat java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4504)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2308)\r\n\tat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2773)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4825)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:772)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:95)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:743)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/kitqa.png\r\n  [2]: https://i.stack.imgur.com/GOUGR.png","title":"java maven imageIcon","body":"<p>i am using maven in netbeans and i have a frame where i want to add a logo to.\nin the design part of the jframe i can see the logo but when i run the app it gives me an error saying that the location is null. however my code works without the icon.</p>\n<p>ps i have added the icon through the gui builder of netbeans in a label!</p>\n<p><a href=\"https://i.stack.imgur.com/kitqa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kitqa.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/GOUGR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GOUGR.png\" alt=\"enter image description here\" /></a></p>\n<p>and here is the error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;location&quot; is null\n    at java.desktop/javax.swing.ImageIcon.&lt;init&gt;(ImageIcon.java:217)\n    at com.mycompany.moduleborne.BorneMain.initComponents(BorneMain.java:416)\n    at com.mycompany.moduleborne.BorneMain.&lt;init&gt;(BorneMain.java:77)\n    at com.mycompany.moduleborne.Initt.jButton1ActionPerformed(Initt.java:117)\n    at com.mycompany.moduleborne.Initt.access$000(Initt.java:18)\n    at com.mycompany.moduleborne.Initt$1.actionPerformed(Initt.java:50)\n    at java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\n    at java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\n    at java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\n    at java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\n    at java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\n    at java.desktop/java.awt.Component.processMouseEvent(Component.java:6617)\n    at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3342)\n    at java.desktop/java.awt.Component.processEvent(Component.java:6382)\n    at java.desktop/java.awt.Container.processEvent(Container.java:2264)\n    at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:4993)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2322)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4825)\n    at java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4934)\n    at java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4563)\n    at java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4504)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2308)\n    at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2773)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4825)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:772)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:95)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:743)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n</code></pre>\n"},{"tags":["java","spring","csv","spring-boot"],"comments":[{"owner":{"account_id":91954,"reputation":2681,"user_id":252243,"display_name":"Sean Carroll"},"score":1,"creation_date":1532727799,"post_id":51565799,"comment_id":90098648,"body_markdown":"where does it throw the NPE? can you provide a stacktrace?","body":"where does it throw the NPE? can you provide a stacktrace?"},{"owner":{"account_id":13913920,"reputation":681,"user_id":10046318,"display_name":"Alpcan Yıldız"},"score":0,"creation_date":1532728024,"post_id":51565799,"comment_id":90098713,"body_markdown":"2018-07-28 00:45:56.274  WARN 2960 --- [nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved exception caused by Handler execution: java.lang.NullPointerException\n\n\nI think it is here, it can not read file\n     Reader in = new \n     InputStreamReader(BankAccount.class.getClassLoader()\n                .getResourceAsStream(file.getOriginalFilename()));","body":"2018-07-28 00:45:56.274  WARN 2960 --- [nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved exception caused by Handler execution: java.lang.NullPointerException   I think it is here, it can not read file      Reader in = new       InputStreamReader(BankAccount.class.getClassLoader()                 .getResourceAsStream(file.getOriginalFilename()));"},{"owner":{"account_id":13913920,"reputation":681,"user_id":10046318,"display_name":"Alpcan Yıldız"},"score":0,"creation_date":1532728169,"post_id":51565799,"comment_id":90098751,"body_markdown":"Is it way to give file itself instead of its name ?","body":"Is it way to give file itself instead of its name ?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1532728683,"post_id":51565799,"comment_id":90098870,"body_markdown":"`BankAccount.class.getClassLoader().getResourceAsStream` looks for a resource bundled with your application (in the .jar or .war).  If the user submits a file, it’s very unlikely that your application will be bundled with a resource whose internal path exactly matches the submitted file.","body":"<code>BankAccount.class.getClassLoader().getResourceAsStream</code> looks for a resource bundled with your application (in the .jar or .war).  If the user submits a file, it’s very unlikely that your application will be bundled with a resource whose internal path exactly matches the submitted file."},{"owner":{"account_id":13913920,"reputation":681,"user_id":10046318,"display_name":"Alpcan Yıldız"},"score":0,"creation_date":1532775937,"post_id":51565799,"comment_id":90107498,"body_markdown":"Yes you are exactly right ! I have found the solution. Thank you for your comment.","body":"Yes you are exactly right ! I have found the solution. Thank you for your comment."}],"answers":[{"tags":[],"owner":{"account_id":13913920,"reputation":681,"user_id":10046318,"display_name":"Alpcan Yıldız"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1532728608,"creation_date":1532728608,"answer_id":51566016,"question_id":51565799,"body_markdown":"    CSVParser parserr = CSVParser.parse(is, StandardCharsets.US_ASCII,\r\n                CSVFormat.EXCEL.withHeader());\r\n\r\nOkay I founded it. Thanks ! ","title":"How to give MultiPartfile to Reader in Java?","body":"<pre><code>CSVParser parserr = CSVParser.parse(is, StandardCharsets.US_ASCII,\n            CSVFormat.EXCEL.withHeader());\n</code></pre>\n\n<p>Okay I founded it. Thanks ! </p>\n"},{"tags":[],"owner":{"account_id":6122315,"reputation":2084,"user_id":4775487,"display_name":"Harold Castillo"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1583369164,"creation_date":1546643716,"answer_id":54047426,"question_id":51565799,"body_markdown":"Working on [tag:spring-boot], I wrote this fragment of code.\r\n\r\n    public void some(final MultipartFile file) {\r\n      ...\r\n      Reader reader = new InputStreamReader(file.getInputStream());\r\n      CSVReader csvReader = new CSVReaderBuilder(reader).withSkipLines(1).build();\r\n      ...\r\n    }\r\nLibrary for read the [tag:csv]:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n      &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n      &lt;version&gt;4.4&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"How to give MultiPartfile to Reader in Java?","body":"<p>Working on <a href=\"/questions/tagged/spring-boot\" class=\"post-tag\" title=\"show questions tagged &#39;spring-boot&#39;\" rel=\"tag\">spring-boot</a>, I wrote this fragment of code.</p>\n\n<pre><code>public void some(final MultipartFile file) {\n  ...\n  Reader reader = new InputStreamReader(file.getInputStream());\n  CSVReader csvReader = new CSVReaderBuilder(reader).withSkipLines(1).build();\n  ...\n}\n</code></pre>\n\n<p>Library for read the <a href=\"/questions/tagged/csv\" class=\"post-tag\" title=\"show questions tagged &#39;csv&#39;\" rel=\"tag\">csv</a>:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n  &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n  &lt;version&gt;4.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13258666,"reputation":326,"user_id":9573943,"display_name":"Inanc Cakil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645553750,"creation_date":1645553750,"answer_id":71226387,"question_id":51565799,"body_markdown":"I think this is the best way for reading multipartFile\r\n\r\n      private static final CsvMapper mapper = new CsvMapper();\r\n\r\n      public static &lt;T&gt; List&lt;T&gt; readCsvFile(MultipartFile file, Class&lt;T&gt; clazz) throws IOException {\r\n        InputStream inputStream = file.getInputStream();\r\n        CsvSchema schema = mapper.schemaFor(clazz).withHeader().withColumnReordering(true);\r\n        ObjectReader reader = mapper.readerFor(clazz).with(schema);\r\n        return reader.&lt;T&gt;readValues(inputStream).readAll();\r\n    }\r\nwith jackson-dataformat-csv\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jackson-dataformat-csv&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.8.6&lt;/version&gt;\r\n\t&lt;/dependency&gt;","title":"How to give MultiPartfile to Reader in Java?","body":"<p>I think this is the best way for reading multipartFile</p>\n<pre><code>  private static final CsvMapper mapper = new CsvMapper();\n\n  public static &lt;T&gt; List&lt;T&gt; readCsvFile(MultipartFile file, Class&lt;T&gt; clazz) throws IOException {\n    InputStream inputStream = file.getInputStream();\n    CsvSchema schema = mapper.schemaFor(clazz).withHeader().withColumnReordering(true);\n    ObjectReader reader = mapper.readerFor(clazz).with(schema);\n    return reader.&lt;T&gt;readValues(inputStream).readAll();\n}\n</code></pre>\n<p>with jackson-dataformat-csv</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-dataformat-csv&lt;/artifactId&gt;\n    &lt;version&gt;2.8.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":13913920,"reputation":681,"user_id":10046318,"display_name":"Alpcan Yıldız"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14626,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":51566016,"answer_count":3,"score":6,"last_activity_date":1645553750,"creation_date":1532726903,"question_id":51565799,"body_markdown":"I am passing MultiPartFile as a parameter to my function and read with CSVFormat, but it gives me null pointer exception here is my code.\r\n\r\nI want to read from file and assign that values to my objects.\r\nMy CSV file like this:\r\n\r\nSender account,Receiver Account,Amount,Date\r\n\r\n123,654321,100,19-07-2018 12:13:00\r\n\r\n    public List&lt;BankAccount&gt; readCsv(MultipartFile file) throws IOException {\r\n            List&lt;BankAccount&gt; bankAccountList = new ArrayList&lt;BankAccount&gt;();\r\n    \r\n            DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy HH:mm:ss&quot;);\r\n    \r\n          \r\n    \r\n            Reader in = new InputStreamReader(BankAccount.class.getClassLoader()\r\n                    .getResourceAsStream(file.getOriginalFilename()));\r\n    \r\n            Iterable&lt;CSVRecord&gt; parser = CSVFormat.EXCEL.withHeader(&quot;Sender account&quot;,&quot;Receiver Account&quot;,&quot;Amount&quot;,&quot;Date&quot;).parse(in);\r\n   \r\n    \r\n                for (CSVRecord csvRecord : parser) {\r\n                BankAccount bankAccount = new BankAccount();\r\n                String senderAccount = csvRecord.get(&quot;Sender account&quot;);\r\n                String receiverAccount = csvRecord.get(&quot;Receiver account&quot;);\r\n                float amount = Float.parseFloat(csvRecord.get(&quot;Amount&quot;));\r\n                ZonedDateTime date = LocalDateTime.parse(csvRecord.get(&quot;Date&quot;), dtf)\r\n                        .atZone(ZoneId.of(&quot;Asia/Istanbul&quot;));\r\n                bankAccount.setFromId(senderAccount);\r\n                bankAccount.setToId(receiverAccount);\r\n                bankAccount.setDate(date);\r\n                bankAccount.setBalance(amount);\r\n                bankAccountList.add(bankAccount);\r\n            }\r\n    \r\n            return bankAccountList;\r\n        }","title":"How to give MultiPartfile to Reader in Java?","body":"<p>I am passing MultiPartFile as a parameter to my function and read with CSVFormat, but it gives me null pointer exception here is my code.</p>\n\n<p>I want to read from file and assign that values to my objects.\nMy CSV file like this:</p>\n\n<p>Sender account,Receiver Account,Amount,Date</p>\n\n<p>123,654321,100,19-07-2018 12:13:00</p>\n\n<pre><code>public List&lt;BankAccount&gt; readCsv(MultipartFile file) throws IOException {\n        List&lt;BankAccount&gt; bankAccountList = new ArrayList&lt;BankAccount&gt;();\n\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(\"dd-MM-yyyy HH:mm:ss\");\n\n\n\n        Reader in = new InputStreamReader(BankAccount.class.getClassLoader()\n                .getResourceAsStream(file.getOriginalFilename()));\n\n        Iterable&lt;CSVRecord&gt; parser = CSVFormat.EXCEL.withHeader(\"Sender account\",\"Receiver Account\",\"Amount\",\"Date\").parse(in);\n\n\n            for (CSVRecord csvRecord : parser) {\n            BankAccount bankAccount = new BankAccount();\n            String senderAccount = csvRecord.get(\"Sender account\");\n            String receiverAccount = csvRecord.get(\"Receiver account\");\n            float amount = Float.parseFloat(csvRecord.get(\"Amount\"));\n            ZonedDateTime date = LocalDateTime.parse(csvRecord.get(\"Date\"), dtf)\n                    .atZone(ZoneId.of(\"Asia/Istanbul\"));\n            bankAccount.setFromId(senderAccount);\n            bankAccount.setToId(receiverAccount);\n            bankAccount.setDate(date);\n            bankAccount.setBalance(amount);\n            bankAccountList.add(bankAccount);\n        }\n\n        return bankAccountList;\n    }\n</code></pre>\n"},{"tags":["java","image","image-resizing"],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635436792,"creation_date":1635428275,"answer_id":69755142,"question_id":69754894,"body_markdown":"You need to put your code in a method, not directly in the class definition.\r\n\r\n\r\n\r\nTry this for instance:\r\n\r\n    import java.awt.Image;\r\n    import javax.swing.ImageIcon;\r\n    \r\n    public class Images \r\n    {\r\n        public static void main(String[] args) {\r\n            ImageIcon welcomeImage = new ImageIcon(&quot;WelcomeImage.PNG&quot;);\r\n            Image image = welcomeImage.getImage();\r\n            Image newImage = image.getScaledInstance(750, 500, java.awt.Image.SCALE_SMOOTH);//The error appears on this line\r\n            welcomeImage = new ImageIcon(newImage);\r\n        }\r\n    }\r\n\r\n","title":"Resizing an ImageIcon","body":"<p>You need to put your code in a method, not directly in the class definition.</p>\n<p>Try this for instance:</p>\n<pre><code>import java.awt.Image;\nimport javax.swing.ImageIcon;\n\npublic class Images \n{\n    public static void main(String[] args) {\n        ImageIcon welcomeImage = new ImageIcon(&quot;WelcomeImage.PNG&quot;);\n        Image image = welcomeImage.getImage();\n        Image newImage = image.getScaledInstance(750, 500, java.awt.Image.SCALE_SMOOTH);//The error appears on this line\n        welcomeImage = new ImageIcon(newImage);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22308647,"reputation":3,"user_id":16532946,"display_name":"Boomwhat1000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1635442996,"accepted_answer_id":69755142,"answer_count":1,"score":-1,"last_activity_date":1645553699,"creation_date":1635427311,"question_id":69754894,"body_markdown":"I am trying to resize my image to fit my java screen but i keep getting this error\r\n&quot;Syntax error on token &quot;;&quot;, , expected\t&quot;\r\n\r\nThere isnt much to the code either:\r\n\r\n\r\n    import java.awt.Image;\r\n    import javax.swing.ImageIcon;\r\n    \r\n    public class Images \r\n    {\r\n    \tImageIcon welcomeImage = new ImageIcon(&quot;WelcomeImage.PNG&quot;);\r\n    \tImage image = welcomeImage.getImage();\r\n    \tImage newImage = image.getScaledInstance(750, 500, java.awt.Image.SCALE_SMOOTH);//The error appears on this line\r\n    \twelcomeImage = new ImageIcon(newImage);\r\n    \t\r\n    }\r\n\r\n","title":"Resizing an ImageIcon","body":"<p>I am trying to resize my image to fit my java screen but i keep getting this error\n&quot;Syntax error on token &quot;;&quot;, , expected  &quot;</p>\n<p>There isnt much to the code either:</p>\n<pre><code>import java.awt.Image;\nimport javax.swing.ImageIcon;\n\npublic class Images \n{\n    ImageIcon welcomeImage = new ImageIcon(&quot;WelcomeImage.PNG&quot;);\n    Image image = welcomeImage.getImage();\n    Image newImage = image.getScaledInstance(750, 500, java.awt.Image.SCALE_SMOOTH);//The error appears on this line\n    welcomeImage = new ImageIcon(newImage);\n    \n}\n</code></pre>\n"},{"tags":["java","arrays","loops","swing","imageicon"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1635719089,"post_id":69790978,"comment_id":123363783,"body_markdown":"1. Make sure the image resources are actually available (always start by unzipping the jar file just to be sure). 2. Consider using an absolute path instead of a relative one (ie `/resources/...` instead of `resources/...`)","body":"1. Make sure the image resources are actually available (always start by unzipping the jar file just to be sure). 2. Consider using an absolute path instead of a relative one (ie <code>&#47;resources&#47;...</code> instead of <code>resources&#47;...</code>)"},{"owner":{"display_name":"user15000080"},"score":0,"creation_date":1635720068,"post_id":69790978,"comment_id":123363940,"body_markdown":"Ah, thank you for your answer. I saw the problem when I check the resource folder. Problem is &quot;&lt;=&quot; in the for loop. Because I don&#39;t have 5th image.","body":"Ah, thank you for your answer. I saw the problem when I check the resource folder. Problem is &quot;&lt;=&quot; in the for loop. Because I don&#39;t have 5th image."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1635723971,"post_id":69790978,"comment_id":123364561,"body_markdown":"Ah, yes, that would be unhelpful :P","body":"Ah, yes, that would be unhelpful :P"}],"owner":{"display_name":"user15000080"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1635778129,"answer_count":0,"score":0,"last_activity_date":1645553638,"creation_date":1635718213,"question_id":69790978,"body_markdown":"        public class generateTypes {\r\n    \r\n           public ImageIcon[] natureTypes = new ImageIcon[5];\r\n           public ImageIcon returnType = null;\r\n    \r\n            public ImageIcon generateTypes(int random) {\r\n    \r\n                for(int i = 0; i &lt;= natureTypes.length; i++) {\r\n    \r\n                    ImageIcon image = new ImageIcon(generateTypes.class.getResource(&quot;resources/types/type&quot; + i + &quot;.png&quot;));\r\n                    natureTypes[i] = image;\r\n    \r\n                }\r\n    \r\n                returnType = natureTypes[1];\r\n                return returnType;\r\n            }\r\n        }\r\n\r\nAs you can see when I try write images to an ImageIcon array from resource folder, I&#39;m getting this error:\r\n\r\n&gt; Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;location&quot; is null\r\n\r\nWhat I am doing wrong? And How can I solve this?\r\n\r\n[Project folder;][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yByn9.png\r\n","title":"Writing Images to ImageIcon in loop","body":"<pre><code>    public class generateTypes {\n\n       public ImageIcon[] natureTypes = new ImageIcon[5];\n       public ImageIcon returnType = null;\n\n        public ImageIcon generateTypes(int random) {\n\n            for(int i = 0; i &lt;= natureTypes.length; i++) {\n\n                ImageIcon image = new ImageIcon(generateTypes.class.getResource(&quot;resources/types/type&quot; + i + &quot;.png&quot;));\n                natureTypes[i] = image;\n\n            }\n\n            returnType = natureTypes[1];\n            return returnType;\n        }\n    }\n</code></pre>\n<p>As you can see when I try write images to an ImageIcon array from resource folder, I'm getting this error:</p>\n<blockquote>\n<p>Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;location&quot; is null</p>\n</blockquote>\n<p>What I am doing wrong? And How can I solve this?</p>\n<p><a href=\"https://i.stack.imgur.com/yByn9.png\" rel=\"nofollow noreferrer\">Project folder;</a></p>\n"},{"tags":["java","mysql","hibernate"],"answers":[{"tags":[],"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610200718,"creation_date":1610200718,"answer_id":65643478,"question_id":65640841,"body_markdown":"According to the [documentation](https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#entity):\r\n\r\n&gt; The entity class must have a public or protected no-argument constructor. It may define additional constructors as well.\r\n\r\nSo, you should correct your entity in the following way:\r\n\r\n``` java\r\n@Entity\r\npublic class Employee {\r\n    \r\n   // ...    \r\n   public Employee() {\r\n   }\r\n\r\n   public Employee(Integer empId, String empName, Integer empSal) {\r\n       this.empId = empId;\r\n       this.empName = empName;\r\n       this.empSal = empSal;\r\n   }\r\n   \r\n   // ...\r\n}\r\n```","title":"Getting SQLSyntaxErrorException: Table doesn&#39;t exist in hibernate","body":"<p>According to the <a href=\"https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#entity\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>The entity class must have a public or protected no-argument constructor. It may define additional constructors as well.</p>\n</blockquote>\n<p>So, you should correct your entity in the following way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Employee {\n    \n   // ...    \n   public Employee() {\n   }\n\n   public Employee(Integer empId, String empName, Integer empSal) {\n       this.empId = empId;\n       this.empName = empName;\n       this.empSal = empSal;\n   }\n   \n   // ...\n}\n</code></pre>\n"}],"owner":{"account_id":4301027,"reputation":3755,"user_id":3514736,"accept_rate":42,"display_name":"Rahman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1062,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645553561,"creation_date":1610182132,"question_id":65640841,"body_markdown":"I am tryin to write a very simple hibernate application. But when I am running the main method its throwing exception `SQLSyntaxErrorException: Table &#39;testhibernate.employee&#39; doesn&#39;t exist` even though I have set `hibernate.hbm2ddl.auto` as &quot;create&quot;. \r\nDetails are give below. Could you please help me on this ?\r\n\r\nClass with main method :\r\n\r\n    package com.sr.main;\r\n    \r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.Transaction;\r\n    import org.hibernate.cfg.Configuration;\r\n    \r\n    import com.sr.entity.Employee;\r\n    \r\n    public class TestHibernate {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stubu\r\n    \t\tConfiguration config = new Configuration().configure(&quot;\\\\hibernate.cfg.xml&quot;);\r\n    \t\tSessionFactory factory  = config.buildSessionFactory();\r\n    \t\tSession session = factory.openSession();\r\n    \t\tTransaction tx = session.beginTransaction();\r\n    \t\tEmployee emp1 = new Employee(111, &quot;John&quot;,20000);\r\n    \t\tsession.save(emp1);\r\n    \t\ttx.commit();\r\n    \t\t\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nEntity class :\r\n\r\n    package com.sr.entity;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    \r\n    @Entity\r\n    public class Employee {\r\n    \t\r\n    \t@Id\r\n    \tInteger empId;\r\n    \tString empName;\r\n    \tInteger empSal;\r\n    \t\r\n    \t\r\n    \tpublic Employee(Integer empId, String empName, Integer empSal) {\r\n    \t\tsuper();\r\n    \t\tthis.empId = empId;\r\n    \t\tthis.empName = empName;\r\n    \t\tthis.empSal = empSal;\r\n    \t}\r\n    \tpublic Integer getEmpId() {\r\n    \t\treturn empId;\r\n    \t}\r\n    \tpublic void setEmpId(Integer empId) {\r\n    \t\tthis.empId = empId;\r\n    \t}\r\n    \tpublic String getEmpName() {\r\n    \t\treturn empName;\r\n    \t}\r\n    \tpublic void setEmpName(String empName) {\r\n    \t\tthis.empName = empName;\r\n    \t}\r\n    \tpublic Integer getEmpSal() {\r\n    \t\treturn empSal;\r\n    \t}\r\n    \tpublic void setEmpSal(Integer empSal) {\r\n    \t\tthis.empSal = empSal;\r\n    \t}\r\n    \t\r\n    \r\n    }\r\n\r\n\r\n\r\nconfig xml :\r\n\r\n    &lt;?xml version = &quot;1.0&quot; encoding = &quot;utf-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration SYSTEM \r\n    &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n       &lt;session-factory&gt;\r\n    \t  &lt;property name = &quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n          &lt;property name = &quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n    \t  &lt;property name = &quot;hibernate.connection.url&quot;&gt;\r\n             jdbc:mysql://localhost/testHibernate\r\n          &lt;/property&gt;\r\n    \t  &lt;property name = &quot;hibernate.connection.username&quot;&gt;\r\n             root\r\n          &lt;/property&gt;\r\n    \t  &lt;property name = &quot;hibernate.connection.password&quot;&gt;\r\n             root\r\n          &lt;/property&gt;\r\n    \t  &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n    \t  &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n          \r\n          &lt;!-- List of XML mapping files --&gt;\r\n          &lt;mapping class = &quot;com.sr.entity.Employee&quot;/&gt;\r\n          \r\n       &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\nException :\r\n\r\n&gt; java.sql.SQLSyntaxErrorException: Table &#39;testhibernate.employee&#39;\r\n&gt; doesn&#39;t exist \tat\r\n&gt; com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\r\n&gt; \tat\r\n&gt; com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\r\n&gt; \tat\r\n&gt; com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n&gt; \tat\r\n&gt; com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\r\n&gt; \tat\r\n&gt; com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1092)\r\n&gt; \tat\r\n&gt; com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1040)\r\n&gt; \tat\r\n&gt; com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1347)\r\n&gt; \tat\r\n&gt; com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1025)\r\n&gt; \tat\r\n&gt; org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\r\n&gt; \t... 20 more\r\n\r\n**MySql version :** 5.5.50\r\n\r\n**Hibernate version :** 5.4.25.Final\r\n\r\n","title":"Getting SQLSyntaxErrorException: Table doesn&#39;t exist in hibernate","body":"<p>I am tryin to write a very simple hibernate application. But when I am running the main method its throwing exception <code>SQLSyntaxErrorException: Table 'testhibernate.employee' doesn't exist</code> even though I have set <code>hibernate.hbm2ddl.auto</code> as &quot;create&quot;.\nDetails are give below. Could you please help me on this ?</p>\n<p>Class with main method :</p>\n<pre><code>package com.sr.main;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\nimport org.hibernate.cfg.Configuration;\n\nimport com.sr.entity.Employee;\n\npublic class TestHibernate {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stubu\n        Configuration config = new Configuration().configure(&quot;\\\\hibernate.cfg.xml&quot;);\n        SessionFactory factory  = config.buildSessionFactory();\n        Session session = factory.openSession();\n        Transaction tx = session.beginTransaction();\n        Employee emp1 = new Employee(111, &quot;John&quot;,20000);\n        session.save(emp1);\n        tx.commit();\n        \n\n    }\n\n}\n</code></pre>\n<p>Entity class :</p>\n<pre><code>package com.sr.entity;\n\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\n\n@Entity\npublic class Employee {\n    \n    @Id\n    Integer empId;\n    String empName;\n    Integer empSal;\n    \n    \n    public Employee(Integer empId, String empName, Integer empSal) {\n        super();\n        this.empId = empId;\n        this.empName = empName;\n        this.empSal = empSal;\n    }\n    public Integer getEmpId() {\n        return empId;\n    }\n    public void setEmpId(Integer empId) {\n        this.empId = empId;\n    }\n    public String getEmpName() {\n        return empName;\n    }\n    public void setEmpName(String empName) {\n        this.empName = empName;\n    }\n    public Integer getEmpSal() {\n        return empSal;\n    }\n    public void setEmpSal(Integer empSal) {\n        this.empSal = empSal;\n    }\n    \n\n}\n</code></pre>\n<p>config xml :</p>\n<pre><code>&lt;?xml version = &quot;1.0&quot; encoding = &quot;utf-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration SYSTEM \n&quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n   &lt;session-factory&gt;\n      &lt;property name = &quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n      &lt;property name = &quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n      &lt;property name = &quot;hibernate.connection.url&quot;&gt;\n         jdbc:mysql://localhost/testHibernate\n      &lt;/property&gt;\n      &lt;property name = &quot;hibernate.connection.username&quot;&gt;\n         root\n      &lt;/property&gt;\n      &lt;property name = &quot;hibernate.connection.password&quot;&gt;\n         root\n      &lt;/property&gt;\n      &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\n      &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n      \n      &lt;!-- List of XML mapping files --&gt;\n      &lt;mapping class = &quot;com.sr.entity.Employee&quot;/&gt;\n      \n   &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>Exception :</p>\n<blockquote>\n<p>java.sql.SQLSyntaxErrorException: Table 'testhibernate.employee'\ndoesn't exist     at\ncom.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\nat\ncom.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\nat\ncom.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\nat\ncom.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\nat\ncom.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1092)\nat\ncom.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1040)\nat\ncom.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1347)\nat\ncom.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1025)\nat\norg.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\n... 20 more</p>\n</blockquote>\n<p><strong>MySql version :</strong> 5.5.50</p>\n<p><strong>Hibernate version :</strong> 5.4.25.Final</p>\n"},{"tags":["java","csv","file-io","line","bufferedwriter"],"comments":[{"owner":{"account_id":38931,"reputation":32526,"user_id":112079,"display_name":"fvu"},"score":4,"creation_date":1357694590,"post_id":14226830,"comment_id":19735457,"body_markdown":"Not an answer to your question per se: do you know [SuperCSV](http://supercsv.sourceforge.net/), an easy to use and versatile CSV reading-writing library that seriously facilitates the interaction with csv files.","body":"Not an answer to your question per se: do you know <a href=\"http://supercsv.sourceforge.net/\" rel=\"nofollow noreferrer\">SuperCSV</a>, an easy to use and versatile CSV reading-writing library that seriously facilitates the interaction with csv files."}],"answers":[{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1357694591,"creation_date":1357694591,"answer_id":14226913,"question_id":14226830,"body_markdown":"Rather than reinventing the wheel you could have a look at [OpenCSV][1] which supports reading and writing of CSV files. Here are examples of [reading &amp; writing][2]\r\n\r\n\r\n  [1]: http://opencsv.sourceforge.net/\r\n  [2]: http://opencsv.sourceforge.net/#how-to-read","title":"Java: CSV File Easy Read/Write","body":"<p>Rather than reinventing the wheel you could have a look at <a href=\"http://opencsv.sourceforge.net/\" rel=\"noreferrer\">OpenCSV</a> which supports reading and writing of CSV files. Here are examples of <a href=\"http://opencsv.sourceforge.net/#how-to-read\" rel=\"noreferrer\">reading &amp; writing</a></p>\n"},{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1357695463,"creation_date":1357695463,"answer_id":14227021,"question_id":14226830,"body_markdown":"&gt; The spreadsheet contains names, phone numbers, email addresses, etc. And the program lists everyone&#39;s data, and when you click on them it brings up a page with more detailed information, also pulled from the CSV. On that page you can edit the data, and I want to be able to click a &quot;Save Changes&quot; button, then export the data back to its appropriate line in the CSV--or delete the old one, and append the new.\r\n\r\nThe content of a file is a sequence of bytes. CSV is a text based file format, i.e. the sequence of byte is interpreted as a sequence of characters, where newlines are delimited by special newline characters.\r\n\r\nConsequently, if the length of a line increases, the characters of all following lines need to be moved to make room for the new characters. Likewise, to delete a line you must move the later characters to fill the gap. That is, you can not update a line in a csv (at least not when changing its length) without rewriting all following lines in the file. For simplicity, I&#39;d rewrite the entire file.\r\n\r\nSince you already have code to write and read the CSV file, adapting it should be straightforward. But before you do that, it might be worth asking yourself if you&#39;re using the right tool for the job. If the goal is to keep a list of records, and edit individual records in a form, programs such as Microsoft Access or whatever the Open Office equivalent is called might be a more natural fit. If you UI needs go beyond what these programs provide, using a relational database to keep your data is probably a better fit (more efficient and flexible than a CSV).","title":"Java: CSV File Easy Read/Write","body":"<blockquote>\n  <p>The spreadsheet contains names, phone numbers, email addresses, etc. And the program lists everyone's data, and when you click on them it brings up a page with more detailed information, also pulled from the CSV. On that page you can edit the data, and I want to be able to click a \"Save Changes\" button, then export the data back to its appropriate line in the CSV--or delete the old one, and append the new.</p>\n</blockquote>\n\n<p>The content of a file is a sequence of bytes. CSV is a text based file format, i.e. the sequence of byte is interpreted as a sequence of characters, where newlines are delimited by special newline characters.</p>\n\n<p>Consequently, if the length of a line increases, the characters of all following lines need to be moved to make room for the new characters. Likewise, to delete a line you must move the later characters to fill the gap. That is, you can not update a line in a csv (at least not when changing its length) without rewriting all following lines in the file. For simplicity, I'd rewrite the entire file.</p>\n\n<p>Since you already have code to write and read the CSV file, adapting it should be straightforward. But before you do that, it might be worth asking yourself if you're using the right tool for the job. If the goal is to keep a list of records, and edit individual records in a form, programs such as Microsoft Access or whatever the Open Office equivalent is called might be a more natural fit. If you UI needs go beyond what these programs provide, using a relational database to keep your data is probably a better fit (more efficient and flexible than a CSV).</p>\n"},{"tags":[],"owner":{"account_id":8759033,"reputation":1335,"user_id":6549532,"display_name":"Kevin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1486971761,"creation_date":1486971761,"answer_id":42198895,"question_id":14226830,"body_markdown":"Please consider [Apache commons csv][1]. \r\n To fast understand the api, there are four important classes:\r\n\r\n\r\n&gt; CSVFormat\r\n\r\nSpecifies the format of a CSV file and parses input.\r\n\r\n&gt; CSVParser\r\n\r\nParses CSV files according to the specified format.\r\n\r\n&gt; [CSVPrinter][2]\r\n\r\nPrints values in a CSV format.\r\n\r\n&gt; CSVRecord\r\n\r\nA CSV record parsed from a CSV file.\r\n\r\nCode Example:\r\n[![enter image description here][3]][3]\r\n\r\nUnit test code:\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-csv/archives/1.1/apidocs/org/apache/commons/csv/package-summary.html\r\n  [2]: https://commons.apache.org/proper/commons-csv/archives/1.1/apidocs/org/apache/commons/csv/CSVPrinter.html\r\n  [3]: https://i.stack.imgur.com/2pqjf.png\r\n  [4]: https://i.stack.imgur.com/JMzut.png","title":"Java: CSV File Easy Read/Write","body":"<p>Please consider <a href=\"https://commons.apache.org/proper/commons-csv/archives/1.1/apidocs/org/apache/commons/csv/package-summary.html\" rel=\"nofollow noreferrer\">Apache commons csv</a>. \n To fast understand the api, there are four important classes:</p>\n\n<blockquote>\n  <p>CSVFormat</p>\n</blockquote>\n\n<p>Specifies the format of a CSV file and parses input.</p>\n\n<blockquote>\n  <p>CSVParser</p>\n</blockquote>\n\n<p>Parses CSV files according to the specified format.</p>\n\n<blockquote>\n  <p><a href=\"https://commons.apache.org/proper/commons-csv/archives/1.1/apidocs/org/apache/commons/csv/CSVPrinter.html\" rel=\"nofollow noreferrer\">CSVPrinter</a></p>\n</blockquote>\n\n<p>Prints values in a CSV format.</p>\n\n<blockquote>\n  <p>CSVRecord</p>\n</blockquote>\n\n<p>A CSV record parsed from a CSV file.</p>\n\n<p>Code Example:\n<a href=\"https://i.stack.imgur.com/2pqjf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2pqjf.png\" alt=\"enter image description here\"></a></p>\n\n<p>Unit test code:\n<a href=\"https://i.stack.imgur.com/JMzut.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JMzut.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":19669126,"reputation":1,"user_id":14398724,"display_name":"Sahil Gaikwad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619594319,"creation_date":1619594319,"answer_id":67295541,"question_id":14226830,"body_markdown":"Add Dependencies \r\n\r\n``` \r\nimplementation &#39;com.opencsv:opencsv:4.6&#39;\r\n```\r\n\r\nAdd Below Code in onCreate()\r\n\r\n```\r\nInputStreamReader is = null;\r\n        try {\r\n              String path= &quot;storage/emulated/0/Android/media/in.bioenabletech.imageProcessing/MLkit/countries_image_crop.csv&quot;;\r\n            \r\n             CSVReader reader = new CSVReader(new FileReader(path));\r\n             String[] nextLine;\r\n             int lineNumber = 0;\r\n             while ((nextLine = reader.readNext()) != null) {\r\n                lineNumber++;\r\n\r\n                //print CSV file according to your column 1 means first column, 2 means \r\n                  second column\r\n                Log.e(TAG, &quot;onCreate: &quot;+nextLine[2] );\r\n            }\r\n        }\r\n        catch (Exception e)\r\n        {\r\n             Log.e(TAG, &quot;onCreate: &quot;+e );\r\n        }\r\n```\r\n\r\n","title":"Java: CSV File Easy Read/Write","body":"<p>Add Dependencies</p>\n<pre><code>implementation 'com.opencsv:opencsv:4.6'\n</code></pre>\n<p>Add Below Code in onCreate()</p>\n<pre><code>InputStreamReader is = null;\n        try {\n              String path= &quot;storage/emulated/0/Android/media/in.bioenabletech.imageProcessing/MLkit/countries_image_crop.csv&quot;;\n            \n             CSVReader reader = new CSVReader(new FileReader(path));\n             String[] nextLine;\n             int lineNumber = 0;\n             while ((nextLine = reader.readNext()) != null) {\n                lineNumber++;\n\n                //print CSV file according to your column 1 means first column, 2 means \n                  second column\n                Log.e(TAG, &quot;onCreate: &quot;+nextLine[2] );\n            }\n        }\n        catch (Exception e)\n        {\n             Log.e(TAG, &quot;onCreate: &quot;+e );\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13258666,"reputation":326,"user_id":9573943,"display_name":"Inanc Cakil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645553449,"creation_date":1645553449,"answer_id":71226316,"question_id":14226830,"body_markdown":"I solved it using \r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-dataformat-csv&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.8.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nand \r\n\r\n      private static final CsvMapper mapper = new CsvMapper();\r\n      public static &lt;T&gt; List&lt;T&gt; readCsvFile(MultipartFile file, Class&lt;T&gt; clazz) throws IOException {\r\n        InputStream inputStream = file.getInputStream();\r\n        CsvSchema schema = mapper.schemaFor(clazz).withHeader().withColumnReordering(true);\r\n        ObjectReader reader = mapper.readerFor(clazz).with(schema);\r\n        return reader.&lt;T&gt;readValues(inputStream).readAll();\r\n    }","title":"Java: CSV File Easy Read/Write","body":"<p>I solved it using</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-dataformat-csv&lt;/artifactId&gt;\n        &lt;version&gt;2.8.6&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>and</p>\n<pre><code>  private static final CsvMapper mapper = new CsvMapper();\n  public static &lt;T&gt; List&lt;T&gt; readCsvFile(MultipartFile file, Class&lt;T&gt; clazz) throws IOException {\n    InputStream inputStream = file.getInputStream();\n    CsvSchema schema = mapper.schemaFor(clazz).withHeader().withColumnReordering(true);\n    ObjectReader reader = mapper.readerFor(clazz).with(schema);\n    return reader.&lt;T&gt;readValues(inputStream).readAll();\n}\n</code></pre>\n"}],"owner":{"account_id":1490060,"reputation":337,"user_id":1506103,"accept_rate":75,"display_name":"Rich Young"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40627,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":14226913,"answer_count":5,"score":7,"last_activity_date":1645553449,"creation_date":1357694061,"question_id":14226830,"body_markdown":"I&#39;m working on a program that requires quick access to a CSV comma-delimited spreadsheet file.\r\nSo far I&#39;ve been able to read from it easily using a BufferedReader.\r\nHowever, now I want to be able to edit the data it reads, then export it BACK to the CSV.\r\n\r\nThe spreadsheet contains names, phone numbers, email addresses, etc. And the program lists everyone&#39;s data, and when you click on them it brings up a page with more detailed information, also pulled from the CSV. On that page you can edit the data, and I want to be able to click a &quot;Save Changes&quot; button, then export the data back to its appropriate line in the CSV--or delete the old one, and append the new.\r\n\r\nI&#39;m not very familiar with using a BufferedWriter, or whatever it is I should be using.\r\n\r\nWhat I started to do is create a custom class called FileIO. It contains both a BufferedReader and a BufferedWriter. So far it has a method that returns bufferedReader.readLine(), called read(). Now I want a function called write(String line).\r\n\r\n    public static class FileIO {\r\n\t\tBufferedReader read;\r\n\t\tBufferedWriter write;\r\n\t\t\r\n\t\tpublic FileIO (String file) throws MalformedURLException, IOException {\r\n\t\t\tread = new BufferedReader(new InputStreamReader (getUrl(file).openStream()));\r\n\t\t\twrite = new BufferedWriter (new FileWriter (file));\r\n\t\t}\r\n\t\t\r\n\t\tpublic static URL getUrl (String file) throws IOException {\r\n\t\t\treturn //new URL (fileServer + file).openStream()));\r\n\t\t\t\t\tFileIO.class.getResource(file);\r\n\t\t}\r\n\t\t\r\n\t\tpublic String read () throws IOException {\r\n\t\t\treturn read.readLine();\r\n\t\t}\r\n\t\t\r\n\t\tpublic void write (String line) {\r\n\t\t\tString [] data = line.split(&quot;\\\\|&quot;);\r\n\t\t\tString firstName = data[0];\r\n\t\t\t\r\n\t\t\t// int lineNum = findLineThatStartsWith(firstName);\r\n\t\t\t// write.writeLine(lineNum, line);\r\n\t\t}\r\n\t};\r\n\r\nI&#39;m hoping somebody has an idea as to how I can do this?","title":"Java: CSV File Easy Read/Write","body":"<p>I'm working on a program that requires quick access to a CSV comma-delimited spreadsheet file.\nSo far I've been able to read from it easily using a BufferedReader.\nHowever, now I want to be able to edit the data it reads, then export it BACK to the CSV.</p>\n\n<p>The spreadsheet contains names, phone numbers, email addresses, etc. And the program lists everyone's data, and when you click on them it brings up a page with more detailed information, also pulled from the CSV. On that page you can edit the data, and I want to be able to click a \"Save Changes\" button, then export the data back to its appropriate line in the CSV--or delete the old one, and append the new.</p>\n\n<p>I'm not very familiar with using a BufferedWriter, or whatever it is I should be using.</p>\n\n<p>What I started to do is create a custom class called FileIO. It contains both a BufferedReader and a BufferedWriter. So far it has a method that returns bufferedReader.readLine(), called read(). Now I want a function called write(String line).</p>\n\n<pre><code>public static class FileIO {\n    BufferedReader read;\n    BufferedWriter write;\n\n    public FileIO (String file) throws MalformedURLException, IOException {\n        read = new BufferedReader(new InputStreamReader (getUrl(file).openStream()));\n        write = new BufferedWriter (new FileWriter (file));\n    }\n\n    public static URL getUrl (String file) throws IOException {\n        return //new URL (fileServer + file).openStream()));\n                FileIO.class.getResource(file);\n    }\n\n    public String read () throws IOException {\n        return read.readLine();\n    }\n\n    public void write (String line) {\n        String [] data = line.split(\"\\\\|\");\n        String firstName = data[0];\n\n        // int lineNum = findLineThatStartsWith(firstName);\n        // write.writeLine(lineNum, line);\n    }\n};\n</code></pre>\n\n<p>I'm hoping somebody has an idea as to how I can do this?</p>\n"},{"tags":["java","sonarqube"],"comments":[{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1592483735,"post_id":62449994,"comment_id":110445623,"body_markdown":"@SotiriosDelimanolis it may be a false positive, as it&#39;s a valid jersey code as https://blog.dejavu.sk/registering-resources-and-providers-in-jersey-2/","body":"@SotiriosDelimanolis it may be a false positive, as it&#39;s a valid jersey code as <a href=\"https://blog.dejavu.sk/registering-resources-and-providers-in-jersey-2/\" rel=\"nofollow noreferrer\">blog.dejavu.sk/registering-resources-and-providers-in-jersey&zwnj;&#8203;-2</a>"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1592483964,"post_id":62449994,"comment_id":110445746,"body_markdown":"Yeah I was about to add another duplicate for suppressing it. The first one properly explained why the warning occurs.","body":"Yeah I was about to add another duplicate for suppressing it. The first one properly explained why the warning occurs."},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1592484542,"post_id":62449994,"comment_id":110446056,"body_markdown":"I have similar code which SonarLint which doesn&#39;t find any code smell, How exactly do you check your code?","body":"I have similar code which SonarLint which doesn&#39;t find any code smell, How exactly do you check your code?"},{"owner":{"account_id":7312851,"reputation":2053,"user_id":5571461,"accept_rate":33,"display_name":"AbhiRam"},"score":0,"creation_date":1592484663,"post_id":62449994,"comment_id":110446131,"body_markdown":"@user7294900 after deployed my code in environment we check sonar issues there its showing this issue","body":"@user7294900 after deployed my code in environment we check sonar issues there its showing this issue"},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1592486568,"post_id":62449994,"comment_id":110447239,"body_markdown":"I think you should raise it in SonarQube site as false positive or at least discuss it there","body":"I think you should raise it in SonarQube site as false positive or at least discuss it there"}],"answers":[{"tags":[],"owner":{"account_id":6372974,"reputation":8828,"user_id":4944847,"accept_rate":89,"display_name":"agabrys"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592579137,"creation_date":1592579137,"answer_id":62473139,"question_id":62449994,"body_markdown":"It is not a false positive, because the rule works correctly. You are calling a method in the constructor which could be changed in sub classes. This structure could cause problems. Example:\r\n\r\n```\r\npublic class BrokenCode extends JerseyConfiguration {\r\n\r\n    @Override\r\n    public ResourceConfig register(final Class&lt;?&gt; componentClass) {\r\n        // stop invaliding cache, to break the application\r\n        // invalidateCache();\r\n\r\n        state.register(componentClass);\r\n        return this;\r\n    }\r\n}\r\n```\r\n\r\n---\r\nTo solve the issue the method must be marked as `final`. I don&#39;t know Jersey so you have the following option:\r\n\r\n### 1. if making methods as `final` is impossible\r\n\r\nIn some cases adding `final` could break the application, because for example dynamic proxies are created by the used framework. In such cases you can only mark the issue as `Won&#39;t Fix` (it informs other developers that the mentioned structure doesn&#39;t match the rule, but you are fine with it)\r\n\r\n\r\n### 2. if making methods as `final` is possible\r\n\r\nThere are two options, depending on which classes you can edit:\r\n\r\n1. if you can edit the `ResourceConfig` class, then change:\r\n```\r\n@Override\r\npublic ResourceConfig register(final Class&lt;?&gt; componentClass) {\r\n    invalidateCache();\r\n    state.register(componentClass);\r\n    return this;\r\n}\r\n```\r\nto\r\n```\r\n@Override\r\npublic final ResourceConfig register(final Class&lt;?&gt; componentClass) {\r\n    invalidateCache();\r\n    state.register(componentClass);\r\n    return this;\r\n}\r\n```\r\n\r\nIf `invalidateCache` is not `private` then you have to mark it as `final` too.\r\n\r\n2. if you cannot edit the `ResourceConfig` class, then you can add to the `JerseyConfiguration` class the following method:\r\n\r\n```\r\n@Override\r\npublic final ResourceConfig register(final Class&lt;?&gt; componentClass) {\r\n    super.register(componentClass)\r\n}\r\n```\r\n\r\nOf course again if `invalidateCache` is not `private` then you have to add it too:\r\n\r\n```\r\n@Override\r\npublic final void invalidateCache() {\r\n    super.invalidateCache()\r\n}\r\n```\r\n\r\n---\r\n\r\nThe chosen &quot;fixing&quot; strategy should be based also on:\r\n\r\n* used framework (Jersey) guidelines\r\n* who can extend `JerseyConfiguration` configuration\r\n* etc.\r\n\r\nI think it is totally fine to close it as `Won&#39;t Fix` also when the application:\r\n\r\n* uses structures in the used framework documentation\r\n* is developed/maintained only by your team (nobody else creates manually new instances of the `JerseyConfiguration` class)\r\n \r\n","title":"Constructors should only call non-overridable methods in SonarQube tool","body":"<p>It is not a false positive, because the rule works correctly. You are calling a method in the constructor which could be changed in sub classes. This structure could cause problems. Example:</p>\n\n<pre><code>public class BrokenCode extends JerseyConfiguration {\n\n    @Override\n    public ResourceConfig register(final Class&lt;?&gt; componentClass) {\n        // stop invaliding cache, to break the application\n        // invalidateCache();\n\n        state.register(componentClass);\n        return this;\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>To solve the issue the method must be marked as <code>final</code>. I don't know Jersey so you have the following option:</p>\n\n<h3>1. if making methods as <code>final</code> is impossible</h3>\n\n<p>In some cases adding <code>final</code> could break the application, because for example dynamic proxies are created by the used framework. In such cases you can only mark the issue as <code>Won't Fix</code> (it informs other developers that the mentioned structure doesn't match the rule, but you are fine with it)</p>\n\n<h3>2. if making methods as <code>final</code> is possible</h3>\n\n<p>There are two options, depending on which classes you can edit:</p>\n\n<ol>\n<li>if you can edit the <code>ResourceConfig</code> class, then change:</li>\n</ol>\n\n<pre><code>@Override\npublic ResourceConfig register(final Class&lt;?&gt; componentClass) {\n    invalidateCache();\n    state.register(componentClass);\n    return this;\n}\n</code></pre>\n\n<p>to</p>\n\n<pre><code>@Override\npublic final ResourceConfig register(final Class&lt;?&gt; componentClass) {\n    invalidateCache();\n    state.register(componentClass);\n    return this;\n}\n</code></pre>\n\n<p>If <code>invalidateCache</code> is not <code>private</code> then you have to mark it as <code>final</code> too.</p>\n\n<ol start=\"2\">\n<li>if you cannot edit the <code>ResourceConfig</code> class, then you can add to the <code>JerseyConfiguration</code> class the following method:</li>\n</ol>\n\n<pre><code>@Override\npublic final ResourceConfig register(final Class&lt;?&gt; componentClass) {\n    super.register(componentClass)\n}\n</code></pre>\n\n<p>Of course again if <code>invalidateCache</code> is not <code>private</code> then you have to add it too:</p>\n\n<pre><code>@Override\npublic final void invalidateCache() {\n    super.invalidateCache()\n}\n</code></pre>\n\n<hr>\n\n<p>The chosen \"fixing\" strategy should be based also on:</p>\n\n<ul>\n<li>used framework (Jersey) guidelines</li>\n<li>who can extend <code>JerseyConfiguration</code> configuration</li>\n<li>etc.</li>\n</ul>\n\n<p>I think it is totally fine to close it as <code>Won't Fix</code> also when the application:</p>\n\n<ul>\n<li>uses structures in the used framework documentation</li>\n<li>is developed/maintained only by your team (nobody else creates manually new instances of the <code>JerseyConfiguration</code> class)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2368162,"reputation":186,"user_id":2073435,"display_name":"Richard Vella"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645553283,"creation_date":1645553283,"answer_id":71226280,"question_id":62449994,"body_markdown":"Add an explicit &#39;this&#39; to the register() calls.\r\n\r\nExample:\r\n\r\n    public class JerseyConfiguration extends ResourceConfig {\r\n   \r\n      @Autowired\r\n      public JerseyConfiguration() {\r\n        this.register(TermsResourceImpl.class);\r\n        this.register(AccessIDResourceImpl.class);\r\n\r\n        ...\r\n\r\n      }\r\n    }\r\n","title":"Constructors should only call non-overridable methods in SonarQube tool","body":"<p>Add an explicit 'this' to the register() calls.</p>\n<p>Example:</p>\n<pre><code>public class JerseyConfiguration extends ResourceConfig {\n\n  @Autowired\n  public JerseyConfiguration() {\n    this.register(TermsResourceImpl.class);\n    this.register(AccessIDResourceImpl.class);\n\n    ...\n\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":7312851,"reputation":2053,"user_id":5571461,"accept_rate":33,"display_name":"AbhiRam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1162,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1645553283,"creation_date":1592483333,"question_id":62449994,"body_markdown":"In `JersyConfiguration` class i am getting sonar tool major issues like **Remove this call from a constructor to the overridable &quot;register&quot; method**. I really don&#39;t understand with what code change can resolve this issue. This is my code:\r\n\r\nJerseyConfiguration\r\n---\r\n\r\n    public class JerseyConfiguration extends ResourceConfig {\r\n    \r\n    \t@Bean\r\n    \t@Primary\r\n    \tpublic ObjectMapper objectMapper() {\r\n    \t\tObjectMapper objectMapper = new ObjectMapper();\r\n    \t\tobjectMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n    \t\tobjectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\r\n    \t\tobjectMapper.enable(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES);\r\n    \t\tobjectMapper.enable(DeserializationFeature.READ_ENUMS_USING_TO_STRING);\r\n    \t\treturn objectMapper;\r\n    \t}\r\n    \r\n    \t\r\n    \r\n    \t@Autowired\r\n    \tpublic JerseyConfiguration() {\r\n    \t\tregister(TermsResourceImpl.class);\r\n    \t\tregister(AccessIDResourceImpl.class);\r\n    \t\tregister(CatalogResourceImpl.class);\r\n    \t\tregister(SubmitOrderResourceImpl.class);\r\n    \t\tregister(ValidateAndQuoteResourceImp.class);\r\n    \t\tproperty(ServletProperties.FILTER_FORWARD_ON_404, true);\r\n    \t\tregister(DynamicLoggingFeature.class);\r\n    \t\tregister(ContextFilter.class);\r\n    \t\tregister(ServiceExceptionMapper.class);\r\n    \t\tregister(JsonParseExceptionMapper.class, 1);\r\n    \t\tregister(JsonMappingExceptionMapper.class, 1);\r\n    \t\tregister(LoggingContextJerseyFilter.class);\r\n    \t\tregister(FeatureToggleFilterBinder.class);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic Client jerseyClient() {\r\n    \t\treturn ClientBuilder.newClient(new ClientConfig());\r\n    \t}\r\n    }\r\n\r\nResourceConfig  overide methods\r\n---\r\n\r\n     @Override\r\n     public ResourceConfig property(final String name, final Object value) {\r\n         state.property(name, value);\r\n         return this;\r\n     }\r\n    \r\n     @Override\r\n     public ResourceConfig register(final Class&lt;?&gt; componentClass) {\r\n         invalidateCache();\r\n         state.register(componentClass);\r\n         return this;\r\n     }\r\n\r\nSonarQube issue\r\n--\r\n[![SonarQube issue description][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nqIk4.png","title":"Constructors should only call non-overridable methods in SonarQube tool","body":"<p>In <code>JersyConfiguration</code> class i am getting sonar tool major issues like <strong>Remove this call from a constructor to the overridable \"register\" method</strong>. I really don't understand with what code change can resolve this issue. This is my code:</p>\n\n<h2>JerseyConfiguration</h2>\n\n<pre><code>public class JerseyConfiguration extends ResourceConfig {\n\n    @Bean\n    @Primary\n    public ObjectMapper objectMapper() {\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n        objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\n        objectMapper.enable(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES);\n        objectMapper.enable(DeserializationFeature.READ_ENUMS_USING_TO_STRING);\n        return objectMapper;\n    }\n\n\n\n    @Autowired\n    public JerseyConfiguration() {\n        register(TermsResourceImpl.class);\n        register(AccessIDResourceImpl.class);\n        register(CatalogResourceImpl.class);\n        register(SubmitOrderResourceImpl.class);\n        register(ValidateAndQuoteResourceImp.class);\n        property(ServletProperties.FILTER_FORWARD_ON_404, true);\n        register(DynamicLoggingFeature.class);\n        register(ContextFilter.class);\n        register(ServiceExceptionMapper.class);\n        register(JsonParseExceptionMapper.class, 1);\n        register(JsonMappingExceptionMapper.class, 1);\n        register(LoggingContextJerseyFilter.class);\n        register(FeatureToggleFilterBinder.class);\n    }\n\n    @Bean\n    public Client jerseyClient() {\n        return ClientBuilder.newClient(new ClientConfig());\n    }\n}\n</code></pre>\n\n<h2>ResourceConfig  overide methods</h2>\n\n<pre><code> @Override\n public ResourceConfig property(final String name, final Object value) {\n     state.property(name, value);\n     return this;\n }\n\n @Override\n public ResourceConfig register(final Class&lt;?&gt; componentClass) {\n     invalidateCache();\n     state.register(componentClass);\n     return this;\n }\n</code></pre>\n\n<h2>SonarQube issue</h2>\n\n<p><a href=\"https://i.stack.imgur.com/nqIk4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nqIk4.png\" alt=\"SonarQube issue description\"></a></p>\n"},{"tags":["java","spring","spring-data","couchbase","sql++"],"comments":[{"owner":{"account_id":17736,"reputation":25458,"user_id":40015,"accept_rate":84,"display_name":"Matthew Groves"},"score":0,"creation_date":1645553113,"post_id":71225311,"comment_id":125900320,"body_markdown":"Would you please mention what&#39;s happening and what you expect to happen, along with error messages? &quot;does not work&quot; is pretty vague.","body":"Would you please mention what&#39;s happening and what you expect to happen, along with error messages? &quot;does not work&quot; is pretty vague."}],"answers":[{"tags":[],"owner":{"account_id":17736,"reputation":25458,"user_id":40015,"accept_rate":84,"display_name":"Matthew Groves"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645553062,"creation_date":1645553062,"answer_id":71226236,"question_id":71225311,"body_markdown":"I can&#39;t comment on the Java syntax, but as far as the N1QL query:\r\n\r\nI believe you are trying to concatenate `LOWER(firstName)` and `LOWER(lastName)` with a space in between? In that case, use the [concatenate operator][1] of `||` instead of `+`.\r\n\r\n\r\n  [1]: https://docs.couchbase.com/server/current/n1ql/n1ql-language-reference/stringops.html","title":"Combining fields in a Couchbase Spring-Data Query","body":"<p>I can't comment on the Java syntax, but as far as the N1QL query:</p>\n<p>I believe you are trying to concatenate <code>LOWER(firstName)</code> and <code>LOWER(lastName)</code> with a space in between? In that case, use the <a href=\"https://docs.couchbase.com/server/current/n1ql/n1ql-language-reference/stringops.html\" rel=\"nofollow noreferrer\">concatenate operator</a> of <code>||</code> instead of <code>+</code>.</p>\n"}],"owner":{"display_name":"user15613889"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71226236,"answer_count":1,"score":1,"last_activity_date":1645553062,"creation_date":1645549141,"question_id":71225311,"body_markdown":"I have a couchbase query that needs to search for a name, the object being searched stores firstName and lastName fields. My search query may be something like &quot;Bob Smith&quot;, I have tried combining the fields in the query however this does not work ?\r\n\r\n    @Query(&quot;#{#n1ql.selectEntity} WHERE #{#n1ql.filter} AND LOWER(firstName) + &#39; &#39; + LOWER(lastName) LIKE $1 &quot;)","title":"Combining fields in a Couchbase Spring-Data Query","body":"<p>I have a couchbase query that needs to search for a name, the object being searched stores firstName and lastName fields. My search query may be something like &quot;Bob Smith&quot;, I have tried combining the fields in the query however this does not work ?</p>\n<pre><code>@Query(&quot;#{#n1ql.selectEntity} WHERE #{#n1ql.filter} AND LOWER(firstName) + ' ' + LOWER(lastName) LIKE $1 &quot;)\n</code></pre>\n"},{"tags":["java","eclipse","jakarta-ee","jboss","ejb-3.0"],"answers":[{"tags":[],"owner":{"account_id":2292131,"reputation":2951,"user_id":2014619,"display_name":"Gabriel Aramburu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384525616,"creation_date":1384525616,"answer_id":20003304,"question_id":19999709,"body_markdown":"Your EJB client is a java standalone, therefore, in order to connect to JNDI service and lookup the ejb reference you need to provide some configuration to the InitialContext object.\r\n\r\nThe exception is telling you that this configuration is not provided, so the InitialContext instance can&#39;t be created.\r\n\r\n[Here][1] you can see (in general terms) how to set InitialConext properties. Takes in mind that this configuration is vendor-dependet.\r\n\r\nSearching through the tutorial, I can see a [file][2] that seems to contains the properties suitable for this tutorial. I seems to be that this file is no available to  RemoteEJBClient.java class. \r\n\r\n[1]:https://stackoverflow.com/questions/18937514/how-do-i-specify-a-server-to-get-an-ejb-from/18945693#18945693\r\n[2]:https://github.com/jboss-developer/jboss-eap-quickstarts/tree/master/ejb-remote/client/src/main/resources","title":"jboss ejb-client example: Exception in thread &quot;main&quot; javax.naming.NoInitialContextException:","body":"<p>Your EJB client is a java standalone, therefore, in order to connect to JNDI service and lookup the ejb reference you need to provide some configuration to the InitialContext object.</p>\n\n<p>The exception is telling you that this configuration is not provided, so the InitialContext instance can't be created.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/18937514/how-do-i-specify-a-server-to-get-an-ejb-from/18945693#18945693\">Here</a> you can see (in general terms) how to set InitialConext properties. Takes in mind that this configuration is vendor-dependet.</p>\n\n<p>Searching through the tutorial, I can see a <a href=\"https://github.com/jboss-developer/jboss-eap-quickstarts/tree/master/ejb-remote/client/src/main/resources\" rel=\"nofollow noreferrer\">file</a> that seems to contains the properties suitable for this tutorial. I seems to be that this file is no available to  RemoteEJBClient.java class. </p>\n"}],"owner":{"account_id":1542409,"reputation":890,"user_id":1436729,"accept_rate":81,"display_name":"vicky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645552940,"creation_date":1384513797,"question_id":19999709,"body_markdown":"I am trying to run the following example for a quite sometime in eclipse.\r\n\r\n[https://github.com/jboss-developer/jboss-eap-quickstarts/tree/master/ejb-remote][1]\r\n\r\nI have created an ejb project and imported all the class files and put .properties files in META-INF. now there is no error in code and ejbs are deployed on JBoss server successfully. When I try to run RemoteEJBClient.java, I am getting following exception, which I am not able to fix.\r\n\r\n    Exception in thread &quot;main&quot; javax.naming.NoInitialContextException: Need to specify class name in environment or system property, or as an applet parameter, or in an application resource file:  java.naming.factory.initial\r\n    \tat javax.naming.spi.NamingManager.getInitialContext(Unknown Source)\r\n    \tat javax.naming.InitialContext.getDefaultInitCtx(Unknown Source)\r\n    \tat javax.naming.InitialContext.getURLOrDefaultInitCtx(Unknown Source)\r\n    \tat javax.naming.InitialContext.lookup(Unknown Source)\r\n    \tat org.jboss.as.quickstarts.ejb.remote.client.RemoteEJBClient.lookupRemoteStatelessCalculator(RemoteEJBClient.java:131)\r\n    \tat org.jboss.as.quickstarts.ejb.remote.client.RemoteEJBClient.invokeStatelessBean(RemoteEJBClient.java:50)\r\n    \tat org.jboss.as.quickstarts.ejb.remote.client.RemoteEJBClient.main(RemoteEJBClient.java:37)\r\n\r\n\r\n  [1]: https://github.com/jboss-developer/jboss-eap-quickstarts/tree/master/ejb-remote\r\n\r\nplease help me in sort out this issue\r\n\r\nmain standalone class:\r\n\r\n\r\n    /*\r\n     * JBoss, Home of Professional Open Source\r\n     * Copyright 2013, Red Hat, Inc. and/or its affiliates, and individual\r\n     * contributors by the @authors tag. See the copyright.txt in the\r\n     * distribution for a full listing of individual contributors.\r\n     *\r\n     * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\r\n     * you may not use this file except in compliance with the License.\r\n     * You may obtain a copy of the License at\r\n     * http://www.apache.org/licenses/LICENSE-2.0\r\n     * Unless required by applicable law or agreed to in writing, software\r\n     * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n     * See the License for the specific language governing permissions and\r\n     * limitations under the License.\r\n     */\r\n    package org.jboss.as.quickstarts.ejb.remote.client;\r\n    \r\n    import org.jboss.as.quickstarts.ejb.remote.stateful.RemoteCounter;\r\n    import org.jboss.as.quickstarts.ejb.remote.stateless.RemoteCalculator;\r\n    \r\n    import javax.naming.Context;\r\n    import javax.naming.InitialContext;\r\n    import javax.naming.NamingException;\r\n    import java.util.Hashtable;\r\n    \r\n    /**\r\n     * A sample program which acts a remote client for a EJB deployed on AS7 server.\r\n     * This program shows how to lookup stateful and stateless beans via JNDI and\r\n     * then invoke on them\r\n     * \r\n     * @author Jaikiran Pai\r\n     */\r\n    public class RemoteEJBClient {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\t// Invoke a stateless bean\r\n    \t\tinvokeStatelessBean();\r\n    \r\n    \t\t// Invoke a stateful bean\r\n    \t\t// invokeStatefulBean();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Looks up a stateless bean and invokes on it\r\n    \t * \r\n    \t * @throws NamingException\r\n    \t */\r\n    \tprivate static void invokeStatelessBean() throws NamingException {\r\n    \t\t// Let&#39;s lookup the remote stateless calculator\r\n    \t\tfinal RemoteCalculator statelessRemoteCalculator = lookupRemoteStatelessCalculator();\r\n    \t\tSystem.out\r\n    \t\t\t\t.println(&quot;Obtained a remote stateless calculator for invocation&quot;);\r\n    \t\t// invoke on the remote calculator\r\n    \t\tint a = 204;\r\n    \t\tint b = 340;\r\n    \t\tSystem.out\r\n    \t\t\t\t.println(&quot;Adding &quot;\r\n    \t\t\t\t\t\t+ a\r\n    \t\t\t\t\t\t+ &quot; and &quot;\r\n    \t\t\t\t\t\t+ b\r\n    \t\t\t\t\t\t+ &quot; via the remote stateless calculator deployed on the server&quot;);\r\n    \t\tint sum = statelessRemoteCalculator.add(a, b);\r\n    \t\tSystem.out.println(&quot;Remote calculator returned sum = &quot; + sum);\r\n    \t\tif (sum != a + b) {\r\n    \t\t\tthrow new RuntimeException(\r\n    \t\t\t\t\t&quot;Remote stateless calculator returned an incorrect sum &quot;\r\n    \t\t\t\t\t\t\t+ sum + &quot; ,expected sum was &quot; + (a + b));\r\n    \t\t}\r\n    \t\t// try one more invocation, this time for subtraction\r\n    \t\tint num1 = 3434;\r\n    \t\tint num2 = 2332;\r\n    \t\tSystem.out\r\n    \t\t\t\t.println(&quot;Subtracting &quot;\r\n    \t\t\t\t\t\t+ num2\r\n    \t\t\t\t\t\t+ &quot; from &quot;\r\n    \t\t\t\t\t\t+ num1\r\n    \t\t\t\t\t\t+ &quot; via the remote stateless calculator deployed on the server&quot;);\r\n    \t\tint difference = statelessRemoteCalculator.subtract(num1, num2);\r\n    \t\tSystem.out.println(&quot;Remote calculator returned difference = &quot;\r\n    \t\t\t\t+ difference);\r\n    \t\tif (difference != num1 - num2) {\r\n    \t\t\tthrow new RuntimeException(\r\n    \t\t\t\t\t&quot;Remote stateless calculator returned an incorrect difference &quot;\r\n    \t\t\t\t\t\t\t+ difference + &quot; ,expected difference was &quot;\r\n    \t\t\t\t\t\t\t+ (num1 - num2));\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Looks up a stateful bean and invokes on it\r\n    \t * \r\n    \t * @throws NamingException\r\n    \t */\r\n    \tprivate static void invokeStatefulBean() throws NamingException {\r\n    \t\t// Let&#39;s lookup the remote stateful counter\r\n    \t\tfinal RemoteCounter statefulRemoteCounter = lookupRemoteStatefulCounter();\r\n    \t\tSystem.out.println(&quot;Obtained a remote stateful counter for invocation&quot;);\r\n    \t\t// invoke on the remote counter bean\r\n    \t\tfinal int NUM_TIMES = 5;\r\n    \t\tSystem.out.println(&quot;Counter will now be incremented &quot; + NUM_TIMES\r\n    \t\t\t\t+ &quot; times&quot;);\r\n    \t\tfor (int i = 0; i &lt; NUM_TIMES; i++) {\r\n    \t\t\tSystem.out.println(&quot;Incrementing counter&quot;);\r\n    \t\t\tstatefulRemoteCounter.increment();\r\n    \t\t\tSystem.out.println(&quot;Count after increment is &quot;\r\n    \t\t\t\t\t+ statefulRemoteCounter.getCount());\r\n    \t\t}\r\n    \t\t// now decrementing\r\n    \t\tSystem.out.println(&quot;Counter will now be decremented &quot; + NUM_TIMES\r\n    \t\t\t\t+ &quot; times&quot;);\r\n    \t\tfor (int i = NUM_TIMES; i &gt; 0; i--) {\r\n    \t\t\tSystem.out.println(&quot;Decrementing counter&quot;);\r\n    \t\t\tstatefulRemoteCounter.decrement();\r\n    \t\t\tSystem.out.println(&quot;Count after decrement is &quot;\r\n    \t\t\t\t\t+ statefulRemoteCounter.getCount());\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Looks up and returns the proxy to remote stateless calculator bean\r\n    \t * \r\n    \t * @return\r\n    \t * @throws NamingException\r\n    \t */\r\n    \tprivate static RemoteCalculator lookupRemoteStatelessCalculator()\r\n    \t\t\tthrows NamingException {\r\n    \t\tfinal Hashtable jndiProperties = new Hashtable();\r\n    \t\tjndiProperties.put(Context.URL_PKG_PREFIXES,\r\n    \t\t\t\t&quot;org.jboss.ejb.client.naming&quot;);\r\n    \r\n    \t\t/*\r\n    \t\t * remote.connectionprovider.create.options.org.xnio.Options.SSL_ENABLED=\r\n    \t\t * false\r\n    \t\t * \r\n    \t\t * remote.connections=default\r\n    \t\t * \r\n    \t\t * remote.connection.default.host=localhost\r\n    \t\t * remote.connection.default.port = 4447\r\n    \t\t * remote.connection.default.connect\r\n    \t\t * .options.org.xnio.Options.SASL_POLICY_NOANONYMOUS=false\r\n    \t\t */\r\n    \t\tjndiProperties\r\n    \t\t\t\t.put(&quot;remote.connectionprovider.create.options.org.xnio.Options.SSL_ENABLED&quot;,\r\n    \t\t\t\t\t\tfalse);\r\n    \t\tjndiProperties.put(&quot;remote.connections&quot;, &quot;default&quot;);\r\n    \t\tjndiProperties.put(&quot;remote.connection.default.host&quot;, &quot;localhost&quot;);\r\n    \t\tjndiProperties.put(&quot;remote.connection.default.port&quot;, &quot;4447&quot;);\r\n    \t\tjndiProperties.put(&quot;remote.connection.default.connect.options.org.xnio.Options.SASL_POLICY_NOANONYMOUS&quot;,false);\r\n    \r\n    \t\tfinal Context context = new InitialContext(jndiProperties);\r\n    \r\n    \t\t// The JNDI lookup name for a stateless session bean has the syntax of:\r\n    \t\t// ejb:&lt;appName&gt;/&lt;moduleName&gt;/&lt;distinctName&gt;/&lt;beanName&gt;!&lt;viewClassName&gt;\r\n    \t\t//\r\n    \t\t// &lt;appName&gt; The application name is the name of the EAR that the EJB is\r\n    \t\t// deployed in\r\n    \t\t// (without the .ear). If the EJB JAR is not deployed in an EAR then\r\n    \t\t// this is\r\n    \t\t// blank. The app name can also be specified in the EAR&#39;s\r\n    \t\t// application.xml\r\n    \t\t//\r\n    \t\t// &lt;moduleName&gt; By the default the module name is the name of the EJB\r\n    \t\t// JAR file (without the\r\n    \t\t// .jar suffix). The module name might be overridden in the ejb-jar.xml\r\n    \t\t//\r\n    \t\t// &lt;distinctName&gt; : AS7 allows each deployment to have an (optional)\r\n    \t\t// distinct name.\r\n    \t\t// This example does not use this so leave it blank.\r\n    \t\t//\r\n    \t\t// &lt;beanName&gt; : The name of the session been to be invoked.\r\n    \t\t//\r\n    \t\t// &lt;viewClassName&gt;: The fully qualified classname of the remote\r\n    \t\t// interface. Must include\r\n    \t\t// the whole package name.\r\n    \r\n    \t\t// let&#39;s do the lookup\r\n    \t\treturn (RemoteCalculator) context\r\n    \t\t\t\t.lookup(&quot;java:global/ejb-remote/CalculatorBean!org.jboss.as.quickstarts.ejb.remote.stateless.RemoteCalculator&quot;);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Looks up and returns the proxy to remote stateful counter bean\r\n    \t * \r\n    \t * @return\r\n    \t * @throws NamingException\r\n    \t */\r\n    \tprivate static RemoteCounter lookupRemoteStatefulCounter()\r\n    \t\t\tthrows NamingException {\r\n    \t\tfinal Hashtable jndiProperties = new Hashtable();\r\n    \t\tjndiProperties.put(Context.URL_PKG_PREFIXES,\r\n    \t\t\t\t&quot;org.jboss.ejb.client.naming&quot;);\r\n    \t\tfinal Context context = new InitialContext(jndiProperties);\r\n    \r\n    \t\t// The JNDI lookup name for a stateful session bean has the syntax of:\r\n    \t\t// ejb:&lt;appName&gt;/&lt;moduleName&gt;/&lt;distinctName&gt;/&lt;beanName&gt;!&lt;viewClassName&gt;?stateful\r\n    \t\t//\r\n    \t\t// &lt;appName&gt; The application name is the name of the EAR that the EJB is\r\n    \t\t// deployed in\r\n    \t\t// (without the .ear). If the EJB JAR is not deployed in an EAR then\r\n    \t\t// this is\r\n    \t\t// blank. The app name can also be specified in the EAR&#39;s\r\n    \t\t// application.xml\r\n    \t\t//\r\n    \t\t// &lt;moduleName&gt; By the default the module name is the name of the EJB\r\n    \t\t// JAR file (without the\r\n    \t\t// .jar suffix). The module name might be overridden in the ejb-jar.xml\r\n    \t\t//\r\n    \t\t// &lt;distinctName&gt; : AS7 allows each deployment to have an (optional)\r\n    \t\t// distinct name.\r\n    \t\t// This example does not use this so leave it blank.\r\n    \t\t//\r\n    \t\t// &lt;beanName&gt; : The name of the session been to be invoked.\r\n    \t\t//\r\n    \t\t// &lt;viewClassName&gt;: The fully qualified classname of the remote\r\n    \t\t// interface. Must include\r\n    \t\t// the whole package name.\r\n    \r\n    \t\t// let&#39;s do the lookup\r\n    \t\treturn (RemoteCounter) context\r\n    \t\t\t\t.lookup(&quot;ejb:/jboss-ejb-remote-server-side/CounterBean!&quot;\r\n    \t\t\t\t\t\t+ RemoteCounter.class.getName() + &quot;?stateful&quot;);\r\n    \t}\r\n    }\r\n\r\n\r\njboss-ejb-client.properties\r\n\r\n    #\r\n    # JBoss, Home of Professional Open Source\r\n    # Copyright 2013, Red Hat, Inc. and/or its affiliates, and individual\r\n    # contributors by the @authors tag. See the copyright.txt in the\r\n    # distribution for a full listing of individual contributors.\r\n    #\r\n    # Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\r\n    # you may not use this file except in compliance with the License.\r\n    # You may obtain a copy of the License at\r\n    # http://www.apache.org/licenses/LICENSE-2.0\r\n    # Unless required by applicable law or agreed to in writing, software\r\n    # distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n    # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n    # See the License for the specific language governing permissions and\r\n    # limitations under the License.\r\n    #\r\n    \r\n    remote.connectionprovider.create.options.org.xnio.Options.SSL_ENABLED=false\r\n    \r\n    remote.connections=default\r\n    \r\n    remote.connection.default.host=localhost\r\n    remote.connection.default.port = 4447\r\n    remote.connection.default.connect.options.org.xnio.Options.SASL_POLICY_NOANONYMOUS=false\r\n\r\n\r\nrunning pom.xml, is also full of errors. which probably is saying that jboss provided pom.xml will not work also\r\n\r\n[ERROR]     Non-resolvable import POM: Failure to find org.jboss.spec:jboss-javaee-6.0:pom:3.0.2.Final-redhat-4 in http://repo.maven.apache.\r\norg/maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or update\r\ns are forced @ line 72, column 22 -&gt; [Help 2]\r\n[ERROR]     Non-resolvable import POM: Failure to find org.jboss.as:jboss-as-ejb-client-bom:pom:7.2.1.Final-redhat-10 in http://repo.maven.a\r\npache.org/maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or\r\nupdates are forced @ line 80, column 22 -&gt; [Help 2]\r\n[ERROR]     &#39;dependencies.dependency.version&#39; for org.jboss.spec.javax.transaction:jboss-transaction-api_1.1_spec:jar is missing. @ line 94,\r\n column 19\r\n[ERROR]     &#39;dependencies.dependency.version&#39; for org.jboss.spec.javax.ejb:jboss-ejb-api_3.1_spec:jar is missing. @ line 102, column 19\r\n[ERROR]     &#39;dependencies.dependency.version&#39; for org.jboss:jboss-ejb-client:jar is missing. @ line 118, column 20\r\n[ERROR]     &#39;dependencies.dependency.version&#39; for org.jboss.xnio:xnio-api:jar is missing. @ line 125, column 20\r\n[ERROR]     &#39;dependencies.dependency.version&#39; for org.jboss.xnio:xnio-nio:jar is missing. @ line 131, column 20\r\n[ERROR]     &#39;dependencies.dependency.version&#39; for org.jboss.remoting3:jboss-remoting:jar is missing. @ line 138, column 20\r\n[ERROR]     &#39;dependencies.dependency.version&#39; for org.jboss.sasl:jboss-sasl:jar is missing. @ line 145, column 21\r\n[ERROR]     &#39;dependencies.dependency.version&#39; for org.jboss.marshalling:jboss-marshalling-river:jar is missing. @ line 152, column 21\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\r\n[ERROR] [Help 2] http://cwiki.apache.org/confluence/display/MAVEN/UnresolvableModelException","title":"jboss ejb-client example: Exception in thread &quot;main&quot; javax.naming.NoInitialContextException:","body":"<p>I am trying to run the following example for a quite sometime in eclipse.</p>\n\n<p><a href=\"https://github.com/jboss-developer/jboss-eap-quickstarts/tree/master/ejb-remote\" rel=\"nofollow\">https://github.com/jboss-developer/jboss-eap-quickstarts/tree/master/ejb-remote</a></p>\n\n<p>I have created an ejb project and imported all the class files and put .properties files in META-INF. now there is no error in code and ejbs are deployed on JBoss server successfully. When I try to run RemoteEJBClient.java, I am getting following exception, which I am not able to fix.</p>\n\n<pre><code>Exception in thread \"main\" javax.naming.NoInitialContextException: Need to specify class name in environment or system property, or as an applet parameter, or in an application resource file:  java.naming.factory.initial\n    at javax.naming.spi.NamingManager.getInitialContext(Unknown Source)\n    at javax.naming.InitialContext.getDefaultInitCtx(Unknown Source)\n    at javax.naming.InitialContext.getURLOrDefaultInitCtx(Unknown Source)\n    at javax.naming.InitialContext.lookup(Unknown Source)\n    at org.jboss.as.quickstarts.ejb.remote.client.RemoteEJBClient.lookupRemoteStatelessCalculator(RemoteEJBClient.java:131)\n    at org.jboss.as.quickstarts.ejb.remote.client.RemoteEJBClient.invokeStatelessBean(RemoteEJBClient.java:50)\n    at org.jboss.as.quickstarts.ejb.remote.client.RemoteEJBClient.main(RemoteEJBClient.java:37)\n</code></pre>\n\n<p>please help me in sort out this issue</p>\n\n<p>main standalone class:</p>\n\n<pre><code>/*\n * JBoss, Home of Professional Open Source\n * Copyright 2013, Red Hat, Inc. and/or its affiliates, and individual\n * contributors by the @authors tag. See the copyright.txt in the\n * distribution for a full listing of individual contributors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n * http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\npackage org.jboss.as.quickstarts.ejb.remote.client;\n\nimport org.jboss.as.quickstarts.ejb.remote.stateful.RemoteCounter;\nimport org.jboss.as.quickstarts.ejb.remote.stateless.RemoteCalculator;\n\nimport javax.naming.Context;\nimport javax.naming.InitialContext;\nimport javax.naming.NamingException;\nimport java.util.Hashtable;\n\n/**\n * A sample program which acts a remote client for a EJB deployed on AS7 server.\n * This program shows how to lookup stateful and stateless beans via JNDI and\n * then invoke on them\n * \n * @author Jaikiran Pai\n */\npublic class RemoteEJBClient {\n\n    public static void main(String[] args) throws Exception {\n        // Invoke a stateless bean\n        invokeStatelessBean();\n\n        // Invoke a stateful bean\n        // invokeStatefulBean();\n    }\n\n    /**\n     * Looks up a stateless bean and invokes on it\n     * \n     * @throws NamingException\n     */\n    private static void invokeStatelessBean() throws NamingException {\n        // Let's lookup the remote stateless calculator\n        final RemoteCalculator statelessRemoteCalculator = lookupRemoteStatelessCalculator();\n        System.out\n                .println(\"Obtained a remote stateless calculator for invocation\");\n        // invoke on the remote calculator\n        int a = 204;\n        int b = 340;\n        System.out\n                .println(\"Adding \"\n                        + a\n                        + \" and \"\n                        + b\n                        + \" via the remote stateless calculator deployed on the server\");\n        int sum = statelessRemoteCalculator.add(a, b);\n        System.out.println(\"Remote calculator returned sum = \" + sum);\n        if (sum != a + b) {\n            throw new RuntimeException(\n                    \"Remote stateless calculator returned an incorrect sum \"\n                            + sum + \" ,expected sum was \" + (a + b));\n        }\n        // try one more invocation, this time for subtraction\n        int num1 = 3434;\n        int num2 = 2332;\n        System.out\n                .println(\"Subtracting \"\n                        + num2\n                        + \" from \"\n                        + num1\n                        + \" via the remote stateless calculator deployed on the server\");\n        int difference = statelessRemoteCalculator.subtract(num1, num2);\n        System.out.println(\"Remote calculator returned difference = \"\n                + difference);\n        if (difference != num1 - num2) {\n            throw new RuntimeException(\n                    \"Remote stateless calculator returned an incorrect difference \"\n                            + difference + \" ,expected difference was \"\n                            + (num1 - num2));\n        }\n    }\n\n    /**\n     * Looks up a stateful bean and invokes on it\n     * \n     * @throws NamingException\n     */\n    private static void invokeStatefulBean() throws NamingException {\n        // Let's lookup the remote stateful counter\n        final RemoteCounter statefulRemoteCounter = lookupRemoteStatefulCounter();\n        System.out.println(\"Obtained a remote stateful counter for invocation\");\n        // invoke on the remote counter bean\n        final int NUM_TIMES = 5;\n        System.out.println(\"Counter will now be incremented \" + NUM_TIMES\n                + \" times\");\n        for (int i = 0; i &lt; NUM_TIMES; i++) {\n            System.out.println(\"Incrementing counter\");\n            statefulRemoteCounter.increment();\n            System.out.println(\"Count after increment is \"\n                    + statefulRemoteCounter.getCount());\n        }\n        // now decrementing\n        System.out.println(\"Counter will now be decremented \" + NUM_TIMES\n                + \" times\");\n        for (int i = NUM_TIMES; i &gt; 0; i--) {\n            System.out.println(\"Decrementing counter\");\n            statefulRemoteCounter.decrement();\n            System.out.println(\"Count after decrement is \"\n                    + statefulRemoteCounter.getCount());\n        }\n    }\n\n    /**\n     * Looks up and returns the proxy to remote stateless calculator bean\n     * \n     * @return\n     * @throws NamingException\n     */\n    private static RemoteCalculator lookupRemoteStatelessCalculator()\n            throws NamingException {\n        final Hashtable jndiProperties = new Hashtable();\n        jndiProperties.put(Context.URL_PKG_PREFIXES,\n                \"org.jboss.ejb.client.naming\");\n\n        /*\n         * remote.connectionprovider.create.options.org.xnio.Options.SSL_ENABLED=\n         * false\n         * \n         * remote.connections=default\n         * \n         * remote.connection.default.host=localhost\n         * remote.connection.default.port = 4447\n         * remote.connection.default.connect\n         * .options.org.xnio.Options.SASL_POLICY_NOANONYMOUS=false\n         */\n        jndiProperties\n                .put(\"remote.connectionprovider.create.options.org.xnio.Options.SSL_ENABLED\",\n                        false);\n        jndiProperties.put(\"remote.connections\", \"default\");\n        jndiProperties.put(\"remote.connection.default.host\", \"localhost\");\n        jndiProperties.put(\"remote.connection.default.port\", \"4447\");\n        jndiProperties.put(\"remote.connection.default.connect.options.org.xnio.Options.SASL_POLICY_NOANONYMOUS\",false);\n\n        final Context context = new InitialContext(jndiProperties);\n\n        // The JNDI lookup name for a stateless session bean has the syntax of:\n        // ejb:&lt;appName&gt;/&lt;moduleName&gt;/&lt;distinctName&gt;/&lt;beanName&gt;!&lt;viewClassName&gt;\n        //\n        // &lt;appName&gt; The application name is the name of the EAR that the EJB is\n        // deployed in\n        // (without the .ear). If the EJB JAR is not deployed in an EAR then\n        // this is\n        // blank. The app name can also be specified in the EAR's\n        // application.xml\n        //\n        // &lt;moduleName&gt; By the default the module name is the name of the EJB\n        // JAR file (without the\n        // .jar suffix). The module name might be overridden in the ejb-jar.xml\n        //\n        // &lt;distinctName&gt; : AS7 allows each deployment to have an (optional)\n        // distinct name.\n        // This example does not use this so leave it blank.\n        //\n        // &lt;beanName&gt; : The name of the session been to be invoked.\n        //\n        // &lt;viewClassName&gt;: The fully qualified classname of the remote\n        // interface. Must include\n        // the whole package name.\n\n        // let's do the lookup\n        return (RemoteCalculator) context\n                .lookup(\"java:global/ejb-remote/CalculatorBean!org.jboss.as.quickstarts.ejb.remote.stateless.RemoteCalculator\");\n    }\n\n    /**\n     * Looks up and returns the proxy to remote stateful counter bean\n     * \n     * @return\n     * @throws NamingException\n     */\n    private static RemoteCounter lookupRemoteStatefulCounter()\n            throws NamingException {\n        final Hashtable jndiProperties = new Hashtable();\n        jndiProperties.put(Context.URL_PKG_PREFIXES,\n                \"org.jboss.ejb.client.naming\");\n        final Context context = new InitialContext(jndiProperties);\n\n        // The JNDI lookup name for a stateful session bean has the syntax of:\n        // ejb:&lt;appName&gt;/&lt;moduleName&gt;/&lt;distinctName&gt;/&lt;beanName&gt;!&lt;viewClassName&gt;?stateful\n        //\n        // &lt;appName&gt; The application name is the name of the EAR that the EJB is\n        // deployed in\n        // (without the .ear). If the EJB JAR is not deployed in an EAR then\n        // this is\n        // blank. The app name can also be specified in the EAR's\n        // application.xml\n        //\n        // &lt;moduleName&gt; By the default the module name is the name of the EJB\n        // JAR file (without the\n        // .jar suffix). The module name might be overridden in the ejb-jar.xml\n        //\n        // &lt;distinctName&gt; : AS7 allows each deployment to have an (optional)\n        // distinct name.\n        // This example does not use this so leave it blank.\n        //\n        // &lt;beanName&gt; : The name of the session been to be invoked.\n        //\n        // &lt;viewClassName&gt;: The fully qualified classname of the remote\n        // interface. Must include\n        // the whole package name.\n\n        // let's do the lookup\n        return (RemoteCounter) context\n                .lookup(\"ejb:/jboss-ejb-remote-server-side/CounterBean!\"\n                        + RemoteCounter.class.getName() + \"?stateful\");\n    }\n}\n</code></pre>\n\n<p>jboss-ejb-client.properties</p>\n\n<pre><code>#\n# JBoss, Home of Professional Open Source\n# Copyright 2013, Red Hat, Inc. and/or its affiliates, and individual\n# contributors by the @authors tag. See the copyright.txt in the\n# distribution for a full listing of individual contributors.\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n# http://www.apache.org/licenses/LICENSE-2.0\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n#\n\nremote.connectionprovider.create.options.org.xnio.Options.SSL_ENABLED=false\n\nremote.connections=default\n\nremote.connection.default.host=localhost\nremote.connection.default.port = 4447\nremote.connection.default.connect.options.org.xnio.Options.SASL_POLICY_NOANONYMOUS=false\n</code></pre>\n\n<p>running pom.xml, is also full of errors. which probably is saying that jboss provided pom.xml will not work also</p>\n\n<p>[ERROR]     Non-resolvable import POM: Failure to find org.jboss.spec:jboss-javaee-6.0:pom:3.0.2.Final-redhat-4 in <a href=\"http://repo.maven.apache\" rel=\"nofollow\">http://repo.maven.apache</a>.\norg/maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or update\ns are forced @ line 72, column 22 -> [Help 2]\n[ERROR]     Non-resolvable import POM: Failure to find org.jboss.as:jboss-as-ejb-client-bom:pom:7.2.1.Final-redhat-10 in <a href=\"http://repo.maven.a\" rel=\"nofollow\">http://repo.maven.a</a>\npache.org/maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or\nupdates are forced @ line 80, column 22 -> [Help 2]\n[ERROR]     'dependencies.dependency.version' for org.jboss.spec.javax.transaction:jboss-transaction-api_1.1_spec:jar is missing. @ line 94,\n column 19\n[ERROR]     'dependencies.dependency.version' for org.jboss.spec.javax.ejb:jboss-ejb-api_3.1_spec:jar is missing. @ line 102, column 19\n[ERROR]     'dependencies.dependency.version' for org.jboss:jboss-ejb-client:jar is missing. @ line 118, column 20\n[ERROR]     'dependencies.dependency.version' for org.jboss.xnio:xnio-api:jar is missing. @ line 125, column 20\n[ERROR]     'dependencies.dependency.version' for org.jboss.xnio:xnio-nio:jar is missing. @ line 131, column 20\n[ERROR]     'dependencies.dependency.version' for org.jboss.remoting3:jboss-remoting:jar is missing. @ line 138, column 20\n[ERROR]     'dependencies.dependency.version' for org.jboss.sasl:jboss-sasl:jar is missing. @ line 145, column 21\n[ERROR]     'dependencies.dependency.version' for org.jboss.marshalling:jboss-marshalling-river:jar is missing. @ line 152, column 21\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] <a href=\"http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\" rel=\"nofollow\">http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException</a>\n[ERROR] [Help 2] <a href=\"http://cwiki.apache.org/confluence/display/MAVEN/UnresolvableModelException\" rel=\"nofollow\">http://cwiki.apache.org/confluence/display/MAVEN/UnresolvableModelException</a></p>\n"},{"tags":["java","sorting","random","comparator"],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1645407505,"creation_date":1645399722,"answer_id":71199700,"question_id":71199515,"body_markdown":"We need to compare tied teams using an extra attribute. This attribute needs to be constant for the life of a Comparator, but random from one Comparator to the next.\r\n\r\nCreate a new comparator each time you need to sort, and make sure that it behaves in a predictable, but random way:\r\n\r\n```\r\nclass PointsGDRandComparator implements Comparator&lt;Team&gt; {\r\n    // each comparator has a different seed\r\n    private final long seed = new Random().nextLong();\r\n\r\n    public int compare(Team a, Team b) {\r\n        int result = b.getStats().getPts() - a.getStats().getPts();\r\n        if (result == 0) {\r\n            // every time we compare a particular team, the same random number will be produced\r\n            long aValue = new Random(seed * a.getTeamId()).nextLong();\r\n            long bValue = new Random(seed * b.getTeamId()).nextLong();\r\n            return Long.compare(aValue, bValue);\r\n        }\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\nSo each Comparator will have a different random `seed`, but each random decision will be the same, as we create new `Random` instances with a seed based on the Comparators `seed` and the ids of the two teams.\r\n\r\nWe are still sorting based on a function of team id (because we need to have a symmetric and transitive relation ship between comparing teams).\r\n\r\nTwo `Random` instances created using the same seed will produce the same sequence of random numbers. So when ever we compare the team with id `45` with another team, we&#39;ll create a `Random` instance with the seed `seed * 45` (where `seed` is constant for the lifetime of the Comparator), so the first time we call `nextLong()` on any instance of `Random` created with that seed we will always get the same number.\r\n\r\nHere&#39;s a less tricksy way of doing the same thing. It assumes that `Team` has correct `hashCode` and `equals` implementations, so that we can use it as a key in a `Map`:\r\n\r\n```\r\nclass PointsGDRandComparator implements Comparator&lt;Team&gt; {\r\n    private final Map&lt;Team,Long&gt; tiebreakers = new HashMap&lt;&gt;();\r\n    \r\n    public PointsGDRandComparator(List&lt;Team&gt; teams) {\r\n        Random r = new Random();\r\n        for (Team t : teams) {\r\n            tiebreakers.put(t, r.nextLong());\r\n        }\r\n    }\r\n\r\n    public int compare(Team a, Team b) {\r\n        int result = b.getStats().getPts() - a.getStats().getPts();\r\n        if (result == 0) {\r\n            return Long.compare(tiebreakers.get(a), tiebreakers.get(b));\r\n        }\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\nThe above solution is expensive, because it creates a Map the size of the teams list, and creates a random number for each team. Unless you have thousands of teams that won&#39;t matter, but we can make it cheaper by populating the Map lazily:\r\n\r\n```\r\nclass PointsGDRandComparator2 implements Comparator&lt;Team&gt; {\r\n    private final Map&lt;Team,Long&gt; tiebreakers = new HashMap&lt;&gt;();\r\n    private final Random r = new Random();\r\n\r\n    public int compare(Team a, Team b) {\r\n        int result = b.getStats().getPts() - a.getStats().getPts();\r\n        if (result == 0) {\r\n            return Long.compare(\r\n                    tiebreakers.computeIfAbsent(a, t -&gt; r.nextLong()), \r\n                    tiebreakers.computeIfAbsent(b, t -&gt; r.nextLong())\r\n            );\r\n        }\r\n        return result;\r\n    }\r\n}\r\n```","title":"How can I sort using a comparator with ties broken randomly?","body":"<p>We need to compare tied teams using an extra attribute. This attribute needs to be constant for the life of a Comparator, but random from one Comparator to the next.</p>\n<p>Create a new comparator each time you need to sort, and make sure that it behaves in a predictable, but random way:</p>\n<pre><code>class PointsGDRandComparator implements Comparator&lt;Team&gt; {\n    // each comparator has a different seed\n    private final long seed = new Random().nextLong();\n\n    public int compare(Team a, Team b) {\n        int result = b.getStats().getPts() - a.getStats().getPts();\n        if (result == 0) {\n            // every time we compare a particular team, the same random number will be produced\n            long aValue = new Random(seed * a.getTeamId()).nextLong();\n            long bValue = new Random(seed * b.getTeamId()).nextLong();\n            return Long.compare(aValue, bValue);\n        }\n        return result;\n    }\n}\n</code></pre>\n<p>So each Comparator will have a different random <code>seed</code>, but each random decision will be the same, as we create new <code>Random</code> instances with a seed based on the Comparators <code>seed</code> and the ids of the two teams.</p>\n<p>We are still sorting based on a function of team id (because we need to have a symmetric and transitive relation ship between comparing teams).</p>\n<p>Two <code>Random</code> instances created using the same seed will produce the same sequence of random numbers. So when ever we compare the team with id <code>45</code> with another team, we'll create a <code>Random</code> instance with the seed <code>seed * 45</code> (where <code>seed</code> is constant for the lifetime of the Comparator), so the first time we call <code>nextLong()</code> on any instance of <code>Random</code> created with that seed we will always get the same number.</p>\n<p>Here's a less tricksy way of doing the same thing. It assumes that <code>Team</code> has correct <code>hashCode</code> and <code>equals</code> implementations, so that we can use it as a key in a <code>Map</code>:</p>\n<pre><code>class PointsGDRandComparator implements Comparator&lt;Team&gt; {\n    private final Map&lt;Team,Long&gt; tiebreakers = new HashMap&lt;&gt;();\n    \n    public PointsGDRandComparator(List&lt;Team&gt; teams) {\n        Random r = new Random();\n        for (Team t : teams) {\n            tiebreakers.put(t, r.nextLong());\n        }\n    }\n\n    public int compare(Team a, Team b) {\n        int result = b.getStats().getPts() - a.getStats().getPts();\n        if (result == 0) {\n            return Long.compare(tiebreakers.get(a), tiebreakers.get(b));\n        }\n        return result;\n    }\n}\n</code></pre>\n<p>The above solution is expensive, because it creates a Map the size of the teams list, and creates a random number for each team. Unless you have thousands of teams that won't matter, but we can make it cheaper by populating the Map lazily:</p>\n<pre><code>class PointsGDRandComparator2 implements Comparator&lt;Team&gt; {\n    private final Map&lt;Team,Long&gt; tiebreakers = new HashMap&lt;&gt;();\n    private final Random r = new Random();\n\n    public int compare(Team a, Team b) {\n        int result = b.getStats().getPts() - a.getStats().getPts();\n        if (result == 0) {\n            return Long.compare(\n                    tiebreakers.computeIfAbsent(a, t -&gt; r.nextLong()), \n                    tiebreakers.computeIfAbsent(b, t -&gt; r.nextLong())\n            );\n        }\n        return result;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1645552815,"creation_date":1645400850,"answer_id":71199787,"question_id":71199515,"body_markdown":"Here&#39;s a different approach for randomly choosing tied teams\r\n\r\n Use a map.\r\n- store the teams that tied in a map, keyed by their score.  The map can be a tree map so it can be sorted.\r\n- then iterate over the map and pick a team at random from each list.\r\n\r\nHere are the teams before any processing.  The output is score and team name.\r\n```\r\n[3, A]\r\n[1, B]\r\n[2, C]\r\n[0, D]\r\n[0, E]\r\n[1, F]\r\n[1, G]\r\n[2, H]\r\n[2, I]\r\n[2, J]\r\n```\r\nNow build the team map.\r\n```\r\nMap&lt;Integer, List&lt;Team&gt;&gt; team = teams.stream().collect(\r\n   Collectors.groupingBy(t-&gt;t.getStats().getPts(),\r\n\t\t()-&gt;new TreeMap&lt;Integer,List&lt;Team&gt;&gt;(Comparator.reverseOrder()),\r\n\t\t\tCollectors.toList()));\r\n```\r\nHere is the map of the teams, sorted in descending order of score.  The key is the score and the value is a list of teams with that score.\r\n```\r\n3=[[3, A]]\r\n2=[[2, C], [2, H], [2, I], [2, J]]\r\n1=[[1, B], [1, F], [1, G]]\r\n0=[[0, D], [0, E]]\r\n```\r\nNow, just pick a random value from each list for a given score. This picks a value between `0` and the number of values in the list `(i.e. size())`\r\n```\r\nRandom r = new Random();\r\nfor (Entry&lt;Integer, List&lt;Team&gt;&gt; e : team.entrySet()) {\r\n\tint pick = r.nextInt(e.getValue().size());\r\n\tSystem.out.println(e.getKey() + &quot; &quot; + e.getValue().get(pick));\r\n```\r\nfor this run printed \r\n```\r\n3 [3, A]\r\n2 [2, C]\r\n1 [1, B]\r\n0 [0, E]","title":"How can I sort using a comparator with ties broken randomly?","body":"<p>Here's a different approach for randomly choosing tied teams</p>\n<p>Use a map.</p>\n<ul>\n<li>store the teams that tied in a map, keyed by their score.  The map can be a tree map so it can be sorted.</li>\n<li>then iterate over the map and pick a team at random from each list.</li>\n</ul>\n<p>Here are the teams before any processing.  The output is score and team name.</p>\n<pre><code>[3, A]\n[1, B]\n[2, C]\n[0, D]\n[0, E]\n[1, F]\n[1, G]\n[2, H]\n[2, I]\n[2, J]\n</code></pre>\n<p>Now build the team map.</p>\n<pre><code>Map&lt;Integer, List&lt;Team&gt;&gt; team = teams.stream().collect(\n   Collectors.groupingBy(t-&gt;t.getStats().getPts(),\n        ()-&gt;new TreeMap&lt;Integer,List&lt;Team&gt;&gt;(Comparator.reverseOrder()),\n            Collectors.toList()));\n</code></pre>\n<p>Here is the map of the teams, sorted in descending order of score.  The key is the score and the value is a list of teams with that score.</p>\n<pre><code>3=[[3, A]]\n2=[[2, C], [2, H], [2, I], [2, J]]\n1=[[1, B], [1, F], [1, G]]\n0=[[0, D], [0, E]]\n</code></pre>\n<p>Now, just pick a random value from each list for a given score. This picks a value between <code>0</code> and the number of values in the list <code>(i.e. size())</code></p>\n<pre><code>Random r = new Random();\nfor (Entry&lt;Integer, List&lt;Team&gt;&gt; e : team.entrySet()) {\n    int pick = r.nextInt(e.getValue().size());\n    System.out.println(e.getKey() + &quot; &quot; + e.getValue().get(pick));\n</code></pre>\n<p>for this run printed</p>\n<pre><code>3 [3, A]\n2 [2, C]\n1 [1, B]\n0 [0, E]\n</code></pre>\n"}],"owner":{"account_id":22474606,"reputation":68,"user_id":16674516,"display_name":"Riggs Markham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":566,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71199700,"answer_count":2,"score":1,"last_activity_date":1645552815,"creation_date":1645397604,"question_id":71199515,"body_markdown":"I&#39;m building a program that simulates a sports league, and, oftentimes, I want to sort teams by points, goal differential, etc. to determine things like which team gets promoted or which team gets preferential seeding in a tournament. But, sometimes, teams will be tied on all the criteria that I want to use, and I would like those ties to be broken randomly. I was previously using teams&#39; ids (which are unique ints) to break ties, but I&#39;d like to make it so that no team gets consistent preferential treatment in this sorting. I know that if I just let Java decide which of the tied teams will be placed in front of the other, it&#39;ll be very unpredictable, but I don&#39;t trust it to be actually random, and I&#39;m worried that it&#39;d inadvertently give some teams an advantage.\r\n\r\nI&#39;ve been using Collections.sort() with comparators to do my sorting, and I recently just went for it, and switched my comparators to use a random number as the final tiebreaker rather than the team ids. Here is the comparator in question:\r\n```java\r\npublic static final Comparator&lt;Team&gt; pointsGDRand = new Comparator&lt;Team&gt;() {\r\n    public int compare(Team a, Team b) {\r\n        int result = b.getStats().getPts() - a.getStats().getPts();\r\n        if (result == 0) {\r\n            result = b.getStats().getGD() - a.getStats().getGD();\r\n            if (result == 0) {\r\n                result = R.boolNum();\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n};\r\n```\r\nI think the getter functions are self explanatory, but here&#39;s that random function:\r\n```java\r\npublic static int boolNum() {\r\n    return r.nextBoolean() ? 1 : -1;\r\n}\r\n```\r\nBut, just a bit ago (it look a long time for this error to pop up), I got this error:\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Comparison method violates its general contract!\r\n```\r\nI&#39;ve read a little bit, and I think that the problem is likely that I had some instance where it figured out that A &gt; B and B &gt; C, but also A &lt; C. This sheds some light on why it took so long for this error to pop up (it did maybe 20,000 sorts before it popped up with this error), because 2 teams getting the exact same score on **all** criteria seems like a pretty rare occurrence to me, much less 3 or more.\r\n\r\nI&#39;d rather not write my own custom sort, and I&#39;d also rather not shuffle the list in question before each time I sort it (I feel like that&#39;d be inefficient, but I&#39;m confident it would work).\r\n\r\nSo, how can I make a comparator that breaks ties randomly (such that there&#39;s no risk of a team winning tiebreaks disproportionately) without risking that same error again?","title":"How can I sort using a comparator with ties broken randomly?","body":"<p>I'm building a program that simulates a sports league, and, oftentimes, I want to sort teams by points, goal differential, etc. to determine things like which team gets promoted or which team gets preferential seeding in a tournament. But, sometimes, teams will be tied on all the criteria that I want to use, and I would like those ties to be broken randomly. I was previously using teams' ids (which are unique ints) to break ties, but I'd like to make it so that no team gets consistent preferential treatment in this sorting. I know that if I just let Java decide which of the tied teams will be placed in front of the other, it'll be very unpredictable, but I don't trust it to be actually random, and I'm worried that it'd inadvertently give some teams an advantage.</p>\n<p>I've been using Collections.sort() with comparators to do my sorting, and I recently just went for it, and switched my comparators to use a random number as the final tiebreaker rather than the team ids. Here is the comparator in question:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final Comparator&lt;Team&gt; pointsGDRand = new Comparator&lt;Team&gt;() {\n    public int compare(Team a, Team b) {\n        int result = b.getStats().getPts() - a.getStats().getPts();\n        if (result == 0) {\n            result = b.getStats().getGD() - a.getStats().getGD();\n            if (result == 0) {\n                result = R.boolNum();\n            }\n        }\n        return result;\n    }\n};\n</code></pre>\n<p>I think the getter functions are self explanatory, but here's that random function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int boolNum() {\n    return r.nextBoolean() ? 1 : -1;\n}\n</code></pre>\n<p>But, just a bit ago (it look a long time for this error to pop up), I got this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Comparison method violates its general contract!\n</code></pre>\n<p>I've read a little bit, and I think that the problem is likely that I had some instance where it figured out that A &gt; B and B &gt; C, but also A &lt; C. This sheds some light on why it took so long for this error to pop up (it did maybe 20,000 sorts before it popped up with this error), because 2 teams getting the exact same score on <strong>all</strong> criteria seems like a pretty rare occurrence to me, much less 3 or more.</p>\n<p>I'd rather not write my own custom sort, and I'd also rather not shuffle the list in question before each time I sort it (I feel like that'd be inefficient, but I'm confident it would work).</p>\n<p>So, how can I make a comparator that breaks ties randomly (such that there's no risk of a team winning tiebreaks disproportionately) without risking that same error again?</p>\n"},{"tags":["java","jackson","xml-parsing","jackson-dataformat-xml"],"answers":[{"tags":[],"owner":{"account_id":13259080,"reputation":236,"user_id":9574235,"display_name":"Abhishek Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645552690,"creation_date":1645552690,"answer_id":71226159,"question_id":71225437,"body_markdown":"Your simple bean class fields are private try after adding getters and setters for them.","title":"How do I convert a Java class to an XML file using Jackson","body":"<p>Your simple bean class fields are private try after adding getters and setters for them.</p>\n"}],"owner":{"account_id":17265010,"reputation":1,"user_id":18280591,"display_name":"Lek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71226159,"answer_count":1,"score":0,"last_activity_date":1645552690,"creation_date":1645549719,"question_id":71225437,"body_markdown":"With Maven I have the jackson &quot;databind&quot; and &quot;dataformat-xml&quot; dependencies alongside JUNIT 4. I have created a simple Java class called &quot;Simple Bean&quot; with two initialised integers. Using an instance of the **XmlMapper** class I tried to write its&#39; method **writeValue** however it throws the exception: &quot;InvalidDefinitionException&quot; with the message &quot;No serializer found for class SimpleBean and no properties discovered to create BeanSerializer&quot;. I added the serialization annotation but it returns with an incorrectly formatted class name.\r\n\r\n\r\n         public class javaTest {\r\n        \tpublic static void main(String[] args) throws StreamReadException, DatabindException,IOException {\r\n        \r\n        \twhenJavaSerializedToXmlFile_thenCorrect();  \r\n        }\r\n        \r\n            @Test\r\n            public static void whenJavaSerializedToXmlFile_thenCorrect() throws IOException {\r\n            XmlMapper xmlMapper = new XmlMapper();\r\n           \r\n            xmlMapper.writeValue(new File(&quot;simple_bean.xml&quot;), new SimpleBean());\r\n            File file = new File(&quot;simple_bean.xml&quot;);\r\n            assertNotNull(file);\r\n            }\r\n\r\n    //@JsonSerialize \r\n    public class SimpleBean {\r\n        private int x = 1;\r\n        private int y = 2;\r\n    }\r\n\r\n\r\n\r\nThe error is \r\n\r\n&gt; Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class SimpleBean and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS)\r\n\tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)\r\n\tat com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1300)\r\n\tat com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400)\r\n\tat com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:46)\r\n\tat com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:29)\r\n\tat com.fasterxml.jackson.dataformat.xml.ser.XmlSerializerProvider.serializeValue(XmlSerializerProvider.java:109)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4569)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.writeValue(ObjectMapper.java:3764)\r\n\tat javaTest.whenJavaSerializedToXmlFile_thenCorrect(javaTest.java:34)\r\n\tat javaTest.main(javaTest.java:26)\r\n\tSuppressed: com.fasterxml.jackson.core.JsonGenerationException: Trying to write END_DOCUMENT when document has no root (ie. trying to output empty document).\r\n\t\tat com.fasterxml.jackson.dataformat.xml.util.StaxUtil.throwAsGenerationException(StaxUtil.java:47)\r\n\t\tat com.fasterxml.jackson.dataformat.xml.ser.ToXmlGenerator.close(ToXmlGenerator.java:1290)\r\n\t\tat com.fasterxml.jackson.databind.util.ClassUtil.closeOnFailAndThrowAsIOE(ClassUtil.java:497)\r\n\t\tat com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4571)\r\n\t\t... 3 more\r\n\tCaused by: javax.xml.stream.XMLStreamException: Trying to write END_DOCUMENT when document has no root (ie. trying to output empty document).\r\n\t\tat com.ctc.wstx.sw.BaseStreamWriter.throwOutputError(BaseStreamWriter.java:1589)\r\n\t\tat com.ctc.wstx.sw.BaseStreamWriter.reportNwfStructure(BaseStreamWriter.java:1618)\r\n\t\tat com.ctc.wstx.sw.BaseStreamWriter._finishDocument(BaseStreamWriter.java:1444)\r\n\t\tat com.ctc.wstx.sw.BaseStreamWriter.closeCompletely(BaseStreamWriter.java:926)\r\n\t\tat com.fasterxml.jackson.dataformat.xml.ser.ToXmlGenerator.close(ToXmlGenerator.java:1285)\r\n\t\t... 5 more\r\n\r\n\r\nIf I remove annotation symbol next to @JsonSerialize it simply outputs a text file with the data:\r\n\r\n    &lt;SimpleBean/&gt;\r\n\r\nHow do I correctly format the class to XML.\r\n\r\n\r\nExpected output:\r\n\r\n    &lt;SimpleBean&gt;\r\n    &lt;x&gt;1&lt;/x&gt;\r\n    &lt;y&gt;2&lt;/y&gt;\r\n    &lt;/SimpleBean&gt;","title":"How do I convert a Java class to an XML file using Jackson","body":"<p>With Maven I have the jackson &quot;databind&quot; and &quot;dataformat-xml&quot; dependencies alongside JUNIT 4. I have created a simple Java class called &quot;Simple Bean&quot; with two initialised integers. Using an instance of the <strong>XmlMapper</strong> class I tried to write its' method <strong>writeValue</strong> however it throws the exception: &quot;InvalidDefinitionException&quot; with the message &quot;No serializer found for class SimpleBean and no properties discovered to create BeanSerializer&quot;. I added the serialization annotation but it returns with an incorrectly formatted class name.</p>\n<pre><code>     public class javaTest {\n        public static void main(String[] args) throws StreamReadException, DatabindException,IOException {\n    \n        whenJavaSerializedToXmlFile_thenCorrect();  \n    }\n    \n        @Test\n        public static void whenJavaSerializedToXmlFile_thenCorrect() throws IOException {\n        XmlMapper xmlMapper = new XmlMapper();\n       \n        xmlMapper.writeValue(new File(&quot;simple_bean.xml&quot;), new SimpleBean());\n        File file = new File(&quot;simple_bean.xml&quot;);\n        assertNotNull(file);\n        }\n\n//@JsonSerialize \npublic class SimpleBean {\n    private int x = 1;\n    private int y = 2;\n}\n</code></pre>\n<p>The error is</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class SimpleBean and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS)\nat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)\nat com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1300)\nat com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400)\nat com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:46)\nat com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:29)\nat com.fasterxml.jackson.dataformat.xml.ser.XmlSerializerProvider.serializeValue(XmlSerializerProvider.java:109)\nat com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4569)\nat com.fasterxml.jackson.databind.ObjectMapper.writeValue(ObjectMapper.java:3764)\nat javaTest.whenJavaSerializedToXmlFile_thenCorrect(javaTest.java:34)\nat javaTest.main(javaTest.java:26)\nSuppressed: com.fasterxml.jackson.core.JsonGenerationException: Trying to write END_DOCUMENT when document has no root (ie. trying to output empty document).\nat com.fasterxml.jackson.dataformat.xml.util.StaxUtil.throwAsGenerationException(StaxUtil.java:47)\nat com.fasterxml.jackson.dataformat.xml.ser.ToXmlGenerator.close(ToXmlGenerator.java:1290)\nat com.fasterxml.jackson.databind.util.ClassUtil.closeOnFailAndThrowAsIOE(ClassUtil.java:497)\nat com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4571)\n... 3 more\nCaused by: javax.xml.stream.XMLStreamException: Trying to write END_DOCUMENT when document has no root (ie. trying to output empty document).\nat com.ctc.wstx.sw.BaseStreamWriter.throwOutputError(BaseStreamWriter.java:1589)\nat com.ctc.wstx.sw.BaseStreamWriter.reportNwfStructure(BaseStreamWriter.java:1618)\nat com.ctc.wstx.sw.BaseStreamWriter._finishDocument(BaseStreamWriter.java:1444)\nat com.ctc.wstx.sw.BaseStreamWriter.closeCompletely(BaseStreamWriter.java:926)\nat com.fasterxml.jackson.dataformat.xml.ser.ToXmlGenerator.close(ToXmlGenerator.java:1285)\n... 5 more</p>\n</blockquote>\n<p>If I remove annotation symbol next to @JsonSerialize it simply outputs a text file with the data:</p>\n<pre><code>&lt;SimpleBean/&gt;\n</code></pre>\n<p>How do I correctly format the class to XML.</p>\n<p>Expected output:</p>\n<pre><code>&lt;SimpleBean&gt;\n&lt;x&gt;1&lt;/x&gt;\n&lt;y&gt;2&lt;/y&gt;\n&lt;/SimpleBean&gt;\n</code></pre>\n"},{"tags":["java","jaxb","marshalling","option-type","unmarshalling"],"answers":[{"tags":[],"owner":{"account_id":16556136,"reputation":75,"user_id":11963259,"display_name":"s.3.valkov"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1566485505,"creation_date":1566485505,"answer_id":57612068,"question_id":57611766,"body_markdown":"You can use some validation in your java class like @NotNull, @Size and so on. Or you can put default value , to be sure , that it will be not null. After that you can create DTOs (Data transfer object) with the recommended Xml annotations and mapped it with the ModelMapper.","title":"Java JAXB marshall/unmarshall using Java Optionals","body":"<p>You can use some validation in your java class like @NotNull, @Size and so on. Or you can put default value , to be sure , that it will be not null. After that you can create DTOs (Data transfer object) with the recommended Xml annotations and mapped it with the ModelMapper.</p>\n"},{"tags":[],"owner":{"account_id":5504458,"reputation":791,"user_id":4374481,"display_name":"Palamino"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566568201,"creation_date":1566493296,"answer_id":57614038,"question_id":57611766,"body_markdown":"The following code is able to distinguish empty name from null name.  To make the solution work, I created a PersonList element to contain all of the person elements.  Each Person contains a Name that will have isNil() return true if the element was explicitly set to null by the XML:\r\n\r\nPerson.java:\r\n\r\n    import java.util.Optional;\r\n    import javax.xml.bind.annotation.XmlElement;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    import javax.xml.bind.annotation.XmlType;\r\n\r\n    @XmlType(propOrder = {&quot;name&quot;})\r\n    @XmlRootElement(name = &quot;person&quot;)\r\n    public class Person {\r\n    \r\n        private Optional&lt;Name&gt; optionalName;\r\n    \r\n        public Person() {\r\n            optionalName = Optional.&lt;Name&gt;empty();\r\n        }\r\n\r\n        public Optional&lt;Name&gt; getOptionalName() {\r\n            return optionalName;\r\n        }\r\n    \r\n        public Name getName() {\r\n            return (optionalName.isPresent()) ? (optionalName.get()) : (null);\r\n        }\r\n    \r\n        @XmlElement(name = &quot;name&quot;, required = false)\r\n        public void setName(Name name) {\r\n            optionalName = Optional.ofNullable(name);\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return String.format(&quot;Person(optionalName.isPresent() = %s, name = %s)&quot;,\r\n                                 Boolean.toString(optionalName.isPresent()),\r\n                                 ((getName() == null) ? (&quot;null&quot;) : (getName().toString())));\r\n        }\r\n    }\r\n\r\n\r\nName.java:\r\n\r\n    import javax.xml.bind.annotation.XmlAccessType;\r\n    import javax.xml.bind.annotation.XmlAccessorType;\r\n    import javax.xml.bind.annotation.XmlAttribute;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    import javax.xml.bind.annotation.XmlValue;\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlRootElement(name = &quot;name&quot;)\r\n    public class Name {\r\n    \r\n        @XmlAttribute(name = &quot;nil&quot;)\r\n        private boolean nil;\r\n    \r\n        @XmlValue\r\n        private String value;\r\n    \r\n        public Name() {\r\n            nil = false;\r\n            value = null;\r\n        }\r\n\r\n        public boolean isNil() {\r\n            return nil;\r\n        }\r\n    \r\n        public void setNil(boolean torf) {\r\n            this.nil = torf;\r\n        }\r\n    \r\n        public String getValue() {\r\n            return value;\r\n        }\r\n    \r\n        public void setValue(String value) {\r\n            this.value = value;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return String.format(&quot;Name(nil = %s, value = %s)&quot;,\r\n                                 Boolean.toString(nil),\r\n                                 (value == null) ? (&quot;null&quot;):(&quot;\\&quot;&quot;+getValue()+&quot;\\&quot;&quot;));\r\n        }\r\n    }\r\n\r\n\r\nPersonList.java:\r\n\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    import javax.xml.bind.annotation.XmlElement;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n\r\n    @XmlRootElement(name = &quot;PersonList&quot;)\r\n    public class PersonList {\r\n\r\n        private List&lt;Person&gt; persons;\r\n    \r\n        public PersonList() {\r\n            persons = null;\r\n        }\r\n\r\n        @XmlElement(name = &quot;person&quot;)\r\n        public List&lt;Person&gt; getPersons() {\r\n            return persons;\r\n        }\r\n    \r\n        public void setPersons(List&lt;Person&gt; persons) {\r\n            this.persons = persons;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            StringBuilder sb = new StringBuilder(&quot;PersonList(persons = &quot;);\r\n            if(persons == null) {\r\n                sb.append(&quot;null&quot;);\r\n            }\r\n            else {\r\n                sb.append(&quot;[&quot;);\r\n                Iterator&lt;Person&gt; iterator = persons.iterator();\r\n                while(iterator.hasNext()) {\r\n                    sb.append(iterator.next().toString());\r\n                    if(iterator.hasNext()) {\r\n                        sb.append(&quot;, &quot;);\r\n                    }\r\n                }\r\n                sb.append(&quot;]&quot;);\r\n            }\r\n            sb.append(&quot;)&quot;);\r\n            return sb.toString();\r\n        }\r\n    }\r\n\r\n\r\nMain class to demonstrate the solution:\r\n\r\n    import java.io.ByteArrayInputStream;\r\n    import javax.xml.bind.JAXBContext;\r\n    import javax.xml.bind.Unmarshaller;\r\n\r\n    public class XmlOptional {\r\n        public static final int STATUS_OKAY = 0;\r\n        public static final int STATUS_ERROR = -1;\r\n\r\n        public static final String XML_DATA = &quot;&lt;PersonList&gt;&quot; +\r\n                                              &quot;&lt;person&gt;&lt;name&gt;Bob&lt;/name&gt;&lt;/person&gt;&quot; +\r\n                                              &quot;&lt;person&gt;&lt;name nil=\\&quot;true\\&quot; /&gt;&lt;/person&gt;&quot; +\r\n                                              &quot;&lt;person&gt;&lt;/person&gt;&quot; +\r\n                                              &quot;&lt;/PersonList&gt;&quot;;\r\n\r\n        private XmlOptional() {\r\n        }\r\n\r\n        private static PersonList loadXml() {\r\n            try {\r\n                ByteArrayInputStream bais = new ByteArrayInputStream(XML_DATA.getBytes());\r\n                JAXBContext context = JAXBContext.newInstance(PersonList.class);\r\n                Unmarshaller unmarshaller = context.createUnmarshaller();\r\n                PersonList personList = (PersonList)unmarshaller.unmarshal(bais);\r\n                return personList;\r\n            }\r\n            catch(Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            int status = STATUS_OKAY;\r\n\r\n            try {\r\n                PersonList personList = loadXml();\r\n                System.out.format(&quot;Xml contained: %s%n&quot;, personList);\r\n            }\r\n            catch (Throwable thrown) {\r\n                status = STATUS_ERROR;\r\n                thrown.printStackTrace();\r\n            }\r\n            finally {\r\n                System.exit(status);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nSample output:\r\n\r\nXml contained: PersonList(persons = [Person(optionalName.isPresent() = true, name = Name(nil = false, value = &quot;Bob&quot;)), Person(optionalName.isPresent() = true, name = Name(nil = true, value = &quot;&quot;)), Person(optionalName.isPresent() = false, name = null)])","title":"Java JAXB marshall/unmarshall using Java Optionals","body":"<p>The following code is able to distinguish empty name from null name.  To make the solution work, I created a PersonList element to contain all of the person elements.  Each Person contains a Name that will have isNil() return true if the element was explicitly set to null by the XML:</p>\n\n<p>Person.java:</p>\n\n<pre><code>import java.util.Optional;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport javax.xml.bind.annotation.XmlType;\n\n@XmlType(propOrder = {\"name\"})\n@XmlRootElement(name = \"person\")\npublic class Person {\n\n    private Optional&lt;Name&gt; optionalName;\n\n    public Person() {\n        optionalName = Optional.&lt;Name&gt;empty();\n    }\n\n    public Optional&lt;Name&gt; getOptionalName() {\n        return optionalName;\n    }\n\n    public Name getName() {\n        return (optionalName.isPresent()) ? (optionalName.get()) : (null);\n    }\n\n    @XmlElement(name = \"name\", required = false)\n    public void setName(Name name) {\n        optionalName = Optional.ofNullable(name);\n    }\n\n    @Override\n    public String toString() {\n        return String.format(\"Person(optionalName.isPresent() = %s, name = %s)\",\n                             Boolean.toString(optionalName.isPresent()),\n                             ((getName() == null) ? (\"null\") : (getName().toString())));\n    }\n}\n</code></pre>\n\n<p>Name.java:</p>\n\n<pre><code>import javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlAttribute;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport javax.xml.bind.annotation.XmlValue;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlRootElement(name = \"name\")\npublic class Name {\n\n    @XmlAttribute(name = \"nil\")\n    private boolean nil;\n\n    @XmlValue\n    private String value;\n\n    public Name() {\n        nil = false;\n        value = null;\n    }\n\n    public boolean isNil() {\n        return nil;\n    }\n\n    public void setNil(boolean torf) {\n        this.nil = torf;\n    }\n\n    public String getValue() {\n        return value;\n    }\n\n    public void setValue(String value) {\n        this.value = value;\n    }\n\n    @Override\n    public String toString() {\n        return String.format(\"Name(nil = %s, value = %s)\",\n                             Boolean.toString(nil),\n                             (value == null) ? (\"null\"):(\"\\\"\"+getValue()+\"\\\"\"));\n    }\n}\n</code></pre>\n\n<p>PersonList.java:</p>\n\n<pre><code>import java.util.Iterator;\nimport java.util.List;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlRootElement;\n\n@XmlRootElement(name = \"PersonList\")\npublic class PersonList {\n\n    private List&lt;Person&gt; persons;\n\n    public PersonList() {\n        persons = null;\n    }\n\n    @XmlElement(name = \"person\")\n    public List&lt;Person&gt; getPersons() {\n        return persons;\n    }\n\n    public void setPersons(List&lt;Person&gt; persons) {\n        this.persons = persons;\n    }\n\n    @Override\n    public String toString() {\n        StringBuilder sb = new StringBuilder(\"PersonList(persons = \");\n        if(persons == null) {\n            sb.append(\"null\");\n        }\n        else {\n            sb.append(\"[\");\n            Iterator&lt;Person&gt; iterator = persons.iterator();\n            while(iterator.hasNext()) {\n                sb.append(iterator.next().toString());\n                if(iterator.hasNext()) {\n                    sb.append(\", \");\n                }\n            }\n            sb.append(\"]\");\n        }\n        sb.append(\")\");\n        return sb.toString();\n    }\n}\n</code></pre>\n\n<p>Main class to demonstrate the solution:</p>\n\n<pre><code>import java.io.ByteArrayInputStream;\nimport javax.xml.bind.JAXBContext;\nimport javax.xml.bind.Unmarshaller;\n\npublic class XmlOptional {\n    public static final int STATUS_OKAY = 0;\n    public static final int STATUS_ERROR = -1;\n\n    public static final String XML_DATA = \"&lt;PersonList&gt;\" +\n                                          \"&lt;person&gt;&lt;name&gt;Bob&lt;/name&gt;&lt;/person&gt;\" +\n                                          \"&lt;person&gt;&lt;name nil=\\\"true\\\" /&gt;&lt;/person&gt;\" +\n                                          \"&lt;person&gt;&lt;/person&gt;\" +\n                                          \"&lt;/PersonList&gt;\";\n\n    private XmlOptional() {\n    }\n\n    private static PersonList loadXml() {\n        try {\n            ByteArrayInputStream bais = new ByteArrayInputStream(XML_DATA.getBytes());\n            JAXBContext context = JAXBContext.newInstance(PersonList.class);\n            Unmarshaller unmarshaller = context.createUnmarshaller();\n            PersonList personList = (PersonList)unmarshaller.unmarshal(bais);\n            return personList;\n        }\n        catch(Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public static void main(String[] args) {\n        int status = STATUS_OKAY;\n\n        try {\n            PersonList personList = loadXml();\n            System.out.format(\"Xml contained: %s%n\", personList);\n        }\n        catch (Throwable thrown) {\n            status = STATUS_ERROR;\n            thrown.printStackTrace();\n        }\n        finally {\n            System.exit(status);\n        }\n    }\n}\n</code></pre>\n\n<p>Sample output:</p>\n\n<p>Xml contained: PersonList(persons = [Person(optionalName.isPresent() = true, name = Name(nil = false, value = \"Bob\")), Person(optionalName.isPresent() = true, name = Name(nil = true, value = \"\")), Person(optionalName.isPresent() = false, name = null)])</p>\n"},{"tags":[],"owner":{"account_id":4160907,"reputation":39,"user_id":3411048,"accept_rate":50,"display_name":"DragonHawk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645551554,"creation_date":1645551554,"answer_id":71225909,"question_id":57611766,"body_markdown":"Since I was not able to solve the problem completely by solely using and configuring JAXB properly, I decided to solve it as follows:\r\n\r\n(The main goal was to write a subsystem to communicate with an external system based on XML)\r\n\r\nAs a starting point, I used the XSD schema provided by the target system to communicate with and generated the corresponding (XML)Java classes using JAXB and the XSD file. All the fields in those generated classes were of type JAXBElement&lt;&gt;, in order to be able to hold the 3 states needed (absent, null, someValue).\r\n\r\nOn the business model side, I used Java classes with Optional&lt;&gt; field types in order to hold the 3 states.\r\n\r\nFor the mapping, I wrote a mapper which uses reflection to recursively map from JAXB to Java and vice versa. When mapping from Java to JAXB, the mapper used the ObjectFactory to create the JAXBElement objects. (Mapper itself just had about 300 lines of code).\r\nThe fields were mapped based on the matching field names.\r\n\r\nThe most ugly and challenging part was, that the XSD schema file needed to be altered, in order to make JAXB generated classes that uses JAXBElement field types. Therefore I had to manually add the attribute *minOccurs=&quot;0&quot; nillable=&quot;true&quot;* to the XML elements, if not already set.\r\n\r\nWith that solution above, I finally managed to map the XML to Java and vice versa considering the 3 states needed, easily.\r\n\r\nOf course, this solution has its drawbacks.\r\nOne is the manual modification of the XSD file. Usually bad practice to alter the XSD file provided by the external system, which acts as an interface contract.\r\n\r\nFor my requirements at the time, the solution worked perfectly. Even changes to the interface contract of the external system could be implemented very easily.","title":"Java JAXB marshall/unmarshall using Java Optionals","body":"<p>Since I was not able to solve the problem completely by solely using and configuring JAXB properly, I decided to solve it as follows:</p>\n<p>(The main goal was to write a subsystem to communicate with an external system based on XML)</p>\n<p>As a starting point, I used the XSD schema provided by the target system to communicate with and generated the corresponding (XML)Java classes using JAXB and the XSD file. All the fields in those generated classes were of type JAXBElement&lt;&gt;, in order to be able to hold the 3 states needed (absent, null, someValue).</p>\n<p>On the business model side, I used Java classes with Optional&lt;&gt; field types in order to hold the 3 states.</p>\n<p>For the mapping, I wrote a mapper which uses reflection to recursively map from JAXB to Java and vice versa. When mapping from Java to JAXB, the mapper used the ObjectFactory to create the JAXBElement objects. (Mapper itself just had about 300 lines of code).\nThe fields were mapped based on the matching field names.</p>\n<p>The most ugly and challenging part was, that the XSD schema file needed to be altered, in order to make JAXB generated classes that uses JAXBElement field types. Therefore I had to manually add the attribute <em>minOccurs=&quot;0&quot; nillable=&quot;true&quot;</em> to the XML elements, if not already set.</p>\n<p>With that solution above, I finally managed to map the XML to Java and vice versa considering the 3 states needed, easily.</p>\n<p>Of course, this solution has its drawbacks.\nOne is the manual modification of the XSD file. Usually bad practice to alter the XSD file provided by the external system, which acts as an interface contract.</p>\n<p>For my requirements at the time, the solution worked perfectly. Even changes to the interface contract of the external system could be implemented very easily.</p>\n"}],"owner":{"account_id":4160907,"reputation":39,"user_id":3411048,"accept_rate":50,"display_name":"DragonHawk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1593,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71225909,"answer_count":3,"score":0,"last_activity_date":1645551554,"creation_date":1566484459,"question_id":57611766,"body_markdown":"My applications needs to convert data between Java and XML.\r\n\r\nWhen converting the data, I need to distinguish whether or not the value was present, the value was set explicitly to null or the value had a value.\r\n\r\nXML example:\r\n\r\n    &lt;person&gt;&lt;name&gt;Bob&lt;/name&gt;&lt;/person&gt;     &lt;-- element &#39;name&#39; contains value &quot;Bob&quot;\r\n\r\n    &lt;person&gt;&lt;name nil=&quot;true&quot;/&gt;&lt;/person&gt;   &lt;-- element &#39;name&#39; was set explicitly to &#39;nil&#39;/null\r\n\r\n    &lt;person&gt;&lt;/person&gt;                     &lt;-- element &#39;name&#39; is missing\r\n\r\n\r\nAs Java types like &#39;String&#39; only knows two states (null or not null), I tried to use Java Optionals to solve this.\r\n\r\nA mapping between XML and Java Optionals could look like this:\r\n\r\n    &lt;person&gt;&lt;/person&gt;                   &lt;=&gt; Optional&lt;String&gt; name = null;\r\n\r\n    &lt;person&gt;&lt;name&gt;Bob&lt;/name&gt;&lt;/person&gt;   &lt;=&gt; Optional&lt;String&gt; name = Optional.of(&quot;Bob&quot;);\r\n\r\n    &lt;person&gt;&lt;name nil=&quot;true&quot;/&gt;&lt;/person&gt; &lt;=&gt; Optional&lt;String&gt; name = Optional.empty();\r\n\r\nI tried to use JAXB for the marshalling and unmarshalling. The idea was that the setter of a field only gets invoked when a value needs to be set explicitly to an value. That means that a value is absent implicitly.\r\n\r\n----------\r\n\r\nI had a look on other stackoverflow questions like the following, but all of them were incomplete handling the behaviour I need to achieve:\r\n\r\n\r\n[How to generate JaxB-Classes with java.util.Optional?][1]\r\n\r\n[Using generic @XmlJavaTypeAdapter to unmarshal wrapped in Guava&#39;s Optional][2]\r\n\r\n[Using Guava&#39;s Optional with @XmlAttribute][3]\r\n\r\n\r\nI&#39;ve been struggling with this problem for two days now. I tried to use the XMLAdapter and GenericAdapter, tried several ways how to annotate the fields and getter/setter with @XmlElement, tried to use @XmlAnyElment with and without lax, but all of them only led to a partial success. Either the nil value was not handeld correctly, the lists were not printed out correctly,  ...\r\n\r\nI think every Java webservice with a properly implemented patch operation should have had this problem. (not talking about the &quot;json patch approach&quot; ([RFC 6902][4])) \r\n\r\nIs there a common way to solve my problem?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/38222802/how-to-generate-jaxb-classes-with-java-util-optional\r\n  [2]: https://stackoverflow.com/questions/19360139/using-generic-xmljavatypeadapter-to-unmarshal-wrapped-in-guavas-optional\r\n  [3]: https://stackoverflow.com/questions/23071450/using-guavas-optional-with-xmlattribute\r\n  [4]: https://www.rfc-editor.org/rfc/rfc6902","title":"Java JAXB marshall/unmarshall using Java Optionals","body":"<p>My applications needs to convert data between Java and XML.</p>\n<p>When converting the data, I need to distinguish whether or not the value was present, the value was set explicitly to null or the value had a value.</p>\n<p>XML example:</p>\n<pre><code>&lt;person&gt;&lt;name&gt;Bob&lt;/name&gt;&lt;/person&gt;     &lt;-- element 'name' contains value &quot;Bob&quot;\n\n&lt;person&gt;&lt;name nil=&quot;true&quot;/&gt;&lt;/person&gt;   &lt;-- element 'name' was set explicitly to 'nil'/null\n\n&lt;person&gt;&lt;/person&gt;                     &lt;-- element 'name' is missing\n</code></pre>\n<p>As Java types like 'String' only knows two states (null or not null), I tried to use Java Optionals to solve this.</p>\n<p>A mapping between XML and Java Optionals could look like this:</p>\n<pre><code>&lt;person&gt;&lt;/person&gt;                   &lt;=&gt; Optional&lt;String&gt; name = null;\n\n&lt;person&gt;&lt;name&gt;Bob&lt;/name&gt;&lt;/person&gt;   &lt;=&gt; Optional&lt;String&gt; name = Optional.of(&quot;Bob&quot;);\n\n&lt;person&gt;&lt;name nil=&quot;true&quot;/&gt;&lt;/person&gt; &lt;=&gt; Optional&lt;String&gt; name = Optional.empty();\n</code></pre>\n<p>I tried to use JAXB for the marshalling and unmarshalling. The idea was that the setter of a field only gets invoked when a value needs to be set explicitly to an value. That means that a value is absent implicitly.</p>\n<hr />\n<p>I had a look on other stackoverflow questions like the following, but all of them were incomplete handling the behaviour I need to achieve:</p>\n<p><a href=\"https://stackoverflow.com/questions/38222802/how-to-generate-jaxb-classes-with-java-util-optional\">How to generate JaxB-Classes with java.util.Optional?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/19360139/using-generic-xmljavatypeadapter-to-unmarshal-wrapped-in-guavas-optional\">Using generic @XmlJavaTypeAdapter to unmarshal wrapped in Guava's Optional</a></p>\n<p><a href=\"https://stackoverflow.com/questions/23071450/using-guavas-optional-with-xmlattribute\">Using Guava's Optional with @XmlAttribute</a></p>\n<p>I've been struggling with this problem for two days now. I tried to use the XMLAdapter and GenericAdapter, tried several ways how to annotate the fields and getter/setter with @XmlElement, tried to use @XmlAnyElment with and without lax, but all of them only led to a partial success. Either the nil value was not handeld correctly, the lists were not printed out correctly,  ...</p>\n<p>I think every Java webservice with a properly implemented patch operation should have had this problem. (not talking about the &quot;json patch approach&quot; (<a href=\"https://www.rfc-editor.org/rfc/rfc6902\" rel=\"nofollow noreferrer\">RFC 6902</a>))</p>\n<p>Is there a common way to solve my problem?</p>\n"},{"tags":["java","sql","oracle","jdbc","tns"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1472019596,"post_id":39115656,"comment_id":65578061,"body_markdown":"The linked question is vice versa. It asks for how to connect using service name instead of SID. You are asking for how to connect using SID instead of service name. The linked question also shows the URL schema for using service names differently as you are using. Sure that you are not using SID already (and only think you are using service name)?","body":"The linked question is vice versa. It asks for how to connect using service name instead of SID. You are asking for how to connect using SID instead of service name. The linked question also shows the URL schema for using service names differently as you are using. Sure that you are not using SID already (and only think you are using service name)?"},{"owner":{"account_id":6482733,"reputation":378,"user_id":5019251,"accept_rate":90,"display_name":"Shreyas SG"},"score":0,"creation_date":1472020737,"post_id":39115656,"comment_id":65578632,"body_markdown":"Yup. I ensured that I am using Service Name. It worked for me.\nBut SID is not :(","body":"Yup. I ensured that I am using Service Name. It worked for me. But SID is not :("},{"owner":{"account_id":98359,"reputation":184987,"user_id":266304,"display_name":"Alex Poole"},"score":0,"creation_date":1472020941,"post_id":39115656,"comment_id":65578754,"body_markdown":"What exception do you get? Are you sure you are actually using the SID and not a TNS alias? What is the SID you are using, and what is the connection string?  Is the SID declared in the listener.ora - what does `lsnrctl status` show?","body":"What exception do you get? Are you sure you are actually using the SID and not a TNS alias? What is the SID you are using, and what is the connection string?  Is the SID declared in the listener.ora - what does <code>lsnrctl status</code> show?"},{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1472023480,"post_id":39115656,"comment_id":65580146,"body_markdown":"Maybe one of those answers help to find the problem http://stackoverflow.com/questions/29638552/oracle-12c-database-connection-using-thin-driver-throws-io-error/29643222#29643222 or http://stackoverflow.com/questions/35718346/connecting-to-oracle-from-java-exception/35718610#35718610","body":"Maybe one of those answers help to find the problem <a href=\"http://stackoverflow.com/questions/29638552/oracle-12c-database-connection-using-thin-driver-throws-io-error/29643222#29643222\" title=\"oracle 12c database connection using thin driver throws io error\">stackoverflow.com/questions/29638552/&hellip;</a> or <a href=\"http://stackoverflow.com/questions/35718346/connecting-to-oracle-from-java-exception/35718610#35718610\" title=\"connecting to oracle from java exception\">stackoverflow.com/questions/35718346/&hellip;</a>"},{"owner":{"account_id":6482733,"reputation":378,"user_id":5019251,"accept_rate":90,"display_name":"Shreyas SG"},"score":0,"creation_date":1472036694,"post_id":39115656,"comment_id":65588663,"body_markdown":"TNS entries are defined where Oracle is installed on my machine, with just the Service name. Listener.ora is not present, and no where SID is defined. Could that be the reason?","body":"TNS entries are defined where Oracle is installed on my machine, with just the Service name. Listener.ora is not present, and no where SID is defined. Could that be the reason?"},{"owner":{"account_id":98359,"reputation":184987,"user_id":266304,"display_name":"Alex Poole"},"score":1,"creation_date":1472042262,"post_id":39115656,"comment_id":65592513,"body_markdown":"`listener.ora` is on the database server, not the client. The TNS alias is not necessarily the same as the SID. The listener has to be configured (on the server, by the DBA). Why do you want to use the SID anyway, when service names are more flexible?","body":"<code>listener.ora</code> is on the database server, not the client. The TNS alias is not necessarily the same as the SID. The listener has to be configured (on the server, by the DBA). Why do you want to use the SID anyway, when service names are more flexible?"}],"answers":[{"tags":[],"owner":{"account_id":4677937,"reputation":159,"user_id":3787582,"accept_rate":12,"display_name":"Ravi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645551425,"creation_date":1645551425,"answer_id":71225881,"question_id":39115656,"body_markdown":"addr should be in this way for service Name.\r\n\r\naddr = jdbc:oracle:thin:@hostIP:1521/ServiceName\r\n\r\nUsing the Service Name\r\nSyntax:\r\n\r\njdbc:oracle:thin:@//[host]:[tcpPort]/[service_name]\r\n\r\n[host]: host name of the database server\r\n\r\n[tcpPort]: database listener port\r\n\r\n[service_name]: system identifier for the database\r\n\r\nExample:\r\n\r\njdbc:oracle:thin:@//myhost:1525/myserviceDB\r\n\r\n\r\nPlease refer below article\r\n\r\n[https://docs.oracle.com/cd/E12518_01/central_office/pdf/141/html/co_ig/Output/appendix_url.htm][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/E12518_01/central_office/pdf/141/html/co_ig/Output/appendix_url.htm","title":"Establishing JDBC through SID","body":"<p>addr should be in this way for service Name.</p>\n<p>addr = jdbc:oracle:thin:@hostIP:1521/ServiceName</p>\n<p>Using the Service Name\nSyntax:</p>\n<p>jdbc:oracle:thin:@//[host]:[tcpPort]/[service_name]</p>\n<p>[host]: host name of the database server</p>\n<p>[tcpPort]: database listener port</p>\n<p>[service_name]: system identifier for the database</p>\n<p>Example:</p>\n<p>jdbc:oracle:thin:@//myhost:1525/myserviceDB</p>\n<p>Please refer below article</p>\n<p><a href=\"https://docs.oracle.com/cd/E12518_01/central_office/pdf/141/html/co_ig/Output/appendix_url.htm\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E12518_01/central_office/pdf/141/html/co_ig/Output/appendix_url.htm</a></p>\n"}],"owner":{"account_id":6482733,"reputation":378,"user_id":5019251,"accept_rate":90,"display_name":"Shreyas SG"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1704,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645551425,"creation_date":1472019251,"question_id":39115656,"body_markdown":"I am connecting to Oracle 11g DB trough my java program.\r\nI am using Service Name and not SID.\r\n\r\n    \r\n\r\n    addr = jdbc:oracle:thin:@hostIP:1521:ServiceName\r\n    Class.forName(&quot;oracle.jdbc.OracleDriver&quot;);\r\n    Connection con = DriverManager.getConnection(addr,un,pw);\r\n    Statement stat = con.createStatement();\r\n    ResultSet rs = stat.executeQuery(SELECT * from Table);\r\n\r\nThis works great. I am able to connect to DB and retrieve the data.\r\n\r\nHowever, if I pass Service ID instead of Service Name, code doesn&#39;t work! I get exception.\r\nI tried solution mentioned  here - https://stackoverflow.com/questions/4832056. But i still see the same exception.","title":"Establishing JDBC through SID","body":"<p>I am connecting to Oracle 11g DB trough my java program.\nI am using Service Name and not SID.</p>\n\n<pre><code>addr = jdbc:oracle:thin:@hostIP:1521:ServiceName\nClass.forName(\"oracle.jdbc.OracleDriver\");\nConnection con = DriverManager.getConnection(addr,un,pw);\nStatement stat = con.createStatement();\nResultSet rs = stat.executeQuery(SELECT * from Table);\n</code></pre>\n\n<p>This works great. I am able to connect to DB and retrieve the data.</p>\n\n<p>However, if I pass Service ID instead of Service Name, code doesn't work! I get exception.\nI tried solution mentioned  here - <a href=\"https://stackoverflow.com/questions/4832056\">Java JDBC - How to connect to Oracle using Service Name instead of SID</a>. But i still see the same exception.</p>\n"},{"tags":["java","spring-boot","webhooks","plaid"],"answers":[{"tags":[],"owner":{"account_id":498262,"reputation":1360,"user_id":1533263,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645551424,"creation_date":1645551424,"answer_id":71225880,"question_id":71200094,"body_markdown":"I am not a Java expert but I can speak to some of the other parts of your question:\r\n\r\nYou can use the webhook verification endpoint to verify that the webhook is from Plaid: https://plaid.com/docs/api/webhooks/webhook-verification/ although I will admit the process is not as easy as most of the other things you can do with the Plaid API.\r\n\r\nAs an alternative option -- for a situation like this, you can always check the Item status by calling `/item/get` to confirm that the Item needs to be updated before sending the user through update mode. As a rule, Plaid doesn&#39;t ever send sensitive information in webhooks, and information in webhooks can be verified by calling endpoints that are free to call, so you should never need to &quot;trust&quot; a Plaid webhook without verifying it if you don&#39;t want to. This is generally smart to do anyway, for example: even if you got a webhook indicating that the Item is in an error state, the user may have resolved it or it may have self-healed in the interim.","title":"Plaid Springboot webhook listener","body":"<p>I am not a Java expert but I can speak to some of the other parts of your question:</p>\n<p>You can use the webhook verification endpoint to verify that the webhook is from Plaid: <a href=\"https://plaid.com/docs/api/webhooks/webhook-verification/\" rel=\"nofollow noreferrer\">https://plaid.com/docs/api/webhooks/webhook-verification/</a> although I will admit the process is not as easy as most of the other things you can do with the Plaid API.</p>\n<p>As an alternative option -- for a situation like this, you can always check the Item status by calling <code>/item/get</code> to confirm that the Item needs to be updated before sending the user through update mode. As a rule, Plaid doesn't ever send sensitive information in webhooks, and information in webhooks can be verified by calling endpoints that are free to call, so you should never need to &quot;trust&quot; a Plaid webhook without verifying it if you don't want to. This is generally smart to do anyway, for example: even if you got a webhook indicating that the Item is in an error state, the user may have resolved it or it may have self-healed in the interim.</p>\n"}],"owner":{"account_id":7544112,"reputation":565,"user_id":5727808,"display_name":"TrollBearPig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":844,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645551424,"creation_date":1645404416,"question_id":71200094,"body_markdown":"I am wondering if anyone knows best practices for handling Plaid webhooks with Java Springboot? \r\n\r\nDoes the Plaid SDK offer any easy way to convert the webhook request object to a model object for the given event type? I only see they have Node Express examples which seems to only deconstruct the JSON request object by key.\r\n\r\nAlso wondering if their is anyway to verify the incoming webhook request is actually from Plaid\r\n\r\n```\r\n @PostMapping(value = &quot;/webhook/plaid&quot;, produces = \r\n MediaType.APPLICATION_JSON_VALUE)\r\n public ResponseEntity plaidWebhook(@RequestBody String payload) {\r\n        JSONParser parser = new JSONParser(payload);\r\n        JSONObject plaidWebhookRequest = null;\r\n        try {\r\n            plaidWebhookRequest = (JSONObject) parser.parse();\r\n            String webhookType = plaidWebhookRequest.has(&quot;webhook_type&quot;) ? (String) plaidWebhookRequest.get(&quot;webhook_type&quot;) : null;\r\n            String webhookCode = plaidWebhookRequest.has(&quot;webhook_code&quot;) ? (String) plaidWebhookRequest.get(&quot;webhook_code&quot;) : null;\r\n            String error = plaidWebhookRequest.has(&quot;error&quot;) ? (String) plaidWebhookRequest.get(&quot;error&quot;) : null;\r\n            String itemID = plaidWebhookRequest.has(&quot;item_id&quot;) ? (String) plaidWebhookRequest.get(&quot;item_id&quot;) : null;\r\n\r\n            if (webhookType != null &amp;&amp; webhookCode != null &amp;&amp; webhookType.equals(WebhookType.ITEM.name())) {\r\n                switch (webhookCode) {\r\n                    case ERROR_WEBCODE:\r\n                        log.info(&quot;Plaid webhook received: &quot; + ERROR_WEBCODE);\r\n                        break;\r\n\r\n                    case PENDING_EXPIRATION:\r\n                        log.info(&quot;Plaid webhook received: &quot; + PENDING_EXPIRATION);\r\n                        break;\r\n\r\n                    case USER_PERMISSION_REVOKED:\r\n                        log.info(&quot;Plaid webhook received: &quot; + USER_PERMISSION_REVOKED);\r\n                        break;\r\n                }\r\n\r\n            }\r\n        } catch (ParseException e) {\r\n            log.debug(&quot;Plaid webhook object failed to convert to JSONObject&quot;);\r\n        }\r\n        return ResponseEntity.status(HttpStatus.OK).body(&quot;&quot;);\r\n    }\r\n```","title":"Plaid Springboot webhook listener","body":"<p>I am wondering if anyone knows best practices for handling Plaid webhooks with Java Springboot?</p>\n<p>Does the Plaid SDK offer any easy way to convert the webhook request object to a model object for the given event type? I only see they have Node Express examples which seems to only deconstruct the JSON request object by key.</p>\n<p>Also wondering if their is anyway to verify the incoming webhook request is actually from Plaid</p>\n<pre><code> @PostMapping(value = &quot;/webhook/plaid&quot;, produces = \n MediaType.APPLICATION_JSON_VALUE)\n public ResponseEntity plaidWebhook(@RequestBody String payload) {\n        JSONParser parser = new JSONParser(payload);\n        JSONObject plaidWebhookRequest = null;\n        try {\n            plaidWebhookRequest = (JSONObject) parser.parse();\n            String webhookType = plaidWebhookRequest.has(&quot;webhook_type&quot;) ? (String) plaidWebhookRequest.get(&quot;webhook_type&quot;) : null;\n            String webhookCode = plaidWebhookRequest.has(&quot;webhook_code&quot;) ? (String) plaidWebhookRequest.get(&quot;webhook_code&quot;) : null;\n            String error = plaidWebhookRequest.has(&quot;error&quot;) ? (String) plaidWebhookRequest.get(&quot;error&quot;) : null;\n            String itemID = plaidWebhookRequest.has(&quot;item_id&quot;) ? (String) plaidWebhookRequest.get(&quot;item_id&quot;) : null;\n\n            if (webhookType != null &amp;&amp; webhookCode != null &amp;&amp; webhookType.equals(WebhookType.ITEM.name())) {\n                switch (webhookCode) {\n                    case ERROR_WEBCODE:\n                        log.info(&quot;Plaid webhook received: &quot; + ERROR_WEBCODE);\n                        break;\n\n                    case PENDING_EXPIRATION:\n                        log.info(&quot;Plaid webhook received: &quot; + PENDING_EXPIRATION);\n                        break;\n\n                    case USER_PERMISSION_REVOKED:\n                        log.info(&quot;Plaid webhook received: &quot; + USER_PERMISSION_REVOKED);\n                        break;\n                }\n\n            }\n        } catch (ParseException e) {\n            log.debug(&quot;Plaid webhook object failed to convert to JSONObject&quot;);\n        }\n        return ResponseEntity.status(HttpStatus.OK).body(&quot;&quot;);\n    }\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8423,"page":1569,"page_size":100}
