{"items":[{"tags":["java","spring-boot","rest","controller"],"answers":[{"tags":[],"owner":{"account_id":20310335,"reputation":76,"user_id":14897575,"display_name":"ettriouizakaria"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701449024,"creation_date":1701449024,"answer_id":77586821,"question_id":77582100,"body_markdown":"I think you should create a custom DTO class that represents the structure you want in the response. You can then manually map the data from the Basket and Wallet objects to this DTO.\r\n   \r\n\r\n     @Data\r\n    public class BasketResponse {\r\n        private String fruit1;\r\n        private String fruit2;\r\n        private String fruit3;\r\n        private WalletResponse wallet;\r\n    }\r\n    \r\n    @Data\r\n    public class WalletResponse {\r\n        private String item1;\r\n        private String item2;\r\n        private String item3;\r\n    }\r\n\r\n    @Service\r\n    public class BasketService {\r\n        @Autowired\r\n        private BasketRepository basketRepo;\r\n    \r\n        public List&lt;BasketResponse&gt; find() {\r\n            List&lt;Basket&gt; baskets = basketRepo.findAll();\r\n            return baskets.stream().map(this::mapToResponse).collect(Collectors.toList());\r\n        }\r\n    \r\n        private BasketResponse mapToResponse(Basket basket) {\r\n            BasketResponse basketResponse = new BasketResponse();\r\n            basketResponse.setFruit1(basket.getFruit1());\r\n            basketResponse.setFruit2(basket.getFruit2());\r\n            basketResponse.setFruit3(basket.getFruit3());\r\n    \r\n            Wallet wallet = basket.getWallet();\r\n            if (wallet != null) {\r\n                WalletResponse walletResponse = new WalletResponse();\r\n                walletResponse.setItem1(wallet.getItem1());\r\n                walletResponse.setItem2(wallet.getItem2());\r\n                walletResponse.setItem3(wallet.getItem3());\r\n                basketResponse.setWallet(walletResponse);\r\n            }\r\n    \r\n            return basketResponse;\r\n        }\r\n    }\r\n\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/baskets&quot;)\r\n    public class BasketController {\r\n        @Autowired\r\n        private BasketService basketService;\r\n    \r\n        @GetMapping\r\n        public ResponseEntity&lt;List&lt;BasketResponse&gt;&gt; find() {\r\n            List&lt;BasketResponse&gt; baskets = basketService.find();\r\n            return ResponseEntity.ok(baskets);\r\n        }\r\n    }\r\n","title":"How to print nested objects parameters in spring boot when using GET method?","body":"<p>I think you should create a custom DTO class that represents the structure you want in the response. You can then manually map the data from the Basket and Wallet objects to this DTO.</p>\n<pre><code> @Data\npublic class BasketResponse {\n    private String fruit1;\n    private String fruit2;\n    private String fruit3;\n    private WalletResponse wallet;\n}\n\n@Data\npublic class WalletResponse {\n    private String item1;\n    private String item2;\n    private String item3;\n}\n\n@Service\npublic class BasketService {\n    @Autowired\n    private BasketRepository basketRepo;\n\n    public List&lt;BasketResponse&gt; find() {\n        List&lt;Basket&gt; baskets = basketRepo.findAll();\n        return baskets.stream().map(this::mapToResponse).collect(Collectors.toList());\n    }\n\n    private BasketResponse mapToResponse(Basket basket) {\n        BasketResponse basketResponse = new BasketResponse();\n        basketResponse.setFruit1(basket.getFruit1());\n        basketResponse.setFruit2(basket.getFruit2());\n        basketResponse.setFruit3(basket.getFruit3());\n\n        Wallet wallet = basket.getWallet();\n        if (wallet != null) {\n            WalletResponse walletResponse = new WalletResponse();\n            walletResponse.setItem1(wallet.getItem1());\n            walletResponse.setItem2(wallet.getItem2());\n            walletResponse.setItem3(wallet.getItem3());\n            basketResponse.setWallet(walletResponse);\n        }\n\n        return basketResponse;\n    }\n}\n\n\n@RestController\n@RequestMapping(value = &quot;/baskets&quot;)\npublic class BasketController {\n    @Autowired\n    private BasketService basketService;\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;BasketResponse&gt;&gt; find() {\n        List&lt;BasketResponse&gt; baskets = basketService.find();\n        return ResponseEntity.ok(baskets);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29264105,"reputation":17,"user_id":22420285,"display_name":"gustop01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77586821,"answer_count":1,"score":1,"last_activity_date":1701449024,"creation_date":1701384765,"question_id":77582100,"body_markdown":"Don&#39;t know if I managed to phrase if correctly, but basicaly: \r\n- I have an object &quot;Basket&quot; for example, it has 3 fruits and a wallet inside, the wallet containing more objects in itself.\r\n- When printing the Basket after receiving a GET request, I want not only the fruits and the wallet to be printed, but also what is inside the wallet.\r\n\r\n```\r\n**What I want:**\r\n[\r\n {\r\n  &quot;fruit1&quot;: &quot;x&quot;,\r\n  &quot;fruit2&quot;: &quot;y&quot;,\r\n  &quot;fruit3&quot; &quot;z&quot;,\r\n  &quot;wallet&quot;: {\r\n    &quot;item1&quot;: &quot;a&quot;,\r\n    &quot;item2&quot;: &quot;b&quot;,\r\n    &quot;item3&quot;: &quot;c&quot;}\r\n }\r\n]\r\n\r\n**What I&#39;m getting:**\r\n[\r\n {\r\n  &quot;fruit1&quot;: &quot;x&quot;,\r\n  &quot;fruit2&quot;: &quot;y&quot;,\r\n  &quot;fruit3&quot; &quot;z&quot;,\r\n  &quot;wallet&quot;: {}\r\n }\r\n]\r\n```\r\nMy code currently is like this:\r\n\r\n\r\n**Basket model**\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;BASKETS&quot;)\r\n public class Basket{\r\n  @Id\r\n  private String owner;\r\n  private String fruit1;\r\n  private String fruit2;\r\n  private String fruit3;\r\n  @Embedded\r\n  private Wallet wallet;\r\n}\r\n```\r\n**Wallet model**\r\n```\r\n@Embeddable\r\npublic class Wallet{\r\n  private String item1;\r\n  private String item2;\r\n  private String item3;\r\n}\r\n```\r\n**Basket Service**\r\n```\r\n@Service\r\npublic class BasketService{\r\n\r\n  @Autowired\r\n  private BasketRepository basketRepo;\r\n\r\n  public List&lt;Basket&gt; find(){\r\n    return basketRepo.findAll();\r\n  }\r\n}\r\n```\r\n**Basket Controller**\r\n```\r\n@RestController\r\n@RequestMapping(value = &quot;/baskets&quot;)\r\npublic class BasketController{\r\n\r\n @Autowired\r\n private BasketRepository basketRepo;\r\n\r\n @Autowired\r\n private BasketService basketService;\r\n\r\n @Autowired\r\n private ModdelMapper mapper;\r\n\r\n  @GetMapping\r\n    public ResponseEntity&lt;List&lt;BasketResponse&gt;&gt; find(){\r\n        var baskets = basketService.find();\r\n        var result = new ArrayList&lt;BasketResponse&gt;();\r\n        for (Basket basket : baskets){\r\n            var basketDTO = mapper.map(basket, BasketResponse.class);\r\n            result.add(basketDTO);\r\n        }\r\n        return ResponseEntity.ok(result);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI don&#39;t know what exactly to change, tried to search for a solution, but probably I don&#39;t know how to search for this specifically.","title":"How to print nested objects parameters in spring boot when using GET method?","body":"<p>Don't know if I managed to phrase if correctly, but basicaly:</p>\n<ul>\n<li>I have an object &quot;Basket&quot; for example, it has 3 fruits and a wallet inside, the wallet containing more objects in itself.</li>\n<li>When printing the Basket after receiving a GET request, I want not only the fruits and the wallet to be printed, but also what is inside the wallet.</li>\n</ul>\n<pre><code>**What I want:**\n[\n {\n  &quot;fruit1&quot;: &quot;x&quot;,\n  &quot;fruit2&quot;: &quot;y&quot;,\n  &quot;fruit3&quot; &quot;z&quot;,\n  &quot;wallet&quot;: {\n    &quot;item1&quot;: &quot;a&quot;,\n    &quot;item2&quot;: &quot;b&quot;,\n    &quot;item3&quot;: &quot;c&quot;}\n }\n]\n\n**What I'm getting:**\n[\n {\n  &quot;fruit1&quot;: &quot;x&quot;,\n  &quot;fruit2&quot;: &quot;y&quot;,\n  &quot;fruit3&quot; &quot;z&quot;,\n  &quot;wallet&quot;: {}\n }\n]\n</code></pre>\n<p>My code currently is like this:</p>\n<p><strong>Basket model</strong></p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;BASKETS&quot;)\n public class Basket{\n  @Id\n  private String owner;\n  private String fruit1;\n  private String fruit2;\n  private String fruit3;\n  @Embedded\n  private Wallet wallet;\n}\n</code></pre>\n<p><strong>Wallet model</strong></p>\n<pre><code>@Embeddable\npublic class Wallet{\n  private String item1;\n  private String item2;\n  private String item3;\n}\n</code></pre>\n<p><strong>Basket Service</strong></p>\n<pre><code>@Service\npublic class BasketService{\n\n  @Autowired\n  private BasketRepository basketRepo;\n\n  public List&lt;Basket&gt; find(){\n    return basketRepo.findAll();\n  }\n}\n</code></pre>\n<p><strong>Basket Controller</strong></p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/baskets&quot;)\npublic class BasketController{\n\n @Autowired\n private BasketRepository basketRepo;\n\n @Autowired\n private BasketService basketService;\n\n @Autowired\n private ModdelMapper mapper;\n\n  @GetMapping\n    public ResponseEntity&lt;List&lt;BasketResponse&gt;&gt; find(){\n        var baskets = basketService.find();\n        var result = new ArrayList&lt;BasketResponse&gt;();\n        for (Basket basket : baskets){\n            var basketDTO = mapper.map(basket, BasketResponse.class);\n            result.add(basketDTO);\n        }\n        return ResponseEntity.ok(result);\n    }\n}\n</code></pre>\n<p>I don't know what exactly to change, tried to search for a solution, but probably I don't know how to search for this specifically.</p>\n"},{"tags":["java","string","if-statement","random","while-loop"],"answers":[{"tags":[],"owner":{"account_id":21154369,"reputation":16,"user_id":15553967,"display_name":"MeotJH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701448974,"creation_date":1701419699,"answer_id":77583912,"question_id":77583692,"body_markdown":"You need to initialise the counter variables outside of the while loop because variables inside of the loop will be reset every time the loop executes (because &quot;win = 0&quot; will get executed and win will get the value of 0 at every start of the loop. What you want is that every new loop, the value of win is the value it had after the previous loop was completed).\r\n\r\nexample code\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Scanner input = new Scanner(System.in);\r\n        int win = 0;\r\n        int lose = 0;\r\n        int tie = 0;\r\n        while(true){\r\n\r\n            System.out.println(&quot;Please choose (r)ock, (p)aper or (s)cissors:&quot;);\r\n            String answer = input.nextLine();\r\n\r\n            if(answer.equals(&quot;r&quot;)) {\r\n                String[] str = { &quot;You chose rock. I chose paper. You lose!&quot;, /* lose++; */ &quot;You chose rock. I chose scissors. You win!&quot;,  /* win++; */ &quot;You chose rock. I chose rock. We tie!&quot;  /* tie++; */ };\r\n                Random r = new Random();\r\n                int i = r.nextInt(3);\r\n\r\n                if( i == 0 ) ++lose;\r\n                if( i == 1 ) ++win;\r\n                if( i == 2 ) ++tie;\r\n                System.out.println(str[i]);\r\n\r\n\r\n\r\n            }\r\n            if(answer.equals(&quot;p&quot;)) {\r\n                String[] str = { &quot;You chose paper. I chose scissors. You lose!&quot;,  /* lose++; */ &quot;You chose paper. I chose rock. You win!&quot;,  /* win++; */ &quot;You chose paper. I chose paper. We tie!&quot;  /* tie++; */ };\r\n                Random r = new Random();\r\n                int i = r.nextInt(3);\r\n\r\n                if( i == 0 ) ++lose;\r\n                if( i == 1 ) ++win;\r\n                if( i == 2 ) ++tie;\r\n                System.out.println(str[i]);\r\n\r\n            }\r\n            if(answer.equals(&quot;s&quot;)) {\r\n                String[] str = { &quot;You chose scissors. I chose rock. You lose!&quot;,  /* lose++; */ &quot;You chose scissors. I chose paper. You win!&quot;,  /* win++; */ &quot;You chose scissors. I chose scissors. We tie!&quot;  /* tie++; */ };\r\n                Random r = new Random();\r\n                int i = r.nextInt(3);\r\n\r\n                if( i == 0 ) ++lose;\r\n                if( i == 1 ) ++win;\r\n                if( i == 2 ) ++tie;\r\n                System.out.println(str[i]);\r\n\r\n            }\r\n\r\n\r\n            System.out.println(&quot;Score: &quot; + win + &quot; win(s), &quot; + lose + &quot; loss(es), &quot; + tie + &quot; tie(s)&quot;);\r\n            System.out.println(&quot;Play again (y/n)?&quot;);\r\n            String c = input.nextLine();\r\n\r\n            if(c.equalsIgnoreCase(&quot;n&quot;)){\r\n                break;\r\n            }\r\n\r\n        }\r\n\r\n    }","title":"Difficulty with Rock Paper Scissors game","body":"<p>You need to initialise the counter variables outside of the while loop because variables inside of the loop will be reset every time the loop executes (because &quot;win = 0&quot; will get executed and win will get the value of 0 at every start of the loop. What you want is that every new loop, the value of win is the value it had after the previous loop was completed).</p>\n<p>example code</p>\n<pre><code>public static void main(String[] args) {\n\n    Scanner input = new Scanner(System.in);\n    int win = 0;\n    int lose = 0;\n    int tie = 0;\n    while(true){\n\n        System.out.println(&quot;Please choose (r)ock, (p)aper or (s)cissors:&quot;);\n        String answer = input.nextLine();\n\n        if(answer.equals(&quot;r&quot;)) {\n            String[] str = { &quot;You chose rock. I chose paper. You lose!&quot;, /* lose++; */ &quot;You chose rock. I chose scissors. You win!&quot;,  /* win++; */ &quot;You chose rock. I chose rock. We tie!&quot;  /* tie++; */ };\n            Random r = new Random();\n            int i = r.nextInt(3);\n\n            if( i == 0 ) ++lose;\n            if( i == 1 ) ++win;\n            if( i == 2 ) ++tie;\n            System.out.println(str[i]);\n\n\n\n        }\n        if(answer.equals(&quot;p&quot;)) {\n            String[] str = { &quot;You chose paper. I chose scissors. You lose!&quot;,  /* lose++; */ &quot;You chose paper. I chose rock. You win!&quot;,  /* win++; */ &quot;You chose paper. I chose paper. We tie!&quot;  /* tie++; */ };\n            Random r = new Random();\n            int i = r.nextInt(3);\n\n            if( i == 0 ) ++lose;\n            if( i == 1 ) ++win;\n            if( i == 2 ) ++tie;\n            System.out.println(str[i]);\n\n        }\n        if(answer.equals(&quot;s&quot;)) {\n            String[] str = { &quot;You chose scissors. I chose rock. You lose!&quot;,  /* lose++; */ &quot;You chose scissors. I chose paper. You win!&quot;,  /* win++; */ &quot;You chose scissors. I chose scissors. We tie!&quot;  /* tie++; */ };\n            Random r = new Random();\n            int i = r.nextInt(3);\n\n            if( i == 0 ) ++lose;\n            if( i == 1 ) ++win;\n            if( i == 2 ) ++tie;\n            System.out.println(str[i]);\n\n        }\n\n\n        System.out.println(&quot;Score: &quot; + win + &quot; win(s), &quot; + lose + &quot; loss(es), &quot; + tie + &quot; tie(s)&quot;);\n        System.out.println(&quot;Play again (y/n)?&quot;);\n        String c = input.nextLine();\n\n        if(c.equalsIgnoreCase(&quot;n&quot;)){\n            break;\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17751400,"reputation":133,"user_id":12889400,"display_name":"Thomas Huitema"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701443824,"creation_date":1701443824,"answer_id":77586286,"question_id":77583692,"body_markdown":"Declaring wins, losses, and ties outside your while loop will allow you to add results over multiple games. I added a switch statement to increment these variables based on the random variable. Also, I reduced redundancy with your Random object by declaring it outside the loop and calling `r.nextInt(3)` once. Additionally, I made `str` more readable by adding results index-by-index, instead of initializing it all on one line. Read my comments for further clarification.\r\n\r\n    import java.util.Random;\r\n    import java.util.Scanner;\r\n    \r\n    public class rockpaperscissors {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tScanner input = new Scanner(System.in);\r\n    \r\n    \t\t// count game results\r\n    \t\tint win = 0;\r\n    \t\tint lose = 0;\r\n    \t\tint tie = 0;\r\n    \r\n    \t\tRandom r = new Random();\r\n    \r\n    \t\twhile (true) {\r\n    \r\n    \t\t\tSystem.out.println(&quot;Please choose (r)ock, (p)aper or (s)cissors:&quot;);\r\n    \t\t\tString answer = input.nextLine();\r\n    \r\n    \t\t\tint computerAnswer = r.nextInt(3);\r\n    \t\t\tString[] str = new String[3]; // stores potential results\r\n    \r\n    \t\t\tif (answer.equals(&quot;r&quot;)) {\r\n    \t\t\t\tstr[0] = &quot;You chose rock. I chose paper. You lose!&quot;;\r\n    \t\t\t\tstr[1] = &quot;You chose rock. I chose scissors. You win!&quot;;\r\n    \t\t\t\tstr[2] = &quot;You chose rock. I chose rock. We tie!&quot;;\r\n    \t\t\t}\r\n    \t\t\tif (answer.equals(&quot;p&quot;)) {\r\n    \t\t\t\tstr[0] = &quot;You chose paper. I chose scissors. You lose!&quot;;\r\n    \t\t\t\tstr[1] = &quot;You chose paper. I chose rock. You win!&quot;;\r\n    \t\t\t\tstr[2] = &quot;You chose paper. I chose paper. We tie!&quot;;\r\n    \t\t\t}\r\n    \t\t\tif (answer.equals(&quot;s&quot;)) {\r\n    \t\t\t\tstr[0] = &quot;You chose scissors. I chose rock. You lose!&quot;;\r\n    \t\t\t\tstr[1] = &quot;You chose scissors. I chose paper. You win!&quot;;\r\n    \t\t\t\tstr[2] = &quot;You chose scissors. I chose scissors. We tie!&quot;;\r\n    \t\t\t}\r\n\r\n                // add to game results\r\n                switch(computerAnswer) {\r\n    \t\t\t\tcase(0): \r\n    \t\t\t\t\tlose++;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase(1):\r\n    \t\t\t\t\twin++;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase(2):\r\n    \t\t\t\t\ttie++;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t}\r\n    \r\n    \t\t\t// print result of this round\r\n    \t\t\tSystem.out.println(str[computerAnswer]);\r\n    \r\n    \t\t\t// print result of all games played so far\r\n    \t\t\tSystem.out.println(&quot;Score: &quot; + win + &quot; win(s), &quot; + lose + &quot; loss(es), &quot; + tie + &quot; tie(s)&quot;);\r\n    \t\t\tSystem.out.println(&quot;Play again (y/n)?&quot;);\r\n    \t\t\tString c = input.nextLine();\r\n    \r\n    \t\t\tif (c.equalsIgnoreCase(&quot;n&quot;)) {\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\n","title":"Difficulty with Rock Paper Scissors game","body":"<p>Declaring wins, losses, and ties outside your while loop will allow you to add results over multiple games. I added a switch statement to increment these variables based on the random variable. Also, I reduced redundancy with your Random object by declaring it outside the loop and calling <code>r.nextInt(3)</code> once. Additionally, I made <code>str</code> more readable by adding results index-by-index, instead of initializing it all on one line. Read my comments for further clarification.</p>\n<pre><code>import java.util.Random;\nimport java.util.Scanner;\n\npublic class rockpaperscissors {\n\n    public static void main(String[] args) {\n\n        Scanner input = new Scanner(System.in);\n\n        // count game results\n        int win = 0;\n        int lose = 0;\n        int tie = 0;\n\n        Random r = new Random();\n\n        while (true) {\n\n            System.out.println(&quot;Please choose (r)ock, (p)aper or (s)cissors:&quot;);\n            String answer = input.nextLine();\n\n            int computerAnswer = r.nextInt(3);\n            String[] str = new String[3]; // stores potential results\n\n            if (answer.equals(&quot;r&quot;)) {\n                str[0] = &quot;You chose rock. I chose paper. You lose!&quot;;\n                str[1] = &quot;You chose rock. I chose scissors. You win!&quot;;\n                str[2] = &quot;You chose rock. I chose rock. We tie!&quot;;\n            }\n            if (answer.equals(&quot;p&quot;)) {\n                str[0] = &quot;You chose paper. I chose scissors. You lose!&quot;;\n                str[1] = &quot;You chose paper. I chose rock. You win!&quot;;\n                str[2] = &quot;You chose paper. I chose paper. We tie!&quot;;\n            }\n            if (answer.equals(&quot;s&quot;)) {\n                str[0] = &quot;You chose scissors. I chose rock. You lose!&quot;;\n                str[1] = &quot;You chose scissors. I chose paper. You win!&quot;;\n                str[2] = &quot;You chose scissors. I chose scissors. We tie!&quot;;\n            }\n\n            // add to game results\n            switch(computerAnswer) {\n                case(0): \n                    lose++;\n                    break;\n                case(1):\n                    win++;\n                    break;\n                case(2):\n                    tie++;\n                    break;\n            }\n\n            // print result of this round\n            System.out.println(str[computerAnswer]);\n\n            // print result of all games played so far\n            System.out.println(&quot;Score: &quot; + win + &quot; win(s), &quot; + lose + &quot; loss(es), &quot; + tie + &quot; tie(s)&quot;);\n            System.out.println(&quot;Play again (y/n)?&quot;);\n            String c = input.nextLine();\n\n            if (c.equalsIgnoreCase(&quot;n&quot;)) {\n                break;\n            }\n\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":30038036,"reputation":3,"user_id":23019518,"display_name":"zuha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77583912,"answer_count":2,"score":0,"last_activity_date":1701448974,"creation_date":1701416659,"question_id":77583692,"body_markdown":"I&#39;m making a code in Java that is a rock-paper-scissors game. In particular, I am trying to make it so that the randomized outputs, aka if a user loses, wins, or ties, it is counted into the score.\r\n\r\nFor example, the user inputs either rock, paper, or scissors. If they choose rock, they will get a random output that determines whether or not they win, lose, or tie. If they got the output, let&#39;s say,  &quot;You chose rock. I chose paper. You lose!&quot; I want to add that score result as &quot;1 loss.&quot; in my while loop. However, I don&#39;t know how to make the program count the random outputs like that.\r\n\r\nMy code is below and I put comments in it to try and better explain what I want to do.\r\n\r\n    import java.util.Random; \r\n    import java.util.Scanner;\r\n    \r\n    public class rockpaperscissors {\r\n    \r\n    public static void main(String[] args) {\r\n    \r\n    Scanner input = new Scanner(System.in);\r\n    \r\n    while(true){\r\n    \r\n        System.out.println(&quot;Please choose (r)ock, (p)aper or (s)cissors:&quot;);\r\n        String answer = input.nextLine();\r\n        int win = 0;\r\n        int lose = 0;\r\n        int tie = 0;\r\n        \r\n        if(answer.equals(&quot;r&quot;)) {\r\n        \tString[] str = { &quot;You chose rock. I chose paper. You lose!&quot;, /* lose++; */ &quot;You chose rock. I chose scissors. You win!&quot;,  /* win++; */ &quot;You chose rock. I chose rock. We tie!&quot;  /* tie++; */ };\r\n        \tRandom r = new Random();\r\n        \tSystem.out.println(str[r.nextInt(3)]);\r\n        \t\r\n        \t\r\n         \r\n        }\r\n        if(answer.equals(&quot;p&quot;)) {\r\n        \tString[] str = { &quot;You chose paper. I chose scissors. You lose!&quot;,  /* lose++; */ &quot;You chose paper. I chose rock. You win!&quot;,  /* win++; */ &quot;You chose paper. I chose paper. We tie!&quot;  /* tie++; */ };\r\n        \tRandom r = new Random();\r\n        \tSystem.out.println(str[r.nextInt(3)]);\r\n       \r\n      }\r\n        if(answer.equals(&quot;s&quot;)) {\r\n        \tString[] str = { &quot;You chose scissors. I chose rock. You lose!&quot;,  /* lose++; */ &quot;You chose scissors. I chose paper. You win!&quot;,  /* win++; */ &quot;You chose scissors. I chose scissors. We tie!&quot;  /* tie++; */ };\r\n        \tRandom r = new Random();\r\n        \tSystem.out.println(str[r.nextInt(3)]);\r\n       \r\n      }\r\n      \r\n        \r\n        System.out.println(&quot;Score: &quot; + win + &quot; win(s), &quot; + lose + &quot; loss(es), &quot; + tie + &quot; tie(s)&quot;);\r\n      System.out.println(&quot;Play again (y/n)?&quot;); \r\n       String c = input.nextLine();\r\n    \r\n       if(c.equalsIgnoreCase(&quot;n&quot;)){ \r\n          break;\r\n         }\r\n    \r\n    }\r\n    \r\n    }\r\n    }\r\n\r\nI&#39;ve tried using switch statements, but they haven&#39;t been working out. I&#39;ve also been trying to use if statements but my code never works. Please note that I&#39;m still fairly new to java so there are functions that I am quite unfamiliar with.","title":"Difficulty with Rock Paper Scissors game","body":"<p>I'm making a code in Java that is a rock-paper-scissors game. In particular, I am trying to make it so that the randomized outputs, aka if a user loses, wins, or ties, it is counted into the score.</p>\n<p>For example, the user inputs either rock, paper, or scissors. If they choose rock, they will get a random output that determines whether or not they win, lose, or tie. If they got the output, let's say,  &quot;You chose rock. I chose paper. You lose!&quot; I want to add that score result as &quot;1 loss.&quot; in my while loop. However, I don't know how to make the program count the random outputs like that.</p>\n<p>My code is below and I put comments in it to try and better explain what I want to do.</p>\n<pre><code>import java.util.Random; \nimport java.util.Scanner;\n\npublic class rockpaperscissors {\n\npublic static void main(String[] args) {\n\nScanner input = new Scanner(System.in);\n\nwhile(true){\n\n    System.out.println(&quot;Please choose (r)ock, (p)aper or (s)cissors:&quot;);\n    String answer = input.nextLine();\n    int win = 0;\n    int lose = 0;\n    int tie = 0;\n    \n    if(answer.equals(&quot;r&quot;)) {\n        String[] str = { &quot;You chose rock. I chose paper. You lose!&quot;, /* lose++; */ &quot;You chose rock. I chose scissors. You win!&quot;,  /* win++; */ &quot;You chose rock. I chose rock. We tie!&quot;  /* tie++; */ };\n        Random r = new Random();\n        System.out.println(str[r.nextInt(3)]);\n        \n        \n     \n    }\n    if(answer.equals(&quot;p&quot;)) {\n        String[] str = { &quot;You chose paper. I chose scissors. You lose!&quot;,  /* lose++; */ &quot;You chose paper. I chose rock. You win!&quot;,  /* win++; */ &quot;You chose paper. I chose paper. We tie!&quot;  /* tie++; */ };\n        Random r = new Random();\n        System.out.println(str[r.nextInt(3)]);\n   \n  }\n    if(answer.equals(&quot;s&quot;)) {\n        String[] str = { &quot;You chose scissors. I chose rock. You lose!&quot;,  /* lose++; */ &quot;You chose scissors. I chose paper. You win!&quot;,  /* win++; */ &quot;You chose scissors. I chose scissors. We tie!&quot;  /* tie++; */ };\n        Random r = new Random();\n        System.out.println(str[r.nextInt(3)]);\n   \n  }\n  \n    \n    System.out.println(&quot;Score: &quot; + win + &quot; win(s), &quot; + lose + &quot; loss(es), &quot; + tie + &quot; tie(s)&quot;);\n  System.out.println(&quot;Play again (y/n)?&quot;); \n   String c = input.nextLine();\n\n   if(c.equalsIgnoreCase(&quot;n&quot;)){ \n      break;\n     }\n\n}\n\n}\n}\n</code></pre>\n<p>I've tried using switch statements, but they haven't been working out. I've also been trying to use if statements but my code never works. Please note that I'm still fairly new to java so there are functions that I am quite unfamiliar with.</p>\n"},{"tags":["java","multithreading","swing","paint","event-listener"],"comments":[{"owner":{"account_id":277416,"reputation":681828,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1370003890,"post_id":16857380,"comment_id":24312313,"body_markdown":"Here we go again. Read http://docs.oracle.com/javase/tutorial/uiswing/concurrency/. If you sleep in the EDT you prevent it from doing its job: repainting the screen.","body":"Here we go again. Read <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/concurrency</a>. If you sleep in the EDT you prevent it from doing its job: repainting the screen."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1370003925,"post_id":16857380,"comment_id":24312335,"body_markdown":"To start with, don&#39;t sleep within the Even Dispatching Thread. Take a look at [Concurrency in Swing](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/). Take a look at [this](http://stackoverflow.com/questions/13888026/java-clock-isnt-counting-in-swing/13888101#13888101)","body":"To start with, don&#39;t sleep within the Even Dispatching Thread. Take a look at <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/\" rel=\"nofollow noreferrer\">Concurrency in Swing</a>. Take a look at <a href=\"http://stackoverflow.com/questions/13888026/java-clock-isnt-counting-in-swing/13888101#13888101\">this</a>"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1370004128,"post_id":16857380,"comment_id":24312441,"body_markdown":"Move the loop to the action to make access to the properties in the paint event.","body":"Move the loop to the action to make access to the properties in the paint event."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1370004294,"post_id":16857380,"comment_id":24312549,"body_markdown":"@RomanC So instead of blocking the EDT in the paint method, you&#39;d suggest the OP blocks it in the action performed method instead?","body":"@RomanC So instead of blocking the EDT in the paint method, you&#39;d suggest the OP blocks it in the action performed method instead?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1370004928,"post_id":16857380,"comment_id":24312925,"body_markdown":"@MadProgrammer Where did you read that I suggest &quot;blocking the EDT&quot;?","body":"@MadProgrammer Where did you read that I suggest &quot;blocking the EDT&quot;?"},{"owner":{"account_id":277416,"reputation":681828,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1370005254,"post_id":16857380,"comment_id":24313116,"body_markdown":"@RomanC: the loop blocks the EDT already. Moving it somewhere else, but still executing it in the EDT, would still cause the GUI to freeze until the loop has ended.","body":"@RomanC: the loop blocks the EDT already. Moving it somewhere else, but still executing it in the EDT, would still cause the GUI to freeze until the loop has ended."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1370005412,"post_id":16857380,"comment_id":24313214,"body_markdown":"@JBNizet You are talking to nothing, OP said that with using threads and event listeners.","body":"@JBNizet You are talking to nothing, OP said that with using threads and event listeners."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1370031990,"post_id":16857380,"comment_id":24327177,"body_markdown":"@romanc But there are no threads in the OPs code. Using a Thread to solve the OPs problem is overkill for what they are trying to achieve. A simple javax.swing.Timer would be more then sufficient","body":"@romanc But there are no threads in the OPs code. Using a Thread to solve the OPs problem is overkill for what they are trying to achieve. A simple javax.swing.Timer would be more then sufficient"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1370073442,"post_id":16857380,"comment_id":24336046,"body_markdown":"@MadProgrammer You should not stick with the code OP expose, rather take it into attention and write the code OP is asked to implement, not the code you want to write.","body":"@MadProgrammer You should not stick with the code OP expose, rather take it into attention and write the code OP is asked to implement, not the code you want to write."},{"owner":{"account_id":2840656,"reputation":335,"user_id":2440347,"display_name":"AvmnuSng"},"score":0,"creation_date":1370074043,"post_id":16857380,"comment_id":24336147,"body_markdown":"@RomanC you are write the both code presented by MadProgrammer are implementation of some good work of programming but far away from my problem that is to be solved. If there is any suggestion you can give to me..","body":"@RomanC you are write the both code presented by MadProgrammer are implementation of some good work of programming but far away from my problem that is to be solved. If there is any suggestion you can give to me.."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1370074614,"post_id":16857380,"comment_id":24336269,"body_markdown":"@romanc We&#39;re also not code factories. Where possible we should attempt to help posters reach a suitable solution to their problems, based on the small amount of information which is generally provided to use via their code snippets. This is not always achievable. We should also be encourage good coding practices where we can - IMHO","body":"@romanc We&#39;re also not code factories. Where possible we should attempt to help posters reach a suitable solution to their problems, based on the small amount of information which is generally provided to use via their code snippets. This is not always achievable. We should also be encourage good coding practices where we can - IMHO"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1370074664,"post_id":16857380,"comment_id":24336283,"body_markdown":"@avmnusng It&#39;s not only your problem but a known problem and has solutions I even tried to implement myself. I will not say that I completely understand it but it seemed to work that time. I&#39;m interesting in the answer if I understand precisely what the question is about and what the answer is required. Unfortunately here on SO it&#39;s difficult to achieve.","body":"@avmnusng It&#39;s not only your problem but a known problem and has solutions I even tried to implement myself. I will not say that I completely understand it but it seemed to work that time. I&#39;m interesting in the answer if I understand precisely what the question is about and what the answer is required. Unfortunately here on SO it&#39;s difficult to achieve."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1370075795,"post_id":16857380,"comment_id":24336556,"body_markdown":"@MadProgrammer Not only code snippets but the content that fully describes the problem. Code snippets only help to see what OP is tried and what&#39;s wrong with it but it doesn&#39;t answer the question. Encourage good codding is a good intention but it depends how good is the coder, thus less helpful here. BTW good or bad is not provable everybody has his own opinion. I&#39;d say better to keep a well known standards in the code use a case approach.","body":"@MadProgrammer Not only code snippets but the content that fully describes the problem. Code snippets only help to see what OP is tried and what&#39;s wrong with it but it doesn&#39;t answer the question. Encourage good codding is a good intention but it depends how good is the coder, thus less helpful here. BTW good or bad is not provable everybody has his own opinion. I&#39;d say better to keep a well known standards in the code use a case approach."},{"owner":{"account_id":2840656,"reputation":335,"user_id":2440347,"display_name":"AvmnuSng"},"score":0,"creation_date":1370077826,"post_id":16857380,"comment_id":24336936,"body_markdown":"@RomanC i have a frame, in this frame **panel p1** and **panel p2** are added (say using border layout, WEST and EAST respectively) on frame. **Panel p1 has two text fields and a button**, first is **radius** to take input for radius of the very first circle and second is **iterations** to take input for how many circles we want to draw one by one by increment the radius by 10. Now when i press the button the drawing should start on Panel p2. Everything is going fine in my code I posted here in stackOverflow but the problem is that Panel p2 is showing just the final stage (all circles at end)","body":"@RomanC i have a frame, in this frame <b>panel p1</b> and <b>panel p2</b> are added (say using border layout, WEST and EAST respectively) on frame. <b>Panel p1 has two text fields and a button</b>, first is <b>radius</b> to take input for radius of the very first circle and second is <b>iterations</b> to take input for how many circles we want to draw one by one by increment the radius by 10. Now when i press the button the drawing should start on Panel p2. Everything is going fine in my code I posted here in stackOverflow but the problem is that Panel p2 is showing just the final stage (all circles at end)"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1370096397,"post_id":16857380,"comment_id":24341459,"body_markdown":"@avmnusng I have changed something in your code to allow it to draw one by one and not at the end. Look at my answer.","body":"@avmnusng I have changed something in your code to allow it to draw one by one and not at the end. Look at my answer."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1370104598,"post_id":16857380,"comment_id":24343556,"body_markdown":"+1 I don&#39;t understand why downwote had been put on this question.","body":"+1 I don&#39;t understand why downwote had been put on this question."},{"owner":{"account_id":2840656,"reputation":335,"user_id":2440347,"display_name":"AvmnuSng"},"score":0,"creation_date":1370106187,"post_id":16857380,"comment_id":24343921,"body_markdown":"@RomanC actually someone has seen the word drawing circles and thought that someone is kidding here so my question got a downvote :D","body":"@RomanC actually someone has seen the word drawing circles and thought that someone is kidding here so my question got a downvote :D"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1370080345,"creation_date":1370043965,"answer_id":16867558,"question_id":16857380,"body_markdown":"The problem you&#39;re having is far to common.\r\n\r\nSwing is a single threaded framework.  This means that all UI related interactions must occur within the context of this thread (AKA the Event Dispatching Thread).\r\n\r\nThe EDT is responsible for, amongst other things, dispatching repaint requests.  If any part of your code stops this thread (block I/O, time consuming process, `Thread.sleep`), the EDT will be unable to process any new events.\r\n\r\nHave a read through [Concurrency in Swing](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/) for more details.\r\n\r\nYou now face two issues...\r\n\r\n1. You can&#39;t block the EDT\r\n2. You can&#39;t update the UI from any thread other then the EDT.\r\n\r\nLuckily, there are a number of solutions.  The simplest is using a `javax.swing.Timer`.\r\n\r\nThis timer triggers it&#39;s tick events within the EDT but waits within it&#39;s own thread...\r\n\r\n![enter image description here][1]\r\n\r\n    import com.sun.org.apache.bcel.internal.generic.LSTORE;\r\n    import java.awt.AlphaComposite;\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Composite;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Point;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.Timer;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.UnsupportedLookAndFeelException;\r\n\r\n    public class Droplets {\r\n\r\n        public static void main(String[] args) {\r\n            new Droplets();\r\n        }\r\n\r\n        public Droplets() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n                    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n                    }\r\n\r\n                    JFrame frame = new JFrame(&quot;Test&quot;);\r\n                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    frame.setLayout(new BorderLayout());\r\n                    frame.add(new DropletPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n        protected static final int MAX_RADIUS = 50;\r\n        protected static final int GROWTH_RATE = 1;\r\n\r\n        public class DropletPane extends JPanel {\r\n\r\n            private List&lt;Droplet&gt; droplets;\r\n\r\n            public DropletPane() {\r\n                droplets = new ArrayList&lt;&gt;(25);\r\n                addMouseListener(new MouseAdapter() {\r\n                    @Override\r\n                    public void mousePressed(MouseEvent e) {\r\n                        droplets.add(new Droplet(e.getPoint()));\r\n                    }\r\n                });\r\n\r\n                Timer timer = new Timer(40, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        for (Droplet droplet : droplets.toArray(new Droplet[droplets.size()])) {\r\n                            droplet.grow();\r\n                            if (droplet.getRadius() &gt;= MAX_RADIUS) {\r\n                                droplets.remove(droplet);\r\n                            }\r\n                        }\r\n                        repaint();\r\n                    }\r\n                });\r\n                timer.setRepeats(true);\r\n                timer.setCoalesce(true);\r\n                timer.start();\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(200, 200);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                Composite comp = g2d.getComposite();\r\n                for (Droplet droplet : droplets) {\r\n\r\n                    float alpha = 1f - ((float) droplet.getRadius() / (float) MAX_RADIUS);\r\n                    g2d.setComposite(AlphaComposite.SrcOver.derive(alpha));\r\n                    Point p = droplet.getLocation();\r\n                    int radius = droplet.getRadius();\r\n                    g2d.drawOval(p.x - (radius / 2), p.y - (radius / 2), radius, radius);\r\n                    g2d.setComposite(comp);\r\n\r\n                }\r\n                g2d.dispose();\r\n            }\r\n        }\r\n\r\n        public class Droplet {\r\n\r\n            private Point p;\r\n            private int radius;\r\n\r\n            public Droplet(Point p) {\r\n                this.p = p;\r\n            }\r\n\r\n            public Point getLocation() {\r\n                return p;\r\n            }\r\n\r\n            public int getRadius() {\r\n                return radius;\r\n            }\r\n\r\n            public void grow() {\r\n                radius += GROWTH_RATE;\r\n                if (radius &gt; MAX_RADIUS) {\r\n                    radius = MAX_RADIUS;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n## Extended Example ##\r\n\r\nThis example will, when you click the &quot;Start&quot; button, create a random number of droplets at a random interval (between each droplet).  You can press start multiple times and it will compound the output.\r\n\r\n![enter image description here][2]\r\n\r\n    import static droplets.Droplets.MAX_RADIUS;\r\n    import java.awt.AlphaComposite;\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Composite;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Point;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.concurrent.TimeUnit;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingWorker;\r\n    import javax.swing.Timer;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.UnsupportedLookAndFeelException;\r\n\r\n    public class Droplets02 {\r\n\r\n        public static void main(String[] args) {\r\n            new Droplets02();\r\n        }\r\n\r\n        public Droplets02() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n                    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n                    }\r\n\r\n                    JFrame frame = new JFrame(&quot;Test&quot;);\r\n                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    frame.setLayout(new BorderLayout());\r\n                    frame.add(new DropletPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n        protected static final int MAX_RADIUS = 50;\r\n        protected static final int GROWTH_RATE = 1;\r\n\r\n        public interface Pool {\r\n\r\n            public void addDroplet(Droplet droplet);\r\n\r\n            public Dimension getSize();\r\n        }\r\n\r\n        public class DropletPane extends JPanel implements Pool {\r\n\r\n            private List&lt;Droplet&gt; droplets;\r\n            private Timer timer;\r\n\r\n            public DropletPane() {\r\n\r\n                setLayout(new GridBagLayout());\r\n                JButton button = new JButton(&quot;Start&quot;);\r\n                button.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        new DropletWorker(DropletPane.this).execute();\r\n                    }\r\n                });\r\n                add(button);\r\n\r\n                droplets = new ArrayList&lt;&gt;(25);\r\n                timer = new Timer(40, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        if (!droplets.isEmpty()) {\r\n                            for (Droplet droplet : droplets.toArray(new Droplet[droplets.size()])) {\r\n                                droplet.grow();\r\n                                if (droplet.getRadius() &gt;= MAX_RADIUS) {\r\n                                    droplets.remove(droplet);\r\n                                }\r\n                            }\r\n                            if (droplets.isEmpty()) {\r\n\r\n                                ((Timer) e.getSource()).stop();\r\n\r\n                            }\r\n                            repaint();\r\n                        }\r\n                    }\r\n                });\r\n                timer.setRepeats(true);\r\n                timer.setCoalesce(true);\r\n\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(200, 200);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                Composite comp = g2d.getComposite();\r\n                for (Droplet droplet : droplets) {\r\n\r\n                    float alpha = 1f - ((float) droplet.getRadius() / (float) MAX_RADIUS);\r\n                    g2d.setComposite(AlphaComposite.SrcOver.derive(alpha));\r\n                    Point p = droplet.getLocation();\r\n                    int radius = droplet.getRadius();\r\n                    g2d.drawOval(p.x - (radius / 2), p.y - (radius / 2), radius, radius);\r\n                    g2d.setComposite(comp);\r\n\r\n                }\r\n                g2d.dispose();\r\n            }\r\n\r\n            @Override\r\n            public void addDroplet(Droplet droplet) {\r\n                if (!timer.isRunning()) {\r\n                    timer.start();\r\n                }\r\n                droplets.add(droplet);\r\n            }\r\n        }\r\n\r\n        public class Droplet {\r\n\r\n            private Point p;\r\n            private int radius;\r\n\r\n            public Droplet(Point p) {\r\n                this.p = p;\r\n            }\r\n\r\n            public Point getLocation() {\r\n                return p;\r\n            }\r\n\r\n            public int getRadius() {\r\n                return radius;\r\n            }\r\n\r\n            public void grow() {\r\n                radius += GROWTH_RATE;\r\n                if (radius &gt; MAX_RADIUS) {\r\n                    radius = MAX_RADIUS;\r\n                }\r\n            }\r\n        }\r\n\r\n        public class DropletWorker extends SwingWorker&lt;Void, Droplet&gt; {\r\n\r\n            private Pool pool;\r\n\r\n            public DropletWorker(Pool pool) {\r\n                this.pool = pool;\r\n            }\r\n\r\n            public Pool getPool() {\r\n                return pool;\r\n            }\r\n\r\n            protected int random(int minRange, int maxRange) {\r\n                return minRange + (int) (Math.round(Math.random() * (maxRange - minRange)));\r\n            }\r\n\r\n            @Override\r\n            protected Void doInBackground() throws Exception {\r\n\r\n                int dropCount = random(1, 100);\r\n                Pool pool = getPool();\r\n                Dimension size = pool.getSize();\r\n                for (int index = 0; index &lt; dropCount; index++) {\r\n                    Thread.sleep(random(10, 1000));\r\n                    int x = random(0, size.width);\r\n                    int y = random(0, size.height);\r\n                    Droplet droplet = new Droplet(new Point(x, y));\r\n                    publish(droplet);\r\n                }\r\n\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            protected void process(List&lt;Droplet&gt; chunks) {\r\n                for (Droplet droplet : chunks) {\r\n                    getPool().addDroplet(droplet);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n## Animation Basics ##\r\n\r\nYou need three things to perform animation.\r\n\r\n - A Start state\r\n - A Target state\r\n - A delta or time range.\r\n\r\n(You also need some way to store the current state)\r\n\r\nThe start and target states are self explanatory, they describe where you are now and where you want to change to.\r\n\r\nThe delta would be the amount to apply to the current state at each &quot;time interval&quot; (or tick) until you reach the delta.\r\n\r\n**Or**\r\n\r\nThe time range would be the amount of time you want to use to move from the start state to the end state.\r\n\r\nThe delta approach is the simpler mechanism, but isn&#39;t nearly as flexible as the time range approach...\r\n\r\nOnce you have these basic elements set up, you need some kind of &quot;tick&quot; that is triggered at regular intervals which allows you to calculate the current state, which is either a linear movement from the start state to the target state (delta) or a progression of change of over time (time range)\r\n\r\n## A final, full working rework ##\r\n\r\nApart from you&#39;re attempt to block the EDT within the paint method and failing to following the [Initial Thread](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html) requirements of Swing, the only other, significant, problem I found was your reliance on the `radius` and `iter` values.\r\n\r\nBasically, these were never getting set UNLESS you pressed the &lt;kbd&gt;Enter&lt;/kbd&gt; key...which I wasn&#39;t.\r\n\r\nThis example uses the code that you posted and the ideas from the first example...\r\n\r\n![enter image description here][3]\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.Graphics;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.Timer;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.UnsupportedLookAndFeelException;\r\n\r\n    public class ControlCircles extends JFrame {\r\n\r\n        private JButton jbtEnlarge = new JButton(&quot;Start&quot;);\r\n        private JButton jbtShrink = new JButton(&quot;Stop&quot;);\r\n        private CirclePanel canvas = new CirclePanel();\r\n        private JTextField f1 = new JTextField(8);\r\n        private JTextField f2 = new JTextField(8);\r\n\r\n        public ControlCircles() {\r\n            JPanel panel = new JPanel();\r\n            JPanel jp = new JPanel();\r\n            jp.setPreferredSize(new Dimension(300, 0));\r\n            panel.add(jbtEnlarge);\r\n            panel.add(jbtShrink);\r\n\r\n            this.add(jp, BorderLayout.WEST);\r\n            this.add(canvas, BorderLayout.CENTER);\r\n            this.add(panel, BorderLayout.SOUTH);\r\n\r\n\r\n            jp.setLayout(new FlowLayout(FlowLayout.RIGHT, 50, 30));\r\n            jp.add(new JLabel(&quot;Radius&quot;));\r\n            jp.add(f1);\r\n            jp.add(new JLabel(&quot;Iteration&quot;));\r\n            jp.add(f2);\r\n\r\n            jbtEnlarge.addActionListener(new EnlargeListener());\r\n            jbtShrink.addActionListener(new ShrinkListener());\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n                    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n                    }\r\n\r\n                    JFrame frame = new ControlCircles();\r\n\r\n                    frame.setTitle(&quot;ControlCircle&quot;);\r\n                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    frame.setSize(800, 600);\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n\r\n            });\r\n        }\r\n\r\n        class EnlargeListener implements ActionListener {\r\n\r\n            public void actionPerformed(ActionEvent e) {\r\n                int radius = Integer.parseInt(f1.getText());\r\n                int iter = Integer.parseInt(f2.getText());\r\n                canvas.start(radius, iter);\r\n            \r\n            }\r\n\r\n        }\r\n\r\n        class ShrinkListener implements ActionListener {\r\n\r\n            public void actionPerformed(ActionEvent e) {\r\n                //canvas.shrink();\r\n            }\r\n\r\n        }\r\n\r\n        class CirclePanel extends JPanel {\r\n        \r\n            private int radius;\r\n            private int iterations;\r\n        \r\n            private int iteration;\r\n        \r\n            private List&lt;Integer&gt; circles;\r\n            private Timer timer;\r\n\r\n            public CirclePanel() {\r\n                circles = new ArrayList&lt;&gt;(25);\r\n                timer= new Timer(100, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        iteration++;\r\n                        if (iteration &lt; iterations) {\r\n                            circles.add(radius);\r\n                            radius += 10;\r\n                        } else {\r\n                            ((Timer)e.getSource()).stop();\r\n                        }\r\n                        repaint();\r\n                    }\r\n                });\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                int width = getWidth() - 1;\r\n                int height = getHeight()- 1;\r\n                g.drawRect(0, 0, width, height);\r\n                for (Integer radius : circles) {\r\n                    int x = (width - radius) / 2;\r\n                    int y = (height - radius) / 2;\r\n                    g.drawOval(x, y, radius, radius);\r\n                }\r\n            }\r\n\r\n            public void start(int radius, int iter) {\r\n                timer.stop();\r\n                circles.clear();\r\n                this.radius = radius;\r\n                iterations = iter;\r\n                iteration = 0;\r\n                System.out.println(&quot;radius = &quot; + radius);\r\n                System.out.println(&quot;iterations = &quot; + iterations);\r\n                timer.start();\r\n            }\r\n        }\r\n    }\r\n\r\nThis code works based on the description of your problem by correcting the common mistakes with animation in Swing but some of your code didn&#39;t quite make sense to me (ie `enlarge` and `shrink`) so I focused on the description your provided.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/2IbNt.png\r\n  [2]: http://i.stack.imgur.com/oED57.png\r\n  [3]: http://i.stack.imgur.com/LaZ3q.png","title":"The code for displaying circles with varying radius on a panel inside a frame","body":"<p>The problem you're having is far to common.</p>\n\n<p>Swing is a single threaded framework.  This means that all UI related interactions must occur within the context of this thread (AKA the Event Dispatching Thread).</p>\n\n<p>The EDT is responsible for, amongst other things, dispatching repaint requests.  If any part of your code stops this thread (block I/O, time consuming process, <code>Thread.sleep</code>), the EDT will be unable to process any new events.</p>\n\n<p>Have a read through <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> for more details.</p>\n\n<p>You now face two issues...</p>\n\n<ol>\n<li>You can't block the EDT</li>\n<li>You can't update the UI from any thread other then the EDT.</li>\n</ol>\n\n<p>Luckily, there are a number of solutions.  The simplest is using a <code>javax.swing.Timer</code>.</p>\n\n<p>This timer triggers it's tick events within the EDT but waits within it's own thread...</p>\n\n<p><img src=\"https://i.stack.imgur.com/2IbNt.png\" alt=\"enter image description here\"></p>\n\n<pre><code>import com.sun.org.apache.bcel.internal.generic.LSTORE;\nimport java.awt.AlphaComposite;\nimport java.awt.BorderLayout;\nimport java.awt.Composite;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Point;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\n\npublic class Droplets {\n\n    public static void main(String[] args) {\n        new Droplets();\n    }\n\n    public Droplets() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                }\n\n                JFrame frame = new JFrame(\"Test\");\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.setLayout(new BorderLayout());\n                frame.add(new DropletPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n    protected static final int MAX_RADIUS = 50;\n    protected static final int GROWTH_RATE = 1;\n\n    public class DropletPane extends JPanel {\n\n        private List&lt;Droplet&gt; droplets;\n\n        public DropletPane() {\n            droplets = new ArrayList&lt;&gt;(25);\n            addMouseListener(new MouseAdapter() {\n                @Override\n                public void mousePressed(MouseEvent e) {\n                    droplets.add(new Droplet(e.getPoint()));\n                }\n            });\n\n            Timer timer = new Timer(40, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    for (Droplet droplet : droplets.toArray(new Droplet[droplets.size()])) {\n                        droplet.grow();\n                        if (droplet.getRadius() &gt;= MAX_RADIUS) {\n                            droplets.remove(droplet);\n                        }\n                    }\n                    repaint();\n                }\n            });\n            timer.setRepeats(true);\n            timer.setCoalesce(true);\n            timer.start();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(200, 200);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            Composite comp = g2d.getComposite();\n            for (Droplet droplet : droplets) {\n\n                float alpha = 1f - ((float) droplet.getRadius() / (float) MAX_RADIUS);\n                g2d.setComposite(AlphaComposite.SrcOver.derive(alpha));\n                Point p = droplet.getLocation();\n                int radius = droplet.getRadius();\n                g2d.drawOval(p.x - (radius / 2), p.y - (radius / 2), radius, radius);\n                g2d.setComposite(comp);\n\n            }\n            g2d.dispose();\n        }\n    }\n\n    public class Droplet {\n\n        private Point p;\n        private int radius;\n\n        public Droplet(Point p) {\n            this.p = p;\n        }\n\n        public Point getLocation() {\n            return p;\n        }\n\n        public int getRadius() {\n            return radius;\n        }\n\n        public void grow() {\n            radius += GROWTH_RATE;\n            if (radius &gt; MAX_RADIUS) {\n                radius = MAX_RADIUS;\n            }\n        }\n    }\n}\n</code></pre>\n\n<h2>Extended Example</h2>\n\n<p>This example will, when you click the \"Start\" button, create a random number of droplets at a random interval (between each droplet).  You can press start multiple times and it will compound the output.</p>\n\n<p><img src=\"https://i.stack.imgur.com/oED57.png\" alt=\"enter image description here\"></p>\n\n<pre><code>import static droplets.Droplets.MAX_RADIUS;\nimport java.awt.AlphaComposite;\nimport java.awt.BorderLayout;\nimport java.awt.Composite;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GridBagLayout;\nimport java.awt.Point;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.TimeUnit;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingWorker;\nimport javax.swing.Timer;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\n\npublic class Droplets02 {\n\n    public static void main(String[] args) {\n        new Droplets02();\n    }\n\n    public Droplets02() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                }\n\n                JFrame frame = new JFrame(\"Test\");\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.setLayout(new BorderLayout());\n                frame.add(new DropletPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n    protected static final int MAX_RADIUS = 50;\n    protected static final int GROWTH_RATE = 1;\n\n    public interface Pool {\n\n        public void addDroplet(Droplet droplet);\n\n        public Dimension getSize();\n    }\n\n    public class DropletPane extends JPanel implements Pool {\n\n        private List&lt;Droplet&gt; droplets;\n        private Timer timer;\n\n        public DropletPane() {\n\n            setLayout(new GridBagLayout());\n            JButton button = new JButton(\"Start\");\n            button.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    new DropletWorker(DropletPane.this).execute();\n                }\n            });\n            add(button);\n\n            droplets = new ArrayList&lt;&gt;(25);\n            timer = new Timer(40, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    if (!droplets.isEmpty()) {\n                        for (Droplet droplet : droplets.toArray(new Droplet[droplets.size()])) {\n                            droplet.grow();\n                            if (droplet.getRadius() &gt;= MAX_RADIUS) {\n                                droplets.remove(droplet);\n                            }\n                        }\n                        if (droplets.isEmpty()) {\n\n                            ((Timer) e.getSource()).stop();\n\n                        }\n                        repaint();\n                    }\n                }\n            });\n            timer.setRepeats(true);\n            timer.setCoalesce(true);\n\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(200, 200);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            Composite comp = g2d.getComposite();\n            for (Droplet droplet : droplets) {\n\n                float alpha = 1f - ((float) droplet.getRadius() / (float) MAX_RADIUS);\n                g2d.setComposite(AlphaComposite.SrcOver.derive(alpha));\n                Point p = droplet.getLocation();\n                int radius = droplet.getRadius();\n                g2d.drawOval(p.x - (radius / 2), p.y - (radius / 2), radius, radius);\n                g2d.setComposite(comp);\n\n            }\n            g2d.dispose();\n        }\n\n        @Override\n        public void addDroplet(Droplet droplet) {\n            if (!timer.isRunning()) {\n                timer.start();\n            }\n            droplets.add(droplet);\n        }\n    }\n\n    public class Droplet {\n\n        private Point p;\n        private int radius;\n\n        public Droplet(Point p) {\n            this.p = p;\n        }\n\n        public Point getLocation() {\n            return p;\n        }\n\n        public int getRadius() {\n            return radius;\n        }\n\n        public void grow() {\n            radius += GROWTH_RATE;\n            if (radius &gt; MAX_RADIUS) {\n                radius = MAX_RADIUS;\n            }\n        }\n    }\n\n    public class DropletWorker extends SwingWorker&lt;Void, Droplet&gt; {\n\n        private Pool pool;\n\n        public DropletWorker(Pool pool) {\n            this.pool = pool;\n        }\n\n        public Pool getPool() {\n            return pool;\n        }\n\n        protected int random(int minRange, int maxRange) {\n            return minRange + (int) (Math.round(Math.random() * (maxRange - minRange)));\n        }\n\n        @Override\n        protected Void doInBackground() throws Exception {\n\n            int dropCount = random(1, 100);\n            Pool pool = getPool();\n            Dimension size = pool.getSize();\n            for (int index = 0; index &lt; dropCount; index++) {\n                Thread.sleep(random(10, 1000));\n                int x = random(0, size.width);\n                int y = random(0, size.height);\n                Droplet droplet = new Droplet(new Point(x, y));\n                publish(droplet);\n            }\n\n            return null;\n        }\n\n        @Override\n        protected void process(List&lt;Droplet&gt; chunks) {\n            for (Droplet droplet : chunks) {\n                getPool().addDroplet(droplet);\n            }\n        }\n    }\n}\n</code></pre>\n\n<h2>Animation Basics</h2>\n\n<p>You need three things to perform animation.</p>\n\n<ul>\n<li>A Start state</li>\n<li>A Target state</li>\n<li>A delta or time range.</li>\n</ul>\n\n<p>(You also need some way to store the current state)</p>\n\n<p>The start and target states are self explanatory, they describe where you are now and where you want to change to.</p>\n\n<p>The delta would be the amount to apply to the current state at each \"time interval\" (or tick) until you reach the delta.</p>\n\n<p><strong>Or</strong></p>\n\n<p>The time range would be the amount of time you want to use to move from the start state to the end state.</p>\n\n<p>The delta approach is the simpler mechanism, but isn't nearly as flexible as the time range approach...</p>\n\n<p>Once you have these basic elements set up, you need some kind of \"tick\" that is triggered at regular intervals which allows you to calculate the current state, which is either a linear movement from the start state to the target state (delta) or a progression of change of over time (time range)</p>\n\n<h2>A final, full working rework</h2>\n\n<p>Apart from you're attempt to block the EDT within the paint method and failing to following the <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html\" rel=\"nofollow noreferrer\">Initial Thread</a> requirements of Swing, the only other, significant, problem I found was your reliance on the <code>radius</code> and <code>iter</code> values.</p>\n\n<p>Basically, these were never getting set UNLESS you pressed the <kbd>Enter</kbd> key...which I wasn't.</p>\n\n<p>This example uses the code that you posted and the ideas from the first example...</p>\n\n<p><img src=\"https://i.stack.imgur.com/LaZ3q.png\" alt=\"enter image description here\"></p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.FlowLayout;\nimport java.awt.Graphics;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\nimport javax.swing.Timer;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\n\npublic class ControlCircles extends JFrame {\n\n    private JButton jbtEnlarge = new JButton(\"Start\");\n    private JButton jbtShrink = new JButton(\"Stop\");\n    private CirclePanel canvas = new CirclePanel();\n    private JTextField f1 = new JTextField(8);\n    private JTextField f2 = new JTextField(8);\n\n    public ControlCircles() {\n        JPanel panel = new JPanel();\n        JPanel jp = new JPanel();\n        jp.setPreferredSize(new Dimension(300, 0));\n        panel.add(jbtEnlarge);\n        panel.add(jbtShrink);\n\n        this.add(jp, BorderLayout.WEST);\n        this.add(canvas, BorderLayout.CENTER);\n        this.add(panel, BorderLayout.SOUTH);\n\n\n        jp.setLayout(new FlowLayout(FlowLayout.RIGHT, 50, 30));\n        jp.add(new JLabel(\"Radius\"));\n        jp.add(f1);\n        jp.add(new JLabel(\"Iteration\"));\n        jp.add(f2);\n\n        jbtEnlarge.addActionListener(new EnlargeListener());\n        jbtShrink.addActionListener(new ShrinkListener());\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                }\n\n                JFrame frame = new ControlCircles();\n\n                frame.setTitle(\"ControlCircle\");\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.setSize(800, 600);\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n\n        });\n    }\n\n    class EnlargeListener implements ActionListener {\n\n        public void actionPerformed(ActionEvent e) {\n            int radius = Integer.parseInt(f1.getText());\n            int iter = Integer.parseInt(f2.getText());\n            canvas.start(radius, iter);\n\n        }\n\n    }\n\n    class ShrinkListener implements ActionListener {\n\n        public void actionPerformed(ActionEvent e) {\n            //canvas.shrink();\n        }\n\n    }\n\n    class CirclePanel extends JPanel {\n\n        private int radius;\n        private int iterations;\n\n        private int iteration;\n\n        private List&lt;Integer&gt; circles;\n        private Timer timer;\n\n        public CirclePanel() {\n            circles = new ArrayList&lt;&gt;(25);\n            timer= new Timer(100, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    iteration++;\n                    if (iteration &lt; iterations) {\n                        circles.add(radius);\n                        radius += 10;\n                    } else {\n                        ((Timer)e.getSource()).stop();\n                    }\n                    repaint();\n                }\n            });\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            int width = getWidth() - 1;\n            int height = getHeight()- 1;\n            g.drawRect(0, 0, width, height);\n            for (Integer radius : circles) {\n                int x = (width - radius) / 2;\n                int y = (height - radius) / 2;\n                g.drawOval(x, y, radius, radius);\n            }\n        }\n\n        public void start(int radius, int iter) {\n            timer.stop();\n            circles.clear();\n            this.radius = radius;\n            iterations = iter;\n            iteration = 0;\n            System.out.println(\"radius = \" + radius);\n            System.out.println(\"iterations = \" + iterations);\n            timer.start();\n        }\n    }\n}\n</code></pre>\n\n<p>This code works based on the description of your problem by correcting the common mistakes with animation in Swing but some of your code didn't quite make sense to me (ie <code>enlarge</code> and <code>shrink</code>) so I focused on the description your provided.</p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1701448877,"creation_date":1370095994,"answer_id":16873592,"question_id":16857380,"body_markdown":"The idea is to *control* the drawing animation on the panel used as a canvas with the buttons `Start`, `Stop` and I added `Continue` and `Reset` additional controls to better explain the idea. These buttons control the animation thread execution thus drawing circles on the drawing surface. the drawing surface I separated as inner class that has only function to draw whatever performed. Another idea that the approach is taken to draw the circles one by one incrementally until it finishes drawing thus used incremental painting. \r\n\r\nI have used the code from the above and changed it a little to support my ideas. If you need more and usually better examples look at this article [Painting in AWT and Swing][1].\r\n\r\nThe code is below, I didn&#39;t polish it enough to have a production wise look and feel but for demonstration purpose only. \r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.image.BufferedImage;\r\n    \r\n    public class ControlCircle extends JFrame implements Runnable {\r\n      private JButton jbtStart = new JButton(&quot;Start&quot;);\r\n      private JButton jbtStop = new JButton(&quot;Stop&quot;);\r\n      private JButton jbtContinue = new JButton(&quot;Continue&quot;);\r\n      private JButton jbtReset = new JButton(&quot;Reset&quot;);\r\n      private CirclePanel canvas = new CirclePanel();\r\n    \r\n      private JTextField f1;\r\n      private int radius = 0;\r\n    \r\n      private JTextField f2;\r\n      private int iter;\r\n    \r\n      protected boolean  incrementalPainting;\r\n    \r\n      /**\r\n       * Flag indicates that a thread is suspended\r\n       */\r\n      private boolean suspended = false;\r\n    \r\n    \r\n      /**An instance of the class Thread.*/\r\n      private Thread thread = null;\r\n    \r\n      public ControlCircle() {\r\n        JPanel panel = new JPanel();\r\n        JPanel jp = new JPanel();\r\n        jp.setPreferredSize(new Dimension(300, 0));\r\n        panel.add(jbtStart);\r\n        panel.add(jbtStop);\r\n        panel.add(jbtContinue);\r\n        panel.add(jbtReset);\r\n    \r\n        this.add(jp, BorderLayout.WEST);\r\n        this.add(canvas, BorderLayout.CENTER);\r\n        this.add(panel, BorderLayout.SOUTH);\r\n    \r\n        f1 = new JTextField(8);\r\n        f2 = new JTextField(8);\r\n    \r\n        jp.setLayout(new FlowLayout(FlowLayout.RIGHT, 50, 30));\r\n        jp.add(new JLabel(&quot;Radius&quot;));\r\n        jp.add(f1);\r\n        jp.add(new JLabel(&quot;Iteration&quot;));\r\n        jp.add(f2);\r\n    \r\n    \r\n        jbtStart.addActionListener(new StartListener());\r\n        jbtStop.addActionListener(new StopListener());\r\n        jbtContinue.addActionListener(new ContinueListener());\r\n        jbtReset.addActionListener(new ResetListener());\r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n        JFrame frame = new ControlCircle();\r\n    \r\n        frame.setTitle(&quot;ControlCircle&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(800, 600);\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n      }\r\n    \r\n      class StartListener implements ActionListener {\r\n        public void actionPerformed(ActionEvent e) {\r\n          if (thread == null) {\r\n            repaint();\r\n            startThread();\r\n          }\r\n        }\r\n      }\r\n    \r\n      class StopListener implements ActionListener {\r\n        public void actionPerformed(ActionEvent e) {\r\n          if (thread != null){\r\n            mySuspend();\r\n          }\r\n        }\r\n      }\r\n    \r\n      class ContinueListener implements ActionListener {\r\n        public void actionPerformed(ActionEvent e) {\r\n          myResume();\r\n        }\r\n      }\r\n    \r\n      class ResetListener implements ActionListener {\r\n        public void actionPerformed(ActionEvent e) {\r\n          if (thread != null) {\r\n            stopThread();\r\n          }\r\n          repaint();\r\n        }\r\n    \r\n      }\r\n    \r\n      /**\r\n       * my Suspend\r\n       */\r\n      private void mySuspend() {\r\n        System.out.println(&quot;mySyspend()&quot;);\r\n        suspended = true;\r\n      }\r\n    \r\n      /**\r\n       * my Resume\r\n       */\r\n      private synchronized void myResume(){\r\n        System.out.println(&quot;myResume()&quot;);\r\n        suspended = false;\r\n        notifyAll();\r\n      }\r\n    \r\n      public void run(){\r\n        System.out.println(&quot;run() - started&quot;);\r\n    \r\n        Thread me = Thread.currentThread();\r\n        while (thread == me) {\r\n          radius = Integer.parseInt(f1.getText());\r\n          iter = Integer.parseInt(f2.getText());\r\n          for (int i = 0; i &lt; iter; i++) {\r\n            if (thread == null) return;\r\n            incrementalPainting = true;\r\n            myRepaint();\r\n            try {\r\n              Thread.sleep(1000);\r\n            }\r\n            catch(InterruptedException e){}\r\n            radius += 10;\r\n          }\r\n          if(thread != null) thread = null;\t// exiting while\r\n        }\r\n        System.out.println(&quot;run() - exiting&quot;);\r\n      }\r\n    \r\n      /**\r\n       * start Thread\r\n       */\r\n      private void startThread(){\r\n        System.out.println(&quot;startThread()&quot;);\r\n        if(thread == null){\r\n          thread = new Thread(this);\r\n          thread.start();\r\n        }\r\n      }\r\n    \r\n      /**\r\n       *  stop Thread\r\n       */\r\n      private synchronized void stopThread() {\r\n        System.out.println(&quot;stopThread()&quot;);\r\n        thread = null; // exiting from while\r\n        if (suspended) {\r\n          suspended = false;\r\n          notify();\r\n        }\r\n      }\r\n    \r\n      /**\r\n       * This is called from the run method to invoke painting.\r\n       */\r\n      private void myRepaint() {\r\n        System.out.println(&quot;myRepaint()&quot;);\r\n        incrementalPainting = true;\r\n        repaint();\r\n        synchronized (this) {\r\n          while (incrementalPainting) {\r\n            System.out.println(&quot;wait while incremental painting&quot;);\r\n            try {\r\n              wait();\r\n            } catch (InterruptedException e) {\r\n              System.out.println(&quot;interrupted&quot;);\r\n            }\r\n          }\r\n        }\r\n    \r\n        suspend();\r\n      }\r\n      /**\r\n       * This method should place somewhere when run() has started. Perfectly\r\n       * when repaint() performed.\r\n       */\r\n      private void suspend(){\r\n        System.out.println(&quot;suspend()&quot;);\r\n        synchronized (this) {\r\n          while (suspended) {\r\n            System.out.println(&quot;wait while suspended&quot;);\r\n            try {\r\n              wait();\r\n            } catch (InterruptedException e) {\r\n              System.out.println(&quot;interrupted&quot;);\r\n            }\r\n          }\r\n        }\r\n    \r\n      }\r\n    \r\n      public synchronized void myPaint(Graphics g) {\r\n        if (g == null){\r\n          if (incrementalPainting){\r\n            incrementalPainting = false;\r\n            notifyAll();\r\n          }\r\n          return;\r\n        }\r\n        if (incrementalPainting){\r\n          myDraw(g);\r\n          incrementalPainting = false;\r\n          notifyAll();\r\n    \r\n        }\r\n        else {\r\n          myDraw(g);\r\n        }\r\n      }\r\n    \r\n      public void myDraw(Graphics g){\r\n        g.drawOval(getWidth() / 2 - radius, getHeight() / 2 - radius, 2 * radius, 2 * radius);\r\n      }\r\n    \r\n      protected final class CirclePanel extends JPanel {\r\n        //Offscreen buffer of this canvas\r\n        private BufferedImage backBuffer = null;\r\n    \r\n        public void paintComponent (Graphics g) {\r\n          System.out.println(&quot;incrementalPainting=&quot;+incrementalPainting);\r\n          // First paint background\r\n          super.paintComponent(g);\r\n          Dimension d = this.getSize();\r\n          if (! incrementalPainting)\r\n            backBuffer = (BufferedImage) this.createImage(d.width, d.height);\r\n          Graphics2D g2 = backBuffer.createGraphics();\r\n          if (! incrementalPainting){\r\n            g2.setColor(Color.WHITE);\r\n            g2.fillRect(0,0, d.width, d.height);\r\n          }\r\n          myPaint(g2);\r\n          g.drawImage(backBuffer, 0, 0, this);\r\n    \r\n        }\r\n    \r\n      }\r\n    \r\n    }\r\n\r\n       \r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/painting-140037.html\r\n\r\n","title":"The code for displaying circles with varying radius on a panel inside a frame","body":"<p>The idea is to <em>control</em> the drawing animation on the panel used as a canvas with the buttons <code>Start</code>, <code>Stop</code> and I added <code>Continue</code> and <code>Reset</code> additional controls to better explain the idea. These buttons control the animation thread execution thus drawing circles on the drawing surface. the drawing surface I separated as inner class that has only function to draw whatever performed. Another idea that the approach is taken to draw the circles one by one incrementally until it finishes drawing thus used incremental painting.</p>\n<p>I have used the code from the above and changed it a little to support my ideas. If you need more and usually better examples look at this article <a href=\"http://www.oracle.com/technetwork/java/painting-140037.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a>.</p>\n<p>The code is below, I didn't polish it enough to have a production wise look and feel but for demonstration purpose only.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.image.BufferedImage;\n\npublic class ControlCircle extends JFrame implements Runnable {\n  private JButton jbtStart = new JButton(&quot;Start&quot;);\n  private JButton jbtStop = new JButton(&quot;Stop&quot;);\n  private JButton jbtContinue = new JButton(&quot;Continue&quot;);\n  private JButton jbtReset = new JButton(&quot;Reset&quot;);\n  private CirclePanel canvas = new CirclePanel();\n\n  private JTextField f1;\n  private int radius = 0;\n\n  private JTextField f2;\n  private int iter;\n\n  protected boolean  incrementalPainting;\n\n  /**\n   * Flag indicates that a thread is suspended\n   */\n  private boolean suspended = false;\n\n\n  /**An instance of the class Thread.*/\n  private Thread thread = null;\n\n  public ControlCircle() {\n    JPanel panel = new JPanel();\n    JPanel jp = new JPanel();\n    jp.setPreferredSize(new Dimension(300, 0));\n    panel.add(jbtStart);\n    panel.add(jbtStop);\n    panel.add(jbtContinue);\n    panel.add(jbtReset);\n\n    this.add(jp, BorderLayout.WEST);\n    this.add(canvas, BorderLayout.CENTER);\n    this.add(panel, BorderLayout.SOUTH);\n\n    f1 = new JTextField(8);\n    f2 = new JTextField(8);\n\n    jp.setLayout(new FlowLayout(FlowLayout.RIGHT, 50, 30));\n    jp.add(new JLabel(&quot;Radius&quot;));\n    jp.add(f1);\n    jp.add(new JLabel(&quot;Iteration&quot;));\n    jp.add(f2);\n\n\n    jbtStart.addActionListener(new StartListener());\n    jbtStop.addActionListener(new StopListener());\n    jbtContinue.addActionListener(new ContinueListener());\n    jbtReset.addActionListener(new ResetListener());\n  }\n\n  public static void main(String[] args) {\n    JFrame frame = new ControlCircle();\n\n    frame.setTitle(&quot;ControlCircle&quot;);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setSize(800, 600);\n    frame.setLocationRelativeTo(null);\n    frame.setVisible(true);\n  }\n\n  class StartListener implements ActionListener {\n    public void actionPerformed(ActionEvent e) {\n      if (thread == null) {\n        repaint();\n        startThread();\n      }\n    }\n  }\n\n  class StopListener implements ActionListener {\n    public void actionPerformed(ActionEvent e) {\n      if (thread != null){\n        mySuspend();\n      }\n    }\n  }\n\n  class ContinueListener implements ActionListener {\n    public void actionPerformed(ActionEvent e) {\n      myResume();\n    }\n  }\n\n  class ResetListener implements ActionListener {\n    public void actionPerformed(ActionEvent e) {\n      if (thread != null) {\n        stopThread();\n      }\n      repaint();\n    }\n\n  }\n\n  /**\n   * my Suspend\n   */\n  private void mySuspend() {\n    System.out.println(&quot;mySyspend()&quot;);\n    suspended = true;\n  }\n\n  /**\n   * my Resume\n   */\n  private synchronized void myResume(){\n    System.out.println(&quot;myResume()&quot;);\n    suspended = false;\n    notifyAll();\n  }\n\n  public void run(){\n    System.out.println(&quot;run() - started&quot;);\n\n    Thread me = Thread.currentThread();\n    while (thread == me) {\n      radius = Integer.parseInt(f1.getText());\n      iter = Integer.parseInt(f2.getText());\n      for (int i = 0; i &lt; iter; i++) {\n        if (thread == null) return;\n        incrementalPainting = true;\n        myRepaint();\n        try {\n          Thread.sleep(1000);\n        }\n        catch(InterruptedException e){}\n        radius += 10;\n      }\n      if(thread != null) thread = null; // exiting while\n    }\n    System.out.println(&quot;run() - exiting&quot;);\n  }\n\n  /**\n   * start Thread\n   */\n  private void startThread(){\n    System.out.println(&quot;startThread()&quot;);\n    if(thread == null){\n      thread = new Thread(this);\n      thread.start();\n    }\n  }\n\n  /**\n   *  stop Thread\n   */\n  private synchronized void stopThread() {\n    System.out.println(&quot;stopThread()&quot;);\n    thread = null; // exiting from while\n    if (suspended) {\n      suspended = false;\n      notify();\n    }\n  }\n\n  /**\n   * This is called from the run method to invoke painting.\n   */\n  private void myRepaint() {\n    System.out.println(&quot;myRepaint()&quot;);\n    incrementalPainting = true;\n    repaint();\n    synchronized (this) {\n      while (incrementalPainting) {\n        System.out.println(&quot;wait while incremental painting&quot;);\n        try {\n          wait();\n        } catch (InterruptedException e) {\n          System.out.println(&quot;interrupted&quot;);\n        }\n      }\n    }\n\n    suspend();\n  }\n  /**\n   * This method should place somewhere when run() has started. Perfectly\n   * when repaint() performed.\n   */\n  private void suspend(){\n    System.out.println(&quot;suspend()&quot;);\n    synchronized (this) {\n      while (suspended) {\n        System.out.println(&quot;wait while suspended&quot;);\n        try {\n          wait();\n        } catch (InterruptedException e) {\n          System.out.println(&quot;interrupted&quot;);\n        }\n      }\n    }\n\n  }\n\n  public synchronized void myPaint(Graphics g) {\n    if (g == null){\n      if (incrementalPainting){\n        incrementalPainting = false;\n        notifyAll();\n      }\n      return;\n    }\n    if (incrementalPainting){\n      myDraw(g);\n      incrementalPainting = false;\n      notifyAll();\n\n    }\n    else {\n      myDraw(g);\n    }\n  }\n\n  public void myDraw(Graphics g){\n    g.drawOval(getWidth() / 2 - radius, getHeight() / 2 - radius, 2 * radius, 2 * radius);\n  }\n\n  protected final class CirclePanel extends JPanel {\n    //Offscreen buffer of this canvas\n    private BufferedImage backBuffer = null;\n\n    public void paintComponent (Graphics g) {\n      System.out.println(&quot;incrementalPainting=&quot;+incrementalPainting);\n      // First paint background\n      super.paintComponent(g);\n      Dimension d = this.getSize();\n      if (! incrementalPainting)\n        backBuffer = (BufferedImage) this.createImage(d.width, d.height);\n      Graphics2D g2 = backBuffer.createGraphics();\n      if (! incrementalPainting){\n        g2.setColor(Color.WHITE);\n        g2.fillRect(0,0, d.width, d.height);\n      }\n      myPaint(g2);\n      g.drawImage(backBuffer, 0, 0, this);\n\n    }\n\n  }\n\n}\n\n   \n</code></pre>\n"}],"owner":{"account_id":2840656,"reputation":335,"user_id":2440347,"display_name":"AvmnuSng"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1447,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":16873592,"answer_count":2,"score":0,"last_activity_date":1701448877,"creation_date":1370003576,"question_id":16857380,"body_markdown":"Here is the code for displaying circles with varying radius on a panel inside a frame with a given delay rate, but the code is showing the final output not the intermediate stages i.e., the circles are not appearing one by one but all the circles are coming at once as a final output. There may be some errors related to button action listeners and panel threads. The code is taking initial circle radius and the total number of iterations (the total number of circles to be displayed), radius of each next circle gets incremented by 10.\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    \r\n    public class ControlCircle extends JFrame {\r\n      private JButton jbtEnlarge = new JButton(&quot;Start&quot;);\r\n      private JButton jbtShrink = new JButton(&quot;Stop&quot;);\r\n      private CirclePanel canvas = new CirclePanel();\r\n      \r\n      private int radius = 0;\r\n      private int iter;\r\n      \r\n      public ControlCircle() {\r\n        JPanel panel = new JPanel();\r\n        JPanel jp = new JPanel();\r\n        jp.setPreferredSize(new Dimension(300, 0));\r\n        panel.add(jbtEnlarge);\r\n        panel.add(jbtShrink);\r\n        \r\n        this.add(jp, BorderLayout.WEST);\r\n        this.add(canvas, BorderLayout.CENTER);\r\n        this.add(panel, BorderLayout.SOUTH);\r\n        \r\n        final JTextField f1 = new JTextField(8),f2 = new JTextField(8);\r\n        \r\n        jp.setLayout(new FlowLayout(FlowLayout.RIGHT, 50, 30));\r\n        jp.add(new JLabel(&quot;Radius&quot;));\r\n        jp.add(f1);\r\n        jp.add(new JLabel(&quot;Iteration&quot;));\r\n        jp.add(f2);\r\n        \r\n        f1.addActionListener(new ActionListener() {\r\n          public void actionPerformed(ActionEvent e) {\r\n            radius = Integer.parseInt(new String(f1.getText()));\r\n          }\r\n        });\r\n        \r\n        f2.addActionListener(new ActionListener() {\r\n          public void actionPerformed(ActionEvent e) {\r\n            iter = Integer.parseInt(new String(f2.getText()));\r\n          }\r\n        });\r\n        \r\n        jbtEnlarge.addActionListener(new EnlargeListener());\r\n        jbtShrink.addActionListener(new ShrinkListener());\r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n        JFrame frame = new ControlCircle();\r\n    \r\n        frame.setTitle(&quot;ControlCircle&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(800, 600);\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n      }\r\n    \r\n      class EnlargeListener implements ActionListener {\r\n        public void actionPerformed(ActionEvent e) {\r\n          canvas.enlarge();\r\n        }\r\n      }\r\n    \r\n      class ShrinkListener implements ActionListener {\r\n        public void actionPerformed(ActionEvent e) {\r\n          //canvas.shrink();\r\n        }\r\n      }\r\n      \r\n      class CirclePanel extends JPanel {\r\n        private int r = radius;\r\n    \r\n        public void enlarge() {\r\n          //radius += 2;\r\n          \r\n          repaint();\r\n        }\r\n        \r\n        public void shrink() {\r\n          radius -= 2;\r\n          \r\n          repaint();\r\n        }\r\n        \r\n        protected void paintComponent(Graphics g) {\r\n          super.paintComponent(g);\r\n          \r\n          for (int i = 0; i &lt; iter; i++) {\r\n            g.drawOval(getWidth() / 2 - r, getHeight() / 2 - r, 2 * r, 2 * r);\r\n            \r\n            try {\r\n              Thread.sleep(100);\r\n            } catch (Exception exp) {\r\n            }\r\n            \r\n            r = r + 10;\r\n          }\r\n          \r\n          r = 0;\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n","title":"The code for displaying circles with varying radius on a panel inside a frame","body":"<p>Here is the code for displaying circles with varying radius on a panel inside a frame with a given delay rate, but the code is showing the final output not the intermediate stages i.e., the circles are not appearing one by one but all the circles are coming at once as a final output. There may be some errors related to button action listeners and panel threads. The code is taking initial circle radius and the total number of iterations (the total number of circles to be displayed), radius of each next circle gets incremented by 10.</p>\n\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\npublic class ControlCircle extends JFrame {\n  private JButton jbtEnlarge = new JButton(\"Start\");\n  private JButton jbtShrink = new JButton(\"Stop\");\n  private CirclePanel canvas = new CirclePanel();\n\n  private int radius = 0;\n  private int iter;\n\n  public ControlCircle() {\n    JPanel panel = new JPanel();\n    JPanel jp = new JPanel();\n    jp.setPreferredSize(new Dimension(300, 0));\n    panel.add(jbtEnlarge);\n    panel.add(jbtShrink);\n\n    this.add(jp, BorderLayout.WEST);\n    this.add(canvas, BorderLayout.CENTER);\n    this.add(panel, BorderLayout.SOUTH);\n\n    final JTextField f1 = new JTextField(8),f2 = new JTextField(8);\n\n    jp.setLayout(new FlowLayout(FlowLayout.RIGHT, 50, 30));\n    jp.add(new JLabel(\"Radius\"));\n    jp.add(f1);\n    jp.add(new JLabel(\"Iteration\"));\n    jp.add(f2);\n\n    f1.addActionListener(new ActionListener() {\n      public void actionPerformed(ActionEvent e) {\n        radius = Integer.parseInt(new String(f1.getText()));\n      }\n    });\n\n    f2.addActionListener(new ActionListener() {\n      public void actionPerformed(ActionEvent e) {\n        iter = Integer.parseInt(new String(f2.getText()));\n      }\n    });\n\n    jbtEnlarge.addActionListener(new EnlargeListener());\n    jbtShrink.addActionListener(new ShrinkListener());\n  }\n\n  public static void main(String[] args) {\n    JFrame frame = new ControlCircle();\n\n    frame.setTitle(\"ControlCircle\");\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setSize(800, 600);\n    frame.setLocationRelativeTo(null);\n    frame.setVisible(true);\n  }\n\n  class EnlargeListener implements ActionListener {\n    public void actionPerformed(ActionEvent e) {\n      canvas.enlarge();\n    }\n  }\n\n  class ShrinkListener implements ActionListener {\n    public void actionPerformed(ActionEvent e) {\n      //canvas.shrink();\n    }\n  }\n\n  class CirclePanel extends JPanel {\n    private int r = radius;\n\n    public void enlarge() {\n      //radius += 2;\n\n      repaint();\n    }\n\n    public void shrink() {\n      radius -= 2;\n\n      repaint();\n    }\n\n    protected void paintComponent(Graphics g) {\n      super.paintComponent(g);\n\n      for (int i = 0; i &lt; iter; i++) {\n        g.drawOval(getWidth() / 2 - r, getHeight() / 2 - r, 2 * r, 2 * r);\n\n        try {\n          Thread.sleep(100);\n        } catch (Exception exp) {\n        }\n\n        r = r + 10;\n      }\n\n      r = 0;\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","eclipse","intellij-idea","code-completion"],"answers":[{"tags":[],"owner":{"account_id":4804,"reputation":268579,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1374488176,"creation_date":1296130491,"answer_id":4816155,"question_id":4816069,"body_markdown":"It&#39;s not as nice as Eclipse, but you can try the following:\r\n\r\n    new BufferedOutputStream(out)\r\n\r\n\r\n   * Select the expression above, either with your mouse (or by using &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;W&lt;/kbd&gt;).\r\n   * Then hit &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;V&lt;/kbd&gt; to **Introduce a Variable** or (&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;F&lt;/kbd&gt; to **Introduce a Field**)","title":"IDEA: &quot;Assign statement to new local variable&quot;?","body":"<p>It's not as nice as Eclipse, but you can try the following:</p>\n\n<pre><code>new BufferedOutputStream(out)\n</code></pre>\n\n<ul>\n<li>Select the expression above, either with your mouse (or by using <kbd>Ctrl</kbd>+<kbd>W</kbd>).</li>\n<li>Then hit <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>V</kbd> to <strong>Introduce a Variable</strong> or (<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>F</kbd> to <strong>Introduce a Field</strong>)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":58,"is_accepted":true,"score":58,"last_activity_date":1527794077,"creation_date":1296130892,"answer_id":4816218,"question_id":4816069,"body_markdown":"**Refactor | Introduce Variable** (&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;V&lt;/kbd&gt; on Windows). Note that you don&#39;t need to select the text if it&#39;s the only text in the current line. Then you can change the variable name in-line just like you&#39;ve described and press &lt;kbd&gt;Enter&lt;/kbd&gt; to complete editing.\r\n\r\nAnother way is to use the [Postfix Completion](https://blog.jetbrains.com/idea/2014/03/postfix-completion/):\r\n\r\nType `.var` (or just `.v` to select it from the list) and confirm it with &lt;kbd&gt;Enter&lt;/kbd&gt;.","title":"IDEA: &quot;Assign statement to new local variable&quot;?","body":"<p><strong>Refactor | Introduce Variable</strong> (<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>V</kbd> on Windows). Note that you don't need to select the text if it's the only text in the current line. Then you can change the variable name in-line just like you've described and press <kbd>Enter</kbd> to complete editing.</p>\n\n<p>Another way is to use the <a href=\"https://blog.jetbrains.com/idea/2014/03/postfix-completion/\" rel=\"noreferrer\">Postfix Completion</a>:</p>\n\n<p>Type <code>.var</code> (or just <code>.v</code> to select it from the list) and confirm it with <kbd>Enter</kbd>.</p>\n"},{"tags":[],"owner":{"account_id":2720151,"reputation":960,"user_id":2346618,"accept_rate":83,"display_name":"G&#246;k&#231;er G&#246;kdal"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1445246844,"creation_date":1390979532,"answer_id":21424442,"question_id":4816069,"body_markdown":"As CrazyCoder mentions you can use &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;V&lt;/kbd&gt;. Also instead of selecting the expression, clicking into somewhere in your expression and using &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;W&lt;/kbd&gt; to expand scope is very useful while using introduce refactorings. Extract refactorings are:\r\n\r\n - Extract variable: &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;V&lt;/kbd&gt;\r\n - Extract field: &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;F&lt;/kbd&gt;\r\n - Extract method: &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;M&lt;/kbd&gt;\r\n - Extract parameter: &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;P&lt;/kbd&gt;\r\n - Extract constant: &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;C&lt;/kbd&gt;\r\n\r\nAlso, Idea is a polygot editor so you can use these extract refactorings for other file types like js or html also (not all refactorings work in all file types but &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;W&lt;/kbd&gt; works mostly).\r\n\r\nThere are more extract refactorings which do not have shortcuts which you can access from Refactor|Extract menu (both menu bar and context menu). To quick access all refactorings you can use &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;T&lt;/kbd&gt; for a popup menu.\r\n\r\nAs a last word, I highly encourage you using &quot;Tip of the Day&quot; (Help|Tip of the Day). It is a fast way to learn many helpful features of Idea.","title":"IDEA: &quot;Assign statement to new local variable&quot;?","body":"<p>As CrazyCoder mentions you can use <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>V</kbd>. Also instead of selecting the expression, clicking into somewhere in your expression and using <kbd>Ctrl</kbd>+<kbd>W</kbd> to expand scope is very useful while using introduce refactorings. Extract refactorings are:</p>\n\n<ul>\n<li>Extract variable: <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>V</kbd></li>\n<li>Extract field: <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>F</kbd></li>\n<li>Extract method: <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>M</kbd></li>\n<li>Extract parameter: <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>P</kbd></li>\n<li>Extract constant: <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>C</kbd></li>\n</ul>\n\n<p>Also, Idea is a polygot editor so you can use these extract refactorings for other file types like js or html also (not all refactorings work in all file types but <kbd>Ctrl</kbd>+<kbd>W</kbd> works mostly).</p>\n\n<p>There are more extract refactorings which do not have shortcuts which you can access from Refactor|Extract menu (both menu bar and context menu). To quick access all refactorings you can use <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Shift</kbd>+<kbd>T</kbd> for a popup menu.</p>\n\n<p>As a last word, I highly encourage you using \"Tip of the Day\" (Help|Tip of the Day). It is a fast way to learn many helpful features of Idea.</p>\n"},{"tags":[],"owner":{"account_id":2526910,"reputation":129,"user_id":2196099,"display_name":"Zeljko Kozina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633806971,"creation_date":1633806971,"answer_id":69509852,"question_id":4816069,"body_markdown":"Easiest is, hit &lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Enter&lt;/kbd&gt;, you will be offered with a list of options, and just select &quot;Introduce local Variable&quot;.","title":"IDEA: &quot;Assign statement to new local variable&quot;?","body":"<p>Easiest is, hit <kbd>Alt</kbd>+<kbd>Enter</kbd>, you will be offered with a list of options, and just select &quot;Introduce local Variable&quot;.</p>\n"},{"tags":[],"owner":{"account_id":11170080,"reputation":1139,"user_id":8663316,"display_name":"Faizan Haidar Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701448430,"creation_date":1701448430,"answer_id":77586746,"question_id":4816069,"body_markdown":"Press `Ctrl+2` at the end of the line and it will display this dialog at the bottom right of the screen\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nSelect second option `Assign to local variable` and it will display this dialog with suggested variable names\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YKats.png\r\n  [2]: https://i.stack.imgur.com/nfoEt.png","title":"IDEA: &quot;Assign statement to new local variable&quot;?","body":"<p>Press <code>Ctrl+2</code> at the end of the line and it will display this dialog at the bottom right of the screen</p>\n<p><a href=\"https://i.stack.imgur.com/YKats.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YKats.png\" alt=\"enter image description here\" /></a></p>\n<p>Select second option <code>Assign to local variable</code> and it will display this dialog with suggested variable names</p>\n<p><a href=\"https://i.stack.imgur.com/nfoEt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nfoEt.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":110220,"reputation":37362,"user_id":291741,"accept_rate":87,"display_name":"Chris Lercher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20128,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":4816218,"answer_count":5,"score":35,"last_activity_date":1701448430,"creation_date":1296129858,"question_id":4816069,"body_markdown":"As a long time Eclipse user, I&#39;m playing around a little bit with IntelliJ IDEA 10. I can&#39;t seem to find out how to perform an &quot;Assign statement to new local variable&quot; code completion.\r\n\r\n**Feature explanation:**\r\n\r\nI type something like\r\n\r\n    new BufferedOutputStream(out)\r\n\r\nand then hit &lt;kbd&gt;Cmd (or Ctrl)&lt;/kbd&gt;+&lt;kbd&gt;1&lt;/kbd&gt; and enter, and Eclipse changes the line into:\r\n\r\n    BufferedOutputStream bufferedOutputStream = new BufferedOutputStream(out);\r\n\r\nAt the same time, I can type over &quot;bufferedOutputStream&quot; immediately to rename it (or select from the options &quot;bufferedOutputStream&quot;, &quot;outputStream&quot; and &quot;stream&quot; from a dropdown).\r\n\r\nI use this feature for absolutely every assignment, and it&#39;s an enormous time saver - this must be available in IDEA, too - but where is it hidden?","title":"IDEA: &quot;Assign statement to new local variable&quot;?","body":"<p>As a long time Eclipse user, I'm playing around a little bit with IntelliJ IDEA 10. I can't seem to find out how to perform an \"Assign statement to new local variable\" code completion.</p>\n\n<p><strong>Feature explanation:</strong></p>\n\n<p>I type something like</p>\n\n<pre><code>new BufferedOutputStream(out)\n</code></pre>\n\n<p>and then hit <kbd>Cmd (or Ctrl)</kbd>+<kbd>1</kbd> and enter, and Eclipse changes the line into:</p>\n\n<pre><code>BufferedOutputStream bufferedOutputStream = new BufferedOutputStream(out);\n</code></pre>\n\n<p>At the same time, I can type over \"bufferedOutputStream\" immediately to rename it (or select from the options \"bufferedOutputStream\", \"outputStream\" and \"stream\" from a dropdown).</p>\n\n<p>I use this feature for absolutely every assignment, and it's an enormous time saver - this must be available in IDEA, too - but where is it hidden?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":7783967,"reputation":360,"user_id":5889494,"display_name":"Arpit"},"score":1,"creation_date":1701448513,"post_id":77586731,"comment_id":136780870,"body_markdown":"A fully qualified classname is required for an import, like `import package.anotherPackage.Connection;`","body":"A fully qualified classname is required for an import, like <code>import package.anotherPackage.Connection;</code>"},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1701449698,"post_id":77586731,"comment_id":136781093,"body_markdown":"As the tooltip suggest, use Alt+Shift+Enter to get import suggestions...","body":"As the tooltip suggest, use Alt+Shift+Enter to get import suggestions..."},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1701449934,"post_id":77586731,"comment_id":136781142,"body_markdown":"Ah, your `Connection` class is in the unnamed (a.k.a. default) package. You cannot use classes from the default package in named packages like `client`. Restructure the layout of your project so you don&#39;t have classes in the unnamed package, and all your classes are in a named package (or all classes are in the unnamed package, but really the unnamed package shouldn&#39;t be used for anything other than experiments or toy projects).","body":"Ah, your <code>Connection</code> class is in the unnamed (a.k.a. default) package. You cannot use classes from the default package in named packages like <code>client</code>. Restructure the layout of your project so you don&#39;t have classes in the unnamed package, and all your classes are in a named package (or all classes are in the unnamed package, but really the unnamed package shouldn&#39;t be used for anything other than experiments or toy projects)."}],"owner":{"account_id":24697636,"reputation":61,"user_id":18589379,"display_name":"surleversant"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701451830,"answer_count":0,"score":0,"last_activity_date":1701448252,"creation_date":1701448252,"question_id":77586731,"body_markdown":"I do simple Java project (educational). Can&#39;t understand why class Client in package &quot;client&quot; doesn&#39;t see other classes from root &quot;src&quot;.\r\nHow can I import class Connection to class Client?\r\nSorry if it&#39;s too stupid question, I&#39;ve tried: \r\n\r\n    import Connection;\r\n    import *Connection;\r\n    import .Connection;\r\n    import /Connection;\r\n\r\n[![the problem][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/u8b9O.png","title":"IntelliJ doesn&#39;t find classes in the nearest package","body":"<p>I do simple Java project (educational). Can't understand why class Client in package &quot;client&quot; doesn't see other classes from root &quot;src&quot;.\nHow can I import class Connection to class Client?\nSorry if it's too stupid question, I've tried:</p>\n<pre><code>import Connection;\nimport *Connection;\nimport .Connection;\nimport /Connection;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/u8b9O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u8b9O.png\" alt=\"the problem\" /></a></p>\n"},{"tags":["java","string","input"],"comments":[{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1701447329,"post_id":77586642,"comment_id":136780639,"body_markdown":"Please show the full error message. It tells you exactly what symbol it cannot find.","body":"Please show the full error message. It tells you exactly what symbol it cannot find."},{"owner":{"account_id":26119744,"reputation":1,"user_id":19812226,"display_name":"Yash Raj Gupta"},"score":0,"creation_date":1701447558,"post_id":77586642,"comment_id":136780684,"body_markdown":"it is the image i posted","body":"it is the image i posted"},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1701447617,"post_id":77586642,"comment_id":136780693,"body_markdown":"Please refresh the page and re-read my comment about images. How can anyone copy, paste, compile and test code if it is in an image?","body":"Please refresh the page and re-read my comment about images. How can anyone copy, paste, compile and test code if it is in an image?"},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1701447697,"post_id":77586642,"comment_id":136780700,"body_markdown":"I have rolled back the question so that the code shows. Please (again), show the full error message.","body":"I have rolled back the question so that the code shows. Please (again), show the full error message."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1701448184,"post_id":77586642,"comment_id":136780804,"body_markdown":"Your main method is malformed. You need to accept a String _array_: `public static void main(String[] args)` or `public static void main(String... args)`. The fact it&#39;s looking for `class lang` tells me your IDE is probably executing a different project/file (or attempting to). On a personal level, I find BlueJ to be one of the worst Java IDEs.","body":"Your main method is malformed. You need to accept a String <i>array</i>: <code>public static void main(String[] args)</code> or <code>public static void main(String... args)</code>. The fact it&#39;s looking for <code>class lang</code> tells me your IDE is probably executing a different project/file (or attempting to). On a personal level, I find BlueJ to be one of the worst Java IDEs."},{"owner":{"account_id":26119744,"reputation":1,"user_id":19812226,"display_name":"Yash Raj Gupta"},"score":0,"creation_date":1701448385,"post_id":77586642,"comment_id":136780849,"body_markdown":"I have to use it for presentation + it worked on older versions","body":"I have to use it for presentation + it worked on older versions"},{"owner":{"account_id":26119744,"reputation":1,"user_id":19812226,"display_name":"Yash Raj Gupta"},"score":0,"creation_date":1701448424,"post_id":77586642,"comment_id":136780858,"body_markdown":"Can you kindly provide me a solution or right way to input","body":"Can you kindly provide me a solution or right way to input"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1701448560,"post_id":77586642,"comment_id":136780879,"body_markdown":"What you thought worked has either changed to not work, or never worked to begin with (but appeared to). `public static void main(String x)` is _not_ a valid main method, and will not be executed. I already provided you the signature for an appropriate main method. Regarding your error, it looks like an IDE configuration error, not a code one. You should include as much of the error as possible, and include how you are executing this code.","body":"What you thought worked has either changed to not work, or never worked to begin with (but appeared to). <code>public static void main(String x)</code> is <i>not</i> a valid main method, and will not be executed. I already provided you the signature for an appropriate main method. Regarding your error, it looks like an IDE configuration error, not a code one. You should include as much of the error as possible, and include how you are executing this code."},{"owner":{"account_id":26119744,"reputation":1,"user_id":19812226,"display_name":"Yash Raj Gupta"},"score":0,"creation_date":1701448654,"post_id":77586642,"comment_id":136780894,"body_markdown":"somehow it works on my school computer","body":"somehow it works on my school computer"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1701451322,"post_id":77586642,"comment_id":136781373,"body_markdown":"You should include as much of the error as possible, and include how you are executing this code","body":"You should include as much of the error as possible, and include how you are executing this code"}],"owner":{"account_id":26119744,"reputation":1,"user_id":19812226,"display_name":"Yash Raj Gupta"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701447290,"answer_count":0,"score":-1,"last_activity_date":1701447995,"creation_date":1701447228,"question_id":77586642,"body_markdown":"I was writing a program to print the word of a string input which contain at least 1 pair of consecutive letters\r\n\r\nthis is my code:\r\n```\r\nclass consecutive\r\n{\r\n    public static void main(String x)\r\n    {\r\n        String y=x+&quot; &quot;;\r\n        int l=x.length();\r\n        int d=0;\r\n        for(int i=0;i&lt;l;i++)\r\n        {\r\n            char ch=x.charAt(i);\r\n            if(Character.isWhitespace(ch)==true)\r\n            {\r\n                String w=y.substring(d,i);\r\n                int lw=w.length();\r\n                boolean flag=false;\r\n                for(int j=0;j&lt;lw-1;j++)\r\n                {\r\n                    char a=w.charAt(j);\r\n                    char b=w.charAt(j+1);\r\n                    int m=(int)Character.toUpperCase(a);\r\n                    int n=(int)Character.toUpperCase(b);\r\n                    if(m-n==-1)\r\n                    {\r\n                        flag=true;\r\n                        break;\r\n                    }\r\n                }\r\n                if(flag==true)\r\n                System.out.print(w+&quot; &quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nWhen I ran the program through `void main()` I inputted the string as usual, but it gave an error - `cannot find symbol`.\r\nTt works on older versions of blue j but has something, I searched internet but no avail can some solve my problem.\r\n\r\nthe error message read \r\n\r\nError:cannot find symbol-  class lang\r\n\r\nInput was\r\n&quot;Ghost was standing above the wall&quot;","title":"Input of string in method call","body":"<p>I was writing a program to print the word of a string input which contain at least 1 pair of consecutive letters</p>\n<p>this is my code:</p>\n<pre><code>class consecutive\n{\n    public static void main(String x)\n    {\n        String y=x+&quot; &quot;;\n        int l=x.length();\n        int d=0;\n        for(int i=0;i&lt;l;i++)\n        {\n            char ch=x.charAt(i);\n            if(Character.isWhitespace(ch)==true)\n            {\n                String w=y.substring(d,i);\n                int lw=w.length();\n                boolean flag=false;\n                for(int j=0;j&lt;lw-1;j++)\n                {\n                    char a=w.charAt(j);\n                    char b=w.charAt(j+1);\n                    int m=(int)Character.toUpperCase(a);\n                    int n=(int)Character.toUpperCase(b);\n                    if(m-n==-1)\n                    {\n                        flag=true;\n                        break;\n                    }\n                }\n                if(flag==true)\n                System.out.print(w+&quot; &quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>When I ran the program through <code>void main()</code> I inputted the string as usual, but it gave an error - <code>cannot find symbol</code>.\nTt works on older versions of blue j but has something, I searched internet but no avail can some solve my problem.</p>\n<p>the error message read</p>\n<p>Error:cannot find symbol-  class lang</p>\n<p>Input was\n&quot;Ghost was standing above the wall&quot;</p>\n"},{"tags":["java","android","webview"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1701447932,"post_id":77586540,"comment_id":136780754,"body_markdown":"If all you want is the html as a string, don&#39;t use a WebView. WebViews are browsers, they&#39;re going to render the html. Just download it instead.  If you need something else you need to make your question clearer about it.","body":"If all you want is the html as a string, don&#39;t use a WebView. WebViews are browsers, they&#39;re going to render the html. Just download it instead.  If you need something else you need to make your question clearer about it."},{"owner":{"account_id":14643421,"reputation":13,"user_id":22760557,"display_name":"juvor"},"score":0,"creation_date":1701448053,"post_id":77586540,"comment_id":136780776,"body_markdown":"What you&#39;re saying is correct. The thing is I need to login first in order to get the content I want.","body":"What you&#39;re saying is correct. The thing is I need to login first in order to get the content I want."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1701450475,"post_id":77586540,"comment_id":136781236,"body_markdown":"I&#39;d look at finding another way to get that data, such as an API.  If you&#39;re trying to scrape a website, especially one with a login, your code is going to be fragile, break frequently when they have even minor UI updates, and likely be against their terms of service leaving you open to lawsuit.","body":"I&#39;d look at finding another way to get that data, such as an API.  If you&#39;re trying to scrape a website, especially one with a login, your code is going to be fragile, break frequently when they have even minor UI updates, and likely be against their terms of service leaving you open to lawsuit."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1701460878,"post_id":77586540,"comment_id":136782799,"body_markdown":"@Gabe Sechan. It does not matter if one uses a webview or another component downloading the same page. The source text will be the same. All OP wants is to grab the source before the webview starts rendering. So the problem is only how to grab the source. Good luck!","body":"@Gabe Sechan. It does not matter if one uses a webview or another component downloading the same page. The source text will be the same. All OP wants is to grab the source before the webview starts rendering. So the problem is only how to grab the source. Good luck!"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1701461048,"post_id":77586540,"comment_id":136782824,"body_markdown":"@blackapps By the same token it doesn&#39;t matter if I pick up a piece of paper with my hands, or spend 10 years building a Rube Goldberg device to do so.  But one is the right tool for the job, the other is overly complicated and more prone to random failure.  Unless you need to display HTML, you shouldn&#39;t use a webview to download a file.","body":"@blackapps By the same token it doesn&#39;t matter if I pick up a piece of paper with my hands, or spend 10 years building a Rube Goldberg device to do so.  But one is the right tool for the job, the other is overly complicated and more prone to random failure.  Unless you need to display HTML, you shouldn&#39;t use a webview to download a file."},{"owner":{"account_id":14643421,"reputation":13,"user_id":22760557,"display_name":"juvor"},"score":0,"creation_date":1701539387,"post_id":77586540,"comment_id":136789434,"body_markdown":"@GabeSechan but of course if it would be possible to avoid rendering process then it would be irrelevant if I use a an android webview or a third-party API to get the source.","body":"@GabeSechan but of course if it would be possible to avoid rendering process then it would be irrelevant if I use a an android webview or a third-party API to get the source."},{"owner":{"account_id":50585,"reputation":39930,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1701541665,"post_id":77586540,"comment_id":136789646,"body_markdown":"If you really want to stick with a awe view I would disable loading all images and other unnecessary files. WebViewClient as methods like shouldOverrideUrlLoading with allows you to block requests.","body":"If you really want to stick with a awe view I would disable loading all images and other unnecessary files. WebViewClient as methods like shouldOverrideUrlLoading with allows you to block requests."}],"owner":{"account_id":14643421,"reputation":13,"user_id":22760557,"display_name":"juvor"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701447866,"creation_date":1701446261,"question_id":77586540,"body_markdown":"In my Activity I am setting up the WebView in order to extract source from the page. What I did is basically extend a webviewclient so that I could run a script and get the page content.\r\n\r\nSnippet from by Activity:\r\n\r\n    this.webView.setWebViewClient(new MyExtractingWebViewClient(getApplicationContext(), new ValueCallback() {\r\n                    public final void onReceiveValue(Object obj) {\r\n                        doStuff();\r\n                    }\r\n                }));\r\n    \r\n    this.webView.getSettings().setJavaScriptEnabled(true);\r\n                this.webView.getSettings().setDomStorageEnabled(true);\r\n                this.webView.setVisibility(View.VISIBLE);\r\n                this.webView.loadUrl(str);\r\n            \r\n            \r\nWhat I do in MyExtractingWebViewClient is basically run a script to get the html.\r\nSince my goal is to only get the html as a String and then perform some actions on it, I was wondering if was possible to get the whole thing much faster.\r\nFor instance, I have no use to show the webview to the user so I guess could simply call             `this.webView.setVisibility(View.GONE);` but I am sure this would not make a big difference.\r\nSurely disabling javascript would make things much faster but sadly I need it enabled.\r\n","title":"Making WebView as fast as possible just to get html source","body":"<p>In my Activity I am setting up the WebView in order to extract source from the page. What I did is basically extend a webviewclient so that I could run a script and get the page content.</p>\n<p>Snippet from by Activity:</p>\n<pre><code>this.webView.setWebViewClient(new MyExtractingWebViewClient(getApplicationContext(), new ValueCallback() {\n                public final void onReceiveValue(Object obj) {\n                    doStuff();\n                }\n            }));\n\nthis.webView.getSettings().setJavaScriptEnabled(true);\n            this.webView.getSettings().setDomStorageEnabled(true);\n            this.webView.setVisibility(View.VISIBLE);\n            this.webView.loadUrl(str);\n        \n        \n</code></pre>\n<p>What I do in MyExtractingWebViewClient is basically run a script to get the html.\nSince my goal is to only get the html as a String and then perform some actions on it, I was wondering if was possible to get the whole thing much faster.\nFor instance, I have no use to show the webview to the user so I guess could simply call             <code>this.webView.setVisibility(View.GONE);</code> but I am sure this would not make a big difference.\nSurely disabling javascript would make things much faster but sadly I need it enabled.</p>\n"},{"tags":["java","spring","gradle"],"comments":[{"owner":{"account_id":45934,"reputation":203639,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1701418851,"post_id":77583245,"comment_id":136775624,"body_markdown":"You also have to define an `EventSourcingServiceFactory` as a Spring bean if you want to be able to autowire it into your `EventSourcingConfig`.","body":"You also have to define an <code>EventSourcingServiceFactory</code> as a Spring bean if you want to be able to autowire it into your <code>EventSourcingConfig</code>."}],"answers":[{"tags":[],"owner":{"account_id":20310335,"reputation":76,"user_id":14897575,"display_name":"ettriouizakaria"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701447659,"creation_date":1701445729,"answer_id":77586488,"question_id":77583245,"body_markdown":"You need to create a method annotated with @Bean that return an instace of type `EventSourcingServiceFactory`\r\n\r\nOr create another class that extends the `EventSourcingServiceFactory` class and you need to anotate it by `@Bean` so that spring will find it in the context when autowiring\r\n\r\nExample : \r\n\r\n    @Bean\r\n    public Class EventSourcingServiceFactory2 extends EventSourcingServiceFactory {\r\n    }","title":"Could not autowire. No beans of ... type found. External jar decompiled .class file","body":"<p>You need to create a method annotated with @Bean that return an instace of type <code>EventSourcingServiceFactory</code></p>\n<p>Or create another class that extends the <code>EventSourcingServiceFactory</code> class and you need to anotate it by <code>@Bean</code> so that spring will find it in the context when autowiring</p>\n<p>Example :</p>\n<pre><code>@Bean\npublic Class EventSourcingServiceFactory2 extends EventSourcingServiceFactory {\n}\n</code></pre>\n"}],"owner":{"account_id":27330958,"reputation":11,"user_id":20843478,"display_name":"S1mY"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701447659,"creation_date":1701410090,"question_id":77583245,"body_markdown":"I have an issue with starting my SpringBootApplication. I&#39;m new to Spring and already looked at existing questions on StackOverflow, but they didn&#39;t help me.\r\n\r\nI have an `EventSourcingConfig` where `EventSourcingServiceFactory` declared as `@Autowired`.\r\n```\r\npackage com.cinephilia.review.config\r\n\r\nimport com.cinephilia.review.aggregates.CommentAggregate\r\nimport com.cinephilia.review.aggregates.CommentAggregateState\r\nimport com.cinephilia.review.aggregates.RatingAggregate\r\nimport com.cinephilia.review.aggregates.RatingAggregateState\r\nimport org.springframework.beans.factory.annotation.Autowired\r\nimport org.springframework.context.annotation.Bean\r\nimport org.springframework.context.annotation.Configuration\r\nimport ru.quipy.core.EventSourcingServiceFactory\r\nimport java.util.*\r\n\r\n@Configuration\r\nclass EventSourcingConfig {\r\n\r\n    @Autowired\r\n    private lateinit var eventSourcingServiceFactory: EventSourcingServiceFactory\r\n\r\n    @Bean\r\n    open fun commentService() = eventSourcingServiceFactory.create&lt;UUID, CommentAggregate, CommentAggregateState&gt;()\r\n\r\n    @Bean\r\n    open fun ratingService() = eventSourcingServiceFactory.create&lt;UUID, RatingAggregate, RatingAggregateState&gt;()\r\n}\r\n```\r\n\r\nThis is external dependency for my application and it&#39;s declared in my `build.gradle.kts`\r\n```\r\ndependencies {\r\n    ...\r\n    implementation(&quot;ru.quipy:tiny-event-sourcing-spring-boot-starter:2.3.0&quot;)\r\n    ...\r\n}\r\n```\r\n\r\nI can _Ctrl-click_ to `EventSourcingServiceFactory` and go to implementation `EventSourcingServiceFactory`.\r\n```\r\n// IntelliJ API Decompiler stub source generated from a class file\r\n// Implementation of methods is not available\r\n\r\npackage ru.quipy.core\r\n\r\npublic final class EventSourcingServiceFactory public constructor(aggregateRegistry: ru.quipy.core.AggregateRegistry, eventMapper: ru.quipy.mapper.EventMapper, eventStore: ru.quipy.database.EventStore, eventSourcingProperties: ru.quipy.core.EventSourcingProperties) {\r\n    public final val aggregateRegistry: ru.quipy.core.AggregateRegistry /* compiled code */\r\n\r\n    public final val eventMapper: ru.quipy.mapper.EventMapper /* compiled code */\r\n\r\n    public final val eventSourcingProperties: ru.quipy.core.EventSourcingProperties /* compiled code */\r\n\r\n    public final val eventStore: ru.quipy.database.EventStore /* compiled code */\r\n\r\n    public final inline fun &lt;ID : kotlin.Any, reified A : ru.quipy.domain.Aggregate, S : ru.quipy.domain.AggregateState&lt;ID, A&gt;&gt; create(): ru.quipy.core.EventSourcingService&lt;ID, A, S&gt; { /* compiled code */ }\r\n}\r\n```\r\n\r\nSo when I attempt to start my app with `gradle bootRun` it&#39;s failing to start with error\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField eventSourcingServiceFactory in com.cinephilia.review.config.EventSourcingConfig required a bean of type &#39;ru.quipy.core.EventSourcingServiceFactory&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n        - @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;ru.quipy.core.EventSourcingServiceFactory&#39; in your configuration.\r\n```\r\n\r\nThus how can I solve this problem? Setting the `@ComponentScan` and `@EnableAutoconfiguration` didn&#39;t help me. I consider that problem is that `EventSourcingServiceFactory` isn&#39;t anotated. But how can I do this, when it is external dependency for my application and all I have it&#39;s jar file.\r\n\r\nI tried to set up `@ComponentScan` and `@EnableAutoConfiguration` for my SpringBootApplication","title":"Could not autowire. No beans of ... type found. External jar decompiled .class file","body":"<p>I have an issue with starting my SpringBootApplication. I'm new to Spring and already looked at existing questions on StackOverflow, but they didn't help me.</p>\n<p>I have an <code>EventSourcingConfig</code> where <code>EventSourcingServiceFactory</code> declared as <code>@Autowired</code>.</p>\n<pre><code>package com.cinephilia.review.config\n\nimport com.cinephilia.review.aggregates.CommentAggregate\nimport com.cinephilia.review.aggregates.CommentAggregateState\nimport com.cinephilia.review.aggregates.RatingAggregate\nimport com.cinephilia.review.aggregates.RatingAggregateState\nimport org.springframework.beans.factory.annotation.Autowired\nimport org.springframework.context.annotation.Bean\nimport org.springframework.context.annotation.Configuration\nimport ru.quipy.core.EventSourcingServiceFactory\nimport java.util.*\n\n@Configuration\nclass EventSourcingConfig {\n\n    @Autowired\n    private lateinit var eventSourcingServiceFactory: EventSourcingServiceFactory\n\n    @Bean\n    open fun commentService() = eventSourcingServiceFactory.create&lt;UUID, CommentAggregate, CommentAggregateState&gt;()\n\n    @Bean\n    open fun ratingService() = eventSourcingServiceFactory.create&lt;UUID, RatingAggregate, RatingAggregateState&gt;()\n}\n</code></pre>\n<p>This is external dependency for my application and it's declared in my <code>build.gradle.kts</code></p>\n<pre><code>dependencies {\n    ...\n    implementation(&quot;ru.quipy:tiny-event-sourcing-spring-boot-starter:2.3.0&quot;)\n    ...\n}\n</code></pre>\n<p>I can <em>Ctrl-click</em> to <code>EventSourcingServiceFactory</code> and go to implementation <code>EventSourcingServiceFactory</code>.</p>\n<pre><code>// IntelliJ API Decompiler stub source generated from a class file\n// Implementation of methods is not available\n\npackage ru.quipy.core\n\npublic final class EventSourcingServiceFactory public constructor(aggregateRegistry: ru.quipy.core.AggregateRegistry, eventMapper: ru.quipy.mapper.EventMapper, eventStore: ru.quipy.database.EventStore, eventSourcingProperties: ru.quipy.core.EventSourcingProperties) {\n    public final val aggregateRegistry: ru.quipy.core.AggregateRegistry /* compiled code */\n\n    public final val eventMapper: ru.quipy.mapper.EventMapper /* compiled code */\n\n    public final val eventSourcingProperties: ru.quipy.core.EventSourcingProperties /* compiled code */\n\n    public final val eventStore: ru.quipy.database.EventStore /* compiled code */\n\n    public final inline fun &lt;ID : kotlin.Any, reified A : ru.quipy.domain.Aggregate, S : ru.quipy.domain.AggregateState&lt;ID, A&gt;&gt; create(): ru.quipy.core.EventSourcingService&lt;ID, A, S&gt; { /* compiled code */ }\n}\n</code></pre>\n<p>So when I attempt to start my app with <code>gradle bootRun</code> it's failing to start with error</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField eventSourcingServiceFactory in com.cinephilia.review.config.EventSourcingConfig required a bean of type 'ru.quipy.core.EventSourcingServiceFactory' that could not be found.\n\nThe injection point has the following annotations:\n        - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'ru.quipy.core.EventSourcingServiceFactory' in your configuration.\n</code></pre>\n<p>Thus how can I solve this problem? Setting the <code>@ComponentScan</code> and <code>@EnableAutoconfiguration</code> didn't help me. I consider that problem is that <code>EventSourcingServiceFactory</code> isn't anotated. But how can I do this, when it is external dependency for my application and all I have it's jar file.</p>\n<p>I tried to set up <code>@ComponentScan</code> and <code>@EnableAutoConfiguration</code> for my SpringBootApplication</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":195331,"reputation":275368,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":3,"creation_date":1424968485,"post_id":28747743,"comment_id":45777690,"body_markdown":"Why would you need to autowire it _there_?","body":"Why would you need to autowire it <i>there</i>?"},{"owner":{"account_id":65003,"reputation":2125,"user_id":191577,"accept_rate":100,"display_name":"Avanst"},"score":0,"creation_date":1424969993,"post_id":28747743,"comment_id":45778692,"body_markdown":"I was simply trying to convert an xml configuration file into a Java one.  I thought since I can reference the bean by id in xml, why shouldn&#39;t I utilize the autowire annotation on it within a Java configuration file?","body":"I was simply trying to convert an xml configuration file into a Java one.  I thought since I can reference the bean by id in xml, why shouldn&#39;t I utilize the autowire annotation on it within a Java configuration file?"}],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275368,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1701447590,"creation_date":1424970124,"answer_id":28748366,"question_id":28747743,"body_markdown":"If you need a reference to the `DataSource` bean within the same `@Configuration` file, just invoke the bean method.\r\n\r\n    @Bean\r\n    public OtherBean someOtherBean() {\r\n        return new OtherBean(dataSource());\r\n    }\r\n\r\nor have it autowired into the `@Bean` method\r\n\r\n    @Bean\r\n    public OtherBean someOtherBean(DataSource dataSource) {\r\n        return new OtherBean(dataSource);\r\n    }\r\n\r\nThe lifecycle of a `@Configuration` class sometimes prevents autowiring like you are suggesting.\r\n\r\nYou can read about Java-based container configuration, [here](https://docs.spring.io/spring-framework/reference/core/beans/java.html). [This section](https://docs.spring.io/spring-framework/reference/core/beans/java/configuration-annotation.html#beans-java-further-information-java-config) goes into detail about how `@Configuration` classes are proxied and cache the beans that the define, so that you can call `@Bean` annotated methods but only every get back one object (assuming the bean is singleton scoped).","title":"Autowire a bean within Spring&#39;s Java configuration","body":"<p>If you need a reference to the <code>DataSource</code> bean within the same <code>@Configuration</code> file, just invoke the bean method.</p>\n<pre><code>@Bean\npublic OtherBean someOtherBean() {\n    return new OtherBean(dataSource());\n}\n</code></pre>\n<p>or have it autowired into the <code>@Bean</code> method</p>\n<pre><code>@Bean\npublic OtherBean someOtherBean(DataSource dataSource) {\n    return new OtherBean(dataSource);\n}\n</code></pre>\n<p>The lifecycle of a <code>@Configuration</code> class sometimes prevents autowiring like you are suggesting.</p>\n<p>You can read about Java-based container configuration, <a href=\"https://docs.spring.io/spring-framework/reference/core/beans/java.html\" rel=\"nofollow noreferrer\">here</a>. <a href=\"https://docs.spring.io/spring-framework/reference/core/beans/java/configuration-annotation.html#beans-java-further-information-java-config\" rel=\"nofollow noreferrer\">This section</a> goes into detail about how <code>@Configuration</code> classes are proxied and cache the beans that the define, so that you can call <code>@Bean</code> annotated methods but only every get back one object (assuming the bean is singleton scoped).</p>\n"},{"tags":[],"owner":{"account_id":3232590,"reputation":35,"user_id":2727477,"display_name":"javahuang"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1523932773,"creation_date":1523924464,"answer_id":49868027,"question_id":28747743,"body_markdown":"maybe you can use constructor to inject some bean from other configuration file to your configuration，while @Autowired may not work correct in the configuration file\r\n\r\n    @Configuration\r\n    public class AppConfig {\r\n      private DataSource dataSource;\r\n\r\n      public AppConfig(DataSource dataSource) {\r\n        this.dataSource = dataSource;\r\n      }\r\n\r\n      @Bean\r\n      public OtherBean otherBean(){\r\n        return new OtherBean(dataSource);\r\n      }\r\n    }\r\n\r\n","title":"Autowire a bean within Spring&#39;s Java configuration","body":"<p>maybe you can use constructor to inject some bean from other configuration file to your configuration，while @Autowired may not work correct in the configuration file</p>\n\n<pre><code>@Configuration\npublic class AppConfig {\n  private DataSource dataSource;\n\n  public AppConfig(DataSource dataSource) {\n    this.dataSource = dataSource;\n  }\n\n  @Bean\n  public OtherBean otherBean(){\n    return new OtherBean(dataSource);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10440606,"reputation":9,"user_id":7697385,"display_name":"Shruthi H R"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1534068983,"creation_date":1534068983,"answer_id":51807870,"question_id":28747743,"body_markdown":"beans configured with @Configuration class can&#39;t be autowired , \r\n\r\nSo you cannot use @Autowiring and @configuration together","title":"Autowire a bean within Spring&#39;s Java configuration","body":"<p>beans configured with @Configuration class can't be autowired , </p>\n\n<p>So you cannot use @Autowiring and @configuration together</p>\n"},{"tags":[],"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1566953399,"creation_date":1566953399,"answer_id":57683767,"question_id":28747743,"body_markdown":"For completeness sake: Yes it is technically possible to use @Autowired annotation in spring @Configuration classes, and it works the same way as for other spring beans. But the accepted answer shows how the original problem should be solved.","title":"Autowire a bean within Spring&#39;s Java configuration","body":"<p>For completeness sake: Yes it is technically possible to use @Autowired annotation in spring @Configuration classes, and it works the same way as for other spring beans. But the accepted answer shows how the original problem should be solved.</p>\n"}],"owner":{"account_id":65003,"reputation":2125,"user_id":191577,"accept_rate":100,"display_name":"Avanst"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35661,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":28748366,"answer_count":4,"score":31,"last_activity_date":1701447590,"creation_date":1424968403,"question_id":28747743,"body_markdown":"Is it possible to use Spring&#39;s `@Autowired` annotation within a Spring configuration written in Java?\r\n\r\nFor example:\r\n\r\n    @Configuration\r\n    public class SpringConfiguration{\r\n    \r\n       @Autowired \r\n       DataSource datasource;\r\n    \r\n       @Bean\r\n       public DataSource dataSource(){\r\n           return new dataSource();\r\n       }\r\n\r\n       // ...\r\n\r\n    }\r\n\r\n\r\nObviously a DataSource interface cannot be directly instantiated but I directly instantiated it here for simplification.  Currently, when I try the above, the datasource object remains null and is not autowired by Spring.\r\n\r\nI got `@Autowired` to work successfully with a Hibernate `SessionFactory` object by returning a `FactoryBean&lt;SessionFactory&gt;`.\r\n\r\nSo my question specifically: is there a way to do that with respect to a `DataSource`?  Or more generally, what is the method to autowire a bean within a Spring Java Configuration?\r\n\r\nI should note I am using Spring version 3.2.","title":"Autowire a bean within Spring&#39;s Java configuration","body":"<p>Is it possible to use Spring's <code>@Autowired</code> annotation within a Spring configuration written in Java?</p>\n\n<p>For example:</p>\n\n<pre><code>@Configuration\npublic class SpringConfiguration{\n\n   @Autowired \n   DataSource datasource;\n\n   @Bean\n   public DataSource dataSource(){\n       return new dataSource();\n   }\n\n   // ...\n\n}\n</code></pre>\n\n<p>Obviously a DataSource interface cannot be directly instantiated but I directly instantiated it here for simplification.  Currently, when I try the above, the datasource object remains null and is not autowired by Spring.</p>\n\n<p>I got <code>@Autowired</code> to work successfully with a Hibernate <code>SessionFactory</code> object by returning a <code>FactoryBean&lt;SessionFactory&gt;</code>.</p>\n\n<p>So my question specifically: is there a way to do that with respect to a <code>DataSource</code>?  Or more generally, what is the method to autowire a bean within a Spring Java Configuration?</p>\n\n<p>I should note I am using Spring version 3.2.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":101080,"reputation":69711,"user_id":272109,"display_name":"David Makogon"},"score":0,"creation_date":1701438262,"post_id":77578964,"comment_id":136778807,"body_markdown":"Please edit to provide a [mcve]. As written, you&#39;ve shown no code, no data, no behavior, no errors... it&#39;s impossible to answer as written.","body":"Please edit to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. As written, you&#39;ve shown no code, no data, no behavior, no errors... it&#39;s impossible to answer as written."},{"owner":{"account_id":30031946,"reputation":1,"user_id":23014842,"display_name":"Mouheb"},"score":0,"creation_date":1701440533,"post_id":77578964,"comment_id":136779261,"body_markdown":"I added a picture of my function","body":"I added a picture of my function"},{"owner":{"account_id":101080,"reputation":69711,"user_id":272109,"display_name":"David Makogon"},"score":0,"creation_date":1701440720,"post_id":77578964,"comment_id":136779300,"body_markdown":"Pictures don&#39;t help - you need to provide actual text, properly formatted. See [Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551) Also posting all your code, without any other context, doesn&#39;t help - you still need to explain exactly what&#39;s happening, along with sample input, observed vs expected behavior, etc.","body":"Pictures don&#39;t help - you need to provide actual text, properly formatted. See <a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a> Also posting all your code, without any other context, doesn&#39;t help - you still need to explain exactly what&#39;s happening, along with sample input, observed vs expected behavior, etc."},{"owner":{"account_id":30031946,"reputation":1,"user_id":23014842,"display_name":"Mouheb"},"score":0,"creation_date":1701441348,"post_id":77578964,"comment_id":136779423,"body_markdown":"Is it more clear now?","body":"Is it more clear now?"},{"owner":{"account_id":101080,"reputation":69711,"user_id":272109,"display_name":"David Makogon"},"score":0,"creation_date":1701445307,"post_id":77578964,"comment_id":136780213,"body_markdown":"I don&#39;t think you&#39;re understanding: you have to *show your work* - you almost got there by posting an image of code, but images don&#39;t help. You then deleted your image without adding your code properly. You need to edit your question and provide properly-formatted code (the code editor is built-in, when you edit your question). Then provide all other details, to help others help you. Not sure I can give any other advice at this point.","body":"I don&#39;t think you&#39;re understanding: you have to <i>show your work</i> - you almost got there by posting an image of code, but images don&#39;t help. You then deleted your image without adding your code properly. You need to edit your question and provide properly-formatted code (the code editor is built-in, when you edit your question). Then provide all other details, to help others help you. Not sure I can give any other advice at this point."}],"owner":{"account_id":30031946,"reputation":1,"user_id":23014842,"display_name":"Mouheb"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701447241,"creation_date":1701352000,"question_id":77578964,"body_markdown":"\r\n\r\nMy project consist of inviting other users to a project , let&#39;s say it&#39;s a project management web app \r\n\r\n-The Invitation is sent via email , when the user is authenticated and logged in the project gets added.Now my problem here and im asking what is the common methods to deal of a user not logged in clicking the invitation link what should i do.\r\n-Redirect the user to login and send invitation again? \r\n-Force the login without user interaction \r\nor is there some other methods . i dont have a problem in code it s just im asking of how to deal with this situation.\r\n\r\nHere is my Code :\r\n\r\n\r\n      public ResponseEntity&lt;String&gt; acceptInvitation(/*Long projectId, String email,*/ String uuid, Principal principal) {\r\n            try {\r\n                // Check if auth\r\n                if (principal == null) {\r\n                    // If not authenticated, redirect to login\r\n                    return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(&quot;Redirect to login page&quot;);\r\n                }\r\n                String authenticatedEmail = principal.getName();\r\n                User authenticatedUser = userRepository.findByEmail(authenticatedEmail)\r\n                        .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Authenticated user not found&quot;));\r\n                \r\n                Invite invitation = invitationRepository.findInviteByInvitationCode(uuid)\r\n                        .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Invitation not found&quot;));\r\n    \r\n                // Check if pending\r\n                if (invitation.getStatus() != Status.pending) {\r\n                    return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(&quot;Invalid invitation status&quot;);\r\n                }\r\n                LocalDateTime now = LocalDateTime.now();\r\n                if (invitation.getCreatedAt().plusHours(24).isBefore(now)) {\r\n                    // check if expired\r\n                    return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(&quot;Invitation has expired&quot;);\r\n                }\r\n                \r\n                User receiver =  userRepository.findByEmail(invitation.getReceiver().getEmail())\r\n                        .orElseThrow(() new EntityNotFoundException(&quot;Receiver user not found&quot;));invitation.setStatus(Status.accepted);\r\n                invitationRepository.save(invitation);\r\n                receiver.addProject(invitation.getProject_inv());\r\n                userRepository.save(receiver);\r\n                return ResponseEntity.ok(&quot;Invitation accepted successfully&quot;);\r\n            }\r\n            catch (Exception e) {\r\n                //logger.error(&quot;Error accepting invitation&quot;, e);\r\n                return \r\n       ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Error \r\n    accepting invitation&quot;);\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n\r\nSo Here Im Sending the invitation Code if the user is authenticated then i check if the user exist ,if not throw exception then i get invitation from the invitation code check it satuts if its different from pending and not expired etc if and checkif the receiver exist if it does get the user receiver and add the project to it . Now im asking about the not authenticated part what should i do if the user not logged and clicks on the link.\r\n\r\n\r\n\r\n\r\n","title":"Springboot accept invitation","body":"<p>My project consist of inviting other users to a project , let's say it's a project management web app</p>\n<p>-The Invitation is sent via email , when the user is authenticated and logged in the project gets added.Now my problem here and im asking what is the common methods to deal of a user not logged in clicking the invitation link what should i do.\n-Redirect the user to login and send invitation again?\n-Force the login without user interaction\nor is there some other methods . i dont have a problem in code it s just im asking of how to deal with this situation.</p>\n<p>Here is my Code :</p>\n<pre><code>  public ResponseEntity&lt;String&gt; acceptInvitation(/*Long projectId, String email,*/ String uuid, Principal principal) {\n        try {\n            // Check if auth\n            if (principal == null) {\n                // If not authenticated, redirect to login\n                return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(&quot;Redirect to login page&quot;);\n            }\n            String authenticatedEmail = principal.getName();\n            User authenticatedUser = userRepository.findByEmail(authenticatedEmail)\n                    .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Authenticated user not found&quot;));\n            \n            Invite invitation = invitationRepository.findInviteByInvitationCode(uuid)\n                    .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Invitation not found&quot;));\n\n            // Check if pending\n            if (invitation.getStatus() != Status.pending) {\n                return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(&quot;Invalid invitation status&quot;);\n            }\n            LocalDateTime now = LocalDateTime.now();\n            if (invitation.getCreatedAt().plusHours(24).isBefore(now)) {\n                // check if expired\n                return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(&quot;Invitation has expired&quot;);\n            }\n            \n            User receiver =  userRepository.findByEmail(invitation.getReceiver().getEmail())\n                    .orElseThrow(() new EntityNotFoundException(&quot;Receiver user not found&quot;));invitation.setStatus(Status.accepted);\n            invitationRepository.save(invitation);\n            receiver.addProject(invitation.getProject_inv());\n            userRepository.save(receiver);\n            return ResponseEntity.ok(&quot;Invitation accepted successfully&quot;);\n        }\n        catch (Exception e) {\n            //logger.error(&quot;Error accepting invitation&quot;, e);\n            return \n   ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Error \naccepting invitation&quot;);\n        }\n    }\n</code></pre>\n<p>So Here Im Sending the invitation Code if the user is authenticated then i check if the user exist ,if not throw exception then i get invitation from the invitation code check it satuts if its different from pending and not expired etc if and checkif the receiver exist if it does get the user receiver and add the project to it . Now im asking about the not authenticated part what should i do if the user not logged and clicks on the link.</p>\n"},{"tags":["java","jasper-reports","microsoft-edge","export-to-pdf"],"comments":[{"owner":{"account_id":469619,"reputation":22454,"user_id":876298,"display_name":"Alex K"},"score":0,"creation_date":1496228146,"post_id":44281290,"comment_id":75572206,"body_markdown":"Did you check this pdf with help of reader (on your local pc)?","body":"Did you check this pdf with help of reader (on your local pc)?"},{"owner":{"account_id":6336452,"reputation":1,"user_id":4919713,"display_name":"Wajahat Ahmed Zia"},"score":0,"creation_date":1496644241,"post_id":44281290,"comment_id":75727401,"body_markdown":"@AlexK Thanks are help brother. I have rendered the report on browser. First thing i noticed that the browser do not show any utility tray that it shows on chrome while viewing the pdf(for saving and printing or navigation purpose). I right clicked and saved the report on system. The report saved on the computer still do not show any data.","body":"@AlexK Thanks are help brother. I have rendered the report on browser. First thing i noticed that the browser do not show any utility tray that it shows on chrome while viewing the pdf(for saving and printing or navigation purpose). I right clicked and saved the report on system. The report saved on the computer still do not show any data."},{"owner":{"account_id":469619,"reputation":22454,"user_id":876298,"display_name":"Alex K"},"score":0,"creation_date":1496645673,"post_id":44281290,"comment_id":75727999,"body_markdown":"`The report saved on the computer still do not show any data` - It means that the problem is not at browser but something wrong with your report","body":"<code>The report saved on the computer still do not show any data</code> - It means that the problem is not at browser but something wrong with your report"},{"owner":{"account_id":6336452,"reputation":1,"user_id":4919713,"display_name":"Wajahat Ahmed Zia"},"score":0,"creation_date":1496647145,"post_id":44281290,"comment_id":75728696,"body_markdown":"@AlexK that report do shows data on chrome browser. but in case of edge, it do not. That&#39;s why i think this might be due to browser compatibility.","body":"@AlexK that report do shows data on chrome browser. but in case of edge, it do not. That&#39;s why i think this might be due to browser compatibility."}],"answers":[{"tags":[],"owner":{"account_id":6336452,"reputation":1,"user_id":4919713,"display_name":"Wajahat Ahmed Zia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497959489,"creation_date":1497959489,"answer_id":44652294,"question_id":44281290,"body_markdown":"Ok. The reason behind the problem was two request were send to the controller of report. Due to that the data wasn&#39;t populated on the report. I added a code in my controller to avoid the dual request. \r\n\r\n       String userAgent = request.getHeader(&quot;user-agent&quot;);\r\n\t\t\t\tSystem.out.println(userAgent);\r\n\t\t\t\tif(userAgent.contains(&quot;Edge&quot;)){\r\n\t\t\t\t\tString dlnaHeader = request.getHeader(&quot;getcontentfeatures.dlna.org&quot;);\r\n\t\t\t\t\tSystem.out.println(dlnaHeader);\r\n\t\t\t\t\tif(dlnaHeader == null ){\r\n\t\t\t\t\t\tSystem.out.println(&quot;Looks like a fake extra Edge request on PDF viewer. Ignore it.&quot;);\r\n\t\t\t\t\t\t//return null;\r\n\t\t\t\t\t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\t\t\t\t\t\tbyte[] result = baos.toByteArray();\r\n\t\t\t\t\t\tresponse.setContentType(&quot;application/pdf&quot;);\r\n\t\t\t\t\t\tresponse.setHeader(&quot;Content-disposition&quot;,&quot;inline; &quot;);\r\n\t\t\t\t\t\tresponse.setContentLength(result.length);\t\t\t\t\r\n\t\t\t\t\t\tServletOutputStream sos = response.getOutputStream();\r\n\t\t\t\t\t\tsos.write(result);\r\n\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\nAfter adding this code my report was showing data in detail band in edge browser. Hopefully it will help anyone else too.","title":"Jasper Report Detail Band Data is not showing in Edge Browser","body":"<p>Ok. The reason behind the problem was two request were send to the controller of report. Due to that the data wasn't populated on the report. I added a code in my controller to avoid the dual request. </p>\n\n<pre><code>   String userAgent = request.getHeader(\"user-agent\");\n            System.out.println(userAgent);\n            if(userAgent.contains(\"Edge\")){\n                String dlnaHeader = request.getHeader(\"getcontentfeatures.dlna.org\");\n                System.out.println(dlnaHeader);\n                if(dlnaHeader == null ){\n                    System.out.println(\"Looks like a fake extra Edge request on PDF viewer. Ignore it.\");\n                    //return null;\n                    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n                    byte[] result = baos.toByteArray();\n                    response.setContentType(\"application/pdf\");\n                    response.setHeader(\"Content-disposition\",\"inline; \");\n                    response.setContentLength(result.length);               \n                    ServletOutputStream sos = response.getOutputStream();\n                    sos.write(result);\n                    return null;\n                }\n            }\n</code></pre>\n\n<p>After adding this code my report was showing data in detail band in edge browser. Hopefully it will help anyone else too.</p>\n"},{"tags":[],"owner":{"account_id":3557056,"reputation":1946,"user_id":2970553,"display_name":"Vahap Gencdal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701447199,"creation_date":1701447199,"answer_id":77586641,"question_id":44281290,"body_markdown":"this helped me:  \r\nThe issue is caused by the internal SWT browser behaviour still relying (by default) on IE11. Properly setting up the WebView2 component to force use the Edge engine should solve the issue.\r\n\r\nSteps to resolve this issue:\r\n\r\n1. From the official website download the Microsoft Edge WebView2 Runtime. Best solution is to choose the &quot;Fixed version&quot; x64.\r\n\r\n2. Unpack the downloaded package to a convenience directory using a tool like 7-zip \r\n\r\n3. Edit the Jaspersoft Studio Professional.ini file appending the following two Java properties (replace with the proper WebView files location):\r\n-Dorg.eclipse.swt.browser.DefaultType=edge\r\n-Dorg.eclipse.swt.browser.EdgeDir=C:\\dev\\webview\r\n\r\n\r\n[resource][1]\r\n\r\n\r\n  [1]: https://community.jaspersoft.com/knowledgebase/other-records/after-initial-loading-message-html-preview-stays-white-jss-811/","title":"Jasper Report Detail Band Data is not showing in Edge Browser","body":"<p>this helped me:<br />\nThe issue is caused by the internal SWT browser behaviour still relying (by default) on IE11. Properly setting up the WebView2 component to force use the Edge engine should solve the issue.</p>\n<p>Steps to resolve this issue:</p>\n<ol>\n<li><p>From the official website download the Microsoft Edge WebView2 Runtime. Best solution is to choose the &quot;Fixed version&quot; x64.</p>\n</li>\n<li><p>Unpack the downloaded package to a convenience directory using a tool like 7-zip</p>\n</li>\n<li><p>Edit the Jaspersoft Studio Professional.ini file appending the following two Java properties (replace with the proper WebView files location):\n-Dorg.eclipse.swt.browser.DefaultType=edge\n-Dorg.eclipse.swt.browser.EdgeDir=C:\\dev\\webview</p>\n</li>\n</ol>\n<p><a href=\"https://community.jaspersoft.com/knowledgebase/other-records/after-initial-loading-message-html-preview-stays-white-jss-811/\" rel=\"nofollow noreferrer\">resource</a></p>\n"}],"owner":{"account_id":6336452,"reputation":1,"user_id":4919713,"display_name":"Wajahat Ahmed Zia"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":988,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1701447199,"creation_date":1496223896,"question_id":44281290,"body_markdown":"I am facing issues regarding jasper reports is that my report&#39;s detail band data is not showing in edge browser. On other browsers the report is showing perfectly. \r\nI have updated the jars and software from 6.1 to 6.3 since 6.1 do not support edge browser but the issue still persist. I also have put frame behind the fields in detail band (for testing purposes) but nothing happened. \r\n   One thing i would like to add is that i selected Blank page in case of when no data type and report was showing blank report. What should possibly deduce from it.\r\nOne thing i would like to add is that this issue is happening in pdf report","title":"Jasper Report Detail Band Data is not showing in Edge Browser","body":"<p>I am facing issues regarding jasper reports is that my report's detail band data is not showing in edge browser. On other browsers the report is showing perfectly. \nI have updated the jars and software from 6.1 to 6.3 since 6.1 do not support edge browser but the issue still persist. I also have put frame behind the fields in detail band (for testing purposes) but nothing happened. \n   One thing i would like to add is that i selected Blank page in case of when no data type and report was showing blank report. What should possibly deduce from it.\nOne thing i would like to add is that this issue is happening in pdf report</p>\n"},{"tags":["java","maven","pom.xml","quarkus"],"answers":[{"tags":[],"owner":{"account_id":5559246,"reputation":3573,"user_id":4409319,"accept_rate":70,"display_name":"JSelser"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701447008,"creation_date":1701440775,"answer_id":77585951,"question_id":77585818,"body_markdown":"There is not enough information on the message or dependencies to tell as is\r\n\r\nMy guess is that indeed, its one of your dependencies that is trying to read configuration at `ConfigPhase.BOOTSTRAP` that was [present in v2](https://javadoc.io/doc/io.quarkus/quarkus-core/2.16.10.Final/io/quarkus/runtime/annotations/ConfigPhase.html) and is [no longer there in v3](https://javadoc.io/doc/io.quarkus/quarkus-core/latest/io/quarkus/runtime/annotations/ConfigPhase.html) for whatever reason\r\n\r\nYou can try updating the offending dependency by removing `&lt;version&gt;` from everything, since not pinning it may bring a newer updated compatible version, make sure to clean maven cache and pin versions afterwards\r\n\r\nOtherwise you may have to:\r\n- reasearch each one manually (only quarkus specific ones though)\r\n- remove each one by one until you find the offending one\r\n- add dependencies on your new v3 project until one breaks at `dev mode`\r\n\r\nWorst case scenario one of your dependencies is plain not compatible and you must either delay migration or submit a PR or find an alternative. If I had to guess, the offending dependency is one of:\r\n\r\n1. quarkus-hibernate-types\r\n2. quarkus-google-cloud-storage\r\n3. quarkus-bucket4j\r\n\r\nBest of luck!\r\n\r\n","title":"Quarkus: EnumConstantNotPresentException at runtime","body":"<p>There is not enough information on the message or dependencies to tell as is</p>\n<p>My guess is that indeed, its one of your dependencies that is trying to read configuration at <code>ConfigPhase.BOOTSTRAP</code> that was <a href=\"https://javadoc.io/doc/io.quarkus/quarkus-core/2.16.10.Final/io/quarkus/runtime/annotations/ConfigPhase.html\" rel=\"nofollow noreferrer\">present in v2</a> and is <a href=\"https://javadoc.io/doc/io.quarkus/quarkus-core/latest/io/quarkus/runtime/annotations/ConfigPhase.html\" rel=\"nofollow noreferrer\">no longer there in v3</a> for whatever reason</p>\n<p>You can try updating the offending dependency by removing <code>&lt;version&gt;</code> from everything, since not pinning it may bring a newer updated compatible version, make sure to clean maven cache and pin versions afterwards</p>\n<p>Otherwise you may have to:</p>\n<ul>\n<li>reasearch each one manually (only quarkus specific ones though)</li>\n<li>remove each one by one until you find the offending one</li>\n<li>add dependencies on your new v3 project until one breaks at <code>dev mode</code></li>\n</ul>\n<p>Worst case scenario one of your dependencies is plain not compatible and you must either delay migration or submit a PR or find an alternative. If I had to guess, the offending dependency is one of:</p>\n<ol>\n<li>quarkus-hibernate-types</li>\n<li>quarkus-google-cloud-storage</li>\n<li>quarkus-bucket4j</li>\n</ol>\n<p>Best of luck!</p>\n"}],"owner":{"account_id":17516006,"reputation":55,"user_id":12703010,"display_name":"Miyonu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77585951,"answer_count":1,"score":1,"last_activity_date":1701447008,"creation_date":1701439452,"question_id":77585818,"body_markdown":"I&#39;m asking for your help today because I&#39;m having problems with my Quarkus upgrade from version 2.11 to 3.6. During this change, I got the following logs: \r\n\r\n```\r\n2023-12-01 14:58:53,946 INFO  [io.qua.dep.dev.IsolatedDevModeMain] (main) Attempting to start live reload endpoint to recover from previous Quarkus startup failure\r\n2023-12-01 14:58:54,378 ERROR [io.qua.dep.dev.IsolatedDevModeMain] (main) Failed to start quarkus: java.lang.EnumConstantNotPresentException: io.quarkus.runtime.annotations.ConfigPhase.BOOTSTRAP\r\n\tat java.base/sun.reflect.annotation.EnumConstantNotPresentExceptionProxy.generateException(EnumConstantNotPresentExceptionProxy.java:47)\r\n\tat java.base/sun.reflect.annotation.AnnotationInvocationHandler.invoke(AnnotationInvocationHandler.java:89)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy2.phase(Unknown Source)\r\n\tat io.quarkus.deployment.configuration.BuildTimeConfigurationReader.&lt;init&gt;(BuildTimeConfigurationReader.java:201)\r\n\tat io.quarkus.deployment.configuration.BuildTimeConfigurationReader.&lt;init&gt;(BuildTimeConfigurationReader.java:137)\r\n\tat io.quarkus.deployment.ExtensionLoader.loadStepsFrom(ExtensionLoader.java:136)\r\n\tat io.quarkus.deployment.QuarkusAugmentor.run(QuarkusAugmentor.java:107)\r\n\tat io.quarkus.runner.bootstrap.AugmentActionImpl.runAugment(AugmentActionImpl.java:330)\r\n\tat io.quarkus.runner.bootstrap.AugmentActionImpl.createInitialRuntimeApplication(AugmentActionImpl.java:251)\r\n\tat io.quarkus.runner.bootstrap.AugmentActionImpl.createInitialRuntimeApplication(AugmentActionImpl.java:60)\r\n\tat io.quarkus.deployment.dev.IsolatedDevModeMain.firstStart(IsolatedDevModeMain.java:112)\r\n\tat io.quarkus.deployment.dev.IsolatedDevModeMain.accept(IsolatedDevModeMain.java:433)\r\n\tat io.quarkus.deployment.dev.IsolatedDevModeMain.accept(IsolatedDevModeMain.java:55)\r\n\tat io.quarkus.bootstrap.app.CuratedApplication.runInCl(CuratedApplication.java:138)\r\n\tat io.quarkus.bootstrap.app.CuratedApplication.runInAugmentClassLoader(CuratedApplication.java:93)\r\n\tat io.quarkus.deployment.dev.DevModeMain.start(DevModeMain.java:131)\r\n\tat io.quarkus.deployment.dev.DevModeMain.main(DevModeMain.java:62)\r\n```\r\n\r\nHere are also the dependencies contained in my pom.xml:\r\n```xml\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.28&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.5.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.5.Final&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-resteasy-reactive-jackson&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-config-yaml&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-elytron-security-common&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-smallrye-openapi&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-hibernate-validator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-smallrye-jwt&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-smallrye-jwt-build&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-hibernate-orm-panache&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-jdbc-postgresql&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-flyway&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-rest-client-reactive&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-rest-client-reactive-jackson&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkiverse.hibernatetypes&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-hibernate-types&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkiverse.googlecloudservices&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-google-cloud-storage&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud.sql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgres-socket-factory&lt;/artifactId&gt;\r\n            &lt;version&gt;1.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.coobird&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thumbnailator&lt;/artifactId&gt;\r\n            &lt;version&gt;0.4.20&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-mailer&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-websockets&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-scheduler&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkiverse.bucket4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-bucket4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\nIn order to verify that this was a dependency problem, I created a new, blank Quarkus 3.6 project and ran it, without a hitch. When I added my project&#39;s dependencies to the new test project, I got the same error this time. So I&#39;m wondering which library is causing the problem and how to fix it? \r\n\r\nThank you for your time and invaluable help!\r\n\r\n(I thought of a quarkus library that is no longer maintained in version 3)","title":"Quarkus: EnumConstantNotPresentException at runtime","body":"<p>I'm asking for your help today because I'm having problems with my Quarkus upgrade from version 2.11 to 3.6. During this change, I got the following logs:</p>\n<pre><code>2023-12-01 14:58:53,946 INFO  [io.qua.dep.dev.IsolatedDevModeMain] (main) Attempting to start live reload endpoint to recover from previous Quarkus startup failure\n2023-12-01 14:58:54,378 ERROR [io.qua.dep.dev.IsolatedDevModeMain] (main) Failed to start quarkus: java.lang.EnumConstantNotPresentException: io.quarkus.runtime.annotations.ConfigPhase.BOOTSTRAP\n    at java.base/sun.reflect.annotation.EnumConstantNotPresentExceptionProxy.generateException(EnumConstantNotPresentExceptionProxy.java:47)\n    at java.base/sun.reflect.annotation.AnnotationInvocationHandler.invoke(AnnotationInvocationHandler.java:89)\n    at jdk.proxy2/jdk.proxy2.$Proxy2.phase(Unknown Source)\n    at io.quarkus.deployment.configuration.BuildTimeConfigurationReader.&lt;init&gt;(BuildTimeConfigurationReader.java:201)\n    at io.quarkus.deployment.configuration.BuildTimeConfigurationReader.&lt;init&gt;(BuildTimeConfigurationReader.java:137)\n    at io.quarkus.deployment.ExtensionLoader.loadStepsFrom(ExtensionLoader.java:136)\n    at io.quarkus.deployment.QuarkusAugmentor.run(QuarkusAugmentor.java:107)\n    at io.quarkus.runner.bootstrap.AugmentActionImpl.runAugment(AugmentActionImpl.java:330)\n    at io.quarkus.runner.bootstrap.AugmentActionImpl.createInitialRuntimeApplication(AugmentActionImpl.java:251)\n    at io.quarkus.runner.bootstrap.AugmentActionImpl.createInitialRuntimeApplication(AugmentActionImpl.java:60)\n    at io.quarkus.deployment.dev.IsolatedDevModeMain.firstStart(IsolatedDevModeMain.java:112)\n    at io.quarkus.deployment.dev.IsolatedDevModeMain.accept(IsolatedDevModeMain.java:433)\n    at io.quarkus.deployment.dev.IsolatedDevModeMain.accept(IsolatedDevModeMain.java:55)\n    at io.quarkus.bootstrap.app.CuratedApplication.runInCl(CuratedApplication.java:138)\n    at io.quarkus.bootstrap.app.CuratedApplication.runInAugmentClassLoader(CuratedApplication.java:93)\n    at io.quarkus.deployment.dev.DevModeMain.start(DevModeMain.java:131)\n    at io.quarkus.deployment.dev.DevModeMain.main(DevModeMain.java:62)\n</code></pre>\n<p>Here are also the dependencies contained in my pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.28&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;1.5.5.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n            &lt;version&gt;1.5.5.Final&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-resteasy-reactive-jackson&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-config-yaml&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-elytron-security-common&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-smallrye-openapi&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-hibernate-validator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-smallrye-jwt&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-smallrye-jwt-build&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-hibernate-orm-panache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-jdbc-postgresql&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-flyway&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-rest-client-reactive&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-rest-client-reactive-jackson&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkiverse.hibernatetypes&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-hibernate-types&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkiverse.googlecloudservices&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-google-cloud-storage&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud.sql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgres-socket-factory&lt;/artifactId&gt;\n            &lt;version&gt;1.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n            &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\n            &lt;version&gt;2.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.coobird&lt;/groupId&gt;\n            &lt;artifactId&gt;thumbnailator&lt;/artifactId&gt;\n            &lt;version&gt;0.4.20&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-mailer&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-websockets&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-scheduler&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkiverse.bucket4j&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-bucket4j&lt;/artifactId&gt;\n            &lt;version&gt;1.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>In order to verify that this was a dependency problem, I created a new, blank Quarkus 3.6 project and ran it, without a hitch. When I added my project's dependencies to the new test project, I got the same error this time. So I'm wondering which library is causing the problem and how to fix it?</p>\n<p>Thank you for your time and invaluable help!</p>\n<p>(I thought of a quarkus library that is no longer maintained in version 3)</p>\n"},{"tags":["java","spring","hibernate","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":2535057,"reputation":25845,"user_id":2202415,"display_name":"Maciej Kowalski"},"score":1,"creation_date":1555399810,"post_id":55702642,"comment_id":98086621,"body_markdown":"where is transactional configured? on the resource or the service?","body":"where is transactional configured? on the resource or the service?"},{"owner":{"account_id":2021263,"reputation":2451,"user_id":1807373,"accept_rate":75,"display_name":"Houssam Badri"},"score":1,"creation_date":1555399956,"post_id":55702642,"comment_id":98086703,"body_markdown":"On the service. I updated the question","body":"On the service. I updated the question"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1555401845,"post_id":55702642,"comment_id":98087706,"body_markdown":"Does your criteria have any conditions on corporateBranch? If so, how do you build the spec passed to repository?","body":"Does your criteria have any conditions on corporateBranch? If so, how do you build the spec passed to repository?"},{"owner":{"account_id":2021263,"reputation":2451,"user_id":1807373,"accept_rate":75,"display_name":"Houssam Badri"},"score":0,"creation_date":1555402643,"post_id":55702642,"comment_id":98088110,"body_markdown":"Yes, it does but conditionally and even I removed the specification and loaded only a page but I still see the problem","body":"Yes, it does but conditionally and even I removed the specification and loaded only a page but I still see the problem"},{"owner":{"account_id":1235468,"reputation":31121,"user_id":1199132,"accept_rate":83,"display_name":"Aritz"},"score":1,"creation_date":1555406877,"post_id":55702642,"comment_id":98090627,"body_markdown":"Just to discard the issue is debugger-related, enable the Spring Boot SQL query logging: https://stackoverflow.com/questions/30118683/how-to-log-sql-statements-in-spring-boot","body":"Just to discard the issue is debugger-related, enable the Spring Boot SQL query logging: <a href=\"https://stackoverflow.com/questions/30118683/how-to-log-sql-statements-in-spring-boot\" title=\"how to log sql statements in spring boot\">stackoverflow.com/questions/30118683/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":8186304,"reputation":707,"user_id":6162023,"display_name":"Sofo Gial"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1555400154,"creation_date":1555400154,"answer_id":55702910,"question_id":55702642,"body_markdown":"When using a debugger, you are trying to access the value of your variables. So, at the moment you click that little arrow on your screen, the value of the variable in question is (lazily) loaded.","title":"JPA Lazy loading is not working in Spring boot","body":"<p>When using a debugger, you are trying to access the value of your variables. So, at the moment you click that little arrow on your screen, the value of the variable in question is (lazily) loaded.</p>\n"},{"tags":[],"owner":{"account_id":2535057,"reputation":25845,"user_id":2202415,"display_name":"Maciej Kowalski"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1555401019,"creation_date":1555400264,"answer_id":55702936,"question_id":55702642,"body_markdown":"Most likely you are debugging while still being inside the service, thus while the transaction is still active and lazy loading can be triggered (any method called on a lazy element triggered the fetch from the database).\r\n\r\nThe problem is that lazy loading cannot occur while being outside of the transaction. And Jackson is parsing your entity definitely outside the boundaries of one.\r\n\r\nYou either should fetch all the required dependencies when building your specification or try with the `@Transactional` on the resource level (but try that as of last resort).\r\n\r\nJust so that you know, LAZY fetching strategy is only a hint.. not a mandatory action. Eager is mandatory:\r\n\r\n&gt; The LAZY strategy is a hint to the persistence provider runtime that\r\n&gt; data should be fetched lazily when it is first accessed. The\r\n&gt; implementation is permitted to eagerly fetch data for which the LAZY\r\n&gt; strategy hint has been specified.","title":"JPA Lazy loading is not working in Spring boot","body":"<p>Most likely you are debugging while still being inside the service, thus while the transaction is still active and lazy loading can be triggered (any method called on a lazy element triggered the fetch from the database).</p>\n\n<p>The problem is that lazy loading cannot occur while being outside of the transaction. And Jackson is parsing your entity definitely outside the boundaries of one.</p>\n\n<p>You either should fetch all the required dependencies when building your specification or try with the <code>@Transactional</code> on the resource level (but try that as of last resort).</p>\n\n<p>Just so that you know, LAZY fetching strategy is only a hint.. not a mandatory action. Eager is mandatory:</p>\n\n<blockquote>\n  <p>The LAZY strategy is a hint to the persistence provider runtime that\n  data should be fetched lazily when it is first accessed. The\n  implementation is permitted to eagerly fetch data for which the LAZY\n  strategy hint has been specified.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555404121,"creation_date":1555404121,"answer_id":55703966,"question_id":55702642,"body_markdown":"Just a guess: you are forcing a fetch while building your specification.\r\n\r\nI expect something like\r\n```\r\nstatic Specification&lt;AirWaybill&gt; buildSpec() {\r\n    return (root, query, criteriaBuilder) -&gt; {\r\n       Join&lt;AirWaybill, CorporateBranch&gt; br = (Join) root.fetch(&quot;corporateBranch&quot;);\r\n       return criteriaBuilder.equal(br.get(&quot;addressType&quot;), 1);\r\n    };\r\n}\r\n```\r\n\r\nIf this is the case, try changing `root.fetch` to `root.join`","title":"JPA Lazy loading is not working in Spring boot","body":"<p>Just a guess: you are forcing a fetch while building your specification.</p>\n\n<p>I expect something like</p>\n\n<pre><code>static Specification&lt;AirWaybill&gt; buildSpec() {\n    return (root, query, criteriaBuilder) -&gt; {\n       Join&lt;AirWaybill, CorporateBranch&gt; br = (Join) root.fetch(\"corporateBranch\");\n       return criteriaBuilder.equal(br.get(\"addressType\"), 1);\n    };\n}\n</code></pre>\n\n<p>If this is the case, try changing <code>root.fetch</code> to <code>root.join</code></p>\n"},{"tags":[],"owner":{"account_id":5047609,"reputation":16878,"user_id":4053082,"accept_rate":92,"display_name":"Martin Čuka"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1555404952,"creation_date":1555404952,"answer_id":55704249,"question_id":55702642,"body_markdown":"SpringBoot by default has enabled:&lt;br/&gt;\r\n**spring.jpa.open-in-view = true**&lt;br/&gt;\r\nThat means transaction is always open. Try to disable it.&lt;br/&gt;\r\nmore information [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/30549489/what-is-this-spring-jpa-open-in-view-true-property-in-spring-boot","title":"JPA Lazy loading is not working in Spring boot","body":"<p>SpringBoot by default has enabled:<br/>\n<strong>spring.jpa.open-in-view = true</strong><br/>\nThat means transaction is always open. Try to disable it.<br/>\nmore information <a href=\"https://stackoverflow.com/questions/30549489/what-is-this-spring-jpa-open-in-view-true-property-in-spring-boot\">here</a></p>\n"},{"tags":[],"owner":{"account_id":4863502,"reputation":23,"user_id":9629251,"display_name":"Muhammed Atallah"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1555420678,"creation_date":1555420678,"answer_id":55709146,"question_id":55702642,"body_markdown":"The retrieved data already lazy but you are using debug mode its return value when click to watch a data from a debugger.","title":"JPA Lazy loading is not working in Spring boot","body":"<p>The retrieved data already lazy but you are using debug mode its return value when click to watch a data from a debugger.</p>\n"},{"tags":[],"owner":{"account_id":5949182,"reputation":1061,"user_id":4677790,"display_name":"Tomasz Białecki"},"down_vote_count":1,"up_vote_count":20,"is_accepted":true,"score":19,"last_activity_date":1555449258,"creation_date":1555449258,"answer_id":55716700,"question_id":55702642,"body_markdown":"Hibernate Session exists within method with `@Transactional`.\r\nPassing entity outside Service class is a bad practise because session is being closed after leaving your `search` method. On the other hand your entity contains lazy initialised collections, which cannot be pulled once session is closed.\r\n\r\nThe good practise is to map entity onto transport object and return those transport objects from service (not raw entities).","title":"JPA Lazy loading is not working in Spring boot","body":"<p>Hibernate Session exists within method with <code>@Transactional</code>.\nPassing entity outside Service class is a bad practise because session is being closed after leaving your <code>search</code> method. On the other hand your entity contains lazy initialised collections, which cannot be pulled once session is closed.</p>\n\n<p>The good practise is to map entity onto transport object and return those transport objects from service (not raw entities).</p>\n"},{"tags":[],"owner":{"account_id":13632899,"reputation":2116,"user_id":9834603,"display_name":"Dmitry Kaltovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587806263,"creation_date":1587806263,"answer_id":61423407,"question_id":55702642,"body_markdown":"You can solve this problem with wit 2 steps with [jackson-datatype-hibernate](https://github.com/FasterXML/jackson-datatype-hibernate):\r\n\r\n&gt; kotlin example\r\n\r\n1. Add In `build.gradle.kts`:\r\n\r\n```kotlin                \r\nimplementation(&quot;com.fasterxml.jackson.datatype:jackson-datatype-hibernate5:$jacksonHibernate&quot;)\r\n```\r\n\r\n\r\n2. Create `@Bean`\r\n```kotlin                    \r\n   @Bean\r\n   fun hibernate5Module(): Module = Hibernate5Module()\r\n```\r\n\r\n___\r\nNotice that `Module` is `com.fasterxml.jackson.databind.Module`, not `java.util.Module`\r\n","title":"JPA Lazy loading is not working in Spring boot","body":"<p>You can solve this problem with wit 2 steps with <a href=\"https://github.com/FasterXML/jackson-datatype-hibernate\" rel=\"nofollow noreferrer\">jackson-datatype-hibernate</a>:</p>\n\n<blockquote>\n  <p>kotlin example</p>\n</blockquote>\n\n<ol>\n<li>Add In <code>build.gradle.kts</code>:</li>\n</ol>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>implementation(\"com.fasterxml.jackson.datatype:jackson-datatype-hibernate5:$jacksonHibernate\")\n</code></pre>\n\n<ol start=\"2\">\n<li>Create <code>@Bean</code></li>\n</ol>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>   @Bean\n   fun hibernate5Module(): Module = Hibernate5Module()\n</code></pre>\n\n<hr>\n\n<p>Notice that <code>Module</code> is <code>com.fasterxml.jackson.databind.Module</code>, not <code>java.util.Module</code></p>\n"},{"tags":[],"owner":{"account_id":14487693,"reputation":1,"user_id":10465057,"display_name":"Bala Murugan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1623322833,"creation_date":1610016737,"answer_id":65610990,"question_id":55702642,"body_markdown":"I also faced the same issue with Spring data JPA. I added the below annotation &amp; able to get the customer records for a given ORDER ID\r\n\r\nCustomer to Order : one to Many \r\n\r\nOrder to customer is lazy load. \r\n\r\n**Order.java**\r\n\r\n\r\n    @ManyToOne(cascade = CascadeType.ALL,targetEntity = CustomerEntity.class,fetch = FetchType.LAZY)\r\n    @Fetch(FetchMode. JOIN)\r\n    @JoinColumn(name = &quot;CUSTOMER_ID&quot;,referencedColumnName = &quot;CUSTOMER_ID&quot;,insertable = false,updatable = false)\r\n    @LazyToOne(LazyToOneOption.PROXY)\r\n    Private CustomerEntity customer\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n**Customer.java**\r\n\r\n\r\n    @Entity\r\n    @TabLe(name = &quot;CUSTOMER&quot; ,\r\n    uniqueConstraints = @UniqueConstraint(columnNames= {&quot;mobile&quot;}))\r\n    public class CustomerEntity {\r\n    \r\n    @GeneratedVaLue(strategy = GenerationType.IDENTITY)\r\n    @CoLumn(name = &quot;customer_id&quot; )\r\n    private Integer customerld;\r\n    private String name;\r\n    private String address;\r\n    private String city;\r\n    private String state;\r\n    private Integer zipCode;\r\n    private Integer mobileNumber;\r\n    \r\n    @OneToMany(mappedBy = &quot; customer&quot; )\r\n    @Fetch(FetchMode.JOIN)\r\n    @LazyToOne(LazyToOneOption.PROXY)\r\n    private List&lt;OrderEntity&gt; orders;\r\n    }\r\n\r\n","title":"JPA Lazy loading is not working in Spring boot","body":"<p>I also faced the same issue with Spring data JPA. I added the below annotation &amp; able to get the customer records for a given ORDER ID</p>\n<p>Customer to Order : one to Many</p>\n<p>Order to customer is lazy load.</p>\n<p><strong>Order.java</strong></p>\n<pre><code>@ManyToOne(cascade = CascadeType.ALL,targetEntity = CustomerEntity.class,fetch = FetchType.LAZY)\n@Fetch(FetchMode. JOIN)\n@JoinColumn(name = &quot;CUSTOMER_ID&quot;,referencedColumnName = &quot;CUSTOMER_ID&quot;,insertable = false,updatable = false)\n@LazyToOne(LazyToOneOption.PROXY)\nPrivate CustomerEntity customer\n</code></pre>\n<p><strong>Customer.java</strong></p>\n<pre><code>@Entity\n@TabLe(name = &quot;CUSTOMER&quot; ,\nuniqueConstraints = @UniqueConstraint(columnNames= {&quot;mobile&quot;}))\npublic class CustomerEntity {\n\n@GeneratedVaLue(strategy = GenerationType.IDENTITY)\n@CoLumn(name = &quot;customer_id&quot; )\nprivate Integer customerld;\nprivate String name;\nprivate String address;\nprivate String city;\nprivate String state;\nprivate Integer zipCode;\nprivate Integer mobileNumber;\n\n@OneToMany(mappedBy = &quot; customer&quot; )\n@Fetch(FetchMode.JOIN)\n@LazyToOne(LazyToOneOption.PROXY)\nprivate List&lt;OrderEntity&gt; orders;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6890170,"reputation":2211,"user_id":5293976,"display_name":"BEJGAM SHIVA PRASAD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701446808,"creation_date":1625743533,"answer_id":68300735,"question_id":55702642,"body_markdown":"\r\n\r\nAnother consideration is while using Lombok, `@Data/@Getter`  annotation causes to load lazy items without need. So be careful when using Lombok.\r\n\r\nThis was my case. ","title":"JPA Lazy loading is not working in Spring boot","body":"<p>Another consideration is while using Lombok, <code>@Data/@Getter</code>  annotation causes to load lazy items without need. So be careful when using Lombok.</p>\n<p>This was my case.</p>\n"},{"tags":[],"owner":{"account_id":4343429,"reputation":859,"user_id":3546107,"display_name":"Delirante"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1646048821,"creation_date":1646048821,"answer_id":71294562,"question_id":55702642,"body_markdown":"I suppose you are using Hibernate as JPA.\r\n\r\n**From specification:**\r\n\r\n*The EAGER strategy is a requirement on the persistence provider runtime that data must be eagerly fetched. The LAZY strategy is a hint to the persistence provider runtime that data should be fetched lazily when it is first accessed. The implementation is permitted to eagerly fetch data for which the LAZY strategy hint has been specified. https://docs.jboss.org/hibernate/jpa/2.2/api/javax/persistence/FetchType.html*\r\n\r\nHibernate ignores fetch type specially in OneToOne and ManyToOne relationships from non owning side. \r\n\r\nThere are few options how to force Hibernate use fetch type LAZY if you really need it.\r\n\r\n 1. The simplest one is to fake one-to-many relationship. This will work because lazy loading of collection is much easier then lazy loading of single nullable property but generally this solution is very inconvenient if you use complex JPQL/HQL queries.\r\n 2. The other one is to use build time bytecode instrumentation. For more details please read Hibernate documentation: 19.1.7. Using lazy property fetching. Remember that in this case you have to add @LazyToOne(LazyToOneOption.NO_PROXY) annotation to one-to-one relationship to make it lazy. Setting fetch to LAZY is not enough.\r\n 3. The last solution is to use runtime bytecode instrumentation but it will work only for those who use Hibernate as JPA provider in full-blown JEE environment (in such case setting &quot;hibernate.ejb.use_class_enhancer&quot; to true should do the trick: Entity Manager Configuration) or use Hibernate with Spring configured to do runtime weaving (this might be hard to achieve on some older application servers). In this case @LazyToOne(LazyToOneOption.NO_PROXY) annotation is also required.\r\n\r\nFor more informations look at this:\r\nhttp://justonjava.blogspot.com/2010/09/lazy-one-to-one-and-one-to-many.html\r\n\r\n\r\n","title":"JPA Lazy loading is not working in Spring boot","body":"<p>I suppose you are using Hibernate as JPA.</p>\n<p><strong>From specification:</strong></p>\n<p><em>The EAGER strategy is a requirement on the persistence provider runtime that data must be eagerly fetched. The LAZY strategy is a hint to the persistence provider runtime that data should be fetched lazily when it is first accessed. The implementation is permitted to eagerly fetch data for which the LAZY strategy hint has been specified. <a href=\"https://docs.jboss.org/hibernate/jpa/2.2/api/javax/persistence/FetchType.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/jpa/2.2/api/javax/persistence/FetchType.html</a></em></p>\n<p>Hibernate ignores fetch type specially in OneToOne and ManyToOne relationships from non owning side.</p>\n<p>There are few options how to force Hibernate use fetch type LAZY if you really need it.</p>\n<ol>\n<li>The simplest one is to fake one-to-many relationship. This will work because lazy loading of collection is much easier then lazy loading of single nullable property but generally this solution is very inconvenient if you use complex JPQL/HQL queries.</li>\n<li>The other one is to use build time bytecode instrumentation. For more details please read Hibernate documentation: 19.1.7. Using lazy property fetching. Remember that in this case you have to add @LazyToOne(LazyToOneOption.NO_PROXY) annotation to one-to-one relationship to make it lazy. Setting fetch to LAZY is not enough.</li>\n<li>The last solution is to use runtime bytecode instrumentation but it will work only for those who use Hibernate as JPA provider in full-blown JEE environment (in such case setting &quot;hibernate.ejb.use_class_enhancer&quot; to true should do the trick: Entity Manager Configuration) or use Hibernate with Spring configured to do runtime weaving (this might be hard to achieve on some older application servers). In this case @LazyToOne(LazyToOneOption.NO_PROXY) annotation is also required.</li>\n</ol>\n<p>For more informations look at this:\n<a href=\"http://justonjava.blogspot.com/2010/09/lazy-one-to-one-and-one-to-many.html\" rel=\"nofollow noreferrer\">http://justonjava.blogspot.com/2010/09/lazy-one-to-one-and-one-to-many.html</a></p>\n"},{"tags":[],"owner":{"account_id":11602676,"reputation":103,"user_id":8499334,"display_name":"Vivek Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665046780,"creation_date":1660163323,"answer_id":73312364,"question_id":55702642,"body_markdown":"I think I might have a solution. You can give this a try. This worked for me after 4 hours of hit and trial -\r\n\r\nUser Entity  :\r\n\r\n    class User {\r\n        @Id\r\n        String id;\r\n    \r\n        @JsonManagedReference\r\n        @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.LAZY)\r\n        private List&lt;Address&gt; addressDetailVOList = new ArrayList&lt;Address&gt;();\r\n    } \r\n\r\nAddress entity : \r\n\r\n    class Address {\r\n    \r\n        @JsonBackReference\r\n        @ManyToOne(fetch = FetchType.EAGER)\r\n        @JoinColumn(name = &quot;userId&quot;)\r\n        private User user;\r\n    }\r\n\r\nYour parent class will use `@JsonManagedReference`, and child class will use `@JsonBackReference`. With this, you can avoid the infinite loop of entity objects as response and stack overflow error.\r\n\r\n","title":"JPA Lazy loading is not working in Spring boot","body":"<p>I think I might have a solution. You can give this a try. This worked for me after 4 hours of hit and trial -</p>\n<p>User Entity  :</p>\n<pre><code>class User {\n    @Id\n    String id;\n\n    @JsonManagedReference\n    @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.LAZY)\n    private List&lt;Address&gt; addressDetailVOList = new ArrayList&lt;Address&gt;();\n} \n</code></pre>\n<p>Address entity :</p>\n<pre><code>class Address {\n\n    @JsonBackReference\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;userId&quot;)\n    private User user;\n}\n</code></pre>\n<p>Your parent class will use <code>@JsonManagedReference</code>, and child class will use <code>@JsonBackReference</code>. With this, you can avoid the infinite loop of entity objects as response and stack overflow error.</p>\n"}],"owner":{"account_id":2021263,"reputation":2451,"user_id":1807373,"accept_rate":75,"display_name":"Houssam Badri"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50501,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":55716700,"answer_count":11,"score":18,"last_activity_date":1701446808,"creation_date":1555399156,"question_id":55702642,"body_markdown":"I googled a lot and It is really bizarre that Spring Boot (latest version) may not have the lazy loading is not working. Below are pieces of my code:\r\n\r\n**My resource:**\r\n\r\n     public ResponseEntity&lt;Page&lt;AirWaybill&gt;&gt; searchAirWaybill(CriteraDto criteriaDto, @PageableDefault(size = 10) Pageable pageable{\r\n    airWaybillService.searchAirWaybill(criteriaDto, pageable);\r\n            return ResponseEntity.ok().body(result);\r\n    }\r\n\r\n\r\n**My service:**\r\n\r\n    @Service\r\n    @Transactional\r\n    public class AirWaybillService {\r\n\r\n    //Methods\r\n\r\n     public Page&lt;AirWaybill&gt; searchAirWaybill(AirWaybillCriteriaDto searchCriteria, Pageable pageable){\r\n        //Construct the specification\r\n        \t\treturn airWaybillRepository.findAll(spec, pageable);\r\n       }\r\n    }\r\n\r\n**My Entity:**\r\n\r\n    @Entity\r\n    @Table(name = &quot;TRACKING_AIR_WAYBILL&quot;)\r\n    @JsonIdentityInfo(generator=ObjectIdGenerators.IntSequenceGenerator.class, property=&quot;@airWaybillId&quot;) //to fix Infinite recursion with LoadedAirWaybill class\r\n    public class AirWaybill{\r\n    //Some attributes\r\n        @NotNull\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;FK_TRACKING_CORPORATE_BRANCH_ID&quot;)\r\n        private CorporateBranch corporateBranch;\r\n    }\r\n\r\nAnd when debugging,  I still getting all lazy loaded attributed loaded. See image below.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EduHY.png\r\n\r\nOne of my questions is could Jackson be involved in such behaviour?\r\nIs there any way that I may have missed to activate the lazy loading?\r\n\r\n**EDIT**\r\n\r\nAnother question, could the debugger be involved in ruining the lazy loading?\r\n\r\n**EDIT 2:**\r\n\r\nFor **specification** build, I have :\r\n\r\n    public static Specification&lt;AirWaybill&gt; isBranchAirWayBill(long id){\r\n        return new Specification&lt;AirWaybill&gt;() {\r\n            @Override\r\n            public Predicate toPredicate(Root&lt;AirWaybill&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb) {\r\n                return cb.equal(root.join(&quot;corporateBranch&quot;,JoinType.LEFT).get(&quot;id&quot;),id);\r\n            }\r\n        };\r\n    }","title":"JPA Lazy loading is not working in Spring boot","body":"<p>I googled a lot and It is really bizarre that Spring Boot (latest version) may not have the lazy loading is not working. Below are pieces of my code:</p>\n\n<p><strong>My resource:</strong></p>\n\n<pre><code> public ResponseEntity&lt;Page&lt;AirWaybill&gt;&gt; searchAirWaybill(CriteraDto criteriaDto, @PageableDefault(size = 10) Pageable pageable{\nairWaybillService.searchAirWaybill(criteriaDto, pageable);\n        return ResponseEntity.ok().body(result);\n}\n</code></pre>\n\n<p><strong>My service:</strong></p>\n\n<pre><code>@Service\n@Transactional\npublic class AirWaybillService {\n\n//Methods\n\n public Page&lt;AirWaybill&gt; searchAirWaybill(AirWaybillCriteriaDto searchCriteria, Pageable pageable){\n    //Construct the specification\n            return airWaybillRepository.findAll(spec, pageable);\n   }\n}\n</code></pre>\n\n<p><strong>My Entity:</strong></p>\n\n<pre><code>@Entity\n@Table(name = \"TRACKING_AIR_WAYBILL\")\n@JsonIdentityInfo(generator=ObjectIdGenerators.IntSequenceGenerator.class, property=\"@airWaybillId\") //to fix Infinite recursion with LoadedAirWaybill class\npublic class AirWaybill{\n//Some attributes\n    @NotNull\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"FK_TRACKING_CORPORATE_BRANCH_ID\")\n    private CorporateBranch corporateBranch;\n}\n</code></pre>\n\n<p>And when debugging,  I still getting all lazy loaded attributed loaded. See image below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/EduHY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/EduHY.png\" alt=\"enter image description here\"></a></p>\n\n<p>One of my questions is could Jackson be involved in such behaviour?\nIs there any way that I may have missed to activate the lazy loading?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Another question, could the debugger be involved in ruining the lazy loading?</p>\n\n<p><strong>EDIT 2:</strong></p>\n\n<p>For <strong>specification</strong> build, I have :</p>\n\n<pre><code>public static Specification&lt;AirWaybill&gt; isBranchAirWayBill(long id){\n    return new Specification&lt;AirWaybill&gt;() {\n        @Override\n        public Predicate toPredicate(Root&lt;AirWaybill&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb) {\n            return cb.equal(root.join(\"corporateBranch\",JoinType.LEFT).get(\"id\"),id);\n        }\n    };\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-cloud-dataflow"],"answers":[{"tags":[],"owner":{"account_id":1641955,"reputation":319,"user_id":1514220,"accept_rate":25,"display_name":"Jan Schumacher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565341162,"creation_date":1565341162,"answer_id":57426697,"question_id":57426529,"body_markdown":"In most of the cases this is either due to a missing dependency or due to a dependency coming with an older spring/spring boot version.\r\nCheck your maven dependency tree and search for spring-boot dependencies older then the version your parent starter is requesting. Probably `org.springframework.cloud:spring-cloud-starter-dataflow-server-local:1.7.4.RELEASE` comes with an older version and you need to exclude it.","title":"java.lang.NoSuchMethodError: org.springframework.boot.builder.SpringApplicationBuilder.&lt;init&gt;([Ljava/lang/Object;)V","body":"<p>In most of the cases this is either due to a missing dependency or due to a dependency coming with an older spring/spring boot version.\nCheck your maven dependency tree and search for spring-boot dependencies older then the version your parent starter is requesting. Probably <code>org.springframework.cloud:spring-cloud-starter-dataflow-server-local:1.7.4.RELEASE</code> comes with an older version and you need to exclude it.</p>\n"}],"owner":{"account_id":3163862,"reputation":36942,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11970,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1701446615,"creation_date":1565340619,"question_id":57426529,"body_markdown":"I am writing simple application to be familiar with spring batch. I wanted to learn spring batch admin but I found that it is deprecated so I have to use spring cloud data flow instead.\r\n\r\nI&#39;ve found a tutorial about spring cloud data and did first steps:\r\n\r\n\r\n1. Added dependency:\r\n\r\n    compile(&quot;org.springframework.cloud:spring-cloud-starter-dataflow-server-local:1.7.4.RELEASE&quot;)\r\n\r\n2. And marked my spring boot application class with additioanl annotaion:\r\n\r\n    @EnableDataFlowServer\r\n\r\nNow I am trying to run it using idea but it prints:\r\n\r\n    10:24:09.590 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\r\n    java.lang.NoSuchMethodError: org.springframework.boot.builder.SpringApplicationBuilder.&lt;init&gt;([Ljava/lang/Object;)V\r\n    \tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:161)\r\n    \tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:102)\r\n    \tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:68)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:75)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\r\n    \tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:340)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:304)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1213)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1202)\r\n    \tat spring.boot.hello.world.MyApplication.main(MyApplication.java:11)","title":"java.lang.NoSuchMethodError: org.springframework.boot.builder.SpringApplicationBuilder.&lt;init&gt;([Ljava/lang/Object;)V","body":"<p>I am writing simple application to be familiar with spring batch. I wanted to learn spring batch admin but I found that it is deprecated so I have to use spring cloud data flow instead.</p>\n\n<p>I've found a tutorial about spring cloud data and did first steps:</p>\n\n<ol>\n<li><p>Added dependency:</p>\n\n<p>compile(\"org.springframework.cloud:spring-cloud-starter-dataflow-server-local:1.7.4.RELEASE\")</p></li>\n<li><p>And marked my spring boot application class with additioanl annotaion:</p>\n\n<p>@EnableDataFlowServer</p></li>\n</ol>\n\n<p>Now I am trying to run it using idea but it prints:</p>\n\n<pre><code>10:24:09.590 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\njava.lang.NoSuchMethodError: org.springframework.boot.builder.SpringApplicationBuilder.&lt;init&gt;([Ljava/lang/Object;)V\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:161)\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:102)\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:68)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:75)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:340)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:304)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1213)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1202)\n    at spring.boot.hello.world.MyApplication.main(MyApplication.java:11)\n</code></pre>\n"},{"tags":["java","spring","eclipse","spring-tool-suite","spring-tools-4"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1701439487,"post_id":77585771,"comment_id":136779033,"body_markdown":"What is the exact warning message?","body":"What is the exact warning message?"},{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1701439615,"post_id":77585771,"comment_id":136779060,"body_markdown":"@howlger, It says just `public &#39;@Bean&#39; method` and it disappears if I remove the `public` modifier.  It also provides a quick fix to remove the modifier from the method or from the file or from the project.","body":"@howlger, It says just <code>public &#39;@Bean&#39; method</code> and it disappears if I remove the <code>public</code> modifier.  It also provides a quick fix to remove the modifier from the method or from the file or from the project."},{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1701439975,"post_id":77585771,"comment_id":136779140,"body_markdown":"In the &quot;Markers&quot; view it appears in the &quot;Spring Boot&quot; group.","body":"In the &quot;Markers&quot; view it appears in the &quot;Spring Boot&quot; group."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1701440016,"post_id":77585771,"comment_id":136779154,"body_markdown":"Please copy the whole line from the _Problems_ view, including the _Type_. (I did not downvote the question nor did I vote to close it, but I would recommend to include the exact warning message into the question and more details about the `@Bean` annotation used here.)","body":"Please copy the whole line from the <i>Problems</i> view, including the <i>Type</i>. (I did not downvote the question nor did I vote to close it, but I would recommend to include the exact warning message into the question and more details about the <code>@Bean</code> annotation used here.)"},{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1701441975,"post_id":77585771,"comment_id":136779556,"body_markdown":"@howgler, added screen-shots.  I assumed that it is common with this version of Eclipse/STS, isn&#39;t it?","body":"@howgler, added screen-shots.  I assumed that it is common with this version of Eclipse/STS, isn&#39;t it?"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1701448659,"post_id":77585771,"comment_id":136780895,"body_markdown":"Please copy **the whole line** from the Problems view.","body":"Please copy <b>the whole line</b> from the Problems view."},{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1701448885,"post_id":77585771,"comment_id":136780938,"body_markdown":"@nitind, I have already answered my question, see below.","body":"@nitind, I have already answered my question, see below."}],"answers":[{"tags":[],"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701446005,"creation_date":1701446005,"answer_id":77586514,"question_id":77585771,"body_markdown":"Found it: under &quot;Window/Preferences/Spring/Validation/Boot 2.x Best Practices &amp; Optimizations&quot; there is a &quot;Public &#39;@Bean&#39; method&quot; option that you can set to &quot;Ignore&quot;.  The tooltip says:\r\n\r\n&gt; Public modifier on &#39;@Bean&#39; method. They no longer have to be public\r\n&gt; visibility to be usable by Spring.","title":"Eclipse with Spring Tools 4 gives a warning on public @Bean methods","body":"<p>Found it: under &quot;Window/Preferences/Spring/Validation/Boot 2.x Best Practices &amp; Optimizations&quot; there is a &quot;Public '@Bean' method&quot; option that you can set to &quot;Ignore&quot;.  The tooltip says:</p>\n<blockquote>\n<p>Public modifier on '@Bean' method. They no longer have to be public\nvisibility to be usable by Spring.</p>\n</blockquote>\n"}],"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77586514,"answer_count":1,"score":0,"last_activity_date":1701446005,"creation_date":1701438965,"question_id":77585771,"body_markdown":"I have just upgraded Eclipse to version 2023-09 and installed Spring Tools 4 from the marketplace.  Now, in projects using Spring Boot 2.7.18, I get a lot of warnings because I have the `public` modifier on `@Bean` methods.  Is it a bad practice?  [This post][1] says that the method visibility does not affect the bean&#39;s visibility and, in facts, I have not found anything about access modifiers of `@Bean` methods in Spring docs and [this manual page][2] has an example with a public `@Bean` method.  So why should I change it?  Can this note be disabled?\r\n\r\n**Update:** added some screen-shots.  Now I see that in the Properties dialog it has &quot;Info&quot; severity but in the &quot;Markers&quot; view it is under a warning icon due to the presence of other messages.  It has also a quick fix.\r\n\r\n[![Screen-shot1][3]][3]\r\n\r\n[![Screen-shot1][4]][4]\r\n\r\n[![Screen-shot2][5]][5]\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/76454349/685806\r\n  [2]: https://docs.spring.io/spring-framework/reference/core/beans/java/basic-concepts.html\r\n  [3]: https://i.stack.imgur.com/DnnhH.png\r\n  [4]: https://i.stack.imgur.com/1pcS0.png\r\n  [5]: https://i.stack.imgur.com/acr5e.png","title":"Eclipse with Spring Tools 4 gives a warning on public @Bean methods","body":"<p>I have just upgraded Eclipse to version 2023-09 and installed Spring Tools 4 from the marketplace.  Now, in projects using Spring Boot 2.7.18, I get a lot of warnings because I have the <code>public</code> modifier on <code>@Bean</code> methods.  Is it a bad practice?  <a href=\"https://stackoverflow.com/q/76454349/685806\">This post</a> says that the method visibility does not affect the bean's visibility and, in facts, I have not found anything about access modifiers of <code>@Bean</code> methods in Spring docs and <a href=\"https://docs.spring.io/spring-framework/reference/core/beans/java/basic-concepts.html\" rel=\"nofollow noreferrer\">this manual page</a> has an example with a public <code>@Bean</code> method.  So why should I change it?  Can this note be disabled?</p>\n<p><strong>Update:</strong> added some screen-shots.  Now I see that in the Properties dialog it has &quot;Info&quot; severity but in the &quot;Markers&quot; view it is under a warning icon due to the presence of other messages.  It has also a quick fix.</p>\n<p><a href=\"https://i.stack.imgur.com/DnnhH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DnnhH.png\" alt=\"Screen-shot1\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/1pcS0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1pcS0.png\" alt=\"Screen-shot1\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/acr5e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/acr5e.png\" alt=\"Screen-shot2\" /></a></p>\n"},{"tags":["java","maven","record","java-14"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1701440111,"post_id":77585718,"comment_id":136779170,"body_markdown":"Honestly, I would just use Lombok and create the POJO objects. Records should not be abused. They should realistically only have a few fields. If the object has over 10 fields on it, I would avoid using a record.","body":"Honestly, I would just use Lombok and create the POJO objects. Records should not be abused. They should realistically only have a few fields. If the object has over 10 fields on it, I would avoid using a record."},{"owner":{"account_id":3342991,"reputation":1334,"user_id":2808815,"accept_rate":82,"display_name":"Joe Caruso"},"score":0,"creation_date":1701442980,"post_id":77585718,"comment_id":136779789,"body_markdown":"I already have the schema files and generated for pojo classes which include the jackson annotations. I&#39;m not interested in removing the plug in and writing the code myself with lombok.","body":"I already have the schema files and generated for pojo classes which include the jackson annotations. I&#39;m not interested in removing the plug in and writing the code myself with lombok."},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":2,"creation_date":1701448758,"post_id":77585718,"comment_id":136780918,"body_markdown":"There is already a request to add `record` support here: [Issue #1405](https://github.com/joelittlejohn/jsonschema2pojo/issues/1405)","body":"There is already a request to add <code>record</code> support here: <a href=\"https://github.com/joelittlejohn/jsonschema2pojo/issues/1405\" rel=\"nofollow noreferrer\">Issue #1405</a>"},{"owner":{"account_id":3342991,"reputation":1334,"user_id":2808815,"accept_rate":82,"display_name":"Joe Caruso"},"score":0,"creation_date":1701452286,"post_id":77585718,"comment_id":136781538,"body_markdown":"Good looks my friend","body":"Good looks my friend"}],"answers":[{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1701444183,"creation_date":1701441674,"answer_id":77586058,"question_id":77585718,"body_markdown":"I would avoid records, not only because they should only store a few values, but because they do not have the same level of control as a traditional class.\r\n\r\nThe following article breaks this all down:\r\n\r\n&gt; https://www.baeldung.com/java-record-vs-lombok\r\n\r\nWith Jackson&#39;s `@JsonProperty` annotation, you can tell the serializer/deserializer how to map each key to the appropriate field.\r\n\r\nIf you generate the class stubs and add in some Lombok, you can simplify this process.\r\n\r\nThe following JSON:\r\n\r\n```json\r\n/** https://json.org/example.html */\r\n{\r\n  &quot;glossary&quot;: {\r\n    &quot;title&quot;: &quot;example glossary&quot;,\r\n    &quot;GlossDiv&quot;: {\r\n      &quot;title&quot;: &quot;S&quot;,\r\n      &quot;GlossList&quot;: {\r\n        &quot;GlossEntry&quot;: {\r\n          &quot;ID&quot;: &quot;SGML&quot;,\r\n          &quot;SortAs&quot;: &quot;SGML&quot;,\r\n          &quot;GlossTerm&quot;: &quot;Standard Generalized Markup Language&quot;,\r\n          &quot;Acronym&quot;: &quot;SGML&quot;,\r\n          &quot;Abbrev&quot;: &quot;ISO 8879:1986&quot;,\r\n          &quot;GlossDef&quot;: {\r\n            &quot;para&quot;: &quot;A meta-markup language, used to create markup languages such as DocBook.&quot;,\r\n            &quot;GlossSeeAlso&quot;: [&quot;GML&quot;, &quot;XML&quot;]\r\n          },\r\n          &quot;GlossSee&quot;: &quot;markup&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nGet converted to the following shapes:\r\n\r\n```java\r\npackage org.example.json;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.util.List;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport lombok.Data;\r\n\r\npublic class GenerateClasses {\r\n    private static final ObjectMapper om = new ObjectMapper();\r\n    private static final ClassLoader classLoader = GenerateClasses.class.getClassLoader();\r\n\r\n    public static void main(String[] args) {\r\n        try (InputStream is = classLoader.getResourceAsStream(&quot;glossary.json&quot;)) {\r\n            Root root = om.readValue(is, Root.class);\r\n            System.out.println(root); // Object::toString\r\n            System.out.println(om.writerWithDefaultPrettyPrinter().writeValueAsString(root));\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Failed to read JSON&quot;);\r\n        }\r\n    }\r\n\r\n    @Data\r\n    public static class Glossary {\r\n        private String title;\r\n        @JsonProperty(&quot;GlossDiv&quot;)\r\n        private GlossDiv glossDiv;\r\n    }\r\n\r\n    @Data\r\n    public static class GlossDef {\r\n        private String para;\r\n        @JsonProperty(&quot;GlossSeeAlso&quot;)\r\n        private List&lt;String&gt; glossSeeAlso; /* Changed from ArrayList */\r\n    }\r\n\r\n    @Data\r\n    public static class GlossDiv {\r\n        private String title;\r\n        @JsonProperty(&quot;GlossList&quot;)\r\n        private GlossList glossList;\r\n    }\r\n\r\n    @Data\r\n    public static class GlossEntry {\r\n        @JsonProperty(&quot;ID&quot;)\r\n        private String id; /* Manually changed from &#39;iD&#39; */\r\n        @JsonProperty(&quot;SortAs&quot;)\r\n        private String sortAs;\r\n        @JsonProperty(&quot;GlossTerm&quot;)\r\n        private String glossTerm;\r\n        @JsonProperty(&quot;Acronym&quot;)\r\n        private String acronym;\r\n        @JsonProperty(&quot;Abbrev&quot;)\r\n        private String abbrev;\r\n        @JsonProperty(&quot;GlossDef&quot;)\r\n        private GlossDef glossDef;\r\n        @JsonProperty(&quot;GlossSee&quot;)\r\n        private String glossSee;\r\n    }\r\n\r\n    @Data\r\n    public static class GlossList {\r\n        @JsonProperty(&quot;GlossEntry&quot;)\r\n        private GlossEntry glossEntry;\r\n    }\r\n\r\n    @Data\r\n    public static class Root {\r\n        private Glossary glossary;\r\n    }\r\n}\r\n```\r\n\r\nI generated the code above using the following tool:\r\n\r\n&gt; &lt;https://json2csharp.com/code-converters/json-to-pojo&gt; (choose JSON &gt; Java)\r\n\r\nI added Lombok `@Data` annotations, made all fields `private`, and modified fields where noted.\r\n\r\n---\r\n\r\n## Jackson + Records Caveat\r\n\r\nPlease note that Jackson versions below 2.11.4 have trouble with deserializing JSON with records:\r\n\r\n&gt; https://dev.to/brunooliveira/practical-java-16-using-jackson-to-serialize-records-4og4\r\n\r\nThe following modified program (from above) uses records instead of classes mized with Lombok. It no longer depends on Lombok.\r\n\r\n```java\r\npackage org.example.json;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.util.List;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\npublic class GenerateClasses {\r\n    private static final ObjectMapper om = new ObjectMapper();\r\n    private static final ClassLoader classLoader = GenerateClasses.class.getClassLoader();\r\n\r\n    public static void main(String[] args) {\r\n        try (InputStream is = classLoader.getResourceAsStream(&quot;glossary.json&quot;)) {\r\n            Root root = om.readValue(is, Root.class);\r\n            System.out.println(root); // Object::toString\r\n            System.out.println(om.writerWithDefaultPrettyPrinter().writeValueAsString(root));\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Failed to read JSON&quot;);\r\n            System.err.println(e);\r\n        }\r\n    }\r\n\r\n    public record Glossary (\r\n        String title,\r\n        @JsonProperty(&quot;GlossDiv&quot;)\r\n        GlossDiv glossDiv\r\n    ) {}\r\n\r\n    public record GlossDef (\r\n        String para,\r\n        @JsonProperty(&quot;GlossSeeAlso&quot;)\r\n        List&lt;String&gt; glossSeeAlso /* Changed from ArrayList */\r\n    ) {}\r\n\r\n    public record GlossDiv (\r\n        String title,\r\n        @JsonProperty(&quot;GlossList&quot;)\r\n        GlossList glossList\r\n    ) {}\r\n\r\n    public record GlossEntry (\r\n        @JsonProperty(&quot;ID&quot;)\r\n        String id, /* Manually changed from &#39;iD&#39; */\r\n        @JsonProperty(&quot;SortAs&quot;)\r\n        String sortAs,\r\n        @JsonProperty(&quot;GlossTerm&quot;)\r\n        String glossTerm,\r\n        @JsonProperty(&quot;Acronym&quot;)\r\n        String acronym,\r\n        @JsonProperty(&quot;Abbrev&quot;)\r\n        String abbrev,\r\n        @JsonProperty(&quot;GlossDef&quot;)\r\n        GlossDef glossDef,\r\n        @JsonProperty(&quot;GlossSee&quot;)\r\n        String glossSee\r\n    ) {}\r\n\r\n    public record GlossList (\r\n        @JsonProperty(&quot;GlossEntry&quot;)\r\n        GlossEntry glossEntry\r\n    ) {}\r\n\r\n    public record Root (\r\n        Glossary glossary\r\n    ) {}\r\n}\r\n```\r\n\r\nIf you encounter the following exception, you will need to update your Jackson dependency:\r\n\r\n&gt; `com.fasterxml.jackson.databind.exc.InvalidDefinitionException`: Cannot construct instance of `org.example.json.GenerateClasses$Root` (no Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator)  \r\n&gt; &amp;nbsp;&amp;nbsp;at [Source: (`BufferedInputStream`); line: 2, column: 3]","title":"Generate records from Json schema","body":"<p>I would avoid records, not only because they should only store a few values, but because they do not have the same level of control as a traditional class.</p>\n<p>The following article breaks this all down:</p>\n<blockquote>\n<p><a href=\"https://www.baeldung.com/java-record-vs-lombok\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-record-vs-lombok</a></p>\n</blockquote>\n<p>With Jackson's <code>@JsonProperty</code> annotation, you can tell the serializer/deserializer how to map each key to the appropriate field.</p>\n<p>If you generate the class stubs and add in some Lombok, you can simplify this process.</p>\n<p>The following JSON:</p>\n<pre class=\"lang-json prettyprint-override\"><code>/** https://json.org/example.html */\n{\n  &quot;glossary&quot;: {\n    &quot;title&quot;: &quot;example glossary&quot;,\n    &quot;GlossDiv&quot;: {\n      &quot;title&quot;: &quot;S&quot;,\n      &quot;GlossList&quot;: {\n        &quot;GlossEntry&quot;: {\n          &quot;ID&quot;: &quot;SGML&quot;,\n          &quot;SortAs&quot;: &quot;SGML&quot;,\n          &quot;GlossTerm&quot;: &quot;Standard Generalized Markup Language&quot;,\n          &quot;Acronym&quot;: &quot;SGML&quot;,\n          &quot;Abbrev&quot;: &quot;ISO 8879:1986&quot;,\n          &quot;GlossDef&quot;: {\n            &quot;para&quot;: &quot;A meta-markup language, used to create markup languages such as DocBook.&quot;,\n            &quot;GlossSeeAlso&quot;: [&quot;GML&quot;, &quot;XML&quot;]\n          },\n          &quot;GlossSee&quot;: &quot;markup&quot;\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>Get converted to the following shapes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example.json;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.List;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport lombok.Data;\n\npublic class GenerateClasses {\n    private static final ObjectMapper om = new ObjectMapper();\n    private static final ClassLoader classLoader = GenerateClasses.class.getClassLoader();\n\n    public static void main(String[] args) {\n        try (InputStream is = classLoader.getResourceAsStream(&quot;glossary.json&quot;)) {\n            Root root = om.readValue(is, Root.class);\n            System.out.println(root); // Object::toString\n            System.out.println(om.writerWithDefaultPrettyPrinter().writeValueAsString(root));\n        } catch (IOException e) {\n            System.out.println(&quot;Failed to read JSON&quot;);\n        }\n    }\n\n    @Data\n    public static class Glossary {\n        private String title;\n        @JsonProperty(&quot;GlossDiv&quot;)\n        private GlossDiv glossDiv;\n    }\n\n    @Data\n    public static class GlossDef {\n        private String para;\n        @JsonProperty(&quot;GlossSeeAlso&quot;)\n        private List&lt;String&gt; glossSeeAlso; /* Changed from ArrayList */\n    }\n\n    @Data\n    public static class GlossDiv {\n        private String title;\n        @JsonProperty(&quot;GlossList&quot;)\n        private GlossList glossList;\n    }\n\n    @Data\n    public static class GlossEntry {\n        @JsonProperty(&quot;ID&quot;)\n        private String id; /* Manually changed from 'iD' */\n        @JsonProperty(&quot;SortAs&quot;)\n        private String sortAs;\n        @JsonProperty(&quot;GlossTerm&quot;)\n        private String glossTerm;\n        @JsonProperty(&quot;Acronym&quot;)\n        private String acronym;\n        @JsonProperty(&quot;Abbrev&quot;)\n        private String abbrev;\n        @JsonProperty(&quot;GlossDef&quot;)\n        private GlossDef glossDef;\n        @JsonProperty(&quot;GlossSee&quot;)\n        private String glossSee;\n    }\n\n    @Data\n    public static class GlossList {\n        @JsonProperty(&quot;GlossEntry&quot;)\n        private GlossEntry glossEntry;\n    }\n\n    @Data\n    public static class Root {\n        private Glossary glossary;\n    }\n}\n</code></pre>\n<p>I generated the code above using the following tool:</p>\n<blockquote>\n<p><a href=\"https://json2csharp.com/code-converters/json-to-pojo\" rel=\"nofollow noreferrer\">https://json2csharp.com/code-converters/json-to-pojo</a> (choose JSON &gt; Java)</p>\n</blockquote>\n<p>I added Lombok <code>@Data</code> annotations, made all fields <code>private</code>, and modified fields where noted.</p>\n<hr />\n<h2>Jackson + Records Caveat</h2>\n<p>Please note that Jackson versions below 2.11.4 have trouble with deserializing JSON with records:</p>\n<blockquote>\n<p><a href=\"https://dev.to/brunooliveira/practical-java-16-using-jackson-to-serialize-records-4og4\" rel=\"nofollow noreferrer\">https://dev.to/brunooliveira/practical-java-16-using-jackson-to-serialize-records-4og4</a></p>\n</blockquote>\n<p>The following modified program (from above) uses records instead of classes mized with Lombok. It no longer depends on Lombok.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example.json;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.List;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\npublic class GenerateClasses {\n    private static final ObjectMapper om = new ObjectMapper();\n    private static final ClassLoader classLoader = GenerateClasses.class.getClassLoader();\n\n    public static void main(String[] args) {\n        try (InputStream is = classLoader.getResourceAsStream(&quot;glossary.json&quot;)) {\n            Root root = om.readValue(is, Root.class);\n            System.out.println(root); // Object::toString\n            System.out.println(om.writerWithDefaultPrettyPrinter().writeValueAsString(root));\n        } catch (IOException e) {\n            System.out.println(&quot;Failed to read JSON&quot;);\n            System.err.println(e);\n        }\n    }\n\n    public record Glossary (\n        String title,\n        @JsonProperty(&quot;GlossDiv&quot;)\n        GlossDiv glossDiv\n    ) {}\n\n    public record GlossDef (\n        String para,\n        @JsonProperty(&quot;GlossSeeAlso&quot;)\n        List&lt;String&gt; glossSeeAlso /* Changed from ArrayList */\n    ) {}\n\n    public record GlossDiv (\n        String title,\n        @JsonProperty(&quot;GlossList&quot;)\n        GlossList glossList\n    ) {}\n\n    public record GlossEntry (\n        @JsonProperty(&quot;ID&quot;)\n        String id, /* Manually changed from 'iD' */\n        @JsonProperty(&quot;SortAs&quot;)\n        String sortAs,\n        @JsonProperty(&quot;GlossTerm&quot;)\n        String glossTerm,\n        @JsonProperty(&quot;Acronym&quot;)\n        String acronym,\n        @JsonProperty(&quot;Abbrev&quot;)\n        String abbrev,\n        @JsonProperty(&quot;GlossDef&quot;)\n        GlossDef glossDef,\n        @JsonProperty(&quot;GlossSee&quot;)\n        String glossSee\n    ) {}\n\n    public record GlossList (\n        @JsonProperty(&quot;GlossEntry&quot;)\n        GlossEntry glossEntry\n    ) {}\n\n    public record Root (\n        Glossary glossary\n    ) {}\n}\n</code></pre>\n<p>If you encounter the following exception, you will need to update your Jackson dependency:</p>\n<blockquote>\n<p><code>com.fasterxml.jackson.databind.exc.InvalidDefinitionException</code>: Cannot construct instance of <code>org.example.json.GenerateClasses$Root</code> (no Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator)<br />\n  at [Source: (<code>BufferedInputStream</code>); line: 2, column: 3]</p>\n</blockquote>\n"}],"owner":{"account_id":3342991,"reputation":1334,"user_id":2808815,"accept_rate":82,"display_name":"Joe Caruso"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701445265,"creation_date":1701438470,"question_id":77585718,"body_markdown":"For many of my projects I like to use the `org.jsonschema2pojo.jsonschema2pojo-maven-plugin` maven plugin in order to generate some POJO class from a json schema file. This works great and saves me from writing boiler plate code.\r\n\r\nHowever, I often treat these classes as final and immutable so I would like the ability to generate Java records instead so I can enforce those restrictions and get the performance enhancement that comes along with records. I&#39;ve gone through the [documentation][1] and the [GitLab repo][2] but I don&#39;t see any way to do this with this particular plugin.\r\n\r\nIs there something I&#39;ve missed or is there another plugin or library that offers this ability?\r\n\r\nEdit: Assume I&#39;ve done my research and Java records are in fact what I want/need. I don&#39;t want mutability, I don&#39;t want extendability, I&#39;m okay with exposing member fields, I want improved performance on comparison operations (.equals), and I want to leverage pattern matching.\r\n\r\n  [1]: https://joelittlejohn.github.io/jsonschema2pojo/site/1.2.1/generate-mojo.html\r\n  [2]: https://github.com/joelittlejohn/jsonschema2pojo","title":"Generate records from Json schema","body":"<p>For many of my projects I like to use the <code>org.jsonschema2pojo.jsonschema2pojo-maven-plugin</code> maven plugin in order to generate some POJO class from a json schema file. This works great and saves me from writing boiler plate code.</p>\n<p>However, I often treat these classes as final and immutable so I would like the ability to generate Java records instead so I can enforce those restrictions and get the performance enhancement that comes along with records. I've gone through the <a href=\"https://joelittlejohn.github.io/jsonschema2pojo/site/1.2.1/generate-mojo.html\" rel=\"nofollow noreferrer\">documentation</a> and the <a href=\"https://github.com/joelittlejohn/jsonschema2pojo\" rel=\"nofollow noreferrer\">GitLab repo</a> but I don't see any way to do this with this particular plugin.</p>\n<p>Is there something I've missed or is there another plugin or library that offers this ability?</p>\n<p>Edit: Assume I've done my research and Java records are in fact what I want/need. I don't want mutability, I don't want extendability, I'm okay with exposing member fields, I want improved performance on comparison operations (.equals), and I want to leverage pattern matching.</p>\n"},{"tags":["java","android","security","ssl","mobile"],"owner":{"account_id":18670050,"reputation":29,"user_id":13609095,"display_name":"Ian Marcony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701444246,"creation_date":1701444246,"question_id":77586323,"body_markdown":"I&#39;m using the PEM certificate alocated in AWS on S3, my application is using TLS Mutual and other verifications, but now I must implement SSL Pining. \r\nThis is my implementation: \r\n` public static OkHttpClient generateSecureOkHttpClient(Context context)  {\r\n\r\n        OkHttpClient.Builder httpClientBuilder = new OkHttpClient.Builder();\r\n        AssetManager assetManager = context.getAssets();\r\n        try{\r\n            InputStream caFileInputStream = assetManager.open(PFX_FILE);\r\n            KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n            keyStore.load(caFileInputStream, PASS_CERT.toCharArray());\r\n            KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(&quot;X509&quot;);\r\n            keyManagerFactory.init(keyStore, PASS_CERT.toCharArray());\r\n            SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n            sslContext.init(keyManagerFactory.getKeyManagers(),null, new SecureRandom());\r\n            SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\r\n            String publicKeyFingerprint = getPublicKeyFingerprint(context);\r\n            httpClientBuilder\r\n                    .sslSocketFactory(sslSocketFactory)\r\n                    .certificatePinner(getCertificatePinner(publicKeyFingerprint))\r\n                    .readTimeout(60, TimeUnit.SECONDS)\r\n                    .connectTimeout(60, TimeUnit.SECONDS);\r\n        }catch (KeyStoreException | CertificateException | NoSuchAlgorithmException | IOException | KeyManagementException | UnrecoverableKeyException e){\r\n            e.printStackTrace();\r\n        }\r\n        return httpClientBuilder\r\n                .build();\r\n    }\r\n\r\n    private static String getPublicKeyFingerprint(Context context) throws IOException {\r\n        String output = null;\r\n        try (InputStream caFileInputStream = context.getAssets().open(PATH_PEM_CERT)){\r\n            int available = caFileInputStream.available();\r\n            byte [] fileBytes = new byte[available];\r\n            caFileInputStream.read(fileBytes);\r\n            byte [] hashBytes = MessageDigest.getInstance(&quot;SHA-256&quot;).digest(fileBytes);\r\n            String hash = new BigInteger(1, hashBytes).toString(16);\r\n            output = String.format(&quot;sha256/%s=&quot;, hash);\r\n        }catch (IOException | NoSuchAlgorithmException e){\r\n            e.printStackTrace();\r\n        }\r\n        return output;\r\n    }\r\n\r\n    private static CertificatePinner getCertificatePinner(String publicKeyFingerprint){\r\n        CertificatePinner output = null;\r\n        CertificatePinner.Builder builder = new CertificatePinner.Builder();\r\n        builder.add(URL_PROD_SSL, publicKeyFingerprint);\r\n        output = builder.build();\r\n        return output;\r\n    }`\r\n\r\nIs My implementation correct? Is there other implementation that I could try?\r\n\r\nI tried use Certificate PFX, the second test was using his .crt file and now I&#39;m trying PEM certificate\r\nHow can I verify if my piner is ok?","title":"How can I verify if my implementation about SSL Pining using Retrofit is all right?","body":"<p>I'm using the PEM certificate alocated in AWS on S3, my application is using TLS Mutual and other verifications, but now I must implement SSL Pining.\nThis is my implementation:\n` public static OkHttpClient generateSecureOkHttpClient(Context context)  {</p>\n<pre><code>    OkHttpClient.Builder httpClientBuilder = new OkHttpClient.Builder();\n    AssetManager assetManager = context.getAssets();\n    try{\n        InputStream caFileInputStream = assetManager.open(PFX_FILE);\n        KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n        keyStore.load(caFileInputStream, PASS_CERT.toCharArray());\n        KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(&quot;X509&quot;);\n        keyManagerFactory.init(keyStore, PASS_CERT.toCharArray());\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n        sslContext.init(keyManagerFactory.getKeyManagers(),null, new SecureRandom());\n        SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\n        String publicKeyFingerprint = getPublicKeyFingerprint(context);\n        httpClientBuilder\n                .sslSocketFactory(sslSocketFactory)\n                .certificatePinner(getCertificatePinner(publicKeyFingerprint))\n                .readTimeout(60, TimeUnit.SECONDS)\n                .connectTimeout(60, TimeUnit.SECONDS);\n    }catch (KeyStoreException | CertificateException | NoSuchAlgorithmException | IOException | KeyManagementException | UnrecoverableKeyException e){\n        e.printStackTrace();\n    }\n    return httpClientBuilder\n            .build();\n}\n\nprivate static String getPublicKeyFingerprint(Context context) throws IOException {\n    String output = null;\n    try (InputStream caFileInputStream = context.getAssets().open(PATH_PEM_CERT)){\n        int available = caFileInputStream.available();\n        byte [] fileBytes = new byte[available];\n        caFileInputStream.read(fileBytes);\n        byte [] hashBytes = MessageDigest.getInstance(&quot;SHA-256&quot;).digest(fileBytes);\n        String hash = new BigInteger(1, hashBytes).toString(16);\n        output = String.format(&quot;sha256/%s=&quot;, hash);\n    }catch (IOException | NoSuchAlgorithmException e){\n        e.printStackTrace();\n    }\n    return output;\n}\n\nprivate static CertificatePinner getCertificatePinner(String publicKeyFingerprint){\n    CertificatePinner output = null;\n    CertificatePinner.Builder builder = new CertificatePinner.Builder();\n    builder.add(URL_PROD_SSL, publicKeyFingerprint);\n    output = builder.build();\n    return output;\n}`\n</code></pre>\n<p>Is My implementation correct? Is there other implementation that I could try?</p>\n<p>I tried use Certificate PFX, the second test was using his .crt file and now I'm trying PEM certificate\nHow can I verify if my piner is ok?</p>\n"},{"tags":["java","javafx","tableview"],"comments":[{"owner":{"account_id":1126061,"reputation":2343,"user_id":2123050,"accept_rate":73,"display_name":"FuryFart"},"score":1,"creation_date":1701333524,"post_id":77576921,"comment_id":136763310,"body_markdown":"JavaFX components support observable properties. You can provide data to your table via ObservableList. Then do your filtering logic on ObservableList. The TableView will update itself accordingly.","body":"JavaFX components support observable properties. You can provide data to your table via ObservableList. Then do your filtering logic on ObservableList. The TableView will update itself accordingly."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1701333583,"post_id":77576921,"comment_id":136763320,"body_markdown":"You should have a model class that you&#39;re using as the item type of your table. Each column would then display one property from that model class, or possibly a value derived from those properties. Then you should have the `items` property of the table set to a `FilteredList`. When the search box updates, set a new filter on the `FilteredList` and the table will update automatically.","body":"You should have a model class that you&#39;re using as the item type of your table. Each column would then display one property from that model class, or possibly a value derived from those properties. Then you should have the <code>items</code> property of the table set to a <code>FilteredList</code>. When the search box updates, set a new filter on the <code>FilteredList</code> and the table will update automatically."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1701340107,"post_id":77576921,"comment_id":136764477,"body_markdown":"*”I want to search the cells content directly, not just the data”*. This doesn’t really make sense. Cells are only created for the visible portion of the data. If you used these for filtering, your filtering would not be able to consider data scrolled out of view, for example.","body":"<i>”I want to search the cells content directly, not just the data”</i>. This doesn’t really make sense. Cells are only created for the visible portion of the data. If you used these for filtering, your filtering would not be able to consider data scrolled out of view, for example."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1701353567,"post_id":77576921,"comment_id":136767068,"body_markdown":"It might help to create a [mre] demonstrating the issue. Just a small application with a table with one or two columns, and indicate where the scalability problem (the *&quot;which is tedious and time consuming ...&quot;* part) lies.","body":"It might help to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the issue. Just a small application with a table with one or two columns, and indicate where the scalability problem (the <i>&quot;which is tedious and time consuming ...&quot;</i> part) lies."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1701377066,"post_id":77576921,"comment_id":136771492,"body_markdown":"You mention *&quot;a boolean is represented as a checkbox with no text, which would not match the search &quot;false&quot;, the toString() method however would)&quot;* -&gt; I suggest creating a question (with the requested [mcve]), which demonstrates just the problem and making it clear what the requirements for that problem are.  For example, would the match to &quot;false&quot; be case insensitive, how would &quot;Y&quot; or &quot;N&quot; values be handled, etc.","body":"You mention <i>&quot;a boolean is represented as a checkbox with no text, which would not match the search &quot;false&quot;, the toString() method however would)&quot;</i> -&gt; I suggest creating a question (with the requested <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>), which demonstrates just the problem and making it clear what the requirements for that problem are.  For example, would the match to &quot;false&quot; be case insensitive, how would &quot;Y&quot; or &quot;N&quot; values be handled, etc."}],"answers":[{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1701361362,"creation_date":1701361362,"answer_id":77580029,"question_id":77576921,"body_markdown":"If I understand you correctly, you need to use `OR`/`||` in your filter. It&#39;s hard to know given that you posted zero code.\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.beans.property.SimpleStringProperty;\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.collections.transformation.FilteredList;\r\nimport javafx.geometry.Insets;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.TableColumn;\r\nimport javafx.scene.control.TableView;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.control.cell.PropertyValueFactory;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.scene.text.Font;\r\nimport javafx.stage.Stage;\r\n\r\npublic class App extends Application\r\n{\r\n\r\n    private final TableView&lt;Person&gt; table = new TableView();\r\n    private final ObservableList&lt;Person&gt; data = FXCollections.observableArrayList(\r\n                                                    new Person(&quot;Jane&quot;, &quot;Smith&quot;, &quot;jacob.smith@example.com&quot;),\r\n                                                    new Person(&quot;Isabella&quot;, &quot;Jane&quot;, &quot;isabella.johnson@example.com&quot;),\r\n                                                    new Person(&quot;Ethan&quot;, &quot;Williams&quot;, &quot;ethan.Jane@example.com&quot;),\r\n                                                    new Person(&quot;Emma&quot;, &quot;Jones&quot;, &quot;emma.jones@example.com&quot;),\r\n                                                    new Person(&quot;Michael&quot;, &quot;Brown&quot;, &quot;michael.brown@example.com&quot;)\r\n                                                );\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage)\r\n    {\r\n        stage.setTitle(&quot;Table View Sample&quot;);\r\n        stage.setWidth(450);\r\n        stage.setHeight(550);\r\n\r\n        Label label = new Label(&quot;Address Book&quot;);\r\n        label.setFont(new Font(&quot;Arial&quot;, 20));\r\n\r\n        TableColumn firstNameCol = new TableColumn(&quot;First Name&quot;);\r\n        firstNameCol.setMinWidth(100);\r\n        firstNameCol.setCellValueFactory(new PropertyValueFactory&lt;Person, String&gt;(&quot;firstName&quot;));\r\n\r\n        TableColumn lastNameCol = new TableColumn(&quot;Last Name&quot;);\r\n        lastNameCol.setMinWidth(100);\r\n        lastNameCol.setCellValueFactory(new PropertyValueFactory&lt;Person, String&gt;(&quot;lastName&quot;));\r\n\r\n        TableColumn emailCol = new TableColumn(&quot;Email&quot;);\r\n        emailCol.setMinWidth(200);\r\n        emailCol.setCellValueFactory(new PropertyValueFactory&lt;Person, String&gt;(&quot;email&quot;));\r\n\r\n        FilteredList&lt;Person&gt; flPerson = new FilteredList(data, p -&gt; true);//Pass the data to a filtered list\r\n        table.setItems(flPerson);//Set the table&#39;s items using the filtered list\r\n        table.getColumns().addAll(firstNameCol, lastNameCol, emailCol);\r\n\r\n        TextField textField = new TextField();\r\n        textField.setPromptText(&quot;Search here!&quot;);\r\n        textField.textProperty().addListener((obs, oldValue, newValue) -&gt; {\r\n            flPerson.setPredicate((p) -&gt; {\r\n                return p.getFirstName().toLowerCase().contains(newValue.toLowerCase().trim()) || \r\n                p.getLastName().toLowerCase().contains(newValue.toLowerCase().trim()) ||\r\n                p.getEmail().toLowerCase().contains(newValue.toLowerCase().trim());           \r\n            });\r\n        });\r\n            \r\n        final VBox root = new VBox();\r\n        root.setSpacing(5);\r\n        root.setPadding(new Insets(10, 0, 0, 10));\r\n        root.getChildren().addAll(label, table, textField);\r\n\r\n        Scene scene = new Scene(root);\r\n\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n                \r\n    public static class Person\r\n    {\r\n        private final SimpleStringProperty firstName = new SimpleStringProperty();\r\n        private final SimpleStringProperty lastName = new SimpleStringProperty();\r\n        private final SimpleStringProperty email = new SimpleStringProperty();\r\n\r\n        private Person(String fName, String lName, String email)\r\n        {\r\n            this.firstName.setValue(fName);\r\n            this.lastName.setValue(lName);\r\n            this.email.setValue(email);\r\n        }\r\n\r\n        public String getFirstName()\r\n        {\r\n            return firstName.get();\r\n        }\r\n\r\n        public void setFirstName(String fName)\r\n        {\r\n            firstName.set(fName);\r\n        }\r\n        \r\n        public SimpleStringProperty getFirstNameProperty()\r\n        {\r\n            return firstName;\r\n        }\r\n        \r\n        public String getLastName()\r\n        {\r\n            return lastName.get();\r\n        }\r\n\r\n        public void setLastName(String fName)\r\n        {\r\n            lastName.set(fName);\r\n        }\r\n\r\n        public SimpleStringProperty getLastNameProperty()\r\n        {\r\n            return lastName;\r\n        }\r\n        \r\n        public String getEmail()\r\n        {\r\n            return email.get();\r\n        }\r\n\r\n        public void setEmail(String fName)\r\n        {\r\n            email.set(fName);\r\n        }\r\n        \r\n        public SimpleStringProperty getEmailProperty()\r\n        {\r\n            return email;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAltered code from https://stackoverflow.com/a/47560767/2423906\r\n\r\n**Output**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OaCGa.gif","title":"(Java FX) TableView access cell contents for searching","body":"<p>If I understand you correctly, you need to use <code>OR</code>/<code>||</code> in your filter. It's hard to know given that you posted zero code.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.collections.transformation.FilteredList;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.TextField;\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.text.Font;\nimport javafx.stage.Stage;\n\npublic class App extends Application\n{\n\n    private final TableView&lt;Person&gt; table = new TableView();\n    private final ObservableList&lt;Person&gt; data = FXCollections.observableArrayList(\n                                                    new Person(&quot;Jane&quot;, &quot;Smith&quot;, &quot;jacob.smith@example.com&quot;),\n                                                    new Person(&quot;Isabella&quot;, &quot;Jane&quot;, &quot;isabella.johnson@example.com&quot;),\n                                                    new Person(&quot;Ethan&quot;, &quot;Williams&quot;, &quot;ethan.Jane@example.com&quot;),\n                                                    new Person(&quot;Emma&quot;, &quot;Jones&quot;, &quot;emma.jones@example.com&quot;),\n                                                    new Person(&quot;Michael&quot;, &quot;Brown&quot;, &quot;michael.brown@example.com&quot;)\n                                                );\n\n    public static void main(String[] args)\n    {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage stage)\n    {\n        stage.setTitle(&quot;Table View Sample&quot;);\n        stage.setWidth(450);\n        stage.setHeight(550);\n\n        Label label = new Label(&quot;Address Book&quot;);\n        label.setFont(new Font(&quot;Arial&quot;, 20));\n\n        TableColumn firstNameCol = new TableColumn(&quot;First Name&quot;);\n        firstNameCol.setMinWidth(100);\n        firstNameCol.setCellValueFactory(new PropertyValueFactory&lt;Person, String&gt;(&quot;firstName&quot;));\n\n        TableColumn lastNameCol = new TableColumn(&quot;Last Name&quot;);\n        lastNameCol.setMinWidth(100);\n        lastNameCol.setCellValueFactory(new PropertyValueFactory&lt;Person, String&gt;(&quot;lastName&quot;));\n\n        TableColumn emailCol = new TableColumn(&quot;Email&quot;);\n        emailCol.setMinWidth(200);\n        emailCol.setCellValueFactory(new PropertyValueFactory&lt;Person, String&gt;(&quot;email&quot;));\n\n        FilteredList&lt;Person&gt; flPerson = new FilteredList(data, p -&gt; true);//Pass the data to a filtered list\n        table.setItems(flPerson);//Set the table's items using the filtered list\n        table.getColumns().addAll(firstNameCol, lastNameCol, emailCol);\n\n        TextField textField = new TextField();\n        textField.setPromptText(&quot;Search here!&quot;);\n        textField.textProperty().addListener((obs, oldValue, newValue) -&gt; {\n            flPerson.setPredicate((p) -&gt; {\n                return p.getFirstName().toLowerCase().contains(newValue.toLowerCase().trim()) || \n                p.getLastName().toLowerCase().contains(newValue.toLowerCase().trim()) ||\n                p.getEmail().toLowerCase().contains(newValue.toLowerCase().trim());           \n            });\n        });\n            \n        final VBox root = new VBox();\n        root.setSpacing(5);\n        root.setPadding(new Insets(10, 0, 0, 10));\n        root.getChildren().addAll(label, table, textField);\n\n        Scene scene = new Scene(root);\n\n        stage.setScene(scene);\n        stage.show();\n    }\n                \n    public static class Person\n    {\n        private final SimpleStringProperty firstName = new SimpleStringProperty();\n        private final SimpleStringProperty lastName = new SimpleStringProperty();\n        private final SimpleStringProperty email = new SimpleStringProperty();\n\n        private Person(String fName, String lName, String email)\n        {\n            this.firstName.setValue(fName);\n            this.lastName.setValue(lName);\n            this.email.setValue(email);\n        }\n\n        public String getFirstName()\n        {\n            return firstName.get();\n        }\n\n        public void setFirstName(String fName)\n        {\n            firstName.set(fName);\n        }\n        \n        public SimpleStringProperty getFirstNameProperty()\n        {\n            return firstName;\n        }\n        \n        public String getLastName()\n        {\n            return lastName.get();\n        }\n\n        public void setLastName(String fName)\n        {\n            lastName.set(fName);\n        }\n\n        public SimpleStringProperty getLastNameProperty()\n        {\n            return lastName;\n        }\n        \n        public String getEmail()\n        {\n            return email.get();\n        }\n\n        public void setEmail(String fName)\n        {\n            email.set(fName);\n        }\n        \n        public SimpleStringProperty getEmailProperty()\n        {\n            return email;\n        }\n    }\n}\n</code></pre>\n<p>Altered code from <a href=\"https://stackoverflow.com/a/47560767/2423906\">https://stackoverflow.com/a/47560767/2423906</a></p>\n<p><strong>Output</strong></p>\n<p><a href=\"https://i.stack.imgur.com/OaCGa.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OaCGa.gif\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1701443963,"creation_date":1701372525,"answer_id":77581200,"question_id":77576921,"body_markdown":"It&#39;s not entirely clear to me what you&#39;re asking, but it seems you want to filter a table view by the text actually displayed in the cells, without replicating code between the filter and the cell. There seems to be some concern that factoring this out into some external representation is not scalable:\r\n\r\n&gt; storing all the converters manually (which is tedious and time consuming, because there are a lot of different Entities)\r\n\r\nI dispute this assertion: the &quot;converter&quot; is just a function from the property type to a `String` which can be succinctly expressed as either a lambda expression or a method reference. Given you need to specify this at least once for each property no matter what you do, there seems to be no scalability issue to reuse this.\r\n\r\nFor example, given a model class for your table data which I&#39;ll call `Friend` (shown later), you can define\r\n\r\n\r\n```\r\nprivate record ColumnSpec&lt;T&gt;(String title, Function&lt;Friend, ObservableValue&lt;T&gt;&gt; property, Function&lt;T, String&gt; formatter) {}\r\n```\r\n\r\nand create a list of these, one for each column:\r\n\r\n        List&lt;ColumnSpec&lt;?&gt;&gt; columns = List.of(\r\n                new ColumnSpec&lt;&gt;(&quot;First Name&quot;, Friend::firstNameProperty, Function.identity()),\r\n                new ColumnSpec&lt;&gt;(&quot;Last Name&quot;, Friend::lastNameProperty, Function.identity()),\r\n                new ColumnSpec&lt;&gt;( &quot;Email&quot;, Friend::emailProperty, String::toLowerCase),\r\n                new ColumnSpec&lt;&gt;(&quot;Birthday&quot;, Friend::birthdayProperty, formatter::format)\r\n        );\r\n\r\nThen you can easily create filtering which reference these:\r\n\r\n    private &lt;T&gt; boolean match(Friend friend, ColumnSpec&lt;T&gt; column, String searchText) {\r\n        T propertyValue = column.property().apply(friend).getValue();\r\n        String formattedValue = column.formatter().apply(propertyValue);\r\n        return formattedValue.contains(searchText);\r\n    }\r\n\r\nwith, for example,\r\n\r\n        ObservableList&lt;Friend&gt; allFriends = FXCollections.observableArrayList();\r\n        FilteredList&lt;Friend&gt; filteredFriends = allFriends.filtered(f -&gt; true);\r\n        table.setItems(filteredFriends);\r\n\r\n        TextField searchField = new TextField();\r\n        searchField.textProperty().addListener((obs, oldSearch, newSearch) -&gt; {\r\n            String search = newSearch.trim();\r\n            if (search.isBlank()) {\r\n                filteredFriends.setPredicate(friend -&gt; true);\r\n            } else {\r\n                filteredFriends.setPredicate(friend -&gt; {\r\n                    for (ColumnSpec&lt;?&gt; column : columns) {\r\n                        if (match(friend, column, search)) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                    return false;\r\n                });\r\n            }\r\n        });\r\n\r\nand you can additionally create the columns from them:\r\n\r\n    private &lt;T&gt; TableColumn&lt;Friend, T&gt; createColumn(ColumnSpec&lt;T&gt; col) {\r\n        TableColumn&lt;Friend, T&gt; column = new TableColumn&lt;&gt;(col.title());\r\n        column.setCellValueFactory(data -&gt; col.property().apply(data.getValue()));\r\n        column.setCellFactory(tc -&gt; new TableCell&lt;&gt;() {\r\n            @Override\r\n            protected void updateItem(T item, boolean empty) {\r\n                super.updateItem(item, empty);\r\n                if (empty || item == null) {\r\n                    setText(&quot;&quot;);\r\n                } else {\r\n                    setText(col.formatter().apply(item));\r\n                }\r\n            }\r\n        });\r\n        return column;\r\n    }\r\n\r\nwith\r\n\r\n        for (ColumnSpec&lt;?&gt; column : columns) {\r\n            table.getColumns().add(createColumn(column));\r\n        }\r\n\r\n\r\nThe chunk of code that begins `List&lt;ColumnSpec&gt; columns =` has `O(n)` lines of code (each being pretty succinct) for `n` columns, and the remaining code is identical no matter how many columns you have.\r\n\r\nHere is a complete example, which is just a minor adaptation of [another answer in this post](https://stackoverflow.com/a/77580029/2189127):\r\n\r\n```\r\npackage org.jamesd.examples.tabledemo;\r\n\r\nimport javafx.beans.property.ObjectProperty;\r\nimport javafx.beans.property.SimpleObjectProperty;\r\nimport javafx.beans.property.SimpleStringProperty;\r\nimport javafx.beans.property.StringProperty;\r\n\r\nimport java.time.LocalDate;\r\n\r\npublic class Friend {\r\n    private final StringProperty firstName = new SimpleStringProperty();\r\n    private final StringProperty lastName = new SimpleStringProperty();\r\n    private final StringProperty email = new SimpleStringProperty();\r\n    private final ObjectProperty&lt;LocalDate&gt; birthday = new SimpleObjectProperty&lt;&gt;();\r\n\r\n    public Friend(String firstName, String lastName, String email, LocalDate birthday) {\r\n        setFirstName(firstName);\r\n        setLastName(lastName);\r\n        setEmail(email);\r\n        setBirthday(birthday);\r\n    }\r\n\r\n    public final String getFirstName() {\r\n        return firstNameProperty().get();\r\n    }\r\n\r\n    public StringProperty firstNameProperty() {\r\n        return firstName;\r\n    }\r\n\r\n    public final void setFirstName(String firstName) {\r\n        this.firstNameProperty().set(firstName);\r\n    }\r\n\r\n    public final String getLastName() {\r\n        return lastNameProperty().get();\r\n    }\r\n\r\n    public StringProperty lastNameProperty() {\r\n        return lastName;\r\n    }\r\n\r\n    public final void setLastName(String lastName) {\r\n        this.lastNameProperty().set(lastName);\r\n    }\r\n\r\n    public final LocalDate getBirthday() {\r\n        return birthdayProperty().get();\r\n    }\r\n\r\n    public ObjectProperty&lt;LocalDate&gt; birthdayProperty() {\r\n        return birthday;\r\n    }\r\n\r\n    public final void setBirthday(LocalDate birthday) {\r\n        this.birthdayProperty().set(birthday);\r\n    }\r\n\r\n    public final String getEmail() {\r\n        return emailProperty().get();\r\n    }\r\n\r\n    public StringProperty emailProperty() {\r\n        return email;\r\n    }\r\n\r\n    public final void setEmail(String email) {\r\n        this.emailProperty().set(email);\r\n    }\r\n}\r\n``` \r\n\r\n```\r\npackage org.jamesd.examples.tabledemo;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.beans.value.ObservableValue;\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.collections.transformation.FilteredList;\r\nimport javafx.geometry.Insets;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.TableCell;\r\nimport javafx.scene.control.TableColumn;\r\nimport javafx.scene.control.TableView;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.time.LocalDate;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.util.List;\r\nimport java.util.function.Function;\r\n\r\npublic class HelloApplication extends Application {\r\n\r\n    private record ColumnSpec&lt;T&gt;(String title, Function&lt;Friend, ObservableValue&lt;T&gt;&gt; property, Function&lt;T, String&gt; formatter) {}\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;YYYY-MM-dd&quot;);\r\n        List&lt;ColumnSpec&gt; columns = List.of(\r\n                new ColumnSpec&lt;&gt;(&quot;First Name&quot;, Friend::firstNameProperty, Function.identity()),\r\n                new ColumnSpec&lt;&gt;(&quot;Last Name&quot;, Friend::lastNameProperty, Function.identity()),\r\n                new ColumnSpec&lt;&gt;( &quot;Email&quot;, Friend::emailProperty, String::toLowerCase),\r\n                new ColumnSpec&lt;&gt;(&quot;Birthday&quot;, Friend::birthdayProperty, formatter::format)\r\n        );\r\n\r\n        TableView&lt;Friend&gt; table = new TableView&lt;&gt;();\r\n        ObservableList&lt;Friend&gt; allFriends = FXCollections.observableArrayList();\r\n        FilteredList&lt;Friend&gt; filteredFriends = allFriends.filtered(f -&gt; true);\r\n        table.setItems(filteredFriends);\r\n\r\n        TextField searchField = new TextField();\r\n        searchField.textProperty().addListener((obs, oldSearch, newSearch) -&gt; {\r\n            String search = newSearch.trim();\r\n            if (search.isBlank()) {\r\n                filteredFriends.setPredicate(friend -&gt; true);\r\n            } else {\r\n                filteredFriends.setPredicate(friend -&gt; {\r\n                    for (ColumnSpec&lt;?&gt; column : columns) {\r\n                        if (match(friend, column, search)) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                    return false;\r\n                });\r\n            }\r\n        });\r\n\r\n        for (ColumnSpec&lt;?&gt; column : columns) {\r\n            table.getColumns().add(createColumn(column));\r\n        }\r\n\r\n        allFriends.setAll(\r\n                new Friend(&quot;Jane&quot;, &quot;Smith&quot;, &quot;jacob.smith@example.com&quot;, LocalDate.of(2001, 5, 30)),\r\n                new Friend(&quot;Isabella&quot;, &quot;Jane&quot;, &quot;isabella.johnson@example.com&quot;, LocalDate.of(2003, 3, 25)),\r\n                new Friend(&quot;Ethan&quot;, &quot;Williams&quot;, &quot;ethan.Jane@example.com&quot;, LocalDate.of(1995, 3, 25)),\r\n                new Friend(&quot;Emma&quot;, &quot;Jones&quot;, &quot;emma.jones@example.com&quot;, LocalDate.of(2005, 5, 3)),\r\n                new Friend(&quot;Michael&quot;, &quot;Brown&quot;, &quot;michael.brown@example.com&quot;, LocalDate.of(1998, 10, 5))\r\n        );\r\n\r\n        BorderPane root = new BorderPane(table);\r\n        root.setTop(searchField);\r\n        BorderPane.setAlignment(searchField, Pos.CENTER);\r\n        BorderPane.setMargin(searchField, new Insets(5));\r\n        root.setPadding(new Insets(5));\r\n        Scene scene = new Scene(root, 600, 400);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    private &lt;T&gt; boolean match(Friend friend, ColumnSpec&lt;T&gt; column, String searchText) {\r\n        T propertyValue = column.property().apply(friend).getValue();\r\n        String formattedValue = column.formatter().apply(propertyValue);\r\n        return formattedValue.contains(searchText);\r\n    }\r\n\r\n    private &lt;T&gt; TableColumn&lt;Friend, T&gt; createColumn(ColumnSpec&lt;T&gt; col) {\r\n        TableColumn&lt;Friend, T&gt; column = new TableColumn&lt;&gt;(col.title());\r\n        column.setCellValueFactory(data -&gt; col.property().apply(data.getValue()));\r\n        column.setCellFactory(tc -&gt; new TableCell&lt;&gt;() {\r\n            @Override\r\n            protected void updateItem(T item, boolean empty) {\r\n                super.updateItem(item, empty);\r\n                if (empty || item == null) {\r\n                    setText(&quot;&quot;);\r\n                } else {\r\n                    setText(col.formatter().apply(item));\r\n                }\r\n            }\r\n        });\r\n        return column;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```","title":"(Java FX) TableView access cell contents for searching","body":"<p>It's not entirely clear to me what you're asking, but it seems you want to filter a table view by the text actually displayed in the cells, without replicating code between the filter and the cell. There seems to be some concern that factoring this out into some external representation is not scalable:</p>\n<blockquote>\n<p>storing all the converters manually (which is tedious and time consuming, because there are a lot of different Entities)</p>\n</blockquote>\n<p>I dispute this assertion: the &quot;converter&quot; is just a function from the property type to a <code>String</code> which can be succinctly expressed as either a lambda expression or a method reference. Given you need to specify this at least once for each property no matter what you do, there seems to be no scalability issue to reuse this.</p>\n<p>For example, given a model class for your table data which I'll call <code>Friend</code> (shown later), you can define</p>\n<pre><code>private record ColumnSpec&lt;T&gt;(String title, Function&lt;Friend, ObservableValue&lt;T&gt;&gt; property, Function&lt;T, String&gt; formatter) {}\n</code></pre>\n<p>and create a list of these, one for each column:</p>\n<pre><code>    List&lt;ColumnSpec&lt;?&gt;&gt; columns = List.of(\n            new ColumnSpec&lt;&gt;(&quot;First Name&quot;, Friend::firstNameProperty, Function.identity()),\n            new ColumnSpec&lt;&gt;(&quot;Last Name&quot;, Friend::lastNameProperty, Function.identity()),\n            new ColumnSpec&lt;&gt;( &quot;Email&quot;, Friend::emailProperty, String::toLowerCase),\n            new ColumnSpec&lt;&gt;(&quot;Birthday&quot;, Friend::birthdayProperty, formatter::format)\n    );\n</code></pre>\n<p>Then you can easily create filtering which reference these:</p>\n<pre><code>private &lt;T&gt; boolean match(Friend friend, ColumnSpec&lt;T&gt; column, String searchText) {\n    T propertyValue = column.property().apply(friend).getValue();\n    String formattedValue = column.formatter().apply(propertyValue);\n    return formattedValue.contains(searchText);\n}\n</code></pre>\n<p>with, for example,</p>\n<pre><code>    ObservableList&lt;Friend&gt; allFriends = FXCollections.observableArrayList();\n    FilteredList&lt;Friend&gt; filteredFriends = allFriends.filtered(f -&gt; true);\n    table.setItems(filteredFriends);\n\n    TextField searchField = new TextField();\n    searchField.textProperty().addListener((obs, oldSearch, newSearch) -&gt; {\n        String search = newSearch.trim();\n        if (search.isBlank()) {\n            filteredFriends.setPredicate(friend -&gt; true);\n        } else {\n            filteredFriends.setPredicate(friend -&gt; {\n                for (ColumnSpec&lt;?&gt; column : columns) {\n                    if (match(friend, column, search)) {\n                        return true;\n                    }\n                }\n                return false;\n            });\n        }\n    });\n</code></pre>\n<p>and you can additionally create the columns from them:</p>\n<pre><code>private &lt;T&gt; TableColumn&lt;Friend, T&gt; createColumn(ColumnSpec&lt;T&gt; col) {\n    TableColumn&lt;Friend, T&gt; column = new TableColumn&lt;&gt;(col.title());\n    column.setCellValueFactory(data -&gt; col.property().apply(data.getValue()));\n    column.setCellFactory(tc -&gt; new TableCell&lt;&gt;() {\n        @Override\n        protected void updateItem(T item, boolean empty) {\n            super.updateItem(item, empty);\n            if (empty || item == null) {\n                setText(&quot;&quot;);\n            } else {\n                setText(col.formatter().apply(item));\n            }\n        }\n    });\n    return column;\n}\n</code></pre>\n<p>with</p>\n<pre><code>    for (ColumnSpec&lt;?&gt; column : columns) {\n        table.getColumns().add(createColumn(column));\n    }\n</code></pre>\n<p>The chunk of code that begins <code>List&lt;ColumnSpec&gt; columns =</code> has <code>O(n)</code> lines of code (each being pretty succinct) for <code>n</code> columns, and the remaining code is identical no matter how many columns you have.</p>\n<p>Here is a complete example, which is just a minor adaptation of <a href=\"https://stackoverflow.com/a/77580029/2189127\">another answer in this post</a>:</p>\n<pre><code>package org.jamesd.examples.tabledemo;\n\nimport javafx.beans.property.ObjectProperty;\nimport javafx.beans.property.SimpleObjectProperty;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.beans.property.StringProperty;\n\nimport java.time.LocalDate;\n\npublic class Friend {\n    private final StringProperty firstName = new SimpleStringProperty();\n    private final StringProperty lastName = new SimpleStringProperty();\n    private final StringProperty email = new SimpleStringProperty();\n    private final ObjectProperty&lt;LocalDate&gt; birthday = new SimpleObjectProperty&lt;&gt;();\n\n    public Friend(String firstName, String lastName, String email, LocalDate birthday) {\n        setFirstName(firstName);\n        setLastName(lastName);\n        setEmail(email);\n        setBirthday(birthday);\n    }\n\n    public final String getFirstName() {\n        return firstNameProperty().get();\n    }\n\n    public StringProperty firstNameProperty() {\n        return firstName;\n    }\n\n    public final void setFirstName(String firstName) {\n        this.firstNameProperty().set(firstName);\n    }\n\n    public final String getLastName() {\n        return lastNameProperty().get();\n    }\n\n    public StringProperty lastNameProperty() {\n        return lastName;\n    }\n\n    public final void setLastName(String lastName) {\n        this.lastNameProperty().set(lastName);\n    }\n\n    public final LocalDate getBirthday() {\n        return birthdayProperty().get();\n    }\n\n    public ObjectProperty&lt;LocalDate&gt; birthdayProperty() {\n        return birthday;\n    }\n\n    public final void setBirthday(LocalDate birthday) {\n        this.birthdayProperty().set(birthday);\n    }\n\n    public final String getEmail() {\n        return emailProperty().get();\n    }\n\n    public StringProperty emailProperty() {\n        return email;\n    }\n\n    public final void setEmail(String email) {\n        this.emailProperty().set(email);\n    }\n}\n</code></pre>\n<pre><code>package org.jamesd.examples.tabledemo;\n\nimport javafx.application.Application;\nimport javafx.beans.value.ObservableValue;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.collections.transformation.FilteredList;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.TableCell;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.BorderPane;\nimport javafx.stage.Stage;\n\nimport java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.util.List;\nimport java.util.function.Function;\n\npublic class HelloApplication extends Application {\n\n    private record ColumnSpec&lt;T&gt;(String title, Function&lt;Friend, ObservableValue&lt;T&gt;&gt; property, Function&lt;T, String&gt; formatter) {}\n\n    @Override\n    public void start(Stage stage) {\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;YYYY-MM-dd&quot;);\n        List&lt;ColumnSpec&gt; columns = List.of(\n                new ColumnSpec&lt;&gt;(&quot;First Name&quot;, Friend::firstNameProperty, Function.identity()),\n                new ColumnSpec&lt;&gt;(&quot;Last Name&quot;, Friend::lastNameProperty, Function.identity()),\n                new ColumnSpec&lt;&gt;( &quot;Email&quot;, Friend::emailProperty, String::toLowerCase),\n                new ColumnSpec&lt;&gt;(&quot;Birthday&quot;, Friend::birthdayProperty, formatter::format)\n        );\n\n        TableView&lt;Friend&gt; table = new TableView&lt;&gt;();\n        ObservableList&lt;Friend&gt; allFriends = FXCollections.observableArrayList();\n        FilteredList&lt;Friend&gt; filteredFriends = allFriends.filtered(f -&gt; true);\n        table.setItems(filteredFriends);\n\n        TextField searchField = new TextField();\n        searchField.textProperty().addListener((obs, oldSearch, newSearch) -&gt; {\n            String search = newSearch.trim();\n            if (search.isBlank()) {\n                filteredFriends.setPredicate(friend -&gt; true);\n            } else {\n                filteredFriends.setPredicate(friend -&gt; {\n                    for (ColumnSpec&lt;?&gt; column : columns) {\n                        if (match(friend, column, search)) {\n                            return true;\n                        }\n                    }\n                    return false;\n                });\n            }\n        });\n\n        for (ColumnSpec&lt;?&gt; column : columns) {\n            table.getColumns().add(createColumn(column));\n        }\n\n        allFriends.setAll(\n                new Friend(&quot;Jane&quot;, &quot;Smith&quot;, &quot;jacob.smith@example.com&quot;, LocalDate.of(2001, 5, 30)),\n                new Friend(&quot;Isabella&quot;, &quot;Jane&quot;, &quot;isabella.johnson@example.com&quot;, LocalDate.of(2003, 3, 25)),\n                new Friend(&quot;Ethan&quot;, &quot;Williams&quot;, &quot;ethan.Jane@example.com&quot;, LocalDate.of(1995, 3, 25)),\n                new Friend(&quot;Emma&quot;, &quot;Jones&quot;, &quot;emma.jones@example.com&quot;, LocalDate.of(2005, 5, 3)),\n                new Friend(&quot;Michael&quot;, &quot;Brown&quot;, &quot;michael.brown@example.com&quot;, LocalDate.of(1998, 10, 5))\n        );\n\n        BorderPane root = new BorderPane(table);\n        root.setTop(searchField);\n        BorderPane.setAlignment(searchField, Pos.CENTER);\n        BorderPane.setMargin(searchField, new Insets(5));\n        root.setPadding(new Insets(5));\n        Scene scene = new Scene(root, 600, 400);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    private &lt;T&gt; boolean match(Friend friend, ColumnSpec&lt;T&gt; column, String searchText) {\n        T propertyValue = column.property().apply(friend).getValue();\n        String formattedValue = column.formatter().apply(propertyValue);\n        return formattedValue.contains(searchText);\n    }\n\n    private &lt;T&gt; TableColumn&lt;Friend, T&gt; createColumn(ColumnSpec&lt;T&gt; col) {\n        TableColumn&lt;Friend, T&gt; column = new TableColumn&lt;&gt;(col.title());\n        column.setCellValueFactory(data -&gt; col.property().apply(data.getValue()));\n        column.setCellFactory(tc -&gt; new TableCell&lt;&gt;() {\n            @Override\n            protected void updateItem(T item, boolean empty) {\n                super.updateItem(item, empty);\n                if (empty || item == null) {\n                    setText(&quot;&quot;);\n                } else {\n                    setText(col.formatter().apply(item));\n                }\n            }\n        });\n        return column;\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29319987,"reputation":3,"user_id":22463817,"display_name":"Kathi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77581200,"answer_count":2,"score":0,"last_activity_date":1701443963,"creation_date":1701332894,"question_id":77576921,"body_markdown":"I am currently working on implementing a search box, which should search through all rows and columns of a (Filtered)TableView. I want the search box to filter items directly in the table and only show rows where the search-string matches any of the text in any of the currently displayed columns (as a user would expect).\r\n\r\nHerein lies my problem: I want to search **the cells content directly, not just the data**. \r\nI can&#39;t use toString() for each data object, because toString() and the displayed value may vastly differ (f.e. a boolean is represented as a checkbox with no text, which would not match the search &quot;false&quot;, the toString() method however would). \r\nI tried generating an empty cell with the cellValueFactory for each column and filling it with data, but I can&#39;t access the updateItem()-Method (it&#39;s protected), which generates the cell and according to the docs I shouldn&#39;t do that anyway.\r\n\r\n\r\nOther than implementing a cell, which makes updateItem() public (which probably shouldn&#39;t be done), or storing all the converters manually (which is tedious and time consuming, because there are a lot of different Entities), do you know of any better solution for searching in a tableView?","title":"(Java FX) TableView access cell contents for searching","body":"<p>I am currently working on implementing a search box, which should search through all rows and columns of a (Filtered)TableView. I want the search box to filter items directly in the table and only show rows where the search-string matches any of the text in any of the currently displayed columns (as a user would expect).</p>\n<p>Herein lies my problem: I want to search <strong>the cells content directly, not just the data</strong>.\nI can't use toString() for each data object, because toString() and the displayed value may vastly differ (f.e. a boolean is represented as a checkbox with no text, which would not match the search &quot;false&quot;, the toString() method however would).\nI tried generating an empty cell with the cellValueFactory for each column and filling it with data, but I can't access the updateItem()-Method (it's protected), which generates the cell and according to the docs I shouldn't do that anyway.</p>\n<p>Other than implementing a cell, which makes updateItem() public (which probably shouldn't be done), or storing all the converters manually (which is tedious and time consuming, because there are a lot of different Entities), do you know of any better solution for searching in a tableView?</p>\n"},{"tags":["java","android","android-studio","navigation-drawer"],"answers":[{"tags":[],"owner":{"account_id":22090632,"reputation":9,"user_id":16348740,"display_name":"Samuel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701443962,"creation_date":1701443962,"answer_id":77586298,"question_id":77586221,"body_markdown":"check you setDisplayHomeAsUpEnabled its returning a null obj","title":"Error when running project with Navigation Drawer","body":"<p>check you setDisplayHomeAsUpEnabled its returning a null obj</p>\n"}],"owner":{"account_id":29893483,"reputation":1,"user_id":22909049,"display_name":"Nathan Diep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701443962,"creation_date":1701443178,"question_id":77586221,"body_markdown":"I tried to run the Navigation Drawer in the project but got an error.\r\nI&#39;m a student and I encountered this problem in a project I was working on.\r\nBecause I&#39;m not good at English, I have to use Google Translate to write. Hope you guys understand what I want to say. Thanks a lot.\r\n\r\nThe error is as follows:\r\n\r\n```\r\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.ce160343.exe_4/com.ce160343.exe_4.TestActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void androidx.appcompat.app.ActionBar.setDisplayHomeAsUpEnabled(boolean)&#39; on a null object reference\r\n                                                                                                    \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2464)\r\n                                                                                                    \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2524)\r\n                                                                                                    \tat android.app.ActivityThread.access$900(ActivityThread.java:154)\r\n                                                                                                    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1391)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:234)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:5526)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\r\n                                                                                                    Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void androidx.appcompat.app.ActionBar.setDisplayHomeAsUpEnabled(boolean)&#39; on a null object reference\r\n                                                                                                    \tat com.ce160343.exe_4.TestActivity.onCreate(TestActivity.java:28)\r\n                                                                                                    \tat android.app.Activity.performCreate(Activity.java:6285)\r\n                                                                                                    \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1108)\r\n                                                                                                    \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2417)\r\n                                                                                                    \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2524)&#160;\r\n                                                                                                    \tat android.app.ActivityThread.access$900(ActivityThread.java:154)&#160;\r\n                                                                                                    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1391)&#160;\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:234)&#160;\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:5526)&#160;\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)&#160;\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)&#160;\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)&#160;\r\n```\r\n\r\n\r\nTestActivity:\r\n\r\n```\r\npackage com.ce160343.exe_4;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.ActionBarDrawerToggle;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.MenuItem;\r\n\r\npublic class TestActivity extends AppCompatActivity {\r\n    public DrawerLayout drawerLayout;\r\n    public ActionBarDrawerToggle actionBarDrawerToggle;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_test);\r\n\r\n        drawerLayout = findViewById(R.id.my_drawer_layout);\r\n        actionBarDrawerToggle = new ActionBarDrawerToggle(TestActivity.this, drawerLayout, R.string.nav_open, R.string.nav_close);\r\n\r\n        drawerLayout.addDrawerListener(actionBarDrawerToggle);\r\n        actionBarDrawerToggle.syncState();\r\n\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n    }\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n\r\n        if (actionBarDrawerToggle.onOptionsItemSelected(item)) {\r\n            return true;\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n}\r\n```\r\nactivity_test.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.drawerlayout.widget.DrawerLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/my_drawer_layout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.TestActivity&quot;\r\n    tools:ignore=&quot;HardcodedText&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;128dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;Name&quot;\r\n            android:textSize=&quot;18sp&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;com.google.android.material.navigation.NavigationView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;start&quot;\r\n        app:menu=&quot;@menu/navigation_menu&quot; /&gt;\r\n\r\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n```\r\nnavigation_menu:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    tools:ignore=&quot;HardcodedText&quot;&gt;\r\n\r\n    &lt;group android:checkableBehavior=&quot;single&quot;&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/nav_kp&quot;\r\n            android:title=&quot;@string/nav_kp&quot;\r\n            android:icon=&quot;@drawable/ic_kp&quot;\r\n            /&gt;\r\n\r\n        &lt;item\r\n            android:id=&quot;@+id/nav_dvm&quot;\r\n            android:title=&quot;@string/nav_dvm&quot;\r\n            android:icon=&quot;@drawable/ic_dvm&quot;\r\n            /&gt;\r\n\r\n        &lt;item\r\n            android:id=&quot;@+id/nav_gmnb&quot;\r\n            android:title=&quot;@string/nav_gmnb&quot;\r\n            android:icon=&quot;@drawable/ic_gmnb&quot;/&gt;\r\n\r\n        &lt;item\r\n            android:id=&quot;@+id/nav_dsyt&quot;\r\n            android:title=&quot;@string/nav_dsyt&quot;\r\n            android:icon=&quot;@drawable/ic_dsyt&quot;/&gt;\r\n\r\n        &lt;item\r\n            android:id=&quot;@+id/nav_dv&quot;\r\n            android:title=&quot;@string/nav_dv&quot;\r\n            android:icon=&quot;@drawable/ic_dv&quot;/&gt;\r\n\r\n        &lt;item\r\n            android:id=&quot;@+id/nav_eykh&quot;\r\n            android:title=&quot;@string/nav_eykh&quot;\r\n            android:icon=&quot;@drawable/ic_eykh&quot;/&gt;\r\n\r\n        &lt;item\r\n            android:id=&quot;@+id/nav_cstc&quot;\r\n            android:title=&quot;@string/nav_cstc&quot;\r\n            android:icon=&quot;@drawable/ic_cstc&quot;/&gt;\r\n\r\n        &lt;item\r\n            android:id=&quot;@+id/nav_hd&quot;\r\n            android:title=&quot;@string/nav_hd&quot;\r\n            android:icon=&quot;@drawable/ic_hd&quot;/&gt;\r\n\r\n        &lt;item\r\n            android:id=&quot;@+id/nav_tg&quot;\r\n            android:title=&quot;@string/nav_tg&quot;\r\n            android:icon=&quot;@drawable/ic_tg&quot;/&gt;\r\n    &lt;/group&gt;\r\n\r\n\r\n&lt;/menu&gt;\r\n```","title":"Error when running project with Navigation Drawer","body":"<p>I tried to run the Navigation Drawer in the project but got an error.\nI'm a student and I encountered this problem in a project I was working on.\nBecause I'm not good at English, I have to use Google Translate to write. Hope you guys understand what I want to say. Thanks a lot.</p>\n<p>The error is as follows:</p>\n<pre><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.ce160343.exe_4/com.ce160343.exe_4.TestActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'void androidx.appcompat.app.ActionBar.setDisplayHomeAsUpEnabled(boolean)' on a null object reference\n                                                                                                        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2464)\n                                                                                                        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2524)\n                                                                                                        at android.app.ActivityThread.access$900(ActivityThread.java:154)\n                                                                                                        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1391)\n                                                                                                        at android.os.Handler.dispatchMessage(Handler.java:102)\n                                                                                                        at android.os.Looper.loop(Looper.java:234)\n                                                                                                        at android.app.ActivityThread.main(ActivityThread.java:5526)\n                                                                                                        at java.lang.reflect.Method.invoke(Native Method)\n                                                                                                        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\n                                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n                                                                                                    Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void androidx.appcompat.app.ActionBar.setDisplayHomeAsUpEnabled(boolean)' on a null object reference\n                                                                                                        at com.ce160343.exe_4.TestActivity.onCreate(TestActivity.java:28)\n                                                                                                        at android.app.Activity.performCreate(Activity.java:6285)\n                                                                                                        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1108)\n                                                                                                        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2417)\n                                                                                                        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2524) \n                                                                                                        at android.app.ActivityThread.access$900(ActivityThread.java:154) \n                                                                                                        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1391) \n                                                                                                        at android.os.Handler.dispatchMessage(Handler.java:102) \n                                                                                                        at android.os.Looper.loop(Looper.java:234) \n                                                                                                        at android.app.ActivityThread.main(ActivityThread.java:5526) \n                                                                                                        at java.lang.reflect.Method.invoke(Native Method) \n                                                                                                        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726) \n                                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616) \n</code></pre>\n<p>TestActivity:</p>\n<pre><code>package com.ce160343.exe_4;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.ActionBarDrawerToggle;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.drawerlayout.widget.DrawerLayout;\n\nimport android.os.Bundle;\nimport android.view.MenuItem;\n\npublic class TestActivity extends AppCompatActivity {\n    public DrawerLayout drawerLayout;\n    public ActionBarDrawerToggle actionBarDrawerToggle;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_test);\n\n        drawerLayout = findViewById(R.id.my_drawer_layout);\n        actionBarDrawerToggle = new ActionBarDrawerToggle(TestActivity.this, drawerLayout, R.string.nav_open, R.string.nav_close);\n\n        drawerLayout.addDrawerListener(actionBarDrawerToggle);\n        actionBarDrawerToggle.syncState();\n\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n    }\n    @Override\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n\n        if (actionBarDrawerToggle.onOptionsItemSelected(item)) {\n            return true;\n        }\n        return super.onOptionsItemSelected(item);\n    }\n}\n</code></pre>\n<p>activity_test.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/my_drawer_layout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.TestActivity&quot;\n    tools:ignore=&quot;HardcodedText&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;128dp&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;Name&quot;\n            android:textSize=&quot;18sp&quot; /&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;com.google.android.material.navigation.NavigationView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;start&quot;\n        app:menu=&quot;@menu/navigation_menu&quot; /&gt;\n\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n<p>navigation_menu:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    tools:ignore=&quot;HardcodedText&quot;&gt;\n\n    &lt;group android:checkableBehavior=&quot;single&quot;&gt;\n        &lt;item\n            android:id=&quot;@+id/nav_kp&quot;\n            android:title=&quot;@string/nav_kp&quot;\n            android:icon=&quot;@drawable/ic_kp&quot;\n            /&gt;\n\n        &lt;item\n            android:id=&quot;@+id/nav_dvm&quot;\n            android:title=&quot;@string/nav_dvm&quot;\n            android:icon=&quot;@drawable/ic_dvm&quot;\n            /&gt;\n\n        &lt;item\n            android:id=&quot;@+id/nav_gmnb&quot;\n            android:title=&quot;@string/nav_gmnb&quot;\n            android:icon=&quot;@drawable/ic_gmnb&quot;/&gt;\n\n        &lt;item\n            android:id=&quot;@+id/nav_dsyt&quot;\n            android:title=&quot;@string/nav_dsyt&quot;\n            android:icon=&quot;@drawable/ic_dsyt&quot;/&gt;\n\n        &lt;item\n            android:id=&quot;@+id/nav_dv&quot;\n            android:title=&quot;@string/nav_dv&quot;\n            android:icon=&quot;@drawable/ic_dv&quot;/&gt;\n\n        &lt;item\n            android:id=&quot;@+id/nav_eykh&quot;\n            android:title=&quot;@string/nav_eykh&quot;\n            android:icon=&quot;@drawable/ic_eykh&quot;/&gt;\n\n        &lt;item\n            android:id=&quot;@+id/nav_cstc&quot;\n            android:title=&quot;@string/nav_cstc&quot;\n            android:icon=&quot;@drawable/ic_cstc&quot;/&gt;\n\n        &lt;item\n            android:id=&quot;@+id/nav_hd&quot;\n            android:title=&quot;@string/nav_hd&quot;\n            android:icon=&quot;@drawable/ic_hd&quot;/&gt;\n\n        &lt;item\n            android:id=&quot;@+id/nav_tg&quot;\n            android:title=&quot;@string/nav_tg&quot;\n            android:icon=&quot;@drawable/ic_tg&quot;/&gt;\n    &lt;/group&gt;\n\n\n&lt;/menu&gt;\n</code></pre>\n"},{"tags":["java","intellij-idea","switch-statement"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1681735113,"post_id":76035021,"comment_id":134099695,"body_markdown":"I do not use IDEA but can&#39;t you choose which warnings it shows? Despite I never heard of &quot;enhanced&quot; switch. AFAIK in the Java Language Specification there is only an enhanced `for` - a switch can be a switch statement or a switch expression; both accept switch rules or switch block statements","body":"I do not use IDEA but can&#39;t you choose which warnings it shows? Despite I never heard of &quot;enhanced&quot; switch. AFAIK in the Java Language Specification there is only an enhanced <code>for</code> - a switch can be a switch statement or a switch expression; both accept switch rules or switch block statements"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1681904806,"post_id":76035021,"comment_id":134131427,"body_markdown":"Is it possible to provide code example?","body":"Is it possible to provide code example?"}],"answers":[{"tags":[],"owner":{"account_id":9590587,"reputation":2429,"user_id":7121619,"display_name":"Marit"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1682349900,"creation_date":1682007433,"answer_id":76066259,"question_id":76035021,"body_markdown":"[IntelliJ blogpost][1] talks about three benefits of the enhanced switch:\r\n\r\n 1. Concise code.\r\n 2. Can return a value. \r\n 3. No need to use `break`. In absence of a break statement, the control doesn’t fall through the switch labels which helps avoid logical errors.\r\n\r\nIn your particular example, you are already returning from the switch statement and the enhanced switch statement might not offer much. The enhanced switch improves the code when the old switch uses value assignments and breaks. For example:\r\n\r\n    \r\n\r\n    int height = 0; \r\n        switch (size) {\r\n            case S:\r\n                height = 18;\r\n                // missing break (bug)\r\n            case M:\r\n                height = 20;\r\n                break;\r\n            case L:\r\n                height = 25;\r\n                break;\r\n        }\r\n\r\n\r\nwhich enhanced to:\r\n\r\n    int height = 0; \r\n        switch (size) {\r\n            case S -&gt; height = 18;\r\n            case M -&gt; height = 20;\r\n            case L -&gt; height = 25;\r\n        }\r\n\r\n\r\nHowever, if your wish is to no longer get this warning, it is possible to turn it off in IntelliJ IDEA. To do so, open Preferences, and go to Editor -&gt; Inspections (I&#39;m using version 2023.1). Search for (part of) the warning (`Switch statement can be replaced with enhanced &#39;switch&#39;`) and de-select it.\r\n\r\n\r\n  [1]: https://blog.jetbrains.com/idea/2019/02/java-12-and-intellij-idea/","title":"What are the benefits of enhanced switch?","body":"<p><a href=\"https://blog.jetbrains.com/idea/2019/02/java-12-and-intellij-idea/\" rel=\"nofollow noreferrer\">IntelliJ blogpost</a> talks about three benefits of the enhanced switch:</p>\n<ol>\n<li>Concise code.</li>\n<li>Can return a value.</li>\n<li>No need to use <code>break</code>. In absence of a break statement, the control doesn’t fall through the switch labels which helps avoid logical errors.</li>\n</ol>\n<p>In your particular example, you are already returning from the switch statement and the enhanced switch statement might not offer much. The enhanced switch improves the code when the old switch uses value assignments and breaks. For example:</p>\n<pre><code>int height = 0; \n    switch (size) {\n        case S:\n            height = 18;\n            // missing break (bug)\n        case M:\n            height = 20;\n            break;\n        case L:\n            height = 25;\n            break;\n    }\n</code></pre>\n<p>which enhanced to:</p>\n<pre><code>int height = 0; \n    switch (size) {\n        case S -&gt; height = 18;\n        case M -&gt; height = 20;\n        case L -&gt; height = 25;\n    }\n</code></pre>\n<p>However, if your wish is to no longer get this warning, it is possible to turn it off in IntelliJ IDEA. To do so, open Preferences, and go to Editor -&gt; Inspections (I'm using version 2023.1). Search for (part of) the warning (<code>Switch statement can be replaced with enhanced 'switch'</code>) and de-select it.</p>\n"}],"owner":{"account_id":7553133,"reputation":423,"user_id":5733842,"display_name":"Cohensius"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1062,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":76066259,"answer_count":1,"score":-2,"last_activity_date":1701443877,"creation_date":1681733393,"question_id":76035021,"body_markdown":"Recently we upgrade our code base from Java 8 to Java 17. Since then, IntelliJ IDEA warns about old switch-case statements: \r\n &gt; Switch statement can be replaced with enhanced &#39;switch&#39;\r\n\r\nWhat are the benefits of the enhanced switch, besides readability? \r\n\r\nExample: java 8 switch:\r\n\r\n            switch (foo) {\r\n                case &quot;bla&quot;: return 1;\r\n                case &quot;bla_bla&quot;: return 2;\r\n            }\r\nafter accepting `Switch statement can be replaced with enhanced &#39;switch&#39;` it looks like that:\r\n\r\n            switch (foo) {\r\n                case &quot;bla&quot; -&gt; { return 1; }\r\n                case &quot;bla_bla&quot; -&gt; { return 2; }\r\n            }\r\n\r\n  [1]: https://medium.com/@javatechie/the-evolution-of-switch-statement-from-java-7-to-java-17-4b5eee8d29b7","title":"What are the benefits of enhanced switch?","body":"<p>Recently we upgrade our code base from Java 8 to Java 17. Since then, IntelliJ IDEA warns about old switch-case statements:</p>\n<blockquote>\n<p>Switch statement can be replaced with enhanced 'switch'</p>\n</blockquote>\n<p>What are the benefits of the enhanced switch, besides readability?</p>\n<p>Example: java 8 switch:</p>\n<pre><code>        switch (foo) {\n            case &quot;bla&quot;: return 1;\n            case &quot;bla_bla&quot;: return 2;\n        }\n</code></pre>\n<p>after accepting <code>Switch statement can be replaced with enhanced 'switch'</code> it looks like that:</p>\n<pre><code>        switch (foo) {\n            case &quot;bla&quot; -&gt; { return 1; }\n            case &quot;bla_bla&quot; -&gt; { return 2; }\n        }\n</code></pre>\n"},{"tags":["java","multithreading","sockets","file-transfer"],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1701443788,"creation_date":1701443141,"answer_id":77586218,"question_id":77586144,"body_markdown":"Except possibly in an extraordinary case, there is absolutely no reason to do this. A single thread can retrieve data from a Socket far faster than the data is transmitted.\r\n\r\nBut if you did want to do this, you could do something like\r\n\r\n    public static class Multireceiver implements Runnable {\r\n      static AtomicInteger step = new AtomicInteger(0);\r\n      InputStream s;\r\n      int spot;\r\n      public Multireceiver (InputStream in) {\r\n        s = in;\r\n      }\r\n      public void run() {\r\n        spot = step.incrementAndGet();\r\n        //grab a bunch of bytes and put them in an object with the step number attached\r\n      }\r\n\r\n    }\r\n\r\nThen you just need to order your partial downloads by spot and reassemble the data. But again, all of this is normally unnecessary\r\n","title":"Multithreaded file transfer via socket in java","body":"<p>Except possibly in an extraordinary case, there is absolutely no reason to do this. A single thread can retrieve data from a Socket far faster than the data is transmitted.</p>\n<p>But if you did want to do this, you could do something like</p>\n<pre><code>public static class Multireceiver implements Runnable {\n  static AtomicInteger step = new AtomicInteger(0);\n  InputStream s;\n  int spot;\n  public Multireceiver (InputStream in) {\n    s = in;\n  }\n  public void run() {\n    spot = step.incrementAndGet();\n    //grab a bunch of bytes and put them in an object with the step number attached\n  }\n\n}\n</code></pre>\n<p>Then you just need to order your partial downloads by spot and reassemble the data. But again, all of this is normally unnecessary</p>\n"}],"owner":{"account_id":30041157,"reputation":9,"user_id":23022001,"display_name":"Vimal Arjun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1701443788,"creation_date":1701442327,"question_id":77586144,"body_markdown":"I want to receive chunks of a file from multi-thread and write in orderly.\r\n\r\nI have a server file on one system that send a file into 4 chunks through 4 thread now i have a client program on another machine i want to receive that files with 4 threads and write that to disk in correct order. I have no idea to receive and write in order can you help?!\r\n\r\n\r\nThanks for advance!!","title":"Multithreaded file transfer via socket in java","body":"<p>I want to receive chunks of a file from multi-thread and write in orderly.</p>\n<p>I have a server file on one system that send a file into 4 chunks through 4 thread now i have a client program on another machine i want to receive that files with 4 threads and write that to disk in correct order. I have no idea to receive and write in order can you help?!</p>\n<p>Thanks for advance!!</p>\n"},{"tags":["java","big-o"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701376309,"post_id":77581477,"comment_id":136771363,"body_markdown":"For reference, the source of this problem appears to be https://leetcode.com/problems/valid-palindrome/","body":"For reference, the source of this problem appears to be <a href=\"https://leetcode.com/problems/valid-palindrome/\" rel=\"nofollow noreferrer\">leetcode.com/problems/valid-palindrome</a>"}],"answers":[{"tags":[],"owner":{"account_id":20994549,"reputation":51,"user_id":15426715,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701376824,"creation_date":1701376824,"answer_id":77581562,"question_id":77581477,"body_markdown":"The inner while loops are just used to skip whitespaces or punctuation.\r\nLet&#39;s run an example with the palindrome &#39;g; aag&#39;\r\n\r\ni = 0, j = 5\r\nboth inner while loops get skipped, since both the char at index 0 and 5 are letters\r\nsince both are equal to &#39;g&#39; we skip the if as well\r\n\r\ni = 1, j = 4\r\nnow the first inner while loop gets triggered since the char at index 1 isn&#39;t a letter or a digit. \r\n\r\ni = 2, j = 4\r\nwe&#39;re still in the inner while loop and the character at index 2 isn&#39;t a letter or a digit again\r\n\r\ni = 3, j = 4\r\nnow the first inner while loop is false, since the character at index 3 is a letter.\r\nthe second inner while loop gets skipped since the character at index 4 is a letter\r\n\r\ni = 4, j = 3\r\nnow the outer while loop is false since i &gt; j. \r\nTherefore, true is returned and it is a valid palindrome.\r\n\r\n\r\nThe complexity is O(n) since every index is only looked at once.\r\n","title":"What is the time complexity on this code? I&#39;m confused","body":"<p>The inner while loops are just used to skip whitespaces or punctuation.\nLet's run an example with the palindrome 'g; aag'</p>\n<p>i = 0, j = 5\nboth inner while loops get skipped, since both the char at index 0 and 5 are letters\nsince both are equal to 'g' we skip the if as well</p>\n<p>i = 1, j = 4\nnow the first inner while loop gets triggered since the char at index 1 isn't a letter or a digit.</p>\n<p>i = 2, j = 4\nwe're still in the inner while loop and the character at index 2 isn't a letter or a digit again</p>\n<p>i = 3, j = 4\nnow the first inner while loop is false, since the character at index 3 is a letter.\nthe second inner while loop gets skipped since the character at index 4 is a letter</p>\n<p>i = 4, j = 3\nnow the outer while loop is false since i &gt; j.\nTherefore, true is returned and it is a valid palindrome.</p>\n<p>The complexity is O(n) since every index is only looked at once.</p>\n"},{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701377505,"creation_date":1701377042,"answer_id":77581583,"question_id":77581477,"body_markdown":"It looks like O(n), where `n` is the length of `s`. \r\n\r\nAt each iteration of `while(i &lt; j)`, the value of `i` will be increased by at least 1, and the value of `j` will be reduced by at least 1. When a non alphanumeric character is encountered, the value of `i`, `j`, or both will be changed by more than one.  The number of comparisons `(s.charAt(i) != s.charAt(j))` never exceeds `n/2`. So, O(n). \r\n\r\nIf I may guess as to the source of your confusion, it would be O(n^2) if either or both the inner `while` loops began iteration at the ends of `s`. But, that&#39;s not what happens. When there is an iteration of either or both, the number of remaining iterations of the outer `while` is reduced. ","title":"What is the time complexity on this code? I&#39;m confused","body":"<p>It looks like O(n), where <code>n</code> is the length of <code>s</code>.</p>\n<p>At each iteration of <code>while(i &lt; j)</code>, the value of <code>i</code> will be increased by at least 1, and the value of <code>j</code> will be reduced by at least 1. When a non alphanumeric character is encountered, the value of <code>i</code>, <code>j</code>, or both will be changed by more than one.  The number of comparisons <code>(s.charAt(i) != s.charAt(j))</code> never exceeds <code>n/2</code>. So, O(n).</p>\n<p>If I may guess as to the source of your confusion, it would be O(n^2) if either or both the inner <code>while</code> loops began iteration at the ends of <code>s</code>. But, that's not what happens. When there is an iteration of either or both, the number of remaining iterations of the outer <code>while</code> is reduced.</p>\n"},{"tags":[],"owner":{"account_id":7236687,"reputation":1753,"user_id":5521670,"display_name":"Šimon Koc&#250;rek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701377154,"creation_date":1701377154,"answer_id":77581597,"question_id":77581477,"body_markdown":"The string has only `N` elements.\r\n\r\nIn your code, the `i = 0` and `j = s.length() - 1` only ever keep getting closer (with each iteration by at least `1`). And when they meet you terminate.\r\n\r\nSo no matter what happens, you will do at most `N` iterations (doesn&#39;t matter how many of those happen in outer or inner loop).","title":"What is the time complexity on this code? I&#39;m confused","body":"<p>The string has only <code>N</code> elements.</p>\n<p>In your code, the <code>i = 0</code> and <code>j = s.length() - 1</code> only ever keep getting closer (with each iteration by at least <code>1</code>). And when they meet you terminate.</p>\n<p>So no matter what happens, you will do at most <code>N</code> iterations (doesn't matter how many of those happen in outer or inner loop).</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701443625,"creation_date":1701387583,"answer_id":77582267,"question_id":77581477,"body_markdown":"The number of iterations does not always match the String length, even for a valid palindrome.  Due to the asynchronous way `i and j` are updated, if the outer loop ends and `i and j` are equal, the count must be incremented by 1, otherwise, decremented by 1.\r\n\r\nBut all that matters is to show that the execution time is `related` to the String length. `O(n)` simply means that the execution time is `linear`, even when you short-circuit the method when two characters don&#39;t match. \r\n```\r\nString[] pals = {&quot;radar   &quot;, &quot;ra       dar&quot;, &quot;radar             &quot;, &quot;r a d a r&quot;,\r\n        &quot;A man, a plan, a canal:    Panama&quot;, &quot;Amanapla    nacanalPanama&quot;};\r\n\r\nfor (String s : pals) {\r\n    boolean result = isAPalindrome(s);\r\n    System.out.println(&quot;Length = &quot; + s.length());\r\n    System.out.println(result);\r\n}\r\n```\r\nprints\r\n```\r\nCount = 8\r\nLength = 8\r\ntrue\r\nCount = 12\r\nLength = 12\r\ntrue\r\nCount = 18\r\nLength = 18\r\ntrue\r\nCount = 9\r\nLength = 9\r\ntrue\r\nCount = 33\r\nLength = 33\r\ntrue\r\nCount = 25\r\nLength = 25\r\ntrue\r\n\r\n```\r\nThe modified methpd\r\n``` \r\npublic static boolean isAPalindrome(String s) {\r\n    int i = 0; \r\n    int j = s.length()-1;\r\n\r\n    s = s.toLowerCase();\r\n    int count = 0;\r\n    while(i &lt; j) {\r\n\r\n        while(i &lt; j &amp;&amp; !Character.isLetterOrDigit(s.charAt(i))){\r\n            count++;\r\n            i++;\r\n        }\r\n\r\n        while(i &lt; j &amp;&amp; !Character.isLetterOrDigit(s.charAt(j))){\r\n            count++;\r\n            j--;\r\n        }\r\n\r\n        if(s.charAt(i) != s.charAt(j)){\r\n            return false;\r\n        }\r\n        count+=2;\r\n        \r\n        i++;\r\n        j--;\r\n\r\n    } \r\n    count += (i == j) ? 1 : -1;\r\n    System.out.println(&quot;Count = &quot; + count);\r\n    return true;\r\n}","title":"What is the time complexity on this code? I&#39;m confused","body":"<p>The number of iterations does not always match the String length, even for a valid palindrome.  Due to the asynchronous way <code>i and j</code> are updated, if the outer loop ends and <code>i and j</code> are equal, the count must be incremented by 1, otherwise, decremented by 1.</p>\n<p>But all that matters is to show that the execution time is <code>related</code> to the String length. <code>O(n)</code> simply means that the execution time is <code>linear</code>, even when you short-circuit the method when two characters don't match.</p>\n<pre><code>String[] pals = {&quot;radar   &quot;, &quot;ra       dar&quot;, &quot;radar             &quot;, &quot;r a d a r&quot;,\n        &quot;A man, a plan, a canal:    Panama&quot;, &quot;Amanapla    nacanalPanama&quot;};\n\nfor (String s : pals) {\n    boolean result = isAPalindrome(s);\n    System.out.println(&quot;Length = &quot; + s.length());\n    System.out.println(result);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>Count = 8\nLength = 8\ntrue\nCount = 12\nLength = 12\ntrue\nCount = 18\nLength = 18\ntrue\nCount = 9\nLength = 9\ntrue\nCount = 33\nLength = 33\ntrue\nCount = 25\nLength = 25\ntrue\n\n</code></pre>\n<p>The modified methpd</p>\n<pre><code>public static boolean isAPalindrome(String s) {\n    int i = 0; \n    int j = s.length()-1;\n\n    s = s.toLowerCase();\n    int count = 0;\n    while(i &lt; j) {\n\n        while(i &lt; j &amp;&amp; !Character.isLetterOrDigit(s.charAt(i))){\n            count++;\n            i++;\n        }\n\n        while(i &lt; j &amp;&amp; !Character.isLetterOrDigit(s.charAt(j))){\n            count++;\n            j--;\n        }\n\n        if(s.charAt(i) != s.charAt(j)){\n            return false;\n        }\n        count+=2;\n        \n        i++;\n        j--;\n\n    } \n    count += (i == j) ? 1 : -1;\n    System.out.println(&quot;Count = &quot; + count);\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":30034939,"reputation":11,"user_id":23017182,"display_name":"user23017182"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1701443625,"creation_date":1701375858,"question_id":77581477,"body_markdown":"So I&#39;m solving the leetcode &quot;Valid Palindrome&quot; problem, and I&#39;m unsure what the time complexity of my code is, I thought it was O(n^2) but I wasn&#39;t so sure so I used chatgpt to confirm and it keeps saying it is O(n). Apparently the inner while loops run constant. \r\n\r\nI can&#39;t wrap my head around this for some reason. Any explanations are welcome. Thanks!\r\n\r\nHere is my code:\r\n\r\n```\r\nclass Solution {\r\n    public boolean isPalindrome(String s) {\r\n\r\n        int i = 0; \r\n        int j = s.length()-1;\r\n\r\n        s = s.toLowerCase();\r\n\r\n        while(i &lt; j) {\r\n\r\n            while(i &lt; j &amp;&amp; !Character.isLetterOrDigit(s.charAt(i))){\r\n                i++;\r\n            }\r\n\r\n            while(i &lt; j &amp;&amp; !Character.isLetterOrDigit(s.charAt(j))){\r\n                j--;\r\n            }\r\n\r\n            if(s.charAt(i) != s.charAt(j)){\r\n                return false;\r\n            }\r\n\r\n            i++;\r\n            j--;\r\n\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n```","title":"What is the time complexity on this code? I&#39;m confused","body":"<p>So I'm solving the leetcode &quot;Valid Palindrome&quot; problem, and I'm unsure what the time complexity of my code is, I thought it was O(n^2) but I wasn't so sure so I used chatgpt to confirm and it keeps saying it is O(n). Apparently the inner while loops run constant.</p>\n<p>I can't wrap my head around this for some reason. Any explanations are welcome. Thanks!</p>\n<p>Here is my code:</p>\n<pre><code>class Solution {\n    public boolean isPalindrome(String s) {\n\n        int i = 0; \n        int j = s.length()-1;\n\n        s = s.toLowerCase();\n\n        while(i &lt; j) {\n\n            while(i &lt; j &amp;&amp; !Character.isLetterOrDigit(s.charAt(i))){\n                i++;\n            }\n\n            while(i &lt; j &amp;&amp; !Character.isLetterOrDigit(s.charAt(j))){\n                j--;\n            }\n\n            if(s.charAt(i) != s.charAt(j)){\n                return false;\n            }\n\n            i++;\n            j--;\n\n        }\n\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":["java","sql","operator-keyword","mendix"],"answers":[{"tags":[],"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701443561,"creation_date":1701442802,"answer_id":77586190,"question_id":77585847,"body_markdown":"Move the creation of that SQL to a variable, and log it.  Then grab the generated SQL from the log and try to manually execute it.  Does it work?  Is it valid SQL?  \r\n\r\nBut by it&#39;s name, _Administration.Calculations_DailyPricing_ sounds like it would be a numeric column type, so using the `Collections.joining` overload of\r\n\r\n    Collectors.joining(&quot;&#39;,&#39;&quot;, &quot;&#39;&quot;, &quot;&#39;&quot;)\r\n\r\nwould generate SQL like:\r\n\r\n    ...WHERE Administration.Calculations_DailyPricing IN (&#39;42&#39;, &#39;99&#39;, &#39;188&#39;)\r\n   \r\nAssuming _Administration.Calculations_DailyPricing_ is numeric, the generated SQL should look like this:\r\n\r\n    ...WHERE Administration.Calculations_DailyPricing IN (42, 99, 188)\r\n\r\nso that joining should be simplified to:\r\n\r\n    Collectors.joining(&quot;, &quot;)\r\n\r\nso there are no quotes surrounding the numeric values.  (The Mendix upgrade is apparently less forgiving attempting to match string values against numeric values.)\r\n\r\nside note: if `DailyPricingList` is empty, then invalid SQL is going to be generated.  Hopefully there is a safety check that was just not included in the example code.","title":"Mendix Java ERROR: operator does not exist: bigint = character varying Hint: No operator matches the given name and argument types","body":"<p>Move the creation of that SQL to a variable, and log it.  Then grab the generated SQL from the log and try to manually execute it.  Does it work?  Is it valid SQL?</p>\n<p>But by it's name, <em>Administration.Calculations_DailyPricing</em> sounds like it would be a numeric column type, so using the <code>Collections.joining</code> overload of</p>\n<pre><code>Collectors.joining(&quot;','&quot;, &quot;'&quot;, &quot;'&quot;)\n</code></pre>\n<p>would generate SQL like:</p>\n<pre><code>...WHERE Administration.Calculations_DailyPricing IN ('42', '99', '188')\n</code></pre>\n<p>Assuming <em>Administration.Calculations_DailyPricing</em> is numeric, the generated SQL should look like this:</p>\n<pre><code>...WHERE Administration.Calculations_DailyPricing IN (42, 99, 188)\n</code></pre>\n<p>so that joining should be simplified to:</p>\n<pre><code>Collectors.joining(&quot;, &quot;)\n</code></pre>\n<p>so there are no quotes surrounding the numeric values.  (The Mendix upgrade is apparently less forgiving attempting to match string values against numeric values.)</p>\n<p>side note: if <code>DailyPricingList</code> is empty, then invalid SQL is going to be generated.  Hopefully there is a safety check that was just not included in the example code.</p>\n"}],"owner":{"account_id":29716575,"reputation":1,"user_id":22774965,"display_name":"Sarah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701443561,"creation_date":1701439708,"question_id":77585847,"body_markdown":"After upgrading to v9 in Mendix, one of our Java actions is causing an error. \r\nThe error can be seen below:\r\n ERROR: operator does not exist: bigint = character varying\r\n   Hint: No operator matches the given name and argument types. You might need to add explicit type casts.\r\n   Position: 1009\r\n\r\nThis Java is used to take in files from a list, process them and return a list of calculations\r\n\r\n\r\n```\r\npublic java.util.List&lt;IMendixObject&gt; executeAction() throws Exception\r\n\t{\r\n\t\tthis.DailyPricingList = java.util.Optional.ofNullable(this.__DailyPricingList)\r\n\t\t\t.orElse(java.util.Collections.emptyList())\r\n\t\t\t.stream()\r\n\t\t\t.map(__DailyPricingListElement -&gt; XXXX.DailyPricing.initialize(getContext(), __DailyPricingListElement))\r\n\t\t\t.collect(java.util.stream.Collectors.toList());\r\n\r\n\t\t// BEGIN USER CODE\r\n\r\n\t\tList&lt;IMendixObject&gt; calculationsList = new ArrayList&lt;IMendixObject&gt;();\r\n\t\t\r\n\t\tIContext context = getContext();\r\n\t\tIDataTable calcs = Core.retrieveOQLDataTable(context, \r\n\t\t\t\t&quot;SELECT XXX,XXX,XX,SUM(XXX),SUM(XXXX),SUM(XXX),SUM(XXX),SUM(XXX),SUM(XXXX),XXX,XXX,XXX &quot;\r\n\t\t\t\t+ &quot;FROM Administration.Calculations &quot;\r\n\t\t\t\t+ &quot;WHERE Administration.Calculations_DailyPricing IN (&quot;+(this.DailyPricingList.stream().map((dp) -&gt; Long.toString(dp.getMendixObject().getId().toLong())).collect(Collectors.joining(&quot;&#39;,&#39;&quot;, &quot;&#39;&quot;, &quot;&#39;&quot;)))+&quot;) &quot;\r\n\t\t\t\t\t\t+ &quot;GROUP BY XXX,XXX,XXX,XXX,XXXX,XXX&quot;);\r\n\t\tcalcs.forEach(row -&gt; CreateObj(row,calculationsList,context));\r\n\r\n\t\treturn calculationsList;\r\n\t\t\r\n\t\t// END USER CODE\r\n\r\n```\r\nColumn names have been replaces with X&#39;s for security. \r\nI presume it involves the toString within the select statement however my Java is limited and would not know how to fix this.\r\n\r\nAny help would be great\r\n\r\nTried removing the toString but seemed to error on the Collectors.joining","title":"Mendix Java ERROR: operator does not exist: bigint = character varying Hint: No operator matches the given name and argument types","body":"<p>After upgrading to v9 in Mendix, one of our Java actions is causing an error.\nThe error can be seen below:\nERROR: operator does not exist: bigint = character varying\nHint: No operator matches the given name and argument types. You might need to add explicit type casts.\nPosition: 1009</p>\n<p>This Java is used to take in files from a list, process them and return a list of calculations</p>\n<pre><code>public java.util.List&lt;IMendixObject&gt; executeAction() throws Exception\n    {\n        this.DailyPricingList = java.util.Optional.ofNullable(this.__DailyPricingList)\n            .orElse(java.util.Collections.emptyList())\n            .stream()\n            .map(__DailyPricingListElement -&gt; XXXX.DailyPricing.initialize(getContext(), __DailyPricingListElement))\n            .collect(java.util.stream.Collectors.toList());\n\n        // BEGIN USER CODE\n\n        List&lt;IMendixObject&gt; calculationsList = new ArrayList&lt;IMendixObject&gt;();\n        \n        IContext context = getContext();\n        IDataTable calcs = Core.retrieveOQLDataTable(context, \n                &quot;SELECT XXX,XXX,XX,SUM(XXX),SUM(XXXX),SUM(XXX),SUM(XXX),SUM(XXX),SUM(XXXX),XXX,XXX,XXX &quot;\n                + &quot;FROM Administration.Calculations &quot;\n                + &quot;WHERE Administration.Calculations_DailyPricing IN (&quot;+(this.DailyPricingList.stream().map((dp) -&gt; Long.toString(dp.getMendixObject().getId().toLong())).collect(Collectors.joining(&quot;','&quot;, &quot;'&quot;, &quot;'&quot;)))+&quot;) &quot;\n                        + &quot;GROUP BY XXX,XXX,XXX,XXX,XXXX,XXX&quot;);\n        calcs.forEach(row -&gt; CreateObj(row,calculationsList,context));\n\n        return calculationsList;\n        \n        // END USER CODE\n\n</code></pre>\n<p>Column names have been replaces with X's for security.\nI presume it involves the toString within the select statement however my Java is limited and would not know how to fix this.</p>\n<p>Any help would be great</p>\n<p>Tried removing the toString but seemed to error on the Collectors.joining</p>\n"},{"tags":["java","spring","spring-boot","gradle","build.gradle"],"comments":[{"owner":{"account_id":3607248,"reputation":71,"user_id":3009150,"display_name":"Arun Duraisamy"},"score":0,"creation_date":1701450269,"post_id":77586256,"comment_id":136781207,"body_markdown":"1. try to clean com.ge.digital.oa.common in ~/.gradle/caches/modules-2/files-2.1 \n2. Ensure you are able to download artifact from the browser\n3. remove mavenLocal() as a repository if this project has no dependency with other project artifact\n4. check pom published in location and jars in different \n\n`repositories {\n    maven {\n        url &quot;http://repo2.mycompany.com/maven2&quot;\n        artifactUrls &quot;http://repo.mycompany.com/jars&quot;\n    }\n}`","body":"1. try to clean com.ge.digital.oa.common in ~/.gradle/caches/modules-2/files-2.1  2. Ensure you are able to download artifact from the browser 3. remove mavenLocal() as a repository if this project has no dependency with other project artifact 4. check pom published in location and jars in different   <code>repositories {     maven {         url &quot;http:&#47;&#47;repo2.mycompany.com&#47;maven2&quot;         artifactUrls &quot;http:&#47;&#47;repo.mycompany.com&#47;jars&quot;     } }</code>"},{"owner":{"account_id":7527372,"reputation":920,"user_id":5717021,"accept_rate":65,"display_name":"sromit"},"score":0,"creation_date":1701450628,"post_id":77586256,"comment_id":136781267,"body_markdown":"I am able to download from browser...I commented mavenlocal() but still same error..I even commented maven{..} itself. its still the same error..looks like its not even going to artifactory to bring the jar...how do I force gradle to go to artifactory to pull the jar?","body":"I am able to download from browser...I commented mavenlocal() but still same error..I even commented maven{..} itself. its still the same error..looks like its not even going to artifactory to bring the jar...how do I force gradle to go to artifactory to pull the jar?"},{"owner":{"account_id":3607248,"reputation":71,"user_id":3009150,"display_name":"Arun Duraisamy"},"score":0,"creation_date":1701451091,"post_id":77586256,"comment_id":136781336,"body_markdown":"two way we can achieve 1.  --refresh-dependencies 2. tell gradle not to cache `configurations.all {\n    resolutionStrategy.cacheChangingModulesFor 0, &#39;seconds&#39;\n}` and \n`dependencies {\n    compile(&#39;com.ge.digital.oa.common:oa-common:3.0.0&#39;){\n        changing=true\n    }\n}`","body":"two way we can achieve 1.  --refresh-dependencies 2. tell gradle not to cache <code>configurations.all {     resolutionStrategy.cacheChangingModulesFor 0, &#39;seconds&#39; }</code> and  <code>dependencies {     compile(&#39;com.ge.digital.oa.common:oa-common:3.0.0&#39;){         changing=true     } }</code>"},{"owner":{"account_id":7527372,"reputation":920,"user_id":5717021,"accept_rate":65,"display_name":"sromit"},"score":0,"creation_date":1701452635,"post_id":77586256,"comment_id":136781599,"body_markdown":"added both...but still same error","body":"added both...but still same error"},{"owner":{"account_id":3607248,"reputation":71,"user_id":3009150,"display_name":"Arun Duraisamy"},"score":0,"creation_date":1701453955,"post_id":77586256,"comment_id":136781788,"body_markdown":"run `gradle --stacktrace` and view the full stack trace. Hope you checked jar is downloading via browser / curl / wget","body":"run <code>gradle --stacktrace</code> and view the full stack trace. Hope you checked jar is downloading via browser / curl / wget"},{"owner":{"account_id":3607248,"reputation":71,"user_id":3009150,"display_name":"Arun Duraisamy"},"score":0,"creation_date":1701454365,"post_id":77586256,"comment_id":136781849,"body_markdown":"if Gradle behind a corporate proxy network ? add this  `systemProp.http.proxyHost=xx.xx.xx.xxx\nsystemProp.http.proxyPort=8888\nsystemProp.http.nonProxyHosts=localhost|127.0.0.1|xx.xx.xx.*\nsystemProp.https.proxyHost=xx.xx.xx.xxx\nsystemProp.https.proxyPort=8888\nsystemProp.https.nonProxyHosts=localhost|127.0.0.1|xx.xx.xx.*` in gradle.properties","body":"if Gradle behind a corporate proxy network ? add this  <code>systemProp.http.proxyHost=xx.xx.xx.xxx systemProp.http.proxyPort=8888 systemProp.http.nonProxyHosts=localhost|127.0.0.1|xx.xx.xx.* systemProp.https.proxyHost=xx.xx.xx.xxx systemProp.https.proxyPort=8888 systemProp.https.nonProxyHosts=localhost|127.0.0.1|xx.xx.xx.&zwnj;&#8203;*</code> in gradle.properties"},{"owner":{"account_id":7527372,"reputation":920,"user_id":5717021,"accept_rate":65,"display_name":"sromit"},"score":0,"creation_date":1701457079,"post_id":77586256,"comment_id":136782253,"body_markdown":"even after adding proxy ..same error..here is the gardle build --scan report https://gradle.com/s/63cvtrwi7ufj2","body":"even after adding proxy ..same error..here is the gardle build --scan report <a href=\"https://gradle.com/s/63cvtrwi7ufj2\" rel=\"nofollow noreferrer\">gradle.com/s/63cvtrwi7ufj2</a>"},{"owner":{"account_id":3607248,"reputation":71,"user_id":3009150,"display_name":"Arun Duraisamy"},"score":0,"creation_date":1701495867,"post_id":77586256,"comment_id":136785701,"body_markdown":"Check the [oa-common.pom](https://artifactory.build.ge.com/ARJLY/com/ge/digital/oa/common/oa-common/3.0.0/oa-common-3.0.0.pom) and verify oa-common.jar properly uploaded","body":"Check the <a href=\"https://artifactory.build.ge.com/ARJLY/com/ge/digital/oa/common/oa-common/3.0.0/oa-common-3.0.0.pom\" rel=\"nofollow noreferrer\">oa-common.pom</a> and verify oa-common.jar properly uploaded"}],"owner":{"account_id":7527372,"reputation":920,"user_id":5717021,"accept_rate":65,"display_name":"sromit"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701443477,"creation_date":1701443477,"question_id":77586256,"body_markdown":"I am having spring boot gradle project...but its not able download the first dependencies (oa-common.3.0.0.jar) It looks like its not going to artifactory to fetch it..even though its mentioned in the repositories....what I am doing wrong..any suggestion?\r\n\r\nbuild.gradle file\r\n\r\n    repositories {\r\n    \tmavenCentral()\r\n    \tmavenLocal()\r\n    \tmaven {\r\n    \t\turl &quot;${artifactory_contextUrl}&quot;\r\n    \t\tcredentials {\r\n    \t\t\tusername &quot;${artifactory_user}&quot;\r\n    \t\t\tpassword &quot;${artifactory_password}&quot;\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    wrapper {\r\n    \tdistributionType = Wrapper.DistributionType.BIN\r\n    }\r\n    \r\n    configurations {\r\n    \tdevelopmentOnly\r\n    \truntimeClasspath {\r\n    \t\textendsFrom developmentOnly\r\n    \t}\r\n    \tcompileOnly {\r\n    \t\textendsFrom annotationProcessor\r\n    \t}\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n    \timplementation(&#39;com.ge.digital.oa.common:oa-common:3.0.0&#39;) { \r\n    \t\texclude module: &#39;slf4j-log4j12&#39;\r\n    \t\texclude group: &#39;io.micrometer&#39;, module: &#39;micrometer-core&#39;\r\n    \t}\r\n    \timplementation(&#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;)\r\n    \timplementation(&#39;org.springframework.boot:spring-boot-starter-jdbc&#39;)\r\n    \timplementation(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n\r\n\r\nWe have the artifacory jar \r\nMy Artifactory path:\r\n\r\n    ARJLY\r\n     com/ge\r\n      digital/oa\r\n       common\r\n         oa-common\r\n          3.0.0\r\n           oa-common-3.0.0.jar\r\n\r\nError:\r\n\r\n    $ gradle clean build --refresh-dependencies\r\n    &gt; Task :compileJava FAILED\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:compileJava&#39;.\r\n    &gt; Could not resolve all files for configuration &#39;:compileClasspath&#39;.\r\n       &gt; Could not find com.ge.digital.oa.common:oa-common:3.0.0.\r\n         Required by:\r\n             project :\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    Deprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\r\n    Use &#39;--warning-mode all&#39; to show the individual deprecation warnings.\r\n    See https://docs.gradle.org/6.8/userguide/command_line_interface.html#sec:command_line_warnings\r\n    \r\n    BUILD FAILED in 18s\r\n    3 actionable tasks: 3 executed","title":"Gradle build failing downloading dependency","body":"<p>I am having spring boot gradle project...but its not able download the first dependencies (oa-common.3.0.0.jar) It looks like its not going to artifactory to fetch it..even though its mentioned in the repositories....what I am doing wrong..any suggestion?</p>\n<p>build.gradle file</p>\n<pre><code>repositories {\n    mavenCentral()\n    mavenLocal()\n    maven {\n        url &quot;${artifactory_contextUrl}&quot;\n        credentials {\n            username &quot;${artifactory_user}&quot;\n            password &quot;${artifactory_password}&quot;\n        }\n    }\n}\n\nwrapper {\n    distributionType = Wrapper.DistributionType.BIN\n}\n\nconfigurations {\n    developmentOnly\n    runtimeClasspath {\n        extendsFrom developmentOnly\n    }\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\ndependencies {\n\n    implementation('com.ge.digital.oa.common:oa-common:3.0.0') { \n        exclude module: 'slf4j-log4j12'\n        exclude group: 'io.micrometer', module: 'micrometer-core'\n    }\n    implementation('org.springframework.boot:spring-boot-starter-data-jpa')\n    implementation('org.springframework.boot:spring-boot-starter-jdbc')\n    implementation('org.springframework.boot:spring-boot-starter-web')\n</code></pre>\n<p>We have the artifacory jar\nMy Artifactory path:</p>\n<pre><code>ARJLY\n com/ge\n  digital/oa\n   common\n     oa-common\n      3.0.0\n       oa-common-3.0.0.jar\n</code></pre>\n<p>Error:</p>\n<pre><code>$ gradle clean build --refresh-dependencies\n&gt; Task :compileJava FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':compileJava'.\n&gt; Could not resolve all files for configuration ':compileClasspath'.\n   &gt; Could not find com.ge.digital.oa.common:oa-common:3.0.0.\n     Required by:\n         project :\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\nSee https://docs.gradle.org/6.8/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD FAILED in 18s\n3 actionable tasks: 3 executed\n</code></pre>\n"},{"tags":["java","android","activity-recognition","activity-transition"],"owner":{"account_id":25968487,"reputation":33,"user_id":19684110,"display_name":"NotNow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701443351,"creation_date":1693680914,"question_id":77029652,"body_markdown":"I&#39;m developing a mobility monitoring system for educational purposes and so I decided to use the Android API Activity Transitions to recognize activities such as IN_VEHICLE or ON_BICYCLING.\r\n\r\nI followed the implementation given by android in the documentation right here:\r\nhttps://developer.android.com/guide/topics/location/transitions\r\n\r\nThis is my ActivityRecognitionService.java:\r\n\r\n```java\r\n\r\npublic class ActivityRecognitionService extends Service {\r\n\r\n    private ActivityTransitionRequest request;\r\n    private ActivityTransitionsReceiver transitionsReceiver;\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n\r\n        List&lt;ActivityTransition&gt; transitions = new ArrayList&lt;&gt;();\r\n        transitions.add(\r\n                new ActivityTransition.Builder()\r\n                        .setActivityType(DetectedActivity.STILL)\r\n                        .setActivityTransition(ActivityTransition.ACTIVITY_TRANSITION_ENTER)\r\n                        .build());\r\n\r\n        transitions.add(\r\n                new ActivityTransition.Builder()\r\n                        .setActivityType(DetectedActivity.STILL)\r\n                        .setActivityTransition(ActivityTransition.ACTIVITY_TRANSITION_EXIT)\r\n                        .build());\r\n\r\n        transitions.add(\r\n                new ActivityTransition.Builder()\r\n                        .setActivityType(DetectedActivity.ON_FOOT)\r\n                        .setActivityTransition(ActivityTransition.ACTIVITY_TRANSITION_ENTER)\r\n                        .build());\r\n\r\n        transitions.add(\r\n                new ActivityTransition.Builder()\r\n                        .setActivityType(DetectedActivity.ON_FOOT)\r\n                        .setActivityTransition(ActivityTransition.ACTIVITY_TRANSITION_EXIT)\r\n                        .build());\r\n\r\n        request = new ActivityTransitionRequest(transitions);\r\n\r\n        transitionsReceiver = new ActivityTransitionsReceiver();\r\n\r\n        LocalBroadcastManager.getInstance(this).registerReceiver(transitionsReceiver, new IntentFilter(&quot;PROVA&quot;));\r\n\r\n        startForeground(NOTIFICATION_ID, createNotification());\r\n        new Thread(this::startActivityRecognition).start();\r\n        return START_STICKY;\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        stopAll();\r\n    }\r\n\r\n    @Override\r\n    public void onTaskRemoved(Intent rootIntent) {\r\n        super.onTaskRemoved(rootIntent);\r\n        stopAll();\r\n    }\r\n\r\n    /* Start activity recognition */\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    private void startActivityRecognition() {\r\n        Task&lt;Void&gt; task = ActivityRecognition.getClient(this)\r\n                .requestActivityTransitionUpdates(request, getActivityRecognitionPendingIntent());\r\n\r\n        task.addOnSuccessListener(\r\n                result -&gt; Log.i(&quot;SERVICE AR&quot;, &quot;Start activity recognition!&quot;)\r\n        );\r\n\r\n        task.addOnFailureListener(\r\n                e -&gt; Log.i(&quot;SERVICE AR&quot;, &quot;Start activity recognition failed!&quot;)\r\n        );\r\n    }\r\n\r\n    /* Stop l&#39;activity recognition */\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    private void stopActivityRecognition() {\r\n\r\n        PendingIntent intent = getActivityRecognitionPendingIntent();\r\n\r\n        Task&lt;Void&gt; task = ActivityRecognition.getClient(this)\r\n                .removeActivityTransitionUpdates(intent);\r\n\r\n        task.addOnSuccessListener(\r\n                result -&gt; {\r\n                    intent.cancel();\r\n                    Log.e(&quot;SERVICE AR&quot;, &quot;Stop activity recognition!&quot;);\r\n                }\r\n        );\r\n\r\n        task.addOnFailureListener(\r\n                e -&gt; Log.e(&quot;SERVICE AR&quot;, &quot;Stop activity recognition failed!&quot;)\r\n        );\r\n    }\r\n\r\n    private PendingIntent getActivityRecognitionPendingIntent() {\r\n        Intent intent = new Intent(&quot;PROVA&quot;);\r\n        return PendingIntent.getBroadcast(ActivityRecognitionService.this, 0, intent, PendingIntent.FLAG_MUTABLE);\r\n    }\r\n\r\n    public static class ActivityTransitionsReceiver extends BroadcastReceiver {\r\n\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            Log.i(&quot;RECEIVED&quot;, &quot;RECEIVED!&quot;); \r\n        }\r\n    }\r\n}\r\n\r\n```\r\nThe activity recognition starts successfully as I also get the `&quot;Start activity recognition&quot;` log which confirms the correct start. After that, the flow enters the `getActivityRecognitionPendingIntent()` function and from there it gets blocked, I don&#39;t get anything inside the receiver&#39;s `onReceive()`.\r\n\r\nWhat am I doing wrong?\r\n\r\n\r\nFinally, I also leave my manifest.xml\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; package=&quot;com.unibo.mobilitytrackingsystem&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACTIVITY_RECOGNITION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;com.google.android.gms.permission.ACTIVITY_RECOGNITION&quot; /&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:animateLayoutChanges=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.MobilityTrackingSystem&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        &gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.gms.location.base&quot;\r\n            android:value=&quot;com.unibo.mobilitytrackingsystem.ARServices.ActivityRecognitionService&quot; /&gt;\r\n\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.geo.API_KEY&quot;\r\n            android:value=&quot;AIzaSyC4RCfGvTFnTG4ePRvdmyiOi2G84vnW2o0&quot;/&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;com.unibo.mobilitytrackingsystem.AuthActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.MobilityTrackingSystem&quot;\r\n            android:screenOrientation=&quot;portrait&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;com.unibo.mobilitytrackingsystem.HomeActivity&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:theme=&quot;@style/Theme.MobilityTrackingSystem&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            /&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;com.unibo.mobilitytrackingsystem.SettingsActivity&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:theme=&quot;@style/Theme.MobilityTrackingSystem&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            /&gt;\r\n\r\n        &lt;service\r\n            android:name=&quot;com.unibo.mobilitytrackingsystem.ARServices.ActivityRecognitionService&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n\r\n        &lt;receiver\r\n            android:name=&quot;com.unibo.mobilitytrackingsystem.ARServices.ActivityRecognitionService$ActivityTransitionsReceiver&quot;\r\n            android:exported=&quot;false&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;PROVA&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n\r\n```\r\n\r\nI want to point out that the only error I get on Logcat when starting the AR is the following:\r\n\r\n`attributionTag com.google.android.gms.location_base not declared in manifest`","title":"Activity Recognition Transitions API issue","body":"<p>I'm developing a mobility monitoring system for educational purposes and so I decided to use the Android API Activity Transitions to recognize activities such as IN_VEHICLE or ON_BICYCLING.</p>\n<p>I followed the implementation given by android in the documentation right here:\n<a href=\"https://developer.android.com/guide/topics/location/transitions\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/location/transitions</a></p>\n<p>This is my ActivityRecognitionService.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class ActivityRecognitionService extends Service {\n\n    private ActivityTransitionRequest request;\n    private ActivityTransitionsReceiver transitionsReceiver;\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n\n        List&lt;ActivityTransition&gt; transitions = new ArrayList&lt;&gt;();\n        transitions.add(\n                new ActivityTransition.Builder()\n                        .setActivityType(DetectedActivity.STILL)\n                        .setActivityTransition(ActivityTransition.ACTIVITY_TRANSITION_ENTER)\n                        .build());\n\n        transitions.add(\n                new ActivityTransition.Builder()\n                        .setActivityType(DetectedActivity.STILL)\n                        .setActivityTransition(ActivityTransition.ACTIVITY_TRANSITION_EXIT)\n                        .build());\n\n        transitions.add(\n                new ActivityTransition.Builder()\n                        .setActivityType(DetectedActivity.ON_FOOT)\n                        .setActivityTransition(ActivityTransition.ACTIVITY_TRANSITION_ENTER)\n                        .build());\n\n        transitions.add(\n                new ActivityTransition.Builder()\n                        .setActivityType(DetectedActivity.ON_FOOT)\n                        .setActivityTransition(ActivityTransition.ACTIVITY_TRANSITION_EXIT)\n                        .build());\n\n        request = new ActivityTransitionRequest(transitions);\n\n        transitionsReceiver = new ActivityTransitionsReceiver();\n\n        LocalBroadcastManager.getInstance(this).registerReceiver(transitionsReceiver, new IntentFilter(&quot;PROVA&quot;));\n\n        startForeground(NOTIFICATION_ID, createNotification());\n        new Thread(this::startActivityRecognition).start();\n        return START_STICKY;\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        stopAll();\n    }\n\n    @Override\n    public void onTaskRemoved(Intent rootIntent) {\n        super.onTaskRemoved(rootIntent);\n        stopAll();\n    }\n\n    /* Start activity recognition */\n    @SuppressLint(&quot;MissingPermission&quot;)\n    private void startActivityRecognition() {\n        Task&lt;Void&gt; task = ActivityRecognition.getClient(this)\n                .requestActivityTransitionUpdates(request, getActivityRecognitionPendingIntent());\n\n        task.addOnSuccessListener(\n                result -&gt; Log.i(&quot;SERVICE AR&quot;, &quot;Start activity recognition!&quot;)\n        );\n\n        task.addOnFailureListener(\n                e -&gt; Log.i(&quot;SERVICE AR&quot;, &quot;Start activity recognition failed!&quot;)\n        );\n    }\n\n    /* Stop l'activity recognition */\n    @SuppressLint(&quot;MissingPermission&quot;)\n    private void stopActivityRecognition() {\n\n        PendingIntent intent = getActivityRecognitionPendingIntent();\n\n        Task&lt;Void&gt; task = ActivityRecognition.getClient(this)\n                .removeActivityTransitionUpdates(intent);\n\n        task.addOnSuccessListener(\n                result -&gt; {\n                    intent.cancel();\n                    Log.e(&quot;SERVICE AR&quot;, &quot;Stop activity recognition!&quot;);\n                }\n        );\n\n        task.addOnFailureListener(\n                e -&gt; Log.e(&quot;SERVICE AR&quot;, &quot;Stop activity recognition failed!&quot;)\n        );\n    }\n\n    private PendingIntent getActivityRecognitionPendingIntent() {\n        Intent intent = new Intent(&quot;PROVA&quot;);\n        return PendingIntent.getBroadcast(ActivityRecognitionService.this, 0, intent, PendingIntent.FLAG_MUTABLE);\n    }\n\n    public static class ActivityTransitionsReceiver extends BroadcastReceiver {\n\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            Log.i(&quot;RECEIVED&quot;, &quot;RECEIVED!&quot;); \n        }\n    }\n}\n\n</code></pre>\n<p>The activity recognition starts successfully as I also get the <code>&quot;Start activity recognition&quot;</code> log which confirms the correct start. After that, the flow enters the <code>getActivityRecognitionPendingIntent()</code> function and from there it gets blocked, I don't get anything inside the receiver's <code>onReceive()</code>.</p>\n<p>What am I doing wrong?</p>\n<p>Finally, I also leave my manifest.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; package=&quot;com.unibo.mobilitytrackingsystem&quot;&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACTIVITY_RECOGNITION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;com.google.android.gms.permission.ACTIVITY_RECOGNITION&quot; /&gt;\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:animateLayoutChanges=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.MobilityTrackingSystem&quot;\n        android:usesCleartextTraffic=&quot;true&quot;\n        &gt;\n        &lt;meta-data\n            android:name=&quot;com.google.android.gms.location.base&quot;\n            android:value=&quot;com.unibo.mobilitytrackingsystem.ARServices.ActivityRecognitionService&quot; /&gt;\n\n        &lt;meta-data\n            android:name=&quot;com.google.android.geo.API_KEY&quot;\n            android:value=&quot;AIzaSyC4RCfGvTFnTG4ePRvdmyiOi2G84vnW2o0&quot;/&gt;\n\n        &lt;activity\n            android:name=&quot;com.unibo.mobilitytrackingsystem.AuthActivity&quot;\n            android:exported=&quot;true&quot;\n            android:theme=&quot;@style/Theme.MobilityTrackingSystem&quot;\n            android:screenOrientation=&quot;portrait&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;activity\n            android:name=&quot;com.unibo.mobilitytrackingsystem.HomeActivity&quot;\n            android:exported=&quot;false&quot;\n            android:theme=&quot;@style/Theme.MobilityTrackingSystem&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            /&gt;\n\n        &lt;activity\n            android:name=&quot;com.unibo.mobilitytrackingsystem.SettingsActivity&quot;\n            android:exported=&quot;false&quot;\n            android:theme=&quot;@style/Theme.MobilityTrackingSystem&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            /&gt;\n\n        &lt;service\n            android:name=&quot;com.unibo.mobilitytrackingsystem.ARServices.ActivityRecognitionService&quot;\n            android:exported=&quot;false&quot; /&gt;\n\n        &lt;receiver\n            android:name=&quot;com.unibo.mobilitytrackingsystem.ARServices.ActivityRecognitionService$ActivityTransitionsReceiver&quot;\n            android:exported=&quot;false&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;PROVA&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n\n</code></pre>\n<p>I want to point out that the only error I get on Logcat when starting the AR is the following:</p>\n<p><code>attributionTag com.google.android.gms.location_base not declared in manifest</code></p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":4989848,"reputation":1593,"user_id":4012408,"display_name":"Rafael Guillen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701443157,"creation_date":1701443157,"answer_id":77586220,"question_id":77586043,"body_markdown":"In my opinion you should go with **Hibernate Envers**, it&#39;s not an overkill. You can configure **Envers** to audit only what you need and they provide a very nice API to query the audited entities.","title":"In Java/Spring Boot/JPA/Hibernate, is there a simple mechanism to track entity changes to generate a change report?","body":"<p>In my opinion you should go with <strong>Hibernate Envers</strong>, it's not an overkill. You can configure <strong>Envers</strong> to audit only what you need and they provide a very nice API to query the audited entities.</p>\n"}],"owner":{"account_id":95570,"reputation":131,"user_id":260203,"display_name":"Brad K."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1701443157,"creation_date":1701441536,"question_id":77586043,"body_markdown":"We process a spreadsheet that comes from our contractor tracking inventory. \r\n\r\nUsing Apache POI and oCell to read the Excel file using a POJO (not our InventoryItem entity) then validating and parsing the data into an InventoryItem entity. \r\n\r\nDuring processing, we note new records and insert them in our DB. For pre-existing records, we don&#39;t do any change detection, but simply update all fields in the record. \r\n\r\nWe&#39;d like a &quot;mini audit&quot; mechanism to where we can note expected changes (say, reductions in inventory) versus corrections (say, names of product, supplier, or some other change).\r\n\r\nWhile we could, during the conversion/mapping from ExcelInventoryItem into InventoryItem, check each field for value change, but that would be manual (prone to error) and tedious.\r\n\r\nIs there a simple mechanism to capture which fields have changed so that we can capture that information and provide a per-file report back to the user upon completion of processing?\r\n\r\nI briefly looked at what JPA auditing does based on [what I found at Baeldung](https://www.baeldung.com/database-auditing-jpa), but it looks like a bit of overkill for what I want (accumulate a list of changes, JSON-ify it and shove it into an already available &quot;concerns&quot; field.) Also, it doesn&#39;t appear to track specific field changes (before/after) without iterating over fields myself.\r\n\r\nAny recommendations for a good strategy?","title":"In Java/Spring Boot/JPA/Hibernate, is there a simple mechanism to track entity changes to generate a change report?","body":"<p>We process a spreadsheet that comes from our contractor tracking inventory.</p>\n<p>Using Apache POI and oCell to read the Excel file using a POJO (not our InventoryItem entity) then validating and parsing the data into an InventoryItem entity.</p>\n<p>During processing, we note new records and insert them in our DB. For pre-existing records, we don't do any change detection, but simply update all fields in the record.</p>\n<p>We'd like a &quot;mini audit&quot; mechanism to where we can note expected changes (say, reductions in inventory) versus corrections (say, names of product, supplier, or some other change).</p>\n<p>While we could, during the conversion/mapping from ExcelInventoryItem into InventoryItem, check each field for value change, but that would be manual (prone to error) and tedious.</p>\n<p>Is there a simple mechanism to capture which fields have changed so that we can capture that information and provide a per-file report back to the user upon completion of processing?</p>\n<p>I briefly looked at what JPA auditing does based on <a href=\"https://www.baeldung.com/database-auditing-jpa\" rel=\"nofollow noreferrer\">what I found at Baeldung</a>, but it looks like a bit of overkill for what I want (accumulate a list of changes, JSON-ify it and shove it into an already available &quot;concerns&quot; field.) Also, it doesn't appear to track specific field changes (before/after) without iterating over fields myself.</p>\n<p>Any recommendations for a good strategy?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1701439268,"post_id":77585653,"comment_id":136778994,"body_markdown":"In the code you posted you have U+0110 &quot;capital D with stroke&quot; not U+00D0 &quot;capital Eth&quot;. Although they look (very!) similar these are not the same character; see https://stackoverflow.com/questions/65315353/what-is-the-difference-between-u00d0-and-u0110 . And I wasn&#39;t aware either was used in French (or France). Which do you have in your actual source code?","body":"In the code you posted you have U+0110 &quot;capital D with stroke&quot; not U+00D0 &quot;capital Eth&quot;. Although they look (very!) similar these are not the same character; see <a href=\"https://stackoverflow.com/questions/65315353/what-is-the-difference-between-u00d0-and-u0110\" title=\"what is the difference between u00d0 and u0110\">stackoverflow.com/questions/65315353/&hellip;</a> . And I wasn&#39;t aware either was used in French (or France). Which do you have in your actual source code?"},{"owner":{"account_id":22819063,"reputation":3,"user_id":16969224,"display_name":"0c7"},"score":0,"creation_date":1701597269,"post_id":77585653,"comment_id":136793617,"body_markdown":"The source is the capital D, with a stroke, it is from an OCR  foreign document.","body":"The source is the capital D, with a stroke, it is from an OCR  foreign document."}],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701443147,"creation_date":1701439032,"answer_id":77585780,"question_id":77585653,"body_markdown":"The character you have pasted is not the character you think it is.\r\n\r\n        String value = &quot;Đ&quot;;\r\n        byte[] bexp = { (byte)0xAC };\r\n        String v2 = new String(bexp, &quot;CP1147&quot;);\r\n        System.out.println(&quot;expected: &quot; + v2 + &quot; = &quot; + value + &quot; &quot; + v2.equals(value));\r\n\r\nThat results in.\r\n\r\n&gt;expected: &#208; = Đ false\r\n\r\nAs pointed out, you have pasted C490 ( capital letter D with a stroke in UTF8 ) which doesn&#39;t exist in CP1147 but you are expecting C390 ( capital letter ETH in UTF8 ) which does exist.\r\n\r\n```\r\n\r\n    public static void pp(byte[] bs){\r\n        StringBuilder sb = new StringBuilder();\r\n        for (byte b : bs) {\r\n            sb.append(String.format(&quot;%02X&quot;, b));\r\n        }\r\n        System.out.println(sb);\r\n    }\r\n    public static void main(String[] args) throws Exception{\r\n        String value = &quot;Đ&quot;;\r\n        System.out.println(value);\r\n        byte[] ok = value.getBytes(&quot;UTF8&quot;);\r\n\r\n        byte[] bexp = { (byte)(16*10 + 12) };\r\n        String v2 = new String(bexp, &quot;CP1147&quot;);\r\n\r\n        pp(v2.getBytes(&quot;UTF8&quot;));\r\n        pp(v2.getBytes(&quot;CP1147&quot;));\r\n        pp(value.getBytes(&quot;UTF8&quot;));\r\n        pp(value.getBytes(&quot;CP1147&quot;));\r\n\r\n    }\r\n```\r\nUsing that I get the following output.\r\n\r\n&gt;Đ  \r\nC390  \r\nAC  \r\nC490  \r\n3F  \r\n","title":"String.getBytes return the substitution character for a character that should be valid","body":"<p>The character you have pasted is not the character you think it is.</p>\n<pre><code>    String value = &quot;Đ&quot;;\n    byte[] bexp = { (byte)0xAC };\n    String v2 = new String(bexp, &quot;CP1147&quot;);\n    System.out.println(&quot;expected: &quot; + v2 + &quot; = &quot; + value + &quot; &quot; + v2.equals(value));\n</code></pre>\n<p>That results in.</p>\n<blockquote>\n<p>expected: Ð = Đ false</p>\n</blockquote>\n<p>As pointed out, you have pasted C490 ( capital letter D with a stroke in UTF8 ) which doesn't exist in CP1147 but you are expecting C390 ( capital letter ETH in UTF8 ) which does exist.</p>\n<pre><code>\n    public static void pp(byte[] bs){\n        StringBuilder sb = new StringBuilder();\n        for (byte b : bs) {\n            sb.append(String.format(&quot;%02X&quot;, b));\n        }\n        System.out.println(sb);\n    }\n    public static void main(String[] args) throws Exception{\n        String value = &quot;Đ&quot;;\n        System.out.println(value);\n        byte[] ok = value.getBytes(&quot;UTF8&quot;);\n\n        byte[] bexp = { (byte)(16*10 + 12) };\n        String v2 = new String(bexp, &quot;CP1147&quot;);\n\n        pp(v2.getBytes(&quot;UTF8&quot;));\n        pp(v2.getBytes(&quot;CP1147&quot;));\n        pp(value.getBytes(&quot;UTF8&quot;));\n        pp(value.getBytes(&quot;CP1147&quot;));\n\n    }\n</code></pre>\n<p>Using that I get the following output.</p>\n<blockquote>\n<p>Đ<br />\nC390<br />\nAC<br />\nC490<br />\n3F</p>\n</blockquote>\n"}],"owner":{"account_id":22819063,"reputation":3,"user_id":16969224,"display_name":"0c7"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701443147,"creation_date":1701437846,"question_id":77585653,"body_markdown":"I am trying to encode a character Đ (U+00D0 in unicode) in CP1147 (french EBCDIC + euro)\r\n\r\n```\r\n        String value = &quot;Đ&quot;;\r\n        byte[] sendRecord = value.getBytes(&quot;CP1147&quot;);\r\n\r\n        StringBuilder sb = new StringBuilder();\r\n        for (byte b : sendRecord) {\r\n            sb.append(String.format(&quot;%02X&quot;, b));\r\n        }\r\n        System.out.println(sb.toString());\r\n        var formattedHexResult =  sb.toString();\r\n        Assertions.assertEquals(&quot;3F&quot;, formattedHexResult);\r\n\r\n```\r\n\r\nthe character  Đ exists in CP1147, I should get X&#39;AC&#39; but I get X&#39;3F&#39; which is the substitution character\r\n\r\n\r\ni have tried to understand how the getBytes works but it is way above my level\r\n\r\nthe charset used is sun.nio.cs.ext.IBM1147 and it includes u00D0\r\n\r\nWhat is blocking the conversion?\r\n\r\n\r\n        \r\n\r\n\r\n","title":"String.getBytes return the substitution character for a character that should be valid","body":"<p>I am trying to encode a character Đ (U+00D0 in unicode) in CP1147 (french EBCDIC + euro)</p>\n<pre><code>        String value = &quot;Đ&quot;;\n        byte[] sendRecord = value.getBytes(&quot;CP1147&quot;);\n\n        StringBuilder sb = new StringBuilder();\n        for (byte b : sendRecord) {\n            sb.append(String.format(&quot;%02X&quot;, b));\n        }\n        System.out.println(sb.toString());\n        var formattedHexResult =  sb.toString();\n        Assertions.assertEquals(&quot;3F&quot;, formattedHexResult);\n\n</code></pre>\n<p>the character  Đ exists in CP1147, I should get X'AC' but I get X'3F' which is the substitution character</p>\n<p>i have tried to understand how the getBytes works but it is way above my level</p>\n<p>the charset used is sun.nio.cs.ext.IBM1147 and it includes u00D0</p>\n<p>What is blocking the conversion?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","jpamodelgen"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1667851252,"post_id":74336404,"comment_id":131262172,"body_markdown":"Have you tried defining a persistence.xml file? Spring generates one dynamically from everything it finds on its class path and its own mechanisms for filtering out what gets into it, but the JPA spec requires a persistence.xml. Hibernate might too.","body":"Have you tried defining a persistence.xml file? Spring generates one dynamically from everything it finds on its class path and its own mechanisms for filtering out what gets into it, but the JPA spec requires a persistence.xml. Hibernate might too."},{"owner":{"account_id":26846617,"reputation":61,"user_id":20432289,"display_name":"Joachim"},"score":0,"creation_date":1667981136,"post_id":74336404,"comment_id":131294643,"body_markdown":"Hello, thank you for your response but i have found the solution (see the answer section). If you know the answer to why it works, feel free to respond :)","body":"Hello, thank you for your response but i have found the solution (see the answer section). If you know the answer to why it works, feel free to respond :)"}],"answers":[{"tags":[],"owner":{"account_id":26846617,"reputation":61,"user_id":20432289,"display_name":"Joachim"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667981045,"creation_date":1667981045,"answer_id":74371609,"question_id":74336404,"body_markdown":"I have found two solutions but i don&#39;t understand why it works (i&#39;m lucky i guess). Any explanations would be great :)\r\n\r\n 1. **First solution**\r\n\r\nUse the version 5.6.12.Final of Hibernate directly in a dependency. If i upgrade it to version 6.1.5.Final (as suggested by intellij), the metamodel are not generated but i don&#39;t know why...\r\n\r\n[![Dependency][1]][1]\r\n\r\n 2. **Second solution**\r\n\r\nSet the dependency to the latest version (here 6.1.5.Final) but add a plugin to the build with an annotationProcessorPaths that use the version 5.6.12.Final\r\n\r\n[![annotationProcessorPaths][2]][2]\r\n\r\nPS: i don&#39;t understand why the variable **${hibernate.version}** is set to version 5.6.12.Final while i have set my hibernate verison to 6.1.5.Final in the dependency... Any explanation would be great :)\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0rFiB.png\r\n  [2]: https://i.stack.imgur.com/qr56k.png","title":"Static jpa metamodel are not generated with hibernate-jpamodelgen 6.1.5.Final","body":"<p>I have found two solutions but i don't understand why it works (i'm lucky i guess). Any explanations would be great :)</p>\n<ol>\n<li><strong>First solution</strong></li>\n</ol>\n<p>Use the version 5.6.12.Final of Hibernate directly in a dependency. If i upgrade it to version 6.1.5.Final (as suggested by intellij), the metamodel are not generated but i don't know why...</p>\n<p><a href=\"https://i.stack.imgur.com/0rFiB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0rFiB.png\" alt=\"Dependency\" /></a></p>\n<ol start=\"2\">\n<li><strong>Second solution</strong></li>\n</ol>\n<p>Set the dependency to the latest version (here 6.1.5.Final) but add a plugin to the build with an annotationProcessorPaths that use the version 5.6.12.Final</p>\n<p><a href=\"https://i.stack.imgur.com/qr56k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qr56k.png\" alt=\"annotationProcessorPaths\" /></a></p>\n<p>PS: i don't understand why the variable <strong>${hibernate.version}</strong> is set to version 5.6.12.Final while i have set my hibernate verison to 6.1.5.Final in the dependency... Any explanation would be great :)</p>\n"},{"tags":[],"owner":{"account_id":2458519,"reputation":7657,"user_id":2143128,"display_name":"Ratul Sharker"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678654474,"creation_date":1678654474,"answer_id":75716319,"question_id":74336404,"body_markdown":"Updating the version to spring boot `3.0.3-SNAPSHOT` works for me.\r\n\r\nParent portion\r\n\r\n```xml\r\n&lt;parent&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.0.3-SNAPSHOT&lt;/version&gt;\r\n\t&lt;relativePath/&gt;\r\n&lt;/parent&gt;\r\n```\r\n\r\nModel gen related dependencies\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n\t&lt;version&gt;6.1.7.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Static jpa metamodel are not generated with hibernate-jpamodelgen 6.1.5.Final","body":"<p>Updating the version to spring boot <code>3.0.3-SNAPSHOT</code> works for me.</p>\n<p>Parent portion</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.3-SNAPSHOT&lt;/version&gt;\n    &lt;relativePath/&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>Model gen related dependencies</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n    &lt;version&gt;6.1.7.Final&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28213863,"reputation":1,"user_id":21565696,"display_name":"ybelin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680619143,"creation_date":1680619143,"answer_id":75930711,"question_id":74336404,"body_markdown":"Try to use hibernate-jpamodelgen-jakarta:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-jpamodelgen-jakarta&lt;/artifactId&gt;\r\n      &lt;version&gt;5.6.15.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Static jpa metamodel are not generated with hibernate-jpamodelgen 6.1.5.Final","body":"<p>Try to use hibernate-jpamodelgen-jakarta:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n  &lt;artifactId&gt;hibernate-jpamodelgen-jakarta&lt;/artifactId&gt;\n  &lt;version&gt;5.6.15.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21411288,"reputation":1,"user_id":15771441,"display_name":"Stephen Erdman"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701443099,"creation_date":1701442212,"answer_id":77586122,"question_id":74336404,"body_markdown":"If you are still using the &quot;javax.persistence.X&quot; packages, then update them to &quot;jakarta.persistence.X&quot;. ","title":"Static jpa metamodel are not generated with hibernate-jpamodelgen 6.1.5.Final","body":"<p>If you are still using the &quot;javax.persistence.X&quot; packages, then update them to &quot;jakarta.persistence.X&quot;.</p>\n"}],"owner":{"account_id":26846617,"reputation":61,"user_id":20432289,"display_name":"Joachim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5965,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74371609,"answer_count":4,"score":3,"last_activity_date":1701443099,"creation_date":1667742244,"question_id":74336404,"body_markdown":"I know this question has been asked several times but none of the answers worked for me.\r\n\r\nBasically, i&#39;m trying to generate the jpa metamodel from my entities in order to use them in specifications. However, despite running (i think, see the rebuild project ouput screenshot), the **Hibernate JPA 2 Static-Metamodel Generator 6.1.5.Final** didn&#39;t generate any classes in the **annotations** folder.\r\n\r\nCan someone please help me? (PS sorry i cannot post screenshot because stack overflow doesn&#39;t let me)\r\n\r\nI&#39;m using java 19 with sping boot 2.7.5 and maven and intellij.\r\n\r\nHere is the Test.java file (the class i want to generate):\r\n\r\n```\r\npackage com.example.demo.model;\r\n\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\n\r\n@Entity\r\npublic class Test {\r\n    @Id\r\n    private int id;\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n   xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n   &lt;parent&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n      &lt;version&gt;2.7.5&lt;/version&gt;\r\n      &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n   &lt;/parent&gt;\r\n   &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n   &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n   &lt;name&gt;demo&lt;/name&gt;\r\n   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n   &lt;properties&gt;\r\n      &lt;java.version&gt;19&lt;/java.version&gt;\r\n   &lt;/properties&gt;\r\n   &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n         &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n         &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n         &lt;version&gt;6.1.5.Final&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n         &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n         &lt;version&gt;4.0.0&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n   &lt;/dependencies&gt;\r\n\r\n   &lt;build&gt;\r\n      &lt;plugins&gt;\r\n         &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n         &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n   &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nThe rebuild project output:\r\n\r\n```\r\nClearing build system data...\r\nExecuting pre-compile tasks...\r\nCleaning output directories…\r\nRunning &#39;before&#39; tasks\r\nChecking sources\r\nCopying resources... [demo]\r\nParsing java… [demo]\r\njava: Hibernate JPA 2 Static-Metamodel Generator 6.1.5.Final\r\nWriting classes… [demo]\r\nUpdating dependency information… [demo]\r\nAdding @NotNull assertions… [demo]\r\nAdding pattern assertions… [demo]\r\nAdding Threading Model assertions… [demo]\r\nParsing java… [tests of demo]\r\nWriting classes… [tests of demo]\r\nUpdating dependency information… [tests of demo]\r\nAdding @NotNull assertions… [tests of demo]\r\nAdding pattern assertions… [tests of demo]\r\nAdding Threading Model assertions… [tests of demo]\r\nRunning &#39;after&#39; tasks\r\njavac 19 was used to compile java sources\r\nFinished, saving caches…\r\nExecuting post-compile tasks...\r\nFinished, saving caches…\r\nSynchronizing output directories...\r\n06-11-22 14:37 - Build completed successfully in 3 sec, 464 ms\r\n```\r\n\r\nAnd the intellij annotation processors settings:\r\n\r\nI cannot post images but the **enable annotation processing** is checked as well as **obtain processorts from projet classpath** and the path is **target\\generated-sources\\annotations** in the \r\n**module content root**.\r\n\r\nAfter rebuilding the project, the **target** folder appears and contains a folder named **generated-sources**. This **generated-sources** contains a folder called **annotations** but it doesn&#39;t contain anything (but it should contain the class **Test_**).\r\n\r\nThe folder **annotations** has been set as a source folder aswell.\r\n\r\nI have read some previous posts but none were working for me.\r\nI also read the documentation ([doc](https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#tooling-modelgen)) but it still doesnt work.","title":"Static jpa metamodel are not generated with hibernate-jpamodelgen 6.1.5.Final","body":"<p>I know this question has been asked several times but none of the answers worked for me.</p>\n<p>Basically, i'm trying to generate the jpa metamodel from my entities in order to use them in specifications. However, despite running (i think, see the rebuild project ouput screenshot), the <strong>Hibernate JPA 2 Static-Metamodel Generator 6.1.5.Final</strong> didn't generate any classes in the <strong>annotations</strong> folder.</p>\n<p>Can someone please help me? (PS sorry i cannot post screenshot because stack overflow doesn't let me)</p>\n<p>I'm using java 19 with sping boot 2.7.5 and maven and intellij.</p>\n<p>Here is the Test.java file (the class i want to generate):</p>\n<pre><code>package com.example.demo.model;\n\n\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\n\n@Entity\npublic class Test {\n    @Id\n    private int id;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n}\n\n</code></pre>\n<p>The pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n   xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n   &lt;parent&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n      &lt;version&gt;2.7.5&lt;/version&gt;\n      &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n   &lt;/parent&gt;\n   &lt;groupId&gt;com.example&lt;/groupId&gt;\n   &lt;artifactId&gt;demo&lt;/artifactId&gt;\n   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n   &lt;name&gt;demo&lt;/name&gt;\n   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n   &lt;properties&gt;\n      &lt;java.version&gt;19&lt;/java.version&gt;\n   &lt;/properties&gt;\n   &lt;dependencies&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n         &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n         &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n         &lt;version&gt;6.1.5.Final&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n         &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n         &lt;version&gt;4.0.0&lt;/version&gt;\n      &lt;/dependency&gt;\n   &lt;/dependencies&gt;\n\n   &lt;build&gt;\n      &lt;plugins&gt;\n         &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n         &lt;/plugin&gt;\n      &lt;/plugins&gt;\n   &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>The rebuild project output:</p>\n<pre><code>Clearing build system data...\nExecuting pre-compile tasks...\nCleaning output directories…\nRunning 'before' tasks\nChecking sources\nCopying resources... [demo]\nParsing java… [demo]\njava: Hibernate JPA 2 Static-Metamodel Generator 6.1.5.Final\nWriting classes… [demo]\nUpdating dependency information… [demo]\nAdding @NotNull assertions… [demo]\nAdding pattern assertions… [demo]\nAdding Threading Model assertions… [demo]\nParsing java… [tests of demo]\nWriting classes… [tests of demo]\nUpdating dependency information… [tests of demo]\nAdding @NotNull assertions… [tests of demo]\nAdding pattern assertions… [tests of demo]\nAdding Threading Model assertions… [tests of demo]\nRunning 'after' tasks\njavac 19 was used to compile java sources\nFinished, saving caches…\nExecuting post-compile tasks...\nFinished, saving caches…\nSynchronizing output directories...\n06-11-22 14:37 - Build completed successfully in 3 sec, 464 ms\n</code></pre>\n<p>And the intellij annotation processors settings:</p>\n<p>I cannot post images but the <strong>enable annotation processing</strong> is checked as well as <strong>obtain processorts from projet classpath</strong> and the path is <strong>target\\generated-sources\\annotations</strong> in the\n<strong>module content root</strong>.</p>\n<p>After rebuilding the project, the <strong>target</strong> folder appears and contains a folder named <strong>generated-sources</strong>. This <strong>generated-sources</strong> contains a folder called <strong>annotations</strong> but it doesn't contain anything (but it should contain the class <strong>Test_</strong>).</p>\n<p>The folder <strong>annotations</strong> has been set as a source folder aswell.</p>\n<p>I have read some previous posts but none were working for me.\nI also read the documentation (<a href=\"https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#tooling-modelgen\" rel=\"nofollow noreferrer\">doc</a>) but it still doesnt work.</p>\n"},{"tags":["java","jframe","jbutton","actionlistener","mouselistener"],"comments":[{"owner":{"account_id":3455808,"reputation":10954,"user_id":2894369,"display_name":"alex2410"},"score":0,"creation_date":1394620714,"post_id":22348685,"comment_id":33967536,"body_markdown":"Yes, you can, but what is the purpose for that?","body":"Yes, you can, but what is the purpose for that?"},{"owner":{"account_id":3930449,"reputation":113,"user_id":3249265,"accept_rate":75,"display_name":"user3249265"},"score":0,"creation_date":1394620775,"post_id":22348685,"comment_id":33967577,"body_markdown":"how would i do that?\nthe purpose is that suppose i have a frame with 2 buttons one that moves something and the 2nd one stops it and then using mouse listener i can move it manually.","body":"how would i do that? the purpose is that suppose i have a frame with 2 buttons one that moves something and the 2nd one stops it and then using mouse listener i can move it manually."}],"answers":[{"tags":[],"owner":{"account_id":3455808,"reputation":10954,"user_id":2894369,"display_name":"alex2410"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394621833,"creation_date":1394621171,"answer_id":22349035,"question_id":22348685,"body_markdown":"Here is example with `JToggleButton` which add/remove `MouseListener` to `JFrame`.\r\n\r\n    import java.awt.FlowLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JToggleButton;\r\n    \r\n    public class Example extends JFrame {\r\n    \t\r\n    \tprivate MouseAdapter mouseListener;\r\n    \r\n    \tpublic Example(){\r\n    \t\tinit();\r\n    \t\tpack();\r\n    \t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tsetVisible(true);\r\n    \t}\r\n    \t\r\n    \tprivate void init() {\r\n    \t\tmouseListener = new MouseAdapter() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void mouseClicked(MouseEvent e) {\r\n    \t\t\t\tsuper.mouseClicked(e);\r\n    \t\t\t\tSystem.out.println(&quot;clicked&quot;);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\tsetLayout(new FlowLayout());\r\n    \t\tJToggleButton b = new JToggleButton(&quot;add listener&quot;);\r\n    \t\tb.addActionListener(new ActionListener() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t\tif(((JToggleButton)e.getSource()).isSelected()){\r\n    \t\t\t\t\tExample.this.addMouseListener(mouseListener);\r\n    \t\t\t\t\t((JToggleButton)e.getSource()).setText(&quot;remove listener&quot;);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tExample.this.removeMouseListener(mouseListener);\r\n    \t\t\t\t\t((JToggleButton)e.getSource()).setText(&quot;add listener&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tadd(b);\r\n    \t}\r\n    \r\n    \tpublic static void main(String... s){\r\n    \t\tnew Example();\r\n    \t}\r\n    }\r\n\r\nEDIT: examle with `JButton`:\r\n\r\n   \r\n\r\n    public class Example extends JFrame {\r\n    \t\r\n    \tprivate MouseAdapter mouseListener;\r\n    \r\n    \tpublic Example(){\r\n    \t\tinit();\r\n    \t\tpack();\r\n    \t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tsetVisible(true);\r\n    \t}\r\n    \t\r\n    \tprivate void init() {\r\n    \t\tmouseListener = new MouseAdapter() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void mouseClicked(MouseEvent e) {\r\n    \t\t\t\tsuper.mouseClicked(e);\r\n    \t\t\t\tSystem.out.println(&quot;clicked&quot;);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\tsetLayout(new FlowLayout());\r\n    \t\tJButton b = new JButton(&quot;add listener&quot;);\r\n    \t\tb.addActionListener(new ActionListener() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t\tif(((JButton)e.getSource()).getText().equals(&quot;add listener&quot;)){\r\n    \t\t\t\t\tExample.this.addMouseListener(mouseListener);\r\n    \t\t\t\t\t((JButton)e.getSource()).setText(&quot;remove listener&quot;);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tExample.this.removeMouseListener(mouseListener);\r\n    \t\t\t\t\t((JButton)e.getSource()).setText(&quot;add listener&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tadd(b);\r\n    \t}\r\n    \r\n    \tpublic static void main(String... s){\r\n    \t\tnew Example();\r\n    \t}\r\n    }","title":"JButton with both ActionListener / MouseListener","body":"<p>Here is example with <code>JToggleButton</code> which add/remove <code>MouseListener</code> to <code>JFrame</code>.</p>\n\n<pre><code>import java.awt.FlowLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\n\nimport javax.swing.JFrame;\nimport javax.swing.JToggleButton;\n\npublic class Example extends JFrame {\n\n    private MouseAdapter mouseListener;\n\n    public Example(){\n        init();\n        pack();\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setVisible(true);\n    }\n\n    private void init() {\n        mouseListener = new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                super.mouseClicked(e);\n                System.out.println(\"clicked\");\n            }\n        };\n        setLayout(new FlowLayout());\n        JToggleButton b = new JToggleButton(\"add listener\");\n        b.addActionListener(new ActionListener() {\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                if(((JToggleButton)e.getSource()).isSelected()){\n                    Example.this.addMouseListener(mouseListener);\n                    ((JToggleButton)e.getSource()).setText(\"remove listener\");\n                } else {\n                    Example.this.removeMouseListener(mouseListener);\n                    ((JToggleButton)e.getSource()).setText(\"add listener\");\n                }\n            }\n        });\n        add(b);\n    }\n\n    public static void main(String... s){\n        new Example();\n    }\n}\n</code></pre>\n\n<p>EDIT: examle with <code>JButton</code>:</p>\n\n<pre><code>public class Example extends JFrame {\n\n    private MouseAdapter mouseListener;\n\n    public Example(){\n        init();\n        pack();\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setVisible(true);\n    }\n\n    private void init() {\n        mouseListener = new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                super.mouseClicked(e);\n                System.out.println(\"clicked\");\n            }\n        };\n        setLayout(new FlowLayout());\n        JButton b = new JButton(\"add listener\");\n        b.addActionListener(new ActionListener() {\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                if(((JButton)e.getSource()).getText().equals(\"add listener\")){\n                    Example.this.addMouseListener(mouseListener);\n                    ((JButton)e.getSource()).setText(\"remove listener\");\n                } else {\n                    Example.this.removeMouseListener(mouseListener);\n                    ((JButton)e.getSource()).setText(\"add listener\");\n                }\n            }\n        });\n        add(b);\n    }\n\n    public static void main(String... s){\n        new Example();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3591540,"reputation":11,"user_id":2997477,"display_name":"user2997477"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394621215,"creation_date":1394621215,"answer_id":22349053,"question_id":22348685,"body_markdown":"If you want to move something by clicking on it, you can use a mouse listener on that node directly, instead of using it on the button.\r\n\r\nTo add both the action listener and a mouse listener on a button, you can use the addActionListener and addMouseListener methods on the button.\r\n\r\nLook at the api for information about these methods... http://docs.oracle.com/javase/7/docs/api/javax/swing/JButton.html","title":"JButton with both ActionListener / MouseListener","body":"<p>If you want to move something by clicking on it, you can use a mouse listener on that node directly, instead of using it on the button.</p>\n\n<p>To add both the action listener and a mouse listener on a button, you can use the addActionListener and addMouseListener methods on the button.</p>\n\n<p>Look at the api for information about these methods... <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JButton.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/javax/swing/JButton.html</a></p>\n"},{"tags":[],"owner":{"account_id":3163780,"reputation":747,"user_id":2674225,"accept_rate":53,"display_name":"rzysia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394621625,"creation_date":1394621625,"answer_id":22349243,"question_id":22348685,"body_markdown":"If I understood you correctly, this sample might help you (add this to your own ActionListener)\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        ((JButton)e.getSource()).addMouseListener(yourMouseListener);\r\n    }\r\n\r\nI tried this, it works.","title":"JButton with both ActionListener / MouseListener","body":"<p>If I understood you correctly, this sample might help you (add this to your own ActionListener)</p>\n\n<pre><code>@Override\npublic void actionPerformed(ActionEvent e) {\n    ((JButton)e.getSource()).addMouseListener(yourMouseListener);\n}\n</code></pre>\n\n<p>I tried this, it works.</p>\n"},{"tags":[],"owner":{"account_id":3591540,"reputation":11,"user_id":2997477,"display_name":"user2997477"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394622204,"creation_date":1394622204,"answer_id":22349491,"question_id":22348685,"body_markdown":"What you want to do is still not clear to me. Though this can help you. It will add a mouse listner to the component when the start button is clicked and remove the mouse listner when stop button is clicked. Thus you can stop the two listeners from working in sync..\r\n\r\n    JButton startButton = new JButton();\r\n\r\n    startButton.addActionListener(new ActionListener() {         \r\n    public void actionPerformed(ActionEvent e) {\r\n    \r\n       //Add MouseListener to move the component\r\n       \r\n    }\r\n    }); \r\n\r\n    JButton stopButton = new JButton();\r\n\r\n    stopButton.addActionListener(new ActionListener() {         \r\n    public void actionPerformed(ActionEvent e) {\r\n    \r\n       //Remove the MouseListener\r\n       \r\n    }\r\n    }); ","title":"JButton with both ActionListener / MouseListener","body":"<p>What you want to do is still not clear to me. Though this can help you. It will add a mouse listner to the component when the start button is clicked and remove the mouse listner when stop button is clicked. Thus you can stop the two listeners from working in sync..</p>\n\n<pre><code>JButton startButton = new JButton();\n\nstartButton.addActionListener(new ActionListener() {         \npublic void actionPerformed(ActionEvent e) {\n\n   //Add MouseListener to move the component\n\n}\n}); \n\nJButton stopButton = new JButton();\n\nstopButton.addActionListener(new ActionListener() {         \npublic void actionPerformed(ActionEvent e) {\n\n   //Remove the MouseListener\n\n}\n}); \n</code></pre>\n"}],"owner":{"account_id":3930449,"reputation":113,"user_id":3249265,"accept_rate":75,"display_name":"user3249265"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23525,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1701442980,"creation_date":1394620357,"question_id":22348685,"body_markdown":"Is it possible to create a Jbutton with both an ActionListener and MouseListener\r\n\r\nMeaning so i create a button and then when i press it ( throught actionListener) it changes the frame so that AFTER then button was pressed i  can press anywhere on the frame and MouseListener would in use.\r\n\r\n    JButton button = new JButton();//Creates Button\r\n    button.addActionListener(new ActionListener() {         \r\n    public void actionPerformed(ActionEvent e) {\r\n        //Insert MouseListener\r\n        //Then do something with mouseListener\r\n    }\r\n    }); \r\n\r\n\r\n\r\nHeres the curent code: however they&#39;re now in sync when i try to click the button and i cannot call mouseListener a 2nd time\r\n\r\n    \tJButton button2 = new JButton(&quot;Click&quot;);\r\n\t\tbutton2.addActionListener(new ActionListener()\r\n\t\t{\r\n\t\t\tpublic void actionPerformed(ActionEvent e)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;You clicked the button&quot;);\r\n\t\t\t\tnewCube.stopCube();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t});\r\n\t\tbutton2.addMouseListener(new java.awt.event.MouseAdapter()\r\n\t\t{\r\n\t\t\tpublic void mousePressed(java.awt.event.MouseEvent evt)\r\n\t\t\t{\r\n\t\t\t\tdouble x = evt.getX();\r\n\t\t\t\tdouble y = evt.getY();\r\n\t\t\t\tnewCube.setCube(x,y);\r\n\t\t\t}\r\n\t\t});\r\n","title":"JButton with both ActionListener / MouseListener","body":"<p>Is it possible to create a Jbutton with both an ActionListener and MouseListener</p>\n\n<p>Meaning so i create a button and then when i press it ( throught actionListener) it changes the frame so that AFTER then button was pressed i  can press anywhere on the frame and MouseListener would in use.</p>\n\n<pre><code>JButton button = new JButton();//Creates Button\nbutton.addActionListener(new ActionListener() {         \npublic void actionPerformed(ActionEvent e) {\n    //Insert MouseListener\n    //Then do something with mouseListener\n}\n}); \n</code></pre>\n\n<p>Heres the curent code: however they're now in sync when i try to click the button and i cannot call mouseListener a 2nd time</p>\n\n<pre><code>    JButton button2 = new JButton(\"Click\");\n    button2.addActionListener(new ActionListener()\n    {\n        public void actionPerformed(ActionEvent e)\n        {\n            System.out.println(\"You clicked the button\");\n            newCube.stopCube();\n        }\n\n    });\n    button2.addMouseListener(new java.awt.event.MouseAdapter()\n    {\n        public void mousePressed(java.awt.event.MouseEvent evt)\n        {\n            double x = evt.getX();\n            double y = evt.getY();\n            newCube.setCube(x,y);\n        }\n    });\n</code></pre>\n"},{"tags":["java","gwt","gxt"],"answers":[{"tags":[],"owner":{"account_id":70754,"reputation":1,"user_id":204877,"display_name":"user204877"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1330109982,"creation_date":1257516389,"answer_id":1687821,"question_id":1175946,"body_markdown":"I use `radio.setValueAttribute(String value)` method to store value.","title":"Get Name of selected RadioButton in EXT-GWT RadioGroup","body":"<p>I use <code>radio.setValueAttribute(String value)</code> method to store value.</p>\n"},{"tags":[],"owner":{"account_id":538910,"reputation":1115,"user_id":906677,"accept_rate":86,"display_name":"hsestupin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1321011303,"creation_date":1321011303,"answer_id":8093410,"question_id":1175946,"body_markdown":"I think, that&#39;s you need.\r\n    \r\n    radioGroup.addListener(Events.Change, new Listener&lt;FieldEvent&gt;() {\r\n        @Override\r\n        public void handleEvent(FieldEvent fe) {\r\n            GWT.log(fe.getField().getName() + &quot; : &quot; + fe.getValue());\r\n        }\r\n    });","title":"Get Name of selected RadioButton in EXT-GWT RadioGroup","body":"<p>I think, that's you need.</p>\n\n<pre><code>radioGroup.addListener(Events.Change, new Listener&lt;FieldEvent&gt;() {\n    @Override\n    public void handleEvent(FieldEvent fe) {\n        GWT.log(fe.getField().getName() + \" : \" + fe.getValue());\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":21157,"reputation":16683,"user_id":51230,"accept_rate":83,"display_name":"Maksim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9586,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1701442980,"creation_date":1248415453,"question_id":1175946,"body_markdown":"I have following code:\r\n\r\n    final Radio trDelRadio = new Radio();\r\n    trDelRadio.setName(&quot;TDRADIO&quot;);\r\n    trDelRadio.setBoxLabel(&quot;Training&quot;);\r\n    \r\n    final Radio cdcRadio = new Radio();\r\n    cdcRadio.setName(&quot;CDCRADIO&quot;);\r\n    cdcRadio.setBoxLabel(&quot;Content&quot;);\r\n    \r\n    final Radio msRadio = new Radio();\r\n    msRadio.setName(&quot;MSRADIO&quot;);\r\n    msRadio.setBoxLabel(&quot;Management&quot;);\r\n    \r\n    final Radio osRadio = new Radio();\r\n    osRadio.setName(&quot;OSRADIO&quot;);\r\n    osRadio.setBoxLabel(&quot;Outsourcing&quot;);\r\n    \r\n    \r\n    final RadioGroup radioGroup = new RadioGroup();\r\n    radioGroup.setOrientation(Orientation.VERTICAL);\r\n    radioGroup.add(trDelRadio);\r\n    radioGroup.add(cdcRadio);\r\n    radioGroup.add(msRadio);\r\n    radioGroup.add(osRadio);\r\n    radioGroup.addListener(Events.Change, new Listener&lt;BaseEvent&gt;(){\r\n           public void handleEvent(BaseEvent be) {\r\n                  GWT.log(&quot;Service type: &quot; + radioGroup.getValue().getBoxLabel(), null);\r\n            }\r\n    });\r\n\r\nIn this code I&#39;m using GXT 2.0.1 create four radio buttons and then combining them into the radio button group.\r\n\r\nLine\r\n \r\n    GWT.log(&quot;Service type: &quot; + radioGroup.getValue().getBoxLabel(), null);\r\n\r\nis retrieving Label of selected check box and works fine, but when I&#39;m trying to get name or any other information it&#39;s  getting value of the RadioGroup. What am I doing wrong here? How do I get selected radio button in RadioGroup?","title":"Get Name of selected RadioButton in EXT-GWT RadioGroup","body":"<p>I have following code:</p>\n\n<pre><code>final Radio trDelRadio = new Radio();\ntrDelRadio.setName(\"TDRADIO\");\ntrDelRadio.setBoxLabel(\"Training\");\n\nfinal Radio cdcRadio = new Radio();\ncdcRadio.setName(\"CDCRADIO\");\ncdcRadio.setBoxLabel(\"Content\");\n\nfinal Radio msRadio = new Radio();\nmsRadio.setName(\"MSRADIO\");\nmsRadio.setBoxLabel(\"Management\");\n\nfinal Radio osRadio = new Radio();\nosRadio.setName(\"OSRADIO\");\nosRadio.setBoxLabel(\"Outsourcing\");\n\n\nfinal RadioGroup radioGroup = new RadioGroup();\nradioGroup.setOrientation(Orientation.VERTICAL);\nradioGroup.add(trDelRadio);\nradioGroup.add(cdcRadio);\nradioGroup.add(msRadio);\nradioGroup.add(osRadio);\nradioGroup.addListener(Events.Change, new Listener&lt;BaseEvent&gt;(){\n       public void handleEvent(BaseEvent be) {\n              GWT.log(\"Service type: \" + radioGroup.getValue().getBoxLabel(), null);\n        }\n});\n</code></pre>\n\n<p>In this code I'm using GXT 2.0.1 create four radio buttons and then combining them into the radio button group.</p>\n\n<p>Line</p>\n\n<pre><code>GWT.log(\"Service type: \" + radioGroup.getValue().getBoxLabel(), null);\n</code></pre>\n\n<p>is retrieving Label of selected check box and works fine, but when I'm trying to get name or any other information it's  getting value of the RadioGroup. What am I doing wrong here? How do I get selected radio button in RadioGroup?</p>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch","elasticsearch-high-level-restclient"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18486,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701442644,"creation_date":1701442644,"answer_id":77586171,"question_id":77585958,"body_markdown":"I doubt that this version mix will work\r\n\r\n* Spring Boot 3.1 uses Spring Data Elasticsearch 5.1 and Elasticsearch 8.7, Spring 6\r\n* Spring Data Elasticsearch 4.3 is built with Spring 5.3 and Elasticsearch 7.15\r\n\r\nAs for the returned aggregations from Spring Data Elasticsearch 5 on, you will have to check the classes that are returned from the Elasticsearch libraries, Spring Data Elasticsearch doen&#39;t use it&#39;s own classes there.\r\n\r\n","title":"AggregationsContainer after Updating from Elastic 7 to 8 (+Spring 3, JDK 17)","body":"<p>I doubt that this version mix will work</p>\n<ul>\n<li>Spring Boot 3.1 uses Spring Data Elasticsearch 5.1 and Elasticsearch 8.7, Spring 6</li>\n<li>Spring Data Elasticsearch 4.3 is built with Spring 5.3 and Elasticsearch 7.15</li>\n</ul>\n<p>As for the returned aggregations from Spring Data Elasticsearch 5 on, you will have to check the classes that are returned from the Elasticsearch libraries, Spring Data Elasticsearch doen't use it's own classes there.</p>\n"}],"owner":{"account_id":20216024,"reputation":1,"user_id":22126079,"display_name":"Andreas Pichler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701442644,"creation_date":1701440856,"question_id":77585958,"body_markdown":"Hello dear community, \r\n\r\nI have upgraded Spring Boot to 3.1.5 and JDK to 17 and my ElasticSearch from 7.x to 8.x, now I have the problem that I can&#39;t find a solution how to refactor aggregations, which still had a .get(String x) method in version 4.0.0.RELEASE, so that they work in my currently used version of spring-data-elasticsearch. As I am still relatively new to the world of ElasticSearch, I also wanted to ask whether the dependencies used are compatible with ES8? As far as I understand it, the rest high level client is no longer used in the ES8 version and the java client is used instead. Is that correct? I would be very happy about some help! :)\r\n\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\r\n  &lt;version&gt;3.1.1&lt;/version&gt; &lt;!--Last version is 3.2.0--&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-data-elasticsearch&lt;/artifactId&gt;\r\n  &lt;version&gt;4.3.6&lt;/version&gt; &lt;!--Last version is 5.2.0--&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;co.elastic.clients&lt;/groupId&gt;\r\n  &lt;artifactId&gt;elasticsearch-java&lt;/artifactId&gt;\r\n  &lt;version&gt;8.11.1&lt;/version&gt; &lt;!--Is last version--&gt;\r\n&lt;/dependency&gt;\r\n\r\npublic static Set&lt;Integer&gt; getAggregations(SearchHits&lt;ElasticSearchArticleDto&gt; search, String aggregation)\r\n  {\r\n    Set&lt;Integer&gt; result = new LinkedHashSet&lt;&gt;();\r\n    if (search.getAggregations() != null &amp;&amp; (search.getAggregations()).**get**(aggregation) != null)\r\n    {\r\n      ((ParsedLongTerms) (search.getAggregations()).**get**(aggregation)).getBuckets()\r\n        .forEach(bucket -&gt; result.add(bucket.getKeyAsNumber().intValue()));\r\n    }\r\n    return result;\r\n}\r\n\r\n```\r\n\r\nSpring Boot 3.1.5, Java 17, ES8 Upgrade","title":"AggregationsContainer after Updating from Elastic 7 to 8 (+Spring 3, JDK 17)","body":"<p>Hello dear community,</p>\n<p>I have upgraded Spring Boot to 3.1.5 and JDK to 17 and my ElasticSearch from 7.x to 8.x, now I have the problem that I can't find a solution how to refactor aggregations, which still had a .get(String x) method in version 4.0.0.RELEASE, so that they work in my currently used version of spring-data-elasticsearch. As I am still relatively new to the world of ElasticSearch, I also wanted to ask whether the dependencies used are compatible with ES8? As far as I understand it, the rest high level client is no longer used in the ES8 version and the java client is used instead. Is that correct? I would be very happy about some help! :)</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\n  &lt;version&gt;3.1.1&lt;/version&gt; &lt;!--Last version is 3.2.0--&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-data-elasticsearch&lt;/artifactId&gt;\n  &lt;version&gt;4.3.6&lt;/version&gt; &lt;!--Last version is 5.2.0--&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;co.elastic.clients&lt;/groupId&gt;\n  &lt;artifactId&gt;elasticsearch-java&lt;/artifactId&gt;\n  &lt;version&gt;8.11.1&lt;/version&gt; &lt;!--Is last version--&gt;\n&lt;/dependency&gt;\n\npublic static Set&lt;Integer&gt; getAggregations(SearchHits&lt;ElasticSearchArticleDto&gt; search, String aggregation)\n  {\n    Set&lt;Integer&gt; result = new LinkedHashSet&lt;&gt;();\n    if (search.getAggregations() != null &amp;&amp; (search.getAggregations()).**get**(aggregation) != null)\n    {\n      ((ParsedLongTerms) (search.getAggregations()).**get**(aggregation)).getBuckets()\n        .forEach(bucket -&gt; result.add(bucket.getKeyAsNumber().intValue()));\n    }\n    return result;\n}\n\n</code></pre>\n<p>Spring Boot 3.1.5, Java 17, ES8 Upgrade</p>\n"},{"tags":["javascript","java","android","reactjs","react-native"],"owner":{"account_id":11778189,"reputation":5288,"user_id":8618818,"accept_rate":78,"display_name":"Onyx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701442641,"creation_date":1701442641,"question_id":77586169,"body_markdown":"I can set a fingerprint and a face unlock on my Android phone and currently I am trying to check if either is available and biometrically authenticate the user in my application.\r\n\r\nI am currently using the react-native-biometrics package which supports both TouchID and FaceID for iOS, but only Biometrics for Android. When I do this:\r\n\r\n    const { biometryType } = await biometrics.isSensorAvailable();\r\n\r\nIt is only defined if I have a fingerprint unlock set up.\r\n\r\n        const { success } = await biometrics.simplePrompt({\r\n            promptMessage: &#39;Confirmation&#39;,\r\n        });\r\n\r\nAlso only triggers if I have fingerprint unlock set up. It doesn&#39;t do anything if I just have face unlock set up.\r\n\r\nFrom what I can see, all React Native libraries that I have found only support fingerprint for Android. I imagine there must be some sort of Android reason for this?","title":"React Native Android biometrics - can I locally authenticate using face lock? From what I see, only fingerprint authentication works","body":"<p>I can set a fingerprint and a face unlock on my Android phone and currently I am trying to check if either is available and biometrically authenticate the user in my application.</p>\n<p>I am currently using the react-native-biometrics package which supports both TouchID and FaceID for iOS, but only Biometrics for Android. When I do this:</p>\n<pre><code>const { biometryType } = await biometrics.isSensorAvailable();\n</code></pre>\n<p>It is only defined if I have a fingerprint unlock set up.</p>\n<pre><code>    const { success } = await biometrics.simplePrompt({\n        promptMessage: 'Confirmation',\n    });\n</code></pre>\n<p>Also only triggers if I have fingerprint unlock set up. It doesn't do anything if I just have face unlock set up.</p>\n<p>From what I can see, all React Native libraries that I have found only support fingerprint for Android. I imagine there must be some sort of Android reason for this?</p>\n"},{"tags":["java","spring","spring-security"],"answers":[{"tags":[],"owner":{"account_id":121145,"reputation":4865,"user_id":314015,"display_name":"alexkasko"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1429815423,"creation_date":1332957577,"answer_id":9913148,"question_id":9910252,"body_markdown":"The key point - you should be able to access users `SecurityContext`s. \r\n\r\nIf you are in servlet environment and are using `HttpSession` as `securityContextRepository` in your `securityContextPersistenceFilter`, then it can be done with spring&#39;s `SessionRegistry`. To force the user to re-auth (it should be better than silent permissions revocation) invalidate his `HttpSession`. Don&#39;t forget to add `HttpSessionEventPublisher` to web.xml\r\n\r\n    &lt;listener&gt;\r\n        &lt;listener-class&gt;\r\n            org.springframework.security.web.session.HttpSessionEventPublisher\r\n        &lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n\r\nIf you are using thread-local `securityContextRepository`, then you should add custom filter to `springSecurityFilterChain` to manage `SecurityContext`s registry. To do this you must the use plain-bean `springSecurityFilterChain` configuration (without `security` namespace shortcuts). With plain-bean config with custom filters you&#39;ll have full control on authentication and authorization.\r\n\r\nSome links, they don&#39;t solve exactly your problem (no OpenID), but may be useful:\r\n\r\n - [NIH session registry](https://github.com/alx3apps/spring-embedded-tomcat/tree/master/components/src/main/java/ru/concerteza/springtomcat/components/registry) for servlet environment\r\n - [it&#39;s plain-bean spring config](https://github.com/alx3apps/spring-embedded-tomcat/blob/master/etomcat6-test/src/main/app-dirs/registrydir/conf/etomcat-test-ctx.xml) working example\r\n - [real life plain-bean spring config for X.509 auth](https://github.com/alx3apps/spring-embedded-tomcat/blob/master/etomcat6-test/src/main/app-dirs/x509dir/conf/etomcat-test-ctx.xml), you may start with it and modify it to use OpenID instead of X.509.","title":"How to reload authorities on user update with Spring Security","body":"<p>The key point - you should be able to access users <code>SecurityContext</code>s. </p>\n\n<p>If you are in servlet environment and are using <code>HttpSession</code> as <code>securityContextRepository</code> in your <code>securityContextPersistenceFilter</code>, then it can be done with spring's <code>SessionRegistry</code>. To force the user to re-auth (it should be better than silent permissions revocation) invalidate his <code>HttpSession</code>. Don't forget to add <code>HttpSessionEventPublisher</code> to web.xml</p>\n\n<pre><code>&lt;listener&gt;\n    &lt;listener-class&gt;\n        org.springframework.security.web.session.HttpSessionEventPublisher\n    &lt;/listener-class&gt;\n&lt;/listener&gt;\n</code></pre>\n\n<p>If you are using thread-local <code>securityContextRepository</code>, then you should add custom filter to <code>springSecurityFilterChain</code> to manage <code>SecurityContext</code>s registry. To do this you must the use plain-bean <code>springSecurityFilterChain</code> configuration (without <code>security</code> namespace shortcuts). With plain-bean config with custom filters you'll have full control on authentication and authorization.</p>\n\n<p>Some links, they don't solve exactly your problem (no OpenID), but may be useful:</p>\n\n<ul>\n<li><a href=\"https://github.com/alx3apps/spring-embedded-tomcat/tree/master/components/src/main/java/ru/concerteza/springtomcat/components/registry\" rel=\"nofollow noreferrer\">NIH session registry</a> for servlet environment</li>\n<li><a href=\"https://github.com/alx3apps/spring-embedded-tomcat/blob/master/etomcat6-test/src/main/app-dirs/registrydir/conf/etomcat-test-ctx.xml\" rel=\"nofollow noreferrer\">it's plain-bean spring config</a> working example</li>\n<li><a href=\"https://github.com/alx3apps/spring-embedded-tomcat/blob/master/etomcat6-test/src/main/app-dirs/x509dir/conf/etomcat-test-ctx.xml\" rel=\"nofollow noreferrer\">real life plain-bean spring config for X.509 auth</a>, you may start with it and modify it to use OpenID instead of X.509.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1136625,"reputation":3087,"user_id":1121571,"accept_rate":61,"display_name":"Aure77"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1333094455,"creation_date":1333013358,"answer_id":9922613,"question_id":9910252,"body_markdown":"Thanks, help me a lot ! With `SessionRegistry`, I can use [getAllPrincipals()](http://static.springsource.org/spring-security/site/docs/3.1.x/apidocs/org/springframework/security/core/session/SessionRegistry.html#getAllPrincipals%28%29) to compare the user to modify with the current active users in sessions. If a session exist, I can invalidate his session using : [expireNow()](http://static.springsource.org/spring-security/site/docs/3.1.x/apidocs/org/springframework/security/core/session/SessionInformation.html#expireNow%28%29) (from `SessionInformation`) to force re-authentication.\r\n\r\nBut I don&#39;t understand the usefulness of `securityContextPersistenceFilter` ?\r\n\r\nEDIT :\r\n\r\n    // user object = User currently updated\r\n    // invalidate user session\r\n    List&lt;Object&gt; loggedUsers = sessionRegistry.getAllPrincipals();\r\n    for (Object principal : loggedUsers) {\r\n    \tif(principal instanceof User) {\r\n    \t\tfinal User loggedUser = (User) principal;\r\n    \t\tif(user.getUsername().equals(loggedUser.getUsername())) {\r\n    \t\t\tList&lt;SessionInformation&gt; sessionsInfo = sessionRegistry.getAllSessions(principal, false);\r\n    \t\t\tif(null != sessionsInfo &amp;&amp; sessionsInfo.size() &gt; 0) {\r\n    \t\t\t\tfor (SessionInformation sessionInformation : sessionsInfo) {\r\n    \t\t\t\t\tLOGGER.info(&quot;Exprire now :&quot; + sessionInformation.getSessionId());\r\n    \t\t\t\t\tsessionInformation.expireNow();\r\n    \t\t\t\t\tsessionRegistry.removeSessionInformation(sessionInformation.getSessionId());\r\n    \t\t\t\t\t// User is not forced to re-logging\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    } ","title":"How to reload authorities on user update with Spring Security","body":"<p>Thanks, help me a lot ! With <code>SessionRegistry</code>, I can use <a href=\"http://static.springsource.org/spring-security/site/docs/3.1.x/apidocs/org/springframework/security/core/session/SessionRegistry.html#getAllPrincipals%28%29\" rel=\"noreferrer\">getAllPrincipals()</a> to compare the user to modify with the current active users in sessions. If a session exist, I can invalidate his session using : <a href=\"http://static.springsource.org/spring-security/site/docs/3.1.x/apidocs/org/springframework/security/core/session/SessionInformation.html#expireNow%28%29\" rel=\"noreferrer\">expireNow()</a> (from <code>SessionInformation</code>) to force re-authentication.</p>\n\n<p>But I don't understand the usefulness of <code>securityContextPersistenceFilter</code> ?</p>\n\n<p>EDIT :</p>\n\n<pre><code>// user object = User currently updated\n// invalidate user session\nList&lt;Object&gt; loggedUsers = sessionRegistry.getAllPrincipals();\nfor (Object principal : loggedUsers) {\n    if(principal instanceof User) {\n        final User loggedUser = (User) principal;\n        if(user.getUsername().equals(loggedUser.getUsername())) {\n            List&lt;SessionInformation&gt; sessionsInfo = sessionRegistry.getAllSessions(principal, false);\n            if(null != sessionsInfo &amp;&amp; sessionsInfo.size() &gt; 0) {\n                for (SessionInformation sessionInformation : sessionsInfo) {\n                    LOGGER.info(\"Exprire now :\" + sessionInformation.getSessionId());\n                    sessionInformation.expireNow();\n                    sessionRegistry.removeSessionInformation(sessionInformation.getSessionId());\n                    // User is not forced to re-logging\n                }\n            }\n        }\n    }\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2883757,"reputation":1215,"user_id":2474068,"display_name":"leo"},"down_vote_count":10,"up_vote_count":77,"is_accepted":false,"score":67,"last_activity_date":1479427437,"creation_date":1433533955,"answer_id":30674697,"question_id":9910252,"body_markdown":"If you need to dynamically update a logged in user&#39;s authorities (when these have changed, for whatever reason), without having to log out and log in of course, you just need to reset the `Authentication` object (security token) in the Spring `SecurityContextHolder`.\r\n\r\nExample:\r\n\r\n    Authentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n\r\n    List&lt;GrantedAuthority&gt; updatedAuthorities = new ArrayList&lt;&gt;(auth.getAuthorities());\r\n    updatedAuthorities.add(...); //add your role here [e.g., new SimpleGrantedAuthority(&quot;ROLE_NEW_ROLE&quot;)]\r\n       \r\n    Authentication newAuth = new UsernamePasswordAuthenticationToken(auth.getPrincipal(), auth.getCredentials(), updatedAuthorities);\r\n       \r\n    SecurityContextHolder.getContext().setAuthentication(newAuth);\r\n\r\n","title":"How to reload authorities on user update with Spring Security","body":"<p>If you need to dynamically update a logged in user's authorities (when these have changed, for whatever reason), without having to log out and log in of course, you just need to reset the <code>Authentication</code> object (security token) in the Spring <code>SecurityContextHolder</code>.</p>\n\n<p>Example:</p>\n\n<pre><code>Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n\nList&lt;GrantedAuthority&gt; updatedAuthorities = new ArrayList&lt;&gt;(auth.getAuthorities());\nupdatedAuthorities.add(...); //add your role here [e.g., new SimpleGrantedAuthority(\"ROLE_NEW_ROLE\")]\n\nAuthentication newAuth = new UsernamePasswordAuthenticationToken(auth.getPrincipal(), auth.getCredentials(), updatedAuthorities);\n\nSecurityContextHolder.getContext().setAuthentication(newAuth);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5842375,"reputation":3614,"user_id":4603538,"display_name":"TwiN"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1651017288,"creation_date":1529516184,"answer_id":50954035,"question_id":9910252,"body_markdown":"If anybody is still looking into how to update the authorities of another user without forcing that user to re-authenticate, you can try to add an interceptor that reloads the authentication. This will make sure that your authorities are always updated.\r\n\r\nHowever -- due to the extra interceptor, there will be some performance impacts (e.g. if you get your user roles from your database, it will be queried for every HTTP request).\r\n\r\n\r\n    @Component\r\n    public class VerifyAccessInterceptor implements HandlerInterceptor {\r\n    \r\n        // ...\r\n\r\n        @Override\r\n        public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\r\n            Authentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n            Set&lt;GrantedAuthority&gt; authorities = new HashSet&lt;&gt;();\r\n            if (auth.isAuthenticated()) {\r\n                authorities.add(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));\r\n            }\r\n        \r\n            User userFromDatabase = getUserFromDatabase(auth.getName());\r\n            if (userFromDatabase != null) {\r\n                // add whatever authorities you want here\r\n                authorities.add(new SimpleGrantedAuthority(&quot;...&quot;)); \r\n            }\r\n        \r\n            Authentication newAuth = null;\r\n        \r\n            if (auth.getClass() == OAuth2AuthenticationToken.class) {\r\n                OAuth2User principal = ((OAuth2AuthenticationToken)auth).getPrincipal();\r\n                if (principal != null) {\r\n                    newAuth = new OAuth2AuthenticationToken(principal, authorities,(((OAuth2AuthenticationToken)auth).getAuthorizedClientRegistrationId()));\r\n                }\r\n            }\r\n        \r\n            SecurityContextHolder.getContext().setAuthentication(newAuth);\r\n            return true;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nThis specific implementation uses OAuth2 (`OAuth2AuthenticationToken`), but you can use `UsernamePasswordAuthenticationToken` instead.\r\n\r\n\r\nAnd now, to add your interceptor to the configuration:\r\n\r\n    @Configuration\r\n    public class WebConfiguration extends WebMvcConfigurationSupport {\r\n    \r\n        @Autowired\r\n        private VerifyAccessInterceptor verifyAccessInterceptor;\r\n    \r\n    \r\n        @Override\r\n        public void addInterceptors(InterceptorRegistry registry) {\r\n            registry.addInterceptor(verifyAccessInterceptor).addPathPatterns(&quot;/**&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n[I also made an article about this](https://twin.sh/articles/24/spring-security-reload-authorities-on-every-request).","title":"How to reload authorities on user update with Spring Security","body":"<p>If anybody is still looking into how to update the authorities of another user without forcing that user to re-authenticate, you can try to add an interceptor that reloads the authentication. This will make sure that your authorities are always updated.</p>\n<p>However -- due to the extra interceptor, there will be some performance impacts (e.g. if you get your user roles from your database, it will be queried for every HTTP request).</p>\n<pre><code>@Component\npublic class VerifyAccessInterceptor implements HandlerInterceptor {\n\n    // ...\n\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n        Set&lt;GrantedAuthority&gt; authorities = new HashSet&lt;&gt;();\n        if (auth.isAuthenticated()) {\n            authorities.add(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));\n        }\n    \n        User userFromDatabase = getUserFromDatabase(auth.getName());\n        if (userFromDatabase != null) {\n            // add whatever authorities you want here\n            authorities.add(new SimpleGrantedAuthority(&quot;...&quot;)); \n        }\n    \n        Authentication newAuth = null;\n    \n        if (auth.getClass() == OAuth2AuthenticationToken.class) {\n            OAuth2User principal = ((OAuth2AuthenticationToken)auth).getPrincipal();\n            if (principal != null) {\n                newAuth = new OAuth2AuthenticationToken(principal, authorities,(((OAuth2AuthenticationToken)auth).getAuthorizedClientRegistrationId()));\n            }\n        }\n    \n        SecurityContextHolder.getContext().setAuthentication(newAuth);\n        return true;\n    }\n\n}\n</code></pre>\n<p>This specific implementation uses OAuth2 (<code>OAuth2AuthenticationToken</code>), but you can use <code>UsernamePasswordAuthenticationToken</code> instead.</p>\n<p>And now, to add your interceptor to the configuration:</p>\n<pre><code>@Configuration\npublic class WebConfiguration extends WebMvcConfigurationSupport {\n\n    @Autowired\n    private VerifyAccessInterceptor verifyAccessInterceptor;\n\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(verifyAccessInterceptor).addPathPatterns(&quot;/**&quot;);\n    }\n\n}\n</code></pre>\n<p><a href=\"https://twin.sh/articles/24/spring-security-reload-authorities-on-every-request\" rel=\"nofollow noreferrer\">I also made an article about this</a>.</p>\n"},{"tags":[],"owner":{"account_id":7563889,"reputation":11,"user_id":5740274,"display_name":"Hasler Choo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542743705,"creation_date":1542743705,"answer_id":53400600,"question_id":9910252,"body_markdown":"I use the answer gived by TwiN, but I create a control variable (users_to_update_roles) to reduce performance impacts.\r\n\r\n    \r\n    @Component\r\n    public class RoleCheckInterceptor implements HandlerInterceptor {\r\n\tpublic static ArrayList&lt;String&gt; update_role = new ArrayList&lt;&gt;();\r\n\r\n\t@Autowired\r\n\tprivate IUser iuser;\r\n\r\n\tpublic static Set&lt;String&gt; users_to_update_roles = new HashSet&lt;&gt;();\r\n\r\n\t@Override\r\n\tpublic boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\r\n\t\t\tthrows Exception {\r\n\r\n\t\tAuthentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n\r\n\t\ttry {\r\n\r\n\t\t\tCurrentUser current = (CurrentUser) auth.getPrincipal();\r\n\r\n\t\t\tString username = current.getUser().getUsername();\r\n\t\t\tif (users_to_update_roles.contains(username)) {\r\n\t\t\t\tupdateRoles(auth, current);\r\n\t\t\t\tusers_to_update_roles.remove(username);\r\n\t\t\t}\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO: handle exception\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler,\r\n\t\t\tModelAndView modelAndView) throws Exception {\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)\r\n\t\t\tthrows Exception {\r\n\r\n\t}\r\n\r\n\tprivate void updateRoles(Authentication auth, CurrentUser current) {\r\n\t\tUser findOne = iuser.findOne(current.getUser().getUsername());\r\n\t\tList&lt;GrantedAuthority&gt; updatedAuthorities = new ArrayList&lt;&gt;();\r\n\t\tfor (Role role : findOne.getRoles()) {\r\n\t\t\tupdatedAuthorities.add(new SimpleGrantedAuthority(role.name()));\r\n\t\t}\r\n\r\n\t\tAuthentication newAuth = new UsernamePasswordAuthenticationToken(auth.getPrincipal(), auth.getCredentials(),\r\n\t\t\t\tupdatedAuthorities);\r\n\r\n\t\tSecurityContextHolder.getContext().setAuthentication(newAuth);\r\n\t}\r\n    }\r\n\r\nand in my controller, I add the user that have they role updated\r\n\r\n    \tpublic ModelAndView roleSave(@PathVariable long numero_documento, Funcionario funcionario) {\r\n\t\tModelAndView modelAndView = new ModelAndView(&quot;funcionario/role&quot;);\r\n\t\tSet&lt;Role&gt; roles = funcionario.getPessoa().getUser().getRoles();\r\n\t\tfuncionario = funcionarioService.funcionarioNumero_documento(numero_documento);\r\n\t\tfuncionario.getPessoa().getUser().setRoles(roles);\r\n\t\tiUser.save(funcionario.getPessoa().getUser());\r\n\t\tRoleCheckInterceptor.users_to_update_roles.add(funcionario.getPessoa().getUser().getUsername());\r\n\t\tmodelAndView.addObject(&quot;funcionario&quot;, funcionario);\r\n\t\tmodelAndView.addObject(&quot;sucess&quot;, &quot;Permiss&#245;es modificadas&quot;);\r\n\t\treturn modelAndView;\r\n\t}\r\n     ","title":"How to reload authorities on user update with Spring Security","body":"<p>I use the answer gived by TwiN, but I create a control variable (users_to_update_roles) to reduce performance impacts.</p>\n\n<pre><code>@Component\npublic class RoleCheckInterceptor implements HandlerInterceptor {\npublic static ArrayList&lt;String&gt; update_role = new ArrayList&lt;&gt;();\n\n@Autowired\nprivate IUser iuser;\n\npublic static Set&lt;String&gt; users_to_update_roles = new HashSet&lt;&gt;();\n\n@Override\npublic boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\n        throws Exception {\n\n    Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n\n    try {\n\n        CurrentUser current = (CurrentUser) auth.getPrincipal();\n\n        String username = current.getUser().getUsername();\n        if (users_to_update_roles.contains(username)) {\n            updateRoles(auth, current);\n            users_to_update_roles.remove(username);\n        }\n\n    } catch (Exception e) {\n        // TODO: handle exception\n    }\n\n    return true;\n}\n\n@Override\npublic void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler,\n        ModelAndView modelAndView) throws Exception {\n\n}\n\n@Override\npublic void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)\n        throws Exception {\n\n}\n\nprivate void updateRoles(Authentication auth, CurrentUser current) {\n    User findOne = iuser.findOne(current.getUser().getUsername());\n    List&lt;GrantedAuthority&gt; updatedAuthorities = new ArrayList&lt;&gt;();\n    for (Role role : findOne.getRoles()) {\n        updatedAuthorities.add(new SimpleGrantedAuthority(role.name()));\n    }\n\n    Authentication newAuth = new UsernamePasswordAuthenticationToken(auth.getPrincipal(), auth.getCredentials(),\n            updatedAuthorities);\n\n    SecurityContextHolder.getContext().setAuthentication(newAuth);\n}\n}\n</code></pre>\n\n<p>and in my controller, I add the user that have they role updated</p>\n\n<pre><code>    public ModelAndView roleSave(@PathVariable long numero_documento, Funcionario funcionario) {\n    ModelAndView modelAndView = new ModelAndView(\"funcionario/role\");\n    Set&lt;Role&gt; roles = funcionario.getPessoa().getUser().getRoles();\n    funcionario = funcionarioService.funcionarioNumero_documento(numero_documento);\n    funcionario.getPessoa().getUser().setRoles(roles);\n    iUser.save(funcionario.getPessoa().getUser());\n    RoleCheckInterceptor.users_to_update_roles.add(funcionario.getPessoa().getUser().getUsername());\n    modelAndView.addObject(\"funcionario\", funcionario);\n    modelAndView.addObject(\"sucess\", \"Permissões modificadas\");\n    return modelAndView;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8810941,"reputation":2113,"user_id":6584021,"display_name":"snieguu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1565176995,"creation_date":1565176995,"answer_id":57393299,"question_id":9910252,"body_markdown":"I have a very specific case of above, I use Redis to track user session with https://github.com/spring-projects/spring-session. Then when admin adds some Role to the user I find user session in Redis and replace `principal` and `authorities` and then save the session.\r\n```\r\npublic void updateUserRoles(String username, Set&lt;GrantedAuthority&gt; newRoles) {\r\n        if (sessionRepository instanceof FindByIndexNameSessionRepository) {\r\n            Map&lt;String, org.springframework.session.Session&gt; map =\r\n                    ((FindByIndexNameSessionRepository&lt;org.springframework.session.Session&gt;) sessionRepository)\r\n                            .findByPrincipalName(username);\r\n            for (org.springframework.session.Session session : map.values()) {\r\n                if (!session.isExpired()) {\r\n                    SecurityContext securityContext = session.getAttribute(SPRING_SECURITY_CONTEXT_KEY);\r\n                    Authentication authentication = securityContext.getAuthentication();\r\n                    if (authentication instanceof UsernamePasswordAuthenticationToken) {\r\n                        Collection&lt;GrantedAuthority&gt; authorities = new HashSet&lt;&gt;(authentication.getAuthorities());\r\n                        //1. Update of authorities\r\n                        authorities.addAll(newRoles);\r\n                        Object principalToUpdate = authentication.getPrincipal();\r\n                        if (principalToUpdate instanceof User) {\r\n                            //2. Update of principal: Your User probably extends UserDetails so call here method that update roles to allow\r\n                            // org.springframework.security.core.userdetails.UserDetails.getAuthorities return updated \r\n                            // Set of GrantedAuthority\r\n                            securityContext\r\n                                    .setAuthentication(new UsernamePasswordAuthenticationToken(principalToUpdate, authentication\r\n                                            .getCredentials(), authorities));\r\n                            session.setAttribute(SPRING_SECURITY_CONTEXT_KEY, securityContext);\r\n                            sessionRepository.save(session);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n```","title":"How to reload authorities on user update with Spring Security","body":"<p>I have a very specific case of above, I use Redis to track user session with <a href=\"https://github.com/spring-projects/spring-session\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-session</a>. Then when admin adds some Role to the user I find user session in Redis and replace <code>principal</code> and <code>authorities</code> and then save the session.</p>\n\n<pre><code>public void updateUserRoles(String username, Set&lt;GrantedAuthority&gt; newRoles) {\n        if (sessionRepository instanceof FindByIndexNameSessionRepository) {\n            Map&lt;String, org.springframework.session.Session&gt; map =\n                    ((FindByIndexNameSessionRepository&lt;org.springframework.session.Session&gt;) sessionRepository)\n                            .findByPrincipalName(username);\n            for (org.springframework.session.Session session : map.values()) {\n                if (!session.isExpired()) {\n                    SecurityContext securityContext = session.getAttribute(SPRING_SECURITY_CONTEXT_KEY);\n                    Authentication authentication = securityContext.getAuthentication();\n                    if (authentication instanceof UsernamePasswordAuthenticationToken) {\n                        Collection&lt;GrantedAuthority&gt; authorities = new HashSet&lt;&gt;(authentication.getAuthorities());\n                        //1. Update of authorities\n                        authorities.addAll(newRoles);\n                        Object principalToUpdate = authentication.getPrincipal();\n                        if (principalToUpdate instanceof User) {\n                            //2. Update of principal: Your User probably extends UserDetails so call here method that update roles to allow\n                            // org.springframework.security.core.userdetails.UserDetails.getAuthorities return updated \n                            // Set of GrantedAuthority\n                            securityContext\n                                    .setAuthentication(new UsernamePasswordAuthenticationToken(principalToUpdate, authentication\n                                            .getCredentials(), authorities));\n                            session.setAttribute(SPRING_SECURITY_CONTEXT_KEY, securityContext);\n                            sessionRepository.save(session);\n                        }\n                    }\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15811439,"reputation":302,"user_id":11408375,"display_name":"hdsuperman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701441791,"creation_date":1701441791,"answer_id":77586070,"question_id":9910252,"body_markdown":"code: \r\n\r\n```java\r\nimport lombok.RequiredArgsConstructor;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.core.context.SecurityContext;\r\nimport org.springframework.security.web.authentication.preauth.PreAuthenticatedAuthenticationToken;\r\nimport org.springframework.session.FindByIndexNameSessionRepository;\r\nimport org.springframework.session.Session;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.util.Map;\r\n\r\nimport static org.springframework.security.web.context.HttpSessionSecurityContextRepository.SPRING_SECURITY_CONTEXT_KEY;\r\n\r\n@Slf4j\r\n@Component\r\n@RequiredArgsConstructor(onConstructor = @__(@Autowired))\r\npublic class SessionAuthorityManager {\r\n\r\n    @SuppressWarnings(&quot;rawtypes&quot;) private final FindByIndexNameSessionRepository sessionRepository;\r\n\r\n    public void updateAuthority(User user) {\r\n        var principal = UserPrincipal.create(user);\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        Map&lt;String, Session&gt; map = sessionRepository.findByPrincipalName(principal.getName());\r\n        var sessions = map.values();\r\n        for (var session: sessions) {\r\n            if (session.isExpired()) continue;\r\n            var context = session.&lt;SecurityContext&gt;getAttribute(SPRING_SECURITY_CONTEXT_KEY);\r\n            if (context == null) continue;\r\n            var token = new PreAuthenticatedAuthenticationToken(principal, null, principal.getAuthorities());\r\n            context.setAuthentication(token);\r\n            session.setAttribute(SPRING_SECURITY_CONTEXT_KEY, context);\r\n            //noinspection unchecked\r\n            sessionRepository.save(session);\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"How to reload authorities on user update with Spring Security","body":"<p>code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.context.SecurityContext;\nimport org.springframework.security.web.authentication.preauth.PreAuthenticatedAuthenticationToken;\nimport org.springframework.session.FindByIndexNameSessionRepository;\nimport org.springframework.session.Session;\nimport org.springframework.stereotype.Component;\n\nimport java.util.Map;\n\nimport static org.springframework.security.web.context.HttpSessionSecurityContextRepository.SPRING_SECURITY_CONTEXT_KEY;\n\n@Slf4j\n@Component\n@RequiredArgsConstructor(onConstructor = @__(@Autowired))\npublic class SessionAuthorityManager {\n\n    @SuppressWarnings(&quot;rawtypes&quot;) private final FindByIndexNameSessionRepository sessionRepository;\n\n    public void updateAuthority(User user) {\n        var principal = UserPrincipal.create(user);\n        @SuppressWarnings(&quot;unchecked&quot;)\n        Map&lt;String, Session&gt; map = sessionRepository.findByPrincipalName(principal.getName());\n        var sessions = map.values();\n        for (var session: sessions) {\n            if (session.isExpired()) continue;\n            var context = session.&lt;SecurityContext&gt;getAttribute(SPRING_SECURITY_CONTEXT_KEY);\n            if (context == null) continue;\n            var token = new PreAuthenticatedAuthenticationToken(principal, null, principal.getAuthorities());\n            context.setAuthentication(token);\n            session.setAttribute(SPRING_SECURITY_CONTEXT_KEY, context);\n            //noinspection unchecked\n            sessionRepository.save(session);\n        }\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":1136625,"reputation":3087,"user_id":1121571,"accept_rate":61,"display_name":"Aure77"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67506,"favorite_count":0,"down_vote_count":0,"up_vote_count":67,"answer_count":7,"score":67,"last_activity_date":1701441791,"creation_date":1332946751,"question_id":9910252,"body_markdown":"I&#39;m doing an application with authentication by OpenID using Spring Security.\r\nWhen user is logged-in, some authorities are loaded in his session.\r\n\r\nI have User with full right which can modify authorities (revoke, add roles) of others users. My question is, how to change User session authorities dynamically ? (cannot use *SecurityContextHolder* because I want to change another User session).\r\n\r\nSimple way : invalidate user session, but how to ?\r\nBetter way : refresh user session with new authorities, but how to ?","title":"How to reload authorities on user update with Spring Security","body":"<p>I'm doing an application with authentication by OpenID using Spring Security.\nWhen user is logged-in, some authorities are loaded in his session.</p>\n\n<p>I have User with full right which can modify authorities (revoke, add roles) of others users. My question is, how to change User session authorities dynamically ? (cannot use <em>SecurityContextHolder</em> because I want to change another User session).</p>\n\n<p>Simple way : invalidate user session, but how to ?\nBetter way : refresh user session with new authorities, but how to ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1700000285,"post_id":77484141,"comment_id":136600710,"body_markdown":"I’m not sure what you’re asking.","body":"I’m not sure what you’re asking."},{"owner":{"account_id":29848517,"reputation":1,"user_id":22875302,"display_name":"Ao Bo"},"score":0,"creation_date":1700000443,"post_id":77484141,"comment_id":136600732,"body_markdown":"arr.display gives me NullPointerException error.","body":"arr.display gives me NullPointerException error."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1700001141,"post_id":77484141,"comment_id":136600848,"body_markdown":"Then you will want to debug the null pointer exception. The answers in the duplicate can help you do this.","body":"Then you will want to debug the null pointer exception. The answers in the duplicate can help you do this."},{"owner":{"account_id":29848517,"reputation":1,"user_id":22875302,"display_name":"Ao Bo"},"score":0,"creation_date":1700001272,"post_id":77484141,"comment_id":136600865,"body_markdown":"what answer?. ..","body":"what answer?. .."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1700003193,"post_id":77484141,"comment_id":136601082,"body_markdown":"The answers in the duplicate. NPEs are relatively easy to track down. Whatever `display()` is returning is null (I think, hard to tell from the question and comment).","body":"The answers in the duplicate. NPEs are relatively easy to track down. Whatever <code>display()</code> is returning is null (I think, hard to tell from the question and comment)."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1700003236,"post_id":77484141,"comment_id":136601086,"body_markdown":"[These answers](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it). Note that as currently posted, no one can really help you solve your specific problem, because no one can identify the source, based on your code and text, and you will want to learn about basic NPE debugging steps first, if only to isolate the error and ask a better question, one that includes the stack trace, that includes the offending code, that shows why you think that it shouldn&#39;t be null.","body":"<a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">These answers</a>. Note that as currently posted, no one can really help you solve your specific problem, because no one can identify the source, based on your code and text, and you will want to learn about basic NPE debugging steps first, if only to isolate the error and ask a better question, one that includes the stack trace, that includes the offending code, that shows why you think that it shouldn&#39;t be null."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1700003976,"post_id":77484141,"comment_id":136601167,"body_markdown":"The key is most often in the stack trace, that bunch of text that the Java virtual machine sends to you when the exception occurs. It will tell you where in the code the exception is happening, and so you will want to start there. Then use your debugger to find out which variable on the offending line is null, and trace back into the code to see why.","body":"The key is most often in the stack trace, that bunch of text that the Java virtual machine sends to you when the exception occurs. It will tell you where in the code the exception is happening, and so you will want to start there. Then use your debugger to find out which variable on the offending line is null, and trace back into the code to see why."}],"owner":{"account_id":29848517,"reputation":1,"user_id":22875302,"display_name":"Ao Bo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1700000118,"answer_count":0,"score":-4,"last_activity_date":1701441782,"creation_date":1699999921,"question_id":77484141,"body_markdown":"I&#39;ve got compiler that is dependent of class called generated_rray. generated_rray as the name implies generates an array that starts from 2 and goes till 2 added to system.in users input.\r\nhow can I use the fallowing code \r\n\r\n    public class Main_sieve\r\n    {\r\n       inside this class \r\n        generated_rray arr = new generated_rray();\r\n        Scanner thesize = new Scanner(System.in);\r\n         arr.arrsize = thesize.nextInt();\r\n         for (int i=0; i&lt;arr.arrsize; i++)\r\n         System.out.println(arr.display()[i]);\r\n\r\nhow can I use arr.display\r\nthe display method should return filled out array\r\nI have some pictures to clear things out too.\r\n![[[enter image description here](https://i.stack.imgur.com/TASt5.png)](https://i.stack.imgur.com/XoozU.png)](https://i.stack.imgur.com/CugfV.png)\r\n","title":"NullPointerException for running call to create array","body":"<p>I've got compiler that is dependent of class called generated_rray. generated_rray as the name implies generates an array that starts from 2 and goes till 2 added to system.in users input.\nhow can I use the fallowing code</p>\n<pre><code>public class Main_sieve\n{\n   inside this class \n    generated_rray arr = new generated_rray();\n    Scanner thesize = new Scanner(System.in);\n     arr.arrsize = thesize.nextInt();\n     for (int i=0; i&lt;arr.arrsize; i++)\n     System.out.println(arr.display()[i]);\n</code></pre>\n<p>how can I use arr.display\nthe display method should return filled out array\nI have some pictures to clear things out too.\n<img src=\"https://i.stack.imgur.com/CugfV.png\" alt=\"[enter image description here](https://i.stack.imgur.com/XoozU.png)\" /></p>\n"},{"tags":["java","spring-boot","jparepository"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1701441400,"post_id":77586005,"comment_id":136779434,"body_markdown":"How you component-scan configuration looks like","body":"How you component-scan configuration looks like"},{"owner":{"account_id":29839787,"reputation":3,"user_id":22868324,"display_name":"paula"},"score":0,"creation_date":1701441720,"post_id":77586005,"comment_id":136779502,"body_markdown":"There is none. How does it look and where would I put it? I used an application.yaml file for my db config. Does it go in there?","body":"There is none. How does it look and where would I put it? I used an application.yaml file for my db config. Does it go in there?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1701441764,"post_id":77586005,"comment_id":136779516,"body_markdown":"Where is your man class located? Are there any package names in the annotations of this class","body":"Where is your man class located? Are there any package names in the annotations of this class"},{"owner":{"account_id":29839787,"reputation":3,"user_id":22868324,"display_name":"paula"},"score":0,"creation_date":1701441923,"post_id":77586005,"comment_id":136779547,"body_markdown":"My main-class is Springbootdemo and it is in &quot;highest&quot; package. all other classes are stored in subpackages to this package. There are no package names in any annotations.","body":"My main-class is Springbootdemo and it is in &quot;highest&quot; package. all other classes are stored in subpackages to this package. There are no package names in any annotations."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1701442014,"post_id":77586005,"comment_id":136779559,"body_markdown":"Is the main class anotated with *EnableJpaRepositories* ?","body":"Is the main class anotated with <i>EnableJpaRepositories</i> ?"},{"owner":{"account_id":29839787,"reputation":3,"user_id":22868324,"display_name":"paula"},"score":0,"creation_date":1701442370,"post_id":77586005,"comment_id":136779642,"body_markdown":"@Jens no, I will change that and give an update.","body":"@Jens no, I will change that and give an update."},{"owner":{"account_id":29839787,"reputation":3,"user_id":22868324,"display_name":"paula"},"score":0,"creation_date":1701442375,"post_id":77586005,"comment_id":136779646,"body_markdown":"@Roland Weisleder Thanks, I will look into it","body":"@Roland Weisleder Thanks, I will look into it"},{"owner":{"account_id":29839787,"reputation":3,"user_id":22868324,"display_name":"paula"},"score":0,"creation_date":1701445461,"post_id":77586005,"comment_id":136780247,"body_markdown":"@Jens it does not work:/","body":"@Jens it does not work:/"},{"owner":{"account_id":29839787,"reputation":3,"user_id":22868324,"display_name":"paula"},"score":0,"creation_date":1701447530,"post_id":77586005,"comment_id":136780679,"body_markdown":"@Roland Weisleder it worked, thank you very much! Also I really have to learn more about the basics in SpringBoot...","body":"@Roland Weisleder it worked, thank you very much! Also I really have to learn more about the basics in SpringBoot..."}],"owner":{"account_id":29839787,"reputation":3,"user_id":22868324,"display_name":"paula"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701447475,"answer_count":0,"score":0,"last_activity_date":1701441554,"creation_date":1701441234,"question_id":77586005,"body_markdown":"I am converting my MavenProject to a SpringBootApplication. Up until I try to use the findById()-Method from JpaRepository  point it is running. \r\n\r\n**My Repository:**\r\n```\r\npackage demo.repository;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport demo.model.Datenherkunft;\r\n\r\n@Repository\r\npublic interface RepositoryDatenherkunft extends JpaRepository&lt;Datenherkunft, Integer&gt;{}\r\n```\r\n\r\n**My Class that is trying to use the Method:** \r\n\r\n```\r\npackage demo.service;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport demo.model.*;\r\nimport demo.repository.*;\r\n\r\n@Service\r\npublic class ForeignKeyObjects implements ServiceGet{\r\n\r\n\t@Autowired\r\n\tprivate RepositoryDatenherkunft rDatenherkunft;\r\n\r\n\t@Override\r\n\tpublic Datenherkunft getDatenherkunft(Integer datenherkunft) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn rDatenherkunft.findById(datenherkunft).get();\r\n\t}\r\n```\r\n**The Exception**\r\n\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;demo.repository.RepositoryDatenherkunft.findById(Object)&quot; because &quot;this.rDatenherkunft&quot; is null\r\n\tat demo.service.ForeignKeyObjects.getDatenherkunft(ForeignKeyObjects.java:34) ~[classes/:na]\r\n\tat demo.service.ListenInhaltValidation.listenInhaltValidation(ListenInhaltValidation.java:15) ~[classes/:na]\r\n\tat demo.service.DtoValidation.dtoValidation(DtoValidation.java:15) ~[classes/:na]\r\n\tat demo.service.ServiceImp.createobjects(ServiceImp.java:50) ~[classes/:na]\r\n\tat demo.controller.Controller.createObjects(Controller.java:29) ~[classes/:na]\r\n\t...\r\n```\r\n\r\n\r\n\r\nI am very new to coding and SpringBoot. So my project is a bit all over the place. The reason the class is not a controller but a service is that i have a few classes which function to validate and convert the data before it gets stored in my mysql database. So in my understanding this functionality should be in the service layer.\r\n\r\nI tried: \r\n- @Controller and not @Service\r\n- putting @Autowired above every variable\r\n- putting @Repository above the Repository\r\n\r\nNothing changed the outcome.","title":"Java.lang.NullPointerException: Cannot invoke &quot;demo.repository.RepositoryDatenherkunft.findById(Object)&quot; because &quot;this.rDatenherkunft&quot; is null","body":"<p>I am converting my MavenProject to a SpringBootApplication. Up until I try to use the findById()-Method from JpaRepository  point it is running.</p>\n<p><strong>My Repository:</strong></p>\n<pre><code>package demo.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport demo.model.Datenherkunft;\n\n@Repository\npublic interface RepositoryDatenherkunft extends JpaRepository&lt;Datenherkunft, Integer&gt;{}\n</code></pre>\n<p><strong>My Class that is trying to use the Method:</strong></p>\n<pre><code>package demo.service;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.stereotype.Service;\n\nimport demo.model.*;\nimport demo.repository.*;\n\n@Service\npublic class ForeignKeyObjects implements ServiceGet{\n\n    @Autowired\n    private RepositoryDatenherkunft rDatenherkunft;\n\n    @Override\n    public Datenherkunft getDatenherkunft(Integer datenherkunft) {\n        // TODO Auto-generated method stub\n        return rDatenherkunft.findById(datenherkunft).get();\n    }\n</code></pre>\n<p><strong>The Exception</strong></p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;demo.repository.RepositoryDatenherkunft.findById(Object)&quot; because &quot;this.rDatenherkunft&quot; is null\n    at demo.service.ForeignKeyObjects.getDatenherkunft(ForeignKeyObjects.java:34) ~[classes/:na]\n    at demo.service.ListenInhaltValidation.listenInhaltValidation(ListenInhaltValidation.java:15) ~[classes/:na]\n    at demo.service.DtoValidation.dtoValidation(DtoValidation.java:15) ~[classes/:na]\n    at demo.service.ServiceImp.createobjects(ServiceImp.java:50) ~[classes/:na]\n    at demo.controller.Controller.createObjects(Controller.java:29) ~[classes/:na]\n    ...\n</code></pre>\n<p>I am very new to coding and SpringBoot. So my project is a bit all over the place. The reason the class is not a controller but a service is that i have a few classes which function to validate and convert the data before it gets stored in my mysql database. So in my understanding this functionality should be in the service layer.</p>\n<p>I tried:</p>\n<ul>\n<li>@Controller and not @Service</li>\n<li>putting @Autowired above every variable</li>\n<li>putting @Repository above the Repository</li>\n</ul>\n<p>Nothing changed the outcome.</p>\n"},{"tags":["java","drools"],"answers":[{"tags":[],"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701441493,"creation_date":1701441493,"answer_id":77586039,"question_id":77585826,"body_markdown":"There&#39;s a number of ways. I&#39;d probably go with this:\r\n\r\n```\r\nHashMap( $alertType: this[&quot;1&quot;] ) from aeRuleMap\r\n$aeAlertDetails : AEAlertDetails( aERuleMatched == false, \r\n                                  san == $alertType.isSan())\r\n```\r\n\r\nOr you could do like:\r\n\r\n```\r\n$alertType: AlertType( $san: san ) from aeRuleMap.get(&quot;1&quot;)\r\n$aeAlertDetails : AEAlertDetails( aERuleMatched == false, \r\n                                  san == $san)\r\n```\r\n\r\nYou don&#39;t indicate what kind of exception is being thrown, so I can&#39;t be entirely sure of why what you have doesn&#39;t work. Just remember that you mustn&#39;t be doing realtime updates to the globals and expecting them to be reflected in your rules. If your exception is actually some form of concurrent modification exception, you&#39;re likely misusing the global concept entirely.\r\n","title":"Hashmap from global variable is not able to access in drools when condition","body":"<p>There's a number of ways. I'd probably go with this:</p>\n<pre><code>HashMap( $alertType: this[&quot;1&quot;] ) from aeRuleMap\n$aeAlertDetails : AEAlertDetails( aERuleMatched == false, \n                                  san == $alertType.isSan())\n</code></pre>\n<p>Or you could do like:</p>\n<pre><code>$alertType: AlertType( $san: san ) from aeRuleMap.get(&quot;1&quot;)\n$aeAlertDetails : AEAlertDetails( aERuleMatched == false, \n                                  san == $san)\n</code></pre>\n<p>You don't indicate what kind of exception is being thrown, so I can't be entirely sure of why what you have doesn't work. Just remember that you mustn't be doing realtime updates to the globals and expecting them to be reflected in your rules. If your exception is actually some form of concurrent modification exception, you're likely misusing the global concept entirely.</p>\n"}],"owner":{"account_id":3164962,"reputation":164,"user_id":2675190,"display_name":"Shanij P.S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701441493,"creation_date":1701439563,"question_id":77585826,"body_markdown":"I have flowing drools rules :\r\n\r\n    \r\n    import com.....AEAlertDetails;\r\n    import function com....DroolsUtility.log;\r\n    import com....AeAlerts;\r\n    import function com....utility.AEAlertUtility.addAeAlerts;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.HashMap;\r\n    import com....model.AlertType;\r\n    \r\n    dialect &quot;java&quot;\r\n    \r\n    global HashMap&lt;String,AlertType&gt; aeRuleMap;\r\n    global List aeAlertsList;\r\n    \r\n    \r\n    rule &quot;My Rule&quot; salience 4\r\n    no-loop true\r\n        when\r\n           $aeAlertDetails : AEAlertDetails( aERuleMatched == false, san == aeRuleMap.get(&quot;1&quot;).isSan() )\r\n        then\r\n          //\r\n    end\r\n\r\n\r\nFrom Java class I set like :\r\n\r\n\t\r\n\r\n    List&lt;AeAlerts&gt; aeAlertsList = new ArrayList&lt;&gt;();\r\n    \r\n    kieSession.setGlobal(&quot;aeAlertsList&quot;, aeAlertsList);\r\n    \r\n    HashMap&lt;String,AlertType&gt; aeRuleMap=new HashMap&lt;&gt;();\r\n    \r\n    aeRuleMap.put(&quot;1&quot;, new AlertType(true,true,true,true));\r\n    \r\n    aeRuleMap.put(&quot;2&quot;, new AlertType(true,true,true,true));\r\n    \r\n    kieSession.setGlobal(&quot;aeRuleMap&quot;, aeRuleMap);\r\n    \r\n    kieSession.fireAllRules();\r\n\r\n    \r\n\r\n\r\n\r\n\r\n    package com......evaluation.model;\r\n    \r\n    public class AlertType {\r\n    \r\n    \tprivate boolean isSan;\r\n    \tprivate boolean isPep;\r\n    \tprivate boolean isEdd;\r\n    \tprivate boolean isPrb;\r\n    \t\r\n    \tprivate String name;\r\n    \r\n    \tpublic AlertType() {\r\n    \t\tsuper();\r\n    \t}\r\n    \r\n    \tpublic AlertType(boolean isSan, boolean isPep, boolean isEdd, boolean isPrb) {\r\n    \t\tsuper();\r\n    \t\tthis.isSan = isSan;\r\n    \t\tthis.isPep = isPep;\r\n    \t\tthis.isEdd = isEdd;\r\n    \t\tthis.isPrb = isPrb;\r\n    \t}\r\n    \r\n    \tpublic boolean isSan() {\r\n    \t\treturn isSan;\r\n    \t}\r\n    \r\n    \tpublic void setSan(boolean isSan) {\r\n    \t\tthis.isSan = isSan;\r\n    \t}\r\n    \r\n    \tpublic boolean isPep() {\r\n    \t\treturn isPep;\r\n    \t}\r\n    \r\n    \tpublic void setPep(boolean isPep) {\r\n    \t\tthis.isPep = isPep;\r\n    \t}\r\n    \r\n    \tpublic boolean isEdd() {\r\n    \t\treturn isEdd;\r\n    \t}\r\n    \r\n    \tpublic void setEdd(boolean isEdd) {\r\n    \t\tthis.isEdd = isEdd;\r\n    \t}\r\n    \r\n    \tpublic boolean isPrb() {\r\n    \t\treturn isPrb;\r\n    \t}\r\n    \r\n    \tpublic void setPrb(boolean isPrb) {\r\n    \t\tthis.isPrb = isPrb;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nI need to get the Boolean value from the Map and compare with the fact level variable value . For that purpose I added this line in the drool :\r\n\r\n    san == aeRuleMap.get(&quot;1&quot;).isSan()\r\n\r\n\r\nDue to this line in the rule, the drool evaluation is stuck for sometime and throwing exception . I need this condition checking in the when part itself. \r\n\r\n\r\nHow to do I write it in drool for getting a key from global hashmap and compare\r\n\r\n","title":"Hashmap from global variable is not able to access in drools when condition","body":"<p>I have flowing drools rules :</p>\n<pre><code>import com.....AEAlertDetails;\nimport function com....DroolsUtility.log;\nimport com....AeAlerts;\nimport function com....utility.AEAlertUtility.addAeAlerts;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.HashMap;\nimport com....model.AlertType;\n\ndialect &quot;java&quot;\n\nglobal HashMap&lt;String,AlertType&gt; aeRuleMap;\nglobal List aeAlertsList;\n\n\nrule &quot;My Rule&quot; salience 4\nno-loop true\n    when\n       $aeAlertDetails : AEAlertDetails( aERuleMatched == false, san == aeRuleMap.get(&quot;1&quot;).isSan() )\n    then\n      //\nend\n</code></pre>\n<p>From Java class I set like :</p>\n<pre><code>List&lt;AeAlerts&gt; aeAlertsList = new ArrayList&lt;&gt;();\n\nkieSession.setGlobal(&quot;aeAlertsList&quot;, aeAlertsList);\n\nHashMap&lt;String,AlertType&gt; aeRuleMap=new HashMap&lt;&gt;();\n\naeRuleMap.put(&quot;1&quot;, new AlertType(true,true,true,true));\n\naeRuleMap.put(&quot;2&quot;, new AlertType(true,true,true,true));\n\nkieSession.setGlobal(&quot;aeRuleMap&quot;, aeRuleMap);\n\nkieSession.fireAllRules();\n\n\n\n\n\n\npackage com......evaluation.model;\n\npublic class AlertType {\n\n    private boolean isSan;\n    private boolean isPep;\n    private boolean isEdd;\n    private boolean isPrb;\n    \n    private String name;\n\n    public AlertType() {\n        super();\n    }\n\n    public AlertType(boolean isSan, boolean isPep, boolean isEdd, boolean isPrb) {\n        super();\n        this.isSan = isSan;\n        this.isPep = isPep;\n        this.isEdd = isEdd;\n        this.isPrb = isPrb;\n    }\n\n    public boolean isSan() {\n        return isSan;\n    }\n\n    public void setSan(boolean isSan) {\n        this.isSan = isSan;\n    }\n\n    public boolean isPep() {\n        return isPep;\n    }\n\n    public void setPep(boolean isPep) {\n        this.isPep = isPep;\n    }\n\n    public boolean isEdd() {\n        return isEdd;\n    }\n\n    public void setEdd(boolean isEdd) {\n        this.isEdd = isEdd;\n    }\n\n    public boolean isPrb() {\n        return isPrb;\n    }\n\n    public void setPrb(boolean isPrb) {\n        this.isPrb = isPrb;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<p>I need to get the Boolean value from the Map and compare with the fact level variable value . For that purpose I added this line in the drool :</p>\n<pre><code>san == aeRuleMap.get(&quot;1&quot;).isSan()\n</code></pre>\n<p>Due to this line in the rule, the drool evaluation is stuck for sometime and throwing exception . I need this condition checking in the when part itself.</p>\n<p>How to do I write it in drool for getting a key from global hashmap and compare</p>\n"},{"tags":["java","optaplanner","timefold"],"answers":[{"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701438563,"creation_date":1701438563,"answer_id":77585733,"question_id":77584631,"body_markdown":"`SolutionManager` provides an `update(...)` method which serves just this purpose.\r\n\r\nIn OptaPlanner, there is a bug in that call which makes it not work with chained and list variables. [Timefold Solver][1] fixes that bug, among others.\r\n\r\n\r\n  [1]: https://timefold.ai/","title":"Create an initial solution with right shadow variables and score","body":"<p><code>SolutionManager</code> provides an <code>update(...)</code> method which serves just this purpose.</p>\n<p>In OptaPlanner, there is a bug in that call which makes it not work with chained and list variables. <a href=\"https://timefold.ai/\" rel=\"nofollow noreferrer\">Timefold Solver</a> fixes that bug, among others.</p>\n"}],"owner":{"account_id":22912575,"reputation":53,"user_id":17049622,"display_name":"Alexey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77585733,"answer_count":1,"score":1,"last_activity_date":1701441287,"creation_date":1701426910,"question_id":77584631,"body_markdown":"I&#39;m trying to add a hand-made solution to OptaPlanner in Java code. I&#39;m following the first way from [this][1].\r\n\r\nAccording the comments, I should somehow use `ScoreDirector.triggerVariableListeners()` to initialize shadow variables.\r\n\r\nI&#39;ve found in OptaPlanner examples code like this:\r\n\r\n    private &lt;Result_&gt; Result_ applyScoreDirector(Function&lt;InnerScoreDirector&lt;Solution_, Score_&gt;, Result_&gt; function) {\r\n        try (InnerScoreDirector&lt;Solution_, Score_&gt; scoreDirector =\r\n                (InnerScoreDirector&lt;Solution_, Score_&gt;) solverFactory.getScoreDirectorFactory().buildScoreDirector(true,\r\n                        true)) {\r\n            scoreDirector.setWorkingSolution(getSolution());\r\n            Result_ result = function.apply(scoreDirector);\r\n            scoreDirector.triggerVariableListeners();\r\n            scoreDirector.calculateScore();\r\n            setSolution(scoreDirector.getWorkingSolution());\r\n            return result;\r\n        }\r\n    }\r\n\r\nI&#39;ve tried to adapt it to my case (Table - my planning solution):\r\n\r\n    SolverConfig solverConfig = SolverConfig.createFromXmlFile(new File(url.getFile()));\r\n    solverManager = SolverManager.create(solverConfig, new SolverManagerConfig());\r\n    Table result = createInitialSolution(data);\r\n    DefaultSolverManager defaultSolverManager = (DefaultSolverManager) solverManager;\r\n    DefaultSolverFactory&lt;Table&gt; solverFactory = (DefaultSolverFactory&lt;Table&gt;) defaultSolverManager.getSolverFactory();\r\n    InnerScoreDirector&lt;Table, HardSoftScore&gt;  scoreDirector = (InnerScoreDirector&lt;Table, HardSoftScore&gt;) \r\n            solverFactory.getScoreDirectorFactory().buildScoreDirector(true, true);      \r\n    scoreDirector.setWorkingSolution(result);\r\n    scoreDirector.triggerVariableListeners();\r\n    scoreDirector.calculateScore();\r\n    result = scoreDirector.getWorkingSolution();\r\n    return result;\r\n\r\nThis doesn&#39;t work. All shadow variables are null. What am I doing wrong?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/66819726/optaplanner-create-a-good-initial-solution-by-hand","title":"Create an initial solution with right shadow variables and score","body":"<p>I'm trying to add a hand-made solution to OptaPlanner in Java code. I'm following the first way from <a href=\"https://stackoverflow.com/questions/66819726/optaplanner-create-a-good-initial-solution-by-hand\">this</a>.</p>\n<p>According the comments, I should somehow use <code>ScoreDirector.triggerVariableListeners()</code> to initialize shadow variables.</p>\n<p>I've found in OptaPlanner examples code like this:</p>\n<pre><code>private &lt;Result_&gt; Result_ applyScoreDirector(Function&lt;InnerScoreDirector&lt;Solution_, Score_&gt;, Result_&gt; function) {\n    try (InnerScoreDirector&lt;Solution_, Score_&gt; scoreDirector =\n            (InnerScoreDirector&lt;Solution_, Score_&gt;) solverFactory.getScoreDirectorFactory().buildScoreDirector(true,\n                    true)) {\n        scoreDirector.setWorkingSolution(getSolution());\n        Result_ result = function.apply(scoreDirector);\n        scoreDirector.triggerVariableListeners();\n        scoreDirector.calculateScore();\n        setSolution(scoreDirector.getWorkingSolution());\n        return result;\n    }\n}\n</code></pre>\n<p>I've tried to adapt it to my case (Table - my planning solution):</p>\n<pre><code>SolverConfig solverConfig = SolverConfig.createFromXmlFile(new File(url.getFile()));\nsolverManager = SolverManager.create(solverConfig, new SolverManagerConfig());\nTable result = createInitialSolution(data);\nDefaultSolverManager defaultSolverManager = (DefaultSolverManager) solverManager;\nDefaultSolverFactory&lt;Table&gt; solverFactory = (DefaultSolverFactory&lt;Table&gt;) defaultSolverManager.getSolverFactory();\nInnerScoreDirector&lt;Table, HardSoftScore&gt;  scoreDirector = (InnerScoreDirector&lt;Table, HardSoftScore&gt;) \n        solverFactory.getScoreDirectorFactory().buildScoreDirector(true, true);      \nscoreDirector.setWorkingSolution(result);\nscoreDirector.triggerVariableListeners();\nscoreDirector.calculateScore();\nresult = scoreDirector.getWorkingSolution();\nreturn result;\n</code></pre>\n<p>This doesn't work. All shadow variables are null. What am I doing wrong?</p>\n"},{"tags":["java","jboss","vaadin","crud","cdi"],"comments":[{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":1,"creation_date":1701276797,"post_id":77572814,"comment_id":136756649,"body_markdown":"Please provide the relevant info here. No-one will read your Word file somewhere else to help you.","body":"Please provide the relevant info here. No-one will read your Word file somewhere else to help you."},{"owner":{"account_id":29374007,"reputation":19,"user_id":22505996,"display_name":"BelaOxmyx"},"score":0,"creation_date":1701379361,"post_id":77572814,"comment_id":136771857,"body_markdown":"I have pared back the test app to one view with one column, and have simplified the supporting service class.  The issue and question are still unchanged.  How can the main view and the edit and delete dialogs be reconciled to affect the same list of items?","body":"I have pared back the test app to one view with one column, and have simplified the supporting service class.  The issue and question are still unchanged.  How can the main view and the edit and delete dialogs be reconciled to affect the same list of items?"}],"owner":{"account_id":29374007,"reputation":19,"user_id":22505996,"display_name":"BelaOxmyx"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701441168,"creation_date":1701274262,"question_id":77572814,"body_markdown":"Per a different question thread, I&#39;m following someone&#39;s advise to switch from Spring Boot/Vaadin to Vaadin CDI, so my app will finally deploy on JBoss 7.1 under Java 8.  I&#39;ve successfully deployed a test list-crud app to JBoss, but now the CRUD operations are acting screwy.  I&#39;m including [the repo branch for this test app][1], which includes an illustrated Word doc of my steps to recreate the issue.  Is there a quick fix involving scope annotations, or does the code need to work differently in CDI?\r\n\r\n1.\tClone project locally\r\n2.\tCd to project folder\r\n3.\tmvn clean package -Pproduction\r\n4.\tDeploy to JBoss 7.1\r\n5.\tNavigate to localhost:8080/animals\r\n[![image][2]][2]\r\n7.\tSelect “Cat” row, and click “Edit”.\r\n[![image][3]][3]\r\n10.\tModify city name “Cat” to “Top Cat”, and click “Save”.\r\n[![image][4]][4]\r\n[![image][5]][5]\r\n12.\tObserve main view now shows a list with only the modified row showing.\r\n[![image][6]][6]\r\n14.\tClick page 2 navigation button.\r\n[![image][7]][7]\r\n16.\tClick page 1 navigation button.\r\n[![image][8]][8]\r\n17.\tObserve main view now shows original list with previous value of “Cat” row.\r\n[![image][9]][9]\r\n19.\tSelect “Dog” row, and click “Delete”.\r\n[![image][10]][10]\r\n21.\tOn confirmation prompt, click “Delete” to delete this row.\r\n[![image][11]][11]\r\n23.\tObserve main view now shows the same lone row we saw after we edited the “Top Cat” row.\r\n[![image][12]][12]\r\n25.\tClick page 2 navigation button.\r\n[![image][13]][13]\r\n27.\tClick page 1 navigation button.  The original list appears including the edited “Cat” row in its pre-edit state, and the deleted “Dog” row which should have been deleted.\r\n\r\nCreates, Edits and Deletes were all updating to the main list in my Spring Boot/Vaadin implementation, which I’ve only moved away from because it couldn’t deploy it to JBoss.\r\nI think since switching to Vaadin CDI, the main view loses state after update.  Does a way exist in Vaadin CDI to maintain state after updates like Saves and Deletes?\r\n\r\n\r\n  [1]: https://github.com/NCIDevRonR/vaadin-issues/tree/Vaadin-CDI-CRUD-scope\r\n  [2]: https://i.stack.imgur.com/ugSjP.jpg\r\n  [3]: https://i.stack.imgur.com/C1wmu.jpg\r\n  [4]: https://i.stack.imgur.com/iY51d.jpg\r\n  [5]: https://i.stack.imgur.com/0MUlE.jpg\r\n  [6]: https://i.stack.imgur.com/yd9dL.jpg\r\n  [7]: https://i.stack.imgur.com/DhBZN.jpg\r\n  [8]: https://i.stack.imgur.com/eJ9aT.jpg\r\n  [9]: https://i.stack.imgur.com/vYq5D.jpg\r\n  [10]: https://i.stack.imgur.com/OCvoj.jpg\r\n  [11]: https://i.stack.imgur.com/OMZyx.jpg\r\n  [12]: https://i.stack.imgur.com/IJbEC.jpg\r\n  [13]: https://i.stack.imgur.com/oyxNa.jpg","title":"CRUD Weirdness After Switching from Spring Boot/Vaadin 14 to Vaadin 14 CDI","body":"<p>Per a different question thread, I'm following someone's advise to switch from Spring Boot/Vaadin to Vaadin CDI, so my app will finally deploy on JBoss 7.1 under Java 8.  I've successfully deployed a test list-crud app to JBoss, but now the CRUD operations are acting screwy.  I'm including <a href=\"https://github.com/NCIDevRonR/vaadin-issues/tree/Vaadin-CDI-CRUD-scope\" rel=\"nofollow noreferrer\">the repo branch for this test app</a>, which includes an illustrated Word doc of my steps to recreate the issue.  Is there a quick fix involving scope annotations, or does the code need to work differently in CDI?</p>\n<ol>\n<li>Clone project locally</li>\n<li>Cd to project folder</li>\n<li>mvn clean package -Pproduction</li>\n<li>Deploy to JBoss 7.1</li>\n<li>Navigate to localhost:8080/animals\n<a href=\"https://i.stack.imgur.com/ugSjP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ugSjP.jpg\" alt=\"image\" /></a></li>\n<li>Select “Cat” row, and click “Edit”.\n<a href=\"https://i.stack.imgur.com/C1wmu.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C1wmu.jpg\" alt=\"image\" /></a></li>\n<li>Modify city name “Cat” to “Top Cat”, and click “Save”.\n<a href=\"https://i.stack.imgur.com/iY51d.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iY51d.jpg\" alt=\"image\" /></a>\n<a href=\"https://i.stack.imgur.com/0MUlE.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0MUlE.jpg\" alt=\"image\" /></a></li>\n<li>Observe main view now shows a list with only the modified row showing.\n<a href=\"https://i.stack.imgur.com/yd9dL.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yd9dL.jpg\" alt=\"image\" /></a></li>\n<li>Click page 2 navigation button.\n<a href=\"https://i.stack.imgur.com/DhBZN.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DhBZN.jpg\" alt=\"image\" /></a></li>\n<li>Click page 1 navigation button.\n<a href=\"https://i.stack.imgur.com/eJ9aT.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eJ9aT.jpg\" alt=\"image\" /></a></li>\n<li>Observe main view now shows original list with previous value of “Cat” row.\n<a href=\"https://i.stack.imgur.com/vYq5D.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vYq5D.jpg\" alt=\"image\" /></a></li>\n<li>Select “Dog” row, and click “Delete”.\n<a href=\"https://i.stack.imgur.com/OCvoj.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OCvoj.jpg\" alt=\"image\" /></a></li>\n<li>On confirmation prompt, click “Delete” to delete this row.\n<a href=\"https://i.stack.imgur.com/OMZyx.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OMZyx.jpg\" alt=\"image\" /></a></li>\n<li>Observe main view now shows the same lone row we saw after we edited the “Top Cat” row.\n<a href=\"https://i.stack.imgur.com/IJbEC.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IJbEC.jpg\" alt=\"image\" /></a></li>\n<li>Click page 2 navigation button.\n<a href=\"https://i.stack.imgur.com/oyxNa.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oyxNa.jpg\" alt=\"image\" /></a></li>\n<li>Click page 1 navigation button.  The original list appears including the edited “Cat” row in its pre-edit state, and the deleted “Dog” row which should have been deleted.</li>\n</ol>\n<p>Creates, Edits and Deletes were all updating to the main list in my Spring Boot/Vaadin implementation, which I’ve only moved away from because it couldn’t deploy it to JBoss.\nI think since switching to Vaadin CDI, the main view loses state after update.  Does a way exist in Vaadin CDI to maintain state after updates like Saves and Deletes?</p>\n"},{"tags":["java","android","android-recyclerview","android-flexboxlayout"],"owner":{"account_id":30041016,"reputation":1,"user_id":23021894,"display_name":"Mohammad Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701441062,"creation_date":1701441062,"question_id":77585981,"body_markdown":"## Issues and steps to reproduce\r\n1. Enable data binding/view binding in project.\r\n2. Create a layout for RecyclerView Item, add a variable in it which contains a property &#39;selected&#39;, the background of this layout is dependent on whether the item is selected or not.\r\n3. Use FlexBoxLayout Manager for this recycler view.\r\n4. Create an Adapter for this recycler view, which changes the selected state of the list item upon clicking on it and then calls the notifyItemChanged method.\r\n5. The background of the item is changed but other items in the list seem to be refreshed or redrawn into the UI, the UI sort of flickers.\r\n\r\nScreen Recording of the issue\r\nhttps://github.com/google/flexbox-layout/assets/55429814/87c13dc1-37a3-4da9-8e5b-026750b7b0af\r\n\r\n\r\n## Version of the flexbox library\r\n3.0.0\r\n\r\n## Code\r\nFlexboxItemsAdapter.java\r\n```\r\npublic class FlexboxItemsAdapter extends RecyclerView.Adapter&lt;FlexboxItemsAdapter.ViewHolder&gt; {\r\n\r\n    private ArrayList&lt;FlexboxItemModel&gt; localDataSet;\r\n    private boolean multipleSelectionAllowed;\r\n    private int selectedItemPosition = 0;\r\n\r\n\r\n    public FlexboxItemsAdapter(boolean multipleSelectionAllowed, ArrayList&lt;FlexboxItemModel&gt; dataSet) {\r\n        localDataSet = dataSet;\r\n        this.multipleSelectionAllowed = multipleSelectionAllowed;\r\n\r\n    }\r\n\r\n    // Create new views (invoked by the layout manager)\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(ViewGroup viewGroup, int viewType) {\r\n        // Create a new view, which defines the UI of the list item\r\n        LayoutFlexboxItemBinding view = DataBindingUtil.inflate(\r\n                LayoutInflater.from(viewGroup.getContext()),\r\n                R.layout.layout_flexbox_item, viewGroup, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    public static class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        public LayoutFlexboxItemBinding layoutFlexboxItemBinding;\r\n\r\n        public ViewHolder(LayoutFlexboxItemBinding layoutFlexboxItemBinding) {\r\n            super(layoutFlexboxItemBinding.getRoot());\r\n            this.layoutFlexboxItemBinding = layoutFlexboxItemBinding;\r\n        }\r\n\r\n        public void bind(FlexboxItemModel model) {\r\n            layoutFlexboxItemBinding.setItem(model);\r\n        }\r\n\r\n    }\r\n\r\n    // Replace the contents of a view (invoked by the layout manager)\r\n    @Override\r\n    public void onBindViewHolder(ViewHolder viewHolder, @SuppressLint(&quot;RecyclerView&quot;) final int position) {\r\n        // Get element from your dataset at this position and replace the\r\n        // contents of the view with that element\r\n        final FlexboxItemModel model = localDataSet.get(position);\r\n        viewHolder.bind(model);\r\n        if (!multipleSelectionAllowed &amp;&amp; model.isSelected()) {\r\n            selectedItemPosition = position;\r\n        }\r\n        viewHolder.layoutFlexboxItemBinding.lfiText.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                boolean state = model.isSelected();\r\n                if(!multipleSelectionAllowed) {\r\n                    localDataSet.get(selectedItemPosition).setSelected(false);\r\n                    notifyItemChanged(selectedItemPosition);\r\n                }\r\n                model.setSelected(!state);\r\n                notifyItemChanged(position);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return localDataSet.size();\r\n    }\r\n\r\n    @Override\r\n    public long getItemId(int position) {\r\n        return Long.parseLong(localDataSet.get(position).getId());\r\n    }\r\n    \r\n}\r\n```\r\n\r\nFlexBoxItemModel.java\r\n```\r\npublic class FlexboxItemModel {\r\n\r\n\r\n    private String id;\r\n    private String text;\r\n    private boolean selected;\r\n\r\n    public FlexboxItemModel(String id, String text, boolean selected) {\r\n        this.id = id;\r\n        this.text = text;\r\n        this.selected = selected;\r\n    }\r\n```\r\n   \r\nlayout_flexbox_item.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    &gt;\r\n    &lt;data&gt;\r\n        &lt;variable\r\n            name=&quot;item&quot;\r\n            type=&quot;FlexboxItemModel&quot; /&gt;\r\n    &lt;/data&gt;\r\n&lt;TextView\r\n    android:layout_marginRight=&quot;10dp&quot;\r\n    android:layout_marginBottom=&quot;10dp&quot;\r\n    android:id=&quot;@+id/lfi_text&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:paddingVertical=&quot;7dp&quot;\r\n    android:paddingHorizontal=&quot;13dp&quot;\r\n    android:text=&quot;@{item.text}&quot;\r\n    style=&quot;@style/reg_form_labels&quot;\r\n    android:textColor=&quot;@{item.selected?@color/white:@color/color_purple}&quot;\r\n    android:background=&quot;@{item.selected? @drawable/border_gradient_28dp_1dp_filled : @drawable/border_grey_28dp_1dp}&quot;\r\n    /&gt;\r\n&lt;/layout&gt;\r\n```\r\n    \r\nInitialization of recycler view in fragment\r\n```\r\nRecyclerView recyclerView = binding.fseExamsRecyclerView;\r\nLinearLayoutManager linearLayoutManager = new LinearLayoutManager(getContext(), LinearLayoutManager.VERTICAL, false); // no flickering issue if I use linearlayoutmanager\r\nFlexboxLayoutManager layoutManager = new FlexboxLayoutManager(getContext());\r\nlayoutManager.setFlexDirection(FlexDirection.ROW);\r\nlayoutManager.setJustifyContent(JustifyContent.FLEX_START);\r\nlayoutManager.setFlexWrap(FlexWrap.WRAP);\r\nrecyclerView.setLayoutManager(layoutManager);\r\nmViewModel.getExams().observe(getViewLifecycleOwner(), flexboxItemModels-&gt; {\r\n    FlexboxItemsAdapter adapter = new FlexboxItemsAdapter(true, flexboxItemModels);\r\n    adapter.setHasStableIds(true);  // same issue whether I use this or not\r\n    recyclerView.setAdapter(adapter);\r\n});\r\n```\r\n\r\nFlexBoxItemModel.java\r\n```\r\npublic class FlexboxItemModel {\r\n\r\n\r\n    private String id;\r\n    private String text;\r\n    private boolean selected;\r\n\r\n    public FlexboxItemModel(String id, String text, boolean selected) {\r\n        this.id = id;\r\n        this.text = text;\r\n        this.selected = selected;\r\n    }\r\n```\r\n\r\nlayout_flexbox_item.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    &gt;\r\n    &lt;data&gt;\r\n        &lt;variable\r\n            name=&quot;item&quot;\r\n            type=&quot;FlexboxItemModel&quot; /&gt;\r\n    &lt;/data&gt;\r\n&lt;TextView\r\n    android:layout_marginRight=&quot;10dp&quot;\r\n    android:layout_marginBottom=&quot;10dp&quot;\r\n    android:id=&quot;@+id/lfi_text&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:paddingVertical=&quot;7dp&quot;\r\n    android:paddingHorizontal=&quot;13dp&quot;\r\n    android:text=&quot;@{item.text}&quot;\r\n    style=&quot;@style/reg_form_labels&quot;\r\n    android:textColor=&quot;@{item.selected?@color/white:@color/color_purple}&quot;\r\n    android:background=&quot;@{item.selected? @drawable/border_gradient_28dp_1dp_filled : @drawable/border_grey_28dp_1dp}&quot;\r\n    /&gt;\r\n&lt;/layout&gt;\r\n```\r\n\r\nInitialization of recycler view in fragment\r\n```\r\nRecyclerView recyclerView = binding.fseExamsRecyclerView;\r\nLinearLayoutManager linearLayoutManager = new LinearLayoutManager(getContext(), LinearLayoutManager.VERTICAL, false); // no flickering issue if I use linearlayoutmanager\r\nFlexboxLayoutManager layoutManager = new FlexboxLayoutManager(getContext());\r\nlayoutManager.setFlexDirection(FlexDirection.ROW);\r\nlayoutManager.setJustifyContent(JustifyContent.FLEX_START);\r\nlayoutManager.setFlexWrap(FlexWrap.WRAP);\r\nrecyclerView.setLayoutManager(layoutManager);\r\nmViewModel.getExams().observe(getViewLifecycleOwner(), flexboxItemModels-&gt; {\r\n    FlexboxItemsAdapter adapter = new FlexboxItemsAdapter(true, flexboxItemModels);\r\n    adapter.setHasStableIds(true);  // same issue whether I use this or not\r\n    recyclerView.setAdapter(adapter);\r\n});\r\n```\r\n\r\n## Expected behavior\r\nOnly the background of the item tapped should be changed and nothing else should be redrawn as I tried with LinearLayoutManager and I get this expected behaviour.\r\n\r\nI tried using LinearLayoutManager and it worked, only facing this issue while using flexbox layout manager.\r\nI also tried using adapter.setHasStableIds(true); but that didn&#39;t help as well.","title":"Android: FlexBoxLayoutManager with RecyclerView causes multiple items to refresh on calling notifyItemChanged","body":"<h2>Issues and steps to reproduce</h2>\n<ol>\n<li>Enable data binding/view binding in project.</li>\n<li>Create a layout for RecyclerView Item, add a variable in it which contains a property 'selected', the background of this layout is dependent on whether the item is selected or not.</li>\n<li>Use FlexBoxLayout Manager for this recycler view.</li>\n<li>Create an Adapter for this recycler view, which changes the selected state of the list item upon clicking on it and then calls the notifyItemChanged method.</li>\n<li>The background of the item is changed but other items in the list seem to be refreshed or redrawn into the UI, the UI sort of flickers.</li>\n</ol>\n<p>Screen Recording of the issue\n<a href=\"https://github.com/google/flexbox-layout/assets/55429814/87c13dc1-37a3-4da9-8e5b-026750b7b0af\" rel=\"nofollow noreferrer\">https://github.com/google/flexbox-layout/assets/55429814/87c13dc1-37a3-4da9-8e5b-026750b7b0af</a></p>\n<h2>Version of the flexbox library</h2>\n<p>3.0.0</p>\n<h2>Code</h2>\n<p>FlexboxItemsAdapter.java</p>\n<pre><code>public class FlexboxItemsAdapter extends RecyclerView.Adapter&lt;FlexboxItemsAdapter.ViewHolder&gt; {\n\n    private ArrayList&lt;FlexboxItemModel&gt; localDataSet;\n    private boolean multipleSelectionAllowed;\n    private int selectedItemPosition = 0;\n\n\n    public FlexboxItemsAdapter(boolean multipleSelectionAllowed, ArrayList&lt;FlexboxItemModel&gt; dataSet) {\n        localDataSet = dataSet;\n        this.multipleSelectionAllowed = multipleSelectionAllowed;\n\n    }\n\n    // Create new views (invoked by the layout manager)\n    @Override\n    public ViewHolder onCreateViewHolder(ViewGroup viewGroup, int viewType) {\n        // Create a new view, which defines the UI of the list item\n        LayoutFlexboxItemBinding view = DataBindingUtil.inflate(\n                LayoutInflater.from(viewGroup.getContext()),\n                R.layout.layout_flexbox_item, viewGroup, false);\n        return new ViewHolder(view);\n    }\n\n    public static class ViewHolder extends RecyclerView.ViewHolder {\n\n        public LayoutFlexboxItemBinding layoutFlexboxItemBinding;\n\n        public ViewHolder(LayoutFlexboxItemBinding layoutFlexboxItemBinding) {\n            super(layoutFlexboxItemBinding.getRoot());\n            this.layoutFlexboxItemBinding = layoutFlexboxItemBinding;\n        }\n\n        public void bind(FlexboxItemModel model) {\n            layoutFlexboxItemBinding.setItem(model);\n        }\n\n    }\n\n    // Replace the contents of a view (invoked by the layout manager)\n    @Override\n    public void onBindViewHolder(ViewHolder viewHolder, @SuppressLint(&quot;RecyclerView&quot;) final int position) {\n        // Get element from your dataset at this position and replace the\n        // contents of the view with that element\n        final FlexboxItemModel model = localDataSet.get(position);\n        viewHolder.bind(model);\n        if (!multipleSelectionAllowed &amp;&amp; model.isSelected()) {\n            selectedItemPosition = position;\n        }\n        viewHolder.layoutFlexboxItemBinding.lfiText.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                boolean state = model.isSelected();\n                if(!multipleSelectionAllowed) {\n                    localDataSet.get(selectedItemPosition).setSelected(false);\n                    notifyItemChanged(selectedItemPosition);\n                }\n                model.setSelected(!state);\n                notifyItemChanged(position);\n            }\n        });\n    }\n\n\n    @Override\n    public int getItemCount() {\n        return localDataSet.size();\n    }\n\n    @Override\n    public long getItemId(int position) {\n        return Long.parseLong(localDataSet.get(position).getId());\n    }\n    \n}\n</code></pre>\n<p>FlexBoxItemModel.java</p>\n<pre><code>public class FlexboxItemModel {\n\n\n    private String id;\n    private String text;\n    private boolean selected;\n\n    public FlexboxItemModel(String id, String text, boolean selected) {\n        this.id = id;\n        this.text = text;\n        this.selected = selected;\n    }\n</code></pre>\n<p>layout_flexbox_item.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    &gt;\n    &lt;data&gt;\n        &lt;variable\n            name=&quot;item&quot;\n            type=&quot;FlexboxItemModel&quot; /&gt;\n    &lt;/data&gt;\n&lt;TextView\n    android:layout_marginRight=&quot;10dp&quot;\n    android:layout_marginBottom=&quot;10dp&quot;\n    android:id=&quot;@+id/lfi_text&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:paddingVertical=&quot;7dp&quot;\n    android:paddingHorizontal=&quot;13dp&quot;\n    android:text=&quot;@{item.text}&quot;\n    style=&quot;@style/reg_form_labels&quot;\n    android:textColor=&quot;@{item.selected?@color/white:@color/color_purple}&quot;\n    android:background=&quot;@{item.selected? @drawable/border_gradient_28dp_1dp_filled : @drawable/border_grey_28dp_1dp}&quot;\n    /&gt;\n&lt;/layout&gt;\n</code></pre>\n<p>Initialization of recycler view in fragment</p>\n<pre><code>RecyclerView recyclerView = binding.fseExamsRecyclerView;\nLinearLayoutManager linearLayoutManager = new LinearLayoutManager(getContext(), LinearLayoutManager.VERTICAL, false); // no flickering issue if I use linearlayoutmanager\nFlexboxLayoutManager layoutManager = new FlexboxLayoutManager(getContext());\nlayoutManager.setFlexDirection(FlexDirection.ROW);\nlayoutManager.setJustifyContent(JustifyContent.FLEX_START);\nlayoutManager.setFlexWrap(FlexWrap.WRAP);\nrecyclerView.setLayoutManager(layoutManager);\nmViewModel.getExams().observe(getViewLifecycleOwner(), flexboxItemModels-&gt; {\n    FlexboxItemsAdapter adapter = new FlexboxItemsAdapter(true, flexboxItemModels);\n    adapter.setHasStableIds(true);  // same issue whether I use this or not\n    recyclerView.setAdapter(adapter);\n});\n</code></pre>\n<p>FlexBoxItemModel.java</p>\n<pre><code>public class FlexboxItemModel {\n\n\n    private String id;\n    private String text;\n    private boolean selected;\n\n    public FlexboxItemModel(String id, String text, boolean selected) {\n        this.id = id;\n        this.text = text;\n        this.selected = selected;\n    }\n</code></pre>\n<p>layout_flexbox_item.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    &gt;\n    &lt;data&gt;\n        &lt;variable\n            name=&quot;item&quot;\n            type=&quot;FlexboxItemModel&quot; /&gt;\n    &lt;/data&gt;\n&lt;TextView\n    android:layout_marginRight=&quot;10dp&quot;\n    android:layout_marginBottom=&quot;10dp&quot;\n    android:id=&quot;@+id/lfi_text&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:paddingVertical=&quot;7dp&quot;\n    android:paddingHorizontal=&quot;13dp&quot;\n    android:text=&quot;@{item.text}&quot;\n    style=&quot;@style/reg_form_labels&quot;\n    android:textColor=&quot;@{item.selected?@color/white:@color/color_purple}&quot;\n    android:background=&quot;@{item.selected? @drawable/border_gradient_28dp_1dp_filled : @drawable/border_grey_28dp_1dp}&quot;\n    /&gt;\n&lt;/layout&gt;\n</code></pre>\n<p>Initialization of recycler view in fragment</p>\n<pre><code>RecyclerView recyclerView = binding.fseExamsRecyclerView;\nLinearLayoutManager linearLayoutManager = new LinearLayoutManager(getContext(), LinearLayoutManager.VERTICAL, false); // no flickering issue if I use linearlayoutmanager\nFlexboxLayoutManager layoutManager = new FlexboxLayoutManager(getContext());\nlayoutManager.setFlexDirection(FlexDirection.ROW);\nlayoutManager.setJustifyContent(JustifyContent.FLEX_START);\nlayoutManager.setFlexWrap(FlexWrap.WRAP);\nrecyclerView.setLayoutManager(layoutManager);\nmViewModel.getExams().observe(getViewLifecycleOwner(), flexboxItemModels-&gt; {\n    FlexboxItemsAdapter adapter = new FlexboxItemsAdapter(true, flexboxItemModels);\n    adapter.setHasStableIds(true);  // same issue whether I use this or not\n    recyclerView.setAdapter(adapter);\n});\n</code></pre>\n<h2>Expected behavior</h2>\n<p>Only the background of the item tapped should be changed and nothing else should be redrawn as I tried with LinearLayoutManager and I get this expected behaviour.</p>\n<p>I tried using LinearLayoutManager and it worked, only facing this issue while using flexbox layout manager.\nI also tried using adapter.setHasStableIds(true); but that didn't help as well.</p>\n"},{"tags":["java","firebase","kotlin","android-studio","android-push-notification"],"owner":{"account_id":20236690,"reputation":1,"user_id":14841644,"display_name":"Abhi Patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701724986,"answer_count":0,"score":-1,"last_activity_date":1701440115,"creation_date":1701438816,"question_id":77585755,"body_markdown":"I am using below firebase dependencies\r\n\r\nimplementation platform(&#39;com.google.firebase:firebase-bom:32.6.0&#39;)\r\n\r\n// Firebase libraries\r\n\r\n\r\nimplementation &#39;com.google.firebase:firebase-auth&#39;\r\n\r\nimplementation &#39;com.google.firebase:firebase-storage&#39;\r\n\r\nimplementation &#39;com.google.firebase:firebase-firestore&#39;\r\n\r\nimplementation &#39;com.google.firebase:firebase-database&#39;\r\n\r\nimplementation &#39;com.firebaseui:firebase-ui-firestore:8.0.2&#39;\r\n\r\nimplementation &#39;com.google.firebase:firebase-messaging&#39;\r\n\r\nimplementation &#39;com.google.android.gms:play-services-location&#39; \r\n\r\n implementation &#39;com.google.firebase:firebase-admin:9.2.0&#39;\r\n\r\n   \r\n\r\nbut when I try to sync the firebase-admin:9.2.0 dependency that time gradle does not build successfully or gives me the duplicate class error. I want to this dependency for generate access token to call push notification API.\r\n\r\nalso, I tried chatGPT solutions but not success .\r\n\r\n\r\n\r\nThanks in advance appreciate your answer :)","title":"Duplicate class error while add firebase-admin dependency in android studio","body":"<p>I am using below firebase dependencies</p>\n<p>implementation platform('com.google.firebase:firebase-bom:32.6.0')</p>\n<p>// Firebase libraries</p>\n<p>implementation 'com.google.firebase:firebase-auth'</p>\n<p>implementation 'com.google.firebase:firebase-storage'</p>\n<p>implementation 'com.google.firebase:firebase-firestore'</p>\n<p>implementation 'com.google.firebase:firebase-database'</p>\n<p>implementation 'com.firebaseui:firebase-ui-firestore:8.0.2'</p>\n<p>implementation 'com.google.firebase:firebase-messaging'</p>\n<p>implementation 'com.google.android.gms:play-services-location'</p>\n<p>implementation 'com.google.firebase:firebase-admin:9.2.0'</p>\n<p>but when I try to sync the firebase-admin:9.2.0 dependency that time gradle does not build successfully or gives me the duplicate class error. I want to this dependency for generate access token to call push notification API.</p>\n<p>also, I tried chatGPT solutions but not success .</p>\n<p>Thanks in advance appreciate your answer :)</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","buttonclick"],"comments":[{"owner":{"account_id":16840055,"reputation":300,"user_id":12175652,"display_name":"Rolandas Ulevicius"},"score":0,"creation_date":1701432677,"post_id":77584972,"comment_id":136777822,"body_markdown":"visiting the exact link does not give any prompt to cookies, are you sure the link is correct? also dont post code images, post it as text form and format it.","body":"visiting the exact link does not give any prompt to cookies, are you sure the link is correct? also dont post code images, post it as text form and format it."},{"owner":{"account_id":16840055,"reputation":300,"user_id":12175652,"display_name":"Rolandas Ulevicius"},"score":0,"creation_date":1701432856,"post_id":77584972,"comment_id":136777851,"body_markdown":"poking around in the updated link i could say for certain - the xpath is entirely wrong, and the error youre getting confirms it.","body":"poking around in the updated link i could say for certain - the xpath is entirely wrong, and the error youre getting confirms it."},{"owner":{"account_id":15470210,"reputation":1,"user_id":11160511,"display_name":"Maha"},"score":0,"creation_date":1701436906,"post_id":77584972,"comment_id":136778563,"body_markdown":"its after the last step definition I am on the new website and the cookie won&#39;t disappear the xpath I used has been &quot;//button[contains(@class,\\&quot;allow\\&quot;)]&quot; and I have tried other locators nothing seems to get me on the page without the cookie","body":"its after the last step definition I am on the new website and the cookie won&#39;t disappear the xpath I used has been &quot;//button[contains(@class,\\&quot;allow\\&quot;)]&quot; and I have tried other locators nothing seems to get me on the page without the cookie"}],"answers":[{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701439915,"creation_date":1701433209,"answer_id":77585223,"question_id":77584972,"body_markdown":"**Refer below working code:** It uses [Explicit Waits](https://www.selenium.dev/documentation/webdriver/waits/) and XPath locator strategy to locate and perform action on &lt;kbd&gt;Accept all cookies&lt;/kbd&gt; button.\r\n````\r\nWebDriver driver = new ChromeDriver();\r\ndriver.manage().window().maximize();\r\ndriver.get(&quot;https://smartenergycodecompany.co.uk/the-smart-energy-code-2/&quot;);\r\nWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[text()=&#39;Accept all cookies&#39;]&quot;))).click();\r\n````\r\n\r\n**UPDATE:**\r\n\r\n````\r\ndriver.findElement(By.xpath(&quot;//a[@data-text=&#39;Testing documentation&#39;]&quot;)).click();\r\nArrayList&lt;String&gt; tabs = new ArrayList&lt;String&gt; (driver.getWindowHandles());\r\ndriver.switchTo().window(tabs.get(1));\t    \r\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[text()=&#39;Accept all cookies&#39;]&quot;))).click();\r\n\r\n// Use below line if you want to switch back to previous tab\r\n//driver.switchTo().window(tabs.get(0));\r\n````","title":"org.openqa.selenium.NoSuchElementException: Unable to find element with locator By.xpath : issue unresolvable","body":"<p><strong>Refer below working code:</strong> It uses <a href=\"https://www.selenium.dev/documentation/webdriver/waits/\" rel=\"nofollow noreferrer\">Explicit Waits</a> and XPath locator strategy to locate and perform action on <kbd>Accept all cookies</kbd> button.</p>\n<pre><code>WebDriver driver = new ChromeDriver();\ndriver.manage().window().maximize();\ndriver.get(&quot;https://smartenergycodecompany.co.uk/the-smart-energy-code-2/&quot;);\nWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[text()='Accept all cookies']&quot;))).click();\n</code></pre>\n<p><strong>UPDATE:</strong></p>\n<pre><code>driver.findElement(By.xpath(&quot;//a[@data-text='Testing documentation']&quot;)).click();\nArrayList&lt;String&gt; tabs = new ArrayList&lt;String&gt; (driver.getWindowHandles());\ndriver.switchTo().window(tabs.get(1));      \nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[text()='Accept all cookies']&quot;))).click();\n\n// Use below line if you want to switch back to previous tab\n//driver.switchTo().window(tabs.get(0));\n</code></pre>\n"}],"owner":{"account_id":15470210,"reputation":1,"user_id":11160511,"display_name":"Maha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701439915,"creation_date":1701430379,"question_id":77584972,"body_markdown":"I have been trying to click on this button **Accept all cookies** on the website: https://smartenergycodecompany.co.uk/the-smart-energy-code-2/ \r\n\r\nIt just doesn&#39;t seem to work. I have changed XPath, ClassName and tried to use CSSSelector. This is the button class \r\n\r\n    &lt;button class=&quot;cmplz-btn cmplz-accept cc-allow cc-btn&quot;&gt;Accept all cookies&lt;/button&gt; \r\n\r\nI am going to the website by clicking on **testing documentation** from the website: https://www.smartdcc.co.uk/our-smart-network/network-products-services/testing-services/. This works fine as seen in the picture and also can be seen from my step definition. The click is working for the step after where the element is not found on smart energy to click on the button.\r\n\r\n    public class DccSteps {\r\n    \r\n    \t\r\n    \tWebDriver driver = new ChromeDriver();\r\n    \t\r\n    @Given(&quot;the browser is open&quot;)\r\n    public void the_browser_is_open() {\r\n    \tSystem.out.println(&quot;Inside step - browser is open&quot;);\r\n    \t\r\n    \t\r\n    }\r\n    \r\n    @And(&quot;the user has access to navigate to smartdcc.com&quot;)\r\n    public void the_user_has_access_to_navigate_to_smartdcc_com() {\r\n    \tSystem.out.println(&quot;Inside step - The user has access to a smartdcc page&quot;);\r\n    \tdriver.navigate().to(&quot;https://www.smartdcc.co.uk/&quot;);\r\n    \tdriver.manage().window().maximize();\r\n    \r\n    \t\r\n    \tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\r\n        driver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(60));\r\n        \r\n    \tJavascriptExecutor js=(JavascriptExecutor)driver;\r\n    \t\r\n    \tWebElement checkbox=driver.findElement(By.xpath(&quot;/html/body/div[1]/div[2]/div[4]/div[2]/div/button&quot;));\r\n    \t\r\n    \tjs.executeScript(&quot;arguments[0].click()&quot;, checkbox);\r\n    \t//js.executeScript(&quot;document.getElementsByClassName(&#39;optanon-allow-all accept-cookies-button&#39;).click()&quot;);\r\n    \r\n        \r\n    \t//driver.findElement(By.xpath(&quot;/html/body/div[1]/div[2]/div[4]/div[2]/div/button&quot;)).click();\r\n    }\r\n    \r\n    @When(&quot;the user clicks on about DCC they should be on the correct page&quot;)\r\n    public void the_user_clicks_on_about_dcc_they_should_be_on_the_correct_page() {\r\n    \tdriver.findElement(By.xpath(&quot;//nav[@class=&#39;primary-navigation primary-navigation--desktop&#39;]//span[contains(text(),&#39;About DCC&#39;)]&quot;)).click();\r\n    \tdriver.getPageSource().contains(&quot;Enabling innovation for public good&quot;);\r\n    \tSystem.out.println(&quot;Inside step - User clicks on the right page&quot;);\r\n    }\r\n    \r\n    @Then(&quot;the user clicks on enabling innovation&quot;)\r\n    public void the_user_clicks_on_enabling_innovation() {\r\n    \tSystem.out.println(&quot;Inside step - User clicks on link&quot;);\r\n        driver.findElement(By.xpath(&quot;/html/body/header/div[1]/div/div/div[2]/nav/ul/li[3]/a&quot;)).click();\r\n    }\r\n    \r\n    @When(&quot;the user scrolls down they should see testing services&quot;)\r\n    public void the_user_scrolls_down_they_should_see_testing_services() {\r\n    \tSystem.out.println(&quot;Inside step - Testing services should be visible&quot;);\r\n    \tdriver.getPageSource().contains(&quot;Testing Services&quot;);\r\n    }\r\n    \r\n    @Then(&quot;the user will click on the testing services&quot;)\r\n    public void the_user_will_click_on_the_testing_services() {\r\n    \tSystem.out.println(&quot;Inside step - user will click on the link&quot;);\r\n        driver.findElement(By.xpath(&quot;/html/body/main/div[2]/div/div[10]/div/div[2]/div/div[1]/div/a/div[2]/h2&quot;)).click();\r\n        \r\n    }\r\n    \r\n    @Then(&quot;the user should be on the testing page&quot;)\r\n    public void the_user_should_be_on_the_testing_page() {\r\n    \tSystem.out.println(&quot;Inside step - User should be be on the testing page&quot;);\r\n    \tdriver.getPageSource().contains(&quot;Testing you can trust&quot;);\r\n    }\r\n    \r\n    \r\n    \t\r\n    @When(&quot;the user clicks on the testing documentation&quot;)\r\n    public void the_user_clicks_on_the_testing_documentation() {\r\n    \tSystem.out.println(&quot;Inside step - User clicks and sees different testing docs&quot;);\r\n    \t\r\n    \tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\r\n    \tdriver.findElement(By.xpath(&quot;//a[@data-text=&#39;Testing documentation&#39;]&quot;)).click();\r\n\t\r\n\t\r\n\r\nwhich can be seen on the image\r\n[enter image description here](https://i.stack.imgur.com/nKdFH.png)\r\nI have looked at documentation but nothing has helped with the button being clicked.\r\n\r\nI have tried making different changes using various methods but the button is not being clicked at all.","title":"org.openqa.selenium.NoSuchElementException: Unable to find element with locator By.xpath : issue unresolvable","body":"<p>I have been trying to click on this button <strong>Accept all cookies</strong> on the website: <a href=\"https://smartenergycodecompany.co.uk/the-smart-energy-code-2/\" rel=\"nofollow noreferrer\">https://smartenergycodecompany.co.uk/the-smart-energy-code-2/</a></p>\n<p>It just doesn't seem to work. I have changed XPath, ClassName and tried to use CSSSelector. This is the button class</p>\n<pre><code>&lt;button class=&quot;cmplz-btn cmplz-accept cc-allow cc-btn&quot;&gt;Accept all cookies&lt;/button&gt; \n</code></pre>\n<p>I am going to the website by clicking on <strong>testing documentation</strong> from the website: <a href=\"https://www.smartdcc.co.uk/our-smart-network/network-products-services/testing-services/\" rel=\"nofollow noreferrer\">https://www.smartdcc.co.uk/our-smart-network/network-products-services/testing-services/</a>. This works fine as seen in the picture and also can be seen from my step definition. The click is working for the step after where the element is not found on smart energy to click on the button.</p>\n<pre><code>public class DccSteps {\n\n    \n    WebDriver driver = new ChromeDriver();\n    \n@Given(&quot;the browser is open&quot;)\npublic void the_browser_is_open() {\n    System.out.println(&quot;Inside step - browser is open&quot;);\n    \n    \n}\n\n@And(&quot;the user has access to navigate to smartdcc.com&quot;)\npublic void the_user_has_access_to_navigate_to_smartdcc_com() {\n    System.out.println(&quot;Inside step - The user has access to a smartdcc page&quot;);\n    driver.navigate().to(&quot;https://www.smartdcc.co.uk/&quot;);\n    driver.manage().window().maximize();\n\n    \n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\n    driver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(60));\n    \n    JavascriptExecutor js=(JavascriptExecutor)driver;\n    \n    WebElement checkbox=driver.findElement(By.xpath(&quot;/html/body/div[1]/div[2]/div[4]/div[2]/div/button&quot;));\n    \n    js.executeScript(&quot;arguments[0].click()&quot;, checkbox);\n    //js.executeScript(&quot;document.getElementsByClassName('optanon-allow-all accept-cookies-button').click()&quot;);\n\n    \n    //driver.findElement(By.xpath(&quot;/html/body/div[1]/div[2]/div[4]/div[2]/div/button&quot;)).click();\n}\n\n@When(&quot;the user clicks on about DCC they should be on the correct page&quot;)\npublic void the_user_clicks_on_about_dcc_they_should_be_on_the_correct_page() {\n    driver.findElement(By.xpath(&quot;//nav[@class='primary-navigation primary-navigation--desktop']//span[contains(text(),'About DCC')]&quot;)).click();\n    driver.getPageSource().contains(&quot;Enabling innovation for public good&quot;);\n    System.out.println(&quot;Inside step - User clicks on the right page&quot;);\n}\n\n@Then(&quot;the user clicks on enabling innovation&quot;)\npublic void the_user_clicks_on_enabling_innovation() {\n    System.out.println(&quot;Inside step - User clicks on link&quot;);\n    driver.findElement(By.xpath(&quot;/html/body/header/div[1]/div/div/div[2]/nav/ul/li[3]/a&quot;)).click();\n}\n\n@When(&quot;the user scrolls down they should see testing services&quot;)\npublic void the_user_scrolls_down_they_should_see_testing_services() {\n    System.out.println(&quot;Inside step - Testing services should be visible&quot;);\n    driver.getPageSource().contains(&quot;Testing Services&quot;);\n}\n\n@Then(&quot;the user will click on the testing services&quot;)\npublic void the_user_will_click_on_the_testing_services() {\n    System.out.println(&quot;Inside step - user will click on the link&quot;);\n    driver.findElement(By.xpath(&quot;/html/body/main/div[2]/div/div[10]/div/div[2]/div/div[1]/div/a/div[2]/h2&quot;)).click();\n    \n}\n\n@Then(&quot;the user should be on the testing page&quot;)\npublic void the_user_should_be_on_the_testing_page() {\n    System.out.println(&quot;Inside step - User should be be on the testing page&quot;);\n    driver.getPageSource().contains(&quot;Testing you can trust&quot;);\n}\n\n\n    \n@When(&quot;the user clicks on the testing documentation&quot;)\npublic void the_user_clicks_on_the_testing_documentation() {\n    System.out.println(&quot;Inside step - User clicks and sees different testing docs&quot;);\n    \n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\n    driver.findElement(By.xpath(&quot;//a[@data-text='Testing documentation']&quot;)).click();\n</code></pre>\n<p>which can be seen on the image\n<a href=\"https://i.stack.imgur.com/nKdFH.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nI have looked at documentation but nothing has helped with the button being clicked.</p>\n<p>I have tried making different changes using various methods but the button is not being clicked at all.</p>\n"},{"tags":["java","mongodb","geospatial"],"answers":[{"tags":[],"owner":{"account_id":1102285,"reputation":211,"user_id":1094428,"display_name":"Patrick Sauts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457396708,"creation_date":1457393937,"answer_id":35856304,"question_id":34052372,"body_markdown":"In your settings you need to specify the codec registry, you&#39;re currently missing ```GeoJsonCodecProvider()``` using ```com.mongodb.MongoClient.getDefaultCodecRegistry()``` should do fine\r\n\r\nFor the async driver\r\n\r\n    MongoClientSettings settings = MongoClientSettings.builder().readPreference(readPreference)\r\n        .codecRegistry(com.mongodb.MongoClient.getDefaultCodecRegistry()).socketSettings(sockSettings)\r\n        .connectionPoolSettings(connPoolSettings).credentialList(credentials))\r\n        .clusterSettings(clusterSettings).build();\r\n    LOG.info(&quot;MongoClientSettings: {}, {}, {}, {}&quot;, sockSettings, connPoolSettings, clusterSettings, credentials);\r\n    MongoClient mgc = MongoClients.create(settings);\r\n\r\nfor the normal driver \r\n\r\n    MongoClientOptions settings = MongoClientOptions.builder().readPreference(readPreference)\r\n        .codecRegistry(com.mongodb.MongoClient.getDefaultCodecRegistry()).build();\r\n    MongoClient mgc= new MongoClient(servers,credentials,settings);","title":"Why do I get the following error : Can&#39;t find a codec for class com.mongodb.client.model.geojson.Polygon","body":"<p>In your settings you need to specify the codec registry, you're currently missing <code>GeoJsonCodecProvider()</code> using <code>com.mongodb.MongoClient.getDefaultCodecRegistry()</code> should do fine</p>\n\n<p>For the async driver</p>\n\n<pre><code>MongoClientSettings settings = MongoClientSettings.builder().readPreference(readPreference)\n    .codecRegistry(com.mongodb.MongoClient.getDefaultCodecRegistry()).socketSettings(sockSettings)\n    .connectionPoolSettings(connPoolSettings).credentialList(credentials))\n    .clusterSettings(clusterSettings).build();\nLOG.info(\"MongoClientSettings: {}, {}, {}, {}\", sockSettings, connPoolSettings, clusterSettings, credentials);\nMongoClient mgc = MongoClients.create(settings);\n</code></pre>\n\n<p>for the normal driver </p>\n\n<pre><code>MongoClientOptions settings = MongoClientOptions.builder().readPreference(readPreference)\n    .codecRegistry(com.mongodb.MongoClient.getDefaultCodecRegistry()).build();\nMongoClient mgc= new MongoClient(servers,credentials,settings);\n</code></pre>\n"}],"owner":{"account_id":7276759,"reputation":61,"user_id":5547941,"display_name":"Riju Pahwa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9610,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1701439440,"creation_date":1449088121,"question_id":34052372,"body_markdown":"I am trying to do a geospatial query using MongoDB&#39;s `com.mongodb.client.model.geojson.Polygon` class and `com.mongodb.client.model.geojson.Position` class. The client code populates the four double corners in its own boundingBox object.\r\n\r\nHere is the code snippet:\r\n\r\n\r\n    Polygon polygon = new Polygon(Arrays.asList(new Position(boundingBox.getRightLongitude(),boundingBox.getTopLatitude()), \r\n                    new Position(boundingBox.getLeftLongitude(), boundingBox.getTopLatitude()), \r\n                    new Position(boundingBox.getLeftLongitude(), boundingBox.getBottomLatitude()), \r\n                    new Position(boundingBox.getRightLongitude(), boundingBox.getBottomLatitude()),\r\n                    new Position(boundingBox.getRightLongitude(), boundingBox.getTopLatitude())));\r\n    \t\t//Document filter = new Document(&quot;coordinates&quot;,geoWithin(&quot;coordinates&quot;, polygon));\r\n    \t\t\r\n\t\t\r\n\t\tBlock&lt;Document&gt; printBlock = new Block&lt;Document&gt;() {\r\n\t\t     @Override\r\n\t\t     public void apply(final Document document) {\r\n\t\t         System.out.println(document.toJson());\r\n\t\t     }\r\n\t\t};\r\n\t\tdatabase.getCollection(&quot;roads&quot;).find(geoWithin(&quot;coordinates&quot;,polygon)).forEach(printBlock);\r\n\r\nAnd here is the error:\r\n\r\n    Exception in thread &quot;main&quot; org.bson.codecs.configuration.CodecConfigurationException: Can&#39;t find a codec for class com.mongodb.client.model.geojson.Polygon.","title":"Why do I get the following error : Can&#39;t find a codec for class com.mongodb.client.model.geojson.Polygon","body":"<p>I am trying to do a geospatial query using MongoDB's <code>com.mongodb.client.model.geojson.Polygon</code> class and <code>com.mongodb.client.model.geojson.Position</code> class. The client code populates the four double corners in its own boundingBox object.</p>\n\n<p>Here is the code snippet:</p>\n\n<pre><code>Polygon polygon = new Polygon(Arrays.asList(new Position(boundingBox.getRightLongitude(),boundingBox.getTopLatitude()), \n                new Position(boundingBox.getLeftLongitude(), boundingBox.getTopLatitude()), \n                new Position(boundingBox.getLeftLongitude(), boundingBox.getBottomLatitude()), \n                new Position(boundingBox.getRightLongitude(), boundingBox.getBottomLatitude()),\n                new Position(boundingBox.getRightLongitude(), boundingBox.getTopLatitude())));\n        //Document filter = new Document(\"coordinates\",geoWithin(\"coordinates\", polygon));\n\n\n    Block&lt;Document&gt; printBlock = new Block&lt;Document&gt;() {\n         @Override\n         public void apply(final Document document) {\n             System.out.println(document.toJson());\n         }\n    };\n    database.getCollection(\"roads\").find(geoWithin(\"coordinates\",polygon)).forEach(printBlock);\n</code></pre>\n\n<p>And here is the error:</p>\n\n<pre><code>Exception in thread \"main\" org.bson.codecs.configuration.CodecConfigurationException: Can't find a codec for class com.mongodb.client.model.geojson.Polygon.\n</code></pre>\n"},{"tags":["java","authentication","apache-camel","spring-camel"],"owner":{"account_id":15340811,"reputation":383,"user_id":11067865,"display_name":"Jirmed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701439294,"creation_date":1701439294,"question_id":77585801,"body_markdown":"I need to call a Rest API from my Apache Camel route. The Rest API is secured with a token that can be obtained on andother API.\r\n\r\nMy demo route looks like following:\r\n\r\n        from(&quot;direct:iot&quot;)\r\n            .id(&quot;iot&quot;)\r\n            .setHeader(Exchange.HTTP_METHOD, constant(&quot;POST&quot;))\r\n            .setHeader(Exchange.CONTENT_TYPE, constant(&quot;application/x-www-form-urlencoded&quot;))\r\n            .setBody(simple(STR.&quot;username=\\{USERNAME}&amp;password=\\{PASSWORD}&amp;grant_type=password&amp;client_id=iot-api-client&amp;client_secret=\\{CLIENT_SECRET}&quot;))\r\n            .to(TOKEN_URL)\r\n            .unmarshal().json(JsonLibrary.Gson)\r\n            .process(e -&gt; {\r\n                Map body = e.getIn().getBody(Map.class);\r\n                e.getIn().setHeader(&quot;Authorization&quot;,\r\n                    STR.&quot;Bearer \\{body.get(&quot;access_token&quot;)}&quot;);\r\n            })\r\n            .removeHeader(&quot;*&quot;)\r\n            .setHeader(Exchange.HTTP_METHOD, constant(&quot;GET&quot;))\r\n            .to(STR.&quot;\\{BASE_URL}\\{RESOURCE_URI}&quot;)\r\n            .log(&quot;${body}&quot;);\r\n\r\nIt works but it seems quite complicatied to me (I should also add some error handling, token caching etc.). I wonder if it can be simplified somehow.\r\n\r\nIn the [APACHE CAMEL 4.2 WHAT&#39;S NEW][1] they write: \r\n\r\n&gt; &quot;The camel-http component now supports OAuth 2.0 client\r\n&gt; authentication.&quot;\r\n\r\nUnfortunately I was not able to find any details.\r\n\r\n  [1]: https://camel.apache.org/blog/2023/11/camel42-whatsnew/","title":"Calling rest api secured with Bearer token authentication in Apache Camel route","body":"<p>I need to call a Rest API from my Apache Camel route. The Rest API is secured with a token that can be obtained on andother API.</p>\n<p>My demo route looks like following:</p>\n<pre><code>    from(&quot;direct:iot&quot;)\n        .id(&quot;iot&quot;)\n        .setHeader(Exchange.HTTP_METHOD, constant(&quot;POST&quot;))\n        .setHeader(Exchange.CONTENT_TYPE, constant(&quot;application/x-www-form-urlencoded&quot;))\n        .setBody(simple(STR.&quot;username=\\{USERNAME}&amp;password=\\{PASSWORD}&amp;grant_type=password&amp;client_id=iot-api-client&amp;client_secret=\\{CLIENT_SECRET}&quot;))\n        .to(TOKEN_URL)\n        .unmarshal().json(JsonLibrary.Gson)\n        .process(e -&gt; {\n            Map body = e.getIn().getBody(Map.class);\n            e.getIn().setHeader(&quot;Authorization&quot;,\n                STR.&quot;Bearer \\{body.get(&quot;access_token&quot;)}&quot;);\n        })\n        .removeHeader(&quot;*&quot;)\n        .setHeader(Exchange.HTTP_METHOD, constant(&quot;GET&quot;))\n        .to(STR.&quot;\\{BASE_URL}\\{RESOURCE_URI}&quot;)\n        .log(&quot;${body}&quot;);\n</code></pre>\n<p>It works but it seems quite complicatied to me (I should also add some error handling, token caching etc.). I wonder if it can be simplified somehow.</p>\n<p>In the <a href=\"https://camel.apache.org/blog/2023/11/camel42-whatsnew/\" rel=\"nofollow noreferrer\">APACHE CAMEL 4.2 WHAT'S NEW</a> they write:</p>\n<blockquote>\n<p>&quot;The camel-http component now supports OAuth 2.0 client\nauthentication.&quot;</p>\n</blockquote>\n<p>Unfortunately I was not able to find any details.</p>\n"},{"tags":["java","hibernate","sdk","quarkus"],"comments":[{"owner":{"account_id":8238621,"reputation":557,"user_id":6196911,"accept_rate":17,"display_name":"CS_noob"},"score":0,"creation_date":1701439865,"post_id":77585754,"comment_id":136779114,"body_markdown":"mvn checks JAVA_HOME for java. Check what is the value.","body":"mvn checks JAVA_HOME for java. Check what is the value."}],"owner":{"account_id":30040594,"reputation":1,"user_id":23021561,"display_name":"rafael"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701439892,"answer_count":0,"score":-1,"last_activity_date":1701438991,"creation_date":1701438803,"question_id":77585754,"body_markdown":"Context: I am using quarkus 1.7.3-Final and JDK 11 (major version 55) to compile and run my project tests.\r\n\r\nWhen i run my unit tests using `mvn clean verify`, I get the following error:\r\n```java\r\n[ERROR] pesquisar PorNome Teste\r\nTime elapsed: 0.026 s &lt;&lt;&lt;ERROR!\r\njava.lang.RuntimeException: java.lang.ExceptionInInitializerError\r\nCaused by: java.lang.ExceptionInInitializerError\r\nCaused by: java.lang.RuntimeException: Failed to start quarkus\r\nCaused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [com.myproject.models.Documento]\r\nCaused by: org.hibernate.bytecode.enhance.spi.EnhancementException: Failed to enhance class com.myproject.models.Documento\r\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 61\r\n```\r\n\r\nHOWEVER, when i run `javap -v Documento.class` on com.myproject.models.Documento, I get that the JDK version which compiled my .class is 55 (indeed! I am using JDK 11).\r\n```\r\nLast modified Dec 1, 2023; size 6424 bytes\r\nMD5 checksum 2196a5b49dc6807b48bcc48ebff5aeaa\r\nCompiled from &quot;Documento.java&quot;\r\npublic class com.myproject.models.Documento implements java.io.Serializable\r\nminor version:\r\nmajor version: 55\r\nflags: (0x0021) ACC_PUBLIC, ACC_SUPER\r\nthis_class: #8\r\nsuper_class: #2\r\n```\r\n\r\nI tried changing my SDK, with no results.\r\n\r\nI tried to updated my Quarkus dependecies, but this generates other erros and major migration problems","title":"I am getting &quot;Unsupported class file major version 61&quot; while running my tests. But the major version of my class file is 55","body":"<p>Context: I am using quarkus 1.7.3-Final and JDK 11 (major version 55) to compile and run my project tests.</p>\n<p>When i run my unit tests using <code>mvn clean verify</code>, I get the following error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>[ERROR] pesquisar PorNome Teste\nTime elapsed: 0.026 s &lt;&lt;&lt;ERROR!\njava.lang.RuntimeException: java.lang.ExceptionInInitializerError\nCaused by: java.lang.ExceptionInInitializerError\nCaused by: java.lang.RuntimeException: Failed to start quarkus\nCaused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [com.myproject.models.Documento]\nCaused by: org.hibernate.bytecode.enhance.spi.EnhancementException: Failed to enhance class com.myproject.models.Documento\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 61\n</code></pre>\n<p>HOWEVER, when i run <code>javap -v Documento.class</code> on com.myproject.models.Documento, I get that the JDK version which compiled my .class is 55 (indeed! I am using JDK 11).</p>\n<pre><code>Last modified Dec 1, 2023; size 6424 bytes\nMD5 checksum 2196a5b49dc6807b48bcc48ebff5aeaa\nCompiled from &quot;Documento.java&quot;\npublic class com.myproject.models.Documento implements java.io.Serializable\nminor version:\nmajor version: 55\nflags: (0x0021) ACC_PUBLIC, ACC_SUPER\nthis_class: #8\nsuper_class: #2\n</code></pre>\n<p>I tried changing my SDK, with no results.</p>\n<p>I tried to updated my Quarkus dependecies, but this generates other erros and major migration problems</p>\n"},{"tags":["java","gradle","junit","github-actions","error-logging"],"comments":[{"owner":{"account_id":3597514,"reputation":117146,"user_id":3001761,"display_name":"jonrsharpe"},"score":1,"creation_date":1701443183,"post_id":77585640,"comment_id":136779830,"body_markdown":"https://docs.github.com/en/actions/using-workflows/storing-workflow-data-as-artifacts?","body":"<a href=\"https://docs.github.com/en/actions/using-workflows/storing-workflow-data-as-artifacts\" rel=\"nofollow noreferrer\">docs.github.com/en/actions/using-workflows/&hellip;</a>?"},{"owner":{"account_id":245690,"reputation":14585,"user_id":519334,"accept_rate":86,"display_name":"k3b"},"score":0,"creation_date":1701516965,"post_id":77585640,"comment_id":136787204,"body_markdown":"@jonrsharpe exactly what i was looking for. thanks a lot. If you add &quot;use https://github.com/actions/upload-artifact to your workflow&quot; as answer then i can mark this as answer:","body":"@jonrsharpe exactly what i was looking for. thanks a lot. If you add &quot;use <a href=\"https://github.com/actions/upload-artifact\" rel=\"nofollow noreferrer\">github.com/actions/upload-artifact</a> to your workflow&quot; as answer then i can mark this as answer:"}],"owner":{"account_id":245690,"reputation":14585,"user_id":519334,"accept_rate":86,"display_name":"k3b"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701437734,"creation_date":1701437734,"question_id":77585640,"body_markdown":"I have a git repository where some JUnit-Tests fail in github-actions while local JUnit-Tests are ok.\r\n\r\nIs there a way to get the failing report?\r\n\r\nfrom https://github.com/k3b/calef/actions/runs/7060398755/job/19219851935 \r\n\r\n&gt; Task :app:testDebugUnitTest\r\n&gt;\r\n&gt; de.k3b.calef.CalendarFormatterTest &gt; add_germanyShort_ok FAILED\r\n&gt;    org.junit.ComparisonFailure at CalendarFormatterTest.java:51\r\n&gt;\r\n&gt; de.k3b.calef.CalendarFormatterTest &gt; add_usShort_ok FAILED\r\n&gt;    org.junit.ComparisonFailure at CalendarFormatterTest.java:63\r\n&gt;\r\n&gt; de.k3b.calef.CalendarFormatterTest &gt; add_usShortWithoutTime_ok FAILED\r\n&gt;    org.junit.ComparisonFailure at CalendarFormatterTest.java:75\r\n&gt;\r\n&gt; 6 tests completed, 3 failed\r\n\r\n&gt; Task :app:testDebugUnitTest FAILED\r\n&gt; [...]\r\n&gt; * What went wrong:\r\n&gt; Execution failed for task &#39;:app:testDebugUnitTest&#39;.\r\n&gt; There were failing tests. See the report at: file:///home/runner/work/calef/calef/app/build/reports/tests/testDebugUnitTest/index.html\r\n\r\nHow can i read .../testDebugUnitTest/index.html ?\r\n","title":"Github Actions JUnittest Failing: How to get the error report?","body":"<p>I have a git repository where some JUnit-Tests fail in github-actions while local JUnit-Tests are ok.</p>\n<p>Is there a way to get the failing report?</p>\n<p>from <a href=\"https://github.com/k3b/calef/actions/runs/7060398755/job/19219851935\" rel=\"nofollow noreferrer\">https://github.com/k3b/calef/actions/runs/7060398755/job/19219851935</a></p>\n<blockquote>\n<p>Task :app:testDebugUnitTest</p>\n<p>de.k3b.calef.CalendarFormatterTest &gt; add_germanyShort_ok FAILED\norg.junit.ComparisonFailure at CalendarFormatterTest.java:51</p>\n<p>de.k3b.calef.CalendarFormatterTest &gt; add_usShort_ok FAILED\norg.junit.ComparisonFailure at CalendarFormatterTest.java:63</p>\n<p>de.k3b.calef.CalendarFormatterTest &gt; add_usShortWithoutTime_ok FAILED\norg.junit.ComparisonFailure at CalendarFormatterTest.java:75</p>\n<p>6 tests completed, 3 failed</p>\n</blockquote>\n<blockquote>\n<p>Task :app:testDebugUnitTest FAILED\n[...]</p>\n<ul>\n<li>What went wrong:\nExecution failed for task ':app:testDebugUnitTest'.\nThere were failing tests. See the report at: file:///home/runner/work/calef/calef/app/build/reports/tests/testDebugUnitTest/index.html</li>\n</ul>\n</blockquote>\n<p>How can i read .../testDebugUnitTest/index.html ?</p>\n"},{"tags":["java","tiff","geotools"],"comments":[{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":2,"creation_date":1701270170,"post_id":77571884,"comment_id":136755146,"body_markdown":"Looks like the TIFF uses JPEG compressed tiles, and the colors are incorrectly converted from YCC to RGB (they were already RGB and shouldn&#39;t have been).","body":"Looks like the TIFF uses JPEG compressed tiles, and the colors are incorrectly converted from YCC to RGB (they were already RGB and shouldn&#39;t have been)."},{"owner":{"account_id":3606201,"reputation":389,"user_id":3008320,"accept_rate":100,"display_name":"sendreams"},"score":0,"creation_date":1701333476,"post_id":77571884,"comment_id":136763302,"body_markdown":"i have uploaded a new tiff file  which render fine with geotools, I can&#39;t see any specific difference between them.","body":"i have uploaded a new tiff file  which render fine with geotools, I can&#39;t see any specific difference between them."},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1701336233,"post_id":77571884,"comment_id":136763782,"body_markdown":"the compilation issues stem from mixing your GeoTools versions stable is 30.x currently not 28.5 - there were substantial changes see the [blog](https://geotoolsnews.blogspot.com/2023/10/geotools-300-released.html) for details","body":"the compilation issues stem from mixing your GeoTools versions stable is 30.x currently not 28.5 - there were substantial changes see the <a href=\"https://geotoolsnews.blogspot.com/2023/10/geotools-300-released.html\" rel=\"nofollow noreferrer\">blog</a> for details"},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1701337009,"post_id":77571884,"comment_id":136763934,"body_markdown":"One possible issue is that one of your files (the one that fails) is an image/world file pair and the other is a real GeoTiff and they take different routes to the renderer.","body":"One possible issue is that one of your files (the one that fails) is an image/world file pair and the other is a real GeoTiff and they take different routes to the renderer."},{"owner":{"account_id":3606201,"reputation":389,"user_id":3008320,"accept_rate":100,"display_name":"sendreams"},"score":0,"creation_date":1701339146,"post_id":77571884,"comment_id":136764296,"body_markdown":"the L21.tfw file just contains data bounds information, very simple. Deleting this file will have the same effect","body":"the L21.tfw file just contains data bounds information, very simple. Deleting this file will have the same effect"},{"owner":{"account_id":3606201,"reputation":389,"user_id":3008320,"accept_rate":100,"display_name":"sendreams"},"score":0,"creation_date":1701402819,"post_id":77571884,"comment_id":136774076,"body_markdown":"i have been tested geotools version 29.3 and 30.1, not difference at all.","body":"i have been tested geotools version 29.3 and 30.1, not difference at all."}],"answers":[{"tags":[],"owner":{"account_id":3606201,"reputation":389,"user_id":3008320,"accept_rate":100,"display_name":"sendreams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701437388,"creation_date":1701437388,"answer_id":77585603,"question_id":77571884,"body_markdown":"The cause of the problem was found. It was caused by the tiff file not generating an image pyramid. It should also be noted that when generating an image pyramid, you need to use the external mode, which is to generate the external pyramid file of ovr. Otherwise, there will still be problems when rendering with geotools. .\r\nFinally, geotools still has some problems when rendering tiff pyramid images. After zooming in to a certain extent, the color will be distorted.","title":"how to create rgbstyle while rendering tif file using geotools?","body":"<p>The cause of the problem was found. It was caused by the tiff file not generating an image pyramid. It should also be noted that when generating an image pyramid, you need to use the external mode, which is to generate the external pyramid file of ovr. Otherwise, there will still be problems when rendering with geotools. .\nFinally, geotools still has some problems when rendering tiff pyramid images. After zooming in to a certain extent, the color will be distorted.</p>\n"}],"owner":{"account_id":3606201,"reputation":389,"user_id":3008320,"accept_rate":100,"display_name":"sendreams"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77585603,"answer_count":1,"score":0,"last_activity_date":1701437388,"creation_date":1701267108,"question_id":77571884,"body_markdown":"I have a tiff file, and the effect when opened in qgis is very inconsistent with the effect rendered with geotools.\r\n\r\nopen by qgis\r\n[![enter image description here][1]][1]\r\n\r\nthe imagelab snapshot (Color is obviously distorted).\r\n[![enter image description here][2]][2]\r\nthe Imagelab source code can be download from here:\r\nhttps://docs.geotools.org/stable/userguide/_downloads/b1a328d258da28a4e9da534d4aaca37c/ImageLab.java\r\nThe key code is the createRGBStyle function, the code has some compilation errors, mainly namespace issues. I will put the modified code in the link below.\r\n\r\nThe strange thing is that some tiff files have normal effects after being opened with imagelab. what is the reason behind the scene?\r\n\r\n[the source tiff file and modified imagelabs][3]\r\n\r\ngeotools&#39;s version: 28.5,29.3,30.1\r\n\r\nI used qgis to view the metadata information of the two tiff data and found nothing special.\r\ngeotools imagelab render with color error tiff\r\n[![geotools render error tiff][4]][4]\r\ngeotools imagelab render ok tiff\r\n[![geotools render ok tiff][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xkR6w.jpg\r\n  [2]: https://i.stack.imgur.com/Dwxzd.jpg\r\n  [3]: https://drive.google.com/drive/folders/1wG30b7BEgLSgt9wpLqYce1Lv6pvhs59b?usp=sharing\r\n  [4]: https://i.stack.imgur.com/1g5BG.png\r\n  [5]: https://i.stack.imgur.com/T11H8.png","title":"how to create rgbstyle while rendering tif file using geotools?","body":"<p>I have a tiff file, and the effect when opened in qgis is very inconsistent with the effect rendered with geotools.</p>\n<p>open by qgis\n<a href=\"https://i.stack.imgur.com/xkR6w.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xkR6w.jpg\" alt=\"enter image description here\" /></a></p>\n<p>the imagelab snapshot (Color is obviously distorted).\n<a href=\"https://i.stack.imgur.com/Dwxzd.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dwxzd.jpg\" alt=\"enter image description here\" /></a>\nthe Imagelab source code can be download from here:\n<a href=\"https://docs.geotools.org/stable/userguide/_downloads/b1a328d258da28a4e9da534d4aaca37c/ImageLab.java\" rel=\"nofollow noreferrer\">https://docs.geotools.org/stable/userguide/_downloads/b1a328d258da28a4e9da534d4aaca37c/ImageLab.java</a>\nThe key code is the createRGBStyle function, the code has some compilation errors, mainly namespace issues. I will put the modified code in the link below.</p>\n<p>The strange thing is that some tiff files have normal effects after being opened with imagelab. what is the reason behind the scene?</p>\n<p><a href=\"https://drive.google.com/drive/folders/1wG30b7BEgLSgt9wpLqYce1Lv6pvhs59b?usp=sharing\" rel=\"nofollow noreferrer\">the source tiff file and modified imagelabs</a></p>\n<p>geotools's version: 28.5,29.3,30.1</p>\n<p>I used qgis to view the metadata information of the two tiff data and found nothing special.\ngeotools imagelab render with color error tiff\n<a href=\"https://i.stack.imgur.com/1g5BG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1g5BG.png\" alt=\"geotools render error tiff\" /></a>\ngeotools imagelab render ok tiff\n<a href=\"https://i.stack.imgur.com/T11H8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T11H8.png\" alt=\"geotools render ok tiff\" /></a></p>\n"},{"tags":["java","windows","apache-kafka","windows-subsystem-for-linux","kafka-producer-api"],"comments":[{"owner":{"account_id":142729,"reputation":30927,"user_id":350613,"display_name":"Robin Moffatt"},"score":0,"creation_date":1647600448,"post_id":71525350,"comment_id":126416917,"body_markdown":"Where is your Kafka broker running?","body":"Where is your Kafka broker running?"},{"owner":{"account_id":24597836,"reputation":1,"user_id":18501017,"display_name":"Soundarya Karthikeyan"},"score":0,"creation_date":1647600971,"post_id":71525350,"comment_id":126417107,"body_markdown":"my kafka is running on this port in my local 127.0.0.1:9092","body":"my kafka is running on this port in my local 127.0.0.1:9092"},{"owner":{"account_id":142729,"reputation":30927,"user_id":350613,"display_name":"Robin Moffatt"},"score":1,"creation_date":1647611523,"post_id":71525350,"comment_id":126420660,"body_markdown":"right, but which machine? You&#39;ve mentioned windows and ubuntu","body":"right, but which machine? You&#39;ve mentioned windows and ubuntu"},{"owner":{"account_id":24597836,"reputation":1,"user_id":18501017,"display_name":"Soundarya Karthikeyan"},"score":0,"creation_date":1647788102,"post_id":71525350,"comment_id":126453986,"body_markdown":"Started kafka server using Ubuntu and tested console producer and consumer. Written sample kafka producer and consumer in STS (in windows 10) and trying to connect to the same kafka which was started using ubuntu LTS. Do i need to start the same kafka in windows again using .bat files and then try connecting through java kafka producer?","body":"Started kafka server using Ubuntu and tested console producer and consumer. Written sample kafka producer and consumer in STS (in windows 10) and trying to connect to the same kafka which was started using ubuntu LTS. Do i need to start the same kafka in windows again using .bat files and then try connecting through java kafka producer?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1647792329,"post_id":71525350,"comment_id":126454929,"body_markdown":"That wouldn&#39;t be recommended, no. You&#39;ll have other issues running Kafka in windows directly. Instead, if you really don&#39;t want to deal with networking configurations, you need to run your code in WSL2 as well. In other words, localhost is not the same between Windows and the hypervisor running Kafka.","body":"That wouldn&#39;t be recommended, no. You&#39;ll have other issues running Kafka in windows directly. Instead, if you really don&#39;t want to deal with networking configurations, you need to run your code in WSL2 as well. In other words, localhost is not the same between Windows and the hypervisor running Kafka."},{"owner":{"account_id":24597836,"reputation":1,"user_id":18501017,"display_name":"Soundarya Karthikeyan"},"score":0,"creation_date":1647843191,"post_id":71525350,"comment_id":126463757,"body_markdown":"Thank you so much OneCricketeer. I&#39;m able to make it work if I run the code in WSL2.","body":"Thank you so much OneCricketeer. I&#39;m able to make it work if I run the code in WSL2."}],"answers":[{"tags":[],"owner":{"account_id":3222171,"reputation":1361,"user_id":3192775,"accept_rate":33,"display_name":"Tim"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1662921929,"creation_date":1662921929,"answer_id":73681837,"question_id":71525350,"body_markdown":"Too late for this response, but hope this helps someone.\r\n\r\n- Identify the ip address of the WSL2 using ifconfig or ip addr or hostname -I\r\n\r\n- From the windows command prompt (as admin) run below command\r\n\r\n```\r\n&gt; netsh interface portproxy add v4tov4 listenport=9092 listenaddress=0.0.0.0 connectport=9092 connectaddress=172.X.X.X\r\n```\r\n172.X.X.X is the Ip of the WSL2\r\n\r\nWith that change I was able to access the Kafka cluster.\r\n\r\nReference [link](https://stackoverflow.com/a/67738246/3192775)","title":"Connect to Kafka running in WSL2 Ubuntu","body":"<p>Too late for this response, but hope this helps someone.</p>\n<ul>\n<li><p>Identify the ip address of the WSL2 using ifconfig or ip addr or hostname -I</p>\n</li>\n<li><p>From the windows command prompt (as admin) run below command</p>\n</li>\n</ul>\n<pre><code>&gt; netsh interface portproxy add v4tov4 listenport=9092 listenaddress=0.0.0.0 connectport=9092 connectaddress=172.X.X.X\n</code></pre>\n<p>172.X.X.X is the Ip of the WSL2</p>\n<p>With that change I was able to access the Kafka cluster.</p>\n<p>Reference <a href=\"https://stackoverflow.com/a/67738246/3192775\">link</a></p>\n"}],"owner":{"account_id":24597836,"reputation":1,"user_id":18501017,"display_name":"Soundarya Karthikeyan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1536,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701436603,"answer_count":1,"score":0,"last_activity_date":1701436559,"creation_date":1647597930,"question_id":71525350,"body_markdown":"The below is my Kafka broker configuration\r\n\r\n```\r\nbroker.id=1\r\nport=9092\r\nhost.name=127.0.0.1\r\nadvertised.listeners=PLAINTEXT://127.0.0.1:9092\r\nlisteners=PLAINTEXT://127.0.0.1:9092\r\n```\r\n\r\nConsole producer and consumer are working perfectly but when I try to connect through Java, it is throwing broker not available error. The Kafka broker is running and able to produce and consume messages through console.\r\n\r\n```\r\nProperties props = new Properties();\r\nprops.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;127.0.0.1:9092&quot;);\r\nprops.put(ProducerConfig.ACKS_CONFIG, &quot;all&quot;);\r\nprops.put(&quot;key.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\nprops.put(&quot;value.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n\r\nKafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;String,String&gt;(props);\r\n\r\nproducer.send(new ProducerRecord&lt;String, String&gt;(&quot;Sample&quot;,&quot;Hey&quot;,&quot;From java program&quot;));\r\nproducer.close();\r\n```\r\n\r\n```none\r\n[kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Connection to node -1 (/127.0.0.1:9092) could not be established. Broker may not be available.\r\n[kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Bootstrap broker 127.0.0.1:9092 (id: -1 rack: null) disconnected\r\n```\r\n\r\nI&#39;m using STS IDE to write Java program and using Java 8, Kafka 2.8.1\r\nWindows OS and using Ubuntu 20.04.4 LTS to execute console producer and consumer.\r\n\r\n","title":"Connect to Kafka running in WSL2 Ubuntu","body":"<p>The below is my Kafka broker configuration</p>\n<pre><code>broker.id=1\nport=9092\nhost.name=127.0.0.1\nadvertised.listeners=PLAINTEXT://127.0.0.1:9092\nlisteners=PLAINTEXT://127.0.0.1:9092\n</code></pre>\n<p>Console producer and consumer are working perfectly but when I try to connect through Java, it is throwing broker not available error. The Kafka broker is running and able to produce and consume messages through console.</p>\n<pre><code>Properties props = new Properties();\nprops.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;127.0.0.1:9092&quot;);\nprops.put(ProducerConfig.ACKS_CONFIG, &quot;all&quot;);\nprops.put(&quot;key.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\nprops.put(&quot;value.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n\nKafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;String,String&gt;(props);\n\nproducer.send(new ProducerRecord&lt;String, String&gt;(&quot;Sample&quot;,&quot;Hey&quot;,&quot;From java program&quot;));\nproducer.close();\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>[kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Connection to node -1 (/127.0.0.1:9092) could not be established. Broker may not be available.\n[kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Bootstrap broker 127.0.0.1:9092 (id: -1 rack: null) disconnected\n</code></pre>\n<p>I'm using STS IDE to write Java program and using Java 8, Kafka 2.8.1\nWindows OS and using Ubuntu 20.04.4 LTS to execute console producer and consumer.</p>\n"},{"tags":["java","android-studio","gradle","android-gradle-plugin"],"answers":[{"tags":[],"owner":{"account_id":26806717,"reputation":75,"user_id":20731770,"display_name":"Adam Basha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701358602,"creation_date":1701358602,"answer_id":77579725,"question_id":77579664,"body_markdown":"After some research about the error. I found that to solve this you should migrate to AndroidX.\r\nThis is a full documentation about how to migrate:\r\nhttps://developer.android.com/jetpack/androidx/migrate\r\n\r\nThe conclusion is to migrate to AndroidX you should follow these steps:\r\n\r\nWith Android Studio 3.2 and higher, you can migrate an existing project to AndroidX by selecting Refactor &gt; Migrate to AndroidX from the menu bar.\r\n\r\nThe refactor command makes use of two flags. By default, both of them are set to true in your `gradle.properties` file:\r\n\r\n`android.useAndroidX=true`\r\nThe Android plugin uses the appropriate AndroidX library instead of a Support Library.\r\n`android.enableJetifier=true`\r\nThe Android plugin automatically migrates existing third-party libraries to use AndroidX by rewriting their binaries.","title":"android studio latest version gradle update problem","body":"<p>After some research about the error. I found that to solve this you should migrate to AndroidX.\nThis is a full documentation about how to migrate:\n<a href=\"https://developer.android.com/jetpack/androidx/migrate\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/androidx/migrate</a></p>\n<p>The conclusion is to migrate to AndroidX you should follow these steps:</p>\n<p>With Android Studio 3.2 and higher, you can migrate an existing project to AndroidX by selecting Refactor &gt; Migrate to AndroidX from the menu bar.</p>\n<p>The refactor command makes use of two flags. By default, both of them are set to true in your <code>gradle.properties</code> file:</p>\n<p><code>android.useAndroidX=true</code>\nThe Android plugin uses the appropriate AndroidX library instead of a Support Library.\n<code>android.enableJetifier=true</code>\nThe Android plugin automatically migrates existing third-party libraries to use AndroidX by rewriting their binaries.</p>\n"}],"owner":{"account_id":25256651,"reputation":1,"user_id":19088272,"display_name":"LastCode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701436278,"creation_date":1701358136,"question_id":77579664,"body_markdown":"I tried to updated my project which I was working on like 2016, I was updating everything within the code from the gradle version to 28.0.0\r\n\r\nWhile updating an error came up that I have never seen:\r\n```\r\nVersion 28 (intended for Android Pie and below) is the last version of the legacy support library, so we recommend that you migrate to AndroidX libraries when using Android Q and moving forward. The IDE can help with this: Refactor &gt; Migrate to AndroidX...\r\n\r\nthis is line 28 from the code build.gradle (   implementation &#39;com.android.support:appcompat-v7:28.0.0&#39;   )\r\n\r\n\r\nVersion 28 (intended for Android Pie and below) is the last version of the legacy support library, so we recommend that you migrate to AndroidX libraries when using Android Q and moving forward. The IDE can help with this: Refactor &gt; Migrate to AndroidX...\r\n\r\nimplementation &#39;com.android.support:design:28.0.0&#39;\r\n\r\nVersion 28 (intended for Android Pie and below) is the last version of the legacy support library, so we recommend that you migrate to AndroidX libraries when using Android Q and moving forward. The IDE can help with this: Refactor &gt; Migrate to AndroidX...\r\n\r\n\r\nimplementation &#39;com.android.support:support-v4:28.0.0&#39;\r\n\r\n\r\nimplementation &#39;com.android.support:support-vector-drawable:28.0.0&#39;\r\n    implementation &#39;com.android.support:cardview-v7:28.0.0&#39;\r\n```\r\nI tried updating everything to latest version and checking from android studio libraries, but I failed maybe I did something wrong?","title":"android studio latest version gradle update problem","body":"<p>I tried to updated my project which I was working on like 2016, I was updating everything within the code from the gradle version to 28.0.0</p>\n<p>While updating an error came up that I have never seen:</p>\n<pre><code>Version 28 (intended for Android Pie and below) is the last version of the legacy support library, so we recommend that you migrate to AndroidX libraries when using Android Q and moving forward. The IDE can help with this: Refactor &gt; Migrate to AndroidX...\n\nthis is line 28 from the code build.gradle (   implementation 'com.android.support:appcompat-v7:28.0.0'   )\n\n\nVersion 28 (intended for Android Pie and below) is the last version of the legacy support library, so we recommend that you migrate to AndroidX libraries when using Android Q and moving forward. The IDE can help with this: Refactor &gt; Migrate to AndroidX...\n\nimplementation 'com.android.support:design:28.0.0'\n\nVersion 28 (intended for Android Pie and below) is the last version of the legacy support library, so we recommend that you migrate to AndroidX libraries when using Android Q and moving forward. The IDE can help with this: Refactor &gt; Migrate to AndroidX...\n\n\nimplementation 'com.android.support:support-v4:28.0.0'\n\n\nimplementation 'com.android.support:support-vector-drawable:28.0.0'\n    implementation 'com.android.support:cardview-v7:28.0.0'\n</code></pre>\n<p>I tried updating everything to latest version and checking from android studio libraries, but I failed maybe I did something wrong?</p>\n"},{"tags":["java","css","javafx"],"comments":[{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1701432507,"post_id":77584993,"comment_id":136777793,"body_markdown":"As specified in the duplicate (assuming it is in `src/main/resources` of your project), use: `escena.getStylesheets().add(&quot;estilos.css&quot;)`.","body":"As specified in the duplicate (assuming it is in <code>src&#47;main&#47;resources</code> of your project), use: <code>escena.getStylesheets().add(&quot;estilos.css&quot;)</code>."},{"owner":{"account_id":30039735,"reputation":1,"user_id":23020872,"display_name":"Marc Exposito Francisco"},"score":0,"creation_date":1701434061,"post_id":77584993,"comment_id":136778036,"body_markdown":"Now it shows this error dic 01, 2023 1:33:46 P.�M. com.sun.javafx.css.StyleManager loadStylesheetUnPrivileged\nADVERTENCIA: Resource &quot;estilos.css&quot; not found.","body":"Now it shows this error dic 01, 2023 1:33:46 P.�M. com.sun.javafx.css.StyleManager loadStylesheetUnPrivileged ADVERTENCIA: Resource &quot;estilos.css&quot; not found."},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1701434281,"post_id":77584993,"comment_id":136778082,"body_markdown":"Where exactly is the resource located? If it is for example in `src/main/resources/my/package/estilos.css`, you probably need to use `/my/package/estilos.css` or `my/package/estilos.css`.","body":"Where exactly is the resource located? If it is for example in <code>src&#47;main&#47;resources&#47;my&#47;package&#47;estilos.css</code>, you probably need to use <code>&#47;my&#47;package&#47;estilos.css</code> or <code>my&#47;package&#47;estilos.css</code>."}],"owner":{"account_id":30039735,"reputation":1,"user_id":23020872,"display_name":"Marc Exposito Francisco"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701432411,"answer_count":0,"score":0,"last_activity_date":1701436094,"creation_date":1701430550,"question_id":77584993,"body_markdown":"I&#39;m trying to implement a CSS document into my Java project. I&#39;m using JavaFX as my graphic interface.\r\n\r\nMy code is:\r\n\r\n    Scene escena = new Scene(grid, 500, 500);\r\n    escena.getStylesheets().add(getClass().getResource(&quot;estilos.css&quot;).toString());\r\n\r\nThe error is:\r\n\r\n    Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toString()&quot; because the return value of &quot;java.lang.Class.getResource(String)&quot; is null\r\n\r\nIf tried to change the CSS document name, and some changes in the `getStylesheets` call, but it says that I&#39;m obtaining a null pointer exception.\r\n","title":"How can I make the CSS work on my Java project?","body":"<p>I'm trying to implement a CSS document into my Java project. I'm using JavaFX as my graphic interface.</p>\n<p>My code is:</p>\n<pre><code>Scene escena = new Scene(grid, 500, 500);\nescena.getStylesheets().add(getClass().getResource(&quot;estilos.css&quot;).toString());\n</code></pre>\n<p>The error is:</p>\n<pre><code>Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toString()&quot; because the return value of &quot;java.lang.Class.getResource(String)&quot; is null\n</code></pre>\n<p>If tried to change the CSS document name, and some changes in the <code>getStylesheets</code> call, but it says that I'm obtaining a null pointer exception.</p>\n"},{"tags":["java","redirect","quarkus","open-telemetry","zipkin"],"owner":{"account_id":13938264,"reputation":45,"user_id":10064799,"display_name":"Денис Анд"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701436092,"creation_date":1701436092,"question_id":77585480,"body_markdown":"I&#39;m currently working on implementing an OAuth2 authentication system utilizing the code grant flow. However, I&#39;m encountering an issue with span linking during redirects. I&#39;m using Quarkus 3.6.0 along with the latest OpenTelemetry.\r\n\r\nThe challenge I&#39;m facing is that every redirect in the code flow seems to create its own span, resulting in separate tracks and new traceId flows. I&#39;m striving to maintain continuity across these redirects, ensuring that all spans remain under one trace. This is essential for comprehensive visibility within tracing systems like Zipkin or Jaeger.\r\n\r\nAdding the traceparent header manually doesn&#39;t seem to link the spans together. Instead, it creates a new span that attaches to the base process as the last one before initiating a new trace for the required endpoint. Unfortunately, this new span lacks necessary tags or information.\r\n\r\nIn essence, I&#39;m seeking guidance or suggestions on how to link one span with another, ensuring the retrieval of all the essential tags throughout the OAuth2 authentication flow amidst redirects.\r\n\r\nHas anyone encountered a similar issue or found a solution to maintain continuity in spans across redirects in an OAuth2 flow?\r\n\r\nYour insights or ideas would be immensely helpful. Thanks in advance for your assistance!","title":"Span linking during redirects","body":"<p>I'm currently working on implementing an OAuth2 authentication system utilizing the code grant flow. However, I'm encountering an issue with span linking during redirects. I'm using Quarkus 3.6.0 along with the latest OpenTelemetry.</p>\n<p>The challenge I'm facing is that every redirect in the code flow seems to create its own span, resulting in separate tracks and new traceId flows. I'm striving to maintain continuity across these redirects, ensuring that all spans remain under one trace. This is essential for comprehensive visibility within tracing systems like Zipkin or Jaeger.</p>\n<p>Adding the traceparent header manually doesn't seem to link the spans together. Instead, it creates a new span that attaches to the base process as the last one before initiating a new trace for the required endpoint. Unfortunately, this new span lacks necessary tags or information.</p>\n<p>In essence, I'm seeking guidance or suggestions on how to link one span with another, ensuring the retrieval of all the essential tags throughout the OAuth2 authentication flow amidst redirects.</p>\n<p>Has anyone encountered a similar issue or found a solution to maintain continuity in spans across redirects in an OAuth2 flow?</p>\n<p>Your insights or ideas would be immensely helpful. Thanks in advance for your assistance!</p>\n"},{"tags":["java","eclipse","maven","dependencies"],"comments":[{"owner":{"account_id":2257408,"reputation":4873,"user_id":1988304,"accept_rate":92,"display_name":"JimHawkins"},"score":0,"creation_date":1438329537,"post_id":31740919,"comment_id":51416000,"body_markdown":"Is the dependency which contains the incompatible a project of your own or your company? Please give us some code and error messages","body":"Is the dependency which contains the incompatible a project of your own or your company? Please give us some code and error messages"},{"owner":{"account_id":1042328,"reputation":7972,"user_id":1048093,"accept_rate":75,"display_name":"wemu"},"score":0,"creation_date":1438330053,"post_id":31740919,"comment_id":51416311,"body_markdown":"classes are loaded via the class loader which follows the classpath. Inside a webapplication you can place patch classes inside WEB-INF/classes - those come first. If not in a webapp create a jar with that class and pass it first to the java process: java -cp my-patch.jar:original.jar - it is a bit smelly to patch stuff since its difficult to maintain and deploy applications like this. One often forgets about the patch and what is was for and so on. If the sources are available for that class I would rather create a patched artifact based on them.","body":"classes are loaded via the class loader which follows the classpath. Inside a webapplication you can place patch classes inside WEB-INF/classes - those come first. If not in a webapp create a jar with that class and pass it first to the java process: java -cp my-patch.jar:original.jar - it is a bit smelly to patch stuff since its difficult to maintain and deploy applications like this. One often forgets about the patch and what is was for and so on. If the sources are available for that class I would rather create a patched artifact based on them."},{"owner":{"account_id":5840876,"reputation":933,"user_id":4602524,"accept_rate":71,"display_name":"Steve S."},"score":0,"creation_date":1438331022,"post_id":31740919,"comment_id":51416855,"body_markdown":"How do I do that? (Sources are available here: http://grepcode.com/snapshot/repo1.maven.org/maven2/com.sun.xml.wss/xws-security/3.0)","body":"How do I do that? (Sources are available here: <a href=\"http://grepcode.com/snapshot/repo1.maven.org/maven2/com.sun.xml.wss/xws-security/3.0\" rel=\"nofollow noreferrer\">grepcode.com/snapshot/repo1.maven.org/maven2/com.sun.xml.wss&zwnj;&#8203;/&hellip;</a>)"}],"answers":[{"tags":[],"owner":{"account_id":52873,"reputation":2689,"user_id":158037,"display_name":"user158037"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1438333969,"creation_date":1438333969,"answer_id":31742386,"question_id":31740919,"body_markdown":"General solution: \r\n\r\n- download all project sources\r\n- apply your modification\r\n- - use version control so that change isn&#39;t lost\r\n- change version in `pom.xml`, for example from `3.0` to `3.0-patched`\r\n- launch maven build\r\n- copy generated artifacts to you repository/Artifactory, if you use one\r\n- change dependency version in your own project","title":"How do you replace the class of a Maven dependency?","body":"<p>General solution: </p>\n\n<ul>\n<li>download all project sources</li>\n<li>apply your modification</li>\n<li><ul>\n<li>use version control so that change isn't lost</li>\n</ul></li>\n<li>change version in <code>pom.xml</code>, for example from <code>3.0</code> to <code>3.0-patched</code></li>\n<li>launch maven build</li>\n<li>copy generated artifacts to you repository/Artifactory, if you use one</li>\n<li>change dependency version in your own project</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5840876,"reputation":933,"user_id":4602524,"accept_rate":71,"display_name":"Steve S."},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1438679250,"creation_date":1438678922,"answer_id":31804960,"question_id":31740919,"body_markdown":"Here is a detailed guide describing what I did exactly:\r\n\r\n 1. Create new Maven project in Eclipse\r\n 2. Configure Maven settings of new project (Important: Use the same group and artifact ID and only change the version number)\r\n\r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t\t    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t\t    &lt;groupId&gt;com.sun.xml.wss&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;xws-security&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.0-java8-fix&lt;/version&gt;\r\n\r\n\t\t    &lt;properties&gt;\r\n\t\t\t    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t\t    &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t    &lt;/properties&gt;\r\n\t    &lt;/project&gt;\r\n\r\n 3. Add dependency of bugged JAR\r\n\r\n\t    &lt;dependencies&gt;\r\n\t\t    &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;com.sun.xml.wss&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;xws-security&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;3.0&lt;/version&gt;\r\n\t\t\t    &lt;exclusions&gt;\r\n\t\t\t\t    &lt;exclusion&gt;\r\n\t\t\t\t\t  &lt;artifactId&gt;xmldsig&lt;/artifactId&gt;\r\n\t\t\t\t\t  &lt;groupId&gt;javax.xml.crypto&lt;/groupId&gt;\r\n\t\t\t\t    &lt;/exclusion&gt;\r\n\t\t\t\t    &lt;exclusion&gt;\r\n\t\t\t\t\t  &lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n\t\t\t\t\t  &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n\t\t\t\t    &lt;/exclusion&gt;\r\n\t\t\t    &lt;/exclusions&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\t     &lt;/dependencies&gt;  \r\n\r\n 4. Create Java file in the same package of class that needs to be fixed\r\n\r\n\t\tpackage com.sun.xml.wss.impl.apachecrypto;\r\n\r\n\t\tpublic class EncryptionProcessor {\r\n\t\t    // The FIX goes here\r\n\t\t}\r\n\r\n 5. Add Maven shade build plug in to handle creation of patched JAR file (this is not the only plug in to handle this kind of task - e.g. dependency:unpack)\r\n\r\n\t\t&lt;build&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;!-- plug in for creation of patched JAR file --&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;2.1&lt;/version&gt;\r\n\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;shade&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t\t&lt;filters&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;filter&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;artifact&gt;com.sun.xml.wss:xws-security:3.0&lt;/artifact&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;include&gt;**/*.class&lt;/include&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;include&gt;**/*.xml&lt;/include&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;exlude&gt;\r\n\t\t\t\t\t\t\t\t\tcom/sun/xml/wss/impl/apachecrypto/EncryptionProcessor.class\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;/exlude&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/filter&gt;\r\n\t\t\t\t\t\t\t\t&lt;/filters&gt;\r\n\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/build&gt;\r\n\r\n 6. Include patched JAR in other projects as necessary (Note: If you experience ClassNotFoundExceptions or similar errors do this: Right-click on the project -&gt; Properties -&gt; Maven -&gt; &quot;Resolve dependencies from Workspace projects&quot;:false)\r\n\r\nIn case you are not familiar with Maven. Here is the complete pom.xml: http://pastebucket.com/88444","title":"How do you replace the class of a Maven dependency?","body":"<p>Here is a detailed guide describing what I did exactly:</p>\n\n<ol>\n<li>Create new Maven project in Eclipse</li>\n<li><p>Configure Maven settings of new project (Important: Use the same group and artifact ID and only change the version number)</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.sun.xml.wss&lt;/groupId&gt;\n    &lt;artifactId&gt;xws-security&lt;/artifactId&gt;\n    &lt;version&gt;3.0-java8-fix&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre></li>\n<li><p>Add dependency of bugged JAR</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.wss&lt;/groupId&gt;\n        &lt;artifactId&gt;xws-security&lt;/artifactId&gt;\n        &lt;version&gt;3.0&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n              &lt;artifactId&gt;xmldsig&lt;/artifactId&gt;\n              &lt;groupId&gt;javax.xml.crypto&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n              &lt;artifactId&gt;activation&lt;/artifactId&gt;\n              &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n &lt;/dependencies&gt;  \n</code></pre></li>\n<li><p>Create Java file in the same package of class that needs to be fixed</p>\n\n<pre><code>package com.sun.xml.wss.impl.apachecrypto;\n\npublic class EncryptionProcessor {\n    // The FIX goes here\n}\n</code></pre></li>\n<li><p>Add Maven shade build plug in to handle creation of patched JAR file (this is not the only plug in to handle this kind of task - e.g. dependency:unpack)</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;!-- plug in for creation of patched JAR file --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;filters&gt;\n                            &lt;filter&gt;\n                                &lt;artifact&gt;com.sun.xml.wss:xws-security:3.0&lt;/artifact&gt;\n                                &lt;includes&gt;\n                                    &lt;include&gt;**/*.class&lt;/include&gt;\n                                    &lt;include&gt;**/*.xml&lt;/include&gt;\n                                &lt;/includes&gt;\n                                &lt;excludes&gt;\n                                    &lt;exlude&gt;\n                            com/sun/xml/wss/impl/apachecrypto/EncryptionProcessor.class\n                                    &lt;/exlude&gt;\n                                &lt;/excludes&gt;\n                            &lt;/filter&gt;\n                        &lt;/filters&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre></li>\n<li><p>Include patched JAR in other projects as necessary (Note: If you experience ClassNotFoundExceptions or similar errors do this: Right-click on the project -> Properties -> Maven -> \"Resolve dependencies from Workspace projects\":false)</p></li>\n</ol>\n\n<p>In case you are not familiar with Maven. Here is the complete pom.xml: <a href=\"http://pastebucket.com/88444\" rel=\"noreferrer\">http://pastebucket.com/88444</a></p>\n"},{"tags":[],"owner":{"account_id":44652,"reputation":3473,"user_id":131160,"display_name":"jcsahnwaldt Reinstate Monica"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1696890946,"creation_date":1517212895,"answer_id":48496795,"question_id":31740919,"body_markdown":"Similar to Steve S.&#39;s answer, but using the [maven-dependency-plugin][1]. Based on [this blog post][2].\r\n\r\nI changed the name of the patched library (not the version), but it depends on your needs what works better for you. \r\n\r\nThe dependency on the original library should be marked as ```&lt;optional&gt;true&lt;/optional&gt;```. Otherwise, the projects that depend on your patched library will also depend on the original library, which means that both the patched and the original version will be on the classpath, which can lead to all kinds of problems.\r\n\r\nIf your project is a child project, you can still use a completely different groupId and version than your parent pom. Doesn&#39;t matter.\r\n\r\nYou can exclude the classes you patch from unpacking, but it&#39;s probably not necessary, because Maven will first unpack the original library and then compile your new version, which means that the original classes are overwritten. Nice!  \r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;!-- remove this if you don&#39;t have a parent pom --&gt;\r\n      &lt;parent&gt;\r\n        &lt;groupId&gt;my.company&lt;/groupId&gt;\r\n        &lt;artifactId&gt;my.company&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.3&lt;/version&gt;\r\n        &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\r\n      &lt;/parent&gt;\r\n    \r\n      &lt;groupId&gt;com.foo&lt;/groupId&gt;\r\n      &lt;artifactId&gt;foo-bar-patched&lt;/artifactId&gt;\r\n      &lt;version&gt;4.5.6&lt;/version&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;unpack&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;artifactItems&gt;\r\n                    &lt;artifactItem&gt;\r\n                      &lt;groupId&gt;com.foo&lt;/groupId&gt;\r\n                      &lt;artifactId&gt;foo-bar&lt;/artifactId&gt;\r\n                      &lt;outputDirectory&gt;${project.build.directory}/classes&lt;/outputDirectory&gt;\r\n                      &lt;!-- excludes are probably not necessary --&gt;\r\n                      &lt;!-- &lt;excludes&gt;**/Foo.class,**/Bar.class&lt;/excludes&gt; --&gt;\r\n                    &lt;/artifactItem&gt;\r\n                  &lt;/artifactItems&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.foo&lt;/groupId&gt;\r\n          &lt;artifactId&gt;foo-bar&lt;/artifactId&gt;\r\n          &lt;version&gt;4.5.6&lt;/version&gt;\r\n          &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-dependency-plugin/\r\n  [2]: http://gochev.blogspot.de/2014/07/patching-maven-library-with-your-custom.html","title":"How do you replace the class of a Maven dependency?","body":"<p>Similar to Steve S.'s answer, but using the <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/\" rel=\"nofollow noreferrer\">maven-dependency-plugin</a>. Based on <a href=\"http://gochev.blogspot.de/2014/07/patching-maven-library-with-your-custom.html\" rel=\"nofollow noreferrer\">this blog post</a>.</p>\n<p>I changed the name of the patched library (not the version), but it depends on your needs what works better for you.</p>\n<p>The dependency on the original library should be marked as <code>&lt;optional&gt;true&lt;/optional&gt;</code>. Otherwise, the projects that depend on your patched library will also depend on the original library, which means that both the patched and the original version will be on the classpath, which can lead to all kinds of problems.</p>\n<p>If your project is a child project, you can still use a completely different groupId and version than your parent pom. Doesn't matter.</p>\n<p>You can exclude the classes you patch from unpacking, but it's probably not necessary, because Maven will first unpack the original library and then compile your new version, which means that the original classes are overwritten. Nice!</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;!-- remove this if you don't have a parent pom --&gt;\n  &lt;parent&gt;\n    &lt;groupId&gt;my.company&lt;/groupId&gt;\n    &lt;artifactId&gt;my.company&lt;/artifactId&gt;\n    &lt;version&gt;1.2.3&lt;/version&gt;\n    &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\n  &lt;/parent&gt;\n\n  &lt;groupId&gt;com.foo&lt;/groupId&gt;\n  &lt;artifactId&gt;foo-bar-patched&lt;/artifactId&gt;\n  &lt;version&gt;4.5.6&lt;/version&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;unpack&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;artifactItems&gt;\n                &lt;artifactItem&gt;\n                  &lt;groupId&gt;com.foo&lt;/groupId&gt;\n                  &lt;artifactId&gt;foo-bar&lt;/artifactId&gt;\n                  &lt;outputDirectory&gt;${project.build.directory}/classes&lt;/outputDirectory&gt;\n                  &lt;!-- excludes are probably not necessary --&gt;\n                  &lt;!-- &lt;excludes&gt;**/Foo.class,**/Bar.class&lt;/excludes&gt; --&gt;\n                &lt;/artifactItem&gt;\n              &lt;/artifactItems&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.foo&lt;/groupId&gt;\n      &lt;artifactId&gt;foo-bar&lt;/artifactId&gt;\n      &lt;version&gt;4.5.6&lt;/version&gt;\n      &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7958465,"reputation":11,"user_id":6006966,"display_name":"Mac Wendelboe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701436083,"creation_date":1701435413,"answer_id":77585431,"question_id":31740919,"body_markdown":"This answer should really be a comment on Steve&#39;s own answer, but I do not have enough reputation points to write comments.\r\n\r\nSteve&#39;s own answer won&#39;t work, because \r\n\r\n```\r\n&lt;filter&gt;\r\n    &lt;artifact&gt;com.sun.xml.wss:xws-security:3.0&lt;/artifact&gt;\r\n    ...\r\n&lt;/filter&gt;\r\n```\r\n\r\nis an invalid reference, that the shade plugin won&#39;t be able to resolve. According to the [documentation](https://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html), the artifact composite identifier takes the form: `groupId:artifactId:type:classifier`, i.e. you cannot specify a version.\r\n\r\nYou may leave out the version specifier (which is not understood anyway), but the filter will then apply to the dependent artifact as well as the build artifact, and you will either miss some files in the package, or the shade plugin will issue warnings about overlapping classes and resources in the two artifacts.\r\n\r\nA work-around may be to rename your artifact, e.g. `&lt;artifactId&gt;xws-security-java8-fix&lt;/artifactId&gt;`, so it won&#39;t clash with the dependency. Then you may rename the result artifact back with the following configuration sections on the shade plugin:\r\n\r\n```\r\n&lt;shadedArtifactId&gt;xws-security&lt;/shadedArtifactId&gt;\r\n&lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n```\r\n\r\nYou probably also want this:\r\n\r\n```\r\n&lt;promoteTransitiveDependencies&gt;true&lt;/promoteTransitiveDependencies&gt;\r\n```\r\n\r\nThis solution is usable. But it is not very satisfactory, since the changing artifact ID confuses Maven, so Maven cannot resolve the artifact before it is installed.\r\n\r\nBy the way, installing such an artifact is also not straight forward. This use of the install plugin may do the trick:\r\n\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.1&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;default-install&lt;/id&gt;\r\n            &lt;goals&gt;&lt;goal&gt;install&lt;/goal&gt;&lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;skip&gt;true&lt;/skip&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;custom-install&lt;/id&gt;\r\n            &lt;phase&gt;install&lt;/phase&gt;\r\n            &lt;goals&gt;&lt;goal&gt;install-file&lt;/goal&gt;&lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;file&gt;${project.build.directory}/xws-security-${project.version}-shaded.jar&lt;/file&gt;\r\n                &lt;pomFile&gt;${project.basedir}/dependency-reduced-pom.xml&lt;/pomFile&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```","title":"How do you replace the class of a Maven dependency?","body":"<p>This answer should really be a comment on Steve's own answer, but I do not have enough reputation points to write comments.</p>\n<p>Steve's own answer won't work, because</p>\n<pre><code>&lt;filter&gt;\n    &lt;artifact&gt;com.sun.xml.wss:xws-security:3.0&lt;/artifact&gt;\n    ...\n&lt;/filter&gt;\n</code></pre>\n<p>is an invalid reference, that the shade plugin won't be able to resolve. According to the <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html\" rel=\"nofollow noreferrer\">documentation</a>, the artifact composite identifier takes the form: <code>groupId:artifactId:type:classifier</code>, i.e. you cannot specify a version.</p>\n<p>You may leave out the version specifier (which is not understood anyway), but the filter will then apply to the dependent artifact as well as the build artifact, and you will either miss some files in the package, or the shade plugin will issue warnings about overlapping classes and resources in the two artifacts.</p>\n<p>A work-around may be to rename your artifact, e.g. <code>&lt;artifactId&gt;xws-security-java8-fix&lt;/artifactId&gt;</code>, so it won't clash with the dependency. Then you may rename the result artifact back with the following configuration sections on the shade plugin:</p>\n<pre><code>&lt;shadedArtifactId&gt;xws-security&lt;/shadedArtifactId&gt;\n&lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n</code></pre>\n<p>You probably also want this:</p>\n<pre><code>&lt;promoteTransitiveDependencies&gt;true&lt;/promoteTransitiveDependencies&gt;\n</code></pre>\n<p>This solution is usable. But it is not very satisfactory, since the changing artifact ID confuses Maven, so Maven cannot resolve the artifact before it is installed.</p>\n<p>By the way, installing such an artifact is also not straight forward. This use of the install plugin may do the trick:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;default-install&lt;/id&gt;\n            &lt;goals&gt;&lt;goal&gt;install&lt;/goal&gt;&lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;skip&gt;true&lt;/skip&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;custom-install&lt;/id&gt;\n            &lt;phase&gt;install&lt;/phase&gt;\n            &lt;goals&gt;&lt;goal&gt;install-file&lt;/goal&gt;&lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;file&gt;${project.build.directory}/xws-security-${project.version}-shaded.jar&lt;/file&gt;\n                &lt;pomFile&gt;${project.basedir}/dependency-reduced-pom.xml&lt;/pomFile&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":5840876,"reputation":933,"user_id":4602524,"accept_rate":71,"display_name":"Steve S."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14500,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":31742386,"answer_count":4,"score":15,"last_activity_date":1701436083,"creation_date":1438329167,"question_id":31740919,"body_markdown":"There is a class in a maven dependency that is incompatible with Java 8. \r\n\r\nHow do you properly fix that problem? \r\n\r\nRight now I&#39;m doing the following: \r\n\r\n1. Create a package with the same name\r\n2. Create a class with the same name in that package\r\n3. Copy and paste the code\r\n4. Fix the incompatible API call\r\n\r\nThe problem is that this class contains API calls to restricted classes and although I changed the Eclipse compiler settings (Window -&gt; Preferences -&gt; Java -&gt; Compiler -&gt; Error/Warnings -&gt; Deprecated and restricted API -&gt; Forbidden reference (access rule): Error -&gt; Warning) to allow access the project will only compile sometimes. If it doesn&#39;t compile I&#39;ll get a &quot;can&#39;t find symbol&quot; error.\r\n\r\n\r\nEdit:\r\n\r\nHere are the details you asked for:\r\n\r\n- Dependency: http://mvnrepository.com/artifact/com.sun.xml.wss/xws-security/3.0\r\n\r\n- Class: EncryptionProcessor\r\n\r\n- Necessary change:\r\n\r\n        // Change line 1053 FROM: \r\n        // _dataEncryptor = XMLCipher.getInstance(dataEncAlgo, _dataCipher); \r\n        // TO:\r\n        _dataEncryptor = XMLCipher.getInstance(dataEncAlgo); \r\n\r\n\r\nEdit-2:\r\n\r\nMaven build error:\r\n\r\n     [ERROR] symbol:   class XMLCipher\r\n     [ERROR] location: class com.sun.xml.wss.impl.apachecrypto.EncryptionProcessor\r\n     [ERROR] /C:/Users/{name}/development/eclipse_workspace/git/xws-security/src/main/java/com/sun/xml/wss/impl/apachecrypto/EncryptionProcessor.java:[1482,98] cannot find symbol","title":"How do you replace the class of a Maven dependency?","body":"<p>There is a class in a maven dependency that is incompatible with Java 8. </p>\n\n<p>How do you properly fix that problem? </p>\n\n<p>Right now I'm doing the following: </p>\n\n<ol>\n<li>Create a package with the same name</li>\n<li>Create a class with the same name in that package</li>\n<li>Copy and paste the code</li>\n<li>Fix the incompatible API call</li>\n</ol>\n\n<p>The problem is that this class contains API calls to restricted classes and although I changed the Eclipse compiler settings (Window -> Preferences -> Java -> Compiler -> Error/Warnings -> Deprecated and restricted API -> Forbidden reference (access rule): Error -> Warning) to allow access the project will only compile sometimes. If it doesn't compile I'll get a \"can't find symbol\" error.</p>\n\n<p>Edit:</p>\n\n<p>Here are the details you asked for:</p>\n\n<ul>\n<li><p>Dependency: <a href=\"http://mvnrepository.com/artifact/com.sun.xml.wss/xws-security/3.0\" rel=\"noreferrer\">http://mvnrepository.com/artifact/com.sun.xml.wss/xws-security/3.0</a></p></li>\n<li><p>Class: EncryptionProcessor</p></li>\n<li><p>Necessary change:</p>\n\n<pre><code>// Change line 1053 FROM: \n// _dataEncryptor = XMLCipher.getInstance(dataEncAlgo, _dataCipher); \n// TO:\n_dataEncryptor = XMLCipher.getInstance(dataEncAlgo); \n</code></pre></li>\n</ul>\n\n<p>Edit-2:</p>\n\n<p>Maven build error:</p>\n\n<pre><code> [ERROR] symbol:   class XMLCipher\n [ERROR] location: class com.sun.xml.wss.impl.apachecrypto.EncryptionProcessor\n [ERROR] /C:/Users/{name}/development/eclipse_workspace/git/xws-security/src/main/java/com/sun/xml/wss/impl/apachecrypto/EncryptionProcessor.java:[1482,98] cannot find symbol\n</code></pre>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":2,"creation_date":1701382736,"post_id":77581977,"comment_id":136772322,"body_markdown":"Can you please share the full stack trace?","body":"Can you please share the full stack trace?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1701408153,"post_id":77581977,"comment_id":136774481,"body_markdown":"&quot;I am not sure from where this method is getting invoked (XSSFReader.getSharedStringsTable())&quot;: The full stack trace will show you this.","body":"&quot;I am not sure from where this method is getting invoked (XSSFReader.getSharedStringsTable())&quot;: The full stack trace will show you this."},{"owner":{"account_id":17294865,"reputation":64,"user_id":12525755,"display_name":"Vasanth"},"score":0,"creation_date":1701435475,"post_id":77581977,"comment_id":136778307,"body_markdown":"Thanks everyone for your support. Unfortunately i did not get full stack trace. Finally i found the root cause, the particular method is invoked by one of the third party jar. I will explain the details in the answer.","body":"Thanks everyone for your support. Unfortunately i did not get full stack trace. Finally i found the root cause, the particular method is invoked by one of the third party jar. I will explain the details in the answer."}],"answers":[{"tags":[],"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701389041,"creation_date":1701389041,"answer_id":77582350,"question_id":77581977,"body_markdown":"In 5.2.4 that method&#39;s signature has changed.  It returns an instance implementing the `SharedStrings` interface, not a concrete `SharedStringsTable`.  \r\n\r\nYou would have seen this if you looked at the [Javadoc](https://javadoc.io/doc/org.apache.poi/poi-ooxml/5.2.4/index.html) \r\n\r\nThis appears to be a change introduced in 5.2.0.","title":"java.lang.NoSuchMethodError: org.apache.poi.xssf.eventusermodel.XSSFReader.getSharedStringsTable()Lorg/apache/poi/xssf/model/SharedStringsTable","body":"<p>In 5.2.4 that method's signature has changed.  It returns an instance implementing the <code>SharedStrings</code> interface, not a concrete <code>SharedStringsTable</code>.</p>\n<p>You would have seen this if you looked at the <a href=\"https://javadoc.io/doc/org.apache.poi/poi-ooxml/5.2.4/index.html\" rel=\"nofollow noreferrer\">Javadoc</a></p>\n<p>This appears to be a change introduced in 5.2.0.</p>\n"},{"tags":[],"owner":{"account_id":17294865,"reputation":64,"user_id":12525755,"display_name":"Vasanth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701435763,"creation_date":1701435763,"answer_id":77585460,"question_id":77581977,"body_markdown":"I did some analysis and identified the root cause of this issue. \r\n\r\nXSSFReader.getSharedStringsTable() is not invoked from our source\r\nActually, it&#39;s invoked by another third-party jar called **org.openl.rules-5.22.7**, also it&#39;s expecting the return type as SharedStringsTable. \r\n\r\nI will try to upgrade the openl.rules jar as the current version is not compatible with the **org.apache.poi-poi-ooxml-5.2.4** [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nqvzr.png","title":"java.lang.NoSuchMethodError: org.apache.poi.xssf.eventusermodel.XSSFReader.getSharedStringsTable()Lorg/apache/poi/xssf/model/SharedStringsTable","body":"<p>I did some analysis and identified the root cause of this issue.</p>\n<p>XSSFReader.getSharedStringsTable() is not invoked from our source\nActually, it's invoked by another third-party jar called <strong>org.openl.rules-5.22.7</strong>, also it's expecting the return type as SharedStringsTable.</p>\n<p>I will try to upgrade the openl.rules jar as the current version is not compatible with the <strong>org.apache.poi-poi-ooxml-5.2.4</strong> <a href=\"https://i.stack.imgur.com/nqvzr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nqvzr.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":17294865,"reputation":64,"user_id":12525755,"display_name":"Vasanth"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1701435763,"creation_date":1701382232,"question_id":77581977,"body_markdown":"I have upgraded the **org.apache.poi-poi-ooxml-4.1.2** to **5.2.4** to fix few vulnerability issues. \r\n\r\nAfter that I got an error mentioned [here][1] and fixed it by adding a dependency **commons-io.commons-io-2.13.0**.\r\n\r\n  [1]: https://stackoverflow.com/questions/77256330/java-lang-nosuchmethoderror-org-apache-commons-io-output-unsynchronizedbytearr\r\n\r\nNow I am getting another exception mentioned below.\r\n\r\n    java.lang.NoSuchMethodError: org.apache.poi.xssf.eventusermodel.XSSFReader.getSharedStringsTable()Lorg/apache/poi/xssf/model/SharedStringsTable;\r\n\r\nI could see the method getSharedStringsTable() in XSSFReader class of poi-ooxml-5.2.4 , but the return type is not SharedStringsTable, its SharedStrings. \r\n\r\nI am not sure from where this method is getting invoked (XSSFReader.getSharedStringsTable()) and why its expecting the return type as SharedStringsTable. \r\n\r\nAnyone faced the similar issue? Do i need to upgrade any other dependency? \r\n","title":"java.lang.NoSuchMethodError: org.apache.poi.xssf.eventusermodel.XSSFReader.getSharedStringsTable()Lorg/apache/poi/xssf/model/SharedStringsTable","body":"<p>I have upgraded the <strong>org.apache.poi-poi-ooxml-4.1.2</strong> to <strong>5.2.4</strong> to fix few vulnerability issues.</p>\n<p>After that I got an error mentioned <a href=\"https://stackoverflow.com/questions/77256330/java-lang-nosuchmethoderror-org-apache-commons-io-output-unsynchronizedbytearr\">here</a> and fixed it by adding a dependency <strong>commons-io.commons-io-2.13.0</strong>.</p>\n<p>Now I am getting another exception mentioned below.</p>\n<pre><code>java.lang.NoSuchMethodError: org.apache.poi.xssf.eventusermodel.XSSFReader.getSharedStringsTable()Lorg/apache/poi/xssf/model/SharedStringsTable;\n</code></pre>\n<p>I could see the method getSharedStringsTable() in XSSFReader class of poi-ooxml-5.2.4 , but the return type is not SharedStringsTable, its SharedStrings.</p>\n<p>I am not sure from where this method is getting invoked (XSSFReader.getSharedStringsTable()) and why its expecting the return type as SharedStringsTable.</p>\n<p>Anyone faced the similar issue? Do i need to upgrade any other dependency?</p>\n"},{"tags":["java","exception","encapsulation"],"comments":[{"owner":{"account_id":2846482,"reputation":1108,"user_id":2444725,"accept_rate":50,"display_name":"Lightman"},"score":0,"creation_date":1450618070,"post_id":1486077,"comment_id":56504223,"body_markdown":"[The characters in the string must all be decimal digits, except that the first character ...](https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt%28java.lang.String%29). Instead of handling exceptions everywhere in the code, just check the string format before calling the parse method.","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt%28java.lang.String%29\" rel=\"nofollow noreferrer\">The characters in the string must all be decimal digits, except that the first character ...</a>. Instead of handling exceptions everywhere in the code, just check the string format before calling the parse method."},{"owner":{"account_id":76597,"reputation":60197,"user_id":219159,"accept_rate":75,"display_name":"Seva Alekseyev"},"score":1,"creation_date":1571612590,"post_id":1486077,"comment_id":103288462,"body_markdown":"It&#39;s next to impossible to write a regex that will capture all valid 32-bit signed integers and none of the invalid ones. 2147483647 is a legal `int` while 2147483648 isn&#39;t.","body":"It&#39;s next to impossible to write a regex that will capture all valid 32-bit signed integers and none of the invalid ones. 2147483647 is a legal <code>int</code> while 2147483648 isn&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":1,"up_vote_count":160,"is_accepted":true,"score":159,"last_activity_date":1432847208,"creation_date":1254128577,"answer_id":1486082,"question_id":1486077,"body_markdown":"You could return an `Integer` instead of an `int`, returning `null` on parse failure.\r\n\r\nIt&#39;s a shame Java doesn&#39;t provide a way of doing this without there being an exception thrown internally though - you can hide the exception (by catching it and returning null), but it could still be a performance issue if you&#39;re parsing hundreds of thousands of bits of user-provided data.\r\n\r\nEDIT: Code for such a method:\r\n\r\n    public static Integer tryParse(String text) {\r\n      try {\r\n        return Integer.parseInt(text);\r\n      } catch (NumberFormatException e) {\r\n        return null;\r\n      }\r\n    }\r\n\r\nNote that I&#39;m not sure off the top of my head what this will do if `text` is null. You should consider that - if it represents a bug (i.e. your code may well pass an invalid value, but should never pass null) then throwing an exception is appropriate; if it doesn&#39;t represent a bug then you should probably just return null as you would for any other invalid value.\r\n\r\nOriginally this answer used the `new Integer(String)` constructor; it now uses `Integer.parseInt` and a boxing operation; in this way small values will end up being boxed to cached `Integer` objects, making it more efficient in those situations.","title":"Good way to encapsulate Integer.parseInt()","body":"<p>You could return an <code>Integer</code> instead of an <code>int</code>, returning <code>null</code> on parse failure.</p>\n\n<p>It's a shame Java doesn't provide a way of doing this without there being an exception thrown internally though - you can hide the exception (by catching it and returning null), but it could still be a performance issue if you're parsing hundreds of thousands of bits of user-provided data.</p>\n\n<p>EDIT: Code for such a method:</p>\n\n<pre><code>public static Integer tryParse(String text) {\n  try {\n    return Integer.parseInt(text);\n  } catch (NumberFormatException e) {\n    return null;\n  }\n}\n</code></pre>\n\n<p>Note that I'm not sure off the top of my head what this will do if <code>text</code> is null. You should consider that - if it represents a bug (i.e. your code may well pass an invalid value, but should never pass null) then throwing an exception is appropriate; if it doesn't represent a bug then you should probably just return null as you would for any other invalid value.</p>\n\n<p>Originally this answer used the <code>new Integer(String)</code> constructor; it now uses <code>Integer.parseInt</code> and a boxing operation; in this way small values will end up being boxed to cached <code>Integer</code> objects, making it more efficient in those situations.</p>\n"},{"tags":[],"owner":{"account_id":60253,"reputation":26399,"user_id":180043,"accept_rate":100,"display_name":"Adam Maras"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1254129004,"creation_date":1254129004,"answer_id":1486102,"question_id":1486077,"body_markdown":"My Java is a little rusty, but let me see if I can point you in the right direction:\r\n\r\n    public class Converter {\r\n\r\n        public static Integer parseInt(String str) {\r\n            Integer n = null;\r\n\r\n            try {\r\n                n = new Integer(Integer.tryParse(str));\r\n            } catch (NumberFormatException ex) {\r\n                // leave n null, the string is invalid\r\n            }\r\n\r\n            return n;\r\n        }\r\n\r\n    }\r\nIf your return value is `null`, you have a bad value. Otherwise, you have a valid `Integer`.","title":"Good way to encapsulate Integer.parseInt()","body":"<p>My Java is a little rusty, but let me see if I can point you in the right direction:</p>\n\n<pre><code>public class Converter {\n\n    public static Integer parseInt(String str) {\n        Integer n = null;\n\n        try {\n            n = new Integer(Integer.tryParse(str));\n        } catch (NumberFormatException ex) {\n            // leave n null, the string is invalid\n        }\n\n        return n;\n    }\n\n}\n</code></pre>\n\n<p>If your return value is <code>null</code>, you have a bad value. Otherwise, you have a valid <code>Integer</code>.</p>\n"},{"tags":[],"owner":{"account_id":51856,"reputation":8054,"user_id":154949,"accept_rate":76,"display_name":"yawn"},"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1254130282,"creation_date":1254129425,"answer_id":1486124,"question_id":1486077,"body_markdown":"You can use a Null-Object like so:\r\n\r\n\tpublic class Convert {\r\n\r\n\t    @SuppressWarnings({&quot;UnnecessaryBoxing&quot;})\r\n        public static final Integer NULL = new Integer(0);\r\n\r\n\t    public static Integer convert(String integer) {\r\n\r\n\t        try {\r\n\t            return Integer.valueOf(integer);\r\n\t        } catch (NumberFormatException e) {\r\n\t            return NULL;\r\n\t        }\r\n\r\n\t    }\r\n\r\n\t    public static void main(String[] args) {\r\n\r\n\t        Integer a = convert(&quot;123&quot;);\r\n\t        System.out.println(&quot;a.equals(123) = &quot; + a.equals(123));\r\n\t        System.out.println(&quot;a == NULL &quot; + (a == NULL));\r\n\r\n\t        Integer b = convert(&quot;onetwothree&quot;);\r\n\t        System.out.println(&quot;b.equals(123) = &quot; + b.equals(123));\r\n\t        System.out.println(&quot;b == NULL &quot; + (b == NULL));\r\n\r\n\t\t\tInteger c = convert(&quot;0&quot;);\r\n\t\t\tSystem.out.println(&quot;equals(0) = &quot; + c.equals(0));\r\n\t\t\tSystem.out.println(&quot;c == NULL &quot; + (c == NULL));\r\n\r\n\t    }\r\n\r\n\t}\r\n\r\nThe result of *main* in this example is:\r\n\r\n\ta.equals(123) = true\r\n\ta == NULL false\r\n\tb.equals(123) = false\r\n\tb == NULL true\r\n\tc.equals(0) = true\r\n\tc == NULL false\r\n\r\nThis way you can always test for failed conversion but still work with the results as Integer instances. You might also want to tweak the number *NULL* represents (≠ 0).","title":"Good way to encapsulate Integer.parseInt()","body":"<p>You can use a Null-Object like so:</p>\n\n<pre><code>public class Convert {\n\n    @SuppressWarnings({\"UnnecessaryBoxing\"})\n    public static final Integer NULL = new Integer(0);\n\n    public static Integer convert(String integer) {\n\n        try {\n            return Integer.valueOf(integer);\n        } catch (NumberFormatException e) {\n            return NULL;\n        }\n\n    }\n\n    public static void main(String[] args) {\n\n        Integer a = convert(\"123\");\n        System.out.println(\"a.equals(123) = \" + a.equals(123));\n        System.out.println(\"a == NULL \" + (a == NULL));\n\n        Integer b = convert(\"onetwothree\");\n        System.out.println(\"b.equals(123) = \" + b.equals(123));\n        System.out.println(\"b == NULL \" + (b == NULL));\n\n        Integer c = convert(\"0\");\n        System.out.println(\"equals(0) = \" + c.equals(0));\n        System.out.println(\"c == NULL \" + (c == NULL));\n\n    }\n\n}\n</code></pre>\n\n<p>The result of <em>main</em> in this example is:</p>\n\n<pre><code>a.equals(123) = true\na == NULL false\nb.equals(123) = false\nb == NULL true\nc.equals(0) = true\nc == NULL false\n</code></pre>\n\n<p>This way you can always test for failed conversion but still work with the results as Integer instances. You might also want to tweak the number <em>NULL</em> represents (≠ 0).</p>\n"},{"tags":[],"owner":{"account_id":31970,"reputation":8917,"user_id":88165,"display_name":"Nikolay Ivanov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1440092871,"creation_date":1254133117,"answer_id":1486327,"question_id":1486077,"body_markdown":"May be you can use something like this:\r\n\r\n    public class Test {\r\n\tpublic interface Option&lt;T&gt; {\r\n\t\tT get();\r\n\r\n\t\tT getOrElse(T def);\r\n\r\n\t\tboolean hasValue();\r\n\t}\r\n\r\n\tfinal static class Some&lt;T&gt; implements Option&lt;T&gt; {\r\n\r\n\t\tprivate final T value;\r\n\r\n\t\tpublic Some(T value) {\r\n\t\t\tthis.value = value;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic T get() {\r\n\t\t\treturn value;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic T getOrElse(T def) {\r\n\t\t\treturn value;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic boolean hasValue() {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\r\n\tfinal static class None&lt;T&gt; implements Option&lt;T&gt; {\r\n\r\n\t\t@Override\r\n\t\tpublic T get() {\r\n\t\t\tthrow new UnsupportedOperationException();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic T getOrElse(T def) {\r\n\t\t\treturn def;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic boolean hasValue() {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic static Option&lt;Integer&gt; parseInt(String s) {\r\n\t\tOption&lt;Integer&gt; result = new None&lt;Integer&gt;();\r\n\t\ttry {\r\n\t\t\tInteger value = Integer.parseInt(s);\r\n\t\t\tresult = new Some&lt;Integer&gt;(value);\r\n\t\t} catch (NumberFormatException e) {\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n    }\r\n\r\n","title":"Good way to encapsulate Integer.parseInt()","body":"<p>May be you can use something like this:</p>\n\n<pre><code>public class Test {\npublic interface Option&lt;T&gt; {\n    T get();\n\n    T getOrElse(T def);\n\n    boolean hasValue();\n}\n\nfinal static class Some&lt;T&gt; implements Option&lt;T&gt; {\n\n    private final T value;\n\n    public Some(T value) {\n        this.value = value;\n    }\n\n    @Override\n    public T get() {\n        return value;\n    }\n\n    @Override\n    public T getOrElse(T def) {\n        return value;\n    }\n\n    @Override\n    public boolean hasValue() {\n        return true;\n    }\n}\n\nfinal static class None&lt;T&gt; implements Option&lt;T&gt; {\n\n    @Override\n    public T get() {\n        throw new UnsupportedOperationException();\n    }\n\n    @Override\n    public T getOrElse(T def) {\n        return def;\n    }\n\n    @Override\n    public boolean hasValue() {\n        return false;\n    }\n\n}\n\npublic static Option&lt;Integer&gt; parseInt(String s) {\n    Option&lt;Integer&gt; result = new None&lt;Integer&gt;();\n    try {\n        Integer value = Integer.parseInt(s);\n        result = new Some&lt;Integer&gt;(value);\n    } catch (NumberFormatException e) {\n    }\n    return result;\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"Wilian Z."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1254135975,"creation_date":1254135975,"answer_id":1486488,"question_id":1486077,"body_markdown":"You could also replicate the C++ behaviour that you want very simply\r\n\r\n    public static boolean parseInt(String str, int[] byRef) {\r\n        if(byRef==null) return false;\r\n        try {\r\n           byRef[0] = Integer.parseInt(prop);\r\n           return true;\r\n        } catch (NumberFormatException ex) {\r\n           return false;\r\n        }\r\n    }\r\n\r\n\r\nYou would use the method like so:\r\n\r\n    int[] byRef = new int[1];\r\n    boolean result = parseInt(&quot;123&quot;,byRef);\r\n\r\nAfter that the variable `result` it&#39;s true if everything went allright and `byRef[0]` contains the parsed value.\r\n\r\nPersonally, I would stick to catching the exception.\r\n","title":"Good way to encapsulate Integer.parseInt()","body":"<p>You could also replicate the C++ behaviour that you want very simply</p>\n\n<pre><code>public static boolean parseInt(String str, int[] byRef) {\n    if(byRef==null) return false;\n    try {\n       byRef[0] = Integer.parseInt(prop);\n       return true;\n    } catch (NumberFormatException ex) {\n       return false;\n    }\n}\n</code></pre>\n\n<p>You would use the method like so:</p>\n\n<pre><code>int[] byRef = new int[1];\nboolean result = parseInt(\"123\",byRef);\n</code></pre>\n\n<p>After that the variable <code>result</code> it's true if everything went allright and <code>byRef[0]</code> contains the parsed value.</p>\n\n<p>Personally, I would stick to catching the exception.</p>\n"},{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1254136360,"creation_date":1254136360,"answer_id":1486518,"question_id":1486077,"body_markdown":"After reading the answers to the question I think encapsulating or wrapping the parseInt method is not necessary, maybe even not a good idea.\r\n\r\nYou could return &#39;null&#39; as Jon suggested, but that&#39;s more or less replacing a try/catch construct by a null-check. There&#39;s just a slight difference on the behaviour if you &#39;forget&#39; error handling: if you don&#39;t catch the exception, there&#39;s no assignment and the left hand side variable keeps it old value. If you don&#39;t test for null, you&#39;ll probably get hit by the JVM (NPE).\r\n\r\nyawn&#39;s suggestion looks more elegant to me, because I do not like returning null to signal some errors or exceptional states. Now you have to check referential equality with a predefined object, that indicates a problem. But, as others argue, if again you &#39;forget&#39; to check and a String is unparsable, the program continous with the wrapped int inside your &#39;ERROR&#39; or &#39;NULL&#39; object.\r\n\r\nNikolay&#39;s solution is even more object orientated and will work with parseXXX methods from other wrapper classes aswell. But in the end, he just replaced the NumberFormatException by an OperationNotSupported exception - again you need a try/catch to handle unparsable inputs.\r\n\r\nSo, its my conclusion to not encapsulate the plain parseInt method. I&#39;d only encapsulate if I could add some (application depended) error handling as well.","title":"Good way to encapsulate Integer.parseInt()","body":"<p>After reading the answers to the question I think encapsulating or wrapping the parseInt method is not necessary, maybe even not a good idea.</p>\n\n<p>You could return 'null' as Jon suggested, but that's more or less replacing a try/catch construct by a null-check. There's just a slight difference on the behaviour if you 'forget' error handling: if you don't catch the exception, there's no assignment and the left hand side variable keeps it old value. If you don't test for null, you'll probably get hit by the JVM (NPE).</p>\n\n<p>yawn's suggestion looks more elegant to me, because I do not like returning null to signal some errors or exceptional states. Now you have to check referential equality with a predefined object, that indicates a problem. But, as others argue, if again you 'forget' to check and a String is unparsable, the program continous with the wrapped int inside your 'ERROR' or 'NULL' object.</p>\n\n<p>Nikolay's solution is even more object orientated and will work with parseXXX methods from other wrapper classes aswell. But in the end, he just replaced the NumberFormatException by an OperationNotSupported exception - again you need a try/catch to handle unparsable inputs.</p>\n\n<p>So, its my conclusion to not encapsulate the plain parseInt method. I'd only encapsulate if I could add some (application depended) error handling as well.</p>\n"},{"tags":[],"owner":{"account_id":17835,"reputation":303885,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1323659689,"creation_date":1254136397,"answer_id":1486521,"question_id":1486077,"body_markdown":"What behaviour do you expect when it&#39;s not a number?\r\n\r\nIf, for example, you often have a default value to use when the input is not a number, then a method such as this could be useful:\r\n\r\n    public static int parseWithDefault(String number, int defaultVal) {\r\n      try {\r\n        return Integer.parseInt(number);\r\n      } catch (NumberFormatException e) {\r\n        return defaultVal;\r\n      }\r\n    }\r\n\r\nSimilar methods can be written for different default behaviour when the input can&#39;t be parsed.","title":"Good way to encapsulate Integer.parseInt()","body":"<p>What behaviour do you expect when it's not a number?</p>\n\n<p>If, for example, you often have a default value to use when the input is not a number, then a method such as this could be useful:</p>\n\n<pre><code>public static int parseWithDefault(String number, int defaultVal) {\n  try {\n    return Integer.parseInt(number);\n  } catch (NumberFormatException e) {\n    return defaultVal;\n  }\n}\n</code></pre>\n\n<p>Similar methods can be written for different default behaviour when the input can't be parsed.</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1254138391,"creation_date":1254138391,"answer_id":1486643,"question_id":1486077,"body_markdown":"I would suggest you consider a method like\r\n\r\n     IntegerUtilities.isValidInteger(String s)\r\n\r\nwhich you then implement as you see fit.  If you want the result carried back - perhaps because you use Integer.parseInt() anyway - you can use the array trick.\r\n\r\n     IntegerUtilities.isValidInteger(String s, int[] result)\r\n\r\nwhere you set result[0] to the integer value found in the process.","title":"Good way to encapsulate Integer.parseInt()","body":"<p>I would suggest you consider a method like</p>\n\n<pre><code> IntegerUtilities.isValidInteger(String s)\n</code></pre>\n\n<p>which you then implement as you see fit.  If you want the result carried back - perhaps because you use Integer.parseInt() anyway - you can use the array trick.</p>\n\n<pre><code> IntegerUtilities.isValidInteger(String s, int[] result)\n</code></pre>\n\n<p>where you set result[0] to the integer value found in the process.</p>\n"},{"tags":[],"owner":{"account_id":56079,"reputation":7550,"user_id":167973,"accept_rate":82,"display_name":"Carl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1254148258,"creation_date":1254148258,"answer_id":1487358,"question_id":1486077,"body_markdown":"This is somewhat similar to Nikolay&#39;s solution:\r\n\r\n     private static class Box&lt;T&gt; {\r\n      T me;\r\n      public Box() {}\r\n      public T get() { return me; }\r\n      public void set(T fromParse) { me = fromParse; }\r\n     }\r\n     \r\n     private interface Parser&lt;T&gt; {\r\n      public void setExclusion(String regex);\r\n      public boolean isExcluded(String s);\r\n      public T parse(String s);\r\n     }\r\n     \r\n     public static &lt;T&gt; boolean parser(Box&lt;T&gt; ref, Parser&lt;T&gt; p, String toParse) {\r\n      if (!p.isExcluded(toParse)) {\r\n       ref.set(p.parse(toParse));\r\n       return true;\r\n      } else return false;\r\n     }\r\n    \r\n     public static void main(String args[]) {\r\n      Box&lt;Integer&gt; a = new Box&lt;Integer&gt;();\r\n      Parser&lt;Integer&gt; intParser = new Parser&lt;Integer&gt;() {\r\n       String myExclusion;\r\n       public void setExclusion(String regex) {\r\n        myExclusion = regex;\r\n       }\r\n       public boolean isExcluded(String s) {\r\n        return s.matches(myExclusion);\r\n       }\r\n       public Integer parse(String s) {\r\n        return new Integer(s);\r\n       }\r\n      };\r\n      intParser.setExclusion(&quot;\\\\D+&quot;);\r\n      if (parser(a,intParser,&quot;123&quot;)) System.out.println(a.get());\r\n      if (!parser(a,intParser,&quot;abc&quot;)) System.out.println(&quot;didn&#39;t parse &quot;+a.get());\r\n     }\r\n\r\nThe main method demos the code.  Another way to implement the Parser interface would obviously be to just set &quot;\\\\D+&quot; from construction, and have the methods do nothing.","title":"Good way to encapsulate Integer.parseInt()","body":"<p>This is somewhat similar to Nikolay's solution:</p>\n\n<pre><code> private static class Box&lt;T&gt; {\n  T me;\n  public Box() {}\n  public T get() { return me; }\n  public void set(T fromParse) { me = fromParse; }\n }\n\n private interface Parser&lt;T&gt; {\n  public void setExclusion(String regex);\n  public boolean isExcluded(String s);\n  public T parse(String s);\n }\n\n public static &lt;T&gt; boolean parser(Box&lt;T&gt; ref, Parser&lt;T&gt; p, String toParse) {\n  if (!p.isExcluded(toParse)) {\n   ref.set(p.parse(toParse));\n   return true;\n  } else return false;\n }\n\n public static void main(String args[]) {\n  Box&lt;Integer&gt; a = new Box&lt;Integer&gt;();\n  Parser&lt;Integer&gt; intParser = new Parser&lt;Integer&gt;() {\n   String myExclusion;\n   public void setExclusion(String regex) {\n    myExclusion = regex;\n   }\n   public boolean isExcluded(String s) {\n    return s.matches(myExclusion);\n   }\n   public Integer parse(String s) {\n    return new Integer(s);\n   }\n  };\n  intParser.setExclusion(\"\\\\D+\");\n  if (parser(a,intParser,\"123\")) System.out.println(a.get());\n  if (!parser(a,intParser,\"abc\")) System.out.println(\"didn't parse \"+a.get());\n }\n</code></pre>\n\n<p>The main method demos the code.  Another way to implement the Parser interface would obviously be to just set \"\\D+\" from construction, and have the methods do nothing.</p>\n"},{"tags":[],"owner":{"account_id":1068899,"reputation":9569,"user_id":1068649,"accept_rate":80,"display_name":"James Bassett"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1323120577,"creation_date":1323120577,"answer_id":8392139,"question_id":1486077,"body_markdown":"You *could* roll your own, but it&#39;s just as easy to use commons lang&#39;s `StringUtils.isNumeric()` [method][1]. It uses [Character.isDigit()][2] to iterate over each character in the String.\r\n\r\n\r\n  [1]: http://commons.apache.org/lang/api-3.1/org/apache/commons/lang3/StringUtils.html#isNumeric%28java.lang.CharSequence%29\r\n  [2]: http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Character.html#isDigit%28char%29","title":"Good way to encapsulate Integer.parseInt()","body":"<p>You <em>could</em> roll your own, but it's just as easy to use commons lang's <code>StringUtils.isNumeric()</code> <a href=\"http://commons.apache.org/lang/api-3.1/org/apache/commons/lang3/StringUtils.html#isNumeric%28java.lang.CharSequence%29\" rel=\"nofollow\">method</a>. It uses <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Character.html#isDigit%28char%29\" rel=\"nofollow\">Character.isDigit()</a> to iterate over each character in the String.</p>\n"},{"tags":[],"owner":{"account_id":1307258,"reputation":431,"user_id":1255983,"display_name":"Boboman"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1331261183,"creation_date":1331166472,"answer_id":9611270,"question_id":1486077,"body_markdown":"They way I handle this problem is recursively. For example when reading data from the console:\r\n\r\n    Java.util.Scanner keyboard = new Java.util.Scanner(System.in);\r\n\r\n    public int GetMyInt(){\r\n        int ret;\r\n        System.out.print(&quot;Give me an Int: &quot;);\r\n        try{\r\n            ret = Integer.parseInt(keyboard.NextLine());\r\n\r\n        }\r\n        catch(Exception e){\r\n            System.out.println(&quot;\\nThere was an error try again.\\n&quot;);\r\n            ret = GetMyInt();\r\n        }\r\n        return ret;\r\n    }\r\n\r\n\r\n","title":"Good way to encapsulate Integer.parseInt()","body":"<p>They way I handle this problem is recursively. For example when reading data from the console:</p>\n\n<pre><code>Java.util.Scanner keyboard = new Java.util.Scanner(System.in);\n\npublic int GetMyInt(){\n    int ret;\n    System.out.print(\"Give me an Int: \");\n    try{\n        ret = Integer.parseInt(keyboard.NextLine());\n\n    }\n    catch(Exception e){\n        System.out.println(\"\\nThere was an error try again.\\n\");\n        ret = GetMyInt();\n    }\n    return ret;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":170422,"reputation":6877,"user_id":1646752,"accept_rate":37,"display_name":"Josh Unger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366995277,"creation_date":1366994964,"answer_id":16241423,"question_id":1486077,"body_markdown":"To avoid an exception, you can use Java&#39;s `Format.parseObject` method. The code below is basically a simplified version of Apache Common&#39;s [IntegerValidator][1] class.\r\n\r\n\tpublic static boolean tryParse(String s, int[] result)\r\n\t{\r\n\t\tNumberFormat format = NumberFormat.getIntegerInstance();\r\n\t\tParsePosition position = new ParsePosition(0);\r\n\t\tObject parsedValue = format.parseObject(s, position);\r\n\t\t\r\n\t\tif (position.getErrorIndex() &gt; -1)\r\n\t\t{\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (position.getIndex() &lt; s.length())\r\n\t\t{\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tresult[0] = ((Long) parsedValue).intValue();\r\n\t\treturn true;\r\n\t}\r\n\r\nYou can either use `AtomicInteger` or the `int[]` array trick depending upon your preference.\r\n\r\nHere is my test that uses it -\r\n\r\n    int[] i = new int[1];\r\n    Assert.assertTrue(IntUtils.tryParse(&quot;123&quot;, i));\r\n    Assert.assertEquals(123, i[0]);\r\n\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-validator/apidocs/org/apache/commons/validator/routines/IntegerValidator.html","title":"Good way to encapsulate Integer.parseInt()","body":"<p>To avoid an exception, you can use Java's <code>Format.parseObject</code> method. The code below is basically a simplified version of Apache Common's <a href=\"http://commons.apache.org/proper/commons-validator/apidocs/org/apache/commons/validator/routines/IntegerValidator.html\" rel=\"nofollow\">IntegerValidator</a> class.</p>\n\n<pre><code>public static boolean tryParse(String s, int[] result)\n{\n    NumberFormat format = NumberFormat.getIntegerInstance();\n    ParsePosition position = new ParsePosition(0);\n    Object parsedValue = format.parseObject(s, position);\n\n    if (position.getErrorIndex() &gt; -1)\n    {\n        return false;\n    }\n\n    if (position.getIndex() &lt; s.length())\n    {\n        return false;\n    }\n\n    result[0] = ((Long) parsedValue).intValue();\n    return true;\n}\n</code></pre>\n\n<p>You can either use <code>AtomicInteger</code> or the <code>int[]</code> array trick depending upon your preference.</p>\n\n<p>Here is my test that uses it -</p>\n\n<pre><code>int[] i = new int[1];\nAssert.assertTrue(IntUtils.tryParse(\"123\", i));\nAssert.assertEquals(123, i[0]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":107449,"reputation":1422,"user_id":285701,"display_name":"Daddyboy"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1701435549,"creation_date":1377037411,"answer_id":18345926,"question_id":1486077,"body_markdown":"To avoid handling exceptions use a regular expression to make sure you have all digits first:\r\n   \r\n\r\n    // Checking for Regular expression that matches digits\r\n    if (value.match(&quot;\\\\d+&quot;)) {\r\n         Integer.parseInt(value);\r\n    }","title":"Good way to encapsulate Integer.parseInt()","body":"<p>To avoid handling exceptions use a regular expression to make sure you have all digits first:</p>\n<pre><code>// Checking for Regular expression that matches digits\nif (value.match(&quot;\\\\d+&quot;)) {\n     Integer.parseInt(value);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":396262,"reputation":867,"user_id":759719,"display_name":"Bryan W. Wagner"},"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1380307909,"creation_date":1380307450,"answer_id":19057910,"question_id":1486077,"body_markdown":"In some cases you should handle parsing errors as fail-fast situations, but in others cases, such as application configuration, I prefer to handle missing input with default values using [Apache Commons Lang 3 NumberUtils](http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/math/NumberUtils.html).\r\n\r\n    int port = NumberUtils.toInt(properties.getProperty(&quot;port&quot;), 8080);\r\n","title":"Good way to encapsulate Integer.parseInt()","body":"<p>In some cases you should handle parsing errors as fail-fast situations, but in others cases, such as application configuration, I prefer to handle missing input with default values using <a href=\"http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/math/NumberUtils.html\">Apache Commons Lang 3 NumberUtils</a>.</p>\n\n<pre><code>int port = NumberUtils.toInt(properties.getProperty(\"port\"), 8080);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8539,"reputation":14603,"user_id":15461,"accept_rate":71,"display_name":"husayt"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1489791034,"creation_date":1380823959,"answer_id":19166223,"question_id":1486077,"body_markdown":"There is `Ints.tryParse()` in [Guava][1]. It doesn&#39;t throw exception on non-numeric string, however it does throw exception on null string. \r\n\r\n\r\n  [1]: http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/primitives/Ints.html#tryParse-java.lang.String-","title":"Good way to encapsulate Integer.parseInt()","body":"<p>There is <code>Ints.tryParse()</code> in <a href=\"http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/primitives/Ints.html#tryParse-java.lang.String-\" rel=\"noreferrer\">Guava</a>. It doesn't throw exception on non-numeric string, however it does throw exception on null string. </p>\n"},{"tags":[],"owner":{"account_id":1987361,"reputation":138,"user_id":1782214,"display_name":"Abhinav Mathur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427614538,"creation_date":1426567074,"answer_id":29091366,"question_id":1486077,"body_markdown":"I was also having the same problem. This is a method I wrote to ask the user for an input and not accept the input unless its an integer. Please note that I am a beginner so if the code is not working as expected, blame my inexperience !\r\n\r\n    private int numberValue(String value, boolean val) throws IOException {\r\n        //prints the value passed by the code implementer\r\n\t\tSystem.out.println(value);\r\n        //returns 0 is val is passed as false\r\n\t\tObject num = 0;\r\n\t\twhile (val) {\r\n\t\t\tnum = br.readLine();\r\n\t\t\ttry {\r\n\t\t\t\tInteger numVal = Integer.parseInt((String) num);\r\n\t\t\t\tif (numVal instanceof Integer) {\r\n\t\t\t\t\tval = false;\r\n\t\t\t\t\tnum = numVal;\r\n\t\t\t\t}\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tSystem.out.println(&quot;Error. Please input a valid number :-&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn ((Integer) num).intValue();\r\n\t}","title":"Good way to encapsulate Integer.parseInt()","body":"<p>I was also having the same problem. This is a method I wrote to ask the user for an input and not accept the input unless its an integer. Please note that I am a beginner so if the code is not working as expected, blame my inexperience !</p>\n\n<pre><code>private int numberValue(String value, boolean val) throws IOException {\n    //prints the value passed by the code implementer\n    System.out.println(value);\n    //returns 0 is val is passed as false\n    Object num = 0;\n    while (val) {\n        num = br.readLine();\n        try {\n            Integer numVal = Integer.parseInt((String) num);\n            if (numVal instanceof Integer) {\n                val = false;\n                num = numVal;\n            }\n        } catch (Exception e) {\n            System.out.println(\"Error. Please input a valid number :-\");\n        }\n    }\n    return ((Integer) num).intValue();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":145570,"reputation":3550,"user_id":355461,"display_name":"Marc"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1468912299,"creation_date":1468912299,"answer_id":38451745,"question_id":1486077,"body_markdown":"The answer given by Jon Skeet is fine, but I don&#39;t like giving back a `null` Integer object. I find this confusing to use. Since Java 8 there is a better option (in my opinion), using the `OptionalInt`:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public static OptionalInt tryParse(String value) {\r\n     try {\r\n         return OptionalInt.of(Integer.parseInt(value));\r\n      } catch (NumberFormatException e) {\r\n         return OptionalInt.empty();\r\n      }\r\n    }\r\n\r\nThis makes it explicit that you have to handle the case where no value is available. I would prefer if this kind of function would be added to the java library in the future, but I don&#39;t know if that will ever happen.","title":"Good way to encapsulate Integer.parseInt()","body":"<p>The answer given by Jon Skeet is fine, but I don't like giving back a <code>null</code> Integer object. I find this confusing to use. Since Java 8 there is a better option (in my opinion), using the <code>OptionalInt</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static OptionalInt tryParse(String value) {\n try {\n     return OptionalInt.of(Integer.parseInt(value));\n  } catch (NumberFormatException e) {\n     return OptionalInt.empty();\n  }\n}\n</code></pre>\n\n<p>This makes it explicit that you have to handle the case where no value is available. I would prefer if this kind of function would be added to the java library in the future, but I don't know if that will ever happen.</p>\n"},{"tags":[],"owner":{"account_id":8997777,"reputation":43,"user_id":6707475,"display_name":"Peter Sulzer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471425939,"creation_date":1471345716,"answer_id":38973334,"question_id":1486077,"body_markdown":"This is an answer to question 8391979, &quot;Does java have a int.tryparse that doesn&#39;t throw an exception for bad data? [duplicate]&quot; which is closed and linked to this question.\r\n\r\nEdit 2016 08 17: Added ltrimZeroes methods and called them in tryParse(). Without leading zeroes in numberString may give false results (see comments in code). There is now also public static String ltrimZeroes(String numberString) method which works for positive and negative &quot;numbers&quot;(END Edit)\r\n\r\nBelow you find a rudimentary Wrapper (boxing) class for int with an highly speed optimized tryParse() method (similar as in C#) which parses the string itself and is a little bit faster than Integer.parseInt(String s) from Java:\r\n\r\n    public class IntBoxSimple {\r\n        // IntBoxSimple - Rudimentary class to implement a C#-like tryParse() method for int\r\n        // A full blown IntBox class implementation can be found in my Github project\r\n        // Copyright (c) 2016, Peter Sulzer, F&#252;rth\r\n        // Program is published under the GNU General Public License (GPL) Version 1 or newer\r\n        \r\n        protected int _n; // this &quot;boxes&quot; the int value\r\n    \r\n        // BEGIN The following statements are only executed at the\r\n        // first instantiation of an IntBox (i. e. only once) or\r\n        // already compiled into the code at compile time:\r\n        public static final int MAX_INT_LEN =\r\n                String.valueOf(Integer.MAX_VALUE).length();\r\n        public static final int MIN_INT_LEN =\r\n                String.valueOf(Integer.MIN_VALUE).length();\r\n        public static final int MAX_INT_LASTDEC =\r\n                Integer.parseInt(String.valueOf(Integer.MAX_VALUE).substring(1));\r\n        public static final int MAX_INT_FIRSTDIGIT =\r\n                Integer.parseInt(String.valueOf(Integer.MAX_VALUE).substring(0, 1));\r\n        public static final int MIN_INT_LASTDEC =\r\n                -Integer.parseInt(String.valueOf(Integer.MIN_VALUE).substring(2));\r\n        public static final int MIN_INT_FIRSTDIGIT =\r\n                Integer.parseInt(String.valueOf(Integer.MIN_VALUE).substring(1,2));\r\n        // END The following statements...\r\n    \r\n        // ltrimZeroes() methods added 2016 08 16 (are required by tryParse() methods)\r\n        public static String ltrimZeroes(String s) {\r\n            if (s.charAt(0) == &#39;-&#39;)\r\n                return ltrimZeroesNegative(s);\r\n            else\r\n                return ltrimZeroesPositive(s);\r\n        }\r\n        protected static String ltrimZeroesNegative(String s) {\r\n            int i=1;\r\n            for ( ; s.charAt(i) == &#39;0&#39;; i++);\r\n            return (&quot;-&quot;+s.substring(i));\r\n        }\r\n        protected static String ltrimZeroesPositive(String s) {\r\n            int i=0;\r\n            for ( ; s.charAt(i) == &#39;0&#39;; i++);\r\n            return (s.substring(i));\r\n        }\r\n    \r\n        public static boolean tryParse(String s,IntBoxSimple intBox) {\r\n            if (intBox == null)\r\n                // intBoxSimple=new IntBoxSimple(); // This doesn&#39;t work, as\r\n                // intBoxSimple itself is passed by value and cannot changed\r\n                // for the caller. I. e. &quot;out&quot;-arguments of C# cannot be simulated in Java.\r\n                return false; // so we simply return false\r\n            s=s.trim(); // leading and trailing whitespace is allowed for String s\r\n            int len=s.length();\r\n            int rslt=0, d, dfirst=0, i, j;\r\n            char c=s.charAt(0);\r\n            if (c == &#39;-&#39;) {\r\n                if (len &gt; MIN_INT_LEN) { // corrected (added) 2016 08 17\r\n                    s = ltrimZeroesNegative(s);\r\n                    len = s.length();\r\n                }\r\n                if (len &gt;= MIN_INT_LEN) {\r\n                    c = s.charAt(1);\r\n                    if (!Character.isDigit(c))\r\n                        return false;\r\n                    dfirst = c-&#39;0&#39;;\r\n                    if (len &gt; MIN_INT_LEN || dfirst &gt; MIN_INT_FIRSTDIGIT)\r\n                        return false;\r\n                }\r\n                for (i = len - 1, j = 1; i &gt;= 2; --i, j *= 10) {\r\n                    c = s.charAt(i);\r\n                    if (!Character.isDigit(c))\r\n                        return false;\r\n                    rslt -= (c-&#39;0&#39;)*j;\r\n                }\r\n                if (len &lt; MIN_INT_LEN) {\r\n                    c = s.charAt(i);\r\n                    if (!Character.isDigit(c))\r\n                        return false;\r\n                    rslt -= (c-&#39;0&#39;)*j;\r\n                } else {\r\n                    if (dfirst &gt;= MIN_INT_FIRSTDIGIT &amp;&amp; rslt &lt; MIN_INT_LASTDEC)\r\n                        return false;\r\n                    rslt -= dfirst * j;\r\n                }\r\n            } else {\r\n                if (len &gt; MAX_INT_LEN) { // corrected (added) 2016 08 16\r\n                    s = ltrimZeroesPositive(s);\r\n                    len=s.length();\r\n                }\r\n                if (len &gt;= MAX_INT_LEN) {\r\n                    c = s.charAt(0);\r\n                    if (!Character.isDigit(c))\r\n                        return false;\r\n                    dfirst = c-&#39;0&#39;;\r\n                    if (len &gt; MAX_INT_LEN || dfirst &gt; MAX_INT_FIRSTDIGIT)\r\n                        return false;\r\n                }\r\n                for (i = len - 1, j = 1; i &gt;= 1; --i, j *= 10) {\r\n                    c = s.charAt(i);\r\n                    if (!Character.isDigit(c))\r\n                        return false;\r\n                    rslt += (c-&#39;0&#39;)*j;\r\n                }\r\n                if (len &lt; MAX_INT_LEN) {\r\n                    c = s.charAt(i);\r\n                    if (!Character.isDigit(c))\r\n                        return false;\r\n                    rslt += (c-&#39;0&#39;)*j;\r\n                }\r\n                if (dfirst &gt;= MAX_INT_FIRSTDIGIT &amp;&amp; rslt &gt; MAX_INT_LASTDEC)\r\n                    return false;\r\n                rslt += dfirst*j;\r\n            }\r\n            intBox._n=rslt;\r\n            return true;\r\n        }\r\n    \r\n        // Get the value stored in an IntBoxSimple:\r\n        public int get_n() {\r\n            return _n;\r\n        }\r\n        public int v() { // alternative shorter version, v for &quot;value&quot;\r\n            return _n;\r\n        }\r\n        // Make objects of IntBoxSimple (needed as constructors are not public):\r\n        public static IntBoxSimple makeIntBoxSimple() {\r\n            return new IntBoxSimple();\r\n        }\r\n        public static IntBoxSimple makeIntBoxSimple(int integerNumber) {\r\n            return new IntBoxSimple(integerNumber);\r\n        }\r\n    \r\n        // constructors are not public(!=:\r\n        protected IntBoxSimple() {} {\r\n            _n=0; // default value an IntBoxSimple holds\r\n        }\r\n        protected IntBoxSimple(int integerNumber) {\r\n            _n=integerNumber;\r\n        }\r\n    }\r\n\r\n\r\nTest/example program for class IntBoxSimple:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    public class IntBoxSimpleTest {\r\n        public static void main (String args[]) {\r\n            IntBoxSimple ibs = IntBoxSimple.makeIntBoxSimple();\r\n            String in = null;\r\n            BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n            do {\r\n                System.out.printf(\r\n                        &quot;Enter an integer number in the range %d to %d:%n&quot;,\r\n                            Integer.MIN_VALUE, Integer.MAX_VALUE);\r\n                try { in = br.readLine(); } catch (IOException ex) {}\r\n            } while(! IntBoxSimple.tryParse(in, ibs));\r\n            System.out.printf(&quot;The number you have entered was: %d%n&quot;, ibs.v());\r\n        }\r\n    }\r\n\r\n","title":"Good way to encapsulate Integer.parseInt()","body":"<p>This is an answer to question 8391979, \"Does java have a int.tryparse that doesn't throw an exception for bad data? [duplicate]\" which is closed and linked to this question.</p>\n\n<p>Edit 2016 08 17: Added ltrimZeroes methods and called them in tryParse(). Without leading zeroes in numberString may give false results (see comments in code). There is now also public static String ltrimZeroes(String numberString) method which works for positive and negative \"numbers\"(END Edit)</p>\n\n<p>Below you find a rudimentary Wrapper (boxing) class for int with an highly speed optimized tryParse() method (similar as in C#) which parses the string itself and is a little bit faster than Integer.parseInt(String s) from Java:</p>\n\n<pre><code>public class IntBoxSimple {\n    // IntBoxSimple - Rudimentary class to implement a C#-like tryParse() method for int\n    // A full blown IntBox class implementation can be found in my Github project\n    // Copyright (c) 2016, Peter Sulzer, Fürth\n    // Program is published under the GNU General Public License (GPL) Version 1 or newer\n\n    protected int _n; // this \"boxes\" the int value\n\n    // BEGIN The following statements are only executed at the\n    // first instantiation of an IntBox (i. e. only once) or\n    // already compiled into the code at compile time:\n    public static final int MAX_INT_LEN =\n            String.valueOf(Integer.MAX_VALUE).length();\n    public static final int MIN_INT_LEN =\n            String.valueOf(Integer.MIN_VALUE).length();\n    public static final int MAX_INT_LASTDEC =\n            Integer.parseInt(String.valueOf(Integer.MAX_VALUE).substring(1));\n    public static final int MAX_INT_FIRSTDIGIT =\n            Integer.parseInt(String.valueOf(Integer.MAX_VALUE).substring(0, 1));\n    public static final int MIN_INT_LASTDEC =\n            -Integer.parseInt(String.valueOf(Integer.MIN_VALUE).substring(2));\n    public static final int MIN_INT_FIRSTDIGIT =\n            Integer.parseInt(String.valueOf(Integer.MIN_VALUE).substring(1,2));\n    // END The following statements...\n\n    // ltrimZeroes() methods added 2016 08 16 (are required by tryParse() methods)\n    public static String ltrimZeroes(String s) {\n        if (s.charAt(0) == '-')\n            return ltrimZeroesNegative(s);\n        else\n            return ltrimZeroesPositive(s);\n    }\n    protected static String ltrimZeroesNegative(String s) {\n        int i=1;\n        for ( ; s.charAt(i) == '0'; i++);\n        return (\"-\"+s.substring(i));\n    }\n    protected static String ltrimZeroesPositive(String s) {\n        int i=0;\n        for ( ; s.charAt(i) == '0'; i++);\n        return (s.substring(i));\n    }\n\n    public static boolean tryParse(String s,IntBoxSimple intBox) {\n        if (intBox == null)\n            // intBoxSimple=new IntBoxSimple(); // This doesn't work, as\n            // intBoxSimple itself is passed by value and cannot changed\n            // for the caller. I. e. \"out\"-arguments of C# cannot be simulated in Java.\n            return false; // so we simply return false\n        s=s.trim(); // leading and trailing whitespace is allowed for String s\n        int len=s.length();\n        int rslt=0, d, dfirst=0, i, j;\n        char c=s.charAt(0);\n        if (c == '-') {\n            if (len &gt; MIN_INT_LEN) { // corrected (added) 2016 08 17\n                s = ltrimZeroesNegative(s);\n                len = s.length();\n            }\n            if (len &gt;= MIN_INT_LEN) {\n                c = s.charAt(1);\n                if (!Character.isDigit(c))\n                    return false;\n                dfirst = c-'0';\n                if (len &gt; MIN_INT_LEN || dfirst &gt; MIN_INT_FIRSTDIGIT)\n                    return false;\n            }\n            for (i = len - 1, j = 1; i &gt;= 2; --i, j *= 10) {\n                c = s.charAt(i);\n                if (!Character.isDigit(c))\n                    return false;\n                rslt -= (c-'0')*j;\n            }\n            if (len &lt; MIN_INT_LEN) {\n                c = s.charAt(i);\n                if (!Character.isDigit(c))\n                    return false;\n                rslt -= (c-'0')*j;\n            } else {\n                if (dfirst &gt;= MIN_INT_FIRSTDIGIT &amp;&amp; rslt &lt; MIN_INT_LASTDEC)\n                    return false;\n                rslt -= dfirst * j;\n            }\n        } else {\n            if (len &gt; MAX_INT_LEN) { // corrected (added) 2016 08 16\n                s = ltrimZeroesPositive(s);\n                len=s.length();\n            }\n            if (len &gt;= MAX_INT_LEN) {\n                c = s.charAt(0);\n                if (!Character.isDigit(c))\n                    return false;\n                dfirst = c-'0';\n                if (len &gt; MAX_INT_LEN || dfirst &gt; MAX_INT_FIRSTDIGIT)\n                    return false;\n            }\n            for (i = len - 1, j = 1; i &gt;= 1; --i, j *= 10) {\n                c = s.charAt(i);\n                if (!Character.isDigit(c))\n                    return false;\n                rslt += (c-'0')*j;\n            }\n            if (len &lt; MAX_INT_LEN) {\n                c = s.charAt(i);\n                if (!Character.isDigit(c))\n                    return false;\n                rslt += (c-'0')*j;\n            }\n            if (dfirst &gt;= MAX_INT_FIRSTDIGIT &amp;&amp; rslt &gt; MAX_INT_LASTDEC)\n                return false;\n            rslt += dfirst*j;\n        }\n        intBox._n=rslt;\n        return true;\n    }\n\n    // Get the value stored in an IntBoxSimple:\n    public int get_n() {\n        return _n;\n    }\n    public int v() { // alternative shorter version, v for \"value\"\n        return _n;\n    }\n    // Make objects of IntBoxSimple (needed as constructors are not public):\n    public static IntBoxSimple makeIntBoxSimple() {\n        return new IntBoxSimple();\n    }\n    public static IntBoxSimple makeIntBoxSimple(int integerNumber) {\n        return new IntBoxSimple(integerNumber);\n    }\n\n    // constructors are not public(!=:\n    protected IntBoxSimple() {} {\n        _n=0; // default value an IntBoxSimple holds\n    }\n    protected IntBoxSimple(int integerNumber) {\n        _n=integerNumber;\n    }\n}\n</code></pre>\n\n<p>Test/example program for class IntBoxSimple:</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\npublic class IntBoxSimpleTest {\n    public static void main (String args[]) {\n        IntBoxSimple ibs = IntBoxSimple.makeIntBoxSimple();\n        String in = null;\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        do {\n            System.out.printf(\n                    \"Enter an integer number in the range %d to %d:%n\",\n                        Integer.MIN_VALUE, Integer.MAX_VALUE);\n            try { in = br.readLine(); } catch (IOException ex) {}\n        } while(! IntBoxSimple.tryParse(in, ibs));\n        System.out.printf(\"The number you have entered was: %d%n\", ibs.v());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2243116,"reputation":5530,"user_id":1977151,"accept_rate":40,"display_name":"Vlasec"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1473696668,"creation_date":1473696668,"answer_id":39454577,"question_id":1486077,"body_markdown":"What about **forking the parseInt** method?\r\n\r\nIt&#39;s easy, just copy-paste the contents to a new utility that returns `Integer` or `Optional&lt;Integer&gt;` and replace throws with returns. It seems there are no exceptions in the underlying code, *but better check*.\r\n\r\nBy skipping the whole exception handling stuff, you can save some time on invalid inputs. And the method is there since JDK 1.0, so it is not likely you will have to do much to keep it up-to-date.","title":"Good way to encapsulate Integer.parseInt()","body":"<p>What about <strong>forking the parseInt</strong> method?</p>\n\n<p>It's easy, just copy-paste the contents to a new utility that returns <code>Integer</code> or <code>Optional&lt;Integer&gt;</code> and replace throws with returns. It seems there are no exceptions in the underlying code, <em>but better check</em>.</p>\n\n<p>By skipping the whole exception handling stuff, you can save some time on invalid inputs. And the method is there since JDK 1.0, so it is not likely you will have to do much to keep it up-to-date.</p>\n"},{"tags":[],"owner":{"account_id":7411429,"reputation":78038,"user_id":5638630,"accept_rate":88,"display_name":"Krunal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501771753,"creation_date":1501759733,"answer_id":45482907,"question_id":1486077,"body_markdown":"Try with regular expression and default parameters argument\r\n\r\n    public static int parseIntWithDefault(String str, int defaultInt) {\r\n        return str.matches(&quot;-?\\\\d+&quot;) ? Integer.parseInt(str) : defaultInt;\r\n    }\r\n    \r\n    \r\n    int testId = parseIntWithDefault(&quot;1001&quot;, 0);\r\n    System.out.print(testId); // 1001\r\n    \r\n    int testId = parseIntWithDefault(&quot;test1001&quot;, 0);\r\n    System.out.print(testId); // 1001\r\n    \r\n    int testId = parseIntWithDefault(&quot;-1001&quot;, 0);\r\n    System.out.print(testId); // -1001\r\n    \r\n    int testId = parseIntWithDefault(&quot;test&quot;, 0);\r\n    System.out.print(testId); // 0\r\n\r\n\r\nif you&#39;re using apache.commons.lang3 then by using [NumberUtils][1]:\r\n\r\n    int testId = NumberUtils.toInt(&quot;test&quot;, 0);\r\n    System.out.print(testId); // 0\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/math/NumberUtils.html","title":"Good way to encapsulate Integer.parseInt()","body":"<p>Try with regular expression and default parameters argument</p>\n\n<pre><code>public static int parseIntWithDefault(String str, int defaultInt) {\n    return str.matches(\"-?\\\\d+\") ? Integer.parseInt(str) : defaultInt;\n}\n\n\nint testId = parseIntWithDefault(\"1001\", 0);\nSystem.out.print(testId); // 1001\n\nint testId = parseIntWithDefault(\"test1001\", 0);\nSystem.out.print(testId); // 1001\n\nint testId = parseIntWithDefault(\"-1001\", 0);\nSystem.out.print(testId); // -1001\n\nint testId = parseIntWithDefault(\"test\", 0);\nSystem.out.print(testId); // 0\n</code></pre>\n\n<p>if you're using apache.commons.lang3 then by using <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/math/NumberUtils.html\" rel=\"nofollow noreferrer\">NumberUtils</a>:</p>\n\n<pre><code>int testId = NumberUtils.toInt(\"test\", 0);\nSystem.out.print(testId); // 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":109351,"reputation":1467,"user_id":289782,"accept_rate":70,"display_name":"Searles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518705306,"creation_date":1518705306,"answer_id":48809707,"question_id":1486077,"body_markdown":"I would like to throw in another proposal that works if one specifically requests integers: Simply use long and use Long.MIN_VALUE for error cases. This is similar to the approach that is used for chars in Reader where Reader.read() returns an integer in the range of a char or -1 if the reader is empty.\r\n\r\nFor Float and Double, NaN can be used in a similar way.\r\n\r\n    public static long parseInteger(String s) {\r\n        try {\r\n            return Integer.parseInt(s);\r\n        } catch (NumberFormatException e) {\r\n            return Long.MIN_VALUE;\r\n        }\r\n    }\r\n\r\n\r\n    // ...\r\n    long l = parseInteger(&quot;ABC&quot;);\r\n    if (l == Long.MIN_VALUE) {\r\n        // ... error\r\n    } else {\r\n        int i = (int) l;\r\n    }","title":"Good way to encapsulate Integer.parseInt()","body":"<p>I would like to throw in another proposal that works if one specifically requests integers: Simply use long and use Long.MIN_VALUE for error cases. This is similar to the approach that is used for chars in Reader where Reader.read() returns an integer in the range of a char or -1 if the reader is empty.</p>\n\n<p>For Float and Double, NaN can be used in a similar way.</p>\n\n<pre><code>public static long parseInteger(String s) {\n    try {\n        return Integer.parseInt(s);\n    } catch (NumberFormatException e) {\n        return Long.MIN_VALUE;\n    }\n}\n\n\n// ...\nlong l = parseInteger(\"ABC\");\nif (l == Long.MIN_VALUE) {\n    // ... error\n} else {\n    int i = (int) l;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2689584,"reputation":460,"user_id":2323189,"display_name":"Bogdan Aksonenko"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1522276303,"creation_date":1522276303,"answer_id":49545211,"question_id":1486077,"body_markdown":"**You shouldn&#39;t use Exceptions to validate your values**.\r\n\r\nFor single character there is a simple solution:\r\n\r\n    Character.isDigit()\r\n\r\n\r\nFor longer values it&#39;s better to use some utils. NumberUtils provided by Apache would work perfectly here:\r\n\r\n    NumberUtils.isNumber()\r\n\r\nPlease check https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/math/NumberUtils.html","title":"Good way to encapsulate Integer.parseInt()","body":"<p><strong>You shouldn't use Exceptions to validate your values</strong>.</p>\n\n<p>For single character there is a simple solution:</p>\n\n<pre><code>Character.isDigit()\n</code></pre>\n\n<p>For longer values it's better to use some utils. NumberUtils provided by Apache would work perfectly here:</p>\n\n<pre><code>NumberUtils.isNumber()\n</code></pre>\n\n<p>Please check <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/math/NumberUtils.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/math/NumberUtils.html</a></p>\n"},{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1556452425,"creation_date":1556452425,"answer_id":55889996,"question_id":1486077,"body_markdown":"If you&#39;re using Java 8 or up, you can use a library I just released: https://github.com/robtimus/try-parse. It has support for int, long and boolean that doesn&#39;t rely on catching exceptions. Unlike Guava&#39;s Ints.tryParse it returns OptionalInt / OptionalLong / Optional&lt;Boolean&gt;, much like in https://stackoverflow.com/a/38451745/1180351 but more efficient.","title":"Good way to encapsulate Integer.parseInt()","body":"<p>If you're using Java 8 or up, you can use a library I just released: <a href=\"https://github.com/robtimus/try-parse\" rel=\"nofollow noreferrer\">https://github.com/robtimus/try-parse</a>. It has support for int, long and boolean that doesn't rely on catching exceptions. Unlike Guava's Ints.tryParse it returns OptionalInt / OptionalLong / Optional, much like in <a href=\"https://stackoverflow.com/a/38451745/1180351\">https://stackoverflow.com/a/38451745/1180351</a> but more efficient.</p>\n"},{"tags":[],"owner":{"account_id":3660223,"reputation":6093,"user_id":3050249,"display_name":"Miha_x64"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587079227,"creation_date":1587079227,"answer_id":61261708,"question_id":1486077,"body_markdown":"Considering existing answers, I&#39;ve copy-pasted and enhanced source code of `Integer.parseInt` to do the job, and my solution\r\n\r\n* does not use potentially slow try-catch (unlike [Lang 3 NumberUtils](https://github.com/apache/commons-lang/blob/02732d6132da6e720502f357e91e3937df76d8fa/src/main/java/org/apache/commons/lang3/math/NumberUtils.java#L128-L132)),\r\n* does not use regexps which can&#39;t catch too big numbers,\r\n* avoids boxing (unlike Guava&#39;s `Ints.tryParse()`),\r\n* does not require any allocations (unlike `int[]`, `Box`, `OptionalInt`),\r\n* accepts any `CharSequence` or a part of it instead of a whole `String`,\r\n* can use any radix which `Integer.parseInt` can, i.e. [2,36],\r\n* does not depend on any libraries.\r\n\r\n\r\nThe only downside is that there&#39;s no difference between `toIntOfDefault(&quot;-1&quot;, -1)` and `toIntOrDefault(&quot;oops&quot;, -1)`.\r\n\r\n```java\r\npublic static int toIntOrDefault(CharSequence s, int def) {\r\n    return toIntOrDefault0(s, 0, s.length(), 10, def);\r\n}\r\npublic static int toIntOrDefault(CharSequence s, int def, int radix) {\r\n    radixCheck(radix);\r\n    return toIntOrDefault0(s, 0, s.length(), radix, def);\r\n}\r\npublic static int toIntOrDefault(CharSequence s, int start, int endExclusive, int def) {\r\n    boundsCheck(start, endExclusive, s.length());\r\n    return toIntOrDefault0(s, start, endExclusive, 10, def);\r\n}\r\npublic static int toIntOrDefault(CharSequence s, int start, int endExclusive, int radix, int def) {\r\n    radixCheck(radix);\r\n    boundsCheck(start, endExclusive, s.length());\r\n    return toIntOrDefault0(s, start, endExclusive, radix, def);\r\n}\r\nprivate static int toIntOrDefault0(CharSequence s, int start, int endExclusive, int radix, int def) {\r\n    if (start == endExclusive) return def; // empty\r\n\r\n    boolean negative = false;\r\n    int limit = -Integer.MAX_VALUE;\r\n\r\n    char firstChar = s.charAt(start);\r\n    if (firstChar &lt; &#39;0&#39;) { // Possible leading &quot;+&quot; or &quot;-&quot;\r\n        if (firstChar == &#39;-&#39;) {\r\n            negative = true;\r\n            limit = Integer.MIN_VALUE;\r\n        } else if (firstChar != &#39;+&#39;) {\r\n            return def;\r\n        }\r\n\r\n        start++;\r\n        // Cannot have lone &quot;+&quot; or &quot;-&quot;\r\n        if (start == endExclusive) return def;\r\n    }\r\n    int multmin = limit / radix;\r\n    int result = 0;\r\n    while (start &lt; endExclusive) {\r\n        // Accumulating negatively avoids surprises near MAX_VALUE\r\n        int digit = Character.digit(s.charAt(start++), radix);\r\n        if (digit &lt; 0 || result &lt; multmin) return def;\r\n        result *= radix;\r\n        if (result &lt; limit + digit) return def;\r\n        result -= digit;\r\n    }\r\n    return negative ? result : -result;\r\n}\r\nprivate static void radixCheck(int radix) {\r\n    if (radix &lt; Character.MIN_RADIX || radix &gt; Character.MAX_RADIX)\r\n        throw new NumberFormatException(\r\n                &quot;radix=&quot; + radix + &quot; ∉ [&quot; +  Character.MIN_RADIX + &quot;,&quot; + Character.MAX_RADIX + &quot;]&quot;);\r\n}\r\nprivate static void boundsCheck(int start, int endExclusive, int len) {\r\n    if (start &lt; 0 || start &gt; len || start &gt; endExclusive)\r\n        throw new IndexOutOfBoundsException(&quot;start=&quot; + start + &quot; ∉ [0, min(&quot; + len + &quot;, &quot; + endExclusive + &quot;)]&quot;);\r\n    if (endExclusive &gt; len)\r\n        throw new IndexOutOfBoundsException(&quot;endExclusive=&quot; + endExclusive + &quot; &gt; s.length=&quot; + len);\r\n}\r\n```","title":"Good way to encapsulate Integer.parseInt()","body":"<p>Considering existing answers, I've copy-pasted and enhanced source code of <code>Integer.parseInt</code> to do the job, and my solution</p>\n\n<ul>\n<li>does not use potentially slow try-catch (unlike <a href=\"https://github.com/apache/commons-lang/blob/02732d6132da6e720502f357e91e3937df76d8fa/src/main/java/org/apache/commons/lang3/math/NumberUtils.java#L128-L132\" rel=\"nofollow noreferrer\">Lang 3 NumberUtils</a>),</li>\n<li>does not use regexps which can't catch too big numbers,</li>\n<li>avoids boxing (unlike Guava's <code>Ints.tryParse()</code>),</li>\n<li>does not require any allocations (unlike <code>int[]</code>, <code>Box</code>, <code>OptionalInt</code>),</li>\n<li>accepts any <code>CharSequence</code> or a part of it instead of a whole <code>String</code>,</li>\n<li>can use any radix which <code>Integer.parseInt</code> can, i.e. [2,36],</li>\n<li>does not depend on any libraries.</li>\n</ul>\n\n<p>The only downside is that there's no difference between <code>toIntOfDefault(\"-1\", -1)</code> and <code>toIntOrDefault(\"oops\", -1)</code>.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static int toIntOrDefault(CharSequence s, int def) {\n    return toIntOrDefault0(s, 0, s.length(), 10, def);\n}\npublic static int toIntOrDefault(CharSequence s, int def, int radix) {\n    radixCheck(radix);\n    return toIntOrDefault0(s, 0, s.length(), radix, def);\n}\npublic static int toIntOrDefault(CharSequence s, int start, int endExclusive, int def) {\n    boundsCheck(start, endExclusive, s.length());\n    return toIntOrDefault0(s, start, endExclusive, 10, def);\n}\npublic static int toIntOrDefault(CharSequence s, int start, int endExclusive, int radix, int def) {\n    radixCheck(radix);\n    boundsCheck(start, endExclusive, s.length());\n    return toIntOrDefault0(s, start, endExclusive, radix, def);\n}\nprivate static int toIntOrDefault0(CharSequence s, int start, int endExclusive, int radix, int def) {\n    if (start == endExclusive) return def; // empty\n\n    boolean negative = false;\n    int limit = -Integer.MAX_VALUE;\n\n    char firstChar = s.charAt(start);\n    if (firstChar &lt; '0') { // Possible leading \"+\" or \"-\"\n        if (firstChar == '-') {\n            negative = true;\n            limit = Integer.MIN_VALUE;\n        } else if (firstChar != '+') {\n            return def;\n        }\n\n        start++;\n        // Cannot have lone \"+\" or \"-\"\n        if (start == endExclusive) return def;\n    }\n    int multmin = limit / radix;\n    int result = 0;\n    while (start &lt; endExclusive) {\n        // Accumulating negatively avoids surprises near MAX_VALUE\n        int digit = Character.digit(s.charAt(start++), radix);\n        if (digit &lt; 0 || result &lt; multmin) return def;\n        result *= radix;\n        if (result &lt; limit + digit) return def;\n        result -= digit;\n    }\n    return negative ? result : -result;\n}\nprivate static void radixCheck(int radix) {\n    if (radix &lt; Character.MIN_RADIX || radix &gt; Character.MAX_RADIX)\n        throw new NumberFormatException(\n                \"radix=\" + radix + \" ∉ [\" +  Character.MIN_RADIX + \",\" + Character.MAX_RADIX + \"]\");\n}\nprivate static void boundsCheck(int start, int endExclusive, int len) {\n    if (start &lt; 0 || start &gt; len || start &gt; endExclusive)\n        throw new IndexOutOfBoundsException(\"start=\" + start + \" ∉ [0, min(\" + len + \", \" + endExclusive + \")]\");\n    if (endExclusive &gt; len)\n        throw new IndexOutOfBoundsException(\"endExclusive=\" + endExclusive + \" &gt; s.length=\" + len);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8554724,"reputation":683,"user_id":6410649,"display_name":"A. Mark&#243;czy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603442716,"creation_date":1603442716,"answer_id":64496801,"question_id":1486077,"body_markdown":"Maybe someone is looking for a more generic approach, since Java 8 there is the Package `java.util.function` that allows to define Supplier Functions. You could have a function that takes a supplier and a default value as follows:\r\n\r\n```java\r\npublic static &lt;T&gt; T tryGetOrDefault(Supplier&lt;T&gt; supplier, T defaultValue) {\r\n    try {\r\n        return supplier.get();\r\n    } catch (Exception e) {\r\n        return defaultValue;\r\n    }\r\n}\r\n```\r\n\r\nWith this function, you can execute any parsing method or even other methods that could throw an Exception while ensuring that no Exception can ever be thrown:\r\n\r\n```java\r\nInteger i = tryGetOrDefault(() -&gt; Integer.parseInt(stringValue), 0);\r\nLong l = tryGetOrDefault(() -&gt; Long.parseLong(stringValue), 0l);\r\nDouble d = tryGetOrDefault(() -&gt; Double.parseDouble(stringValue), 0d);\r\n```","title":"Good way to encapsulate Integer.parseInt()","body":"<p>Maybe someone is looking for a more generic approach, since Java 8 there is the Package <code>java.util.function</code> that allows to define Supplier Functions. You could have a function that takes a supplier and a default value as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; T tryGetOrDefault(Supplier&lt;T&gt; supplier, T defaultValue) {\n    try {\n        return supplier.get();\n    } catch (Exception e) {\n        return defaultValue;\n    }\n}\n</code></pre>\n<p>With this function, you can execute any parsing method or even other methods that could throw an Exception while ensuring that no Exception can ever be thrown:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer i = tryGetOrDefault(() -&gt; Integer.parseInt(stringValue), 0);\nLong l = tryGetOrDefault(() -&gt; Long.parseLong(stringValue), 0l);\nDouble d = tryGetOrDefault(() -&gt; Double.parseDouble(stringValue), 0d);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16914721,"reputation":21,"user_id":12232994,"display_name":"Andi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641288322,"creation_date":1641288322,"answer_id":70576568,"question_id":1486077,"body_markdown":"I know that this is quite an old question, but I was looking for a modern solution to solve that issue.\r\n\r\nI came up with the following solution:\r\n\r\n    public static OptionalInt tryParseInt(String string) {\r\n\t\ttry {\r\n\t\t\treturn OptionalInt.of(Integer.parseInt(string));\r\n\t\t} catch (NumberFormatException e) {\r\n\t\t\treturn OptionalInt.empty();\r\n\t\t}\r\n\t}\r\n\r\nUsage:\r\n\r\n    @Test\r\n\tpublic void testTryParseIntPositive() {\r\n\t\t// given\r\n\t\tint expected = 5;\r\n\t\tString value = &quot;&quot; + expected;\r\n\r\n\t\t// when\r\n\t\tOptionalInt optionalInt = tryParseInt(value);\r\n\r\n\t\t// then\r\n\t\tAssert.assertTrue(optionalInt.isPresent());\r\n\t\tAssert.assertEquals(expected, optionalInt.getAsInt());\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testTryParseIntNegative() {\r\n\t\t// given\r\n\t\tint expected = 5;\r\n\t\tString value = &quot;x&quot; + expected;\r\n\r\n\t\t// when\r\n\t\tOptionalInt optionalInt = tryParseInt(value);\r\n\r\n\t\t// then\r\n\t\tAssert.assertTrue(optionalInt.isEmpty());\r\n\t}","title":"Good way to encapsulate Integer.parseInt()","body":"<p>I know that this is quite an old question, but I was looking for a modern solution to solve that issue.</p>\n<p>I came up with the following solution:</p>\n<pre><code>public static OptionalInt tryParseInt(String string) {\n    try {\n        return OptionalInt.of(Integer.parseInt(string));\n    } catch (NumberFormatException e) {\n        return OptionalInt.empty();\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>@Test\npublic void testTryParseIntPositive() {\n    // given\n    int expected = 5;\n    String value = &quot;&quot; + expected;\n\n    // when\n    OptionalInt optionalInt = tryParseInt(value);\n\n    // then\n    Assert.assertTrue(optionalInt.isPresent());\n    Assert.assertEquals(expected, optionalInt.getAsInt());\n}\n\n@Test\npublic void testTryParseIntNegative() {\n    // given\n    int expected = 5;\n    String value = &quot;x&quot; + expected;\n\n    // when\n    OptionalInt optionalInt = tryParseInt(value);\n\n    // then\n    Assert.assertTrue(optionalInt.isEmpty());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15294318,"reputation":69,"user_id":11034928,"display_name":"REghZY"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665167735,"creation_date":1665165862,"answer_id":73991064,"question_id":1486077,"body_markdown":"I&#39;ve been using a helper class that contains a static Queue of parsed values, and I find it to look quite clean. This would be the helper class could look like:\r\n\r\n    public static class Parsing {\r\n        // Could optimise with specific queues for primitive types\r\n        // and also using a circular queue, instead of LinkedList\r\n        private static final Queue&lt;Number&gt; QUEUE = new LinkedList&lt;Number&gt;();\r\n    \r\n        public static boolean parseInt(String value) {\r\n            // Could implement custom integer parsing here, which does not throw\r\n            try {\r\n                QUEUE.offer(Integer.parseInt(value));\r\n                return true;\r\n            }\r\n            catch (Throwable ignored) {\r\n                return false;\r\n            }\r\n        }\r\n        public static int getInt() {\r\n            return QUEUE.remove().intValue(); // user&#39;s fault if this throws :)\r\n        }\r\n    }\r\n\r\nAnd then in code, you use it like this:\r\n\r\n    public Vector3 parseVector(String content) {\r\n        if (Parsing.parseInt(content)) {\r\n            return new Vector3(Parsing.getInt());\r\n        }\r\n        else {\r\n            String[] parts = content.split(&quot;,&quot;);\r\n            if (Parsing.parseInt(parts[0]) &amp;&amp; Parsing.parseInt(parts[1]) &amp;&amp; Parsing.parseInt(parts[2])) {\r\n                // the queue ensures these are in the same order they are parsed\r\n                return new Vector3(Parsing.getInt(), Parsing.getInt(), Parsing.getInt());\r\n            }\r\n            else {\r\n                throw new RuntimeException(&quot;Invalid Vector3&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nThe only problem with this, is that if you use multiple calls like i did above, but maybe the last one fails, then you&#39;d have to roll back or clear the queue\r\n\r\nEdit: You could remove the above problem and include some thread safely, by making the class non-static and, maybe for slightly cleaner code, make the class implement AutoCloseable so that you could do something like this:\r\n\r\n    public Vector3 parseVector(String content) {\r\n        try (Parsing parser = Parsing.of()) {\r\n            if (parser.parseInt(content)) {\r\n                return new Vector3(parser.getInt());\r\n            }\r\n            else {\r\n                String[] parts = content.split(&quot;,&quot;);\r\n                if (parser.parseInt(parts[0]) &amp;&amp; parser.parseInt(parts[1]) &amp;&amp; parser.parseInt(parts[2])) {\r\n                    // the queue ensures these are in the same order they are parsed\r\n                    return new Vector3(parser.getInt(), parser.getInt(), parser.getInt());\r\n                }\r\n                else {\r\n                    throw new RuntimeException(&quot;Invalid Vector3&quot;);\r\n                }\r\n            }   \r\n        }\r\n    }","title":"Good way to encapsulate Integer.parseInt()","body":"<p>I've been using a helper class that contains a static Queue of parsed values, and I find it to look quite clean. This would be the helper class could look like:</p>\n<pre><code>public static class Parsing {\n    // Could optimise with specific queues for primitive types\n    // and also using a circular queue, instead of LinkedList\n    private static final Queue&lt;Number&gt; QUEUE = new LinkedList&lt;Number&gt;();\n\n    public static boolean parseInt(String value) {\n        // Could implement custom integer parsing here, which does not throw\n        try {\n            QUEUE.offer(Integer.parseInt(value));\n            return true;\n        }\n        catch (Throwable ignored) {\n            return false;\n        }\n    }\n    public static int getInt() {\n        return QUEUE.remove().intValue(); // user's fault if this throws :)\n    }\n}\n</code></pre>\n<p>And then in code, you use it like this:</p>\n<pre><code>public Vector3 parseVector(String content) {\n    if (Parsing.parseInt(content)) {\n        return new Vector3(Parsing.getInt());\n    }\n    else {\n        String[] parts = content.split(&quot;,&quot;);\n        if (Parsing.parseInt(parts[0]) &amp;&amp; Parsing.parseInt(parts[1]) &amp;&amp; Parsing.parseInt(parts[2])) {\n            // the queue ensures these are in the same order they are parsed\n            return new Vector3(Parsing.getInt(), Parsing.getInt(), Parsing.getInt());\n        }\n        else {\n            throw new RuntimeException(&quot;Invalid Vector3&quot;);\n        }\n    }\n}\n</code></pre>\n<p>The only problem with this, is that if you use multiple calls like i did above, but maybe the last one fails, then you'd have to roll back or clear the queue</p>\n<p>Edit: You could remove the above problem and include some thread safely, by making the class non-static and, maybe for slightly cleaner code, make the class implement AutoCloseable so that you could do something like this:</p>\n<pre><code>public Vector3 parseVector(String content) {\n    try (Parsing parser = Parsing.of()) {\n        if (parser.parseInt(content)) {\n            return new Vector3(parser.getInt());\n        }\n        else {\n            String[] parts = content.split(&quot;,&quot;);\n            if (parser.parseInt(parts[0]) &amp;&amp; parser.parseInt(parts[1]) &amp;&amp; parser.parseInt(parts[2])) {\n                // the queue ensures these are in the same order they are parsed\n                return new Vector3(parser.getInt(), parser.getInt(), parser.getInt());\n            }\n            else {\n                throw new RuntimeException(&quot;Invalid Vector3&quot;);\n            }\n        }   \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":560872,"reputation":1123,"user_id":180209,"display_name":"Bad Horse"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254087,"favorite_count":0,"down_vote_count":0,"up_vote_count":112,"accepted_answer_id":1486082,"answer_count":27,"score":112,"last_activity_date":1701435549,"creation_date":1254128529,"question_id":1486077,"body_markdown":"I have a project in which we often use `Integer.parseInt()` to convert a String to an int. When something goes wrong (for example, the `String` is not a number but the letter `a`, or whatever) this method will throw an exception. However, if I have to handle exceptions in my code everywhere, this starts to look very ugly very quickly. I would like to put this in a method, however, I have no clue how to return a clean value in order to show that the conversion went wrong. \r\n\r\nIn C++ I could have created a method that accepted a pointer to an int and let the method itself return true or false. However, as far as I know, this is not possible in Java. I could also create an object that contains a true/false variable and the converted value, but this does not seem ideal either. The same thing goes for a global value, and this might give me some trouble with multithreading. \r\n\r\nSo is there a clean way to do this? ","title":"Good way to encapsulate Integer.parseInt()","body":"<p>I have a project in which we often use <code>Integer.parseInt()</code> to convert a String to an int. When something goes wrong (for example, the <code>String</code> is not a number but the letter <code>a</code>, or whatever) this method will throw an exception. However, if I have to handle exceptions in my code everywhere, this starts to look very ugly very quickly. I would like to put this in a method, however, I have no clue how to return a clean value in order to show that the conversion went wrong. </p>\n\n<p>In C++ I could have created a method that accepted a pointer to an int and let the method itself return true or false. However, as far as I know, this is not possible in Java. I could also create an object that contains a true/false variable and the converted value, but this does not seem ideal either. The same thing goes for a global value, and this might give me some trouble with multithreading. </p>\n\n<p>So is there a clean way to do this? </p>\n"},{"tags":["java","xquery","saxon"],"comments":[{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":0,"creation_date":1701428464,"post_id":77584676,"comment_id":136777155,"body_markdown":"You could enclose each result in an xml tag. Can you provide a sample input to test on ?","body":"You could enclose each result in an xml tag. Can you provide a sample input to test on ?"},{"owner":{"account_id":6642,"reputation":13384,"user_id":11249,"accept_rate":51,"display_name":"paul"},"score":0,"creation_date":1701430741,"post_id":77584676,"comment_id":136777548,"body_markdown":"@Aaron I have wondered about that but wanted to keep it simple. However, it might not be a bad idea: `&lt;r&gt;&lt;c name=&quot;Expected&quot; type=&quot;string&quot;&gt;$x/expectedValue/rawValue&lt;/c&gt;&lt;c `etc...","body":"@Aaron I have wondered about that but wanted to keep it simple. However, it might not be a bad idea: <code>&lt;r&gt;&lt;c name=&quot;Expected&quot; type=&quot;string&quot;&gt;$x&#47;expectedValue&#47;rawValue&lt;&#47;c&gt;&lt;c </code>etc..."},{"owner":{"account_id":91947,"reputation":161799,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1701432940,"post_id":77584676,"comment_id":136777865,"body_markdown":"You haven&#39;t really shown or explained what fails, the `XdmValue eval = evaluator.evaluate();` will give you an `XdmValue`, I don&#39;t know what you do afterwards or what the `XQueryResult` type is, but whether you process a sequence of three or four items should not break code trying to process a sequence of an arbitrary number of items. Of course in XQuery 3.1 with arrays and maps you are not bound to work with (always flat) sequences but could e.g. try to return a map with four properties where then on would have an empty sequence as the value.","body":"You haven&#39;t really shown or explained what fails, the <code>XdmValue eval = evaluator.evaluate();</code> will give you an <code>XdmValue</code>, I don&#39;t know what you do afterwards or what the <code>XQueryResult</code> type is, but whether you process a sequence of three or four items should not break code trying to process a sequence of an arbitrary number of items. Of course in XQuery 3.1 with arrays and maps you are not bound to work with (always flat) sequences but could e.g. try to return a map with four properties where then on would have an empty sequence as the value."},{"owner":{"account_id":6642,"reputation":13384,"user_id":11249,"accept_rate":51,"display_name":"paul"},"score":0,"creation_date":1701435504,"post_id":77584676,"comment_id":136778315,"body_markdown":"@MartinHonnen I added a bit more info to suggest what my approach is and why a problem occurs when an item is not added to the sequence. I wasn&#39;t aware of the map possibility but that would be better for me","body":"@MartinHonnen I added a bit more info to suggest what my approach is and why a problem occurs when an item is not added to the sequence. I wasn&#39;t aware of the map possibility but that would be better for me"}],"answers":[{"tags":[],"owner":{"account_id":91947,"reputation":161799,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701435035,"creation_date":1701435035,"answer_id":77585399,"question_id":77584676,"body_markdown":"Here is an example of returning a sequence of maps with four properties where the value of one property can be an empty sequence:\r\n\r\nInput XML:\r\n\r\n    &lt;root id=&quot;test-suite1&quot;&gt;\r\n      &lt;item&gt;\r\n        &lt;status&gt;passed&lt;/status&gt;\r\n        &lt;expected&gt;a&lt;/expected&gt;\r\n        &lt;returned&gt;a&lt;/returned&gt;\r\n      &lt;/item&gt;\r\n      &lt;item&gt;\r\n        &lt;status&gt;failed&lt;/status&gt;\r\n        &lt;expected&gt;d&lt;/expected&gt;\r\n        &lt;returned&gt;e&lt;/returned&gt;\r\n      &lt;/item&gt;\r\n     &lt;item&gt;\r\n        &lt;status&gt;failed&lt;/status&gt;\r\n        &lt;expected&gt;f&lt;/expected&gt;\r\n      &lt;/item&gt;\r\n    &lt;/root&gt;\r\n\r\nXQuery code:\r\n\r\n    declare namespace output = &#39;http://www.w3.org/2010/xslt-xquery-serialization&#39;;\r\n    \r\n    declare option output:method &#39;adaptive&#39;;\r\n    \r\n    for $item in root/item\r\n    return map {\r\n      &#39;id&#39; : /root/@id =&gt; data(),\r\n      &#39;status&#39; : $item/status =&gt; data(),\r\n      &#39;expected&#39; : $item/expected =&gt; data(),\r\n      &#39;returned&#39; : $item/returned =&gt; data()\r\n    }\r\n\r\nSerialized result:\r\n\r\n    map{&quot;returned&quot;:&quot;a&quot;,&quot;status&quot;:&quot;passed&quot;,&quot;expected&quot;:&quot;a&quot;,&quot;id&quot;:&quot;test-suite1&quot;}\r\n    map{&quot;returned&quot;:&quot;e&quot;,&quot;status&quot;:&quot;failed&quot;,&quot;expected&quot;:&quot;d&quot;,&quot;id&quot;:&quot;test-suite1&quot;}\r\n    map{&quot;returned&quot;:(),&quot;status&quot;:&quot;failed&quot;,&quot;expected&quot;:&quot;f&quot;,&quot;id&quot;:&quot;test-suite1&quot;}\r\n\r\n[Online example][1].\r\n\r\n\r\n  [1]: https://martin-honnen.github.io/cheerpj-saxon-worker/index-workbench.html?code=declare%20namespace%20output%20%3D%20%27http%3A%2F%2Fwww.w3.org%2F2010%2Fxslt-xquery-serialization%27%3B%0A%0Adeclare%20option%20output%3Amethod%20%27adaptive%27%3B%0A%0Afor%20%24item%20in%20root%2Fitem%0Areturn%20map%20%7B%0A%20%20%27id%27%20%3A%20%2Froot%2F%40id%20%3D%3E%20data%28%29%2C%0A%20%20%27status%27%20%3A%20%24item%2Fstatus%20%3D%3E%20data%28%29%2C%0A%20%20%27expected%27%20%3A%20%24item%2Fexpected%20%3D%3E%20data%28%29%2C%0A%20%20%27returned%27%20%3A%20%24item%2Freturned%20%3D%3E%20data%28%29%0A%7D%0A&amp;input=%3Croot%20id%3D%22test-suite1%22%3E%0A%20%20%3Citem%3E%0A%20%20%20%20%3Cstatus%3Epassed%3C%2Fstatus%3E%0A%20%20%20%20%3Cexpected%3Ea%3C%2Fexpected%3E%0A%20%20%20%20%3Creturned%3Ea%3C%2Freturned%3E%0A%20%20%3C%2Fitem%3E%0A%20%20%3Citem%3E%0A%20%20%20%20%3Cstatus%3Efailed%3C%2Fstatus%3E%0A%20%20%20%20%3Cexpected%3Ed%3C%2Fexpected%3E%0A%20%20%20%20%3Creturned%3Ee%3C%2Freturned%3E%0A%20%20%3C%2Fitem%3E%0A%20%3Citem%3E%0A%20%20%20%20%3Cstatus%3Efailed%3C%2Fstatus%3E%0A%20%20%20%20%3Cexpected%3Ef%3C%2Fexpected%3E%0A%20%20%3C%2Fitem%3E%0A%3C%2Froot%3E%0A&amp;code-type=XQuery&amp;input-type=XML","title":"How to handle multiple values returned by Saxon XQuery processor when one value is undefined?","body":"<p>Here is an example of returning a sequence of maps with four properties where the value of one property can be an empty sequence:</p>\n<p>Input XML:</p>\n<pre><code>&lt;root id=&quot;test-suite1&quot;&gt;\n  &lt;item&gt;\n    &lt;status&gt;passed&lt;/status&gt;\n    &lt;expected&gt;a&lt;/expected&gt;\n    &lt;returned&gt;a&lt;/returned&gt;\n  &lt;/item&gt;\n  &lt;item&gt;\n    &lt;status&gt;failed&lt;/status&gt;\n    &lt;expected&gt;d&lt;/expected&gt;\n    &lt;returned&gt;e&lt;/returned&gt;\n  &lt;/item&gt;\n &lt;item&gt;\n    &lt;status&gt;failed&lt;/status&gt;\n    &lt;expected&gt;f&lt;/expected&gt;\n  &lt;/item&gt;\n&lt;/root&gt;\n</code></pre>\n<p>XQuery code:</p>\n<pre><code>declare namespace output = 'http://www.w3.org/2010/xslt-xquery-serialization';\n\ndeclare option output:method 'adaptive';\n\nfor $item in root/item\nreturn map {\n  'id' : /root/@id =&gt; data(),\n  'status' : $item/status =&gt; data(),\n  'expected' : $item/expected =&gt; data(),\n  'returned' : $item/returned =&gt; data()\n}\n</code></pre>\n<p>Serialized result:</p>\n<pre><code>map{&quot;returned&quot;:&quot;a&quot;,&quot;status&quot;:&quot;passed&quot;,&quot;expected&quot;:&quot;a&quot;,&quot;id&quot;:&quot;test-suite1&quot;}\nmap{&quot;returned&quot;:&quot;e&quot;,&quot;status&quot;:&quot;failed&quot;,&quot;expected&quot;:&quot;d&quot;,&quot;id&quot;:&quot;test-suite1&quot;}\nmap{&quot;returned&quot;:(),&quot;status&quot;:&quot;failed&quot;,&quot;expected&quot;:&quot;f&quot;,&quot;id&quot;:&quot;test-suite1&quot;}\n</code></pre>\n<p><a href=\"https://martin-honnen.github.io/cheerpj-saxon-worker/index-workbench.html?code=declare%20namespace%20output%20%3D%20%27http%3A%2F%2Fwww.w3.org%2F2010%2Fxslt-xquery-serialization%27%3B%0A%0Adeclare%20option%20output%3Amethod%20%27adaptive%27%3B%0A%0Afor%20%24item%20in%20root%2Fitem%0Areturn%20map%20%7B%0A%20%20%27id%27%20%3A%20%2Froot%2F%40id%20%3D%3E%20data%28%29%2C%0A%20%20%27status%27%20%3A%20%24item%2Fstatus%20%3D%3E%20data%28%29%2C%0A%20%20%27expected%27%20%3A%20%24item%2Fexpected%20%3D%3E%20data%28%29%2C%0A%20%20%27returned%27%20%3A%20%24item%2Freturned%20%3D%3E%20data%28%29%0A%7D%0A&amp;input=%3Croot%20id%3D%22test-suite1%22%3E%0A%20%20%3Citem%3E%0A%20%20%20%20%3Cstatus%3Epassed%3C%2Fstatus%3E%0A%20%20%20%20%3Cexpected%3Ea%3C%2Fexpected%3E%0A%20%20%20%20%3Creturned%3Ea%3C%2Freturned%3E%0A%20%20%3C%2Fitem%3E%0A%20%20%3Citem%3E%0A%20%20%20%20%3Cstatus%3Efailed%3C%2Fstatus%3E%0A%20%20%20%20%3Cexpected%3Ed%3C%2Fexpected%3E%0A%20%20%20%20%3Creturned%3Ee%3C%2Freturned%3E%0A%20%20%3C%2Fitem%3E%0A%20%3Citem%3E%0A%20%20%20%20%3Cstatus%3Efailed%3C%2Fstatus%3E%0A%20%20%20%20%3Cexpected%3Ef%3C%2Fexpected%3E%0A%20%20%3C%2Fitem%3E%0A%3C%2Froot%3E%0A&amp;code-type=XQuery&amp;input-type=XML\" rel=\"nofollow noreferrer\">Online example</a>.</p>\n"},{"tags":[],"owner":{"account_id":529122,"reputation":158110,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1701435233,"creation_date":1701435233,"answer_id":77585416,"question_id":77584676,"body_markdown":"The &quot;,&quot; operator does sequence concatenation, which means empty sequences get lost: the result of `(&quot;a&quot;, (), &quot;b&quot;)` is `(&quot;a&quot;, &quot;b&quot;)`.\r\n\r\nOne solution would be to return an array instead of a sequence:\r\n\r\n    return [/*/operatorId, \r\n            $x/status, \r\n            $x/expectedValue/rawValue, \r\n            $x/inputValue/rawValue]\r\n\r\nYou should then be able to cast the result in the Java code to `XdmArray`, and convert this to a Java list of length 4 using `XdmArray.asList()`","title":"How to handle multiple values returned by Saxon XQuery processor when one value is undefined?","body":"<p>The &quot;,&quot; operator does sequence concatenation, which means empty sequences get lost: the result of <code>(&quot;a&quot;, (), &quot;b&quot;)</code> is <code>(&quot;a&quot;, &quot;b&quot;)</code>.</p>\n<p>One solution would be to return an array instead of a sequence:</p>\n<pre><code>return [/*/operatorId, \n        $x/status, \n        $x/expectedValue/rawValue, \n        $x/inputValue/rawValue]\n</code></pre>\n<p>You should then be able to cast the result in the Java code to <code>XdmArray</code>, and convert this to a Java list of length 4 using <code>XdmArray.asList()</code></p>\n"}],"owner":{"account_id":6642,"reputation":13384,"user_id":11249,"accept_rate":51,"display_name":"paul"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77585416,"answer_count":2,"score":0,"last_activity_date":1701435274,"creation_date":1701427363,"question_id":77584676,"body_markdown":"I am trying to use the Saxon HE XQuery processor in a Java app to perform ad-hoc queries on XML documents.\r\n\r\nFor example:\r\n\r\n```\r\nfor $x in //TestHistory[last()]/results/TestResult\r\nwhere $x/status = &#39;TestedFailed&#39;\r\nreturn (/*/operatorId, \r\n        $x/status, \r\n        $x/expectedValue/rawValue, \r\n        $x/inputValue/rawValue)\r\n```\r\n\r\nHere I am gathering 4 values per hit. \r\n\r\nThe Java code is\r\n\r\n```\r\nProcessor processor = new Processor(false);\r\nXQueryCompiler compiler = processor.newXQueryCompiler();\r\nXQueryExecutable exec = compiler.compile(query.getQuery());\r\nXQueryEvaluator evaluator = exec.load();\r\n\r\nXdmNode xmlDoc = processor.newDocumentBuilder().build(file);\r\nevaluator.setSource(xmlDoc.asSource());\r\n\r\nXdmValue eval = evaluator.evaluate();\r\n\r\nint idx = 0;\r\nint cols = 4;\r\nint rows = eval.size/cols;\r\nString[][] result = new String[rows][cols];\r\n\r\n//foreach item in eval fill array\r\n```\r\n\r\n`eval` contains a simple sequence of `XdmItem`s which I can process - assuming that there are 4 items per row.\r\n\r\nHowever, if the node `inputValue/rawValue` has not been defined (which is sometimes the case) there is no corresponding `XdmItem` entry and my processing approach (4 items per row) no longer works.\r\n\r\nHow can I force each requested attribute to have a corresponding `XdmItem` in the result?","title":"How to handle multiple values returned by Saxon XQuery processor when one value is undefined?","body":"<p>I am trying to use the Saxon HE XQuery processor in a Java app to perform ad-hoc queries on XML documents.</p>\n<p>For example:</p>\n<pre><code>for $x in //TestHistory[last()]/results/TestResult\nwhere $x/status = 'TestedFailed'\nreturn (/*/operatorId, \n        $x/status, \n        $x/expectedValue/rawValue, \n        $x/inputValue/rawValue)\n</code></pre>\n<p>Here I am gathering 4 values per hit.</p>\n<p>The Java code is</p>\n<pre><code>Processor processor = new Processor(false);\nXQueryCompiler compiler = processor.newXQueryCompiler();\nXQueryExecutable exec = compiler.compile(query.getQuery());\nXQueryEvaluator evaluator = exec.load();\n\nXdmNode xmlDoc = processor.newDocumentBuilder().build(file);\nevaluator.setSource(xmlDoc.asSource());\n\nXdmValue eval = evaluator.evaluate();\n\nint idx = 0;\nint cols = 4;\nint rows = eval.size/cols;\nString[][] result = new String[rows][cols];\n\n//foreach item in eval fill array\n</code></pre>\n<p><code>eval</code> contains a simple sequence of <code>XdmItem</code>s which I can process - assuming that there are 4 items per row.</p>\n<p>However, if the node <code>inputValue/rawValue</code> has not been defined (which is sometimes the case) there is no corresponding <code>XdmItem</code> entry and my processing approach (4 items per row) no longer works.</p>\n<p>How can I force each requested attribute to have a corresponding <code>XdmItem</code> in the result?</p>\n"},{"tags":["java","spring","spring-cache"],"answers":[{"tags":[],"owner":{"account_id":2573819,"reputation":15175,"user_id":2231972,"display_name":"Roman-Stop RU aggression in UA"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1383572319,"creation_date":1383572319,"answer_id":19768893,"question_id":19768481,"body_markdown":"Spring doesn&#39;t offer this out of the box but it supports [adapters][1] and you may use for example [guava adapter][2] which among other things allows configure expiration timeout.\r\n\r\n    &lt;bean id=&quot;cacheManager&quot; class=&quot;org.springframework.cache.support.SimpleCacheManager&quot;&gt;\r\n      &lt;property name=&quot;caches&quot;&gt;\r\n        &lt;list&gt;\r\n          &lt;bean name=&quot;testCache&quot;\r\n                class=&quot;org.hypoport.springGuavaCacheAdapter.SpringGuavaCacheAdapter&quot;&gt;\r\n            &lt;property name=&quot;expireAfterAccessInSeconds&quot; value=&quot;10&quot;/&gt;\r\n            &lt;property name=&quot;expireAfterWriteInSeconds&quot; value=&quot;10&quot;/&gt;\r\n          &lt;/bean&gt;\r\n        &lt;/list&gt;\r\n      &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/3.1.0.M1/spring-framework-reference/html/cache.html#cache-plug\r\n  [2]: https://github.com/hypoport/spring-guava-cache-adapter","title":"settings spring @cacheable to cache for 10 seconds","body":"<p>Spring doesn't offer this out of the box but it supports <a href=\"http://docs.spring.io/spring/docs/3.1.0.M1/spring-framework-reference/html/cache.html#cache-plug\" rel=\"nofollow\">adapters</a> and you may use for example <a href=\"https://github.com/hypoport/spring-guava-cache-adapter\" rel=\"nofollow\">guava adapter</a> which among other things allows configure expiration timeout.</p>\n\n<pre><code>&lt;bean id=\"cacheManager\" class=\"org.springframework.cache.support.SimpleCacheManager\"&gt;\n  &lt;property name=\"caches\"&gt;\n    &lt;list&gt;\n      &lt;bean name=\"testCache\"\n            class=\"org.hypoport.springGuavaCacheAdapter.SpringGuavaCacheAdapter\"&gt;\n        &lt;property name=\"expireAfterAccessInSeconds\" value=\"10\"/&gt;\n        &lt;property name=\"expireAfterWriteInSeconds\" value=\"10\"/&gt;\n      &lt;/bean&gt;\n    &lt;/list&gt;\n  &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":101108,"reputation":13957,"user_id":272180,"accept_rate":62,"display_name":"yglodt"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1500810274,"creation_date":1434006107,"answer_id":30773804,"question_id":19768481,"body_markdown":"You can use a Scheduler to periodically call a service method which evicts the caches.\r\n\r\nScheduler:\r\n\r\n    import org.springframework.scheduling.annotation.Scheduled;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n\r\n    public class Scheduler {\r\n\r\n            @Autowired\r\n            private SomeService someService;\r\n\r\n            @Scheduled(fixedRate = 10000)\r\n            public void evictCaches() {\r\n                    someService.evictCaches();\r\n            }\r\n    }\r\n\r\nService:\r\n\r\n    import org.springframework.cache.annotation.CacheEvict;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n\r\n    @Service\r\n    @Transactional\r\n    public class SomeService {\r\n\r\n            @CacheEvict(value = { &quot;cache1&quot;, &quot;cache2&quot; }, allEntries = true)\r\n            public void evictAllCaches() {\r\n            }\r\n    }\r\n","title":"settings spring @cacheable to cache for 10 seconds","body":"<p>You can use a Scheduler to periodically call a service method which evicts the caches.</p>\n\n<p>Scheduler:</p>\n\n<pre><code>import org.springframework.scheduling.annotation.Scheduled;\nimport org.springframework.beans.factory.annotation.Autowired;\n\npublic class Scheduler {\n\n        @Autowired\n        private SomeService someService;\n\n        @Scheduled(fixedRate = 10000)\n        public void evictCaches() {\n                someService.evictCaches();\n        }\n}\n</code></pre>\n\n<p>Service:</p>\n\n<pre><code>import org.springframework.cache.annotation.CacheEvict;\nimport org.springframework.transaction.annotation.Transactional;\n\n@Service\n@Transactional\npublic class SomeService {\n\n        @CacheEvict(value = { \"cache1\", \"cache2\" }, allEntries = true)\n        public void evictAllCaches() {\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20475886,"reputation":1,"user_id":15025240,"display_name":"Ferhat C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701434978,"creation_date":1701434978,"answer_id":77585393,"question_id":19768481,"body_markdown":"You can solve it with a LocalDateTime object. For example:\r\n\r\n    @Cacheable(value=&quot;forecast&quot;, key = &quot;#date.toString()&quot;)\r\n    public void forecast(LocalDateTime date){\r\n        //\r\n    }\r\n    public void call(){\r\n            LocalDateTime dateTime = LocalDateTime.now();\r\n            int currentSecond = dateTime.getSecond();\r\n            int newSecond = currentSecond - (currentSecond % 10);\r\n            forecast(dateTime.withSecond(newSecond));\r\n    }\r\n\r\nCache will expire after 10 seconds.\r\n\r\nPositive aspect - it does not require a scheduled job.\r\n\r\nNegative aspect - old data remains cached.\r\n\r\n","title":"settings spring @cacheable to cache for 10 seconds","body":"<p>You can solve it with a LocalDateTime object. For example:</p>\n<pre><code>@Cacheable(value=&quot;forecast&quot;, key = &quot;#date.toString()&quot;)\npublic void forecast(LocalDateTime date){\n    //\n}\npublic void call(){\n        LocalDateTime dateTime = LocalDateTime.now();\n        int currentSecond = dateTime.getSecond();\n        int newSecond = currentSecond - (currentSecond % 10);\n        forecast(dateTime.withSecond(newSecond));\n}\n</code></pre>\n<p>Cache will expire after 10 seconds.</p>\n<p>Positive aspect - it does not require a scheduled job.</p>\n<p>Negative aspect - old data remains cached.</p>\n"}],"owner":{"account_id":29845,"reputation":31302,"user_id":80932,"accept_rate":85,"display_name":"ufk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8776,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":19768893,"answer_count":3,"score":2,"last_activity_date":1701434978,"creation_date":1383570946,"question_id":19768481,"body_markdown":"I&#39;m writing a java project using Spring framework 3.2.4.\r\n\r\nI have many SQL queries that needs to be cached for 10 seconds.\r\n\r\nI know that with `@cacheable` annotation i can cache functions result. \r\n\r\nWhat I don&#39;t understand is how to cache for only 10 seconds. i know you can add conditions to the cacheable annotation but it&#39;s hard for me to figure out how to add timing to these conditions.\r\n\r\nany information regarding the issue would be greatly appreciated. ","title":"settings spring @cacheable to cache for 10 seconds","body":"<p>I'm writing a java project using Spring framework 3.2.4.</p>\n\n<p>I have many SQL queries that needs to be cached for 10 seconds.</p>\n\n<p>I know that with <code>@cacheable</code> annotation i can cache functions result. </p>\n\n<p>What I don't understand is how to cache for only 10 seconds. i know you can add conditions to the cacheable annotation but it's hard for me to figure out how to add timing to these conditions.</p>\n\n<p>any information regarding the issue would be greatly appreciated. </p>\n"},{"tags":["java","spring","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699871058,"creation_date":1699871058,"answer_id":77473177,"question_id":77473032,"body_markdown":"Using `expression` is useless in your case, you can simply use `qualifiedByName` like this:\r\n\r\n    @Mapping(target = &quot;id&quot;, source = &quot;source&quot;, qualifiedByName = &quot;getIdDtoBasedOnFlag&quot;)\r\n    public TargetDto toTargetDto(IpEntity source);\r\n    \r\n    @Named(&quot;getIdDtoBasedOnFlag&quot;)\r\n    default IdDto getIdDtoBasedOnFlag(IpEntity src) {\r\n      // ...\r\n    }","title":"Mapstruct Mapper Error : Cannot Find Symbol","body":"<p>Using <code>expression</code> is useless in your case, you can simply use <code>qualifiedByName</code> like this:</p>\n<pre><code>@Mapping(target = &quot;id&quot;, source = &quot;source&quot;, qualifiedByName = &quot;getIdDtoBasedOnFlag&quot;)\npublic TargetDto toTargetDto(IpEntity source);\n\n@Named(&quot;getIdDtoBasedOnFlag&quot;)\ndefault IdDto getIdDtoBasedOnFlag(IpEntity src) {\n  // ...\n}\n</code></pre>\n"}],"owner":{"account_id":22071184,"reputation":33,"user_id":16332139,"display_name":"Bhavin "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701434846,"creation_date":1699869501,"question_id":77473032,"body_markdown":"I had existing mapper in code. I am trying to modify it.\r\n\r\nLine Before Mapping is as follow. I was directly mapping id to id.\r\n\r\n    @Mapping(target = &quot;id&quot;, source = &quot;source.id&quot;)\r\n    public TargetDto toTargetDto(IpEntity source);\r\n\r\nUpdated the mapping as follow. I needed to add mapping based on function because I am reading some flag and setting it up.\r\n\r\n    @Mapping(target = &quot;id&quot;, expression = &quot;java(getIdDtoBasedOnFlag(source))&quot;)\r\n    public TargetDto toTargetDto(IpEntity source);\r\n\r\nMethod I added is as follows.\r\n\r\n    default IdDto getIdDtoBasedOnFlag(IpEntity src) {\r\n        IdDto cd = new IdDto();\r\n        if(idType.equalsIgnoreCase(&quot;standard&quot;)){\r\n            StndIdRelationEntity c = src.getPrimaryId();\r\n            cd.setIdCode(c.getIdNumber());\r\n            cd.setId(c.getId().toString());\r\n            cd.setIdName(c.getIdName());\r\n        }\r\n        else{\r\n            IdRelationEntity c = src.getId();\r\n            cd.setIdCode(c.getSourceCode());\r\n            cd.setId(c.getId().toString());\r\n            cd.setIdName(c.getIdName());\r\n        }\r\n        return cd;\r\n    }\r\n\r\nNow I am getting error in Impl class that gets generated as\r\n```\r\n  java: cannot find symbol\r\n  symbol:   variable source\r\n  location: class com.package.mapper.MapperImpl\r\n```\r\n\r\nIdDto class is as follows.\r\n```\r\n@Data\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class IdDto {\r\n    @JsonProperty(value = &quot;id&quot;)\r\n    private String idId;\r\n\r\n    @JsonProperty(value = &quot;display&quot;)\r\n    private String idName;\r\n\r\n    @JsonProperty(value = &quot;idCode&quot;)\r\n    private String idCode;\r\n\r\n    private Map&lt;String, String&gt; links;\r\n}\r\n\r\n```\r\n\r\nIf check the line in Impl class \r\n```\r\n    protected IdDto idRelationEntityToIdDto(IdRelationEntity idRelationEntity) {\r\n        if ( idRelationEntity == null ) {\r\n            return null;\r\n        }\r\n        IdDto IdDto = new IdDto();\r\n        IdDto.setIdName( idRelationEntity.getIdName() );\r\n        IdDto.setId( getIdIdBasedOnFlag(source) );//Error is coming from this line\r\n        return IdDto;\r\n    }\r\n\r\n\r\nsPLTargetDto.setId( idRelationEntityToIdDto( source.getId() ) );\r\n```\r\nAs you can see source is not getting passed properly in generated Impl method, Because of which it is failing. How do I fix it.\r\n\r\n\r\n\r\nI tried adding using qualifiedName but it didn&#39;t work.\r\n```\r\n@Mapping(target = &quot;Id&quot;, expression = &quot;java(getIdDtoBasedOnFlag(source))&quot;,qualifiedByName=&quot;getIdDtoBasedOnFlag&quot;)\r\n```","title":"Mapstruct Mapper Error : Cannot Find Symbol","body":"<p>I had existing mapper in code. I am trying to modify it.</p>\n<p>Line Before Mapping is as follow. I was directly mapping id to id.</p>\n<pre><code>@Mapping(target = &quot;id&quot;, source = &quot;source.id&quot;)\npublic TargetDto toTargetDto(IpEntity source);\n</code></pre>\n<p>Updated the mapping as follow. I needed to add mapping based on function because I am reading some flag and setting it up.</p>\n<pre><code>@Mapping(target = &quot;id&quot;, expression = &quot;java(getIdDtoBasedOnFlag(source))&quot;)\npublic TargetDto toTargetDto(IpEntity source);\n</code></pre>\n<p>Method I added is as follows.</p>\n<pre><code>default IdDto getIdDtoBasedOnFlag(IpEntity src) {\n    IdDto cd = new IdDto();\n    if(idType.equalsIgnoreCase(&quot;standard&quot;)){\n        StndIdRelationEntity c = src.getPrimaryId();\n        cd.setIdCode(c.getIdNumber());\n        cd.setId(c.getId().toString());\n        cd.setIdName(c.getIdName());\n    }\n    else{\n        IdRelationEntity c = src.getId();\n        cd.setIdCode(c.getSourceCode());\n        cd.setId(c.getId().toString());\n        cd.setIdName(c.getIdName());\n    }\n    return cd;\n}\n</code></pre>\n<p>Now I am getting error in Impl class that gets generated as</p>\n<pre><code>  java: cannot find symbol\n  symbol:   variable source\n  location: class com.package.mapper.MapperImpl\n</code></pre>\n<p>IdDto class is as follows.</p>\n<pre><code>@Data\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class IdDto {\n    @JsonProperty(value = &quot;id&quot;)\n    private String idId;\n\n    @JsonProperty(value = &quot;display&quot;)\n    private String idName;\n\n    @JsonProperty(value = &quot;idCode&quot;)\n    private String idCode;\n\n    private Map&lt;String, String&gt; links;\n}\n\n</code></pre>\n<p>If check the line in Impl class</p>\n<pre><code>    protected IdDto idRelationEntityToIdDto(IdRelationEntity idRelationEntity) {\n        if ( idRelationEntity == null ) {\n            return null;\n        }\n        IdDto IdDto = new IdDto();\n        IdDto.setIdName( idRelationEntity.getIdName() );\n        IdDto.setId( getIdIdBasedOnFlag(source) );//Error is coming from this line\n        return IdDto;\n    }\n\n\nsPLTargetDto.setId( idRelationEntityToIdDto( source.getId() ) );\n</code></pre>\n<p>As you can see source is not getting passed properly in generated Impl method, Because of which it is failing. How do I fix it.</p>\n<p>I tried adding using qualifiedName but it didn't work.</p>\n<pre><code>@Mapping(target = &quot;Id&quot;, expression = &quot;java(getIdDtoBasedOnFlag(source))&quot;,qualifiedByName=&quot;getIdDtoBasedOnFlag&quot;)\n</code></pre>\n"},{"tags":["java","android","android-intent","intentfilter","android-implicit-intent"],"comments":[{"owner":{"account_id":1160681,"reputation":5035,"user_id":1140237,"accept_rate":25,"display_name":"user1140237"},"score":0,"creation_date":1447666429,"post_id":33732034,"comment_id":55232963,"body_markdown":"are you using startActivityForResult &amp; onActivityResult ? if possible thn post your entire activity code which you have done","body":"are you using startActivityForResult &amp; onActivityResult ? if possible thn post your entire activity code which you have done"},{"owner":{"account_id":5608355,"reputation":106,"user_id":4442067,"display_name":"Abdullah ALT"},"score":0,"creation_date":1447666698,"post_id":33732034,"comment_id":55233112,"body_markdown":"@user1140237 no I don&#39;t, isn&#39;t it just for startActivityForResult()? I&#39;m not using my app to pick an image from the gallery, all I want is making the gallery **share** images with my app","body":"@user1140237 no I don&#39;t, isn&#39;t it just for startActivityForResult()? I&#39;m not using my app to pick an image from the gallery, all I want is making the gallery <b>share</b> images with my app"},{"owner":{"account_id":2138149,"reputation":5531,"user_id":1897423,"accept_rate":57,"display_name":"Lingviston"},"score":0,"creation_date":1447668069,"post_id":33732034,"comment_id":55233991,"body_markdown":"Try to use &quot;content&quot; or &quot;file&quot; mimetype. Don&#39;t know if it can be done this way but on my device default Gallery app returns &quot;content&quot; uri for pick image intent and file manager app returns &quot;file&quot; uri for the same image. Perhaps this action somehow similar to what you want. Also try to envistigate Intent extras. Maybe image data is bundled within it.","body":"Try to use &quot;content&quot; or &quot;file&quot; mimetype. Don&#39;t know if it can be done this way but on my device default Gallery app returns &quot;content&quot; uri for pick image intent and file manager app returns &quot;file&quot; uri for the same image. Perhaps this action somehow similar to what you want. Also try to envistigate Intent extras. Maybe image data is bundled within it."}],"answers":[{"tags":[],"owner":{"account_id":13358151,"reputation":123,"user_id":9641046,"display_name":"Markus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569584483,"creation_date":1569584483,"answer_id":58133853,"question_id":33732034,"body_markdown":"So, I think my answer is a little bit late, but anyhow, here it is:\r\n\r\nYou have already set the intent-filter in the **AndroidManifest.xml** correct like this:\r\n\r\n    &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\r\n        &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n        &lt;data android:mimeType=&quot;image/*&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n\r\nAs on [this Website][1] stated, you get the URI with this command:\r\n\r\n    Uri imageUri = (Uri) intent.getParcelableExtra(Intent.EXTRA_STREAM);\r\n    \r\n    //set content of ImageView to the specific Uri\r\n    imageView.setImageURI(imageUri);\r\n\r\n\r\nDokumentation about the **Intent** class can be found [here][2].\r\n\r\n\r\n  [1]: https://developer.android.com/training/sharing/receive\r\n  [2]: https://developer.android.com/reference/android/content/Intent","title":"implicit intent: sharing images from gallery to my app","body":"<p>So, I think my answer is a little bit late, but anyhow, here it is:</p>\n\n<p>You have already set the intent-filter in the <strong>AndroidManifest.xml</strong> correct like this:</p>\n\n<pre><code>&lt;intent-filter&gt;\n    &lt;action android:name=\"android.intent.action.SEND\" /&gt;\n    &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n    &lt;data android:mimeType=\"image/*\" /&gt;\n&lt;/intent-filter&gt;\n</code></pre>\n\n<p>As on <a href=\"https://developer.android.com/training/sharing/receive\" rel=\"nofollow noreferrer\">this Website</a> stated, you get the URI with this command:</p>\n\n<pre><code>Uri imageUri = (Uri) intent.getParcelableExtra(Intent.EXTRA_STREAM);\n\n//set content of ImageView to the specific Uri\nimageView.setImageURI(imageUri);\n</code></pre>\n\n<p>Dokumentation about the <strong>Intent</strong> class can be found <a href=\"https://developer.android.com/reference/android/content/Intent\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":5608355,"reputation":106,"user_id":4442067,"display_name":"Abdullah ALT"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":986,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701434671,"creation_date":1447666061,"question_id":33732034,"body_markdown":"I&#39;m trying to make the gallery app share images to my app, the problem is that I don&#39;t know how to get the image data sent to me by the gallery. I assumed that I may found the data in the method .getData() but it returns null\r\n\r\nthis is my intent-filter \r\n\r\n    &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.SEND&quot;/&gt;\r\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot;/&gt;\r\n                &lt;data android:mimeType=&quot;image/*&quot;/&gt;\r\n                &lt;category android:name=&quot;android.intent.category.default&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\nand here is my code in MainActivity\r\n\r\n    Intent data = getIntent(); //get the intent that starts this activity, in this case: gallery intent\r\n        if(data != null){ \r\n            Uri uri = data.getData();\r\n            //set the image view: the problem is: uri is always null\r\n            imageView.setImageURI(uri);\r\n        }\r\n\r\nif the method getData() is not what I want, then how can I get the image that meant to be shared with my app?","title":"implicit intent: sharing images from gallery to my app","body":"<p>I'm trying to make the gallery app share images to my app, the problem is that I don't know how to get the image data sent to me by the gallery. I assumed that I may found the data in the method .getData() but it returns null</p>\n\n<p>this is my intent-filter </p>\n\n<pre><code>&lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.SEND\"/&gt;\n            &lt;action android:name=\"android.intent.action.VIEW\"/&gt;\n            &lt;data android:mimeType=\"image/*\"/&gt;\n            &lt;category android:name=\"android.intent.category.default\"/&gt;\n        &lt;/intent-filter&gt;\n</code></pre>\n\n<p>and here is my code in MainActivity</p>\n\n<pre><code>Intent data = getIntent(); //get the intent that starts this activity, in this case: gallery intent\n    if(data != null){ \n        Uri uri = data.getData();\n        //set the image view: the problem is: uri is always null\n        imageView.setImageURI(uri);\n    }\n</code></pre>\n\n<p>if the method getData() is not what I want, then how can I get the image that meant to be shared with my app?</p>\n"},{"tags":["java","spring","spring-boot","maven","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676967065,"post_id":75517513,"comment_id":133238296,"body_markdown":"Remove `sqlite-dialect` and `hibernate-jpa-2.1-api`. Fix your imports (which now will probably fail as you probably have `javax.persistence` instead `jakarta.persistence`. As the `sqlite-dialect` you are using is from 2017 I doubt it is compatible with the most recent version(s) of Hibernate.","body":"Remove <code>sqlite-dialect</code> and <code>hibernate-jpa-2.1-api</code>. Fix your imports (which now will probably fail as you probably have <code>javax.persistence</code> instead <code>jakarta.persistence</code>. As the <code>sqlite-dialect</code> you are using is from 2017 I doubt it is compatible with the most recent version(s) of Hibernate."}],"answers":[{"tags":[],"owner":{"account_id":28087230,"reputation":1,"user_id":21457413,"display_name":"AlexChingaru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679497770,"creation_date":1679497770,"answer_id":75814034,"question_id":75517513,"body_markdown":"I had the same error as you.\r\nYou should remove from your pom.xml the **sqlite-dialect** dependency and modify your **hibernate** dependency this way : \r\n\r\nthe **groupId tag** should contain **org.hibernate.orm**\r\n\r\nand your **artifactId** should contain **hibernate-community-dialects**\r\n\r\nalso in your **application.properties** you should have **spring.jpa.database-platform=org.hibernate.community.dialect.SQLiteDialect**","title":"Correct the classpath of your application so that it contains a single, compatible version of org.hibernate.dialect.SQLiteDialect","body":"<p>I had the same error as you.\nYou should remove from your pom.xml the <strong>sqlite-dialect</strong> dependency and modify your <strong>hibernate</strong> dependency this way :</p>\n<p>the <strong>groupId tag</strong> should contain <strong>org.hibernate.orm</strong></p>\n<p>and your <strong>artifactId</strong> should contain <strong>hibernate-community-dialects</strong></p>\n<p>also in your <strong>application.properties</strong> you should have <strong>spring.jpa.database-platform=org.hibernate.community.dialect.SQLiteDialect</strong></p>\n"},{"tags":[],"owner":{"account_id":15969828,"reputation":101,"user_id":12473335,"display_name":"Avandy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701434140,"creation_date":1701434140,"answer_id":77585321,"question_id":75517513,"body_markdown":"From Hibernate 6, SQLite dialect is supported.\r\nWe have to import in our pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-community-dialects&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nCopy\r\nAnd in our application properties:\r\n\r\n    spring.jpa.database-platform=org.hibernate.community.dialect.SQLiteDialect\r\n\r\nhttps://www.baeldung.com/spring-boot-sqlite","title":"Correct the classpath of your application so that it contains a single, compatible version of org.hibernate.dialect.SQLiteDialect","body":"<p>From Hibernate 6, SQLite dialect is supported.\nWe have to import in our pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-community-dialects&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Copy\nAnd in our application properties:</p>\n<pre><code>spring.jpa.database-platform=org.hibernate.community.dialect.SQLiteDialect\n</code></pre>\n<p><a href=\"https://www.baeldung.com/spring-boot-sqlite\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-sqlite</a></p>\n"}],"owner":{"account_id":9965791,"reputation":77,"user_id":7373531,"display_name":"karthick ravindranath"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":856,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1701434140,"creation_date":1676965246,"question_id":75517513,"body_markdown":"Im new to SpringBoot. Please let me know how to fix this below error. \r\n\r\n&quot;Correct the classpath of your application so that it contains a single, compatible version of org.hibernate.dialect.SQLiteDialect&quot;\r\n\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n\r\n    org.hibernate.dialect.SQLiteDialect.&lt;init&gt;(SQLiteDialect.java:20)\r\n\r\nThe following method did not exist:\r\n\r\n    &#39;void org.hibernate.dialect.SQLiteDialect.registerColumnType(int, java.lang.String)&#39;\r\n\r\nThe calling method&#39;s class, org.hibernate.dialect.SQLiteDialect, was loaded from the following location:\r\n\r\n    jar:file:/C:/Users/kakarthi/.m2/repository/com/zsoltfabok/sqlite-dialect/1.0/sqlite-dialect-1.0.jar!/org/hibernate/dialect/SQLiteDialect.class\r\n\r\nThe called method&#39;s class, org.hibernate.dialect.SQLiteDialect, is available from the following locations:\r\n\r\n    jar:file:/C:/Users/kakarthi/.m2/repository/com/zsoltfabok/sqlite-dialect/1.0/sqlite-dialect-1.0.jar!/org/hibernate/dialect/SQLiteDialect.class\r\n\r\nThe called method&#39;s class hierarchy was loaded from the following locations:\r\n\r\n    org.hibernate.dialect.SQLiteDialect: file:/C:/Users/kakarthi/.m2/repository/com/zsoltfabok/sqlite-dialect/1.0/sqlite-dialect-1.0.jar\r\n    org.hibernate.dialect.Dialect: file:/C:/Users/kakarthi/.m2/repository/org/hibernate/orm/hibernate-core/6.1.6.Final/hibernate-core-6.1.6.Final.jar\r\n\r\n\r\nAction:\r\n\r\nCorrect the classpath of your application so that it contains a single, compatible version of org.hibernate.dialect.SQLiteDialect\r\n\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nMy POM.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.springLearning&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;springLearning&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;springLearning&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.zsoltfabok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;sqlite-dialect&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.xerial&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.40.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.0.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nPlease let me know how to fix this below error. \r\n\r\n&quot;Correct the classpath of your application so that it contains a single, compatible version of org.hibernate.dialect.SQLiteDialect&quot;. \r\n\r\nI have tried removing or increasing verisons but still im facing issue. Any help would be apricated.\r\n\r\n","title":"Correct the classpath of your application so that it contains a single, compatible version of org.hibernate.dialect.SQLiteDialect","body":"<p>Im new to SpringBoot. Please let me know how to fix this below error.</p>\n<p>&quot;Correct the classpath of your application so that it contains a single, compatible version of org.hibernate.dialect.SQLiteDialect&quot;</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\n\n    org.hibernate.dialect.SQLiteDialect.&lt;init&gt;(SQLiteDialect.java:20)\n\nThe following method did not exist:\n\n    'void org.hibernate.dialect.SQLiteDialect.registerColumnType(int, java.lang.String)'\n\nThe calling method's class, org.hibernate.dialect.SQLiteDialect, was loaded from the following location:\n\n    jar:file:/C:/Users/kakarthi/.m2/repository/com/zsoltfabok/sqlite-dialect/1.0/sqlite-dialect-1.0.jar!/org/hibernate/dialect/SQLiteDialect.class\n\nThe called method's class, org.hibernate.dialect.SQLiteDialect, is available from the following locations:\n\n    jar:file:/C:/Users/kakarthi/.m2/repository/com/zsoltfabok/sqlite-dialect/1.0/sqlite-dialect-1.0.jar!/org/hibernate/dialect/SQLiteDialect.class\n\nThe called method's class hierarchy was loaded from the following locations:\n\n    org.hibernate.dialect.SQLiteDialect: file:/C:/Users/kakarthi/.m2/repository/com/zsoltfabok/sqlite-dialect/1.0/sqlite-dialect-1.0.jar\n    org.hibernate.dialect.Dialect: file:/C:/Users/kakarthi/.m2/repository/org/hibernate/orm/hibernate-core/6.1.6.Final/hibernate-core-6.1.6.Final.jar\n\n\nAction:\n\nCorrect the classpath of your application so that it contains a single, compatible version of org.hibernate.dialect.SQLiteDialect\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>My POM.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.springLearning&lt;/groupId&gt;\n    &lt;artifactId&gt;springLearning&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;springLearning&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.zsoltfabok&lt;/groupId&gt;\n            &lt;artifactId&gt;sqlite-dialect&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.xerial&lt;/groupId&gt;\n            &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;3.40.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Please let me know how to fix this below error.</p>\n<p>&quot;Correct the classpath of your application so that it contains a single, compatible version of org.hibernate.dialect.SQLiteDialect&quot;.</p>\n<p>I have tried removing or increasing verisons but still im facing issue. Any help would be apricated.</p>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":15342779,"reputation":917,"user_id":13723248,"display_name":"Bib"},"score":0,"creation_date":1701367423,"post_id":77580723,"comment_id":136769847,"body_markdown":"Do not shout!!!","body":"Do not shout!!!"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1701373792,"post_id":77580723,"comment_id":136770975,"body_markdown":"Your shift key seems to be stuck. Please fix that.","body":"Your shift key seems to be stuck. Please fix that."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":2,"creation_date":1701378790,"post_id":77580723,"comment_id":136771765,"body_markdown":"What a great format - the title all in lowercase, the text all in uppercase - that cannot be a *serious* question  :-/","body":"What a great format - the title all in lowercase, the text all in uppercase - that cannot be a <i>serious</i> question  :-/"},{"owner":{"account_id":72426,"reputation":573694,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1701433877,"post_id":77580723,"comment_id":136778003,"body_markdown":"Hey Uday. As you probably noticed, you question attracted some negative comments and downvotes. The reason for that is that you posted the text in the question in all-caps, which is generally perceived on the internet as SHOUTING. To increase the chances that someone will actually help going forward, use proper casing for the text - and follow the other guidance in [how to ask a good question](https://stackoverflow.com/help/how-to-ask)","body":"Hey Uday. As you probably noticed, you question attracted some negative comments and downvotes. The reason for that is that you posted the text in the question in all-caps, which is generally perceived on the internet as SHOUTING. To increase the chances that someone will actually help going forward, use proper casing for the text - and follow the other guidance in <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a good question</a>"},{"owner":{"account_id":72426,"reputation":573694,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1701433968,"post_id":77580723,"comment_id":136778014,"body_markdown":"On the actual content, it helps if you provide basic information on what happens when you step through the app in a debugger. Since you have `addOnCompleteListener`, does that get called? If so, which of the toasts is shown?","body":"On the actual content, it helps if you provide basic information on what happens when you step through the app in a debugger. Since you have <code>addOnCompleteListener</code>, does that get called? If so, which of the toasts is shown?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1701436653,"post_id":77580723,"comment_id":136778508,"body_markdown":"Please edit your question and add the information Frank asked for, and please also respond using @.","body":"Please edit your question and add the information Frank asked for, and please also respond using @."}],"owner":{"account_id":29938804,"reputation":1,"user_id":22943868,"display_name":"Uday Makwana"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":0,"score":-4,"last_activity_date":1701433851,"creation_date":1701367254,"question_id":77580723,"body_markdown":"I created first &#39;login activity; in which mobile no enter by user and send otp after click submit btn and create putextra method, so I can mobile number enter by user is use in next acivity.\r\n\r\n````\r\nIntent intent = new Intent(LoginActivity.this, OTPAuthentication.class);\r\n                intent.putExtra(&quot;mobile&quot;, edttxtmobileno.getText().toString());\r\n                intent.putExtra(&quot;otp&quot;,codesent);\r\n                startActivity(intent);\r\n````\r\n\r\n\r\nAfter in which second activity (otp authentication) above enter otp input create textview in which mobile number show which enter by user.\r\n\r\n````\r\ntextmobile.setText(String.format(\r\n                &quot;91-%s&quot;, getIntent().getStringExtra(&quot;mobile&quot;)\r\n        ));\r\n````\r\n\r\nAfter both activity successfull third activity save username and profession from spinner in Firebase\r\n\r\n````\r\ndatabaseReference = FirebaseDatabase.getInstance().getReference(&quot;users&quot;);\r\n                String userId = databaseReference.push().getKey();\r\n                User user = new User(username, profession,mobile);\r\n\r\n                assert userId != null;\r\n                databaseReference.child(userId).setValue(user)\r\n                        .addOnCompleteListener(task -&gt; {\r\n                            if (task.isSuccessful()) {\r\n                                Toast.makeText(getApplicationContext(), &quot;Success&quot;, Toast.LENGTH_SHORT).show();\r\n                                Log.d(&quot;Firebase&quot;, &quot;Data saved successfully&quot;); // Log success\r\n                                Intent intent = new Intent(getApplicationContext(), NexusHome.class);\r\n                                intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n                                startActivity(intent);\r\n                            } else {\r\n                                Toast.makeText(getApplicationContext(), &quot;Failed to save data&quot;, Toast.LENGTH_SHORT).show();\r\n                                Log.e(&quot;Firebase&quot;, &quot;Failed to save data: &quot; + task.getException()); // Log failure with exception\r\n                            }\r\n\r\n                            btnsaveprofile.setVisibility(View.VISIBLE);\r\n                            mprogressbarofsaveprofile.setVisibility(View.INVISIBLE);\r\n\r\n                        });\r\n````\r\n\r\nAnd user java class for save data in firebase:\r\n\r\n````\r\npackage com.example.nexus_architecture;\r\n\r\npublic class User {\r\n    private String username;\r\n    private String profession;\r\n    private String mobile;\r\n\r\n\r\n    public User() {\r\n    }\r\n\r\n    public User(String username, String profession, String mobile) {\r\n        this.username = username;\r\n        this.profession = profession;\r\n        this.mobile = mobile;\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    public String getProfession() {\r\n        return profession;\r\n    }\r\n\r\n    public void setProfession(String profession) {\r\n        this.profession = profession;\r\n    }\r\n\r\n    public String getMobile() {\r\n        return mobile;\r\n    }\r\n\r\n    public void setMobile(String mobile) {\r\n        this.mobile = mobile;\r\n    }\r\n}\r\n````\r\n\r\n\r\n\r\nWhen I click save userprofile btn then username and profession saved, but the mobile number is not saved.\r\n\r\nHow can mobile no save with username and profession?","title":"mobile number not saved in firedatabase from previous activity","body":"<p>I created first 'login activity; in which mobile no enter by user and send otp after click submit btn and create putextra method, so I can mobile number enter by user is use in next acivity.</p>\n<pre><code>Intent intent = new Intent(LoginActivity.this, OTPAuthentication.class);\n                intent.putExtra(&quot;mobile&quot;, edttxtmobileno.getText().toString());\n                intent.putExtra(&quot;otp&quot;,codesent);\n                startActivity(intent);\n</code></pre>\n<p>After in which second activity (otp authentication) above enter otp input create textview in which mobile number show which enter by user.</p>\n<pre><code>textmobile.setText(String.format(\n                &quot;91-%s&quot;, getIntent().getStringExtra(&quot;mobile&quot;)\n        ));\n</code></pre>\n<p>After both activity successfull third activity save username and profession from spinner in Firebase</p>\n<pre><code>databaseReference = FirebaseDatabase.getInstance().getReference(&quot;users&quot;);\n                String userId = databaseReference.push().getKey();\n                User user = new User(username, profession,mobile);\n\n                assert userId != null;\n                databaseReference.child(userId).setValue(user)\n                        .addOnCompleteListener(task -&gt; {\n                            if (task.isSuccessful()) {\n                                Toast.makeText(getApplicationContext(), &quot;Success&quot;, Toast.LENGTH_SHORT).show();\n                                Log.d(&quot;Firebase&quot;, &quot;Data saved successfully&quot;); // Log success\n                                Intent intent = new Intent(getApplicationContext(), NexusHome.class);\n                                intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n                                startActivity(intent);\n                            } else {\n                                Toast.makeText(getApplicationContext(), &quot;Failed to save data&quot;, Toast.LENGTH_SHORT).show();\n                                Log.e(&quot;Firebase&quot;, &quot;Failed to save data: &quot; + task.getException()); // Log failure with exception\n                            }\n\n                            btnsaveprofile.setVisibility(View.VISIBLE);\n                            mprogressbarofsaveprofile.setVisibility(View.INVISIBLE);\n\n                        });\n</code></pre>\n<p>And user java class for save data in firebase:</p>\n<pre><code>package com.example.nexus_architecture;\n\npublic class User {\n    private String username;\n    private String profession;\n    private String mobile;\n\n\n    public User() {\n    }\n\n    public User(String username, String profession, String mobile) {\n        this.username = username;\n        this.profession = profession;\n        this.mobile = mobile;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getProfession() {\n        return profession;\n    }\n\n    public void setProfession(String profession) {\n        this.profession = profession;\n    }\n\n    public String getMobile() {\n        return mobile;\n    }\n\n    public void setMobile(String mobile) {\n        this.mobile = mobile;\n    }\n}\n</code></pre>\n<p>When I click save userprofile btn then username and profession saved, but the mobile number is not saved.</p>\n<p>How can mobile no save with username and profession?</p>\n"},{"tags":["java","macos","wifi","rssi"],"answers":[{"tags":[],"owner":{"display_name":"user862787"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1350676273,"creation_date":1350676273,"answer_id":12981491,"question_id":11303017,"body_markdown":"Look at the [Core WLAN framework][1].  Get [a CWInterface][2] given the &quot;BSD name&quot; of the interface with `initWithInterfaceName:`, use `scanForNetworksWithName:` or `scanForNetworksWithSSID:` without specifying a name or SSID (which will do a &quot;broadcast scan), and then look at the [CWNetworks][3] you get back and extract information such as the RSSI from them.\r\n\r\nHopefully there&#39;s some sort of bridge that lets you access that framework from Java; if not, you might have to create that bridge yourself.\r\n\r\nNote that this is available only in Lion and later.\r\n\r\n\r\n  [1]: http://developer.apple.com/library/mac/#documentation/Networking/Reference/CoreWLANFrameworkRef/_index.html\r\n  [2]: http://developer.apple.com/library/mac/#documentation/CoreWLAN/Reference/CWInterface_reference/translated_content/CWInterface.html#//apple_ref/doc/uid/TP40010960\r\n  [3]: http://developer.apple.com/library/mac/#documentation/CoreWLAN/Reference/CWNetwork_reference/translated_content/CWNetwork.html#//apple_ref/doc/uid/TP40010963","title":"List of Wireless RSSI with JAVA on MAC OS X","body":"<p>Look at the <a href=\"http://developer.apple.com/library/mac/#documentation/Networking/Reference/CoreWLANFrameworkRef/_index.html\" rel=\"nofollow\">Core WLAN framework</a>.  Get <a href=\"http://developer.apple.com/library/mac/#documentation/CoreWLAN/Reference/CWInterface_reference/translated_content/CWInterface.html#//apple_ref/doc/uid/TP40010960\" rel=\"nofollow\">a CWInterface</a> given the \"BSD name\" of the interface with <code>initWithInterfaceName:</code>, use <code>scanForNetworksWithName:</code> or <code>scanForNetworksWithSSID:</code> without specifying a name or SSID (which will do a \"broadcast scan), and then look at the <a href=\"http://developer.apple.com/library/mac/#documentation/CoreWLAN/Reference/CWNetwork_reference/translated_content/CWNetwork.html#//apple_ref/doc/uid/TP40010963\" rel=\"nofollow\">CWNetworks</a> you get back and extract information such as the RSSI from them.</p>\n\n<p>Hopefully there's some sort of bridge that lets you access that framework from Java; if not, you might have to create that bridge yourself.</p>\n\n<p>Note that this is available only in Lion and later.</p>\n"}],"owner":{"account_id":1620812,"reputation":2569,"user_id":1497418,"accept_rate":75,"display_name":"Walucas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":548,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":12981491,"answer_count":1,"score":0,"last_activity_date":1701433783,"creation_date":1341275610,"question_id":11303017,"body_markdown":"I am looking for an API to get a list of RSSI&#39;s wireless networks around my Mac, but couldn&#39;t find any yet.","title":"List of Wireless RSSI with JAVA on MAC OS X","body":"<p>I am looking for an API to get a list of RSSI's wireless networks around my Mac, but couldn't find any yet.</p>\n"},{"tags":["java","android","metadata","exoplayer"],"owner":{"account_id":28565245,"reputation":1,"user_id":21868216,"display_name":"Artem Novikov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701433740,"creation_date":1701433740,"question_id":77585277,"body_markdown":"I used to use an old version of exoplayer 2.10.2 (SimpleExoPlayer). Then I needed some updates and updated the player to 2.16.1. But this version has removed the addMetadataOutput method. How can I output (update) metadata in Exoplayer 2.16.1? I read that this should now be done via player.addListener(new Player.Listener() {}). But I can&#39;t figure out how to do it.[enter image description here](https://i.stack.imgur.com/mNJGB.png)\r\n\r\nI tried writing onMetadata in player.addListener(new Player.Listener() {}) but nothing works yet.","title":"How to get metadata from ExoPlayer","body":"<p>I used to use an old version of exoplayer 2.10.2 (SimpleExoPlayer). Then I needed some updates and updated the player to 2.16.1. But this version has removed the addMetadataOutput method. How can I output (update) metadata in Exoplayer 2.16.1? I read that this should now be done via player.addListener(new Player.Listener() {}). But I can't figure out how to do it.<a href=\"https://i.stack.imgur.com/mNJGB.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I tried writing onMetadata in player.addListener(new Player.Listener() {}) but nothing works yet.</p>\n"},{"tags":["java","ssl","noclassdeffounderror"],"comments":[{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1653285951,"post_id":43447847,"comment_id":127804709,"body_markdown":"The class is actually there in the JAR file. You have mentioned your dependency as &#39;provided&#39;, ensure the JAR is available in the CLASSPATH at runtime.","body":"The class is actually there in the JAR file. You have mentioned your dependency as &#39;provided&#39;, ensure the JAR is available in the CLASSPATH at runtime."}],"answers":[{"tags":[],"owner":{"account_id":5843610,"reputation":325,"user_id":4604360,"display_name":"nurb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544271445,"creation_date":1544271445,"answer_id":53682447,"question_id":43447847,"body_markdown":"We had the same problem with java.lang.NoClassDefFoundError: Could not initialize class org.apache.http.conn.ssl.SSLConnectionSocketFactory and there was appropriate dependency in Maven.\r\n\r\nThe reason of the problem in our case was tika-app, when we changed it to tica-core the problem was solved. The part commented below we replaced with the part above:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.19.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--&lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tika-app&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16&lt;/version&gt;\r\n        &lt;/dependency&gt;--&gt;","title":"java.lang.NoClassDefFoundError: Could not initialize class org.apache.http.conn.ssl.SSLConnectionSocketFactory","body":"<p>We had the same problem with java.lang.NoClassDefFoundError: Could not initialize class org.apache.http.conn.ssl.SSLConnectionSocketFactory and there was appropriate dependency in Maven.</p>\n\n<p>The reason of the problem in our case was tika-app, when we changed it to tica-core the problem was solved. The part commented below we replaced with the part above:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n        &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\n        &lt;version&gt;1.19.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!--&lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n        &lt;artifactId&gt;tika-app&lt;/artifactId&gt;\n        &lt;version&gt;1.16&lt;/version&gt;\n    &lt;/dependency&gt;--&gt;\n</code></pre>\n"}],"owner":{"account_id":5726665,"reputation":107,"user_id":5287313,"display_name":"karthik N R"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13804,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"answer_count":1,"score":8,"last_activity_date":1701433274,"creation_date":1492417549,"question_id":43447847,"body_markdown":"I am facing the following issue :\r\n\r\n&gt;java.lang.NoClassDefFoundError: Could not initialize class org.apache.http.conn.ssl.SSLConnectionSocketFactory\r\n\r\nI am using httpclient 4.5 jar. Could you please let me know how to resolve it?\r\n    \r\n    SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(sslcontext, new String[] {&quot;TLSv1&quot; }, null,\r\n    \t                   SSLConnectionSocketFactory.BROWSER_COMPATIBLE_HOSTNAME_VERIFIER);\r\n\r\n\r\nmy pom.xml contains the following dependency -\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.5&lt;/version&gt;\r\n    \t&lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"java.lang.NoClassDefFoundError: Could not initialize class org.apache.http.conn.ssl.SSLConnectionSocketFactory","body":"<p>I am facing the following issue :</p>\n\n<blockquote>\n  <p>java.lang.NoClassDefFoundError: Could not initialize class org.apache.http.conn.ssl.SSLConnectionSocketFactory</p>\n</blockquote>\n\n<p>I am using httpclient 4.5 jar. Could you please let me know how to resolve it?</p>\n\n<pre><code>SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(sslcontext, new String[] {\"TLSv1\" }, null,\n                       SSLConnectionSocketFactory.BROWSER_COMPATIBLE_HOSTNAME_VERIFIER);\n</code></pre>\n\n<p>my pom.xml contains the following dependency -</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n    &lt;version&gt;4.5&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","testing","jvm","systemtime"],"comments":[{"owner":{"account_id":2853075,"reputation":7038,"user_id":2699901,"display_name":"N&#225;ndor Előd Fekete"},"score":1,"creation_date":1386246515,"post_id":2001671,"comment_id":30462763,"body_markdown":"I don&#39;t know whether it&#39;s relevant anymore, but there is another method to achieve this with AspectJ, see my answer at: http://stackoverflow.com/questions/18239859/java-lang-system-currenttimemillis-replace-method/18337164#18337164","body":"I don&#39;t know whether it&#39;s relevant anymore, but there is another method to achieve this with AspectJ, see my answer at: <a href=\"http://stackoverflow.com/questions/18239859/java-lang-system-currenttimemillis-replace-method/18337164#18337164\" title=\"java lang system currenttimemillis replace method\">stackoverflow.com/questions/18239859/&hellip;</a>"},{"owner":{"account_id":1401358,"reputation":601,"user_id":1330085,"display_name":"cleberz"},"score":0,"creation_date":1499806464,"post_id":2001671,"comment_id":77062977,"body_markdown":"@N&#225;ndorElődFekete the solution in the link is interesting, however it requires recompiling the code. I wonder if the original poster has the ability to recompile, given the fact he&#39;s claiming to be dealing with legacy code.","body":"@N&#225;ndorElődFekete the solution in the link is interesting, however it requires recompiling the code. I wonder if the original poster has the ability to recompile, given the fact he&#39;s claiming to be dealing with legacy code."},{"owner":{"account_id":2853075,"reputation":7038,"user_id":2699901,"display_name":"N&#225;ndor Előd Fekete"},"score":1,"creation_date":1499808278,"post_id":2001671,"comment_id":77063807,"body_markdown":"@cleberz One of the nice properties of AspectJ is that is operates on bytecode directly, so it doesn&#39;t need the original source code to work.","body":"@cleberz One of the nice properties of AspectJ is that is operates on bytecode directly, so it doesn&#39;t need the original source code to work."},{"owner":{"account_id":1401358,"reputation":601,"user_id":1330085,"display_name":"cleberz"},"score":0,"creation_date":1500662350,"post_id":2001671,"comment_id":77455269,"body_markdown":"@N&#225;ndorElődFekete thank you so much for the hint. I was unaware of the aspectJ bytecode-level instrumentation (especially the JDK classes instrumentation). It took me a while but I was able to figure out I had to both a compile-time weaving of the rt.jar as well as a load-time weaving of the non-jdk classes in order to suit my needs (override System.currentTimeMillis() and System.nanoTime()).","body":"@N&#225;ndorElődFekete thank you so much for the hint. I was unaware of the aspectJ bytecode-level instrumentation (especially the JDK classes instrumentation). It took me a while but I was able to figure out I had to both a compile-time weaving of the rt.jar as well as a load-time weaving of the non-jdk classes in order to suit my needs (override System.currentTimeMillis() and System.nanoTime())."},{"owner":{"account_id":2853075,"reputation":7038,"user_id":2699901,"display_name":"N&#225;ndor Előd Fekete"},"score":0,"creation_date":1500663766,"post_id":2001671,"comment_id":77455986,"body_markdown":"@cleberz I have another answer for [weaving through JRE classes](https://stackoverflow.com/a/36121235/2699901), you can check it out as well.","body":"@cleberz I have another answer for <a href=\"https://stackoverflow.com/a/36121235/2699901\">weaving through JRE classes</a>, you can check it out as well."}],"answers":[{"tags":[],"owner":{"account_id":21768,"reputation":5857,"user_id":53183,"accept_rate":79,"display_name":"Jeremy Raymond"},"down_vote_count":4,"up_vote_count":6,"is_accepted":false,"score":2,"last_activity_date":1262634210,"creation_date":1262634210,"answer_id":2001694,"question_id":2001671,"body_markdown":"There really isn&#39;t a way to do this directly in the VM, but you could all something to programmatically set the system time on the test machine. Most (all?) OS have command line commands to do this.","title":"Override Java System.currentTimeMillis for testing time sensitive code","body":"<p>There really isn't a way to do this directly in the VM, but you could all something to programmatically set the system time on the test machine. Most (all?) OS have command line commands to do this.</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":9,"up_vote_count":153,"is_accepted":true,"score":144,"last_activity_date":1262634226,"creation_date":1262634226,"answer_id":2001696,"question_id":2001671,"body_markdown":"I *strongly* recommend that instead of messing with the system clock, you bite the bullet and refactor that legacy code to use a replaceable clock. *Ideally* that should be done with dependency injection, but even if you used a replaceable singleton you would gain testability.\r\n\r\nThis could almost be automated with search and replace for the singleton version:\r\n\r\n- Replace `Calendar.getInstance()` with `Clock.getInstance().getCalendarInstance()`.\r\n- Replace `new Date()` with `Clock.getInstance().newDate()`\r\n- Replace `System.currentTimeMillis()` with `Clock.getInstance().currentTimeMillis()`\r\n\r\n(etc as required)\r\n\r\nOnce you&#39;ve taken that first step, you can replace the singleton with DI a bit at a time.","title":"Override Java System.currentTimeMillis for testing time sensitive code","body":"<p>I <em>strongly</em> recommend that instead of messing with the system clock, you bite the bullet and refactor that legacy code to use a replaceable clock. <em>Ideally</em> that should be done with dependency injection, but even if you used a replaceable singleton you would gain testability.</p>\n\n<p>This could almost be automated with search and replace for the singleton version:</p>\n\n<ul>\n<li>Replace <code>Calendar.getInstance()</code> with <code>Clock.getInstance().getCalendarInstance()</code>.</li>\n<li>Replace <code>new Date()</code> with <code>Clock.getInstance().newDate()</code></li>\n<li>Replace <code>System.currentTimeMillis()</code> with <code>Clock.getInstance().currentTimeMillis()</code></li>\n</ul>\n\n<p>(etc as required)</p>\n\n<p>Once you've taken that first step, you can replace the singleton with DI a bit at a time.</p>\n"},{"tags":[],"owner":{"account_id":16868,"reputation":19586,"user_id":37193,"accept_rate":64,"display_name":"Stephen"},"down_vote_count":1,"up_vote_count":44,"is_accepted":false,"score":43,"last_activity_date":1262641150,"creation_date":1262634527,"answer_id":2001728,"question_id":2001671,"body_markdown":"As [said by Jon Skeet][1]: \r\n\r\n&gt; &quot;use Joda Time&quot; is almost always the best answer to any question involving &quot;how do I achieve X with java.util.Date/Calendar?&quot;\r\n\r\nSo here goes (presuming you&#39;ve just replaced all your `new Date()` with `new DateTime().toDate()`)\r\n\r\n    //Change to specific time\r\n    DateTimeUtils.setCurrentMillisFixed(millis);\r\n    //or set the clock to be a difference from system time\r\n    DateTimeUtils.setCurrentMillisOffset(millis);\r\n    //Reset to system time\r\n    DateTimeUtils.setCurrentMillisSystem();\r\n\r\nIf you want import a library that has an interface (see Jon&#39;s comment below), you could just use [Prevayler&#39;s Clock][2], which will provide implementations as well as the standard interface.  The full jar is only 96kB, so it shouldn&#39;t break the bank...\r\n\r\n\r\n  [1]: http://msmvps.com/blogs/jon_skeet/archive/2009/11/05/what-s-in-a-name-again.aspx\r\n  [2]: http://www.prevayler.org/apidocs/org/prevayler/Clock.html","title":"Override Java System.currentTimeMillis for testing time sensitive code","body":"<p>As <a href=\"http://msmvps.com/blogs/jon_skeet/archive/2009/11/05/what-s-in-a-name-again.aspx\" rel=\"noreferrer\">said by Jon Skeet</a>: </p>\n\n<blockquote>\n  <p>\"use Joda Time\" is almost always the best answer to any question involving \"how do I achieve X with java.util.Date/Calendar?\"</p>\n</blockquote>\n\n<p>So here goes (presuming you've just replaced all your <code>new Date()</code> with <code>new DateTime().toDate()</code>)</p>\n\n<pre><code>//Change to specific time\nDateTimeUtils.setCurrentMillisFixed(millis);\n//or set the clock to be a difference from system time\nDateTimeUtils.setCurrentMillisOffset(millis);\n//Reset to system time\nDateTimeUtils.setCurrentMillisSystem();\n</code></pre>\n\n<p>If you want import a library that has an interface (see Jon's comment below), you could just use <a href=\"http://www.prevayler.org/apidocs/org/prevayler/Clock.html\" rel=\"noreferrer\">Prevayler's Clock</a>, which will provide implementations as well as the standard interface.  The full jar is only 96kB, so it shouldn't break the bank...</p>\n"},{"tags":[],"owner":{"account_id":28208,"reputation":14132,"user_id":75126,"accept_rate":100,"display_name":"mhaller"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1262634541,"creation_date":1262634541,"answer_id":2001731,"question_id":2001671,"body_markdown":"Use Aspect-Oriented Programming (AOP, for example AspectJ) to weave the System class to return a predefined value which you could set within your test cases.\r\n\r\nOr weave the application classes to redirect the call to `System.currentTimeMillis()` or to `new Date()` to another utility class of your own.\r\n\r\nWeaving system classes (`java.lang.*`) is however a little bit more trickier and you might need to perform offline weaving for rt.jar and use a separate JDK/rt.jar for your tests.\r\n\r\nIt&#39;s called **Binary weaving** and there are also special [tools][1] to perform weaving of System classes and circumvent some problems with that (e.g. bootstrapping the VM may not work)\r\n\r\n  [1]: http://dev.eclipse.org/mhonarc/lists/aspectj-users/msg09899.html","title":"Override Java System.currentTimeMillis for testing time sensitive code","body":"<p>Use Aspect-Oriented Programming (AOP, for example AspectJ) to weave the System class to return a predefined value which you could set within your test cases.</p>\n\n<p>Or weave the application classes to redirect the call to <code>System.currentTimeMillis()</code> or to <code>new Date()</code> to another utility class of your own.</p>\n\n<p>Weaving system classes (<code>java.lang.*</code>) is however a little bit more trickier and you might need to perform offline weaving for rt.jar and use a separate JDK/rt.jar for your tests.</p>\n\n<p>It's called <strong>Binary weaving</strong> and there are also special <a href=\"http://dev.eclipse.org/mhonarc/lists/aspectj-users/msg09899.html\" rel=\"noreferrer\">tools</a> to perform weaving of System classes and circumvent some problems with that (e.g. bootstrapping the VM may not work)</p>\n"},{"tags":[],"owner":{"account_id":15634,"reputation":3535,"user_id":33229,"accept_rate":60,"display_name":"ReneS"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1462971103,"creation_date":1270319232,"answer_id":2572222,"question_id":2001671,"body_markdown":"[Powermock][1] works great. Just used it to mock `System.currentTimeMillis()`. \r\n\r\n  [1]: https://github.com/jayway/powermock","title":"Override Java System.currentTimeMillis for testing time sensitive code","body":"<p><a href=\"https://github.com/jayway/powermock\" rel=\"nofollow noreferrer\">Powermock</a> works great. Just used it to mock <code>System.currentTimeMillis()</code>. </p>\n"},{"tags":[],"owner":{"account_id":1595006,"reputation":41,"user_id":1477398,"display_name":"user1477398"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1340491592,"creation_date":1340491592,"answer_id":11173592,"question_id":2001671,"body_markdown":"In my opinion only a none-invasive solution can work. Especially if you have external libs and a big legacy code base there is no reliable way to mock out time.\r\n\r\nJMockit ... works only for restricted number of [times][1]\r\n\r\nPowerMock &amp; Co ...needs to mock the [clients][2] to System.currentTimeMillis(). Again an invasive option.\r\n\r\nFrom this I only see the mentioned *javaagent* or *aop* approach being transparent to the whole system. Has anybody done that and could point to such a solution?\r\n \r\n@jarnbjo: could you show some of the javaagent code please?\r\n\r\n  [1]: http://code.google.com/p/jmockit/issues/detail?can=2&amp;start=0&amp;num=100&amp;q=&amp;colspec=ID%20Tool%20Type%20Status%20Priority%20Summary&amp;groupby=&amp;sort=&amp;id=43\r\n  [2]: http://code.google.com/p/powermock/wiki/MockSystem","title":"Override Java System.currentTimeMillis for testing time sensitive code","body":"<p>In my opinion only a none-invasive solution can work. Especially if you have external libs and a big legacy code base there is no reliable way to mock out time.</p>\n\n<p>JMockit ... works only for restricted number of <a href=\"http://code.google.com/p/jmockit/issues/detail?can=2&amp;start=0&amp;num=100&amp;q=&amp;colspec=ID%20Tool%20Type%20Status%20Priority%20Summary&amp;groupby=&amp;sort=&amp;id=43\" rel=\"nofollow\">times</a></p>\n\n<p>PowerMock &amp; Co ...needs to mock the <a href=\"http://code.google.com/p/powermock/wiki/MockSystem\" rel=\"nofollow\">clients</a> to System.currentTimeMillis(). Again an invasive option.</p>\n\n<p>From this I only see the mentioned <em>javaagent</em> or <em>aop</em> approach being transparent to the whole system. Has anybody done that and could point to such a solution?</p>\n\n<p>@jarnbjo: could you show some of the javaagent code please?</p>\n"},{"tags":[],"owner":{"account_id":333131,"reputation":2273,"user_id":658826,"display_name":"virgo47"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1405331554,"creation_date":1357121124,"answer_id":14120081,"question_id":2001671,"body_markdown":"While using some DateFactory pattern seems nice, it does not cover libraries you can&#39;t control - imagine Validation annotation @Past with implementation relying on System.currentTimeMillis (there is such).\r\n\r\nThat&#39;s why we use jmockit to mock the system time directly:\r\n\r\n    import mockit.Mock;\r\n    import mockit.MockClass;\r\n    ...\r\n    @MockClass(realClass = System.class)\r\n    public static class SystemMock {\r\n        /**\r\n         * Fake current time millis returns value modified by required offset.\r\n         *\r\n         * @return fake &quot;current&quot; millis\r\n         */\r\n        @Mock\r\n        public static long currentTimeMillis() {\r\n            return INIT_MILLIS + offset + millisSinceClassInit();\r\n        }\r\n    }\r\n\r\n    Mockit.setUpMock(SystemMock.class);\r\n\r\nBecause it&#39;s not possible to get to the original unmocked value of millis, we use nano timer instead - this is not related to wall clock, but relative time suffices here:\r\n\r\n    // runs before the mock is applied\r\n    private static final long INIT_MILLIS = System.currentTimeMillis();\r\n    private static final long INIT_NANOS = System.nanoTime();\r\n    \r\n    private static long millisSinceClassInit() {\r\n        return (System.nanoTime() - INIT_NANOS) / 1000000;\r\n    }\r\n\r\nThere is documented problem, that with HotSpot the time gets back to normal after a number of calls - here is the issue report: http://code.google.com/p/jmockit/issues/detail?id=43\r\n\r\nTo overcome this we have to turn on one specific HotSpot optimization - run JVM with this argument `-XX:-Inline`.\r\n\r\nWhile this may not be perfect for production, it is just fine for tests and it is absolutely transparent for application, especially when DataFactory doesn&#39;t make business sense and is introduced only because of tests. It would be nice to have built-in JVM option to run in different time, too bad it is not possible without hacks like this.\r\n\r\nComplete story is in my blog post here:\r\nhttp://virgo47.wordpress.com/2012/06/22/changing-system-time-in-java/\r\n\r\nComplete handy class SystemTimeShifter is provided in the post. Class can be used in your tests, or it can be used as the first main class before your real main class very easily in order to run your application (or even whole appserver) in a different time. Of course, this is intented for testing purposes mainly, not for production environment.\r\n\r\nEDIT July 2014: JMockit changed a lot lately and you are bound to use JMockit 1.0 to use this correctly (IIRC). Definitely can&#39;t upgrade to newest version where interface is completly different. I was thinking about inlining just the necessary stuff, but as we don&#39;t need this thing in our new projects I&#39;m not developing this thing at all.","title":"Override Java System.currentTimeMillis for testing time sensitive code","body":"<p>While using some DateFactory pattern seems nice, it does not cover libraries you can't control - imagine Validation annotation @Past with implementation relying on System.currentTimeMillis (there is such).</p>\n\n<p>That's why we use jmockit to mock the system time directly:</p>\n\n<pre><code>import mockit.Mock;\nimport mockit.MockClass;\n...\n@MockClass(realClass = System.class)\npublic static class SystemMock {\n    /**\n     * Fake current time millis returns value modified by required offset.\n     *\n     * @return fake \"current\" millis\n     */\n    @Mock\n    public static long currentTimeMillis() {\n        return INIT_MILLIS + offset + millisSinceClassInit();\n    }\n}\n\nMockit.setUpMock(SystemMock.class);\n</code></pre>\n\n<p>Because it's not possible to get to the original unmocked value of millis, we use nano timer instead - this is not related to wall clock, but relative time suffices here:</p>\n\n<pre><code>// runs before the mock is applied\nprivate static final long INIT_MILLIS = System.currentTimeMillis();\nprivate static final long INIT_NANOS = System.nanoTime();\n\nprivate static long millisSinceClassInit() {\n    return (System.nanoTime() - INIT_NANOS) / 1000000;\n}\n</code></pre>\n\n<p>There is documented problem, that with HotSpot the time gets back to normal after a number of calls - here is the issue report: <a href=\"http://code.google.com/p/jmockit/issues/detail?id=43\">http://code.google.com/p/jmockit/issues/detail?id=43</a></p>\n\n<p>To overcome this we have to turn on one specific HotSpot optimization - run JVM with this argument <code>-XX:-Inline</code>.</p>\n\n<p>While this may not be perfect for production, it is just fine for tests and it is absolutely transparent for application, especially when DataFactory doesn't make business sense and is introduced only because of tests. It would be nice to have built-in JVM option to run in different time, too bad it is not possible without hacks like this.</p>\n\n<p>Complete story is in my blog post here:\n<a href=\"http://virgo47.wordpress.com/2012/06/22/changing-system-time-in-java/\">http://virgo47.wordpress.com/2012/06/22/changing-system-time-in-java/</a></p>\n\n<p>Complete handy class SystemTimeShifter is provided in the post. Class can be used in your tests, or it can be used as the first main class before your real main class very easily in order to run your application (or even whole appserver) in a different time. Of course, this is intented for testing purposes mainly, not for production environment.</p>\n\n<p>EDIT July 2014: JMockit changed a lot lately and you are bound to use JMockit 1.0 to use this correctly (IIRC). Definitely can't upgrade to newest version where interface is completly different. I was thinking about inlining just the necessary stuff, but as we don't need this thing in our new projects I'm not developing this thing at all.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":107,"is_accepted":false,"score":106,"last_activity_date":1701432757,"creation_date":1414310041,"answer_id":26570951,"question_id":2001671,"body_markdown":"# tl;dr\r\n\r\n&gt;Is there a way, either in code or with JVM arguments, to override the current time, as presented via System.currentTimeMillis, other than manually changing the system clock on the host machine?\r\n\r\nYes.\r\n\r\n    Instant.now( \r\n        Clock.fixed( \r\n            Instant.parse( &quot;2016-01-23T12:34:56Z&quot;), ZoneOffset.UTC\r\n        )\r\n    )\r\n\r\n# `Clock` In java.time\r\n\r\nWe have a new solution to the problem of a pluggable clock replacement to facilitate testing with *faux* date-time values. The [java.time package][1] in [Java 8][2] includes an abstract class [`java.time.Clock`][3], with an explicit purpose:\r\n\r\n&gt; to allow alternate clocks to be plugged in as and when required\r\n\r\nYou could plug in your own implementation of `Clock`, though you likely can find one already made to meet your needs. For your convenience, java.time includes static methods to yield special implementations. These alternate implementations can be valuable during testing. \r\n\r\n## Altered cadence\r\n\r\nThe various  `tick…` methods produce clocks that increment the current moment with a different cadence.\r\n\r\nThe default `Clock` reports a time updated as frequently as [milliseconds][4] in Java 8 and in Java 9 as fine as [nanoseconds][5]  (depending on your hardware). You can ask for the true current moment to be reported with a different granularity.\r\n\r\n - [`tickSeconds`][6] - Increments in whole seconds\r\n - [`tickMinutes`][7] - Increments in whole minutes\r\n - [`tick`][8] - Increments by the passed [`Duration`][9] argument.\r\n\r\n## False clocks\r\n\r\nSome clocks can lie, producing a result different than that of the host OS’ hardware clock.\r\n\r\n - [`fixed`](http://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#fixed-java.time.Instant-java.time.ZoneId-) - Reports a single unchanging (non-incrementing) moment as the current moment.\r\n - [`offset`](http://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#offset-java.time.Clock-java.time.Duration-) - Reports the current moment but shifted by the passed [`Duration`][9] argument.\r\n\r\nFor example, lock in the first moment of the earliest Christmas this year. in other words, when [Santa and his reindeer make their first stop][10]. The earliest time zone nowadays seems to be [`Pacific/Kiritimati`](https://en.wikipedia.org/wiki/Pacific/Kiritimati) at `+14:00`.\r\n\r\n    LocalDate ld = LocalDate.now( ZoneId.of( &quot;America/Montreal&quot; ) );\r\n    LocalDate xmasThisYear = MonthDay.of( Month.DECEMBER , 25 ).atYear( ld.getYear() );\r\n    ZoneId earliestXmasZone = ZoneId.of( &quot;Pacific/Kiritimati&quot; ) ;\r\n    ZonedDateTime zdtEarliestXmasThisYear = xmasThisYear.atStartOfDay( earliestXmasZone );\r\n    Instant instantEarliestXmasThisYear = zdtEarliestXmasThisYear.toInstant();\r\n    Clock clockEarliestXmasThisYear = Clock.fixed( instantEarliestXmasThisYear , earliestXmasZone );\r\n\r\nUse that special fixed clock to always return the same moment. We get the first moment of Christmas day in [Kiritimati][11], with UTC showing a [wall-clock time][12] of fourteen hours earlier, 10 AM on the prior date of the 24th of December. \r\n\r\n&lt;img src=&quot;https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Kiribati_on_the_globe_%28Polynesia_centered%29.svg/500px-Kiribati_on_the_globe_%28Polynesia_centered%29.svg.png&quot; height=&quot;180&quot;&gt;\r\n\r\n    Instant instant = Instant.now( clockEarliestXmasThisYear );\r\n    ZonedDateTime zdt = ZonedDateTime.now( clockEarliestXmasThisYear );\r\n\r\n&gt;instant.toString(): 2016-12-24T10:00:00Z\r\n\r\n&gt;zdt.toString(): 2016-12-25T00:00+14:00[Pacific/Kiritimati]\r\n\r\nSee [live code in IdeOne.com][13].\r\n\r\n## True time, different time zone\r\n\r\nYou can control which time zone is assigned by the `Clock` implementation. This might be useful in some testing. But I do not recommend this in production code, where you should always specify explicitly the optional `ZoneId` or `ZoneOffset` arguments.\r\n\r\nYou can specify that UTC be the default zone.\r\n\r\n    ZonedDateTime zdtClockSystemUTC = ZonedDateTime.now ( Clock.systemUTC () );\r\n\r\nYou can specify any particular time zone. Specify a [proper time zone name](https://en.wikipedia.org/wiki/List_of_tz_zones_by_name) in the format of `continent/region`, such as [`America/Montreal`](https://en.wikipedia.org/wiki/America/Montreal), [`Africa/Casablanca`](https://en.wikipedia.org/wiki/Africa/Casablanca), or `Pacific/Auckland`. Never use the 3-4 letter abbreviation such as `EST` or `IST` as they are *not* true time zones, not standardized, and not even unique(!). \r\n\r\n    ZonedDateTime zdtClockSystem = ZonedDateTime.now ( Clock.system ( ZoneId.of ( &quot;America/Montreal&quot; ) ) );\r\n\r\nYou can specify the JVM’s current default time zone should be the default for a particular `Clock` object.\r\n\r\n    ZonedDateTime zdtClockSystemDefaultZone = ZonedDateTime.now ( Clock.systemDefaultZone () );\r\n\r\nRun this code to compare. Note that they all report the same moment, the same point on the timeline. They differ only in [wall-clock time][12]; in other words, three ways to say the same thing, three ways to display the same moment.\r\n\r\n    System.out.println ( &quot;zdtClockSystemUTC.toString(): &quot; + zdtClockSystemUTC );\r\n    System.out.println ( &quot;zdtClockSystem.toString(): &quot; + zdtClockSystem );\r\n    System.out.println ( &quot;zdtClockSystemDefaultZone.toString(): &quot; + zdtClockSystemDefaultZone );\r\n\r\n`America/Los_Angeles` was the JVM current default zone on the computer that ran this code.\r\n\r\n&gt;zdtClockSystemUTC.toString(): 2016-12-31T20:52:39.688Z\r\n\r\n&gt;zdtClockSystem.toString(): 2016-12-31T15:52:39.750-05:00[America/Montreal]\r\n\r\n&gt;zdtClockSystemDefaultZone.toString(): 2016-12-31T12:52:39.762-08:00[America/Los_Angeles] \r\n\r\nThe [`Instant`][14] class is always in UTC by definition. So these three zone-related `Clock` usages have exactly the same effect.\r\n\r\n    Instant instantClockSystemUTC = Instant.now ( Clock.systemUTC () );\r\n    Instant instantClockSystem = Instant.now ( Clock.system ( ZoneId.of ( &quot;America/Montreal&quot; ) ) );\r\n    Instant instantClockSystemDefaultZone = Instant.now ( Clock.systemDefaultZone () );\r\n\r\n&gt;instantClockSystemUTC.toString(): 2016-12-31T20:52:39.763Z\r\n\r\n&gt;instantClockSystem.toString(): 2016-12-31T20:52:39.763Z\r\n\r\n&gt;instantClockSystemDefaultZone.toString(): 2016-12-31T20:52:39.763Z\r\n\r\n## Default clock\r\n\r\nThe implementation used by default for `Instant.now` is the one returned by [`Clock.systemUTC()`][15]. This is the implementation used when you do not specify a `Clock`. See for yourself in [pre-release Java 9 source code for `Instant.now`][16].\r\n\r\n    public static Instant now() {\r\n        return Clock.systemUTC().instant();\r\n    }\r\n\r\nThe default `Clock` for `OffsetDateTime.now` and `ZonedDateTime.now` is `Clock.systemDefaultZone()`. See [source code](http://hg.openjdk.java.net/jdk9/dev/jdk/file/caa487ca77b0/src/java.base/share/classes/java/time/ZonedDateTime.java).\r\n\r\n    public static ZonedDateTime now() {\r\n        return now(Clock.systemDefaultZone());\r\n    }\r\n\r\nThe behavior of the default implementations changed between Java 8 and Java 9. In Java 8, the current moment is captured with a resolution only in [milliseconds][17] despite the classes’ ability to store a resolution of [nanoseconds][18]. Java 9 brings a new implementation able to capture the current moment with a resolution of nanoseconds – depending, of course, on the capability of your computer hardware clock. \r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html), [`Calendar`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html), &amp; [`SimpleDateFormat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes. Hibernate 5 &amp; JPA 2.2 support *java.time*. \r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n   - [**Java 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) brought some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n   - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n   - Later versions of Android (26+) bundle implementations of the *java.time* classes.\r\n   - For earlier Android (&lt;26), a process known as [*API desugaring*](https://developer.android.com/studio/write/java8-support#library-desugaring) brings a [subset of the *java.time*](https://developer.android.com/studio/write/java8-support-table) functionality not originally built into Android.\r\n     - If the desugaring does not offer what you need, the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above) to Android. See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [2]: http://en.wikipedia.org/wiki/Java_version_history#Java_SE_8_.28March_18.2C_2014.29\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/time/Clock.html\r\n  [4]: https://en.m.wikipedia.org/wiki/Millisecond\r\n  [5]: https://en.m.wikipedia.org/wiki/Nanosecond\r\n  [6]: http://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#tickSeconds-java.time.ZoneId-\r\n  [7]: http://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#tickMinutes-java.time.ZoneId-\r\n  [8]: http://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#tick-java.time.Clock-java.time.Duration-\r\n  [9]: http://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\r\n  [10]: https://www.noradsanta.org/en/\r\n  [11]: https://en.wikipedia.org/wiki/Kiritimati\r\n  [12]: https://en.wikipedia.org/wiki/Wall-clock_time\r\n  [13]: http://ideone.com/6XEhAN\r\n  [14]: https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\r\n  [15]: https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#systemUTC--\r\n  [16]: http://hg.openjdk.java.net/jdk9/dev/jdk/file/caa487ca77b0/src/java.base/share/classes/java/time/Instant.java\r\n  [17]: https://en.wikipedia.org/wiki/Millisecond\r\n  [18]: https://en.wikipedia.org/wiki/Nanosecond","title":"Override Java System.currentTimeMillis for testing time sensitive code","body":"<h1>tl;dr</h1>\n<blockquote>\n<p>Is there a way, either in code or with JVM arguments, to override the current time, as presented via System.currentTimeMillis, other than manually changing the system clock on the host machine?</p>\n</blockquote>\n<p>Yes.</p>\n<pre><code>Instant.now( \n    Clock.fixed( \n        Instant.parse( &quot;2016-01-23T12:34:56Z&quot;), ZoneOffset.UTC\n    )\n)\n</code></pre>\n<h1><code>Clock</code> In java.time</h1>\n<p>We have a new solution to the problem of a pluggable clock replacement to facilitate testing with <em>faux</em> date-time values. The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time package</a> in <a href=\"http://en.wikipedia.org/wiki/Java_version_history#Java_SE_8_.28March_18.2C_2014.29\" rel=\"nofollow noreferrer\">Java 8</a> includes an abstract class <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Clock.html\" rel=\"nofollow noreferrer\"><code>java.time.Clock</code></a>, with an explicit purpose:</p>\n<blockquote>\n<p>to allow alternate clocks to be plugged in as and when required</p>\n</blockquote>\n<p>You could plug in your own implementation of <code>Clock</code>, though you likely can find one already made to meet your needs. For your convenience, java.time includes static methods to yield special implementations. These alternate implementations can be valuable during testing.</p>\n<h2>Altered cadence</h2>\n<p>The various  <code>tick…</code> methods produce clocks that increment the current moment with a different cadence.</p>\n<p>The default <code>Clock</code> reports a time updated as frequently as <a href=\"https://en.m.wikipedia.org/wiki/Millisecond\" rel=\"nofollow noreferrer\">milliseconds</a> in Java 8 and in Java 9 as fine as <a href=\"https://en.m.wikipedia.org/wiki/Nanosecond\" rel=\"nofollow noreferrer\">nanoseconds</a>  (depending on your hardware). You can ask for the true current moment to be reported with a different granularity.</p>\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#tickSeconds-java.time.ZoneId-\" rel=\"nofollow noreferrer\"><code>tickSeconds</code></a> - Increments in whole seconds</li>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#tickMinutes-java.time.ZoneId-\" rel=\"nofollow noreferrer\"><code>tickMinutes</code></a> - Increments in whole minutes</li>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#tick-java.time.Clock-java.time.Duration-\" rel=\"nofollow noreferrer\"><code>tick</code></a> - Increments by the passed <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\" rel=\"nofollow noreferrer\"><code>Duration</code></a> argument.</li>\n</ul>\n<h2>False clocks</h2>\n<p>Some clocks can lie, producing a result different than that of the host OS’ hardware clock.</p>\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#fixed-java.time.Instant-java.time.ZoneId-\" rel=\"nofollow noreferrer\"><code>fixed</code></a> - Reports a single unchanging (non-incrementing) moment as the current moment.</li>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#offset-java.time.Clock-java.time.Duration-\" rel=\"nofollow noreferrer\"><code>offset</code></a> - Reports the current moment but shifted by the passed <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\" rel=\"nofollow noreferrer\"><code>Duration</code></a> argument.</li>\n</ul>\n<p>For example, lock in the first moment of the earliest Christmas this year. in other words, when <a href=\"https://www.noradsanta.org/en/\" rel=\"nofollow noreferrer\">Santa and his reindeer make their first stop</a>. The earliest time zone nowadays seems to be <a href=\"https://en.wikipedia.org/wiki/Pacific/Kiritimati\" rel=\"nofollow noreferrer\"><code>Pacific/Kiritimati</code></a> at <code>+14:00</code>.</p>\n<pre><code>LocalDate ld = LocalDate.now( ZoneId.of( &quot;America/Montreal&quot; ) );\nLocalDate xmasThisYear = MonthDay.of( Month.DECEMBER , 25 ).atYear( ld.getYear() );\nZoneId earliestXmasZone = ZoneId.of( &quot;Pacific/Kiritimati&quot; ) ;\nZonedDateTime zdtEarliestXmasThisYear = xmasThisYear.atStartOfDay( earliestXmasZone );\nInstant instantEarliestXmasThisYear = zdtEarliestXmasThisYear.toInstant();\nClock clockEarliestXmasThisYear = Clock.fixed( instantEarliestXmasThisYear , earliestXmasZone );\n</code></pre>\n<p>Use that special fixed clock to always return the same moment. We get the first moment of Christmas day in <a href=\"https://en.wikipedia.org/wiki/Kiritimati\" rel=\"nofollow noreferrer\">Kiritimati</a>, with UTC showing a <a href=\"https://en.wikipedia.org/wiki/Wall-clock_time\" rel=\"nofollow noreferrer\">wall-clock time</a> of fourteen hours earlier, 10 AM on the prior date of the 24th of December.</p>\n<img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Kiribati_on_the_globe_%28Polynesia_centered%29.svg/500px-Kiribati_on_the_globe_%28Polynesia_centered%29.svg.png\" height=\"180\">\n<pre><code>Instant instant = Instant.now( clockEarliestXmasThisYear );\nZonedDateTime zdt = ZonedDateTime.now( clockEarliestXmasThisYear );\n</code></pre>\n<blockquote>\n<p>instant.toString(): 2016-12-24T10:00:00Z</p>\n</blockquote>\n<blockquote>\n<p>zdt.toString(): 2016-12-25T00:00+14:00[Pacific/Kiritimati]</p>\n</blockquote>\n<p>See <a href=\"http://ideone.com/6XEhAN\" rel=\"nofollow noreferrer\">live code in IdeOne.com</a>.</p>\n<h2>True time, different time zone</h2>\n<p>You can control which time zone is assigned by the <code>Clock</code> implementation. This might be useful in some testing. But I do not recommend this in production code, where you should always specify explicitly the optional <code>ZoneId</code> or <code>ZoneOffset</code> arguments.</p>\n<p>You can specify that UTC be the default zone.</p>\n<pre><code>ZonedDateTime zdtClockSystemUTC = ZonedDateTime.now ( Clock.systemUTC () );\n</code></pre>\n<p>You can specify any particular time zone. Specify a <a href=\"https://en.wikipedia.org/wiki/List_of_tz_zones_by_name\" rel=\"nofollow noreferrer\">proper time zone name</a> in the format of <code>continent/region</code>, such as <a href=\"https://en.wikipedia.org/wiki/America/Montreal\" rel=\"nofollow noreferrer\"><code>America/Montreal</code></a>, <a href=\"https://en.wikipedia.org/wiki/Africa/Casablanca\" rel=\"nofollow noreferrer\"><code>Africa/Casablanca</code></a>, or <code>Pacific/Auckland</code>. Never use the 3-4 letter abbreviation such as <code>EST</code> or <code>IST</code> as they are <em>not</em> true time zones, not standardized, and not even unique(!).</p>\n<pre><code>ZonedDateTime zdtClockSystem = ZonedDateTime.now ( Clock.system ( ZoneId.of ( &quot;America/Montreal&quot; ) ) );\n</code></pre>\n<p>You can specify the JVM’s current default time zone should be the default for a particular <code>Clock</code> object.</p>\n<pre><code>ZonedDateTime zdtClockSystemDefaultZone = ZonedDateTime.now ( Clock.systemDefaultZone () );\n</code></pre>\n<p>Run this code to compare. Note that they all report the same moment, the same point on the timeline. They differ only in <a href=\"https://en.wikipedia.org/wiki/Wall-clock_time\" rel=\"nofollow noreferrer\">wall-clock time</a>; in other words, three ways to say the same thing, three ways to display the same moment.</p>\n<pre><code>System.out.println ( &quot;zdtClockSystemUTC.toString(): &quot; + zdtClockSystemUTC );\nSystem.out.println ( &quot;zdtClockSystem.toString(): &quot; + zdtClockSystem );\nSystem.out.println ( &quot;zdtClockSystemDefaultZone.toString(): &quot; + zdtClockSystemDefaultZone );\n</code></pre>\n<p><code>America/Los_Angeles</code> was the JVM current default zone on the computer that ran this code.</p>\n<blockquote>\n<p>zdtClockSystemUTC.toString(): 2016-12-31T20:52:39.688Z</p>\n</blockquote>\n<blockquote>\n<p>zdtClockSystem.toString(): 2016-12-31T15:52:39.750-05:00[America/Montreal]</p>\n</blockquote>\n<blockquote>\n<p>zdtClockSystemDefaultZone.toString(): 2016-12-31T12:52:39.762-08:00[America/Los_Angeles]</p>\n</blockquote>\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a> class is always in UTC by definition. So these three zone-related <code>Clock</code> usages have exactly the same effect.</p>\n<pre><code>Instant instantClockSystemUTC = Instant.now ( Clock.systemUTC () );\nInstant instantClockSystem = Instant.now ( Clock.system ( ZoneId.of ( &quot;America/Montreal&quot; ) ) );\nInstant instantClockSystemDefaultZone = Instant.now ( Clock.systemDefaultZone () );\n</code></pre>\n<blockquote>\n<p>instantClockSystemUTC.toString(): 2016-12-31T20:52:39.763Z</p>\n</blockquote>\n<blockquote>\n<p>instantClockSystem.toString(): 2016-12-31T20:52:39.763Z</p>\n</blockquote>\n<blockquote>\n<p>instantClockSystemDefaultZone.toString(): 2016-12-31T20:52:39.763Z</p>\n</blockquote>\n<h2>Default clock</h2>\n<p>The implementation used by default for <code>Instant.now</code> is the one returned by <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#systemUTC--\" rel=\"nofollow noreferrer\"><code>Clock.systemUTC()</code></a>. This is the implementation used when you do not specify a <code>Clock</code>. See for yourself in <a href=\"http://hg.openjdk.java.net/jdk9/dev/jdk/file/caa487ca77b0/src/java.base/share/classes/java/time/Instant.java\" rel=\"nofollow noreferrer\">pre-release Java 9 source code for <code>Instant.now</code></a>.</p>\n<pre><code>public static Instant now() {\n    return Clock.systemUTC().instant();\n}\n</code></pre>\n<p>The default <code>Clock</code> for <code>OffsetDateTime.now</code> and <code>ZonedDateTime.now</code> is <code>Clock.systemDefaultZone()</code>. See <a href=\"http://hg.openjdk.java.net/jdk9/dev/jdk/file/caa487ca77b0/src/java.base/share/classes/java/time/ZonedDateTime.java\" rel=\"nofollow noreferrer\">source code</a>.</p>\n<pre><code>public static ZonedDateTime now() {\n    return now(Clock.systemDefaultZone());\n}\n</code></pre>\n<p>The behavior of the default implementations changed between Java 8 and Java 9. In Java 8, the current moment is captured with a resolution only in <a href=\"https://en.wikipedia.org/wiki/Millisecond\" rel=\"nofollow noreferrer\">milliseconds</a> despite the classes’ ability to store a resolution of <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"nofollow noreferrer\">nanoseconds</a>. Java 9 brings a new implementation able to capture the current moment with a resolution of nanoseconds – depending, of course, on the capability of your computer hardware clock.</p>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"nofollow noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes. Hibernate 5 &amp; JPA 2.2 support <em>java.time</em>.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"nofollow noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"nofollow noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java 9</strong></a> brought some minor features and fixes.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a>\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a>\n<ul>\n<li>Later versions of Android (26+) bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), a process known as <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"nofollow noreferrer\"><em>API desugaring</em></a> brings a <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">subset of the <em>java.time</em></a> functionality not originally built into Android.\n<ul>\n<li>If the desugaring does not offer what you need, the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> (mentioned above) to Android. See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":142343,"reputation":127955,"user_id":379693,"accept_rate":95,"display_name":"Paresh Mayani"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1439374351,"creation_date":1439374351,"answer_id":31962226,"question_id":2001671,"body_markdown":"If you want to mock the method having `System.currentTimeMillis()` argument then you can pass [`anyLong()`][1] of Matchers class as an argument.\r\n\r\nP.S. I am able to run my test case successfully using the above trick and just to share more details about my test that I am using PowerMock and Mockito frameworks.\r\n\r\n\r\n  [1]: http://docs.mockito.googlecode.com/hg/1.9.5/org/mockito/Matchers.html#anyLong()","title":"Override Java System.currentTimeMillis for testing time sensitive code","body":"<p>If you want to mock the method having <code>System.currentTimeMillis()</code> argument then you can pass <a href=\"http://docs.mockito.googlecode.com/hg/1.9.5/org/mockito/Matchers.html#anyLong()\" rel=\"nofollow\"><code>anyLong()</code></a> of Matchers class as an argument.</p>\n\n<p>P.S. I am able to run my test case successfully using the above trick and just to share more details about my test that I am using PowerMock and Mockito frameworks.</p>\n"},{"tags":[],"owner":{"account_id":6282997,"reputation":995,"user_id":4883320,"display_name":"KiriSakow"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1503472975,"creation_date":1503326794,"answer_id":45800050,"question_id":2001671,"body_markdown":"## A working way to override current system time for JUnit testing purposes in a Java 8 web application with EasyMock, without Joda Time, and without PowerMock. ##\r\n\r\nHere&#39;s what you need to do:\r\n\r\n## What needs to be done in the tested class ##\r\n\r\n### Step 1 ###\r\nAdd a new `java.time.Clock` attribute to the tested class `MyService` and make sure the new attribute will be initialized properly at default values with an instantiation block or a constructor:\r\n\r\n    import java.time.Clock;\r\n    import java.time.LocalDateTime;\r\n\r\n    public class MyService {\r\n      // (...)\r\n      private Clock clock;\r\n      public Clock getClock() { return clock; }\r\n      public void setClock(Clock newClock) { clock = newClock; }\r\n    \r\n      public void initDefaultClock() {\r\n        setClock(\r\n          Clock.system(\r\n            Clock.systemDefaultZone().getZone() \r\n            // You can just as well use\r\n            // java.util.TimeZone.getDefault().toZoneId() instead\r\n          )\r\n        );\r\n      }\r\n      { \r\n        initDefaultClock(); // initialisation in an instantiation block, but \r\n                            // it can be done in a constructor just as well\r\n      }\r\n      // (...)\r\n    }\r\n\r\n### Step 2 ###\r\nInject the new attribute `clock` into the method which calls for a current date-time. For instance, in my case I had to perform a check of whether a date stored in dataase happened before `LocalDateTime.now()`, which I remplaced with `LocalDateTime.now(clock)`, like so:\r\n\r\n    import java.time.Clock;\r\n    import java.time.LocalDateTime;\r\n\r\n    public class MyService {\r\n      // (...)\r\n      protected void doExecute() {\r\n        LocalDateTime dateToBeCompared = someLogic.whichReturns().aDate().fromDB();\r\n        while (dateToBeCompared.isBefore(LocalDateTime.now(clock))) {\r\n          someOtherLogic();\r\n        }\r\n      }\r\n      // (...) \r\n    }\r\n\r\n## What needs to be done in the test class ##\r\n\r\n### Step 3 ###\r\nIn the test class, create a mock clock object and inject it into the tested class&#39;s instance just before you call the tested method `doExecute()`, then reset it back right afterwards, like so:\r\n\r\n    import java.time.Clock;\r\n    import java.time.LocalDateTime;\r\n    import java.time.OffsetDateTime;\r\n    import org.junit.Test;\r\n \r\n    public class MyServiceTest {\r\n      // (...)\r\n      private int year = 2017;\r\n      private int month = 2;\r\n      private int day = 3;\r\n \r\n      @Test\r\n      public void doExecuteTest() throws Exception {\r\n        // (...) EasyMock stuff like mock(..), expect(..), replay(..) and whatnot\r\n     \r\n        MyService myService = new MyService();\r\n        Clock mockClock =\r\n          Clock.fixed(\r\n            LocalDateTime.of(year, month, day, 0, 0).toInstant(OffsetDateTime.now().getOffset()),\r\n            Clock.systemDefaultZone().getZone() // or java.util.TimeZone.getDefault().toZoneId()\r\n          );\r\n        myService.setClock(mockClock); // set it before calling the tested method\r\n     \r\n        myService.doExecute(); // calling tested method \r\n \r\n        myService.initDefaultClock(); // reset the clock to default right afterwards with our own previously created method\r\n \r\n        // (...) remaining EasyMock stuff: verify(..) and assertEquals(..)\r\n        }\r\n      }\r\n\r\nCheck it in debug mode and you will see the date of 2017 Feb 3 has been correctly injected into `myService` instance and used in the comparison instruction, and then has been properly reset to current date with `initDefaultClock()`.","title":"Override Java System.currentTimeMillis for testing time sensitive code","body":"<h2>A working way to override current system time for JUnit testing purposes in a Java 8 web application with EasyMock, without Joda Time, and without PowerMock.</h2>\n\n<p>Here's what you need to do:</p>\n\n<h2>What needs to be done in the tested class</h2>\n\n<h3>Step 1</h3>\n\n<p>Add a new <code>java.time.Clock</code> attribute to the tested class <code>MyService</code> and make sure the new attribute will be initialized properly at default values with an instantiation block or a constructor:</p>\n\n<pre><code>import java.time.Clock;\nimport java.time.LocalDateTime;\n\npublic class MyService {\n  // (...)\n  private Clock clock;\n  public Clock getClock() { return clock; }\n  public void setClock(Clock newClock) { clock = newClock; }\n\n  public void initDefaultClock() {\n    setClock(\n      Clock.system(\n        Clock.systemDefaultZone().getZone() \n        // You can just as well use\n        // java.util.TimeZone.getDefault().toZoneId() instead\n      )\n    );\n  }\n  { \n    initDefaultClock(); // initialisation in an instantiation block, but \n                        // it can be done in a constructor just as well\n  }\n  // (...)\n}\n</code></pre>\n\n<h3>Step 2</h3>\n\n<p>Inject the new attribute <code>clock</code> into the method which calls for a current date-time. For instance, in my case I had to perform a check of whether a date stored in dataase happened before <code>LocalDateTime.now()</code>, which I remplaced with <code>LocalDateTime.now(clock)</code>, like so:</p>\n\n<pre><code>import java.time.Clock;\nimport java.time.LocalDateTime;\n\npublic class MyService {\n  // (...)\n  protected void doExecute() {\n    LocalDateTime dateToBeCompared = someLogic.whichReturns().aDate().fromDB();\n    while (dateToBeCompared.isBefore(LocalDateTime.now(clock))) {\n      someOtherLogic();\n    }\n  }\n  // (...) \n}\n</code></pre>\n\n<h2>What needs to be done in the test class</h2>\n\n<h3>Step 3</h3>\n\n<p>In the test class, create a mock clock object and inject it into the tested class's instance just before you call the tested method <code>doExecute()</code>, then reset it back right afterwards, like so:</p>\n\n<pre><code>import java.time.Clock;\nimport java.time.LocalDateTime;\nimport java.time.OffsetDateTime;\nimport org.junit.Test;\n\npublic class MyServiceTest {\n  // (...)\n  private int year = 2017;\n  private int month = 2;\n  private int day = 3;\n\n  @Test\n  public void doExecuteTest() throws Exception {\n    // (...) EasyMock stuff like mock(..), expect(..), replay(..) and whatnot\n\n    MyService myService = new MyService();\n    Clock mockClock =\n      Clock.fixed(\n        LocalDateTime.of(year, month, day, 0, 0).toInstant(OffsetDateTime.now().getOffset()),\n        Clock.systemDefaultZone().getZone() // or java.util.TimeZone.getDefault().toZoneId()\n      );\n    myService.setClock(mockClock); // set it before calling the tested method\n\n    myService.doExecute(); // calling tested method \n\n    myService.initDefaultClock(); // reset the clock to default right afterwards with our own previously created method\n\n    // (...) remaining EasyMock stuff: verify(..) and assertEquals(..)\n    }\n  }\n</code></pre>\n\n<p>Check it in debug mode and you will see the date of 2017 Feb 3 has been correctly injected into <code>myService</code> instance and used in the comparison instruction, and then has been properly reset to current date with <code>initDefaultClock()</code>.</p>\n"},{"tags":[],"owner":{"account_id":2432014,"reputation":440,"user_id":2122722,"display_name":"faxmodem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1509702105,"creation_date":1509702105,"answer_id":47092565,"question_id":2001671,"body_markdown":"If you&#39;re running Linux, you can use the master branch of libfaketime, or at the time of testing commit [4ce2835][1].\r\n\r\nSimply set the environment variable with the time you&#39;d like to mock your java application with, and run it using ld-preloading:\r\n\r\n    # bash\r\n    export FAKETIME=&quot;1985-10-26 01:21:00&quot;\r\n    export DONT_FAKE_MONOTONIC=1\r\n    LD_PRELOAD=/usr/local/lib/faketime/libfaketimeMT.so.1 java -jar myapp.jar\r\n\r\nThe second environment variable is paramount for java applications, which otherwise would freeze. It requires the master branch of libfaketime at the time of writing.\r\n\r\nIf you&#39;d like to change the time of a systemd managed service, just add the following to your unit file overrides, e.g. for elasticsearch this would be `/etc/systemd/system/elasticsearch.service.d/override.conf`:\r\n\r\n    [Service]\r\n    Environment=&quot;FAKETIME=2017-10-31 23:00:00&quot;\r\n    Environment=&quot;DONT_FAKE_MONOTONIC=1&quot;\r\n    Environment=&quot;LD_PRELOAD=/usr/local/lib/faketime/libfaketimeMT.so.1&quot;\r\n\r\nDon&#39;t forget to reload systemd using `systemctl daemon-reload\r\n\r\n  [1]: https://github.com/wolfcw/libfaketime/commit/4ce283594fc212d724cf44a90bc3cfc61474b3c9","title":"Override Java System.currentTimeMillis for testing time sensitive code","body":"<p>If you're running Linux, you can use the master branch of libfaketime, or at the time of testing commit <a href=\"https://github.com/wolfcw/libfaketime/commit/4ce283594fc212d724cf44a90bc3cfc61474b3c9\" rel=\"nofollow noreferrer\">4ce2835</a>.</p>\n\n<p>Simply set the environment variable with the time you'd like to mock your java application with, and run it using ld-preloading:</p>\n\n<pre><code># bash\nexport FAKETIME=\"1985-10-26 01:21:00\"\nexport DONT_FAKE_MONOTONIC=1\nLD_PRELOAD=/usr/local/lib/faketime/libfaketimeMT.so.1 java -jar myapp.jar\n</code></pre>\n\n<p>The second environment variable is paramount for java applications, which otherwise would freeze. It requires the master branch of libfaketime at the time of writing.</p>\n\n<p>If you'd like to change the time of a systemd managed service, just add the following to your unit file overrides, e.g. for elasticsearch this would be <code>/etc/systemd/system/elasticsearch.service.d/override.conf</code>:</p>\n\n<pre><code>[Service]\nEnvironment=\"FAKETIME=2017-10-31 23:00:00\"\nEnvironment=\"DONT_FAKE_MONOTONIC=1\"\nEnvironment=\"LD_PRELOAD=/usr/local/lib/faketime/libfaketimeMT.so.1\"\n</code></pre>\n\n<p>Don't forget to reload systemd using `systemctl daemon-reload</p>\n"},{"tags":[],"owner":{"account_id":10168350,"reputation":1388,"user_id":7666239,"display_name":"Sergey Nemchinov"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1617374068,"creation_date":1617373731,"answer_id":66920829,"question_id":2001671,"body_markdown":"Here is an example using PowerMockito. Also there is an example with [new Date()][1]. &lt;br&gt;\r\nMore details about [mocking system classes][2].\r\n\r\n```\r\n@RunWith(PowerMockRunner.class)\r\n@PrepareForTest(LegacyClass.class)\r\npublic class SystemTimeTest {\r\n    \r\n    private final Date fakeNow = Date.from(Instant.parse(&quot;2010-12-03T10:15:30.00Z&quot;));\r\n\r\n    @Before\r\n    public void init() {\r\n        PowerMockito.mockStatic(System.class);\r\n        PowerMockito.when(System.currentTimeMillis()).thenReturn(fakeNow.getTime());\r\n        System.out.println(&quot;Fake currentTimeMillis: &quot; + System.currentTimeMillis());\r\n    }\r\n\r\n    @Test\r\n    public void legacyClass() {\r\n        new LegacyClass().methodWithCurrentTimeMillis();\r\n    }\r\n\r\n}\r\n```\r\n\r\nSome legacy class you are testing:\r\n```\r\nclass LegacyClass {\r\n\r\n    public void methodWithCurrentTimeMillis() {\r\n        long now = System.currentTimeMillis();\r\n        System.out.println(&quot;LegacyClass System.currentTimeMillis() is &quot; + now);\r\n    }\r\n\r\n}\r\n```\r\n\r\nConsole output\r\n```\r\nFake currentTimeMillis: 1291371330000\r\nLegacyClass System.currentTimeMillis() is 1291371330000\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/66920707/7666239\r\n  [2]: https://github.com/powermock/powermock/wiki/Mock-System","title":"Override Java System.currentTimeMillis for testing time sensitive code","body":"<p>Here is an example using PowerMockito. Also there is an example with <a href=\"https://stackoverflow.com/a/66920707/7666239\">new Date()</a>. <br>\nMore details about <a href=\"https://github.com/powermock/powermock/wiki/Mock-System\" rel=\"nofollow noreferrer\">mocking system classes</a>.</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest(LegacyClass.class)\npublic class SystemTimeTest {\n    \n    private final Date fakeNow = Date.from(Instant.parse(&quot;2010-12-03T10:15:30.00Z&quot;));\n\n    @Before\n    public void init() {\n        PowerMockito.mockStatic(System.class);\n        PowerMockito.when(System.currentTimeMillis()).thenReturn(fakeNow.getTime());\n        System.out.println(&quot;Fake currentTimeMillis: &quot; + System.currentTimeMillis());\n    }\n\n    @Test\n    public void legacyClass() {\n        new LegacyClass().methodWithCurrentTimeMillis();\n    }\n\n}\n</code></pre>\n<p>Some legacy class you are testing:</p>\n<pre><code>class LegacyClass {\n\n    public void methodWithCurrentTimeMillis() {\n        long now = System.currentTimeMillis();\n        System.out.println(&quot;LegacyClass System.currentTimeMillis() is &quot; + now);\n    }\n\n}\n</code></pre>\n<p>Console output</p>\n<pre><code>Fake currentTimeMillis: 1291371330000\nLegacyClass System.currentTimeMillis() is 1291371330000\n</code></pre>\n"}],"owner":{"account_id":33530,"reputation":11809,"user_id":93953,"accept_rate":56,"display_name":"Mike Clark"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134046,"favorite_count":0,"down_vote_count":1,"up_vote_count":169,"accepted_answer_id":2001696,"answer_count":12,"score":168,"last_activity_date":1701432757,"creation_date":1262633993,"question_id":2001671,"body_markdown":"Is there a way, either in code or with JVM arguments, to override the current time, as presented via `System.currentTimeMillis`, other than manually changing the system clock on the host machine?\r\n\r\nA little background:\r\n\r\nWe have a system that runs a number of accounting jobs that revolve much of their logic around the current date (ie 1st of the month, 1st of the year, etc)\r\n\r\nUnfortunately, a lot of the legacy code calls functions such as `new Date()` or `Calendar.getInstance()`, both of which eventually call down to `System.currentTimeMillis`.\r\n\r\nFor testing purposes, right now, we are stuck with manually updating the system clock to manipulate what time and date the code thinks that the test is being run.\r\n\r\nSo my question is:\r\n\r\nIs there a way to override what is returned by `System.currentTimeMillis`?  For example, to tell the JVM to automatically add or subtract some offset before returning from that method?","title":"Override Java System.currentTimeMillis for testing time sensitive code","body":"<p>Is there a way, either in code or with JVM arguments, to override the current time, as presented via <code>System.currentTimeMillis</code>, other than manually changing the system clock on the host machine?</p>\n<p>A little background:</p>\n<p>We have a system that runs a number of accounting jobs that revolve much of their logic around the current date (ie 1st of the month, 1st of the year, etc)</p>\n<p>Unfortunately, a lot of the legacy code calls functions such as <code>new Date()</code> or <code>Calendar.getInstance()</code>, both of which eventually call down to <code>System.currentTimeMillis</code>.</p>\n<p>For testing purposes, right now, we are stuck with manually updating the system clock to manipulate what time and date the code thinks that the test is being run.</p>\n<p>So my question is:</p>\n<p>Is there a way to override what is returned by <code>System.currentTimeMillis</code>?  For example, to tell the JVM to automatically add or subtract some offset before returning from that method?</p>\n"},{"tags":["java","spring-boot","graphql"],"owner":{"account_id":21900928,"reputation":29,"user_id":16186615,"display_name":"raed abu sada"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701432285,"creation_date":1701432285,"question_id":77585147,"body_markdown":"I have a spring boot GraphQL API and I want to consume it in another spring boot app using GraphQL Client. I am using spring boot version 3.\r\nwhen I execute mutate which works as data is added to the database, I am not able to figure out how to convert the received response to java class. below is my ClientService class.\r\nany advise?\r\nnote: it only worked for me is by using Map to get key value pairs of the received object.\r\nObjectMapper didnt work.\r\n\r\n    package com.webtech.graphqlclient.service;\r\n\r\n    import com.webtech.graphqlclient.webmodels.CreateStudentRequest;\r\n    import com.webtech.graphqlclient.webmodels.StudentResponse;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.graphql.client.HttpGraphQlClient;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.web.reactive.function.client.WebClient;\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.Objects;\r\n\r\n    @Service\r\n    public class ClientService {\r\n\r\n    private final HttpGraphQlClient graphQlClient;\r\n\r\n    public ClientService(@Value(&quot;${graphql.api.url}&quot;)String apiUrl) {\r\n        WebClient client = WebClient.builder()\r\n                .baseUrl(apiUrl)\r\n                .build();\r\n\r\n        graphQlClient  = HttpGraphQlClient.builder(client).build();\r\n    }\r\n\r\n    public StudentResponse getStudent(int id){\r\n\r\n        Map&lt;String, Object&gt; variables = new HashMap&lt;&gt;();\r\n\r\n        variables.put(&quot;id&quot;, id);\r\n\r\n        String query = &quot;&quot;&quot;\r\n                query getStudent($id: Int) {\r\n                  getStudent(id: $id) {\r\n                    id\r\n                    firstName\r\n                    lastName\r\n                    email\r\n                    street\r\n                    city\r\n                    fullName\r\n                    subjects(subjectNameFilter: All) {\r\n                      id\r\n                      subjectName\r\n                      marksObtained\r\n                    }\r\n                  }\r\n                }\r\n                &quot;&quot;&quot;;\r\n\r\n        return graphQlClient.document(query)\r\n                .variables(variables)\r\n                .retrieve(&quot;getStudent&quot;)\r\n                .toEntity(StudentResponse.class)\r\n                .block();\r\n    }\r\n\r\n    public StudentResponse createStudent(CreateStudentRequest createStudentRequest) {\r\n\r\n        Map&lt;String, Object&gt; variables = new HashMap&lt;&gt;();\r\n        variables.put(&quot;createStudentRequest&quot;, createStudentRequest);\r\n\r\n        String mutationQuery = &quot;&quot;&quot;\r\n                mutation createStudent($createStudentRequest: CreateStudentRequest) {\r\n                  createStudent(createStudentRequest: $createStudentRequest) {\r\n                    id\r\n                    firstName\r\n                    lastName\r\n                    email\r\n                    street\r\n                    city\r\n                    fullName\r\n                    subjects(subjectNameFilter: All) {\r\n                      id\r\n                      subjectName\r\n                      marksObtained\r\n                    }\r\n                  }\r\n                }\r\n                &quot;&quot;&quot;;\r\n\r\n         Map&lt;String, Object&gt; data = \r\n    Objects.requireNonNull(graphQlClient.document(mutationQuery)\r\n                         .variables(variables)\r\n                         .execute()\r\n                         .block())\r\n                .getData();\r\n\r\n        Map&lt;String, Object&gt; entity = (Map&lt;String, Object&gt;) data.get(&quot;createStudent&quot;);\r\n\r\n        int id = (int) entity.get(&quot;id&quot;);\r\n\r\n        return getStudent(id);\r\n\r\n    }\r\n    }\r\n","title":"GraphQL Client with spring boot","body":"<p>I have a spring boot GraphQL API and I want to consume it in another spring boot app using GraphQL Client. I am using spring boot version 3.\nwhen I execute mutate which works as data is added to the database, I am not able to figure out how to convert the received response to java class. below is my ClientService class.\nany advise?\nnote: it only worked for me is by using Map to get key value pairs of the received object.\nObjectMapper didnt work.</p>\n<pre><code>package com.webtech.graphqlclient.service;\n\nimport com.webtech.graphqlclient.webmodels.CreateStudentRequest;\nimport com.webtech.graphqlclient.webmodels.StudentResponse;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.graphql.client.HttpGraphQlClient;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.reactive.function.client.WebClient;\n\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Objects;\n\n@Service\npublic class ClientService {\n\nprivate final HttpGraphQlClient graphQlClient;\n\npublic ClientService(@Value(&quot;${graphql.api.url}&quot;)String apiUrl) {\n    WebClient client = WebClient.builder()\n            .baseUrl(apiUrl)\n            .build();\n\n    graphQlClient  = HttpGraphQlClient.builder(client).build();\n}\n\npublic StudentResponse getStudent(int id){\n\n    Map&lt;String, Object&gt; variables = new HashMap&lt;&gt;();\n\n    variables.put(&quot;id&quot;, id);\n\n    String query = &quot;&quot;&quot;\n            query getStudent($id: Int) {\n              getStudent(id: $id) {\n                id\n                firstName\n                lastName\n                email\n                street\n                city\n                fullName\n                subjects(subjectNameFilter: All) {\n                  id\n                  subjectName\n                  marksObtained\n                }\n              }\n            }\n            &quot;&quot;&quot;;\n\n    return graphQlClient.document(query)\n            .variables(variables)\n            .retrieve(&quot;getStudent&quot;)\n            .toEntity(StudentResponse.class)\n            .block();\n}\n\npublic StudentResponse createStudent(CreateStudentRequest createStudentRequest) {\n\n    Map&lt;String, Object&gt; variables = new HashMap&lt;&gt;();\n    variables.put(&quot;createStudentRequest&quot;, createStudentRequest);\n\n    String mutationQuery = &quot;&quot;&quot;\n            mutation createStudent($createStudentRequest: CreateStudentRequest) {\n              createStudent(createStudentRequest: $createStudentRequest) {\n                id\n                firstName\n                lastName\n                email\n                street\n                city\n                fullName\n                subjects(subjectNameFilter: All) {\n                  id\n                  subjectName\n                  marksObtained\n                }\n              }\n            }\n            &quot;&quot;&quot;;\n\n     Map&lt;String, Object&gt; data = \nObjects.requireNonNull(graphQlClient.document(mutationQuery)\n                     .variables(variables)\n                     .execute()\n                     .block())\n            .getData();\n\n    Map&lt;String, Object&gt; entity = (Map&lt;String, Object&gt;) data.get(&quot;createStudent&quot;);\n\n    int id = (int) entity.get(&quot;id&quot;);\n\n    return getStudent(id);\n\n}\n}\n</code></pre>\n"},{"tags":["java","apache-commons-httpclient"],"answers":[{"tags":[],"owner":{"account_id":2590393,"reputation":1553,"user_id":2245234,"accept_rate":51,"display_name":"Jeeppp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502208820,"creation_date":1502208820,"answer_id":45573283,"question_id":45573056,"body_markdown":"This looks like a dependency issue to me. May be the Class you are looking for is present in two different jars on your CP. ","title":"org.apache.http.conn.ssl.SSLConnectionSocketFactory not found within HttpClientBuilder.build()","body":"<p>This looks like a dependency issue to me. May be the Class you are looking for is present in two different jars on your CP. </p>\n"},{"tags":[],"owner":{"account_id":10591336,"reputation":3484,"user_id":7801800,"display_name":"Anshul Sharma"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1502211779,"creation_date":1502211779,"answer_id":45574139,"question_id":45573056,"body_markdown":"you have a different version of Apache Commons HTTP Client on your classpath. you can try below version with jdk 8.\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.1.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;","title":"org.apache.http.conn.ssl.SSLConnectionSocketFactory not found within HttpClientBuilder.build()","body":"<p>you have a different version of Apache Commons HTTP Client on your classpath. you can try below version with jdk 8.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n    &lt;version&gt;4.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701432270,"creation_date":1701432270,"answer_id":77585144,"question_id":45573056,"body_markdown":"This might happen while initializing SSLConnectionSocketFactory field:\r\n\r\n```java\r\npublic static final X509HostnameVerifier ALLOW_ALL_HOSTNAME_VERIFIER\r\n    = AllowAllHostnameVerifier.INSTANCE;\r\n```\r\nIn my case the org.apache.http.conn.ssl.AllowAllHostnameVerifier class did not have the INSTANCE field because it was shaded (patched) from tika-app.\r\n\r\nCheck in which dependency (jar) you have this class and how does it look like. If possible try to exclude the containing dependency or ugprade it to a version which has correct AllowAllHostnameVerifier.","title":"org.apache.http.conn.ssl.SSLConnectionSocketFactory not found within HttpClientBuilder.build()","body":"<p>This might happen while initializing SSLConnectionSocketFactory field:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final X509HostnameVerifier ALLOW_ALL_HOSTNAME_VERIFIER\n    = AllowAllHostnameVerifier.INSTANCE;\n</code></pre>\n<p>In my case the org.apache.http.conn.ssl.AllowAllHostnameVerifier class did not have the INSTANCE field because it was shaded (patched) from tika-app.</p>\n<p>Check in which dependency (jar) you have this class and how does it look like. If possible try to exclude the containing dependency or ugprade it to a version which has correct AllowAllHostnameVerifier.</p>\n"}],"owner":{"account_id":1961768,"reputation":619,"user_id":1763113,"accept_rate":72,"display_name":"Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1701432270,"creation_date":1502208126,"question_id":45573056,"body_markdown":"When I call this code:\r\n\r\n    HttpClientBuilder clientBuilder = HttpClientBuilder.create(); \r\n    LaxRedirectStrategy laxStrategy = new LaxRedirectStrategy();\r\n    clientBuilder = clientBuilder.setRedirectStrategy(laxStrategy);\r\n\r\n    httpClient = clientBuilder.build();   // FAILS HERE\r\n\r\nI get java.lang.NoSuchFieldError: INSTANCE\r\n\r\nLooks like it can&#39;t find the class org.apache.http.conn.ssl.SSLConnectionSocketFactory, however that class is found in a jar on my classpath.  How can I find the culprit?\r\n\r\nThanks!\r\nMike","title":"org.apache.http.conn.ssl.SSLConnectionSocketFactory not found within HttpClientBuilder.build()","body":"<p>When I call this code:</p>\n\n<pre><code>HttpClientBuilder clientBuilder = HttpClientBuilder.create(); \nLaxRedirectStrategy laxStrategy = new LaxRedirectStrategy();\nclientBuilder = clientBuilder.setRedirectStrategy(laxStrategy);\n\nhttpClient = clientBuilder.build();   // FAILS HERE\n</code></pre>\n\n<p>I get java.lang.NoSuchFieldError: INSTANCE</p>\n\n<p>Looks like it can't find the class org.apache.http.conn.ssl.SSLConnectionSocketFactory, however that class is found in a jar on my classpath.  How can I find the culprit?</p>\n\n<p>Thanks!\nMike</p>\n"},{"tags":["java","android","get"],"answers":[{"tags":[],"owner":{"account_id":17252943,"reputation":40,"user_id":12492698,"display_name":"Andrezila"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701431991,"creation_date":1701431991,"answer_id":77585120,"question_id":77580312,"body_markdown":"It&#39;s simple to make a request get with okhttp3:\r\n\r\n```\r\n\r\n\r\npublic class Client extends AppCompatActivity {\r\n    @Override\r\n    protected void onCreate(Bundle bundle) {\r\n        //Toast.makeText(getApplicationContext(), &quot;Clicado o 2&quot;, Toast.LENGTH_LONG).show();\r\n        super.onCreate(bundle);\r\n        setContentView(R.layout.activity_client);\r\n        Background_DoWork();\r\n\r\n    }\r\n\r\n    private final int Fine_Permision_Code = 1;\r\n    private GoogleMap myMap;\r\n    Location location;\r\n    FusedLocationProviderClient fs;\r\n\r\n    private void Background_DoWork() {\r\n        ImageButton imgbtnBack = findViewById(R.id.BackActivity);\r\n        imgbtnBack.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                finish();\r\n            }\r\n        });\r\n\r\n\r\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\r\n                .findFragmentById(R.id.map);\r\n\r\n\r\n        ActivityResultLauncher&lt;String[]&gt; locationPermissionRequest =\r\n                registerForActivityResult(new ActivityResultContracts\r\n                        .RequestMultiplePermissions(), result -&gt; {\r\n                    Boolean fineLocationGranted = result.getOrDefault(\r\n                            android.Manifest.permission.ACCESS_FINE_LOCATION, false);\r\n                    Boolean coarseLocationGranted = result.getOrDefault(\r\n                            android.Manifest.permission.ACCESS_COARSE_LOCATION, false);\r\n                    if ((fineLocationGranted != null &amp;&amp; fineLocationGranted) || (coarseLocationGranted != null &amp;&amp; coarseLocationGranted)) {\r\n\r\n                        LocationManager lm = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\r\n                        List&lt;String&gt; providers = lm.getProviders(true);\r\n                        Location location = null;\r\n\r\n\r\n                        if (ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n\r\n                                return;\r\n                        }\r\n\r\n                        lm.requestSingleUpdate(LocationManager.GPS_PROVIDER, new LocationListener() {\r\n                            @Override\r\n                            public void onLocationChanged(@NonNull Location location) {\r\n                                double lat = location.getLatitude();\r\n                                Log.d(&quot;lat: &quot;, &quot;&quot;+lat);\r\n                                double lng = location.getLongitude();\r\n                                Log.d(&quot;lng: &quot;, &quot;&quot;+lng);\r\n\r\n                                String path = &quot;https://nominatim.openstreetmap.org/reverse?lat=&quot; + lat + &quot;&amp;lon=&quot; + lng + &quot;&amp;format=json&amp;extratags=1&quot;;\r\n\r\n                                try {\r\n                                    Request rq = new Request.Builder().url(path).build();\r\n                                    OkHttpClient client = new OkHttpClient();\r\n\r\n                                    client.newCall(rq).enqueue(new Callback() {\r\n                                        @Override\r\n                                        public void onFailure(@NonNull Call call, @NonNull IOException e) {\r\n                                            Log.d(&quot;Error&quot;, &quot;&quot;+e);\r\n                                        }\r\n\r\n                                        @Override\r\n                                        public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\r\n                                            Log.d(&quot;Message&quot;, &quot;&quot;+response);\r\n                                        }\r\n                                    });\r\n                                }\r\n                                catch (Exception ex) {\r\n                                    Log.d(&quot;s&quot;, &quot;&quot;+ex);\r\n                                }\r\n                                finally {\r\n                                    //urlConnection.disconnect();\r\n                                }\r\n\r\n                            }\r\n                        }, null);\r\n\r\n                    }\r\n                });\r\n\r\n        locationPermissionRequest.launch(new String[] {\r\n                android.Manifest.permission.ACCESS_FINE_LOCATION,\r\n                android.Manifest.permission.ACCESS_COARSE_LOCATION\r\n        });\r\n    }\r\n}\r\n\r\n```\r\n\r\nI recomend read the documentation of [okhttp](https://square.github.io/okhttp/)","title":"Request Get on Android Studio","body":"<p>It's simple to make a request get with okhttp3:</p>\n<pre><code>\n\npublic class Client extends AppCompatActivity {\n    @Override\n    protected void onCreate(Bundle bundle) {\n        //Toast.makeText(getApplicationContext(), &quot;Clicado o 2&quot;, Toast.LENGTH_LONG).show();\n        super.onCreate(bundle);\n        setContentView(R.layout.activity_client);\n        Background_DoWork();\n\n    }\n\n    private final int Fine_Permision_Code = 1;\n    private GoogleMap myMap;\n    Location location;\n    FusedLocationProviderClient fs;\n\n    private void Background_DoWork() {\n        ImageButton imgbtnBack = findViewById(R.id.BackActivity);\n        imgbtnBack.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                finish();\n            }\n        });\n\n\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\n                .findFragmentById(R.id.map);\n\n\n        ActivityResultLauncher&lt;String[]&gt; locationPermissionRequest =\n                registerForActivityResult(new ActivityResultContracts\n                        .RequestMultiplePermissions(), result -&gt; {\n                    Boolean fineLocationGranted = result.getOrDefault(\n                            android.Manifest.permission.ACCESS_FINE_LOCATION, false);\n                    Boolean coarseLocationGranted = result.getOrDefault(\n                            android.Manifest.permission.ACCESS_COARSE_LOCATION, false);\n                    if ((fineLocationGranted != null &amp;&amp; fineLocationGranted) || (coarseLocationGranted != null &amp;&amp; coarseLocationGranted)) {\n\n                        LocationManager lm = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\n                        List&lt;String&gt; providers = lm.getProviders(true);\n                        Location location = null;\n\n\n                        if (ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n\n                                return;\n                        }\n\n                        lm.requestSingleUpdate(LocationManager.GPS_PROVIDER, new LocationListener() {\n                            @Override\n                            public void onLocationChanged(@NonNull Location location) {\n                                double lat = location.getLatitude();\n                                Log.d(&quot;lat: &quot;, &quot;&quot;+lat);\n                                double lng = location.getLongitude();\n                                Log.d(&quot;lng: &quot;, &quot;&quot;+lng);\n\n                                String path = &quot;https://nominatim.openstreetmap.org/reverse?lat=&quot; + lat + &quot;&amp;lon=&quot; + lng + &quot;&amp;format=json&amp;extratags=1&quot;;\n\n                                try {\n                                    Request rq = new Request.Builder().url(path).build();\n                                    OkHttpClient client = new OkHttpClient();\n\n                                    client.newCall(rq).enqueue(new Callback() {\n                                        @Override\n                                        public void onFailure(@NonNull Call call, @NonNull IOException e) {\n                                            Log.d(&quot;Error&quot;, &quot;&quot;+e);\n                                        }\n\n                                        @Override\n                                        public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\n                                            Log.d(&quot;Message&quot;, &quot;&quot;+response);\n                                        }\n                                    });\n                                }\n                                catch (Exception ex) {\n                                    Log.d(&quot;s&quot;, &quot;&quot;+ex);\n                                }\n                                finally {\n                                    //urlConnection.disconnect();\n                                }\n\n                            }\n                        }, null);\n\n                    }\n                });\n\n        locationPermissionRequest.launch(new String[] {\n                android.Manifest.permission.ACCESS_FINE_LOCATION,\n                android.Manifest.permission.ACCESS_COARSE_LOCATION\n        });\n    }\n}\n\n</code></pre>\n<p>I recomend read the documentation of <a href=\"https://square.github.io/okhttp/\" rel=\"nofollow noreferrer\">okhttp</a></p>\n"}],"owner":{"account_id":26248615,"reputation":11,"user_id":19921747,"display_name":"Carl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77585120,"answer_count":1,"score":0,"last_activity_date":1701431991,"creation_date":1701363631,"question_id":77580312,"body_markdown":"I&#39;m create a app to found where is the client (city, localization, route, ...) and to solve this i need make a request get to this website \r\n`https://nominatim.openstreetmap.org` \r\non android studio with language java, its possible to make?\r\n\r\n```\r\npublic class Player extends AppCompatActivity {\r\n    @Override\r\n    protected void onCreate(Bundle bundle) {\r\n        super.onCreate(bundle);\r\n        setContentView(R.layout.activity_client);\r\n        Background_DoWork();\r\n\r\n    }\r\n\r\n    \r\n    private void Background_DoWork() {\r\n        ImageButton imgbtnBack = findViewById(R.id.BackActivity);\r\n        imgbtnBack.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                finish();\r\n            }\r\n        });\r\n\r\n\r\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\r\n                .findFragmentById(R.id.map);\r\n\r\n\r\n        ActivityResultLauncher&lt;String[]&gt; locationPermissionRequest =\r\n                registerForActivityResult(new ActivityResultContracts\r\n                        .RequestMultiplePermissions(), result -&gt; {\r\n                    Boolean fineLocationGranted = result.getOrDefault(\r\n                            android.Manifest.permission.ACCESS_FINE_LOCATION, false);\r\n                    Boolean coarseLocationGranted = result.getOrDefault(\r\n                            android.Manifest.permission.ACCESS_COARSE_LOCATION, false);\r\n                    if ((fineLocationGranted != null &amp;&amp; fineLocationGranted) || (coarseLocationGranted != null &amp;&amp; coarseLocationGranted)) {\r\n\r\n                        LocationManager lm = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\r\n                        List&lt;String&gt; providers = lm.getProviders(true);\r\n                        Location location = null;\r\n\r\n\r\n                        if (ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n\r\n                                return;\r\n                        }\r\n\r\n                        lm.requestSingleUpdate(LocationManager.GPS_PROVIDER, new LocationListener() {\r\n                            @Override\r\n                            public void onLocationChanged(@NonNull Location location) {\r\n                                double lat = location.getLatitude();\r\n                                Log.d(&quot;lat: &quot;, &quot;&quot;+lat);\r\n                                double lng = location.getLongitude();\r\n                                Log.d(&quot;lng: &quot;, &quot;&quot;+lng);\r\n\r\n                                String path = &quot;https://nominatim.openstreetmap.org/reverse?lat=&quot; + lat +\r\n                                        &quot;&amp;lon=&quot; + lng + &quot;&amp;format=json&amp;extratags=1&quot;;\r\n\r\n\r\n                                try {\r\n                                    /* Make the request here*/\r\n                                }\r\n                                catch (Exception ex) {\r\n                                }\r\n\r\n                            }\r\n                        }, null);\r\n\r\n                    }\r\n                });\r\n\r\n        locationPermissionRequest.launch(new String[] {\r\n                android.Manifest.permission.ACCESS_FINE_LOCATION,\r\n                android.Manifest.permission.ACCESS_COARSE_LOCATION\r\n        });\r\n    }\r\n}\r\n\r\n```\r\n\r\nI would like a simple request get, to understand from future projects. ","title":"Request Get on Android Studio","body":"<p>I'm create a app to found where is the client (city, localization, route, ...) and to solve this i need make a request get to this website\n<code>https://nominatim.openstreetmap.org</code>\non android studio with language java, its possible to make?</p>\n<pre><code>public class Player extends AppCompatActivity {\n    @Override\n    protected void onCreate(Bundle bundle) {\n        super.onCreate(bundle);\n        setContentView(R.layout.activity_client);\n        Background_DoWork();\n\n    }\n\n    \n    private void Background_DoWork() {\n        ImageButton imgbtnBack = findViewById(R.id.BackActivity);\n        imgbtnBack.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                finish();\n            }\n        });\n\n\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\n                .findFragmentById(R.id.map);\n\n\n        ActivityResultLauncher&lt;String[]&gt; locationPermissionRequest =\n                registerForActivityResult(new ActivityResultContracts\n                        .RequestMultiplePermissions(), result -&gt; {\n                    Boolean fineLocationGranted = result.getOrDefault(\n                            android.Manifest.permission.ACCESS_FINE_LOCATION, false);\n                    Boolean coarseLocationGranted = result.getOrDefault(\n                            android.Manifest.permission.ACCESS_COARSE_LOCATION, false);\n                    if ((fineLocationGranted != null &amp;&amp; fineLocationGranted) || (coarseLocationGranted != null &amp;&amp; coarseLocationGranted)) {\n\n                        LocationManager lm = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\n                        List&lt;String&gt; providers = lm.getProviders(true);\n                        Location location = null;\n\n\n                        if (ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n\n                                return;\n                        }\n\n                        lm.requestSingleUpdate(LocationManager.GPS_PROVIDER, new LocationListener() {\n                            @Override\n                            public void onLocationChanged(@NonNull Location location) {\n                                double lat = location.getLatitude();\n                                Log.d(&quot;lat: &quot;, &quot;&quot;+lat);\n                                double lng = location.getLongitude();\n                                Log.d(&quot;lng: &quot;, &quot;&quot;+lng);\n\n                                String path = &quot;https://nominatim.openstreetmap.org/reverse?lat=&quot; + lat +\n                                        &quot;&amp;lon=&quot; + lng + &quot;&amp;format=json&amp;extratags=1&quot;;\n\n\n                                try {\n                                    /* Make the request here*/\n                                }\n                                catch (Exception ex) {\n                                }\n\n                            }\n                        }, null);\n\n                    }\n                });\n\n        locationPermissionRequest.launch(new String[] {\n                android.Manifest.permission.ACCESS_FINE_LOCATION,\n                android.Manifest.permission.ACCESS_COARSE_LOCATION\n        });\n    }\n}\n\n</code></pre>\n<p>I would like a simple request get, to understand from future projects.</p>\n"},{"tags":["java","scala","gradle"],"comments":[{"owner":{"account_id":5218565,"reputation":1034,"user_id":6540591,"display_name":"User51"},"score":0,"creation_date":1701355245,"post_id":77577695,"comment_id":136767439,"body_markdown":"Perhaps indicate the desired end state?  You want all the files, but you don&#39;t want them merged into one.  If you want all the files, then you&#39;ll will need to either have varying filenames or something else.  If you indicate what you would prefer your end jar to look like, it would be easier to suggest a solution.","body":"Perhaps indicate the desired end state?  You want all the files, but you don&#39;t want them merged into one.  If you want all the files, then you&#39;ll will need to either have varying filenames or something else.  If you indicate what you would prefer your end jar to look like, it would be easier to suggest a solution."},{"owner":{"account_id":222110,"reputation":5731,"user_id":480494,"accept_rate":92,"display_name":"Raiv"},"score":0,"creation_date":1701431575,"post_id":77577695,"comment_id":136777665,"body_markdown":"I need a kind of partial merge, when all conf files are merged, but other files are copied without merge","body":"I need a kind of partial merge, when all conf files are merged, but other files are copied without merge"}],"owner":{"account_id":222110,"reputation":5731,"user_id":480494,"accept_rate":92,"display_name":"Raiv"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701431535,"creation_date":1701340293,"question_id":77577695,"body_markdown":"I have a gradle project (scala) with inner structure like this:\r\n```\r\napp\r\n|-reference.conf\r\nlib1\r\n|  |- reference.conf\r\nlib2\r\n   |-reference.conf\r\n   lib3\r\n      |- reference.conf\r\n```\r\nMy goal is to build fat jar with all these configs included, from bottom to top level. They all lie in the classpath root, so applying default merge strategies from gradle will save only first one. Is where a plugin to achieve that, or maybe any ideas how to write such plugin? Searching gives me variants with just appending all content to one file, but I need somehow to preserve applying order, lowest level libs should go first. Any ideas how to achieve that? default [merge strategies][1] have no content merge policies included. Renaming files by extension can also fit, but then I need to sort them somehow before reading.\r\nI want all files by mask **/*.conf merged into one, and all the rest should be added as is.\r\n \r\n  [1]: https://docs.gradle.org/8.4/javadoc/org/gradle/api/file/DuplicatesStrategy.html#INCLUDE","title":"Gradle multiproject merge config files on build","body":"<p>I have a gradle project (scala) with inner structure like this:</p>\n<pre><code>app\n|-reference.conf\nlib1\n|  |- reference.conf\nlib2\n   |-reference.conf\n   lib3\n      |- reference.conf\n</code></pre>\n<p>My goal is to build fat jar with all these configs included, from bottom to top level. They all lie in the classpath root, so applying default merge strategies from gradle will save only first one. Is where a plugin to achieve that, or maybe any ideas how to write such plugin? Searching gives me variants with just appending all content to one file, but I need somehow to preserve applying order, lowest level libs should go first. Any ideas how to achieve that? default <a href=\"https://docs.gradle.org/8.4/javadoc/org/gradle/api/file/DuplicatesStrategy.html#INCLUDE\" rel=\"nofollow noreferrer\">merge strategies</a> have no content merge policies included. Renaming files by extension can also fit, but then I need to sort them somehow before reading.\nI want all files by mask **/*.conf merged into one, and all the rest should be added as is.</p>\n"},{"tags":["java","ssl","https","connection"],"comments":[{"owner":{"account_id":14996604,"reputation":482,"user_id":10825746,"display_name":"vivekdubey"},"score":0,"creation_date":1574744148,"post_id":59043891,"comment_id":104329749,"body_markdown":"Can you check proxy setting if you are running with eclipse or any IDE?and remove connection timeout for testing.","body":"Can you check proxy setting if you are running with eclipse or any IDE?and remove connection timeout for testing."},{"owner":{"account_id":17147721,"reputation":31,"user_id":12410336,"display_name":"Sach_IN"},"score":0,"creation_date":1574744512,"post_id":59043891,"comment_id":104329857,"body_markdown":"vivekdubey am using intellij and i also removed connection timeout but not works","body":"vivekdubey am using intellij and i also removed connection timeout but not works"},{"owner":{"account_id":14996604,"reputation":482,"user_id":10825746,"display_name":"vivekdubey"},"score":0,"creation_date":1574744682,"post_id":59043891,"comment_id":104329913,"body_markdown":"Can you check proxy setting","body":"Can you check proxy setting"},{"owner":{"account_id":14996604,"reputation":482,"user_id":10825746,"display_name":"vivekdubey"},"score":0,"creation_date":1574745543,"post_id":59043891,"comment_id":104330160,"body_markdown":"You are not able to connect the url may be proxy problem or typing problem in url.","body":"You are not able to connect the url may be proxy problem or typing problem in url."},{"owner":{"account_id":17147721,"reputation":31,"user_id":12410336,"display_name":"Sach_IN"},"score":0,"creation_date":1574745724,"post_id":59043891,"comment_id":104330210,"body_markdown":"I was using the office internet which might be using some proxies.So I tried using my mobile Internet through Hotspot and I was able to fetch the results.\n\nThis might happen due to some proxy preventing it from fetching the results.\n\nThanks","body":"I was using the office internet which might be using some proxies.So I tried using my mobile Internet through Hotspot and I was able to fetch the results.  This might happen due to some proxy preventing it from fetching the results.  Thanks"},{"owner":{"account_id":17147721,"reputation":31,"user_id":12410336,"display_name":"Sach_IN"},"score":0,"creation_date":1574745803,"post_id":59043891,"comment_id":104330230,"body_markdown":"@vivekdubey can you tell me how to disable proxy so that i can access from my company internet itself","body":"@vivekdubey can you tell me how to disable proxy so that i can access from my company internet itself"},{"owner":{"account_id":14996604,"reputation":482,"user_id":10825746,"display_name":"vivekdubey"},"score":0,"creation_date":1574747780,"post_id":59043891,"comment_id":104330804,"body_markdown":"Talk to your team&#39;s network admin guys,they can help you","body":"Talk to your team&#39;s network admin guys,they can help you"}],"answers":[{"tags":[],"owner":{"account_id":17178914,"reputation":21,"user_id":12434630,"display_name":"Sven"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574744277,"creation_date":1574744277,"answer_id":59044003,"question_id":59043891,"body_markdown":"    private static void getEmployees()\r\n    {\r\n        final String uri = &quot;http://localhost:8080/springrestexample/employees&quot;;\r\n         \r\n        RestTemplate restTemplate = new RestTemplate();\r\n         \r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\r\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(&quot;parameters&quot;, headers);\r\n         \r\n        ResponseEntity&lt;String&gt; result = restTemplate.exchange(uri, HttpMethod.GET, entity, String.class);\r\n         \r\n        System.out.println(result);\r\n    }\r\n\r\nhttps://howtodoinjava.com/spring-boot2/resttemplate/spring-restful-client-resttemplate-example/","title":"Java Https POST fails with connection timed out but works with Postman. Can anyone help me out?","body":"<pre><code>private static void getEmployees()\n{\n    final String uri = \"http://localhost:8080/springrestexample/employees\";\n\n    RestTemplate restTemplate = new RestTemplate();\n\n    HttpHeaders headers = new HttpHeaders();\n    headers.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\n    HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(\"parameters\", headers);\n\n    ResponseEntity&lt;String&gt; result = restTemplate.exchange(uri, HttpMethod.GET, entity, String.class);\n\n    System.out.println(result);\n}\n</code></pre>\n\n<p><a href=\"https://howtodoinjava.com/spring-boot2/resttemplate/spring-restful-client-resttemplate-example/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/spring-boot2/resttemplate/spring-restful-client-resttemplate-example/</a></p>\n"},{"tags":[],"owner":{"account_id":17147721,"reputation":31,"user_id":12410336,"display_name":"Sach_IN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574745858,"creation_date":1574745858,"answer_id":59044269,"question_id":59043891,"body_markdown":"I was using the office internet which might be using some proxies.So I tried using my mobile Internet through Hotspot and I was able to fetch the results.\r\n\r\nThis might happen due to some proxy preventing it from fetching the results.\r\n\r\nThanks","title":"Java Https POST fails with connection timed out but works with Postman. Can anyone help me out?","body":"<p>I was using the office internet which might be using some proxies.So I tried using my mobile Internet through Hotspot and I was able to fetch the results.</p>\n\n<p>This might happen due to some proxy preventing it from fetching the results.</p>\n\n<p>Thanks</p>\n"},{"tags":[],"owner":{"account_id":30039889,"reputation":1,"user_id":23020986,"display_name":"NEERAJ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701431347,"creation_date":1701431347,"answer_id":77585064,"question_id":59043891,"body_markdown":"I also faced similar problem but mine was more of a typo. I mixed up between http and https. ","title":"Java Https POST fails with connection timed out but works with Postman. Can anyone help me out?","body":"<p>I also faced similar problem but mine was more of a typo. I mixed up between http and https.</p>\n"}],"owner":{"account_id":17147721,"reputation":31,"user_id":12410336,"display_name":"Sach_IN"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1616,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1701431347,"creation_date":1574743489,"question_id":59043891,"body_markdown":"\r\n\r\n    URL url = new URL(“My url”);\r\n    HttpsURLConnection conn = (HttpsURLConnection) url.openConnection();\r\n    Base64EncoderDecoder encoder = new Base64EncoderDecoder();\r\n    String encoded = encoder.encodeToString(userName+”:”+password);\r\n    conn.setRequestProperty(AUTHORIZATION, BASIC + encoded);\r\n    conn.setRequestMethod(POST);\r\n    conn.setRequestProperty(CONTENT_TYPE, FORM_URL_ENCODED);\t\t\r\n    conn.setConnectTimeout(10000);\r\n    conn.setDoInput(true);\r\n    conn.setDoOutput(true);\r\n    conn.connect();\r\nCan anyone tell me whats wrong with my code?","title":"Java Https POST fails with connection timed out but works with Postman. Can anyone help me out?","body":"<pre><code>URL url = new URL(“My url”);\nHttpsURLConnection conn = (HttpsURLConnection) url.openConnection();\nBase64EncoderDecoder encoder = new Base64EncoderDecoder();\nString encoded = encoder.encodeToString(userName+”:”+password);\nconn.setRequestProperty(AUTHORIZATION, BASIC + encoded);\nconn.setRequestMethod(POST);\nconn.setRequestProperty(CONTENT_TYPE, FORM_URL_ENCODED);        \nconn.setConnectTimeout(10000);\nconn.setDoInput(true);\nconn.setDoOutput(true);\nconn.connect();\n</code></pre>\n\n<p>Can anyone tell me whats wrong with my code?</p>\n"},{"tags":["python","java","robotframework","jpype"],"comments":[{"owner":{"account_id":2205293,"reputation":3365,"user_id":4136999,"display_name":"toyota Supra"},"score":0,"creation_date":1701429733,"post_id":77584854,"comment_id":136777389,"body_markdown":"You left out semi-colon in foo function.","body":"You left out semi-colon in foo function."},{"owner":{"account_id":2727653,"reputation":389,"user_id":2352242,"accept_rate":50,"display_name":"szoszk"},"score":1,"creation_date":1701430771,"post_id":77584854,"comment_id":136777552,"body_markdown":"Right, I forgot it here. But in my actual code it&#39;s there, so that can&#39;t be the problem","body":"Right, I forgot it here. But in my actual code it&#39;s there, so that can&#39;t be the problem"},{"owner":{"account_id":9927990,"reputation":363,"user_id":7349134,"display_name":"Sam Maksymyshyn"},"score":0,"creation_date":1701433086,"post_id":77584854,"comment_id":136777886,"body_markdown":"Just in case, points to check first: 1. check that your class with the `foo` method is also named JavaWrapper, as the Python file. 2.  Does your robot file have the correct import of JavaWrapper.py? 3. there should not be red errors in the console while running your code.","body":"Just in case, points to check first: 1. check that your class with the <code>foo</code> method is also named JavaWrapper, as the Python file. 2.  Does your robot file have the correct import of JavaWrapper.py? 3. there should not be red errors in the console while running your code."},{"owner":{"account_id":2727653,"reputation":389,"user_id":2352242,"accept_rate":50,"display_name":"szoszk"},"score":0,"creation_date":1701446427,"post_id":77584854,"comment_id":136780448,"body_markdown":"@SamMaksymyshyn The foo method is in the same class as the other methods for getting the keywords from the jar files. The import in the robot file is definitely correct, because it works otherwise (the keywords from the jar are detected correctly). There&#39;s also no errors at all if I leave out the foo method","body":"@SamMaksymyshyn The foo method is in the same class as the other methods for getting the keywords from the jar files. The import in the robot file is definitely correct, because it works otherwise (the keywords from the jar are detected correctly). There&#39;s also no errors at all if I leave out the foo method"},{"owner":{"account_id":9927990,"reputation":363,"user_id":7349134,"display_name":"Sam Maksymyshyn"},"score":0,"creation_date":1701454897,"post_id":77584854,"comment_id":136781939,"body_markdown":"Hmm, maybe it would be useful to post your robot file + JavaWrapper.py here if possible.","body":"Hmm, maybe it would be useful to post your robot file + JavaWrapper.py here if possible."}],"owner":{"account_id":2727653,"reputation":389,"user_id":2352242,"accept_rate":50,"display_name":"szoszk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701430685,"creation_date":1701429179,"question_id":77584854,"body_markdown":"I&#39;m trying to use JPype with Robotframework to be able to use java-based SUTs.\r\n\r\nI used this (https://forum.robotframework.org/t/connecting-java-with-robot-framework/5253) forum Post to implement it (modified it a bit to work with non-static methods) and it works well. However, I&#39;m unable to create other functions in this JavaWrapper.py to use as keywords in my .robot file. The reason I want to do it, is to be able to use different arguments for the constructor of the java object for each test case.\r\n\r\nMy python code looks something like this:\r\n\r\n    def foo(self, name: str):\r\n        do_something()\r\nAnd in the robot file I&#39;m using:\r\n\r\n    Foo    name\r\nThe error I&#39;m getting is just ```No keyword with name &#39;Foo&#39; found.```. At the same time the keywords from the jar file are detected normally and I can use them without errors or warnings.","title":"JPype and robotframework custom keywords","body":"<p>I'm trying to use JPype with Robotframework to be able to use java-based SUTs.</p>\n<p>I used this (<a href=\"https://forum.robotframework.org/t/connecting-java-with-robot-framework/5253\" rel=\"nofollow noreferrer\">https://forum.robotframework.org/t/connecting-java-with-robot-framework/5253</a>) forum Post to implement it (modified it a bit to work with non-static methods) and it works well. However, I'm unable to create other functions in this JavaWrapper.py to use as keywords in my .robot file. The reason I want to do it, is to be able to use different arguments for the constructor of the java object for each test case.</p>\n<p>My python code looks something like this:</p>\n<pre><code>def foo(self, name: str):\n    do_something()\n</code></pre>\n<p>And in the robot file I'm using:</p>\n<pre><code>Foo    name\n</code></pre>\n<p>The error I'm getting is just <code>No keyword with name 'Foo' found.</code>. At the same time the keywords from the jar file are detected normally and I can use them without errors or warnings.</p>\n"},{"tags":["java","pdf","itext","itext7"],"comments":[{"owner":{"account_id":1916831,"reputation":91501,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1701429763,"post_id":77584604,"comment_id":136777395,"body_markdown":"Yes, _the A4 format is 595 x 842_ user space units (not _pixels_,), at least approximately, but this rectangle can be located anywhere on the plane. _Often_ the lower left of that rectangle is at the origin (0,0) but in general it can be anywhere. Unfortunately the link for the file you&#39;re using shows &quot;The transfer you requested has been deleted.&quot; Thus, I cannot check where the page rectangle is located in your case. Furthermore, there may be off-page text included in the calculation.","body":"Yes, <i>the A4 format is 595 x 842</i> user space units (not <i>pixels</i>,), at least approximately, but this rectangle can be located anywhere on the plane. <i>Often</i> the lower left of that rectangle is at the origin (0,0) but in general it can be anywhere. Unfortunately the link for the file you&#39;re using shows &quot;The transfer you requested has been deleted.&quot; Thus, I cannot check where the page rectangle is located in your case. Furthermore, there may be off-page text included in the calculation."},{"owner":{"account_id":1841992,"reputation":1888,"user_id":1671226,"accept_rate":78,"display_name":"Black.Jack"},"score":0,"creation_date":1701430511,"post_id":77584604,"comment_id":136777504,"body_markdown":"mmm very interesting. Sorry for the short tolerance of the host site, didn&#39;t expected to be so limited, I&#39;ve updated file link with another host, very annoying.\nThis page has ben extracted from a multipage, also this is the result of a &quot;flattening&quot; I&#39;ve done before.\nIsn&#39;t there a way to estabilish what textboxes are in the &quot;visible area&quot;? thanks mkl!\nOtherwise, another strategy, since I could chose the wrong attempt to solve my issue.\nAt least, all the pdfs I need to &quot;trim/clip&quot; has same caracteristics of the one I&#39;ve uploaded, so in case of solving, I&#39;m not in need to generalize too much.","body":"mmm very interesting. Sorry for the short tolerance of the host site, didn&#39;t expected to be so limited, I&#39;ve updated file link with another host, very annoying. This page has ben extracted from a multipage, also this is the result of a &quot;flattening&quot; I&#39;ve done before. Isn&#39;t there a way to estabilish what textboxes are in the &quot;visible area&quot;? thanks mkl! Otherwise, another strategy, since I could chose the wrong attempt to solve my issue. At least, all the pdfs I need to &quot;trim/clip&quot; has same caracteristics of the one I&#39;ve uploaded, so in case of solving, I&#39;m not in need to generalize too much."},{"owner":{"account_id":1916831,"reputation":91501,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1701432912,"post_id":77584604,"comment_id":136777860,"body_markdown":"Ok, the media box is positioned as usual, so the issue appears to be due to off-page content. Indeed, there are lots of nested form XObjects, some drawn with quite some offsets, some having bounding boxes way off-page, ... It is at least plausible that some off-page content will be found.","body":"Ok, the media box is positioned as usual, so the issue appears to be due to off-page content. Indeed, there are lots of nested form XObjects, some drawn with quite some offsets, some having bounding boxes way off-page, ... It is at least plausible that some off-page content will be found."},{"owner":{"account_id":1916831,"reputation":91501,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1701433115,"post_id":77584604,"comment_id":136777890,"body_markdown":"*&quot;Isn&#39;t there a way to estabilish what textboxes are in the &quot;visible area&quot;?&quot;* - You can wrap the `TextMarginFinder` in a `FilteredEventListener` with `IEventFilter`s that only accept content inside the media box page area.","body":"<i>&quot;Isn&#39;t there a way to estabilish what textboxes are in the &quot;visible area&quot;?&quot;</i> - You can wrap the <code>TextMarginFinder</code> in a <code>FilteredEventListener</code> with <code>IEventFilter</code>s that only accept content inside the media box page area."},{"owner":{"account_id":1841992,"reputation":1888,"user_id":1671226,"accept_rate":78,"display_name":"Black.Jack"},"score":0,"creation_date":1701434439,"post_id":77584604,"comment_id":136778108,"body_markdown":"I understood, conceptually, since with so many 404&#39;s on documentations is very hard to figure out how to do things, but if I compare the countries textboxes, they have crazy coords. So those would be excluded even if they&#39;re visible.\nAlso, If I open the pdf with an editor like FoxPdf, if I try to get the same textboxes, the coordinates are clearly between the A4 limits.","body":"I understood, conceptually, since with so many 404&#39;s on documentations is very hard to figure out how to do things, but if I compare the countries textboxes, they have crazy coords. So those would be excluded even if they&#39;re visible. Also, If I open the pdf with an editor like FoxPdf, if I try to get the same textboxes, the coordinates are clearly between the A4 limits."},{"owner":{"account_id":1841992,"reputation":1888,"user_id":1671226,"accept_rate":78,"display_name":"Black.Jack"},"score":0,"creation_date":1701434550,"post_id":77584604,"comment_id":136778134,"body_markdown":"I&#39;ve put my ide in debug mode with visibility of inner strategy field locations visible, so I can see each textboxes coords, because these informations are in private class attributes by design...","body":"I&#39;ve put my ide in debug mode with visibility of inner strategy field locations visible, so I can see each textboxes coords, because these informations are in private class attributes by design..."},{"owner":{"account_id":1916831,"reputation":91501,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1701444615,"post_id":77584604,"comment_id":136780095,"body_markdown":"*&quot;so many 404&#39;s on documentations&quot;* - currently the iText knowledgebase is moving to a different platform. As they didn&#39;t have a permalink concept before, this likely will break some links there...","body":"<i>&quot;so many 404&#39;s on documentations&quot;</i> - currently the iText knowledgebase is moving to a different platform. As they didn&#39;t have a permalink concept before, this likely will break some links there..."},{"owner":{"account_id":1841992,"reputation":1888,"user_id":1671226,"accept_rate":78,"display_name":"Black.Jack"},"score":0,"creation_date":1701447341,"post_id":77584604,"comment_id":136780646,"body_markdown":"Surely even if available won&#39;t explain those strange coords for textfields in my pdf...","body":"Surely even if available won&#39;t explain those strange coords for textfields in my pdf..."}],"owner":{"account_id":1841992,"reputation":1888,"user_id":1671226,"accept_rate":78,"display_name":"Black.Jack"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701430308,"creation_date":1701426643,"question_id":77584604,"body_markdown":"FOA: I&#39;m using recent IText8 core apis, which are very similar to 7 version AFAICS.\r\nAs per [documentation][1] the class TextMarginFinder should help me to find, between all textboxes in my pdf, the maximum and minimum y coordinates, which in a second operation I&#39;d use to crop\\clip the unused upper and lower area of the pdf.\r\n\r\n[This][2] is the file I&#39;m using.\r\n\r\nThis is my code attempt:\r\n\r\n  \r\n\r\n    private static final String pdfTestFile=&quot;./ExtractedPage6test.pdf&quot;; \r\n        public static void main(String[] args) throws IOException {\r\n            PdfDocument pdf = new PdfDocument(new PdfReader(pdfTestFile));\r\n            PdfDocumentContentParser contentParser = new PdfDocumentContentParser(pdf);\r\n            TextMarginFinder strategy = contentParser.processContent(1, new TextMarginFinder());//LocationTextExtractionStrategy\r\n    \r\n            System.out.println(&quot;getTop-&gt;&quot; +strategy.getTextRectangle().getTop());\r\n            System.out.println(&quot;getBottom-&gt;&quot; +strategy.getTextRectangle().getBottom());\r\n            System.out.println(&quot;getHeight-&gt;&quot; +strategy.getTextRectangle().getHeight());\r\n            System.out.println(&quot;getX-&gt;&quot; +strategy.getTextRectangle().getX());\r\n            System.out.println(&quot;getY-&gt;&quot; +strategy.getTextRectangle().getY());\r\n    \r\n            System.out.println(&quot;====================&quot;);\r\n            System.out.println(&quot;getTextRectangle-&gt;&quot; +strategy.getTextRectangle());\r\n    \r\n            System.out.println(&quot;toPointsArray-&gt;&quot; +     Arrays.stream(strategy.getTextRectangle().toPointsArray()).toList());\r\n     \r\n            //new ExtractTextDimensions().testBeforeAkhilNagaSai(pdfTestFile);\r\n    //        new ExtractTextPlusY().testExtractTextPlusYFromTest(pdfTestFile);\r\n        }\r\n\r\nAs you can see there are also some other commented attempt from mkl&#39;s classes I&#39;ve found in other threads here, same strange coordinates as result.\r\n\r\nThis is the output:\r\n\r\n    getTop-&gt;1640.5029\r\n    \r\n    getBottom-&gt;764.5649\r\n    \r\n    getHeight-&gt;875.93805\r\n    \r\n    getX-&gt;86.254974\r\n    \r\n    getY-&gt;764.5649\r\n    \r\n    ====================\r\n    \r\n    getTextRectangle-&gt;Rectangle: 431.03903x875.93805\r\n    \r\n    toPointsArray-&gt;[Point: [x=86.255,y=764.565], Point: [x=517.294,y=764.565], Point: [x=517.294,y=1,640.503], Point: [x=86.255,y=1,640.503]]\r\n\r\nNow, I&#39;m quite confused since the A4 format is 595 x 842 pixels. The coordinates given from the snippet are far beyond those limits. \r\nAlso, the resulting bounding box rectangle should be identifiable with only 2 points but resulting PointArray has 4.\r\n\r\n  [1]: https://api.itextpdf.com/iText/java/7.0.0/com/itextpdf/kernel/pdf/canvas/parser/listener/TextMarginFinder.html\r\n  [2]: https://easyupload.io/bjgyez","title":"Itext8 TextMarginFinder strange output coordinates","body":"<p>FOA: I'm using recent IText8 core apis, which are very similar to 7 version AFAICS.\nAs per <a href=\"https://api.itextpdf.com/iText/java/7.0.0/com/itextpdf/kernel/pdf/canvas/parser/listener/TextMarginFinder.html\" rel=\"nofollow noreferrer\">documentation</a> the class TextMarginFinder should help me to find, between all textboxes in my pdf, the maximum and minimum y coordinates, which in a second operation I'd use to crop\\clip the unused upper and lower area of the pdf.</p>\n<p><a href=\"https://easyupload.io/bjgyez\" rel=\"nofollow noreferrer\">This</a> is the file I'm using.</p>\n<p>This is my code attempt:</p>\n<pre><code>private static final String pdfTestFile=&quot;./ExtractedPage6test.pdf&quot;; \n    public static void main(String[] args) throws IOException {\n        PdfDocument pdf = new PdfDocument(new PdfReader(pdfTestFile));\n        PdfDocumentContentParser contentParser = new PdfDocumentContentParser(pdf);\n        TextMarginFinder strategy = contentParser.processContent(1, new TextMarginFinder());//LocationTextExtractionStrategy\n\n        System.out.println(&quot;getTop-&gt;&quot; +strategy.getTextRectangle().getTop());\n        System.out.println(&quot;getBottom-&gt;&quot; +strategy.getTextRectangle().getBottom());\n        System.out.println(&quot;getHeight-&gt;&quot; +strategy.getTextRectangle().getHeight());\n        System.out.println(&quot;getX-&gt;&quot; +strategy.getTextRectangle().getX());\n        System.out.println(&quot;getY-&gt;&quot; +strategy.getTextRectangle().getY());\n\n        System.out.println(&quot;====================&quot;);\n        System.out.println(&quot;getTextRectangle-&gt;&quot; +strategy.getTextRectangle());\n\n        System.out.println(&quot;toPointsArray-&gt;&quot; +     Arrays.stream(strategy.getTextRectangle().toPointsArray()).toList());\n \n        //new ExtractTextDimensions().testBeforeAkhilNagaSai(pdfTestFile);\n//        new ExtractTextPlusY().testExtractTextPlusYFromTest(pdfTestFile);\n    }\n</code></pre>\n<p>As you can see there are also some other commented attempt from mkl's classes I've found in other threads here, same strange coordinates as result.</p>\n<p>This is the output:</p>\n<pre><code>getTop-&gt;1640.5029\n\ngetBottom-&gt;764.5649\n\ngetHeight-&gt;875.93805\n\ngetX-&gt;86.254974\n\ngetY-&gt;764.5649\n\n====================\n\ngetTextRectangle-&gt;Rectangle: 431.03903x875.93805\n\ntoPointsArray-&gt;[Point: [x=86.255,y=764.565], Point: [x=517.294,y=764.565], Point: [x=517.294,y=1,640.503], Point: [x=86.255,y=1,640.503]]\n</code></pre>\n<p>Now, I'm quite confused since the A4 format is 595 x 842 pixels. The coordinates given from the snippet are far beyond those limits.\nAlso, the resulting bounding box rectangle should be identifiable with only 2 points but resulting PointArray has 4.</p>\n"},{"tags":["java","hibernate","jpa","orm","h2"],"owner":{"account_id":30039461,"reputation":1,"user_id":23020651,"display_name":"Kasper Jordt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701428616,"creation_date":1701428441,"question_id":77584786,"body_markdown":"I am trying to create an in-memory database using H2 as the database and Hibernate as the ORM.\r\n\r\nVersions:\r\n- Java: 17 \r\n- Hibernate: 6.4.0.Final\r\n- H2: 2.2.224\r\n- JPA: 2.2\r\n\r\nI have the following entry point for the app:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n        Configuration configuration = new Configuration().configure();\r\n        try (SessionFactory sessionFactory = configuration.buildSessionFactory()) {\r\n            User newUser = new User();\r\n            newUser.setName(&quot;John Doe&quot;);\r\n            newUser.setEmail(&quot;john.doe@example.com&quot;);\r\n            \r\n            try (Session session = sessionFactory.openSession()) {\r\n                Transaction transaction = session.beginTransaction();\r\n                session.persist(newUser);\r\n                transaction.commit();\r\n            }\r\n        }\r\n    }\r\n```\r\n(collected into single function for clarity)\r\n\r\nThis is my user POJO:\r\n\r\n```\r\npackage Application.Model;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\n\r\n@Entity\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String name;\r\n    private String email;\r\n\r\n    // getters and setters\r\n}\r\n\r\n```\r\n\r\nAnd lastly, this is my Hibernate configuration file named &#39;hibernate.cfg.xml&#39;:\r\n\r\n\r\n```\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;org.h2.Driver&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:h2:mem:test-db;DB_CLOSE_DELAY=-1;&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;sa&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;1234&lt;/property&gt;\r\n        &lt;mapping class=&quot;Application.Model.User&quot;/&gt;\r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n\r\nExecuting the above code gives me the error:\r\n&quot;Unable to locate persister: AtmEngine.Model.User&quot;\r\n\r\n\r\n\r\nI tried following other solutions to the problem I found here:\r\nhttps://stackoverflow.com/questions/59438059/getting-hibernate-unknownentitytypeexception-unable-to-locate-persister-on-appl\r\n\r\nhttps://www.reddit.com/r/javahelp/comments/16n25jx/orghibernateunknownentitytypeexception_unable_to/\r\n\r\nBut they did not solve the issue. \r\n\r\nI also tried removing the @GeneratedValue annotation, but that did not work either.\r\n\r\nThe session factory gets built without errors and the session is also opened without errors.\r\n\r\nAre any you able to spot the issue? Thanks!","title":"Error &quot;Unable to locate persister: ....&quot; when saving entity to H2 database with Hibernate","body":"<p>I am trying to create an in-memory database using H2 as the database and Hibernate as the ORM.</p>\n<p>Versions:</p>\n<ul>\n<li>Java: 17</li>\n<li>Hibernate: 6.4.0.Final</li>\n<li>H2: 2.2.224</li>\n<li>JPA: 2.2</li>\n</ul>\n<p>I have the following entry point for the app:</p>\n<pre><code>public static void main(String[] args) {\n        Configuration configuration = new Configuration().configure();\n        try (SessionFactory sessionFactory = configuration.buildSessionFactory()) {\n            User newUser = new User();\n            newUser.setName(&quot;John Doe&quot;);\n            newUser.setEmail(&quot;john.doe@example.com&quot;);\n            \n            try (Session session = sessionFactory.openSession()) {\n                Transaction transaction = session.beginTransaction();\n                session.persist(newUser);\n                transaction.commit();\n            }\n        }\n    }\n</code></pre>\n<p>(collected into single function for clarity)</p>\n<p>This is my user POJO:</p>\n<pre><code>package Application.Model;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\n\n@Entity\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    private String email;\n\n    // getters and setters\n}\n\n</code></pre>\n<p>And lastly, this is my Hibernate configuration file named 'hibernate.cfg.xml':</p>\n<pre><code>&lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;org.h2.Driver&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:h2:mem:test-db;DB_CLOSE_DELAY=-1;&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;sa&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;1234&lt;/property&gt;\n        &lt;mapping class=&quot;Application.Model.User&quot;/&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>Executing the above code gives me the error:\n&quot;Unable to locate persister: AtmEngine.Model.User&quot;</p>\n<p>I tried following other solutions to the problem I found here:\n<a href=\"https://stackoverflow.com/questions/59438059/getting-hibernate-unknownentitytypeexception-unable-to-locate-persister-on-appl\">Getting hibernate.UnknownEntityTypeException: Unable to locate persister on application startup</a></p>\n<p><a href=\"https://www.reddit.com/r/javahelp/comments/16n25jx/orghibernateunknownentitytypeexception_unable_to/\" rel=\"nofollow noreferrer\">https://www.reddit.com/r/javahelp/comments/16n25jx/orghibernateunknownentitytypeexception_unable_to/</a></p>\n<p>But they did not solve the issue.</p>\n<p>I also tried removing the @GeneratedValue annotation, but that did not work either.</p>\n<p>The session factory gets built without errors and the session is also opened without errors.</p>\n<p>Are any you able to spot the issue? Thanks!</p>\n"},{"tags":["java","sonarqube"],"comments":[{"owner":{"account_id":123958,"reputation":109285,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"score":3,"creation_date":1597834766,"post_id":63485341,"comment_id":112261130,"body_markdown":"*&quot;not working for our requirement&quot;* can you tell more about what your requirements are?","body":"<i>&quot;not working for our requirement&quot;</i> can you tell more about what your requirements are?"},{"owner":{"account_id":14631069,"reputation":37,"user_id":10566826,"display_name":"Mahesh"},"score":0,"creation_date":1597834933,"post_id":63485341,"comment_id":112261207,"body_markdown":"@Joni Just print the statement in the console.","body":"@Joni Just print the statement in the console."},{"owner":{"account_id":123958,"reputation":109285,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"score":0,"creation_date":1597836680,"post_id":63485341,"comment_id":112262045,"body_markdown":"Ok, that should be doable with any logging framework. What logging framework do you use - what is `logger`?","body":"Ok, that should be doable with any logging framework. What logging framework do you use - what is <code>logger</code>?"},{"owner":{"account_id":14631069,"reputation":37,"user_id":10566826,"display_name":"Mahesh"},"score":0,"creation_date":1597840611,"post_id":63485341,"comment_id":112263975,"body_markdown":"i tired this `logger.log(Level.INFO, &quot;Print: &quot; + txt);` . But this error **&quot;Preconditions&quot; and logging arguments should not require evaluation (java:S2629)** is occurred.","body":"i tired this <code>logger.log(Level.INFO, &quot;Print: &quot; + txt);</code> . But this error <b>&quot;Preconditions&quot; and logging arguments should not require evaluation (java:S2629)</b> is occurred."}],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597834576,"creation_date":1597834576,"answer_id":63485455,"question_id":63485341,"body_markdown":"If logger is not meeting your requirements, make it to do so by configuring it.\r\n\r\nThere are some widely used logging frameworks that are highly configurable and I doubt that they will not be able to do whatever you are doing with plain `System.out.println`\r\n\r\nFor example, check out very popular `SLF4J` and `Logback` as logging provider.\r\n\r\nhttp://www.slf4j.org/\r\n\r\nhttp://logback.qos.ch/","title":"How to solve this issue &quot;Standard outputs should not be used directly to log anything &quot;","body":"<p>If logger is not meeting your requirements, make it to do so by configuring it.</p>\n<p>There are some widely used logging frameworks that are highly configurable and I doubt that they will not be able to do whatever you are doing with plain <code>System.out.println</code></p>\n<p>For example, check out very popular <code>SLF4J</code> and <code>Logback</code> as logging provider.</p>\n<p><a href=\"http://www.slf4j.org/\" rel=\"nofollow noreferrer\">http://www.slf4j.org/</a></p>\n<p><a href=\"http://logback.qos.ch/\" rel=\"nofollow noreferrer\">http://logback.qos.ch/</a></p>\n"},{"tags":[],"owner":{"account_id":123958,"reputation":109285,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1597843296,"creation_date":1597843296,"answer_id":63487960,"question_id":63485341,"body_markdown":"Sonarqube does not like it if you use `System.out`, or if you have string concatenation or other computation in the arguments you pass to the logging function. Construct the full message on a separate line before logging it:\r\n```\r\nString txt = &quot;Print: &quot; + &quot;Something&quot;;\r\n\r\nString logMessage = &quot;Print: &quot; + txt;\r\nlogger.log(Level.INFO, logMessage);\r\n```","title":"How to solve this issue &quot;Standard outputs should not be used directly to log anything &quot;","body":"<p>Sonarqube does not like it if you use <code>System.out</code>, or if you have string concatenation or other computation in the arguments you pass to the logging function. Construct the full message on a separate line before logging it:</p>\n<pre><code>String txt = &quot;Print: &quot; + &quot;Something&quot;;\n\nString logMessage = &quot;Print: &quot; + txt;\nlogger.log(Level.INFO, logMessage);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9842376,"reputation":537,"user_id":7465516,"display_name":"julaine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701427746,"creation_date":1701427746,"answer_id":77584719,"question_id":63485341,"body_markdown":"The accepted answer is a workaround, it hides the issue from sonar but does not solve it.\r\n\r\nThe point of the warning is to avoid code that needs to run even when the logging level is high enough that the message wont be printed. With this:\r\n\r\n```\r\nlog.debug(string1 + string2);\r\n```\r\nYou will compute a new String even if you completely discard the result.\r\n\r\nI do not know what logging-framework you use, but I expect it to have a _format-string_ and 0 or more objects in its signature, so you can write this:\r\n\r\n```\r\nlog.debug(&quot;{} {}&quot;, string1, string2);\r\n```\r\nNow, if the configuration is such that debug-messages are not printed, no extra-string will be computed. The point is that the computation happens only _after_ the decision of whether something should be printed is made.","title":"How to solve this issue &quot;Standard outputs should not be used directly to log anything &quot;","body":"<p>The accepted answer is a workaround, it hides the issue from sonar but does not solve it.</p>\n<p>The point of the warning is to avoid code that needs to run even when the logging level is high enough that the message wont be printed. With this:</p>\n<pre><code>log.debug(string1 + string2);\n</code></pre>\n<p>You will compute a new String even if you completely discard the result.</p>\n<p>I do not know what logging-framework you use, but I expect it to have a <em>format-string</em> and 0 or more objects in its signature, so you can write this:</p>\n<pre><code>log.debug(&quot;{} {}&quot;, string1, string2);\n</code></pre>\n<p>Now, if the configuration is such that debug-messages are not printed, no extra-string will be computed. The point is that the computation happens only <em>after</em> the decision of whether something should be printed is made.</p>\n"}],"owner":{"account_id":14631069,"reputation":37,"user_id":10566826,"display_name":"Mahesh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4356,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":63487960,"answer_count":3,"score":0,"last_activity_date":1701427746,"creation_date":1597834174,"question_id":63485341,"body_markdown":"I need a print statement. But sonar not allowed this type.\r\n\r\n    String txt=&quot;Something&quot;;\r\n    System.out.println(&quot;Print: &quot;+txt);\r\n\r\nExpected output:\r\n\r\n    Print: Something\r\n\r\nI tried this format logger.log().its not working for our requirement.","title":"How to solve this issue &quot;Standard outputs should not be used directly to log anything &quot;","body":"<p>I need a print statement. But sonar not allowed this type.</p>\n<pre><code>String txt=&quot;Something&quot;;\nSystem.out.println(&quot;Print: &quot;+txt);\n</code></pre>\n<p>Expected output:</p>\n<pre><code>Print: Something\n</code></pre>\n<p>I tried this format logger.log().its not working for our requirement.</p>\n"},{"tags":["java","logging","error-handling","bitbucket"],"owner":{"account_id":17291998,"reputation":179,"user_id":12523380,"display_name":"Desh Deepak Dhobi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701427516,"creation_date":1701427516,"question_id":77584696,"body_markdown":"I have a bitbucket repo that contains the Java codes and the developers have embedded different patterns of the logs [ERROR, CRITICAL, INFO] in the code to be thrown when a specific exception/issue is hit.\r\nNow I am trying to find all those log patterns one by one from the code which is a long-lasting tedious task.\r\n\r\nIs there any way to solve this use case in an automated way?\r\n\r\nFor example:, like upload a code to a specific app or solution and it tells you that there are 10 CRITICAL log patterns, 15 ERROR log patterns, and 20 INFO log patterns in a particular bitbucket code repository.","title":"Is there a way to find the log ERROR patterns in Bitbucket code repository","body":"<p>I have a bitbucket repo that contains the Java codes and the developers have embedded different patterns of the logs [ERROR, CRITICAL, INFO] in the code to be thrown when a specific exception/issue is hit.\nNow I am trying to find all those log patterns one by one from the code which is a long-lasting tedious task.</p>\n<p>Is there any way to solve this use case in an automated way?</p>\n<p>For example:, like upload a code to a specific app or solution and it tells you that there are 10 CRITICAL log patterns, 15 ERROR log patterns, and 20 INFO log patterns in a particular bitbucket code repository.</p>\n"},{"tags":["java","spring","spring-boot","rest","authorization"],"comments":[{"owner":{"account_id":2064278,"reputation":13119,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1626044304,"post_id":68340369,"comment_id":120780809,"body_markdown":"or you could just use method security, in combination with the role based security https://docs.spring.io/spring-security/site/docs/current/reference/html5/#jc-method and not invent custom security which is bad practice.","body":"or you could just use method security, in combination with the role based security <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html5/#jc-method\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/current/reference/&hellip;</a> and not invent custom security which is bad practice."}],"answers":[{"tags":[],"owner":{"account_id":19958505,"reputation":41,"user_id":14626672,"display_name":"jakob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626048628,"creation_date":1626048628,"answer_id":68340732,"question_id":68340369,"body_markdown":"Please do not invent custom security. Use for example Keycloak and Spring Security https://www.baeldung.com/spring-boot-keycloak","title":"Spring Boot REST API application level authorization","body":"<p>Please do not invent custom security. Use for example Keycloak and Spring Security <a href=\"https://www.baeldung.com/spring-boot-keycloak\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-keycloak</a></p>\n"}],"owner":{"account_id":8238621,"reputation":557,"user_id":6196911,"accept_rate":17,"display_name":"CS_noob"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":484,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1701427380,"creation_date":1626043151,"question_id":68340369,"body_markdown":"Currently building a Spring boot based REST API application (sample centralised school management system). There are various DB entities which are given CRUD access via the APIs, like **Account**, **School**, any sub-entity of school like **teacher,student** etc.\r\n\r\nSuppose we have many APIs like \r\n\r\n    GET /api/getschooldetails?account_id=1&amp;school_id=1\r\n    GET /api/getteacherlist?account_id=3&amp;school_id=2\r\n    GET /api/getstudentdetails?account_id=3&amp;school_id=2&amp;student_id=1\r\n\r\nSimilarly POST with JSON request body\r\n\r\n    POST /api/addteacher\r\n    request : {&quot;account_id&quot;:3,&quot;school_id&quot;:2,&quot;teachername&quot;:&quot;XYZ&quot;}\r\n    and \r\n    POST /api/updatestudentname\r\n    request : {&quot;account_id&quot;:3,&quot;school_id&quot;:2,&quot;student_id&quot;:4,&quot;name&quot;:&quot;ABC&quot;}\r\n\r\n\r\nHow to add authorisation at API level for the request params/JSON fields so that those users who have authenticated as `school_id=2` should get access error if they try to modify API call `/api/getteacherlist?account_id=3&amp;school_id=2` to `/api/getteacherlist?account_id=3&amp;school_id=3` and get `school_id=3` details.\r\n\r\nThinking of adding `@Before` AOP point for each Controller class to parse query param/JSON and do DB based userid validation i.e. if the userid logged in (via Spring Security Authentication) has access to the account_id and school_id mentioned in the request as they are part of every request in order to avoid code duplication or adding the same check in every DAO class before performing the actual CRUD operation. Please guide if there is any other way using Spring.\r\n\r\n","title":"Spring Boot REST API application level authorization","body":"<p>Currently building a Spring boot based REST API application (sample centralised school management system). There are various DB entities which are given CRUD access via the APIs, like <strong>Account</strong>, <strong>School</strong>, any sub-entity of school like <strong>teacher,student</strong> etc.</p>\n<p>Suppose we have many APIs like</p>\n<pre><code>GET /api/getschooldetails?account_id=1&amp;school_id=1\nGET /api/getteacherlist?account_id=3&amp;school_id=2\nGET /api/getstudentdetails?account_id=3&amp;school_id=2&amp;student_id=1\n</code></pre>\n<p>Similarly POST with JSON request body</p>\n<pre><code>POST /api/addteacher\nrequest : {&quot;account_id&quot;:3,&quot;school_id&quot;:2,&quot;teachername&quot;:&quot;XYZ&quot;}\nand \nPOST /api/updatestudentname\nrequest : {&quot;account_id&quot;:3,&quot;school_id&quot;:2,&quot;student_id&quot;:4,&quot;name&quot;:&quot;ABC&quot;}\n</code></pre>\n<p>How to add authorisation at API level for the request params/JSON fields so that those users who have authenticated as <code>school_id=2</code> should get access error if they try to modify API call <code>/api/getteacherlist?account_id=3&amp;school_id=2</code> to <code>/api/getteacherlist?account_id=3&amp;school_id=3</code> and get <code>school_id=3</code> details.</p>\n<p>Thinking of adding <code>@Before</code> AOP point for each Controller class to parse query param/JSON and do DB based userid validation i.e. if the userid logged in (via Spring Security Authentication) has access to the account_id and school_id mentioned in the request as they are part of every request in order to avoid code duplication or adding the same check in every DAO class before performing the actual CRUD operation. Please guide if there is any other way using Spring.</p>\n"},{"tags":["java","android","animation"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1701606808,"post_id":77584661,"comment_id":136794353,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":21934515,"reputation":1,"user_id":16741987,"display_name":"Fenrir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701427253,"creation_date":1701427189,"question_id":77584661,"body_markdown":"The question is to develop a beautiful particle scattering effect on Android for random image. I searched the Internet for quite a long time, but never found anything on this topic. I would be grateful for a code example.\r\n\r\nAs I said, I tried to find the answer to the question on the Internet, but to no avail. I also tried to program something myself, but that also did not bring results.","title":"how to create particle disappearing effect in android?","body":"<p>The question is to develop a beautiful particle scattering effect on Android for random image. I searched the Internet for quite a long time, but never found anything on this topic. I would be grateful for a code example.</p>\n<p>As I said, I tried to find the answer to the question on the Internet, but to no avail. I also tried to program something myself, but that also did not bring results.</p>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":1635690,"reputation":150022,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1701426273,"post_id":77584549,"comment_id":136776811,"body_markdown":"If you are looking for JPA specific syntax then the [Oracle] tag is irrelevant. If you are looking for a non-JPA solution then write a database trigger for each of the tables.","body":"If you are looking for JPA specific syntax then the [Oracle] tag is irrelevant. If you are looking for a non-JPA solution then write a database trigger for each of the tables."}],"answers":[{"tags":[],"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701426737,"creation_date":1701426737,"answer_id":77584617,"question_id":77584549,"body_markdown":"If you&#39;re using Hibernate, have a look at [Hibernate interceptors](https://mkyong.com/hibernate/hibernate-interceptor-example-audit-log/). \r\n\r\nHowever, if the goal is to keep old versions of records to revert to, you might want to take a look at versioning libraries like Envers or Javers, rather than reinvent the wheel. ","title":"Spring Boot JPA Operation","body":"<p>If you're using Hibernate, have a look at <a href=\"https://mkyong.com/hibernate/hibernate-interceptor-example-audit-log/\" rel=\"nofollow noreferrer\">Hibernate interceptors</a>.</p>\n<p>However, if the goal is to keep old versions of records to revert to, you might want to take a look at versioning libraries like Envers or Javers, rather than reinvent the wheel.</p>\n"}],"owner":{"account_id":15834604,"reputation":1,"user_id":13548222,"display_name":"user53449"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701426737,"creation_date":1701426164,"question_id":77584549,"body_markdown":"Spring Boot Maven Project\r\nOracle 19c\r\n\r\nI have 100 repositories corresponding to 100 tables.\r\nCurrently, there is a requirement that when each repository undergoes an update or delete, I need to write its pre-modification data into a history table and store it as JSON-&gt;CLOB for subsequent undo records. \r\nI would like to inquire if JPA has native syntax or annotations to achieve this purpose?","title":"Spring Boot JPA Operation","body":"<p>Spring Boot Maven Project\nOracle 19c</p>\n<p>I have 100 repositories corresponding to 100 tables.\nCurrently, there is a requirement that when each repository undergoes an update or delete, I need to write its pre-modification data into a history table and store it as JSON-&gt;CLOB for subsequent undo records.\nI would like to inquire if JPA has native syntax or annotations to achieve this purpose?</p>\n"},{"tags":["java","clickhouse"],"comments":[{"owner":{"account_id":1242377,"reputation":1782,"user_id":1204665,"accept_rate":75,"display_name":"Slach"},"score":0,"creation_date":1671258519,"post_id":74808927,"comment_id":132065285,"body_markdown":"Are you sure your max_execution_time was applied properly?\n\nwhat show `clickhouse-client -q &quot;SELECT * FROM system.settings WHERE changed&quot;`?","body":"Are you sure your max_execution_time was applied properly?  what show <code>clickhouse-client -q &quot;SELECT * FROM system.settings WHERE changed&quot;</code>?"}],"answers":[{"tags":[],"owner":{"account_id":2976512,"reputation":3160,"user_id":2527458,"accept_rate":36,"display_name":"Majid Hajibaba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687614237,"creation_date":1687608361,"answer_id":76545979,"question_id":74808927,"body_markdown":"Set Socket Timeout in Clickhouse properties:\r\n\r\nfor package `ru.yandex.clickhouse.ClickHouseDataSource`\r\n```\r\nClickHouseProperties properties = new ClickHouseProperties();\r\nproperties.setSocketTimeout(60000);\r\n\r\nClickHouseDataSource dataSource = new ClickHouseDataSource(url, properties);\r\n```\r\n\r\nfor package `com.clickhouse.jdbc.ClickHouseDataSource`\r\n```\r\nProperties properties = new Properties();\r\nproperties.put(&quot;socket_timeout&quot;, 60000);\r\nClickHouseDataSource dataSource = new ClickHouseDataSource(url, properties);\r\n```\r\n\r\n","title":"Code: 159. DB::Exception: Timeout exceeded: elapsed 5.0 seconds, maximum: 3. (TIMEOUT_EXCEEDED) (version 22.10.2.11 (official build))","body":"<p>Set Socket Timeout in Clickhouse properties:</p>\n<p>for package <code>ru.yandex.clickhouse.ClickHouseDataSource</code></p>\n<pre><code>ClickHouseProperties properties = new ClickHouseProperties();\nproperties.setSocketTimeout(60000);\n\nClickHouseDataSource dataSource = new ClickHouseDataSource(url, properties);\n</code></pre>\n<p>for package <code>com.clickhouse.jdbc.ClickHouseDataSource</code></p>\n<pre><code>Properties properties = new Properties();\nproperties.put(&quot;socket_timeout&quot;, 60000);\nClickHouseDataSource dataSource = new ClickHouseDataSource(url, properties);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9016840,"reputation":241,"user_id":6719377,"display_name":"Thom O&#39;Connor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687984443,"creation_date":1687984443,"answer_id":76576539,"question_id":74808927,"body_markdown":"As the other responders suggested, would suggest please providing a little more data. A long query could take a while to provide results, and therefore could timeout, but the default timeouts in ClickHouse server are the following:\r\n\r\nhttps://clickhouse.com/docs/en/operations/settings/settings\r\n```\r\nconnect_timeout: 10s\r\nreceive_timeout: 300s\r\nsend_timeout: 300s\r\n```\r\n\r\n3 seconds seems very short, and suggests some other problem to me. Providing the query here in StackOverflow, as well as testing with clickhouse-client, both seem like good next steps. \r\n\r\nAlso, there is an official ClickHouse JDBC driver if you&#39;re not using that - I can&#39;t exactly tell from your post: https://github.com/ClickHouse/clickhouse-java","title":"Code: 159. DB::Exception: Timeout exceeded: elapsed 5.0 seconds, maximum: 3. (TIMEOUT_EXCEEDED) (version 22.10.2.11 (official build))","body":"<p>As the other responders suggested, would suggest please providing a little more data. A long query could take a while to provide results, and therefore could timeout, but the default timeouts in ClickHouse server are the following:</p>\n<p><a href=\"https://clickhouse.com/docs/en/operations/settings/settings\" rel=\"nofollow noreferrer\">https://clickhouse.com/docs/en/operations/settings/settings</a></p>\n<pre><code>connect_timeout: 10s\nreceive_timeout: 300s\nsend_timeout: 300s\n</code></pre>\n<p>3 seconds seems very short, and suggests some other problem to me. Providing the query here in StackOverflow, as well as testing with clickhouse-client, both seem like good next steps.</p>\n<p>Also, there is an official ClickHouse JDBC driver if you're not using that - I can't exactly tell from your post: <a href=\"https://github.com/ClickHouse/clickhouse-java\" rel=\"nofollow noreferrer\">https://github.com/ClickHouse/clickhouse-java</a></p>\n"},{"tags":[],"owner":{"account_id":30037841,"reputation":1,"user_id":23019364,"display_name":"Viet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701413807,"creation_date":1701413807,"answer_id":77583471,"question_id":74808927,"body_markdown":"```\r\nProperties properties = new Properties();\r\nproperties.put(&quot;socket_timeout&quot;, 60000);\r\nClickHouseDataSource dataSource = new ClickHouseDataSource(url, properties);\r\n```\r\n\r\nWorked for me when i used com.clickhouse.jdbc.ClickHouseDataSource;","title":"Code: 159. DB::Exception: Timeout exceeded: elapsed 5.0 seconds, maximum: 3. (TIMEOUT_EXCEEDED) (version 22.10.2.11 (official build))","body":"<pre><code>Properties properties = new Properties();\nproperties.put(&quot;socket_timeout&quot;, 60000);\nClickHouseDataSource dataSource = new ClickHouseDataSource(url, properties);\n</code></pre>\n<p>Worked for me when i used com.clickhouse.jdbc.ClickHouseDataSource;</p>\n"},{"tags":[],"owner":{"account_id":23996225,"reputation":1,"user_id":17981702,"display_name":"Boy Young"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701426722,"creation_date":1701426722,"answer_id":77584613,"question_id":74808927,"body_markdown":"The most critical line code configuration is \r\n\r\n    properties.setSocketTimeout(60000);","title":"Code: 159. DB::Exception: Timeout exceeded: elapsed 5.0 seconds, maximum: 3. (TIMEOUT_EXCEEDED) (version 22.10.2.11 (official build))","body":"<p>The most critical line code configuration is</p>\n<pre><code>properties.setSocketTimeout(60000);\n</code></pre>\n"}],"owner":{"account_id":27259614,"reputation":11,"user_id":20782648,"display_name":"arvin yu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":749,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1701426722,"creation_date":1671094163,"question_id":74808927,"body_markdown":"I use a JAVA program to connect to Clickhouse through JDBC, and an error will be reported after more than three seconds:\r\n\r\n&gt; Code: 159. DB::Exception: Timeout exceeded: elapsed 5.060592159 seconds, maximum: 3. (TIMEOUT_EXCEEDED) (version 22.10.2.11 (official build))，\r\n\r\nBut I don&#39;t have this problem through third-party connection tools(Such as IntelliJ IDEA), I changed `max_execution_time value=800` which didn&#39;t solve this problem, added to the JDBC connection URL socket_timeout .\r\n\r\nI changed the configuration file `max_execution_time = 800`","title":"Code: 159. DB::Exception: Timeout exceeded: elapsed 5.0 seconds, maximum: 3. (TIMEOUT_EXCEEDED) (version 22.10.2.11 (official build))","body":"<p>I use a JAVA program to connect to Clickhouse through JDBC, and an error will be reported after more than three seconds:</p>\n<blockquote>\n<p>Code: 159. DB::Exception: Timeout exceeded: elapsed 5.060592159 seconds, maximum: 3. (TIMEOUT_EXCEEDED) (version 22.10.2.11 (official build))，</p>\n</blockquote>\n<p>But I don't have this problem through third-party connection tools(Such as IntelliJ IDEA), I changed <code>max_execution_time value=800</code> which didn't solve this problem, added to the JDBC connection URL socket_timeout .</p>\n<p>I changed the configuration file <code>max_execution_time = 800</code></p>\n"},{"tags":["java","jakarta-migration"],"comments":[{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1701417966,"post_id":77583232,"comment_id":136775499,"body_markdown":"*&quot;How can we solve the conflict while keep the legacy library untouched?&quot;* - You can&#39;t.   AFAIK.  At least ... not in a practical way.   The legacy library that uses `javax.servlet` classes needs to be forked / ported.","body":"<i>&quot;How can we solve the conflict while keep the legacy library untouched?&quot;</i> - You can&#39;t.   AFAIK.  At least ... not in a practical way.   The legacy library that uses <code>javax.servlet</code> classes needs to be forked / ported."},{"owner":{"account_id":7547305,"reputation":774,"user_id":5729872,"display_name":"Adam Burke"},"score":0,"creation_date":1701418113,"post_id":77583232,"comment_id":136775520,"body_markdown":"Can you clarify if you have access to the source of the legacy library and modifying it is within the license terms?","body":"Can you clarify if you have access to the source of the legacy library and modifying it is within the license terms?"},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1701420807,"post_id":77583232,"comment_id":136775917,"body_markdown":"@AdamBurke - It&#39;s probably not relevant to the answer.  (Put it this way, if they don&#39;t have source access and / or don&#39;t have permission to modify it, they are pretty much screwed.)","body":"@AdamBurke - It&#39;s probably not relevant to the answer.  (Put it this way, if they don&#39;t have source access and / or don&#39;t have permission to modify it, they are pretty much screwed.)"},{"owner":{"account_id":7547305,"reputation":774,"user_id":5729872,"display_name":"Adam Burke"},"score":0,"creation_date":1701425493,"post_id":77583232,"comment_id":136776714,"body_markdown":"@StephenC I think it&#39;s a genuinely useful question about techniques for migrating safely off legacy dependencies. And like you say it&#39;s much harder without the source, which is the sort of parameter it would be good to flag explicitly in the question.","body":"@StephenC I think it&#39;s a genuinely useful question about techniques for migrating safely off legacy dependencies. And like you say it&#39;s much harder without the source, which is the sort of parameter it would be good to flag explicitly in the question."},{"owner":{"account_id":52822,"reputation":1088960,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1701427347,"post_id":77583232,"comment_id":136776979,"body_markdown":"Just use https://github.com/eclipse/transformer","body":"Just use <a href=\"https://github.com/eclipse/transformer\" rel=\"nofollow noreferrer\">github.com/eclipse/transformer</a>"}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701418020,"creation_date":1701418020,"answer_id":77583798,"question_id":77583232,"body_markdown":"You can&#39;t. You will either need to find a newer version of the library so it uses the `jakarta` namespace, if it is your own code or have access to the code, create a new version using the Jakarta packages, or if you only have the compiled JAR, use some tool to rewrite the bytecode of the library to use the Jakarta packages instead of the Java EE packages. (To be clear, I don&#39;t know if such tools exist, so I can&#39;t suggest one.)","title":"How to keep backward compatibility with javax to jakarta package migration","body":"<p>You can't. You will either need to find a newer version of the library so it uses the <code>jakarta</code> namespace, if it is your own code or have access to the code, create a new version using the Jakarta packages, or if you only have the compiled JAR, use some tool to rewrite the bytecode of the library to use the Jakarta packages instead of the Java EE packages. (To be clear, I don't know if such tools exist, so I can't suggest one.)</p>\n"}],"owner":{"account_id":6524069,"reputation":715,"user_id":5047297,"accept_rate":53,"display_name":"WestFarmer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1701430385,"answer_count":1,"score":1,"last_activity_date":1701426496,"creation_date":1701409836,"question_id":77583232,"body_markdown":"Let&#39;s say we have a legacy Java library which was using `javax.servlet` API.\r\n\r\nNow we start a new java project which using new `jakarta.servlet` API, and we want to use that legacy library too.\r\n\r\nHow can we solve the conflict while keep the legacy library untouched?","title":"How to keep backward compatibility with javax to jakarta package migration","body":"<p>Let's say we have a legacy Java library which was using <code>javax.servlet</code> API.</p>\n<p>Now we start a new java project which using new <code>jakarta.servlet</code> API, and we want to use that legacy library too.</p>\n<p>How can we solve the conflict while keep the legacy library untouched?</p>\n"},{"tags":["java","message-queue","apache-kafka"],"comments":[{"owner":{"account_id":387305,"reputation":22984,"user_id":745574,"accept_rate":84,"display_name":"RaGe"},"score":10,"creation_date":1429832727,"post_id":29647656,"comment_id":47799264,"body_markdown":"I fail to see how the duplication issue is avoided in the single consumer case. Can you help me understand please?","body":"I fail to see how the duplication issue is avoided in the single consumer case. Can you help me understand please?"}],"answers":[{"tags":[],"owner":{"account_id":544002,"reputation":7855,"user_id":1766816,"display_name":"kuujo"},"down_vote_count":1,"up_vote_count":55,"is_accepted":true,"score":54,"last_activity_date":1477911115,"creation_date":1429117262,"answer_id":29656353,"question_id":29647656,"body_markdown":"The short answer is, no.\r\n\r\nWhat you&#39;re looking for is exactly-once processing. While it may often seem feasible, it should never be relied upon because there are always caveats.\r\n\r\nEven in order to attempt to prevent duplicates you would need to use the simple consumer. How this approach works is for each consumer, when a message is consumed from some partition, write the partition and offset of the consumed message to disk. When the consumer restarts after a failure, read the last consumed offset for each partition from disk.\r\n\r\nBut even with this pattern the consumer can&#39;t guarantee it won&#39;t reprocess a message after a failure. What if the consumer consumes a message and then fails before the offset is flushed to disk? If you write to disk before you process the message, what if you write the offset and then fail before actually processing the message? This same problem would exist even if you were to commit offsets to ZooKeeper after every message.\r\n\r\nThere are some cases, though, where \r\nexactly-once processing is more attainable, but only for certain use cases. This simply requires that your offset be stored in the same location as unit application&#39;s output. For instance, if you write a consumer that counts messages, by storing the last counted offset with each count you can guarantee that the offset is stored at the same time as the consumer&#39;s state. Of course, in order to guarantee exactly-once processing this would require that you consume exactly one message and update the state exactly once for each message, and that&#39;s completely impractical for most Kafka consumer applications. By its nature Kafka consumes messages in batches for performance reasons.\r\n\r\nUsually your time will be more well spent and your application will be much more reliable if you simply design it to be idempotent.","title":"Effective strategy to avoid duplicate messages in apache kafka consumer","body":"<p>The short answer is, no.</p>\n\n<p>What you're looking for is exactly-once processing. While it may often seem feasible, it should never be relied upon because there are always caveats.</p>\n\n<p>Even in order to attempt to prevent duplicates you would need to use the simple consumer. How this approach works is for each consumer, when a message is consumed from some partition, write the partition and offset of the consumed message to disk. When the consumer restarts after a failure, read the last consumed offset for each partition from disk.</p>\n\n<p>But even with this pattern the consumer can't guarantee it won't reprocess a message after a failure. What if the consumer consumes a message and then fails before the offset is flushed to disk? If you write to disk before you process the message, what if you write the offset and then fail before actually processing the message? This same problem would exist even if you were to commit offsets to ZooKeeper after every message.</p>\n\n<p>There are some cases, though, where \nexactly-once processing is more attainable, but only for certain use cases. This simply requires that your offset be stored in the same location as unit application's output. For instance, if you write a consumer that counts messages, by storing the last counted offset with each count you can guarantee that the offset is stored at the same time as the consumer's state. Of course, in order to guarantee exactly-once processing this would require that you consume exactly one message and update the state exactly once for each message, and that's completely impractical for most Kafka consumer applications. By its nature Kafka consumes messages in batches for performance reasons.</p>\n\n<p>Usually your time will be more well spent and your application will be much more reliable if you simply design it to be idempotent.</p>\n"},{"tags":[],"owner":{"account_id":387305,"reputation":22984,"user_id":745574,"accept_rate":84,"display_name":"RaGe"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1469695857,"creation_date":1429833422,"answer_id":29836412,"question_id":29647656,"body_markdown":"This is what [Kafka FAQ][1] has to say on the subject of exactly-once:\r\n\r\n&gt; #How do I get exactly-once messaging from Kafka?\r\nExactly once semantics has two parts: avoiding duplication during data production and avoiding duplicates during data consumption.\r\n\r\n&gt; There are two approaches to getting exactly once semantics during data production:\r\n\r\n&gt; * Use a single-writer per partition and every time you get a network error check the last message in that partition to see if your last write succeeded\r\n* Include a primary key (UUID or something) in the message and deduplicate on the consumer.\r\n\r\n&gt; If you do one of these things, the log that Kafka hosts will be duplicate-free. However, reading without duplicates depends on some co-operation from the consumer too. If the consumer is periodically checkpointing its position then if it fails and restarts it will restart from the checkpointed position. Thus if the data output and the checkpoint are not written atomically it will be possible to get duplicates here as well. This problem is particular to your storage system. For example, if you are using a database you could commit these together in a transaction. The HDFS loader Camus that LinkedIn wrote does something like this for Hadoop loads. The other alternative that doesn&#39;t require a transaction is to store the offset with the data loaded and deduplicate using the topic/partition/offset combination.\r\n\r\n&gt; I think there are two improvements that would make this a lot easier:\r\n\r\n&gt; * Producer idempotence could be done automatically and much more cheaply by optionally integrating support for this on the server.\r\n* The existing high-level consumer doesn&#39;t expose a lot of the more fine grained control of offsets (e.g. to reset your position). We will be working on that soon\r\n \r\n\r\n\r\n  [1]: https://cwiki.apache.org/confluence/display/KAFKA/FAQ#FAQ-HowdoIgetexactly-oncemessagingfromKafka?","title":"Effective strategy to avoid duplicate messages in apache kafka consumer","body":"<p>This is what <a href=\"https://cwiki.apache.org/confluence/display/KAFKA/FAQ#FAQ-HowdoIgetexactly-oncemessagingfromKafka?\" rel=\"noreferrer\">Kafka FAQ</a> has to say on the subject of exactly-once:</p>\n\n<blockquote>\n  <h1>How do I get exactly-once messaging from Kafka?</h1>\n  \n  <p>Exactly once semantics has two parts: avoiding duplication during data production and avoiding duplicates during data consumption.</p>\n  \n  <p>There are two approaches to getting exactly once semantics during data production:</p>\n  \n  <ul>\n  <li>Use a single-writer per partition and every time you get a network error check the last message in that partition to see if your last write succeeded</li>\n  <li>Include a primary key (UUID or something) in the message and deduplicate on the consumer.</li>\n  </ul>\n  \n  <p>If you do one of these things, the log that Kafka hosts will be duplicate-free. However, reading without duplicates depends on some co-operation from the consumer too. If the consumer is periodically checkpointing its position then if it fails and restarts it will restart from the checkpointed position. Thus if the data output and the checkpoint are not written atomically it will be possible to get duplicates here as well. This problem is particular to your storage system. For example, if you are using a database you could commit these together in a transaction. The HDFS loader Camus that LinkedIn wrote does something like this for Hadoop loads. The other alternative that doesn't require a transaction is to store the offset with the data loaded and deduplicate using the topic/partition/offset combination.</p>\n  \n  <p>I think there are two improvements that would make this a lot easier:</p>\n  \n  <ul>\n  <li>Producer idempotence could be done automatically and much more cheaply by optionally integrating support for this on the server.</li>\n  <li>The existing high-level consumer doesn't expose a lot of the more fine grained control of offsets (e.g. to reset your position). We will be working on that soon</li>\n  </ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":419030,"reputation":612,"user_id":795969,"display_name":"peihan"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1463048586,"creation_date":1463048586,"answer_id":37184104,"question_id":29647656,"body_markdown":"I agree with RaGe&#39;s deduplicate on the consumer side. And we use Redis to deduplicate Kafka message.\r\n\r\nAssume the Message class has a member called &#39;uniqId&#39;, which is filled by the producer side and is guaranteed to be unique. We use a 12 length random string. (regexp is `&#39;^[A-Za-z0-9]{12}$&#39;`)\r\n\r\nThe consumer side use Redis&#39;s SETNX to deduplicate and EXPIRE to purge expired keys automatically. Sample code:\r\n\r\n    Message msg = ... // eg. ConsumerIterator.next().message().fromJson();\r\n    Jedis jedis = ... // eg. JedisPool.getResource();\r\n    String key = &quot;SPOUT:&quot; + msg.uniqId; // prefix name at will\r\n    String val = Long.toString(System.currentTimeMillis());\r\n    long rsps = jedis.setnx(key, val);\r\n    if (rsps &lt;= 0) {\r\n        log.warn(&quot;kafka dup: {}&quot;, msg.toJson()); // and other logic\r\n    } else {\r\n        jedis.expire(key, 7200); // 2 hours is ok for production environment;\r\n    }\r\n\r\nThe above code did detect duplicate messages several times when Kafka(version 0.8.x) had situations. With our input/output balance audit log, no message lost or dup happened.","title":"Effective strategy to avoid duplicate messages in apache kafka consumer","body":"<p>I agree with RaGe's deduplicate on the consumer side. And we use Redis to deduplicate Kafka message.</p>\n\n<p>Assume the Message class has a member called 'uniqId', which is filled by the producer side and is guaranteed to be unique. We use a 12 length random string. (regexp is <code>'^[A-Za-z0-9]{12}$'</code>)</p>\n\n<p>The consumer side use Redis's SETNX to deduplicate and EXPIRE to purge expired keys automatically. Sample code:</p>\n\n<pre><code>Message msg = ... // eg. ConsumerIterator.next().message().fromJson();\nJedis jedis = ... // eg. JedisPool.getResource();\nString key = \"SPOUT:\" + msg.uniqId; // prefix name at will\nString val = Long.toString(System.currentTimeMillis());\nlong rsps = jedis.setnx(key, val);\nif (rsps &lt;= 0) {\n    log.warn(\"kafka dup: {}\", msg.toJson()); // and other logic\n} else {\n    jedis.expire(key, 7200); // 2 hours is ok for production environment;\n}\n</code></pre>\n\n<p>The above code did detect duplicate messages several times when Kafka(version 0.8.x) had situations. With our input/output balance audit log, no message lost or dup happened.</p>\n"},{"tags":[],"owner":{"account_id":7006182,"reputation":2025,"user_id":5370480,"display_name":"Dean Jain"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1556226414,"creation_date":1556226414,"answer_id":55857650,"question_id":29647656,"body_markdown":"Whatever done on producer side, still the best way we believe to deliver exactly once from kafka is to handle it on consumer side:\r\n\r\n1. Produce msg with a uuid as the Kafka message Key into topic T1\r\n2. consumer side read the msg from T1, write it on hbase with uuid as rowkey \r\n3. read back from hbase with the same rowkey and write to another topic T2\r\n4. have your end consumers actually consume from topic T2","title":"Effective strategy to avoid duplicate messages in apache kafka consumer","body":"<p>Whatever done on producer side, still the best way we believe to deliver exactly once from kafka is to handle it on consumer side:</p>\n\n<ol>\n<li>Produce msg with a uuid as the Kafka message Key into topic T1</li>\n<li>consumer side read the msg from T1, write it on hbase with uuid as rowkey </li>\n<li>read back from hbase with the same rowkey and write to another topic T2</li>\n<li>have your end consumers actually consume from topic T2</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1686812,"reputation":29802,"user_id":1549918,"accept_rate":43,"display_name":"Chris Halcrow"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1577052099,"creation_date":1577045668,"answer_id":59447739,"question_id":29647656,"body_markdown":"There&#39;s a relatively new &#39;**Transactional API**&#39; now in Kafka that can allow you to achieve exactly once processing when processing a stream. With the transactional API, idempotency can be built in, as long as the remainder of your system is designed for idempotency. See https://www.baeldung.com/kafka-exactly-once","title":"Effective strategy to avoid duplicate messages in apache kafka consumer","body":"<p>There's a relatively new '<strong>Transactional API</strong>' now in Kafka that can allow you to achieve exactly once processing when processing a stream. With the transactional API, idempotency can be built in, as long as the remainder of your system is designed for idempotency. See <a href=\"https://www.baeldung.com/kafka-exactly-once\" rel=\"noreferrer\">https://www.baeldung.com/kafka-exactly-once</a></p>\n"},{"tags":[],"owner":{"account_id":13837298,"reputation":1,"user_id":9988533,"display_name":"Deepthi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701426341,"creation_date":1701318988,"answer_id":77575927,"question_id":29647656,"body_markdown":"Other alternative solutions would be:\r\n1) Produce a message with a unique key into the topic test\r\n2) On the consumer side, push an entry with the unique key into DB once processing is done successfully. Before starting the process at consumer id, check the unique key entry in the DB. If exists then the consumer already processed that message else do com","title":"Effective strategy to avoid duplicate messages in apache kafka consumer","body":"<p>Other alternative solutions would be:</p>\n<ol>\n<li>Produce a message with a unique key into the topic test</li>\n<li>On the consumer side, push an entry with the unique key into DB once processing is done successfully. Before starting the process at consumer id, check the unique key entry in the DB. If exists then the consumer already processed that message else do com</li>\n</ol>\n"}],"owner":{"account_id":470642,"reputation":8064,"user_id":877942,"accept_rate":79,"display_name":"Shades88"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121169,"favorite_count":0,"down_vote_count":0,"up_vote_count":76,"accepted_answer_id":29656353,"answer_count":6,"score":76,"last_activity_date":1701426341,"creation_date":1429093224,"question_id":29647656,"body_markdown":"I have been studying apache kafka for a month now. I am however, stuck at a point now. My use case is, I have two or more consumer processes running on different machines. I ran a few tests in which I published 10,000 messages in kafka server. Then while processing these messages I killed one of the consumer processes and restarted it. Consumers were writing processed messages in a file. So after consumption finished, file was showing more than 10k messages. So some messages were duplicated. \r\n\r\nIn consumer process I have disabled auto commit. Consumers manually commit offsets batch wise. So for e.g if 100 messages are written to file, consumer commits offsets. When single consumer process is running and it crashes and recovers duplication is avoided in this manner. But when more than one consumers are running and one of them crashes and recovers, it writes duplicate messages to file.\r\n\r\nIs there any effective strategy to avoid these duplicate messages? ","title":"Effective strategy to avoid duplicate messages in apache kafka consumer","body":"<p>I have been studying apache kafka for a month now. I am however, stuck at a point now. My use case is, I have two or more consumer processes running on different machines. I ran a few tests in which I published 10,000 messages in kafka server. Then while processing these messages I killed one of the consumer processes and restarted it. Consumers were writing processed messages in a file. So after consumption finished, file was showing more than 10k messages. So some messages were duplicated. </p>\n\n<p>In consumer process I have disabled auto commit. Consumers manually commit offsets batch wise. So for e.g if 100 messages are written to file, consumer commits offsets. When single consumer process is running and it crashes and recovers duplication is avoided in this manner. But when more than one consumers are running and one of them crashes and recovers, it writes duplicate messages to file.</p>\n\n<p>Is there any effective strategy to avoid these duplicate messages? </p>\n"},{"tags":["java","arrays","for-loop"],"comments":[{"owner":{"account_id":28971313,"reputation":53,"user_id":22191547,"display_name":"AlexisH"},"score":0,"creation_date":1695317443,"post_id":77152289,"comment_id":136011726,"body_markdown":"Okay, thanks for identifying that issue, any input on how to go about fixing it?","body":"Okay, thanks for identifying that issue, any input on how to go about fixing it?"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1695317505,"post_id":77152289,"comment_id":136011738,"body_markdown":"@AlexisH change `myList.length` to `myList[0].length`","body":"@AlexisH change <code>myList.length</code> to <code>myList[0].length</code>"}],"answers":[{"tags":[],"owner":{"account_id":25728677,"reputation":29,"user_id":19484558,"display_name":"firapinch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1695317434,"creation_date":1695317434,"answer_id":77152439,"question_id":77152289,"body_markdown":"    String[][] myList = {{&quot;cat&quot;, &quot;dog&quot;, &quot;mouse&quot;}, {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}};\r\n    for (int i = 0; i &lt; myList[0].length; i++) {\r\n        for (int j = 0; j &lt; myList.length; j++) {\r\n            System.out.printf(&quot;%-8s&quot;, myList[j][i]);\r\n        }\r\n    System.out.println();\r\n    }\r\nThe outer loop (i) iterates through the columns (0, 1, 2).\r\nThe inner loop (j) iterates through the rows (0 and 1).\r\nWe use printf to format the output with a width of 8 characters for each element, using %-8s as the format specifier. This ensures that each element is printed in a column of the specified width.\r\nAfter printing each column, we add System.out.println(); to move to the next line to create the desired format.","title":"Printing 2d array Java","body":"<pre><code>String[][] myList = {{&quot;cat&quot;, &quot;dog&quot;, &quot;mouse&quot;}, {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}};\nfor (int i = 0; i &lt; myList[0].length; i++) {\n    for (int j = 0; j &lt; myList.length; j++) {\n        System.out.printf(&quot;%-8s&quot;, myList[j][i]);\n    }\nSystem.out.println();\n}\n</code></pre>\n<p>The outer loop (i) iterates through the columns (0, 1, 2).\nThe inner loop (j) iterates through the rows (0 and 1).\nWe use printf to format the output with a width of 8 characters for each element, using %-8s as the format specifier. This ensures that each element is printed in a column of the specified width.\nAfter printing each column, we add System.out.println(); to move to the next line to create the desired format.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695317507,"creation_date":1695317507,"answer_id":77152445,"question_id":77152289,"body_markdown":"Try it like this.  Use [System.out.printf()](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/io/PrintStream.html#printf(java.lang.String,java.lang.Object...)) to format the output. Note this this will only work for rectangular arrays as it uses the number of columns of the first row for all rows.\r\n- `&quot;%-7s&quot;` - the `7` is the field width and the `-` says to left justify the string in that field. \r\n```\r\nString [][]myList = {{&quot;cat&quot;, &quot;dog&quot;, &quot;mouse&quot;},\r\n                     {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}};\r\n\r\n\r\nfor (int col = 0; col &lt; myList[0].length; col++) {\r\n    for ( int row = 0; row &lt; myList.length; row++ ) {\r\n        System.out.printf(&quot;%-7s &quot;, myList[row][col]); \r\n    }\r\n    System.out.println();\r\n}\r\n```\r\nprints\r\n```\r\ncat     chair   \r\ndog     bench   \r\nmouse   stool   \r\n","title":"Printing 2d array Java","body":"<p>Try it like this.  Use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/io/PrintStream.html#printf(java.lang.String,java.lang.Object...)\" rel=\"nofollow noreferrer\">System.out.printf()</a> to format the output. Note this this will only work for rectangular arrays as it uses the number of columns of the first row for all rows.</p>\n<ul>\n<li><code>&quot;%-7s&quot;</code> - the <code>7</code> is the field width and the <code>-</code> says to left justify the string in that field.</li>\n</ul>\n<pre><code>String [][]myList = {{&quot;cat&quot;, &quot;dog&quot;, &quot;mouse&quot;},\n                     {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}};\n\n\nfor (int col = 0; col &lt; myList[0].length; col++) {\n    for ( int row = 0; row &lt; myList.length; row++ ) {\n        System.out.printf(&quot;%-7s &quot;, myList[row][col]); \n    }\n    System.out.println();\n}\n</code></pre>\n<p>prints</p>\n<pre><code>cat     chair   \ndog     bench   \nmouse   stool   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1695398264,"creation_date":1695319236,"answer_id":77152608,"question_id":77152289,"body_markdown":"Right now, if I run your code, all I see is this.\r\n\r\n```\r\ncatdogchairbench\r\n```\r\n\r\nIt is just jamming each word together *(and it looks like you are missing your `mouse` and your `stool`?)*.\r\n\r\nIn order to answer your question, we need to deal with the several bugs that are here. Your problem is buried underneath 2-4 other problems.\r\n\r\nFirst order of business is to clean up the formatting here. We can do that by adding an empty call to `System.out.println()`.\r\n\r\n```java\r\nString [][]myList = {{&quot;cat&quot;, &quot;dog&quot;, &quot;mouse&quot;},{&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}};\r\n\r\nfor (int i= 0; i &lt; myList.length; i++)\r\n{\r\n\r\n    for (int j= 0; j &lt; myList.length; j++)\r\n    {\r\n        System.out.print(myList[i][j]);\r\n    }\r\n    \r\n    System.out.println();\r\n\r\n}\r\n```\r\n\r\nNow, your output is like this.\r\n\r\n```\r\ncatdog\r\nchairbench\r\n```\r\n\r\nThis is an improvement.\r\n\r\nNext, we want whitespace in between the words. We can use the tab character (`&#39;\\t&#39;`) to create that whitespace.\r\n\r\n```java\r\nString [][]myList = {{&quot;cat&quot;, &quot;dog&quot;, &quot;mouse&quot;},{&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}};\r\n\r\nfor (int i= 0; i &lt; myList.length; i++)\r\n{\r\n\r\n    for (int j= 0; j &lt; myList.length; j++)\r\n    {\r\n        System.out.print(myList[i][j] + &quot;\\t&quot;);\r\n    }\r\n    \r\n    System.out.println();\r\n\r\n}\r\n```\r\n\r\nHere is the output.\r\n\r\n```\r\ncat     dog\r\nchair   bench\r\n```\r\n\r\nAlso an improvement.\r\n\r\nNext, let&#39;s get back those missing elements -- `mouse` and `stool`.\r\n\r\nIn order to do that, we must first understand what happened to them. You correctly inserted them into your 2-d array, so that is not the issue. However, you are incorrectly ***fetching*** them from the array. Here is where that problem is.\r\n\r\nLet&#39;s refactor your array creation a little, so that we can better see it&#39;s shape.\r\n\r\n```java\r\nString[][] myList =\r\n    {\r\n        {&quot;cat&quot;,   &quot;dog&quot;,   &quot;mouse&quot;},\r\n        {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}\r\n    }\r\n    ;\r\n\r\nfor (int i= 0; i &lt; myList.length; i++)\r\n{\r\n\r\n    for (int j= 0; j &lt; myList.length; j++)\r\n    {\r\n        System.out.print(myList[i][j] + &quot;\\t&quot;);\r\n    }\r\n\r\n    System.out.println();\r\n\r\n}\r\n```\r\n\r\nSo, your array has 2 rows, and 3 columns. We can clearly see that now. So, when you iterate through your array via the for loops, your for loops need to know about and iterate through those rows and columns correctly.\r\n\r\nThe way most people do this is by having a for loop for each component. That is, a for loop for your rows, and then another for loop for the columns in that row.\r\n\r\nLet&#39;s refactor your code to make that clearer.\r\n\r\n```java\r\nString[][] myList =\r\n    {\r\n        {&quot;cat&quot;,   &quot;dog&quot;,   &quot;mouse&quot;},\r\n        {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}\r\n    }\r\n    ;\r\n\r\nfor (int row = 0; row &lt; myList.length; row++)\r\n{\r\n\r\n    for (int column = 0; column &lt; myList.length; column++)\r\n    {\r\n        System.out.print(myList[row][column] + &quot;\\t&quot;);\r\n    }\r\n\r\n    System.out.println();\r\n\r\n}\r\n```\r\n\r\nNow, we can clearly see what the indices represent. It&#39;s no longer `i` and `j`, but a `row` and a `column` within the specified row.\r\n\r\nUnderstanding that, let&#39;s look back at the for loops again.\r\n\r\nYour `row` is looping from `0` all the way up to `myList.length`. Well, how long is `myList.length`? It is `2`, because, as we saw earlier, `myList` has 2 rows, so the value of `myList.length` is `2`.\r\n\r\nBut what about your `column`? It is ***also*** looping from `0` all the way up to `myList.length`. But `myList.length` is supposed to represent the number of ***`rows`***, not the number of ***`columns`***!\r\n\r\nSo, how do we fetch the number of columns? You get that by asking the length of ***the specific row you are on***. Your 2-d array has a length, but each row on your 2-d array also has a length. The reason why is because each element in your `myList` array is another array! And each array has a length. Thus, the number of columns = the length of the specific row.\r\n\r\nBut how do we represent that in your code?\r\n\r\nWell, you do it like this. Instead of saying `myList.length`, you say `myList[someIndexValueHere].length`. Of course, we need to replace `someIndexValueHere` with an actual index value. That index value will be the row you are currently on. So, instead, it would be `myList[row].length`. This will give you the number of columns in the row specified by the index `row`.\r\n\r\n```java\r\nString[][] myList =\r\n    {\r\n        {&quot;cat&quot;,   &quot;dog&quot;,   &quot;mouse&quot;},\r\n        {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}\r\n    }\r\n    ;\r\n\r\nfor (int row = 0; row &lt; myList.length; row++)\r\n{\r\n\r\n    for (int column = 0; column &lt; myList[row].length; column++)\r\n    {\r\n        System.out.print(myList[row][column] + &quot;\\t&quot;);\r\n    }\r\n\r\n    System.out.println();\r\n\r\n}\r\n```\r\n\r\nHere is the output now.\r\n\r\n```\r\ncat     dog     mouse\r\nchair   bench   stool\r\n```\r\n\r\nNow, things look a lot better.\r\n\r\nNow, we still have not solved your original problem. That was because we had to fix all of the bugs that were in the way. Let&#39;s solve your requested problem now.\r\n\r\nEssentially, what you seem to want is for the above output to be &quot;turned sideways&quot;. Meaning, it sounds like you want something like the following instead.\r\n\r\n```\r\ncat     chair\r\ndog     bench\r\nmouse   stool\r\n```\r\n\r\nIf so, then this is a little tricky, but can definitely be done.\r\n\r\nFirst, the way we are currently going is we are going to each row, then fetching all of the columns on it and printing them out.\r\n\r\nTo get this new output, we will have to reverse this process. Instead of going to each row and fetching each column, ***we now need to go to each column, and fetch each row on it***.\r\n\r\nLuckily for you, your array has a special property -- all of the rows on your array have the exact same number of columns! If it was not for this fact, this problem would be much harder to solve.\r\n\r\nBut since we know that all the rows have the same number of columns, that means we can use the size from any row, and it will be the same size as every other row!\r\n\r\nSo, let&#39;s acknowledge that fact, and replace our call to `myList[row].length` to `myList[0].length`. We can get away with this because, the `0` row has the exact same number of columns (the same length!) as any other row on `myList`!\r\n\r\n```java\r\nString[][] myList =\r\n    {\r\n        {&quot;cat&quot;,   &quot;dog&quot;,   &quot;mouse&quot;},\r\n        {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}\r\n    }\r\n    ;\r\n\r\nfor (int row = 0; row &lt; myList.length; row++)\r\n{\r\n\r\n    for (int column = 0; column &lt; myList[0].length; column++)\r\n    {\r\n        System.out.print(myList[row][column] + &quot;\\t&quot;);\r\n    }\r\n\r\n    System.out.println();\r\n\r\n}\r\n```\r\n\r\nNow, we can make one simple change to solve your original problem -- just swap your for loops!\r\n\r\n```java\r\nString[][] myList =\r\n    {\r\n        {&quot;cat&quot;,   &quot;dog&quot;,   &quot;mouse&quot;},\r\n        {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}\r\n    }\r\n    ;\r\n\r\nfor (int column = 0; column &lt; myList[0].length; column++)\r\n{\r\n\r\n    for (int row = 0; row &lt; myList.length; row++)\r\n    {\r\n\r\n        System.out.print(myList[row][column] + &quot;\\t&quot;);\r\n\r\n    }\r\n\r\n    System.out.println();\r\n\r\n}\r\n```\r\n\r\nIf we run that, here is our output.\r\n\r\n```\r\ncat     chair\r\ndog     bench\r\nmouse   stool\r\n```\r\n\r\nYour problem is now solved. Let me know if there are any questions.\r\n\r\n**EDIT** - To improve the answer, we could use `System.out.printf()` to help us with formatting. However, in order to use this, we need to know how long the longest element in your 2-d array is. Looking at it, we can see that the longest element is 5 characters long, so anything above 6 would work. But again, you either need to know that ahead of time, or figure out before you start printing. Here is the code refactored to use the new method.\r\n\r\n```java\r\nString[][] myList =\r\n    {\r\n        {&quot;cat&quot;,   &quot;dog&quot;,   &quot;mouse&quot;},\r\n        {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}\r\n    }\r\n    ;\r\n\r\nfor (int column = 0; column &lt; myList[0].length; column++)\r\n{\r\n\r\n    for (int row = 0; row &lt; myList.length; row++)\r\n    {\r\n\r\n        System.out.printf(&quot;%-7s&quot;, myList[row][column]);\r\n\r\n    }\r\n\r\n    System.out.println();\r\n\r\n}\r\n```\r\n\r\nAs for an explanation of how the function works, I will link to the answer by @WJS that explains it much better.\r\n\r\nhttps://stackoverflow.com/a/77152445/10118965","title":"Printing 2d array Java","body":"<p>Right now, if I run your code, all I see is this.</p>\n<pre><code>catdogchairbench\n</code></pre>\n<p>It is just jamming each word together <em>(and it looks like you are missing your <code>mouse</code> and your <code>stool</code>?)</em>.</p>\n<p>In order to answer your question, we need to deal with the several bugs that are here. Your problem is buried underneath 2-4 other problems.</p>\n<p>First order of business is to clean up the formatting here. We can do that by adding an empty call to <code>System.out.println()</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String [][]myList = {{&quot;cat&quot;, &quot;dog&quot;, &quot;mouse&quot;},{&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}};\n\nfor (int i= 0; i &lt; myList.length; i++)\n{\n\n    for (int j= 0; j &lt; myList.length; j++)\n    {\n        System.out.print(myList[i][j]);\n    }\n    \n    System.out.println();\n\n}\n</code></pre>\n<p>Now, your output is like this.</p>\n<pre><code>catdog\nchairbench\n</code></pre>\n<p>This is an improvement.</p>\n<p>Next, we want whitespace in between the words. We can use the tab character (<code>'\\t'</code>) to create that whitespace.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String [][]myList = {{&quot;cat&quot;, &quot;dog&quot;, &quot;mouse&quot;},{&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}};\n\nfor (int i= 0; i &lt; myList.length; i++)\n{\n\n    for (int j= 0; j &lt; myList.length; j++)\n    {\n        System.out.print(myList[i][j] + &quot;\\t&quot;);\n    }\n    \n    System.out.println();\n\n}\n</code></pre>\n<p>Here is the output.</p>\n<pre><code>cat     dog\nchair   bench\n</code></pre>\n<p>Also an improvement.</p>\n<p>Next, let's get back those missing elements -- <code>mouse</code> and <code>stool</code>.</p>\n<p>In order to do that, we must first understand what happened to them. You correctly inserted them into your 2-d array, so that is not the issue. However, you are incorrectly <em><strong>fetching</strong></em> them from the array. Here is where that problem is.</p>\n<p>Let's refactor your array creation a little, so that we can better see it's shape.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[][] myList =\n    {\n        {&quot;cat&quot;,   &quot;dog&quot;,   &quot;mouse&quot;},\n        {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}\n    }\n    ;\n\nfor (int i= 0; i &lt; myList.length; i++)\n{\n\n    for (int j= 0; j &lt; myList.length; j++)\n    {\n        System.out.print(myList[i][j] + &quot;\\t&quot;);\n    }\n\n    System.out.println();\n\n}\n</code></pre>\n<p>So, your array has 2 rows, and 3 columns. We can clearly see that now. So, when you iterate through your array via the for loops, your for loops need to know about and iterate through those rows and columns correctly.</p>\n<p>The way most people do this is by having a for loop for each component. That is, a for loop for your rows, and then another for loop for the columns in that row.</p>\n<p>Let's refactor your code to make that clearer.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[][] myList =\n    {\n        {&quot;cat&quot;,   &quot;dog&quot;,   &quot;mouse&quot;},\n        {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}\n    }\n    ;\n\nfor (int row = 0; row &lt; myList.length; row++)\n{\n\n    for (int column = 0; column &lt; myList.length; column++)\n    {\n        System.out.print(myList[row][column] + &quot;\\t&quot;);\n    }\n\n    System.out.println();\n\n}\n</code></pre>\n<p>Now, we can clearly see what the indices represent. It's no longer <code>i</code> and <code>j</code>, but a <code>row</code> and a <code>column</code> within the specified row.</p>\n<p>Understanding that, let's look back at the for loops again.</p>\n<p>Your <code>row</code> is looping from <code>0</code> all the way up to <code>myList.length</code>. Well, how long is <code>myList.length</code>? It is <code>2</code>, because, as we saw earlier, <code>myList</code> has 2 rows, so the value of <code>myList.length</code> is <code>2</code>.</p>\n<p>But what about your <code>column</code>? It is <em><strong>also</strong></em> looping from <code>0</code> all the way up to <code>myList.length</code>. But <code>myList.length</code> is supposed to represent the number of <em><strong><code>rows</code></strong></em>, not the number of <em><strong><code>columns</code></strong></em>!</p>\n<p>So, how do we fetch the number of columns? You get that by asking the length of <em><strong>the specific row you are on</strong></em>. Your 2-d array has a length, but each row on your 2-d array also has a length. The reason why is because each element in your <code>myList</code> array is another array! And each array has a length. Thus, the number of columns = the length of the specific row.</p>\n<p>But how do we represent that in your code?</p>\n<p>Well, you do it like this. Instead of saying <code>myList.length</code>, you say <code>myList[someIndexValueHere].length</code>. Of course, we need to replace <code>someIndexValueHere</code> with an actual index value. That index value will be the row you are currently on. So, instead, it would be <code>myList[row].length</code>. This will give you the number of columns in the row specified by the index <code>row</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[][] myList =\n    {\n        {&quot;cat&quot;,   &quot;dog&quot;,   &quot;mouse&quot;},\n        {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}\n    }\n    ;\n\nfor (int row = 0; row &lt; myList.length; row++)\n{\n\n    for (int column = 0; column &lt; myList[row].length; column++)\n    {\n        System.out.print(myList[row][column] + &quot;\\t&quot;);\n    }\n\n    System.out.println();\n\n}\n</code></pre>\n<p>Here is the output now.</p>\n<pre><code>cat     dog     mouse\nchair   bench   stool\n</code></pre>\n<p>Now, things look a lot better.</p>\n<p>Now, we still have not solved your original problem. That was because we had to fix all of the bugs that were in the way. Let's solve your requested problem now.</p>\n<p>Essentially, what you seem to want is for the above output to be &quot;turned sideways&quot;. Meaning, it sounds like you want something like the following instead.</p>\n<pre><code>cat     chair\ndog     bench\nmouse   stool\n</code></pre>\n<p>If so, then this is a little tricky, but can definitely be done.</p>\n<p>First, the way we are currently going is we are going to each row, then fetching all of the columns on it and printing them out.</p>\n<p>To get this new output, we will have to reverse this process. Instead of going to each row and fetching each column, <em><strong>we now need to go to each column, and fetch each row on it</strong></em>.</p>\n<p>Luckily for you, your array has a special property -- all of the rows on your array have the exact same number of columns! If it was not for this fact, this problem would be much harder to solve.</p>\n<p>But since we know that all the rows have the same number of columns, that means we can use the size from any row, and it will be the same size as every other row!</p>\n<p>So, let's acknowledge that fact, and replace our call to <code>myList[row].length</code> to <code>myList[0].length</code>. We can get away with this because, the <code>0</code> row has the exact same number of columns (the same length!) as any other row on <code>myList</code>!</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[][] myList =\n    {\n        {&quot;cat&quot;,   &quot;dog&quot;,   &quot;mouse&quot;},\n        {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}\n    }\n    ;\n\nfor (int row = 0; row &lt; myList.length; row++)\n{\n\n    for (int column = 0; column &lt; myList[0].length; column++)\n    {\n        System.out.print(myList[row][column] + &quot;\\t&quot;);\n    }\n\n    System.out.println();\n\n}\n</code></pre>\n<p>Now, we can make one simple change to solve your original problem -- just swap your for loops!</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[][] myList =\n    {\n        {&quot;cat&quot;,   &quot;dog&quot;,   &quot;mouse&quot;},\n        {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}\n    }\n    ;\n\nfor (int column = 0; column &lt; myList[0].length; column++)\n{\n\n    for (int row = 0; row &lt; myList.length; row++)\n    {\n\n        System.out.print(myList[row][column] + &quot;\\t&quot;);\n\n    }\n\n    System.out.println();\n\n}\n</code></pre>\n<p>If we run that, here is our output.</p>\n<pre><code>cat     chair\ndog     bench\nmouse   stool\n</code></pre>\n<p>Your problem is now solved. Let me know if there are any questions.</p>\n<p><strong>EDIT</strong> - To improve the answer, we could use <code>System.out.printf()</code> to help us with formatting. However, in order to use this, we need to know how long the longest element in your 2-d array is. Looking at it, we can see that the longest element is 5 characters long, so anything above 6 would work. But again, you either need to know that ahead of time, or figure out before you start printing. Here is the code refactored to use the new method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[][] myList =\n    {\n        {&quot;cat&quot;,   &quot;dog&quot;,   &quot;mouse&quot;},\n        {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}\n    }\n    ;\n\nfor (int column = 0; column &lt; myList[0].length; column++)\n{\n\n    for (int row = 0; row &lt; myList.length; row++)\n    {\n\n        System.out.printf(&quot;%-7s&quot;, myList[row][column]);\n\n    }\n\n    System.out.println();\n\n}\n</code></pre>\n<p>As for an explanation of how the function works, I will link to the answer by @WJS that explains it much better.</p>\n<p><a href=\"https://stackoverflow.com/a/77152445/10118965\">https://stackoverflow.com/a/77152445/10118965</a></p>\n"},{"tags":[],"owner":{"account_id":27038980,"reputation":141,"user_id":20594090,"display_name":"lchristmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701426300,"creation_date":1695321149,"answer_id":77152803,"question_id":77152289,"body_markdown":"# Challenges\r\n\r\nTrying to achieve exactly your desired result, you have two challenges:\r\n\r\n1. Printing the subarrays vertically\r\n2. Printing it in a nice table-looking way\r\n\r\n## 1. Printing the sub-arrays vertically\r\n\r\nFrom your gut feeling, you want to iterate over the outter array and do something. But here you want to process the 1st item of all subarrays together, then the 2nd items of all subarrays, then the 3rd items and so on...\r\n\r\nTherefor **you have to figure out what&#39;s the longest-subarray?** That&#39;s how long you&#39;ll have do your outter loop, because that is how many lines you&#39;ll have to print!\r\n\r\nNow you can loop over all subarrays at once. But they may not all be equally long, so **always do null-checks** to verify if an element exists.\r\n\r\n## 2. Printing it in a nice table-looking way\r\n\r\nEnsuring all table cells have an equal width is easy (see other answers). `System.out.printf(&quot;%-6s&quot;, &quot;abc&quot;);` will make all cells be 6 characters wide.\r\n\r\nBut depending on the strings in your array, you might need wider cells or maybe smaller ones to not waste space. **Calculate a reasonable cell width.**\r\n\r\n# Solution\r\n\r\n1. Figure out the longest subarray\r\n2. Calculate the right cell width\r\n3. Print the table\r\n\r\n```java\r\nString [][]myList = {{&quot;cat&quot;, &quot;dog&quot;, &quot;mouse&quot;},{&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}};\r\n\r\n// Figure out longest subarray\r\nint longestArray = 0;\r\nfor (String[] array : myList) {\r\n    if (array.length &gt; longestArray) longestArray = array.length;\r\n}\r\n\r\n// Calculate the right cell width: find the longest string + add 2 chars for padding\r\nint cellWidth = 0;\r\nfor (int i = 0; i &lt; myList.length; i++) {\r\n    for (int j = 0; j &lt; myList[i].length; j++) {\r\n        if (myList[i][j].length() &gt; cellWidth) cellWidth = myList[i][j].length();\r\n    }\r\n}\r\ncellWidth += 2;\r\n\r\n// Print the table\r\nfor (int i = 0; i &lt; longestArray; i++) {\r\n    for (int j = 0; j &lt; myList.length; j++) {\r\n        if (myList[j].length &gt; i) System.out.printf(&quot;%-&quot; + cellWidth + &quot;s&quot;, myList[j][i]);\r\n        else System.out.printf(&quot;%-&quot; + cellWidth + &quot;s&quot;, &quot;&quot;);\r\n    }\r\n    System.out.printf(&quot;\\n&quot;);\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```\r\ncat    chair  \r\ndog    bench  \r\nmouse  stool\r\n```\r\n\r\nThis **works for any number of subarrays and any number of items in them**.","title":"Printing 2d array Java","body":"<h1>Challenges</h1>\n<p>Trying to achieve exactly your desired result, you have two challenges:</p>\n<ol>\n<li>Printing the subarrays vertically</li>\n<li>Printing it in a nice table-looking way</li>\n</ol>\n<h2>1. Printing the sub-arrays vertically</h2>\n<p>From your gut feeling, you want to iterate over the outter array and do something. But here you want to process the 1st item of all subarrays together, then the 2nd items of all subarrays, then the 3rd items and so on...</p>\n<p>Therefor <strong>you have to figure out what's the longest-subarray?</strong> That's how long you'll have do your outter loop, because that is how many lines you'll have to print!</p>\n<p>Now you can loop over all subarrays at once. But they may not all be equally long, so <strong>always do null-checks</strong> to verify if an element exists.</p>\n<h2>2. Printing it in a nice table-looking way</h2>\n<p>Ensuring all table cells have an equal width is easy (see other answers). <code>System.out.printf(&quot;%-6s&quot;, &quot;abc&quot;);</code> will make all cells be 6 characters wide.</p>\n<p>But depending on the strings in your array, you might need wider cells or maybe smaller ones to not waste space. <strong>Calculate a reasonable cell width.</strong></p>\n<h1>Solution</h1>\n<ol>\n<li>Figure out the longest subarray</li>\n<li>Calculate the right cell width</li>\n<li>Print the table</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>String [][]myList = {{&quot;cat&quot;, &quot;dog&quot;, &quot;mouse&quot;},{&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}};\n\n// Figure out longest subarray\nint longestArray = 0;\nfor (String[] array : myList) {\n    if (array.length &gt; longestArray) longestArray = array.length;\n}\n\n// Calculate the right cell width: find the longest string + add 2 chars for padding\nint cellWidth = 0;\nfor (int i = 0; i &lt; myList.length; i++) {\n    for (int j = 0; j &lt; myList[i].length; j++) {\n        if (myList[i][j].length() &gt; cellWidth) cellWidth = myList[i][j].length();\n    }\n}\ncellWidth += 2;\n\n// Print the table\nfor (int i = 0; i &lt; longestArray; i++) {\n    for (int j = 0; j &lt; myList.length; j++) {\n        if (myList[j].length &gt; i) System.out.printf(&quot;%-&quot; + cellWidth + &quot;s&quot;, myList[j][i]);\n        else System.out.printf(&quot;%-&quot; + cellWidth + &quot;s&quot;, &quot;&quot;);\n    }\n    System.out.printf(&quot;\\n&quot;);\n}\n</code></pre>\n<p>Output</p>\n<pre><code>cat    chair  \ndog    bench  \nmouse  stool\n</code></pre>\n<p>This <strong>works for any number of subarrays and any number of items in them</strong>.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695357697,"creation_date":1695324458,"answer_id":77153122,"question_id":77152289,"body_markdown":"&gt; _&quot;... the issue I&#39;m having is that the array print as a list, but I want it to print as: ...&quot;_\r\n\r\nDetermine the width for each column, additionally the longest list.\r\n\r\n```java\r\nString [][]myList = {{&quot;cat&quot;, &quot;dog&quot;, &quot;mouse&quot;},{&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}};\r\nint max = 0, widths[] = new int[myList.length];\r\nString[] strings;\r\nfor (int i = 0, n = myList.length; i &lt; n; i++) {\r\n    widths[i] = maximum(strings = myList[i]);\r\n    if (strings.length &gt; max) max = strings.length;\r\n}\r\n```\r\n\r\n```java\r\nint maximum(String[] s) {\r\n    return Stream.of(s).mapToInt(String::length).max().getAsInt();\r\n}\r\n```\r\n\r\nThen, create a _[format-string](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Formatter.html)_ for the row.\\\r\nI&#39;m adding _+2_ to create space between the columns.\r\n\r\n```java\r\nStringBuilder fs = new StringBuilder();\r\nfor (int v : widths) fs.append(&quot;%%-%ds&quot;.formatted(v + 2));\r\n```\r\n\r\nFinally, build a _String_ array for the corresponding elements, and apply the _format-string_.\r\n\r\n```java\r\nStringBuilder s = new StringBuilder();\r\nString[] row;\r\nfor (int i = 0, j; i &lt; max; i++) {\r\n    row = new String[myList.length];\r\n    for (j = 0; j &lt; row.length; j++)\r\n        row[j] = i &gt; myList[j].length - 1 ? &quot;&quot; : myList[j][i];\r\n    s.append((fs + &quot;%n&quot;).formatted(row));\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\ncat    chair  \r\ndog    bench  \r\nmouse  stool  \r\n```\r\n\r\nHere is an example using a set of randomly generated values.\r\n\r\n```java\r\nRandom r = new Random();\r\nString strings[], myList[][] = new String[4][];\r\nfor (int i = 0, j, n1 = myList.length, n2; i &lt; n1; i++) {\r\n    strings = new String[r.nextInt(5, 20)];\r\n    for (j = 0, n2 = strings.length; j &lt; n2; j++) {\r\n        strings[j] = r.ints(&#39;a&#39;, &#39;z&#39; + 1)\r\n                      .limit(r.nextInt(4, 10))\r\n                      .mapToObj(x -&gt; String.valueOf((char) x))\r\n                      .collect(Collectors.joining());\r\n    }\r\n    myList[i] = strings;\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\neoiigbu    eaglbxp    uiou       eygdnizf   \r\nbfkcmid    snlz       vkbkqdo    obfxwtax   \r\nxtxmo      nqtaoxijq  nlorcz     wpwdhk     \r\ndwtdihj    tnsxp      zjeszm     vfeasklyj  \r\nwsmgwegr   tolsnxauk  immxl      trbwlmxft  \r\nlhejlvqh   wfhh       efwkdri               \r\nbjiltokvt  hsprvsfpu  muoqp                 \r\nnmerh      jfkuhr     ycylr                 \r\nmmtcun     mgrj       lunarw                \r\njlnicv     faapyhjb   vlsqz                 \r\nnehy       nfnmtdxai  yzxrivxn              \r\nkiace      oorrj      jfbfgeo               \r\n           hpzaaa     fwmpqcjbi             \r\n           lxvnnqieo                        \r\n           iqujzwnv                         \r\n           hjjz                             \r\n           dthlgtip                         \r\n           oggqr                            \r\n           dbpbr                            \r\n```","title":"Printing 2d array Java","body":"<blockquote>\n<p><em>&quot;... the issue I'm having is that the array print as a list, but I want it to print as: ...&quot;</em></p>\n</blockquote>\n<p>Determine the width for each column, additionally the longest list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String [][]myList = {{&quot;cat&quot;, &quot;dog&quot;, &quot;mouse&quot;},{&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}};\nint max = 0, widths[] = new int[myList.length];\nString[] strings;\nfor (int i = 0, n = myList.length; i &lt; n; i++) {\n    widths[i] = maximum(strings = myList[i]);\n    if (strings.length &gt; max) max = strings.length;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>int maximum(String[] s) {\n    return Stream.of(s).mapToInt(String::length).max().getAsInt();\n}\n</code></pre>\n<p>Then, create a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Formatter.html\" rel=\"nofollow noreferrer\">format-string</a></em> for the row.<br />\nI'm adding <em>+2</em> to create space between the columns.</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringBuilder fs = new StringBuilder();\nfor (int v : widths) fs.append(&quot;%%-%ds&quot;.formatted(v + 2));\n</code></pre>\n<p>Finally, build a <em>String</em> array for the corresponding elements, and apply the <em>format-string</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringBuilder s = new StringBuilder();\nString[] row;\nfor (int i = 0, j; i &lt; max; i++) {\n    row = new String[myList.length];\n    for (j = 0; j &lt; row.length; j++)\n        row[j] = i &gt; myList[j].length - 1 ? &quot;&quot; : myList[j][i];\n    s.append((fs + &quot;%n&quot;).formatted(row));\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>cat    chair  \ndog    bench  \nmouse  stool  \n</code></pre>\n<p>Here is an example using a set of randomly generated values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Random r = new Random();\nString strings[], myList[][] = new String[4][];\nfor (int i = 0, j, n1 = myList.length, n2; i &lt; n1; i++) {\n    strings = new String[r.nextInt(5, 20)];\n    for (j = 0, n2 = strings.length; j &lt; n2; j++) {\n        strings[j] = r.ints('a', 'z' + 1)\n                      .limit(r.nextInt(4, 10))\n                      .mapToObj(x -&gt; String.valueOf((char) x))\n                      .collect(Collectors.joining());\n    }\n    myList[i] = strings;\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>eoiigbu    eaglbxp    uiou       eygdnizf   \nbfkcmid    snlz       vkbkqdo    obfxwtax   \nxtxmo      nqtaoxijq  nlorcz     wpwdhk     \ndwtdihj    tnsxp      zjeszm     vfeasklyj  \nwsmgwegr   tolsnxauk  immxl      trbwlmxft  \nlhejlvqh   wfhh       efwkdri               \nbjiltokvt  hsprvsfpu  muoqp                 \nnmerh      jfkuhr     ycylr                 \nmmtcun     mgrj       lunarw                \njlnicv     faapyhjb   vlsqz                 \nnehy       nfnmtdxai  yzxrivxn              \nkiace      oorrj      jfbfgeo               \n           hpzaaa     fwmpqcjbi             \n           lxvnnqieo                        \n           iqujzwnv                         \n           hjjz                             \n           dthlgtip                         \n           oggqr                            \n           dbpbr                            \n</code></pre>\n"},{"tags":[],"owner":{"account_id":24998171,"reputation":16,"user_id":18858798,"display_name":"Noob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695381650,"creation_date":1695381650,"answer_id":77157171,"question_id":77152289,"body_markdown":"\r\n\t\t\r\n\t\tString [][]myList = {\r\n\t\t\t\t{&quot;cat&quot;, &quot;dog&quot;, &quot;mouse&quot;},\r\n\t\t\t\t{&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;,&quot;stood&quot;},\r\n\t\t\t\t{&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;,&quot;stood&quot;,&quot;ascefq&quot;,&quot;efwef&quot;},\r\n\t\t\t\t{&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;},\r\n\t\t\t\t{&quot;chair&quot;, &quot;bench&quot;},\r\n\t\t\t\t{&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;,&quot;stood&quot;,&quot;ascefq&quot;,&quot;efwef&quot;}\r\n\t\t\t\t};\r\n\t\t\r\n\t\tint max = Integer.MIN_VALUE;\r\n\t\t\r\n\t\tfor (int i = 0 ; i&lt; myList.length; i++)\r\n\t\t{\r\n\t\t\tif(myList[i].length &gt; max)\r\n\t\t\t\t\tmax = myList[i].length;\r\n\t\t}\r\n\r\n\t\tSystem.out.println(max);\r\n\t\t\r\n\t\tfor (int column= 0; column &lt; max; column++)\r\n\t\t{\r\n\t\t    for (int row= 0; row &lt; myList.length; row++)\r\n\t\t    {\r\n\t\t    \tif(myList[row].length &lt;= column)\r\n\t\t    \t\t{\r\n\t\t    \t\t\tSystem.out.printf(&quot;%-8s&quot;,&quot;&quot;);\r\n\t\t    \t\t\tcontinue;\r\n\t\t    \t\t}\r\n\t\t    \t\t\r\n\t\t    \tSystem.out.printf(&quot;%-8s&quot;,myList[row][column]);\r\n\t\t    }\r\n\t\t    System.out.println();\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\r\nWith this solution you need less loop and still you will get the accurate result for any nxm array.\r\n\r\nActual logic is in the below part.\r\n\r\n             if(myList[row].length &lt;= column)\r\n                {\r\n                    System.out.printf(&quot;%-8s&quot;,&quot;&quot;);\r\n                    continue;\r\n                }\r\nThis loop is checking if the length of the row is less than or equal to the current column (as we are doing column iteration), means if row length is less or equal then we need to add space else add the string.\r\n\r\nHope it helps.","title":"Printing 2d array Java","body":"<pre><code>    String [][]myList = {\n            {&quot;cat&quot;, &quot;dog&quot;, &quot;mouse&quot;},\n            {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;,&quot;stood&quot;},\n            {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;,&quot;stood&quot;,&quot;ascefq&quot;,&quot;efwef&quot;},\n            {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;},\n            {&quot;chair&quot;, &quot;bench&quot;},\n            {&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;,&quot;stood&quot;,&quot;ascefq&quot;,&quot;efwef&quot;}\n            };\n    \n    int max = Integer.MIN_VALUE;\n    \n    for (int i = 0 ; i&lt; myList.length; i++)\n    {\n        if(myList[i].length &gt; max)\n                max = myList[i].length;\n    }\n\n    System.out.println(max);\n    \n    for (int column= 0; column &lt; max; column++)\n    {\n        for (int row= 0; row &lt; myList.length; row++)\n        {\n            if(myList[row].length &lt;= column)\n                {\n                    System.out.printf(&quot;%-8s&quot;,&quot;&quot;);\n                    continue;\n                }\n                \n            System.out.printf(&quot;%-8s&quot;,myList[row][column]);\n        }\n        System.out.println();\n    }\n    \n    \n</code></pre>\n<p>With this solution you need less loop and still you will get the accurate result for any nxm array.</p>\n<p>Actual logic is in the below part.</p>\n<pre><code>         if(myList[row].length &lt;= column)\n            {\n                System.out.printf(&quot;%-8s&quot;,&quot;&quot;);\n                continue;\n            }\n</code></pre>\n<p>This loop is checking if the length of the row is less than or equal to the current column (as we are doing column iteration), means if row length is less or equal then we need to add space else add the string.</p>\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":28971313,"reputation":53,"user_id":22191547,"display_name":"AlexisH"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":6,"score":2,"last_activity_date":1701426300,"creation_date":1695315882,"question_id":77152289,"body_markdown":"I am trying print the array I&#39;ve created below.\r\n\r\n***NOTE: this is only a portion of my code that I extracted, so any commentary on anything needed before this portion is unnecessary.***\r\n   \r\n```\r\nString [][]myList = {{&quot;cat&quot;, &quot;dog&quot;, &quot;mouse&quot;},{&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}};\r\n\r\nfor (int i= 0; i &lt; myList.length; i++)\r\n{\r\n    for (int j= 0; j &lt; myList.length; j++)\r\n    {\r\n        System.out.print(myList[i][j]);\r\n    }\r\n}\r\n```\r\n\r\nHowever, the issue I&#39;m having is that the array print as a list, but I want it to print as:\r\n\r\n```\r\nCat      chair\r\nDog      bench\r\nMouse    stool\r\n```\r\n\r\nAny help would be greatly appreciated.","title":"Printing 2d array Java","body":"<p>I am trying print the array I've created below.</p>\n<p><em><strong>NOTE: this is only a portion of my code that I extracted, so any commentary on anything needed before this portion is unnecessary.</strong></em></p>\n<pre><code>String [][]myList = {{&quot;cat&quot;, &quot;dog&quot;, &quot;mouse&quot;},{&quot;chair&quot;, &quot;bench&quot;, &quot;stool&quot;}};\n\nfor (int i= 0; i &lt; myList.length; i++)\n{\n    for (int j= 0; j &lt; myList.length; j++)\n    {\n        System.out.print(myList[i][j]);\n    }\n}\n</code></pre>\n<p>However, the issue I'm having is that the array print as a list, but I want it to print as:</p>\n<pre><code>Cat      chair\nDog      bench\nMouse    stool\n</code></pre>\n<p>Any help would be greatly appreciated.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"score":0,"creation_date":1661494466,"post_id":73494509,"comment_id":129789943,"body_markdown":"I think you should consider using spring-security to utilize its `PasswordEncoder` and different ways to compare passwords for equality","body":"I think you should consider using spring-security to utilize its <code>PasswordEncoder</code> and different ways to compare passwords for equality"},{"owner":{"account_id":3400101,"reputation":3482,"user_id":2852528,"display_name":"Serhii Pov&#237;senko"},"score":1,"creation_date":1661890309,"post_id":73494509,"comment_id":129878586,"body_markdown":"the best practice is to hash passwords not encrypt them, as @AndrewThomas use any implementation of PasswordEncoder like BCryptPasswordEncoder","body":"the best practice is to hash passwords not encrypt them, as @AndrewThomas use any implementation of PasswordEncoder like BCryptPasswordEncoder"}],"answers":[{"tags":[],"owner":{"account_id":9792233,"reputation":459,"user_id":7256477,"display_name":"Raju"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661497897,"creation_date":1661497897,"answer_id":73497331,"question_id":73494509,"body_markdown":"Use \r\n\r\n&gt; **BCryptPasswordEncoder**\r\n\r\n Class while saving the Password in DataBase.it will convert the normal text to RandomValue.\r\n\r\nDefine the BCryptPasswordEncoder In config Class.\r\n\r\n    @Bean\r\n    public PasswordEncoder encoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\nRepository Class :\r\n\r\n       @Autowired\r\n    private PasswordEncoder passwordEncoder;\r\n    \r\n    public User newUserAccount(UserDto accountDto) {\r\n            User user = new User();\r\n        user.setFirstName(accountDto.getFirstName());\r\n        user.setLastName(accountDto.getLastName());\r\n       \r\n        user.setPassword(passwordEncoder.encode(accountDto.getPassword()));\r\n        \r\n        \r\n        return repository.save(user);\r\n    }\r\n\r\n  \r\n\r\n","title":"How to encpyt the password using Springboot?","body":"<p>Use</p>\n<blockquote>\n<p><strong>BCryptPasswordEncoder</strong></p>\n</blockquote>\n<p>Class while saving the Password in DataBase.it will convert the normal text to RandomValue.</p>\n<p>Define the BCryptPasswordEncoder In config Class.</p>\n<pre><code>@Bean\npublic PasswordEncoder encoder() {\n    return new BCryptPasswordEncoder();\n}\n</code></pre>\n<p>Repository Class :</p>\n<pre><code>   @Autowired\nprivate PasswordEncoder passwordEncoder;\n\npublic User newUserAccount(UserDto accountDto) {\n        User user = new User();\n    user.setFirstName(accountDto.getFirstName());\n    user.setLastName(accountDto.getLastName());\n   \n    user.setPassword(passwordEncoder.encode(accountDto.getPassword()));\n    \n    \n    return repository.save(user);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26747337,"reputation":13,"user_id":20347223,"display_name":"Ch Vamsi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701426224,"creation_date":1701426224,"answer_id":77584559,"question_id":73494509,"body_markdown":"   Utilize this code .. Here I am using InMemoryUserDetailsManager to manage user details that stored in memory.\r\n\r\n    @Bean\r\n    public InMemoryUserDetailsManager createUserDetails(){\r\n        UserDetails user1 = createNewUser(&quot;vamsi&quot;,&quot;vamsi&quot;);\r\n        UserDetails user2 = createNewUser(&quot;a&quot;,&quot;a&quot;);\r\n\r\n        return new InMemoryUserDetailsManager(user1,user2);\r\n\r\n    }\r\n\r\n    private UserDetails createNewUser(String username, String password) {\r\n        Function&lt;String, String&gt; passwordEncoder = input -&gt;passwordEncoder().encode(input);\r\n        return User.builder()\r\n                .passwordEncoder(passwordEncoder)\r\n                .password(password)\r\n                .username(username)\r\n                .roles(&quot;user&quot;,&quot;admin&quot;)\r\n                .build();\r\n    }\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }","title":"How to encpyt the password using Springboot?","body":"<p>Utilize this code .. Here I am using InMemoryUserDetailsManager to manage user details that stored in memory.</p>\n<pre><code>@Bean\npublic InMemoryUserDetailsManager createUserDetails(){\n    UserDetails user1 = createNewUser(&quot;vamsi&quot;,&quot;vamsi&quot;);\n    UserDetails user2 = createNewUser(&quot;a&quot;,&quot;a&quot;);\n\n    return new InMemoryUserDetailsManager(user1,user2);\n\n}\n\nprivate UserDetails createNewUser(String username, String password) {\n    Function&lt;String, String&gt; passwordEncoder = input -&gt;passwordEncoder().encode(input);\n    return User.builder()\n            .passwordEncoder(passwordEncoder)\n            .password(password)\n            .username(username)\n            .roles(&quot;user&quot;,&quot;admin&quot;)\n            .build();\n}\n@Bean\npublic PasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n</code></pre>\n"}],"owner":{"account_id":26161588,"reputation":11,"user_id":19848020,"display_name":"Nithisha Perera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1701426224,"creation_date":1661469115,"question_id":73494509,"body_markdown":"I have already done user register and login. But I want to encrypt the password when create a profile.\r\n\r\nThis is my current configuration\r\n\r\nMongoDB Connection\r\n\r\n    spring.data.mongodb.uri= mongodb://127.0.0.1:27017/Student\r\n    server.port=8080\r\n\r\nModel Class:\r\n    @Document\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Data\r\n    public class User {\r\n        @Id\r\n        @Indexed\r\n        private String id;\r\n        @Indexed\r\n        private String address;\r\n        @Indexed\r\n        private String name;\r\n        @Indexed\r\n        private String email;\r\n        @Indexed\r\n        private String password;\r\n        @Indexed\r\n        private String role;\r\n    }\r\n\r\nRepository Class:\r\n\r\n    public interface userReporsitory extends MongoRepository&lt;User,String&gt; {\r\n        Optional&lt;User&gt; findByEmail(String email);\r\n        List&lt;User&gt; findAllByRole(String role);\r\n    }\r\n\r\nService Class:\r\n\r\n    @AllArgsConstructor\r\n    @Service\r\n    public class userService {\r\n        private userReporsitory userReporsitory;\r\n        public User saveUser(User user){\r\n            return userReporsitory.save(user);    \r\n        }\r\n        public User login(User user){\r\n              User response = userReporsitory.findByEmail(user.getEmail()).orElseThrow(()-&gt;new RuntimeException(&quot;User Not Found&quot;));\r\n              \r\n              if(!response.getPassword().equals(user.getPassword())){\r\n                throw new RuntimeException(&quot;Bad Credincials&quot;);\r\n              }\r\n    \r\n              return response;\r\n        }\r\n    \r\n        public List&lt;User&gt; findAllUsers(){\r\n          return userReporsitory.findAllByRole(&quot;user&quot;);\r\n        }\r\n    }\r\n\r\nController Class:\r\n\r\n        @CrossOrigin\r\n    @RestController\r\n    @AllArgsConstructor\r\n    @RequestMapping(&quot;api/v1/user&quot;)\r\n    public class userController {\r\n       private userService userService;\r\n    \r\n        @PostMapping(&quot;/create&quot;)\r\n        public ResponseEntity&lt;User&gt; save(@RequestBody User user){\r\n            HttpStatus status = HttpStatus.EXPECTATION_FAILED;\r\n            User response = userService.saveUser(user);\r\n    \r\n            if(response != null){\r\n               status = HttpStatus.CREATED;\r\n            }\r\n    \r\n            return new ResponseEntity&lt;&gt;(response, status);\r\n            \r\n        }\r\n        @PostMapping(&quot;/login&quot;)\r\n        public ResponseEntity&lt;User&gt; login(@RequestBody User user){\r\n            return new ResponseEntity&lt;&gt;(userService.login(user),HttpStatus.ACCEPTED);\r\n            \r\n        }\r\n        @GetMapping(&quot;/userList&quot;)\r\n        public ResponseEntity&lt;List&lt;User&gt;&gt; userList(){\r\n            return new ResponseEntity&lt;&gt;(userService.findAllUsers(),HttpStatus.ACCEPTED);\r\n        }\r\n            \r\n    \r\n    }","title":"How to encpyt the password using Springboot?","body":"<p>I have already done user register and login. But I want to encrypt the password when create a profile.</p>\n<p>This is my current configuration</p>\n<p>MongoDB Connection</p>\n<pre><code>spring.data.mongodb.uri= mongodb://127.0.0.1:27017/Student\nserver.port=8080\n</code></pre>\n<p>Model Class:\n@Document\n@AllArgsConstructor\n@NoArgsConstructor\n@Data\npublic class User {\n@Id\n@Indexed\nprivate String id;\n@Indexed\nprivate String address;\n@Indexed\nprivate String name;\n@Indexed\nprivate String email;\n@Indexed\nprivate String password;\n@Indexed\nprivate String role;\n}</p>\n<p>Repository Class:</p>\n<pre><code>public interface userReporsitory extends MongoRepository&lt;User,String&gt; {\n    Optional&lt;User&gt; findByEmail(String email);\n    List&lt;User&gt; findAllByRole(String role);\n}\n</code></pre>\n<p>Service Class:</p>\n<pre><code>@AllArgsConstructor\n@Service\npublic class userService {\n    private userReporsitory userReporsitory;\n    public User saveUser(User user){\n        return userReporsitory.save(user);    \n    }\n    public User login(User user){\n          User response = userReporsitory.findByEmail(user.getEmail()).orElseThrow(()-&gt;new RuntimeException(&quot;User Not Found&quot;));\n          \n          if(!response.getPassword().equals(user.getPassword())){\n            throw new RuntimeException(&quot;Bad Credincials&quot;);\n          }\n\n          return response;\n    }\n\n    public List&lt;User&gt; findAllUsers(){\n      return userReporsitory.findAllByRole(&quot;user&quot;);\n    }\n}\n</code></pre>\n<p>Controller Class:</p>\n<pre><code>    @CrossOrigin\n@RestController\n@AllArgsConstructor\n@RequestMapping(&quot;api/v1/user&quot;)\npublic class userController {\n   private userService userService;\n\n    @PostMapping(&quot;/create&quot;)\n    public ResponseEntity&lt;User&gt; save(@RequestBody User user){\n        HttpStatus status = HttpStatus.EXPECTATION_FAILED;\n        User response = userService.saveUser(user);\n\n        if(response != null){\n           status = HttpStatus.CREATED;\n        }\n\n        return new ResponseEntity&lt;&gt;(response, status);\n        \n    }\n    @PostMapping(&quot;/login&quot;)\n    public ResponseEntity&lt;User&gt; login(@RequestBody User user){\n        return new ResponseEntity&lt;&gt;(userService.login(user),HttpStatus.ACCEPTED);\n        \n    }\n    @GetMapping(&quot;/userList&quot;)\n    public ResponseEntity&lt;List&lt;User&gt;&gt; userList(){\n        return new ResponseEntity&lt;&gt;(userService.findAllUsers(),HttpStatus.ACCEPTED);\n    }\n        \n\n}\n</code></pre>\n"},{"tags":["java","jwt","jjwt"],"answers":[{"tags":[],"owner":{"account_id":176459,"reputation":18762,"user_id":407170,"accept_rate":88,"display_name":"Les Hazlewood"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570552323,"creation_date":1570552323,"answer_id":58290507,"question_id":58278342,"body_markdown":"Welcome to StackOverflow!\r\n\r\nThis feature will be natively supported by JJWT when using Jackson in the upcoming JJWT 0.11.0 release (and you can read the [docs for this feature](https://github.com/jwtk/jjwt/tree/README-0-11-0#parsing-of-custom-claim-types) too).  But it is not available natively in 0.10.X and earlier.\r\n\r\nPrior to 0.11.0, and assuming you&#39;re using Jackson, you&#39;ll have to do this yourself manually with the ObjectMapper:\r\n\r\n```java\r\n// when creating:\r\nUser user = getUser();\r\nObjectMapper objectMapper = new ObjectMapper(); // or use an existing one\r\nString json = objectMapper.writeValueAsString(user);\r\nbyte[] bytes = json.getBytes(StandardCharsets.UTF_8)\r\nString base64 = Encoders.BASE64.encode(bytes);\r\nString jws = Jwts.builder()\r\n  ...\r\n  .claim(&quot;userJsonBase64&quot;, base64)\r\n  ...\r\n  .compact();\r\n\r\n//when parsing:\r\nString userJsonBase64 = Jwts.parser()....parseClaimsJws(jws).getBody().get(&quot;userJsonBase64&quot;, String.class);\r\nbytes = Decoders.BASE64.decode(userJsonBase64);\r\njson = new String(bytes, StandardCharsets.UTF_8);\r\nuser = objectMapper.readValue(json, User.class);\r\n```","title":"How can I send an object as part of the JSON Web Token?","body":"<p>Welcome to StackOverflow!</p>\n\n<p>This feature will be natively supported by JJWT when using Jackson in the upcoming JJWT 0.11.0 release (and you can read the <a href=\"https://github.com/jwtk/jjwt/tree/README-0-11-0#parsing-of-custom-claim-types\" rel=\"nofollow noreferrer\">docs for this feature</a> too).  But it is not available natively in 0.10.X and earlier.</p>\n\n<p>Prior to 0.11.0, and assuming you're using Jackson, you'll have to do this yourself manually with the ObjectMapper:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// when creating:\nUser user = getUser();\nObjectMapper objectMapper = new ObjectMapper(); // or use an existing one\nString json = objectMapper.writeValueAsString(user);\nbyte[] bytes = json.getBytes(StandardCharsets.UTF_8)\nString base64 = Encoders.BASE64.encode(bytes);\nString jws = Jwts.builder()\n  ...\n  .claim(\"userJsonBase64\", base64)\n  ...\n  .compact();\n\n//when parsing:\nString userJsonBase64 = Jwts.parser()....parseClaimsJws(jws).getBody().get(\"userJsonBase64\", String.class);\nbytes = Decoders.BASE64.decode(userJsonBase64);\njson = new String(bytes, StandardCharsets.UTF_8);\nuser = objectMapper.readValue(json, User.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16845017,"reputation":49,"user_id":12179432,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570645124,"creation_date":1570645124,"answer_id":58310061,"question_id":58278342,"body_markdown":"Thank you for your answer, that will be a nice feature to have, once it&#39;s available.  I wanted to follow up and post a workaround that I found, in case it helps anyone else in the meantime.  I was able to create the JSON I needed using a Java HashMap (I found out the hard way that a Scala Map does not work) and then passing that as the value of the claim:\r\n\r\n    val user: util.Map[String, String] = new util.HashMap[String,\r\n    String]() user.put(&quot;id&quot;, email.value) user.put(&quot;email&quot;, email.value)\r\n    user.put(&quot;name&quot;, name.displayName)\r\n\r\n...\r\n\r\n    val jws: String = Jwts.builder()\r\n    .claim(&quot;user&quot;, user)\r\n    .signWith(key).compact()","title":"How can I send an object as part of the JSON Web Token?","body":"<p>Thank you for your answer, that will be a nice feature to have, once it's available.  I wanted to follow up and post a workaround that I found, in case it helps anyone else in the meantime.  I was able to create the JSON I needed using a Java HashMap (I found out the hard way that a Scala Map does not work) and then passing that as the value of the claim:</p>\n\n<pre><code>val user: util.Map[String, String] = new util.HashMap[String,\nString]() user.put(\"id\", email.value) user.put(\"email\", email.value)\nuser.put(\"name\", name.displayName)\n</code></pre>\n\n<p>...</p>\n\n<pre><code>val jws: String = Jwts.builder()\n.claim(\"user\", user)\n.signWith(key).compact()\n</code></pre>\n"}],"owner":{"account_id":16845017,"reputation":49,"user_id":12179432,"display_name":"Shawn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5124,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1701426085,"creation_date":1570490980,"question_id":58278342,"body_markdown":"I&#39;m trying to create a web token using the jjwt library, but I can&#39;t figure out how to send an object as one of the claims.  If I parse the object or manually create the string the entire string is coming through as the value instead of a separate JSON object.  For instance, I want to send something that looks like this:\r\n```\r\n{\r\n    &quot;iss&quot;: &quot;NQoFK1NLVelFWOBQtQ8A&quot;,\r\n    &quot;iat&quot;: 1511963669,\r\n    &quot;user&quot;: {\r\n        &quot;id&quot;: &quot;exampleuser&quot;,\r\n        &quot;email&quot;: &quot;example@mail.com&quot;,\r\n        &quot;name&quot;: &quot;A User&quot;,\r\n    }\r\n}\r\n```\r\nBut all I&#39;ve been able to create is:\r\n```\r\n{\r\n    &quot;iss&quot;: &quot;NQoFK1NLVelFWOBQtQ8A&quot;,\r\n    &quot;iat&quot;: 1511963669,\r\n    &quot;user&quot;: &quot;{\\&quot;id\\&quot;: \\&quot;example@mail.com\\&quot;,\\&quot;email\\&quot;: \\&quot;example@mail.com\\&quot;,\\&quot;name\\&quot;: \\&quot;A User\\&quot;}&quot;\r\n}\r\n```","title":"How can I send an object as part of the JSON Web Token?","body":"<p>I'm trying to create a web token using the jjwt library, but I can't figure out how to send an object as one of the claims.  If I parse the object or manually create the string the entire string is coming through as the value instead of a separate JSON object.  For instance, I want to send something that looks like this:</p>\n\n<pre><code>{\n    \"iss\": \"NQoFK1NLVelFWOBQtQ8A\",\n    \"iat\": 1511963669,\n    \"user\": {\n        \"id\": \"exampleuser\",\n        \"email\": \"example@mail.com\",\n        \"name\": \"A User\",\n    }\n}\n</code></pre>\n\n<p>But all I've been able to create is:</p>\n\n<pre><code>{\n    \"iss\": \"NQoFK1NLVelFWOBQtQ8A\",\n    \"iat\": 1511963669,\n    \"user\": \"{\\\"id\\\": \\\"example@mail.com\\\",\\\"email\\\": \\\"example@mail.com\\\",\\\"name\\\": \\\"A User\\\"}\"\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","jetty"],"comments":[{"owner":{"account_id":14739596,"reputation":1972,"user_id":10644550,"display_name":"Shiva"},"score":3,"creation_date":1542527027,"post_id":53358820,"comment_id":93594632,"body_markdown":"Can you post your code?","body":"Can you post your code?"},{"owner":{"account_id":8192774,"reputation":3700,"user_id":7141506,"display_name":"Mikhail Stepanov"},"score":0,"creation_date":1542530599,"post_id":53358820,"comment_id":93595226,"body_markdown":"Welcome to stackoverflow! Please take the [tour](https://stackoverflow.com/tour) and read the [help pages](https://stackoverflow.com/help). Helpful may be [&quot;how to ask good questions&quot;](https://stackoverflow.com/help/how-to-ask) and this [question checklist](https://meta.stackoverflow.com/questions/260648/stack-overflow-question-checklist). Users here are way more ready to help if you provide [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve) with some input and the desired output.","body":"Welcome to stackoverflow! Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> and read the <a href=\"https://stackoverflow.com/help\">help pages</a>. Helpful may be <a href=\"https://stackoverflow.com/help/how-to-ask\">&quot;how to ask good questions&quot;</a> and this <a href=\"https://meta.stackoverflow.com/questions/260648/stack-overflow-question-checklist\">question checklist</a>. Users here are way more ready to help if you provide <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a> with some input and the desired output."}],"answers":[{"tags":[],"owner":{"account_id":14139729,"reputation":81,"user_id":10214932,"display_name":"JekBP"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542533882,"creation_date":1542533882,"answer_id":53359502,"question_id":53358820,"body_markdown":"You are most likely trying to past argument as a String somewhere where it should not be accepting String as a parameter or could be not accepting any parameters at all.\r\n\r\nAs one of the comment said, can you post your codes here? The logs are not telling as well which of your specific class is having an exception.","title":"Error java.lang.IllegalArgumentException: Name for argument type [java.lang.String]","body":"<p>You are most likely trying to past argument as a String somewhere where it should not be accepting String as a parameter or could be not accepting any parameters at all.</p>\n\n<p>As one of the comment said, can you post your codes here? The logs are not telling as well which of your specific class is having an exception.</p>\n"},{"tags":[],"owner":{"account_id":297370,"reputation":3213,"user_id":602856,"accept_rate":40,"display_name":"rainer198"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543499644,"creation_date":1543499644,"answer_id":53540625,"question_id":53358820,"body_markdown":"I suspect you have some Spring MVC controllers and expect that Spring matches controller method arguments and request parameters by name automatically.\r\n\r\nAccording to this article [enter link description here][1] this only works if your code has been compiled with debugging information (javac -g options).\r\n\r\nI&#39;ve also a hard time with this issue. It worked in my IDE, but not when deploying an ant build to a tomcat. When I tried to remote debug the tomcat and therefore added the javac debug options, it suddenly worked. However, i did not see the relation of the debug option and the issue I was looking for ;-)\r\n\r\n  [1]: https://www.logicbig.com/tutorials/spring-framework/spring-web-mvc/parameter-name-discoverer.html","title":"Error java.lang.IllegalArgumentException: Name for argument type [java.lang.String]","body":"<p>I suspect you have some Spring MVC controllers and expect that Spring matches controller method arguments and request parameters by name automatically.</p>\n\n<p>According to this article <a href=\"https://www.logicbig.com/tutorials/spring-framework/spring-web-mvc/parameter-name-discoverer.html\" rel=\"nofollow noreferrer\">enter link description here</a> this only works if your code has been compiled with debugging information (javac -g options).</p>\n\n<p>I've also a hard time with this issue. It worked in my IDE, but not when deploying an ant build to a tomcat. When I tried to remote debug the tomcat and therefore added the javac debug options, it suddenly worked. However, i did not see the relation of the debug option and the issue I was looking for ;-)</p>\n"},{"tags":[],"owner":{"account_id":9164249,"reputation":11,"user_id":6814522,"display_name":"sai theja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701421747,"creation_date":1547829429,"answer_id":54258068,"question_id":53358820,"body_markdown":"Actually here the String type is not available it means like if we give parameters :\r\n\r\n    @Requestparam(value = &quot;myString&quot;) String myString \r\n\r\nif we give it like  `@Requestparam` String myString most probably will get that error. ","title":"Error java.lang.IllegalArgumentException: Name for argument type [java.lang.String]","body":"<p>Actually here the String type is not available it means like if we give parameters :</p>\n<pre><code>@Requestparam(value = &quot;myString&quot;) String myString \n</code></pre>\n<p>if we give it like  <code>@Requestparam</code> String myString most probably will get that error.</p>\n"},{"tags":[],"owner":{"account_id":1034596,"reputation":2386,"user_id":1042226,"accept_rate":52,"display_name":"Master Mind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573886953,"creation_date":1573885534,"answer_id":58888175,"question_id":53358820,"body_markdown":"We faced the same error when the method missed to add @RequestParam  annotation against the string. The error is generated when we started to use the Ant Build through Jenkins. When export WAR file through Eclipse IDE, it will not arise.\r\n\r\n","title":"Error java.lang.IllegalArgumentException: Name for argument type [java.lang.String]","body":"<p>We faced the same error when the method missed to add @RequestParam  annotation against the string. The error is generated when we started to use the Ant Build through Jenkins. When export WAR file through Eclipse IDE, it will not arise.</p>\n"}],"owner":{"account_id":8906792,"reputation":21,"user_id":6648351,"display_name":"riskiana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5612,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1701426074,"creation_date":1542526813,"question_id":53358820,"body_markdown":"I&#39;ve been struggling to find out the solution with this error for 2 weeks. Could you help me what happened\r\n\r\nHere is the error stack trace:\r\n\r\n\r\n\r\n\r\n&gt; &quot;java.lang.IllegalArgumentException: Name for argument type\r\n&gt; [java.lang.String] not available, and parameter name information not\r\n&gt; found in class file either.\\r\\n\\tat\r\n&gt; org.springframework.util.Assert.notNull(Assert.java:112)\\r\\n\\tat\r\n&gt; org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.updateNamedValueInfo(AbstractNamedValueMethodArgumentResolver.java:138)\\r\\n\\tat\r\n&gt; org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.getNamedValueInfo(AbstractNamedValueMethodArgumentResolver.java:117)\\r\\n\\tat\r\n&gt; org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:84)\\r\\n\\tat\r\n&gt; org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:77)\\r\\n\\tat\r\n&gt; org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:162)\\r\\n\\tat\r\n&gt; org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:123)\\r\\n\\tat\r\n&gt; org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\\r\\n\\tat\r\n&gt; org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:745)\\r\\n\\tat\r\n&gt; org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:686)\\r\\n\\tat\r\n&gt; org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)\\r\\n\\tat\r\n&gt; org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:925)\\r\\n\\tat\r\n&gt; org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:856)\\r\\n\\tat\r\n&gt; org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:936)\\r\\n\\tat\r\n&gt; org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:827)\\r\\n\\tat\r\n&gt; javax.servlet.http.HttpServlet.service(HttpServlet.java:735)\\r\\n\\tat\r\n&gt; org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:812)\\r\\n\\tat\r\n&gt; javax.servlet.http.HttpServlet.service(HttpServlet.java:848)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:684)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1496)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.servlets.UserAgentFilter.doFilter(UserAgentFilter.java:82)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.servlets.GzipFilter.doFilter(GzipFilter.java:294)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1484)\\r\\n\\tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\\r\\n\\tat\r\n&gt; org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118)\\r\\n\\tat\r\n&gt; org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84)\\r\\n\\tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\r\n&gt; org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\\r\\n\\tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\r\n&gt; org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103)\\r\\n\\tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\r\n&gt; org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113)\\r\\n\\tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\r\n&gt; org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:54)\\r\\n\\tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\r\n&gt; org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45)\\r\\n\\tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\r\n&gt; org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:183)\\r\\n\\tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\r\n&gt; org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:105)\\r\\n\\tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\r\n&gt; org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:125)\\r\\n\\tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\r\n&gt; org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)\\r\\n\\tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\r\n&gt; org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)\\r\\n\\tat\r\n&gt; org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)\\r\\n\\tat\r\n&gt; org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343)\\r\\n\\tat\r\n&gt; org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1476)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:499)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:557)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1086)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:428)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1020)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.server.Server.handle(Server.java:370)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:494)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.server.AbstractHttpConnection.headerComplete(AbstractHttpConnection.java:971)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.headerComplete(AbstractHttpConnection.java:1033)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:644)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:82)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:667)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:52)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)\\r\\n\\tat\r\n&gt; org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)\\r\\n\\tat\r\n&gt; java.lang.Thread.run(Thread.java:748)\\r\\n&quot;\r\n\r\n","title":"Error java.lang.IllegalArgumentException: Name for argument type [java.lang.String]","body":"<p>I've been struggling to find out the solution with this error for 2 weeks. Could you help me what happened</p>\n\n<p>Here is the error stack trace:</p>\n\n<blockquote>\n  <p>\"java.lang.IllegalArgumentException: Name for argument type\n  [java.lang.String] not available, and parameter name information not\n  found in class file either.\\r\\n\\tat\n  org.springframework.util.Assert.notNull(Assert.java:112)\\r\\n\\tat\n  org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.updateNamedValueInfo(AbstractNamedValueMethodArgumentResolver.java:138)\\r\\n\\tat\n  org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.getNamedValueInfo(AbstractNamedValueMethodArgumentResolver.java:117)\\r\\n\\tat\n  org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:84)\\r\\n\\tat\n  org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:77)\\r\\n\\tat\n  org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:162)\\r\\n\\tat\n  org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:123)\\r\\n\\tat\n  org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\\r\\n\\tat\n  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:745)\\r\\n\\tat\n  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:686)\\r\\n\\tat\n  org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)\\r\\n\\tat\n  org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:925)\\r\\n\\tat\n  org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:856)\\r\\n\\tat\n  org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:936)\\r\\n\\tat\n  org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:827)\\r\\n\\tat\n  javax.servlet.http.HttpServlet.service(HttpServlet.java:735)\\r\\n\\tat\n  org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:812)\\r\\n\\tat\n  javax.servlet.http.HttpServlet.service(HttpServlet.java:848)\\r\\n\\tat\n  org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:684)\\r\\n\\tat\n  org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1496)\\r\\n\\tat\n  org.eclipse.jetty.servlets.UserAgentFilter.doFilter(UserAgentFilter.java:82)\\r\\n\\tat\n  org.eclipse.jetty.servlets.GzipFilter.doFilter(GzipFilter.java:294)\\r\\n\\tat\n  org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1484)\\r\\n\\tat\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\\r\\n\\tat\n  org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118)\\r\\n\\tat\n  org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84)\\r\\n\\tat\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\n  org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\\r\\n\\tat\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\n  org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103)\\r\\n\\tat\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\n  org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113)\\r\\n\\tat\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\n  org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:54)\\r\\n\\tat\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\n  org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45)\\r\\n\\tat\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\n  org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:183)\\r\\n\\tat\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\n  org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:105)\\r\\n\\tat\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\n  org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:125)\\r\\n\\tat\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\n  org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)\\r\\n\\tat\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\\r\\n\\tat\n  org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)\\r\\n\\tat\n  org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)\\r\\n\\tat\n  org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343)\\r\\n\\tat\n  org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)\\r\\n\\tat\n  org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1476)\\r\\n\\tat\n  org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:499)\\r\\n\\tat\n  org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137)\\r\\n\\tat\n  org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:557)\\r\\n\\tat\n  org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231)\\r\\n\\tat\n  org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1086)\\r\\n\\tat\n  org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:428)\\r\\n\\tat\n  org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193)\\r\\n\\tat\n  org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1020)\\r\\n\\tat\n  org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)\\r\\n\\tat\n  org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154)\\r\\n\\tat\n  org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)\\r\\n\\tat\n  org.eclipse.jetty.server.Server.handle(Server.java:370)\\r\\n\\tat\n  org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:494)\\r\\n\\tat\n  org.eclipse.jetty.server.AbstractHttpConnection.headerComplete(AbstractHttpConnection.java:971)\\r\\n\\tat\n  org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.headerComplete(AbstractHttpConnection.java:1033)\\r\\n\\tat\n  org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:644)\\r\\n\\tat\n  org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)\\r\\n\\tat\n  org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:82)\\r\\n\\tat\n  org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:667)\\r\\n\\tat\n  org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:52)\\r\\n\\tat\n  org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)\\r\\n\\tat\n  org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)\\r\\n\\tat\n  java.lang.Thread.run(Thread.java:748)\\r\\n\"</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":0,"creation_date":1701393328,"post_id":77582513,"comment_id":136773296,"body_markdown":"Every ArrayList is a List. Therefore, the assignment is valid. What you do with it next is the point where you&#39;ll probably put it all together.","body":"Every ArrayList is a List. Therefore, the assignment is valid. What you do with it next is the point where you&#39;ll probably put it all together."},{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":0,"creation_date":1701393330,"post_id":77582513,"comment_id":136773297,"body_markdown":"`Collectors.toList()` will give you some concrete `List` instance. Maybe an `ArrayList`, maybe something else.","body":"<code>Collectors.toList()</code> will give you some concrete <code>List</code> instance. Maybe an <code>ArrayList</code>, maybe something else."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1701393416,"post_id":77582513,"comment_id":136773304,"body_markdown":"Essentially for the same reason that `List&lt;String&gt; list = new ArrayList&lt;&gt;();` works.","body":"Essentially for the same reason that <code>List&lt;String&gt; list = new ArrayList&lt;&gt;();</code> works."},{"owner":{"account_id":7882042,"reputation":986,"user_id":5955651,"display_name":"stelios.anastasakis"},"score":0,"creation_date":1701421189,"post_id":77582513,"comment_id":136775979,"body_markdown":"in such cases you need to dig into the code you re using. the list you re getting back is obviously being generated somewhere!!\n\nso me telling you that `Collectors.toList()` gives back &quot;this&quot; wont help you long-term. What i can tell you is that when you dont know how something works, you need to open the method(s) you re using and see the implementation. \n\nThis will also help u better understand the code you re using and will make u start thinking about upgrades of libraries, backwords compatibility etc. You need to know the risks of using someone else&#39;s code. welcome to this nightmare ^_^","body":"in such cases you need to dig into the code you re using. the list you re getting back is obviously being generated somewhere!!  so me telling you that <code>Collectors.toList()</code> gives back &quot;this&quot; wont help you long-term. What i can tell you is that when you dont know how something works, you need to open the method(s) you re using and see the implementation.   This will also help u better understand the code you re using and will make u start thinking about upgrades of libraries, backwords compatibility etc. You need to know the risks of using someone else&#39;s code. welcome to this nightmare ^_^"}],"answers":[{"tags":[],"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1701393437,"creation_date":1701393437,"answer_id":77582525,"question_id":77582513,"body_markdown":"`Collectors.toList()` will return you *some* concrete `List` instance. Maybe an `ArrayList`, maybe something else. All the API is willing to guarantee is that it conforms to the `List` interface.\r\n\r\nThe [Javadoc](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toList--) explicitly states:\r\n\r\n&gt; There are no guarantees on the type, mutability, serializability, or\r\n&gt; thread-safety of the `List` returned; if more control over the returned\r\n&gt; `List` is required, use [`toCollection(Supplier)`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toCollection-java.util.function.Supplier-).\r\n\r\nYou can check the specific type that is returned at runtime, but shouldn&#39;t rely on it.","title":"If List is an abstract interface, how does Collectors.toList() work with streams?","body":"<p><code>Collectors.toList()</code> will return you <em>some</em> concrete <code>List</code> instance. Maybe an <code>ArrayList</code>, maybe something else. All the API is willing to guarantee is that it conforms to the <code>List</code> interface.</p>\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toList--\" rel=\"nofollow noreferrer\">Javadoc</a> explicitly states:</p>\n<blockquote>\n<p>There are no guarantees on the type, mutability, serializability, or\nthread-safety of the <code>List</code> returned; if more control over the returned\n<code>List</code> is required, use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toCollection-java.util.function.Supplier-\" rel=\"nofollow noreferrer\"><code>toCollection(Supplier)</code></a>.</p>\n</blockquote>\n<p>You can check the specific type that is returned at runtime, but shouldn't rely on it.</p>\n"}],"owner":{"account_id":18348479,"reputation":1986,"user_id":13363175,"display_name":"notaorb"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1701425608,"accepted_answer_id":77582525,"answer_count":1,"score":1,"last_activity_date":1701425658,"creation_date":1701393143,"question_id":77582513,"body_markdown":"I understand this will not work because List is an abstract interface:\r\n\r\n    List&lt;Integer&gt; l = new List&lt;&gt;();\r\n\r\nand this is why I have been using typically `ArrayList&lt;&gt;`.\r\n\r\nI&#39;m curious why the following is valid in assignment of an object to `List&lt;String&gt; l`:\r\n\r\n    ArrayList&lt;E&gt; al = new ArrayList&lt;&gt;();\r\n    List&lt;String&gt; l = al.stream().collect(Collectors.toList());\r\n\r\nIt was my understanding objects couldn&#39;t be created from interfaces, only when they have been implemented.  Can anyone explain why second code snippet works and how I should be understanding this difference?","title":"If List is an abstract interface, how does Collectors.toList() work with streams?","body":"<p>I understand this will not work because List is an abstract interface:</p>\n<pre><code>List&lt;Integer&gt; l = new List&lt;&gt;();\n</code></pre>\n<p>and this is why I have been using typically <code>ArrayList&lt;&gt;</code>.</p>\n<p>I'm curious why the following is valid in assignment of an object to <code>List&lt;String&gt; l</code>:</p>\n<pre><code>ArrayList&lt;E&gt; al = new ArrayList&lt;&gt;();\nList&lt;String&gt; l = al.stream().collect(Collectors.toList());\n</code></pre>\n<p>It was my understanding objects couldn't be created from interfaces, only when they have been implemented.  Can anyone explain why second code snippet works and how I should be understanding this difference?</p>\n"},{"tags":["java","spring","spring-boot","schedule"],"comments":[{"owner":{"account_id":27756,"reputation":18233,"user_id":73573,"accept_rate":62,"display_name":"palindrom"},"score":0,"creation_date":1681987076,"post_id":37344801,"comment_id":134146326,"body_markdown":"Can be simply done with a configuration: https://stackoverflow.com/a/70286256/73573","body":"Can be simply done with a configuration: <a href=\"https://stackoverflow.com/a/70286256/73573\">stackoverflow.com/a/70286256/73573</a>"}],"answers":[{"tags":[],"owner":{"account_id":51942,"reputation":40143,"user_id":155213,"accept_rate":83,"display_name":"miensol"},"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1556227071,"creation_date":1463741861,"answer_id":37344917,"question_id":37344801,"body_markdown":"[The documentation](http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/scheduling/annotation/EnableScheduling.html) clearly states that:\r\n\r\n&gt; By default, will be searching for an associated scheduler definition:\r\n&gt; either a unique `TaskScheduler` bean in the context, or a `TaskScheduler`\r\n&gt; bean named &quot;taskScheduler&quot; otherwise; the same lookup will also be\r\n&gt; performed for a `ScheduledExecutorService` bean. If neither of the two\r\n&gt; is resolvable, a local single-threaded default scheduler will be\r\n&gt; created and used within the registrar.\r\n&gt; \r\n&gt; When more control is desired, a @Configuration class may implement\r\n&gt; SchedulingConfigurer. This allows access to the underlying\r\n&gt; ScheduledTaskRegistrar instance. For example, the following example\r\n&gt; demonstrates how to customize the Executor used to execute scheduled\r\n&gt; tasks:\r\n&gt; \r\n&gt;     @Configuration\r\n&gt;     @EnableScheduling\r\n&gt;     public class AppConfig implements SchedulingConfigurer {\r\n&gt;     \r\n&gt;         @Override\r\n&gt;         public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\r\n&gt;             taskRegistrar.setScheduler(taskExecutor());\r\n&gt;         }\r\n&gt;     \r\n&gt;         @Bean(destroyMethod=&quot;shutdown&quot;)\r\n&gt;         public Executor taskExecutor() {\r\n&gt;             return Executors.newScheduledThreadPool(100);\r\n&gt;         }\r\n&gt;     }","title":"Spring @Scheduler parallel running","body":"<p><a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/scheduling/annotation/EnableScheduling.html\" rel=\"noreferrer\">The documentation</a> clearly states that:</p>\n\n<blockquote>\n  <p>By default, will be searching for an associated scheduler definition:\n  either a unique <code>TaskScheduler</code> bean in the context, or a <code>TaskScheduler</code>\n  bean named \"taskScheduler\" otherwise; the same lookup will also be\n  performed for a <code>ScheduledExecutorService</code> bean. If neither of the two\n  is resolvable, a local single-threaded default scheduler will be\n  created and used within the registrar.</p>\n  \n  <p>When more control is desired, a @Configuration class may implement\n  SchedulingConfigurer. This allows access to the underlying\n  ScheduledTaskRegistrar instance. For example, the following example\n  demonstrates how to customize the Executor used to execute scheduled\n  tasks:</p>\n\n<pre><code>@Configuration\n@EnableScheduling\npublic class AppConfig implements SchedulingConfigurer {\n\n    @Override\n    public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\n        taskRegistrar.setScheduler(taskExecutor());\n    }\n\n    @Bean(destroyMethod=\"shutdown\")\n    public Executor taskExecutor() {\n        return Executors.newScheduledThreadPool(100);\n    }\n}\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2879573,"reputation":8521,"user_id":2470765,"accept_rate":59,"display_name":"michal.jakubeczy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701425427,"creation_date":1701425427,"answer_id":77584464,"question_id":37344801,"body_markdown":"Configure this property in `application.properties`:\r\n\r\n```\r\nspring.task.scheduling.pool.size=2\r\n```\r\n\r\nValue means the number of threads which may be used by scheduled tasks. Default pool size is 1 and this setting is available since SpringBoot 2.1.0\r\n\r\nThe same task will be executed in serialized when the trigger period is shorter than the execution duration. Different tasks will run in parallel with a maximum of threads you set.\r\n\r\nDocumentation - https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.core.spring.task.scheduling.pool.size","title":"Spring @Scheduler parallel running","body":"<p>Configure this property in <code>application.properties</code>:</p>\n<pre><code>spring.task.scheduling.pool.size=2\n</code></pre>\n<p>Value means the number of threads which may be used by scheduled tasks. Default pool size is 1 and this setting is available since SpringBoot 2.1.0</p>\n<p>The same task will be executed in serialized when the trigger period is shorter than the execution duration. Different tasks will run in parallel with a maximum of threads you set.</p>\n<p>Documentation - <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.core.spring.task.scheduling.pool.size\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.core.spring.task.scheduling.pool.size</a></p>\n"}],"owner":{"account_id":5138539,"reputation":1040,"user_id":4116583,"accept_rate":71,"display_name":"hublo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17670,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":37344917,"answer_count":2,"score":23,"last_activity_date":1701425427,"creation_date":1463741513,"question_id":37344801,"body_markdown":"I have the following 3 classes:\r\n\r\n*ComponantA*\r\n\r\n    package mytest.spring.test.spring;\r\n\t\r\n\timport org.apache.log4j.Logger;\r\n\timport org.springframework.scheduling.annotation.Scheduled;\r\n\timport org.springframework.stereotype.Component;\r\n\t\r\n\t@Component\r\n\tpublic class ComponentA {\r\n\t\t\r\n\t\tLogger log = Logger.getLogger(ComponentB.class);\r\n\t\t\r\n\t\t@Scheduled(fixedRate=2000)\r\n\t\tpublic void sayHello() {\r\n\t\t\tfor(int i=1 ; i&lt;=5 ; i++) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tThread.sleep(1000);\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\tlog.info(&quot;Hello from ComponentA &quot; + i);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n*ComponentB*\r\n\r\n    package mytest.spring.test.spring;\r\n\t\r\n\timport org.apache.log4j.Logger;\r\n\timport org.springframework.scheduling.annotation.Scheduled;\r\n\timport org.springframework.stereotype.Component;\r\n\t\r\n\t@Component\r\n\tpublic class ComponentB {\r\n\t\t\r\n\t\tLogger log = Logger.getLogger(ComponentB.class);\r\n\t\t\r\n\t\t@Scheduled(fixedRate=2000)\r\n\t\tpublic void sayHello() {\r\n\t\t\tfor(int i=1 ; i&lt;=3 ; i++) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tThread.sleep(2000);\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\tlog.info(&quot;Hello from ComponentB &quot; + i);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n*MyApplication*\r\n\r\n    package mytest.spring.test.spring;\r\n\t\r\n\timport org.springframework.boot.SpringApplication;\r\n\timport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\timport org.springframework.scheduling.annotation.EnableScheduling;\r\n\t\r\n\t@SpringBootApplication\r\n\t@EnableScheduling\r\n\tpublic class MyApplication {\r\n\t\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSpringApplication.run(MyApplication.class, args);\r\n\t\t}\r\n\t}\r\n\r\nWhen I execute it, I&#39;m getting the following output:\r\n\r\n    Hello from ComponentA 1\r\n\tHello from ComponentA 2\r\n\tHello from ComponentA 3\r\n\tHello from ComponentA 4\r\n\tHello from ComponentA 5\r\n\tHello from ComponentB 1\r\n\tHello from ComponentB 2\r\n\tHello from ComponentB 3\r\n\tHello from ComponentA 1\r\n\tHello from ComponentA 2\r\n\tHello from ComponentA 3\r\n\tHello from ComponentA 4\r\n\tHello from ComponentA 5\r\n\tHello from ComponentB 1\r\n\tHello from ComponentB 2\r\n\tHello from ComponentB 3\r\n\t...\r\n\r\nI need the 2 Scheduled methods to run in parallel, which is clearly not the cae according to the output I&#39;m getting. I read that it should be possible to provide the @Schedule annotation with a custom TaskExecutor, with which it should be possible to define how many thread we want ...\r\n\r\nAm I right ? I can&#39;t find how to provide this information.","title":"Spring @Scheduler parallel running","body":"<p>I have the following 3 classes:</p>\n\n<p><em>ComponantA</em></p>\n\n<pre><code>package mytest.spring.test.spring;\n\nimport org.apache.log4j.Logger;\nimport org.springframework.scheduling.annotation.Scheduled;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class ComponentA {\n\n    Logger log = Logger.getLogger(ComponentB.class);\n\n    @Scheduled(fixedRate=2000)\n    public void sayHello() {\n        for(int i=1 ; i&lt;=5 ; i++) {\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n            log.info(\"Hello from ComponentA \" + i);\n        }\n    }\n}\n</code></pre>\n\n<p><em>ComponentB</em></p>\n\n<pre><code>package mytest.spring.test.spring;\n\nimport org.apache.log4j.Logger;\nimport org.springframework.scheduling.annotation.Scheduled;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class ComponentB {\n\n    Logger log = Logger.getLogger(ComponentB.class);\n\n    @Scheduled(fixedRate=2000)\n    public void sayHello() {\n        for(int i=1 ; i&lt;=3 ; i++) {\n            try {\n                Thread.sleep(2000);\n            } catch (InterruptedException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n            log.info(\"Hello from ComponentB \" + i);\n        }\n    }\n}\n</code></pre>\n\n<p><em>MyApplication</em></p>\n\n<pre><code>package mytest.spring.test.spring;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.scheduling.annotation.EnableScheduling;\n\n@SpringBootApplication\n@EnableScheduling\npublic class MyApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyApplication.class, args);\n    }\n}\n</code></pre>\n\n<p>When I execute it, I'm getting the following output:</p>\n\n<pre><code>Hello from ComponentA 1\nHello from ComponentA 2\nHello from ComponentA 3\nHello from ComponentA 4\nHello from ComponentA 5\nHello from ComponentB 1\nHello from ComponentB 2\nHello from ComponentB 3\nHello from ComponentA 1\nHello from ComponentA 2\nHello from ComponentA 3\nHello from ComponentA 4\nHello from ComponentA 5\nHello from ComponentB 1\nHello from ComponentB 2\nHello from ComponentB 3\n...\n</code></pre>\n\n<p>I need the 2 Scheduled methods to run in parallel, which is clearly not the cae according to the output I'm getting. I read that it should be possible to provide the @Schedule annotation with a custom TaskExecutor, with which it should be possible to define how many thread we want ...</p>\n\n<p>Am I right ? I can't find how to provide this information.</p>\n"},{"tags":["java","maven","pom.xml","maven-enforcer-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1701424486,"post_id":77584026,"comment_id":136776550,"body_markdown":"https://github.com/mojohaus/extra-enforcer-rules/","body":"<a href=\"https://github.com/mojohaus/extra-enforcer-rules/\" rel=\"nofollow noreferrer\">github.com/mojohaus/extra-enforcer-rules</a>"}],"answers":[{"tags":[],"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701425218,"creation_date":1701422791,"answer_id":77584175,"question_id":77584026,"body_markdown":"The solution was to update the dependency version\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;extra-enforcer-rules&lt;/artifactId&gt;\r\n    &lt;version&gt;1.7.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"enforceBytecodeVersion doesn&#39;t work with Java 11","body":"<p>The solution was to update the dependency version</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;extra-enforcer-rules&lt;/artifactId&gt;\n    &lt;version&gt;1.7.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77584175,"answer_count":1,"score":0,"last_activity_date":1701425218,"creation_date":1701421157,"question_id":77584026,"body_markdown":"I have this configuration in my POM:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.4.1&lt;/version&gt; &lt;!-- Trova l&#39;ultima versione su http://maven.apache.org/plugins/maven-enforcer-plugin/ --&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;enforce-bytecode-version&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;enforce&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;rules&gt;\r\n                    &lt;enforceBytecodeVersion&gt;\r\n                        &lt;maxJdkVersion&gt;11&lt;/maxJdkVersion&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;org.mindrot:jbcrypt&lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/enforceBytecodeVersion&gt;\r\n                &lt;/rules&gt;\r\n                &lt;fail&gt;true&lt;/fail&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;extra-enforcer-rules&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0-beta-5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nIt gives me the error\r\n\r\n&gt; Execution enforce-bytecode-version of goal org.apache.maven.plugins:maven-enforcer-plugin:3.4.1:enforce failed: Unknown JDK version given. Should be something like &quot;1.7&quot; -&gt; [Help 1]\r\n\r\nI haven&#39;t found any solution online to set Java 11.\r\n\r\n","title":"enforceBytecodeVersion doesn&#39;t work with Java 11","body":"<p>I have this configuration in my POM:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.4.1&lt;/version&gt; &lt;!-- Trova l'ultima versione su http://maven.apache.org/plugins/maven-enforcer-plugin/ --&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;enforce-bytecode-version&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;enforce&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;rules&gt;\n                    &lt;enforceBytecodeVersion&gt;\n                        &lt;maxJdkVersion&gt;11&lt;/maxJdkVersion&gt;\n                        &lt;excludes&gt;\n                            &lt;exclude&gt;org.mindrot:jbcrypt&lt;/exclude&gt;\n                        &lt;/excludes&gt;\n                    &lt;/enforceBytecodeVersion&gt;\n                &lt;/rules&gt;\n                &lt;fail&gt;true&lt;/fail&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;extra-enforcer-rules&lt;/artifactId&gt;\n            &lt;version&gt;1.0-beta-5&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>It gives me the error</p>\n<blockquote>\n<p>Execution enforce-bytecode-version of goal org.apache.maven.plugins:maven-enforcer-plugin:3.4.1:enforce failed: Unknown JDK version given. Should be something like &quot;1.7&quot; -&gt; [Help 1]</p>\n</blockquote>\n<p>I haven't found any solution online to set Java 11.</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux","metrics"],"answers":[{"tags":[],"owner":{"account_id":29647658,"reputation":9,"user_id":22722326,"display_name":"Prashant Aghara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701425154,"creation_date":1701425154,"answer_id":77584434,"question_id":77583605,"body_markdown":"Answer would be to make the webclient object using Builder\r\nHere is the example for it :\r\n```\r\n@Bean\r\n    public WebClient webClient(WebClient.Builder webClientBuilder) {\r\n        return webClientBuilder\r\n                .baseUrl(endpoint)\r\n                .defaultHeader(&quot;api-key&quot;, apiKey)\r\n                .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n                .bu\r\n```","title":"Spring boot Webclient metrics not exposing","body":"<p>Answer would be to make the webclient object using Builder\nHere is the example for it :</p>\n<pre><code>@Bean\n    public WebClient webClient(WebClient.Builder webClientBuilder) {\n        return webClientBuilder\n                .baseUrl(endpoint)\n                .defaultHeader(&quot;api-key&quot;, apiKey)\n                .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n                .bu\n</code></pre>\n"}],"owner":{"account_id":29647658,"reputation":9,"user_id":22722326,"display_name":"Prashant Aghara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701425154,"creation_date":1701415538,"question_id":77583605,"body_markdown":"I am using spring boot &amp; spring webflux version 3.1.4\r\nI have written the below code for Webclient.\r\n\r\n```\r\nreturn WebClient.builder()\r\n                .baseUrl(endpoint)\r\n                .defaultHeader(&quot;api-key&quot;, apiKey)\r\n                .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n                .build();\r\n```\r\n\r\nAnd also have added dependency for micrometer Prometheus.\r\n```\r\nimplementation (&#39;io.micrometer:micrometer-registry-prometheus:1.10.5&#39;)\r\n```\r\n\r\nHere the management code for actuator\r\n\r\n```\r\nmanagement:\r\n  endpoints:\r\n    web:\r\n      base-path: /\r\n      exposure:\r\n        include: health,info,prometheus,beans,metrics\r\n      prometheus:\r\n        enabled: true\r\n      path-mapping:\r\n        prometheus: metrics\r\n        metrics: metrics-info\r\n    metrics:\r\n      export:\r\n        prometheus:\r\n          enabled: true\r\n```\r\n\r\nBut when I go to /metrics-info endpoint I am not seeing the metrics for webclient. \r\nIt says in [this][1] document that it is by default exposed but I am not able to see on the endpoint as well as on prometheus endpoint.\r\n\r\nDo I need to add any other metrics configs for exposing http.client.requests which is by default exposed ?\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.1.0.M1/reference/html/production-ready-metrics.html#production-ready-metrics-http-clients","title":"Spring boot Webclient metrics not exposing","body":"<p>I am using spring boot &amp; spring webflux version 3.1.4\nI have written the below code for Webclient.</p>\n<pre><code>return WebClient.builder()\n                .baseUrl(endpoint)\n                .defaultHeader(&quot;api-key&quot;, apiKey)\n                .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n                .build();\n</code></pre>\n<p>And also have added dependency for micrometer Prometheus.</p>\n<pre><code>implementation ('io.micrometer:micrometer-registry-prometheus:1.10.5')\n</code></pre>\n<p>Here the management code for actuator</p>\n<pre><code>management:\n  endpoints:\n    web:\n      base-path: /\n      exposure:\n        include: health,info,prometheus,beans,metrics\n      prometheus:\n        enabled: true\n      path-mapping:\n        prometheus: metrics\n        metrics: metrics-info\n    metrics:\n      export:\n        prometheus:\n          enabled: true\n</code></pre>\n<p>But when I go to /metrics-info endpoint I am not seeing the metrics for webclient.\nIt says in <a href=\"https://docs.spring.io/spring-boot/docs/2.1.0.M1/reference/html/production-ready-metrics.html#production-ready-metrics-http-clients\" rel=\"nofollow noreferrer\">this</a> document that it is by default exposed but I am not able to see on the endpoint as well as on prometheus endpoint.</p>\n<p>Do I need to add any other metrics configs for exposing http.client.requests which is by default exposed ?</p>\n"},{"tags":["java","import"],"comments":[{"owner":{"account_id":12732750,"reputation":519,"user_id":9248765,"display_name":"Ludov Dmitrii"},"score":0,"creation_date":1701425261,"post_id":77584334,"comment_id":136776676,"body_markdown":"Try using Intellij it&#39;s almost standard for Java projects. If you can&#39;t afford Ultimate (which will help you mostly in Spring applications) use Community, its free. If you start with Maven project it will be much easier to manage libraries. Which, as far as I understand, is the problem.\nps. Jackson is an excellent choice, it will be your best friend throughout your journey through this language.","body":"Try using Intellij it&#39;s almost standard for Java projects. If you can&#39;t afford Ultimate (which will help you mostly in Spring applications) use Community, its free. If you start with Maven project it will be much easier to manage libraries. Which, as far as I understand, is the problem. ps. Jackson is an excellent choice, it will be your best friend throughout your journey through this language."},{"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1701427276,"post_id":77584334,"comment_id":136776970,"body_markdown":"Please ignore the spam comment from @LudovDmitrii - the fix to &#39;How do I use this IDE&#39; is not &#39;use another one&#39;.","body":"Please ignore the spam comment from @LudovDmitrii - the fix to &#39;How do I use this IDE&#39; is not &#39;use another one&#39;."},{"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1701429359,"post_id":77584334,"comment_id":136777328,"body_markdown":"@LuukMingers it&#39;s not clear from your question what the actual problem is. For example, edit your question and say: &quot;I get an error when compiling this code, on the `import` statement (and then paste the exact error)&quot;. Or: &quot;When I run this, I get an exception `ClassDefNotFoundError` (and paste the entire exception&quot;. Also explain exactly what you are doing that results in the error (&quot;I run `javac *.java`&quot;, for example).","body":"@LuukMingers it&#39;s not clear from your question what the actual problem is. For example, edit your question and say: &quot;I get an error when compiling this code, on the <code>import</code> statement (and then paste the exact error)&quot;. Or: &quot;When I run this, I get an exception <code>ClassDefNotFoundError</code> (and paste the entire exception&quot;. Also explain exactly what you are doing that results in the error (&quot;I run <code>javac *.java</code>&quot;, for example)."}],"owner":{"account_id":30038950,"reputation":11,"user_id":23020227,"display_name":"Luuk Mingers"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":0,"score":-2,"last_activity_date":1701425052,"creation_date":1701424282,"question_id":77584334,"body_markdown":"I&#39;m trying to read some data out of a json file which has three parameters. I have an issue with the import of the jackson library. I&#39;m using vscode. In the downloaded file I&#39;m also unable to find a folder called databind. I got these imports from some online information. The debugger on vscode mentions that it &#39;cannot be resolved&#39;\r\n\r\n```\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.HashMap;\r\nimport java.util.Iterator;\r\nimport java.util.Map;\r\n\r\npublic class Listread {\r\n\r\n    public static void main(String[] args) {\r\n        // Provide the path to your JSON file\r\n        String filePath = &quot;my filepath&quot;;\r\n\r\n        try {\r\n            // Read the JSON file into a JsonNode\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            JsonNode jsonNode = objectMapper.readTree(new File(filePath));\r\n\r\n            // Map to store the highest &#39;c&#39; value for each &#39;d&#39;\r\n            Map&lt;String, Double&gt; maxCValues = new HashMap&lt;&gt;();\r\n\r\n            // Iterate through the array in the JSON file\r\n            for (JsonNode arrayNode : jsonNode) {\r\n                String dValue = arrayNode.get(&quot;d&quot;).asText();\r\n                double cValue = arrayNode.get(&quot;c&quot;).asDouble();\r\n\r\n                // Update the max &#39;c&#39; value for the corresponding &#39;d&#39;\r\n                if (!maxCValues.containsKey(dValue) || cValue &gt; maxCValues.get(dValue)) {\r\n                    maxCValues.put(dValue, cValue);\r\n                }\r\n            }\r\n\r\n            // Print the results\r\n            System.out.println(&quot;For each &#39;d&#39;, the corresponding &#39;v&#39; with the highest &#39;c&#39;:&quot;);\r\n            for (JsonNode arrayNode : jsonNode) {\r\n                String dValue = arrayNode.get(&quot;d&quot;).asText();\r\n                double cValue = arrayNode.get(&quot;c&quot;).asDouble();\r\n\r\n                if (cValue == maxCValues.get(dValue)) {\r\n                    String vValue = arrayNode.get(&quot;v&quot;).asText();\r\n                    System.out.println(&quot;d: &quot; + dValue + &quot;, v: &quot; + vValue + &quot;, c: &quot; + cValue);\r\n                }\r\n            }\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI downloaded the jackson library from github and hoped that would resolve the issue, but it didn&#39;t. ","title":"Trying to read data out of a Json file using Java","body":"<p>I'm trying to read some data out of a json file which has three parameters. I have an issue with the import of the jackson library. I'm using vscode. In the downloaded file I'm also unable to find a folder called databind. I got these imports from some online information. The debugger on vscode mentions that it 'cannot be resolved'</p>\n<pre><code>import com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.Map;\n\npublic class Listread {\n\n    public static void main(String[] args) {\n        // Provide the path to your JSON file\n        String filePath = &quot;my filepath&quot;;\n\n        try {\n            // Read the JSON file into a JsonNode\n            ObjectMapper objectMapper = new ObjectMapper();\n            JsonNode jsonNode = objectMapper.readTree(new File(filePath));\n\n            // Map to store the highest 'c' value for each 'd'\n            Map&lt;String, Double&gt; maxCValues = new HashMap&lt;&gt;();\n\n            // Iterate through the array in the JSON file\n            for (JsonNode arrayNode : jsonNode) {\n                String dValue = arrayNode.get(&quot;d&quot;).asText();\n                double cValue = arrayNode.get(&quot;c&quot;).asDouble();\n\n                // Update the max 'c' value for the corresponding 'd'\n                if (!maxCValues.containsKey(dValue) || cValue &gt; maxCValues.get(dValue)) {\n                    maxCValues.put(dValue, cValue);\n                }\n            }\n\n            // Print the results\n            System.out.println(&quot;For each 'd', the corresponding 'v' with the highest 'c':&quot;);\n            for (JsonNode arrayNode : jsonNode) {\n                String dValue = arrayNode.get(&quot;d&quot;).asText();\n                double cValue = arrayNode.get(&quot;c&quot;).asDouble();\n\n                if (cValue == maxCValues.get(dValue)) {\n                    String vValue = arrayNode.get(&quot;v&quot;).asText();\n                    System.out.println(&quot;d: &quot; + dValue + &quot;, v: &quot; + vValue + &quot;, c: &quot; + cValue);\n                }\n            }\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I downloaded the jackson library from github and hoped that would resolve the issue, but it didn't.</p>\n"},{"tags":["java","android","shared-libraries","static-libraries"],"comments":[{"owner":{"account_id":16371484,"reputation":463,"user_id":11824674,"display_name":"Muhammad Sabeel Ahmed"},"score":0,"creation_date":1578299628,"post_id":59608865,"comment_id":105381122,"body_markdown":"can some one help me on it..??","body":"can some one help me on it..??"},{"owner":{"account_id":16850706,"reputation":902,"user_id":12183825,"display_name":"Edgar"},"score":0,"creation_date":1578299735,"post_id":59608865,"comment_id":105381154,"body_markdown":"https://stackoverflow.com/questions/52515309/libraries-not-accessible-for-classloader-namespace-when-loading-dl4j-model-us did you check this thread","body":"<a href=\"https://stackoverflow.com/questions/52515309/libraries-not-accessible-for-classloader-namespace-when-loading-dl4j-model-us\" title=\"libraries not accessible for classloader namespace when loading dl4j model us\">stackoverflow.com/questions/52515309/&hellip;</a> did you check this thread"},{"owner":{"account_id":16371484,"reputation":463,"user_id":11824674,"display_name":"Muhammad Sabeel Ahmed"},"score":0,"creation_date":1578303911,"post_id":59608865,"comment_id":105382960,"body_markdown":"@sashabeliy yes I have already checked these threads but unable to handle this error till now. I have also read docs of android developer from where i get that if targetVersionSDK is greater then or equal 24 then it will generate RunTimeError while for below then 24 this is working perfectly.\nhttps://developer.android.com/about/versions/nougat/android-7.0-changes.html","body":"@sashabeliy yes I have already checked these threads but unable to handle this error till now. I have also read docs of android developer from where i get that if targetVersionSDK is greater then or equal 24 then it will generate RunTimeError while for below then 24 this is working perfectly. <a href=\"https://developer.android.com/about/versions/nougat/android-7.0-changes.html\" rel=\"nofollow noreferrer\">developer.android.com/about/versions/nougat/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3451973,"reputation":3073,"user_id":2891462,"accept_rate":90,"display_name":"user2891462"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1585655567,"creation_date":1585655150,"answer_id":60949833,"question_id":59608865,"body_markdown":"From Nougat onwards, Android prevents the runtime linkage of private symbols from system libraries (see [this blogpost][1] in Android Developers).\r\nYou have two options:\r\n\r\n 1. Include those libraries in your APK so that you don&#39;t need to look for them in `/system/lib/`; or\r\n 2. Modify your Android ROM so that those libraries are considered public. This can be done by adding those libraries to `/system/etc/public.libraries.txt`.\r\n\r\n\r\n  [1]: https://android-developers.googleblog.com/2016/06/improving-stability-with-private-cc.html","title":"library is not accessible for the namespace &quot;classloader-namespace&quot;","body":"<p>From Nougat onwards, Android prevents the runtime linkage of private symbols from system libraries (see <a href=\"https://android-developers.googleblog.com/2016/06/improving-stability-with-private-cc.html\" rel=\"noreferrer\">this blogpost</a> in Android Developers).\nYou have two options:</p>\n\n<ol>\n<li>Include those libraries in your APK so that you don't need to look for them in <code>/system/lib/</code>; or</li>\n<li>Modify your Android ROM so that those libraries are considered public. This can be done by adding those libraries to <code>/system/etc/public.libraries.txt</code>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12564813,"reputation":57,"user_id":9141184,"display_name":"WillWolf"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1701425039,"creation_date":1595503806,"answer_id":63053186,"question_id":59608865,"body_markdown":"I also encountered this error, as follows:\r\n\r\nIf I put the .so file in the `libs/yourCpuModel(armeabi-v7a)/` the error will occur.\r\n\r\nIf I put the .so file in the `src/jniLibs/youtCpuModel(armeabi-v7a)/` the error will occur.\r\n\r\nBut if I put the .so file in the `src/main/jniLibs/yourCpuModel(armeabi-v7a)/` directory the error will not occur.\r\n\r\nI don&#39;t know why, however this might still help you.","title":"library is not accessible for the namespace &quot;classloader-namespace&quot;","body":"<p>I also encountered this error, as follows:</p>\n<p>If I put the .so file in the <code>libs/yourCpuModel(armeabi-v7a)/</code> the error will occur.</p>\n<p>If I put the .so file in the <code>src/jniLibs/youtCpuModel(armeabi-v7a)/</code> the error will occur.</p>\n<p>But if I put the .so file in the <code>src/main/jniLibs/yourCpuModel(armeabi-v7a)/</code> directory the error will not occur.</p>\n<p>I don't know why, however this might still help you.</p>\n"}],"owner":{"account_id":16371484,"reputation":463,"user_id":11824674,"display_name":"Muhammad Sabeel Ahmed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15960,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1701425039,"creation_date":1578299423,"question_id":59608865,"body_markdown":"I want to import below libraries in my Android Studio Project these are placed in */system/lib64/ folder*.\r\n**I am getting below error**\r\n```\r\n2020-01-06 13:23:31.358 5171-5171/org.strongswan.android E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: org.strongswan.android, PID: 5171\r\n    java.lang.UnsatisfiedLinkError: dlopen failed: library &quot;/system/lib64/libstrongswan.so&quot; needed or dlopened by &quot;/system/lib64/libnativeloader.so&quot; is not accessible for the namespace &quot;classloader-namespace&quot;\r\n        at java.lang.Runtime.loadLibrary0(Runtime.java:1016)\r\n        at java.lang.System.loadLibrary(System.java:1669)\r\n        at org.strongswan.android.logic.CharonVpnService.&lt;init&gt;(CharonVpnService.java:730)\r\n        at java.lang.Class.newInstance(Native Method)\r\n        at android.app.AppComponentFactory.instantiateService(AppComponentFactory.java:103)\r\n        at android.app.ActivityThread.handleCreateService(ActivityThread.java:3740)\r\n        at android.app.ActivityThread.access$1400(ActivityThread.java:238)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1803)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:214)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7073)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:494)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:964)\r\n```\r\n\r\n**on the line *System.loadLibrary(&quot;strongswan&quot;)***\r\n```\t{\r\n\t\tSystem.loadLibrary(&quot;strongswan&quot;);\r\n\r\n\t\tif (MainActivity.USE_BYOD)\r\n\t\t{\r\n\t\t\tSystem.loadLibrary(&quot;tncif&quot;);\r\n\t\t\tSystem.loadLibrary(&quot;tnccs&quot;);\r\n\t\t\tSystem.loadLibrary(&quot;imcv&quot;);\r\n\t\t}\r\n\r\n\t\tSystem.loadLibrary(&quot;hydra&quot;);\r\n\t\tSystem.loadLibrary(&quot;charon&quot;);\r\n\t\tSystem.loadLibrary(&quot;ipsec&quot;);\r\n\t\tSystem.loadLibrary(&quot;androidbridge&quot;);\r\n\t}\r\n\r\n```","title":"library is not accessible for the namespace &quot;classloader-namespace&quot;","body":"<p>I want to import below libraries in my Android Studio Project these are placed in <em>/system/lib64/ folder</em>.\n<strong>I am getting below error</strong></p>\n\n<pre><code>2020-01-06 13:23:31.358 5171-5171/org.strongswan.android E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: org.strongswan.android, PID: 5171\n    java.lang.UnsatisfiedLinkError: dlopen failed: library \"/system/lib64/libstrongswan.so\" needed or dlopened by \"/system/lib64/libnativeloader.so\" is not accessible for the namespace \"classloader-namespace\"\n        at java.lang.Runtime.loadLibrary0(Runtime.java:1016)\n        at java.lang.System.loadLibrary(System.java:1669)\n        at org.strongswan.android.logic.CharonVpnService.&lt;init&gt;(CharonVpnService.java:730)\n        at java.lang.Class.newInstance(Native Method)\n        at android.app.AppComponentFactory.instantiateService(AppComponentFactory.java:103)\n        at android.app.ActivityThread.handleCreateService(ActivityThread.java:3740)\n        at android.app.ActivityThread.access$1400(ActivityThread.java:238)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1803)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7073)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:494)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:964)\n</code></pre>\n\n<p><strong>on the line <em>System.loadLibrary(\"strongswan\")</em></strong></p>\n\n<pre><code>        System.loadLibrary(\"strongswan\");\n\n        if (MainActivity.USE_BYOD)\n        {\n            System.loadLibrary(\"tncif\");\n            System.loadLibrary(\"tnccs\");\n            System.loadLibrary(\"imcv\");\n        }\n\n        System.loadLibrary(\"hydra\");\n        System.loadLibrary(\"charon\");\n        System.loadLibrary(\"ipsec\");\n        System.loadLibrary(\"androidbridge\");\n    }\n\n</code></pre>\n"},{"tags":["java","google-chrome","selenium-webdriver","webdrivermanager-java"],"comments":[{"owner":{"account_id":53229,"reputation":144039,"user_id":159145,"accept_rate":56,"display_name":"Dai"},"score":0,"creation_date":1701389372,"post_id":77582319,"comment_id":136773001,"body_markdown":"There is no &quot;Chrome 160&quot;... the highest version in preview is 120.","body":"There is no &quot;Chrome 160&quot;... the highest version in preview is 120."}],"answers":[{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701424149,"creation_date":1701424149,"answer_id":77584320,"question_id":77582319,"body_markdown":"````\r\n&lt;version&gt;3.141.59&lt;/version&gt;\r\n````\r\nYou are using very old version of Selenium. Upgrade to the latest version of selenium i.e. `v4.15.0`.\r\n\r\nAnd once you upgrade to latest selenium, you no longer need `WebDriverManager` library. The new built-in tool `Selenium Manager` will do what `WebDriverManager` used to do before.\r\n\r\nCode can be as simple as:\r\n````\r\npublic static void main(String[] args) {\r\n    WebDriver driver = new ChromeDriver();\r\n    driver.manage().window().maximize();\r\n    driver.get(&quot;https://www.google.com/&quot;);\r\n    driver.quit();\r\n}\r\n````\r\nRefer below answers for more details on this topic:\r\n- https://stackoverflow.com/a/76463081/7598774\r\n- https://stackoverflow.com/a/76752843/7598774\r\n- https://stackoverflow.com/a/77281456/7598774","title":"ChromeDriver only supports Chrome version 114 not 160","body":"<pre><code>&lt;version&gt;3.141.59&lt;/version&gt;\n</code></pre>\n<p>You are using very old version of Selenium. Upgrade to the latest version of selenium i.e. <code>v4.15.0</code>.</p>\n<p>And once you upgrade to latest selenium, you no longer need <code>WebDriverManager</code> library. The new built-in tool <code>Selenium Manager</code> will do what <code>WebDriverManager</code> used to do before.</p>\n<p>Code can be as simple as:</p>\n<pre><code>public static void main(String[] args) {\n    WebDriver driver = new ChromeDriver();\n    driver.manage().window().maximize();\n    driver.get(&quot;https://www.google.com/&quot;);\n    driver.quit();\n}\n</code></pre>\n<p>Refer below answers for more details on this topic:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/76463081/7598774\">https://stackoverflow.com/a/76463081/7598774</a></li>\n<li><a href=\"https://stackoverflow.com/a/76752843/7598774\">https://stackoverflow.com/a/76752843/7598774</a></li>\n<li><a href=\"https://stackoverflow.com/a/77281456/7598774\">https://stackoverflow.com/a/77281456/7598774</a></li>\n</ul>\n"}],"owner":{"account_id":2623244,"reputation":21,"user_id":2270832,"display_name":"user2270832"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701424342,"creation_date":1701388408,"question_id":77582319,"body_markdown":"I&#39;ve got the following error when my Chrome browser got updated to version 160:\r\n```\r\n&quot;org.openqa.selenium.SessionNotCreatedException: session not created: This version of ChromeDriver only supports Chrome version 114\r\nCurrent browser version is 119.0.6045.160 with binary path C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\r\nBuild info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;&quot;\r\n```\r\n\r\nMy POM file settings:\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;3.141.59&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;4.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nI tried to bump up webdrivermanager to 5.6.2 but it did not help.\r\nAnyone can help with this issue?\r\nThanks a lot!!!\r\n\r\n\r\nI tried to bump up webdrivermanager version and it did not help ","title":"ChromeDriver only supports Chrome version 114 not 160","body":"<p>I've got the following error when my Chrome browser got updated to version 160:</p>\n<pre><code>&quot;org.openqa.selenium.SessionNotCreatedException: session not created: This version of ChromeDriver only supports Chrome version 114\nCurrent browser version is 119.0.6045.160 with binary path C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'&quot;\n</code></pre>\n<p>My POM file settings:</p>\n<pre><code>    &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;3.141.59&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n        &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n        &lt;version&gt;4.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I tried to bump up webdrivermanager to 5.6.2 but it did not help.\nAnyone can help with this issue?\nThanks a lot!!!</p>\n<p>I tried to bump up webdrivermanager version and it did not help</p>\n"},{"tags":["java","swing","user-interface"],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1461372909,"creation_date":1461372909,"answer_id":36805377,"question_id":36805320,"body_markdown":"The problem is you add components to the frame AFTER the frame is visible and don&#39;t invoke the layout manager so all the components have a size of 0 so there is nothing to paint.\r\n\r\nThe frame must be made visible AFTER all the components have been added to the frame.\r\n\r\nSo the structure of your code should be something like:\r\n\r\n    setTitle(&quot;ThisApp - Best in the business&quot;);\r\n    setResizable(false);\r\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    setLayout(new GridLayout(2,1));\r\n    \r\n    JButton cat = new JButton(&quot;Cat&quot;);\r\n    this.add(new JButton(&quot;Button&quot;));\r\n    this.add(new JTextField(&quot;CAT CAT&quot;,10));     \r\n    \r\n    setSize(300, 200);\r\n    setLocationRelativeTo( null );\r\n    setVisible(true);\r\n\r\n","title":"JTextField randomly not appearing in program even when code is not changed","body":"<p>The problem is you add components to the frame AFTER the frame is visible and don't invoke the layout manager so all the components have a size of 0 so there is nothing to paint.</p>\n\n<p>The frame must be made visible AFTER all the components have been added to the frame.</p>\n\n<p>So the structure of your code should be something like:</p>\n\n<pre><code>setTitle(\"ThisApp - Best in the business\");\nsetResizable(false);\nsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\nsetLayout(new GridLayout(2,1));\n\nJButton cat = new JButton(\"Cat\");\nthis.add(new JButton(\"Button\"));\nthis.add(new JTextField(\"CAT CAT\",10));     \n\nsetSize(300, 200);\nsetLocationRelativeTo( null );\nsetVisible(true);\n</code></pre>\n"}],"owner":{"account_id":6256343,"reputation":525,"user_id":4864750,"accept_rate":67,"display_name":"cafemolecular"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":36805377,"answer_count":1,"score":0,"last_activity_date":1701423983,"creation_date":1461372389,"question_id":36805320,"body_markdown":"I&#39;m trying to write a small UI program with Swing. I need to have a few textfields, but defining a new textfield or textarea (I don&#39;t even have to add it to a Frame) will randomly prevent themselves and anything that is added after them in the code from appearing onscreen.\r\n\r\nI can recompile the same code without making any changes and maybe 1/3 of the time it will work properly. What&#39;s causing this problem and is there any way I can change it?\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    \r\n    public class ThisApp\r\n    {\r\n    \tpublic static void main(String [] Args)\r\n    \t{\r\n    \t\tnew ThisUI();\t\t\r\n    \t}\r\n    }\r\n    \r\n    \r\n    class ThisUI extends JFrame //implements ActionListener\r\n    {\r\n    \tpublic ThisUI()\r\n    \t{\r\n    \t\tsetTitle(&quot;ThisApp - Best in the business&quot;);\r\n    \t\tsetResizable(false);\r\n    \t\tsetVisible(true);\r\n    \t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tsetSize(300, 200);\r\n    \t\tsetLayout(new GridLayout(2,1));\r\n    \r\n    \t\tJButton cat = new JButton(&quot;Cat&quot;);\r\n    \r\n    \t\tthis.add(new JButton(&quot;Button&quot;));\r\n    \t\tthis.add(new JTextField(&quot;CAT CAT&quot;,10));\t\t\r\n    \t}\r\n    }","title":"JTextField randomly not appearing in program even when code is not changed","body":"<p>I'm trying to write a small UI program with Swing. I need to have a few textfields, but defining a new textfield or textarea (I don't even have to add it to a Frame) will randomly prevent themselves and anything that is added after them in the code from appearing onscreen.</p>\n<p>I can recompile the same code without making any changes and maybe 1/3 of the time it will work properly. What's causing this problem and is there any way I can change it?</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\npublic class ThisApp\n{\n    public static void main(String [] Args)\n    {\n        new ThisUI();       \n    }\n}\n\n\nclass ThisUI extends JFrame //implements ActionListener\n{\n    public ThisUI()\n    {\n        setTitle(&quot;ThisApp - Best in the business&quot;);\n        setResizable(false);\n        setVisible(true);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setSize(300, 200);\n        setLayout(new GridLayout(2,1));\n\n        JButton cat = new JButton(&quot;Cat&quot;);\n\n        this.add(new JButton(&quot;Button&quot;));\n        this.add(new JTextField(&quot;CAT CAT&quot;,10));     \n    }\n}\n</code></pre>\n"},{"tags":["java","linkedhashmap"],"comments":[{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":2,"creation_date":1416865713,"post_id":27114691,"comment_id":42732350,"body_markdown":"What is the purpose of using a `LinkedHashMap` when you sort it? Maybe use a [`TreeMap`](https://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html) instead and provide an own [`Comparator`](https://docs.oracle.com/javase/7/docs/api/java/util/Comparator.html) to sort the value instead of the key.","body":"What is the purpose of using a <code>LinkedHashMap</code> when you sort it? Maybe use a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html\" rel=\"nofollow noreferrer\"><code>TreeMap</code></a> instead and provide an own <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code></a> to sort the value instead of the key."},{"owner":{"account_id":1663022,"reputation":20609,"user_id":1530938,"display_name":"kolossus"},"score":0,"creation_date":1416865718,"post_id":27114691,"comment_id":42732353,"body_markdown":"The whole point of it being &quot;Linked&quot; is to derive the benefits of a List, i.e. indexed access. If you want default sorting, you&#39;ll need a Tree-based data structure","body":"The whole point of it being &quot;Linked&quot; is to derive the benefits of a List, i.e. indexed access. If you want default sorting, you&#39;ll need a Tree-based data structure"}],"answers":[{"tags":[],"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1416872440,"creation_date":1416865797,"answer_id":27114816,"question_id":27114691,"body_markdown":"&gt;How can you sort a LinkedHashMap using the value?\r\n\r\n`LinkedHashMap` is not *sorted*, it is *ordered* by order of insertion.\r\n\r\nIf your goal is to *reorder* the Map, you might do something like\r\n\r\n    static &lt;K, V&gt; void orderByValue(\r\n            LinkedHashMap&lt;K, V&gt; m, final Comparator&lt;? super V&gt; c) {\r\n        List&lt;Map.Entry&lt;K, V&gt;&gt; entries = new ArrayList&lt;&gt;(m.entrySet());\r\n\r\n        Collections.sort(entries, new Comparator&lt;Map.Entry&lt;K, V&gt;&gt;() {\r\n            @Override\r\n            public int compare(Map.Entry&lt;K, V&gt; lhs, Map.Entry&lt;K, V&gt; rhs) {\r\n                return c.compare(lhs.getValue(), rhs.getValue());\r\n            }\r\n        });\r\n\r\n        m.clear();\r\n        for(Map.Entry&lt;K, V&gt; e : entries) {\r\n            m.put(e.getKey(), e.getValue());\r\n        }\r\n    }\r\n\r\nWe put all the entries in a List, sort the List, then put the entries back in the Map in the new order.\r\n\r\nHere&#39;s a Java 8 translation for those inclined:\r\n\r\n    static &lt;K, V&gt; void orderByValue(\r\n            LinkedHashMap&lt;K, V&gt; m, Comparator&lt;? super V&gt; c) {\r\n        List&lt;Map.Entry&lt;K, V&gt;&gt; entries = new ArrayList&lt;&gt;(m.entrySet());\r\n        m.clear();\r\n        entries.stream()\r\n            .sorted(Comparator.comparing(Map.Entry::getValue, c))\r\n            .forEachOrdered(e -&gt; m.put(e.getKey(), e.getValue()));\r\n    }\r\n\r\n(Which, out of curiosity, can be condensed to, although it is less efficient):\r\n\r\n    static &lt;K, V&gt; void orderByValue(\r\n            LinkedHashMap&lt;K, V&gt; m, Comparator&lt;? super V&gt; c) {\r\n        new ArrayList&lt;&gt;(m.keySet()).stream()\r\n            .sorted(Comparator.comparing(m::get, c))\r\n            .forEachOrdered(k -&gt; m.put(k, m.remove(k)));\r\n    }\r\n\r\n&gt;Is there a way to insert entries into a LinkedHashMap so that they are inserted in order based on their value?\r\n\r\nNo. See above. `LinkedHashMap` is not sorted.\r\n\r\nIf your goal is to *keep the Map sorted*, you need to use a `TreeMap`; however there are problems with doing so. Entries in the Map need to have unique values. See [here](https://stackoverflow.com/questions/2864840/treemap-sort-by-value) and [here](https://stackoverflow.com/questions/109383/how-to-sort-a-mapkey-value-on-the-values-in-java).","title":"Sorting LinkedHashMap by value","body":"<blockquote>\n  <p>How can you sort a LinkedHashMap using the value?</p>\n</blockquote>\n\n<p><code>LinkedHashMap</code> is not <em>sorted</em>, it is <em>ordered</em> by order of insertion.</p>\n\n<p>If your goal is to <em>reorder</em> the Map, you might do something like</p>\n\n<pre><code>static &lt;K, V&gt; void orderByValue(\n        LinkedHashMap&lt;K, V&gt; m, final Comparator&lt;? super V&gt; c) {\n    List&lt;Map.Entry&lt;K, V&gt;&gt; entries = new ArrayList&lt;&gt;(m.entrySet());\n\n    Collections.sort(entries, new Comparator&lt;Map.Entry&lt;K, V&gt;&gt;() {\n        @Override\n        public int compare(Map.Entry&lt;K, V&gt; lhs, Map.Entry&lt;K, V&gt; rhs) {\n            return c.compare(lhs.getValue(), rhs.getValue());\n        }\n    });\n\n    m.clear();\n    for(Map.Entry&lt;K, V&gt; e : entries) {\n        m.put(e.getKey(), e.getValue());\n    }\n}\n</code></pre>\n\n<p>We put all the entries in a List, sort the List, then put the entries back in the Map in the new order.</p>\n\n<p>Here's a Java 8 translation for those inclined:</p>\n\n<pre><code>static &lt;K, V&gt; void orderByValue(\n        LinkedHashMap&lt;K, V&gt; m, Comparator&lt;? super V&gt; c) {\n    List&lt;Map.Entry&lt;K, V&gt;&gt; entries = new ArrayList&lt;&gt;(m.entrySet());\n    m.clear();\n    entries.stream()\n        .sorted(Comparator.comparing(Map.Entry::getValue, c))\n        .forEachOrdered(e -&gt; m.put(e.getKey(), e.getValue()));\n}\n</code></pre>\n\n<p>(Which, out of curiosity, can be condensed to, although it is less efficient):</p>\n\n<pre><code>static &lt;K, V&gt; void orderByValue(\n        LinkedHashMap&lt;K, V&gt; m, Comparator&lt;? super V&gt; c) {\n    new ArrayList&lt;&gt;(m.keySet()).stream()\n        .sorted(Comparator.comparing(m::get, c))\n        .forEachOrdered(k -&gt; m.put(k, m.remove(k)));\n}\n</code></pre>\n\n<blockquote>\n  <p>Is there a way to insert entries into a LinkedHashMap so that they are inserted in order based on their value?</p>\n</blockquote>\n\n<p>No. See above. <code>LinkedHashMap</code> is not sorted.</p>\n\n<p>If your goal is to <em>keep the Map sorted</em>, you need to use a <code>TreeMap</code>; however there are problems with doing so. Entries in the Map need to have unique values. See <a href=\"https://stackoverflow.com/questions/2864840/treemap-sort-by-value\">here</a> and <a href=\"https://stackoverflow.com/questions/109383/how-to-sort-a-mapkey-value-on-the-values-in-java\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1416866497,"creation_date":1416866037,"answer_id":27114873,"question_id":27114691,"body_markdown":"I think the best way to sort a `LinkedHashMap` by value is to write a comparator that compares two `Map.Entry&lt;K,V&gt;` objects by value, then\r\n\r\n    Map.Entry&lt;K,V&gt;[] entries = (Map.Entry&lt;K,V&gt;[])map.entrySet().toArray();\r\n    Arrays.sort(entries, comparator);\r\n\r\nThe comparator would look something like\r\n\r\n    Comparator&lt;Map.Entry&lt;K,V&gt;&gt; comparator = new Comparator&lt;Map.Entry&lt;K,V&gt;&gt;() {\r\n        @Override\r\n        public int compare(Map.Entry&lt;K,V&gt; o1, Map.Entry&lt;K,V&gt; o2) {\r\n            return o1.getValue().compareTo(o2.getValue());\r\n        }\r\n    };\r\n\r\nBasically, it&#39;s the obvious thing: create an array of all the key/value pairs in the map, and then sort it.\r\n&lt;b&gt;NOTE:&lt;/b&gt; I haven&#39;t tested this.\r\n\r\nAs for the second question: this would require a special data structure that maintains the values in order.  When you insert an element, it would set up the hash table _and_ maintain a doubly-linked list of the elements in insertion order _and_ set up some sort of AVL tree to keep the values in order like `TreeSet`.  I don&#39;t think Java defines a class like this, but maybe there&#39;s one in a third-party library.  It might be easiest to maintain two separate structures, a `LinkedHashMap&lt;K,V&gt;` and a `TreeSet&lt;Map.Entry&lt;K,V&gt;&gt;`.","title":"Sorting LinkedHashMap by value","body":"<p>I think the best way to sort a <code>LinkedHashMap</code> by value is to write a comparator that compares two <code>Map.Entry&lt;K,V&gt;</code> objects by value, then</p>\n\n<pre><code>Map.Entry&lt;K,V&gt;[] entries = (Map.Entry&lt;K,V&gt;[])map.entrySet().toArray();\nArrays.sort(entries, comparator);\n</code></pre>\n\n<p>The comparator would look something like</p>\n\n<pre><code>Comparator&lt;Map.Entry&lt;K,V&gt;&gt; comparator = new Comparator&lt;Map.Entry&lt;K,V&gt;&gt;() {\n    @Override\n    public int compare(Map.Entry&lt;K,V&gt; o1, Map.Entry&lt;K,V&gt; o2) {\n        return o1.getValue().compareTo(o2.getValue());\n    }\n};\n</code></pre>\n\n<p>Basically, it's the obvious thing: create an array of all the key/value pairs in the map, and then sort it.\n<b>NOTE:</b> I haven't tested this.</p>\n\n<p>As for the second question: this would require a special data structure that maintains the values in order.  When you insert an element, it would set up the hash table <em>and</em> maintain a doubly-linked list of the elements in insertion order <em>and</em> set up some sort of AVL tree to keep the values in order like <code>TreeSet</code>.  I don't think Java defines a class like this, but maybe there's one in a third-party library.  It might be easiest to maintain two separate structures, a <code>LinkedHashMap&lt;K,V&gt;</code> and a <code>TreeSet&lt;Map.Entry&lt;K,V&gt;&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":3498627,"reputation":878,"user_id":2926158,"accept_rate":58,"display_name":"SeahawksRdaBest"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1416869664,"creation_date":1416868365,"answer_id":27115424,"question_id":27114691,"body_markdown":"Like the answer before me suggested a LinkedHashMap is not sorted it only holds the insertion order. You have to manually create your comparator. \n\nnow the question is what do you what to sort the Map by ? By an integer key...\n\nHere is a example: (Tree Map)\n\n## Default Compare\n               // Create a hash map\n              TreeMap tm = new TreeMap();\n              // Put elements to the map\n              tm.put(&quot;person1&quot;, new Double(1));\n              tm.put(&quot;person2&quot;, new Double(2));\n              tm.put(&quot;person3&quot;, new Double(3));\n              tm.put(&quot;person4&quot;, new Double(4));\n              tm.put(&quot;person5&quot;, new Double(5));\n              \n              // Get a set of the entries\n              Set set = tm.entrySet();\n              // Get an iterator\n              Iterator i = set.iterator();\n              // Display elements\n              while(i.hasNext()) {\n                 Map.Entry me = (Map.Entry)i.next();\n                 System.out.print(me.getKey() + &quot;: &quot;);\n                 System.out.println(me.getValue());\n              }\n              System.out.println();\n              \n              // Deposit 1000 into person5&#39;s account\n              double balance = ((Double)tm.get(&quot;person5&quot;)).doubleValue();\n              tm.put(&quot;person5&quot;, new Double(balance + 1000));\n              System.out.println(&quot;person5&#39;s new balance: &quot; +\n              tm.get(&quot;person5&quot;));\n    \n    \nThis tree will sort in the natural order of the keys. i.e. person1 threw person5\n    \n        person1: 1.00\n        person2: 2.00\n        person3: 3.00\n        person4: 4.00\n        person5: 5.00\n        person5&#39;s new balance: 1005.00\n    \n## Use a custom comparator:\n    \n    public class MyTMCompUserDefine {\n     \n        public static void main(String a[]){\n            //By using name comparator (String comparison)\n            TreeMap&lt;Empl,String&gt; tm = new TreeMap&lt;Empl, String&gt;(new MyNameComp());\n            tm.put(new Empl(&quot;Ram&quot;,3000), &quot;RAM&quot;);\n            tm.put(new Empl(&quot;John&quot;,6000), &quot;JOHN&quot;);\n            tm.put(new Empl(&quot;Crish&quot;,2000), &quot;CRISH&quot;);\n            tm.put(new Empl(&quot;Tom&quot;,2400), &quot;TOM&quot;);\n            Set&lt;Empl&gt; keys = tm.keySet();\n            for(Empl key:keys){\n                System.out.println(key+&quot; ==&gt; &quot;+tm.get(key));\n            }\n            System.out.println(&quot;===================================&quot;);\n            //By using salary comparator (int comparison)\n            TreeMap&lt;Empl,String&gt; trmap = new TreeMap&lt;Empl, String&gt;(new MySalaryComp());\n            trmap.put(new Empl(&quot;Ram&quot;,3000), &quot;RAM&quot;);\n            trmap.put(new Empl(&quot;John&quot;,6000), &quot;JOHN&quot;);\n            trmap.put(new Empl(&quot;Crish&quot;,2000), &quot;CRISH&quot;);\n            trmap.put(new Empl(&quot;Tom&quot;,2400), &quot;TOM&quot;);\n            Set&lt;Empl&gt; ks = trmap.keySet();\n            for(Empl key:ks){\n                System.out.println(key+&quot; ==&gt; &quot;+trmap.get(key));\n            }\n        }\n    }\n     \n    class MyNameComp implements Comparator&lt;Empl&gt;{\n     \n        @Override\n        public int compare(Empl e1, Empl e2) {\n            return e1.getName().compareTo(e2.getName());\n        }\n    }\n     \n    class MySalaryComp implements Comparator&lt;Empl&gt;{\n     \n        @Override\n        public int compare(Empl e1, Empl e2) {\n            if(e1.getSalary() &gt; e2.getSalary()){\n                return 1;\n            } else {\n                return -1;\n            }\n        }\n    }\n     \n    class Empl{\n         \n        private String name;\n        private int salary;\n         \n        public Empl(String n, int s){\n            this.name = n;\n            this.salary = s;\n        }\n         \n        public String getName() {\n            return name;\n        }\n        public void setName(String name) {\n            this.name = name;\n        }\n        public int getSalary() {\n            return salary;\n        }\n        public void setSalary(int salary) {\n            this.salary = salary;\n        }\n        public String toString(){\n            return &quot;Name: &quot;+this.name+&quot;-- Salary: &quot;+this.salary;\n        }\n    }\n\n    Output:\n    Name: Crish-- Salary: 2000 ==&gt; CRISH\n    Name: John-- Salary: 6000 ==&gt; JOHN\n    Name: Ram-- Salary: 3000 ==&gt; RAM\n    Name: Tom-- Salary: 2400 ==&gt; TOM\n    ===================================\n    Name: Crish-- Salary: 2000 ==&gt; CRISH\n    Name: Tom-- Salary: 2400 ==&gt; TOM\n    Name: Ram-- Salary: 3000 ==&gt; RAM\n    Name: John-- Salary: 6000 ==&gt; JOHN\n\n","title":"Sorting LinkedHashMap by value","body":"<p>Like the answer before me suggested a LinkedHashMap is not sorted it only holds the insertion order. You have to manually create your comparator.</p>\n<p>now the question is what do you what to sort the Map by ? By an integer key...</p>\n<p>Here is a example: (Tree Map)</p>\n<h2>Default Compare</h2>\n<pre><code>           // Create a hash map\n          TreeMap tm = new TreeMap();\n          // Put elements to the map\n          tm.put(&quot;person1&quot;, new Double(1));\n          tm.put(&quot;person2&quot;, new Double(2));\n          tm.put(&quot;person3&quot;, new Double(3));\n          tm.put(&quot;person4&quot;, new Double(4));\n          tm.put(&quot;person5&quot;, new Double(5));\n          \n          // Get a set of the entries\n          Set set = tm.entrySet();\n          // Get an iterator\n          Iterator i = set.iterator();\n          // Display elements\n          while(i.hasNext()) {\n             Map.Entry me = (Map.Entry)i.next();\n             System.out.print(me.getKey() + &quot;: &quot;);\n             System.out.println(me.getValue());\n          }\n          System.out.println();\n          \n          // Deposit 1000 into person5's account\n          double balance = ((Double)tm.get(&quot;person5&quot;)).doubleValue();\n          tm.put(&quot;person5&quot;, new Double(balance + 1000));\n          System.out.println(&quot;person5's new balance: &quot; +\n          tm.get(&quot;person5&quot;));\n</code></pre>\n<p>This tree will sort in the natural order of the keys. i.e. person1 threw person5</p>\n<pre><code>    person1: 1.00\n    person2: 2.00\n    person3: 3.00\n    person4: 4.00\n    person5: 5.00\n    person5's new balance: 1005.00\n</code></pre>\n<h2>Use a custom comparator:</h2>\n<pre><code>public class MyTMCompUserDefine {\n \n    public static void main(String a[]){\n        //By using name comparator (String comparison)\n        TreeMap&lt;Empl,String&gt; tm = new TreeMap&lt;Empl, String&gt;(new MyNameComp());\n        tm.put(new Empl(&quot;Ram&quot;,3000), &quot;RAM&quot;);\n        tm.put(new Empl(&quot;John&quot;,6000), &quot;JOHN&quot;);\n        tm.put(new Empl(&quot;Crish&quot;,2000), &quot;CRISH&quot;);\n        tm.put(new Empl(&quot;Tom&quot;,2400), &quot;TOM&quot;);\n        Set&lt;Empl&gt; keys = tm.keySet();\n        for(Empl key:keys){\n            System.out.println(key+&quot; ==&gt; &quot;+tm.get(key));\n        }\n        System.out.println(&quot;===================================&quot;);\n        //By using salary comparator (int comparison)\n        TreeMap&lt;Empl,String&gt; trmap = new TreeMap&lt;Empl, String&gt;(new MySalaryComp());\n        trmap.put(new Empl(&quot;Ram&quot;,3000), &quot;RAM&quot;);\n        trmap.put(new Empl(&quot;John&quot;,6000), &quot;JOHN&quot;);\n        trmap.put(new Empl(&quot;Crish&quot;,2000), &quot;CRISH&quot;);\n        trmap.put(new Empl(&quot;Tom&quot;,2400), &quot;TOM&quot;);\n        Set&lt;Empl&gt; ks = trmap.keySet();\n        for(Empl key:ks){\n            System.out.println(key+&quot; ==&gt; &quot;+trmap.get(key));\n        }\n    }\n}\n \nclass MyNameComp implements Comparator&lt;Empl&gt;{\n \n    @Override\n    public int compare(Empl e1, Empl e2) {\n        return e1.getName().compareTo(e2.getName());\n    }\n}\n \nclass MySalaryComp implements Comparator&lt;Empl&gt;{\n \n    @Override\n    public int compare(Empl e1, Empl e2) {\n        if(e1.getSalary() &gt; e2.getSalary()){\n            return 1;\n        } else {\n            return -1;\n        }\n    }\n}\n \nclass Empl{\n     \n    private String name;\n    private int salary;\n     \n    public Empl(String n, int s){\n        this.name = n;\n        this.salary = s;\n    }\n     \n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public int getSalary() {\n        return salary;\n    }\n    public void setSalary(int salary) {\n        this.salary = salary;\n    }\n    public String toString(){\n        return &quot;Name: &quot;+this.name+&quot;-- Salary: &quot;+this.salary;\n    }\n}\n\nOutput:\nName: Crish-- Salary: 2000 ==&gt; CRISH\nName: John-- Salary: 6000 ==&gt; JOHN\nName: Ram-- Salary: 3000 ==&gt; RAM\nName: Tom-- Salary: 2400 ==&gt; TOM\n===================================\nName: Crish-- Salary: 2000 ==&gt; CRISH\nName: Tom-- Salary: 2400 ==&gt; TOM\nName: Ram-- Salary: 3000 ==&gt; RAM\nName: John-- Salary: 6000 ==&gt; JOHN\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2474917,"reputation":874,"user_id":2155741,"accept_rate":62,"display_name":"bluearrow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701423888,"creation_date":1701423888,"answer_id":77584298,"question_id":27114691,"body_markdown":"Convert LinkedHashMap to sorted List and then do what you want:\r\n\r\n            LinkedHashMap&lt;String, BigDecimal&gt; topCosts = data.getTopCosts();\r\n            List&lt;Map.Entry&lt;String, BigDecimal&gt;&gt; entries = topCosts.entrySet()\r\n                .stream()\r\n                .sorted((o1, o2) -&gt; o2.getValue().compareTo(o1.getValue())) // desc\r\n                .collect(Collectors.toList());\r\n            for (Map.Entry&lt;String, BigDecimal&gt; entry : entries) {\r\n                // do somting..\r\n            }\r\n        ","title":"Sorting LinkedHashMap by value","body":"<p>Convert LinkedHashMap to sorted List and then do what you want:</p>\n<pre><code>        LinkedHashMap&lt;String, BigDecimal&gt; topCosts = data.getTopCosts();\n        List&lt;Map.Entry&lt;String, BigDecimal&gt;&gt; entries = topCosts.entrySet()\n            .stream()\n            .sorted((o1, o2) -&gt; o2.getValue().compareTo(o1.getValue())) // desc\n            .collect(Collectors.toList());\n        for (Map.Entry&lt;String, BigDecimal&gt; entry : entries) {\n            // do somting..\n        }\n    \n</code></pre>\n"}],"owner":{"account_id":4863873,"reputation":305,"user_id":3922757,"accept_rate":56,"display_name":"user3922757"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24275,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":27114816,"answer_count":4,"score":7,"last_activity_date":1701423888,"creation_date":1416865287,"question_id":27114691,"body_markdown":"How can you sort a LinkedHashMap &lt;String&gt; &lt;Integer&gt; using the value ?\r\n\r\nIs there a way to insert entries into a LinkedHashMap so that they are inserted in order based on their value ?","title":"Sorting LinkedHashMap by value","body":"<p>How can you sort a LinkedHashMap   using the value ?</p>\n\n<p>Is there a way to insert entries into a LinkedHashMap so that they are inserted in order based on their value ?</p>\n"},{"tags":["java","hazelcast"],"comments":[{"owner":{"account_id":5639587,"reputation":412,"user_id":4463900,"display_name":"Or&#231;un &#199;olak"},"score":1,"creation_date":1701339072,"post_id":77571602,"comment_id":136764284,"body_markdown":"Check out this link. https://docs.hazelcast.com/hazelcast/5.2/kubernetes/kubernetes-auto-discovery.adoc#discovering-members-from-hazelcast-clients","body":"Check out this link. <a href=\"https://docs.hazelcast.com/hazelcast/5.2/kubernetes/kubernetes-auto-discovery.adoc#discovering-members-from-hazelcast-clients\" rel=\"nofollow noreferrer\">docs.hazelcast.com/hazelcast/5.2/kubernetes/&hellip;</a>"}],"owner":{"account_id":29596674,"reputation":1,"user_id":22683052,"display_name":"Alejandro Garcia Marchena"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701423850,"creation_date":1701264823,"question_id":77571602,"body_markdown":"Hazelcast creates a client in discovery mode kubernetes_api that tries to connect in an infinite loop and blocks the app start\r\n\r\n\r\nI created a hazelcast instance with version 5.3.6 and set discovery strategy to dns_lookup the cluster starts perfectly using this discovery mode but then a client is launched hz.client1 [dev] using kubernetes_api as discovery mode, and it gets stucked as i have no RBAC,  and it is unable to get live cluster connection\r\nHow can I use also dns_lookup for this client? I tried to create a bean ClientConfigand set strategy to dns_lookup but it still tries to connect using kubernetes_api \r\n\r\n[See hazelcast log creating hazelcast cluster][1]\r\n\r\n[See hazelcast log with cluster up][2]\r\n\r\n[See client trying to connect the kubernetes API][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TfrRK.png\r\n  [2]: https://i.stack.imgur.com/2Dn0R.jpg\r\n  [3]: https://i.stack.imgur.com/CYLsg.jpg","title":"hazelcast 5.3.6 kubernetes set to dns_lookup but client launched with kubernetes_api","body":"<p>Hazelcast creates a client in discovery mode kubernetes_api that tries to connect in an infinite loop and blocks the app start</p>\n<p>I created a hazelcast instance with version 5.3.6 and set discovery strategy to dns_lookup the cluster starts perfectly using this discovery mode but then a client is launched hz.client1 [dev] using kubernetes_api as discovery mode, and it gets stucked as i have no RBAC,  and it is unable to get live cluster connection\nHow can I use also dns_lookup for this client? I tried to create a bean ClientConfigand set strategy to dns_lookup but it still tries to connect using kubernetes_api</p>\n<p><a href=\"https://i.stack.imgur.com/TfrRK.png\" rel=\"nofollow noreferrer\">See hazelcast log creating hazelcast cluster</a></p>\n<p><a href=\"https://i.stack.imgur.com/2Dn0R.jpg\" rel=\"nofollow noreferrer\">See hazelcast log with cluster up</a></p>\n<p><a href=\"https://i.stack.imgur.com/CYLsg.jpg\" rel=\"nofollow noreferrer\">See client trying to connect the kubernetes API</a></p>\n"},{"tags":["java","jquery","jquery-plugins","struts2","struts2-jquery-plugin"],"answers":[{"tags":[],"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1387497038,"creation_date":1387411353,"answer_id":20671064,"question_id":20669695,"body_markdown":"+1 because I see you&#39;ve [already posted on the relative Google Group][1]... but, if the things are not changed meanwhile, according to [this (pretty old, but still open JIRA) comment][2] by the plugin author:\r\n\r\n&gt; **The autocompleter with selectBox is working with an static list. In\r\n&gt; your use case you should use the `&lt;sj:select /&gt;` tag with\r\n&gt; autocomplete=&quot;true&quot; instead.** \r\n&gt; \r\n&gt;     &lt;s:url id=&quot;remoteurl&quot; action=&quot;jsonsample&quot;/&gt; \r\n&gt;     &lt;sj:select\r\n&gt;              href=&quot;%{remoteurl}&quot;\r\n&gt;              autocomplete=&quot;true&quot;\r\n&gt;              id=&quot;echo3&quot;\r\n&gt;              name=&quot;echo&quot;\r\n&gt;              list=&quot;languageObjList&quot;\r\n&gt;              listKey=&quot;myKey&quot;\r\n&gt;              listValue=&quot;myValue&quot;\r\n&gt;              emptyOption=&quot;true&quot;\r\n&gt;              headerKey=&quot;-1&quot;\r\n&gt;              headerValue=&quot;Please Select a Language&quot;/&gt;\r\n\r\nThen an `&lt;sj:select /&gt;` with both `emptyOption` and `autocomplete` set to `true` could be the replacement for the dynamic selectbox `&lt;sj:autocompleter /&gt;` you are looking for.\r\n\r\nFeel free to run [this example too][3], that appears to work out of the box.\r\n\r\n  [1]: https://groups.google.com/d/msg/struts2-jquery/s0F9_oFYLRQ/t97PzO4xBlgJ\r\n  [2]: http://code.google.com/p/struts2-jquery/issues/detail?id=488#c4\r\n  [3]: https://stackoverflow.com/a/14186003/1654265","title":"Struts2 JQuery Plugin AutoCompleter does not work when selectBox=&quot;true&quot; attribute is added","body":"<p>+1 because I see you've <a href=\"https://groups.google.com/d/msg/struts2-jquery/s0F9_oFYLRQ/t97PzO4xBlgJ\" rel=\"nofollow noreferrer\">already posted on the relative Google Group</a>... but, if the things are not changed meanwhile, according to <a href=\"http://code.google.com/p/struts2-jquery/issues/detail?id=488#c4\" rel=\"nofollow noreferrer\">this (pretty old, but still open JIRA) comment</a> by the plugin author:</p>\n\n<blockquote>\n  <p><strong>The autocompleter with selectBox is working with an static list. In\n  your use case you should use the <code>&lt;sj:select /&gt;</code> tag with\n  autocomplete=\"true\" instead.</strong> </p>\n\n<pre><code>&lt;s:url id=\"remoteurl\" action=\"jsonsample\"/&gt; \n&lt;sj:select\n         href=\"%{remoteurl}\"\n         autocomplete=\"true\"\n         id=\"echo3\"\n         name=\"echo\"\n         list=\"languageObjList\"\n         listKey=\"myKey\"\n         listValue=\"myValue\"\n         emptyOption=\"true\"\n         headerKey=\"-1\"\n         headerValue=\"Please Select a Language\"/&gt;\n</code></pre>\n</blockquote>\n\n<p>Then an <code>&lt;sj:select /&gt;</code> with both <code>emptyOption</code> and <code>autocomplete</code> set to <code>true</code> could be the replacement for the dynamic selectbox <code>&lt;sj:autocompleter /&gt;</code> you are looking for.</p>\n\n<p>Feel free to run <a href=\"https://stackoverflow.com/a/14186003/1654265\">this example too</a>, that appears to work out of the box.</p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701423744,"creation_date":1387447539,"answer_id":20678613,"question_id":20669695,"body_markdown":"The Struts2 jQuery [`&lt;sj:autocompleter&gt;`][1] widget with the `selectBox=true` enabled to be able to work correctly shouldn&#39;t load data remotely.  In other words the attribute `href=&quot;%{countrylist}&quot;` is a culprit of the select box is not working. These two attributes are mutually exclusive. You have to choose between two options either you use a `autocompleter` as input box with remote data or as select box but without loading data remotely, because it&#39;s loaded from the `valueStack` as a normal `select` tag. \r\n\r\nYou can supplement a select box with `selectBoxIcon=&quot;true&quot;` to make the widget appear smoothly or use a corresponding jQuery theme in the header tag.  \r\n\r\nTry it\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;sj:autocompleter selectBox=&quot;true&quot; selectBoxIcon=&quot;true&quot; list=&quot;lstcountry&quot;\r\n        listKey=&quot;idcountry&quot; listValue=&quot;countryname&quot; label=&quot;Country&quot;\r\n        name=&quot;idcountry&quot; /&gt; \r\n\r\nAn [example][2] from the struts2 jQuery plugin wiki page. \r\n  \r\n\r\n  [1]: https://github.com/struts-community-plugins/struts2-jquery/wiki/AutocompleterTag\r\n  [2]: https://github.com/struts-community-plugins/struts2-jquery/wiki/AutocompleterTag#autocompleter-as-a-select-box","title":"Struts2 JQuery Plugin AutoCompleter does not work when selectBox=&quot;true&quot; attribute is added","body":"<p>The Struts2 jQuery <a href=\"https://github.com/struts-community-plugins/struts2-jquery/wiki/AutocompleterTag\" rel=\"nofollow noreferrer\"><code>&lt;sj:autocompleter&gt;</code></a> widget with the <code>selectBox=true</code> enabled to be able to work correctly shouldn't load data remotely.  In other words the attribute <code>href=&quot;%{countrylist}&quot;</code> is a culprit of the select box is not working. These two attributes are mutually exclusive. You have to choose between two options either you use a <code>autocompleter</code> as input box with remote data or as select box but without loading data remotely, because it's loaded from the <code>valueStack</code> as a normal <code>select</code> tag.</p>\n<p>You can supplement a select box with <code>selectBoxIcon=&quot;true&quot;</code> to make the widget appear smoothly or use a corresponding jQuery theme in the header tag.</p>\n<p>Try it</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;sj:autocompleter selectBox=&quot;true&quot; selectBoxIcon=&quot;true&quot; list=&quot;lstcountry&quot;\n    listKey=&quot;idcountry&quot; listValue=&quot;countryname&quot; label=&quot;Country&quot;\n    name=&quot;idcountry&quot; /&gt; \n</code></pre>\n<p>An <a href=\"https://github.com/struts-community-plugins/struts2-jquery/wiki/AutocompleterTag#autocompleter-as-a-select-box\" rel=\"nofollow noreferrer\">example</a> from the struts2 jQuery plugin wiki page.</p>\n"}],"owner":{"account_id":182665,"reputation":851,"user_id":417541,"accept_rate":42,"display_name":"Do Will"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1082,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":20678613,"answer_count":2,"score":3,"last_activity_date":1701423744,"creation_date":1387405345,"question_id":20669695,"body_markdown":"Works (Loads the list fine): \r\n\r\n    &lt;s:url id=&quot;countrylist&quot; action=&quot;lstcountryaction&quot; /&gt;\r\n    &lt;sj:autocompleter list=&quot;lstcountry&quot;\r\n        listKey=&quot;idcountry&quot; listValue=&quot;countryname&quot; label=&quot;Country&quot;\r\n        href=&quot;%{countrylist}&quot; name=&quot;idcountry&quot; /&gt;\r\n\r\nDoesn&#39;t work (Nothing is loaded. No call is made to the action) :\r\n\r\n    &lt;s:url id=&quot;countrylist&quot; action=&quot;lstcountryaction&quot; /&gt;\r\n    &lt;sj:autocompleter selectBox=&quot;true&quot; list=&quot;lstcountry&quot;\r\n        listKey=&quot;idcountry&quot; listValue=&quot;countryname&quot; label=&quot;Country&quot;\r\n        href=&quot;%{countrylist}&quot; name=&quot;idcountry&quot; /&gt;\r\n\r\n\r\nOnly difference is that the `selectBox` attribute is added. What am I missing? I am using Struts 2.3.15 and Struts2 JQuery Plugin 3.6.1 (which are both fairly recent).\r\n\r\n\r\nThanks !!\r\n","title":"Struts2 JQuery Plugin AutoCompleter does not work when selectBox=&quot;true&quot; attribute is added","body":"<p>Works (Loads the list fine): </p>\n\n<pre><code>&lt;s:url id=\"countrylist\" action=\"lstcountryaction\" /&gt;\n&lt;sj:autocompleter list=\"lstcountry\"\n    listKey=\"idcountry\" listValue=\"countryname\" label=\"Country\"\n    href=\"%{countrylist}\" name=\"idcountry\" /&gt;\n</code></pre>\n\n<p>Doesn't work (Nothing is loaded. No call is made to the action) :</p>\n\n<pre><code>&lt;s:url id=\"countrylist\" action=\"lstcountryaction\" /&gt;\n&lt;sj:autocompleter selectBox=\"true\" list=\"lstcountry\"\n    listKey=\"idcountry\" listValue=\"countryname\" label=\"Country\"\n    href=\"%{countrylist}\" name=\"idcountry\" /&gt;\n</code></pre>\n\n<p>Only difference is that the <code>selectBox</code> attribute is added. What am I missing? I am using Struts 2.3.15 and Struts2 JQuery Plugin 3.6.1 (which are both fairly recent).</p>\n\n<p>Thanks !!</p>\n"},{"tags":["java","spring","spring-boot","caching","cache-expiration"],"answers":[{"tags":[],"owner":{"account_id":14803792,"reputation":1246,"user_id":10691359,"display_name":"Pilpo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1631604063,"creation_date":1631603779,"answer_id":69173397,"question_id":69169170,"body_markdown":"As said in the [Spring documentation][1], there is no TTL for the default cache system of Spring.\r\n\r\n&gt; 8.7. How can I Set the TTL/TTI/Eviction policy/XXX feature?\r\n\r\n&gt; Directly through your cache provider. The cache abstraction is an\r\n&gt; abstraction, not a cache implementation. The solution you use might\r\n&gt; support various data policies and different topologies that other\r\n&gt; solutions do not support (for example, the JDK\r\n&gt; ConcurrentHashMap — exposing that in the cache abstraction would be\r\n&gt; useless because there would no backing support). Such functionality\r\n&gt; should be controlled directly through the backing cache (when\r\n&gt; configuring it) or through its native API\r\n\r\nYou&#39;ll have to use an other cache provider like `Redis` or `Gemfire` if you want a `TTL` configuration.\r\n\r\nAn example of how to use `TTL` with `Redis` is available [here][2].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-specific-config\r\n  [2]: https://stackoverflow.com/a/60561141/10691359","title":"How to set expiration for @Cacheable in Spring Boot?","body":"<p>As said in the <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-specific-config\" rel=\"nofollow noreferrer\">Spring documentation</a>, there is no TTL for the default cache system of Spring.</p>\n<blockquote>\n<p>8.7. How can I Set the TTL/TTI/Eviction policy/XXX feature?</p>\n</blockquote>\n<blockquote>\n<p>Directly through your cache provider. The cache abstraction is an\nabstraction, not a cache implementation. The solution you use might\nsupport various data policies and different topologies that other\nsolutions do not support (for example, the JDK\nConcurrentHashMap — exposing that in the cache abstraction would be\nuseless because there would no backing support). Such functionality\nshould be controlled directly through the backing cache (when\nconfiguring it) or through its native API</p>\n</blockquote>\n<p>You'll have to use an other cache provider like <code>Redis</code> or <code>Gemfire</code> if you want a <code>TTL</code> configuration.</p>\n<p>An example of how to use <code>TTL</code> with <code>Redis</code> is available <a href=\"https://stackoverflow.com/a/60561141/10691359\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":20475886,"reputation":1,"user_id":15025240,"display_name":"Ferhat C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701423479,"creation_date":1701423479,"answer_id":77584250,"question_id":69169170,"body_markdown":"You can solve it with a `LocalDateTime` object. For example:\r\n\r\n    @Cacheable(value=&quot;forecast&quot;, key = &quot;#date.toString()&quot;)\r\n    public void forecast(LocalDate date){\r\n        //\r\n    }\r\n    public void call(){\r\n        forecast(LocalDate.now());\r\n    }\r\n\r\nCache will expire after 1 day.\r\n\r\nPositive aspect - it does not require a scheduled job.\r\n\r\nNegative aspect - old data remains cached.\r\n","title":"How to set expiration for @Cacheable in Spring Boot?","body":"<p>You can solve it with a <code>LocalDateTime</code> object. For example:</p>\n<pre><code>@Cacheable(value=&quot;forecast&quot;, key = &quot;#date.toString()&quot;)\npublic void forecast(LocalDate date){\n    //\n}\npublic void call(){\n    forecast(LocalDate.now());\n}\n</code></pre>\n<p>Cache will expire after 1 day.</p>\n<p>Positive aspect - it does not require a scheduled job.</p>\n<p>Negative aspect - old data remains cached.</p>\n"}],"owner":{"display_name":"user16409822"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5885,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69173397,"answer_count":2,"score":0,"last_activity_date":1701423479,"creation_date":1631567670,"question_id":69169170,"body_markdown":"I have the following cache implementation in a Spring Boot app and it is working without any problem. However, I want to define expiration for this approach. Is it possible to set expiration for `@Cacheable`? \r\n\r\nI look at **[Expiry time `@Cacheable` spring boot](https://stackoverflow.com/questions/27968157/expiry-time-cacheable-spring-boot)** and there is not seem to be a direct way for `@Cacheable`. Is it possible via a smart approach?\r\n\r\n\r\n```\r\n@Configuration\r\n@EnableCaching\r\npublic class CachingConfig {\r\n\r\n    @Bean\r\n    public CacheManager cacheManager() {\r\n        return new ConcurrentMapCacheManager();\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Component\r\npublic class SimpleCacheCustomizer \r\n  implements CacheManagerCustomizer&lt;ConcurrentMapCacheManager&gt; {\r\n\r\n    @Override\r\n    public void customize(ConcurrentMapCacheManager cacheManager) {\r\n        cacheManager.setCacheNames(asList(&quot;users&quot;));\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Cacheable(&quot;users&quot;)\r\npublic List&lt;User&gt; getUsers(UUID id) {...}\r\n```\r\n","title":"How to set expiration for @Cacheable in Spring Boot?","body":"<p>I have the following cache implementation in a Spring Boot app and it is working without any problem. However, I want to define expiration for this approach. Is it possible to set expiration for <code>@Cacheable</code>?</p>\n<p>I look at <strong><a href=\"https://stackoverflow.com/questions/27968157/expiry-time-cacheable-spring-boot\">Expiry time <code>@Cacheable</code> spring boot</a></strong> and there is not seem to be a direct way for <code>@Cacheable</code>. Is it possible via a smart approach?</p>\n<pre><code>@Configuration\n@EnableCaching\npublic class CachingConfig {\n\n    @Bean\n    public CacheManager cacheManager() {\n        return new ConcurrentMapCacheManager();\n    }\n}\n</code></pre>\n<pre><code>@Component\npublic class SimpleCacheCustomizer \n  implements CacheManagerCustomizer&lt;ConcurrentMapCacheManager&gt; {\n\n    @Override\n    public void customize(ConcurrentMapCacheManager cacheManager) {\n        cacheManager.setCacheNames(asList(&quot;users&quot;));\n    }\n}\n</code></pre>\n<pre><code>@Cacheable(&quot;users&quot;)\npublic List&lt;User&gt; getUsers(UUID id) {...}\n</code></pre>\n"},{"tags":["java","keycloak"],"owner":{"account_id":143734,"reputation":749,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1701423400,"creation_date":1701423400,"question_id":77584245,"body_markdown":"Using deprecated &#39;credentials&#39; format in JSON representation error shown during Keycloak user creation in 23.0.x. The error mentions CredentialRepresentation.getHashIterations() as null, but the above field is deprecated and there is no way to set the attribute.\r\n\r\n    2023-12-01 15:03:36,761 WARN  [org.keycloak.models.utils.RepresentationToModel] (executor-thread-8) Using deprecated &#39;credentials&#39; format in JSON representation for user &#39;Sapil&#39;. It will be removed in future versions\r\n    2023-12-01 15:03:36,762 ERROR [org.keycloak.services.error.KeycloakErrorHandler] (executor-thread-8) Uncaught server error: java.lang.NullPointerException: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because the return value of &quot;org.keycloak.representations.idm.CredentialRepresentation.getHashIterations()&quot; is null\r\n    \tat org.keycloak.models.utils.RepresentationToModel.convertDeprecatedCredentialsFormat(RepresentationToModel.java:225)\r\n    \tat org.keycloak.models.utils.RepresentationToModel.createCredentials(RepresentationToModel.java:734)\r\n    \tat org.keycloak.services.resources.admin.UsersResource.createUser(UsersResource.java:171)\r\n    \tat org.keycloak.services.resources.admin.UsersResource$quarkusrestinvoker$createUser_4d0cc20e069446c6d13766369a6d45d05b869eef.invoke(Unknown Source)\r\n    \tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\r\n    \tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\r\n    \tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:145)\r\n    \tat io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:576)\r\n    \tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2513)\r\n    \tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1538)\r\n    \tat org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\r\n    \tat org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:1623)\r\n\r\n","title":"Using deprecated &#39;credentials&#39; format in JSON representation error shown during Keycloak user creation","body":"<p>Using deprecated 'credentials' format in JSON representation error shown during Keycloak user creation in 23.0.x. The error mentions CredentialRepresentation.getHashIterations() as null, but the above field is deprecated and there is no way to set the attribute.</p>\n<pre><code>2023-12-01 15:03:36,761 WARN  [org.keycloak.models.utils.RepresentationToModel] (executor-thread-8) Using deprecated 'credentials' format in JSON representation for user 'Sapil'. It will be removed in future versions\n2023-12-01 15:03:36,762 ERROR [org.keycloak.services.error.KeycloakErrorHandler] (executor-thread-8) Uncaught server error: java.lang.NullPointerException: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because the return value of &quot;org.keycloak.representations.idm.CredentialRepresentation.getHashIterations()&quot; is null\n    at org.keycloak.models.utils.RepresentationToModel.convertDeprecatedCredentialsFormat(RepresentationToModel.java:225)\n    at org.keycloak.models.utils.RepresentationToModel.createCredentials(RepresentationToModel.java:734)\n    at org.keycloak.services.resources.admin.UsersResource.createUser(UsersResource.java:171)\n    at org.keycloak.services.resources.admin.UsersResource$quarkusrestinvoker$createUser_4d0cc20e069446c6d13766369a6d45d05b869eef.invoke(Unknown Source)\n    at org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\n    at io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\n    at org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:145)\n    at io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:576)\n    at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2513)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1538)\n    at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\n    at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:1623)\n</code></pre>\n"},{"tags":["java","java-stream","collectors","java-16"],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73027,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":84,"is_accepted":true,"score":84,"last_activity_date":1612097196,"creation_date":1612022653,"answer_id":65970114,"question_id":65969919,"body_markdown":"One difference is that `Stream.toList()` provides a `List` implementation that is immutable (type `ImmutableCollections.ListN` that cannot be added to or sorted) similar to that provided by `List.of()` and in contrast to the mutable (can be changed and sorted) `ArrayList` provided by `Stream.collect(Collectors.toList())`. \r\n\r\n**Demo:**\r\n\r\n    import java.util.stream.Stream;\r\n    import java.util.List;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n        \tList&lt;String&gt; list = Stream.of(&quot;Hello&quot;).toList();\r\n            System.out.println(list);\r\n            list.add(&quot;Hi&quot;);\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    [Hello]\r\n    Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException\r\n    \tat java.base/java.util.ImmutableCollections.uoe(ImmutableCollections.java:142)\r\n    \tat java.base/java.util.ImmutableCollections$AbstractImmutableCollection.add(ImmutableCollections.java:147)\r\n    \tat Main.main(Main.java:8)\r\n\r\nPlease check [this article][1] for more details.\r\n\r\n## Update:\r\n\r\nInterestingly, `Stream.toList()` returns a `null`s-containing list successfully.\r\n\r\n    import java.util.stream.Stream;\r\n    import java.util.List;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n        \tList&lt;Object&gt; list = Stream.of(null, null).toList();\r\n            System.out.println(list);\r\n        }\r\n    }\r\n**Output:**\r\n\r\n    [null, null]\r\nOn the other hand, `List.of(null, null)` throws `NullPointerException`.\r\n\r\n    import java.util.List;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tList&lt;Object&gt; list = List.of(null, null);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n    \tat java.base/java.util.Objects.requireNonNull(Objects.java:208)\r\n    \tat java.base/java.util.ImmutableCollections$List12.&lt;init&gt;(ImmutableCollections.java:453)\r\n    \tat java.base/java.util.List.of(List.java:827)\r\n    \tat Main.main(Main.java:5)\r\n\r\n**Note:** I&#39;ve used ***openjdk-16-ea+34_osx-x64*** to compile and execute the Java SE 16 code.\r\n\r\n**Useful resources:**\r\n\r\n 1. JDK Bug#[JDK-8180352][2]\r\n 2. https://stackoverflow.com/questions/4028059/calling-java-varargs-method-with-single-null-argument\r\n\r\n\r\n  [1]: https://www.javacodegeeks.com/2020/12/jdk-16-stream-to-list-in-one-easy-call.html\r\n  [2]: https://bugs.openjdk.java.net/browse/JDK-8180352","title":"Differences of Java 16&#39;s Stream.toList() and Stream.collect(Collectors.toList())?","body":"<p>One difference is that <code>Stream.toList()</code> provides a <code>List</code> implementation that is immutable (type <code>ImmutableCollections.ListN</code> that cannot be added to or sorted) similar to that provided by <code>List.of()</code> and in contrast to the mutable (can be changed and sorted) <code>ArrayList</code> provided by <code>Stream.collect(Collectors.toList())</code>.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.util.stream.Stream;\nimport java.util.List;\n\npublic class Main {\n    public static void main(String[] args) {\n        List&lt;String&gt; list = Stream.of(&quot;Hello&quot;).toList();\n        System.out.println(list);\n        list.add(&quot;Hi&quot;);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>[Hello]\nException in thread &quot;main&quot; java.lang.UnsupportedOperationException\n    at java.base/java.util.ImmutableCollections.uoe(ImmutableCollections.java:142)\n    at java.base/java.util.ImmutableCollections$AbstractImmutableCollection.add(ImmutableCollections.java:147)\n    at Main.main(Main.java:8)\n</code></pre>\n<p>Please check <a href=\"https://www.javacodegeeks.com/2020/12/jdk-16-stream-to-list-in-one-easy-call.html\" rel=\"noreferrer\">this article</a> for more details.</p>\n<h2>Update:</h2>\n<p>Interestingly, <code>Stream.toList()</code> returns a <code>null</code>s-containing list successfully.</p>\n<pre><code>import java.util.stream.Stream;\nimport java.util.List;\n\npublic class Main {\n    public static void main(String[] args) {\n        List&lt;Object&gt; list = Stream.of(null, null).toList();\n        System.out.println(list);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>[null, null]\n</code></pre>\n<p>On the other hand, <code>List.of(null, null)</code> throws <code>NullPointerException</code>.</p>\n<pre><code>import java.util.List;\n\npublic class Main {\n    public static void main(String[] args) {\n        List&lt;Object&gt; list = List.of(null, null);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException\n    at java.base/java.util.Objects.requireNonNull(Objects.java:208)\n    at java.base/java.util.ImmutableCollections$List12.&lt;init&gt;(ImmutableCollections.java:453)\n    at java.base/java.util.List.of(List.java:827)\n    at Main.main(Main.java:5)\n</code></pre>\n<p><strong>Note:</strong> I've used <em><strong>openjdk-16-ea+34_osx-x64</strong></em> to compile and execute the Java SE 16 code.</p>\n<p><strong>Useful resources:</strong></p>\n<ol>\n<li>JDK Bug#<a href=\"https://bugs.openjdk.java.net/browse/JDK-8180352\" rel=\"noreferrer\">JDK-8180352</a></li>\n<li><a href=\"https://stackoverflow.com/questions/4028059/calling-java-varargs-method-with-single-null-argument\">Calling Java varargs method with single null argument?</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1699502455,"creation_date":1612178855,"answer_id":65991907,"question_id":65969919,"body_markdown":"Here is a small table that summarizes the differences between `Stream.collect(Collectors.toList())`, `Stream.collect(Collectors.toUnmodifiableList())` and `Stream.toList()`:\r\n\r\n| Method | Guarantees unmodifiability | Allows nulls | Since\r\n|--------|----------------------------|--------------|------\r\n| `collect(toList())`             | No  | Yes | Java 8\r\n| `collect(toUnmodifiableList())` | Yes | No | Java 10\r\n| `toList()`                      | Yes | Yes | Java 16\r\n\r\nAnother small difference:\r\n\r\n    // Compiles\r\n    List&lt;CharSequence&gt; list = Stream.of(&quot;hello&quot;, &quot;world&quot;).collect(toList());\r\n\r\n    // Error\r\n    List&lt;CharSequence&gt; list = Stream.of(&quot;hello&quot;, &quot;world&quot;).toList();","title":"Differences of Java 16&#39;s Stream.toList() and Stream.collect(Collectors.toList())?","body":"<p>Here is a small table that summarizes the differences between <code>Stream.collect(Collectors.toList())</code>, <code>Stream.collect(Collectors.toUnmodifiableList())</code> and <code>Stream.toList()</code>:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Method</th>\n<th>Guarantees unmodifiability</th>\n<th>Allows nulls</th>\n<th>Since</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>collect(toList())</code></td>\n<td>No</td>\n<td>Yes</td>\n<td>Java 8</td>\n</tr>\n<tr>\n<td><code>collect(toUnmodifiableList())</code></td>\n<td>Yes</td>\n<td>No</td>\n<td>Java 10</td>\n</tr>\n<tr>\n<td><code>toList()</code></td>\n<td>Yes</td>\n<td>Yes</td>\n<td>Java 16</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Another small difference:</p>\n<pre><code>// Compiles\nList&lt;CharSequence&gt; list = Stream.of(&quot;hello&quot;, &quot;world&quot;).collect(toList());\n\n// Error\nList&lt;CharSequence&gt; list = Stream.of(&quot;hello&quot;, &quot;world&quot;).toList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19004,"reputation":21826,"user_id":44089,"accept_rate":79,"display_name":"Bananeweizen"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1659454957,"creation_date":1659454957,"answer_id":73210273,"question_id":65969919,"body_markdown":"`.collect(toList())` and `toList()` behave **different regarding sub type compatibility of the elements** in the created lists.\r\n\r\nHave a look at the following alternatives:\r\n\r\n* `List&lt;Number&gt; old = Stream.of(0).collect(Collectors.toList());` works fine, although we collect a stream of _Integer_ into a list of _Number_.\r\n* `List&lt;Number&gt; new = Stream.of(0).toList();` is the equivalent Java 16+ version, but it doesn&#39;t compile (`cannot convert from List&lt;Integer&gt; to List&lt;Number&gt;`; at least in ecj, the Eclipse Java compiler).\r\n\r\nThere are at least 2 workarounds to fix the compile error:\r\n* Explicitly cast to the wanted type\r\n`List&lt;Number&gt; fix1 = Stream.of(0).map(Number.class::cast).toList();`\r\n* allow sub types in the result collection:\r\n`List&lt;? extends Number&gt; fix2 = Stream.of(0).toList();`\r\n\r\nTo my understanding the root cause is as follows: The generic type T of the Java 16 `toList()` is the same as the generic type T of the Stream itself. The generic type T of Collectors.toList() however is propagated from the left hand side of the assignment. If those 2 types are different, you may see errors when  replacing all the old calls.","title":"Differences of Java 16&#39;s Stream.toList() and Stream.collect(Collectors.toList())?","body":"<p><code>.collect(toList())</code> and <code>toList()</code> behave <strong>different regarding sub type compatibility of the elements</strong> in the created lists.</p>\n<p>Have a look at the following alternatives:</p>\n<ul>\n<li><code>List&lt;Number&gt; old = Stream.of(0).collect(Collectors.toList());</code> works fine, although we collect a stream of <em>Integer</em> into a list of <em>Number</em>.</li>\n<li><code>List&lt;Number&gt; new = Stream.of(0).toList();</code> is the equivalent Java 16+ version, but it doesn't compile (<code>cannot convert from List&lt;Integer&gt; to List&lt;Number&gt;</code>; at least in ecj, the Eclipse Java compiler).</li>\n</ul>\n<p>There are at least 2 workarounds to fix the compile error:</p>\n<ul>\n<li>Explicitly cast to the wanted type\n<code>List&lt;Number&gt; fix1 = Stream.of(0).map(Number.class::cast).toList();</code></li>\n<li>allow sub types in the result collection:\n<code>List&lt;? extends Number&gt; fix2 = Stream.of(0).toList();</code></li>\n</ul>\n<p>To my understanding the root cause is as follows: The generic type T of the Java 16 <code>toList()</code> is the same as the generic type T of the Stream itself. The generic type T of Collectors.toList() however is propagated from the left hand side of the assignment. If those 2 types are different, you may see errors when  replacing all the old calls.</p>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701423281,"creation_date":1701423281,"answer_id":77584226,"question_id":65969919,"body_markdown":"They differ in what they can process related to inheritance. \r\n\r\nThis answer really expands [this one](https://stackoverflow.com/a/73210273/1059372), since it will be too long for a comment. \r\n\r\nSuppose there are two classes:\r\n\r\n```\r\nstatic class Animal {\r\n\r\n}\r\n\r\nstatic class Dog extends Animal {\r\n\r\n}\r\n```\r\n\r\n\r\nAnd such a method:\r\n\r\n```\r\nList&lt;Animal&gt; test(List&lt;Dog&gt; dogs) {\r\n\r\n\tStream&lt;Dog&gt; stream = dogs.stream();\r\n\tCollector&lt;Animal, ?, List&lt;Animal&gt;&gt; collector = Collectors.toList();\r\n\r\n\tList&lt;Animal&gt; animals = stream.collect(collector);\r\n\r\n\treturn animals;\r\n}\r\n```\r\n\r\nNotice a few probably obvious things: \r\n\r\n- `stream` is of type `Stream&lt;Dog&gt;`. The `Stream.class` is declared as `Stream&lt;T&gt; ... `, so `T` will be inferred to be a `Dog`. \r\n\r\n- `stream::collect`  calls a method that is declared as: `&lt;R, A&gt; R collect(Collector&lt;? super T, A, R&gt; collector);`\r\n\r\nNotice the type: `? extends T`, that is why we can pass a `Collector&lt;Animal, ?, List&lt;Animal&gt;`: the first argument `Animal` is a super type of `T` (`Dog`).\r\n\r\n\r\nThis is kind of logic btw if you think what a collector is supposed to do. It must take some type and produce a `List` of those types (in our case). That &quot;type&quot; in our case is a `Dog` (but at the same time is an `Animal` too). The result from the collector is a `List&lt;Animal&gt;` and you _can_ put dogs in such a `List`. \r\n\r\n---\r\n\r\nThe same thing does not work with `toList`:\r\n\r\n```\r\nList&lt;Animal&gt; test(List&lt;Dog&gt; dogs) {\r\n\tStream&lt;Dog&gt; stream = dogs.stream();\r\n\tList&lt;Animal&gt; animals = stream.toList();\r\n\treturn animals;\r\n}\r\n```\r\n\r\nYou probably understand why already, its because `Stream::toList` is declared as : `default List&lt;T&gt; toList() { ... }` ","title":"Differences of Java 16&#39;s Stream.toList() and Stream.collect(Collectors.toList())?","body":"<p>They differ in what they can process related to inheritance.</p>\n<p>This answer really expands <a href=\"https://stackoverflow.com/a/73210273/1059372\">this one</a>, since it will be too long for a comment.</p>\n<p>Suppose there are two classes:</p>\n<pre><code>static class Animal {\n\n}\n\nstatic class Dog extends Animal {\n\n}\n</code></pre>\n<p>And such a method:</p>\n<pre><code>List&lt;Animal&gt; test(List&lt;Dog&gt; dogs) {\n\n    Stream&lt;Dog&gt; stream = dogs.stream();\n    Collector&lt;Animal, ?, List&lt;Animal&gt;&gt; collector = Collectors.toList();\n\n    List&lt;Animal&gt; animals = stream.collect(collector);\n\n    return animals;\n}\n</code></pre>\n<p>Notice a few probably obvious things:</p>\n<ul>\n<li><p><code>stream</code> is of type <code>Stream&lt;Dog&gt;</code>. The <code>Stream.class</code> is declared as <code>Stream&lt;T&gt; ... </code>, so <code>T</code> will be inferred to be a <code>Dog</code>.</p>\n</li>\n<li><p><code>stream::collect</code>  calls a method that is declared as: <code>&lt;R, A&gt; R collect(Collector&lt;? super T, A, R&gt; collector);</code></p>\n</li>\n</ul>\n<p>Notice the type: <code>? extends T</code>, that is why we can pass a <code>Collector&lt;Animal, ?, List&lt;Animal&gt;</code>: the first argument <code>Animal</code> is a super type of <code>T</code> (<code>Dog</code>).</p>\n<p>This is kind of logic btw if you think what a collector is supposed to do. It must take some type and produce a <code>List</code> of those types (in our case). That &quot;type&quot; in our case is a <code>Dog</code> (but at the same time is an <code>Animal</code> too). The result from the collector is a <code>List&lt;Animal&gt;</code> and you <em>can</em> put dogs in such a <code>List</code>.</p>\n<hr />\n<p>The same thing does not work with <code>toList</code>:</p>\n<pre><code>List&lt;Animal&gt; test(List&lt;Dog&gt; dogs) {\n    Stream&lt;Dog&gt; stream = dogs.stream();\n    List&lt;Animal&gt; animals = stream.toList();\n    return animals;\n}\n</code></pre>\n<p>You probably understand why already, its because <code>Stream::toList</code> is declared as : <code>default List&lt;T&gt; toList() { ... }</code></p>\n"}],"owner":{"account_id":39208,"reputation":251211,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52091,"favorite_count":0,"down_vote_count":0,"up_vote_count":86,"accepted_answer_id":65970114,"answer_count":4,"score":86,"last_activity_date":1701423281,"creation_date":1612021489,"question_id":65969919,"body_markdown":"[JDK 16 now includes a `toList()` method directly on `Stream` instances](https://bugs.openjdk.java.net/browse/JDK-8180352). In previous Java versions, you always had to use the `collect` method and provide a `Collector` instance.\r\n\r\nThe new method is obviously fewer characters to type. Are both methods interchangeable or are there subtle differences one should be aware of?\r\n\r\n\r\n    var newList = someCollection.stream()\r\n        .map(x -&gt; mapX(x))\r\n        .filter(x -&gt; filterX(x))\r\n        .toList();\r\n    \r\n    // vs.\r\n    \r\n    var oldList = someCollection.stream()\r\n        .map(x -&gt; mapX(x))\r\n        .filter(x -&gt; filterX(x))\r\n        .collect(Collectors.toList());\r\n\r\n\r\n(This question is similar to &lt;https://stackoverflow.com/questions/65741773/would-stream-tolist-perform-better-than-collectors-tolist&gt;, but focused on behavior and not (only) on performance.)","title":"Differences of Java 16&#39;s Stream.toList() and Stream.collect(Collectors.toList())?","body":"<p><a href=\"https://bugs.openjdk.java.net/browse/JDK-8180352\" rel=\"noreferrer\">JDK 16 now includes a <code>toList()</code> method directly on <code>Stream</code> instances</a>. In previous Java versions, you always had to use the <code>collect</code> method and provide a <code>Collector</code> instance.</p>\n<p>The new method is obviously fewer characters to type. Are both methods interchangeable or are there subtle differences one should be aware of?</p>\n<pre><code>var newList = someCollection.stream()\n    .map(x -&gt; mapX(x))\n    .filter(x -&gt; filterX(x))\n    .toList();\n\n// vs.\n\nvar oldList = someCollection.stream()\n    .map(x -&gt; mapX(x))\n    .filter(x -&gt; filterX(x))\n    .collect(Collectors.toList());\n</code></pre>\n<p>(This question is similar to <a href=\"https://stackoverflow.com/questions/65741773/would-stream-tolist-perform-better-than-collectors-tolist\">Would Stream.toList() perform better than Collectors.toList()</a>, but focused on behavior and not (only) on performance.)</p>\n"},{"tags":["java","architecture","amazon-rds","spring-jdbc","amazon-iam"],"comments":[{"owner":{"account_id":5534047,"reputation":711,"user_id":5277048,"accept_rate":50,"display_name":"Gauzy"},"score":1,"creation_date":1529511758,"post_id":50847945,"comment_id":88903408,"body_markdown":"Anybody? I can&#39;t be the first one trying to do this...","body":"Anybody? I can&#39;t be the first one trying to do this..."}],"answers":[{"tags":[],"owner":{"account_id":1885290,"reputation":3234,"user_id":1704634,"display_name":"blagerweij"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1613463819,"creation_date":1529929769,"answer_id":51023536,"question_id":50847945,"body_markdown":"You can use the following snippet as a replacement for the default connection-pool provided by SpringBoot/Tomcat. It will refresh the token password every 10 minutes, since the token is valid for 15 minutes. Also, it assumes the region can be extracted from the DNS hostname. If this is not the case, you&#39;ll need to specify the region to use.\r\n\r\n    public class RdsIamAuthDataSource extends org.apache.tomcat.jdbc.pool.DataSource {\r\n\r\n    private static final Logger LOG = LoggerFactory.getLogger(RdsIamAuthDataSource.class);\r\n\r\n    /**\r\n     * The Java KeyStore (JKS) file that contains the Amazon root CAs\r\n     */\r\n    public static final String RDS_CACERTS = &quot;/rds-cacerts&quot;;\r\n    /**\r\n     * Password for the ca-certs file.\r\n     */\r\n    public static final String PASSWORD = &quot;changeit&quot;;\r\n    public static final int DEFAULT_PORT = 3306;\r\n\r\n    @Override\r\n    public ConnectionPool createPool() throws SQLException {\r\n        return pool != null ? pool : createPoolImpl();\r\n    }\r\n\r\n    protected synchronized ConnectionPool createPoolImpl() throws SQLException {\r\n        return pool = new RdsIamAuthConnectionPool(poolProperties);\r\n    }\r\n\r\n    public static class RdsIamAuthConnectionPool extends ConnectionPool implements Runnable {\r\n\r\n        private RdsIamAuthTokenGenerator rdsIamAuthTokenGenerator;\r\n        private String host;\r\n        private String region;\r\n        private int port;\r\n        private String username;\r\n        private Thread tokenThread;\r\n\r\n        public RdsIamAuthConnectionPool(PoolConfiguration prop) throws SQLException {\r\n            super(prop);\r\n        }\r\n\r\n        @Override\r\n        protected void init(PoolConfiguration prop) throws SQLException {\r\n            try {\r\n                URI uri = new URI(prop.getUrl().substring(5));\r\n                this.host = uri.getHost();\r\n                this.port = uri.getPort();\r\n                if (this.port &lt; 0) {\r\n                    this.port = DEFAULT_PORT;\r\n                }\r\n                this.region = StringUtils.split(this.host,&#39;.&#39;)[2]; // extract region from rds hostname\r\n                this.username = prop.getUsername();\r\n                this.rdsIamAuthTokenGenerator = RdsIamAuthTokenGenerator.builder().credentials(new DefaultAWSCredentialsProviderChain()).region(this.region).build();\r\n                updatePassword(prop);\r\n                final Properties props = prop.getDbProperties();\r\n                props.setProperty(&quot;useSSL&quot;,&quot;true&quot;);\r\n                props.setProperty(&quot;requireSSL&quot;,&quot;true&quot;);\r\n                props.setProperty(&quot;trustCertificateKeyStoreUrl&quot;,getClass().getResource(RDS_CACERTS).toString());\r\n                props.setProperty(&quot;trustCertificateKeyStorePassword&quot;, PASSWORD);\r\n                super.init(prop);\r\n                this.tokenThread = new Thread(this, &quot;RdsIamAuthDataSourceTokenThread&quot;);\r\n                this.tokenThread.setDaemon(true);\r\n                this.tokenThread.start();\r\n            } catch (URISyntaxException e) {\r\n                throw new RuntimeException(e.getMessage());\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                while (this.tokenThread != null) {\r\n                    Thread.sleep(10 * 60 * 1000); // wait for 10 minutes, then recreate the token\r\n                    updatePassword(getPoolProperties());\r\n                }\r\n            } catch (InterruptedException e) {\r\n                LOG.debug(&quot;Background token thread interrupted&quot;);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        protected void close(boolean force) {\r\n            super.close(force);\r\n            Thread t = tokenThread;\r\n            tokenThread = null;\r\n            if (t != null) {\r\n                t.interrupt();\r\n            }\r\n        }\r\n\r\n        private void updatePassword(PoolConfiguration props) {\r\n            String token = rdsIamAuthTokenGenerator.getAuthToken(GetIamAuthTokenRequest.builder().hostname(host).port(port).userName(this.username).build());\r\n            LOG.debug(&quot;Updated IAM token for connection pool&quot;);\r\n            props.setPassword(token);\r\n        }\r\n    }\r\n    }\r\n\r\nPlease note that you&#39;ll need to import Amazon&#39;s root/intermediate certificates to establish a trusted connection. The example code above assumes that the certificates have been imported into a file called &#39;rds-cacert&#39; and is available on the classpath. Alternatively, you can also import them into the JVM &#39;cacerts&#39; file.\r\n\r\nTo use this data-source, you can use the following properties for Spring:\r\n\r\n    datasource:\r\n      url: jdbc:mysql://dbhost.xyz123abc.us-east-1.rds.amazonaws.com/dbname\r\n      username: iam_app_user\r\n      driver-class-name: com.mysql.cj.jdbc.Driver\r\n      type: com.mydomain.jdbc.RdsIamAuthDataSource\r\n\r\nUsing Spring Java config:\r\n\r\n    @Bean public DataSource dataSource() { \r\n        PoolConfiguration props = new PoolProperties(); \r\n        props.setUrl(&quot;jdbc:mysql://dbname.abc123xyz.us-east-1.rds.amazonaws.com/dbschema&quot;); \r\n        props.setUsername(&quot;iam_dbuser_app&quot;); \r\n        props.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;); \r\n        return new RdsIamAuthDataSource(props); \r\n    }\r\n\r\n*UPDATE*: When using MySQL, you can also decide to use the MariaDB JDBC driver, which has builtin support for IAM authentication:\r\n\r\n```\r\nspring:\r\n  datasource:\r\n    host: dbhost.cluster-xxx.eu-west-1.rds.amazonaws.com\r\n    url: jdbc:mariadb:aurora//${spring.datasource.host}/db?user=xxx&amp;credentialType=AWS-IAM&amp;useSsl&amp;serverSslCert=classpath:rds-combined-ca-bundle.pem\r\n    type: org.mariadb.jdbc.MariaDbPoolDataSource\r\n```\r\nThe above requires MariaDB and AWS SDK libraries, and needs the CA-bundle in the classpath","title":"Accessing AWS RDS using IAM Authentication and Spring JDBC (DataSource and JdbcTemplace)","body":"<p>You can use the following snippet as a replacement for the default connection-pool provided by SpringBoot/Tomcat. It will refresh the token password every 10 minutes, since the token is valid for 15 minutes. Also, it assumes the region can be extracted from the DNS hostname. If this is not the case, you'll need to specify the region to use.</p>\n<pre><code>public class RdsIamAuthDataSource extends org.apache.tomcat.jdbc.pool.DataSource {\n\nprivate static final Logger LOG = LoggerFactory.getLogger(RdsIamAuthDataSource.class);\n\n/**\n * The Java KeyStore (JKS) file that contains the Amazon root CAs\n */\npublic static final String RDS_CACERTS = &quot;/rds-cacerts&quot;;\n/**\n * Password for the ca-certs file.\n */\npublic static final String PASSWORD = &quot;changeit&quot;;\npublic static final int DEFAULT_PORT = 3306;\n\n@Override\npublic ConnectionPool createPool() throws SQLException {\n    return pool != null ? pool : createPoolImpl();\n}\n\nprotected synchronized ConnectionPool createPoolImpl() throws SQLException {\n    return pool = new RdsIamAuthConnectionPool(poolProperties);\n}\n\npublic static class RdsIamAuthConnectionPool extends ConnectionPool implements Runnable {\n\n    private RdsIamAuthTokenGenerator rdsIamAuthTokenGenerator;\n    private String host;\n    private String region;\n    private int port;\n    private String username;\n    private Thread tokenThread;\n\n    public RdsIamAuthConnectionPool(PoolConfiguration prop) throws SQLException {\n        super(prop);\n    }\n\n    @Override\n    protected void init(PoolConfiguration prop) throws SQLException {\n        try {\n            URI uri = new URI(prop.getUrl().substring(5));\n            this.host = uri.getHost();\n            this.port = uri.getPort();\n            if (this.port &lt; 0) {\n                this.port = DEFAULT_PORT;\n            }\n            this.region = StringUtils.split(this.host,'.')[2]; // extract region from rds hostname\n            this.username = prop.getUsername();\n            this.rdsIamAuthTokenGenerator = RdsIamAuthTokenGenerator.builder().credentials(new DefaultAWSCredentialsProviderChain()).region(this.region).build();\n            updatePassword(prop);\n            final Properties props = prop.getDbProperties();\n            props.setProperty(&quot;useSSL&quot;,&quot;true&quot;);\n            props.setProperty(&quot;requireSSL&quot;,&quot;true&quot;);\n            props.setProperty(&quot;trustCertificateKeyStoreUrl&quot;,getClass().getResource(RDS_CACERTS).toString());\n            props.setProperty(&quot;trustCertificateKeyStorePassword&quot;, PASSWORD);\n            super.init(prop);\n            this.tokenThread = new Thread(this, &quot;RdsIamAuthDataSourceTokenThread&quot;);\n            this.tokenThread.setDaemon(true);\n            this.tokenThread.start();\n        } catch (URISyntaxException e) {\n            throw new RuntimeException(e.getMessage());\n        }\n    }\n\n    @Override\n    public void run() {\n        try {\n            while (this.tokenThread != null) {\n                Thread.sleep(10 * 60 * 1000); // wait for 10 minutes, then recreate the token\n                updatePassword(getPoolProperties());\n            }\n        } catch (InterruptedException e) {\n            LOG.debug(&quot;Background token thread interrupted&quot;);\n        }\n    }\n\n    @Override\n    protected void close(boolean force) {\n        super.close(force);\n        Thread t = tokenThread;\n        tokenThread = null;\n        if (t != null) {\n            t.interrupt();\n        }\n    }\n\n    private void updatePassword(PoolConfiguration props) {\n        String token = rdsIamAuthTokenGenerator.getAuthToken(GetIamAuthTokenRequest.builder().hostname(host).port(port).userName(this.username).build());\n        LOG.debug(&quot;Updated IAM token for connection pool&quot;);\n        props.setPassword(token);\n    }\n}\n}\n</code></pre>\n<p>Please note that you'll need to import Amazon's root/intermediate certificates to establish a trusted connection. The example code above assumes that the certificates have been imported into a file called 'rds-cacert' and is available on the classpath. Alternatively, you can also import them into the JVM 'cacerts' file.</p>\n<p>To use this data-source, you can use the following properties for Spring:</p>\n<pre><code>datasource:\n  url: jdbc:mysql://dbhost.xyz123abc.us-east-1.rds.amazonaws.com/dbname\n  username: iam_app_user\n  driver-class-name: com.mysql.cj.jdbc.Driver\n  type: com.mydomain.jdbc.RdsIamAuthDataSource\n</code></pre>\n<p>Using Spring Java config:</p>\n<pre><code>@Bean public DataSource dataSource() { \n    PoolConfiguration props = new PoolProperties(); \n    props.setUrl(&quot;jdbc:mysql://dbname.abc123xyz.us-east-1.rds.amazonaws.com/dbschema&quot;); \n    props.setUsername(&quot;iam_dbuser_app&quot;); \n    props.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;); \n    return new RdsIamAuthDataSource(props); \n}\n</code></pre>\n<p><em>UPDATE</em>: When using MySQL, you can also decide to use the MariaDB JDBC driver, which has builtin support for IAM authentication:</p>\n<pre><code>spring:\n  datasource:\n    host: dbhost.cluster-xxx.eu-west-1.rds.amazonaws.com\n    url: jdbc:mariadb:aurora//${spring.datasource.host}/db?user=xxx&amp;credentialType=AWS-IAM&amp;useSsl&amp;serverSslCert=classpath:rds-combined-ca-bundle.pem\n    type: org.mariadb.jdbc.MariaDbPoolDataSource\n</code></pre>\n<p>The above requires MariaDB and AWS SDK libraries, and needs the CA-bundle in the classpath</p>\n"},{"tags":[],"owner":{"account_id":1358805,"reputation":1195,"user_id":1296598,"display_name":"Becca Gaspard"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1683071723,"creation_date":1603221244,"answer_id":64451898,"question_id":50847945,"body_markdown":"**Updated for 2023!**\r\n\r\nThis can now be accomplished even more easily using the [AWS JDBC Driver for MySQL](https://awslabs.github.io/aws-mysql-jdbc/) support for [IAM Database Authentication](https://github.com/awslabs/aws-mysql-jdbc#aws-iam-database-authentication).  I tested out this configuration with Spring Boot 3 &amp; spring-boot-starter-jdbc.\r\n\r\nAdd the following dependencies:\r\n```\r\nruntimeOnly &#39;software.aws.rds:aws-mysql-jdbc:1.1.6&#39;\r\nruntimeOnly &#39;software.amazon.awssdk:rds:2.20.57&#39;\r\n```\r\n\r\nAdd the following to application.yml:\r\n```yaml\r\nspring:\r\n  datasource:\r\n    jdbc-url: jdbc:mysql:aws://yourdbcluster-xxxx.cluster-xxxx.your-region.rds.amazonaws.com:3306/yourdb?useAwsIam=true\r\n    username: iam_username\r\n    #password: dont-need-this\r\n    driver-class-name: software.aws.rds.jdbc.mysql.Driver\r\n```\r\nAnd it should just work!\r\n\r\nThe driver uses the [AWS default credentials provider chain](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials-chain.html) so make sure you have credentials with policy allowing IAM DB access available wherever you are running your app.  If you are also using failover support, make sure to read all the driver documentation on github.  Hope this update helps someone else!\r\n\r\n---\r\n**This is an older method using MariaDB driver - see updates above!*\r\n\r\nI know this is an older question, but after a some searching I found a pretty easy way you can now do this using the MariaDB driver. In version 2.5 they added an [AWS IAM credential plugin](https://mariadb.com/kb/en/mariadb-connector-j-250-release-notes) to the driver. It will handle generating, caching and refreshing the token automatically.  \r\n\r\nI&#39;ve tested using Spring Boot 2.3 with the default HikariCP connection pool and it is working fine for me with these settings:\r\n\r\n```\r\nspring.datasource.url=jdbc:mariadb://host/db?credentialType=AWS-IAM&amp;useSsl&amp;serverSslCert=classpath:rds-combined-ca-bundle.pem\r\nspring.datasource.driver-class-name=org.mariadb.jdbc.Driver\r\nspring.datasource.username=iam_username\r\n#spring.datasource.password=dont-need-this\r\nspring.datasource.hikari.maxLifetime=600000\r\n```\r\n\r\nDownload [rds-combined-ca-bundle.pem](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.SSL.html) and put it in `src/main/resources` so you can connect via SSL.  \r\nYou will need these dependencies on the classpath as well:\r\n\r\n```\r\nruntime &#39;org.mariadb.jdbc:mariadb-java-client&#39;\r\nruntime &#39;com.amazonaws:aws-java-sdk-rds:1.11.880&#39;\r\n```\r\n\r\nThe driver uses the standard `DefaultAWSCredentialsProviderChain` so make sure you have credentials with policy allowing IAM DB access available wherever you are running your app.  \r\n\r\nHope this helps someone else - most examples I found online involved custom code, background threads, etc - but using the new driver feature is much easier!","title":"Accessing AWS RDS using IAM Authentication and Spring JDBC (DataSource and JdbcTemplace)","body":"<p><strong>Updated for 2023!</strong></p>\n<p>This can now be accomplished even more easily using the <a href=\"https://awslabs.github.io/aws-mysql-jdbc/\" rel=\"nofollow noreferrer\">AWS JDBC Driver for MySQL</a> support for <a href=\"https://github.com/awslabs/aws-mysql-jdbc#aws-iam-database-authentication\" rel=\"nofollow noreferrer\">IAM Database Authentication</a>.  I tested out this configuration with Spring Boot 3 &amp; spring-boot-starter-jdbc.</p>\n<p>Add the following dependencies:</p>\n<pre><code>runtimeOnly 'software.aws.rds:aws-mysql-jdbc:1.1.6'\nruntimeOnly 'software.amazon.awssdk:rds:2.20.57'\n</code></pre>\n<p>Add the following to application.yml:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  datasource:\n    jdbc-url: jdbc:mysql:aws://yourdbcluster-xxxx.cluster-xxxx.your-region.rds.amazonaws.com:3306/yourdb?useAwsIam=true\n    username: iam_username\n    #password: dont-need-this\n    driver-class-name: software.aws.rds.jdbc.mysql.Driver\n</code></pre>\n<p>And it should just work!</p>\n<p>The driver uses the <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials-chain.html\" rel=\"nofollow noreferrer\">AWS default credentials provider chain</a> so make sure you have credentials with policy allowing IAM DB access available wherever you are running your app.  If you are also using failover support, make sure to read all the driver documentation on github.  Hope this update helps someone else!</p>\n<hr />\n<p>*<em>This is an older method using MariaDB driver - see updates above!</em></p>\n<p>I know this is an older question, but after a some searching I found a pretty easy way you can now do this using the MariaDB driver. In version 2.5 they added an <a href=\"https://mariadb.com/kb/en/mariadb-connector-j-250-release-notes\" rel=\"nofollow noreferrer\">AWS IAM credential plugin</a> to the driver. It will handle generating, caching and refreshing the token automatically.</p>\n<p>I've tested using Spring Boot 2.3 with the default HikariCP connection pool and it is working fine for me with these settings:</p>\n<pre><code>spring.datasource.url=jdbc:mariadb://host/db?credentialType=AWS-IAM&amp;useSsl&amp;serverSslCert=classpath:rds-combined-ca-bundle.pem\nspring.datasource.driver-class-name=org.mariadb.jdbc.Driver\nspring.datasource.username=iam_username\n#spring.datasource.password=dont-need-this\nspring.datasource.hikari.maxLifetime=600000\n</code></pre>\n<p>Download <a href=\"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.SSL.html\" rel=\"nofollow noreferrer\">rds-combined-ca-bundle.pem</a> and put it in <code>src/main/resources</code> so you can connect via SSL.<br />\nYou will need these dependencies on the classpath as well:</p>\n<pre><code>runtime 'org.mariadb.jdbc:mariadb-java-client'\nruntime 'com.amazonaws:aws-java-sdk-rds:1.11.880'\n</code></pre>\n<p>The driver uses the standard <code>DefaultAWSCredentialsProviderChain</code> so make sure you have credentials with policy allowing IAM DB access available wherever you are running your app.</p>\n<p>Hope this helps someone else - most examples I found online involved custom code, background threads, etc - but using the new driver feature is much easier!</p>\n"},{"tags":[],"owner":{"account_id":4518905,"reputation":1,"user_id":3672833,"display_name":"JohnInJax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701423134,"creation_date":1655578837,"answer_id":72671960,"question_id":50847945,"body_markdown":"There is a library that can make this easy. Effectively you just override the getPassword() method in the HikariDataSource. You use STS to assume the role and send a &quot;password&quot; for that role.\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.volcanolabs&lt;/groupId&gt;\r\n      &lt;artifactId&gt;rds-iam-hikari-datasource&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt; ","title":"Accessing AWS RDS using IAM Authentication and Spring JDBC (DataSource and JdbcTemplace)","body":"<p>There is a library that can make this easy. Effectively you just override the getPassword() method in the HikariDataSource. You use STS to assume the role and send a &quot;password&quot; for that role.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.volcanolabs&lt;/groupId&gt;\n  &lt;artifactId&gt;rds-iam-hikari-datasource&lt;/artifactId&gt;\n  &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt; \n</code></pre>\n"}],"owner":{"account_id":5534047,"reputation":711,"user_id":5277048,"accept_rate":50,"display_name":"Gauzy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12953,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":3,"score":16,"last_activity_date":1701423134,"creation_date":1528935242,"question_id":50847945,"body_markdown":"I am not able to figure out how to implement this. Any help and/or pointers will be greatly appreciated.\r\n\r\nCurrently, my Java/Spring application backend is deployed on **EC2** and accessing **MySQL on RDS** successfully using the regular Spring JDBC setup. That is, storing database info in `application.properties` and configuring `DataSource` and `JdbcTemplate` in **@Configuration** class. Everything works fine.\r\n\r\nNow, I need to access MySQL on RDS **securely**. RDS instance has IAM Authentication enabled. I have also successfully created **IAM role** and applied **inline policy**. Then, following the AWS RDS documentation and Java example on [this link][1], I am able to access the database from a **standalone Java class** successfully using **Authentication Token** and the user I created instead of regular db username and password. This standalone Java class is dealing with &quot;**Connection**&quot; object directly.\r\n\r\nThe place I am stuck is **how I translate this to Spring JDBC configuration**. That is, setting up `DataSource` and `JdbcTemplate` beans for this in my @Configuration class.\r\n\r\nWhat would be a correct/right approach to implement this?\r\n\r\n**----- EDIT - Start -----**\r\n\r\nI am trying to implement this as a library that can be used for multiple projects. That is, it will be used as a JAR and declared as a dependency in a project&#39;s POM file. This library is going to include configurable AWS Services like this RDS access using general DB username and password, RDS access using IAM Authentication, KMS (CMK/data keys) for data encryption, etc.\r\n\r\nIdea is to use this library on any web/app server depending on the project.\r\n\r\nHope this clarifies my need more.\r\n\r\n**----- EDIT - End -----**\r\n\r\nDataSource internally has getConnection() so I can basically create my own DataSource implementation to achieve what I want. But is this a good approach?\r\n\r\nSomething like:\r\n\r\n    public class MyDataSource implements DataSource {\r\n        @Override\r\n        public Connection getConnection() throws SQLException {\r\n            Connection conn = null;\r\n            // get a connection using IAM Authentication Token for accessing AWS RDS, etc. as in the AWS docs\r\n            return conn;\r\n        }\r\n\r\n        @Override\r\n        public Connection getConnection(String username, String password) throws SQLException {\r\n            return getConnection();\r\n        }\r\n\r\n        //other methods\r\n    } \r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.IAMDBAuth.Connecting.Java.html","title":"Accessing AWS RDS using IAM Authentication and Spring JDBC (DataSource and JdbcTemplace)","body":"<p>I am not able to figure out how to implement this. Any help and/or pointers will be greatly appreciated.</p>\n\n<p>Currently, my Java/Spring application backend is deployed on <strong>EC2</strong> and accessing <strong>MySQL on RDS</strong> successfully using the regular Spring JDBC setup. That is, storing database info in <code>application.properties</code> and configuring <code>DataSource</code> and <code>JdbcTemplate</code> in <strong>@Configuration</strong> class. Everything works fine.</p>\n\n<p>Now, I need to access MySQL on RDS <strong>securely</strong>. RDS instance has IAM Authentication enabled. I have also successfully created <strong>IAM role</strong> and applied <strong>inline policy</strong>. Then, following the AWS RDS documentation and Java example on <a href=\"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.IAMDBAuth.Connecting.Java.html\" rel=\"noreferrer\">this link</a>, I am able to access the database from a <strong>standalone Java class</strong> successfully using <strong>Authentication Token</strong> and the user I created instead of regular db username and password. This standalone Java class is dealing with \"<strong>Connection</strong>\" object directly.</p>\n\n<p>The place I am stuck is <strong>how I translate this to Spring JDBC configuration</strong>. That is, setting up <code>DataSource</code> and <code>JdbcTemplate</code> beans for this in my @Configuration class.</p>\n\n<p>What would be a correct/right approach to implement this?</p>\n\n<p><strong>----- EDIT - Start -----</strong></p>\n\n<p>I am trying to implement this as a library that can be used for multiple projects. That is, it will be used as a JAR and declared as a dependency in a project's POM file. This library is going to include configurable AWS Services like this RDS access using general DB username and password, RDS access using IAM Authentication, KMS (CMK/data keys) for data encryption, etc.</p>\n\n<p>Idea is to use this library on any web/app server depending on the project.</p>\n\n<p>Hope this clarifies my need more.</p>\n\n<p><strong>----- EDIT - End -----</strong></p>\n\n<p>DataSource internally has getConnection() so I can basically create my own DataSource implementation to achieve what I want. But is this a good approach?</p>\n\n<p>Something like:</p>\n\n<pre><code>public class MyDataSource implements DataSource {\n    @Override\n    public Connection getConnection() throws SQLException {\n        Connection conn = null;\n        // get a connection using IAM Authentication Token for accessing AWS RDS, etc. as in the AWS docs\n        return conn;\n    }\n\n    @Override\n    public Connection getConnection(String username, String password) throws SQLException {\n        return getConnection();\n    }\n\n    //other methods\n} \n</code></pre>\n"},{"tags":["c#","java"],"comments":[{"owner":{"account_id":57428,"reputation":39109,"user_id":172029,"accept_rate":96,"display_name":"David Pfeffer"},"score":0,"creation_date":1276903951,"post_id":3070261,"comment_id":3149281,"body_markdown":"This has absolutely nothing to do with J#. That tag doesn&#39;t belong here.","body":"This has absolutely nothing to do with J#. That tag doesn&#39;t belong here."}],"answers":[{"tags":[],"owner":{"account_id":11091,"reputation":99074,"user_id":21239,"accept_rate":81,"display_name":"Mauricio Scheffer"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1701422867,"creation_date":1276870259,"answer_id":3070308,"question_id":3070261,"body_markdown":"[Microsoft Java Language Conversion Assistant 3.0][1]\r\n\r\nPage has been moved to https://learn.microsoft.com/en-us/previous-versions/troubleshoot/visualstudio/language-compilers/jlca-available-download but download doesn&#39;t seem to be available any more.\r\n\r\nAnyway, it&#39;s [discontinued][2]:\r\n\r\n\r\n&gt; Retirement of J# language and Java\r\n&gt; Language Conversion Assistant from\r\n&gt; future versions of Visual Studio\r\n&gt; \r\n&gt; Since customers have told us that the\r\n&gt; existing J# feature set largely meets\r\n&gt; their needs and usage of J# is\r\n&gt; declining, Microsoft is retiring the\r\n&gt; Visual J# product and Java Language\r\n&gt; Conversion Assistant tool to better\r\n&gt; allocate resources for other customer\r\n&gt; requirements. The J# language and JLCA\r\n&gt; tool will not be available in future\r\n&gt; versions of Visual Studio. To preserve\r\n&gt; existing customer investments in J#,\r\n&gt; Microsoft will continue to support the\r\n&gt; J# and JLCA technology that shipped\r\n&gt; with Visual Studio 2005 through to\r\n&gt; 2015 as per our product life-cycle\r\n&gt; strategy.\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/vjsharp/aa718346.aspx\r\n  [2]: http://msdn.microsoft.com/en-us/vjsharp/default.aspx","title":"Where is the Java Language Conversion Assistant (JLCA) 3.0?","body":"<p><a href=\"http://msdn.microsoft.com/en-us/vjsharp/aa718346.aspx\" rel=\"nofollow noreferrer\">Microsoft Java Language Conversion Assistant 3.0</a></p>\n<p>Page has been moved to <a href=\"https://learn.microsoft.com/en-us/previous-versions/troubleshoot/visualstudio/language-compilers/jlca-available-download\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/previous-versions/troubleshoot/visualstudio/language-compilers/jlca-available-download</a> but download doesn't seem to be available any more.</p>\n<p>Anyway, it's <a href=\"http://msdn.microsoft.com/en-us/vjsharp/default.aspx\" rel=\"nofollow noreferrer\">discontinued</a>:</p>\n<blockquote>\n<p>Retirement of J# language and Java\nLanguage Conversion Assistant from\nfuture versions of Visual Studio</p>\n<p>Since customers have told us that the\nexisting J# feature set largely meets\ntheir needs and usage of J# is\ndeclining, Microsoft is retiring the\nVisual J# product and Java Language\nConversion Assistant tool to better\nallocate resources for other customer\nrequirements. The J# language and JLCA\ntool will not be available in future\nversions of Visual Studio. To preserve\nexisting customer investments in J#,\nMicrosoft will continue to support the\nJ# and JLCA technology that shipped\nwith Visual Studio 2005 through to\n2015 as per our product life-cycle\nstrategy.</p>\n</blockquote>\n"}],"owner":{"account_id":57428,"reputation":39109,"user_id":172029,"accept_rate":96,"display_name":"David Pfeffer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18487,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":3070308,"answer_count":1,"score":5,"last_activity_date":1701422867,"creation_date":1276869918,"question_id":3070261,"body_markdown":"Microsoft supposedly offer(ed?) something called the JLCA, which converts Java into C#. I can&#39;t find any download or anything for it. Does anyone have any information about this tool and how to use it in VS2008/2010? I can find version 2.0 but not 3.0... supposedly it came built into VS2005?","title":"Where is the Java Language Conversion Assistant (JLCA) 3.0?","body":"<p>Microsoft supposedly offer(ed?) something called the JLCA, which converts Java into C#. I can't find any download or anything for it. Does anyone have any information about this tool and how to use it in VS2008/2010? I can find version 2.0 but not 3.0... supposedly it came built into VS2005?</p>\n"},{"tags":["java","spring","spring-boot","saml"],"answers":[{"tags":[],"owner":{"account_id":18159399,"reputation":628,"user_id":13210997,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701422715,"creation_date":1701422715,"answer_id":77584170,"question_id":77530975,"body_markdown":"I&#39;m assuming you&#39;re trying to implement SP intiated SSO flow which include request and response. It seems like you understood something wrong because `Assertion` element can&#39;t be part of `AuthnRequest` element.\r\nMinimal working example of `AuthnRequest` looks like this\r\n\r\n    &lt;samlp:AuthnRequest xmlns:samlp=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot; xmlns:saml=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot; ID=&quot;ONELOGIN_809707f0030a5d00620c9d9df97f627afe9dcc24&quot; Version=&quot;2.0&quot; ProviderName=&quot;SP test&quot; IssueInstant=&quot;2014-07-16T23:52:45Z&quot; Destination=&quot;http://idp.example.com/SSOService.php&quot; ProtocolBinding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST&quot; AssertionConsumerServiceURL=&quot;http://sp.example.com/demo1/index.php?acs&quot;&gt;\r\n      &lt;saml:Issuer&gt;http://sp.example.com/demo1/metadata.php&lt;/saml:Issuer&gt;\r\n      &lt;samlp:NameIDPolicy Format=&quot;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&quot; AllowCreate=&quot;true&quot;/&gt;\r\n      &lt;samlp:RequestedAuthnContext Comparison=&quot;exact&quot;&gt;\r\n        &lt;saml:AuthnContextClassRef&gt;urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport&lt;/saml:AuthnContextClassRef&gt;\r\n      &lt;/samlp:RequestedAuthnContext&gt;\r\n    &lt;/samlp:AuthnRequest&gt;\r\n\r\n`Assertion` element is actually part of `Response` element that you&#39;re going to receive from identity provider. Example of response looks something like this\r\n\r\n    &lt;samlp:Response xmlns:samlp=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot; xmlns:saml=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot; ID=&quot;_8e8dc5f69a98cc4c1ff3427e5ce34606fd672f91e6&quot; Version=&quot;2.0&quot; IssueInstant=&quot;2014-07-17T01:01:48Z&quot; Destination=&quot;http://sp.example.com/demo1/index.php?acs&quot; InResponseTo=&quot;ONELOGIN_4fee3b046395c4e751011e97f8900b5273d56685&quot;&gt;\r\n      &lt;saml:Issuer&gt;http://idp.example.com/metadata.php&lt;/saml:Issuer&gt;\r\n      &lt;samlp:Status&gt;\r\n        &lt;samlp:StatusCode Value=&quot;urn:oasis:names:tc:SAML:2.0:status:Success&quot;/&gt;\r\n      &lt;/samlp:Status&gt;\r\n      &lt;saml:Assertion xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; ID=&quot;_d71a3a8e9fcc45c9e9d248ef7049393fc8f04e5f75&quot; Version=&quot;2.0&quot; IssueInstant=&quot;2014-07-17T01:01:48Z&quot;&gt;\r\n        &lt;saml:Issuer&gt;http://idp.example.com/metadata.php&lt;/saml:Issuer&gt;\r\n        &lt;saml:Subject&gt;\r\n          &lt;saml:NameID SPNameQualifier=&quot;http://sp.example.com/demo1/metadata.php&quot; Format=&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:transient&quot;&gt;_ce3d2948b4cf20146dee0a0b3dd6f69b6cf86f62d7&lt;/saml:NameID&gt;\r\n          &lt;saml:SubjectConfirmation Method=&quot;urn:oasis:names:tc:SAML:2.0:cm:bearer&quot;&gt;\r\n            &lt;saml:SubjectConfirmationData NotOnOrAfter=&quot;2024-01-18T06:21:48Z&quot; Recipient=&quot;http://sp.example.com/demo1/index.php?acs&quot; InResponseTo=&quot;ONELOGIN_4fee3b046395c4e751011e97f8900b5273d56685&quot;/&gt;\r\n          &lt;/saml:SubjectConfirmation&gt;\r\n        &lt;/saml:Subject&gt;\r\n        &lt;saml:Conditions NotBefore=&quot;2014-07-17T01:01:18Z&quot; NotOnOrAfter=&quot;2024-01-18T06:21:48Z&quot;&gt;\r\n          &lt;saml:AudienceRestriction&gt;\r\n            &lt;saml:Audience&gt;http://sp.example.com/demo1/metadata.php&lt;/saml:Audience&gt;\r\n          &lt;/saml:AudienceRestriction&gt;\r\n        &lt;/saml:Conditions&gt;\r\n        &lt;saml:AuthnStatement AuthnInstant=&quot;2014-07-17T01:01:48Z&quot; SessionNotOnOrAfter=&quot;2024-07-17T09:01:48Z&quot; SessionIndex=&quot;_be9967abd904ddcae3c0eb4189adbe3f71e327cf93&quot;&gt;\r\n          &lt;saml:AuthnContext&gt;\r\n            &lt;saml:AuthnContextClassRef&gt;urn:oasis:names:tc:SAML:2.0:ac:classes:Password&lt;/saml:AuthnContextClassRef&gt;\r\n          &lt;/saml:AuthnContext&gt;\r\n        &lt;/saml:AuthnStatement&gt;\r\n        &lt;saml:AttributeStatement&gt;\r\n          &lt;saml:Attribute Name=&quot;uid&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:basic&quot;&gt;\r\n            &lt;saml:AttributeValue xsi:type=&quot;xs:string&quot;&gt;test&lt;/saml:AttributeValue&gt;\r\n          &lt;/saml:Attribute&gt;\r\n          &lt;saml:Attribute Name=&quot;mail&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:basic&quot;&gt;\r\n            &lt;saml:AttributeValue xsi:type=&quot;xs:string&quot;&gt;test@example.com&lt;/saml:AttributeValue&gt;\r\n          &lt;/saml:Attribute&gt;\r\n          &lt;saml:Attribute Name=&quot;eduPersonAffiliation&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:basic&quot;&gt;\r\n            &lt;saml:AttributeValue xsi:type=&quot;xs:string&quot;&gt;users&lt;/saml:AttributeValue&gt;\r\n            &lt;saml:AttributeValue xsi:type=&quot;xs:string&quot;&gt;examplerole1&lt;/saml:AttributeValue&gt;\r\n          &lt;/saml:Attribute&gt;\r\n        &lt;/saml:AttributeStatement&gt;\r\n      &lt;/saml:Assertion&gt;\r\n    &lt;/samlp:Response&gt;\r\n\r\nNotice `Assertion` element here, it contains all the important data. Users `NameID` depending on the identity provider configuration, conditions under which this response is issued and SAML attributes.\r\n\r\nLet me know if this helps you.","title":"How can i use assertion in Saml Request?","body":"<p>I'm assuming you're trying to implement SP intiated SSO flow which include request and response. It seems like you understood something wrong because <code>Assertion</code> element can't be part of <code>AuthnRequest</code> element.\nMinimal working example of <code>AuthnRequest</code> looks like this</p>\n<pre><code>&lt;samlp:AuthnRequest xmlns:samlp=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot; xmlns:saml=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot; ID=&quot;ONELOGIN_809707f0030a5d00620c9d9df97f627afe9dcc24&quot; Version=&quot;2.0&quot; ProviderName=&quot;SP test&quot; IssueInstant=&quot;2014-07-16T23:52:45Z&quot; Destination=&quot;http://idp.example.com/SSOService.php&quot; ProtocolBinding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST&quot; AssertionConsumerServiceURL=&quot;http://sp.example.com/demo1/index.php?acs&quot;&gt;\n  &lt;saml:Issuer&gt;http://sp.example.com/demo1/metadata.php&lt;/saml:Issuer&gt;\n  &lt;samlp:NameIDPolicy Format=&quot;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&quot; AllowCreate=&quot;true&quot;/&gt;\n  &lt;samlp:RequestedAuthnContext Comparison=&quot;exact&quot;&gt;\n    &lt;saml:AuthnContextClassRef&gt;urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport&lt;/saml:AuthnContextClassRef&gt;\n  &lt;/samlp:RequestedAuthnContext&gt;\n&lt;/samlp:AuthnRequest&gt;\n</code></pre>\n<p><code>Assertion</code> element is actually part of <code>Response</code> element that you're going to receive from identity provider. Example of response looks something like this</p>\n<pre><code>&lt;samlp:Response xmlns:samlp=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot; xmlns:saml=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot; ID=&quot;_8e8dc5f69a98cc4c1ff3427e5ce34606fd672f91e6&quot; Version=&quot;2.0&quot; IssueInstant=&quot;2014-07-17T01:01:48Z&quot; Destination=&quot;http://sp.example.com/demo1/index.php?acs&quot; InResponseTo=&quot;ONELOGIN_4fee3b046395c4e751011e97f8900b5273d56685&quot;&gt;\n  &lt;saml:Issuer&gt;http://idp.example.com/metadata.php&lt;/saml:Issuer&gt;\n  &lt;samlp:Status&gt;\n    &lt;samlp:StatusCode Value=&quot;urn:oasis:names:tc:SAML:2.0:status:Success&quot;/&gt;\n  &lt;/samlp:Status&gt;\n  &lt;saml:Assertion xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; ID=&quot;_d71a3a8e9fcc45c9e9d248ef7049393fc8f04e5f75&quot; Version=&quot;2.0&quot; IssueInstant=&quot;2014-07-17T01:01:48Z&quot;&gt;\n    &lt;saml:Issuer&gt;http://idp.example.com/metadata.php&lt;/saml:Issuer&gt;\n    &lt;saml:Subject&gt;\n      &lt;saml:NameID SPNameQualifier=&quot;http://sp.example.com/demo1/metadata.php&quot; Format=&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:transient&quot;&gt;_ce3d2948b4cf20146dee0a0b3dd6f69b6cf86f62d7&lt;/saml:NameID&gt;\n      &lt;saml:SubjectConfirmation Method=&quot;urn:oasis:names:tc:SAML:2.0:cm:bearer&quot;&gt;\n        &lt;saml:SubjectConfirmationData NotOnOrAfter=&quot;2024-01-18T06:21:48Z&quot; Recipient=&quot;http://sp.example.com/demo1/index.php?acs&quot; InResponseTo=&quot;ONELOGIN_4fee3b046395c4e751011e97f8900b5273d56685&quot;/&gt;\n      &lt;/saml:SubjectConfirmation&gt;\n    &lt;/saml:Subject&gt;\n    &lt;saml:Conditions NotBefore=&quot;2014-07-17T01:01:18Z&quot; NotOnOrAfter=&quot;2024-01-18T06:21:48Z&quot;&gt;\n      &lt;saml:AudienceRestriction&gt;\n        &lt;saml:Audience&gt;http://sp.example.com/demo1/metadata.php&lt;/saml:Audience&gt;\n      &lt;/saml:AudienceRestriction&gt;\n    &lt;/saml:Conditions&gt;\n    &lt;saml:AuthnStatement AuthnInstant=&quot;2014-07-17T01:01:48Z&quot; SessionNotOnOrAfter=&quot;2024-07-17T09:01:48Z&quot; SessionIndex=&quot;_be9967abd904ddcae3c0eb4189adbe3f71e327cf93&quot;&gt;\n      &lt;saml:AuthnContext&gt;\n        &lt;saml:AuthnContextClassRef&gt;urn:oasis:names:tc:SAML:2.0:ac:classes:Password&lt;/saml:AuthnContextClassRef&gt;\n      &lt;/saml:AuthnContext&gt;\n    &lt;/saml:AuthnStatement&gt;\n    &lt;saml:AttributeStatement&gt;\n      &lt;saml:Attribute Name=&quot;uid&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:basic&quot;&gt;\n        &lt;saml:AttributeValue xsi:type=&quot;xs:string&quot;&gt;test&lt;/saml:AttributeValue&gt;\n      &lt;/saml:Attribute&gt;\n      &lt;saml:Attribute Name=&quot;mail&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:basic&quot;&gt;\n        &lt;saml:AttributeValue xsi:type=&quot;xs:string&quot;&gt;test@example.com&lt;/saml:AttributeValue&gt;\n      &lt;/saml:Attribute&gt;\n      &lt;saml:Attribute Name=&quot;eduPersonAffiliation&quot; NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:basic&quot;&gt;\n        &lt;saml:AttributeValue xsi:type=&quot;xs:string&quot;&gt;users&lt;/saml:AttributeValue&gt;\n        &lt;saml:AttributeValue xsi:type=&quot;xs:string&quot;&gt;examplerole1&lt;/saml:AttributeValue&gt;\n      &lt;/saml:Attribute&gt;\n    &lt;/saml:AttributeStatement&gt;\n  &lt;/saml:Assertion&gt;\n&lt;/samlp:Response&gt;\n</code></pre>\n<p>Notice <code>Assertion</code> element here, it contains all the important data. Users <code>NameID</code> depending on the identity provider configuration, conditions under which this response is issued and SAML attributes.</p>\n<p>Let me know if this helps you.</p>\n"}],"owner":{"account_id":29967174,"reputation":1,"user_id":22965481,"display_name":"Luca Rossi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701422715,"creation_date":1700664949,"question_id":77530975,"body_markdown":"I have implemented a Service Provider (SP) with Spring Boot and would like to generate a saml request like this:\r\n\r\n```\r\n&lt;saml:Assertion Version=&quot;2.0&quot; ID=&quot;_e2294424-9055-4b32-ac27-39c1c53f66e7&quot; IssueInstant=&quot;2023-08-03T09:09:30.036Z&quot; xmlns:saml=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot;&gt;\r\n    &lt;samlp:AuthnRequest Version=&quot;2.0&quot; IssueInstant=&quot;2023-08-03T09:09:30.036Z&quot; ProtocolBinding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST&quot; AssertionConsumerServiceURL=..... xmlns:samlp=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot; /&gt;\r\n    &lt;saml2:Issuer xmlns:saml2=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot;\r\n                      Format=&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:entity&quot;\r\n                      &gt;.....\r\n    &lt;/saml2:Issuer&gt;\r\n    &lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;..&lt;/ds:Signature&gt;\r\n&lt;/saml:Assertion&gt;\r\n```\r\nhow can i configure spring security to obtain this saml request?\r\n\r\n\r\n\r\nI currently get the following request, but I cannot insert the Assertion tag:\r\n```\r\n&lt;samlp:AuthnRequest Version=&quot;2.0&quot; IssueInstant=&quot;2023-08-03T09:09:30.036Z&quot; ProtocolBinding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST&quot; AssertionConsumerServiceURL=..... xmlns:samlp=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot; /&gt;\r\n     &lt;saml2:Issuer xmlns:saml2=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot;\r\n              Format=&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:entity&quot;\r\n             &gt;......\r\n     &lt;/saml2:Issuer&gt;\r\n     &lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;..&lt;/ds:Signature&gt;\r\n&lt;/samlp:AuthnRequest&gt;\r\n```","title":"How can i use assertion in Saml Request?","body":"<p>I have implemented a Service Provider (SP) with Spring Boot and would like to generate a saml request like this:</p>\n<pre><code>&lt;saml:Assertion Version=&quot;2.0&quot; ID=&quot;_e2294424-9055-4b32-ac27-39c1c53f66e7&quot; IssueInstant=&quot;2023-08-03T09:09:30.036Z&quot; xmlns:saml=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot;&gt;\n    &lt;samlp:AuthnRequest Version=&quot;2.0&quot; IssueInstant=&quot;2023-08-03T09:09:30.036Z&quot; ProtocolBinding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST&quot; AssertionConsumerServiceURL=..... xmlns:samlp=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot; /&gt;\n    &lt;saml2:Issuer xmlns:saml2=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot;\n                      Format=&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:entity&quot;\n                      &gt;.....\n    &lt;/saml2:Issuer&gt;\n    &lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;..&lt;/ds:Signature&gt;\n&lt;/saml:Assertion&gt;\n</code></pre>\n<p>how can i configure spring security to obtain this saml request?</p>\n<p>I currently get the following request, but I cannot insert the Assertion tag:</p>\n<pre><code>&lt;samlp:AuthnRequest Version=&quot;2.0&quot; IssueInstant=&quot;2023-08-03T09:09:30.036Z&quot; ProtocolBinding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST&quot; AssertionConsumerServiceURL=..... xmlns:samlp=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot; /&gt;\n     &lt;saml2:Issuer xmlns:saml2=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot;\n              Format=&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:entity&quot;\n             &gt;......\n     &lt;/saml2:Issuer&gt;\n     &lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;..&lt;/ds:Signature&gt;\n&lt;/samlp:AuthnRequest&gt;\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9837,"page":22,"page_size":100}
