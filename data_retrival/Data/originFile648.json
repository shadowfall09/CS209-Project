{"items":[{"tags":["java","for-loop","methods","parameter-passing","multiplication"],"comments":[{"owner":{"account_id":2739549,"reputation":594,"user_id":2361379,"display_name":"fauzimh"},"score":0,"creation_date":1669788692,"post_id":74623483,"comment_id":131720020,"body_markdown":"can you post your failure message?","body":"can you post your failure message?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1669794590,"post_id":74623483,"comment_id":131721469,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676407318,"post_id":74623483,"comment_id":133130174,"body_markdown":"I believe that your method doesn’t need to return anything. So declare it `public void multiply(int num)` and delete the line `return multiply;`. That should be it. Call the method like `new TABLE().multiply(10);`.","body":"I believe that your method doesn’t need to return anything. So declare it <code>public void multiply(int num)</code> and delete the line <code>return multiply;</code>. That should be it. Call the method like <code>new TABLE().multiply(10);</code>."}],"answers":[{"tags":[],"owner":{"account_id":27094432,"reputation":1,"user_id":20641811,"display_name":"user20641811"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669789029,"creation_date":1669789029,"answer_id":74623568,"question_id":74623483,"body_markdown":"        public static void multiply(int num)\r\n    {\r\n        for(int i = 1; i &lt;= 10; ++i) {\r\n            System.out.printf(&quot;%d * %d = %d \\n&quot;, num, i, num * i);\r\n        }\r\n    }\r\n\r\nhi，bro, you can ","title":"Create a Multiplication Table program, by using the Java user defined Method &amp; For loop, the output will be according to the parameter passed","body":"<pre><code>    public static void multiply(int num)\n{\n    for(int i = 1; i &lt;= 10; ++i) {\n        System.out.printf(&quot;%d * %d = %d \\n&quot;, num, i, num * i);\n    }\n}\n</code></pre>\n<p>hi，bro, you can</p>\n"},{"tags":[],"owner":{"account_id":27750527,"reputation":1,"user_id":21185023,"display_name":"Anup Kumar Gouda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676407393,"creation_date":1676008670,"answer_id":75407431,"question_id":74623483,"body_markdown":"```\r\n//using user defined method By ITinnovation\r\nimport java.util.Scanner;\r\n\r\npublic class Table1\r\n{\r\n    public void tab(int num1)\r\n    {\r\n        for(int i=1;i&lt;=10;i++)\r\n        {\r\n            //System.out.println(&quot;The Table is:&quot;+num1*i);\r\n            int multi=num1*i;\r\n            System.out.println(num1 + &quot; x &quot; + i + &quot; = &quot; + multi);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        {\r\n            System.out.printf(&quot;Enter that value which you want to find out the table:&quot;);\r\n            Scanner sc= new Scanner(System.in);\r\n            int num1= sc.nextInt();\r\n            Table1 obj= new Table1();\r\n            obj.tab(num1);\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Create a Multiplication Table program, by using the Java user defined Method &amp; For loop, the output will be according to the parameter passed","body":"<pre><code>//using user defined method By ITinnovation\nimport java.util.Scanner;\n\npublic class Table1\n{\n    public void tab(int num1)\n    {\n        for(int i=1;i&lt;=10;i++)\n        {\n            //System.out.println(&quot;The Table is:&quot;+num1*i);\n            int multi=num1*i;\n            System.out.println(num1 + &quot; x &quot; + i + &quot; = &quot; + multi);\n        }\n    }\n\n    public static void main(String[] args) {\n        {\n            System.out.printf(&quot;Enter that value which you want to find out the table:&quot;);\n            Scanner sc= new Scanner(System.in);\n            int num1= sc.nextInt();\n            Table1 obj= new Table1();\n            obj.tab(num1);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27094283,"reputation":1,"user_id":20641671,"display_name":"Stormy Gamer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676407393,"creation_date":1669788253,"question_id":74623483,"body_markdown":"[enter image description here](https://i.stack.imgur.com/f7WZR.png)\r\ni am asked to make exactly this table but i am unable to figure out how the defined methods work!?\r\n\r\ni have tried a lot but it just fails\r\ndon,t what i am doing wrong!\r\n\r\n\r\n\r\n```\r\npublic class TABLE {\r\n\tpublic int Multiplication; \r\n\tpublic int multiply(int num)\r\n\t{\r\n\t\t\t\r\n\tfor(int i = 1; i &lt;= 10; ++i) {\r\n\t\tSystem.out.printf(&quot;%d * %d = %d \\n&quot;, num, i, num * i);\r\n\t\t}\r\n\treturn multiply;\r\n\t}\r\n}\r\n\r\n```\r\n","title":"Create a Multiplication Table program, by using the Java user defined Method &amp; For loop, the output will be according to the parameter passed","body":"<p><a href=\"https://i.stack.imgur.com/f7WZR.png\" rel=\"nofollow noreferrer\">enter image description here</a>\ni am asked to make exactly this table but i am unable to figure out how the defined methods work!?</p>\n<p>i have tried a lot but it just fails\ndon,t what i am doing wrong!</p>\n<pre><code>public class TABLE {\n    public int Multiplication; \n    public int multiply(int num)\n    {\n            \n    for(int i = 1; i &lt;= 10; ++i) {\n        System.out.printf(&quot;%d * %d = %d \\n&quot;, num, i, num * i);\n        }\n    return multiply;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","oauth","keycloak","okta"],"comments":[{"owner":{"account_id":3979621,"reputation":2003,"user_id":3281886,"accept_rate":60,"display_name":"Philipp Grigoryev"},"score":0,"creation_date":1676344335,"post_id":75442921,"comment_id":133114067,"body_markdown":"I was not able to find the constructor for `JWTVerifier` which you used. Where does it come from?","body":"I was not able to find the constructor for <code>JWTVerifier</code> which you used. Where does it come from?"},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1676406877,"post_id":75442921,"comment_id":133130063,"body_markdown":"That was the correct question @PhilippGrigoryev - I&#39;m using an ancient (2016, v2.2.2) version of the Auth0 libraries due to an equally prehistoric FinTech programming environment.  I eventually found my answer and, as is common with me, I was making it far too hard.  Thanks for pushing me in the right direction.  I&#39;ll update the post with my findings.","body":"That was the correct question @PhilippGrigoryev - I&#39;m using an ancient (2016, v2.2.2) version of the Auth0 libraries due to an equally prehistoric FinTech programming environment.  I eventually found my answer and, as is common with me, I was making it far too hard.  Thanks for pushing me in the right direction.  I&#39;ll update the post with my findings."},{"owner":{"account_id":3979621,"reputation":2003,"user_id":3281886,"accept_rate":60,"display_name":"Philipp Grigoryev"},"score":0,"creation_date":1676431670,"post_id":75442921,"comment_id":133134012,"body_markdown":"Yay :) glad I could help somehow!","body":"Yay :) glad I could help somehow!"}],"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":571,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676407275,"creation_date":1676341516,"question_id":75442921,"body_markdown":"I&#39;m attempting to write some portable code to validate JWT&#39;s in Java.  I&#39;m specifically integrating with Okta and Keycloak.  I&#39;m struggling to understand the parameters returned for the JWKS endpoint.\r\n\r\nFor Keycloak, I get a key something like:\r\n\r\n    {\r\n      &quot;kid&quot;: &quot;H5NDPL2NT2M5_5EOqt91vfPIo13r455Hlu2GYscOBmA&quot;,\r\n      &quot;kty&quot;: &quot;RSA&quot;,\r\n      &quot;alg&quot;: &quot;RS256&quot;,\r\n      &quot;use&quot;: &quot;sig&quot;,\r\n      &quot;n&quot;: &quot;w7vsnNpTZaOMp3zxKCiEivoIaY...&quot;,\r\n      &quot;e&quot;: &quot;AQAB&quot;,\r\n      &quot;x5c&quot;: [\r\n        &quot;MIIClTCCAX0CBgGF9UsKo...&quot;\r\n      ],\r\n      &quot;x5t&quot;: &quot;tGzP61KCiwgg-NYlnDIHLB9ZoMw&quot;,\r\n      &quot;x5t#S256&quot;: &quot;JfHngo5l9TUcI9Up7gTAksLVOs1ivcMcwu-WY01gBDM&quot;\r\n    },\r\n\r\nFor Okta, I get:\r\n\r\n    {\r\n      &quot;kty&quot;: &quot;RSA&quot;,\r\n      &quot;alg&quot;: &quot;RS256&quot;,\r\n      &quot;kid&quot;: &quot;u4G-oEtqld6rzHgW7aGPWpcyGABi9JqWAIA7s6_tGm0&quot;,\r\n      &quot;use&quot;: &quot;sig&quot;,\r\n      &quot;e&quot;: &quot;AQAB&quot;,\r\n      &quot;n&quot;: &quot;k9XEKD99izmvBUtnkaGC...&quot;\r\n    },\r\n\r\nMy rather limited understanding was that I could generate the public key from the &quot;e&quot; (exponent) and &quot;n&quot; (modulus) fields.  To me it seemed that Keycloak was sending the same data twice by including `x5c[0]`.  But that is apparently not the case.  On the Keycloak side, using code like:\r\n\r\n    // modulusString is &quot;n&quot;, exponentString is &quot;e&quot;\r\n    BigInteger modulus = new BigInteger(1, Base64.getUrlDecoder().decode(modulusString));\r\n    BigInteger exponent = new BigInteger(1, Base64.getUrlDecoder().decode(exponentString));\r\n    RSAPublicKeySpec rsaPublicKeySpec = new RSAPublicKeySpec(modulus, exponent);\r\n    KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n    PublicKey publicKey = keyFactory.generatePublic(rsaPublicKeySpec);\r\n\r\nresults in a `PublicKey` that can&#39;t be used to validate a token with the Auth0 JWTVerifier:\r\n\r\n    JWTVerifier jwtVerifier = new JWTVerifier(publicKey);\r\n\r\n    try {\r\n        jwtVerifier.verify(token);\r\n    }\r\n    catch (Exception e) {\r\n        // token is not valid\r\n    }\r\n\r\nYet on Keycloak if I *do* use `x5c[0]` and convert it with:\r\n\r\n    byte[] decodedCert = Base64.getDecoder().decode(base64CertWithoutDelimiters);\r\n    KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n    EncodedKeySpec keySpec = new X509EncodedKeySpec(decodedCert);\r\n    publicKey = kf.generatePublic(keySpec);\r\n\r\nand the same JWTVerifier code the token from Keycloak validates fine.  So obviously the `generatePublic` isn&#39;t doing the same thing.  A print of the Base64 values confirms this.\r\n\r\nLooking at the [Okta key resolver code](https://github.com/okta/okta-jwt-verifier-java/blob/master/impl/src/main/java/com/okta/jwt/impl/jjwt/RemoteJwkSigningKeyResolver.java) seems to show pretty much the same thing I&#39;m doing but the Keycloak one doesn&#39;t work.  For reference, this is Keycloak 20.0.3.\r\n\r\nCan you point me in the correct direction on this?  My Google-fu is at it&#39;s end and I still don&#39;t have an answer.  Thanks for any help.\r\n\r\n***EDIT***\r\n\r\nThe code that generates the `PublicKey` from the modulus/exponent *was* correct.  It turns out I was incorrectly using the `x5c[0]` key from Keycloak.  Generating the PublicKey with the modulus/exponent now means that I can validate Keycloak and Okta in the same way.  Thanks to @PhilippGrigoryev for pushing me to understand why I was doing things with an ancient library (&#39;cause I&#39;m stuck with an ancient programming environment) and making me look deeper into the problem.\r\n\r\nAdditionally, I was able to use the code in the [Auth0 JWKS library](https://github.com/auth0/jwks-rsa-java) to direct me in the right place.  My environment prevents me from actually using a modern library but that&#39;s a different issue.","title":"Validating JWT with modulus and exponent vs public key","body":"<p>I'm attempting to write some portable code to validate JWT's in Java.  I'm specifically integrating with Okta and Keycloak.  I'm struggling to understand the parameters returned for the JWKS endpoint.</p>\n<p>For Keycloak, I get a key something like:</p>\n<pre><code>{\n  &quot;kid&quot;: &quot;H5NDPL2NT2M5_5EOqt91vfPIo13r455Hlu2GYscOBmA&quot;,\n  &quot;kty&quot;: &quot;RSA&quot;,\n  &quot;alg&quot;: &quot;RS256&quot;,\n  &quot;use&quot;: &quot;sig&quot;,\n  &quot;n&quot;: &quot;w7vsnNpTZaOMp3zxKCiEivoIaY...&quot;,\n  &quot;e&quot;: &quot;AQAB&quot;,\n  &quot;x5c&quot;: [\n    &quot;MIIClTCCAX0CBgGF9UsKo...&quot;\n  ],\n  &quot;x5t&quot;: &quot;tGzP61KCiwgg-NYlnDIHLB9ZoMw&quot;,\n  &quot;x5t#S256&quot;: &quot;JfHngo5l9TUcI9Up7gTAksLVOs1ivcMcwu-WY01gBDM&quot;\n},\n</code></pre>\n<p>For Okta, I get:</p>\n<pre><code>{\n  &quot;kty&quot;: &quot;RSA&quot;,\n  &quot;alg&quot;: &quot;RS256&quot;,\n  &quot;kid&quot;: &quot;u4G-oEtqld6rzHgW7aGPWpcyGABi9JqWAIA7s6_tGm0&quot;,\n  &quot;use&quot;: &quot;sig&quot;,\n  &quot;e&quot;: &quot;AQAB&quot;,\n  &quot;n&quot;: &quot;k9XEKD99izmvBUtnkaGC...&quot;\n},\n</code></pre>\n<p>My rather limited understanding was that I could generate the public key from the &quot;e&quot; (exponent) and &quot;n&quot; (modulus) fields.  To me it seemed that Keycloak was sending the same data twice by including <code>x5c[0]</code>.  But that is apparently not the case.  On the Keycloak side, using code like:</p>\n<pre><code>// modulusString is &quot;n&quot;, exponentString is &quot;e&quot;\nBigInteger modulus = new BigInteger(1, Base64.getUrlDecoder().decode(modulusString));\nBigInteger exponent = new BigInteger(1, Base64.getUrlDecoder().decode(exponentString));\nRSAPublicKeySpec rsaPublicKeySpec = new RSAPublicKeySpec(modulus, exponent);\nKeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\nPublicKey publicKey = keyFactory.generatePublic(rsaPublicKeySpec);\n</code></pre>\n<p>results in a <code>PublicKey</code> that can't be used to validate a token with the Auth0 JWTVerifier:</p>\n<pre><code>JWTVerifier jwtVerifier = new JWTVerifier(publicKey);\n\ntry {\n    jwtVerifier.verify(token);\n}\ncatch (Exception e) {\n    // token is not valid\n}\n</code></pre>\n<p>Yet on Keycloak if I <em>do</em> use <code>x5c[0]</code> and convert it with:</p>\n<pre><code>byte[] decodedCert = Base64.getDecoder().decode(base64CertWithoutDelimiters);\nKeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\nEncodedKeySpec keySpec = new X509EncodedKeySpec(decodedCert);\npublicKey = kf.generatePublic(keySpec);\n</code></pre>\n<p>and the same JWTVerifier code the token from Keycloak validates fine.  So obviously the <code>generatePublic</code> isn't doing the same thing.  A print of the Base64 values confirms this.</p>\n<p>Looking at the <a href=\"https://github.com/okta/okta-jwt-verifier-java/blob/master/impl/src/main/java/com/okta/jwt/impl/jjwt/RemoteJwkSigningKeyResolver.java\" rel=\"nofollow noreferrer\">Okta key resolver code</a> seems to show pretty much the same thing I'm doing but the Keycloak one doesn't work.  For reference, this is Keycloak 20.0.3.</p>\n<p>Can you point me in the correct direction on this?  My Google-fu is at it's end and I still don't have an answer.  Thanks for any help.</p>\n<p><em><strong>EDIT</strong></em></p>\n<p>The code that generates the <code>PublicKey</code> from the modulus/exponent <em>was</em> correct.  It turns out I was incorrectly using the <code>x5c[0]</code> key from Keycloak.  Generating the PublicKey with the modulus/exponent now means that I can validate Keycloak and Okta in the same way.  Thanks to @PhilippGrigoryev for pushing me to understand why I was doing things with an ancient library ('cause I'm stuck with an ancient programming environment) and making me look deeper into the problem.</p>\n<p>Additionally, I was able to use the code in the <a href=\"https://github.com/auth0/jwks-rsa-java\" rel=\"nofollow noreferrer\">Auth0 JWKS library</a> to direct me in the right place.  My environment prevents me from actually using a modern library but that's a different issue.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":285638,"reputation":10283,"user_id":584420,"accept_rate":60,"display_name":"James Jithin"},"score":0,"creation_date":1446821657,"post_id":33567507,"comment_id":54916956,"body_markdown":"http://stackoverflow.com/questions/28993724/is-there-a-way-to-discover-all-endpoints-of-a-rest-api","body":"<a href=\"http://stackoverflow.com/questions/28993724/is-there-a-way-to-discover-all-endpoints-of-a-rest-api\" title=\"is there a way to discover all endpoints of a rest api\">stackoverflow.com/questions/28993724/&hellip;</a>"},{"owner":{"account_id":448442,"reputation":1414,"user_id":842643,"accept_rate":62,"display_name":"Jack Sierkstra"},"score":0,"creation_date":1446830966,"post_id":33567507,"comment_id":54922603,"body_markdown":"Sorry, but this doesn&#39;t remotely answer my question. My question is targeted at Spring Framework. I have access to my own code, so I won&#39;t brute force my own application. Furthermore, you can expect such functionality of a relatively mature framework as Spring. The endpoints are somewhere registered (Spring Container??), so there must be a way to iterate through them.","body":"Sorry, but this doesn&#39;t remotely answer my question. My question is targeted at Spring Framework. I have access to my own code, so I won&#39;t brute force my own application. Furthermore, you can expect such functionality of a relatively mature framework as Spring. The endpoints are somewhere registered (Spring Container??), so there must be a way to iterate through them."},{"owner":{"account_id":285638,"reputation":10283,"user_id":584420,"accept_rate":60,"display_name":"James Jithin"},"score":1,"creation_date":1446836469,"post_id":33567507,"comment_id":54925490,"body_markdown":"http://stackoverflow.com/questions/11082818/spring-mvc-get-all-request-mappings","body":"<a href=\"http://stackoverflow.com/questions/11082818/spring-mvc-get-all-request-mappings\" title=\"spring mvc get all request mappings\">stackoverflow.com/questions/11082818/&hellip;</a>"},{"owner":{"account_id":448442,"reputation":1414,"user_id":842643,"accept_rate":62,"display_name":"Jack Sierkstra"},"score":0,"creation_date":1446837152,"post_id":33567507,"comment_id":54925844,"body_markdown":"Now that is way more close. In the meantime I got some advice to use Spring Boot Actuator. I do not have that possibility, so I went on looking in the source of Spring Boot Actuator and saw this file: https://github.com/spring-projects/spring-boot/blob/master/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/endpoint/RequestMappingEndpoint.java. I&#39;m going test that in my application. Thanks for the advice! I will edit my post once I have an answer ready.","body":"Now that is way more close. In the meantime I got some advice to use Spring Boot Actuator. I do not have that possibility, so I went on looking in the source of Spring Boot Actuator and saw this file: <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/endpoint/RequestMappingEndpoint.java\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/blob/master/&hellip;</a>. I&#39;m going test that in my application. Thanks for the advice! I will edit my post once I have an answer ready."},{"owner":{"account_id":285638,"reputation":10283,"user_id":584420,"accept_rate":60,"display_name":"James Jithin"},"score":0,"creation_date":1446838020,"post_id":33567507,"comment_id":54926328,"body_markdown":"Cool! All the best Jack!","body":"Cool! All the best Jack!"},{"owner":{"account_id":2333642,"reputation":4060,"user_id":2046462,"accept_rate":63,"display_name":"Kannan Ramamoorthy"},"score":1,"creation_date":1497718090,"post_id":33567507,"comment_id":76201004,"body_markdown":"@JackSierkstra If you get the answer you can post it as an answer and accept it.","body":"@JackSierkstra If you get the answer you can post it as an answer and accept it."},{"owner":{"account_id":8129595,"reputation":1,"user_id":6123294,"display_name":"Cahit Yiğit &#199;etiner"},"score":0,"creation_date":1564397133,"post_id":33567507,"comment_id":101004255,"body_markdown":"can you check the link below. https://stackoverflow.com/questions/32525699/listing-all-deployed-rest-endpoints-spring-boot-jersey/35237151#35237151","body":"can you check the link below. <a href=\"https://stackoverflow.com/questions/32525699/listing-all-deployed-rest-endpoints-spring-boot-jersey/35237151#35237151\" title=\"listing all deployed rest endpoints spring boot jersey\">stackoverflow.com/questions/32525699/&hellip;</a>"},{"owner":{"account_id":7154568,"reputation":238,"user_id":5467492,"display_name":"Thomas Verhoeven"},"score":0,"creation_date":1611136794,"post_id":33567507,"comment_id":116351094,"body_markdown":"Check out this thread: https://stackoverflow.com/questions/43541080/how-to-get-all-endpoints-list-after-startup-spring-boot/59165297","body":"Check out this thread: <a href=\"https://stackoverflow.com/questions/43541080/how-to-get-all-endpoints-list-after-startup-spring-boot/59165297\" title=\"how to get all endpoints list after startup spring boot\">stackoverflow.com/questions/43541080/&hellip;</a>"},{"owner":{"account_id":2598238,"reputation":693,"user_id":2251364,"accept_rate":45,"display_name":"Hritik"},"score":0,"creation_date":1671092272,"post_id":33567507,"comment_id":132024275,"body_markdown":"This might come in handy `git grep -hi &quot;@.*Mapping&quot;`","body":"This might come in handy <code>git grep -hi &quot;@.*Mapping&quot;</code>"}],"answers":[{"tags":[],"owner":{"account_id":274902,"reputation":1209,"user_id":567420,"display_name":"fpmoles"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1507940808,"creation_date":1507940808,"answer_id":46739607,"question_id":33567507,"body_markdown":"I assume based on how the questions is worded that you are not using Spring Boot, if you were, the actuator mappings endpoint does this for you, but your answer lies in how the mappings endpoint is build in actuator. There is a RequestMappingHandlerMapping object you leverage.","title":"How to output all endpoints exposed by Spring","body":"<p>I assume based on how the questions is worded that you are not using Spring Boot, if you were, the actuator mappings endpoint does this for you, but your answer lies in how the mappings endpoint is build in actuator. There is a RequestMappingHandlerMapping object you leverage.</p>\n"},{"tags":[],"owner":{"account_id":10335004,"reputation":101,"user_id":7623461,"display_name":"Kamran Ullah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655733776,"creation_date":1655733776,"answer_id":72688335,"question_id":33567507,"body_markdown":"In this scenario you can use two approaches:\r\n\r\n 1. Spring Boot Actuator feature. Your endpoints of application will be available at http://host/actuator/mappings\r\n 2. Swagger library can also be used to list all endpoints of a REST API\r\n\r\n","title":"How to output all endpoints exposed by Spring","body":"<p>In this scenario you can use two approaches:</p>\n<ol>\n<li>Spring Boot Actuator feature. Your endpoints of application will be available at http://host/actuator/mappings</li>\n<li>Swagger library can also be used to list all endpoints of a REST API</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":18803648,"reputation":11,"user_id":13713461,"display_name":"Salem AlHarbi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655738395,"creation_date":1655738395,"answer_id":72689367,"question_id":33567507,"body_markdown":"The best solution is to use Spring boot actuator and hit the endpoint `/actuator/mappings` to get all the endpoints.\r\n\r\nBut if you can&#39;t use actuator or can&#39;t add it as dependency you can retrieve all the endpoints programmatically the mapping handlers, Spring get shipped with three implementations of this interface (HandlerMapping):\r\n\r\n* `RequestMappingHandlerMapping`: which is responsible for endpoints that annotated with @RequestMapping and its variants @GetMapping, @PostMapping .. etc\r\n\r\n* `BeanNameUrlHandlerMapping`: as the name suggest it will resolve the endpoint(URL) directly to a bean in the application context. for example if you hit the endpoint /resource it will look for a bean with the name /resource.\r\n\r\n* `RouterFunctionMapping`: it will scan the application context for RouterFunction beans and dispatch the request to that function.\r\n\r\nAnyways, **to answer your question** you can autowire the bean RequestMappingHandlerMapping and print out all the handler methods. Something similar to this: \r\n\r\n    @Autowired\r\n    RequestMappingHandlerMapping requestMappingHandlerMapping;\r\n    \r\n    @PostConstruct\r\n    public void printEnpoints() {\r\n        requestMappingHandlerMapping.getHandlerMethods().forEach((k,v) -&gt; System.out.println(k + &quot; : &quot;+ v));\r\n    }\r\n\r\n","title":"How to output all endpoints exposed by Spring","body":"<p>The best solution is to use Spring boot actuator and hit the endpoint <code>/actuator/mappings</code> to get all the endpoints.</p>\n<p>But if you can't use actuator or can't add it as dependency you can retrieve all the endpoints programmatically the mapping handlers, Spring get shipped with three implementations of this interface (HandlerMapping):</p>\n<ul>\n<li><p><code>RequestMappingHandlerMapping</code>: which is responsible for endpoints that annotated with @RequestMapping and its variants @GetMapping, @PostMapping .. etc</p>\n</li>\n<li><p><code>BeanNameUrlHandlerMapping</code>: as the name suggest it will resolve the endpoint(URL) directly to a bean in the application context. for example if you hit the endpoint /resource it will look for a bean with the name /resource.</p>\n</li>\n<li><p><code>RouterFunctionMapping</code>: it will scan the application context for RouterFunction beans and dispatch the request to that function.</p>\n</li>\n</ul>\n<p>Anyways, <strong>to answer your question</strong> you can autowire the bean RequestMappingHandlerMapping and print out all the handler methods. Something similar to this:</p>\n<pre><code>@Autowired\nRequestMappingHandlerMapping requestMappingHandlerMapping;\n\n@PostConstruct\npublic void printEnpoints() {\n    requestMappingHandlerMapping.getHandlerMethods().forEach((k,v) -&gt; System.out.println(k + &quot; : &quot;+ v));\n}\n</code></pre>\n"}],"owner":{"account_id":448442,"reputation":1414,"user_id":842643,"accept_rate":62,"display_name":"Jack Sierkstra"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6441,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":3,"score":13,"last_activity_date":1676407257,"creation_date":1446815166,"question_id":33567507,"body_markdown":"I&#39;d like to have a way how to expose all endpoints that exposed by my Spring application. Is there a simple way to check, for each `@profile` which are exposed?\r\n\r\nExample:\r\n\r\n    GET   /api/resource\r\n    GET   /api/resource/list\r\n    POST  /api/resource\r\n    PUT   /api/resource\r\n\r\nIn the past, I have used a web application made in Laravel, and they had a simple cli method for checking the exposed methods.","title":"How to output all endpoints exposed by Spring","body":"<p>I'd like to have a way how to expose all endpoints that exposed by my Spring application. Is there a simple way to check, for each <code>@profile</code> which are exposed?</p>\n\n<p>Example:</p>\n\n<pre><code>GET   /api/resource\nGET   /api/resource/list\nPOST  /api/resource\nPUT   /api/resource\n</code></pre>\n\n<p>In the past, I have used a web application made in Laravel, and they had a simple cli method for checking the exposed methods.</p>\n"},{"tags":["java","selenium-webdriver","xpath","css-selectors","cucumber"],"answers":[{"tags":[],"owner":{"account_id":27542652,"reputation":80,"user_id":21019142,"display_name":"Selenium Lover"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676396708,"creation_date":1676396708,"answer_id":75451461,"question_id":75450885,"body_markdown":"Try using explict wait after &quot;Then&quot; before using findelement\r\n\r\nrefer this\r\nhttps://www.selenium.dev/documentation/webdriver/waits/#explicit-wait\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(30));\r\n    WebElement element =     \r\n    wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;Mfrontpage-header-wrapper&quot;)));","title":"How to wait for a user to login before checking they are successful using Selenium","body":"<p>Try using explict wait after &quot;Then&quot; before using findelement</p>\n<p>refer this\n<a href=\"https://www.selenium.dev/documentation/webdriver/waits/#explicit-wait\" rel=\"nofollow noreferrer\">https://www.selenium.dev/documentation/webdriver/waits/#explicit-wait</a></p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(30));\nWebElement element =     \nwait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;Mfrontpage-header-wrapper&quot;)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676406812,"creation_date":1676406812,"answer_id":75453008,"question_id":75450885,"body_markdown":"When you execute this line of code:\r\n\r\n\tthis.driver.findElement(By.id(&quot;loginbtn&quot;)).click(); //Clicking will then load the homepage\r\n\t\r\nThe user gets logged in and the user&#39;s homepage gets loaded. So the element identfied with:\r\n\r\n\tthis.driver.findElement(By.id(&quot;frontpage-header-wrapper&quot;)); //Once on the homepage, I want to find this element to show the user has logged in\r\n\t\r\nis not readily available within the [DOM Tree](https://javascript.info/dom-nodes)\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nOnce on the homepage to identify the _**visible**_ element you need to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the [visibilityOfElementLocated](https://stackoverflow.com/a/49749804/7429447) and you can use either of the following [_locator strategies_](https://stackoverflow.com/a/48056120/7429447):\r\n\r\n- Using _id_:\r\n\r\n\t  WebElement element = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;frontpage-header-wrapper&quot;)));\r\n\r\n- Using _cssSelector_:\r\n\r\n\t  WebElement element = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;#frontpage-header-wrapper&quot;)));\r\n           \t\r\n- Using _xpath_:\r\n\r\n\t  WebElement element = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//*[@id=&#39;frontpage-header-wrapper&#39;&quot;)));","title":"How to wait for a user to login before checking they are successful using Selenium","body":"<p>When you execute this line of code:</p>\n<pre><code>this.driver.findElement(By.id(&quot;loginbtn&quot;)).click(); //Clicking will then load the homepage\n</code></pre>\n<p>The user gets logged in and the user's homepage gets loaded. So the element identfied with:</p>\n<pre><code>this.driver.findElement(By.id(&quot;frontpage-header-wrapper&quot;)); //Once on the homepage, I want to find this element to show the user has logged in\n</code></pre>\n<p>is not readily available within the <a href=\"https://javascript.info/dom-nodes\" rel=\"nofollow noreferrer\">DOM Tree</a></p>\n<hr />\n<h2>Solution</h2>\n<p>Once on the homepage to identify the <em><strong>visible</strong></em> element you need to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/a/49749804/7429447\">visibilityOfElementLocated</a> and you can use either of the following <a href=\"https://stackoverflow.com/a/48056120/7429447\"><em>locator strategies</em></a>:</p>\n<ul>\n<li><p>Using <em>id</em>:</p>\n<pre><code>WebElement element = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;frontpage-header-wrapper&quot;)));\n</code></pre>\n</li>\n<li><p>Using <em>cssSelector</em>:</p>\n<pre><code>WebElement element = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;#frontpage-header-wrapper&quot;)));\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em>:</p>\n<pre><code>WebElement element = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//*[@id='frontpage-header-wrapper'&quot;)));\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":27785706,"reputation":13,"user_id":21213195,"display_name":"Heisenthurg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75453008,"answer_count":2,"score":1,"last_activity_date":1676407127,"creation_date":1676393341,"question_id":75450885,"body_markdown":"I have written a cucumber scenario to complete the username and password fields, then click submit. Once submit is pressed, it should take the user to the homepage and check for an element to show they are logged in.\r\n\r\nCurrently, then final &#39;Then&#39; part of the scenario fails as it says it cannot find the element #frontpage-header-wrapper - as if it is checking before the login has happened and the homepage has loaded.\r\n\r\nWhat am I doing wrong here? This is the code I have currently:\r\n```\r\nGiven(&quot;I am on the VLE login page&quot;, function(){\r\n    this.driver = new Builder()\r\n        .forBrowser(&#39;chrome&#39;)\r\n        .build();\r\n \r\n    this.driver.get(&#39;http://website.com&#39;);\r\n});\r\n\r\nWhen(&quot;I enter my credentials&quot;, function(){\r\n    this.driver.findElement(By.id(&quot;username&quot;)).sendKeys(&quot;username1&quot;);\r\n    this.driver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;password1&quot;);\r\n    this.driver.findElement(By.id(&quot;loginbtn&quot;)).click(); //Clicking will then load the homepage\r\n});\r\n\r\nThen(&quot;I am logged in to the VLE&quot;, function(){\r\n    this.driver.findElement(By.id(&quot;frontpage-header-wrapper&quot;)); //Once on the homepage, I want to find this element to show the user has logged in\r\n});\r\n```","title":"How to wait for a user to login before checking they are successful using Selenium","body":"<p>I have written a cucumber scenario to complete the username and password fields, then click submit. Once submit is pressed, it should take the user to the homepage and check for an element to show they are logged in.</p>\n<p>Currently, then final 'Then' part of the scenario fails as it says it cannot find the element #frontpage-header-wrapper - as if it is checking before the login has happened and the homepage has loaded.</p>\n<p>What am I doing wrong here? This is the code I have currently:</p>\n<pre><code>Given(&quot;I am on the VLE login page&quot;, function(){\n    this.driver = new Builder()\n        .forBrowser('chrome')\n        .build();\n \n    this.driver.get('http://website.com');\n});\n\nWhen(&quot;I enter my credentials&quot;, function(){\n    this.driver.findElement(By.id(&quot;username&quot;)).sendKeys(&quot;username1&quot;);\n    this.driver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;password1&quot;);\n    this.driver.findElement(By.id(&quot;loginbtn&quot;)).click(); //Clicking will then load the homepage\n});\n\nThen(&quot;I am logged in to the VLE&quot;, function(){\n    this.driver.findElement(By.id(&quot;frontpage-header-wrapper&quot;)); //Once on the homepage, I want to find this element to show the user has logged in\n});\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1391754707,"post_id":21620779,"comment_id":32669859,"body_markdown":"If you&#39;re using Eclipse, you will need to place the resource in a directory at the package root...You&#39;ll need to find an Eclipse reference to get the full details.  If you have the Jar file, try unzipping it and checking that the `abc.properties` exists where you expect to it","body":"If you&#39;re using Eclipse, you will need to place the resource in a directory at the package root...You&#39;ll need to find an Eclipse reference to get the full details.  If you have the Jar file, try unzipping it and checking that the <code>abc.properties</code> exists where you expect to it"}],"answers":[{"tags":[],"owner":{"account_id":2765078,"reputation":4245,"user_id":2381006,"accept_rate":42,"display_name":"dev2d"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391755295,"creation_date":1391755295,"answer_id":21620971,"question_id":21620779,"body_markdown":"your method one has to work as far as `this` refers to class a and properties file is present at the destination you mentioned","title":"How to read the property file from a class file packed as a same jar","body":"<p>your method one has to work as far as <code>this</code> refers to class a and properties file is present at the destination you mentioned</p>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1391757120,"creation_date":1391755438,"answer_id":21621025,"question_id":21620779,"body_markdown":"It should work. The only reason it wouldn&#39;t is that com/xyz/Property/abc.properties is not in the jar ","title":"How to read the property file from a class file packed as a same jar","body":"<p>It should work. The only reason it wouldn't is that com/xyz/Property/abc.properties is not in the jar </p>\n"},{"tags":[],"owner":{"account_id":3971227,"reputation":8507,"user_id":3275788,"display_name":"wumpz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391757783,"creation_date":1391757783,"answer_id":21621669,"question_id":21620779,"body_markdown":"You are using a relative path (no **/** at the beginning), therefore **getResourceAsStream** starts from the package of your Object (**this**). Add the **/** at the beginning and you are searching classpath absolute and because you are in the same Classloader (your Class and your Property - File are in the same jar) here are no issues as well.","title":"How to read the property file from a class file packed as a same jar","body":"<p>You are using a relative path (no <strong>/</strong> at the beginning), therefore <strong>getResourceAsStream</strong> starts from the package of your Object (<strong>this</strong>). Add the <strong>/</strong> at the beginning and you are searching classpath absolute and because you are in the same Classloader (your Class and your Property - File are in the same jar) here are no issues as well.</p>\n"},{"tags":[],"owner":{"account_id":2288194,"reputation":7556,"user_id":2011748,"display_name":"Peter Keller"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1391758177,"creation_date":1391758177,"answer_id":21621800,"question_id":21620779,"body_markdown":"Start the path with a `/`, see https://stackoverflow.com/questions/3803326/this-getclass-getclassloader-getresource-and-nullpointerexception/3803527#3803527.\r\n\r\nThat said:\r\n\r\n  - If you use Maven, put your property files to `src/main/resources/com/xyz/property`. Maven will do the necessary copying for you.\r\n  - Always begin your Java package names with a lower case letter, i.e. use `property` instead of `Property`. Normally, you expect only Java classes to begin with a capital letter.\r\n  - Usually, it is not necessary to work with the classloader, use `Constants.class.getResourceAsStream(&quot;/com/xyz/property/abc.properties&quot;)` instead.\r\n\r\n  ","title":"How to read the property file from a class file packed as a same jar","body":"<p>Start the path with a <code>/</code>, see <a href=\"https://stackoverflow.com/questions/3803326/this-getclass-getclassloader-getresource-and-nullpointerexception/3803527#3803527\">this.getClass().getClassLoader().getResource(&quot;...&quot;) and NullPointerException</a>.</p>\n\n<p>That said:</p>\n\n<ul>\n<li>If you use Maven, put your property files to <code>src/main/resources/com/xyz/property</code>. Maven will do the necessary copying for you.</li>\n<li>Always begin your Java package names with a lower case letter, i.e. use <code>property</code> instead of <code>Property</code>. Normally, you expect only Java classes to begin with a capital letter.</li>\n<li>Usually, it is not necessary to work with the classloader, use <code>Constants.class.getResourceAsStream(\"/com/xyz/property/abc.properties\")</code> instead.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":24542430,"reputation":1,"user_id":20133339,"display_name":"Shapetable"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676407017,"creation_date":1676407017,"answer_id":75453039,"question_id":21620779,"body_markdown":"There might be an exception thrown while trying to read the InputStream object value. Try using a throws IOException class.","title":"How to read the property file from a class file packed as a same jar","body":"<p>There might be an exception thrown while trying to read the InputStream object value. Try using a throws IOException class.</p>\n"}],"owner":{"account_id":1421603,"reputation":5012,"user_id":1346104,"accept_rate":16,"display_name":"Manigandan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1676407017,"creation_date":1391754561,"question_id":21620779,"body_markdown":"I want to read a property file from a java class file which the both are packed together as a same jar. \r\n\r\n**Project Structure:**\r\n\r\n    src  \r\n    ---&gt;com  \r\n    -------&gt;xyz  \r\n    -----------&gt;Property(foldername)  \r\n    --------------------------------------&gt;abc.properties  \r\n    -----------&gt;JavaClassFileFolder  \r\n    --------------------------------------&gt;a.java\r\n\r\nIn the above structure folder, i want to read a `abc.properties` file from `a.java` file. I tried below methods in `a.java` file to read. \r\n\r\n**Method1:**\r\n\r\n    InputStream in = this.getClass().getClassLoader().getResourceAsStream(&quot;com/xyz/Property/abc.properties&quot;);  \r\n    Properties prop =  new Properties();  \r\n    prop.load(in);\r\n\r\n**Result**: Throws NPE at prop.load(in)\r\n\r\n**Method 2:**\r\n\r\n    ClassLoader cl = Constants.class.getClassLoader();\r\n    Properties prop =  new Properties();   \r\n    prop .load(cl.getResourceAsStream(&quot;com/xyz/Property/abc.properties&quot;));\r\n\r\n**Result**: Throws NPE at prop.load(in)\r\n\r\n\r\n\r\n \r\n\r\n\r\n","title":"How to read the property file from a class file packed as a same jar","body":"<p>I want to read a property file from a java class file which the both are packed together as a same jar. </p>\n\n<p><strong>Project Structure:</strong></p>\n\n<pre><code>src  \n---&gt;com  \n-------&gt;xyz  \n-----------&gt;Property(foldername)  \n--------------------------------------&gt;abc.properties  \n-----------&gt;JavaClassFileFolder  \n--------------------------------------&gt;a.java\n</code></pre>\n\n<p>In the above structure folder, i want to read a <code>abc.properties</code> file from <code>a.java</code> file. I tried below methods in <code>a.java</code> file to read. </p>\n\n<p><strong>Method1:</strong></p>\n\n<pre><code>InputStream in = this.getClass().getClassLoader().getResourceAsStream(\"com/xyz/Property/abc.properties\");  \nProperties prop =  new Properties();  \nprop.load(in);\n</code></pre>\n\n<p><strong>Result</strong>: Throws NPE at prop.load(in)</p>\n\n<p><strong>Method 2:</strong></p>\n\n<pre><code>ClassLoader cl = Constants.class.getClassLoader();\nProperties prop =  new Properties();   \nprop .load(cl.getResourceAsStream(\"com/xyz/Property/abc.properties\"));\n</code></pre>\n\n<p><strong>Result</strong>: Throws NPE at prop.load(in)</p>\n"},{"tags":["java","security","e-commerce","fraud-prevention"],"comments":[{"owner":{"account_id":6932217,"reputation":4050,"user_id":5321363,"accept_rate":80,"display_name":"Rann Lifshitz"},"score":0,"creation_date":1522750126,"post_id":49627301,"comment_id":86261711,"body_markdown":"Regarding your partially redeemed keys : Why not deprecate the original key and create a new random key for the partially utilized gift card ? In effect - you recerate the gift card with a lower balance.","body":"Regarding your partially redeemed keys : Why not deprecate the original key and create a new random key for the partially utilized gift card ? In effect - you recerate the gift card with a lower balance."},{"owner":{"account_id":6932217,"reputation":4050,"user_id":5321363,"accept_rate":80,"display_name":"Rann Lifshitz"},"score":0,"creation_date":1522750214,"post_id":49627301,"comment_id":86261773,"body_markdown":"Looks like the secure key generation issue is also nicely discussed here:\nhttps://stackoverflow.com/questions/7111651/how-to-generate-a-secure-random-alphanumeric-string-in-java-efficiently","body":"Looks like the secure key generation issue is also nicely discussed here: <a href=\"https://stackoverflow.com/questions/7111651/how-to-generate-a-secure-random-alphanumeric-string-in-java-efficiently\" title=\"how to generate a secure random alphanumeric string in java efficiently\">stackoverflow.com/questions/7111651/&hellip;</a>"},{"owner":{"account_id":1294821,"reputation":4548,"user_id":1246159,"accept_rate":71,"display_name":"Mark"},"score":0,"creation_date":1522752159,"post_id":49627301,"comment_id":86262910,"body_markdown":"@ErwinBolwidt I will place this one on security.stackexchange.com so. Yes it&#39;s a startup company with only 3 developers so we are free to decide this ourselves","body":"@ErwinBolwidt I will place this one on security.stackexchange.com so. Yes it&#39;s a startup company with only 3 developers so we are free to decide this ourselves"},{"owner":{"account_id":1294821,"reputation":4548,"user_id":1246159,"accept_rate":71,"display_name":"Mark"},"score":0,"creation_date":1522752237,"post_id":49627301,"comment_id":86262955,"body_markdown":"@RannLifshitz yes one of the solutions i&#39;m considering is to deprecate the original key and create a new one for the balance (outlined above in question)","body":"@RannLifshitz yes one of the solutions i&#39;m considering is to deprecate the original key and create a new one for the balance (outlined above in question)"},{"owner":{"account_id":6932217,"reputation":4050,"user_id":5321363,"accept_rate":80,"display_name":"Rann Lifshitz"},"score":0,"creation_date":1522755584,"post_id":49627301,"comment_id":86264959,"body_markdown":"@Mark : I would definitly go with the deprecation and recreation of the key, based on balance change. This is a reduction of your problem - a key is associated with a balance, not a user (though you can use a DB to associate a user with multiple keys in order to record user actions). If usability is an issue - encapsulate the unique key - use a user token instead of the key. The token will be unique for the user (1-1 relationship), the encripted string will be unique for the balance, and the assocaition between the two will bedone on your backend.","body":"@Mark : I would definitly go with the deprecation and recreation of the key, based on balance change. This is a reduction of your problem - a key is associated with a balance, not a user (though you can use a DB to associate a user with multiple keys in order to record user actions). If usability is an issue - encapsulate the unique key - use a user token instead of the key. The token will be unique for the user (1-1 relationship), the encripted string will be unique for the balance, and the assocaition between the two will bedone on your backend."},{"owner":{"account_id":4390558,"reputation":1750,"user_id":3579095,"accept_rate":44,"display_name":"Lars"},"score":1,"creation_date":1522758132,"post_id":49627301,"comment_id":86266690,"body_markdown":"I hope I understand your concept correctly. But I wouldn&#39;t send informations such as giftcodes over third party servers. I would use a system like paypal or paysafecard. If a user want to pay something with a giftcard, he will be forwarded to your server to enter the code. You then notify the third party that the payment was successfully or not.","body":"I hope I understand your concept correctly. But I wouldn&#39;t send informations such as giftcodes over third party servers. I would use a system like paypal or paysafecard. If a user want to pay something with a giftcard, he will be forwarded to your server to enter the code. You then notify the third party that the payment was successfully or not."},{"owner":{"account_id":1294821,"reputation":4548,"user_id":1246159,"accept_rate":71,"display_name":"Mark"},"score":0,"creation_date":1522764527,"post_id":49627301,"comment_id":86271390,"body_markdown":"@Lars Unfortunately that isn&#39;t an option. One option is encrypting the code on the client browser when they enter it on the online store, hitting our servers and returning some sort of key we store on the online store and associate with the payment..","body":"@Lars Unfortunately that isn&#39;t an option. One option is encrypting the code on the client browser when they enter it on the online store, hitting our servers and returning some sort of key we store on the online store and associate with the payment.."},{"owner":{"account_id":4390558,"reputation":1750,"user_id":3579095,"accept_rate":44,"display_name":"Lars"},"score":0,"creation_date":1522766925,"post_id":49627301,"comment_id":86273250,"body_markdown":"@Mark Do you have control over the online store? If not, this won&#39;t help much. The online store still has the code in plain text, not only the encrypted version. (Another problem) What if, the online store asks a user to pay 10$. Now the user enters a code with a value of 50$. The (evil) store could just send a request to your server to pay 50$ with the giftcode, that the user entered. You can&#39;t verify that the request contains only actions that the user accepted to do. Please ask this on security.stackexchange.com I&#39;m very interested to see solutions to this question.","body":"@Mark Do you have control over the online store? If not, this won&#39;t help much. The online store still has the code in plain text, not only the encrypted version. (Another problem) What if, the online store asks a user to pay 10$. Now the user enters a code with a value of 50$. The (evil) store could just send a request to your server to pay 50$ with the giftcode, that the user entered. You can&#39;t verify that the request contains only actions that the user accepted to do. Please ask this on security.stackexchange.com I&#39;m very interested to see solutions to this question."},{"owner":{"account_id":1294821,"reputation":4548,"user_id":1246159,"accept_rate":71,"display_name":"Mark"},"score":0,"creation_date":1522767797,"post_id":49627301,"comment_id":86273935,"body_markdown":"@Lars we do to a certain extend, we have created a plugin which they install so we can control certain things. We only have 2 customers and haven&#39;t gone live yet, but have legal contracts in place.  I have re-created this on Security Stack Exchange and already have an interesting answer https://security.stackexchange.com/questions/182840/generating-and-securing-gift-card-codes","body":"@Lars we do to a certain extend, we have created a plugin which they install so we can control certain things. We only have 2 customers and haven&#39;t gone live yet, but have legal contracts in place.  I have re-created this on Security Stack Exchange and already have an interesting answer <a href=\"https://security.stackexchange.com/questions/182840/generating-and-securing-gift-card-codes\" title=\"generating and securing gift card codes\">security.stackexchange.com/questions/182840/&hellip;</a>"},{"owner":{"account_id":1294821,"reputation":4548,"user_id":1246159,"accept_rate":71,"display_name":"Mark"},"score":0,"creation_date":1522768078,"post_id":49627301,"comment_id":86274132,"body_markdown":"@Lars this is a good point - after the user successfully makes an order, the online store makes a request to our servers with the redeem amount - this is done through our plugin which listens for successful orders. Hmmm","body":"@Lars this is a good point - after the user successfully makes an order, the online store makes a request to our servers with the redeem amount - this is done through our plugin which listens for successful orders. Hmmm"},{"owner":{"account_id":6932217,"reputation":4050,"user_id":5321363,"accept_rate":80,"display_name":"Rann Lifshitz"},"score":0,"creation_date":1522770794,"post_id":49627301,"comment_id":86275968,"body_markdown":"@Mark : For the hash I would suggest using the user id + balance + date in order to ensure uniqueness.","body":"@Mark : For the hash I would suggest using the user id + balance + date in order to ensure uniqueness."}],"answers":[{"tags":[],"owner":{"account_id":13187313,"reputation":1322,"user_id":9524896,"display_name":"Haris Nadeem"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1524869766,"creation_date":1523082776,"answer_id":49704620,"question_id":49627301,"body_markdown":"So the problem you are facing is an interesting problem. I read **@Therac&#39;s** solution to the problem and I would have to agree with him that you would end up creating a protocol similar to a crypto-currency. I also agree with all his cryptographic suggestions. \r\n\r\nI will not repeat **@Therac&#39;s** solution, however, I will see if I can help by explaining some ideas from crypto-currencies. I will not go into much technical detail, but at a superficial level and you can judge for yourself if the idea holds merit for your use case. \r\n\r\nSo the data structure that most cryptocurrencies use is a Merkle hash tree. The idea is that they keep it as an append only log of transactions to verify previous transactions and that they are not being double spent. \r\n\r\nSo there are two types of transactions. \r\n\r\n1. CreateGiftCode\r\n2. SpendGiftCode\r\n\r\nCreate transactions are only valid if it is [signed by your company][1]. Thus you would store the amount you gave, the user&#39;s public address (Potentially his account number) and his gift card code. \r\n\r\nThe second kind of transaction would then be SpendGiftCode. This requires the person&#39;s gift card code and would require him to also sign the transaction to validate that the transaction is coming from him. \r\n\r\nSpendGiftCode then consumes the gift card code completely (destroys the gift card code and stores that it&#39;s been used) and does one of two things:\r\n\r\n 1. If the complete amount is spent, say a gift card of $50 is completely spent on a transaction, then a new `giftcardcode` is generated to the public address of the person he is paying to (which is the other parties account number).\r\n 2.  If the amount to be spent is less, say $10 out of $50, then two `giftcardcodes` are generated. One which is of $10 is sent to the other party and a new `giftcardcode` of the remaining amount is sent back to his account.\r\n\r\nThis would require account creation for your users and vendors but can help mitigate issues such as double spending and tracking. Since it is an append only log, you will be able to follow the trail of transactions every vendor and user makes. The [merkle hash tree][2] allows for optimizations in the log keeping. \r\n\r\nOf course, there are several layers of technical difficulties I did not dive into and there are of course some plot holes in my explanation since I tried to provide a broad conceptual idea. Feel free to edit wherever you may see a mistake. Hope this was of some help,\r\n\r\nCheers!\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Digital_signature\r\n  [2]: https://brilliant.org/wiki/merkle-tree/","title":"Generating and securing gift card codes","body":"<p>So the problem you are facing is an interesting problem. I read <strong>@Therac's</strong> solution to the problem and I would have to agree with him that you would end up creating a protocol similar to a crypto-currency. I also agree with all his cryptographic suggestions. </p>\n\n<p>I will not repeat <strong>@Therac's</strong> solution, however, I will see if I can help by explaining some ideas from crypto-currencies. I will not go into much technical detail, but at a superficial level and you can judge for yourself if the idea holds merit for your use case. </p>\n\n<p>So the data structure that most cryptocurrencies use is a Merkle hash tree. The idea is that they keep it as an append only log of transactions to verify previous transactions and that they are not being double spent. </p>\n\n<p>So there are two types of transactions. </p>\n\n<ol>\n<li>CreateGiftCode</li>\n<li>SpendGiftCode</li>\n</ol>\n\n<p>Create transactions are only valid if it is <a href=\"https://en.wikipedia.org/wiki/Digital_signature\" rel=\"nofollow noreferrer\">signed by your company</a>. Thus you would store the amount you gave, the user's public address (Potentially his account number) and his gift card code. </p>\n\n<p>The second kind of transaction would then be SpendGiftCode. This requires the person's gift card code and would require him to also sign the transaction to validate that the transaction is coming from him. </p>\n\n<p>SpendGiftCode then consumes the gift card code completely (destroys the gift card code and stores that it's been used) and does one of two things:</p>\n\n<ol>\n<li>If the complete amount is spent, say a gift card of $50 is completely spent on a transaction, then a new <code>giftcardcode</code> is generated to the public address of the person he is paying to (which is the other parties account number).</li>\n<li>If the amount to be spent is less, say $10 out of $50, then two <code>giftcardcodes</code> are generated. One which is of $10 is sent to the other party and a new <code>giftcardcode</code> of the remaining amount is sent back to his account.</li>\n</ol>\n\n<p>This would require account creation for your users and vendors but can help mitigate issues such as double spending and tracking. Since it is an append only log, you will be able to follow the trail of transactions every vendor and user makes. The <a href=\"https://brilliant.org/wiki/merkle-tree/\" rel=\"nofollow noreferrer\">merkle hash tree</a> allows for optimizations in the log keeping. </p>\n\n<p>Of course, there are several layers of technical difficulties I did not dive into and there are of course some plot holes in my explanation since I tried to provide a broad conceptual idea. Feel free to edit wherever you may see a mistake. Hope this was of some help,</p>\n\n<p>Cheers!</p>\n"},{"tags":[],"owner":{"account_id":3635878,"reputation":2746,"user_id":3031010,"accept_rate":57,"display_name":"egorlitvinenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523341344,"creation_date":1523340948,"answer_id":49746591,"question_id":49627301,"body_markdown":"Consider using OAuth 2.0 protocol with JWT. Authenticate user on shop side with OAuth and provide information about balance in the token. Don&#39;t provide any gift card codes or any crucial personal information. If you need to provide gift code (for customers investigations) generate any just to distinguish but don&#39;t use them for authentication. When a user makes transaction online shop need to authenticate them to receive the actual balance.","title":"Generating and securing gift card codes","body":"<p>Consider using OAuth 2.0 protocol with JWT. Authenticate user on shop side with OAuth and provide information about balance in the token. Don't provide any gift card codes or any crucial personal information. If you need to provide gift code (for customers investigations) generate any just to distinguish but don't use them for authentication. When a user makes transaction online shop need to authenticate them to receive the actual balance.</p>\n"},{"tags":[],"owner":{"account_id":341428,"reputation":1283,"user_id":672030,"display_name":"Andrei Mărcuţ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525905847,"creation_date":1523466444,"answer_id":49780861,"question_id":49627301,"body_markdown":"For the **first question (numeric or alpha-numeric?)** - If you focus on security (which I believe should be the case), then you want to increase the complexity of the coding alphabet so that a brute-force/guessing attacker would have to spend more effort to discover a valid gift code\r\n \r\nBy increasing the number of possibilities, the probability of guessing decreases (but it&#39;s still not bullet proof yet)\r\n\r\nI recommend using **alpha (case-sensitive) + numeric**\r\n\r\nIn fact, you are more concerned here if the attacker can repeatedly attempt to guess your codes, rather than randomly guessing a code in a one-shot\r\n\r\nTo prevent that, you could leverage existing security mechanisms/concepts, such as:\r\n\r\n(1) in the event of (your choice) 1-2-3-5 failed coupon calls, you could introduce an exponential retry delay for limiting the amount of consecutive attacks the same source could mount on your API\r\n\r\n(2) set a captcha mechanism via http redirects, to prevent bots abusing after X (your choice) failed API hits\r\n\r\n*Also*, since you are using random functions within a relatively low range of numbers, you&#39;d want to double-check the uniqueness of the new generated code against the db before granting the code to the customer, to avoid an eventual collision which in turn could put your app in an unwanted state\r\n\r\nFor the **second question,** that sounds more like it&#39;s a business decision before choosing the security mechanisms. If you want to stay a coupon service you could fund the partner the entire amount and let him manage the balance, or you could preserve the remaining balance on the existing coupon in your own system, at the risk of the partner leaking your coupon code data which then would be a much bigger problem for you or you could as well issue another new coupon with the remaining balance (but then you have the challenge of associating it to an unknown user that could be easily distracted from this flow) otherwise you&#39;d have to manage user financial accounts, which turns you into a different service..","title":"Generating and securing gift card codes","body":"<p>For the <strong>first question (numeric or alpha-numeric?)</strong> - If you focus on security (which I believe should be the case), then you want to increase the complexity of the coding alphabet so that a brute-force/guessing attacker would have to spend more effort to discover a valid gift code</p>\n\n<p>By increasing the number of possibilities, the probability of guessing decreases (but it's still not bullet proof yet)</p>\n\n<p>I recommend using <strong>alpha (case-sensitive) + numeric</strong></p>\n\n<p>In fact, you are more concerned here if the attacker can repeatedly attempt to guess your codes, rather than randomly guessing a code in a one-shot</p>\n\n<p>To prevent that, you could leverage existing security mechanisms/concepts, such as:</p>\n\n<p>(1) in the event of (your choice) 1-2-3-5 failed coupon calls, you could introduce an exponential retry delay for limiting the amount of consecutive attacks the same source could mount on your API</p>\n\n<p>(2) set a captcha mechanism via http redirects, to prevent bots abusing after X (your choice) failed API hits</p>\n\n<p><em>Also</em>, since you are using random functions within a relatively low range of numbers, you'd want to double-check the uniqueness of the new generated code against the db before granting the code to the customer, to avoid an eventual collision which in turn could put your app in an unwanted state</p>\n\n<p>For the <strong>second question,</strong> that sounds more like it's a business decision before choosing the security mechanisms. If you want to stay a coupon service you could fund the partner the entire amount and let him manage the balance, or you could preserve the remaining balance on the existing coupon in your own system, at the risk of the partner leaking your coupon code data which then would be a much bigger problem for you or you could as well issue another new coupon with the remaining balance (but then you have the challenge of associating it to an unknown user that could be easily distracted from this flow) otherwise you'd have to manage user financial accounts, which turns you into a different service..</p>\n"},{"tags":[],"owner":{"account_id":1294821,"reputation":4548,"user_id":1246159,"accept_rate":71,"display_name":"Mark"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525167141,"creation_date":1525098050,"answer_id":50102461,"question_id":49627301,"body_markdown":"I went through all the replies and came up with a solution, taking into account the suggestions:\r\n\r\n- We generate a link to send to the user. The key sent in the link is a random alphanumeric string and it is hashed (MD5 or something similar) so cannot be reveversed before being saved in the DB. \r\n\r\n- When user clicks on link, they are redirected to our landing page, we use the key to get the order, check the status of the order and whether there is credit on it, and if it&#39;s ok we generate a 16 character length alphanumeric code and send to the UI. The 16 character code is hashed (again MD5) and saved in our database. Each time a user clicks on the link, they see a new gift card code as it&#39;s generated on the fly each time.\r\n\r\n- In the contract with the online store, we specify they cannot log or save the gift card code anywhere (our 2 clients are large well known online retailers)\r\n\r\n- On our client&#39;s online store checkout page, to pay with our gift card code, the user provides the 16 character gift card code. It is sent to our servers and the balance and a random payment I.D. is returned to the online store. This payment I.D is saved on the online store as part of the order. On order complete, the online store sends an API request (with the payment I.D.) to our servers to redeem the amount from the gift card (this functionality has been built by us and is provided to the online store via a plugin they install).\r\n\r\n- communication between the online store and our API is authenticated using OAuth 2.0\r\n\r\n- If there is a balance left on the gift card, a new gift card code is generated (user is sent a new link to get their new gift card code for the balance)\r\n\r\n- When the online store is billing us, they provide us with a list of payment I.D.&#39;s, which we then match to gift card codes in our backend (then matched to our issuer).\r\n\r\n\r\nProtects:\r\n\r\n* The gift card code isn&#39;t sent to an email - just the link (in our backend we can do some checks - like see of the order has expired, has the credit already been used up, before displaying the gift card code)\r\n* Someone with access to the online store&#39;s DB will not see our gift card codes\r\n* Someone who has hacked our database cannot see gift card codes (as they are hashed), nor generate the link to see the gift card codes (as the key for the link is hashed)\r\n\r\n\r\nLet me know if any comments.","title":"Generating and securing gift card codes","body":"<p>I went through all the replies and came up with a solution, taking into account the suggestions:</p>\n\n<ul>\n<li><p>We generate a link to send to the user. The key sent in the link is a random alphanumeric string and it is hashed (MD5 or something similar) so cannot be reveversed before being saved in the DB. </p></li>\n<li><p>When user clicks on link, they are redirected to our landing page, we use the key to get the order, check the status of the order and whether there is credit on it, and if it's ok we generate a 16 character length alphanumeric code and send to the UI. The 16 character code is hashed (again MD5) and saved in our database. Each time a user clicks on the link, they see a new gift card code as it's generated on the fly each time.</p></li>\n<li><p>In the contract with the online store, we specify they cannot log or save the gift card code anywhere (our 2 clients are large well known online retailers)</p></li>\n<li><p>On our client's online store checkout page, to pay with our gift card code, the user provides the 16 character gift card code. It is sent to our servers and the balance and a random payment I.D. is returned to the online store. This payment I.D is saved on the online store as part of the order. On order complete, the online store sends an API request (with the payment I.D.) to our servers to redeem the amount from the gift card (this functionality has been built by us and is provided to the online store via a plugin they install).</p></li>\n<li><p>communication between the online store and our API is authenticated using OAuth 2.0</p></li>\n<li><p>If there is a balance left on the gift card, a new gift card code is generated (user is sent a new link to get their new gift card code for the balance)</p></li>\n<li><p>When the online store is billing us, they provide us with a list of payment I.D.'s, which we then match to gift card codes in our backend (then matched to our issuer).</p></li>\n</ul>\n\n<p>Protects:</p>\n\n<ul>\n<li>The gift card code isn't sent to an email - just the link (in our backend we can do some checks - like see of the order has expired, has the credit already been used up, before displaying the gift card code)</li>\n<li>Someone with access to the online store's DB will not see our gift card codes</li>\n<li>Someone who has hacked our database cannot see gift card codes (as they are hashed), nor generate the link to see the gift card codes (as the key for the link is hashed)</li>\n</ul>\n\n<p>Let me know if any comments.</p>\n"}],"owner":{"account_id":1294821,"reputation":4548,"user_id":1246159,"accept_rate":71,"display_name":"Mark"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3344,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"answer_count":4,"score":10,"last_activity_date":1676406906,"creation_date":1522749758,"question_id":49627301,"body_markdown":"I&#39;m working for a company that is generating gift card codes which can be used to pay for goods on online stores. \r\n\r\nI&#39;m wondering what the most secure way of generating these gift card codes are. The length needs to be 16 characters (though that is negotiable) and can be alphanumeric (though numeric would be more customer friendly). \r\n\r\nFrom what I can see, the most secure way to do this is generate a gift card code of a specific length with the following Java code:\r\n\r\n\tstatic final String AB = &quot;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n\tstatic SecureRandom rnd = new SecureRandom();\r\n\r\n\tString randomString( int len ){\r\n\t   StringBuilder sb = new StringBuilder( len );\r\n\t   for( int i = 0; i &lt; len; i++ ) \r\n\t      sb.append( AB.charAt( rnd.nextInt(AB.length()) ) );\r\n\t   return sb.toString();\r\n\t}\r\n\r\nThis is taken from the SO answer [here][1]. I removed the lowercase letters from the string to make it more user friendly. So this produces 36 ^ 16 combinations. Numeric alone would be 10 ^ 16 combinations. I believe numeric alone would be enough but it&#39;s often stressed that, given the increasing prevalence of gift card fraud, the string should be alphanumeric.\r\n\r\n**So that&#39;s question one: numeric or alphanumeric?**\r\n\r\nWhen users use the gift cards on an online store to pay for goods, a call is made to our API which returns the balance and currency for that gift card. Given that the gift card codes are entered on 3rd party servers, these gift cards are now available to people with access to those servers. This is obviously a problem in the case where there is still a balance left after a user has partially redeemed one.\r\n\r\nOne option would be to, when the call to our API is made (with the gift card code) to get the balance, we return and save on their store a random string which can only be used by the online store when they are billing us - we will match that with the gift card code on our system. The problem with that is presumably the gift card code the user enters on checkout gets logged somewhere in their logs, and is accessible to anyone with access to those logs. \r\n\r\nAnother option is that we refresh the gift card code after it is partially redeemed. So the user essentially gets issued with a new gift card code for the balance and the previous one is cancelled. This is probably the most secure, but not that user friendly.\r\n\r\n**So that&#39;s the second question: how do we secure gift card codes that are only partially redeemed and still have value left on them?**\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/157202/1246159","title":"Generating and securing gift card codes","body":"<p>I'm working for a company that is generating gift card codes which can be used to pay for goods on online stores. </p>\n\n<p>I'm wondering what the most secure way of generating these gift card codes are. The length needs to be 16 characters (though that is negotiable) and can be alphanumeric (though numeric would be more customer friendly). </p>\n\n<p>From what I can see, the most secure way to do this is generate a gift card code of a specific length with the following Java code:</p>\n\n<pre><code>static final String AB = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\nstatic SecureRandom rnd = new SecureRandom();\n\nString randomString( int len ){\n   StringBuilder sb = new StringBuilder( len );\n   for( int i = 0; i &lt; len; i++ ) \n      sb.append( AB.charAt( rnd.nextInt(AB.length()) ) );\n   return sb.toString();\n}\n</code></pre>\n\n<p>This is taken from the SO answer <a href=\"https://stackoverflow.com/a/157202/1246159\">here</a>. I removed the lowercase letters from the string to make it more user friendly. So this produces 36 ^ 16 combinations. Numeric alone would be 10 ^ 16 combinations. I believe numeric alone would be enough but it's often stressed that, given the increasing prevalence of gift card fraud, the string should be alphanumeric.</p>\n\n<p><strong>So that's question one: numeric or alphanumeric?</strong></p>\n\n<p>When users use the gift cards on an online store to pay for goods, a call is made to our API which returns the balance and currency for that gift card. Given that the gift card codes are entered on 3rd party servers, these gift cards are now available to people with access to those servers. This is obviously a problem in the case where there is still a balance left after a user has partially redeemed one.</p>\n\n<p>One option would be to, when the call to our API is made (with the gift card code) to get the balance, we return and save on their store a random string which can only be used by the online store when they are billing us - we will match that with the gift card code on our system. The problem with that is presumably the gift card code the user enters on checkout gets logged somewhere in their logs, and is accessible to anyone with access to those logs. </p>\n\n<p>Another option is that we refresh the gift card code after it is partially redeemed. So the user essentially gets issued with a new gift card code for the balance and the previous one is cancelled. This is probably the most secure, but not that user friendly.</p>\n\n<p><strong>So that's the second question: how do we secure gift card codes that are only partially redeemed and still have value left on them?</strong></p>\n"},{"tags":["java","xml","xpath"],"answers":[{"tags":[],"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676406781,"creation_date":1676403083,"answer_id":75452485,"question_id":75452316,"body_markdown":"All requested elements are children of `alumno`. This XPath gets the values\r\n\r\n    //modulo[@m=&quot;M01&quot;]/alumno[nombre[.=&quot;Steve Rogers&quot;]]/*/text()\r\n\r\nOr\r\n\r\n    //modulo[@m=&quot;M01&quot;]/alumno[1]/*/text()\r\n\r\nOr\r\n\r\n    //modulo[@m=&quot;M01&quot;]/alumno[1]/descendant::*[local-name()=&quot;nombre&quot; or starts-with(local-name(),&quot;UF&quot;)]/text()\r\n","title":"Xpath query with Java","body":"<p>All requested elements are children of <code>alumno</code>. This XPath gets the values</p>\n<pre><code>//modulo[@m=&quot;M01&quot;]/alumno[nombre[.=&quot;Steve Rogers&quot;]]/*/text()\n</code></pre>\n<p>Or</p>\n<pre><code>//modulo[@m=&quot;M01&quot;]/alumno[1]/*/text()\n</code></pre>\n<p>Or</p>\n<pre><code>//modulo[@m=&quot;M01&quot;]/alumno[1]/descendant::*[local-name()=&quot;nombre&quot; or starts-with(local-name(),&quot;UF&quot;)]/text()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676405920,"creation_date":1676405920,"answer_id":75452899,"question_id":75452316,"body_markdown":"The slash (`/`) represents a parent-child relationship.\r\n\r\n`/modulos/modulo` means “all `modulo` elements which are children of the root `modulos` element.”\r\n\r\n`alumno/nombre/UF1/UF2/UF3` means “a UF3 element which is a child of a UF2 element which is a child of a UF1 element which is a child of a nombre element which is a child of an alumno element.”  In other words, your XPath is looking for this:\r\n\r\n    &lt;modulos&gt;\r\n        &lt;modulo m=&quot;M01&quot;&gt;\r\n            &lt;alumno&gt;\r\n                &lt;nombre&gt;\r\n                    &lt;UF1&gt;\r\n                        &lt;UF2&gt;\r\n                            &lt;UF3&gt;7.00&lt;/UF3&gt;\r\n                        &lt;/UF2&gt;\r\n                    &lt;/UF1&gt;\r\n                &lt;/nombre&gt;\r\n            &lt;/alumno&gt;\r\n            &lt;alumno&gt;\r\n                &lt;nombre&gt;\r\n                    &lt;UF1&gt;\r\n                        &lt;UF2&gt;\r\n                            &lt;UF3&gt;8.00&lt;/UF3&gt;\r\n                        &lt;/UF2&gt;\r\n                    &lt;/UF1&gt;\r\n                &lt;/nombre&gt;\r\n            &lt;/alumno&gt;\r\n            &lt;alumno&gt;\r\n                &lt;nombre&gt;\r\n                    &lt;UF1&gt;\r\n                        &lt;UF2&gt;\r\n                            &lt;UF3&gt;9.00&lt;/UF3&gt;\r\n                        &lt;/UF2&gt;\r\n                    &lt;/UF1&gt;\r\n                &lt;/nombre&gt;\r\n            &lt;/alumno&gt;\r\n        &lt;/modulo&gt;\r\n\r\nObviously, this isn’t what you want.  You want the text of each child element in the `alumno` element.  The easiest way to do that is:\r\n\r\n    xpath.compile(&quot;/modulos/modulo[@m=&#39;M01&#39;]/alumno/*/text()&quot;);\r\n\r\nThe `*` means “an element with any name.”  The above expression is safe as long as you can be sure that the only element children of `alumno` will be nombre, UF1, UF2, and UF3.\r\n","title":"Xpath query with Java","body":"<p>The slash (<code>/</code>) represents a parent-child relationship.</p>\n<p><code>/modulos/modulo</code> means “all <code>modulo</code> elements which are children of the root <code>modulos</code> element.”</p>\n<p><code>alumno/nombre/UF1/UF2/UF3</code> means “a UF3 element which is a child of a UF2 element which is a child of a UF1 element which is a child of a nombre element which is a child of an alumno element.”  In other words, your XPath is looking for this:</p>\n<pre><code>&lt;modulos&gt;\n    &lt;modulo m=&quot;M01&quot;&gt;\n        &lt;alumno&gt;\n            &lt;nombre&gt;\n                &lt;UF1&gt;\n                    &lt;UF2&gt;\n                        &lt;UF3&gt;7.00&lt;/UF3&gt;\n                    &lt;/UF2&gt;\n                &lt;/UF1&gt;\n            &lt;/nombre&gt;\n        &lt;/alumno&gt;\n        &lt;alumno&gt;\n            &lt;nombre&gt;\n                &lt;UF1&gt;\n                    &lt;UF2&gt;\n                        &lt;UF3&gt;8.00&lt;/UF3&gt;\n                    &lt;/UF2&gt;\n                &lt;/UF1&gt;\n            &lt;/nombre&gt;\n        &lt;/alumno&gt;\n        &lt;alumno&gt;\n            &lt;nombre&gt;\n                &lt;UF1&gt;\n                    &lt;UF2&gt;\n                        &lt;UF3&gt;9.00&lt;/UF3&gt;\n                    &lt;/UF2&gt;\n                &lt;/UF1&gt;\n            &lt;/nombre&gt;\n        &lt;/alumno&gt;\n    &lt;/modulo&gt;\n</code></pre>\n<p>Obviously, this isn’t what you want.  You want the text of each child element in the <code>alumno</code> element.  The easiest way to do that is:</p>\n<pre><code>xpath.compile(&quot;/modulos/modulo[@m='M01']/alumno/*/text()&quot;);\n</code></pre>\n<p>The <code>*</code> means “an element with any name.”  The above expression is safe as long as you can be sure that the only element children of <code>alumno</code> will be nombre, UF1, UF2, and UF3.</p>\n"}],"owner":{"account_id":27786821,"reputation":31,"user_id":21214096,"display_name":"Looking for a answer ..."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676406781,"creation_date":1676402041,"question_id":75452316,"body_markdown":"I need the right command for an Xpath query with Java\r\n\r\nGood evening.\r\nI&#39;m here beacause I am not able to get the right result. I am trying to get UF1  UF2 UF3 and Steve Rogers in the next xml document. I am using Java and I am using the next expresion:  `XPathExpression expr = xpath.compile(&quot;/modulos/modulo[@m=&#39;M01&#39;]/alumno/nombre/text()&quot;);`\r\n\r\nI get Steve Rogers only. If I write  \r\n`XPathExpression expr = xpath.compile(&quot;/modulos/modulo[@m=&#39;M01&#39;]/alumno/nombre/UF1/UF2/UF3/text()&quot;);`\r\n\r\nI don&#180;t get anyting. Any idea? Thanks a lot. Regards\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;modulos&gt;\r\n    \t&lt;modulo m=&quot;M01&quot;&gt;\r\n    \t\t&lt;alumno&gt;\r\n    \t\t\t&lt;nombre&gt;Steve Rogers&lt;/nombre&gt;\r\n    \t\t\t&lt;UF1&gt;5.00&lt;/UF1&gt;\r\n    \t\t\t&lt;UF2&gt;3.00&lt;/UF2&gt;\r\n    \t\t\t&lt;UF3&gt;7.00&lt;/UF3&gt;\r\n    \t\t&lt;/alumno&gt;\r\n    \t\t&lt;alumno&gt;\r\n    \t\t\t&lt;nombre&gt;Bruce Banner&lt;/nombre&gt;\r\n    \t\t\t&lt;UF1&gt;9.00&lt;/UF1&gt;\r\n    \t\t\t&lt;UF2&gt;8.50&lt;/UF2&gt;\r\n    \t\t\t&lt;UF3&gt;8.00&lt;/UF3&gt;\r\n    \t\t&lt;/alumno&gt;\r\n    \t\t&lt;alumno&gt;\r\n    \t\t\t&lt;nombre&gt;Tony Stark&lt;/nombre&gt;\r\n    \t\t\t&lt;UF1&gt;9.00&lt;/UF1&gt;\r\n    \t\t\t&lt;UF2&gt;9.00&lt;/UF2&gt;\r\n    \t\t\t&lt;UF3&gt;9.00&lt;/UF3&gt;\r\n    \t\t&lt;/alumno&gt;\r\n    \t&lt;/modulo&gt;\r\n    \t&lt;modulo m=&quot;M02&quot;&gt;\r\n    \t\t&lt;alumno&gt;\r\n    \t\t\t&lt;nombre&gt;Bruce Banner&lt;/nombre&gt;\r\n    \t\t\t&lt;UF1&gt;10.00&lt;/UF1&gt;\r\n    \t\t\t&lt;UF2&gt;7.75&lt;/UF2&gt;\r\n    \t\t\t&lt;UF3&gt;6.00&lt;/UF3&gt;\r\n    \t\t&lt;/alumno&gt;\r\n    \t&lt;/modulo&gt;\r\n    \t&lt;modulo m=&quot;M03&quot;&gt;\r\n    \t\t&lt;alumno&gt;\r\n    \t\t\t&lt;nombre&gt;Bruce Banner&lt;/nombre&gt;\r\n    \t\t\t&lt;UF1&gt;8.50&lt;/UF1&gt;\r\n    \t\t\t&lt;UF2&gt;6.50&lt;/UF2&gt;\r\n    \t\t\t&lt;UF3&gt;5.00&lt;/UF3&gt;\r\n    \t\t&lt;/alumno&gt;\r\n    \t\t&lt;alumno&gt;\r\n    \t\t\t&lt;nombre&gt;Tony Stark&lt;/nombre&gt;\r\n    \t\t\t&lt;UF1&gt;8.00&lt;/UF1&gt;\r\n    \t\t\t&lt;UF2&gt;10.00&lt;/UF2&gt;\r\n    \t\t\t&lt;UF3&gt;9.00&lt;/UF3&gt;\r\n    \t\t&lt;/alumno&gt;\r\n    \t&lt;/modulo&gt;\r\n    &lt;/modulos&gt;\r\n\r\n","title":"Xpath query with Java","body":"<p>I need the right command for an Xpath query with Java</p>\n<p>Good evening.\nI'm here beacause I am not able to get the right result. I am trying to get UF1  UF2 UF3 and Steve Rogers in the next xml document. I am using Java and I am using the next expresion:  <code>XPathExpression expr = xpath.compile(&quot;/modulos/modulo[@m='M01']/alumno/nombre/text()&quot;);</code></p>\n<p>I get Steve Rogers only. If I write<br />\n<code>XPathExpression expr = xpath.compile(&quot;/modulos/modulo[@m='M01']/alumno/nombre/UF1/UF2/UF3/text()&quot;);</code></p>\n<p>I don´t get anyting. Any idea? Thanks a lot. Regards</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;modulos&gt;\n    &lt;modulo m=&quot;M01&quot;&gt;\n        &lt;alumno&gt;\n            &lt;nombre&gt;Steve Rogers&lt;/nombre&gt;\n            &lt;UF1&gt;5.00&lt;/UF1&gt;\n            &lt;UF2&gt;3.00&lt;/UF2&gt;\n            &lt;UF3&gt;7.00&lt;/UF3&gt;\n        &lt;/alumno&gt;\n        &lt;alumno&gt;\n            &lt;nombre&gt;Bruce Banner&lt;/nombre&gt;\n            &lt;UF1&gt;9.00&lt;/UF1&gt;\n            &lt;UF2&gt;8.50&lt;/UF2&gt;\n            &lt;UF3&gt;8.00&lt;/UF3&gt;\n        &lt;/alumno&gt;\n        &lt;alumno&gt;\n            &lt;nombre&gt;Tony Stark&lt;/nombre&gt;\n            &lt;UF1&gt;9.00&lt;/UF1&gt;\n            &lt;UF2&gt;9.00&lt;/UF2&gt;\n            &lt;UF3&gt;9.00&lt;/UF3&gt;\n        &lt;/alumno&gt;\n    &lt;/modulo&gt;\n    &lt;modulo m=&quot;M02&quot;&gt;\n        &lt;alumno&gt;\n            &lt;nombre&gt;Bruce Banner&lt;/nombre&gt;\n            &lt;UF1&gt;10.00&lt;/UF1&gt;\n            &lt;UF2&gt;7.75&lt;/UF2&gt;\n            &lt;UF3&gt;6.00&lt;/UF3&gt;\n        &lt;/alumno&gt;\n    &lt;/modulo&gt;\n    &lt;modulo m=&quot;M03&quot;&gt;\n        &lt;alumno&gt;\n            &lt;nombre&gt;Bruce Banner&lt;/nombre&gt;\n            &lt;UF1&gt;8.50&lt;/UF1&gt;\n            &lt;UF2&gt;6.50&lt;/UF2&gt;\n            &lt;UF3&gt;5.00&lt;/UF3&gt;\n        &lt;/alumno&gt;\n        &lt;alumno&gt;\n            &lt;nombre&gt;Tony Stark&lt;/nombre&gt;\n            &lt;UF1&gt;8.00&lt;/UF1&gt;\n            &lt;UF2&gt;10.00&lt;/UF2&gt;\n            &lt;UF3&gt;9.00&lt;/UF3&gt;\n        &lt;/alumno&gt;\n    &lt;/modulo&gt;\n&lt;/modulos&gt;\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3","amazon-glacier","aws-java-sdk-2.x"],"comments":[{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1676412113,"post_id":75453001,"comment_id":133131304,"body_markdown":"WHat is the issue - you know the required values to make a successful call to restoreObject().","body":"WHat is the issue - you know the required values to make a successful call to restoreObject()."},{"owner":{"account_id":11879605,"reputation":33,"user_id":8693662,"accept_rate":83,"display_name":"Shariq Ali"},"score":0,"creation_date":1676414104,"post_id":75453001,"comment_id":133131678,"body_markdown":"on adding the description to restoreRequest, the restoreObject() function call fails and exception is S3Exception: The XML you provided was not well-formed or did not validate against our published schema (Service: S3, Status Code: 400)\nSince its a 400 (bad request) then it means issue is on client end (due to usage of description parameter). on removing description parameter, it works perfect.","body":"on adding the description to restoreRequest, the restoreObject() function call fails and exception is S3Exception: The XML you provided was not well-formed or did not validate against our published schema (Service: S3, Status Code: 400) Since its a 400 (bad request) then it means issue is on client end (due to usage of description parameter). on removing description parameter, it works perfect."},{"owner":{"account_id":11879605,"reputation":33,"user_id":8693662,"accept_rate":83,"display_name":"Shariq Ali"},"score":0,"creation_date":1676414422,"post_id":75453001,"comment_id":133131749,"body_markdown":"@smac2020 please also check the same problem mentioned as 2nd issue, in following article.\nhttps://github.com/aws/aws-sdk/issues/246","body":"@smac2020 please also check the same problem mentioned as 2nd issue, in following article. <a href=\"https://github.com/aws/aws-sdk/issues/246\" rel=\"nofollow noreferrer\">github.com/aws/aws-sdk/issues/246</a>"}],"owner":{"account_id":11879605,"reputation":33,"user_id":8693662,"accept_rate":83,"display_name":"Shariq Ali"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676406744,"creation_date":1676406744,"question_id":75453001,"body_markdown":"Creating an *Object Restore request* from *AWS S3 Glacier Deep Archieve* to *AWS S3 standard storage* using AWS Java SDK V2 with the following code. **Which works successfully with these parameters specified for *restoreRequest object*!**\r\n\r\n    try {\r\n            S3Client s3Client = S3Client.builder().build();\r\n            System.out.println(&quot;S3 client created. . .&quot;);\r\n\r\n            RestoreRequest restoreRequest = RestoreRequest.builder().description(\r\n                    .glacierJobParameters(GlacierJobParameters.builder().tier(Tier.STANDARD).build())\r\n                    .days(1)\r\n                    .build();\r\n\r\n            RestoreObjectRequest objectRequest = RestoreObjectRequest.builder()\r\n                    .bucket(&quot;myBucket&quot;)\r\n                    .key(&quot;data/myObject.zip&quot;)\r\n                    .restoreRequest(restoreRequest)\r\n                    .build(); \r\n\r\n            s3Client.restoreObject(objectRequest);\r\n        } catch(Exception e){\r\n            e.printStackTrace();\r\n        }\r\n\r\nbut by adding only one parameter **&quot;description&quot;** (as shown in code below) to the **restoreRequest**, the following exception is thrown on **s3Client.restoreObject(objectRequest)**.\r\n\r\n    try {\r\n            S3Client s3Client = S3Client.builder().build();\r\n            System.out.println(&quot;S3 client created. . .&quot;);\r\n\r\n            RestoreRequest restoreRequest = RestoreRequest.builder().description(\r\n                    .glacierJobParameters(GlacierJobParameters.builder().tier(Tier.STANDARD).build())\r\n                    .days(1)\r\n                    .description(&quot;description about the object&quot;)\r\n                    .build();\r\n\r\n            RestoreObjectRequest objectRequest = RestoreObjectRequest.builder()\r\n                    .bucket(&quot;myBucket&quot;)\r\n                    .key(&quot;data/myObject.zip&quot;)\r\n                    .restoreRequest(restoreRequest)\r\n                    .build(); \r\n\r\n            s3Client.restoreObject(objectRequest);\r\n        } catch(Exception e){\r\n            e.printStackTrace();\r\n        }\r\n\r\n&gt;software.amazon.awssdk.services.s3.model.S3Exception: The XML you provided was not well-formed or did not validate against our published schema (Service: S3, Status Code: 400, Request ID: 0Y7K1MVBGP5SP9FS, Extended Request ID: DZfX93DOWguFo0MVnTR3Awk9i5gG867rkZnTLU4bAueRQqjBhkq5eTjFWzltJRpxMYa5LmnWal0=)\r\n        at software.amazon.awssdk.protocols.xml.internal.unmarshall.AwsXmlPredicatedResponseHandler.handleErrorResponse(AwsXmlPredicatedResponseHandler.java:156)\r\n        at software.amazon.awssdk.protocols.xml.internal.unmarshall.AwsXmlPredicatedResponseHandler.handleResponse(AwsXmlPredicatedResponseHandler.java:108)\r\n        at software.amazon.awssdk.protocols.xml.internal.unmarshall.AwsXmlPredicatedResponseHandler.handle(AwsXmlPredicatedResponseHandler.java:85)\r\n        at software.amazon.awssdk.protocols.xml.internal.unmarshall.AwsXmlPredicatedResponseHandler.handle(AwsXmlPredicatedResponseHandler.java:43)\r\n        at software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler$Crc32ValidationResponseHandler.handle(AwsSyncClientHandler.java:95)\r\n        at software.amazon.awssdk.core.internal.handler.BaseClientHandler.lambda$successTransformationResponseHandler$7(BaseClientHandler.java:245)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n        at software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\r\n        at software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\r\n        at software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\r\n        at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\r\n        at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:167)\r\n        at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\r\n        at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:175)\r\n        at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\r\n        at software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n        at software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\r\n        at software.amazon.awssdk.services.s3.DefaultS3Client.restoreObject(DefaultS3Client.java:10422)\r\n        at org.example.App.main(App.java:150)","title":"Set &quot;Description&quot; in RestoreRequest for S3 object retrieval from GDA to Standard storage using AWS Java SDK v2","body":"<p>Creating an <em>Object Restore request</em> from <em>AWS S3 Glacier Deep Archieve</em> to <em>AWS S3 standard storage</em> using AWS Java SDK V2 with the following code. <strong>Which works successfully with these parameters specified for <em>restoreRequest object</em>!</strong></p>\n<pre><code>try {\n        S3Client s3Client = S3Client.builder().build();\n        System.out.println(&quot;S3 client created. . .&quot;);\n\n        RestoreRequest restoreRequest = RestoreRequest.builder().description(\n                .glacierJobParameters(GlacierJobParameters.builder().tier(Tier.STANDARD).build())\n                .days(1)\n                .build();\n\n        RestoreObjectRequest objectRequest = RestoreObjectRequest.builder()\n                .bucket(&quot;myBucket&quot;)\n                .key(&quot;data/myObject.zip&quot;)\n                .restoreRequest(restoreRequest)\n                .build(); \n\n        s3Client.restoreObject(objectRequest);\n    } catch(Exception e){\n        e.printStackTrace();\n    }\n</code></pre>\n<p>but by adding only one parameter <strong>&quot;description&quot;</strong> (as shown in code below) to the <strong>restoreRequest</strong>, the following exception is thrown on <strong>s3Client.restoreObject(objectRequest)</strong>.</p>\n<pre><code>try {\n        S3Client s3Client = S3Client.builder().build();\n        System.out.println(&quot;S3 client created. . .&quot;);\n\n        RestoreRequest restoreRequest = RestoreRequest.builder().description(\n                .glacierJobParameters(GlacierJobParameters.builder().tier(Tier.STANDARD).build())\n                .days(1)\n                .description(&quot;description about the object&quot;)\n                .build();\n\n        RestoreObjectRequest objectRequest = RestoreObjectRequest.builder()\n                .bucket(&quot;myBucket&quot;)\n                .key(&quot;data/myObject.zip&quot;)\n                .restoreRequest(restoreRequest)\n                .build(); \n\n        s3Client.restoreObject(objectRequest);\n    } catch(Exception e){\n        e.printStackTrace();\n    }\n</code></pre>\n<blockquote>\n<p>software.amazon.awssdk.services.s3.model.S3Exception: The XML you provided was not well-formed or did not validate against our published schema (Service: S3, Status Code: 400, Request ID: 0Y7K1MVBGP5SP9FS, Extended Request ID: DZfX93DOWguFo0MVnTR3Awk9i5gG867rkZnTLU4bAueRQqjBhkq5eTjFWzltJRpxMYa5LmnWal0=)\nat software.amazon.awssdk.protocols.xml.internal.unmarshall.AwsXmlPredicatedResponseHandler.handleErrorResponse(AwsXmlPredicatedResponseHandler.java:156)\nat software.amazon.awssdk.protocols.xml.internal.unmarshall.AwsXmlPredicatedResponseHandler.handleResponse(AwsXmlPredicatedResponseHandler.java:108)\nat software.amazon.awssdk.protocols.xml.internal.unmarshall.AwsXmlPredicatedResponseHandler.handle(AwsXmlPredicatedResponseHandler.java:85)\nat software.amazon.awssdk.protocols.xml.internal.unmarshall.AwsXmlPredicatedResponseHandler.handle(AwsXmlPredicatedResponseHandler.java:43)\nat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler$Crc32ValidationResponseHandler.handle(AwsSyncClientHandler.java:95)\nat software.amazon.awssdk.core.internal.handler.BaseClientHandler.lambda$successTransformationResponseHandler$7(BaseClientHandler.java:245)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\nat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\nat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\nat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\nat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\nat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\nat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\nat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\nat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\nat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:167)\nat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\nat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:175)\nat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\nat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\nat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\nat software.amazon.awssdk.services.s3.DefaultS3Client.restoreObject(DefaultS3Client.java:10422)\nat org.example.App.main(App.java:150)</p>\n</blockquote>\n"},{"tags":["java","android","react-native","android-studio","gradle"],"comments":[{"owner":{"account_id":15198137,"reputation":237,"user_id":10966893,"display_name":"Sai kiran"},"score":0,"creation_date":1676440231,"post_id":75452952,"comment_id":133135034,"body_markdown":"As per the logs, it says Failed to find Build Tools revision 30.0.3. You can find the build tools versions from **https://developer.android.com/studio/releases/build-tools** and change it accordingly to your project requirement. Feel free to reach out if it didn&#39;t work","body":"As per the logs, it says Failed to find Build Tools revision 30.0.3. You can find the build tools versions from <b><a href=\"https://developer.android.com/studio/releases/build-tools\" rel=\"nofollow noreferrer\">developer.android.com/studio/releases/build-tools</a></b> and change it accordingly to your project requirement. Feel free to reach out if it didn&#39;t work"}],"owner":{"account_id":14614040,"reputation":661,"user_id":10554702,"display_name":"Ritik Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676406299,"creation_date":1676406299,"question_id":75452952,"body_markdown":"when I&#39;m trying to run react native which I&#39;ve created using ```npx react-native init project-name``` using command ```npx react-native start```. I&#39;m getting a connection refused error at last.\r\nPasting the error below\r\n```\r\nTE\r\n&gt; Task :react-native-gradle-plugin:processResources UP-TO-DATE\r\n&gt; Task :react-native-gradle-plugin:classes UP-TO-DATE\r\n&gt; Task :react-native-gradle-plugin:inspectClassesForKotlinIC UP-TO-DATE\r\n&gt; Task :react-native-gradle-plugin:jar UP-TO-DATE\r\nIOException: https://dl.google.com/android/repository/addons_list-5.xml\r\njava.net.ConnectException: Connection refused (Connection refused)\r\nIOException: https://dl.google.com/android/repository/addons_list-4.xml\r\njava.net.ConnectException: Connection refused (Connection refused)\r\nIOException: https://dl.google.com/android/repository/addons_list-3.xml\r\njava.net.ConnectException: Connection refused (Connection refused)\r\nIOException: https://dl.google.com/android/repository/addons_list-2.xml\r\njava.net.ConnectException: Connection refused (Connection refused)\r\nIOException: https://dl.google.com/android/repository/addons_list-1.xml\r\njava.net.ConnectException: Connection refused (Connection refused)\r\nFailed to download any source lists!\r\nIO exception while downloading manifest:\r\njava.net.ConnectException: Connection refused (Connection refused)\r\n        at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\n        at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\r\n        at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\r\n        at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\r\n        at java.base/java.net.Socket.connect(Socket.java:609)\r\n        at java.base/java.net.Socket.connect(Socket.java:558)\r\n        at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:182)\r\n        at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:507)\r\n        at java.base/sun.net.www.http.HttpClient$1.run(HttpClient.java:559)\r\n        at java.base/sun.net.www.http.HttpClient$1.run(HttpClient.java:557)\r\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n        at java.base/sun.net.www.http.HttpClient.privilegedOpenServer(HttpClient.java:556)\r\n        at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:597)\r\n        at java.base/sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:266)\r\n        at java.base/sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:373)\r\n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:207)\r\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1232)\r\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1081)\r\n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:193)\r\n        at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:168)\r\n        at com.android.sdklib.repository.legacy.remote.internal.DownloadCache.openUrl(DownloadCache.java:245)\r\n        at com.android.sdklib.repository.legacy.remote.internal.DownloadCache.downloadAndCache(DownloadCache.java:622)\r\n        at com.android.sdklib.repository.legacy.remote.internal.DownloadCache.openCachedUrl(DownloadCache.java:545)\r\n        at com.android.sdklib.repository.legacy.LegacyDownloader.downloadAndStream(LegacyDownloader.java:82)\r\n        at com.android.repository.impl.downloader.LocalFileAwareDownloader.downloadAndStream(LocalFileAwareDownloader.java:51)\r\n        at com.android.repository.impl.manager.RemoteRepoLoaderImpl.lambda$fetchPackages$0(RemoteRepoLoaderImpl.java:138)\r\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\n\r\nIO exception while downloading manifest:\r\njava.net.ConnectException: Connection refused (Connection refused)\r\n        at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\n        at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\r\n        at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\r\n        at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\r\n        at java.base/java.net.Socket.connect(Socket.java:609)\r\n        at java.base/java.net.Socket.connect(Socket.java:558)\r\n        at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:182)\r\n        at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:507)\r\n        at java.base/sun.net.www.http.HttpClient$1.run(HttpClient.java:559)\r\n        at java.base/sun.net.www.http.HttpClient$1.run(HttpClient.java:557)\r\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n        at java.base/sun.net.www.http.HttpClient.privilegedOpenServer(HttpClient.java:556)\r\n        at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:597)\r\n        at java.base/sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:266)\r\n        at java.base/sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:373)\r\n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:207)\r\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1232)\r\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1081)\r\n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:193)\r\n        at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:168)\r\n        at com.android.sdklib.repository.legacy.remote.internal.DownloadCache.openUrl(DownloadCache.java:245)\r\n        at com.android.sdklib.repository.legacy.remote.internal.DownloadCache.downloadAndCache(DownloadCache.java:622)\r\n        at com.android.sdklib.repository.legacy.remote.internal.DownloadCache.openCachedUrl(DownloadCache.java:545)\r\n        at com.android.sdklib.repository.legacy.LegacyDownloader.downloadAndStream(LegacyDownloader.java:82)\r\n        at com.android.repository.impl.downloader.LocalFileAwareDownloader.downloadAndStream(LocalFileAwareDownloader.java:51)\r\n        at com.android.repository.impl.manager.RemoteRepoLoaderImpl.lambda$fetchPackages$0(RemoteRepoLoaderImpl.java:138)\r\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\n\r\nStill waiting for package manifests to be fetched remotely.\r\n5 actionable tasks: 5 up-to-date\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not determine the dependencies of task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n&gt; Failed to find Build Tools revision 30.0.3\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 16s\r\n\r\nError: Command failed: ./gradlew app:installDebug -PreactNativeDevServerPort=8081\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not determine the dependencies of task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n&gt; Failed to find Build Tools revision 30.0.3\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 16s\r\n\r\n    at makeError (/Users/rkuqd/Documents/projectreact/node_modules/@react-native-community/cli-platform-android/node_modules/execa/index.js:174:9)\r\n    at /Users/rkuqd/Documents/projectreact/node_modules/@react-native-community/cli-platform-android/node_modules/execa/index.js:278:16\r\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n    at async runOnAllDevices (/Users/rkuqd/Documents/projectreact/node_modules/@react-native-community/cli-platform-android/build/commands/runAndroid/runOnAllDevices.js:82:7)\r\n    at async Command.handleAction (/Users/rkuqd/Documents/projectreact/node_modules/@react-native-community/cli/build/index.js:108:9)\r\ninfo Run CLI with --verbose flag for more details.\r\n```\r\n\r\nI tried to open this project in every IDE including Vscode, Intellij and Android studio.\r\nI&#39;ve configured all the things as per react native docs only. I&#39;m working behind company proxy. I&#39;ve setup that also in gradle.properties of android folder\r\n```\r\n\r\nsystemProp.http.proxyHost=&lt;org-proxy-host&gt;\r\nsystemProp.http.proxyPort=&lt;port&gt;\r\nsystemProp.https.proxyHost=&lt;org-proxy-host&gt;\r\nsystemProp.https.proxyPort=&lt;org-proxy-host&gt;\r\n\r\n```\r\n\r\nEven I&#39;ve configured the proxy in Intellij and android studio setting also in &lt;b&gt;Http proxy&lt;/b&gt;\r\nalso configured the npm http and https proxy\r\nTried to find so much, but only solution I got is to set the proxy in IDE setting of intellij and Android studio. Did that also but nothing happened.\r\n\r\nThanks in Advance to all.\r\n","title":"Npx react-native start giving connection Refused error everytime","body":"<p>when I'm trying to run react native which I've created using <code>npx react-native init project-name</code> using command <code>npx react-native start</code>. I'm getting a connection refused error at last.\nPasting the error below</p>\n<pre><code>TE\n&gt; Task :react-native-gradle-plugin:processResources UP-TO-DATE\n&gt; Task :react-native-gradle-plugin:classes UP-TO-DATE\n&gt; Task :react-native-gradle-plugin:inspectClassesForKotlinIC UP-TO-DATE\n&gt; Task :react-native-gradle-plugin:jar UP-TO-DATE\nIOException: https://dl.google.com/android/repository/addons_list-5.xml\njava.net.ConnectException: Connection refused (Connection refused)\nIOException: https://dl.google.com/android/repository/addons_list-4.xml\njava.net.ConnectException: Connection refused (Connection refused)\nIOException: https://dl.google.com/android/repository/addons_list-3.xml\njava.net.ConnectException: Connection refused (Connection refused)\nIOException: https://dl.google.com/android/repository/addons_list-2.xml\njava.net.ConnectException: Connection refused (Connection refused)\nIOException: https://dl.google.com/android/repository/addons_list-1.xml\njava.net.ConnectException: Connection refused (Connection refused)\nFailed to download any source lists!\nIO exception while downloading manifest:\njava.net.ConnectException: Connection refused (Connection refused)\n        at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\n        at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\n        at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\n        at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\n        at java.base/java.net.Socket.connect(Socket.java:609)\n        at java.base/java.net.Socket.connect(Socket.java:558)\n        at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:182)\n        at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:507)\n        at java.base/sun.net.www.http.HttpClient$1.run(HttpClient.java:559)\n        at java.base/sun.net.www.http.HttpClient$1.run(HttpClient.java:557)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at java.base/sun.net.www.http.HttpClient.privilegedOpenServer(HttpClient.java:556)\n        at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:597)\n        at java.base/sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:266)\n        at java.base/sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:373)\n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:207)\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1232)\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1081)\n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:193)\n        at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:168)\n        at com.android.sdklib.repository.legacy.remote.internal.DownloadCache.openUrl(DownloadCache.java:245)\n        at com.android.sdklib.repository.legacy.remote.internal.DownloadCache.downloadAndCache(DownloadCache.java:622)\n        at com.android.sdklib.repository.legacy.remote.internal.DownloadCache.openCachedUrl(DownloadCache.java:545)\n        at com.android.sdklib.repository.legacy.LegacyDownloader.downloadAndStream(LegacyDownloader.java:82)\n        at com.android.repository.impl.downloader.LocalFileAwareDownloader.downloadAndStream(LocalFileAwareDownloader.java:51)\n        at com.android.repository.impl.manager.RemoteRepoLoaderImpl.lambda$fetchPackages$0(RemoteRepoLoaderImpl.java:138)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n\nIO exception while downloading manifest:\njava.net.ConnectException: Connection refused (Connection refused)\n        at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\n        at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\n        at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\n        at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\n        at java.base/java.net.Socket.connect(Socket.java:609)\n        at java.base/java.net.Socket.connect(Socket.java:558)\n        at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:182)\n        at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:507)\n        at java.base/sun.net.www.http.HttpClient$1.run(HttpClient.java:559)\n        at java.base/sun.net.www.http.HttpClient$1.run(HttpClient.java:557)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at java.base/sun.net.www.http.HttpClient.privilegedOpenServer(HttpClient.java:556)\n        at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:597)\n        at java.base/sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:266)\n        at java.base/sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:373)\n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:207)\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1232)\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1081)\n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:193)\n        at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:168)\n        at com.android.sdklib.repository.legacy.remote.internal.DownloadCache.openUrl(DownloadCache.java:245)\n        at com.android.sdklib.repository.legacy.remote.internal.DownloadCache.downloadAndCache(DownloadCache.java:622)\n        at com.android.sdklib.repository.legacy.remote.internal.DownloadCache.openCachedUrl(DownloadCache.java:545)\n        at com.android.sdklib.repository.legacy.LegacyDownloader.downloadAndStream(LegacyDownloader.java:82)\n        at com.android.repository.impl.downloader.LocalFileAwareDownloader.downloadAndStream(LocalFileAwareDownloader.java:51)\n        at com.android.repository.impl.manager.RemoteRepoLoaderImpl.lambda$fetchPackages$0(RemoteRepoLoaderImpl.java:138)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n\nStill waiting for package manifests to be fetched remotely.\n5 actionable tasks: 5 up-to-date\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not determine the dependencies of task ':app:compileDebugJavaWithJavac'.\n&gt; Failed to find Build Tools revision 30.0.3\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 16s\n\nError: Command failed: ./gradlew app:installDebug -PreactNativeDevServerPort=8081\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not determine the dependencies of task ':app:compileDebugJavaWithJavac'.\n&gt; Failed to find Build Tools revision 30.0.3\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 16s\n\n    at makeError (/Users/rkuqd/Documents/projectreact/node_modules/@react-native-community/cli-platform-android/node_modules/execa/index.js:174:9)\n    at /Users/rkuqd/Documents/projectreact/node_modules/@react-native-community/cli-platform-android/node_modules/execa/index.js:278:16\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async runOnAllDevices (/Users/rkuqd/Documents/projectreact/node_modules/@react-native-community/cli-platform-android/build/commands/runAndroid/runOnAllDevices.js:82:7)\n    at async Command.handleAction (/Users/rkuqd/Documents/projectreact/node_modules/@react-native-community/cli/build/index.js:108:9)\ninfo Run CLI with --verbose flag for more details.\n</code></pre>\n<p>I tried to open this project in every IDE including Vscode, Intellij and Android studio.\nI've configured all the things as per react native docs only. I'm working behind company proxy. I've setup that also in gradle.properties of android folder</p>\n<pre><code>\nsystemProp.http.proxyHost=&lt;org-proxy-host&gt;\nsystemProp.http.proxyPort=&lt;port&gt;\nsystemProp.https.proxyHost=&lt;org-proxy-host&gt;\nsystemProp.https.proxyPort=&lt;org-proxy-host&gt;\n\n</code></pre>\n<p>Even I've configured the proxy in Intellij and android studio setting also in <b>Http proxy</b>\nalso configured the npm http and https proxy\nTried to find so much, but only solution I got is to set the proxy in IDE setting of intellij and Android studio. Did that also but nothing happened.</p>\n<p>Thanks in Advance to all.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","maven"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1676323572,"post_id":75441300,"comment_id":133110947,"body_markdown":"It would probably help to include your pom contents in the question. Relevant pieces of the pom only, please; entire pom files can be large and &quot;noisy.&quot;","body":"It would probably help to include your pom contents in the question. Relevant pieces of the pom only, please; entire pom files can be large and &quot;noisy.&quot;"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1676324629,"post_id":75441300,"comment_id":133111199,"body_markdown":"FYI, `spring-boot-starter-data-jpa` already declares `hibernate-core` 6.1.6 as a dependency, so you don&#39;t need to specify the version in your pom. You can probably just leave out the reference to `hibernate-core` altogether, it&#39;s a transitive dependency.","body":"FYI, <code>spring-boot-starter-data-jpa</code> already declares <code>hibernate-core</code> 6.1.6 as a dependency, so you don&#39;t need to specify the version in your pom. You can probably just leave out the reference to <code>hibernate-core</code> altogether, it&#39;s a transitive dependency."},{"owner":{"account_id":1705504,"reputation":139,"user_id":1564626,"accept_rate":20,"display_name":"srikant_mantha"},"score":0,"creation_date":1676412568,"post_id":75441300,"comment_id":133131393,"body_markdown":"@E-Riz: updated my post with latest issue.","body":"@E-Riz: updated my post with latest issue."},{"owner":{"account_id":2744963,"reputation":1366,"user_id":2365580,"accept_rate":67,"display_name":"Holi Boom"},"score":1,"creation_date":1676804791,"post_id":75441300,"comment_id":133207656,"body_markdown":"For me after I&#39;v remove dependency com.vladmihalcea, problem gone.","body":"For me after I&#39;v remove dependency com.vladmihalcea, problem gone."},{"owner":{"account_id":1705504,"reputation":139,"user_id":1564626,"accept_rate":20,"display_name":"srikant_mantha"},"score":0,"creation_date":1677077259,"post_id":75441300,"comment_id":133266401,"body_markdown":"@HoliBoom: Yes, after replacing the depenency of \n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\n            &lt;version&gt;2.16.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\nwith \n\n&lt;dependency&gt;\n    &lt;groupId&gt;io.hypersistence&lt;/groupId&gt;\n    &lt;artifactId&gt;hypersistence-utils-hibernate-60&lt;/artifactId&gt;\n    &lt;version&gt;3.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n\nresolved the issue","body":"@HoliBoom: Yes, after replacing the depenency of           &lt;dependency&gt;             &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;             &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;             &lt;version&gt;2.16.2&lt;/version&gt;         &lt;/dependency&gt;  with   &lt;dependency&gt;     &lt;groupId&gt;io.hypersistence&lt;/groupId&gt;     &lt;artifactId&gt;hypersistence-utils-hibernate-60&lt;/artifactId&gt;     &lt;version&gt;3.2.0&lt;/version&gt; &lt;/dependency&gt;  resolved the issue"}],"owner":{"account_id":1705504,"reputation":139,"user_id":1564626,"accept_rate":20,"display_name":"srikant_mantha"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":667,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676406279,"creation_date":1676323313,"question_id":75441300,"body_markdown":"I upgraded my springboot application from 2.6.7 to 3.0.2. After the change, I am facing the below issue while running the maven build \r\n\r\n    [ERROR] SampleApplicationTest.contextLoads  Time elapsed: 0.001 s  &lt;&lt;&lt; ERROR!\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@74736e3e testClass = SampleApplicationTest, locations = [], classes = [SampleApplication], contextInitializerClasses = [], activeProfiles = [&quot;test&quot;], propertySourceLocations = [], propertySourceProperties = [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1a4cbcc6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5358c8fa, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@323fe1f5, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@9da1, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@407b41e6, org.springframework.boot.test.context.SpringBootTestAnnotation@a37796ef], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\r\n    \r\n    **Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: org/hibernate/type/descriptor/java/JavaTypeDescriptor\r\n    Caused by: java.lang.NoClassDefFoundError: org/hibernate/type/descriptor/java/JavaTypeDescriptor\r\n    Caused by: java.lang.ClassNotFoundException: org.hibernate.type.descriptor.java.JavaTypeDescriptor**\r\n\r\nI tried cleaning my .m2 folder, also verified that both the files are present in the classpath.\r\n\r\n    org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class\r\n    org/hibernate/type/descriptor/java/JavaTypeDescriptor\r\n\r\nHibernate version used is 6.1.6.Final which is compactible with springboot version 3.0.2.\r\n\r\nMy Pom.xml in short\r\n\r\n    &lt;parent&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.2&lt;/version&gt;\r\n      &lt;/parent&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;  \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n      &lt;version&gt;6.1.6.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n      &lt;version&gt;6.1.6.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nHow can I resolve this NoClassDefFoundError issue ?\r\n\r\n\r\n\r\n-Regards\r\nSrikant Mantha\r\n\r\n**Update to my issue:** \r\nThere is another version of JavaTypeDescriptor.class in my .m2 path which is needed for a different project. Its getting conflicted with my new project where I am trying to upgrade to springboot 3.0.2.\r\n\r\nHow can I exclude the unnecessary dependencies from .m2 which is not needed for my project ?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZsRgN.png","title":"Hibernate Error creating bean with name &#39;entityManagerFactory&#39;","body":"<p>I upgraded my springboot application from 2.6.7 to 3.0.2. After the change, I am facing the below issue while running the maven build</p>\n<pre><code>[ERROR] SampleApplicationTest.contextLoads  Time elapsed: 0.001 s  &lt;&lt;&lt; ERROR!\njava.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@74736e3e testClass = SampleApplicationTest, locations = [], classes = [SampleApplication], contextInitializerClasses = [], activeProfiles = [&quot;test&quot;], propertySourceLocations = [], propertySourceProperties = [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1a4cbcc6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5358c8fa, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@323fe1f5, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@9da1, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@407b41e6, org.springframework.boot.test.context.SpringBootTestAnnotation@a37796ef], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n\n**Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: org/hibernate/type/descriptor/java/JavaTypeDescriptor\nCaused by: java.lang.NoClassDefFoundError: org/hibernate/type/descriptor/java/JavaTypeDescriptor\nCaused by: java.lang.ClassNotFoundException: org.hibernate.type.descriptor.java.JavaTypeDescriptor**\n</code></pre>\n<p>I tried cleaning my .m2 folder, also verified that both the files are present in the classpath.</p>\n<pre><code>org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class\norg/hibernate/type/descriptor/java/JavaTypeDescriptor\n</code></pre>\n<p>Hibernate version used is 6.1.6.Final which is compactible with springboot version 3.0.2.</p>\n<p>My Pom.xml in short</p>\n<pre><code>&lt;parent&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n  &lt;version&gt;3.0.2&lt;/version&gt;\n  &lt;/parent&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;  \n&lt;dependency&gt;\n  &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n  &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n  &lt;version&gt;6.1.6.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n  &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n  &lt;version&gt;6.1.6.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>How can I resolve this NoClassDefFoundError issue ?</p>\n<p>-Regards\nSrikant Mantha</p>\n<p><strong>Update to my issue:</strong>\nThere is another version of JavaTypeDescriptor.class in my .m2 path which is needed for a different project. Its getting conflicted with my new project where I am trying to upgrade to springboot 3.0.2.</p>\n<p>How can I exclude the unnecessary dependencies from .m2 which is not needed for my project ?</p>\n<p><a href=\"https://i.stack.imgur.com/ZsRgN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZsRgN.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","hadoop"],"answers":[{"tags":[],"owner":{"account_id":2976512,"reputation":3160,"user_id":2527458,"accept_rate":36,"display_name":"Majid Hajibaba"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1624618789,"creation_date":1624529715,"answer_id":68113820,"question_id":68113350,"body_markdown":"`/usr/bin/java` is not a java home. A java home must be a folder (not a program) with a bin directory which contains `java`, `jps`, maybe `javac` and so on. You must find your jre or jdk folder and set it as JAVA_HOME. \r\n\r\nget `ll /usr/bin/java` and it may be a **symbolic link** to your Java path. or do `find /usr/lib/jvm/java-1.x.x-openjdk` to find your java home. The parent directory of *Java* program is your JAVA_HOME and must be set with export in `hadoop-env.sh`.","title":"run hadoop ERROR: JAVA_HOME /usr/bin/java does not exist","body":"<p><code>/usr/bin/java</code> is not a java home. A java home must be a folder (not a program) with a bin directory which contains <code>java</code>, <code>jps</code>, maybe <code>javac</code> and so on. You must find your jre or jdk folder and set it as JAVA_HOME.</p>\n<p>get <code>ll /usr/bin/java</code> and it may be a <strong>symbolic link</strong> to your Java path. or do <code>find /usr/lib/jvm/java-1.x.x-openjdk</code> to find your java home. The parent directory of <em>Java</em> program is your JAVA_HOME and must be set with export in <code>hadoop-env.sh</code>.</p>\n"},{"tags":[],"owner":{"account_id":7412226,"reputation":11,"user_id":5639251,"display_name":"Jaikish Pai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658653410,"creation_date":1658653410,"answer_id":73097021,"question_id":68113350,"body_markdown":"I could not run it with Java 11 installed so i installed Java 8 and tried this : `/usr/lib/jvm/java-8-openjdk-amd64/jre/bin` and it worked fine.","title":"run hadoop ERROR: JAVA_HOME /usr/bin/java does not exist","body":"<p>I could not run it with Java 11 installed so i installed Java 8 and tried this : <code>/usr/lib/jvm/java-8-openjdk-amd64/jre/bin</code> and it worked fine.</p>\n"},{"tags":[],"owner":{"account_id":23316769,"reputation":1,"user_id":17395280,"display_name":"Phil Jay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676405854,"creation_date":1675981181,"answer_id":75405046,"question_id":68113350,"body_markdown":"you could run `readlink -f $(which java)` command which returns the actual path to the target file. \r\n\r\nThis will give you an output like this \r\n \r\n\r\n    readlink -f $(which java)                                                                                                                                                                                  \r\n    /usr/lib/jvm/java-11-openjdk-amd64/bin/java","title":"run hadoop ERROR: JAVA_HOME /usr/bin/java does not exist","body":"<p>you could run <code>readlink -f $(which java)</code> command which returns the actual path to the target file.</p>\n<p>This will give you an output like this</p>\n<pre><code>readlink -f $(which java)                                                                                                                                                                                  \n/usr/lib/jvm/java-11-openjdk-amd64/bin/java\n</code></pre>\n"}],"owner":{"account_id":1512758,"reputation":1194,"user_id":1414448,"accept_rate":48,"display_name":"Venus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3977,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":68113820,"answer_count":3,"score":1,"last_activity_date":1676405854,"creation_date":1624527840,"question_id":68113350,"body_markdown":"Ubuntu 16.04.1 LTS&lt;br/&gt;\r\nI have installed java by sudo apt-get install default-jdk\r\n\r\n    $ java -version\r\n    openjdk version &quot;1.8.0_292&quot;\r\n    OpenJDK Runtime Environment (build 1.8.0_292-8u292-b10-0ubuntu1~16.04.1-b10)\r\n    OpenJDK 64-Bit Server VM (build 25.292-b10, mixed mode)\r\n    $ which java\r\n    /usr/bin/java\r\n\r\nand in /home/hadoop/hadoop-3.3.1/etc/hadoop/hadoop-env.sh, I have added&lt;br/&gt;\r\nexport JAVA_HOME=/usr/bin/java\r\n\r\n    hadoop@ubuntu:~/hadoop$ bin/hadoop\r\n    ERROR: JAVA_HOME /usr/bin/java does not exist\r\n\r\nanyone can help?","title":"run hadoop ERROR: JAVA_HOME /usr/bin/java does not exist","body":"<p>Ubuntu 16.04.1 LTS<br/>\nI have installed java by sudo apt-get install default-jdk</p>\n<pre><code>$ java -version\nopenjdk version &quot;1.8.0_292&quot;\nOpenJDK Runtime Environment (build 1.8.0_292-8u292-b10-0ubuntu1~16.04.1-b10)\nOpenJDK 64-Bit Server VM (build 25.292-b10, mixed mode)\n$ which java\n/usr/bin/java\n</code></pre>\n<p>and in /home/hadoop/hadoop-3.3.1/etc/hadoop/hadoop-env.sh, I have added<br/>\nexport JAVA_HOME=/usr/bin/java</p>\n<pre><code>hadoop@ubuntu:~/hadoop$ bin/hadoop\nERROR: JAVA_HOME /usr/bin/java does not exist\n</code></pre>\n<p>anyone can help?</p>\n"},{"tags":["java","string","random","java-11","sonarlint"],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1676405853,"creation_date":1676405853,"answer_id":75452889,"question_id":75452838,"body_markdown":"    int index = rnd.nextInt(SALTCHARS.length());\r\n","title":"In Java 11, how do you get a sonarLint warning-free way of getting an index?","body":"<pre><code>int index = rnd.nextInt(SALTCHARS.length());\n</code></pre>\n"}],"owner":{"account_id":952905,"reputation":15132,"user_id":1235929,"accept_rate":68,"display_name":"Dave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75452889,"answer_count":1,"score":-2,"last_activity_date":1676405853,"creation_date":1676405536,"question_id":75452838,"body_markdown":"I&#39;m using Java 11 and SonarLint.  I have this code for getting a random index in a string (SALTCHARS is a string of length 36)\r\n\r\n      int index = (int) (rnd.nextFloat() * SALTCHARS.length());\r\n\r\nHowever, using SonarLint, this generates this warning\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI can&#39;t simply replace &quot;nextFloat&quot; with &quot;nextInt&quot; as that functionally changes the result of this code.  What is a SonarLint-safe way of generating a random index in a string?\r\n\r\n  [1]: https://i.stack.imgur.com/W8JO0.png","title":"In Java 11, how do you get a sonarLint warning-free way of getting an index?","body":"<p>I'm using Java 11 and SonarLint.  I have this code for getting a random index in a string (SALTCHARS is a string of length 36)</p>\n<pre><code>  int index = (int) (rnd.nextFloat() * SALTCHARS.length());\n</code></pre>\n<p>However, using SonarLint, this generates this warning</p>\n<p><a href=\"https://i.stack.imgur.com/W8JO0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W8JO0.png\" alt=\"enter image description here\" /></a></p>\n<p>I can't simply replace &quot;nextFloat&quot; with &quot;nextInt&quot; as that functionally changes the result of this code.  What is a SonarLint-safe way of generating a random index in a string?</p>\n"},{"tags":["java","spring","rest","spring-boot","oauth-2.0"],"comments":[{"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"score":0,"creation_date":1535286140,"post_id":52025778,"comment_id":91002509,"body_markdown":"Did my solution work for you?","body":"Did my solution work for you?"},{"owner":{"account_id":14224657,"reputation":43,"user_id":10275743,"display_name":"Petr Zeman"},"score":0,"creation_date":1535286629,"post_id":52025778,"comment_id":91002643,"body_markdown":"Unfortunately no.","body":"Unfortunately no."},{"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"score":0,"creation_date":1535286964,"post_id":52025778,"comment_id":91002727,"body_markdown":"Which version of springboot are you using?","body":"Which version of springboot are you using?"},{"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"score":0,"creation_date":1535287356,"post_id":52025778,"comment_id":91002829,"body_markdown":"If using springboot &gt; 1.5 , add `security.oauth2.resource.filter-order=3` to your application.properties and let me know the result.","body":"If using springboot &gt; 1.5 , add <code>security.oauth2.resource.filter-order=3</code> to your application.properties and let me know the result."},{"owner":{"account_id":14224657,"reputation":43,"user_id":10275743,"display_name":"Petr Zeman"},"score":0,"creation_date":1535287834,"post_id":52025778,"comment_id":91002944,"body_markdown":"It worked, thanks. :-)","body":"It worked, thanks. :-)"}],"answers":[{"tags":[],"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1535287901,"creation_date":1535285428,"answer_id":52026107,"question_id":52025778,"body_markdown":"You should add `@EnableResourceServer` to your controller:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    @EnableResourceServer\r\n    public class ApiController { ... }\r\n\r\n\r\n**EDIT :**\r\n\r\nIf using springboot &gt; 1.5 , add `security.oauth2.resource.filter-order=3` to your application.properties.","title":"Java SpringBoot Rest OAuth2 Principal is null","body":"<p>You should add <code>@EnableResourceServer</code> to your controller:</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/api\")\n@EnableResourceServer\npublic class ApiController { ... }\n</code></pre>\n\n<p><strong>EDIT :</strong></p>\n\n<p>If using springboot > 1.5 , add <code>security.oauth2.resource.filter-order=3</code> to your application.properties.</p>\n"}],"owner":{"account_id":14224657,"reputation":43,"user_id":10275743,"display_name":"Petr Zeman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5059,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":52026107,"answer_count":1,"score":4,"last_activity_date":1676405708,"creation_date":1535282887,"question_id":52025778,"body_markdown":"I tried different tutorials on **Java SpringBoot REST OAuth2**  authentication. I tried to and combine them with simple web form authentication, but still i am not able to get Principal class object. I got `null` every time on my Rest Controller (showed in lines bellow), am I missing something?\r\n\r\n**AuthorizationServerConfiguration.java**\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.oauth2.config.annotation.configurers.ClientDetailsServiceConfigurer;\r\n    import org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerConfigurerAdapter;\r\n    import org.springframework.security.oauth2.config.annotation.web.configuration.EnableAuthorizationServer;\r\n    import org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerEndpointsConfigurer;\r\n    import org.springframework.security.oauth2.provider.token.TokenStore;\r\n    \r\n    @Configuration\r\n    @EnableAuthorizationServer\r\n    public class AuthorizationServerConfiguration extends AuthorizationServerConfigurerAdapter {\r\n    \r\n        private static final String REALM = &quot;MY_OAUTH_REALM&quot;;\r\n    \r\n        @Autowired\r\n        private TokenStore tokenStore;\r\n    \r\n        @Autowired\r\n        private AuthenticationManager authenticationManager;\r\n    \r\n        @Override\r\n        public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\r\n            clients.inMemory()\r\n                    .withClient(&quot;my-trusted-client&quot;)\r\n                    .authorizedGrantTypes(&quot;password&quot;, &quot;authorization_code&quot;, &quot;refresh_token&quot;, &quot;implicit&quot;)\r\n                    .scopes(&quot;read&quot;, &quot;write&quot;, &quot;trust&quot;)\r\n                    .secret(&quot;secret&quot;)\r\n                    .accessTokenValiditySeconds(120).//Access token is only valid for 2 minutes.\r\n                    refreshTokenValiditySeconds(600);//Refresh token is only valid for 10 minutes.\r\n        }\r\n    \r\n        @Override\r\n        public void configure(AuthorizationServerEndpointsConfigurer endpoints) {\r\n            endpoints.tokenStore(tokenStore).authenticationManager(authenticationManager);\r\n        }\r\n    \r\n    }\r\n\r\n**ResourceServerConfiguration.java**\r\n    \r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.oauth2.config.annotation.web.configuration.EnableResourceServer;\r\n    import org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfigurerAdapter;\r\n    import org.springframework.security.oauth2.config.annotation.web.configurers.ResourceServerSecurityConfigurer;\r\n    import org.springframework.security.oauth2.provider.error.OAuth2AccessDeniedHandler;\r\n    \r\n    @Configuration\r\n    @EnableResourceServer\r\n    public class ResourceServerConfiguration extends ResourceServerConfigurerAdapter {\r\n    \r\n        private static final String RESOURCE_ID = &quot;rest_api&quot;;\r\n    \r\n        @Override\r\n        public void configure(ResourceServerSecurityConfigurer resources) {\r\n            resources.resourceId(RESOURCE_ID).stateless(false);\r\n        }\r\n    \r\n        @Override\r\n        public void configure(HttpSecurity http) throws Exception {\r\n            http.anonymous().disable()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/api/**&quot;).authenticated()\r\n                .and().exceptionHandling().accessDeniedHandler(new OAuth2AccessDeniedHandler());\r\n        }\r\n    \r\n    }\r\n\r\n**OAuth2SecurityConfiguration.java**\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.web.servlet.FilterRegistrationBean;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.oauth2.provider.token.TokenStore;\r\n    import org.springframework.security.oauth2.provider.token.store.InMemoryTokenStore;\r\n    import org.springframework.web.cors.CorsConfiguration;\r\n    import org.springframework.web.cors.UrlBasedCorsConfigurationSource;\r\n    import org.springframework.web.filter.CorsFilter;\r\n    \r\n    import javax.annotation.Resource;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class OAuth2SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Resource(name = &quot;userService&quot;)\r\n        private UserDetailsService userDetailsService;\r\n\r\n        @Override\r\n        @Bean\r\n        public AuthenticationManager authenticationManagerBean() throws Exception {\r\n            return super.authenticationManagerBean();\r\n        }\r\n    \r\n        @Autowired\r\n        public void globalUserDetails(AuthenticationManagerBuilder auth)throws Exception {\r\n                auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder());\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n                .anonymous().disable()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/login&quot;).permitAll();\r\n        }\r\n    \r\n        @Bean\r\n        public TokenStore tokenStore() {\r\n            return new InMemoryTokenStore();\r\n        }\r\n    \r\n        @Bean\r\n        public BCryptPasswordEncoder bCryptPasswordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Bean\r\n        public FilterRegistrationBean corsFilter() {\r\n            UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n            CorsConfiguration config = new CorsConfiguration();\r\n            config.setAllowCredentials(true);\r\n            config.addAllowedOrigin(&quot;*&quot;);\r\n            config.addAllowedHeader(&quot;*&quot;);\r\n            config.addAllowedMethod(&quot;*&quot;);\r\n            source.registerCorsConfiguration(&quot;/**&quot;, config);\r\n            FilterRegistrationBean bean = new FilterRegistrationBean(new CorsFilter(source));\r\n            bean.setOrder(0);\r\n            return bean;\r\n        }\r\n    \r\n    }\r\n\r\n**UserServiceImpl.java**\r\n\r\n    import cz.uhk.ppro.semestralniprojekt.model.user.User;\r\n    import cz.uhk.ppro.semestralniprojekt.model.user.UserRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.security.core.authority.SimpleGrantedAuthority;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.core.userdetails.UsernameNotFoundException;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    @Service(value = &quot;userService&quot;)\r\n    public class UserServiceImpl implements UserDetailsService, UserService {\r\n    \r\n        @Autowired\r\n        private UserRepository userRepository;\r\n    \r\n        @Autowired\r\n        private BCryptPasswordEncoder bCryptPasswordEncoder;\r\n    \r\n        @Override\r\n        public void save(User user) {\r\n            user.setPassword(bCryptPasswordEncoder.encode(user.getPassword()));\r\n            userRepository.save(user);\r\n        }\r\n    \r\n        @Override\r\n        public UserDetails loadUserByUsername(String s) throws UsernameNotFoundException {\r\n            User user = findByUsername(s);\r\n            if(user == null){\r\n                throw new UsernameNotFoundException(&quot;Invalid username or password.&quot;);\r\n            }\r\n\r\n            return new org.springframework.security.core.userdetails.User(user.getUsername(), user.getPassword(), getAuthority());\r\n        }\r\n    \r\n        @Override\r\n        public User findByUsername(String username) {\r\n            return userRepository.findByUsername(username);\r\n        }\r\n    \r\n        private List getAuthority() {\r\n            return Arrays.asList(new SimpleGrantedAuthority(&quot;ROLE_ADMIN&quot;));\r\n        }\r\n    \r\n    }\r\n\r\n**ApiController.java**\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class ApiController {\r\n        @RequestMapping(&quot;/monthFinanceOverview&quot;)\r\n        public MonthFinanceOverview monthFinanceOverview(\r\n                @RequestParam(value = &quot;month&quot;, required = false) String month,\r\n                Principal principal\r\n        ) {\r\n            DateTimeFormatter monthDateFormatter = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\r\n            User user = users.findByUsername(principal.getName());\r\n            //Here i got error every time\r\n        }\r\n    }\r\n\r\n**pom.xml**\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t\r\n\t\t&lt;groupId&gt;cz.uhk.ppro&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;semestralni-projekt&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\r\n\t\t&lt;name&gt;semestralni-projekt&lt;/name&gt;\r\n\t\t&lt;description&gt;Semestr&#225;ln&#237; projekt Java EE, Spring&lt;/description&gt;\r\n\t\r\n\t\t&lt;parent&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.5.8.RELEASE&lt;/version&gt;\r\n\t\t\t&lt;relativePath/&gt;\r\n\t\t&lt;/parent&gt;\r\n\t\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;/properties&gt;\r\n\t\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;thymeleaf-extras-springsecurity4&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.3.0.RELEASE&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;13.0&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t\r\n\t\t&lt;build&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/build&gt;\r\n\t\r\n\t\r\n\t&lt;/project&gt;","title":"Java SpringBoot Rest OAuth2 Principal is null","body":"<p>I tried different tutorials on <strong>Java SpringBoot REST OAuth2</strong>  authentication. I tried to and combine them with simple web form authentication, but still i am not able to get Principal class object. I got <code>null</code> every time on my Rest Controller (showed in lines bellow), am I missing something?</p>\n\n<p><strong>AuthorizationServerConfiguration.java</strong></p>\n\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.oauth2.config.annotation.configurers.ClientDetailsServiceConfigurer;\nimport org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerConfigurerAdapter;\nimport org.springframework.security.oauth2.config.annotation.web.configuration.EnableAuthorizationServer;\nimport org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerEndpointsConfigurer;\nimport org.springframework.security.oauth2.provider.token.TokenStore;\n\n@Configuration\n@EnableAuthorizationServer\npublic class AuthorizationServerConfiguration extends AuthorizationServerConfigurerAdapter {\n\n    private static final String REALM = \"MY_OAUTH_REALM\";\n\n    @Autowired\n    private TokenStore tokenStore;\n\n    @Autowired\n    private AuthenticationManager authenticationManager;\n\n    @Override\n    public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\n        clients.inMemory()\n                .withClient(\"my-trusted-client\")\n                .authorizedGrantTypes(\"password\", \"authorization_code\", \"refresh_token\", \"implicit\")\n                .scopes(\"read\", \"write\", \"trust\")\n                .secret(\"secret\")\n                .accessTokenValiditySeconds(120).//Access token is only valid for 2 minutes.\n                refreshTokenValiditySeconds(600);//Refresh token is only valid for 10 minutes.\n    }\n\n    @Override\n    public void configure(AuthorizationServerEndpointsConfigurer endpoints) {\n        endpoints.tokenStore(tokenStore).authenticationManager(authenticationManager);\n    }\n\n}\n</code></pre>\n\n<p><strong>ResourceServerConfiguration.java</strong></p>\n\n<pre><code>import org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.oauth2.config.annotation.web.configuration.EnableResourceServer;\nimport org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfigurerAdapter;\nimport org.springframework.security.oauth2.config.annotation.web.configurers.ResourceServerSecurityConfigurer;\nimport org.springframework.security.oauth2.provider.error.OAuth2AccessDeniedHandler;\n\n@Configuration\n@EnableResourceServer\npublic class ResourceServerConfiguration extends ResourceServerConfigurerAdapter {\n\n    private static final String RESOURCE_ID = \"rest_api\";\n\n    @Override\n    public void configure(ResourceServerSecurityConfigurer resources) {\n        resources.resourceId(RESOURCE_ID).stateless(false);\n    }\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        http.anonymous().disable()\n            .authorizeRequests()\n            .antMatchers(\"/api/**\").authenticated()\n            .and().exceptionHandling().accessDeniedHandler(new OAuth2AccessDeniedHandler());\n    }\n\n}\n</code></pre>\n\n<p><strong>OAuth2SecurityConfiguration.java</strong></p>\n\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.web.servlet.FilterRegistrationBean;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.oauth2.provider.token.TokenStore;\nimport org.springframework.security.oauth2.provider.token.store.InMemoryTokenStore;\nimport org.springframework.web.cors.CorsConfiguration;\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\nimport org.springframework.web.filter.CorsFilter;\n\nimport javax.annotation.Resource;\n\n@Configuration\n@EnableWebSecurity\npublic class OAuth2SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Resource(name = \"userService\")\n    private UserDetailsService userDetailsService;\n\n    @Override\n    @Bean\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Autowired\n    public void globalUserDetails(AuthenticationManagerBuilder auth)throws Exception {\n            auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder());\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n    http.csrf().disable()\n            .anonymous().disable()\n            .authorizeRequests()\n            .antMatchers(\"/login\").permitAll();\n    }\n\n    @Bean\n    public TokenStore tokenStore() {\n        return new InMemoryTokenStore();\n    }\n\n    @Bean\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public FilterRegistrationBean corsFilter() {\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        CorsConfiguration config = new CorsConfiguration();\n        config.setAllowCredentials(true);\n        config.addAllowedOrigin(\"*\");\n        config.addAllowedHeader(\"*\");\n        config.addAllowedMethod(\"*\");\n        source.registerCorsConfiguration(\"/**\", config);\n        FilterRegistrationBean bean = new FilterRegistrationBean(new CorsFilter(source));\n        bean.setOrder(0);\n        return bean;\n    }\n\n}\n</code></pre>\n\n<p><strong>UserServiceImpl.java</strong></p>\n\n<pre><code>import cz.uhk.ppro.semestralniprojekt.model.user.User;\nimport cz.uhk.ppro.semestralniprojekt.model.user.UserRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.stereotype.Service;\n\nimport java.util.Arrays;\nimport java.util.List;\n\n@Service(value = \"userService\")\npublic class UserServiceImpl implements UserDetailsService, UserService {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @Autowired\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Override\n    public void save(User user) {\n        user.setPassword(bCryptPasswordEncoder.encode(user.getPassword()));\n        userRepository.save(user);\n    }\n\n    @Override\n    public UserDetails loadUserByUsername(String s) throws UsernameNotFoundException {\n        User user = findByUsername(s);\n        if(user == null){\n            throw new UsernameNotFoundException(\"Invalid username or password.\");\n        }\n\n        return new org.springframework.security.core.userdetails.User(user.getUsername(), user.getPassword(), getAuthority());\n    }\n\n    @Override\n    public User findByUsername(String username) {\n        return userRepository.findByUsername(username);\n    }\n\n    private List getAuthority() {\n        return Arrays.asList(new SimpleGrantedAuthority(\"ROLE_ADMIN\"));\n    }\n\n}\n</code></pre>\n\n<p><strong>ApiController.java</strong></p>\n\n<pre><code>@RestController\n@RequestMapping(\"/api\")\npublic class ApiController {\n    @RequestMapping(\"/monthFinanceOverview\")\n    public MonthFinanceOverview monthFinanceOverview(\n            @RequestParam(value = \"month\", required = false) String month,\n            Principal principal\n    ) {\n        DateTimeFormatter monthDateFormatter = DateTimeFormatter.ofPattern(\"dd-MM-yyyy\");\n        User user = users.findByUsername(principal.getName());\n        //Here i got error every time\n    }\n}\n</code></pre>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;cz.uhk.ppro&lt;/groupId&gt;\n    &lt;artifactId&gt;semestralni-projekt&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;name&gt;semestralni-projekt&lt;/name&gt;\n    &lt;description&gt;Semestrální projekt Java EE, Spring&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.8.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity4&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n            &lt;version&gt;13.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","jsp","controller","spring-restcontroller"],"comments":[{"owner":{"account_id":1000240,"reputation":27,"user_id":7907880,"display_name":"user7907880"},"score":0,"creation_date":1676152118,"post_id":75381804,"comment_id":133081304,"body_markdown":"Can we run both Java 1.8 and Java 11 on the same tomcat server machine?","body":"Can we run both Java 1.8 and Java 11 on the same tomcat server machine?"}],"answers":[{"tags":[],"owner":{"account_id":1000240,"reputation":27,"user_id":7907880,"display_name":"user7907880"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676405045,"creation_date":1676405045,"answer_id":75452766,"question_id":75381804,"body_markdown":"The problem was solved by adding a timer to the java script which refreshed the page every few hours.\r\n\r\nThis question can be closed/marked as answered.","title":"Kick off CRON JOB and send the back end data automatically to several JSPS","body":"<p>The problem was solved by adding a timer to the java script which refreshed the page every few hours.</p>\n<p>This question can be closed/marked as answered.</p>\n"}],"owner":{"account_id":1000240,"reputation":27,"user_id":7907880,"display_name":"user7907880"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75452766,"answer_count":1,"score":0,"last_activity_date":1676405045,"creation_date":1675835413,"question_id":75381804,"body_markdown":"I searched all over but was unable to find a suitable answer, and hence posting this question.\r\n\r\nI have a spring boot application that needs to be scheduled through a cron job to run every hour and fetch data from a web site. I split the list into 5 groups. I need to push the list data into 5 different jsp&#39;s (automatically update it every hour).  \r\nfor example --&gt;  \r\ngroupList1 to group1.jsp\r\ngroupList2 to group2.jsp\r\ngroupList3 to group3.jsp\r\n\r\ngroupList4 to group4.jsp\r\n\r\ngroupList5 to group5.jsp\r\n\r\nI am unable to find information where the data can be pushed to several screens without having to click the submit button. So set up something in the controller to push it to the front end.\r\n\r\nI am new to JSP&#39;s and hence would like some advice on this.\r\n\r\nI am using a Tomcat server, Eclipse 4.25 Java 11 and springboot. \r\nThanks.\r\n\r\nThe CRON job, web service works fine. Have split it into 5 groups,\r\n\r\nI am able to make the front end work if I have a jsp page with a form and a submit button, calls the controller,--&gt;  back end service --&gt; controller (postmapping) --&gt; JSP.\r\n\r\nI am unable to figure out a way to automate it to:\r\ncron job --&gt; controller --&gt; web service --&gt; controller --&gt; display on 5 seperate JSP pages. I am unable to figure out the post mapping that has to be done from controller to JSP.","title":"Kick off CRON JOB and send the back end data automatically to several JSPS","body":"<p>I searched all over but was unable to find a suitable answer, and hence posting this question.</p>\n<p>I have a spring boot application that needs to be scheduled through a cron job to run every hour and fetch data from a web site. I split the list into 5 groups. I need to push the list data into 5 different jsp's (automatically update it every hour).<br />\nfor example --&gt;<br />\ngroupList1 to group1.jsp\ngroupList2 to group2.jsp\ngroupList3 to group3.jsp</p>\n<p>groupList4 to group4.jsp</p>\n<p>groupList5 to group5.jsp</p>\n<p>I am unable to find information where the data can be pushed to several screens without having to click the submit button. So set up something in the controller to push it to the front end.</p>\n<p>I am new to JSP's and hence would like some advice on this.</p>\n<p>I am using a Tomcat server, Eclipse 4.25 Java 11 and springboot.\nThanks.</p>\n<p>The CRON job, web service works fine. Have split it into 5 groups,</p>\n<p>I am able to make the front end work if I have a jsp page with a form and a submit button, calls the controller,--&gt;  back end service --&gt; controller (postmapping) --&gt; JSP.</p>\n<p>I am unable to figure out a way to automate it to:\ncron job --&gt; controller --&gt; web service --&gt; controller --&gt; display on 5 seperate JSP pages. I am unable to figure out the post mapping that has to be done from controller to JSP.</p>\n"},{"tags":["java"],"owner":{"account_id":25180435,"reputation":7,"user_id":19022002,"display_name":"Charles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676404609,"creation_date":1676404453,"question_id":75452687,"body_markdown":"The error:\r\n\r\n&gt; Time: 14/02/2023, 20:35 Description: Initializing game\r\n&gt; \r\n&gt; java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length\r\n&gt; 0 \tat\r\n&gt; java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70)\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:266)\r\n&gt; \tat java.base/java.util.Objects.checkIndex(Objects.java:359) \tat\r\n&gt; java.base/java.util.ArrayList.get(ArrayList.java:427) \tat\r\n&gt; net.minecraft.client.resources.model.SimpleBakedModel.getFaceQuads(SimpleBakedModel.java:35)\r\n&gt; \tat\r\n&gt; net.minecraft.client.resources.model.WeightedBakedModel$MyWeighedRandomItem.getCountQuads(WeightedBakedModel.java:109)\r\n&gt; \tat\r\n&gt; net.minecraft.client.resources.model.WeightedBakedModel$MyWeighedRandomItem.compareTo(WeightedBakedModel.java:100)\r\n&gt; \tat\r\n&gt; net.minecraft.client.resources.model.WeightedBakedModel$MyWeighedRandomItem.compareTo(WeightedBakedModel.java:1)\r\n&gt; \tat\r\n&gt; java.base/java.util.ComparableTimSort.countRunAndMakeAscending(ComparableTimSort.java:320)\r\n&gt; \tat\r\n&gt; java.base/java.util.ComparableTimSort.sort(ComparableTimSort.java:188)\r\n&gt; \tat java.base/java.util.Arrays.sort(Arrays.java:1107) \tat\r\n&gt; java.base/java.util.Arrays.sort(Arrays.java:1301) \tat\r\n&gt; java.base/java.util.ArrayList.sort(ArrayList.java:1721) \tat\r\n&gt; java.base/java.util.Collections.sort(Collections.java:145) \tat\r\n&gt; net.minecraft.client.resources.model.WeightedBakedModel$Builder.build(WeightedBakedModel.java:78)\r\n&gt; \tat\r\n&gt; net.minecraft.client.resources.model.ModelBakery.bakeBlockModels(ModelBakery.java:388)\r\n&gt; \tat\r\n&gt; net.minecraft.client.resources.model.ModelBakery.setupModelRegistry(ModelBakery.java:84)\r\n&gt; \tat\r\n&gt; net.minecraft.client.resources.model.ModelManager.onResourceManagerReload(ModelManager.java:25)\r\n&gt; \tat\r\n&gt; net.minecraft.client.resources.SimpleReloadableResourceManager.registerReloadListener(SimpleReloadableResourceManager.java:111)\r\n&gt; \tat net.minecraft.client.Minecraft.startGame(Minecraft.java:549) \tat\r\n&gt; net.minecraft.client.Minecraft.run(Minecraft.java:401) \tat\r\n&gt; net.minecraft.client.main.Main.main(Main.java:113) \tat\r\n&gt; Start.main(Start.java:11)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nThis error shows when I&#39;m trying to run the client.\r\nCan anyone help me? I&#39;ve trying to set up a client with Minecraft Coder Pack (MCP) with a tutorial video, the video&#39;s creator&#39;s game was working successfully and without any problems and I write the same as he but my Minecraft Client didn&#39;t start (I used eclipse ide for my ide and i ran it from there).","title":"How to correct this error in MCP 1.8.8 client start?","body":"<p>The error:</p>\n<blockquote>\n<p>Time: 14/02/2023, 20:35 Description: Initializing game</p>\n<p>java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length\n0     at\njava.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)\nat\njava.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70)\nat\njava.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:266)\nat java.base/java.util.Objects.checkIndex(Objects.java:359)     at\njava.base/java.util.ArrayList.get(ArrayList.java:427)     at\nnet.minecraft.client.resources.model.SimpleBakedModel.getFaceQuads(SimpleBakedModel.java:35)\nat\nnet.minecraft.client.resources.model.WeightedBakedModel$MyWeighedRandomItem.getCountQuads(WeightedBakedModel.java:109)\nat\nnet.minecraft.client.resources.model.WeightedBakedModel$MyWeighedRandomItem.compareTo(WeightedBakedModel.java:100)\nat\nnet.minecraft.client.resources.model.WeightedBakedModel$MyWeighedRandomItem.compareTo(WeightedBakedModel.java:1)\nat\njava.base/java.util.ComparableTimSort.countRunAndMakeAscending(ComparableTimSort.java:320)\nat\njava.base/java.util.ComparableTimSort.sort(ComparableTimSort.java:188)\nat java.base/java.util.Arrays.sort(Arrays.java:1107)    at\njava.base/java.util.Arrays.sort(Arrays.java:1301)     at\njava.base/java.util.ArrayList.sort(ArrayList.java:1721)   at\njava.base/java.util.Collections.sort(Collections.java:145)    at\nnet.minecraft.client.resources.model.WeightedBakedModel$Builder.build(WeightedBakedModel.java:78)\nat\nnet.minecraft.client.resources.model.ModelBakery.bakeBlockModels(ModelBakery.java:388)\nat\nnet.minecraft.client.resources.model.ModelBakery.setupModelRegistry(ModelBakery.java:84)\nat\nnet.minecraft.client.resources.model.ModelManager.onResourceManagerReload(ModelManager.java:25)\nat\nnet.minecraft.client.resources.SimpleReloadableResourceManager.registerReloadListener(SimpleReloadableResourceManager.java:111)\nat net.minecraft.client.Minecraft.startGame(Minecraft.java:549)     at\nnet.minecraft.client.Minecraft.run(Minecraft.java:401)    at\nnet.minecraft.client.main.Main.main(Main.java:113)    at\nStart.main(Start.java:11)</p>\n</blockquote>\n<p>This error shows when I'm trying to run the client.\nCan anyone help me? I've trying to set up a client with Minecraft Coder Pack (MCP) with a tutorial video, the video's creator's game was working successfully and without any problems and I write the same as he but my Minecraft Client didn't start (I used eclipse ide for my ide and i ran it from there).</p>\n"},{"tags":["java","json","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649060109,"creation_date":1649060109,"answer_id":71733950,"question_id":71733152,"body_markdown":"In you method you specifically configured `consumes = MediaType.APPLICATION_JSON_VALUE`. So you limited your method and specified that consumes this typed and then you complain that it doesn&#39;t take a different type. So either remove `consumes` property or set it to `MediaType.TEXT_PLAIN` or to just a String `consumes = &quot;text/plain;charset=UTF-8&quot;`","title":"Spring boot Content type &#39;text/plain;charset=UTF-8&#39; not supported","body":"<p>In you method you specifically configured <code>consumes = MediaType.APPLICATION_JSON_VALUE</code>. So you limited your method and specified that consumes this typed and then you complain that it doesn't take a different type. So either remove <code>consumes</code> property or set it to <code>MediaType.TEXT_PLAIN</code> or to just a String <code>consumes = &quot;text/plain;charset=UTF-8&quot;</code></p>\n"}],"owner":{"account_id":21240478,"reputation":13,"user_id":15624028,"display_name":"grkemaykac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10771,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676404348,"creation_date":1649055562,"question_id":71733152,"body_markdown":"    @RequestMapping(value = &quot;/NewCustomer&quot;, method = RequestMethod.POST, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n    \tprivate void vNewCustomer(@RequestBody Customer xCustomer)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;Post Request&quot;);\r\n    \t\tif(xCustomer != null \r\n    \t\t&amp;&amp; xCustomer.getCustomerName() != null \r\n    \t\t&amp;&amp; xCustomer.getCustomerMail() != null)\r\n    \t\t{\r\n    \t\t\t\r\n    \t\t\tTableCustomerController.vGetInstance().vInsertCustomer(xCustomer);\r\n    \t\t}\r\n    \t}\r\n\r\n\r\nIt returns \r\nResolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type &#39;text/plain;charset=UTF-8&#39; not supported]\r\n\r\nHow should i solve it\r\nThanks for your help..","title":"Spring boot Content type &#39;text/plain;charset=UTF-8&#39; not supported","body":"<pre><code>@RequestMapping(value = &quot;/NewCustomer&quot;, method = RequestMethod.POST, consumes = MediaType.APPLICATION_JSON_VALUE)\n    private void vNewCustomer(@RequestBody Customer xCustomer)\n    {\n        System.out.println(&quot;Post Request&quot;);\n        if(xCustomer != null \n        &amp;&amp; xCustomer.getCustomerName() != null \n        &amp;&amp; xCustomer.getCustomerMail() != null)\n        {\n            \n            TableCustomerController.vGetInstance().vInsertCustomer(xCustomer);\n        }\n    }\n</code></pre>\n<p>It returns\nResolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type 'text/plain;charset=UTF-8' not supported]</p>\n<p>How should i solve it\nThanks for your help..</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-test"],"owner":{"account_id":353069,"reputation":7200,"user_id":690553,"accept_rate":76,"display_name":"Amir Pashazadeh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676404326,"creation_date":1676404326,"question_id":75452669,"body_markdown":"I have a Spring Boot + JPA application, configured for Oracle. But in my tests I am using H2 database.\r\n\r\nWhen I create a base class for data-aware tests as\r\n\r\n    @ComponentScan(&quot;com.payeshgaran&quot;)\r\n    @DataJpaTest(properties = &quot;spring.jpa.hibernate.ddl-auto=none&quot;)\r\n    @EnableTransactionManagement\r\n    @Sql(scripts = {&quot;/sql/insurance-field.sql&quot;, &quot;/sql/base-info.sql&quot;})\r\n    @Transactional\r\n    public abstract class AbstractDataAwareTest {\r\n    }\r\n\r\nand extend test classes from it, everything works fine, but if I put the configurations (specially `@Sql` on a `@TestConfiguration` class) and then use `@ContextConfiguration` class it doesn&#39;t work). Also if I configure the `datasource` by code in the `@TestConfguration` class as\r\n\r\n    @ComponentScan(&quot;com.payeshgaran&quot;)\r\n    @EnableTransactionManagement\r\n    @TestConfiguration\r\n    public class TestDataConfiguration {\r\n    \r\n        @Bean\r\n        public DataSource dataSource() {\r\n            return new EmbeddedDatabaseBuilder()\r\n                    .generateUniqueName(true)\r\n                    .setType(EmbeddedDatabaseType.H2)\r\n                    .setScriptEncoding(&quot;UTF-8&quot;)\r\n                    .ignoreFailedDrops(true)\r\n                    .addScript(&quot;classpath:sql/insurance-field.sql&quot;)\r\n                    .addScript(&quot;classpath:sql/base-info.sql&quot;)\r\n                    .build();\r\n        }\r\n\r\n    }\r\n\r\nagain the initialization scripts won&#39;t run.\r\n\r\nAnyone knows how should I use a single point of configuration without inheritance?","title":"Using single configuration for a group of tests in Spring Boot application","body":"<p>I have a Spring Boot + JPA application, configured for Oracle. But in my tests I am using H2 database.</p>\n<p>When I create a base class for data-aware tests as</p>\n<pre><code>@ComponentScan(&quot;com.payeshgaran&quot;)\n@DataJpaTest(properties = &quot;spring.jpa.hibernate.ddl-auto=none&quot;)\n@EnableTransactionManagement\n@Sql(scripts = {&quot;/sql/insurance-field.sql&quot;, &quot;/sql/base-info.sql&quot;})\n@Transactional\npublic abstract class AbstractDataAwareTest {\n}\n</code></pre>\n<p>and extend test classes from it, everything works fine, but if I put the configurations (specially <code>@Sql</code> on a <code>@TestConfiguration</code> class) and then use <code>@ContextConfiguration</code> class it doesn't work). Also if I configure the <code>datasource</code> by code in the <code>@TestConfguration</code> class as</p>\n<pre><code>@ComponentScan(&quot;com.payeshgaran&quot;)\n@EnableTransactionManagement\n@TestConfiguration\npublic class TestDataConfiguration {\n\n    @Bean\n    public DataSource dataSource() {\n        return new EmbeddedDatabaseBuilder()\n                .generateUniqueName(true)\n                .setType(EmbeddedDatabaseType.H2)\n                .setScriptEncoding(&quot;UTF-8&quot;)\n                .ignoreFailedDrops(true)\n                .addScript(&quot;classpath:sql/insurance-field.sql&quot;)\n                .addScript(&quot;classpath:sql/base-info.sql&quot;)\n                .build();\n    }\n\n}\n</code></pre>\n<p>again the initialization scripts won't run.</p>\n<p>Anyone knows how should I use a single point of configuration without inheritance?</p>\n"},{"tags":["java","android-studio"],"owner":{"account_id":16953769,"reputation":546,"user_id":12262686,"display_name":"theboyonfire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676403903,"creation_date":1676292294,"question_id":75436058,"body_markdown":"I am really blind with Java and stuff .. I am trying to integrate the [Emarsys][1] SDK in the genarated android build from Ionic  but I get this error \r\n\r\n```\r\nD/Emersys&#160;Error: java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String android.content.Context.getPackageName()&#39; on a null object reference\r\nD/Emersys: EMERSYS initialization process done... \r\n```\r\nI created 1 activity file that has the initialization process in it and then access it in the ```MainActivity```. \r\n\r\nHere is the \r\n```MainActivity.java```\r\n```\r\npackage io.ionic.starter;\r\n\r\nimport com.getcapacitor.BridgeActivity;\r\nimport com.zen.myfirstecho.MyFirstEchoPlugin;\r\nimport android.os.Bundle;\r\n\r\npublic class MainActivity extends BridgeActivity {\r\n  EmersysInitializationActivity emersysInitializationActivity = new EmersysInitializationActivity();\r\n\r\n  @Override\r\n  public void onCreate(Bundle savedInstanceState) {\r\n    registerPlugin(MyFirstEchoPlugin.class);\r\n    super.onCreate(savedInstanceState);\r\n\r\n    //load emersys activity\r\n    emersysInitializationActivity.onCreate();\r\n  }\r\n}\r\n```\r\n\r\n```EmersysInitializationActivity.java```\r\n```\r\npackage io.ionic.starter;\r\n\r\nimport android.app.Activity;\r\nimport android.app.Application;\r\nimport android.util.Log;\r\n\r\nimport com.emarsys.Emarsys;\r\nimport com.emarsys.config.EmarsysConfig;\r\n\r\npublic class EmersysInitializationActivity extends Application {\r\n  EmarsysConfig config;\r\n\r\n  @Override\r\n  public void onCreate() {\r\n\r\n    super.onCreate();\r\n\r\n    Log.d(&quot;Emersys&quot;, &quot;EMERSYS INITIALIZATION... &quot;);\r\n    config = new EmarsysConfig.Builder()\r\n      .application(this)\r\n      .applicationCode(&quot;XXXX&quot;)\r\n      .merchantId(&quot;XXXX&quot;)\r\n      .build();\r\n    Log.d(&quot;Emersys&quot;, config.toString());\r\n\r\n    try {\r\n      //  Block of code to try\r\n      Log.d(&quot;Emersys&quot;, &quot;EMERSYS starts to set the configuration... &quot;);\r\n\r\n      Emarsys.setup(config);  //I think the error is here\r\n      Log.d(&quot;Emersys&quot;, &quot;EMERSYS has been configured... &quot;);\r\n\r\n    }\r\n    catch(Exception e) {\r\n      //  Block of code to handle errors\r\n      Log.d(&quot;Emersys Error&quot;, e.toString());\r\n\r\n    }\r\n    Log.d(&quot;Emersys&quot;, &quot;EMERSYS initialization process done... &quot;);\r\n  }\r\n}\r\n\r\n```\r\n\r\nhere is the ```gradle```\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 33\r\n    defaultConfig {\r\n        applicationId &quot;io.ionic.starter&quot;\r\n        minSdkVersion 24\r\n        targetSdkVersion 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        aaptOptions {\r\n             // Files and dirs to omit from the packaged assets dir, modified to accommodate modern web apps.\r\n             // Default: https://android.googlesource.com/platform/frameworks/base/+/282e181b58cf72b6ca770dc7ca5f91f135444502/tools/aapt/AaptAssets.cpp#61\r\n            ignoreAssetsPattern &#39;!.svn:!.git:!.ds_store:!*.scc:.*:!CVS:!thumbs.db:!picasa.ini:!*~&#39;\r\n        }\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n}\r\n\r\nrepositories {\r\n    flatDir{\r\n        dirs &#39;../capacitor-cordova-android-plugins/src/main/libs&#39;, &#39;libs&#39;\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n    implementation &quot;androidx.appcompat:appcompat:$androidxAppCompatVersion&quot;\r\n    implementation &quot;androidx.coordinatorlayout:coordinatorlayout:$androidxCoordinatorLayoutVersion&quot;\r\n    implementation &quot;androidx.core:core-splashscreen:$coreSplashScreenVersion&quot;\r\n    implementation project(&#39;:capacitor-android&#39;)\r\n  implementation &#39;com.google.android.material:material:1.4.+&#39;\r\n  implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n  testImplementation &quot;junit:junit:$junitVersion&quot;\r\n    androidTestImplementation &quot;androidx.test.ext:junit:$androidxJunitVersion&quot;\r\n    androidTestImplementation &quot;androidx.test.espresso:espresso-core:$androidxEspressoCoreVersion&quot;\r\n    implementation project(&#39;:capacitor-cordova-android-plugins&#39;)\r\n\r\n  //for emersys\r\n  implementation &#39;androidx.core:core-ktx:1.8.0&#39;\r\n  implementation &#39;androidx.appcompat:appcompat:1.5.0&#39;\r\n    //Emarsys\r\n  //try 2.11.1\r\n  implementation &#39;com.emarsys:emarsys-sdk:3.3.1&#39;\r\n  implementation &#39;com.emarsys:emarsys-firebase:+&#39;\r\n\r\n\r\n}\r\n\r\napply from: &#39;capacitor.build.gradle&#39;\r\n\r\ntry {\r\n    def servicesJSON = file(&#39;google-services.json&#39;)\r\n    if (servicesJSON.text) {\r\n        apply plugin: &#39;com.google.gms.google-services&#39;\r\n    }\r\n} catch(Exception e) {\r\n    logger.info(&quot;google-services.json not found, google-services plugin not applied. Push Notifications won&#39;t work&quot;)\r\n}\r\n\r\n```\r\n\r\nand this is the ```manifest```\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n  package=&quot;io.ionic.starter&quot;&gt;\r\n  &lt;!-- Permissions --&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\n  &lt;application\r\n    android:allowBackup=&quot;true&quot;\r\n    android:icon=&quot;@mipmap/ic_launcher&quot;\r\n    android:label=&quot;@string/app_name&quot;\r\n    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n    android:supportsRtl=&quot;true&quot;\r\n    android:theme=&quot;@style/AppTheme&quot;&gt;\r\n    &lt;activity\r\n      android:name=&quot;.EmersysInitializationActivity&quot;\r\n      android:exported=&quot;false&quot;&gt;\r\n      &lt;meta-data\r\n        android:name=&quot;android.app.lib_name&quot;\r\n        android:value=&quot;&quot; /&gt;\r\n    &lt;/activity&gt;\r\n    &lt;activity\r\n      android:name=&quot;.MainActivity&quot;\r\n      android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|locale|smallestScreenSize|screenLayout|uiMode&quot;\r\n      android:exported=&quot;true&quot;\r\n      android:label=&quot;@string/title_activity_main&quot;\r\n      android:launchMode=&quot;singleTask&quot;\r\n      android:theme=&quot;@style/AppTheme.NoActionBarLaunch&quot;&gt;\r\n      &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n      &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n\r\n    &lt;provider\r\n      android:name=&quot;androidx.core.content.FileProvider&quot;\r\n      android:authorities=&quot;${applicationId}.fileprovider&quot;\r\n      android:exported=&quot;false&quot;\r\n      android:grantUriPermissions=&quot;true&quot;&gt;\r\n      &lt;meta-data\r\n        android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n        android:resource=&quot;@xml/file_paths&quot; /&gt;\r\n    &lt;/provider&gt; &lt;!-- Emersys --&gt;\r\n    &lt;meta-data\r\n      android:name=&quot;com.emarsys.mobileengage.notification_color&quot;\r\n      android:resource=&quot;@color/colorPrimary&quot; /&gt;\r\n    &lt;meta-data\r\n      android:name=&quot;com.emarsys.mobileengage.small_notification_icon&quot;\r\n      android:resource=&quot;@drawable/default_small_notification_icon&quot; /&gt;\r\n\r\n    &lt;service\r\n      android:name=&quot;com.emarsys.service.EmarsysFirebaseMessagingService&quot;\r\n      android:exported=&quot;false&quot;&gt;\r\n      &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\r\n      &lt;/intent-filter&gt;\r\n    &lt;/service&gt;\r\n  &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\n```\r\n\r\nI know this question has been asked many times .. But any help is appreciated :) \r\n\r\n\r\n  [1]: https://help.emarsys.com/hc/en-us/articles/360004899497-Android-integration-Mobile-Engage-Android-SDK#usage-android","title":"Error Attempt to invoke virtual method &#39;java.lang.String android.content.Context.getPackageName()&#39; When accessing SDK","body":"<p>I am really blind with Java and stuff .. I am trying to integrate the <a href=\"https://help.emarsys.com/hc/en-us/articles/360004899497-Android-integration-Mobile-Engage-Android-SDK#usage-android\" rel=\"nofollow noreferrer\">Emarsys</a> SDK in the genarated android build from Ionic  but I get this error</p>\n<pre><code>D/Emersys Error: java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String android.content.Context.getPackageName()' on a null object reference\nD/Emersys: EMERSYS initialization process done... \n</code></pre>\n<p>I created 1 activity file that has the initialization process in it and then access it in the <code>MainActivity</code>.</p>\n<p>Here is the\n<code>MainActivity.java</code></p>\n<pre><code>package io.ionic.starter;\n\nimport com.getcapacitor.BridgeActivity;\nimport com.zen.myfirstecho.MyFirstEchoPlugin;\nimport android.os.Bundle;\n\npublic class MainActivity extends BridgeActivity {\n  EmersysInitializationActivity emersysInitializationActivity = new EmersysInitializationActivity();\n\n  @Override\n  public void onCreate(Bundle savedInstanceState) {\n    registerPlugin(MyFirstEchoPlugin.class);\n    super.onCreate(savedInstanceState);\n\n    //load emersys activity\n    emersysInitializationActivity.onCreate();\n  }\n}\n</code></pre>\n<p><code>EmersysInitializationActivity.java</code></p>\n<pre><code>package io.ionic.starter;\n\nimport android.app.Activity;\nimport android.app.Application;\nimport android.util.Log;\n\nimport com.emarsys.Emarsys;\nimport com.emarsys.config.EmarsysConfig;\n\npublic class EmersysInitializationActivity extends Application {\n  EmarsysConfig config;\n\n  @Override\n  public void onCreate() {\n\n    super.onCreate();\n\n    Log.d(&quot;Emersys&quot;, &quot;EMERSYS INITIALIZATION... &quot;);\n    config = new EmarsysConfig.Builder()\n      .application(this)\n      .applicationCode(&quot;XXXX&quot;)\n      .merchantId(&quot;XXXX&quot;)\n      .build();\n    Log.d(&quot;Emersys&quot;, config.toString());\n\n    try {\n      //  Block of code to try\n      Log.d(&quot;Emersys&quot;, &quot;EMERSYS starts to set the configuration... &quot;);\n\n      Emarsys.setup(config);  //I think the error is here\n      Log.d(&quot;Emersys&quot;, &quot;EMERSYS has been configured... &quot;);\n\n    }\n    catch(Exception e) {\n      //  Block of code to handle errors\n      Log.d(&quot;Emersys Error&quot;, e.toString());\n\n    }\n    Log.d(&quot;Emersys&quot;, &quot;EMERSYS initialization process done... &quot;);\n  }\n}\n\n</code></pre>\n<p>here is the <code>gradle</code></p>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 33\n    defaultConfig {\n        applicationId &quot;io.ionic.starter&quot;\n        minSdkVersion 24\n        targetSdkVersion 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        aaptOptions {\n             // Files and dirs to omit from the packaged assets dir, modified to accommodate modern web apps.\n             // Default: https://android.googlesource.com/platform/frameworks/base/+/282e181b58cf72b6ca770dc7ca5f91f135444502/tools/aapt/AaptAssets.cpp#61\n            ignoreAssetsPattern '!.svn:!.git:!.ds_store:!*.scc:.*:!CVS:!thumbs.db:!picasa.ini:!*~'\n        }\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\nrepositories {\n    flatDir{\n        dirs '../capacitor-cordova-android-plugins/src/main/libs', 'libs'\n    }\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation &quot;androidx.appcompat:appcompat:$androidxAppCompatVersion&quot;\n    implementation &quot;androidx.coordinatorlayout:coordinatorlayout:$androidxCoordinatorLayoutVersion&quot;\n    implementation &quot;androidx.core:core-splashscreen:$coreSplashScreenVersion&quot;\n    implementation project(':capacitor-android')\n  implementation 'com.google.android.material:material:1.4.+'\n  implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n  testImplementation &quot;junit:junit:$junitVersion&quot;\n    androidTestImplementation &quot;androidx.test.ext:junit:$androidxJunitVersion&quot;\n    androidTestImplementation &quot;androidx.test.espresso:espresso-core:$androidxEspressoCoreVersion&quot;\n    implementation project(':capacitor-cordova-android-plugins')\n\n  //for emersys\n  implementation 'androidx.core:core-ktx:1.8.0'\n  implementation 'androidx.appcompat:appcompat:1.5.0'\n    //Emarsys\n  //try 2.11.1\n  implementation 'com.emarsys:emarsys-sdk:3.3.1'\n  implementation 'com.emarsys:emarsys-firebase:+'\n\n\n}\n\napply from: 'capacitor.build.gradle'\n\ntry {\n    def servicesJSON = file('google-services.json')\n    if (servicesJSON.text) {\n        apply plugin: 'com.google.gms.google-services'\n    }\n} catch(Exception e) {\n    logger.info(&quot;google-services.json not found, google-services plugin not applied. Push Notifications won't work&quot;)\n}\n\n</code></pre>\n<p>and this is the <code>manifest</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n  package=&quot;io.ionic.starter&quot;&gt;\n  &lt;!-- Permissions --&gt;\n  &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n\n  &lt;application\n    android:allowBackup=&quot;true&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/AppTheme&quot;&gt;\n    &lt;activity\n      android:name=&quot;.EmersysInitializationActivity&quot;\n      android:exported=&quot;false&quot;&gt;\n      &lt;meta-data\n        android:name=&quot;android.app.lib_name&quot;\n        android:value=&quot;&quot; /&gt;\n    &lt;/activity&gt;\n    &lt;activity\n      android:name=&quot;.MainActivity&quot;\n      android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|locale|smallestScreenSize|screenLayout|uiMode&quot;\n      android:exported=&quot;true&quot;\n      android:label=&quot;@string/title_activity_main&quot;\n      android:launchMode=&quot;singleTask&quot;\n      android:theme=&quot;@style/AppTheme.NoActionBarLaunch&quot;&gt;\n      &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n      &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n\n    &lt;provider\n      android:name=&quot;androidx.core.content.FileProvider&quot;\n      android:authorities=&quot;${applicationId}.fileprovider&quot;\n      android:exported=&quot;false&quot;\n      android:grantUriPermissions=&quot;true&quot;&gt;\n      &lt;meta-data\n        android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n        android:resource=&quot;@xml/file_paths&quot; /&gt;\n    &lt;/provider&gt; &lt;!-- Emersys --&gt;\n    &lt;meta-data\n      android:name=&quot;com.emarsys.mobileengage.notification_color&quot;\n      android:resource=&quot;@color/colorPrimary&quot; /&gt;\n    &lt;meta-data\n      android:name=&quot;com.emarsys.mobileengage.small_notification_icon&quot;\n      android:resource=&quot;@drawable/default_small_notification_icon&quot; /&gt;\n\n    &lt;service\n      android:name=&quot;com.emarsys.service.EmarsysFirebaseMessagingService&quot;\n      android:exported=&quot;false&quot;&gt;\n      &lt;intent-filter&gt;\n        &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\n      &lt;/intent-filter&gt;\n    &lt;/service&gt;\n  &lt;/application&gt;\n\n&lt;/manifest&gt;\n\n</code></pre>\n<p>I know this question has been asked many times .. But any help is appreciated :)</p>\n"},{"tags":["java","azure"],"answers":[{"tags":[],"owner":{"account_id":27787144,"reputation":1,"user_id":21214356,"display_name":"Jacob Mellichamp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676403765,"creation_date":1676403765,"answer_id":75452582,"question_id":75450255,"body_markdown":"According to the [JavaDocs][1]\r\n\r\nYou should be able to call `String payload2 = req.getBody().get();` to get the string value out of the `Optional&lt;String&gt;` class\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html","title":"Convert HttpRequestMessage&lt;Optional&lt;String&gt;&gt; to a normal String","body":"<p>According to the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"nofollow noreferrer\">JavaDocs</a></p>\n<p>You should be able to call <code>String payload2 = req.getBody().get();</code> to get the string value out of the <code>Optional&lt;String&gt;</code> class</p>\n"}],"owner":{"account_id":27785102,"reputation":11,"user_id":21212734,"display_name":"ScottG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676403765,"creation_date":1676389976,"question_id":75450255,"body_markdown":"I am writing a Java Azure program that builds an envelope and logs the data to Application Insights in the Azure Portal. Currently it is tailored to just accept an HTTP Request function, but I am trying to make it compatible with using the Azure Service Bus and other services as well. My cf.buildEnvelope() function currently is structed as: buildEnvelope(HttpRequestMessage&lt;Optional&lt;String&gt;&gt; req, ExecutionContext context)\r\nand I want to change it to: \r\nbuildEnvelope(String req, ExecutionContext context) so that I can use it for more than just the HTTP Request. In order to do this I believe I just need to convert my req to a normal String in my Handler, but I cannot figure out how to do so.\r\n\r\n\r\n\r\nHere is my Handler:\r\n```\r\n`import com.microsoft.azure.functions.ExecutionContext;\r\nimport com.microsoft.azure.functions.HttpMethod;\r\nimport com.microsoft.azure.functions.HttpRequestMessage;\r\nimport com.microsoft.azure.functions.HttpResponseMessage;\r\nimport com.microsoft.azure.functions.HttpStatus;\r\nimport com.microsoft.azure.functions.annotation.AuthorizationLevel;\r\nimport com.microsoft.azure.functions.annotation.FunctionName;\r\nimport com.microsoft.azure.functions.annotation.HttpTrigger;\r\n//import com.microsoft.azure.functions.annotation.ServiceBusQueueTrigger;\r\nimport java.util.Optional;\r\n\r\npublic class Handler {\r\n    @FunctionName(&quot;HttpHandler&quot;)\r\n    public HttpResponseMessage runHttp(\r\n            @HttpTrigger(name = &quot;req&quot;, methods = {HttpMethod.GET, HttpMethod.POST}, authLevel = AuthorizationLevel.ANONYMOUS)\r\n            HttpRequestMessage&lt;Optional&lt;String&gt;&gt; req, ExecutionContext context) {\r\n        \r\n    Optional&lt;String&gt; payload = req.getBody();\r\n    // payload to String (Ignore this)\r\n    //String payload2 = req.getBody().orElse(&quot;&quot;);\r\n\r\n\r\n    MessageEnvelope envelope = cf.buildEnvelope(req, context);\r\n    cf.log(envelope, context, payload);\r\n\r\n    return req.createResponseBuilder(HttpStatus.OK).body(&quot;Data logged&quot;).build();\r\n    }\r\n}`\r\n```\r\n\r\nAnd my buildEnvelope function:\r\n\r\n```\r\n`public static MessageEnvelope buildEnvelope(HttpRequestMessage&lt;Optional&lt;String&gt;&gt; req, ExecutionContext context) {\r\n    Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n    Optional&lt;String&gt; payload = req.getBody();\r\n\r\n   MessageEnvelope msgEnvelope = new MessageEnvelope(req, context);\r\n   msgEnvelope.setMessageMetadata(new MessageMetadata(System.getenv(&quot;AZURE_FUNCTIONS_ENVIRONMENT&quot;), System.getenv(&quot;USERDNSDOMAIN&quot;)));\r\n   msgEnvelope.setMessageAttributes(new MessageAttributes(&quot;&quot;, &quot;&quot;));\r\n   msgEnvelope.setMessageParameters(new MessageParameters(&quot;&quot;, &quot;&quot;));\r\n   msgEnvelope.setMessageVariable(new String[]{&quot;0&quot;, &quot;1&quot;, &quot;2&quot;});\r\n   msgEnvelope.setMessagePayload(gson.toJson(payload));\r\n\r\n   return msgEnvelope;\r\n}`\r\n```\r\n\r\nPlease help me make this conversion. Thank you!","title":"Convert HttpRequestMessage&lt;Optional&lt;String&gt;&gt; to a normal String","body":"<p>I am writing a Java Azure program that builds an envelope and logs the data to Application Insights in the Azure Portal. Currently it is tailored to just accept an HTTP Request function, but I am trying to make it compatible with using the Azure Service Bus and other services as well. My cf.buildEnvelope() function currently is structed as: buildEnvelope(HttpRequestMessage&lt;Optional&gt; req, ExecutionContext context)\nand I want to change it to:\nbuildEnvelope(String req, ExecutionContext context) so that I can use it for more than just the HTTP Request. In order to do this I believe I just need to convert my req to a normal String in my Handler, but I cannot figure out how to do so.</p>\n<p>Here is my Handler:</p>\n<pre><code>`import com.microsoft.azure.functions.ExecutionContext;\nimport com.microsoft.azure.functions.HttpMethod;\nimport com.microsoft.azure.functions.HttpRequestMessage;\nimport com.microsoft.azure.functions.HttpResponseMessage;\nimport com.microsoft.azure.functions.HttpStatus;\nimport com.microsoft.azure.functions.annotation.AuthorizationLevel;\nimport com.microsoft.azure.functions.annotation.FunctionName;\nimport com.microsoft.azure.functions.annotation.HttpTrigger;\n//import com.microsoft.azure.functions.annotation.ServiceBusQueueTrigger;\nimport java.util.Optional;\n\npublic class Handler {\n    @FunctionName(&quot;HttpHandler&quot;)\n    public HttpResponseMessage runHttp(\n            @HttpTrigger(name = &quot;req&quot;, methods = {HttpMethod.GET, HttpMethod.POST}, authLevel = AuthorizationLevel.ANONYMOUS)\n            HttpRequestMessage&lt;Optional&lt;String&gt;&gt; req, ExecutionContext context) {\n        \n    Optional&lt;String&gt; payload = req.getBody();\n    // payload to String (Ignore this)\n    //String payload2 = req.getBody().orElse(&quot;&quot;);\n\n\n    MessageEnvelope envelope = cf.buildEnvelope(req, context);\n    cf.log(envelope, context, payload);\n\n    return req.createResponseBuilder(HttpStatus.OK).body(&quot;Data logged&quot;).build();\n    }\n}`\n</code></pre>\n<p>And my buildEnvelope function:</p>\n<pre><code>`public static MessageEnvelope buildEnvelope(HttpRequestMessage&lt;Optional&lt;String&gt;&gt; req, ExecutionContext context) {\n    Gson gson = new GsonBuilder().setPrettyPrinting().create();\n    Optional&lt;String&gt; payload = req.getBody();\n\n   MessageEnvelope msgEnvelope = new MessageEnvelope(req, context);\n   msgEnvelope.setMessageMetadata(new MessageMetadata(System.getenv(&quot;AZURE_FUNCTIONS_ENVIRONMENT&quot;), System.getenv(&quot;USERDNSDOMAIN&quot;)));\n   msgEnvelope.setMessageAttributes(new MessageAttributes(&quot;&quot;, &quot;&quot;));\n   msgEnvelope.setMessageParameters(new MessageParameters(&quot;&quot;, &quot;&quot;));\n   msgEnvelope.setMessageVariable(new String[]{&quot;0&quot;, &quot;1&quot;, &quot;2&quot;});\n   msgEnvelope.setMessagePayload(gson.toJson(payload));\n\n   return msgEnvelope;\n}`\n</code></pre>\n<p>Please help me make this conversion. Thank you!</p>\n"},{"tags":["java","minecraft"],"answers":[{"tags":[],"owner":{"account_id":22755735,"reputation":555,"user_id":16915219,"display_name":"JumperBot_"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673010816,"creation_date":1659186046,"answer_id":73175845,"question_id":73175611,"body_markdown":"According to [this documentation](https://taylorgoolsby.github.io/forge-javadocs/docs/javadoc-1.15.2/net/minecraft/client/entity/player/ClientPlayerEntity.html) it inherits [this method](https://taylorgoolsby.github.io/forge-javadocs/docs/javadoc-1.15.2/net/minecraft/entity/Entity.html#getServer--), which is the `#getServer()` method.\r\n\r\nAccording to the documentations, the return value is `@Nullable`.\r\n\r\nIn other words, you would most likely want to check if the method returns `null` before doing anything with it.\r\n\r\nThe most convincing answer that came to my mind is that the player isn&#39;t in a server at all.\r\n\r\nIn other words, player is in a local world hence it doesn&#39;t return a `MinecraftServer`.","title":"Why is net.minecraft.entity.Entity.getServer() returning null?","body":"<p>According to <a href=\"https://taylorgoolsby.github.io/forge-javadocs/docs/javadoc-1.15.2/net/minecraft/client/entity/player/ClientPlayerEntity.html\" rel=\"nofollow noreferrer\">this documentation</a> it inherits <a href=\"https://taylorgoolsby.github.io/forge-javadocs/docs/javadoc-1.15.2/net/minecraft/entity/Entity.html#getServer--\" rel=\"nofollow noreferrer\">this method</a>, which is the <code>#getServer()</code> method.</p>\n<p>According to the documentations, the return value is <code>@Nullable</code>.</p>\n<p>In other words, you would most likely want to check if the method returns <code>null</code> before doing anything with it.</p>\n<p>The most convincing answer that came to my mind is that the player isn't in a server at all.</p>\n<p>In other words, player is in a local world hence it doesn't return a <code>MinecraftServer</code>.</p>\n"},{"tags":[],"owner":{"account_id":22907482,"reputation":103,"user_id":17045315,"display_name":"Blay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676403560,"creation_date":1659999400,"answer_id":73284864,"question_id":73175611,"body_markdown":"It was returning null, because the mod was client-sided, and client-sided mods cannot get the MinecraftServer class.","title":"Why is net.minecraft.entity.Entity.getServer() returning null?","body":"<p>It was returning null, because the mod was client-sided, and client-sided mods cannot get the MinecraftServer class.</p>\n"}],"owner":{"account_id":22907482,"reputation":103,"user_id":17045315,"display_name":"Blay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":829,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":73284864,"answer_count":2,"score":-1,"last_activity_date":1676403720,"creation_date":1659184110,"question_id":73175611,"body_markdown":"I was recently writing a fabric mc minecraft mod for 1.19.1, and I have a single, simple question, that I can&#39;t find answer for:  \r\nWhy is client.player.getServer() returning null, where I&#39;m running it like this:\r\n```\r\nClientTickEvents.END_CLIENT_TICK.register(client -&gt; {\r\n    client.player.getServer().getPlayerNames()\r\n});\r\n```\r\nThe exception I&#39;m getting: ```java.lang.NullPointerException: Cannot invoke &quot;net.minecraft.server.MinecraftServer.getPlayerNames()&quot; because the return value of &quot;net.minecraft.client.network.ClientPlayerEntity.getServer()&quot; is null```  \r\nDoes anyone know what is going on? Thanks :)","title":"Why is net.minecraft.entity.Entity.getServer() returning null?","body":"<p>I was recently writing a fabric mc minecraft mod for 1.19.1, and I have a single, simple question, that I can't find answer for:<br />\nWhy is client.player.getServer() returning null, where I'm running it like this:</p>\n<pre><code>ClientTickEvents.END_CLIENT_TICK.register(client -&gt; {\n    client.player.getServer().getPlayerNames()\n});\n</code></pre>\n<p>The exception I'm getting: <code>java.lang.NullPointerException: Cannot invoke &quot;net.minecraft.server.MinecraftServer.getPlayerNames()&quot; because the return value of &quot;net.minecraft.client.network.ClientPlayerEntity.getServer()&quot; is null</code><br />\nDoes anyone know what is going on? Thanks :)</p>\n"},{"tags":["java","json","spring","list","enums"],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676403674,"creation_date":1676402957,"answer_id":75452461,"question_id":75452133,"body_markdown":"It&#39;s because you&#39;re iterating over all the Ingredients\r\n\r\n    for (Ingredients a : Ingredients.values()) {\r\n\r\nTry\r\n\r\n    for (Ingredients a : burger.getIngredients()) {\r\n\r\nAs a side note, consider renaming your enum `Ingredient` instead of `Ingredients` because a single instance represents an `Ingredient`, not all.","title":"Need to sum enum values with another class field in a POST request","body":"<p>It's because you're iterating over all the Ingredients</p>\n<pre><code>for (Ingredients a : Ingredients.values()) {\n</code></pre>\n<p>Try</p>\n<pre><code>for (Ingredients a : burger.getIngredients()) {\n</code></pre>\n<p>As a side note, consider renaming your enum <code>Ingredient</code> instead of <code>Ingredients</code> because a single instance represents an <code>Ingredient</code>, not all.</p>\n"}],"owner":{"account_id":22210359,"reputation":3,"user_id":19821716,"display_name":"Luigicuri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75452461,"answer_count":1,"score":0,"last_activity_date":1676403674,"creation_date":1676400695,"question_id":75452133,"body_markdown":"I have an Ingredients ENUM with Double type values:\r\n    \r\n```\r\n@Getter\r\n@AllArgsConstructor\r\npublic enum Ingredients\r\n    LETUCE(0.40),\r\n    BACON(2.00),\r\n    BEEF(3.00),\r\n    EGG(0.80),\r\n    CHEESE(1.50);\r\n```\r\nI have a Burger class with fields:\r\n       \r\n```\r\n       Long id;\r\n       String name;\r\n       \r\n       Double price;\r\n       List&lt;Ingredients&gt; aditionalIngredients;\r\n```\r\n\r\nThe class Burger has a `List&lt;Ingredients&gt; aditionalIngredients` field for aditional ingredients, I need to sum an aditional ingredient value to the default Burger price in a JSON POST request, for example: \r\n\r\n    {\r\n      &quot;name&quot; : &quot;Burger1&quot;,\r\n      &quot;price&quot; : 5.00,\r\n      &quot;aditionalIngredients: [&quot;LETUCE&quot;, &quot;EGG&quot;] //sum these 2 values to the burger default price \r\n    }\r\n    \r\n    EXPECTED RETURN\r\n    \r\n    {\r\n      &quot;name&quot; : &quot;Burger1&quot;,\r\n      &quot;aditionalIngredients: [&quot;LETUCE&quot;, &quot;EGG&quot;]\r\n      &quot;price&quot; : 6.20         //0.40 + 0.80 + 5.00(burger price)\r\n    }\r\n\r\nI tried to do this:\r\n\r\n```\r\nif(!burger.getAditionalIngredient().isEmpty()){\r\n         for( Ingredients a : Ingredients.values()){\r\n         burger.setPrice(burger.getPrice() +  a.getValue());\r\n   }\r\n}\r\n```\r\nBut returned the sum of ALL THE ENUM values, not just [&quot;LETUCE&quot;, &quot;EGG].\r\n","title":"Need to sum enum values with another class field in a POST request","body":"<p>I have an Ingredients ENUM with Double type values:</p>\n<pre><code>@Getter\n@AllArgsConstructor\npublic enum Ingredients\n    LETUCE(0.40),\n    BACON(2.00),\n    BEEF(3.00),\n    EGG(0.80),\n    CHEESE(1.50);\n</code></pre>\n<p>I have a Burger class with fields:</p>\n<pre><code>       Long id;\n       String name;\n       \n       Double price;\n       List&lt;Ingredients&gt; aditionalIngredients;\n</code></pre>\n<p>The class Burger has a <code>List&lt;Ingredients&gt; aditionalIngredients</code> field for aditional ingredients, I need to sum an aditional ingredient value to the default Burger price in a JSON POST request, for example:</p>\n<pre><code>{\n  &quot;name&quot; : &quot;Burger1&quot;,\n  &quot;price&quot; : 5.00,\n  &quot;aditionalIngredients: [&quot;LETUCE&quot;, &quot;EGG&quot;] //sum these 2 values to the burger default price \n}\n\nEXPECTED RETURN\n\n{\n  &quot;name&quot; : &quot;Burger1&quot;,\n  &quot;aditionalIngredients: [&quot;LETUCE&quot;, &quot;EGG&quot;]\n  &quot;price&quot; : 6.20         //0.40 + 0.80 + 5.00(burger price)\n}\n</code></pre>\n<p>I tried to do this:</p>\n<pre><code>if(!burger.getAditionalIngredient().isEmpty()){\n         for( Ingredients a : Ingredients.values()){\n         burger.setPrice(burger.getPrice() +  a.getValue());\n   }\n}\n</code></pre>\n<p>But returned the sum of ALL THE ENUM values, not just [&quot;LETUCE&quot;, &quot;EGG].</p>\n"},{"tags":["java","spring","spring-boot","spring-kafka","kafka-producer-api"],"comments":[{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1650922795,"post_id":72005822,"comment_id":127234008,"body_markdown":"May we see more stacktrace? Is that thrown really from the `kafkaTemplate.sendDefault(key, value)` line of your code?","body":"May we see more stacktrace? Is that thrown really from the <code>kafkaTemplate.sendDefault(key, value)</code> line of your code?"},{"owner":{"account_id":6743067,"reputation":107,"user_id":5195613,"display_name":"Vikram Bhardwaj"},"score":0,"creation_date":1650923256,"post_id":72005822,"comment_id":127234126,"body_markdown":"Hi @Artem Bilan\nadded the stack trace to my question","body":"Hi @Artem Bilan added the stack trace to my question"},{"owner":{"account_id":5559956,"reputation":13819,"user_id":9840318,"display_name":"Madhu Bhat"},"score":0,"creation_date":1650923257,"post_id":72005822,"comment_id":127234127,"body_markdown":"Your configuration is defined as `spring.kafka.templete.default-topic` instead of `spring.kafka.template.default-topic` in [here](https://github.com/vikram-bhardwaj/KafkaLearning/blob/main/src/main/resources/application.yml#L8) with the typo for `template`. That&#39;s probably why the topic name is not being assigned.","body":"Your configuration is defined as <code>spring.kafka.templete.default-topic</code> instead of <code>spring.kafka.template.default-topic</code> in <a href=\"https://github.com/vikram-bhardwaj/KafkaLearning/blob/main/src/main/resources/application.yml#L8\" rel=\"nofollow noreferrer\">here</a> with the typo for <code>template</code>. That&#39;s probably why the topic name is not being assigned."},{"owner":{"account_id":6743067,"reputation":107,"user_id":5195613,"display_name":"Vikram Bhardwaj"},"score":0,"creation_date":1650924165,"post_id":72005822,"comment_id":127234314,"body_markdown":"Hi Madhu Bhat\nThanks for pointing it out, but it&#39;s not due to that. Retried upon update. I have pushed the latest to the repo too and attached a stack trace to the question.","body":"Hi Madhu Bhat Thanks for pointing it out, but it&#39;s not due to that. Retried upon update. I have pushed the latest to the repo too and attached a stack trace to the question."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1650979595,"post_id":72005822,"comment_id":127248421,"body_markdown":"I think this all does not make sense any more: see Gary&#39;s answer and his investigation.","body":"I think this all does not make sense any more: see Gary&#39;s answer and his investigation."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650924299,"creation_date":1650924299,"answer_id":72006185,"question_id":72005822,"body_markdown":"You have a typo in application.yml - `templete` Vs. `template`.\r\n\r\nAlso, see the error message in the log:\r\n\r\n&gt;Property &#39;spring.profiles&#39; imported from location &#39;file [application.yml]&#39; is invalid and should be replaced with &#39;spring.config.activate.on-profile&#39; [origin: URL [file:application.yml] - 38:13]\r\n\r\n```yaml\r\nspring:\r\n  config:\r\n    activate:\r\n      on-profile: local\r\n  kafka:\r\n    template:\r\n      default-topic: library-events\r\n    producer:\r\n      bootstrap-servers: localhost:9092, localhost:9093, localhost:9094\r\n      key-serializer: org.apache.kafka.common.serialization.IntegerSerializer\r\n      value-serializer: org.apache.kafka.common.serialization.StringSerializer\r\n    admin:\r\n      properties:\r\n       bootstrap.servers: localhost:9092,localhost:9093,localhost:9094\r\n```","title":"java.lang.IllegalArgumentException: Topic cannot be null. at org.apache.kafka.clients.producer.ProducerRecord.&lt;init&gt;(ProducerRecord.java:71)","body":"<p>You have a typo in application.yml - <code>templete</code> Vs. <code>template</code>.</p>\n<p>Also, see the error message in the log:</p>\n<blockquote>\n<p>Property 'spring.profiles' imported from location 'file [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: URL [file:application.yml] - 38:13]</p>\n</blockquote>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  config:\n    activate:\n      on-profile: local\n  kafka:\n    template:\n      default-topic: library-events\n    producer:\n      bootstrap-servers: localhost:9092, localhost:9093, localhost:9094\n      key-serializer: org.apache.kafka.common.serialization.IntegerSerializer\n      value-serializer: org.apache.kafka.common.serialization.StringSerializer\n    admin:\n      properties:\n       bootstrap.servers: localhost:9092,localhost:9093,localhost:9094\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26123731,"reputation":1,"user_id":19815560,"display_name":"Samer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661494438,"creation_date":1661110147,"answer_id":73437614,"question_id":72005822,"body_markdown":"I think you should use send method instead of sendDefault for latest versions of spring boot , \r\nlike this :\r\n  \r\n\r\n    kafkaTemplate.sendDefault(&quot;topic-name&quot;,key,value);","title":"java.lang.IllegalArgumentException: Topic cannot be null. at org.apache.kafka.clients.producer.ProducerRecord.&lt;init&gt;(ProducerRecord.java:71)","body":"<p>I think you should use send method instead of sendDefault for latest versions of spring boot ,\nlike this :</p>\n<pre><code>kafkaTemplate.sendDefault(&quot;topic-name&quot;,key,value);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18625102,"reputation":43,"user_id":13574407,"display_name":"Himanshu Gadia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676403567,"creation_date":1676403567,"answer_id":75452551,"question_id":72005822,"body_markdown":"I was facing similar issue. I referred - [How to set spring boot profile][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/39738901/how-do-i-activate-a-spring-boot-profile-when-running-from-intellij\r\n\r\nSeems like intellij is not picking the default topic from yml file and that&#39;s why topic was null. Hence the error. \r\nIt resolved for me without making any changes in sendDefault method.","title":"java.lang.IllegalArgumentException: Topic cannot be null. at org.apache.kafka.clients.producer.ProducerRecord.&lt;init&gt;(ProducerRecord.java:71)","body":"<p>I was facing similar issue. I referred - <a href=\"https://stackoverflow.com/questions/39738901/how-do-i-activate-a-spring-boot-profile-when-running-from-intellij\">How to set spring boot profile</a></p>\n<p>Seems like intellij is not picking the default topic from yml file and that's why topic was null. Hence the error.\nIt resolved for me without making any changes in sendDefault method.</p>\n"}],"owner":{"account_id":6743067,"reputation":107,"user_id":5195613,"display_name":"Vikram Bhardwaj"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3028,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1676403567,"creation_date":1650921254,"question_id":72005822,"body_markdown":"I&#39;m new to Kafka and struggling with a very strange error. Could someone please help in identifying the issue?\r\n\r\nThe error: \r\n\r\n    ERROR 26072 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException: Topic cannot be null.] with root cause\r\n    \r\n    java.lang.IllegalArgumentException: Topic cannot be null.\r\n    \tat org.apache.kafka.clients.producer.ProducerRecord.&lt;init&gt;(ProducerRecord.java:71) ~[kafka-clients-3.0.1.jar:na]\r\n\r\nI&#39;m suspecting that somehow it&#39;s not able to read the Topic value from the application.yml file but not sure about the reason as it&#39;s able to read all other values.\r\n\r\nI&#39;m uploading the entire code to Github.\r\n\r\nRepo URL: [https://github.com/vikram-bhardwaj/KafkaLearning.git][1]\r\n\r\nPlease help.\r\n\r\n\r\n  [1]: https://github.com/vikram-bhardwaj/KafkaLearning.git\r\n\r\n\r\nStack trace:\r\n\r\n    java.lang.IllegalArgumentException: Topic cannot be null.\r\n    \tat org.apache.kafka.clients.producer.ProducerRecord.&lt;init&gt;(ProducerRecord.java:71) ~[kafka-clients-3.0.1.jar:na]\r\n    \tat org.apache.kafka.clients.producer.ProducerRecord.&lt;init&gt;(ProducerRecord.java:133) ~[kafka-clients-3.0.1.jar:na]\r\n    \tat org.springframework.kafka.core.KafkaTemplate.send(KafkaTemplate.java:408) ~[spring-kafka-2.8.5.jar:2.8.5]\r\n    \tat org.springframework.kafka.core.KafkaTemplate.sendDefault(KafkaTemplate.java:387) ~[spring-kafka-2.8.5.jar:2.8.5]\r\n    \tat com.learnKafka.producer.LibraryEventProducer.sendLibraryEvents(LibraryEventProducer.java:32) ~[classes/:na]\r\n    \tat com.learnKafka.controller.LibraryEventsController.postLibraryEvents(LibraryEventsController.java:32) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.62.jar:4.0.FR]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.62.jar:4.0.FR]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.62.jar:9.0.62]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.19.jar:5.3.19]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.19.jar:5.3.19]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.19.jar:5.3.19]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n\r\n","title":"java.lang.IllegalArgumentException: Topic cannot be null. at org.apache.kafka.clients.producer.ProducerRecord.&lt;init&gt;(ProducerRecord.java:71)","body":"<p>I'm new to Kafka and struggling with a very strange error. Could someone please help in identifying the issue?</p>\n<p>The error:</p>\n<pre><code>ERROR 26072 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException: Topic cannot be null.] with root cause\n\njava.lang.IllegalArgumentException: Topic cannot be null.\n    at org.apache.kafka.clients.producer.ProducerRecord.&lt;init&gt;(ProducerRecord.java:71) ~[kafka-clients-3.0.1.jar:na]\n</code></pre>\n<p>I'm suspecting that somehow it's not able to read the Topic value from the application.yml file but not sure about the reason as it's able to read all other values.</p>\n<p>I'm uploading the entire code to Github.</p>\n<p>Repo URL: <a href=\"https://github.com/vikram-bhardwaj/KafkaLearning.git\" rel=\"nofollow noreferrer\">https://github.com/vikram-bhardwaj/KafkaLearning.git</a></p>\n<p>Please help.</p>\n<p>Stack trace:</p>\n<pre><code>java.lang.IllegalArgumentException: Topic cannot be null.\n    at org.apache.kafka.clients.producer.ProducerRecord.&lt;init&gt;(ProducerRecord.java:71) ~[kafka-clients-3.0.1.jar:na]\n    at org.apache.kafka.clients.producer.ProducerRecord.&lt;init&gt;(ProducerRecord.java:133) ~[kafka-clients-3.0.1.jar:na]\n    at org.springframework.kafka.core.KafkaTemplate.send(KafkaTemplate.java:408) ~[spring-kafka-2.8.5.jar:2.8.5]\n    at org.springframework.kafka.core.KafkaTemplate.sendDefault(KafkaTemplate.java:387) ~[spring-kafka-2.8.5.jar:2.8.5]\n    at com.learnKafka.producer.LibraryEventProducer.sendLibraryEvents(LibraryEventProducer.java:32) ~[classes/:na]\n    at com.learnKafka.controller.LibraryEventsController.postLibraryEvents(LibraryEventsController.java:32) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.62.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.62.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n</code></pre>\n"},{"tags":["javascript","java","spring","hibernate"],"owner":{"account_id":27706510,"reputation":13,"user_id":21150033,"display_name":"Aditi Mogha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676403495,"creation_date":1676397773,"question_id":75451603,"body_markdown":"I am upgrading spring 4 to spring 5 and java 8 to java 17 . My integration tests are failing with assertion error :\r\n\r\n   \r\n\r\n    java.lang.AssertionError: Status expected:&lt;400&gt; but was:&lt;201&gt;\r\n\tat org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)\r\n\tat org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)\r\n\r\nCould some one help here what is the cause for the integration test failure.\r\n\r\n test case is using this script:\r\n\r\n    @ScriptAssert(message = &quot;At least one property to update should be specified.&quot;,\r\n        script = &quot;_this.caseType != null || _this.caseReferenceId != null ||  _this.documentMajorVersion != null || &quot;\r\n                + &quot; _this.documentMinorVersion != null || _this.caseState != null || _this.assignedToUser != null || &quot;\r\n                + &quot;_this.dueDate != null || _this.status != null &quot;,\r\n        lang = &quot;javascript&quot;, groups = CaseRequest.Update.class)\r\npublic class CaseRequest extends BasicRequest {\r\n\r\n    public interface Create {\r\n.....\r\n\r\n\r\ntest case :\r\n\r\n        @Test\r\n    public void createCaseConfig_caseLastRestoredMinutesLessThanCaseTimeoutMinutes_shouldReturnBadRequest()\r\n            throws Exception {\r\n        CaseConfigRequest caseConfigRequest = new CaseConfigRequest();\r\n        caseConfigRequest.setCaseType(&quot;caseType&quot;);\r\n        caseConfigRequest.setUsername(&quot;username&quot;);\r\n        caseConfigRequest.setCaseTimeoutMinutes(60);\r\n        caseConfigRequest.setCaseLastRestoredMinutes(59);\r\n        doReturn(expectedCaseConfig).when(caseConfigService).createCaseConfig(any(CaseConfigRequest.class));\r\n\r\n        mvcResult = mockMvc\r\n                .perform(\r\n                        MockMvcRequestBuilders.post(&quot;/v1/caseconfigs&quot;).with(SecurityMockMvcRequestPostProcessors.csrf())\r\n                                .with(SecurityMockMvcRequestPostProcessors.httpBasic(&quot;test&quot;, &quot;testpassword&quot;))\r\n                                .content(objectMapper.writeValueAsString(caseConfigRequest))\r\n                                .contentType(MediaType.APPLICATION_JSON))\r\n                .andExpect(status().isBadRequest()).andReturn();\r\n        ClmErrorResponse clmErrorResponse =\r\n                objectMapper.readValue(mvcResult.getResponse().getContentAsByteArray(), ClmErrorResponse.class);\r\n        InputError error = clmErrorResponse.getInputErrors().iterator().next();\r\n        assertThat(error.getFieldName(), is(&quot;caseConfigRequest&quot;));\r\n        assertThat(error.getFieldViolation(), is(&quot;caseLastRestoredMinutes should be greater than caseTimeoutMinutes&quot;));\r\n    }\r\n\r\n\r\n","title":"@ScriptAssert is not working correctly, java.lang.AssertionError: Status expected:&lt;400&gt; but was:&lt;201&gt; ,","body":"<p>I am upgrading spring 4 to spring 5 and java 8 to java 17 . My integration tests are failing with assertion error :</p>\n<pre><code>java.lang.AssertionError: Status expected:&lt;400&gt; but was:&lt;201&gt;\nat org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)\nat org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)\n</code></pre>\n<p>Could some one help here what is the cause for the integration test failure.</p>\n<p>test case is using this script:</p>\n<pre><code>@ScriptAssert(message = &quot;At least one property to update should be specified.&quot;,\n    script = &quot;_this.caseType != null || _this.caseReferenceId != null ||  _this.documentMajorVersion != null || &quot;\n            + &quot; _this.documentMinorVersion != null || _this.caseState != null || _this.assignedToUser != null || &quot;\n            + &quot;_this.dueDate != null || _this.status != null &quot;,\n    lang = &quot;javascript&quot;, groups = CaseRequest.Update.class)\n</code></pre>\n<p>public class CaseRequest extends BasicRequest {</p>\n<pre><code>public interface Create {\n</code></pre>\n<p>.....</p>\n<p>test case :</p>\n<pre><code>    @Test\npublic void createCaseConfig_caseLastRestoredMinutesLessThanCaseTimeoutMinutes_shouldReturnBadRequest()\n        throws Exception {\n    CaseConfigRequest caseConfigRequest = new CaseConfigRequest();\n    caseConfigRequest.setCaseType(&quot;caseType&quot;);\n    caseConfigRequest.setUsername(&quot;username&quot;);\n    caseConfigRequest.setCaseTimeoutMinutes(60);\n    caseConfigRequest.setCaseLastRestoredMinutes(59);\n    doReturn(expectedCaseConfig).when(caseConfigService).createCaseConfig(any(CaseConfigRequest.class));\n\n    mvcResult = mockMvc\n            .perform(\n                    MockMvcRequestBuilders.post(&quot;/v1/caseconfigs&quot;).with(SecurityMockMvcRequestPostProcessors.csrf())\n                            .with(SecurityMockMvcRequestPostProcessors.httpBasic(&quot;test&quot;, &quot;testpassword&quot;))\n                            .content(objectMapper.writeValueAsString(caseConfigRequest))\n                            .contentType(MediaType.APPLICATION_JSON))\n            .andExpect(status().isBadRequest()).andReturn();\n    ClmErrorResponse clmErrorResponse =\n            objectMapper.readValue(mvcResult.getResponse().getContentAsByteArray(), ClmErrorResponse.class);\n    InputError error = clmErrorResponse.getInputErrors().iterator().next();\n    assertThat(error.getFieldName(), is(&quot;caseConfigRequest&quot;));\n    assertThat(error.getFieldViolation(), is(&quot;caseLastRestoredMinutes should be greater than caseTimeoutMinutes&quot;));\n}\n</code></pre>\n"},{"tags":["java","microsoft-graph-api"],"owner":{"account_id":367805,"reputation":143,"user_id":714212,"display_name":"rread"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676403119,"creation_date":1676403119,"question_id":75452495,"body_markdown":"Hi Guys i need some help, i got a super user in sharepoint and drive,\r\n\r\nI need to create a application in java that when a username and filename is passed to it, will go into the users drive and look for the filename passed and return the file-Id for it. i by chance the user has multiple files with the same name i need to return the latest one.\r\n\r\nI have tried multiple ways but it does not seem to work\r\n\r\nhere is a copy of my code\r\n\r\n\t\t\tGraphServiceClient graphClient = (GraphServiceClient) GraphServiceClient.builder().authenticationProvider(authProvider).buildClient();\r\n\r\n\t\t\tIDriveItemRequestBuilder sDriveReq = graphClient.users(userEmail).drive().root();\r\n\r\n\t\t\tString encodedFileName = URLEncoder.encode(fileName, &quot;UTF-8&quot;);\r\n\r\n\t\t\tIDriveItemSearchCollectionRequest searchRequest = sDriveReq.search(encodedFileName).buildRequest();\r\n\t\t\tIDriveItemSearchCollectionPage searchResult = searchRequest.get();\r\n\r\n\t\t\tDriveItem fileResult = null;\r\n\t\t\tfor (DriveItem driveItem : searchResult.getCurrentPage()) {\r\n\t\t\t\tfileResult = driveItem;\r\n\t\t\t}\r\n\r\n","title":"Java MicrosoftGraph Sharepoint search file in Other User Drive","body":"<p>Hi Guys i need some help, i got a super user in sharepoint and drive,</p>\n<p>I need to create a application in java that when a username and filename is passed to it, will go into the users drive and look for the filename passed and return the file-Id for it. i by chance the user has multiple files with the same name i need to return the latest one.</p>\n<p>I have tried multiple ways but it does not seem to work</p>\n<p>here is a copy of my code</p>\n<pre><code>        GraphServiceClient graphClient = (GraphServiceClient) GraphServiceClient.builder().authenticationProvider(authProvider).buildClient();\n\n        IDriveItemRequestBuilder sDriveReq = graphClient.users(userEmail).drive().root();\n\n        String encodedFileName = URLEncoder.encode(fileName, &quot;UTF-8&quot;);\n\n        IDriveItemSearchCollectionRequest searchRequest = sDriveReq.search(encodedFileName).buildRequest();\n        IDriveItemSearchCollectionPage searchResult = searchRequest.get();\n\n        DriveItem fileResult = null;\n        for (DriveItem driveItem : searchResult.getCurrentPage()) {\n            fileResult = driveItem;\n        }\n</code></pre>\n"},{"tags":["java","hsqldb"],"comments":[{"owner":{"account_id":216064,"reputation":24129,"user_id":471070,"display_name":"fredt"},"score":0,"creation_date":1594317021,"post_id":62807335,"comment_id":111091352,"body_markdown":"The first method is not allowed for security. The second method is for internal use and it&#39;s not possible to call it directly. Can you add to your question and explain what you want to achieve.","body":"The first method is not allowed for security. The second method is for internal use and it&#39;s not possible to call it directly. Can you add to your question and explain what you want to achieve."}],"answers":[{"tags":[],"owner":{"account_id":216064,"reputation":24129,"user_id":471070,"display_name":"fredt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1596673766,"creation_date":1596673766,"answer_id":63275238,"question_id":62807335,"body_markdown":"The exploit you linked to refers to HSQLDB version 1.8.0 which has been obsolete since the release of version 2.0 in 2010. However, aspects of the the security framework remain the same up to the latest version of HyperSQL.\r\n\r\n1. A database user with even the DBA credentials cannot execute any arbitrary static method that happens to be in the classpath of the database server. A sysadmin who starts the database server can issue an allow-list of the specific static methods that are allowed to run as callable procedures, using the `hsqldb.method_class_names` Java System property with the list. See: http://hsqldb.org/doc/2.0/guide/sqlroutines-chapt.html#src_jrt_access_control\r\n\r\n2. The listed safe static methods can then be turned into SQL callable procedures only by DBA credentials. EXECUTE privileges on the procedures are granted by the DBA.\r\n\r\n3. Versions 2.x of HyperSQL generally improve upon the older security framework, for example allows secure password hash algorithms, password check and retention policies, including external authentication via LDAP and other frameworks.  ","title":"need to access hsqldb static method but get java.sql.SQLSyntaxErrorException: user lacks privilege or object not found","body":"<p>The exploit you linked to refers to HSQLDB version 1.8.0 which has been obsolete since the release of version 2.0 in 2010. However, aspects of the the security framework remain the same up to the latest version of HyperSQL.</p>\n<ol>\n<li><p>A database user with even the DBA credentials cannot execute any arbitrary static method that happens to be in the classpath of the database server. A sysadmin who starts the database server can issue an allow-list of the specific static methods that are allowed to run as callable procedures, using the <code>hsqldb.method_class_names</code> Java System property with the list. See: <a href=\"http://hsqldb.org/doc/2.0/guide/sqlroutines-chapt.html#src_jrt_access_control\" rel=\"nofollow noreferrer\">http://hsqldb.org/doc/2.0/guide/sqlroutines-chapt.html#src_jrt_access_control</a></p>\n</li>\n<li><p>The listed safe static methods can then be turned into SQL callable procedures only by DBA credentials. EXECUTE privileges on the procedures are granted by the DBA.</p>\n</li>\n<li><p>Versions 2.x of HyperSQL generally improve upon the older security framework, for example allows secure password hash algorithms, password check and retention policies, including external authentication via LDAP and other frameworks.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":29800,"reputation":1196,"user_id":80772,"display_name":"eel ghEEz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676403047,"creation_date":1676403047,"answer_id":75452479,"question_id":62807335,"body_markdown":"You may succeed if you &quot;try harder&quot; and find the way HSQLDB expects parameter type definitions.\r\n\r\nWith HSQLDB 2.7.1 the maintainer&#39;s answer is enforced by either the absence or the presence of the server&#39;s system property (in addition to the connecting user&#39;s privilege needed to execute procedures).  The server requires an explicit permission in its own Java properties such as `-Dhsqldb.method_class_names=&quot;org.hsqldb.lib.StringConverter.*&quot;`.  (Using just the class name did not enable its static methods for me).\r\n\r\n```bash\r\n$ java -jar ~/hsqldb-svn-trunk/lib/sqltool.jar --inlineRc=&quot;url=jdbc:hsqldb:hsql://localhost/test,user=sa,password=&quot; --sql=&quot;CALL \\&quot;org.hsqldb.lib.StringConverter.getUTFSize\\&quot;(&#39;java.class.path&#39;);&quot;\r\n 15\r\n```\r\n\r\nWith older HSQLDBs (or with a dangerously wide class name permission in 2.7.1), the only hurdle is to correctly declare the Java method&#39;s parameter types.  I already figured that `byte` corresponds to `TINYINT`.  I just need to learn the array mapping.\r\n\r\n```bash\r\n$ nl=$&#39;\\n&#39;; java -cp ~/hsqldb-svn-trunk/lib/sqltool.jar org.hsqldb.cmdline.SqlTool --inlineRc=&quot;url=jdbc:hsqldb:hsql://localhost/test,user=sa,password=&quot; --sql=&quot;CREATE FUNCTION TEST (BINARY) RETURNS BINARY NO SQL LANGUAGE JAVA EXTERNAL NAME &#39;CLASSPATH:org.hsqldb.lib.InOutUtil.deserialize&#39;;${nl}.;&quot;\r\nFeb 14, 2023 2:29:58 PM org.hsqldb.cmdline.SqlTool objectMain\r\nSEVERE: SQL Error at &#39;--sql&#39; line 2:\r\n&quot;CREATE FUNCTION TEST (BINARY) RETURNS BINARY NO SQL LANGUAGE JAVA EXTERNAL NAME &#39;CLASSPATH:org.hsqldb.lib.InOutUtil.deserialize&#39;;&quot;\r\nuser lacks privilege or object not found: org.hsqldb.lib.InOutUtil\r\norg.hsqldb.cmdline.SqlTool$SqlToolException\r\n```","title":"need to access hsqldb static method but get java.sql.SQLSyntaxErrorException: user lacks privilege or object not found","body":"<p>You may succeed if you &quot;try harder&quot; and find the way HSQLDB expects parameter type definitions.</p>\n<p>With HSQLDB 2.7.1 the maintainer's answer is enforced by either the absence or the presence of the server's system property (in addition to the connecting user's privilege needed to execute procedures).  The server requires an explicit permission in its own Java properties such as <code>-Dhsqldb.method_class_names=&quot;org.hsqldb.lib.StringConverter.*&quot;</code>.  (Using just the class name did not enable its static methods for me).</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ java -jar ~/hsqldb-svn-trunk/lib/sqltool.jar --inlineRc=&quot;url=jdbc:hsqldb:hsql://localhost/test,user=sa,password=&quot; --sql=&quot;CALL \\&quot;org.hsqldb.lib.StringConverter.getUTFSize\\&quot;('java.class.path');&quot;\n 15\n</code></pre>\n<p>With older HSQLDBs (or with a dangerously wide class name permission in 2.7.1), the only hurdle is to correctly declare the Java method's parameter types.  I already figured that <code>byte</code> corresponds to <code>TINYINT</code>.  I just need to learn the array mapping.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ nl=$'\\n'; java -cp ~/hsqldb-svn-trunk/lib/sqltool.jar org.hsqldb.cmdline.SqlTool --inlineRc=&quot;url=jdbc:hsqldb:hsql://localhost/test,user=sa,password=&quot; --sql=&quot;CREATE FUNCTION TEST (BINARY) RETURNS BINARY NO SQL LANGUAGE JAVA EXTERNAL NAME 'CLASSPATH:org.hsqldb.lib.InOutUtil.deserialize';${nl}.;&quot;\nFeb 14, 2023 2:29:58 PM org.hsqldb.cmdline.SqlTool objectMain\nSEVERE: SQL Error at '--sql' line 2:\n&quot;CREATE FUNCTION TEST (BINARY) RETURNS BINARY NO SQL LANGUAGE JAVA EXTERNAL NAME 'CLASSPATH:org.hsqldb.lib.InOutUtil.deserialize';&quot;\nuser lacks privilege or object not found: org.hsqldb.lib.InOutUtil\norg.hsqldb.cmdline.SqlTool$SqlToolException\n</code></pre>\n"}],"owner":{"account_id":47025,"reputation":1053,"user_id":139138,"accept_rate":74,"display_name":"Matt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63275238,"answer_count":2,"score":0,"last_activity_date":1676403047,"creation_date":1594268214,"question_id":62807335,"body_markdown":"I&#39;m trying to access the deserialize static method within the hsqldb (2.5.1) InOutUtil class. When I run it, ```java -cp hsqldb.jar:. testcode```\r\n\r\nI get:\r\n\r\n    java.sql.SQLSyntaxErrorException: user lacks privilege or object not found: org.hsqldb.lib.InOutUtil.deserialize\r\n    \tat org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)\r\n    \tat org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)\r\n    \tat org.hsqldb.jdbc.JDBCStatement.fetchResult(Unknown Source)\r\n    \tat org.hsqldb.jdbc.JDBCStatement.execute(Unknown Source)\r\n    \tat testcode.main(testcode.java:58)\r\n    Caused by: org.hsqldb.HsqlException: user lacks privilege or object not found: org.hsqldb.lib.InOutUtil.deserialize\r\n    \tat org.hsqldb.error.Error.error(Unknown Source)\r\n    \tat org.hsqldb.result.Result.getException(Unknown Source)\r\n    \t... 4 more\r\nCode:\r\n\r\n    ...\r\n    \r\n    connection = DriverManager.getConnection(dburl, &quot;sa&quot;, &quot;&quot;);\r\n    statement = connection.createStatement();\r\n    statement.execute(&quot;call \\&quot;java.lang.System.setProperty\\&quot;(&#39;org.apache.commons.collections.enableUnsafeSerialization&#39;,&#39;true&#39;)&quot;);\r\n    statement.execute(&quot;call \\&quot;org.hsqldb.lib.InOutUtil.deserialize\\&quot;(&#39;&quot; + my_object +&quot;&#39;);&quot;);\r\n        \r\n    ...\r\n\r\nThis is the offending line that throws the exception:\r\n\r\n```statement.execute(&quot;call \\&quot;org.hsqldb.lib.InOutUtil.deserialize\\&quot;(&#39;&quot; + my_object +&quot;&#39;);&quot;);```\r\n\r\nWhat I&#39;m trying to do is reproduce this exploit, https://github.com/Critical-Start/Team-Ares/tree/master/CVE-2020-5902, on a local instance of hsqldb.\r\n\r\nNot sure what I&#39;m doing wrong. Thanks!","title":"need to access hsqldb static method but get java.sql.SQLSyntaxErrorException: user lacks privilege or object not found","body":"<p>I'm trying to access the deserialize static method within the hsqldb (2.5.1) InOutUtil class. When I run it, <code>java -cp hsqldb.jar:. testcode</code></p>\n<p>I get:</p>\n<pre><code>java.sql.SQLSyntaxErrorException: user lacks privilege or object not found: org.hsqldb.lib.InOutUtil.deserialize\n    at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)\n    at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)\n    at org.hsqldb.jdbc.JDBCStatement.fetchResult(Unknown Source)\n    at org.hsqldb.jdbc.JDBCStatement.execute(Unknown Source)\n    at testcode.main(testcode.java:58)\nCaused by: org.hsqldb.HsqlException: user lacks privilege or object not found: org.hsqldb.lib.InOutUtil.deserialize\n    at org.hsqldb.error.Error.error(Unknown Source)\n    at org.hsqldb.result.Result.getException(Unknown Source)\n    ... 4 more\n</code></pre>\n<p>Code:</p>\n<pre><code>...\n\nconnection = DriverManager.getConnection(dburl, &quot;sa&quot;, &quot;&quot;);\nstatement = connection.createStatement();\nstatement.execute(&quot;call \\&quot;java.lang.System.setProperty\\&quot;('org.apache.commons.collections.enableUnsafeSerialization','true')&quot;);\nstatement.execute(&quot;call \\&quot;org.hsqldb.lib.InOutUtil.deserialize\\&quot;('&quot; + my_object +&quot;');&quot;);\n    \n...\n</code></pre>\n<p>This is the offending line that throws the exception:</p>\n<p><code>statement.execute(&quot;call \\&quot;org.hsqldb.lib.InOutUtil.deserialize\\&quot;('&quot; + my_object +&quot;');&quot;);</code></p>\n<p>What I'm trying to do is reproduce this exploit, <a href=\"https://github.com/Critical-Start/Team-Ares/tree/master/CVE-2020-5902\" rel=\"nofollow noreferrer\">https://github.com/Critical-Start/Team-Ares/tree/master/CVE-2020-5902</a>, on a local instance of hsqldb.</p>\n<p>Not sure what I'm doing wrong. Thanks!</p>\n"},{"tags":["java","graphics2d"],"owner":{"account_id":27604656,"reputation":1,"user_id":21069066,"display_name":"TeeDot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676484439,"answer_count":0,"score":0,"last_activity_date":1676402850,"creation_date":1676402405,"question_id":75452388,"body_markdown":"I&#39;m creating an analog clock in Java and I just want to add some more detail. How can I transform a normal line into an arrow like some clocks have?\r\n\r\nFor example, here&#39;s what my hour hand coding looks like:\r\n\r\n    private void drawHourHand(Graphics2D g) {\r\n    \tint hLength = (int)(radius * 0.5);\r\n        int xHour\r\n            = (int)(xCenter\r\n                    + hLength\r\n                          * Math.sin(\r\n                                (hour % 12 + minute / 60.0)\r\n                                * (2 * Math.PI / 12)));\r\n        int yHour\r\n            = (int)(yCenter\r\n                    - hLength\r\n                          * Math.cos(\r\n                                (hour % 12 + minute / 60.0)\r\n                                * (2 * Math.PI / 12)));\r\n        g.setColor(Color.BLACK);\r\n        g.drawLine(xCenter, yCenter, xHour, yHour);\r\n    }\r\n\r\nHow would I go about adding to this code and still make it continue to run as normal?","title":"How can I make my line an arrow in my clock drawing?","body":"<p>I'm creating an analog clock in Java and I just want to add some more detail. How can I transform a normal line into an arrow like some clocks have?</p>\n<p>For example, here's what my hour hand coding looks like:</p>\n<pre><code>private void drawHourHand(Graphics2D g) {\n    int hLength = (int)(radius * 0.5);\n    int xHour\n        = (int)(xCenter\n                + hLength\n                      * Math.sin(\n                            (hour % 12 + minute / 60.0)\n                            * (2 * Math.PI / 12)));\n    int yHour\n        = (int)(yCenter\n                - hLength\n                      * Math.cos(\n                            (hour % 12 + minute / 60.0)\n                            * (2 * Math.PI / 12)));\n    g.setColor(Color.BLACK);\n    g.drawLine(xCenter, yCenter, xHour, yHour);\n}\n</code></pre>\n<p>How would I go about adding to this code and still make it continue to run as normal?</p>\n"},{"tags":["java","exception","iterator"],"answers":[{"tags":[],"owner":{"account_id":13988,"reputation":54108,"user_id":28401,"accept_rate":68,"display_name":"Marcel Jackwerth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1265357808,"creation_date":1265357808,"answer_id":2205814,"question_id":2205773,"body_markdown":"If your implementation doesn&#39;t have the properties required by the Iterator interface, why do you want to use it?\r\n\r\nI see no other solution than the RuntimeException (with it&#39;s issues).","title":"What to do of exceptions when implementing java.lang.Iterator","body":"<p>If your implementation doesn't have the properties required by the Iterator interface, why do you want to use it?</p>\n\n<p>I see no other solution than the RuntimeException (with it's issues).</p>\n"},{"tags":[],"owner":{"account_id":5890,"reputation":13624,"user_id":9686,"accept_rate":69,"display_name":"helios"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1265358284,"creation_date":1265358284,"answer_id":2205855,"question_id":2205773,"body_markdown":"I&#39;ve implemented a lot of Iterator, sometimes on top of with-check-exception iterators (ResultSet is conceptually a record iterator, InputStream y conceptually a byte iterator) and so on. It&#39;s very very nice and handy (you can implement pipe &amp; filters architecture for a LOT of things).\r\n\r\nIf you prefer to **declare your exceptions**, then declare a new type of Iterator (ExceptionIterator, it would be like Runnable and Callable). You can use it along or your code but you can&#39;t compose it with outside components (Java Class Library or 3d party libs).\r\n\r\nBut if you prefer to use **super-standard interfaces** (like iterator) to use them anywhere, then use Iterator. If you know your Exceptions will be a condition for stop your processing, or you don&#39;t mind a lot... use them.\r\n\r\n**Runtime exceptions are not so terrible.** By example. Hibernate use them to implement proxies and stuff like that. They have to except DB exceptions but can&#39;t declare them in their implementations of List&lt;T&gt;.","title":"What to do of exceptions when implementing java.lang.Iterator","body":"<p>I've implemented a lot of Iterator, sometimes on top of with-check-exception iterators (ResultSet is conceptually a record iterator, InputStream y conceptually a byte iterator) and so on. It's very very nice and handy (you can implement pipe &amp; filters architecture for a LOT of things).</p>\n\n<p>If you prefer to <strong>declare your exceptions</strong>, then declare a new type of Iterator (ExceptionIterator, it would be like Runnable and Callable). You can use it along or your code but you can't compose it with outside components (Java Class Library or 3d party libs).</p>\n\n<p>But if you prefer to use <strong>super-standard interfaces</strong> (like iterator) to use them anywhere, then use Iterator. If you know your Exceptions will be a condition for stop your processing, or you don't mind a lot... use them.</p>\n\n<p><strong>Runtime exceptions are not so terrible.</strong> By example. Hibernate use them to implement proxies and stuff like that. They have to except DB exceptions but can't declare them in their implementations of List.</p>\n"},{"tags":[],"owner":{"account_id":6892,"reputation":8853,"user_id":11732,"accept_rate":92,"display_name":"Rorick"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1265359562,"creation_date":1265359562,"answer_id":2205942,"question_id":2205773,"body_markdown":"You should rethrow exception as custom runtime exception, not generic one, for instance `SomethingBadRuntimeException`. Also, you can try [exception tunneling][1].\r\n\r\nAnd I&#39;m assured that forcing client to deal with exceptions by making them checked is a bad practice. It just pollutes your code or forces to wrap exceptions with runtime ones or force to process them in place of call but not centralized. My policy is to avoid using checked exceptions as much as possible. Consider [`IOException`][2] on [`Closable.close()`][3]: is it useful or convenient? Cases when it is are very rare, but every Java developer in the world is forced to deal with it. Most often it is swallowed or logged at best. And imagine how much this adds to [code size][4]!\r\nThere&#39;s some posts about checked exceptions from their dark side:\r\n  \r\n 1. [&quot;Does Java need Checked Exceptions?&quot; by Bruce Eckel](http://www.mindview.net/Etc/Discussions/CheckedExceptions)\r\n 1. [The Trouble with Checked Exceptions A Conversation with Anders Hejlsberg, by Bill Venners with Bruce Eckel](http://www.artima.com/intv/handcuffs.html)\r\n 1. [Java Design Flaws, C2 wiki](http://c2.com/cgi/wiki?JavaDesignFlaws)\r\n\r\nThere are cases when checked exceptions comes to rescue. But in my opinion they are rare and usually concern to implementation of some specific module. And they don&#39;t give very much profit.\r\n\r\n\r\n  [1]: http://radio-weblogs.com/0122027/stories/2003/04/01/JavasCheckedExceptionsWereAMistake.html\r\n  [2]: http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html\r\n  [3]: http://java.sun.com/j2se/1.5.0/docs/api/java/io/Closeable.html#close%28%29\r\n  [4]: http://www.codinghorror.com/blog/archives/001025.html","title":"What to do of exceptions when implementing java.lang.Iterator","body":"<p>You should rethrow exception as custom runtime exception, not generic one, for instance <code>SomethingBadRuntimeException</code>. Also, you can try <a href=\"http://radio-weblogs.com/0122027/stories/2003/04/01/JavasCheckedExceptionsWereAMistake.html\" rel=\"noreferrer\">exception tunneling</a>.</p>\n\n<p>And I'm assured that forcing client to deal with exceptions by making them checked is a bad practice. It just pollutes your code or forces to wrap exceptions with runtime ones or force to process them in place of call but not centralized. My policy is to avoid using checked exceptions as much as possible. Consider <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html\" rel=\"noreferrer\"><code>IOException</code></a> on <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/io/Closeable.html#close%28%29\" rel=\"noreferrer\"><code>Closable.close()</code></a>: is it useful or convenient? Cases when it is are very rare, but every Java developer in the world is forced to deal with it. Most often it is swallowed or logged at best. And imagine how much this adds to <a href=\"http://www.codinghorror.com/blog/archives/001025.html\" rel=\"noreferrer\">code size</a>!\nThere's some posts about checked exceptions from their dark side:</p>\n\n<ol>\n<li><a href=\"http://www.mindview.net/Etc/Discussions/CheckedExceptions\" rel=\"noreferrer\">\"Does Java need Checked Exceptions?\" by Bruce Eckel</a></li>\n<li><a href=\"http://www.artima.com/intv/handcuffs.html\" rel=\"noreferrer\">The Trouble with Checked Exceptions A Conversation with Anders Hejlsberg, by Bill Venners with Bruce Eckel</a></li>\n<li><a href=\"http://c2.com/cgi/wiki?JavaDesignFlaws\" rel=\"noreferrer\">Java Design Flaws, C2 wiki</a></li>\n</ol>\n\n<p>There are cases when checked exceptions comes to rescue. But in my opinion they are rare and usually concern to implementation of some specific module. And they don't give very much profit.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1265502080,"creation_date":1265363365,"answer_id":2206306,"question_id":2205773,"body_markdown":"As someone who *likes* Java checked exceptions, I think that the problem (Java design flaw if you will) is that the standard libraries don&#39;t support a generic Iterator type where the `next` method throws a checked exception.\r\n\r\nThe code base for [Sesame][1] has an Iterator variant class called [Iterable][2] that does just that.\r\nThe signature is as follows:\r\n\r\n&lt;pre&gt;\r\nInterface Iteration&amp;lt;E,X extends Exception&amp;gt;\r\n\r\nType Parameters:\r\n    E - Object type of objects contained in the iteration.\r\n    X - Exception type that is thrown when a problem occurs during iteration.\r\n&lt;/pre&gt;\r\n\r\nThis seems to work in the limited context of Sesame, where specific subclasses are used that &quot;fix&quot; the exception type parameter. But (of course) it doesn&#39;t integrate with the standard collection types, Java 5&#39;s new `for` loop syntax, and so on.\r\n\r\n  [1]: http://www.openrdf.org\r\n  [2]: http://repository.aduna-software.org/docs/info.aduna/api/info/aduna/iteration/Iteration.html","title":"What to do of exceptions when implementing java.lang.Iterator","body":"<p>As someone who <em>likes</em> Java checked exceptions, I think that the problem (Java design flaw if you will) is that the standard libraries don't support a generic Iterator type where the <code>next</code> method throws a checked exception.</p>\n\n<p>The code base for <a href=\"http://www.openrdf.org\" rel=\"nofollow noreferrer\">Sesame</a> has an Iterator variant class called <a href=\"http://repository.aduna-software.org/docs/info.aduna/api/info/aduna/iteration/Iteration.html\" rel=\"nofollow noreferrer\">Iterable</a> that does just that.\nThe signature is as follows:</p>\n\n<pre>\nInterface Iteration&lt;E,X extends Exception&gt;\n\nType Parameters:\n    E - Object type of objects contained in the iteration.\n    X - Exception type that is thrown when a problem occurs during iteration.\n</pre>\n\n<p>This seems to work in the limited context of Sesame, where specific subclasses are used that \"fix\" the exception type parameter. But (of course) it doesn't integrate with the standard collection types, Java 5's new <code>for</code> loop syntax, and so on.</p>\n"},{"tags":[],"owner":{"account_id":93850,"reputation":599,"user_id":256578,"display_name":"ishmeister"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1265374467,"creation_date":1265369823,"answer_id":2206871,"question_id":2205773,"body_markdown":"hasNext should not really throw an exception - it should check that it is ok to proceed and return a boolean value on that basis (I would log any underlying exceptions with a logger). I would throw a RuntimeException if next fails (and log the checked exception with a logger). Next should not fail in normal conditions if the test was ok and if the test fails you should not call next (hence runtime exception).","title":"What to do of exceptions when implementing java.lang.Iterator","body":"<p>hasNext should not really throw an exception - it should check that it is ok to proceed and return a boolean value on that basis (I would log any underlying exceptions with a logger). I would throw a RuntimeException if next fails (and log the checked exception with a logger). Next should not fail in normal conditions if the test was ok and if the test fails you should not call next (hence runtime exception).</p>\n"},{"tags":[],"owner":{"account_id":44292,"reputation":11,"user_id":129908,"display_name":"bpow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1335664836,"creation_date":1335664836,"answer_id":10369106,"question_id":2205773,"body_markdown":"This question was asked a long time ago, but I would like to have feedback on a pattern that may be useful here. An additional interface or class `ExceptionHandler` could be composed within the class which implements Iterator and could be implemented by the client to address the exceptions as desired.\r\n\r\n    public interface ExceptionHandler {\r\n        // Log, or rethrow, or ignore...\r\n        public Object handleException(Exception e);\r\n    }\r\n\r\nImplementing classes could do something like these:\r\n\r\n\r\n    public class ExceptionRethrower implements ExceptionHandler {\r\n        @Override\r\n        public Object handleException(Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\t\r\n    public class ExceptionPrinter implements ExceptionHandler {\r\n        @Override\r\n        public Object handleException(Exception e) {\r\n            System.err.println(e);\r\n            return e;\r\n        }\r\n    }\r\n\r\nFor an iterator that reads from a file, the code may look something like this:\r\n\r\n    public class MyReaderIterator implements Iterator&lt;String&gt; {\r\n        private final BufferedReader reader;\r\n        private final ExceptionHandler exceptionHandler;\r\n        public MyReaderIterator(BufferedReader r, ExceptionHandler h) {\r\n            reader = r;\r\n            exceptionHandler = h;\r\n        }\r\n        @Override\r\n        public String next() {\r\n            try {\r\n                return reader.readLine();\r\n            } catch (IOException ioe) {\r\n                Object o = exceptionHandler.handleException(ioe);\r\n                // could do whatever else with o\r\n                return null;\r\n            }\r\n        }\r\n        // also need to implement hasNext and remove, of course\r\n    }\r\n\r\nWhat do people think? It is worth this level of indirection, or is it a layering violation and just plain too complicated? The name of the interface may not be exactly appropriate (perhaps ExceptionProcessor or ExceptionInterceptor since it can interact with but not fully handle the exception, there still needs to be some handling in the class into which it is composed).\r\n\r\nI agree that this all just seems like a workaround to the fact that Iterator.next() wasn&#39;t declared to throw exceptions, and makes me pine for generators and python&#39;s exception model.","title":"What to do of exceptions when implementing java.lang.Iterator","body":"<p>This question was asked a long time ago, but I would like to have feedback on a pattern that may be useful here. An additional interface or class <code>ExceptionHandler</code> could be composed within the class which implements Iterator and could be implemented by the client to address the exceptions as desired.</p>\n\n<pre><code>public interface ExceptionHandler {\n    // Log, or rethrow, or ignore...\n    public Object handleException(Exception e);\n}\n</code></pre>\n\n<p>Implementing classes could do something like these:</p>\n\n<pre><code>public class ExceptionRethrower implements ExceptionHandler {\n    @Override\n    public Object handleException(Exception e) {\n        throw new RuntimeException(e);\n    }\n}\n\npublic class ExceptionPrinter implements ExceptionHandler {\n    @Override\n    public Object handleException(Exception e) {\n        System.err.println(e);\n        return e;\n    }\n}\n</code></pre>\n\n<p>For an iterator that reads from a file, the code may look something like this:</p>\n\n<pre><code>public class MyReaderIterator implements Iterator&lt;String&gt; {\n    private final BufferedReader reader;\n    private final ExceptionHandler exceptionHandler;\n    public MyReaderIterator(BufferedReader r, ExceptionHandler h) {\n        reader = r;\n        exceptionHandler = h;\n    }\n    @Override\n    public String next() {\n        try {\n            return reader.readLine();\n        } catch (IOException ioe) {\n            Object o = exceptionHandler.handleException(ioe);\n            // could do whatever else with o\n            return null;\n        }\n    }\n    // also need to implement hasNext and remove, of course\n}\n</code></pre>\n\n<p>What do people think? It is worth this level of indirection, or is it a layering violation and just plain too complicated? The name of the interface may not be exactly appropriate (perhaps ExceptionProcessor or ExceptionInterceptor since it can interact with but not fully handle the exception, there still needs to be some handling in the class into which it is composed).</p>\n\n<p>I agree that this all just seems like a workaround to the fact that Iterator.next() wasn't declared to throw exceptions, and makes me pine for generators and python's exception model.</p>\n"},{"tags":[],"owner":{"account_id":1142855,"reputation":167,"user_id":1126291,"display_name":"smnsvane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1353413276,"creation_date":1353413276,"answer_id":13472903,"question_id":2205773,"body_markdown":"I usally use\r\n\r\n    @Override\r\n    void remove() {\r\n    \tthrows new UnsupportedOperationException(&quot;remove method not implemented&quot;);\r\n    }\r\nnote: UnsupportedOperationException is a RuntimeException\r\n\r\nSince you are properbly aiming for something like\r\n\r\n    for (IterElem e : iterable)\r\n    \te.action();\r\nYou will be fine\r\n","title":"What to do of exceptions when implementing java.lang.Iterator","body":"<p>I usally use</p>\n\n<pre><code>@Override\nvoid remove() {\n    throws new UnsupportedOperationException(\"remove method not implemented\");\n}\n</code></pre>\n\n<p>note: UnsupportedOperationException is a RuntimeException</p>\n\n<p>Since you are properbly aiming for something like</p>\n\n<pre><code>for (IterElem e : iterable)\n    e.action();\n</code></pre>\n\n<p>You will be fine</p>\n"},{"tags":[],"owner":{"account_id":1064857,"reputation":2504,"user_id":1065693,"accept_rate":70,"display_name":"nuoritoveri"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1394532059,"creation_date":1394532059,"answer_id":22322296,"question_id":2205773,"body_markdown":"If you really don&#39;t want to use Runtime exception, you can use `NoSuchElementException`. You are allowed to use it in overridden `next()` method because it is declared to be thrown in \r\n`Iterator` definition (I tried this and the code compiled). But you should consider whether it is *semantically* valid for your case. ","title":"What to do of exceptions when implementing java.lang.Iterator","body":"<p>If you really don't want to use Runtime exception, you can use <code>NoSuchElementException</code>. You are allowed to use it in overridden <code>next()</code> method because it is declared to be thrown in \n<code>Iterator</code> definition (I tried this and the code compiled). But you should consider whether it is <em>semantically</em> valid for your case. </p>\n"},{"tags":[],"owner":{"account_id":1908606,"reputation":2020,"user_id":1722982,"accept_rate":75,"display_name":"boumbh"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1445248151,"creation_date":1445248151,"answer_id":33211390,"question_id":2205773,"body_markdown":"In my mind, iterators are meant to *iterate*, they are not meant to *compute*, hence the absence of `throws` on the `next()` method.\r\n\r\nYou are asking how to use the interface to do something it was not designed for.\r\n\r\nStill, if the `Iterator` is aimed to be used by yourself (which is generally a bad assumption), you could define a public `safeNext()` method like this:\r\n\r\n\tpublic Element safeNext() throws YourCheckedException {\r\n\t\t...\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic Element next() {\r\n\t\ttry {\r\n\t\t\treturn safeNext();\r\n\t\t} catch (YourException e) {\r\n\t\t\tthrow new YourRuntimeException(&quot;Could not fetch the next element&quot;, e);\r\n\t\t}\r\n\t}\r\n\r\nThen, when using the `Iterator` you can choose to use `safeNext()` and handle the checked exception, or use `next()` as you would with any iterators.\r\n\r\nIn short, you can’t have both the convenience of the iterator interface (you can&#39;t expect that `Iterable` objects will use the `safeNext()` method), and the checked exception throwing.","title":"What to do of exceptions when implementing java.lang.Iterator","body":"<p>In my mind, iterators are meant to <em>iterate</em>, they are not meant to <em>compute</em>, hence the absence of <code>throws</code> on the <code>next()</code> method.</p>\n\n<p>You are asking how to use the interface to do something it was not designed for.</p>\n\n<p>Still, if the <code>Iterator</code> is aimed to be used by yourself (which is generally a bad assumption), you could define a public <code>safeNext()</code> method like this:</p>\n\n<pre><code>public Element safeNext() throws YourCheckedException {\n    ...\n}\n\n@Override\npublic Element next() {\n    try {\n        return safeNext();\n    } catch (YourException e) {\n        throw new YourRuntimeException(\"Could not fetch the next element\", e);\n    }\n}\n</code></pre>\n\n<p>Then, when using the <code>Iterator</code> you can choose to use <code>safeNext()</code> and handle the checked exception, or use <code>next()</code> as you would with any iterators.</p>\n\n<p>In short, you can’t have both the convenience of the iterator interface (you can't expect that <code>Iterable</code> objects will use the <code>safeNext()</code> method), and the checked exception throwing.</p>\n"},{"tags":[],"owner":{"account_id":2020068,"reputation":1405,"user_id":1806466,"accept_rate":25,"display_name":"Inshua"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676402437,"creation_date":1676393473,"answer_id":75450916,"question_id":2205773,"body_markdown":"Now I am using `Iterator&lt;Pair&lt;T, ExceptionClass&gt;&gt;` insteadof `Iterator&lt;T&gt;` for throw exception. ","title":"What to do of exceptions when implementing java.lang.Iterator","body":"<p>Now I am using <code>Iterator&lt;Pair&lt;T, ExceptionClass&gt;&gt;</code> insteadof <code>Iterator&lt;T&gt;</code> for throw exception.</p>\n"}],"owner":{"account_id":214,"reputation":35692,"user_id":268,"accept_rate":100,"display_name":"Vincent Robert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17349,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":2205855,"answer_count":10,"score":31,"last_activity_date":1676402437,"creation_date":1265357235,"question_id":2205773,"body_markdown":"The [`java.lang.Iterator`][1] interface has 3 methods: `hasNext`, `next` and `remove`. In order to implement a read-only iterator, you have to provide an implementation for 2 of those: `hasNext` and `next`.\r\n\r\nMy problem is that these methods does not declare any exceptions. So if my code inside the iteration process declares exceptions, I must enclose my iteration code inside a try/catch block.\r\n\r\nMy current policy has been to rethrow the exception enclosed in a `RuntimeException`. But this has issues because the checked exceptions are lost and the client code no longer can catch those exceptions explicitly.\r\n\r\nHow can I work around this limitation in the Iterator class?\r\n\r\nHere is a sample code for clarity:\r\n\r\n    class MyIterator implements Iterator\r\n    {\r\n    \t@Override\r\n    \tpublic boolean hasNext()\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\treturn implementation.testForNext();\r\n    \t\t}\r\n    \t\tcatch ( SomethingBadException e ) \r\n    \t\t{\r\n    \t\t\tthrow new RuntimeException(e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean next()\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\treturn implementation.getNext();\r\n    \t\t}\r\n\r\n    \t\tcatch ( SomethingBadException e ) \r\n    \t\t{\r\n    \t\t\tthrow new RuntimeException(e);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t...\r\n    }\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Iterator.html\r\n","title":"What to do of exceptions when implementing java.lang.Iterator","body":"<p>The <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Iterator.html\" rel=\"noreferrer\"><code>java.lang.Iterator</code></a> interface has 3 methods: <code>hasNext</code>, <code>next</code> and <code>remove</code>. In order to implement a read-only iterator, you have to provide an implementation for 2 of those: <code>hasNext</code> and <code>next</code>.</p>\n\n<p>My problem is that these methods does not declare any exceptions. So if my code inside the iteration process declares exceptions, I must enclose my iteration code inside a try/catch block.</p>\n\n<p>My current policy has been to rethrow the exception enclosed in a <code>RuntimeException</code>. But this has issues because the checked exceptions are lost and the client code no longer can catch those exceptions explicitly.</p>\n\n<p>How can I work around this limitation in the Iterator class?</p>\n\n<p>Here is a sample code for clarity:</p>\n\n<pre><code>class MyIterator implements Iterator\n{\n    @Override\n    public boolean hasNext()\n    {\n        try\n        {\n            return implementation.testForNext();\n        }\n        catch ( SomethingBadException e ) \n        {\n            throw new RuntimeException(e);\n        }\n    }\n\n    @Override\n    public boolean next()\n    {\n        try\n        {\n            return implementation.getNext();\n        }\n\n        catch ( SomethingBadException e ) \n        {\n            throw new RuntimeException(e);\n        }\n    }\n\n    ...\n}\n</code></pre>\n"},{"tags":["java","locking","race-condition"],"owner":{"account_id":26484673,"reputation":3,"user_id":20123439,"display_name":"Pallav kalal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676402311,"creation_date":1676402311,"question_id":75452370,"body_markdown":"I have one json column in postgres which contains an Java map. How can we prevent race condition on json db map when i have multiple server?\r\nIf we put synchronize method it also won&#39;t work because we have multiple servers","title":"I have one json column in postgres which contains an Java map. How can we prevent race condition on json db map when i have multiple server?","body":"<p>I have one json column in postgres which contains an Java map. How can we prevent race condition on json db map when i have multiple server?\nIf we put synchronize method it also won't work because we have multiple servers</p>\n"},{"tags":["java","datetime"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1676361593,"post_id":75444853,"comment_id":133116508,"body_markdown":"Your search engine can help you. I expect you to find a good answer faster than anyone can type an answer here. Only avoid search results that use `SimpleDateFormat`, `Date` and/or `Calendar` since they are troublesome and outdated.","body":"Your search engine can help you. I expect you to find a good answer faster than anyone can type an answer here. Only avoid search results that use <code>SimpleDateFormat</code>, <code>Date</code> and/or <code>Calendar</code> since they are troublesome and outdated."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676361818,"post_id":75444853,"comment_id":133116566,"body_markdown":"`LocalDateTime.parse(&quot;Feb 11 2023 9:35:41 PM&quot;, DateTimeFormatter.ofPattern(&quot;MMM d u h:mm:ss a&quot;, Locale.ENGLISH)).atZone(ZoneId.systemDefault()).toEpochSecond()`. In my time zone (Europe/Copenhagen) I got `1676147741`.","body":"<code>LocalDateTime.parse(&quot;Feb 11 2023 9:35:41 PM&quot;, DateTimeFormatter.ofPattern(&quot;MMM d u h:mm:ss a&quot;, Locale.ENGLISH)).atZone(ZoneId.systemDefault()).toEpochSecon&zwnj;&#8203;d()</code>. In my time zone (Europe/Copenhagen) I got <code>1676147741</code>."},{"owner":{"account_id":1037319,"reputation":1,"user_id":21209478,"display_name":"hknkaras"},"score":0,"creation_date":1676366322,"post_id":75444853,"comment_id":133117723,"body_markdown":"Thanks Ole, Solved with your suggestion.\n\nLocalDateTime.parse(&quot;Feb 11 2023 9:35:41 PM&quot;, DateTimeFormatter.ofPattern(&quot;MMM d u h:mm:ss a&quot;, Locale.ENGLISH)).atZone(ZoneId.systemDefault()).toEpochSecond()","body":"Thanks Ole, Solved with your suggestion.  LocalDateTime.parse(&quot;Feb 11 2023 9:35:41 PM&quot;, DateTimeFormatter.ofPattern(&quot;MMM d u h:mm:ss a&quot;, Locale.ENGLISH)).atZone(ZoneId.systemDefault()).toEpochSecon&zwnj;&#8203;d()"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676367908,"post_id":75444853,"comment_id":133118205,"body_markdown":"Good to read. You may use a named time zone instead of the default, like for example `ZoneId.of(&quot;Pacific/Norfolk&quot;)`. And you may well prefer to extract the formatter into a constant ( `private static final` field).","body":"Good to read. You may use a named time zone instead of the default, like for example <code>ZoneId.of(&quot;Pacific&#47;Norfolk&quot;)</code>. And you may well prefer to extract the formatter into a constant ( <code>private static final</code> field)."}],"owner":{"account_id":1037319,"reputation":1,"user_id":21209478,"display_name":"hknkaras"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676361573,"answer_count":0,"score":0,"last_activity_date":1676400575,"creation_date":1676361496,"question_id":75444853,"body_markdown":"I am reading a text time format as a string as follows. How can I convert this to unix epoch time in java. Can you help me?\r\n\r\nString = &quot;Feb 11  2023 9:35:41 PM&quot;                                                                            \r\n\r\nExample: String = &quot;Feb 11  2023 9:35:41 PM&quot;   ","title":"java - date to epochtime","body":"<p>I am reading a text time format as a string as follows. How can I convert this to unix epoch time in java. Can you help me?</p>\n<p>String = &quot;Feb 11  2023 9:35:41 PM&quot;</p>\n<p>Example: String = &quot;Feb 11  2023 9:35:41 PM&quot;</p>\n"},{"tags":["java","exception","inheritance","serialization"],"comments":[{"owner":{"account_id":21657046,"reputation":17,"user_id":15976665,"display_name":"ires"},"score":0,"creation_date":1676399803,"post_id":75451616,"comment_id":133128134,"body_markdown":"@paulk23 added it just now to the question","body":"@paulk23 added it just now to the question"}],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676400509,"creation_date":1676400509,"answer_id":75452096,"question_id":75451616,"body_markdown":"Event has to be Serializable too.\r\n\r\nChange\r\n\r\n    public abstract class Event {\r\n\r\nto\r\n\r\n    public abstract class Event implements Serializable {","title":"Unable to serialize instance variable of a non-serializable superclass from the serializable subclass","body":"<p>Event has to be Serializable too.</p>\n<p>Change</p>\n<pre><code>public abstract class Event {\n</code></pre>\n<p>to</p>\n<pre><code>public abstract class Event implements Serializable {\n</code></pre>\n"}],"owner":{"account_id":21657046,"reputation":17,"user_id":15976665,"display_name":"ires"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75452096,"answer_count":1,"score":0,"last_activity_date":1676400509,"creation_date":1676397840,"question_id":75451616,"body_markdown":"New to this topic and right now I&#39;m stuck at a brick wall. I have 2 classes, parent class: `Controller.java` and subclass: `GreenhouseControls.java`. I need to serialize a `GreenhouseControls` object but also an instance variable (`eventList`) from its superclass `Controller.java`. \r\n\r\nMy serialization happens when an inner class of `GreenhouseControls.java` throws a custom `ControllerException`, which is caught in the main method. Before terminating the program, the GreenhouseControls object should be saved (including the field from its superclass).\r\n\r\nWhy is a `NotSerializableException` thrown by the inner class `WindowMalfunction` of `GreenhouseControls`? Anyone have any ideas, as I am seriously stuck?\r\n\r\nWhat I tried is the following:\r\n\r\n1. Implement serializable on `Controller.java`. This is because if the superclass is serializable, then subclass is automatically serializable, however this throws `java.io.NotSerializableException: GreenhouseControls$WindowMalfunction`, (WindowMalfunction is the inner class that throws the initial exception to begin the serialization processs).\r\n2. Implement serializable on `GreenhouseControls.java` and implement custom serialization by overriding `writeObject()` and `readObject()` to save the field from the superclass. This approach yet again throws the same exception as the approach 1.\r\n&lt;!-- language: java --&gt;\r\n```\r\nprivate void writeObject(ObjectOutputStream out) throws IOException {\r\n        out.defaultWriteObject();\r\n        out.writeObject(super.eventList);\r\n}\r\n\r\nprivate void readObject(ObjectInputStream in) throws IOException,\r\n            ClassNotFoundException {\r\n        in.defaultReadObject();\r\n        Object obj = in.readObject();\r\n        List&lt;Event&gt; x = cast(obj);\r\n        super.eventList = x;\r\n}\r\n```\r\n\r\n**Controller.java**\r\n\r\n&lt;!-- language: java --&gt;\r\n```\r\nimport java.io.*;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.*;\r\n\r\npublic class Controller {\r\n    // THIS IS THE VARIABLE I NEED TO SAVE\r\n    protected List&lt;Event&gt; eventList = new ArrayList&lt;Event&gt;();\r\n\r\n    public void addEvent(Event c) {\r\n        eventList.add(c);\r\n    }\r\n\r\n    public void run() throws ControllerException {\r\n        while (eventList.size() &gt; 0)\r\n            // Make a copy so you&#39;re not modifying the list\r\n            // while you&#39;re selecting the elements in it:\r\n            for (Event e : new ArrayList&lt;Event&gt;(eventList))\r\n                if (e.ready()) {\r\n                    System.out.println(e);\r\n                    e.action();\r\n                    eventList.remove(e);\r\n                }\r\n    }\r\n\r\n    public static void shutDown() { }\r\n\r\n}\r\n```\r\n\r\n**GreenhouseControls.java** class (note I have removed the inner classes and other code from it and only left related info)\r\n\r\n&lt;!-- language: java --&gt;\r\n```\r\npublic class GreenhouseControls extends Controller implements Serializable {\r\n\r\n    private int errorcode = 0;\r\n\r\n    public class WindowMalfunction extends Event {\r\n\r\n        public WindowMalfunction(long delayTime) {\r\n            super(delayTime);\r\n        }\r\n\r\n        public void action() throws ControllerException {\r\n            windowok = false;\r\n            throw new ControllerException(&quot;Window malfunction&quot;);\r\n        }\r\n\r\n        public String toString() {\r\n            return &quot;Window malfunction&quot;;\r\n        }\r\n    }\r\n\r\n    public class PowerOut extends Event {\r\n\r\n        public PowerOut(long delayTime) {\r\n            super(delayTime);\r\n        }\r\n\r\n        public void action() throws ControllerException {\r\n            poweron = false;\r\n            throw new ControllerException(&quot;Power out&quot;);\r\n        }\r\n\r\n        public String toString() {\r\n            return &quot;Power out&quot;;\r\n        }\r\n    }\r\n\r\n    // Various other inner classes that extend event exist\r\n\r\n    public static void serializeObject(GreenhouseControls gc) {\r\n        FileOutputStream fileOut;\r\n        ObjectOutputStream out;\r\n        try {\r\n            fileOut = new FileOutputStream(&quot;dump.out&quot;);\r\n            out = new ObjectOutputStream(fileOut);\r\n            out.writeObject(gc);\r\n            System.out.println(&quot;WERRROR code: &quot; + gc.getError());\r\n            out.close();\r\n            fileOut.close();\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void writeObject(ObjectOutputStream out) throws IOException {\r\n        out.defaultWriteObject();\r\n        out.writeObject(super.eventList);\r\n    }\r\n\r\n    private void readObject(ObjectInputStream in) throws IOException,\r\n            ClassNotFoundException {\r\n        in.defaultReadObject();\r\n        Object obj = in.readObject();\r\n        List&lt;Event&gt; x = cast(obj);\r\n        super.eventList = x;\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static &lt;T extends List&lt;?&gt;&gt; T cast(Object obj) {\r\n        return (T) obj;\r\n    }\r\n\r\n    public int getError() {\r\n        return errorcode;\r\n    }\r\n\r\n    public Fixable getFixable(int errorcode) {\r\n        switch (errorcode) {\r\n            case 1:\r\n                return new FixWindow();\r\n            case 2:\r\n                return new PowerOn();\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        GreenhouseControls gc = null;\r\n\r\n        try {\r\n            String option = args[0];\r\n            String filename = args[1];\r\n\r\n            if (!(option.equals(&quot;-f&quot;)) &amp;&amp; !(option.equals(&quot;-d&quot;))) {\r\n                System.out.println(&quot;Invalid option&quot;);\r\n                printUsage();\r\n            }\r\n\r\n            // gc = new GreenhouseControls();\r\n\r\n            if (option.equals(&quot;-f&quot;)) {\r\n                gc = new GreenhouseControls();\r\n                gc.addEvent(gc.new Restart(0, filename));\r\n            }\r\n\r\n            gc.run();\r\n        } catch (ArrayIndexOutOfBoundsException e) {\r\n            System.out.println(&quot;Invalid number of parameters&quot;);\r\n            printUsage();\r\n        } catch (ControllerException e) {\r\n            String errormsg;\r\n            if (e.getMessage().equals(&quot;Window malfunction&quot;)) {\r\n                gc.errorcode = 1;\r\n                errormsg = &quot;Window malfunction event occurred Error code: &quot; + gc.errorcode;\r\n            } else {\r\n                gc.errorcode = 2;\r\n                errormsg = &quot;Power out event occurred Error code: &quot; + gc.errorcode;\r\n            }\r\n\r\n            logError(errormsg);\r\n            serializeObject(gc);\r\n            gc.displayEventList();\r\n            shutDown();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Event.java**\r\n&lt;!-- language: java --&gt;\r\n```\r\npublic abstract class Event {\r\n    private long eventTime;\r\n    protected final long delayTime;\r\n\r\n    public Event(long delayTime) {\r\n        this.delayTime = delayTime;\r\n        start();\r\n    }\r\n\r\n    public void start() { // Allows restarting\r\n        eventTime = System.currentTimeMillis() + delayTime;\r\n    }\r\n\r\n    public boolean ready() {\r\n        return System.currentTimeMillis() &gt;= eventTime;\r\n    }\r\n\r\n    public abstract void action() throws ControllerException;\r\n```","title":"Unable to serialize instance variable of a non-serializable superclass from the serializable subclass","body":"<p>New to this topic and right now I'm stuck at a brick wall. I have 2 classes, parent class: <code>Controller.java</code> and subclass: <code>GreenhouseControls.java</code>. I need to serialize a <code>GreenhouseControls</code> object but also an instance variable (<code>eventList</code>) from its superclass <code>Controller.java</code>.</p>\n<p>My serialization happens when an inner class of <code>GreenhouseControls.java</code> throws a custom <code>ControllerException</code>, which is caught in the main method. Before terminating the program, the GreenhouseControls object should be saved (including the field from its superclass).</p>\n<p>Why is a <code>NotSerializableException</code> thrown by the inner class <code>WindowMalfunction</code> of <code>GreenhouseControls</code>? Anyone have any ideas, as I am seriously stuck?</p>\n<p>What I tried is the following:</p>\n<ol>\n<li>Implement serializable on <code>Controller.java</code>. This is because if the superclass is serializable, then subclass is automatically serializable, however this throws <code>java.io.NotSerializableException: GreenhouseControls$WindowMalfunction</code>, (WindowMalfunction is the inner class that throws the initial exception to begin the serialization processs).</li>\n<li>Implement serializable on <code>GreenhouseControls.java</code> and implement custom serialization by overriding <code>writeObject()</code> and <code>readObject()</code> to save the field from the superclass. This approach yet again throws the same exception as the approach 1.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>private void writeObject(ObjectOutputStream out) throws IOException {\n        out.defaultWriteObject();\n        out.writeObject(super.eventList);\n}\n\nprivate void readObject(ObjectInputStream in) throws IOException,\n            ClassNotFoundException {\n        in.defaultReadObject();\n        Object obj = in.readObject();\n        List&lt;Event&gt; x = cast(obj);\n        super.eventList = x;\n}\n</code></pre>\n<p><strong>Controller.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\nimport java.text.SimpleDateFormat;\nimport java.util.*;\n\npublic class Controller {\n    // THIS IS THE VARIABLE I NEED TO SAVE\n    protected List&lt;Event&gt; eventList = new ArrayList&lt;Event&gt;();\n\n    public void addEvent(Event c) {\n        eventList.add(c);\n    }\n\n    public void run() throws ControllerException {\n        while (eventList.size() &gt; 0)\n            // Make a copy so you're not modifying the list\n            // while you're selecting the elements in it:\n            for (Event e : new ArrayList&lt;Event&gt;(eventList))\n                if (e.ready()) {\n                    System.out.println(e);\n                    e.action();\n                    eventList.remove(e);\n                }\n    }\n\n    public static void shutDown() { }\n\n}\n</code></pre>\n<p><strong>GreenhouseControls.java</strong> class (note I have removed the inner classes and other code from it and only left related info)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GreenhouseControls extends Controller implements Serializable {\n\n    private int errorcode = 0;\n\n    public class WindowMalfunction extends Event {\n\n        public WindowMalfunction(long delayTime) {\n            super(delayTime);\n        }\n\n        public void action() throws ControllerException {\n            windowok = false;\n            throw new ControllerException(&quot;Window malfunction&quot;);\n        }\n\n        public String toString() {\n            return &quot;Window malfunction&quot;;\n        }\n    }\n\n    public class PowerOut extends Event {\n\n        public PowerOut(long delayTime) {\n            super(delayTime);\n        }\n\n        public void action() throws ControllerException {\n            poweron = false;\n            throw new ControllerException(&quot;Power out&quot;);\n        }\n\n        public String toString() {\n            return &quot;Power out&quot;;\n        }\n    }\n\n    // Various other inner classes that extend event exist\n\n    public static void serializeObject(GreenhouseControls gc) {\n        FileOutputStream fileOut;\n        ObjectOutputStream out;\n        try {\n            fileOut = new FileOutputStream(&quot;dump.out&quot;);\n            out = new ObjectOutputStream(fileOut);\n            out.writeObject(gc);\n            System.out.println(&quot;WERRROR code: &quot; + gc.getError());\n            out.close();\n            fileOut.close();\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void writeObject(ObjectOutputStream out) throws IOException {\n        out.defaultWriteObject();\n        out.writeObject(super.eventList);\n    }\n\n    private void readObject(ObjectInputStream in) throws IOException,\n            ClassNotFoundException {\n        in.defaultReadObject();\n        Object obj = in.readObject();\n        List&lt;Event&gt; x = cast(obj);\n        super.eventList = x;\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public static &lt;T extends List&lt;?&gt;&gt; T cast(Object obj) {\n        return (T) obj;\n    }\n\n    public int getError() {\n        return errorcode;\n    }\n\n    public Fixable getFixable(int errorcode) {\n        switch (errorcode) {\n            case 1:\n                return new FixWindow();\n            case 2:\n                return new PowerOn();\n            default:\n                return null;\n        }\n    }\n\n    public static void main(String[] args) {\n        GreenhouseControls gc = null;\n\n        try {\n            String option = args[0];\n            String filename = args[1];\n\n            if (!(option.equals(&quot;-f&quot;)) &amp;&amp; !(option.equals(&quot;-d&quot;))) {\n                System.out.println(&quot;Invalid option&quot;);\n                printUsage();\n            }\n\n            // gc = new GreenhouseControls();\n\n            if (option.equals(&quot;-f&quot;)) {\n                gc = new GreenhouseControls();\n                gc.addEvent(gc.new Restart(0, filename));\n            }\n\n            gc.run();\n        } catch (ArrayIndexOutOfBoundsException e) {\n            System.out.println(&quot;Invalid number of parameters&quot;);\n            printUsage();\n        } catch (ControllerException e) {\n            String errormsg;\n            if (e.getMessage().equals(&quot;Window malfunction&quot;)) {\n                gc.errorcode = 1;\n                errormsg = &quot;Window malfunction event occurred Error code: &quot; + gc.errorcode;\n            } else {\n                gc.errorcode = 2;\n                errormsg = &quot;Power out event occurred Error code: &quot; + gc.errorcode;\n            }\n\n            logError(errormsg);\n            serializeObject(gc);\n            gc.displayEventList();\n            shutDown();\n        }\n    }\n\n}\n</code></pre>\n<p><strong>Event.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class Event {\n    private long eventTime;\n    protected final long delayTime;\n\n    public Event(long delayTime) {\n        this.delayTime = delayTime;\n        start();\n    }\n\n    public void start() { // Allows restarting\n        eventTime = System.currentTimeMillis() + delayTime;\n    }\n\n    public boolean ready() {\n        return System.currentTimeMillis() &gt;= eventTime;\n    }\n\n    public abstract void action() throws ControllerException;\n</code></pre>\n"},{"tags":["java","sorting","comparator"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":1,"creation_date":1676399102,"post_id":75451749,"comment_id":133127942,"body_markdown":"It&#39;s not clear why you&#39;re trying to use an int comparator to compare Strings. Why wouldn&#39;t you use the natural ordering for strings?","body":"It&#39;s not clear why you&#39;re trying to use an int comparator to compare Strings. Why wouldn&#39;t you use the natural ordering for strings?"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1676399437,"post_id":75451749,"comment_id":133128025,"body_markdown":"By the way, this code works for me (assuming the syntax fix, adding the missing close-parenthesis at the end of the `sorted(...` line). Not sure why you feel the need to use a stream just for sorting, though.","body":"By the way, this code works for me (assuming the syntax fix, adding the missing close-parenthesis at the end of the <code>sorted(...</code> line). Not sure why you feel the need to use a stream just for sorting, though."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1676400029,"post_id":75451749,"comment_id":133128216,"body_markdown":"@E-Riz Notice the OP passed String encapsulated integers to the constructor and then parsed them.  The natural order for Strings is lexical which means that 11 would come before 2.  But I agree it would be best if the key was as an integer from the start and forget about Stringed numbers unless it is a requirement.","body":"@E-Riz Notice the OP passed String encapsulated integers to the constructor and then parsed them.  The natural order for Strings is lexical which means that 11 would come before 2.  But I agree it would be best if the key was as an integer from the start and forget about Stringed numbers unless it is a requirement."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676400430,"creation_date":1676399330,"answer_id":75451890,"question_id":75451749,"body_markdown":"- Add a `getKey()` getter to your class to return the `key`\r\n- Add one more closing parenthesis `)` to `sorted(Comparator.comparingInt(b -&gt; Integer.parseInt(b.getKey()))`\r\n\r\n\r\nBut you can also sort `bookList` in place as follows\r\n```\r\nbookList.sort(Comparator.comparingInt(b -&gt; Integer.parseInt(b.getKey())));\r\n```\r\nNote:  If you use a constructor of `Book(int key, String title)` and change the types of `key` and the `getter` to `int` you won&#39;t have to parse the String.  Then you could do:\r\n```\r\nbookList.sort(Comparator.comparingInt(Book::getKey));","title":"java streams to sort a list sorted on an object property casted from string to int","body":"<ul>\n<li>Add a <code>getKey()</code> getter to your class to return the <code>key</code></li>\n<li>Add one more closing parenthesis <code>)</code> to <code>sorted(Comparator.comparingInt(b -&gt; Integer.parseInt(b.getKey()))</code></li>\n</ul>\n<p>But you can also sort <code>bookList</code> in place as follows</p>\n<pre><code>bookList.sort(Comparator.comparingInt(b -&gt; Integer.parseInt(b.getKey())));\n</code></pre>\n<p>Note:  If you use a constructor of <code>Book(int key, String title)</code> and change the types of <code>key</code> and the <code>getter</code> to <code>int</code> you won't have to parse the String.  Then you could do:</p>\n<pre><code>bookList.sort(Comparator.comparingInt(Book::getKey));\n</code></pre>\n"}],"owner":{"account_id":16844899,"reputation":103,"user_id":14744345,"display_name":"Slippy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":542,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676400430,"creation_date":1676398634,"question_id":75451749,"body_markdown":"Given a list of objects that have a &quot;key&quot; property which is a string, is there any way I can use streams *.sorted()* method so that it treats the key as an int and uses the key to sort the objects?\r\n\r\nLet&#39;s use this as an example \r\n```\r\npublic class Book {\r\n public String key;\r\n public String title; \r\n\r\n public Book(String key, String title) {\r\n    this.key = key;\r\n    this.title = title; \r\n }\r\n\r\n// Getters and Setters omitted from example but assume they exist\r\n}\r\n\r\nBook book1 = new Book(&quot;1&quot;, &quot;A good book&quot;);\r\nBook book2 = new Book(&quot;2&quot;, &quot;A bad book&quot;); \r\n\r\nList&lt;Book&gt; bookList = new ArrayList&lt;&gt;();\r\nbookList.add(book2);\r\nbookList.add(book1);\r\n```\r\n\r\nMy goal in this case would be to sort the book list using streams and the key property so that book1 becomes the 1st element and book2 becomes the second element. \r\n\r\nI have tried something like this but I still seem to get exceptions. \r\n```\r\nList&lt;Book&gt; sortedList = bookList.stream()\r\n                        .sorted(Comparator.comparingInt(b -&gt; Integer.parseInt(b.getKey()))\r\n                        .collect(Collectors.toList());\r\n```\r\n\r\nDoes anyone notice anything immediately that would cause this to fail? Any clarification is much appreciated!","title":"java streams to sort a list sorted on an object property casted from string to int","body":"<p>Given a list of objects that have a &quot;key&quot; property which is a string, is there any way I can use streams <em>.sorted()</em> method so that it treats the key as an int and uses the key to sort the objects?</p>\n<p>Let's use this as an example</p>\n<pre><code>public class Book {\n public String key;\n public String title; \n\n public Book(String key, String title) {\n    this.key = key;\n    this.title = title; \n }\n\n// Getters and Setters omitted from example but assume they exist\n}\n\nBook book1 = new Book(&quot;1&quot;, &quot;A good book&quot;);\nBook book2 = new Book(&quot;2&quot;, &quot;A bad book&quot;); \n\nList&lt;Book&gt; bookList = new ArrayList&lt;&gt;();\nbookList.add(book2);\nbookList.add(book1);\n</code></pre>\n<p>My goal in this case would be to sort the book list using streams and the key property so that book1 becomes the 1st element and book2 becomes the second element.</p>\n<p>I have tried something like this but I still seem to get exceptions.</p>\n<pre><code>List&lt;Book&gt; sortedList = bookList.stream()\n                        .sorted(Comparator.comparingInt(b -&gt; Integer.parseInt(b.getKey()))\n                        .collect(Collectors.toList());\n</code></pre>\n<p>Does anyone notice anything immediately that would cause this to fail? Any clarification is much appreciated!</p>\n"},{"tags":["java","list","arraylist"],"answers":[{"tags":[],"owner":{"account_id":437352,"reputation":19077,"user_id":824987,"accept_rate":56,"display_name":"Amit Deshpande"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1351585195,"creation_date":1351584843,"answer_id":13134999,"question_id":13134983,"body_markdown":"[`Arrays.asList`](http://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#asList%28T...%29) does not return instance of [`java.util.ArrayList`](http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html)but it returns instance of `java.util.Arrays.ArrayList`. \r\n\r\nYou will need to convert to ArrayList if you want to access `ArrayList` specific information\r\n\r\n    allWords.addAll(Arrays.asList(strTemp.toLowerCase().split(&quot;\\\\s+&quot;)));\r\n","title":"List&lt;String&gt; to ArrayList&lt;String&gt; conversion issue","body":"<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#asList%28T...%29\" rel=\"nofollow noreferrer\"><code>Arrays.asList</code></a> does not return instance of <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\"><code>java.util.ArrayList</code></a>but it returns instance of <code>java.util.Arrays.ArrayList</code>. </p>\n\n<p>You will need to convert to ArrayList if you want to access <code>ArrayList</code> specific information</p>\n\n<pre><code>allWords.addAll(Arrays.asList(strTemp.toLowerCase().split(\"\\\\s+\")));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"down_vote_count":0,"up_vote_count":212,"is_accepted":false,"score":212,"last_activity_date":1351585019,"creation_date":1351585019,"answer_id":13135032,"question_id":13134983,"body_markdown":"Cast works where the actual instance of the list is an `ArrayList`. If it is, say, a `Vector` (which is another extension of `List`) it will throw a ClassCastException.\r\n\r\nThe error when changing the definition of your HashMap is due to the elements later being processed, and that process expects a method that is defined only in `ArrayList`. The exception tells you that it did not found the method it was looking for.\r\n\r\nCreate a new `ArrayList` with the contents of the old one.\r\n\r\n    new ArrayList&lt;String&gt;(myList);","title":"List&lt;String&gt; to ArrayList&lt;String&gt; conversion issue","body":"<p>Cast works where the actual instance of the list is an <code>ArrayList</code>. If it is, say, a <code>Vector</code> (which is another extension of <code>List</code>) it will throw a ClassCastException.</p>\n\n<p>The error when changing the definition of your HashMap is due to the elements later being processed, and that process expects a method that is defined only in <code>ArrayList</code>. The exception tells you that it did not found the method it was looking for.</p>\n\n<p>Create a new <code>ArrayList</code> with the contents of the old one.</p>\n\n<pre><code>new ArrayList&lt;String&gt;(myList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1437571444,"creation_date":1351585076,"answer_id":13135046,"question_id":13134983,"body_markdown":"Take a look at [ArrayList#addAll(Collection)](http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#addAll(java.util.Collection))\r\n\r\n&gt; Appends all of the elements in the specified collection to the end of\r\n&gt; this list, in the order that they are returned by the specified\r\n&gt; collection&#39;s Iterator. The behaviour of this operation is undefined if\r\n&gt; the specified collection is modified while the operation is in\r\n&gt; progress. (This implies that the behaviour of this call is undefined if\r\n&gt; the specified collection is this list, and this list is nonempty.)\r\n\r\nSo basically you could use\r\n\r\n    ArrayList&lt;String&gt; listOfStrings = new ArrayList&lt;&gt;(list.size());\r\n    listOfStrings.addAll(list);\r\n    ","title":"List&lt;String&gt; to ArrayList&lt;String&gt; conversion issue","body":"<p>Take a look at <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#addAll(java.util.Collection)\" rel=\"noreferrer\">ArrayList#addAll(Collection)</a></p>\n\n<blockquote>\n  <p>Appends all of the elements in the specified collection to the end of\n  this list, in the order that they are returned by the specified\n  collection's Iterator. The behaviour of this operation is undefined if\n  the specified collection is modified while the operation is in\n  progress. (This implies that the behaviour of this call is undefined if\n  the specified collection is this list, and this list is nonempty.)</p>\n</blockquote>\n\n<p>So basically you could use</p>\n\n<pre><code>ArrayList&lt;String&gt; listOfStrings = new ArrayList&lt;&gt;(list.size());\nlistOfStrings.addAll(list);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":1,"up_vote_count":56,"is_accepted":true,"score":55,"last_activity_date":1351585106,"creation_date":1351585106,"answer_id":13135054,"question_id":13134983,"body_markdown":"First of all, why is the map a `HashMap&lt;String, ArrayList&lt;String&gt;&gt;` and not a `HashMap&lt;String, List&lt;String&gt;&gt;`? Is there some reason why the value must be a specific implementation of interface `List` (`ArrayList` in this case)?\r\n\r\n`Arrays.asList` does not return a `java.util.ArrayList`, so you can&#39;t assign the return value of `Arrays.asList` to a variable of type `ArrayList`.\r\n\r\nInstead of:\r\n\r\n    allWords = Arrays.asList(strTemp.toLowerCase().split(&quot;\\\\s+&quot;));\r\n\r\nTry this:\r\n\r\n    allWords.addAll(Arrays.asList(strTemp.toLowerCase().split(&quot;\\\\s+&quot;)));\r\n","title":"List&lt;String&gt; to ArrayList&lt;String&gt; conversion issue","body":"<p>First of all, why is the map a <code>HashMap&lt;String, ArrayList&lt;String&gt;&gt;</code> and not a <code>HashMap&lt;String, List&lt;String&gt;&gt;</code>? Is there some reason why the value must be a specific implementation of interface <code>List</code> (<code>ArrayList</code> in this case)?</p>\n\n<p><code>Arrays.asList</code> does not return a <code>java.util.ArrayList</code>, so you can't assign the return value of <code>Arrays.asList</code> to a variable of type <code>ArrayList</code>.</p>\n\n<p>Instead of:</p>\n\n<pre><code>allWords = Arrays.asList(strTemp.toLowerCase().split(\"\\\\s+\"));\n</code></pre>\n\n<p>Try this:</p>\n\n<pre><code>allWords.addAll(Arrays.asList(strTemp.toLowerCase().split(\"\\\\s+\")));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5753363,"reputation":3741,"user_id":4542217,"display_name":"Shahab Rauf"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1547282650,"creation_date":1547282650,"answer_id":54157992,"question_id":13134983,"body_markdown":"In Kotlin List can be converted into ArrayList through passing it as a constructor parameter.\r\n\r\n    ArrayList(list)","title":"List&lt;String&gt; to ArrayList&lt;String&gt; conversion issue","body":"<p>In Kotlin List can be converted into ArrayList through passing it as a constructor parameter.</p>\n\n<pre><code>ArrayList(list)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7726333,"reputation":1273,"user_id":5850848,"display_name":"S Krishna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573062749,"creation_date":1573062749,"answer_id":58735931,"question_id":13134983,"body_markdown":"Tried and tested approach. \r\n\r\n\r\n    public static ArrayList&lt;String&gt; listToArrayList(List&lt;Object&gt; myList) {\r\n    \t\tArrayList&lt;String&gt; arl = new ArrayList&lt;String&gt;();\r\n    \t\tfor (Object object : myList) {\r\n    \t\t\tarl.add((String) object);\r\n    \t\t}\r\n    \t\treturn arl;\r\n    \r\n    \t}","title":"List&lt;String&gt; to ArrayList&lt;String&gt; conversion issue","body":"<p>Tried and tested approach. </p>\n\n<pre><code>public static ArrayList&lt;String&gt; listToArrayList(List&lt;Object&gt; myList) {\n        ArrayList&lt;String&gt; arl = new ArrayList&lt;String&gt;();\n        for (Object object : myList) {\n            arl.add((String) object);\n        }\n        return arl;\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3321808,"reputation":912,"user_id":2792809,"display_name":"Gomez NL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618977773,"creation_date":1618977418,"answer_id":67189096,"question_id":13134983,"body_markdown":"This comes a bit late but thought of putting in a simple way for the answer of **converting List to ArrayList**. \r\n\r\n**Simple way**\r\n\r\n    public static &lt;T&gt; ArrayList&lt;T&gt; listToArrayList(List&lt;T&gt; list) {\r\n        return list != null ? new ArrayList&lt;&gt;(list) : null;\r\n    }\r\n\r\n**Classic way**\r\n\r\n    public static  &lt;T&gt; ArrayList&lt;T&gt;  listToArrayList(List&lt;T&gt; list) {\r\n        ArrayList&lt;T&gt; arrayList = new ArrayList&lt;&gt;();\r\n        if (list != null) {\r\n            for (int i = 0; i &lt; list.size(); i++) {\r\n                arrayList.add(list.get(i));\r\n                i++;\r\n            }\r\n            // or simply\r\n            // arrayList.addAll(list);\r\n        }\r\n        return  arrayList;\r\n    }\r\n\r\n**Usage**\r\n\r\n    listToArrayList(yourList);","title":"List&lt;String&gt; to ArrayList&lt;String&gt; conversion issue","body":"<p>This comes a bit late but thought of putting in a simple way for the answer of <strong>converting List to ArrayList</strong>.</p>\n<p><strong>Simple way</strong></p>\n<pre><code>public static &lt;T&gt; ArrayList&lt;T&gt; listToArrayList(List&lt;T&gt; list) {\n    return list != null ? new ArrayList&lt;&gt;(list) : null;\n}\n</code></pre>\n<p><strong>Classic way</strong></p>\n<pre><code>public static  &lt;T&gt; ArrayList&lt;T&gt;  listToArrayList(List&lt;T&gt; list) {\n    ArrayList&lt;T&gt; arrayList = new ArrayList&lt;&gt;();\n    if (list != null) {\n        for (int i = 0; i &lt; list.size(); i++) {\n            arrayList.add(list.get(i));\n            i++;\n        }\n        // or simply\n        // arrayList.addAll(list);\n    }\n    return  arrayList;\n}\n</code></pre>\n<p><strong>Usage</strong></p>\n<pre><code>listToArrayList(yourList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18606617,"reputation":404,"user_id":13560080,"display_name":"Zahid Iqbal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642262349,"creation_date":1642262349,"answer_id":70723063,"question_id":13134983,"body_markdown":"&gt;  ArrayList&lt;Model&gt; listOfStrings = new ArrayList&lt;&gt;(list.length);\r\n                                    listOfStrings.addAll(Arrays.asList(list));\r\n                                   \r\nIn case of object list you can use this way to convert Model[] list to ArrayList&lt;Model&gt;","title":"List&lt;String&gt; to ArrayList&lt;String&gt; conversion issue","body":"<blockquote>\n<p>ArrayList listOfStrings = new ArrayList&lt;&gt;(list.length);\nlistOfStrings.addAll(Arrays.asList(list));</p>\n</blockquote>\n<p>In case of object list you can use this way to convert Model[] list to ArrayList</p>\n"},{"tags":[],"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676400124,"creation_date":1676400124,"answer_id":75452018,"question_id":13134983,"body_markdown":"With the advent of the Java streaming API (March, 2014), the following might now be considered the preferred approach:\r\n```\r\n    public List&lt;String&gt; getWordsFunctionally(List&lt;String&gt; sentences) { \r\n        List&lt;String&gt; list = sentences.stream()\r\n            .map(s -&gt; List.of(s.toLowerCase().replaceAll(&quot;\\\\p{Punct}&quot;, &quot;&quot;).split(&quot;\\\\s+&quot;)))\r\n            .flatMap(List::stream)\r\n//          .distinct() // if you don&#39;t want duplicates\r\n            .collect(Collectors.toList());\r\n        \r\n        return list;\r\n    }\r\n```\r\nNote that the original code had a bug in it: with each iteration, the values in `allWords` are replaced with the current array derived from splitting the sentence into words.\r\n```\r\nallWords = Arrays.asList(strTemp.toLowerCase().split(&quot;\\\\s+&quot;)); \r\n``` \r\nThis should read\r\n```\r\nallWords.addAll(Arrays.asList(strTemp.toLowerCase().split(&quot;\\\\s+&quot;))); \r\n```\r\n\r\nAlso, it doesn&#39;t remove punctuation. \r\n","title":"List&lt;String&gt; to ArrayList&lt;String&gt; conversion issue","body":"<p>With the advent of the Java streaming API (March, 2014), the following might now be considered the preferred approach:</p>\n<pre><code>    public List&lt;String&gt; getWordsFunctionally(List&lt;String&gt; sentences) { \n        List&lt;String&gt; list = sentences.stream()\n            .map(s -&gt; List.of(s.toLowerCase().replaceAll(&quot;\\\\p{Punct}&quot;, &quot;&quot;).split(&quot;\\\\s+&quot;)))\n            .flatMap(List::stream)\n//          .distinct() // if you don't want duplicates\n            .collect(Collectors.toList());\n        \n        return list;\n    }\n</code></pre>\n<p>Note that the original code had a bug in it: with each iteration, the values in <code>allWords</code> are replaced with the current array derived from splitting the sentence into words.</p>\n<pre><code>allWords = Arrays.asList(strTemp.toLowerCase().split(&quot;\\\\s+&quot;)); \n</code></pre>\n<p>This should read</p>\n<pre><code>allWords.addAll(Arrays.asList(strTemp.toLowerCase().split(&quot;\\\\s+&quot;))); \n</code></pre>\n<p>Also, it doesn't remove punctuation.</p>\n"}],"owner":{"account_id":1985033,"reputation":1261,"user_id":1780520,"accept_rate":29,"display_name":"Skipper07"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272703,"favorite_count":0,"down_vote_count":0,"up_vote_count":110,"accepted_answer_id":13135054,"answer_count":9,"score":110,"last_activity_date":1676400124,"creation_date":1351584741,"question_id":13134983,"body_markdown":"I have a following method...which actually takes the list of sentences and splits each sentence into words. Here is it:\r\n\r\n    public List&lt;String&gt; getWords(List&lt;String&gt; strSentences){\r\n   \tallWords = new ArrayList&lt;String&gt;();\r\n    \tIterator&lt;String&gt; itrTemp = strSentences.iterator();\r\n    \twhile(itrTemp.hasNext()){\r\n    \t\tString strTemp = itrTemp.next();\r\n    \t\tallWords = Arrays.asList(strTemp.toLowerCase().split(&quot;\\\\s+&quot;));    \t\t\r\n    \t}\r\n    \treturn allWords;\r\n    }\r\n\r\nI have to pass this list into a hashmap in the following format     \r\n    \r\n    HashMap&lt;String, ArrayList&lt;String&gt;&gt;\r\n\r\nso this method returns List and I need an ArrayList? If I try to cast it doesn&#39;t work out... any suggestions?\r\n\r\nAlso, if I change the ArrayList to List in a HashMap, I get       \r\n\r\n    java.lang.UnsupportedOperationException\r\n\r\nbecause of this line in my code \r\n\r\n    sentenceList.add(((Element)sentenceNodeList.item(sentenceIndex)).getTextContent());\r\n\r\nAny better suggestions?\r\n\r\n","title":"List&lt;String&gt; to ArrayList&lt;String&gt; conversion issue","body":"<p>I have a following method...which actually takes the list of sentences and splits each sentence into words. Here is it:</p>\n<pre><code>public List&lt;String&gt; getWords(List&lt;String&gt; strSentences){\nallWords = new ArrayList&lt;String&gt;();\n    Iterator&lt;String&gt; itrTemp = strSentences.iterator();\n    while(itrTemp.hasNext()){\n        String strTemp = itrTemp.next();\n        allWords = Arrays.asList(strTemp.toLowerCase().split(&quot;\\\\s+&quot;));          \n    }\n    return allWords;\n}\n</code></pre>\n<p>I have to pass this list into a hashmap in the following format</p>\n<pre><code>HashMap&lt;String, ArrayList&lt;String&gt;&gt;\n</code></pre>\n<p>so this method returns List and I need an ArrayList? If I try to cast it doesn't work out... any suggestions?</p>\n<p>Also, if I change the ArrayList to List in a HashMap, I get</p>\n<pre><code>java.lang.UnsupportedOperationException\n</code></pre>\n<p>because of this line in my code</p>\n<pre><code>sentenceList.add(((Element)sentenceNodeList.item(sentenceIndex)).getTextContent());\n</code></pre>\n<p>Any better suggestions?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1676313505,"post_id":75439632,"comment_id":133108537,"body_markdown":"Consider using a `StringBuilder` to model the String you are manipulating.  You may find it easier to work with.","body":"Consider using a <code>StringBuilder</code> to model the String you are manipulating.  You may find it easier to work with."}],"answers":[{"tags":[],"owner":{"account_id":13758390,"reputation":467,"user_id":9928692,"display_name":"Marce"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676312151,"creation_date":1676312151,"answer_id":75439755,"question_id":75439632,"body_markdown":"With this part\r\n\r\n    } else {\r\n        reverseCap += myArray[i];\r\n    }\r\n\r\nyou&#39;re adding a character to `reverseCap` with every iteration, regardless if the characters match or not.\r\n\r\nIn your specific example, you could just leave that out, since every character in `myStr` also appears in `arg`, but if you want to add characters to `reverseCap`, even if they don&#39;t appear in `arg`, you&#39;ll need a way of checking if you already added a character to `reverseCap`.","title":"I&#39;m stuck. I need to adjust my loops so they continue to compare my two arrays but not print out all the extra characters","body":"<p>With this part</p>\n<pre><code>} else {\n    reverseCap += myArray[i];\n}\n</code></pre>\n<p>you're adding a character to <code>reverseCap</code> with every iteration, regardless if the characters match or not.</p>\n<p>In your specific example, you could just leave that out, since every character in <code>myStr</code> also appears in <code>arg</code>, but if you want to add characters to <code>reverseCap</code>, even if they don't appear in <code>arg</code>, you'll need a way of checking if you already added a character to <code>reverseCap</code>.</p>\n"},{"tags":[],"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676326695,"creation_date":1676323447,"answer_id":75441316,"question_id":75439632,"body_markdown":"Change \r\n```\r\nString reverseCap = &quot;&quot;;\r\n```\r\nto\r\n```\r\nchar[] reverseCap = new char[myStr.length()];\r\n```\r\nand then for each occurrence of \r\n```\r\nreverseCap += \r\n``` \r\nchange that to read\r\n```\r\nreverseCap[i] =\r\n```\r\nFinally, convert `reverseCap` to a String:\r\n```\r\nString result = String.valueOf(reverseCap);\r\n```\r\nYou are currently returning `null`. Consider returning `result`, and moving the `System.out.println(...)` into the `main()` method. \r\n\r\nUpdate: \r\nI think a better way to approach this is to use a lookup map containing upper/lower case pairs and their inverse to get the replacement character. The nested for loops are a bit gnarly.\r\n\r\n```\r\n    /**\r\n     * Example: for the string &quot;bcdxyz@3210.&quot;\r\n     * the lookup map is \r\n     * {B=b, b=B, C=c, c=C, D=d, d=D, X=x, x=X, Y=y, y=Y, Z=z, z=Z}\r\n     * &lt;p&gt;\r\n     * Using a map to get the inverse of a character is faster than repetitively \r\n     * looping through the string.\r\n     * &lt;/p&gt;\r\n     * @param arg\r\n     * @return\r\n     */\r\n    public String reverse2(String arg) {\r\n        Map&lt;Character, Character&gt; inverseLookup = createInverseLookupMap(arg);\r\n        \r\n        String myStr = &quot;abc, XYZ; 123.&quot;;\r\n        String result = myStr.chars()\r\n            .mapToObj(ch -&gt; Character.toString(inverseLookup.getOrDefault(ch, (char) ch)))\r\n            .collect(Collectors.joining());\r\n\r\n        return result;\r\n    }\r\n\r\n    private Map&lt;Character, Character&gt; createInverseLookupMap(String arg) {\r\n        Map&lt;Character, Character&gt; lookupMap = arg.chars()\r\n            .filter(ch -&gt; Character.isLetter(ch))\r\n            .mapToObj(this::getPairs)\r\n            .flatMap(List::stream)\r\n            .collect(Collectors.toMap(Pair::key, Pair::value));\r\n\r\n        System.out.println(lookupMap);\r\n        return lookupMap;\r\n    }\r\n\r\n    private List&lt;Pair&gt; getPairs(int ch) {\r\n        char upperVariant = (char) Character.toUpperCase(ch);\r\n        return List.of(\r\n            new Pair(upperVariant, Character.toLowerCase(upperVariant)),\r\n            new Pair(Character.toLowerCase(upperVariant), upperVariant));\r\n    }\r\n\r\n    static record Pair(Character key, Character value) {\r\n    }\r\n```\r\n\r\nBut if one is not used to the Java streaming API, this might look a bit gnarly too.","title":"I&#39;m stuck. I need to adjust my loops so they continue to compare my two arrays but not print out all the extra characters","body":"<p>Change</p>\n<pre><code>String reverseCap = &quot;&quot;;\n</code></pre>\n<p>to</p>\n<pre><code>char[] reverseCap = new char[myStr.length()];\n</code></pre>\n<p>and then for each occurrence of</p>\n<pre><code>reverseCap += \n</code></pre>\n<p>change that to read</p>\n<pre><code>reverseCap[i] =\n</code></pre>\n<p>Finally, convert <code>reverseCap</code> to a String:</p>\n<pre><code>String result = String.valueOf(reverseCap);\n</code></pre>\n<p>You are currently returning <code>null</code>. Consider returning <code>result</code>, and moving the <code>System.out.println(...)</code> into the <code>main()</code> method.</p>\n<p>Update:\nI think a better way to approach this is to use a lookup map containing upper/lower case pairs and their inverse to get the replacement character. The nested for loops are a bit gnarly.</p>\n<pre><code>    /**\n     * Example: for the string &quot;bcdxyz@3210.&quot;\n     * the lookup map is \n     * {B=b, b=B, C=c, c=C, D=d, d=D, X=x, x=X, Y=y, y=Y, Z=z, z=Z}\n     * &lt;p&gt;\n     * Using a map to get the inverse of a character is faster than repetitively \n     * looping through the string.\n     * &lt;/p&gt;\n     * @param arg\n     * @return\n     */\n    public String reverse2(String arg) {\n        Map&lt;Character, Character&gt; inverseLookup = createInverseLookupMap(arg);\n        \n        String myStr = &quot;abc, XYZ; 123.&quot;;\n        String result = myStr.chars()\n            .mapToObj(ch -&gt; Character.toString(inverseLookup.getOrDefault(ch, (char) ch)))\n            .collect(Collectors.joining());\n\n        return result;\n    }\n\n    private Map&lt;Character, Character&gt; createInverseLookupMap(String arg) {\n        Map&lt;Character, Character&gt; lookupMap = arg.chars()\n            .filter(ch -&gt; Character.isLetter(ch))\n            .mapToObj(this::getPairs)\n            .flatMap(List::stream)\n            .collect(Collectors.toMap(Pair::key, Pair::value));\n\n        System.out.println(lookupMap);\n        return lookupMap;\n    }\n\n    private List&lt;Pair&gt; getPairs(int ch) {\n        char upperVariant = (char) Character.toUpperCase(ch);\n        return List.of(\n            new Pair(upperVariant, Character.toLowerCase(upperVariant)),\n            new Pair(Character.toLowerCase(upperVariant), upperVariant));\n    }\n\n    static record Pair(Character key, Character value) {\n    }\n</code></pre>\n<p>But if one is not used to the Java streaming API, this might look a bit gnarly too.</p>\n"},{"tags":[],"owner":{"account_id":2903089,"reputation":26,"user_id":2489246,"display_name":"Charles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676399192,"creation_date":1676399192,"answer_id":75451863,"question_id":75439632,"body_markdown":"Marce noted the problem of adding characters to `reverseCap` on every iteration.  Here is a solution that solves that problem and performs the case changes in place.  Checking for a match first and then changing the case simplifies the logic a bit.  Note `myArray[i]` needs to be lowercased before checking against `arg[i]` because the former may be an uppercase character; this is not needed for `argArray[j]` because those characters are assumed to be all lowercase.  Finally, once the inner loop has matched, further iterations of it are no longer needed.\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n\r\n            Main ob = new Main();\r\n            String testStr = &quot;abc, XYZ; 123.&quot;;\r\n            String testArg = &quot;bcdxyz@3210.&quot;;\r\n            System.out.println(testStr + &quot; using &quot; + testArg + &quot; =&gt;&quot;);\r\n            System.out.println(ob.reverse(testStr, testArg));\r\n        }\r\n\r\n        public String reverse(String myStr, String myArg) {\r\n\r\n            char[] myArray = myStr.toCharArray();\r\n            char[] argArray = myArg.toCharArray();\r\n\r\n            for (int i =0; i &lt; myArray.length; i++) {\r\n                for (int j =0; j &lt; argArray.length; j++) {\r\n                    if (Character.toLowerCase(myArray[i]) == argArray[j]) {\r\n                        if (Character.isLowerCase(myArray[i])) {\r\n                            myArray[i] = Character.toUpperCase(myArray[i]);\r\n                        } else if (Character.isUpperCase(myArray[i])) {\r\n                            myArray[i] = Character.toLowerCase(myArray[i]);\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            return String.valueOf(myArray);\r\n        }\r\n    }","title":"I&#39;m stuck. I need to adjust my loops so they continue to compare my two arrays but not print out all the extra characters","body":"<p>Marce noted the problem of adding characters to <code>reverseCap</code> on every iteration.  Here is a solution that solves that problem and performs the case changes in place.  Checking for a match first and then changing the case simplifies the logic a bit.  Note <code>myArray[i]</code> needs to be lowercased before checking against <code>arg[i]</code> because the former may be an uppercase character; this is not needed for <code>argArray[j]</code> because those characters are assumed to be all lowercase.  Finally, once the inner loop has matched, further iterations of it are no longer needed.</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n\n        Main ob = new Main();\n        String testStr = &quot;abc, XYZ; 123.&quot;;\n        String testArg = &quot;bcdxyz@3210.&quot;;\n        System.out.println(testStr + &quot; using &quot; + testArg + &quot; =&gt;&quot;);\n        System.out.println(ob.reverse(testStr, testArg));\n    }\n\n    public String reverse(String myStr, String myArg) {\n\n        char[] myArray = myStr.toCharArray();\n        char[] argArray = myArg.toCharArray();\n\n        for (int i =0; i &lt; myArray.length; i++) {\n            for (int j =0; j &lt; argArray.length; j++) {\n                if (Character.toLowerCase(myArray[i]) == argArray[j]) {\n                    if (Character.isLowerCase(myArray[i])) {\n                        myArray[i] = Character.toUpperCase(myArray[i]);\n                    } else if (Character.isUpperCase(myArray[i])) {\n                        myArray[i] = Character.toLowerCase(myArray[i]);\n                    }\n                    break;\n                }\n            }\n        }\n        return String.valueOf(myArray);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27776671,"reputation":3,"user_id":21205881,"display_name":"justjames"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75451863,"answer_count":3,"score":0,"last_activity_date":1676399192,"creation_date":1676311363,"question_id":75439632,"body_markdown":"I have to compare two string arrays. If the any of the characters in myArray match a character in argArray then I need to swap the case of the character in myArray. I&#39;m almost there but am getting extra output. \r\n\r\n\r\n\r\nThis is what I have so far - \r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n\r\n        Main ob = new Main();\r\n        ob.reverse(&quot;bcdxyz@3210.&quot;);\r\n\r\n    }\r\n    public String reverse(String arg) {\r\n\r\n        String reverseCap = &quot;&quot;;\r\n        String myStr = &quot;abc, XYZ; 123.&quot;;\r\n\r\n        char[] argArray = arg.toCharArray();\r\n        char[] myArray = myStr.toCharArray();\r\n\r\n        for (int i =0; i &lt; myArray.length; i++) {\r\n            for (int j =0; j &lt; argArray.length; j++){\r\n                if (myArray[i] == argArray[j] &amp;&amp; Character.isLowerCase(myArray[i])){\r\n                    reverseCap += Character.toUpperCase(myArray[i]);\r\n                } else if (myArray[i] == argArray[j] &amp;&amp; Character.isUpperCase(myArray[i])){\r\n                    reverseCap += Character.toLowerCase(myArray[i]);\r\n                } else {\r\n                    reverseCap += myArray[i];\r\n                }\r\n            }\r\n        }\r\n        System.out.println(reverseCap);\r\n        return null;\r\n    }\r\n```\r\n\r\nI want reverseCap to be &quot;aBC, xyz, 123.&quot; but am getting the following - \r\n```\r\n&quot;aaaaaaaaaaaaBbbbbbbbbbbbcCcccccccccc,,,,,,,,,,,,            XXXXXXXXXXXXYYYYYYYYYYYYZZZZZZZZZZZZ;;;;;;;;;;;;            111111111111222222222222333333333333............\r\n&quot;. \r\n```\r\n\r\nI&#39;ve been staring at this for hours so I figured it was time to ask for help before I pluck my eyes out. \r\n\r\n","title":"I&#39;m stuck. I need to adjust my loops so they continue to compare my two arrays but not print out all the extra characters","body":"<p>I have to compare two string arrays. If the any of the characters in myArray match a character in argArray then I need to swap the case of the character in myArray. I'm almost there but am getting extra output.</p>\n<p>This is what I have so far -</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n\n        Main ob = new Main();\n        ob.reverse(&quot;bcdxyz@3210.&quot;);\n\n    }\n    public String reverse(String arg) {\n\n        String reverseCap = &quot;&quot;;\n        String myStr = &quot;abc, XYZ; 123.&quot;;\n\n        char[] argArray = arg.toCharArray();\n        char[] myArray = myStr.toCharArray();\n\n        for (int i =0; i &lt; myArray.length; i++) {\n            for (int j =0; j &lt; argArray.length; j++){\n                if (myArray[i] == argArray[j] &amp;&amp; Character.isLowerCase(myArray[i])){\n                    reverseCap += Character.toUpperCase(myArray[i]);\n                } else if (myArray[i] == argArray[j] &amp;&amp; Character.isUpperCase(myArray[i])){\n                    reverseCap += Character.toLowerCase(myArray[i]);\n                } else {\n                    reverseCap += myArray[i];\n                }\n            }\n        }\n        System.out.println(reverseCap);\n        return null;\n    }\n</code></pre>\n<p>I want reverseCap to be &quot;aBC, xyz, 123.&quot; but am getting the following -</p>\n<pre><code>&quot;aaaaaaaaaaaaBbbbbbbbbbbbcCcccccccccc,,,,,,,,,,,,            XXXXXXXXXXXXYYYYYYYYYYYYZZZZZZZZZZZZ;;;;;;;;;;;;            111111111111222222222222333333333333............\n&quot;. \n</code></pre>\n<p>I've been staring at this for hours so I figured it was time to ask for help before I pluck my eyes out.</p>\n"},{"tags":["java","apache-kafka","real-time","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676399059,"creation_date":1676399059,"answer_id":75451840,"question_id":75451343,"body_markdown":"Use `map` operator to move the groupId over to the record key, then `groupByKey`\r\n\r\nOtherwise, use `aggregate` operator and reduce by the value&#39;s groupId","title":"Kafka Streams combinations of message","body":"<p>Use <code>map</code> operator to move the groupId over to the record key, then <code>groupByKey</code></p>\n<p>Otherwise, use <code>aggregate</code> operator and reduce by the value's groupId</p>\n"}],"owner":{"account_id":15529342,"reputation":33,"user_id":11203313,"display_name":"Svyat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75451840,"answer_count":1,"score":1,"last_activity_date":1676399059,"creation_date":1676395929,"question_id":75451343,"body_markdown":"I have messages in topic (compact topic):\r\n\r\n```\r\n{id: 1, groupId: 1}\r\n{id: 2, groupId: 1}\r\n{id: 3, groupId: 1}\r\n{id: 4, groupId: 2}\r\n```\r\n\r\nI want grouped messages by `groupId` and then get all possible combinations in each group. For example for `groupId=1` combinations:\r\n`id:1-id:2`, `id:1-id:3`, `id:2-id:3`.\r\n\r\nHow can I do this?\r\n\r\nMaybe self-join streams?","title":"Kafka Streams combinations of message","body":"<p>I have messages in topic (compact topic):</p>\n<pre><code>{id: 1, groupId: 1}\n{id: 2, groupId: 1}\n{id: 3, groupId: 1}\n{id: 4, groupId: 2}\n</code></pre>\n<p>I want grouped messages by <code>groupId</code> and then get all possible combinations in each group. For example for <code>groupId=1</code> combinations:\n<code>id:1-id:2</code>, <code>id:1-id:3</code>, <code>id:2-id:3</code>.</p>\n<p>How can I do this?</p>\n<p>Maybe self-join streams?</p>\n"},{"tags":["java","lombok","quarkus","mapstruct"],"comments":[{"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"score":0,"creation_date":1599308405,"post_id":63620377,"comment_id":112738307,"body_markdown":"Did you use the quarkus hot deploy? I remember having some problems there as well. Does a (regular) &#39; maven clean instal&#39; l and then run quarkus give problems as well?","body":"Did you use the quarkus hot deploy? I remember having some problems there as well. Does a (regular) &#39; maven clean instal&#39; l and then run quarkus give problems as well?"},{"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"score":0,"creation_date":1599308797,"post_id":63620377,"comment_id":112738395,"body_markdown":"The general problem is that Lombok creates new stuff while processing annotations in existing classes. That&#39;s not allowed according JSR269. The problem MapStruct faces is to wait until lombok is finished. MapStruct created an integration point for that (SPI) that Lombok is supposed to call. checkout: https://github.com/mapstruct/mapstruct/blob/master/processor/src/main/java/org/mapstruct/ap/spi/AstModifyingAnnotationProcessor.java","body":"The general problem is that Lombok creates new stuff while processing annotations in existing classes. That&#39;s not allowed according JSR269. The problem MapStruct faces is to wait until lombok is finished. MapStruct created an integration point for that (SPI) that Lombok is supposed to call. checkout: <a href=\"https://github.com/mapstruct/mapstruct/blob/master/processor/src/main/java/org/mapstruct/ap/spi/AstModifyingAnnotationProcessor.java\" rel=\"nofollow noreferrer\">github.com/mapstruct/mapstruct/blob/master/processor/src/mai&zwnj;&#8203;n/&hellip;</a>"},{"owner":{"account_id":3018719,"reputation":416,"user_id":2560234,"accept_rate":50,"display_name":"jste89"},"score":1,"creation_date":1605285229,"post_id":63620377,"comment_id":114612488,"body_markdown":"I&#39;ve just had the same issue. Not 100% sure if it was this that fixed it but in my POM I changed the order of the annotation processors under the build plugins section so that Lombok was before Mapstruct. It worked after that, strangely.","body":"I&#39;ve just had the same issue. Not 100% sure if it was this that fixed it but in my POM I changed the order of the annotation processors under the build plugins section so that Lombok was before Mapstruct. It worked after that, strangely."}],"answers":[{"tags":[],"owner":{"account_id":15149592,"reputation":81,"user_id":11232394,"display_name":"the_quail"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1606203135,"creation_date":1606148806,"answer_id":64972296,"question_id":63620377,"body_markdown":"\r\n\r\nIn our case it was not related to Quarkus but to \r\n\r\n        &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${build-helper-maven-plugin.version}&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;add-generated-source&lt;/id&gt;\r\n                &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;add-source&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;sources&gt;\r\n                        &lt;source&gt;${generated-sources-path}/wsdl&lt;/source&gt;\r\n                    &lt;/sources&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nThe problem was that our *add-source* sourcefolder was adding the generated sources AND the mapstruct implementation to the source path. Then the mapstruct-processor would try to register the mapstruct sources again, which then would lead to clashes.\r\n\r\n**Solution**: I had to be more specific with the *add-sources* folderpath and exclude the folder, where mapstruct puts the generated Java classes.\r\n","title":"Using MapStruct together with Lombok under Quarkus","body":"<p>In our case it was not related to Quarkus but to</p>\n<pre><code>    &lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${build-helper-maven-plugin.version}&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;add-generated-source&lt;/id&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;add-source&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;sources&gt;\n                    &lt;source&gt;${generated-sources-path}/wsdl&lt;/source&gt;\n                &lt;/sources&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>The problem was that our <em>add-source</em> sourcefolder was adding the generated sources AND the mapstruct implementation to the source path. Then the mapstruct-processor would try to register the mapstruct sources again, which then would lead to clashes.</p>\n<p><strong>Solution</strong>: I had to be more specific with the <em>add-sources</em> folderpath and exclude the folder, where mapstruct puts the generated Java classes.</p>\n"},{"tags":[],"owner":{"account_id":3873955,"reputation":551,"user_id":3208541,"accept_rate":0,"display_name":"JFouad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1621273546,"creation_date":1621273546,"answer_id":67574634,"question_id":63620377,"body_markdown":"thanks @jste89.\r\nI juste invert annotation processor to make it works\r\n\r\n\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;annotationProcessorPaths&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n              &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n              &lt;version&gt;1.18.80&lt;/version&gt;\r\n            &lt;/path&gt;\r\n\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n              &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n              &lt;version&gt;1.4.2.Final&lt;/version&gt;\r\n            &lt;/path&gt;\r\n          &lt;/annotationProcessorPaths&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;","title":"Using MapStruct together with Lombok under Quarkus","body":"<p>thanks @jste89.\nI juste invert annotation processor to make it works</p>\n<pre><code>  &lt;plugin&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;annotationProcessorPaths&gt;\n        &lt;path&gt;\n          &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n          &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n          &lt;version&gt;1.18.80&lt;/version&gt;\n        &lt;/path&gt;\n\n        &lt;path&gt;\n          &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n          &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n          &lt;version&gt;1.4.2.Final&lt;/version&gt;\n        &lt;/path&gt;\n      &lt;/annotationProcessorPaths&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12756977,"reputation":101,"user_id":13748702,"display_name":"Minakshi Jha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637916153,"creation_date":1637916153,"answer_id":70121598,"question_id":63620377,"body_markdown":"@the_quail is right I had similar issue when I added org.codehaus.mojo for autogenerate stubs form soap ws url.\r\n\r\nso I changed the path for &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\r\n&lt;sourceDestDir&gt;                                            ${project.build.directory}/generated-sources                                       &lt;/sourceDestDir&gt;\r\n\r\n\r\n&lt;sourceDestDir&gt;                                            ${project.build.directory}/generated-sources/wsdl                                       &lt;/sourceDestDir&gt;","title":"Using MapStruct together with Lombok under Quarkus","body":"<p>@the_quail is right I had similar issue when I added org.codehaus.mojo for autogenerate stubs form soap ws url.</p>\n<p>so I changed the path for generate-sources</p>\n<p>                                            ${project.build.directory}/generated-sources                                       </p>\n<p>                                            ${project.build.directory}/generated-sources/wsdl                                       </p>\n"}],"owner":{"account_id":9500256,"reputation":983,"user_id":7061661,"display_name":"P&#233;ter Veres"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6772,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":67574634,"answer_count":3,"score":5,"last_activity_date":1676398661,"creation_date":1598545808,"question_id":63620377,"body_markdown":"I&#39;m following [the guide][1] at the MapStruct blog and having trouble using this 3 technology together. \r\nI&#39;ve been trying several approaches from the MapStruct docs, bug-reports, posts from here  but in every case I end up receiving the following **exception during the build.** \r\n\r\n\r\n\r\nHave anyone successfully used MapStruct together with Lombok under Quarkus? Any help is appreciated.\r\n\r\n\r\n\r\nStrangely the first ```compile``` after a ```mvn clean``` always succeeds and the second ```compile``` or running the application throws this:\r\n```log\r\nError:(9,8) java: Internal error in the mapping processor: java.lang.RuntimeException:\r\njavax.annotation.processing.FilerException: Attempt to recreate a file for type com.example.service.RawContentDtoMapperImpl\r\nat org.mapstruct.ap.internal.processor.MapperRenderingProcessor.createSourceFile(MapperRenderingProcessor.java:59)\r\nat org.mapstruct.ap.internal.processor.MapperRenderingProcessor.writeToSourceFile(MapperRenderingProcessor.java:39)\r\n...\r\n```\r\n\r\nMapper config:\r\n\r\n```java\r\n@MapperConfig(componentModel = &quot;cdi&quot;)\r\n    public interface QuarkusMappingConfig {\r\n}\r\n```\r\n\r\nMapper:\r\n\r\n```java\r\n@Mapper(config = QuarkusMappingConfig.class, unmappedTargetPolicy = ReportingPolicy.IGNORE)\r\npublic interface RawContentDtoMapper { \r\n\r\n    RawContentDTO toResource(RawContent rawContent);\r\n\r\n}\r\n```\r\n\r\nWith the pom.xml I have tried several different approaches from all the guides I&#39;ve found for MapStruct+Quarkus and MapStruct+Lombok arrangements. Including the relevant sections from the two main approach:\r\n\r\n**Shared properties**\r\n\r\n```xml\r\n&lt;properties&gt;\r\n        &lt;compiler-plugin.version&gt;3.8.1&lt;/compiler-plugin.version&gt;\r\n        &lt;maven.compiler.parameters&gt;true&lt;/maven.compiler.parameters&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n       ...\r\n        &lt;org.mapstruct.version&gt;1.4.0.Beta3&lt;/org.mapstruct.version&gt;\r\n        &lt;org.projectlombok.version&gt;1.18.12&lt;/org.projectlombok.version&gt;\r\n&lt;/properties&gt;\r\n```\r\n\r\n**1. Using plugin annotationProcessorPaths**\r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.projectlombok.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n\r\n&lt;build&gt;\r\n       &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\r\n                        &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\r\n                        &lt;annotationProcessorPaths&gt;\r\n                            &lt;path&gt;\r\n                                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                                &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n                            &lt;/path&gt;\r\n                            &lt;path&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                                &lt;version&gt;${org.projectlombok.version}&lt;/version&gt;\r\n                            &lt;/path&gt;\r\n                        &lt;/annotationProcessorPaths&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\n**2. Using mapstruct-processor depencency approach** (with and without the maven-compiler-plugin from approach #1. and also with and withouth the annotationProcessorPaths)\r\n\r\n```xml\r\n&lt;dependencies&gt;        \r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.projectlombok.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\n  [1]: https://mapstruct.org/news/2019-12-06-mapstruct-and-quarkus/#adding-mapstruct","title":"Using MapStruct together with Lombok under Quarkus","body":"<p>I'm following <a href=\"https://mapstruct.org/news/2019-12-06-mapstruct-and-quarkus/#adding-mapstruct\" rel=\"noreferrer\">the guide</a> at the MapStruct blog and having trouble using this 3 technology together.\nI've been trying several approaches from the MapStruct docs, bug-reports, posts from here  but in every case I end up receiving the following <strong>exception during the build.</strong></p>\n<p>Have anyone successfully used MapStruct together with Lombok under Quarkus? Any help is appreciated.</p>\n<p>Strangely the first <code>compile</code> after a <code>mvn clean</code> always succeeds and the second <code>compile</code> or running the application throws this:</p>\n<pre><code>Error:(9,8) java: Internal error in the mapping processor: java.lang.RuntimeException:\njavax.annotation.processing.FilerException: Attempt to recreate a file for type com.example.service.RawContentDtoMapperImpl\nat org.mapstruct.ap.internal.processor.MapperRenderingProcessor.createSourceFile(MapperRenderingProcessor.java:59)\nat org.mapstruct.ap.internal.processor.MapperRenderingProcessor.writeToSourceFile(MapperRenderingProcessor.java:39)\n...\n</code></pre>\n<p>Mapper config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@MapperConfig(componentModel = &quot;cdi&quot;)\n    public interface QuarkusMappingConfig {\n}\n</code></pre>\n<p>Mapper:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(config = QuarkusMappingConfig.class, unmappedTargetPolicy = ReportingPolicy.IGNORE)\npublic interface RawContentDtoMapper { \n\n    RawContentDTO toResource(RawContent rawContent);\n\n}\n</code></pre>\n<p>With the pom.xml I have tried several different approaches from all the guides I've found for MapStruct+Quarkus and MapStruct+Lombok arrangements. Including the relevant sections from the two main approach:</p>\n<p><strong>Shared properties</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n        &lt;compiler-plugin.version&gt;3.8.1&lt;/compiler-plugin.version&gt;\n        &lt;maven.compiler.parameters&gt;true&lt;/maven.compiler.parameters&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n       ...\n        &lt;org.mapstruct.version&gt;1.4.0.Beta3&lt;/org.mapstruct.version&gt;\n        &lt;org.projectlombok.version&gt;1.18.12&lt;/org.projectlombok.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p><strong>1. Using plugin annotationProcessorPaths</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${org.projectlombok.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n       &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.8.1&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\n                        &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\n                        &lt;annotationProcessorPaths&gt;\n                            &lt;path&gt;\n                                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                                &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n                            &lt;/path&gt;\n                            &lt;path&gt;\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                                &lt;version&gt;${org.projectlombok.version}&lt;/version&gt;\n                            &lt;/path&gt;\n                        &lt;/annotationProcessorPaths&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n<p><strong>2. Using mapstruct-processor depencency approach</strong> (with and without the maven-compiler-plugin from approach #1. and also with and withouth the annotationProcessorPaths)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;        \n       &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${org.projectlombok.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","mlp"],"owner":{"account_id":15067753,"reputation":11,"user_id":14808688,"display_name":"NewCoder2001"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1676398648,"creation_date":1676398648,"question_id":75451754,"body_markdown":"I am writing a code in java that uses an MLP algorithm on a digit recognition dataset. I have 2 excel files. One for training and one for testing and they both contain 65 columns and 2810 rows. Below is my code:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    import java.util.Random;\r\n    \r\n    public class Main {\r\n        static int hiddenNeurons = 64; // Number of hidden neurons\r\n        static int[][] WH = new int[hiddenNeurons][64]; // Weight between the input and the hidden neurons\r\n        static int[][] WO = new int[10][hiddenNeurons]; // Weight between the hidden neurons and the output\r\n        static double[] outputHidden = new double[hiddenNeurons];\r\n        static double[] outputNeuron = new double[10];\r\n        static int[] dataSample = new int[64];\r\n        static int[] mapTarget = new int[10];\r\n        static int[] errorOutput = new int[10];\r\n        static int[] errorHidden = new int[hiddenNeurons];\r\n    \r\n        static void initializeWeights(){\r\n            Random randomNumber = new Random();\r\n            for (int i = 0; i &lt; WH.length; i++) {\r\n                for (int j = 0; j &lt; WH[i].length; j++) {\r\n                    WH[i][j] = randomNumber.nextInt(10);\r\n                }\r\n            }\r\n            for (int i = 0; i &lt; WO.length; i++) {\r\n                for (int j = 0; j &lt; WO[i].length; j++) {\r\n                    WO[i][j] = randomNumber.nextInt(10);\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static void feedForward(){\r\n            double sigmoid = 0;\r\n            double sumWH = 0;\r\n            for (int i = 0; i &lt; hiddenNeurons; i++) {\r\n                for (int j = 0; j &lt; dataSample.length; j++) {\r\n                    sumWH += dataSample[j] * WH[i][j];\r\n                }\r\n                sigmoid = 1 / (1 + Math.exp(-sumWH));\r\n                outputHidden[i] = sigmoid;\r\n            }\r\n            for (int i = 0; i &lt; outputNeuron.length; i++) {\r\n                double sumWO = 0;\r\n                for (int j = 0; j &lt; dataSample.length; j++) {\r\n                    sumWO += outputHidden[j] * WO[i][j];\r\n                }\r\n                outputNeuron[i] = sumWO &gt;= 0 ? 1 : 0;\r\n            }\r\n        }\r\n    \r\n        static boolean testError() {\r\n            for (int i = 0; i &lt; outputNeuron.length; i++) {\r\n                if (mapTarget[i] != outputNeuron[i]) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        static void training(){\r\n            double learningRate = 0.1;\r\n            for (int i = 0; i &lt; outputNeuron.length; i++) {\r\n                errorOutput[i] = (int) (mapTarget[i] - outputNeuron[i]);\r\n            }\r\n            for (int j = 0; j &lt; hiddenNeurons; j++) {\r\n                double errorTemp = 0;\r\n                for (int i = 0; i &lt; outputNeuron.length; i++) {\r\n                    errorTemp += errorOutput[i] * WO[i][j]; //try [j][i]\r\n                }\r\n                errorHidden[j] = (int) (outputHidden[j] * (1-outputHidden[j]) * errorTemp);\r\n            }\r\n            for (int i = 0; i &lt; outputNeuron.length; i++) {\r\n                for (int j = 0; j &lt; hiddenNeurons; j++) {\r\n                    WO[i][j] = (int) (WO[i][j] + learningRate * outputHidden[j] * errorOutput[i]);\r\n                }\r\n            }\r\n            for (int i = 0; i &lt; hiddenNeurons; i++) {\r\n                for (int j = 0; j &lt; dataSample.length; j++) {\r\n                    WH[i][j] = (int) (WH[i][j] + learningRate * dataSample[j] * errorHidden[i]);\r\n                }\r\n            }\r\n        }\r\n    \r\n        static void testing(){\r\n            double success = 0;\r\n            try(BufferedReader br = new BufferedReader(new FileReader(&quot;test.csv&quot;))) {\r\n                String line;\r\n                int numOfRows = 0;\r\n                boolean errorTested = false;\r\n                while ((line = br.readLine()) != null) {\r\n                    String[] values = line.split(&quot;,&quot;);\r\n                    for (int i = 0; i &lt; 64; i++) {\r\n                        dataSample[i] = Integer.parseInt(values[i]);\r\n                    }\r\n                    int targetOutput = Integer.parseInt(values[values.length - 1]);\r\n                    for (int i = 0; i &lt; 10; i++) {\r\n                        mapTarget[i] = 0;\r\n                    }\r\n                    numOfRows++;\r\n                    mapTarget[targetOutput] = 1;\r\n                    feedForward();\r\n                    errorTested = testError();\r\n                    if(!errorTested){\r\n                        success++;\r\n                    }\r\n                }\r\n    \r\n                double accuracy = success / numOfRows;\r\n                System.out.println(&quot;testing dataset accuracy: &quot; + accuracy * 100);\r\n            }\r\n            catch (Exception e){\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            double success = 0;\r\n            initializeWeights();\r\n            try (BufferedReader br = new BufferedReader(new FileReader(&quot;train.csv&quot;))) {\r\n                String line;\r\n                int numOfRows = 0;\r\n                double accuracy = 0;\r\n                while ((line = br.readLine()) != null) {\r\n                    String[] values = line.split(&quot;,&quot;);\r\n                    for (int i = 0; i &lt; 64; i++) {\r\n                        dataSample[i] = Integer.parseInt(values[i]);\r\n                    }\r\n                    int targetOutput = Integer.parseInt(values[values.length - 1]);\r\n                    for (int i = 0; i &lt; 10; i++) {\r\n                        mapTarget[i] = 0;\r\n                    }\r\n                    mapTarget[targetOutput] = 1;\r\n                    feedForward();\r\n                    if (testError()) {\r\n                        training();\r\n                    } else {\r\n                        success++;\r\n                    }\r\n                    numOfRows++;\r\n                    accuracy = success / numOfRows;\r\n                }\r\n                System.out.println(&quot;training dataset: &quot; + accuracy*100);\r\n                testing();\r\n    \r\n            }\r\n            catch (Exception e){\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nThis code, when run, gives me this output:\r\ntraining dataset: 100.0\r\ntesting dataset accuracy: 100.0\r\n\r\nWhat is the issue that seems to show me 100% accuracy even though that isn&#39;t possible.","title":"Why am I getting 100% accuracy in my Java MLP program?","body":"<p>I am writing a code in java that uses an MLP algorithm on a digit recognition dataset. I have 2 excel files. One for training and one for testing and they both contain 65 columns and 2810 rows. Below is my code:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.util.Random;\n\npublic class Main {\n    static int hiddenNeurons = 64; // Number of hidden neurons\n    static int[][] WH = new int[hiddenNeurons][64]; // Weight between the input and the hidden neurons\n    static int[][] WO = new int[10][hiddenNeurons]; // Weight between the hidden neurons and the output\n    static double[] outputHidden = new double[hiddenNeurons];\n    static double[] outputNeuron = new double[10];\n    static int[] dataSample = new int[64];\n    static int[] mapTarget = new int[10];\n    static int[] errorOutput = new int[10];\n    static int[] errorHidden = new int[hiddenNeurons];\n\n    static void initializeWeights(){\n        Random randomNumber = new Random();\n        for (int i = 0; i &lt; WH.length; i++) {\n            for (int j = 0; j &lt; WH[i].length; j++) {\n                WH[i][j] = randomNumber.nextInt(10);\n            }\n        }\n        for (int i = 0; i &lt; WO.length; i++) {\n            for (int j = 0; j &lt; WO[i].length; j++) {\n                WO[i][j] = randomNumber.nextInt(10);\n            }\n        }\n    }\n\n    public static void feedForward(){\n        double sigmoid = 0;\n        double sumWH = 0;\n        for (int i = 0; i &lt; hiddenNeurons; i++) {\n            for (int j = 0; j &lt; dataSample.length; j++) {\n                sumWH += dataSample[j] * WH[i][j];\n            }\n            sigmoid = 1 / (1 + Math.exp(-sumWH));\n            outputHidden[i] = sigmoid;\n        }\n        for (int i = 0; i &lt; outputNeuron.length; i++) {\n            double sumWO = 0;\n            for (int j = 0; j &lt; dataSample.length; j++) {\n                sumWO += outputHidden[j] * WO[i][j];\n            }\n            outputNeuron[i] = sumWO &gt;= 0 ? 1 : 0;\n        }\n    }\n\n    static boolean testError() {\n        for (int i = 0; i &lt; outputNeuron.length; i++) {\n            if (mapTarget[i] != outputNeuron[i]) {\n                return false;\n            }\n        }\n        return true;\n    }\n    static void training(){\n        double learningRate = 0.1;\n        for (int i = 0; i &lt; outputNeuron.length; i++) {\n            errorOutput[i] = (int) (mapTarget[i] - outputNeuron[i]);\n        }\n        for (int j = 0; j &lt; hiddenNeurons; j++) {\n            double errorTemp = 0;\n            for (int i = 0; i &lt; outputNeuron.length; i++) {\n                errorTemp += errorOutput[i] * WO[i][j]; //try [j][i]\n            }\n            errorHidden[j] = (int) (outputHidden[j] * (1-outputHidden[j]) * errorTemp);\n        }\n        for (int i = 0; i &lt; outputNeuron.length; i++) {\n            for (int j = 0; j &lt; hiddenNeurons; j++) {\n                WO[i][j] = (int) (WO[i][j] + learningRate * outputHidden[j] * errorOutput[i]);\n            }\n        }\n        for (int i = 0; i &lt; hiddenNeurons; i++) {\n            for (int j = 0; j &lt; dataSample.length; j++) {\n                WH[i][j] = (int) (WH[i][j] + learningRate * dataSample[j] * errorHidden[i]);\n            }\n        }\n    }\n\n    static void testing(){\n        double success = 0;\n        try(BufferedReader br = new BufferedReader(new FileReader(&quot;test.csv&quot;))) {\n            String line;\n            int numOfRows = 0;\n            boolean errorTested = false;\n            while ((line = br.readLine()) != null) {\n                String[] values = line.split(&quot;,&quot;);\n                for (int i = 0; i &lt; 64; i++) {\n                    dataSample[i] = Integer.parseInt(values[i]);\n                }\n                int targetOutput = Integer.parseInt(values[values.length - 1]);\n                for (int i = 0; i &lt; 10; i++) {\n                    mapTarget[i] = 0;\n                }\n                numOfRows++;\n                mapTarget[targetOutput] = 1;\n                feedForward();\n                errorTested = testError();\n                if(!errorTested){\n                    success++;\n                }\n            }\n\n            double accuracy = success / numOfRows;\n            System.out.println(&quot;testing dataset accuracy: &quot; + accuracy * 100);\n        }\n        catch (Exception e){\n            e.printStackTrace();\n        }\n    }\n\n    public static void main(String[] args) {\n        double success = 0;\n        initializeWeights();\n        try (BufferedReader br = new BufferedReader(new FileReader(&quot;train.csv&quot;))) {\n            String line;\n            int numOfRows = 0;\n            double accuracy = 0;\n            while ((line = br.readLine()) != null) {\n                String[] values = line.split(&quot;,&quot;);\n                for (int i = 0; i &lt; 64; i++) {\n                    dataSample[i] = Integer.parseInt(values[i]);\n                }\n                int targetOutput = Integer.parseInt(values[values.length - 1]);\n                for (int i = 0; i &lt; 10; i++) {\n                    mapTarget[i] = 0;\n                }\n                mapTarget[targetOutput] = 1;\n                feedForward();\n                if (testError()) {\n                    training();\n                } else {\n                    success++;\n                }\n                numOfRows++;\n                accuracy = success / numOfRows;\n            }\n            System.out.println(&quot;training dataset: &quot; + accuracy*100);\n            testing();\n\n        }\n        catch (Exception e){\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>This code, when run, gives me this output:\ntraining dataset: 100.0\ntesting dataset accuracy: 100.0</p>\n<p>What is the issue that seems to show me 100% accuracy even though that isn't possible.</p>\n"},{"tags":["java","awt","jfilechooser"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1676312117,"post_id":75439715,"comment_id":133108143,"body_markdown":"Does your application have any other windows/frames?","body":"Does your application have any other windows/frames?"},{"owner":{"account_id":17759285,"reputation":35,"user_id":13133173,"display_name":"Claudio"},"score":0,"creation_date":1676312325,"post_id":75439715,"comment_id":133108200,"body_markdown":"@VGR just that one","body":"@VGR just that one"},{"owner":{"account_id":17759285,"reputation":35,"user_id":13133173,"display_name":"Claudio"},"score":0,"creation_date":1676312443,"post_id":75439715,"comment_id":133108248,"body_markdown":"@VGR i&#39;m using a case where i declare a JFileChooser on 2 different cases, does it count as different windows? It isn&#39;t working on it&#39;s first iteration anyway","body":"@VGR i&#39;m using a case where i declare a JFileChooser on 2 different cases, does it count as different windows? It isn&#39;t working on it&#39;s first iteration anyway"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1676312559,"post_id":75439715,"comment_id":133108281,"body_markdown":"Create a new JFrame.  It only needs a title and a single JLabel in its content pane.  I recommend the JLabel have a large border, like `BorderFactory.createEmptyBorder(200, 200, 200, 200)`.  Show the JFrame when your program starts up, before showing any file choosers.  You can then use that JFrame as the parent.","body":"Create a new JFrame.  It only needs a title and a single JLabel in its content pane.  I recommend the JLabel have a large border, like <code>BorderFactory.createEmptyBorder(200, 200, 200, 200)</code>.  Show the JFrame when your program starts up, before showing any file choosers.  You can then use that JFrame as the parent."},{"owner":{"account_id":17759285,"reputation":35,"user_id":13133173,"display_name":"Claudio"},"score":0,"creation_date":1676317962,"post_id":75439715,"comment_id":133109652,"body_markdown":"@VGR i have options on my console, will it show up over that? I wan&#39;t it to open after i enter the switch","body":"@VGR i have options on my console, will it show up over that? I wan&#39;t it to open after i enter the switch"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1676322225,"post_id":75439715,"comment_id":133110641,"body_markdown":"If you are using the console for user input, you should be using the console to request a file name.  Mixing console input and windowed GUI input is confusing.","body":"If you are using the console for user input, you should be using the console to request a file name.  Mixing console input and windowed GUI input is confusing."},{"owner":{"account_id":17759285,"reputation":35,"user_id":13133173,"display_name":"Claudio"},"score":0,"creation_date":1676398404,"post_id":75439715,"comment_id":133127761,"body_markdown":"@VGR man, i&#39;m using it, i know how i want it","body":"@VGR man, i&#39;m using it, i know how i want it"}],"owner":{"account_id":17759285,"reputation":35,"user_id":13133173,"display_name":"Claudio"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676398432,"creation_date":1676311906,"question_id":75439715,"body_markdown":"I&#39;m trying to show a window for file choosing as it follows:\r\n\r\n    public class XMLElementCounter() {\r\n\r\n        public static void main(String[] args) {\r\n            elementCounter();\r\n        }\r\n        \r\n        static void elementCounter() {\r\n\r\n            try {\r\n\r\n                final FileChooser fc = new JFileChooser(defaultDirectory);\r\n                int returnVal = fc.showOpenDialog(parent);\r\n                \r\n                ...\r\n\r\n            }\r\n\r\n    }\r\n    \r\nFirst i declared the elementCounter directly in the main function and i called as parent fc, which showed the window as expected, but as i modularized it, it stopped showing anything. When i use null, it shows the screen behind every other window, which is annoying. \r\n\r\nHow can i know which is the parent i&#39;m looking for, and where can i learn about it?","title":"What are my options for parent when using JFileChooser?","body":"<p>I'm trying to show a window for file choosing as it follows:</p>\n<pre><code>public class XMLElementCounter() {\n\n    public static void main(String[] args) {\n        elementCounter();\n    }\n    \n    static void elementCounter() {\n\n        try {\n\n            final FileChooser fc = new JFileChooser(defaultDirectory);\n            int returnVal = fc.showOpenDialog(parent);\n            \n            ...\n\n        }\n\n}\n</code></pre>\n<p>First i declared the elementCounter directly in the main function and i called as parent fc, which showed the window as expected, but as i modularized it, it stopped showing anything. When i use null, it shows the screen behind every other window, which is annoying.</p>\n<p>How can i know which is the parent i'm looking for, and where can i learn about it?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1676310917,"post_id":75439506,"comment_id":133107783,"body_markdown":"When you add a dependency of type pom, all you get are the transitive dependencies listed in that pom.  If you want the jar, you have to use `type` named jar (or better yet, don&#39;t list the type at all).  The only place I use `type` is to include poms in the dependency management section.","body":"When you add a dependency of type pom, all you get are the transitive dependencies listed in that pom.  If you want the jar, you have to use <code>type</code> named jar (or better yet, don&#39;t list the type at all).  The only place I use <code>type</code> is to include poms in the dependency management section."},{"owner":{"account_id":4544346,"reputation":47,"user_id":3691373,"display_name":"fraaanz"},"score":0,"creation_date":1676312344,"post_id":75439506,"comment_id":133108213,"body_markdown":"if I change to &lt;type&gt;jar&lt;/type&gt; or delete it at all, when compile it complains that &quot; Could not resolve dependencies for project....&quot;","body":"if I change to &lt;type&gt;jar&lt;/type&gt; or delete it at all, when compile it complains that &quot; Could not resolve dependencies for project....&quot;"}],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676398428,"creation_date":1676311002,"answer_id":75439574,"question_id":75439506,"body_markdown":"In `dependencyManagement` you can import a &quot;bill of materials&quot; (BOM) that is provided in `pom` format. Here all the supplied components, their requirements and their versions are included so that you know that you are using all the versions that the BOM provider used.\r\n\r\nFor example, Spring boot (I know you can do it as a parent pom):\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;!-- Import dependency management from Spring Boot --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.2&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    .\r\n    .\r\n    &lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\nIn their BOM, all the versions of the Spring Boot dependencies, including the versions of their plugins, are defined in one place.\r\n\r\nAnother good example is junit:\r\n\r\n    &lt;!-- use dependency management to import pom --&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;5.9.2&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    .\r\n    .\r\n    &lt;dependencies&gt;\r\n        &lt;!-- Version is defined in the parent pom --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n","title":"importing maven depedency as pom","body":"<p>In <code>dependencyManagement</code> you can import a &quot;bill of materials&quot; (BOM) that is provided in <code>pom</code> format. Here all the supplied components, their requirements and their versions are included so that you know that you are using all the versions that the BOM provider used.</p>\n<p>For example, Spring boot (I know you can do it as a parent pom):</p>\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;!-- Import dependency management from Spring Boot --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n.\n.\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>In their BOM, all the versions of the Spring Boot dependencies, including the versions of their plugins, are defined in one place.</p>\n<p>Another good example is junit:</p>\n<pre><code>&lt;!-- use dependency management to import pom --&gt;\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\n            &lt;version&gt;5.9.2&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n.\n.\n&lt;dependencies&gt;\n    &lt;!-- Version is defined in the parent pom --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":4544346,"reputation":47,"user_id":3691373,"display_name":"fraaanz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676398428,"creation_date":1676310552,"question_id":75439506,"body_markdown":"I need to import a dependency in my project; The problem is that that dependency is specified by a pom in this way:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;it.xxxx.yyyyy.be.esb&lt;/groupId&gt;\r\n        &lt;artifactId&gt;CR_XXXXX_BE_PRODO_YYYYYY_V1&lt;/artifactId&gt;\r\n      \t&lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n      \t&lt;type&gt;pom&lt;/type&gt;\r\n     &lt;/dependency&gt;\r\n\r\nWhen I add this dependency in my project it compile well, and in my local repository (.m2) I find the folder at the path it.xxxx.yyyyy.be.esb;\r\n\r\nBut not find any jar inside the folder, so How I can use that dependency?\r\nThat dependency should be a client to make soap call to a server!\r\n\r\n\r\nIn other project the dependency was:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;it.xxxx.yyyyy.be.esb&lt;/groupId&gt;\r\n        &lt;artifactId&gt;CR_XXXXX_BE_PRODO_YYYYYY_V1&lt;/artifactId&gt;\r\n      \t&lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n      \t&lt;type&gt;jar&lt;/type&gt;\r\n     &lt;/dependency&gt;\r\n\r\nAnd when I compile, the jar file is downloaded and i&#39;m able to find it in my local repository (.m2), also I can decompile and see all class inside the package, and I can import in my class;\r\n\r\nSo my question is, is there a way to use the first dependency (the one with pom as type: &lt;type&gt;pom&lt;/type&gt;)? \r\n\r\n\r\nthanks","title":"importing maven depedency as pom","body":"<p>I need to import a dependency in my project; The problem is that that dependency is specified by a pom in this way:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;it.xxxx.yyyyy.be.esb&lt;/groupId&gt;\n    &lt;artifactId&gt;CR_XXXXX_BE_PRODO_YYYYYY_V1&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>When I add this dependency in my project it compile well, and in my local repository (.m2) I find the folder at the path it.xxxx.yyyyy.be.esb;</p>\n<p>But not find any jar inside the folder, so How I can use that dependency?\nThat dependency should be a client to make soap call to a server!</p>\n<p>In other project the dependency was:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;it.xxxx.yyyyy.be.esb&lt;/groupId&gt;\n    &lt;artifactId&gt;CR_XXXXX_BE_PRODO_YYYYYY_V1&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;type&gt;jar&lt;/type&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>And when I compile, the jar file is downloaded and i'm able to find it in my local repository (.m2), also I can decompile and see all class inside the package, and I can import in my class;</p>\n<p>So my question is, is there a way to use the first dependency (the one with pom as type: pom)?</p>\n<p>thanks</p>\n"},{"tags":["java","arrays","list"],"comments":[{"owner":{"account_id":5809836,"reputation":33185,"user_id":4581301,"display_name":"user4581301"},"score":2,"creation_date":1572046898,"post_id":58566800,"comment_id":103451951,"body_markdown":"More language tags attracts more eyes to your question, but remember that no small number of those extra eyes aren&#39;t interested in solving, or qualified to solve, Java problems. Some will be annoyed. Anyway, there is no need to think something is inefficient. You can profile the code, prove that it is inefficient, and learn exactly what is most inefficient so that you know where to focus your efforts.","body":"More language tags attracts more eyes to your question, but remember that no small number of those extra eyes aren&#39;t interested in solving, or qualified to solve, Java problems. Some will be annoyed. Anyway, there is no need to think something is inefficient. You can profile the code, prove that it is inefficient, and learn exactly what is most inefficient so that you know where to focus your efforts."},{"owner":{"account_id":13459014,"reputation":107,"user_id":9711734,"display_name":"Questions"},"score":0,"creation_date":1572047972,"post_id":58566800,"comment_id":103452112,"body_markdown":"@user4581301 you can answer this question in any language, i just gave my answer in java, so even if its done in python i don&#39;t mind... Hackerrank says its inefficient, i know it is O(n^2) which is making it inefficient so it wants a O(n) answer, i have been trying but i can&#39;t think of an O(n) answer.","body":"@user4581301 you can answer this question in any language, i just gave my answer in java, so even if its done in python i don&#39;t mind... Hackerrank says its inefficient, i know it is O(n^2) which is making it inefficient so it wants a O(n) answer, i have been trying but i can&#39;t think of an O(n) answer."},{"owner":{"account_id":5809836,"reputation":33185,"user_id":4581301,"display_name":"user4581301"},"score":0,"creation_date":1572050081,"post_id":58566800,"comment_id":103452397,"body_markdown":"Try this: Before you add to the `List` try to put the item in a `Set`. If it&#39;s is already in the `Set`, it&#39;s a duplicate. Count it and don&#39;t add to the list. You&#39;ll have to meet the `Set` equality requirements and it&#39;s been well over a decade since I wrote any amount of Java. I can&#39;t remember them, but Java had really [good docs](https://docs.oracle.com/javase/8/docs/api/java/util/Set.html).  That alone should get you down to a bit worse than O(N), probably N Log N.","body":"Try this: Before you add to the <code>List</code> try to put the item in a <code>Set</code>. If it&#39;s is already in the <code>Set</code>, it&#39;s a duplicate. Count it and don&#39;t add to the list. You&#39;ll have to meet the <code>Set</code> equality requirements and it&#39;s been well over a decade since I wrote any amount of Java. I can&#39;t remember them, but Java had really <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Set.html\" rel=\"nofollow noreferrer\">good docs</a>.  That alone should get you down to a bit worse than O(N), probably N Log N."},{"owner":{"account_id":5809836,"reputation":33185,"user_id":4581301,"display_name":"user4581301"},"score":0,"creation_date":1572050302,"post_id":58566800,"comment_id":103452417,"body_markdown":"You definitely don&#39;t want to read in everything and then remove duplicates, that&#39;s  for suckers. Don&#39;t put duplicates in in the first place. Save you the whole second set of loops.","body":"You definitely don&#39;t want to read in everything and then remove duplicates, that&#39;s  for suckers. Don&#39;t put duplicates in in the first place. Save you the whole second set of loops."}],"answers":[{"tags":[],"owner":{"account_id":16986163,"reputation":1,"user_id":12286903,"display_name":"Mritunjai Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572279323,"creation_date":1572279323,"answer_id":58594563,"question_id":58566800,"body_markdown":"          public static int numDuplicates(List&lt;String&gt; names, List&lt;Integer&gt; price, \r\n              List&lt;Integer&gt; weight) {\r\n\t\t        int count = 0;\r\n\t\t        String product = &quot;&quot;;\r\n           \t\tMap&lt;String, Integer&gt; dupMap = new HashMap&lt;String, Integer&gt;();\r\n\t\t        for (int i = 0; i &lt; names.size(); i++) {\r\n\t\t\t       product = names.get(i) + price.get(i) + weight.get(i);\r\n\t\t\t       if (dupMap.get(product) != null) {\r\n\t\t\t\t     count++;\r\n\t\t\t       } else {\r\n\t\t\t\t     dupMap.put(product, 1);\r\n\t\t\t    }\r\n\r\n\t\t    }\r\n\r\n\t\treturn count;\r\n\t}","title":"Comparing products given three seperate lists","body":"<pre><code>      public static int numDuplicates(List&lt;String&gt; names, List&lt;Integer&gt; price, \n          List&lt;Integer&gt; weight) {\n            int count = 0;\n            String product = \"\";\n            Map&lt;String, Integer&gt; dupMap = new HashMap&lt;String, Integer&gt;();\n            for (int i = 0; i &lt; names.size(); i++) {\n               product = names.get(i) + price.get(i) + weight.get(i);\n               if (dupMap.get(product) != null) {\n                 count++;\n               } else {\n                 dupMap.put(product, 1);\n            }\n\n        }\n\n    return count;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18387882,"reputation":1,"user_id":13394449,"display_name":"Mausam Agarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587733617,"creation_date":1587677113,"answer_id":61397257,"question_id":58566800,"body_markdown":"    List&lt;string&gt; final = new List&lt;string&gt;();\r\n\r\n    int countTotal = name.Count;\r\n\r\n    for (int i = 0; i &lt; countTotal; i++) {\r\n        final.Add(name.ElementAt(i) + price.ElementAt(i) + weight.ElementAt(i));\r\n    }\r\n\r\n    var uniqueItems = final.Distinct();\r\n    int countDistinct = uniqueItems.Count();\r\n    return(countTotal-countDistinct);","title":"Comparing products given three seperate lists","body":"<pre><code>List&lt;string&gt; final = new List&lt;string&gt;();\n\nint countTotal = name.Count;\n\nfor (int i = 0; i &lt; countTotal; i++) {\n    final.Add(name.ElementAt(i) + price.ElementAt(i) + weight.ElementAt(i));\n}\n\nvar uniqueItems = final.Distinct();\nint countDistinct = uniqueItems.Count();\nreturn(countTotal-countDistinct);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599402462,"creation_date":1599402462,"answer_id":63765225,"question_id":58566800,"body_markdown":"**For :**\r\n\r\n    public static int numDuplicates(List&lt;String&gt; name, List&lt;Integer&gt; price, List&lt;Integer&gt; weight) {\r\n    // Write your code here\r\n        //return an int\r\n    }\r\n\r\n**Use Like below:**\r\n\r\n    public static int numDuplicates(List&lt;String&gt; name, List&lt;Integer&gt; price, List&lt;Integer&gt; weight) {\r\n    List&lt;String&gt; f1 = new ArrayList&lt;String&gt;();\r\n    \r\n    int countTotal = name.size();\r\n    \r\n    for (int i = 0; i &lt; countTotal; i++) {\r\n        f1.add(name.get(i) + price.get(i) + weight.get(i));\r\n    }\r\n    \r\n    //Unique List item\r\n    Set&lt;String&gt; uniqueItemSet = new HashSet&lt;String&gt;(f1);\r\n    \r\n    Integer uniqueItems = uniqueItemSet.size();\r\n    int countAll = f1.size();\r\n    return(countAll-uniqueItems);\r\n        }\r\n\r\n","title":"Comparing products given three seperate lists","body":"<p><strong>For :</strong></p>\n<pre><code>public static int numDuplicates(List&lt;String&gt; name, List&lt;Integer&gt; price, List&lt;Integer&gt; weight) {\n// Write your code here\n    //return an int\n}\n</code></pre>\n<p><strong>Use Like below:</strong></p>\n<pre><code>public static int numDuplicates(List&lt;String&gt; name, List&lt;Integer&gt; price, List&lt;Integer&gt; weight) {\nList&lt;String&gt; f1 = new ArrayList&lt;String&gt;();\n\nint countTotal = name.size();\n\nfor (int i = 0; i &lt; countTotal; i++) {\n    f1.add(name.get(i) + price.get(i) + weight.get(i));\n}\n\n//Unique List item\nSet&lt;String&gt; uniqueItemSet = new HashSet&lt;String&gt;(f1);\n\nInteger uniqueItems = uniqueItemSet.size();\nint countAll = f1.size();\nreturn(countAll-uniqueItems);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19838448,"reputation":11,"user_id":14531592,"display_name":"Rafael Santos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603831462,"creation_date":1603831462,"answer_id":64562627,"question_id":58566800,"body_markdown":"    public static int numDuplicates(List&lt;String&gt; name, List&lt;Integer&gt; price, List&lt;Integer&gt; weight) {\r\n            Set&lt;String&gt; uniqueProducts = new HashSet&lt;String&gt;();\r\n            for (int i = 0; i &lt; name.size(); i++)\r\n                uniqueProducts.add(name.get(i) + &quot; &quot; + price.get(i) + &quot; &quot; + weight.get(i)); \r\n            return name.size() - uniqueProducts.size();\r\n    }","title":"Comparing products given three seperate lists","body":"<pre><code>public static int numDuplicates(List&lt;String&gt; name, List&lt;Integer&gt; price, List&lt;Integer&gt; weight) {\n        Set&lt;String&gt; uniqueProducts = new HashSet&lt;String&gt;();\n        for (int i = 0; i &lt; name.size(); i++)\n            uniqueProducts.add(name.get(i) + &quot; &quot; + price.get(i) + &quot; &quot; + weight.get(i)); \n        return name.size() - uniqueProducts.size();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4503570,"reputation":526,"user_id":3661533,"accept_rate":44,"display_name":"irs102info"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617517711,"creation_date":1617517711,"answer_id":66938580,"question_id":58566800,"body_markdown":" \r\n\r\n    public static int numDuplicates(List&lt;String&gt; name, List&lt;Integer&gt; price, List&lt;Integer&gt; weight) {\r\n        int res=0;\r\n        HashSet&lt;String&gt; set = new HashSet&lt;String&gt;();\r\n        for(int i=0;i&lt;name.size();i++){\r\n            String cmb = name.get(i) + &quot;_&quot; + price.get(i)+ &quot;_&quot; + weight.get(i);\r\n            if(set.contains(cmb)){\r\n                res++;\r\n            }\r\n            else{\r\n                set.add(cmb);\r\n            }\r\n        }\r\n        return res;\r\n        }\r\n    }","title":"Comparing products given three seperate lists","body":"<pre><code>public static int numDuplicates(List&lt;String&gt; name, List&lt;Integer&gt; price, List&lt;Integer&gt; weight) {\n    int res=0;\n    HashSet&lt;String&gt; set = new HashSet&lt;String&gt;();\n    for(int i=0;i&lt;name.size();i++){\n        String cmb = name.get(i) + &quot;_&quot; + price.get(i)+ &quot;_&quot; + weight.get(i);\n        if(set.contains(cmb)){\n            res++;\n        }\n        else{\n            set.add(cmb);\n        }\n    }\n    return res;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15434070,"reputation":51,"user_id":11134636,"display_name":"Anamta sayyed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676398344,"creation_date":1676398344,"answer_id":75451692,"question_id":58566800,"body_markdown":"Or you may put the values in a pandas dataframe, then take the length of that data frame, use drop_duplicate function on to the dataframe to drop duplicates,  take the revised dataframe&#39;s length, and then calculate the difference in length and print.","title":"Comparing products given three seperate lists","body":"<p>Or you may put the values in a pandas dataframe, then take the length of that data frame, use drop_duplicate function on to the dataframe to drop duplicates,  take the revised dataframe's length, and then calculate the difference in length and print.</p>\n"}],"owner":{"account_id":13459014,"reputation":107,"user_id":9711734,"display_name":"Questions"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33692,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":6,"score":2,"last_activity_date":1676398344,"creation_date":1572045786,"question_id":58566800,"body_markdown":"You are given a list of n products, each with a name, price and weight.\r\n\r\nFind out how many duplicates of a product are present within the list. A duplicate is a product with all parameters, equal to some other product.\r\n \r\ninput is 3 lists\r\n\r\n       Name Price Weight\r\n     1. ball 2     1\r\n     2. box  2     2\r\n     3. ball 2     1\r\n     4. ball 2     1\r\n     5. box  2     3\r\n\r\noutput:\r\n         \r\n        2\r\n\r\nexplanation:\r\n\r\n       (1.) is same as (3.) and is also same as (4.) so there is 2... 1-&gt;3 and 1-&gt;4\r\n        \r\n\r\nFunction Description \r\n\r\n \r\n \r\n\r\nnumDuplicates has the following parameter(s):\r\n\r\n    name: string array of size n, where names[i] denotes the name of the ith product\r\n\r\n    price: int array of size n, where prices[i] denotes the price of the ith product\r\n\r\n    weight: int array of size n, where weights[i] denotes the weight of the ith product\r\n\r\n   \r\nfunction you need to fill out:\r\n\r\n    public static int numDuplicates(List&lt;String&gt; name, List&lt;Integer&gt; price, List&lt;Integer&gt; weight) {\r\n    // Write your code here\r\n        //return an int\r\n    }\r\n\r\nthis is what i wrote for my code and is O(n^2) but some test-cases are running out of time so i think it wants an O(n) solution but i cant think of it...\r\n\r\n\r\n\r\n     class Result {\r\n\r\n    /*\r\n     * Complete the &#39;numDuplicates&#39; function below.\r\n     *\r\n     * The function is expected to return an INTEGER.\r\n     * The function accepts following parameters:\r\n     *  1. STRING_ARRAY name\r\n     *  2. INTEGER_ARRAY price\r\n     *  3. INTEGER_ARRAY weight\r\n     */\r\n\r\n        public static int numDuplicates(List&lt;String&gt; name, List&lt;Integer&gt; price, List&lt;Integer&gt; weight) {\r\n        int count = 0;\r\n        List&lt;obj&gt; classList = new ArrayList&lt;obj&gt;();\r\n        for(int i=0; i&lt;name.size(); i++){\r\n            obj holder = new obj(name.get(i),price.get(i),weight.get(i));\r\n            classList.add(holder);\r\n        }\r\n        for(int i=0; i&lt;classList.size(); i++){\r\n            for(int j=i+1; j&lt;classList.size();j++){\r\n                if(classList.get(i).isDuplicate(classList.get(j))){\r\n                    count++;\r\n                    classList.remove(classList.get(j));\r\n                    j--;\r\n                }\r\n            }\r\n        }\r\n        return count;\r\n     }\r\n\r\n    }\r\n\r\n    class obj{\r\n      String name;\r\n      int price;\r\n      int weight;\r\n      public obj(String name, int price, int weight){\r\n          this.name = name;\r\n          this.price = price;\r\n          this.weight = weight;\r\n      }\r\n      public boolean isDuplicate(obj x){\r\n          if(this.name.equals(x.name) &amp;&amp; this.price == x.price &amp;&amp; this.weight == x.weight){\r\n              return true;\r\n          }\r\n          return false;\r\n       }\r\n    }\r\n\r\ni created my own object class, and i created a compare method but i think it might be inefficent\r\n","title":"Comparing products given three seperate lists","body":"<p>You are given a list of n products, each with a name, price and weight.</p>\n\n<p>Find out how many duplicates of a product are present within the list. A duplicate is a product with all parameters, equal to some other product.</p>\n\n<p>input is 3 lists</p>\n\n<pre><code>   Name Price Weight\n 1. ball 2     1\n 2. box  2     2\n 3. ball 2     1\n 4. ball 2     1\n 5. box  2     3\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>    2\n</code></pre>\n\n<p>explanation:</p>\n\n<pre><code>   (1.) is same as (3.) and is also same as (4.) so there is 2... 1-&gt;3 and 1-&gt;4\n</code></pre>\n\n<p>Function Description </p>\n\n<p>numDuplicates has the following parameter(s):</p>\n\n<pre><code>name: string array of size n, where names[i] denotes the name of the ith product\n\nprice: int array of size n, where prices[i] denotes the price of the ith product\n\nweight: int array of size n, where weights[i] denotes the weight of the ith product\n</code></pre>\n\n<p>function you need to fill out:</p>\n\n<pre><code>public static int numDuplicates(List&lt;String&gt; name, List&lt;Integer&gt; price, List&lt;Integer&gt; weight) {\n// Write your code here\n    //return an int\n}\n</code></pre>\n\n<p>this is what i wrote for my code and is O(n^2) but some test-cases are running out of time so i think it wants an O(n) solution but i cant think of it...</p>\n\n<pre><code> class Result {\n\n/*\n * Complete the 'numDuplicates' function below.\n *\n * The function is expected to return an INTEGER.\n * The function accepts following parameters:\n *  1. STRING_ARRAY name\n *  2. INTEGER_ARRAY price\n *  3. INTEGER_ARRAY weight\n */\n\n    public static int numDuplicates(List&lt;String&gt; name, List&lt;Integer&gt; price, List&lt;Integer&gt; weight) {\n    int count = 0;\n    List&lt;obj&gt; classList = new ArrayList&lt;obj&gt;();\n    for(int i=0; i&lt;name.size(); i++){\n        obj holder = new obj(name.get(i),price.get(i),weight.get(i));\n        classList.add(holder);\n    }\n    for(int i=0; i&lt;classList.size(); i++){\n        for(int j=i+1; j&lt;classList.size();j++){\n            if(classList.get(i).isDuplicate(classList.get(j))){\n                count++;\n                classList.remove(classList.get(j));\n                j--;\n            }\n        }\n    }\n    return count;\n }\n\n}\n\nclass obj{\n  String name;\n  int price;\n  int weight;\n  public obj(String name, int price, int weight){\n      this.name = name;\n      this.price = price;\n      this.weight = weight;\n  }\n  public boolean isDuplicate(obj x){\n      if(this.name.equals(x.name) &amp;&amp; this.price == x.price &amp;&amp; this.weight == x.weight){\n          return true;\n      }\n      return false;\n   }\n}\n</code></pre>\n\n<p>i created my own object class, and i created a compare method but i think it might be inefficent</p>\n"},{"tags":["java","snmp","activemq-artemis"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":1,"creation_date":1676396635,"post_id":75446064,"comment_id":133127345,"body_markdown":"How are you setting these properties? What JVM are you using? What version of ActiveMQ Artemis are you using? What is the contents of your `.snmp.acl`?","body":"How are you setting these properties? What JVM are you using? What version of ActiveMQ Artemis are you using? What is the contents of your <code>.snmp.acl</code>?"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":1,"creation_date":1676396663,"post_id":75446064,"comment_id":133127352,"body_markdown":"You can certainly monitor ActiveMQ Artemis via JMX. See [the documentation](https://activemq.apache.org/components/artemis/documentation/latest/management.html#management-via-jmx) for more details on that.","body":"You can certainly monitor ActiveMQ Artemis via JMX. See <a href=\"https://activemq.apache.org/components/artemis/documentation/latest/management.html#management-via-jmx\" rel=\"nofollow noreferrer\">the documentation</a> for more details on that."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":1,"creation_date":1676397147,"post_id":75446064,"comment_id":133127464,"body_markdown":"Did you use these same properties with ActiveMQ &quot;Classic&quot;?","body":"Did you use these same properties with ActiveMQ &quot;Classic&quot;?"},{"owner":{"account_id":2999441,"reputation":3025,"user_id":2545194,"accept_rate":50,"display_name":"Jdamian"},"score":0,"creation_date":1676456142,"post_id":75446064,"comment_id":133138634,"body_markdown":"@JustinBertram Yes,I use the same properties with ActiveMQ &quot;Classic&quot; and an old Java version.","body":"@JustinBertram Yes,I use the same properties with ActiveMQ &quot;Classic&quot; and an old Java version."}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676398261,"creation_date":1676397928,"answer_id":75451626,"question_id":75446064,"body_markdown":"[The SNMP agent was removed from Java 11][1] so that may be why it&#39;s not working for you.\r\n\r\nHowever, you can certainly monitor ActiveMQ Artemis via JMX. See [the documentation][2] for more details on that.\r\n\r\nIf you just want to keep an eye on metrics you can use a [metrics plugin][3]. Using a plugin like the [Prometheus metrics plugin][4] would allow you to see exactly what&#39;s happening on the broker, set up alerts, etc.\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8071367\r\n  [2]: https://activemq.apache.org/components/artemis/documentation/latest/management.html#management-via-jmx\r\n  [3]: https://activemq.apache.org/components/artemis/documentation/latest/metrics.html\r\n  [4]: https://github.com/rh-messaging/artemis-prometheus-metrics-plugin","title":"Monitoring ActiveMQ Artemis apart from Jolokia","body":"<p><a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8071367\" rel=\"nofollow noreferrer\">The SNMP agent was removed from Java 11</a> so that may be why it's not working for you.</p>\n<p>However, you can certainly monitor ActiveMQ Artemis via JMX. See <a href=\"https://activemq.apache.org/components/artemis/documentation/latest/management.html#management-via-jmx\" rel=\"nofollow noreferrer\">the documentation</a> for more details on that.</p>\n<p>If you just want to keep an eye on metrics you can use a <a href=\"https://activemq.apache.org/components/artemis/documentation/latest/metrics.html\" rel=\"nofollow noreferrer\">metrics plugin</a>. Using a plugin like the <a href=\"https://github.com/rh-messaging/artemis-prometheus-metrics-plugin\" rel=\"nofollow noreferrer\">Prometheus metrics plugin</a> would allow you to see exactly what's happening on the broker, set up alerts, etc.</p>\n"}],"owner":{"account_id":2999441,"reputation":3025,"user_id":2545194,"accept_rate":50,"display_name":"Jdamian"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75451626,"answer_count":1,"score":0,"last_activity_date":1676398261,"creation_date":1676368219,"question_id":75446064,"body_markdown":"I hope to monitor ActiveMQ Artemis instances by configuring and using a SNMP connector by means of known Java properties\r\n```\r\n-Dcom.sun.management.snmp.interface=127.0.0.1 -Dcom.sun.management.snmp.port=50000 -Dcom.sun.management.snmp.acl=true -Dcom.sun.management.snmp.acl.file=/app/artemis/.snmp.acl\r\n```\r\nAs ActiveMQ instances were monitored, but it does not work -- No error message is reported for Java SNMP properties, but no process is listening the chosen UDP port.\r\n\r\nIs still possible to monitor ActiveMQ Artemis this way? And using JMX?","title":"Monitoring ActiveMQ Artemis apart from Jolokia","body":"<p>I hope to monitor ActiveMQ Artemis instances by configuring and using a SNMP connector by means of known Java properties</p>\n<pre><code>-Dcom.sun.management.snmp.interface=127.0.0.1 -Dcom.sun.management.snmp.port=50000 -Dcom.sun.management.snmp.acl=true -Dcom.sun.management.snmp.acl.file=/app/artemis/.snmp.acl\n</code></pre>\n<p>As ActiveMQ instances were monitored, but it does not work -- No error message is reported for Java SNMP properties, but no process is listening the chosen UDP port.</p>\n<p>Is still possible to monitor ActiveMQ Artemis this way? And using JMX?</p>\n"},{"tags":["java","spring","web"],"comments":[{"owner":{"account_id":24749609,"reputation":81,"user_id":18635297,"display_name":"Math_Guerin"},"score":0,"creation_date":1676399002,"post_id":75451617,"comment_id":133127909,"body_markdown":"if your route is the same as the one in your title the slash at the end will cause spring to not find your route causing a error 404 it should be /myRoute","body":"if your route is the same as the one in your title the slash at the end will cause spring to not find your route causing a error 404 it should be /myRoute"},{"owner":{"account_id":22694314,"reputation":11,"user_id":16862744,"display_name":"Kazan"},"score":0,"creation_date":1676450806,"post_id":75451617,"comment_id":133137155,"body_markdown":"Thank you! I write http://localhost:8080/myProject without the final &#39;/&#39;, but I get this error. How can I &#39;say&#39; to Spring how to find the name of my project?","body":"Thank you! I write <a href=\"http://localhost:8080/myProject\" rel=\"nofollow noreferrer\">localhost:8080/myProject</a> without the final &#39;/&#39;, but I get this error. How can I &#39;say&#39; to Spring how to find the name of my project?"}],"owner":{"account_id":22694314,"reputation":11,"user_id":16862744,"display_name":"Kazan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676397844,"creation_date":1676397844,"question_id":75451617,"body_markdown":"I am having this problem. I am following a course and, even though I am doing exactly the same of the teacher, I have this issue. myProject is the name of the project in Eclipse. What can be the problem? I have found many similar posts on StackOverflow, but all the solutions didn&#39;t work with me. Here the code... Thank you so much!\r\npom file:\r\n\r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;it.corsospring.web&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;corsospringweb&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;name&gt;corsospringweb&lt;/name&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.0.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-compiler-plugin --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.10.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.0.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-beans --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.0.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-web --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.0.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.0.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/jakarta.servlet/jakarta.servlet-api --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.0.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.3.2&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.10.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n    package it.corsospring.web.controller;\r\n    \r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n    \r\n    @Controller\r\n    public class WelcomeController {\r\n    \t\r\n    \t@ResponseBody\r\n    \t@RequestMapping(path = &quot;/&quot;)\r\n    \tpublic String welcome() {\r\n    \t\treturn &quot;Benvenuto!&quot;;\r\n    \t}\r\n    }\r\n    \r\n        package it.corsospring.web;\r\n        \r\n        import org.springframework.context.annotation.ComponentScan;\r\n        import org.springframework.context.annotation.Configuration;\r\n        import org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n        \r\n        @EnableWebMvc\r\n        @Configuration\r\n        @ComponentScan(basePackages = &quot;it.corsospring.web.controller&quot;)\r\n        public class WebConfig {\t\r\n        \r\n        }\r\n\r\n","title":"HTTP Status 404 - The requested resource (/myProject/) is not available in Spring","body":"<p>I am having this problem. I am following a course and, even though I am doing exactly the same of the teacher, I have this issue. myProject is the name of the project in Eclipse. What can be the problem? I have found many similar posts on StackOverflow, but all the solutions didn't work with me. Here the code... Thank you so much!\npom file:</p>\n<pre><code>    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;it.corsospring.web&lt;/groupId&gt;\n    &lt;artifactId&gt;corsospringweb&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;corsospringweb&lt;/name&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;6.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-compiler-plugin --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.10.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;6.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-beans --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n            &lt;version&gt;6.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-web --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;6.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;6.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/jakarta.servlet/jakarta.servlet-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\npackage it.corsospring.web.controller;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\n@Controller\npublic class WelcomeController {\n    \n    @ResponseBody\n    @RequestMapping(path = &quot;/&quot;)\n    public String welcome() {\n        return &quot;Benvenuto!&quot;;\n    }\n}\n\n    package it.corsospring.web;\n    \n    import org.springframework.context.annotation.ComponentScan;\n    import org.springframework.context.annotation.Configuration;\n    import org.springframework.web.servlet.config.annotation.EnableWebMvc;\n    \n    @EnableWebMvc\n    @Configuration\n    @ComponentScan(basePackages = &quot;it.corsospring.web.controller&quot;)\n    public class WebConfig {    \n    \n    }\n</code></pre>\n"},{"tags":["java","android","flutter","back-button","flutter-beamer"],"owner":{"account_id":3688520,"reputation":3356,"user_id":3071728,"accept_rate":92,"display_name":"MetaStack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1676397747,"creation_date":1676396754,"question_id":75451465,"body_markdown":"we all know about `WillPopScope`...\r\n\r\nexample:\r\n```\r\n    return WillPopScope(\r\n        onWillPop: () async =&gt; return false,\r\n        child: Scaffold(...));\r\n```\r\n\r\nThat works fine in most cases but not in mine. I&#39;m using Beamer in a complicated way and `MaterialApp.router` so even if I use `WillPopScope` the back button still has an effect (exiting the app no matter where I&#39;m at).\r\n\r\nSo I&#39;d like to disable to back button at a deeper level. And the next level down looks like using the `backButtonDispatcher` in the `MaterialApp.router` like so:\r\n\r\n```\r\n\r\nclass DoNothingBackButtonDispatcher extends BackButtonDispatcher\r\n    with WidgetsBindingObserver {\r\n  DoNothingBackButtonDispatcher();\r\n\r\n  @override\r\n  void addCallback(ValueGetter&lt;Future&lt;bool&gt;&gt; callback) {}\r\n\r\n  @override\r\n  void removeCallback(ValueGetter&lt;Future&lt;bool&gt;&gt; callback) {}\r\n\r\n  @override\r\n  Future&lt;bool&gt; didPopRoute() =&gt; invokeCallback(Future&lt;bool&gt;.value(false));\r\n\r\n  @override\r\n  ChildBackButtonDispatcher createChildBackButtonDispatcher() =&gt; ChildBackButtonDispatcher(this);\r\n\r\n\r\n  @override\r\n  void deferTo(ChildBackButtonDispatcher child) {}\r\n\r\n  @override\r\n  void forget(ChildBackButtonDispatcher child) {}\r\n\r\n  @override\r\n  Future&lt;bool&gt; invokeCallback(Future&lt;bool&gt; defaultValue) =&gt;\r\n      SynchronousFuture&lt;bool&gt;(false);\r\n\r\n  bool onPop(BuildContext context, Route&lt;dynamic&gt; route) =&gt; false;\r\n\r\n  @override\r\n  void takePriority() {}\r\n}\r\n\r\nvoid main() =&gt; runApp(MyApp());\r\n\r\nclass MyApp extends StatelessWidget {\r\n  MyApp({Key? key}) : super(key: key);\r\n\r\n  final rootBeamerDelegate = BeamerDelegate(\r\n    initialPath: Sailor.initialPath,\r\n    locationBuilder: RoutesLocationBuilder(\r\n      routes: {\r\n        &#39;*&#39;: (context, state, data) =&gt; const HomePage(),\r\n      },\r\n    ),\r\n  );\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return MaterialApp.router(\r\n      debugShowCheckedModeBanner: false,\r\n      routerDelegate: rootBeamerDelegate,\r\n      routeInformationParser: BeamerParser(),\r\n      backButtonDispatcher: DoNothingBackButtonDispatcher(), // &lt;----- HERE\r\n    );\r\n  }\r\n}\r\n```\r\n\r\nUnfortunately, even this closes the app when the user hits the system back button.\r\n\r\nSo, the question is:\r\n\r\n**How do I implement the abstract BackButtonDispatcher class in order to essentially ignore the button press?** \r\n\r\nThanks so much for your help! ","title":"disable to android system back button using backButtonDispatcher (in flutter)","body":"<p>we all know about <code>WillPopScope</code>...</p>\n<p>example:</p>\n<pre><code>    return WillPopScope(\n        onWillPop: () async =&gt; return false,\n        child: Scaffold(...));\n</code></pre>\n<p>That works fine in most cases but not in mine. I'm using Beamer in a complicated way and <code>MaterialApp.router</code> so even if I use <code>WillPopScope</code> the back button still has an effect (exiting the app no matter where I'm at).</p>\n<p>So I'd like to disable to back button at a deeper level. And the next level down looks like using the <code>backButtonDispatcher</code> in the <code>MaterialApp.router</code> like so:</p>\n<pre><code>\nclass DoNothingBackButtonDispatcher extends BackButtonDispatcher\n    with WidgetsBindingObserver {\n  DoNothingBackButtonDispatcher();\n\n  @override\n  void addCallback(ValueGetter&lt;Future&lt;bool&gt;&gt; callback) {}\n\n  @override\n  void removeCallback(ValueGetter&lt;Future&lt;bool&gt;&gt; callback) {}\n\n  @override\n  Future&lt;bool&gt; didPopRoute() =&gt; invokeCallback(Future&lt;bool&gt;.value(false));\n\n  @override\n  ChildBackButtonDispatcher createChildBackButtonDispatcher() =&gt; ChildBackButtonDispatcher(this);\n\n\n  @override\n  void deferTo(ChildBackButtonDispatcher child) {}\n\n  @override\n  void forget(ChildBackButtonDispatcher child) {}\n\n  @override\n  Future&lt;bool&gt; invokeCallback(Future&lt;bool&gt; defaultValue) =&gt;\n      SynchronousFuture&lt;bool&gt;(false);\n\n  bool onPop(BuildContext context, Route&lt;dynamic&gt; route) =&gt; false;\n\n  @override\n  void takePriority() {}\n}\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  MyApp({Key? key}) : super(key: key);\n\n  final rootBeamerDelegate = BeamerDelegate(\n    initialPath: Sailor.initialPath,\n    locationBuilder: RoutesLocationBuilder(\n      routes: {\n        '*': (context, state, data) =&gt; const HomePage(),\n      },\n    ),\n  );\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp.router(\n      debugShowCheckedModeBanner: false,\n      routerDelegate: rootBeamerDelegate,\n      routeInformationParser: BeamerParser(),\n      backButtonDispatcher: DoNothingBackButtonDispatcher(), // &lt;----- HERE\n    );\n  }\n}\n</code></pre>\n<p>Unfortunately, even this closes the app when the user hits the system back button.</p>\n<p>So, the question is:</p>\n<p><strong>How do I implement the abstract BackButtonDispatcher class in order to essentially ignore the button press?</strong></p>\n<p>Thanks so much for your help!</p>\n"},{"tags":["java","junit","continuous-integration","github-actions"],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676397677,"creation_date":1676379691,"answer_id":75448219,"question_id":75448037,"body_markdown":"You need to make sure that the database runs.\r\n\r\nYour program [expects a Posgres DB named `school_management` to be available under `localhost:5432`](https://github.com/serdarakyol/spring-boot-app/blob/develop/src/main/resources/application.properties#L1).\r\n\r\nHowever, such a database isn&#39;t available in your script.\r\n\r\nFor setting up the database, you could use the an existing action like [this one](https://github.com/marketplace/actions/setup-postgresql) :\r\n\r\n```yml\r\nsteps:\r\n- uses: harmon758/postgresql-action@v1\r\n  with:\r\n    postgresql version: &#39;11&#39;\r\n    postgresql db: school_management\r\n    postgresql user: learning\r\n    postgresql password: sa123456\r\n```\r\n\r\nAlternatively, you could use PosgreSQL service containers as described [here](https://docs.github.com/en/actions/using-containerized-services/creating-postgresql-service-containers):\r\n\r\n```yml\r\n    # Service containers to run with `container-job`\r\n    services:\r\n      # Label used to access the service container\r\n      postgres:\r\n        # Docker Hub image\r\n        image: postgres\r\n        # Provide the password for postgres\r\n        env:\r\n          POSTGRES_PASSWORD: sa123456\r\n          POSTGRES_USER: learning\r\n          POSTGRES_DB: school_management\r\n        # Set health checks to wait until postgres has started\r\n        options: &gt;-\r\n          --health-cmd pg_isready\r\n          --health-interval 10s\r\n          --health-timeout 5s\r\n          --health-retries 5\r\n```\r\nHowever this makes it run using a different hostname so you have to change your `spring.datasource.url` to `jdbc:postgresql://localhost:5432/school_management` or similar.\r\n\r\nIntegrated in your workflow, it could look like the following:\r\n```yml\r\nname: CI\r\n\r\non:\r\n  pull_request:\r\n  push:\r\n    branches: [develop, main]\r\n\r\nconcurrency:\r\n  group: ci-${{ github.ref }}-group\r\n  cancel-in-progress: true\r\n\r\njobs:\r\n  default:\r\n    runs-on: ubuntu-latest\r\n        # Service containers to run with `container-job`\r\n    services:\r\n      # Label used to access the service container\r\n      postgres:\r\n        # Docker Hub image\r\n        image: postgres\r\n        # Provide the password for postgres\r\n        env:\r\n          POSTGRES_PASSWORD: sa123456\r\n          POSTGRES_USER: learning\r\n          POSTGRES_DB: school_management\r\n        # Set health checks to wait until postgres has started\r\n        options: &gt;-\r\n          --health-cmd pg_isready\r\n          --health-interval 10s\r\n          --health-timeout 5s\r\n          --health-retries 5\r\n    steps:\r\n      - uses: actions/checkout@v3\r\n      - name: Set up JDK\r\n        uses: actions/setup-java@v3\r\n        with:\r\n          java-version: &#39;17&#39;\r\n          distribution: &#39;temurin&#39;\r\n      # override spring.datasource.url\r\n      - name: Setup config\r\n        run: |\r\n          mkdir config\r\n          echo &#39;spring.datasource.url=jdbc:postgresql://postgres:5432/school_management&#39; &gt; config/application.properties\r\n      - name: Build with Maven\r\n        run: mvn -B package --file pom.xml\r\n      - name: Update dependency graph\r\n        uses: advanced-security/maven-dependency-submission-action@571e99aab1055c2e71a1e2309b9691de18d6b7d6\r\n      - name: Build Jar file\r\n        run: ./project-dev build-jar\r\n      - name: Save Jar file\r\n        uses: actions/upload-artifact@v3\r\n        with:\r\n          name: demo-0.0.1-SNAPSHOT\r\n          path: target/demo-0.0.1-SNAPSHOT.jar \r\n          retention-days: 1\r\n```\r\n\r\nAnother possibility is to use an embedded database like H2 for tests.\r\n\r\nWith this, you don&#39;t have to setup any database.","title":"How to run Spring boot app&#39;s unit test on GitHub Action","body":"<p>You need to make sure that the database runs.</p>\n<p>Your program <a href=\"https://github.com/serdarakyol/spring-boot-app/blob/develop/src/main/resources/application.properties#L1\" rel=\"nofollow noreferrer\">expects a Posgres DB named <code>school_management</code> to be available under <code>localhost:5432</code></a>.</p>\n<p>However, such a database isn't available in your script.</p>\n<p>For setting up the database, you could use the an existing action like <a href=\"https://github.com/marketplace/actions/setup-postgresql\" rel=\"nofollow noreferrer\">this one</a> :</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>steps:\n- uses: harmon758/postgresql-action@v1\n  with:\n    postgresql version: '11'\n    postgresql db: school_management\n    postgresql user: learning\n    postgresql password: sa123456\n</code></pre>\n<p>Alternatively, you could use PosgreSQL service containers as described <a href=\"https://docs.github.com/en/actions/using-containerized-services/creating-postgresql-service-containers\" rel=\"nofollow noreferrer\">here</a>:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>    # Service containers to run with `container-job`\n    services:\n      # Label used to access the service container\n      postgres:\n        # Docker Hub image\n        image: postgres\n        # Provide the password for postgres\n        env:\n          POSTGRES_PASSWORD: sa123456\n          POSTGRES_USER: learning\n          POSTGRES_DB: school_management\n        # Set health checks to wait until postgres has started\n        options: &gt;-\n          --health-cmd pg_isready\n          --health-interval 10s\n          --health-timeout 5s\n          --health-retries 5\n</code></pre>\n<p>However this makes it run using a different hostname so you have to change your <code>spring.datasource.url</code> to <code>jdbc:postgresql://localhost:5432/school_management</code> or similar.</p>\n<p>Integrated in your workflow, it could look like the following:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>name: CI\n\non:\n  pull_request:\n  push:\n    branches: [develop, main]\n\nconcurrency:\n  group: ci-${{ github.ref }}-group\n  cancel-in-progress: true\n\njobs:\n  default:\n    runs-on: ubuntu-latest\n        # Service containers to run with `container-job`\n    services:\n      # Label used to access the service container\n      postgres:\n        # Docker Hub image\n        image: postgres\n        # Provide the password for postgres\n        env:\n          POSTGRES_PASSWORD: sa123456\n          POSTGRES_USER: learning\n          POSTGRES_DB: school_management\n        # Set health checks to wait until postgres has started\n        options: &gt;-\n          --health-cmd pg_isready\n          --health-interval 10s\n          --health-timeout 5s\n          --health-retries 5\n    steps:\n      - uses: actions/checkout@v3\n      - name: Set up JDK\n        uses: actions/setup-java@v3\n        with:\n          java-version: '17'\n          distribution: 'temurin'\n      # override spring.datasource.url\n      - name: Setup config\n        run: |\n          mkdir config\n          echo 'spring.datasource.url=jdbc:postgresql://postgres:5432/school_management' &gt; config/application.properties\n      - name: Build with Maven\n        run: mvn -B package --file pom.xml\n      - name: Update dependency graph\n        uses: advanced-security/maven-dependency-submission-action@571e99aab1055c2e71a1e2309b9691de18d6b7d6\n      - name: Build Jar file\n        run: ./project-dev build-jar\n      - name: Save Jar file\n        uses: actions/upload-artifact@v3\n        with:\n          name: demo-0.0.1-SNAPSHOT\n          path: target/demo-0.0.1-SNAPSHOT.jar \n          retention-days: 1\n</code></pre>\n<p>Another possibility is to use an embedded database like H2 for tests.</p>\n<p>With this, you don't have to setup any database.</p>\n"},{"tags":[],"owner":{"account_id":14182472,"reputation":198,"user_id":10245558,"display_name":"Roland"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676380632,"creation_date":1676380232,"answer_id":75448336,"question_id":75448037,"body_markdown":"Looking at your logs line 1351\r\n\r\n`org.postgresql.util.PSQLException: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.`\r\n\r\nYour tests are trying to connect to a local Postgres instance that is not available. Also looking at your tests you have both unit and integration tests. Whereas an integration test needs to load the application context meaning that your running application inside of the pipeline will not be able to connect to Postgres.  Hence, all of your integration tests will fail that utilize Postgres.\r\n\r\nHowever, your other tests are passing, line 2085:\r\n\r\n`2023-02-14 12:13:39.378  INFO 1740 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url=&#39;jdbc:h2:mem:d00124ab-b172-4fd1-bf29-b4836ae2f938;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false&#39;, username=&#39;sa&#39;`\r\n\r\nthese are working since your application is connecting correctly to the `h2` database that you have.\r\n\r\nthe `StudentRepositoryTest` are working since you have the following annotation in your class `@DataJpaTest` which will boot up this integration test and connect to the in-memory database.\r\n\r\nI think the test that is failing is the following `DemoApplicationTests`:\r\n\r\n```\r\n@SpringBootTest\r\nclass DemoApplicationTests {\r\n\r\n\t@Test\r\n\tvoid contextLoads() {\r\n\t}\r\n\r\n}\r\n```\r\n\r\nSince this test load the application context (the whole application) and will automatically try to connect with postgres.\r\n\r\nSo to fix the issue just delete the file. or a better solution which I would recommend (which is a bit more advanced) is to use something called `testcontainers` and actually run a postgres database inside of a container.\r\n\r\nThe reason why am suggesting the latter solution is normally once you want to run an integration test you try to have the exact solution that your application runs on production. Hence, an `h2` database might have edge cases that does not match postgres database\r\n","title":"How to run Spring boot app&#39;s unit test on GitHub Action","body":"<p>Looking at your logs line 1351</p>\n<p><code>org.postgresql.util.PSQLException: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.</code></p>\n<p>Your tests are trying to connect to a local Postgres instance that is not available. Also looking at your tests you have both unit and integration tests. Whereas an integration test needs to load the application context meaning that your running application inside of the pipeline will not be able to connect to Postgres.  Hence, all of your integration tests will fail that utilize Postgres.</p>\n<p>However, your other tests are passing, line 2085:</p>\n<p><code>2023-02-14 12:13:39.378  INFO 1740 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:d00124ab-b172-4fd1-bf29-b4836ae2f938;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'</code></p>\n<p>these are working since your application is connecting correctly to the <code>h2</code> database that you have.</p>\n<p>the <code>StudentRepositoryTest</code> are working since you have the following annotation in your class <code>@DataJpaTest</code> which will boot up this integration test and connect to the in-memory database.</p>\n<p>I think the test that is failing is the following <code>DemoApplicationTests</code>:</p>\n<pre><code>@SpringBootTest\nclass DemoApplicationTests {\n\n    @Test\n    void contextLoads() {\n    }\n\n}\n</code></pre>\n<p>Since this test load the application context (the whole application) and will automatically try to connect with postgres.</p>\n<p>So to fix the issue just delete the file. or a better solution which I would recommend (which is a bit more advanced) is to use something called <code>testcontainers</code> and actually run a postgres database inside of a container.</p>\n<p>The reason why am suggesting the latter solution is normally once you want to run an integration test you try to have the exact solution that your application runs on production. Hence, an <code>h2</code> database might have edge cases that does not match postgres database</p>\n"}],"owner":{"account_id":24356237,"reputation":349,"user_id":18291356,"display_name":"Serdar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1494,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75448219,"answer_count":2,"score":2,"last_activity_date":1676397677,"creation_date":1676378733,"question_id":75448037,"body_markdown":"I have an app that does CRUD basically. I am able to run my unit tests locally but on the CI(GitHub Action) it&#39;s failing. I am getting the error because of PostgreSQL. [Here](https://github.com/serdarakyol/spring-boot-app/actions/runs/4173654646/jobs/7226248073#step:4:1350) you can see the error. I couldn&#39;t be able to fix that. You can access the whole repository on this [LINK](https://github.com/serdarakyol/spring-boot-app). You can see my `ci.yaml` file below;\r\n\r\n    name: CI\r\n    \r\n    on:\r\n      pull_request:\r\n      push:\r\n        branches: [develop, main]\r\n    \r\n    concurrency:\r\n      group: ci-${{ github.ref }}-group\r\n      cancel-in-progress: true\r\n    \r\n    jobs:\r\n      default:\r\n        runs-on: ubuntu-latest\r\n        steps:\r\n          - uses: actions/checkout@v3\r\n          - name: Set up JDK\r\n            uses: actions/setup-java@v3\r\n            with:\r\n              java-version: &#39;17&#39;\r\n              distribution: &#39;temurin&#39;\r\n          - name: Build with Maven\r\n            run: mvn -B package --file pom.xml\r\n          - name: Update dependency graph\r\n            uses: advanced-security/maven-dependency-submission-action@571e99aab1055c2e71a1e2309b9691de18d6b7d6\r\n          - name: Build Jar file\r\n            run: ./project-dev build-jar\r\n          - name: Save Jar file\r\n            uses: actions/upload-artifact@v3\r\n            with:\r\n              name: demo-0.0.1-SNAPSHOT\r\n              path: target/demo-0.0.1-SNAPSHOT.jar\r\n              retention-days: 1\r\n\r\nCan someone help me to run my unit tests on the CI, please?","title":"How to run Spring boot app&#39;s unit test on GitHub Action","body":"<p>I have an app that does CRUD basically. I am able to run my unit tests locally but on the CI(GitHub Action) it's failing. I am getting the error because of PostgreSQL. <a href=\"https://github.com/serdarakyol/spring-boot-app/actions/runs/4173654646/jobs/7226248073#step:4:1350\" rel=\"nofollow noreferrer\">Here</a> you can see the error. I couldn't be able to fix that. You can access the whole repository on this <a href=\"https://github.com/serdarakyol/spring-boot-app\" rel=\"nofollow noreferrer\">LINK</a>. You can see my <code>ci.yaml</code> file below;</p>\n<pre><code>name: CI\n\non:\n  pull_request:\n  push:\n    branches: [develop, main]\n\nconcurrency:\n  group: ci-${{ github.ref }}-group\n  cancel-in-progress: true\n\njobs:\n  default:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n      - name: Set up JDK\n        uses: actions/setup-java@v3\n        with:\n          java-version: '17'\n          distribution: 'temurin'\n      - name: Build with Maven\n        run: mvn -B package --file pom.xml\n      - name: Update dependency graph\n        uses: advanced-security/maven-dependency-submission-action@571e99aab1055c2e71a1e2309b9691de18d6b7d6\n      - name: Build Jar file\n        run: ./project-dev build-jar\n      - name: Save Jar file\n        uses: actions/upload-artifact@v3\n        with:\n          name: demo-0.0.1-SNAPSHOT\n          path: target/demo-0.0.1-SNAPSHOT.jar\n          retention-days: 1\n</code></pre>\n<p>Can someone help me to run my unit tests on the CI, please?</p>\n"},{"tags":["java","assignment-operator","arithmetic-expressions"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1676397013,"post_id":75451483,"comment_id":133127438,"body_markdown":"Why would it not be? An assignment expression is still an expression with a well-defined result - see https://docs.oracle.com/javase/specs/jls/se10/html/jls-15.html#jls-15.26","body":"Why would it not be? An assignment expression is still an expression with a well-defined result - see <a href=\"https://docs.oracle.com/javase/specs/jls/se10/html/jls-15.html#jls-15.26\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se10/html/&hellip;</a>"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1676397082,"post_id":75451483,"comment_id":133127449,"body_markdown":"`b=a` assigns to `b` and evaluates to the new value of `b`.","body":"<code>b=a</code> assigns to <code>b</code> and evaluates to the new value of <code>b</code>."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1676397655,"post_id":75451483,"comment_id":133127576,"body_markdown":"_the result of `a = a+b-(b=a)` would be the original value of a_ - no, the result is `a + b - a` which is equal to the value `b` had before. The whole construct is similar to Python: `a, b = b, a`","body":"<i>the result of <code>a = a+b-(b=a)</code> would be the original value of a</i> - no, the result is <code>a + b - a</code> which is equal to the value <code>b</code> had before. The whole construct is similar to Python: <code>a, b = b, a</code>"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1676397683,"post_id":75451483,"comment_id":133127580,"body_markdown":"Right, it&#39;s just something allowed by the syntax.  It&#39;s useful for example when you both want to remember a result of a method call, and calculate with that result too.  `for( int c; (c = stream.read()) != -1; )` etc...","body":"Right, it&#39;s just something allowed by the syntax.  It&#39;s useful for example when you both want to remember a result of a method call, and calculate with that result too.  <code>for( int c; (c = stream.read()) != -1; )</code> etc..."},{"owner":{"account_id":252892,"reputation":2581,"user_id":531232,"accept_rate":67,"display_name":"chris"},"score":0,"creation_date":1676401452,"post_id":75451483,"comment_id":133128630,"body_markdown":"Short answer: Because James Gosling decided it so. Slightly longer answer: Given Java&#39;s heritage as &quot;C family&quot; language, i.e. with syntax similar to C, that decision was understandable. The concept of assignments being expressions with well-defined values was familiar to Java&#39;s original target group when it was introduced, i.e. C and C++ programmers, and James Gosling saw no reason to take that away. Guido van Rossum on the other hand had different priorities when designing Python, and familiarity for C/C++ programmers wasn&#39;t in his top tier. So there you have it, I guess.","body":"Short answer: Because James Gosling decided it so. Slightly longer answer: Given Java&#39;s heritage as &quot;C family&quot; language, i.e. with syntax similar to C, that decision was understandable. The concept of assignments being expressions with well-defined values was familiar to Java&#39;s original target group when it was introduced, i.e. C and C++ programmers, and James Gosling saw no reason to take that away. Guido van Rossum on the other hand had different priorities when designing Python, and familiarity for C/C++ programmers wasn&#39;t in his top tier. So there you have it, I guess."}],"owner":{"account_id":25993072,"reputation":11,"user_id":21060775,"display_name":"Aadivya"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676397596,"creation_date":1676396903,"question_id":75451483,"body_markdown":"Context: I&#39;m mainly a Javascript/Python developer and I&#39;m doing Java just for schoolwork.\r\n\r\nThis is the code block that perplexes me.\r\n\r\n```java\r\npublic static void display(int a, int b) {\r\n  a = a+b-(b=a);\r\n  System.out.println(a);\r\n  System.out.println(b);\r\n}\r\n```\r\n\r\nI encountered this code block in a practice exam I was doing. I expected this to be syntactically incorrect so I tried it with a compiler. No syntax errors appeared.\r\n\r\nI don&#39;t understand how this is valid syntax. I get that the assignment operator would assign `a` to `b` and the result of `a = a+b-(b=a)` would be the original value of `a`. How does the compiler register `b-(b=a)` as a valid piece of code?","title":"How is it valid syntax in Java to use an assignment operator in a larger arithmetic expression?","body":"<p>Context: I'm mainly a Javascript/Python developer and I'm doing Java just for schoolwork.</p>\n<p>This is the code block that perplexes me.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void display(int a, int b) {\n  a = a+b-(b=a);\n  System.out.println(a);\n  System.out.println(b);\n}\n</code></pre>\n<p>I encountered this code block in a practice exam I was doing. I expected this to be syntactically incorrect so I tried it with a compiler. No syntax errors appeared.</p>\n<p>I don't understand how this is valid syntax. I get that the assignment operator would assign <code>a</code> to <code>b</code> and the result of <code>a = a+b-(b=a)</code> would be the original value of <code>a</code>. How does the compiler register <code>b-(b=a)</code> as a valid piece of code?</p>\n"},{"tags":["java","docker","scala","docker-compose","mesos"],"comments":[{"owner":{"account_id":1175860,"reputation":13758,"user_id":1151929,"accept_rate":90,"display_name":"sarveshseri"},"score":0,"creation_date":1672759716,"post_id":74993882,"comment_id":132344237,"body_markdown":"`-Dlogback.configurationFile` is not a `JVM_OPTS`","body":"<code>-Dlogback.configurationFile</code> is not a <code>JVM_OPTS</code>"}],"answers":[{"tags":[],"owner":{"account_id":1477560,"reputation":6292,"user_id":1387612,"display_name":"janisz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676397559,"creation_date":1673378330,"answer_id":75074847,"question_id":74993882,"body_markdown":"Use `JAVA_OPTS` instead of `JVM_OPTS`\r\n\r\n---\r\n\r\n`/usr/bin/chronos` is a bash wrapper that runs Java and attached binary when no jar is provided. It setups all Java options and accepts configurations only with `JAVA_OPTS`. If noting provided then only `-Xmx512m` is set.","title":"How to set log level in chronos","body":"<p>Use <code>JAVA_OPTS</code> instead of <code>JVM_OPTS</code></p>\n<hr />\n<p><code>/usr/bin/chronos</code> is a bash wrapper that runs Java and attached binary when no jar is provided. It setups all Java options and accepts configurations only with <code>JAVA_OPTS</code>. If noting provided then only <code>-Xmx512m</code> is set.</p>\n"}],"owner":{"account_id":9771290,"reputation":748,"user_id":7243065,"display_name":"James Dube"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676397559,"creation_date":1672751763,"question_id":74993882,"body_markdown":"I&#39;m trying to change the `loglevel` in chronos from the default `INFO` to `TRACE`. I have gone through the docs and they seem to be outdated as per [this](https://github.com/mesos/chronos/issues/852) issue.\r\n\r\nI have done a local setup using docker but to no avail\r\n\r\ndocker-compose.yaml\r\n```\r\nversion: &#39;3&#39;\r\nservices:\r\n  zk1:\r\n    image: zookeeper\r\n    restart: always\r\n    ports:\r\n      - &quot;2181:2181&quot;\r\n    environment:\r\n      ZOO_MY_ID: 1\r\n      ZOO_SERVERS: server.1=zk1:2888:3888\r\n\r\n  chronos:\r\n    image: docker.io/mesosphere/chronos:chronos-2.5.1-0.1.20171211074431.ubuntu1404-mesos-1.3.1\r\n    command: /usr/bin/chronos run_jar --http_port 4400 --master zk://zk1:2181/mesos --zk_hosts zk://zk1:2181/mesos\r\n    ports:\r\n      - &quot;4400:4400&quot;\r\n    environment:\r\n      &quot;JVM_OPTS&quot;: &quot;-Dlogback.configurationFile=/tmp/logback.xml&quot;\r\n    volumes:\r\n      - ./logback.xml:/tmp/logback.xml\r\n    depends_on:\r\n      - zk1\r\n\r\n```\r\n\r\nlockback.xml\r\n\r\n```\r\n&lt;configuration&gt;\r\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;Custom - %d{HH:mm:ss.SSS} %-5level %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;trace&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```\r\n","title":"How to set log level in chronos","body":"<p>I'm trying to change the <code>loglevel</code> in chronos from the default <code>INFO</code> to <code>TRACE</code>. I have gone through the docs and they seem to be outdated as per <a href=\"https://github.com/mesos/chronos/issues/852\" rel=\"nofollow noreferrer\">this</a> issue.</p>\n<p>I have done a local setup using docker but to no avail</p>\n<p>docker-compose.yaml</p>\n<pre><code>version: '3'\nservices:\n  zk1:\n    image: zookeeper\n    restart: always\n    ports:\n      - &quot;2181:2181&quot;\n    environment:\n      ZOO_MY_ID: 1\n      ZOO_SERVERS: server.1=zk1:2888:3888\n\n  chronos:\n    image: docker.io/mesosphere/chronos:chronos-2.5.1-0.1.20171211074431.ubuntu1404-mesos-1.3.1\n    command: /usr/bin/chronos run_jar --http_port 4400 --master zk://zk1:2181/mesos --zk_hosts zk://zk1:2181/mesos\n    ports:\n      - &quot;4400:4400&quot;\n    environment:\n      &quot;JVM_OPTS&quot;: &quot;-Dlogback.configurationFile=/tmp/logback.xml&quot;\n    volumes:\n      - ./logback.xml:/tmp/logback.xml\n    depends_on:\n      - zk1\n\n</code></pre>\n<p>lockback.xml</p>\n<pre><code>&lt;configuration&gt;\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;Custom - %d{HH:mm:ss.SSS} %-5level %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;trace&quot;&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1676302602,"post_id":75437862,"comment_id":133105101,"body_markdown":"I&#39;m not sure I understand.\nWhat exactly in this code doesn&#39;t work the way you expect?","body":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect?"},{"owner":{"account_id":27708065,"reputation":5,"user_id":21151295,"display_name":"sean "},"score":0,"creation_date":1676303376,"post_id":75437862,"comment_id":133105363,"body_markdown":"the code works fine, it reads and count the child with the &quot;ticket_status&quot; value of &quot;not served&quot;. in the screenshot i provided there are 8 childs. 2 of this child have a value of &quot;served&quot; in thier &quot;ticket_status&quot;.the code will display as 6 becuase it counts all child with &quot;not served&quot; as value.\n\nwhat i want is i want to read only up until a specified child key. for example i want to read and count where value of &quot;ticket_status&quot; is &quot;not served&quot; up until &quot;A5&quot;.(refer to screenshot). A1 and A2 is &quot;served&quot; but &quot;A3&quot;,&quot;A4&quot;,&quot;A5&quot; is &quot;not served&quot;. i expect an output of 2.2 becuase &quot;A5&quot; is the last node","body":"the code works fine, it reads and count the child with the &quot;ticket_status&quot; value of &quot;not served&quot;. in the screenshot i provided there are 8 childs. 2 of this child have a value of &quot;served&quot; in thier &quot;ticket_status&quot;.the code will display as 6 becuase it counts all child with &quot;not served&quot; as value.  what i want is i want to read only up until a specified child key. for example i want to read and count where value of &quot;ticket_status&quot; is &quot;not served&quot; up until &quot;A5&quot;.(refer to screenshot). A1 and A2 is &quot;served&quot; but &quot;A3&quot;,&quot;A4&quot;,&quot;A5&quot; is &quot;not served&quot;. i expect an output of 2.2 becuase &quot;A5&quot; is the last node"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676365006,"creation_date":1676365006,"answer_id":75445400,"question_id":75437862,"body_markdown":"&gt; I want to count until `A6`, I will count `A1` until `A5` where the value of `ticket_status&quot;` is `not served`. So the final count will be 3.\r\n\r\nThere is no way you can do that in the Realtime Database because queries can only order/filter on a single property. There are cases in which you can combine the values you want to filter into a single property. For example, please check my answer below:\r\n\r\n* https://stackoverflow.com/questions/48340925/how-to-sort-firebase-records-by-two-fields-android/48343592#48343592\r\n\r\nIf you&#39;re allowed to change the database schema, then you should consider denormalizing the data. So a structure like below will do the trick:\r\n\r\n    db\r\n    |\r\n    --- Queue\r\n         |\r\n         --- Accounting Office\r\n               |\r\n               --- served\r\n               |    |\r\n               |    --- A1\r\n               |    |   |\r\n               |    |   --- serving_token: &quot;A001&quot;\r\n               |    |   |\r\n               |    |   --- ticket_status: &quot;served&quot;\r\n               |    |\r\n               |    --- A2\r\n               |        |\r\n               |        --- serving_token: &quot;A002&quot;\r\n               |        |\r\n               |        --- ticket_status: &quot;served&quot;\r\n               |\r\n               --- not served\r\n                    |\r\n                    --- A3\r\n                    |   |\r\n                    |   --- serving_token: &quot;A003&quot;\r\n                    |   |\r\n                    |   --- ticket_status: &quot;not served&quot;\r\n                    |\r\n                    --- A4\r\n                    |   |\r\n                    |   --- serving_token: &quot;A004&quot;\r\n                    |   |\r\n                    |   --- ticket_status: &quot;not served&quot;\r\n                    |\r\n                    --- A5\r\n                    |   |\r\n                    |   --- serving_token: &quot;A005&quot;\r\n                    |   |\r\n                    |   --- ticket_status: &quot;not served&quot;\r\n                    |\r\n                    --- A6\r\n                        |\r\n                        --- serving_token: &quot;A006&quot;\r\n                        |\r\n                        --- ticket_status: &quot;not served&quot;\r\n\r\nNow you can query the &quot;not served&quot; node, using a combination of [Query#orderByKey()][1] and [Query#endAt(java.lang.String)][2]\r\n\r\n    db.child(&quot;Queue&quot;).child(&quot;Accounting Office&quot;).child(&quot;not served&quot;).orderByKey().endAt(&quot;A6&quot;);\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#orderByKey()\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#endAt(java.lang.String)","title":"firebase how to read values until specified length","body":"<blockquote>\n<p>I want to count until <code>A6</code>, I will count <code>A1</code> until <code>A5</code> where the value of <code>ticket_status&quot;</code> is <code>not served</code>. So the final count will be 3.</p>\n</blockquote>\n<p>There is no way you can do that in the Realtime Database because queries can only order/filter on a single property. There are cases in which you can combine the values you want to filter into a single property. For example, please check my answer below:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/48340925/how-to-sort-firebase-records-by-two-fields-android/48343592#48343592\">How to sort Firebase records by two fields (Android)</a></li>\n</ul>\n<p>If you're allowed to change the database schema, then you should consider denormalizing the data. So a structure like below will do the trick:</p>\n<pre><code>db\n|\n--- Queue\n     |\n     --- Accounting Office\n           |\n           --- served\n           |    |\n           |    --- A1\n           |    |   |\n           |    |   --- serving_token: &quot;A001&quot;\n           |    |   |\n           |    |   --- ticket_status: &quot;served&quot;\n           |    |\n           |    --- A2\n           |        |\n           |        --- serving_token: &quot;A002&quot;\n           |        |\n           |        --- ticket_status: &quot;served&quot;\n           |\n           --- not served\n                |\n                --- A3\n                |   |\n                |   --- serving_token: &quot;A003&quot;\n                |   |\n                |   --- ticket_status: &quot;not served&quot;\n                |\n                --- A4\n                |   |\n                |   --- serving_token: &quot;A004&quot;\n                |   |\n                |   --- ticket_status: &quot;not served&quot;\n                |\n                --- A5\n                |   |\n                |   --- serving_token: &quot;A005&quot;\n                |   |\n                |   --- ticket_status: &quot;not served&quot;\n                |\n                --- A6\n                    |\n                    --- serving_token: &quot;A006&quot;\n                    |\n                    --- ticket_status: &quot;not served&quot;\n</code></pre>\n<p>Now you can query the &quot;not served&quot; node, using a combination of <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#orderByKey()\" rel=\"nofollow noreferrer\">Query#orderByKey()</a> and <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#endAt(java.lang.String)\" rel=\"nofollow noreferrer\">Query#endAt(java.lang.String)</a></p>\n<pre><code>db.child(&quot;Queue&quot;).child(&quot;Accounting Office&quot;).child(&quot;not served&quot;).orderByKey().endAt(&quot;A6&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18895937,"reputation":54,"user_id":13785124,"display_name":"Djoxy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676397075,"creation_date":1676368110,"answer_id":75446044,"question_id":75437862,"body_markdown":"You can try this approach without query:\r\n\r\n    ArrayList servedArray ;\r\n    ArrayList notServedArray ;\r\n\r\n- get a data snapshot \r\n- loop through snapshot\r\n- if value == &quot;served&quot; &gt;&gt; add to servedArray\r\n- else if value equal == &quot;not served&quot; add to notServedArray\r\n\r\nAnd for count you can use :\r\n\r\n    servedArray.size\r\n    notServedArray.size\r\n\r\n","title":"firebase how to read values until specified length","body":"<p>You can try this approach without query:</p>\n<pre><code>ArrayList servedArray ;\nArrayList notServedArray ;\n</code></pre>\n<ul>\n<li>get a data snapshot</li>\n<li>loop through snapshot</li>\n<li>if value == &quot;served&quot; &gt;&gt; add to servedArray</li>\n<li>else if value equal == &quot;not served&quot; add to notServedArray</li>\n</ul>\n<p>And for count you can use :</p>\n<pre><code>servedArray.size\nnotServedArray.size\n</code></pre>\n"}],"owner":{"account_id":27708065,"reputation":5,"user_id":21151295,"display_name":"sean "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75445400,"answer_count":2,"score":0,"last_activity_date":1676397075,"creation_date":1676301769,"question_id":75437862,"body_markdown":"I want to get the total number count until specified.\r\n\r\nthis is my database: [database picture][1]\r\n\r\nI want to count where `ticket_status` is `not served`\r\n\r\nex: I want to count until `A6`, I will count `A1` until `A5` where the value of `ticket_status&quot;` is `not served`. so the final count will be 3.\r\n\r\n\r\nis there any filtering kind?\r\n\r\nI have this code but it just counts all nodes with the value of &quot;not served&quot;\r\n\r\n```\r\ndbref.child(&quot;Queue&quot;).child(a.value.toString()).orderByChild(&quot;ticket_status&quot;).equalTo(&quot;not served&quot;).addValueEventListener(object : ValueEventListener{\r\n                                override fun onDataChange(snap: DataSnapshot) {\r\n                                        val count = snap.childrenCount\r\n                              dbref.child(&quot;Student_Queue_Reserve&quot;).child(idNumber.toString()).child(&quot;people_ahead&quot;).setValue((count-1).toString())\r\n                                }\r\n                                override fun onCancelled(error: DatabaseError) {\r\n                                }\r\n                            })\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9SyHO.png","title":"firebase how to read values until specified length","body":"<p>I want to get the total number count until specified.</p>\n<p>this is my database: <a href=\"https://i.stack.imgur.com/9SyHO.png\" rel=\"nofollow noreferrer\">database picture</a></p>\n<p>I want to count where <code>ticket_status</code> is <code>not served</code></p>\n<p>ex: I want to count until <code>A6</code>, I will count <code>A1</code> until <code>A5</code> where the value of <code>ticket_status&quot;</code> is <code>not served</code>. so the final count will be 3.</p>\n<p>is there any filtering kind?</p>\n<p>I have this code but it just counts all nodes with the value of &quot;not served&quot;</p>\n<pre><code>dbref.child(&quot;Queue&quot;).child(a.value.toString()).orderByChild(&quot;ticket_status&quot;).equalTo(&quot;not served&quot;).addValueEventListener(object : ValueEventListener{\n                                override fun onDataChange(snap: DataSnapshot) {\n                                        val count = snap.childrenCount\n                              dbref.child(&quot;Student_Queue_Reserve&quot;).child(idNumber.toString()).child(&quot;people_ahead&quot;).setValue((count-1).toString())\n                                }\n                                override fun onCancelled(error: DatabaseError) {\n                                }\n                            })\n</code></pre>\n"},{"tags":["java","kotlin","speech-recognition","locale","speech-to-text"],"owner":{"account_id":6014099,"reputation":411,"user_id":4723568,"display_name":"Subham Naik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676397035,"creation_date":1676397035,"question_id":75451502,"body_markdown":"I have change my Phone Locale to Arabic with the below code  and restart the app.\r\n\r\n\r\n        Locale locale = new Locale(language);\r\n        Locale.setDefault(locale);\r\n        Resources resources = context.getResources();\r\n        Configuration configuration = resources.getConfiguration();\r\n        configuration.locale = locale;\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN_MR1) {\r\n            configuration.setLayoutDirection(locale);\r\n        }\r\n        resources.updateConfiguration(configuration, resources.getDisplayMetrics());\r\n    \r\nNow i am setting my Speech to text Intent to English \r\n\r\n        Intent intent= new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\r\n               intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL,\r\n                               RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\r\n               intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE,\r\n                               &quot;en-US&quot;);\r\n\r\nIssue :\r\nIt is taking Speech in Arabic, if i give speech in English then No Match Error it is showing ,so is there a way where i can give English command but my app local should be in Arabic.  \r\n\r\n","title":"RecognitionListener - App locale is in Arabic and it is not taking English Speech","body":"<p>I have change my Phone Locale to Arabic with the below code  and restart the app.</p>\n<pre><code>    Locale locale = new Locale(language);\n    Locale.setDefault(locale);\n    Resources resources = context.getResources();\n    Configuration configuration = resources.getConfiguration();\n    configuration.locale = locale;\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN_MR1) {\n        configuration.setLayoutDirection(locale);\n    }\n    resources.updateConfiguration(configuration, resources.getDisplayMetrics());\n</code></pre>\n<p>Now i am setting my Speech to text Intent to English</p>\n<pre><code>    Intent intent= new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\n           intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL,\n                           RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\n           intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE,\n                           &quot;en-US&quot;);\n</code></pre>\n<p>Issue :\nIt is taking Speech in Arabic, if i give speech in English then No Match Error it is showing ,so is there a way where i can give English command but my app local should be in Arabic.</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1676396546,"creation_date":1676389725,"answer_id":75450203,"question_id":75448681,"body_markdown":"You only need one yaml file for one application. \r\n\r\nThe error is because you&#39;re not setting `spring.kafka.bootstrap-servers=kafka:9092`, only the `producer` and `consumer` client, individually, therefore, has nothing to do with what&#39;s advertised by the broker, but rather spring-kafka default values.\r\n\r\nYou can add `spring.kafka.admin` section, but better not to duplicate unnecessary config\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.kafka\r\n\r\nHowever, you **will need** to advertise localhost:9092 if you&#39;re trying to run this code on your host machine, otherwise, you&#39;ll end up with `UnknownHostException: kafka`","title":"Kafka AdminClientConfig ignoring provided configuration","body":"<p>You only need one yaml file for one application.</p>\n<p>The error is because you're not setting <code>spring.kafka.bootstrap-servers=kafka:9092</code>, only the <code>producer</code> and <code>consumer</code> client, individually, therefore, has nothing to do with what's advertised by the broker, but rather spring-kafka default values.</p>\n<p>You can add <code>spring.kafka.admin</code> section, but better not to duplicate unnecessary config</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.kafka\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.kafka</a></p>\n<p>However, you <strong>will need</strong> to advertise localhost:9092 if you're trying to run this code on your host machine, otherwise, you'll end up with <code>UnknownHostException: kafka</code></p>\n"}],"owner":{"account_id":17272948,"reputation":65,"user_id":12508248,"display_name":"Specialized"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":857,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75450203,"answer_count":1,"score":2,"last_activity_date":1676396546,"creation_date":1676382034,"question_id":75448681,"body_markdown":"I have a microservice-based Java (Spring Boot) application where I&#39;m integrating Kafka for event-driven internal service communication. Services are running inside a docker-compose all under the same bridged network. I&#39;ve added cp-kafka into that docker-compose again under the same network.\r\n\r\nMy problem is that once I start the docker-compose neither the producer nor consumer would connect to the broker. What happens is the AdminClientConfig uses `localhost:9092` rather than the `kafka:9092` I&#39;ve defined as advertised listener in the Broker configuration. \r\n\r\nThis is the output I get at the producer:\r\n```\r\n2023-02-14 13:09:17.563  INFO [article-service,,] 1 --- [           main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: \r\n2023-02-14T13:09:17.563482000Z \tbootstrap.servers = [localhost:9092]\r\n2023-02-14T13:09:17.563518700Z \tclient.dns.lookup = use_all_dns_ips\r\n2023-02-14T13:09:17.563524100Z \tclient.id = \r\n2023-02-14T13:09:17.563528200Z \tconnections.max.idle.ms = 300000\r\n...\r\n```\r\n\r\nThe consumer would briefly connect using the ConsumerConfig I&#39;ve provided:\r\n```\r\n2023-02-14 13:10:13.358  INFO 1 --- [           main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: \r\n        allow.auto.create.topics = true\r\n        auto.commit.interval.ms = 5000\r\n        auto.offset.reset = earliest\r\n        bootstrap.servers = [kafka:9092]\r\n        check.crcs = true\r\n        client.dns.lookup = use_all_dns_ips\r\n        client.id = consumer-saveArticle-1\r\n        client.rack = \r\n        connections.max.idle.ms = 540000\r\n...\r\n```\r\n\r\n**However,** right after that it&#39;d retry, this time using the AdminClientConfig instead\r\n```\r\n2023-02-14 13:10:42.365  INFO 1 --- [   scheduling-1] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: \r\n        bootstrap.servers = [localhost:9092]\r\n        client.dns.lookup = use_all_dns_ips\r\n        client.id = \r\n        connections.max.idle.ms = 300000\r\n```\r\n**Relevant parts of docker-compose.yml**\r\n```\r\n...\r\nnetworks:\r\n  backend:\r\n    name: backend\r\n    driver: bridge\r\n\r\nservices:\r\n  zookeeper:\r\n    image: confluentinc/cp-zookeeper:7.3.0\r\n    container_name: dev.infra.zookeeper\r\n    networks:\r\n      - backend\r\n    environment:\r\n      ZOOKEEPER_CLIENT_PORT: 2181\r\n      ZOOKEEPER_TICK_TIME: 2000\r\n\r\n  kafka:\r\n    image: confluentinc/cp-kafka:7.3.0\r\n    container_name: kafka\r\n    networks:\r\n      - backend\r\n    ports:\r\n      - &quot;9092:9092&quot;\r\n    depends_on:\r\n      - zookeeper\r\n    environment:\r\n      KAFKA_BROKER_ID: 1\r\n      KAFKA_ZOOKEEPER_CONNECT: &#39;zookeeper:2181&#39;\r\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT\r\n      KAFKA_LISTENERS: PLAINTEXT://:9092\r\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka:9092\r\n      KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\r\n      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\r\n      AUTO_CREATE_TOPICS_ENABLE: &#39;false&#39;\r\n...\r\n```\r\n\r\n**Producer application.yml**\r\n```\r\nspring:\r\n  kafka:\r\n    producer:\r\n      bootstrap-servers: kafka:9092\r\n      value-serializer: org.apache.kafka.common.serialization.StringSerializer\r\n      key-serializer: org.apache.kafka.common.serialization.StringSerializer\r\n    topic:\r\n      name: saveArticle\r\n```\r\n\r\n**Consumer application.yml**\r\n```\r\nspring:\r\n  kafka:\r\n    consumer:\r\n      bootstrap-servers: kafka:9092\r\n      auto-offset-reset: earliest\r\n      group-id: stock\r\n      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\r\n      value-deserializer: org.apache.kafka.common.serialization.StringDeserializer\r\n    topic:\r\n      name: saveArticle\r\n```\r\n\r\nKafka dependencies I&#39;m using:\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-stream-binder-kafka&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nAny clue into where it&#39;s getting the `localhost:9092` from and why is it ignoring the explicitly specified `kafka:9092` host I&#39;ve provided in the broker config? How can I resolve my problem?","title":"Kafka AdminClientConfig ignoring provided configuration","body":"<p>I have a microservice-based Java (Spring Boot) application where I'm integrating Kafka for event-driven internal service communication. Services are running inside a docker-compose all under the same bridged network. I've added cp-kafka into that docker-compose again under the same network.</p>\n<p>My problem is that once I start the docker-compose neither the producer nor consumer would connect to the broker. What happens is the AdminClientConfig uses <code>localhost:9092</code> rather than the <code>kafka:9092</code> I've defined as advertised listener in the Broker configuration.</p>\n<p>This is the output I get at the producer:</p>\n<pre><code>2023-02-14 13:09:17.563  INFO [article-service,,] 1 --- [           main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: \n2023-02-14T13:09:17.563482000Z  bootstrap.servers = [localhost:9092]\n2023-02-14T13:09:17.563518700Z  client.dns.lookup = use_all_dns_ips\n2023-02-14T13:09:17.563524100Z  client.id = \n2023-02-14T13:09:17.563528200Z  connections.max.idle.ms = 300000\n...\n</code></pre>\n<p>The consumer would briefly connect using the ConsumerConfig I've provided:</p>\n<pre><code>2023-02-14 13:10:13.358  INFO 1 --- [           main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: \n        allow.auto.create.topics = true\n        auto.commit.interval.ms = 5000\n        auto.offset.reset = earliest\n        bootstrap.servers = [kafka:9092]\n        check.crcs = true\n        client.dns.lookup = use_all_dns_ips\n        client.id = consumer-saveArticle-1\n        client.rack = \n        connections.max.idle.ms = 540000\n...\n</code></pre>\n<p><strong>However,</strong> right after that it'd retry, this time using the AdminClientConfig instead</p>\n<pre><code>2023-02-14 13:10:42.365  INFO 1 --- [   scheduling-1] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: \n        bootstrap.servers = [localhost:9092]\n        client.dns.lookup = use_all_dns_ips\n        client.id = \n        connections.max.idle.ms = 300000\n</code></pre>\n<p><strong>Relevant parts of docker-compose.yml</strong></p>\n<pre><code>...\nnetworks:\n  backend:\n    name: backend\n    driver: bridge\n\nservices:\n  zookeeper:\n    image: confluentinc/cp-zookeeper:7.3.0\n    container_name: dev.infra.zookeeper\n    networks:\n      - backend\n    environment:\n      ZOOKEEPER_CLIENT_PORT: 2181\n      ZOOKEEPER_TICK_TIME: 2000\n\n  kafka:\n    image: confluentinc/cp-kafka:7.3.0\n    container_name: kafka\n    networks:\n      - backend\n    ports:\n      - &quot;9092:9092&quot;\n    depends_on:\n      - zookeeper\n    environment:\n      KAFKA_BROKER_ID: 1\n      KAFKA_ZOOKEEPER_CONNECT: 'zookeeper:2181'\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT\n      KAFKA_LISTENERS: PLAINTEXT://:9092\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka:9092\n      KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\n      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\n      AUTO_CREATE_TOPICS_ENABLE: 'false'\n...\n</code></pre>\n<p><strong>Producer application.yml</strong></p>\n<pre><code>spring:\n  kafka:\n    producer:\n      bootstrap-servers: kafka:9092\n      value-serializer: org.apache.kafka.common.serialization.StringSerializer\n      key-serializer: org.apache.kafka.common.serialization.StringSerializer\n    topic:\n      name: saveArticle\n</code></pre>\n<p><strong>Consumer application.yml</strong></p>\n<pre><code>spring:\n  kafka:\n    consumer:\n      bootstrap-servers: kafka:9092\n      auto-offset-reset: earliest\n      group-id: stock\n      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\n      value-deserializer: org.apache.kafka.common.serialization.StringDeserializer\n    topic:\n      name: saveArticle\n</code></pre>\n<p>Kafka dependencies I'm using:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-stream-binder-kafka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Any clue into where it's getting the <code>localhost:9092</code> from and why is it ignoring the explicitly specified <code>kafka:9092</code> host I've provided in the broker config? How can I resolve my problem?</p>\n"},{"tags":["java","spring","spring-boot","rest"],"owner":{"account_id":13740809,"reputation":29,"user_id":9915969,"display_name":"Clayn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676396396,"creation_date":1676385812,"question_id":75449443,"body_markdown":"I try to pass `MultipartFile` to `RestTemplate`. But i get an error:\r\n```\r\n2023-02-14 19:22:16.267  WARN 49600 --- [nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write request: no suitable HttpMessageConverter found for request type [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile]]\r\n```\r\nI&#39;ve tried to apply `FormHttpMessageConverter` converter to `RestTemplate`, but it did nothing.\r\nHere is my endpoint:\r\n```\r\n    @PostMapping(value = &quot;/send&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n    public void send(@RequestPart(name = &quot;media&quot;) MultipartFile media) {\r\n        TwitterTemplate twitterTemplate = new TwitterTemplate();\r\n        twitterTemplate.uploadMedia(media);\r\n    }\r\n```\r\nAnd my service method:\r\n```\r\n    public void uploadMedia(MultipartFile media) {\r\n        RestTemplate restTemplate = new RestTemplate();\r\n        MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\r\n        body.add(&quot;media&quot;, media);\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n        HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\r\n        List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;&gt;();\r\n        messageConverters.add(new FormHttpMessageConverter());\r\n        restTemplate.setMessageConverters(messageConverters);\r\n        UploadMediaResponse u = restTemplate.postForObject(API + &quot;/upload&quot;, requestEntity, UploadMediaResponse.class);\r\n    }\r\n```\r\nI can&#39;t figure out why does this issue appear.","title":"Could not write request: no suitable HttpMessageConverter found for request type MultipartFile","body":"<p>I try to pass <code>MultipartFile</code> to <code>RestTemplate</code>. But i get an error:</p>\n<pre><code>2023-02-14 19:22:16.267  WARN 49600 --- [nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write request: no suitable HttpMessageConverter found for request type [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile]]\n</code></pre>\n<p>I've tried to apply <code>FormHttpMessageConverter</code> converter to <code>RestTemplate</code>, but it did nothing.\nHere is my endpoint:</p>\n<pre><code>    @PostMapping(value = &quot;/send&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\n    public void send(@RequestPart(name = &quot;media&quot;) MultipartFile media) {\n        TwitterTemplate twitterTemplate = new TwitterTemplate();\n        twitterTemplate.uploadMedia(media);\n    }\n</code></pre>\n<p>And my service method:</p>\n<pre><code>    public void uploadMedia(MultipartFile media) {\n        RestTemplate restTemplate = new RestTemplate();\n        MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\n        body.add(&quot;media&quot;, media);\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.MULTIPART_FORM_DATA);\n        HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\n        List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;&gt;();\n        messageConverters.add(new FormHttpMessageConverter());\n        restTemplate.setMessageConverters(messageConverters);\n        UploadMediaResponse u = restTemplate.postForObject(API + &quot;/upload&quot;, requestEntity, UploadMediaResponse.class);\n    }\n</code></pre>\n<p>I can't figure out why does this issue appear.</p>\n"},{"tags":["java","spring-security"],"answers":[{"tags":[],"owner":{"account_id":1227394,"reputation":3921,"user_id":1192702,"accept_rate":75,"display_name":"alaster"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1586009343,"creation_date":1586009343,"answer_id":61029341,"question_id":61029340,"body_markdown":"After wasting a lot of time I figured out what&#39;s happening.\r\n\r\nSo spring can&#39;t find one of static resources that is used on login page. But instead of returning status `404` for this resource it tries to render error page and forwards request to `/error`. Then spring security denies this request because user is not authorized. It saves `/error` request to session (for redirecting after successful login) and redirects user to login page.\r\n\r\nOf course user can&#39;t see this redirect because status `302` returns for request that is done in background. But the main issue is `/error` request saved in session.\r\n\r\nThen user logins successfully and spring checks session for this attribute and makes redirect to `/error` page. By default [spring assumes that you have such page somewhere in static resources][1]. If you doesn&#39;t have this page you will see this weird error with status code 999.\r\n\r\n## Solution 1\r\nIgnore `/error` page in security config:\r\n\r\n    web.ignoring().antMatchers(&quot;/favicon.ico&quot;, &quot;/resources/**&quot;, &quot;/error&quot;);\r\n\r\nSo this request will not be saved to session for user redirection after successful login. You will see that on login page status code of request to static resource will change from `302` to `404`.\r\n\r\n## Solution 2\r\nIgnore part of spring boot autoconfig:\r\n\r\n    spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration\r\n\r\nThis gives same result but disables some beans from config `ErrorMvcAutoConfiguration` so be careful.\r\n  [1]: https://docs.spring.io/spring-boot/docs/1.4.3.RELEASE/reference/html/boot-features-developing-web-applications.html#boot-features-error-handling-custom-error-pages","title":"Spring security redirects to page with status code 999","body":"<p>After wasting a lot of time I figured out what's happening.</p>\n\n<p>So spring can't find one of static resources that is used on login page. But instead of returning status <code>404</code> for this resource it tries to render error page and forwards request to <code>/error</code>. Then spring security denies this request because user is not authorized. It saves <code>/error</code> request to session (for redirecting after successful login) and redirects user to login page.</p>\n\n<p>Of course user can't see this redirect because status <code>302</code> returns for request that is done in background. But the main issue is <code>/error</code> request saved in session.</p>\n\n<p>Then user logins successfully and spring checks session for this attribute and makes redirect to <code>/error</code> page. By default <a href=\"https://docs.spring.io/spring-boot/docs/1.4.3.RELEASE/reference/html/boot-features-developing-web-applications.html#boot-features-error-handling-custom-error-pages\" rel=\"noreferrer\">spring assumes that you have such page somewhere in static resources</a>. If you doesn't have this page you will see this weird error with status code 999.</p>\n\n<h2>Solution 1</h2>\n\n<p>Ignore <code>/error</code> page in security config:</p>\n\n<pre><code>web.ignoring().antMatchers(\"/favicon.ico\", \"/resources/**\", \"/error\");\n</code></pre>\n\n<p>So this request will not be saved to session for user redirection after successful login. You will see that on login page status code of request to static resource will change from <code>302</code> to <code>404</code>.</p>\n\n<h2>Solution 2</h2>\n\n<p>Ignore part of spring boot autoconfig:</p>\n\n<pre><code>spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration\n</code></pre>\n\n<p>This gives same result but disables some beans from config <code>ErrorMvcAutoConfiguration</code> so be careful.</p>\n"},{"tags":[],"owner":{"account_id":14986671,"reputation":1,"user_id":21183355,"display_name":"Rares"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676396349,"creation_date":1676396349,"answer_id":75451409,"question_id":61029340,"body_markdown":"I had the same problem. I tried commenting every stylesheet link to see which one was causing the error. It was my custom css file. The problem was that in my css file I had an url for an image that didn&#39;t exist and also another @import statement that was wrong. After commenting these, everything worked fine.  ","title":"Spring security redirects to page with status code 999","body":"<p>I had the same problem. I tried commenting every stylesheet link to see which one was causing the error. It was my custom css file. The problem was that in my css file I had an url for an image that didn't exist and also another @import statement that was wrong. After commenting these, everything worked fine.</p>\n"}],"owner":{"account_id":1227394,"reputation":3921,"user_id":1192702,"accept_rate":75,"display_name":"alaster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10650,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":61029341,"answer_count":2,"score":6,"last_activity_date":1676396349,"creation_date":1586009343,"question_id":61029340,"body_markdown":"After successful login spring redirects to `/error` page with the following content\r\n\r\n    {\r\n      &quot;timestamp&quot; : 1586002411175,\r\n      &quot;status&quot; : 999,\r\n      &quot;error&quot; : &quot;None&quot;,\r\n      &quot;message&quot; : &quot;No message available&quot;\r\n    }\r\n\r\nI&#39;m using `spring-boot 2.2.4`\r\n\r\n## My config:\r\n\r\n    spring.mvc.view.prefix=/WEB-INF/views/\r\n    spring.mvc.view.suffix=.jsp\r\n    spring.mvc.servlet.load-on-startup=1\r\n    spring.mvc.throw-exception-if-no-handler-found=true\r\n    spring.resources.add-mappings=false\r\n\r\n---\r\n    @Configuration\r\n    public class DispatcherContextConfig implements WebMvcConfigurer {\r\n    \t\r\n    \t@Override\r\n    \tpublic void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n    \t\tregistry.addResourceHandler(&quot;/resources/**&quot;).addResourceLocations(&quot;/resources/&quot;);\r\n    \t}\r\n    }\r\n\r\n---\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class AppSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \t\r\n    \t@Override\r\n    \tpublic void configure(WebSecurity web) {\r\n    \t\tweb.ignoring().antMatchers(&quot;/favicon.ico&quot;, &quot;/resources/**&quot;);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\thttp.csrf().disable()\r\n    \t\t\t\t.authorizeRequests()\r\n    \t\t\t\t.antMatchers(&quot;/api/**&quot;).permitAll()\r\n    \t\t\t\t.antMatchers(&quot;/registration/**&quot;).anonymous()\r\n    \t\t\t\t.anyRequest().authenticated()\r\n    \t\t\t\t.and()\r\n    \t\t\t\t\t.headers()\r\n    \t\t\t\t\t\t.defaultsDisabled()\r\n    \t\t\t\t\t\t.cacheControl()\r\n    \t\t\t\t\t.and()\r\n    \t\t\t\t.and()\r\n    \t\t\t\t\t.exceptionHandling()\r\n    \t\t\t\t\t\t.accessDeniedPage(&quot;/errors/403&quot;)\r\n    \t\t\t\t.and()\r\n    \t\t\t\t\t.formLogin()\r\n    \t\t\t\t\t.loginPage(&quot;/login&quot;)\r\n    \t\t\t\t\t.loginProcessingUrl(&quot;/login&quot;)\r\n    \t\t\t\t\t.failureUrl(&quot;/login?error&quot;)\r\n    \t\t\t\t\t.defaultSuccessUrl(&quot;/log&quot;) // I don&#39;t want to use force redirect here\r\n    \t\t\t\t\t.permitAll()\r\n    \t\t\t\t.and()\r\n    \t\t\t\t\t.logout()\r\n    \t\t\t\t\t.logoutUrl(&quot;/logout&quot;)\r\n    \t\t\t\t\t.deleteCookies(&quot;JSESSIONID&quot;)\r\n    \t\t\t\t\t.invalidateHttpSession(true)\r\n    \t\t\t\t\t.logoutSuccessUrl(&quot;/login?logout&quot;)\r\n    \t\t\t\t\t.permitAll()\r\n    \t\t\t\t.and()\r\n    \t\t\t\t\t.rememberMe()\r\n    \t\t\t\t\t.rememberMeParameter(&quot;remember-me&quot;)\r\n    \t\t\t\t\t.key(&quot;myKey&quot;);\r\n    \r\n    \t}\r\n    \t\r\n    \t// ...\r\n    }\r\n\r\n## Note:\r\n\r\nTurns out that error is caused by failed request to one of my static resources. Login page has `&lt;script src=&quot;/resources/my-js-file.js&quot;&gt;&lt;/script&gt;` that is missing in the project.\r\nI can fix this by removing missing resource import, but the problem can reappear in future so it&#39;s not a fix.\r\n\r\n## How can I prevent this from happening?\r\n\r\nI know I can force redirect to starting page with `.defaultSuccessUrl(&quot;/log&quot;, true)` but I don&#39;t want this.\r\nAlso I want redirect to work properly despite of any not found resources.","title":"Spring security redirects to page with status code 999","body":"<p>After successful login spring redirects to <code>/error</code> page with the following content</p>\n\n<pre><code>{\n  \"timestamp\" : 1586002411175,\n  \"status\" : 999,\n  \"error\" : \"None\",\n  \"message\" : \"No message available\"\n}\n</code></pre>\n\n<p>I'm using <code>spring-boot 2.2.4</code></p>\n\n<h2>My config:</h2>\n\n<pre><code>spring.mvc.view.prefix=/WEB-INF/views/\nspring.mvc.view.suffix=.jsp\nspring.mvc.servlet.load-on-startup=1\nspring.mvc.throw-exception-if-no-handler-found=true\nspring.resources.add-mappings=false\n</code></pre>\n\n<hr>\n\n<pre><code>@Configuration\npublic class DispatcherContextConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(\"/resources/**\").addResourceLocations(\"/resources/\");\n    }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class AppSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    public void configure(WebSecurity web) {\n        web.ignoring().antMatchers(\"/favicon.ico\", \"/resources/**\");\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n                .authorizeRequests()\n                .antMatchers(\"/api/**\").permitAll()\n                .antMatchers(\"/registration/**\").anonymous()\n                .anyRequest().authenticated()\n                .and()\n                    .headers()\n                        .defaultsDisabled()\n                        .cacheControl()\n                    .and()\n                .and()\n                    .exceptionHandling()\n                        .accessDeniedPage(\"/errors/403\")\n                .and()\n                    .formLogin()\n                    .loginPage(\"/login\")\n                    .loginProcessingUrl(\"/login\")\n                    .failureUrl(\"/login?error\")\n                    .defaultSuccessUrl(\"/log\") // I don't want to use force redirect here\n                    .permitAll()\n                .and()\n                    .logout()\n                    .logoutUrl(\"/logout\")\n                    .deleteCookies(\"JSESSIONID\")\n                    .invalidateHttpSession(true)\n                    .logoutSuccessUrl(\"/login?logout\")\n                    .permitAll()\n                .and()\n                    .rememberMe()\n                    .rememberMeParameter(\"remember-me\")\n                    .key(\"myKey\");\n\n    }\n\n    // ...\n}\n</code></pre>\n\n<h2>Note:</h2>\n\n<p>Turns out that error is caused by failed request to one of my static resources. Login page has <code>&lt;script src=\"/resources/my-js-file.js\"&gt;&lt;/script&gt;</code> that is missing in the project.\nI can fix this by removing missing resource import, but the problem can reappear in future so it's not a fix.</p>\n\n<h2>How can I prevent this from happening?</h2>\n\n<p>I know I can force redirect to starting page with <code>.defaultSuccessUrl(\"/log\", true)</code> but I don't want this.\nAlso I want redirect to work properly despite of any not found resources.</p>\n"},{"tags":["java","android-studio","selenium-webdriver","appium","appium-java"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1676397710,"post_id":75451375,"comment_id":133127586,"body_markdown":"the post-8 version JDKs include the run-time, so at some point you installed the JDK for Java 19.  (in short, your PATH is set wrong)  See setting PATH for Java:  https://www.java.com/en/download/help/path.html  (you may have 2 entries for java_home... so check for multiples...)  This may be separate from the signature error, but not sure...  maybe see this link if you still see that: https://github.com/appium/appium/issues/14724","body":"the post-8 version JDKs include the run-time, so at some point you installed the JDK for Java 19.  (in short, your PATH is set wrong)  See setting PATH for Java:  <a href=\"https://www.java.com/en/download/help/path.html\" rel=\"nofollow noreferrer\">java.com/en/download/help/path.html</a>  (you may have 2 entries for java_home... so check for multiples...)  This may be separate from the signature error, but not sure...  maybe see this link if you still see that: <a href=\"https://github.com/appium/appium/issues/14724\" rel=\"nofollow noreferrer\">github.com/appium/appium/issues/14724</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676440574,"post_id":75451375,"comment_id":133135077,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":17791044,"reputation":33,"user_id":12920036,"display_name":"Fayaz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676396132,"creation_date":1676396132,"question_id":75451375,"body_markdown":"I&#39;m beginner for Android Appium Automation, when i try kickstart my application through appium, I&#39;m getting the following error, please someone Assist me get this done\r\nThanks in Advance\r\n\r\n\r\nappium-uiautomator2-server-v4.27.0.apk&#39;. Original error: The &#39;java.exe&#39; binary could not be found neither in PATH nor under JAVA_HOME (C:\\Program Files\\Java\\jdk-19\\bin\\bin) \r\n\r\nIn my case Java installed in the following location\r\nC:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath\\java.exe\r\nC:\\Program Files\\Java\\jre1.8.0_361\\bin\\java.exe\r\n\r\nand SDK Build Tools and command line tools are fine, still I&#39;m not getting what mistake I&#39;m doing","title":"cannot verify signature uiautomator2-server-v4.270.apk&#39;. Original error: The &#39;java.exe&#39; binary could not be found neither in PATH nor under JAVA_HOME","body":"<p>I'm beginner for Android Appium Automation, when i try kickstart my application through appium, I'm getting the following error, please someone Assist me get this done\nThanks in Advance</p>\n<p>appium-uiautomator2-server-v4.27.0.apk'. Original error: The 'java.exe' binary could not be found neither in PATH nor under JAVA_HOME (C:\\Program Files\\Java\\jdk-19\\bin\\bin)</p>\n<p>In my case Java installed in the following location\nC:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath\\java.exe\nC:\\Program Files\\Java\\jre1.8.0_361\\bin\\java.exe</p>\n<p>and SDK Build Tools and command line tools are fine, still I'm not getting what mistake I'm doing</p>\n"},{"tags":["java","postgresql"],"comments":[{"owner":{"account_id":7372513,"reputation":951,"user_id":5612275,"display_name":"Marco C"},"score":0,"creation_date":1676370745,"post_id":75446295,"comment_id":133119109,"body_markdown":"Did the user &#39;vaadinstart` exist on your postgres installation?","body":"Did the user &#39;vaadinstart` exist on your postgres installation?"},{"owner":{"account_id":24104204,"reputation":3,"user_id":18075644,"display_name":"niki.orihatza"},"score":0,"creation_date":1676373118,"post_id":75446295,"comment_id":133119767,"body_markdown":"@MarcoC yes I created one in DataGrip but it is still throwing the exception","body":"@MarcoC yes I created one in DataGrip but it is still throwing the exception"},{"owner":{"account_id":14527719,"reputation":373,"user_id":10493440,"display_name":"Eisenknurr"},"score":1,"creation_date":1676373590,"post_id":75446295,"comment_id":133119925,"body_markdown":"Note that a role is not the same as a user!","body":"Note that a role is not the same as a user!"},{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1676396070,"post_id":75446295,"comment_id":133127199,"body_markdown":"I don&#39;t think this is related to building but actually running.  I also fail to\nsee, how this is related to/relevant for vaadin (I&#39;ll remove the tag). To me\nthis looks like some migrations are missing or the database that gets used is\nnot properly setup. Please provide a [MRE](https://stackoverflow.com/help/minimal-reproducible-example)","body":"I don&#39;t think this is related to building but actually running.  I also fail to see, how this is related to/relevant for vaadin (I&#39;ll remove the tag). To me this looks like some migrations are missing or the database that gets used is not properly setup. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MRE</a>"}],"owner":{"account_id":24104204,"reputation":3,"user_id":18075644,"display_name":"niki.orihatza"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676396077,"creation_date":1676369397,"question_id":75446295,"body_markdown":"I recently started with Vaadin because of a school project and I wanted to build the vaadin project with the command ./mvnw and after that I received a PSQL-Exception with the exception description: &#39;role &quot;vaadinstart&quot; does not exist&#39;.\r\n\r\nException-Output:\r\n```\r\n\\2023-02-14 10:53:45.232 ERROR 3633 --- \\[  restartedMain\\] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\r\n\r\norg.postgresql.util.PSQLException: FATAL: role &quot;vaadinstart&quot; does not exist\r\nat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) \\~\\[postgresql-42.3.8.jar:42.3.8\\]\r\nat org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2787) \\~\\[postgresql-42.3.8.jar:42.3.8\\]\r\nat org.postgresql.core.v3.QueryExecutorImpl.\\&lt;init\\&gt;(QueryExecutorImpl.java:173) \\~\\[postgresql-42.3.8.jar:42.3.8\\]\r\nat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:290) \\~\\[postgresql-42.3.8.jar:42.3.8\\]\r\nat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) \\~\\[postgresql-42.3.8.jar:42.3.8\\]\r\nat org.postgresql.jdbc.PgConnection.\\&lt;init\\&gt;(PgConnection.java:223) \\~\\[postgresql-42.3.8.jar:42.3.8\\]\r\nat org.postgresql.Driver.makeConnection(Driver.java:402) \\~\\[postgresql-42.3.8.jar:42.3.8\\]\r\nat org.postgresql.Driver.connect(Driver.java:261) \\~\\[postgresql-42.3.8.jar:42.3.8\\]\r\nat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) \\~\\[HikariCP-4.0.3.jar:na\\]\r\nat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) \\~\\[HikariCP-4.0.3.jar:na\\]\r\nat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) \\~\\[HikariCP-4.0.3.jar:na\\]\r\nat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) \\~\\[HikariCP-4.0.3.jar:na\\]\r\nat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) \\~\\[HikariCP-4.0.3.jar:na\\]\r\nat com.zaxxer.hikari.pool.HikariPool.\\&lt;init\\&gt;(HikariPool.java:115) \\~\\[HikariCP-4.0.3.jar:na\\]\r\nat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) \\~\\[HikariCP-4.0.3.jar:na\\]\r\nat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\r\nat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\r\nat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\r\nat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\r\nat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\r\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\r\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\r\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\r\nat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\r\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\r\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\r\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\r\nat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.\\&lt;init\\&gt;(InFlightMetadataCollectorImpl.java:173) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\r\nat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\r\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\r\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\r\nat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) \\~\\[spring-orm-5.3.25.jar:5.3.25\\]\r\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) \\~\\[spring-orm-5.3.25.jar:5.3.25\\]\r\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) \\~\\[spring-orm-5.3.25.jar:5.3.25\\]\r\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) \\~\\[spring-orm-5.3.25.jar:5.3.25\\]\r\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) \\~\\[spring-orm-5.3.25.jar:5.3.25\\]\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) \\~\\[spring-beans-5.3.25.jar:5.3.25\\]\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) \\~\\[spring-beans-5.3.25.jar:5.3.25\\]\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) \\~\\[spring-beans-5.3.25.jar:5.3.25\\]\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) \\~\\[spring-beans-5.3.25.jar:5.3.25\\]\r\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) \\~\\[spring-beans-5.3.25.jar:5.3.25\\]\r\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) \\~\\[spring-beans-5.3.25.jar:5.3.25\\]\r\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) \\~\\[spring-beans-5.3.25.jar:5.3.25\\]\r\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) \\~\\[spring-beans-5.3.25.jar:5.3.25\\]\r\nat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) \\~\\[spring-context-5.3.25.jar:5.3.25\\]\r\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) \\~\\[spring-context-5.3.25.jar:5.3.25\\]\r\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) \\~\\[spring-context-5.3.25.jar:5.3.25\\]\r\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) \\~\\[spring-boot-2.7.8.jar:2.7.8\\]\r\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) \\~\\[spring-boot-2.7.8.jar:2.7.8\\]\r\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) \\~\\[spring-boot-2.7.8.jar:2.7.8\\]\r\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) \\~\\[spring-boot-2.7.8.jar:2.7.8\\]\r\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) \\~\\[spring-boot-2.7.8.jar:2.7.8\\]\r\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) \\~\\[spring-boot-2.7.8.jar:2.7.8\\]\r\nat com.vaadin.wah.Application.main(Application.java:29) \\~\\[classes/:na\\]\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \\~\\[na:na\\]\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) \\~\\[na:na\\]\r\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) \\~\\[na:na\\]\r\nat java.base/java.lang.reflect.Method.invoke(Method.java:568) \\~\\[na:na\\]\r\nat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) \\~\\[spring-boot-devtools-2.7.8.jar:2.7.8\\]\r\n\\\r\n```\r\n\r\nI searched for some solution but my search wasn&#39;t successful at all.\r\n","title":"Failure while building Vaadin","body":"<p>I recently started with Vaadin because of a school project and I wanted to build the vaadin project with the command ./mvnw and after that I received a PSQL-Exception with the exception description: 'role &quot;vaadinstart&quot; does not exist'.</p>\n<p>Exception-Output:</p>\n<pre><code>\\2023-02-14 10:53:45.232 ERROR 3633 --- \\[  restartedMain\\] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\n\norg.postgresql.util.PSQLException: FATAL: role &quot;vaadinstart&quot; does not exist\nat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) \\~\\[postgresql-42.3.8.jar:42.3.8\\]\nat org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2787) \\~\\[postgresql-42.3.8.jar:42.3.8\\]\nat org.postgresql.core.v3.QueryExecutorImpl.\\&lt;init\\&gt;(QueryExecutorImpl.java:173) \\~\\[postgresql-42.3.8.jar:42.3.8\\]\nat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:290) \\~\\[postgresql-42.3.8.jar:42.3.8\\]\nat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) \\~\\[postgresql-42.3.8.jar:42.3.8\\]\nat org.postgresql.jdbc.PgConnection.\\&lt;init\\&gt;(PgConnection.java:223) \\~\\[postgresql-42.3.8.jar:42.3.8\\]\nat org.postgresql.Driver.makeConnection(Driver.java:402) \\~\\[postgresql-42.3.8.jar:42.3.8\\]\nat org.postgresql.Driver.connect(Driver.java:261) \\~\\[postgresql-42.3.8.jar:42.3.8\\]\nat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) \\~\\[HikariCP-4.0.3.jar:na\\]\nat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) \\~\\[HikariCP-4.0.3.jar:na\\]\nat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) \\~\\[HikariCP-4.0.3.jar:na\\]\nat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) \\~\\[HikariCP-4.0.3.jar:na\\]\nat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) \\~\\[HikariCP-4.0.3.jar:na\\]\nat com.zaxxer.hikari.pool.HikariPool.\\&lt;init\\&gt;(HikariPool.java:115) \\~\\[HikariCP-4.0.3.jar:na\\]\nat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) \\~\\[HikariCP-4.0.3.jar:na\\]\nat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\nat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\nat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\nat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\nat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\nat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\nat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.\\&lt;init\\&gt;(InFlightMetadataCollectorImpl.java:173) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\nat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) \\~\\[hibernate-core-5.6.14.Final.jar:5.6.14.Final\\]\nat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) \\~\\[spring-orm-5.3.25.jar:5.3.25\\]\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) \\~\\[spring-orm-5.3.25.jar:5.3.25\\]\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) \\~\\[spring-orm-5.3.25.jar:5.3.25\\]\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) \\~\\[spring-orm-5.3.25.jar:5.3.25\\]\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) \\~\\[spring-orm-5.3.25.jar:5.3.25\\]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) \\~\\[spring-beans-5.3.25.jar:5.3.25\\]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) \\~\\[spring-beans-5.3.25.jar:5.3.25\\]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) \\~\\[spring-beans-5.3.25.jar:5.3.25\\]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) \\~\\[spring-beans-5.3.25.jar:5.3.25\\]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) \\~\\[spring-beans-5.3.25.jar:5.3.25\\]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) \\~\\[spring-beans-5.3.25.jar:5.3.25\\]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) \\~\\[spring-beans-5.3.25.jar:5.3.25\\]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) \\~\\[spring-beans-5.3.25.jar:5.3.25\\]\nat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) \\~\\[spring-context-5.3.25.jar:5.3.25\\]\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) \\~\\[spring-context-5.3.25.jar:5.3.25\\]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) \\~\\[spring-context-5.3.25.jar:5.3.25\\]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) \\~\\[spring-boot-2.7.8.jar:2.7.8\\]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) \\~\\[spring-boot-2.7.8.jar:2.7.8\\]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) \\~\\[spring-boot-2.7.8.jar:2.7.8\\]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) \\~\\[spring-boot-2.7.8.jar:2.7.8\\]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) \\~\\[spring-boot-2.7.8.jar:2.7.8\\]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) \\~\\[spring-boot-2.7.8.jar:2.7.8\\]\nat com.vaadin.wah.Application.main(Application.java:29) \\~\\[classes/:na\\]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \\~\\[na:na\\]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) \\~\\[na:na\\]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) \\~\\[na:na\\]\nat java.base/java.lang.reflect.Method.invoke(Method.java:568) \\~\\[na:na\\]\nat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) \\~\\[spring-boot-devtools-2.7.8.jar:2.7.8\\]\n\\\n</code></pre>\n<p>I searched for some solution but my search wasn't successful at all.</p>\n"},{"tags":["java","ssl-certificate"],"answers":[{"tags":[],"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676375972,"creation_date":1676375972,"answer_id":75447526,"question_id":75447434,"body_markdown":"In the first command you define the keystore name with `-keystore vendavo.keystore`\r\n\r\nYou also need to pass this argument to second command, otherwise the default keytore is used.\r\n```keytool -certreq -keyalg RSA -alias vendavodev1 -file certreq.txt -keystore vendavo.keystore```","title":"keytool error: java.lang.Exception: Keystore file does not exist: C:\\Users\\Administrator\\.keystore","body":"<p>In the first command you define the keystore name with <code>-keystore vendavo.keystore</code></p>\n<p>You also need to pass this argument to second command, otherwise the default keytore is used.\n<code>keytool -certreq -keyalg RSA -alias vendavodev1 -file certreq.txt -keystore vendavo.keystore</code></p>\n"}],"owner":{"account_id":19767913,"reputation":13,"user_id":14475472,"display_name":"Maximus Duke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1569,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75447526,"answer_count":1,"score":0,"last_activity_date":1676396031,"creation_date":1676375479,"question_id":75447434,"body_markdown":"First i executed this command: \r\n`keytool -genkey -alias vendavodev1 -keyalg RSA -keysize 2048 -storetype jks -keystore vendavo.keystore`\r\n\r\nAfter that when i execute this command: \r\n`keytool -certreq -keyalg RSA -alias vendavodev1 -file certreq.txt`\r\n\r\nI get the following error: \r\n`keytool error: java.lang.Exception: Keystore file does not exist: C:\\Users\\Administrator\\.keystore`","title":"keytool error: java.lang.Exception: Keystore file does not exist: C:\\Users\\Administrator\\.keystore","body":"<p>First i executed this command:\n<code>keytool -genkey -alias vendavodev1 -keyalg RSA -keysize 2048 -storetype jks -keystore vendavo.keystore</code></p>\n<p>After that when i execute this command:\n<code>keytool -certreq -keyalg RSA -alias vendavodev1 -file certreq.txt</code></p>\n<p>I get the following error:\n<code>keytool error: java.lang.Exception: Keystore file does not exist: C:\\Users\\Administrator\\.keystore</code></p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","jwt"],"comments":[{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":0,"creation_date":1593528490,"post_id":62660131,"comment_id":110809831,"body_markdown":"maybe SECRET_KEY is null?","body":"maybe SECRET_KEY is null?"},{"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"score":0,"creation_date":1593528515,"post_id":62660131,"comment_id":110809843,"body_markdown":"@Maurice No it&#39;s not: see the first debugger pic","body":"@Maurice No it&#39;s not: see the first debugger pic"},{"owner":{"account_id":3446391,"reputation":184,"user_id":2887124,"display_name":"Nagesh Tripathi"},"score":0,"creation_date":1593529410,"post_id":62660131,"comment_id":110810436,"body_markdown":"This seems to be a weird issue,I would suggest not to use builder = builder.setExpiration , you can benefit from builder pattern and set all the values in one line itself.something like below code Jwts.builder().setClaims(claims).setSubject(subject).setIssuedAt(new Date(System.currentTimeMillis()))\n                .setExpiration(new Date(System.currentTimeMillis()))\n                .signWith(SignatureAlgorithm.HS512, SECRET_KEY).compact()","body":"This seems to be a weird issue,I would suggest not to use builder = builder.setExpiration , you can benefit from builder pattern and set all the values in one line itself.something like below code Jwts.builder().setClaims(claims).setSubject(subject).setIssu&zwnj;&#8203;edAt(new Date(System.currentTimeMillis()))                 .setExpiration(new Date(System.currentTimeMillis()))                 .signWith(SignatureAlgorithm.HS512, SECRET_KEY).compact()"},{"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"score":0,"creation_date":1593531274,"post_id":62660131,"comment_id":110811429,"body_markdown":"@NageshTripathi It was the one-liner that originally gave me the error; I only split it into several lines to make sure `builder` is never null","body":"@NageshTripathi It was the one-liner that originally gave me the error; I only split it into several lines to make sure <code>builder</code> is never null"}],"answers":[{"tags":[],"owner":{"account_id":13919636,"reputation":1002,"user_id":10050431,"display_name":"Fabien"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593555481,"creation_date":1593555481,"answer_id":62666955,"question_id":62660131,"body_markdown":"This is how you sign a JWT token with a private key using HS256 :\r\n\r\n    public static void main(String[] args) {\r\n        KeyPair keyPair = Keys.keyPairFor(HS256);\r\n        PrivateKey privateKey = keyPair.getPrivate();\r\n        Jwts.builder().signWith(privateKey);\r\n    }","title":"Jwt token: DatatypeConverter.parseBase64Binary NullPointerException on signWith method on token creation","body":"<p>This is how you sign a JWT token with a private key using HS256 :</p>\n<pre><code>public static void main(String[] args) {\n    KeyPair keyPair = Keys.keyPairFor(HS256);\n    PrivateKey privateKey = keyPair.getPrivate();\n    Jwts.builder().signWith(privateKey);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":357264,"reputation":1646,"user_id":4927393,"accept_rate":67,"display_name":"Dragan Nikolic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607174031,"creation_date":1607174031,"answer_id":65157274,"question_id":62660131,"body_markdown":"I had the same problem when using jjwt 0.9.1 and Java 11. Solved by switching from Java 11 to Java 1.8.\r\n\r\nMy development machine was MacOS Catalina.","title":"Jwt token: DatatypeConverter.parseBase64Binary NullPointerException on signWith method on token creation","body":"<p>I had the same problem when using jjwt 0.9.1 and Java 11. Solved by switching from Java 11 to Java 1.8.</p>\n<p>My development machine was MacOS Catalina.</p>\n"},{"tags":[],"owner":{"account_id":16608611,"reputation":123,"user_id":12002311,"display_name":"Prince"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676396018,"creation_date":1676396018,"answer_id":75451358,"question_id":62660131,"body_markdown":"I was getting the same issue, I changed my function to this\r\n```\r\n\tpublic String getTokenFromClaims(Map&lt;String, Object&gt; claims, String subject) {\r\n\t\tclaims.forEach((k, v) -&gt; System.out.println(&quot;Key is&quot; + k + &quot;value&quot; + v));\r\n\t\treturn Jwts.builder().setClaims(claims).setSubject(subject).setIssuedAt(new Date(System.currentTimeMillis()))\r\n\t\t\t\t.setExpiration(new Date(System.currentTimeMillis() + expiresIn))\r\n\t\t\t\t.signWith(SignatureAlgorithm.HS512, Base64.getEncoder().encode(secret.getBytes())).compact();\r\n\t}\r\n```","title":"Jwt token: DatatypeConverter.parseBase64Binary NullPointerException on signWith method on token creation","body":"<p>I was getting the same issue, I changed my function to this</p>\n<pre><code>    public String getTokenFromClaims(Map&lt;String, Object&gt; claims, String subject) {\n        claims.forEach((k, v) -&gt; System.out.println(&quot;Key is&quot; + k + &quot;value&quot; + v));\n        return Jwts.builder().setClaims(claims).setSubject(subject).setIssuedAt(new Date(System.currentTimeMillis()))\n                .setExpiration(new Date(System.currentTimeMillis() + expiresIn))\n                .signWith(SignatureAlgorithm.HS512, Base64.getEncoder().encode(secret.getBytes())).compact();\n    }\n</code></pre>\n"}],"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":989,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1676396018,"creation_date":1593528356,"question_id":62660131,"body_markdown":"I have the following method for creating a JWT token during authentication:\r\n\r\n```\r\nprivate String createToken(Map&lt;String, Object&gt; claims, \r\n                           String subject) {\r\n    JwtBuilder builder =  Jwts.builder().setClaims(claims)\r\n            .setSubject(subject)\r\n            .setIssuedAt(\r\n                  new Date(System.currentTimeMillis()));\r\n    builder = builder\r\n            .setExpiration(\r\n                new Date(System.currentTimeMillis() +\r\n                        1000 * 60 * 60 * 10));\r\n    builder = builder\r\n            .signWith(   \r\n               SignatureAlgorithm.HS256, \r\n               SECRET_KEY);  //error on this line\r\n    return builder.compact();\r\n}\r\n```\r\nHowever I get a `NullPointerException` on the `builder.signWith()` line.\r\n\r\nI&#39;m not sure why. The `builder` after the `.setExpiration()` line is not null. I checked the debugger (breakpoint on the `.signWith()` line) and it seems to be fine:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe `claims` are not empty and contains the subject and dates:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThis is the full error:\r\n\r\n```\r\n org.apache.catalina.core.StandardWrapperValve.invoke Servlet.service() for servlet [dispatcher] in context with path [/testproject_war_exploded] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause\r\n\tjava.lang.NullPointerException\r\n\t\tat javax.xml.bind.DatatypeConverter.parseBase64Binary(DatatypeConverter.java:296)\r\n\t\tat io.jsonwebtoken.impl.Base64Codec.decode(Base64Codec.java:26)\r\n\t\tat io.jsonwebtoken.impl.DefaultJwtBuilder.signWith(DefaultJwtBuilder.java:99)\r\n\t\tat testproject.security.JwtUtil.createToken(JwtUtil.java:52)\r\n```\r\n  [1]: https://i.stack.imgur.com/zC9rB.png\r\n  [2]: https://i.stack.imgur.com/JGDiE.png","title":"Jwt token: DatatypeConverter.parseBase64Binary NullPointerException on signWith method on token creation","body":"<p>I have the following method for creating a JWT token during authentication:</p>\n<pre><code>private String createToken(Map&lt;String, Object&gt; claims, \n                           String subject) {\n    JwtBuilder builder =  Jwts.builder().setClaims(claims)\n            .setSubject(subject)\n            .setIssuedAt(\n                  new Date(System.currentTimeMillis()));\n    builder = builder\n            .setExpiration(\n                new Date(System.currentTimeMillis() +\n                        1000 * 60 * 60 * 10));\n    builder = builder\n            .signWith(   \n               SignatureAlgorithm.HS256, \n               SECRET_KEY);  //error on this line\n    return builder.compact();\n}\n</code></pre>\n<p>However I get a <code>NullPointerException</code> on the <code>builder.signWith()</code> line.</p>\n<p>I'm not sure why. The <code>builder</code> after the <code>.setExpiration()</code> line is not null. I checked the debugger (breakpoint on the <code>.signWith()</code> line) and it seems to be fine:</p>\n<p><a href=\"https://i.stack.imgur.com/zC9rB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zC9rB.png\" alt=\"enter image description here\" /></a></p>\n<p>The <code>claims</code> are not empty and contains the subject and dates:</p>\n<p><a href=\"https://i.stack.imgur.com/JGDiE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JGDiE.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the full error:</p>\n<pre><code> org.apache.catalina.core.StandardWrapperValve.invoke Servlet.service() for servlet [dispatcher] in context with path [/testproject_war_exploded] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause\n    java.lang.NullPointerException\n        at javax.xml.bind.DatatypeConverter.parseBase64Binary(DatatypeConverter.java:296)\n        at io.jsonwebtoken.impl.Base64Codec.decode(Base64Codec.java:26)\n        at io.jsonwebtoken.impl.DefaultJwtBuilder.signWith(DefaultJwtBuilder.java:99)\n        at testproject.security.JwtUtil.createToken(JwtUtil.java:52)\n</code></pre>\n"},{"tags":["java","spring","hibernate"],"answers":[{"tags":[],"owner":{"account_id":2078183,"reputation":3320,"user_id":1850925,"display_name":"Arjit"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1676395762,"creation_date":1494831542,"answer_id":43973233,"question_id":43973041,"body_markdown":"If you use `@JsonBackReference` on your getter/setter method in your project more than once, you should distinguish them with a specific Reference name.\r\n\r\nIn `Role` entity class, you have used `@JsonBackReference` twice:\r\n\r\n```lang-java\r\n@OneToMany(mappedBy = &quot;roleName&quot;, fetch = FetchType.LAZY,cascade = CascadeType.REMOVE)\r\n@JsonBackReference\r\nprivate List candidateProfiles;\r\n\r\n@OneToMany(mappedBy = &quot;companyRoleName&quot;, fetch = FetchType.LAZY,cascade = CascadeType.REMOVE)\r\n@JsonBackReference\r\nprivate List recruiterDetails;\r\n```\r\n\r\nYou should change it to:\r\n\r\n```lang-java\r\n@OneToMany(mappedBy = &quot;roleName&quot;, fetch = FetchType.LAZY,cascade = CascadeType.REMOVE)\r\n@JsonBackReference(value=&quot;candidate-profiles&quot;)\r\nprivate List candidateProfiles;\r\n\r\n@OneToMany(mappedBy = &quot;companyRoleName&quot;, fetch = FetchType.LAZY,cascade = CascadeType.REMOVE)\r\n@JsonBackReference(value=&quot;recruiter-details&quot;)\r\nprivate List recruiterDetails;\r\n```","title":"com.fasterxml.jackson.databind.JsonMappingException: Multiple back-reference properties with name &#39;defaultReference&#39;","body":"<p>If you use <code>@JsonBackReference</code> on your getter/setter method in your project more than once, you should distinguish them with a specific Reference name.</p>\n<p>In <code>Role</code> entity class, you have used <code>@JsonBackReference</code> twice:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@OneToMany(mappedBy = &quot;roleName&quot;, fetch = FetchType.LAZY,cascade = CascadeType.REMOVE)\n@JsonBackReference\nprivate List candidateProfiles;\n\n@OneToMany(mappedBy = &quot;companyRoleName&quot;, fetch = FetchType.LAZY,cascade = CascadeType.REMOVE)\n@JsonBackReference\nprivate List recruiterDetails;\n</code></pre>\n<p>You should change it to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@OneToMany(mappedBy = &quot;roleName&quot;, fetch = FetchType.LAZY,cascade = CascadeType.REMOVE)\n@JsonBackReference(value=&quot;candidate-profiles&quot;)\nprivate List candidateProfiles;\n\n@OneToMany(mappedBy = &quot;companyRoleName&quot;, fetch = FetchType.LAZY,cascade = CascadeType.REMOVE)\n@JsonBackReference(value=&quot;recruiter-details&quot;)\nprivate List recruiterDetails;\n</code></pre>\n"}],"owner":{"account_id":8848879,"reputation":63,"user_id":6608840,"display_name":"Rakesh kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2825,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":43973233,"answer_count":1,"score":5,"last_activity_date":1676395762,"creation_date":1494830823,"question_id":43973041,"body_markdown":"I&#39;m getting this error, when I&#39;m trying to map one entity with more than one entity..\r\n\r\n   /// This is my candidate profile entity/////////\r\n\r\n&lt;pre&gt;\r\n\r\n    package com.demo.project.premiumjobportal.model;\r\n    \r\n    import java.io.Serializable;\r\n    import java.util.List;\r\n    \r\n    import javax.persistence.CascadeType;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.FetchType;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.ManyToOne;\r\n    import javax.persistence.OneToMany;\r\n    import javax.persistence.Table;\r\n    import javax.validation.constraints.NotNull;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonBackReference;\r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    \r\n    //Candidate details table : Master Table\r\n    @Entity\r\n    @Table(name=&quot;candidate_profile&quot;)\r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\n    @XmlRootElement\r\n    public class CandidateProfile implements Serializable {\r\n    \t\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue\r\n    \tprivate int id;\r\n    \r\n    \t@NotNull\r\n    \t@Column(name=&quot;first_name&quot;, length = 25)\r\n    \tprivate String firstName;\r\n    \t\r\n    \t@NotNull\r\n    \t@Column(name=&quot;last_name&quot;, length = 25)\r\n    \tprivate String lastName;\r\n    \t\r\n    \t@NotNull\r\n    \t@Column(name=&quot;username&quot;, length = 50)\r\n    \tprivate String username;\r\n    \t\r\n    \t@Column(name=&quot;alt_email_id&quot;, length = 50)\r\n    \tprivate String alternateEmailId;\r\n    \t\r\n    \t@NotNull\r\n    \t@Column(name=&quot;mobile_no&quot;, length = 15)\r\n    \tprivate String mobileNum;\r\n    \t\r\n    \t@Column(name=&quot;alt_mobile_no&quot;, length = 15)\r\n    \tprivate String alternateMobileNum;\r\n    \t\r\n    \t\r\n    \t@Column(name=&quot;ssc_board&quot;, length = 50)\r\n    \tprivate String sscBoard;\r\n    \t\r\n    \t\r\n    \t@Column(name=&quot;ssc_school&quot;, length = 50)\r\n    \tprivate String sscSchool;\r\n    \t\r\n    \t\r\n    \t@Column(name=&quot;ssc_percent&quot;, length = 4)\r\n    \tprivate float sscPercentage;\r\n    \t\r\n    \t\r\n    \t@Column(name=&quot;ssc_year_of_passout&quot;, length = 4)\r\n    \tprivate int sscYearOfPassout;\r\n    \t\r\n    \t\r\n    \t@Column(name=&quot;hsc_board&quot;, length = 50)\r\n    \tprivate String hscBoard;\r\n    \t\r\n    \t\r\n    \t@Column(name=&quot;hsc_school&quot;, length = 50)\r\n    \tprivate String hscSchool;\r\n    \t\r\n    \t\r\n    \t@Column(name=&quot;hsc_percent&quot;, length = 4)\r\n    \tprivate float hscPercentage;\r\n    \t\r\n    \t\r\n    \t@Column(name=&quot;hsc_year_of_passout&quot;, length = 4)\r\n    \tprivate int hscYearOfPassout;\r\n    \t\r\n    \t\r\n    \t@Column(name=&quot;grad_university&quot;, length = 100)\r\n    \tprivate String gradiduteUniversity;\r\n    \t\r\n    \t\r\n    \t@Column(name=&quot;grad_institute&quot;, length = 100)\r\n    \tprivate String gradiduteInstitute;\r\n    \t\r\n    \t\r\n    \t@Column(name=&quot;grad_percent&quot;, length = 4)\r\n    \tprivate float gradidutePercentage;\r\n    \t\r\n    \t\r\n    \t@Column(name=&quot;grad_year_of_passout&quot;, length = 4)\r\n    \tprivate int gradiduteYearOfPassout;\r\n    \t\r\n    \t@Column(name=&quot;postgrad_university&quot;, length = 100)\r\n    \tprivate String postGradiduteUniversity;\r\n    \t\r\n    \t@Column(name=&quot;postgrad_institute&quot;, length = 100)\r\n    \tprivate String postGradiduteInstitute;\r\n    \t\r\n    \t@Column(name=&quot;postgrad_percent&quot;, length = 4)\r\n    \tprivate float postGradidutePercentage;\r\n    \t\r\n    \t@Column(name=&quot;postgrad_year_of_passout&quot;, length = 4)\r\n    \tprivate int postGradiduteYearOfPassout;\r\n    \t\r\n    \tprivate String notes;\r\n    \t\r\n    \tprivate String Password;\r\n    \r\n    \t@OneToMany(mappedBy = &quot;candidateProfile&quot;, fetch = FetchType.LAZY,cascade = CascadeType.REMOVE)\r\n    \t@JsonBackReference\r\n    \tprivate List&lt;ExperienceDetails&gt; experienceDetails;\r\n    \t\r\n    \t@OneToMany(mappedBy = &quot;candidateProfile&quot;, fetch = FetchType.LAZY,cascade = CascadeType.REMOVE)\r\n    \t@JsonBackReference\r\n    \tprivate List&lt;CandidateJob&gt; candidateJobs;\r\n    \t\r\n    \t@ManyToOne\r\n    \tprivate Role roleName;\r\n    \t\r\n    \t\r\n    \r\n    \t/* Constructor */\r\n    \tpublic CandidateProfile() {\r\n    \t\tsuper();\r\n    \t\t}\r\n    \r\n    \t\r\n    \t// Getters and Setters \r\n    \t\r\n&lt;/pre&gt;\r\n\r\n/// This is  my experience details entity ////////////\r\n&lt;pre&gt;\r\n\r\n    package com.cfa.project.premiumjobportal.model;\r\n    \r\n    import java.io.Serializable;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.ManyToOne;\r\n    import javax.persistence.Table;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    \r\n    //Experience class, which connected with CandidateProfile.class\r\n    @Entity\r\n    @Table(name=&quot;experience_details&quot;)\r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\n    @XmlRootElement\r\n    public class ExperienceDetails implements Serializable {\r\n    \t\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue\r\n    \tprivate int id;\r\n    \t\r\n    \t@Column(name = &quot;tot_experenice&quot;, length = 2)\r\n    \tprivate String totExperience;\r\n    \t\r\n    \t@Column(name = &quot;companies_month_experience&quot;)\r\n    \tprivate String companiesMonthExperience;\r\n    \t\r\n    \t@Column(name = &quot;skills&quot;)\r\n    \tprivate String _skills;\r\n    \t\r\n    \t@Column(name = &quot;extra_curricular&quot;)\r\n    \tprivate String extraCurricular;\r\n    \t\r\n    \tprivate String notes;\r\n    \r\n    \t/* Mapping : Joining with Candidate table */\r\n    \t@ManyToOne\r\n    \tprivate CandidateProfile candidateProfile;\r\n    \t\r\n    \t/*Constructor*/\r\n    \tpublic ExperienceDetails() {\r\n    \t\tsuper();\r\n    \t}\r\n    \t\r\n    \t\r\n    \t/*Constructor using fields*/\r\n    \t/**\r\n    \t * @param id\r\n    \t * @param totExperience\r\n    \t * @param companiesMonthExperience\r\n    \t * @param _skills\r\n    \t * @param extraCurricular\r\n    \t * @param notes\r\n    \t * @param candidateProfile\r\n    \t */\r\n    \tpublic ExperienceDetails(int id, String totExperience, String companiesMonthExperience, String _skills,\r\n    \t\t\tString extraCurricular, String notes, CandidateProfile candidateProfile) {\r\n    \t\tsuper();\r\n    \t\tthis.id = id;\r\n    \t\tthis.totExperience = totExperience;\r\n    \t\tthis.companiesMonthExperience = companiesMonthExperience;\r\n    \t\tthis._skills = _skills;\r\n    \t\tthis.extraCurricular = extraCurricular;\r\n    \t\tthis.notes = notes;\r\n    \t\tthis.candidateProfile = candidateProfile;\r\n    \t}\r\n    \r\n    \t/* Generating Getters and setters */&lt;/pre&gt;\r\n\r\n/// This is my role entity //////\r\n\r\n&lt;pre&gt;\r\n    \r\n    import java.io.Serializable;\r\n    import java.util.List;\r\n    \r\n    import javax.persistence.CascadeType;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.FetchType;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.OneToMany;\r\n    import javax.persistence.Table;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonBackReference;\r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    \r\n    @Entity\r\n    @Table(name=&quot;role&quot;)\r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\n    @XmlRootElement\r\n    public class Role implements Serializable {\r\n    \t\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue\r\n    \tprivate int id;\r\n    \t\r\n    \t@Column(length = 10)\r\n    \tprivate String name;\r\n    \r\n    \t@OneToMany(mappedBy = &quot;roleName&quot;, fetch = FetchType.LAZY,cascade = CascadeType.REMOVE)\r\n    \t@JsonBackReference\r\n    \tprivate List&lt;CandidateProfile&gt; candidateProfiles;\r\n    \t\r\n    \t@OneToMany(mappedBy = &quot;companyRoleName&quot;, fetch = FetchType.LAZY,cascade = CascadeType.REMOVE)\r\n    \t@JsonBackReference\r\n    \tprivate List&lt;RecruiterDetails&gt; recruiterDetails;\r\n\r\n&lt;/pre&gt;\r\n&lt;b&gt;\r\nThis error I&#39;m getting----------------\r\n\r\n    Failed to evaluate Jackson deserialization for type [[simple type, class \r\n    com.demo.project.premiumjobportal.model.CandidateProfile]]: \r\n    com.fasterxml.jackson.databind.JsonMappingException: Multiple back-reference \r\n    properties with name &#39;defaultReference&#39;\r\n\r\nPlease help me with this. I searched everywhere and I tried every solution but then also I&#39;m getting this error.","title":"com.fasterxml.jackson.databind.JsonMappingException: Multiple back-reference properties with name &#39;defaultReference&#39;","body":"<p>I'm getting this error, when I'm trying to map one entity with more than one entity..</p>\n\n<p>/// This is my candidate profile entity/////////</p>\n\n<pre>\n\n    package com.demo.project.premiumjobportal.model;\n\n    import java.io.Serializable;\n    import java.util.List;\n\n    import javax.persistence.CascadeType;\n    import javax.persistence.Column;\n    import javax.persistence.Entity;\n    import javax.persistence.FetchType;\n    import javax.persistence.GeneratedValue;\n    import javax.persistence.Id;\n    import javax.persistence.ManyToOne;\n    import javax.persistence.OneToMany;\n    import javax.persistence.Table;\n    import javax.validation.constraints.NotNull;\n    import javax.xml.bind.annotation.XmlRootElement;\n\n    import com.fasterxml.jackson.annotation.JsonBackReference;\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\n    //Candidate details table : Master Table\n    @Entity\n    @Table(name=\"candidate_profile\")\n    @JsonIgnoreProperties({\"hibernateLazyInitializer\", \"handler\"})\n    @XmlRootElement\n    public class CandidateProfile implements Serializable {\n\n        private static final long serialVersionUID = 1L;\n\n        @Id\n        @GeneratedValue\n        private int id;\n\n        @NotNull\n        @Column(name=\"first_name\", length = 25)\n        private String firstName;\n\n        @NotNull\n        @Column(name=\"last_name\", length = 25)\n        private String lastName;\n\n        @NotNull\n        @Column(name=\"username\", length = 50)\n        private String username;\n\n        @Column(name=\"alt_email_id\", length = 50)\n        private String alternateEmailId;\n\n        @NotNull\n        @Column(name=\"mobile_no\", length = 15)\n        private String mobileNum;\n\n        @Column(name=\"alt_mobile_no\", length = 15)\n        private String alternateMobileNum;\n\n\n        @Column(name=\"ssc_board\", length = 50)\n        private String sscBoard;\n\n\n        @Column(name=\"ssc_school\", length = 50)\n        private String sscSchool;\n\n\n        @Column(name=\"ssc_percent\", length = 4)\n        private float sscPercentage;\n\n\n        @Column(name=\"ssc_year_of_passout\", length = 4)\n        private int sscYearOfPassout;\n\n\n        @Column(name=\"hsc_board\", length = 50)\n        private String hscBoard;\n\n\n        @Column(name=\"hsc_school\", length = 50)\n        private String hscSchool;\n\n\n        @Column(name=\"hsc_percent\", length = 4)\n        private float hscPercentage;\n\n\n        @Column(name=\"hsc_year_of_passout\", length = 4)\n        private int hscYearOfPassout;\n\n\n        @Column(name=\"grad_university\", length = 100)\n        private String gradiduteUniversity;\n\n\n        @Column(name=\"grad_institute\", length = 100)\n        private String gradiduteInstitute;\n\n\n        @Column(name=\"grad_percent\", length = 4)\n        private float gradidutePercentage;\n\n\n        @Column(name=\"grad_year_of_passout\", length = 4)\n        private int gradiduteYearOfPassout;\n\n        @Column(name=\"postgrad_university\", length = 100)\n        private String postGradiduteUniversity;\n\n        @Column(name=\"postgrad_institute\", length = 100)\n        private String postGradiduteInstitute;\n\n        @Column(name=\"postgrad_percent\", length = 4)\n        private float postGradidutePercentage;\n\n        @Column(name=\"postgrad_year_of_passout\", length = 4)\n        private int postGradiduteYearOfPassout;\n\n        private String notes;\n\n        private String Password;\n\n        @OneToMany(mappedBy = \"candidateProfile\", fetch = FetchType.LAZY,cascade = CascadeType.REMOVE)\n        @JsonBackReference\n        private List experienceDetails;\n\n        @OneToMany(mappedBy = \"candidateProfile\", fetch = FetchType.LAZY,cascade = CascadeType.REMOVE)\n        @JsonBackReference\n        private List candidateJobs;\n\n        @ManyToOne\n        private Role roleName;\n\n\n\n        /* Constructor */\n        public CandidateProfile() {\n            super();\n            }\n\n\n        // Getters and Setters \n\n</pre>\n\n<p>/// This is  my experience details entity ////////////</p>\n\n<pre>\n\n    package com.cfa.project.premiumjobportal.model;\n\n    import java.io.Serializable;\n\n    import javax.persistence.Column;\n    import javax.persistence.Entity;\n    import javax.persistence.GeneratedValue;\n    import javax.persistence.Id;\n    import javax.persistence.ManyToOne;\n    import javax.persistence.Table;\n    import javax.xml.bind.annotation.XmlRootElement;\n\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\n    //Experience class, which connected with CandidateProfile.class\n    @Entity\n    @Table(name=\"experience_details\")\n    @JsonIgnoreProperties({\"hibernateLazyInitializer\", \"handler\"})\n    @XmlRootElement\n    public class ExperienceDetails implements Serializable {\n\n        private static final long serialVersionUID = 1L;\n\n        @Id\n        @GeneratedValue\n        private int id;\n\n        @Column(name = \"tot_experenice\", length = 2)\n        private String totExperience;\n\n        @Column(name = \"companies_month_experience\")\n        private String companiesMonthExperience;\n\n        @Column(name = \"skills\")\n        private String _skills;\n\n        @Column(name = \"extra_curricular\")\n        private String extraCurricular;\n\n        private String notes;\n\n        /* Mapping : Joining with Candidate table */\n        @ManyToOne\n        private CandidateProfile candidateProfile;\n\n        /*Constructor*/\n        public ExperienceDetails() {\n            super();\n        }\n\n\n        /*Constructor using fields*/\n        /**\n         * @param id\n         * @param totExperience\n         * @param companiesMonthExperience\n         * @param _skills\n         * @param extraCurricular\n         * @param notes\n         * @param candidateProfile\n         */\n        public ExperienceDetails(int id, String totExperience, String companiesMonthExperience, String _skills,\n                String extraCurricular, String notes, CandidateProfile candidateProfile) {\n            super();\n            this.id = id;\n            this.totExperience = totExperience;\n            this.companiesMonthExperience = companiesMonthExperience;\n            this._skills = _skills;\n            this.extraCurricular = extraCurricular;\n            this.notes = notes;\n            this.candidateProfile = candidateProfile;\n        }\n\n        /* Generating Getters and setters */</pre>\n\n<p>/// This is my role entity //////</p>\n\n<pre>\n\n    import java.io.Serializable;\n    import java.util.List;\n\n    import javax.persistence.CascadeType;\n    import javax.persistence.Column;\n    import javax.persistence.Entity;\n    import javax.persistence.FetchType;\n    import javax.persistence.GeneratedValue;\n    import javax.persistence.Id;\n    import javax.persistence.OneToMany;\n    import javax.persistence.Table;\n    import javax.xml.bind.annotation.XmlRootElement;\n\n    import com.fasterxml.jackson.annotation.JsonBackReference;\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\n    @Entity\n    @Table(name=\"role\")\n    @JsonIgnoreProperties({\"hibernateLazyInitializer\", \"handler\"})\n    @XmlRootElement\n    public class Role implements Serializable {\n\n        private static final long serialVersionUID = 1L;\n\n        @Id\n        @GeneratedValue\n        private int id;\n\n        @Column(length = 10)\n        private String name;\n\n        @OneToMany(mappedBy = \"roleName\", fetch = FetchType.LAZY,cascade = CascadeType.REMOVE)\n        @JsonBackReference\n        private List candidateProfiles;\n\n        @OneToMany(mappedBy = \"companyRoleName\", fetch = FetchType.LAZY,cascade = CascadeType.REMOVE)\n        @JsonBackReference\n        private List recruiterDetails;\n\n</pre>\n\n<p>\nThis error I'm getting----------------</p>\n\n<pre><code>Failed to evaluate Jackson deserialization for type [[simple type, class \ncom.demo.project.premiumjobportal.model.CandidateProfile]]: \ncom.fasterxml.jackson.databind.JsonMappingException: Multiple back-reference \nproperties with name 'defaultReference'\n</code></pre>\n\n<p>Please help me with this. I searched everywhere and I tried every solution but then also I'm getting this error.</p>\n"},{"tags":["java","location","android-location"],"owner":{"account_id":25311834,"reputation":73,"user_id":19134480,"display_name":"Patrick Renaud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676395691,"creation_date":1676395691,"question_id":75451308,"body_markdown":"I am implementing an android  application in java to retrieve Location but the location doesn&#39;t update every time i call the function , it always returns me the same positions and i don&#39;t understand why.First i collect the position by calling the getCurrentLocation function ,then the callbackLocation function to update the location and finally the  onstartLocationUpdates() to call the callbackLocation function;  .I also allow all the permission when launching the app. Here is the code i&#39;ve implemented :\r\n\r\n    public class TimeService extends Service {\r\n        private final static String TAG = TimeService.class.getName();\r\n        BroadcastReceiver mReceiver;\r\n        private LocationCallback locationCallback;\r\n    \r\n        LocationRequest locationRequest;\r\n      \r\n        FusedLocationProviderClient fusedClient;\r\n        double Longitude, Latitude, Altitude;\r\n        float Accuracy;\r\n       \r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            fusedClient = LocationServices.getFusedLocationProviderClient(this);\r\n            LocalBroadcastManager.getInstance(this).registerReceiver(myReceiver, new IntentFilter(&quot;sendLocationIntent&quot;));\r\n     \r\n            getCurrentLocation();\r\n            callbackLocation();\r\n    \r\n        }\r\n    \r\n     \r\n    \r\n        //Here when i am trying to update the location when i receive the upcoming message\r\n       \r\n        private final BroadcastReceiver myReceiver = new BroadcastReceiver() {\r\n            @Override\r\n            public void onReceive(Context context, Intent intent) {\r\n                if (!intent.getAction().equals(&quot;sendLocationIntent&quot;)) {\r\n                    return;\r\n                }\r\n                onstartLocationUpdates();\r\n                String socket_id = intent.getStringExtra(&quot;socket_id&quot;);\r\n                String messageTosend = Latitude + &quot;:&quot; + Longitude + &quot;:&quot; + Altitude + &quot;:&quot; + Accuracy + &quot;:&quot; + socket_id + &quot;:&quot; + globals.getDeviceIMEI(TimeService.this);\r\n                ;\r\n                sendLocationMessageWithStatus();\r\n    \r\n    \r\n            }\r\n        };\r\n    \r\n       \r\n        protected void sendLocationMessageWithStatus(String phoneNumber, String Msg) {\r\n           \r\n        //Send message block\r\n        }\r\n    \r\n    \r\n     \r\n        public void getCurrentLocation() {\r\n            fusedClient.getLastLocation()\r\n                    .addOnSuccessListener(getMainExecutor(), new OnSuccessListener&lt;Location&gt;() {\r\n                        @Override\r\n                        public void onSuccess(Location location) {\r\n                            if (location != null) {\r\n                                Latitude = location.getLatitude();\r\n                                Longitude = location.getLongitude();\r\n                                Accuracy = location.getAccuracy();\r\n                            }\r\n                        }\r\n                    });\r\n            //Setting\r\n            createLocationRequest();\r\n            LocationSettingsRequest.Builder builder = new LocationSettingsRequest.Builder()\r\n                    .addLocationRequest(locationRequest);\r\n            SettingsClient client = LocationServices.getSettingsClient(this);\r\n            Task&lt;LocationSettingsResponse&gt; task = client.checkLocationSettings(builder.build());\r\n            task.addOnSuccessListener(getMainExecutor(), new OnSuccessListener&lt;LocationSettingsResponse&gt;() {\r\n                @Override\r\n                public void onSuccess(LocationSettingsResponse locationSettingsResponse) {\r\n                    // All location settings are satisfied. The client can initialize\r\n                    // location requests here.\r\n                    // ...\r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n        protected void createLocationRequest() {\r\n            locationRequest = new LocationRequest();\r\n            LocationRequest.Builder locationRequestBuilder = new LocationRequest.Builder(locationRequest);\r\n            locationRequestBuilder.setIntervalMillis(10000);\r\n            locationRequestBuilder.setMinUpdateIntervalMillis(5000);\r\n            locationRequestBuilder.setPriority(Priority.PRIORITY_HIGH_ACCURACY);\r\n        }\r\n        private void onstartLocationUpdates() {\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                return;\r\n            }\r\n            fusedClient.requestLocationUpdates(locationRequest,\r\n                    locationCallback,\r\n                    Looper.getMainLooper());\r\n     \r\n      private void callbackLocation(){\r\n          locationCallback = new LocationCallback() {\r\n              @Override\r\n              public void onLocationResult(LocationResult locationResult) {\r\n                  if (locationResult == null) {\r\n                      return;\r\n                  }\r\n                  for (Location location : locationResult.getLocations()) {\r\n                  \r\n                      Latitude = location.getLatitude();\r\n                      Longitude = location.getLongitude();\r\n                      Accuracy = location.getAccuracy();\r\n                  }\r\n              }\r\n          };\r\n      }\r\n    }\r\n\r\n","title":"location does&#39;t update after calling update function","body":"<p>I am implementing an android  application in java to retrieve Location but the location doesn't update every time i call the function , it always returns me the same positions and i don't understand why.First i collect the position by calling the getCurrentLocation function ,then the callbackLocation function to update the location and finally the  onstartLocationUpdates() to call the callbackLocation function;  .I also allow all the permission when launching the app. Here is the code i've implemented :</p>\n<pre><code>public class TimeService extends Service {\n    private final static String TAG = TimeService.class.getName();\n    BroadcastReceiver mReceiver;\n    private LocationCallback locationCallback;\n\n    LocationRequest locationRequest;\n  \n    FusedLocationProviderClient fusedClient;\n    double Longitude, Latitude, Altitude;\n    float Accuracy;\n   \n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        fusedClient = LocationServices.getFusedLocationProviderClient(this);\n        LocalBroadcastManager.getInstance(this).registerReceiver(myReceiver, new IntentFilter(&quot;sendLocationIntent&quot;));\n \n        getCurrentLocation();\n        callbackLocation();\n\n    }\n\n \n\n    //Here when i am trying to update the location when i receive the upcoming message\n   \n    private final BroadcastReceiver myReceiver = new BroadcastReceiver() {\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            if (!intent.getAction().equals(&quot;sendLocationIntent&quot;)) {\n                return;\n            }\n            onstartLocationUpdates();\n            String socket_id = intent.getStringExtra(&quot;socket_id&quot;);\n            String messageTosend = Latitude + &quot;:&quot; + Longitude + &quot;:&quot; + Altitude + &quot;:&quot; + Accuracy + &quot;:&quot; + socket_id + &quot;:&quot; + globals.getDeviceIMEI(TimeService.this);\n            ;\n            sendLocationMessageWithStatus();\n\n\n        }\n    };\n\n   \n    protected void sendLocationMessageWithStatus(String phoneNumber, String Msg) {\n       \n    //Send message block\n    }\n\n\n \n    public void getCurrentLocation() {\n        fusedClient.getLastLocation()\n                .addOnSuccessListener(getMainExecutor(), new OnSuccessListener&lt;Location&gt;() {\n                    @Override\n                    public void onSuccess(Location location) {\n                        if (location != null) {\n                            Latitude = location.getLatitude();\n                            Longitude = location.getLongitude();\n                            Accuracy = location.getAccuracy();\n                        }\n                    }\n                });\n        //Setting\n        createLocationRequest();\n        LocationSettingsRequest.Builder builder = new LocationSettingsRequest.Builder()\n                .addLocationRequest(locationRequest);\n        SettingsClient client = LocationServices.getSettingsClient(this);\n        Task&lt;LocationSettingsResponse&gt; task = client.checkLocationSettings(builder.build());\n        task.addOnSuccessListener(getMainExecutor(), new OnSuccessListener&lt;LocationSettingsResponse&gt;() {\n            @Override\n            public void onSuccess(LocationSettingsResponse locationSettingsResponse) {\n                // All location settings are satisfied. The client can initialize\n                // location requests here.\n                // ...\n            }\n        });\n\n    }\n\n    protected void createLocationRequest() {\n        locationRequest = new LocationRequest();\n        LocationRequest.Builder locationRequestBuilder = new LocationRequest.Builder(locationRequest);\n        locationRequestBuilder.setIntervalMillis(10000);\n        locationRequestBuilder.setMinUpdateIntervalMillis(5000);\n        locationRequestBuilder.setPriority(Priority.PRIORITY_HIGH_ACCURACY);\n    }\n    private void onstartLocationUpdates() {\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            return;\n        }\n        fusedClient.requestLocationUpdates(locationRequest,\n                locationCallback,\n                Looper.getMainLooper());\n \n  private void callbackLocation(){\n      locationCallback = new LocationCallback() {\n          @Override\n          public void onLocationResult(LocationResult locationResult) {\n              if (locationResult == null) {\n                  return;\n              }\n              for (Location location : locationResult.getLocations()) {\n              \n                  Latitude = location.getLatitude();\n                  Longitude = location.getLongitude();\n                  Accuracy = location.getAccuracy();\n              }\n          }\n      };\n  }\n}\n</code></pre>\n"},{"tags":["java","tomcat","servlets","browser","netbeans"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1676424429,"post_id":75451304,"comment_id":133133208,"body_markdown":"Update your question with the following information: [1] When you navigate to **Tools &gt; Options &gt; General**, what are the selected values for _Web Browser_ and _Proxy Settings_? [2] What happens when you click the **Test Connection** button for those selections?  Does it work or fail? (A screen shot would help.) [3] State your version of NetBeans.","body":"Update your question with the following information: [1] When you navigate to <b>Tools &gt; Options &gt; General</b>, what are the selected values for <i>Web Browser</i> and <i>Proxy Settings</i>? [2] What happens when you click the <b>Test Connection</b> button for those selections?  Does it work or fail? (A screen shot would help.) [3] State your version of NetBeans."},{"owner":{"account_id":27785600,"reputation":21,"user_id":21213111,"display_name":"cristianpaul76"},"score":0,"creation_date":1676478565,"post_id":75451304,"comment_id":133145993,"body_markdown":"Test connection works every time fine. Selected value browser is &quot;default-system-browser&quot; linked to [/usr/lib/firefox-esr/firefox-esr], it runs fine if invoked by shell. Netbeans version is 19.","body":"Test connection works every time fine. Selected value browser is &quot;default-system-browser&quot; linked to [/usr/lib/firefox-esr/firefox-esr], it runs fine if invoked by shell. Netbeans version is 19."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1676486972,"post_id":75451304,"comment_id":133148550,"body_markdown":"What do you mean by the _&quot;browser configuration inside option&quot;_? Not true solutions, but a couple of possible short-term workarounds: [1] Right-click your project to open **Properties**, then navigate to **Run** in the **Categories** list, and explicitly select Firefox as your browser from the **Browser** drop list. (Presumably your current selection there is _&quot;IDE&#39;s default browser&quot;_?) [2] Alternatively, use **Run &gt; Set Project Browser**. But neither of those approaches will resolve the underlying problem that your `&lt;Default System Browser&gt;`  configuration seems to be invalid...","body":"What do you mean by the <i>&quot;browser configuration inside option&quot;</i>? Not true solutions, but a couple of possible short-term workarounds: [1] Right-click your project to open <b>Properties</b>, then navigate to <b>Run</b> in the <b>Categories</b> list, and explicitly select Firefox as your browser from the <b>Browser</b> drop list. (Presumably your current selection there is <i>&quot;IDE&#39;s default browser&quot;</i>?) [2] Alternatively, use <b>Run &gt; Set Project Browser</b>. But neither of those approaches will resolve the underlying problem that your <code>&lt;Default System Browser&gt;</code>  configuration seems to be invalid..."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1676487513,"post_id":75451304,"comment_id":133148731,"body_markdown":"...To resolve that, navigate to **Tools &gt; Options &gt; General &gt; Web  Browser**, select `&lt;Default System Browser&gt;`, click **Edit...**, and make a note of the value in the **Process** field. Then repeat with `Firefox` as your **Web Browser** selection. Are the values in the two **Process** fields identical? If not, update the **Process** value for `&lt;Default System Browser&gt;` to that of your `Firefox` setting.","body":"...To resolve that, navigate to <b>Tools &gt; Options &gt; General &gt; Web  Browser</b>, select <code>&lt;Default System Browser&gt;</code>, click <b>Edit...</b>, and make a note of the value in the <b>Process</b> field. Then repeat with <code>Firefox</code> as your <b>Web Browser</b> selection. Are the values in the two <b>Process</b> fields identical? If not, update the <b>Process</b> value for <code>&lt;Default System Browser&gt;</code> to that of your <code>Firefox</code> setting."},{"owner":{"account_id":27785600,"reputation":21,"user_id":21213111,"display_name":"cristianpaul76"},"score":0,"creation_date":1676519982,"post_id":75451304,"comment_id":133154536,"body_markdown":"&quot;browser configuration inside option&quot; means Tool&gt;Option&gt;General&gt;Web Browser&gt;Edit. Follow this steps in netbeans you open a Window where you can configure or edit a new or old Browser to use in Netbeans. In that section mentioned above in Process Field there is the path to &quot;browser start command&quot;. In my case it points-out to /usr/lib/fire-fox/firefox; I tried to to launch firefox-esr following the path I write before and it runs correctly. Clicking on Project name Properties&gt;Run you get a drop list of browser to choose. In this second case browser doesn&#39;t start as before.","body":"&quot;browser configuration inside option&quot; means Tool&gt;Option&gt;General&gt;Web Browser&gt;Edit. Follow this steps in netbeans you open a Window where you can configure or edit a new or old Browser to use in Netbeans. In that section mentioned above in Process Field there is the path to &quot;browser start command&quot;. In my case it points-out to /usr/lib/fire-fox/firefox; I tried to to launch firefox-esr following the path I write before and it runs correctly. Clicking on Project name Properties&gt;Run you get a drop list of browser to choose. In this second case browser doesn&#39;t start as before."},{"owner":{"account_id":27785600,"reputation":21,"user_id":21213111,"display_name":"cristianpaul76"},"score":0,"creation_date":1676607484,"post_id":75451304,"comment_id":133175455,"body_markdown":"I don&#39;t know how to update my question posted here. I have written new one so I guess to delete thi question because malformed and useless. I hope my new one be improved.","body":"I don&#39;t know how to update my question posted here. I have written new one so I guess to delete thi question because malformed and useless. I hope my new one be improved."}],"owner":{"account_id":27785600,"reputation":21,"user_id":21213111,"display_name":"cristianpaul76"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676395681,"creation_date":1676395681,"question_id":75451304,"body_markdown":"I compiled a servlet with jsk19 with netbeans. Servlet is deployed on ApacheTomcat10. I can open that Servlet writing directly servlet URL pattern in my browser, but on Netbeans if I run this servlet a message appears &quot;browser cannot be run&quot;. I have checked many times my configuration with &quot;TOOLS&quot; &quot;OPTION&quot; &quot;GENERAL&quot;. I also tried to start browser (Firefox) via &quot;shell&quot; to be sure netbeans path configuration of browser was right and it was right. I Also tried to configure my browser clicking with right click mouse on my project and set up browser configuration inside option, but same trouble came-up.  My log file error in netbeans reports nothing about this error. Any guess?\r\n\r\n","title":"Browser doesnt&#39; run on netbens when I try to open a Servlet","body":"<p>I compiled a servlet with jsk19 with netbeans. Servlet is deployed on ApacheTomcat10. I can open that Servlet writing directly servlet URL pattern in my browser, but on Netbeans if I run this servlet a message appears &quot;browser cannot be run&quot;. I have checked many times my configuration with &quot;TOOLS&quot; &quot;OPTION&quot; &quot;GENERAL&quot;. I also tried to start browser (Firefox) via &quot;shell&quot; to be sure netbeans path configuration of browser was right and it was right. I Also tried to configure my browser clicking with right click mouse on my project and set up browser configuration inside option, but same trouble came-up.  My log file error in netbeans reports nothing about this error. Any guess?</p>\n"},{"tags":["java","arrays"],"owner":{"account_id":27785996,"reputation":17,"user_id":21213426,"display_name":"isopaleocopria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1676396023,"answer_count":0,"score":0,"last_activity_date":1676395624,"creation_date":1676395518,"question_id":75451273,"body_markdown":"Given that Arrays.sort(Object[]) throws a runtime exception if any element of the array cannot be cast to Comparable, wouldn&#39;t it be better to make the method signature Arrays.sort(Comparable[]), and turn those runtime exceptions into compilation errors?\r\n\r\n","title":"In java.util, why is it Arrays.sort(Object[]) and not Arrays.sort(Comparable[])?","body":"<p>Given that Arrays.sort(Object[]) throws a runtime exception if any element of the array cannot be cast to Comparable, wouldn't it be better to make the method signature Arrays.sort(Comparable[]), and turn those runtime exceptions into compilation errors?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1676391886,"post_id":75450603,"comment_id":133125875,"body_markdown":"Can you add the complete stack trace and error message as text, not an image, to your question?","body":"Can you add the complete stack trace and error message as text, not an image, to your question?"},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1676391939,"post_id":75450603,"comment_id":133125893,"body_markdown":"Below that error message is supposed to be the actual reason. So provide your full stacktrace","body":"Below that error message is supposed to be the actual reason. So provide your full stacktrace"},{"owner":{"account_id":24691078,"reputation":21,"user_id":18583577,"display_name":"Casparo"},"score":0,"creation_date":1676394183,"post_id":75450603,"comment_id":133126600,"body_markdown":"@AndyWilkinson I have added the stacktrace please","body":"@AndyWilkinson I have added the stacktrace please"},{"owner":{"account_id":24691078,"reputation":21,"user_id":18583577,"display_name":"Casparo"},"score":0,"creation_date":1676394974,"post_id":75450603,"comment_id":133126860,"body_markdown":"@kerbermeister I have added the stacktrace please","body":"@kerbermeister I have added the stacktrace please"},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1676395309,"post_id":75450603,"comment_id":133126979,"body_markdown":"@Casparo have you configured the datasource? show application.properties (or application.yml, whatever you&#39;re using)","body":"@Casparo have you configured the datasource? show application.properties (or application.yml, whatever you&#39;re using)"},{"owner":{"account_id":24691078,"reputation":21,"user_id":18583577,"display_name":"Casparo"},"score":0,"creation_date":1676395395,"post_id":75450603,"comment_id":133127007,"body_markdown":"@kerbermeister please there&#39;s nothing in the application.properties","body":"@kerbermeister please there&#39;s nothing in the application.properties"},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1676395411,"post_id":75450603,"comment_id":133127012,"body_markdown":"read this https://www.baeldung.com/spring-boot-h2-database","body":"read this <a href=\"https://www.baeldung.com/spring-boot-h2-database\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-h2-database</a>"},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1676395656,"post_id":75450603,"comment_id":133127088,"body_markdown":"Hibernate couldn&#39;t load its `org.hibernate.boot.jaxb.hbm.transform.UnsupportedFeatureHandling` class. It&#39;s part of the `hibernate-core` module so it should have been available. I suspect that your `hibernate-core` jar is corrupted. I would try deleting Maven&#39;s local cache and rebuilding your application.","body":"Hibernate couldn&#39;t load its <code>org.hibernate.boot.jaxb.hbm.transform.UnsupportedFeatureHand&zwnj;&#8203;ling</code> class. It&#39;s part of the <code>hibernate-core</code> module so it should have been available. I suspect that your <code>hibernate-core</code> jar is corrupted. I would try deleting Maven&#39;s local cache and rebuilding your application."},{"owner":{"account_id":24691078,"reputation":21,"user_id":18583577,"display_name":"Casparo"},"score":0,"creation_date":1676395799,"post_id":75450603,"comment_id":133127130,"body_markdown":"Alright @kerbermeister","body":"Alright @kerbermeister"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1676395837,"post_id":75450603,"comment_id":133127143,"body_markdown":"Try changing the spring-boot-starter-parent version in the Pom.xml to 2.7.8. The versions or dependencies might change to one with the missing method. 3.0.2 uses jdk17 and many big changes.","body":"Try changing the spring-boot-starter-parent version in the Pom.xml to 2.7.8. The versions or dependencies might change to one with the missing method. 3.0.2 uses jdk17 and many big changes."},{"owner":{"account_id":24691078,"reputation":21,"user_id":18583577,"display_name":"Casparo"},"score":0,"creation_date":1676395992,"post_id":75450603,"comment_id":133127182,"body_markdown":"I created a new project with Spring Initializr but this time I did not add the H2 database dependency and its working now.","body":"I created a new project with Spring Initializr but this time I did not add the H2 database dependency and its working now."}],"owner":{"account_id":24691078,"reputation":21,"user_id":18583577,"display_name":"Casparo"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":609,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676395518,"creation_date":1676391705,"question_id":75450603,"body_markdown":"I just created a spring boot project using Spring Initializr and decide to run the application without doing anything to it but I get this error when running.\r\n\r\nBelow is my main class\r\n\r\n```java\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class SpringbootTutorialAppApplication {\r\n \r\n \tpublic static void main(String[] args) {\r\n    \tSpringApplication.run(SpringbootTutorialAppApplication.class, args);\r\n    }\r\n}\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n[![Below are images of my pom.xml][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WO8AR.png\r\n  [2]: https://i.stack.imgur.com/1pqlm.png\r\n\r\nBelow is the stacktrace\r\n\r\n```\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-02-14T16:58:28.725Z ERROR 7900 --- [           main] o.s.boot.SpringApplication               : Application run failed org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: org/hibernate/boot/jaxb/hbm/transform/UnsupportedFeatureHandling\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751)~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat com.kessie.SpringbootTutorialApp.SpringbootTutorialAppApplication.main(SpringbootTutorialAppApplication.java:11) ~[classes/:na]\r\nCaused by: java.lang.NoClassDefFoundError: org/hibernate/boot/jaxb/hbm/transform/UnsupportedFeatureHandling\r\n\tat org.hibernate.boot.jaxb.internal.MappingBinder.&lt;init&gt;(MappingBinder.java:144) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.boot.jaxb.internal.MappingBinder.&lt;init&gt;(MappingBinder.java:152) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.boot.spi.XmlMappingBinderAccess.&lt;init&gt;(XmlMappingBinderAccess.java:44) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.boot.MetadataSources.getXmlMappingBinderAccess(MetadataSources.java:119) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.prepare(MetadataBuildingProcess.java:121) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:287) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:189) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:60) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\t... 16 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.hibernate.boot.jaxb.hbm.transform.UnsupportedFeatureHandling\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n\t... 30 common frames omitted\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nI have seen similar questions posted here but the solutions provided seems not to work.","title":"Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled","body":"<p>I just created a spring boot project using Spring Initializr and decide to run the application without doing anything to it but I get this error when running.</p>\n<p>Below is my main class</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class SpringbootTutorialAppApplication {\n \n    public static void main(String[] args) {\n        SpringApplication.run(SpringbootTutorialAppApplication.class, args);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/WO8AR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WO8AR.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/1pqlm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1pqlm.png\" alt=\"Below are images of my pom.xml\" /></a></p>\n<p>Below is the stacktrace</p>\n<pre><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-02-14T16:58:28.725Z ERROR 7900 --- [           main] o.s.boot.SpringApplication               : Application run failed org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: org/hibernate/boot/jaxb/hbm/transform/UnsupportedFeatureHandling\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751)~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\n    at com.kessie.SpringbootTutorialApp.SpringbootTutorialAppApplication.main(SpringbootTutorialAppApplication.java:11) ~[classes/:na]\nCaused by: java.lang.NoClassDefFoundError: org/hibernate/boot/jaxb/hbm/transform/UnsupportedFeatureHandling\n    at org.hibernate.boot.jaxb.internal.MappingBinder.&lt;init&gt;(MappingBinder.java:144) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.boot.jaxb.internal.MappingBinder.&lt;init&gt;(MappingBinder.java:152) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.boot.spi.XmlMappingBinderAccess.&lt;init&gt;(XmlMappingBinderAccess.java:44) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.boot.MetadataSources.getXmlMappingBinderAccess(MetadataSources.java:119) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.prepare(MetadataBuildingProcess.java:121) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:287) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:189) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:60) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.4.jar:6.0.4]\n    ... 16 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.hibernate.boot.jaxb.hbm.transform.UnsupportedFeatureHandling\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    ... 30 common frames omitted\n\nProcess finished with exit code 1\n</code></pre>\n<p>I have seen similar questions posted here but the solutions provided seems not to work.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-data"],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1676395396,"creation_date":1676395396,"question_id":75451246,"body_markdown":"Small question on SpringBoot and Spring Data, how to add an extra column please.\r\n\r\nI have a very small and straightforward web app which does nothing but save a pojo.\r\n\r\n```\r\n@RestController\r\npublic class MyController {\r\n\r\n    @Autowired MyCassandraRepository myCassandraRepository;\r\n\r\n    @GetMapping(path = &quot;/test&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public Mono&lt;String&gt; test(@RequestBody MyPojo myPojo) {\r\n        MyDuplicatedPojoJustToAddExtraColumn myDuplicatedPojoJustToAddExtraColumn = new MyDuplicatedPojoJustToAddExtraColumn(myPojo, &quot;computeSomeExtraInfo&quot;);\r\n        return myCassandraRepository.save(myDuplicatedPojoJustToAddExtraColumn).map(__ -&gt; &quot;successButThereIsDuplicatePojo&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe pojo is from a third party library I have no control over:\r\n```\r\npublic class MyPojo {\r\n\r\n    @PrimaryKey\r\n    private String id;\r\n\r\n    private String value;\r\n    \r\n    //getter and setter\r\n\r\n}\r\n\r\n```\r\n\r\nWe used to just take the input pojo &quot;as it is&quot; and save it, happy.\r\n\r\nHowever, we had new requirement, where we need to compute some extra info, and then, save this pojo, with the extra information computed.\r\n\r\nQuestion: Is there a way to add the extra info without duplicating an object please?\r\n\r\nWhat I tried: so far, we could only do so by duplicating the object in our code base. Meaning, instead of just using the MyPojo object, we carry a redundant \r\n\r\n```\r\npublic class MyDuplicatedPojoJustToAddExtraColumn extends MyPojo {\r\n\r\n    private String someExtraInfoToPutInAnotherColumn;\r\n    \r\n    //getter and setter\r\n\r\n}\r\n```\r\n\r\nAnd in our code, we compute the extra info needed, copy all the fields from MyPojo back to this duplicate object, which has everything, and save it.\r\n\r\nIn this example, MyPojo has only two colums, but in fact, it is a very heavy object, and we duplicate it just to add one or two extra column.\r\n\r\nIs there a way to do so by just adding the info directly to the MyPojo, or in the Spring Data query, without having to duplicate things please?\r\n\r\nThank you","title":"Adding an extra column to pojo without duplicating an object with spring data","body":"<p>Small question on SpringBoot and Spring Data, how to add an extra column please.</p>\n<p>I have a very small and straightforward web app which does nothing but save a pojo.</p>\n<pre><code>@RestController\npublic class MyController {\n\n    @Autowired MyCassandraRepository myCassandraRepository;\n\n    @GetMapping(path = &quot;/test&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    public Mono&lt;String&gt; test(@RequestBody MyPojo myPojo) {\n        MyDuplicatedPojoJustToAddExtraColumn myDuplicatedPojoJustToAddExtraColumn = new MyDuplicatedPojoJustToAddExtraColumn(myPojo, &quot;computeSomeExtraInfo&quot;);\n        return myCassandraRepository.save(myDuplicatedPojoJustToAddExtraColumn).map(__ -&gt; &quot;successButThereIsDuplicatePojo&quot;);\n    }\n\n}\n</code></pre>\n<p>The pojo is from a third party library I have no control over:</p>\n<pre><code>public class MyPojo {\n\n    @PrimaryKey\n    private String id;\n\n    private String value;\n    \n    //getter and setter\n\n}\n\n</code></pre>\n<p>We used to just take the input pojo &quot;as it is&quot; and save it, happy.</p>\n<p>However, we had new requirement, where we need to compute some extra info, and then, save this pojo, with the extra information computed.</p>\n<p>Question: Is there a way to add the extra info without duplicating an object please?</p>\n<p>What I tried: so far, we could only do so by duplicating the object in our code base. Meaning, instead of just using the MyPojo object, we carry a redundant</p>\n<pre><code>public class MyDuplicatedPojoJustToAddExtraColumn extends MyPojo {\n\n    private String someExtraInfoToPutInAnotherColumn;\n    \n    //getter and setter\n\n}\n</code></pre>\n<p>And in our code, we compute the extra info needed, copy all the fields from MyPojo back to this duplicate object, which has everything, and save it.</p>\n<p>In this example, MyPojo has only two colums, but in fact, it is a very heavy object, and we duplicate it just to add one or two extra column.</p>\n<p>Is there a way to do so by just adding the info directly to the MyPojo, or in the Spring Data query, without having to duplicate things please?</p>\n<p>Thank you</p>\n"},{"tags":["java","enums","switch-statement"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1501963977,"post_id":10161408,"comment_id":78012135,"body_markdown":"As darrengorman commented, Java [`Enum`](http://docs.oracle.com/javase/8/docs/api/java/lang/Enum.html) are *extremely* handy once you get the hang of them – not at all a mess. They are much more flexible and practical than simple enums (merely a labeled integer value) as seen on other platforms. See the [Oracle Tutorial](http://docs.oracle.com/javase/tutorial/java/javaOO/enum.html). Discover the optimized `Set`/`Map` implementations: [`EnumSet`](http://docs.oracle.com/javase/8/docs/api/java/util/EnumSet.html) &amp; [`EnumMap`](http://docs.oracle.com/javase/8/docs/api/java/util/EnumMap.html).","body":"As darrengorman commented, Java <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Enum.html\" rel=\"nofollow noreferrer\"><code>Enum</code></a> are <i>extremely</i> handy once you get the hang of them – not at all a mess. They are much more flexible and practical than simple enums (merely a labeled integer value) as seen on other platforms. See the <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">Oracle Tutorial</a>. Discover the optimized <code>Set</code>/<code>Map</code> implementations: <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/EnumSet.html\" rel=\"nofollow noreferrer\"><code>EnumSet</code></a> &amp; <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/EnumMap.html\" rel=\"nofollow noreferrer\"><code>EnumMap</code></a>."},{"owner":{"account_id":3045270,"reputation":3818,"user_id":2581128,"display_name":"lkamal"},"score":2,"creation_date":1510858328,"post_id":10161408,"comment_id":81626017,"body_markdown":"When you try to qualify the case statement; in a way, you are trying to say that I can mix different types of enums (not just same enum type) within a single switch statement. Java has stopped it with this approach as discussed here http://www.digizol.com/2010/10/enum-case-label-switch-java-qualified.html","body":"When you try to qualify the case statement; in a way, you are trying to say that I can mix different types of enums (not just same enum type) within a single switch statement. Java has stopped it with this approach as discussed here <a href=\"http://www.digizol.com/2010/10/enum-case-label-switch-java-qualified.html\" rel=\"nofollow noreferrer\">digizol.com/2010/10/enum-case-label-switch-java-qualified.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":1431635,"reputation":5085,"user_id":1353930,"accept_rate":50,"display_name":"Daniel Alder"},"score":0,"creation_date":1564388906,"post_id":10161408,"comment_id":100999884,"body_markdown":"This happened to me while refactoring (moving) a class in IntelliJ 2018.2","body":"This happened to me while refactoring (moving) a class in IntelliJ 2018.2"}],"answers":[{"tags":[],"owner":{"account_id":101191,"reputation":4195,"user_id":272388,"accept_rate":100,"display_name":"Kru"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1334487833,"creation_date":1334487833,"answer_id":10161441,"question_id":10161408,"body_markdown":"Java infers automatically the type of the elements in `case`, so the labels must be unqualified.\r\n\r\n    int i;\r\n    switch(i) {\r\n       case 5: // &lt;- integer is expected\r\n    }\r\n    MyEnum e;\r\n    switch (e) {\r\n       case VALUE_A: // &lt;- an element of the enumeration is expected\r\n    }","title":"Java: using switch statement with enum under subclass","body":"<p>Java infers automatically the type of the elements in <code>case</code>, so the labels must be unqualified.</p>\n\n<pre><code>int i;\nswitch(i) {\n   case 5: // &lt;- integer is expected\n}\nMyEnum e;\nswitch (e) {\n   case VALUE_A: // &lt;- an element of the enumeration is expected\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26594,"reputation":13012,"user_id":69352,"display_name":"darrengorman"},"down_vote_count":1,"up_vote_count":790,"is_accepted":true,"score":789,"last_activity_date":1334487913,"creation_date":1334487913,"answer_id":10161455,"question_id":10161408,"body_markdown":"Change it to this:\r\n\r\n    switch (enumExample) {\r\n        case VALUE_A: {\r\n            //..\r\n            break;\r\n        }\r\n    }\r\n\r\nThe clue is in the error. You don&#39;t need to qualify `case` labels with the enum type, just its value.","title":"Java: using switch statement with enum under subclass","body":"<p>Change it to this:</p>\n\n<pre><code>switch (enumExample) {\n    case VALUE_A: {\n        //..\n        break;\n    }\n}\n</code></pre>\n\n<p>The clue is in the error. You don't need to qualify <code>case</code> labels with the enum type, just its value.</p>\n"},{"tags":[],"owner":{"account_id":1375604,"reputation":7717,"user_id":1309650,"accept_rate":33,"display_name":"dash1e"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1334488078,"creation_date":1334488078,"answer_id":10161479,"question_id":10161408,"body_markdown":"Write `someMethod()` in this way:\r\n\r\n\r\n\tpublic void someMethod() {\r\n\r\n\t\tSomeClass.AnotherClass.MyEnum enumExample = SomeClass.AnotherClass.MyEnum.VALUE_A;\r\n\r\n\t\tswitch (enumExample) {\r\n\t\tcase VALUE_A:\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t}\r\n\r\nIn switch statement you must use the constant name only.\r\n","title":"Java: using switch statement with enum under subclass","body":"<p>Write <code>someMethod()</code> in this way:</p>\n\n<pre><code>public void someMethod() {\n\n    SomeClass.AnotherClass.MyEnum enumExample = SomeClass.AnotherClass.MyEnum.VALUE_A;\n\n    switch (enumExample) {\n    case VALUE_A:\n        break;\n    }\n\n}\n</code></pre>\n\n<p>In switch statement you must use the constant name only.</p>\n"},{"tags":[],"owner":{"account_id":1399756,"reputation":115,"user_id":1328745,"accept_rate":50,"display_name":"Woyzeck"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1334488144,"creation_date":1334488144,"answer_id":10161488,"question_id":10161408,"body_markdown":"this should do:\r\n\r\n\r\n    //Main Class\r\n    public class SomeClass {\r\n    \r\n        //Sub-Class\r\n        public static class AnotherClass {\r\n            public enum MyEnum {\r\n                VALUE_A, VALUE_B\r\n            }    \r\n            public MyEnum myEnum;\r\n        }\r\n\r\n        public void someMethod() { \r\n            AnotherClass.MyEnum enumExample = AnotherClass.MyEnum.VALUE_A; //...\r\n\r\n            switch (enumExample) {\r\n                case VALUE_A: { //&lt;-- error on this line\r\n                //..\r\n                break;\r\n                }\r\n            }\r\n        }\r\n    }","title":"Java: using switch statement with enum under subclass","body":"<p>this should do:</p>\n\n<pre><code>//Main Class\npublic class SomeClass {\n\n    //Sub-Class\n    public static class AnotherClass {\n        public enum MyEnum {\n            VALUE_A, VALUE_B\n        }    \n        public MyEnum myEnum;\n    }\n\n    public void someMethod() { \n        AnotherClass.MyEnum enumExample = AnotherClass.MyEnum.VALUE_A; //...\n\n        switch (enumExample) {\n            case VALUE_A: { //&lt;-- error on this line\n            //..\n            break;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":448418,"reputation":4277,"user_id":842607,"accept_rate":83,"display_name":"Jimit Patel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1490866212,"creation_date":1490866212,"answer_id":43113777,"question_id":10161408,"body_markdown":"This is how I am using it. And it is working fantastically -\r\n\r\n    public enum Button {\r\n            REPORT_ISSUES(0),\r\n            CANCEL_ORDER(1),\r\n            RETURN_ORDER(2);\r\n    \r\n            private int value;\r\n    \r\n            Button(int value) {\r\n                this.value = value;\r\n            }\r\n    \r\n            public int getValue() {\r\n                return value;\r\n            }\r\n        }\r\n\r\nAnd the `switch-case` as shown below\r\n\r\n\r\n    @Override\r\n    public void onClick(MyOrderDetailDelgate.Button button, int position) {\r\n        switch (button) {\r\n            case REPORT_ISSUES: {\r\n                break;\r\n            }\r\n            case CANCEL_ORDER: {\r\n                break;\r\n            }\r\n            case RETURN_ORDER: {\r\n                break;\r\n            }\r\n        }\r\n    }","title":"Java: using switch statement with enum under subclass","body":"<p>This is how I am using it. And it is working fantastically -</p>\n\n<pre><code>public enum Button {\n        REPORT_ISSUES(0),\n        CANCEL_ORDER(1),\n        RETURN_ORDER(2);\n\n        private int value;\n\n        Button(int value) {\n            this.value = value;\n        }\n\n        public int getValue() {\n            return value;\n        }\n    }\n</code></pre>\n\n<p>And the <code>switch-case</code> as shown below</p>\n\n<pre><code>@Override\npublic void onClick(MyOrderDetailDelgate.Button button, int position) {\n    switch (button) {\n        case REPORT_ISSUES: {\n            break;\n        }\n        case CANCEL_ORDER: {\n            break;\n        }\n        case RETURN_ORDER: {\n            break;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2152996,"reputation":2186,"user_id":1908827,"display_name":"Akash Yellappa"},"down_vote_count":0,"up_vote_count":64,"is_accepted":false,"score":64,"last_activity_date":1552007055,"creation_date":1551996941,"answer_id":55053669,"question_id":10161408,"body_markdown":"Wrong:  \r\n\r\n    case AnotherClass.MyEnum.VALUE_A\r\nRight:\r\n\r\n    case VALUE_A:","title":"Java: using switch statement with enum under subclass","body":"<p>Wrong:  </p>\n\n<pre><code>case AnotherClass.MyEnum.VALUE_A\n</code></pre>\n\n<p>Right:</p>\n\n<pre><code>case VALUE_A:\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6496171,"reputation":2374,"user_id":5028715,"display_name":"hbamithkumara"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1616662775,"creation_date":1616662775,"answer_id":66796094,"question_id":10161408,"body_markdown":"From **Java 14** onwards, one can use switch expressions.\r\n\r\nFor this post\r\n\r\n```\r\npublic enum MyEnum {\r\n    VALUE_A, VALUE_B;\r\n}\r\n```\r\n\r\n```\r\npublic void someMethod() { \r\n\tMyEnum enumExample //...\r\n\r\n\tswitch (enumExample) {\r\n\t\tcase VALUE_A -&gt; {\r\n\t\t\t// logic\r\n\t\t}\r\n\t\tcase VALUE_B -&gt; {\r\n\t\t\t// logic\r\n\t\t}\t\r\n\t}\r\n}\r\n```\r\n\r\nSwitch expression\r\n\r\n&gt; Like all expressions, switch expressions evaluate to a single value and can be used in statements. They may contain &quot;case L -&gt;&quot; labels that eliminate the need for break statements to prevent fall through. You can use a yield statement to specify the value of a switch expression.\r\n\r\n```\r\npublic enum Month {\r\n    JAN, FEB, MAR, APR, MAY, JUN, JUL, AUG, SEP, OCT, NOV, DEC;\r\n}\r\n```\r\nExample 1: Returns value.\r\n\r\n```\r\npublic static int getNoOfDaysInAMonth(Month month, boolean isLeapYear) {\r\n\treturn switch(month) {\r\n\t\tcase APR, JUN, SEP, NOV -&gt; 30;\r\n\t\tcase FEB -&gt; (isLeapYear)? 29: 28;\r\n\t\tcase JAN, MAR, MAY, JUL, AUG, OCT, DEC -&gt; 31;\r\n\t};\r\n}\r\n```\r\nExample 2: Doesn&#39;t returns value.\r\n```\r\npublic static void printNoOfDaysInAMonth(Month month, boolean isLeapYear) {\r\n\tswitch(month) {\r\n\t\tcase APR, JUN, SEP, NOV -&gt; {\r\n\t\t\tSystem.out.println(&quot;30 days&quot;);\r\n\t\t}\r\n\t\tcase FEB -&gt; {\r\n\t\t\tSystem.out.println(((isLeapYear)? 29: 28) + &quot; days&quot;);\r\n\t\t}\r\n\t\tcase JAN, MAR, MAY, JUL, AUG, OCT, DEC -&gt; {\r\n\t\t\tSystem.out.println(&quot;31 days&quot;);\r\n\t\t}\r\n\t};\r\n}\r\n```\r\nReference\r\n\r\n[Switch Expressions][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/15/language/switch-expressions.html","title":"Java: using switch statement with enum under subclass","body":"<p>From <strong>Java 14</strong> onwards, one can use switch expressions.</p>\n<p>For this post</p>\n<pre><code>public enum MyEnum {\n    VALUE_A, VALUE_B;\n}\n</code></pre>\n<pre><code>public void someMethod() { \n    MyEnum enumExample //...\n\n    switch (enumExample) {\n        case VALUE_A -&gt; {\n            // logic\n        }\n        case VALUE_B -&gt; {\n            // logic\n        }   \n    }\n}\n</code></pre>\n<p>Switch expression</p>\n<blockquote>\n<p>Like all expressions, switch expressions evaluate to a single value and can be used in statements. They may contain &quot;case L -&gt;&quot; labels that eliminate the need for break statements to prevent fall through. You can use a yield statement to specify the value of a switch expression.</p>\n</blockquote>\n<pre><code>public enum Month {\n    JAN, FEB, MAR, APR, MAY, JUN, JUL, AUG, SEP, OCT, NOV, DEC;\n}\n</code></pre>\n<p>Example 1: Returns value.</p>\n<pre><code>public static int getNoOfDaysInAMonth(Month month, boolean isLeapYear) {\n    return switch(month) {\n        case APR, JUN, SEP, NOV -&gt; 30;\n        case FEB -&gt; (isLeapYear)? 29: 28;\n        case JAN, MAR, MAY, JUL, AUG, OCT, DEC -&gt; 31;\n    };\n}\n</code></pre>\n<p>Example 2: Doesn't returns value.</p>\n<pre><code>public static void printNoOfDaysInAMonth(Month month, boolean isLeapYear) {\n    switch(month) {\n        case APR, JUN, SEP, NOV -&gt; {\n            System.out.println(&quot;30 days&quot;);\n        }\n        case FEB -&gt; {\n            System.out.println(((isLeapYear)? 29: 28) + &quot; days&quot;);\n        }\n        case JAN, MAR, MAY, JUL, AUG, OCT, DEC -&gt; {\n            System.out.println(&quot;31 days&quot;);\n        }\n    };\n}\n</code></pre>\n<p>Reference</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/15/language/switch-expressions.html\" rel=\"noreferrer\">Switch Expressions</a></p>\n"},{"tags":[],"owner":{"account_id":24346816,"reputation":21,"user_id":18283245,"display_name":"Nicholas Barros"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676395212,"creation_date":1676395134,"answer_id":75451199,"question_id":10161408,"body_markdown":"You dont need put instance of enum class, you have to put only enum constant of enum class, like this:\r\n\r\n    switch (enumExample) {\r\n       case VALUE_A: { &lt;-- puting only constant, it will works.\r\n           //..\r\n          break;\r\n       }","title":"Java: using switch statement with enum under subclass","body":"<p>You dont need put instance of enum class, you have to put only enum constant of enum class, like this:</p>\n<pre><code>switch (enumExample) {\n   case VALUE_A: { &lt;-- puting only constant, it will works.\n       //..\n      break;\n   }\n</code></pre>\n"}],"owner":{"account_id":1011831,"reputation":6443,"user_id":1024246,"accept_rate":80,"display_name":"Popokoko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228312,"favorite_count":0,"down_vote_count":0,"up_vote_count":402,"accepted_answer_id":10161455,"answer_count":8,"score":402,"last_activity_date":1676395212,"creation_date":1334487578,"question_id":10161408,"body_markdown":"First I&#39;ll state that I&#39;m much more familiar with enums in C# and it seems like enums in java is a quite mess.\r\n\r\nAs you can see, I&#39;m trying to use a switch statement @ enums in my next example but I always get an error no matter what I&#39;m doing.\r\n\r\n**The error I receive is:**\r\n\r\n&gt; The qualified case label `SomeClass.AnotherClass.MyEnum.VALUE_A` must be replaced with the unqualified enum constant `VALUE_A`\r\n\r\nThe thing is I *quite* understand the error but I can&#39;t just write the VALUE_A since the enum is located in another sub-class. Is there a way to solve this problem? And why is it happening in Java?\r\n\r\n    //Main Class\r\n    public class SomeClass {\r\n    \r\n    \t//Sub-Class\r\n    \tpublic static class AnotherClass {\r\n    \t\tpublic enum MyEnum {\r\n    \t\t\tVALUE_A, VALUE_B\r\n    \t\t}    \r\n    \t\tpublic MyEnum myEnum;\r\n    \t}\r\n    \t\r\n    \tpublic void someMethod() { \r\n    \t\tMyEnum enumExample //...\r\n    \t\t\r\n    \t\tswitch (enumExample) {\r\n    \t\t\tcase AnotherClass.MyEnum.VALUE_A: { &lt;-- error on this line\r\n    \t\t\t\t//..\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }","title":"Java: using switch statement with enum under subclass","body":"<p>First I'll state that I'm much more familiar with enums in C# and it seems like enums in java is a quite mess.</p>\n\n<p>As you can see, I'm trying to use a switch statement @ enums in my next example but I always get an error no matter what I'm doing.</p>\n\n<p><strong>The error I receive is:</strong></p>\n\n<blockquote>\n  <p>The qualified case label <code>SomeClass.AnotherClass.MyEnum.VALUE_A</code> must be replaced with the unqualified enum constant <code>VALUE_A</code></p>\n</blockquote>\n\n<p>The thing is I <em>quite</em> understand the error but I can't just write the VALUE_A since the enum is located in another sub-class. Is there a way to solve this problem? And why is it happening in Java?</p>\n\n<pre><code>//Main Class\npublic class SomeClass {\n\n    //Sub-Class\n    public static class AnotherClass {\n        public enum MyEnum {\n            VALUE_A, VALUE_B\n        }    \n        public MyEnum myEnum;\n    }\n\n    public void someMethod() { \n        MyEnum enumExample //...\n\n        switch (enumExample) {\n            case AnotherClass.MyEnum.VALUE_A: { &lt;-- error on this line\n                //..\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","kubernetes","amazon-eks","flyway"],"comments":[{"owner":{"account_id":79319,"reputation":31734,"user_id":225016,"display_name":"mdaniel"},"score":0,"creation_date":1675737984,"post_id":75366324,"comment_id":132989074,"body_markdown":"I&#39;m not sure how you are expecting anyone on the Internet to diagnose your networking woes when all you&#39;ve provided is &quot;it didn&#39;t work.&quot; Are you able to connect as user `postgresql` to that hostname from some other pod, just not from flyway? Are the pods behind the `db` service `Running` and `Ready`? Please don&#39;t use comments to add details, instead [edit your question](https://stackoverflow.com/posts/75366324/edit) and make the question more complete. Good luck","body":"I&#39;m not sure how you are expecting anyone on the Internet to diagnose your networking woes when all you&#39;ve provided is &quot;it didn&#39;t work.&quot; Are you able to connect as user <code>postgresql</code> to that hostname from some other pod, just not from flyway? Are the pods behind the <code>db</code> service <code>Running</code> and <code>Ready</code>? Please don&#39;t use comments to add details, instead <a href=\"https://stackoverflow.com/posts/75366324/edit\">edit your question</a> and make the question more complete. Good luck"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1675771697,"post_id":75366324,"comment_id":132996478,"body_markdown":"Your username suggests you&#39;re using PostgreSQL, but you&#39;re trying to use the MySQL JDBC driver. That seems off. In any case the error suggests that nothing is listening on host db port 3306 (or it is blocked by a firewall), which would be pretty much expected when you&#39;re actually using PostgreSQL (which has default port 5432).","body":"Your username suggests you&#39;re using PostgreSQL, but you&#39;re trying to use the MySQL JDBC driver. That seems off. In any case the error suggests that nothing is listening on host db port 3306 (or it is blocked by a firewall), which would be pretty much expected when you&#39;re actually using PostgreSQL (which has default port 5432)."}],"owner":{"account_id":27260329,"reputation":11,"user_id":20783255,"display_name":"David K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1675778039,"answer_count":0,"score":1,"last_activity_date":1676394985,"creation_date":1675715827,"question_id":75366324,"body_markdown":"I have java backend pod and mysql statfulset db. when I see logs of backend pod, there is an error, It can not obtain connection from database. pods behind the db service Running and Ready. not able to connect as user postgresql to that hostname from some other pod. `ERROR 2003 (HY000): Can&#39;t connect to MySQL server on &#39;db:3306&#39; (111)`\r\n\r\n```\r\nWARNING: sun.reflect.Reflection.getCallerClass is not supported. This will impact performance.\r\n[INFO ] 2023-02-06 18:26:01.476 [vert.x-eventloop-thread-1] OpenApiRouterBuilder - OpenApi has been loaded\r\n[INFO ] 2023-02-06 18:26:01.540 [vert.x-eventloop-thread-1] MainServerVerticle - Started REST api server on port: 3333\r\n[INFO ] 2023-02-06 18:26:01.546 [vert.x-eventloop-thread-0] WebsocketServerVerticle - Started server for websockets on port: 3334\r\n[INFO ] 2023-02-06 18:26:01.565 [vert.x-eventloop-thread-1] MainServerVerticle - All verticles have been deployed\r\n[ERROR] 2023-02-06 18:26:01.688 [vert.x-eventloop-thread-1] FlywayRunner - org.flywaydb.core.internal.exception.FlywaySqlException: Unable to obtain connection from database (jdbc:mysql://db:3306/examodb?allowPublicKeyRetrieval=true&amp;useSSL=false) for user &#39;postgresql&#39;: Communications link failure\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\nSQL State  : 08S01\r\nError Code : 0\r\nMessage    : Communications link failure\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\r\n[WARN ] 2023-02-06 18:26:01.692 [vert.x-eventloop-thread-1] AbstractEventExecutor - A task raised an exception. Task: io.vertx.core.impl.future.FutureBase$$Lambda$155/0x0000000800d01810@28bb3e29\r\norg.flywaydb.core.internal.exception.FlywaySqlException: Unable to obtain connection from database (jdbc:mysql://db:3306/examodb?allowPublicKeyRetrieval=true&amp;useSSL=false) for user &#39;postgresql&#39;: Communications link failure\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\nSQL State  : 08S01\r\nError Code : 0\r\nMessage    : Communications link failure\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\r\n\tat org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:67) ~[app.jar:?]\r\n\tat org.flywaydb.core.internal.jdbc.JdbcConnectionFactory.&lt;init&gt;(JdbcConnectionFactory.java:74) ~[app.jar:?]\r\n\tat org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:136) ~[app.jar:?]\r\n\tat org.flywaydb.core.Flyway.repair(Flyway.java:330) ~[app.jar:?]\r\n\tat examo.db.migration.FlywayRunner.migrate(FlywayRunner.java:19) ~[app.jar:?]\r\n\tat examo.rest.server.MainServerVerticle.lambda$start$12(MainServerVerticle.java:113) ~[app.jar:?]\r\n\tat io.vertx.core.impl.future.FutureImpl$1.onSuccess(FutureImpl.java:91) ~[app.jar:?]\r\n\tat io.vertx.core.impl.future.FutureImpl$ListenerArray.onSuccess(FutureImpl.java:262) ~[app.jar:?]\r\n\tat io.vertx.core.impl.future.FutureBase.emitSuccess(FutureBase.java:60) ~[app.jar:?]\r\n\tat io.vertx.core.impl.future.FutureImpl.tryComplete(FutureImpl.java:211) ~[app.jar:?]\r\n\tat io.vertx.core.impl.future.Composition$1.onSuccess(Composition.java:62) ~[app.jar:?]\r\n\tat io.vertx.core.impl.future.FutureBase.emitSuccess(FutureBase.java:60) ~[app.jar:?]\r\n\tat io.vertx.core.impl.future.FutureImpl.tryComplete(FutureImpl.java:211) ~[app.jar:?]\r\n\tat io.vertx.core.impl.future.Mapping.onSuccess(Mapping.java:40) ~[app.jar:?]\r\n\tat io.vertx.core.impl.future.FutureBase.lambda$emitSuccess$0(FutureBase.java:54) ~[app.jar:?]\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164) [app.jar:?]\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:469) [app.jar:?]\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:503) [app.jar:?]\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) [app.jar:?]\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) [app.jar:?]\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [app.jar:?]\r\n\tat java.lang.Thread.run(Thread.java:832) [?:?]\r\nCaused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[app.jar:?]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[app.jar:?]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:832) ~[app.jar:?]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:456) ~[app.jar:?]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:240) ~[app.jar:?]\r\n\tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:207) ~[app.jar:?]\r\n\tat org.flywaydb.core.internal.jdbc.DriverDataSource.getConnectionFromDriver(DriverDataSource.java:259) ~[app.jar:?]\r\n\tat org.flywaydb.core.internal.jdbc.DriverDataSource.getConnection(DriverDataSource.java:223) ~[app.jar:?]\r\n\tat org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:52) ~[app.jar:?]\r\n\t... 21 more\r\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\tat jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:?]\r\n\tat jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:64) ~[?:?]\r\n\tat jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:?]\r\n\tat java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[?:?]\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:481) ~[?:?]\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[app.jar:?]\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[app.jar:?]\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[app.jar:?]\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[app.jar:?]\r\n\tat com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:91) ~[app.jar:?]\r\n\tat com.mysql.cj.NativeSession.connect(NativeSession.java:152) ~[app.jar:?]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:952) ~[app.jar:?]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:822) ~[app.jar:?]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:456) ~[app.jar:?]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:240) ~[app.jar:?]\r\n\tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:207) ~[app.jar:?]\r\n\tat org.flywaydb.core.internal.jdbc.DriverDataSource.getConnectionFromDriver(DriverDataSource.java:259) ~[app.jar:?]\r\n\tat org.flywaydb.core.internal.jdbc.DriverDataSource.getConnection(DriverDataSource.java:223) ~[app.jar:?]\r\n\tat org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:52) ~[app.jar:?]\r\n\t... 21 more\r\nCaused by: java.net.ConnectException: Connection refused\r\n\tat sun.nio.ch.Net.connect0(Native Method) ~[?:?]\r\n\tat sun.nio.ch.Net.connect(Net.java:574) ~[?:?]\r\n\tat sun.nio.ch.Net.connect(Net.java:563) ~[?:?]\r\n\tat sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588) ~[?:?]\r\n\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:333) ~[?:?]\r\n\tat java.net.Socket.connect(Socket.java:648) ~[?:?]\r\n\tat com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:173) ~[app.jar:?]\r\n\tat com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:65) ~[app.jar:?]\r\n\tat com.mysql.cj.NativeSession.connect(NativeSession.java:152) ~[app.jar:?]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:952) ~[app.jar:?]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:822) ~[app.jar:?]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:456) ~[app.jar:?]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:240) ~[app.jar:?]\r\n\tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:207) ~[app.jar:?]\r\n\tat org.flywaydb.core.internal.jdbc.DriverDataSource.getConnectionFromDriver(DriverDataSource.java:259) ~[app.jar:?]\r\n\tat org.flywaydb.core.internal.jdbc.DriverDataSource.getConnection(DriverDataSource.java:223) ~[app.jar:?]\r\n\tat org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:52) ~[app.jar:?]\r\n\t... 21 more\r\n\r\n```\r\n\r\ndb service name is db. I have secret attached to backend and db, where are DATABASE name, PASSWORD, ROOT_PASSWORD, MYSQL_USER, host and port. Site uses SSL certificates.\r\n\r\nI expect to connect backend to db. First, I had error, saying unknown host. Changed db service name and now new error, this error. Is it possible, that not having SSL certificate for my resources give me this error","title":"kubernetes backend pod can not connect to database","body":"<p>I have java backend pod and mysql statfulset db. when I see logs of backend pod, there is an error, It can not obtain connection from database. pods behind the db service Running and Ready. not able to connect as user postgresql to that hostname from some other pod. <code>ERROR 2003 (HY000): Can't connect to MySQL server on 'db:3306' (111)</code></p>\n<pre><code>WARNING: sun.reflect.Reflection.getCallerClass is not supported. This will impact performance.\n[INFO ] 2023-02-06 18:26:01.476 [vert.x-eventloop-thread-1] OpenApiRouterBuilder - OpenApi has been loaded\n[INFO ] 2023-02-06 18:26:01.540 [vert.x-eventloop-thread-1] MainServerVerticle - Started REST api server on port: 3333\n[INFO ] 2023-02-06 18:26:01.546 [vert.x-eventloop-thread-0] WebsocketServerVerticle - Started server for websockets on port: 3334\n[INFO ] 2023-02-06 18:26:01.565 [vert.x-eventloop-thread-1] MainServerVerticle - All verticles have been deployed\n[ERROR] 2023-02-06 18:26:01.688 [vert.x-eventloop-thread-1] FlywayRunner - org.flywaydb.core.internal.exception.FlywaySqlException: Unable to obtain connection from database (jdbc:mysql://db:3306/examodb?allowPublicKeyRetrieval=true&amp;useSSL=false) for user 'postgresql': Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\nSQL State  : 08S01\nError Code : 0\nMessage    : Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n\n[WARN ] 2023-02-06 18:26:01.692 [vert.x-eventloop-thread-1] AbstractEventExecutor - A task raised an exception. Task: io.vertx.core.impl.future.FutureBase$$Lambda$155/0x0000000800d01810@28bb3e29\norg.flywaydb.core.internal.exception.FlywaySqlException: Unable to obtain connection from database (jdbc:mysql://db:3306/examodb?allowPublicKeyRetrieval=true&amp;useSSL=false) for user 'postgresql': Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\nSQL State  : 08S01\nError Code : 0\nMessage    : Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n\n    at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:67) ~[app.jar:?]\n    at org.flywaydb.core.internal.jdbc.JdbcConnectionFactory.&lt;init&gt;(JdbcConnectionFactory.java:74) ~[app.jar:?]\n    at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:136) ~[app.jar:?]\n    at org.flywaydb.core.Flyway.repair(Flyway.java:330) ~[app.jar:?]\n    at examo.db.migration.FlywayRunner.migrate(FlywayRunner.java:19) ~[app.jar:?]\n    at examo.rest.server.MainServerVerticle.lambda$start$12(MainServerVerticle.java:113) ~[app.jar:?]\n    at io.vertx.core.impl.future.FutureImpl$1.onSuccess(FutureImpl.java:91) ~[app.jar:?]\n    at io.vertx.core.impl.future.FutureImpl$ListenerArray.onSuccess(FutureImpl.java:262) ~[app.jar:?]\n    at io.vertx.core.impl.future.FutureBase.emitSuccess(FutureBase.java:60) ~[app.jar:?]\n    at io.vertx.core.impl.future.FutureImpl.tryComplete(FutureImpl.java:211) ~[app.jar:?]\n    at io.vertx.core.impl.future.Composition$1.onSuccess(Composition.java:62) ~[app.jar:?]\n    at io.vertx.core.impl.future.FutureBase.emitSuccess(FutureBase.java:60) ~[app.jar:?]\n    at io.vertx.core.impl.future.FutureImpl.tryComplete(FutureImpl.java:211) ~[app.jar:?]\n    at io.vertx.core.impl.future.Mapping.onSuccess(Mapping.java:40) ~[app.jar:?]\n    at io.vertx.core.impl.future.FutureBase.lambda$emitSuccess$0(FutureBase.java:54) ~[app.jar:?]\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164) [app.jar:?]\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:469) [app.jar:?]\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:503) [app.jar:?]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) [app.jar:?]\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) [app.jar:?]\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [app.jar:?]\n    at java.lang.Thread.run(Thread.java:832) [?:?]\nCaused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[app.jar:?]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[app.jar:?]\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:832) ~[app.jar:?]\n    at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:456) ~[app.jar:?]\n    at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:240) ~[app.jar:?]\n    at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:207) ~[app.jar:?]\n    at org.flywaydb.core.internal.jdbc.DriverDataSource.getConnectionFromDriver(DriverDataSource.java:259) ~[app.jar:?]\n    at org.flywaydb.core.internal.jdbc.DriverDataSource.getConnection(DriverDataSource.java:223) ~[app.jar:?]\n    at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:52) ~[app.jar:?]\n    ... 21 more\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:64) ~[?:?]\n    at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:?]\n    at java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[?:?]\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:481) ~[?:?]\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[app.jar:?]\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[app.jar:?]\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[app.jar:?]\n    at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[app.jar:?]\n    at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:91) ~[app.jar:?]\n    at com.mysql.cj.NativeSession.connect(NativeSession.java:152) ~[app.jar:?]\n    at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:952) ~[app.jar:?]\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:822) ~[app.jar:?]\n    at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:456) ~[app.jar:?]\n    at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:240) ~[app.jar:?]\n    at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:207) ~[app.jar:?]\n    at org.flywaydb.core.internal.jdbc.DriverDataSource.getConnectionFromDriver(DriverDataSource.java:259) ~[app.jar:?]\n    at org.flywaydb.core.internal.jdbc.DriverDataSource.getConnection(DriverDataSource.java:223) ~[app.jar:?]\n    at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:52) ~[app.jar:?]\n    ... 21 more\nCaused by: java.net.ConnectException: Connection refused\n    at sun.nio.ch.Net.connect0(Native Method) ~[?:?]\n    at sun.nio.ch.Net.connect(Net.java:574) ~[?:?]\n    at sun.nio.ch.Net.connect(Net.java:563) ~[?:?]\n    at sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588) ~[?:?]\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:333) ~[?:?]\n    at java.net.Socket.connect(Socket.java:648) ~[?:?]\n    at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:173) ~[app.jar:?]\n    at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:65) ~[app.jar:?]\n    at com.mysql.cj.NativeSession.connect(NativeSession.java:152) ~[app.jar:?]\n    at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:952) ~[app.jar:?]\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:822) ~[app.jar:?]\n    at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:456) ~[app.jar:?]\n    at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:240) ~[app.jar:?]\n    at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:207) ~[app.jar:?]\n    at org.flywaydb.core.internal.jdbc.DriverDataSource.getConnectionFromDriver(DriverDataSource.java:259) ~[app.jar:?]\n    at org.flywaydb.core.internal.jdbc.DriverDataSource.getConnection(DriverDataSource.java:223) ~[app.jar:?]\n    at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:52) ~[app.jar:?]\n    ... 21 more\n\n</code></pre>\n<p>db service name is db. I have secret attached to backend and db, where are DATABASE name, PASSWORD, ROOT_PASSWORD, MYSQL_USER, host and port. Site uses SSL certificates.</p>\n<p>I expect to connect backend to db. First, I had error, saying unknown host. Changed db service name and now new error, this error. Is it possible, that not having SSL certificate for my resources give me this error</p>\n"},{"tags":["java","json","json.net","sql-update"],"comments":[{"owner":{"account_id":4617916,"reputation":107677,"user_id":3744182,"display_name":"dbc"},"score":0,"creation_date":1676394872,"post_id":75451041,"comment_id":133126824,"body_markdown":"You tagged this [tag:java] and [tag:json.net] (which is not a Java library, it is a c#/.NET library), but are you actually using [tag:postgresql]?  How is Java related to your question?  By [tagging](https://meta.stackexchange.com/help/tagging) your question with the language &amp; framework(s) you are actually using you will attract the attention of people familiar with them and who can answer your question.  See [ask].","body":"You tagged this <a href=\"https://stackoverflow.com/questions/tagged/java\">java</a> and <a href=\"https://stackoverflow.com/questions/tagged/json.net\">json.net</a> (which is not a Java library, it is a c#/.NET library), but are you actually using <a href=\"https://stackoverflow.com/questions/tagged/postgresql\">postgresql</a>?  How is Java related to your question?  By <a href=\"https://meta.stackexchange.com/help/tagging\">tagging</a> your question with the language &amp; framework(s) you are actually using you will attract the attention of people familiar with them and who can answer your question.  See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1676404755,"post_id":75451041,"comment_id":133129549,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":27785792,"reputation":1,"user_id":21213267,"display_name":"Sunil Kumar Regar"},"score":0,"creation_date":1676438704,"post_id":75451041,"comment_id":133134860,"body_markdown":"I want to know that how can i pass the path (of the nested json i want to update) dynamically using a variable i.e. i can store in a string s and then pass that s in the place of path.","body":"I want to know that how can i pass the path (of the nested json i want to update) dynamically using a variable i.e. i can store in a string s and then pass that s in the place of path."}],"owner":{"account_id":27785792,"reputation":1,"user_id":21213267,"display_name":"Sunil Kumar Regar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676394883,"creation_date":1676394124,"question_id":75451041,"body_markdown":"```\r\nUPDATE users\r\nSET data = jsonb_set(data, &#39;{user,name}&#39;, &#39;&quot;sunil&quot;&#39;, FALSE)\r\nWHERE id = 1;\r\n```\r\n\r\nIn the above query for example, how can i pass the path (here &quot;user,name&quot;) dynamically through a variable like can i store the path in a string variable and pass here that variable. Unable to do it so please provide a working solution. \r\n\r\nI need that somehow i can pass that path through a variable so that i can use it dynamically for different objects with different paths.","title":"Dynamic path in jsonb_set function","body":"<pre><code>UPDATE users\nSET data = jsonb_set(data, '{user,name}', '&quot;sunil&quot;', FALSE)\nWHERE id = 1;\n</code></pre>\n<p>In the above query for example, how can i pass the path (here &quot;user,name&quot;) dynamically through a variable like can i store the path in a string variable and pass here that variable. Unable to do it so please provide a working solution.</p>\n<p>I need that somehow i can pass that path through a variable so that i can use it dynamically for different objects with different paths.</p>\n"},{"tags":["java","android","android-studio","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":6175645,"reputation":1443,"user_id":4812613,"display_name":"Scott Sosna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457487175,"creation_date":1457487175,"answer_id":35881338,"question_id":35881070,"body_markdown":"As long as you never optimize imports, then it&#39;ll probably stay.  There is a setting somewhere (varies by version) that allows you to specify how many imports of the same package before it optimizes to &#39;*&#39;, you&#39;ll want to make that a huge number.\r\n\r\nUltimately, I expect IJ to optimize it away somewhere when you don&#39;t expect.  Even though it does seem to compile, it looks/feels wrong and someone else unaware of your external dependency is going to chomp it.\r\n\r\nBetter solution is to make your scripts smart enough to recognize intra-package classes as all dependencies - because implicitly they are - and just simply the problem.  What you&#39;ve proposed doesn&#39;t sound like a workable solution","title":"Force IntelliJ to Keep Same-Package Import Statements","body":"<p>As long as you never optimize imports, then it'll probably stay.  There is a setting somewhere (varies by version) that allows you to specify how many imports of the same package before it optimizes to '*', you'll want to make that a huge number.</p>\n\n<p>Ultimately, I expect IJ to optimize it away somewhere when you don't expect.  Even though it does seem to compile, it looks/feels wrong and someone else unaware of your external dependency is going to chomp it.</p>\n\n<p>Better solution is to make your scripts smart enough to recognize intra-package classes as all dependencies - because implicitly they are - and just simply the problem.  What you've proposed doesn't sound like a workable solution</p>\n"},{"tags":[],"owner":{"account_id":5872,"reputation":12730,"user_id":9648,"accept_rate":94,"display_name":"JohnnyLambada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676394678,"creation_date":1676393547,"answer_id":75450933,"question_id":35881070,"body_markdown":"One answer is to skip trying to parse Java for imports and use the [`jdeps`][1] command which is part of the JDK.  `jdeps` works on `.class` files so it will work on java and kotlin (and Scala, etc).  I&#39;m reviewing the [emerge-vis][2] app, and it has the same problem with same-package imports.\r\n\r\n_The jdeps command shows the package-level or class-level dependencies of Java class files. The input class can be a path name to a .class file, a directory, a JAR file, or it can be a fully qualified class name to analyze all class files. The options determine the output. By default, jdeps outputs the dependencies to the system output. It can generate the dependencies in DOT language (see the -dotoutput option)._\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/specs/man/jdeps.html\r\n  [2]: https://github.com/glato/emerge","title":"Force IntelliJ to Keep Same-Package Import Statements","body":"<p>One answer is to skip trying to parse Java for imports and use the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/specs/man/jdeps.html\" rel=\"nofollow noreferrer\"><code>jdeps</code></a> command which is part of the JDK.  <code>jdeps</code> works on <code>.class</code> files so it will work on java and kotlin (and Scala, etc).  I'm reviewing the <a href=\"https://github.com/glato/emerge\" rel=\"nofollow noreferrer\">emerge-vis</a> app, and it has the same problem with same-package imports.</p>\n<p><em>The jdeps command shows the package-level or class-level dependencies of Java class files. The input class can be a path name to a .class file, a directory, a JAR file, or it can be a fully qualified class name to analyze all class files. The options determine the output. By default, jdeps outputs the dependencies to the system output. It can generate the dependencies in DOT language (see the -dotoutput option).</em></p>\n"}],"owner":{"account_id":435433,"reputation":8569,"user_id":822005,"accept_rate":52,"display_name":"Daniel Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676394678,"creation_date":1457485336,"question_id":35881070,"body_markdown":"Given the following package structure:\r\n\r\n    | com.java.package\r\n        | A.java\r\n        | B.java\r\n\r\nAnd the following code in B.java\r\n\r\n    package com.java.package\r\n\r\n    public class B { \r\n\r\n        private final A aObject = new A();\r\n\r\n        public void foo() {\r\n            aObject.foo();\r\n        }\r\n    }\r\n\r\nIs is possible to include the following import line? \r\n    \r\n    import com.java.package.A;\r\n\r\nRationale: I am writing scripts to parse file dependencies for my build system using import statements, and when dependencies are intra-package (within the same package), Android Studio (IntelliJ) will &quot;optimize out&quot; my import statements and remove them from the file.\r\n\r\nIs there a way to force the IDE to keep my intra-package import statements?","title":"Force IntelliJ to Keep Same-Package Import Statements","body":"<p>Given the following package structure:</p>\n\n<pre><code>| com.java.package\n    | A.java\n    | B.java\n</code></pre>\n\n<p>And the following code in B.java</p>\n\n<pre><code>package com.java.package\n\npublic class B { \n\n    private final A aObject = new A();\n\n    public void foo() {\n        aObject.foo();\n    }\n}\n</code></pre>\n\n<p>Is is possible to include the following import line? </p>\n\n<pre><code>import com.java.package.A;\n</code></pre>\n\n<p>Rationale: I am writing scripts to parse file dependencies for my build system using import statements, and when dependencies are intra-package (within the same package), Android Studio (IntelliJ) will \"optimize out\" my import statements and remove them from the file.</p>\n\n<p>Is there a way to force the IDE to keep my intra-package import statements?</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":0,"creation_date":1676435302,"post_id":75451106,"comment_id":133134409,"body_markdown":"https://docs.oracle.com/en/java/javase/19/docs/specs/man/java.html#using-the-jdk_java_options-launcher-environment-variable","body":"<a href=\"https://docs.oracle.com/en/java/javase/19/docs/specs/man/java.html#using-the-jdk_java_options-launcher-environment-variable\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/19/docs/specs/man/&hellip;</a>"}],"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676394534,"creation_date":1676394534,"question_id":75451106,"body_markdown":"For now, when I want to run a jar, I am running it like this: `java -XX:+UseZGC -jar app.jar`.\r\n\r\nThe JDK which I am using is `eclipse temurin 17` which is using `G1GC` by default. \r\n\r\nBut I want to change it with `ZGC`.\r\n\r\nIt is possible to change the default GC of jdk? Or to specify in `pom.xml` to use `ZGC`?","title":"Set the default GC of JDK, without VM argument","body":"<p>For now, when I want to run a jar, I am running it like this: <code>java -XX:+UseZGC -jar app.jar</code>.</p>\n<p>The JDK which I am using is <code>eclipse temurin 17</code> which is using <code>G1GC</code> by default.</p>\n<p>But I want to change it with <code>ZGC</code>.</p>\n<p>It is possible to change the default GC of jdk? Or to specify in <code>pom.xml</code> to use <code>ZGC</code>?</p>\n"},{"tags":["java","minecraft"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1675064983,"post_id":75281431,"comment_id":132840096,"body_markdown":"My guess: One is when you&#39;re standing in fire, the other is when you&#39;ve caught on fire. Most likely the damage handling is very similar in both cases, but they are still two different scenarios. I suspect it helps to differentiate for things like specific death messages and so on.","body":"My guess: One is when you&#39;re standing in fire, the other is when you&#39;ve caught on fire. Most likely the damage handling is very similar in both cases, but they are still two different scenarios. I suspect it helps to differentiate for things like specific death messages and so on."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1675068491,"post_id":75281431,"comment_id":132840977,"body_markdown":"@Slaw Indeed, this at least is related to death messages. &quot;&lt;player&gt; went up in flames&quot; (in fire) vs &quot;&lt;player&gt; burned to death&quot; (on fire but not in fire). See also: https://minecraft.fandom.com/wiki/Death_messages","body":"@Slaw Indeed, this at least is related to death messages. &quot;&lt;player&gt; went up in flames&quot; (in fire) vs &quot;&lt;player&gt; burned to death&quot; (on fire but not in fire). See also: <a href=\"https://minecraft.fandom.com/wiki/Death_messages\" rel=\"nofollow noreferrer\">minecraft.fandom.com/wiki/Death_messages</a>"}],"answers":[{"tags":[],"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675092852,"creation_date":1675064949,"answer_id":75281467,"question_id":75281431,"body_markdown":"Judging from the names, the one might be damage due to the player walking _in fire_ and the other due to the player having caught fire, or in other words, being _on fire_.\r\n\r\nAs @Sweeper has pointed out in the comments, the distinction is required, for example, to give precise [death messages][1].\r\n\r\n\r\n  [1]: https://minecraft.fandom.com/wiki/Death_messages","title":"What is the difference between this two variables in Minecraft source code?","body":"<p>Judging from the names, the one might be damage due to the player walking <em>in fire</em> and the other due to the player having caught fire, or in other words, being <em>on fire</em>.</p>\n<p>As @Sweeper has pointed out in the comments, the distinction is required, for example, to give precise <a href=\"https://minecraft.fandom.com/wiki/Death_messages\" rel=\"nofollow noreferrer\">death messages</a>.</p>\n"}],"owner":{"account_id":17326338,"reputation":101,"user_id":12556971,"display_name":"ByRuss X"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1675076423,"accepted_answer_id":75281467,"answer_count":1,"score":-3,"last_activity_date":1676394458,"creation_date":1675064690,"question_id":75281431,"body_markdown":"I was having a look at 1.19 MCP, which I downloaded from their GitHub, when I found something strange. In the file `net.minecraft.world.damagesource`, the class `DamageSource` contains two variables, among others, that look exactly the same.\r\n\r\nThese are the declarations:\r\n\r\n```\r\npublic static final DamageSource IN_FIRE = (new DamageSource(&quot;inFire&quot;)).bypassArmor().setIsFire();\r\n\r\npublic static final DamageSource ON_FIRE = (new DamageSource(&quot;onFire&quot;)).bypassArmor().setIsFire();\r\n```\r\n\r\nDoes anyone know why both variables are very similar? What is the difference between them? Where is one used and where is the other one used?\r\n\r\nI tried looking online and trying to follow the implementations of both variables, but so far no good.","title":"What is the difference between this two variables in Minecraft source code?","body":"<p>I was having a look at 1.19 MCP, which I downloaded from their GitHub, when I found something strange. In the file <code>net.minecraft.world.damagesource</code>, the class <code>DamageSource</code> contains two variables, among others, that look exactly the same.</p>\n<p>These are the declarations:</p>\n<pre><code>public static final DamageSource IN_FIRE = (new DamageSource(&quot;inFire&quot;)).bypassArmor().setIsFire();\n\npublic static final DamageSource ON_FIRE = (new DamageSource(&quot;onFire&quot;)).bypassArmor().setIsFire();\n</code></pre>\n<p>Does anyone know why both variables are very similar? What is the difference between them? Where is one used and where is the other one used?</p>\n<p>I tried looking online and trying to follow the implementations of both variables, but so far no good.</p>\n"},{"tags":["java","xml","xsd","jaxb","jaxb2-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676394240,"creation_date":1676313037,"answer_id":75439901,"question_id":75419928,"body_markdown":"You need to rename the &#39;lang&#39; property at line 302 &amp; line 1166 in http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd to something that does  not clash, eg &#39;langAttribute&#39;\r\n\r\nThe first &#39;lang&#39; is in the last line in the snippet of xhtml1-strict.xsd below:\r\n\r\n      &lt;xs:element name=&quot;bdo&quot;&gt;\r\n        &lt;xs:annotation&gt;\r\n          &lt;xs:documentation&gt;\r\n          I18N BiDi over-ride\r\n          &lt;/xs:documentation&gt;\r\n        &lt;/xs:annotation&gt;\r\n        &lt;xs:complexType mixed=&quot;true&quot;&gt;\r\n          &lt;xs:complexContent&gt;\r\n            &lt;xs:extension base=&quot;Inline&quot;&gt;\r\n              &lt;xs:attributeGroup ref=&quot;coreattrs&quot;/&gt;\r\n              &lt;xs:attributeGroup ref=&quot;events&quot;/&gt;\r\n              &lt;xs:attribute name=&quot;lang&quot; type=&quot;LanguageCode&quot;/&gt;\r\n\r\nThis is what should be in the xjb file:\r\n\r\n    &lt;!-- cti-domain/src/main/xjb/cwe-bindings.xjb --&gt;\r\n    &lt;jxb:bindings version=&quot;3.0&quot;\r\n                  xmlns:jxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\r\n                  xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n        &lt;jxb:bindings schemaLocation=&quot;http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd&quot; node=&quot;//xsd:schema&quot;&gt;\r\n            &lt;jxb:schemaBindings&gt;\r\n                &lt;jxb:package name=&quot;com.example.cwe&quot;/&gt;\r\n            &lt;/jxb:schemaBindings&gt;\r\n    \r\n            &lt;!-- rename the &#39;lang&#39; attribute on line 302 to &#39;langAttribute&#39; --&gt;\r\n            &lt;jxb:bindings node=&quot;//xsd:attributeGroup[@name=&#39;i18n&#39;]/xsd:attribute[@name=&#39;lang&#39;]&quot;&gt;\r\n                &lt;jxb:property name=&quot;langAttribute&quot;/&gt;\r\n           &lt;/jxb:bindings&gt;\r\n           \r\n            &lt;!-- rename the &#39;lang&#39; attribute on line 1166 to &#39;langAttribute&#39; --&gt;\r\n           &lt;jxb:bindings node=&quot;//xsd:element[@name=&#39;bdo&#39;]/xsd:complexType/xsd:complexContent/xsd:extension/xsd:attribute[@name=&#39;lang&#39;]&quot;&gt;\r\n                &lt;jxb:property name=&quot;langAttribute&quot;/&gt;\r\n           &lt;/jxb:bindings&gt;\r\n        &lt;/jxb:bindings&gt;\r\n    &lt;/jxb:bindings&gt;\r\n\r\nI have tested with jaxb-ri-4.0.1 w jdk-17.0.2_8* with command line:\r\n\r\n    xjc http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd -b cwe-bindings.xjb\r\n\r\nOutput starts like this:\r\n\r\n    parsing a schema...\r\n    compiling a schema...\r\n    com\\example\\cwe\\A.java\r\n    com\\example\\cwe\\AContent.java\r\n    com\\example\\cwe\\Abbr.java\r\n\r\n* also works with jaxb-ri-2.3.0 and jdk1.8.0_231 - with `jxb:bindings version=&quot;1.0&quot; and xmlns:jxb=&quot;http://java.sun.com/xml/ns/jaxb&quot;`\r\n\r\n","title":"JAXB XJC: how to resolve XSD to Java property conflicts?","body":"<p>You need to rename the 'lang' property at line 302 &amp; line 1166 in <a href=\"http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd\" rel=\"nofollow noreferrer\">http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd</a> to something that does  not clash, eg 'langAttribute'</p>\n<p>The first 'lang' is in the last line in the snippet of xhtml1-strict.xsd below:</p>\n<pre><code>  &lt;xs:element name=&quot;bdo&quot;&gt;\n    &lt;xs:annotation&gt;\n      &lt;xs:documentation&gt;\n      I18N BiDi over-ride\n      &lt;/xs:documentation&gt;\n    &lt;/xs:annotation&gt;\n    &lt;xs:complexType mixed=&quot;true&quot;&gt;\n      &lt;xs:complexContent&gt;\n        &lt;xs:extension base=&quot;Inline&quot;&gt;\n          &lt;xs:attributeGroup ref=&quot;coreattrs&quot;/&gt;\n          &lt;xs:attributeGroup ref=&quot;events&quot;/&gt;\n          &lt;xs:attribute name=&quot;lang&quot; type=&quot;LanguageCode&quot;/&gt;\n</code></pre>\n<p>This is what should be in the xjb file:</p>\n<pre><code>&lt;!-- cti-domain/src/main/xjb/cwe-bindings.xjb --&gt;\n&lt;jxb:bindings version=&quot;3.0&quot;\n              xmlns:jxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\n              xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n    &lt;jxb:bindings schemaLocation=&quot;http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd&quot; node=&quot;//xsd:schema&quot;&gt;\n        &lt;jxb:schemaBindings&gt;\n            &lt;jxb:package name=&quot;com.example.cwe&quot;/&gt;\n        &lt;/jxb:schemaBindings&gt;\n\n        &lt;!-- rename the 'lang' attribute on line 302 to 'langAttribute' --&gt;\n        &lt;jxb:bindings node=&quot;//xsd:attributeGroup[@name='i18n']/xsd:attribute[@name='lang']&quot;&gt;\n            &lt;jxb:property name=&quot;langAttribute&quot;/&gt;\n       &lt;/jxb:bindings&gt;\n       \n        &lt;!-- rename the 'lang' attribute on line 1166 to 'langAttribute' --&gt;\n       &lt;jxb:bindings node=&quot;//xsd:element[@name='bdo']/xsd:complexType/xsd:complexContent/xsd:extension/xsd:attribute[@name='lang']&quot;&gt;\n            &lt;jxb:property name=&quot;langAttribute&quot;/&gt;\n       &lt;/jxb:bindings&gt;\n    &lt;/jxb:bindings&gt;\n&lt;/jxb:bindings&gt;\n</code></pre>\n<p>I have tested with jaxb-ri-4.0.1 w jdk-17.0.2_8* with command line:</p>\n<pre><code>xjc http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd -b cwe-bindings.xjb\n</code></pre>\n<p>Output starts like this:</p>\n<pre><code>parsing a schema...\ncompiling a schema...\ncom\\example\\cwe\\A.java\ncom\\example\\cwe\\AContent.java\ncom\\example\\cwe\\Abbr.java\n</code></pre>\n<ul>\n<li>also works with jaxb-ri-2.3.0 and jdk1.8.0_231 - with <code>jxb:bindings version=&quot;1.0&quot; and xmlns:jxb=&quot;http://java.sun.com/xml/ns/jaxb&quot;</code></li>\n</ul>\n"}],"owner":{"account_id":8500862,"reputation":2930,"user_id":8737144,"display_name":"1Z10"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75439901,"answer_count":1,"score":0,"last_activity_date":1676394240,"creation_date":1676115564,"question_id":75419928,"body_markdown":"I&#39;m trying to generate Java classes starting from an XML Schema Definition\r\nbut I&#39;m getting an error about a `Property &quot;Lang&quot; is already defined.`\r\n\r\n    [ERROR] http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd [302,52] \r\n    com.sun.istack.SAXParseException2: Property &quot;Lang&quot; is already defined. Use &amp;lt;jaxb:property&gt; to resolve this conflict.\r\n    \r\n    [ERROR] http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd [303,35] \r\n    com.sun.istack.SAXParseException2\r\n\r\nThe XSD I&#39;m using defines the Common Weakness Enumeration (CWE) and is located at https://cwe.mitre.org/data/xsd/cwe_schema_v6.10.xsd\r\n\r\nA short command to reproduce the error is:\r\n\r\n    xjc http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd\r\n\r\nThis is my pom.xml\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;!-- https://www.mojohaus.org/jaxb2-maven-plugin/#/repo --&gt;\r\n            &lt;!-- https://www.mojohaus.org/jaxb2-maven-plugin/Documentation/v3.1.0/index.html --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;sources&gt;\r\n                        &lt;source&gt;_schema_/cwe&lt;/source&gt;\r\n                    &lt;/sources&gt;\r\n                    &lt;xjbSources&gt;\r\n                        &lt;xjbSource&gt;${basedir}/cti-domain/src/main/xjb&lt;/xjbSource&gt;\r\n                    &lt;/xjbSources&gt;\r\n                    &lt;outputDirectory&gt;${basedir}/cti-domain/src/main/java&lt;/outputDirectory&gt;\r\n                    &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;xjc&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;xjc&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nand this is my attempt to fix the error:\r\n\r\n    &lt;!-- cti-domain/src/main/xjb/cwe-bindings.xjb --&gt;\r\n\r\n    &lt;jxb:bindings version=&quot;1.0&quot;\r\n                  xmlns:jxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\r\n                  xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n        &lt;jxb:bindings schemaLocation=&quot;../../../../_schema_/cwe/cwe_schema_v6.10.xsd&quot; node=&quot;//xsd:schema&quot;&gt;\r\n            &lt;jxb:schemaBindings&gt;\r\n                &lt;jxb:package name=&quot;com.example.cwe&quot;/&gt;\r\n            &lt;/jxb:schemaBindings&gt;\r\n    \r\n    &lt;!--        &lt;jxb:bindings schemaLocation=&quot;http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd&quot; node=&quot;//xsd:schema&quot;&gt;--&gt;\r\n    &lt;!--            &lt;jxb:property name=&quot;Language&quot;/&gt;--&gt;\r\n    &lt;!--        &lt;/jxb:bindings&gt;--&gt;\r\n        &lt;/jxb:bindings&gt;\r\n    &lt;/jxb:bindings&gt;\r\n","title":"JAXB XJC: how to resolve XSD to Java property conflicts?","body":"<p>I'm trying to generate Java classes starting from an XML Schema Definition\nbut I'm getting an error about a <code>Property &quot;Lang&quot; is already defined.</code></p>\n<pre><code>[ERROR] http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd [302,52] \ncom.sun.istack.SAXParseException2: Property &quot;Lang&quot; is already defined. Use &amp;lt;jaxb:property&gt; to resolve this conflict.\n\n[ERROR] http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd [303,35] \ncom.sun.istack.SAXParseException2\n</code></pre>\n<p>The XSD I'm using defines the Common Weakness Enumeration (CWE) and is located at <a href=\"https://cwe.mitre.org/data/xsd/cwe_schema_v6.10.xsd\" rel=\"nofollow noreferrer\">https://cwe.mitre.org/data/xsd/cwe_schema_v6.10.xsd</a></p>\n<p>A short command to reproduce the error is:</p>\n<pre><code>xjc http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd\n</code></pre>\n<p>This is my pom.xml</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;!-- https://www.mojohaus.org/jaxb2-maven-plugin/#/repo --&gt;\n        &lt;!-- https://www.mojohaus.org/jaxb2-maven-plugin/Documentation/v3.1.0/index.html --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;sources&gt;\n                    &lt;source&gt;_schema_/cwe&lt;/source&gt;\n                &lt;/sources&gt;\n                &lt;xjbSources&gt;\n                    &lt;xjbSource&gt;${basedir}/cti-domain/src/main/xjb&lt;/xjbSource&gt;\n                &lt;/xjbSources&gt;\n                &lt;outputDirectory&gt;${basedir}/cti-domain/src/main/java&lt;/outputDirectory&gt;\n                &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;xjc&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;xjc&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>and this is my attempt to fix the error:</p>\n<pre><code>&lt;!-- cti-domain/src/main/xjb/cwe-bindings.xjb --&gt;\n\n&lt;jxb:bindings version=&quot;1.0&quot;\n              xmlns:jxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\n              xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n    &lt;jxb:bindings schemaLocation=&quot;../../../../_schema_/cwe/cwe_schema_v6.10.xsd&quot; node=&quot;//xsd:schema&quot;&gt;\n        &lt;jxb:schemaBindings&gt;\n            &lt;jxb:package name=&quot;com.example.cwe&quot;/&gt;\n        &lt;/jxb:schemaBindings&gt;\n\n&lt;!--        &lt;jxb:bindings schemaLocation=&quot;http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd&quot; node=&quot;//xsd:schema&quot;&gt;--&gt;\n&lt;!--            &lt;jxb:property name=&quot;Language&quot;/&gt;--&gt;\n&lt;!--        &lt;/jxb:bindings&gt;--&gt;\n    &lt;/jxb:bindings&gt;\n&lt;/jxb:bindings&gt;\n</code></pre>\n"},{"tags":["java","spring","mockito"],"answers":[{"tags":[],"owner":{"account_id":12272729,"reputation":51,"user_id":9021108,"display_name":"maik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676394167,"creation_date":1676394167,"answer_id":75451049,"question_id":75421642,"body_markdown":"If you only have @RestController, you can ommit WebMVC dependency. Only with &#39;starter-web&#39; and &#39;starter-test&#39; will run succesfully.\r\n\r\n```\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n```\r\n\r\nMy example implementation.\r\n```\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\nclass BusinessPostControllerTest {\r\n\r\n    @Autowired\r\n    protected MockMvc mockMvc;\r\n\r\n    @Autowired\r\n    protected ObjectMapper objectMapper;\r\n\r\n    @Autowired\r\n    protected BusinessCreate businessCreate;\r\n\r\n    protected Long createBusiness() throws Exception{\r\n\r\n        BusinessCreateDto businessCreateDto = BusinessCreateDto.builder()\r\n                .name(ContentGenerator.companyName())\r\n                .build();\r\n\r\n       return businessCreate.create(businessCreateDto).getResultId();\r\n    }\r\n\r\n    @Test\r\n    @Transactional\r\n    void createValidBusiness() throws Exception{\r\n\r\n        String url = &quot;/system/business&quot;;\r\n        BusinessCreateDto businessCreateDto = BusinessCreateDto.builder()\r\n                .name(ContentGenerator.companyName())\r\n                .build();\r\n\r\n        mockMvc.perform(\r\n                post(url).contentType(MediaType.APPLICATION_JSON).content(\r\n                        objectMapper.writeValueAsString(businessCreateDto)\r\n                )\r\n        ).andExpect(status().isCreated())\r\n        .andExpect(content().contentType(MediaType.APPLICATION_JSON))\r\n        .andExpect(jsonPath(&quot;$.message&quot;, containsString(&quot;success&quot;)))\r\n        .andExpect(jsonPath(&quot;$.result.id&quot;, notNullValue()))\r\n        .andExpect(jsonPath(&quot;$.result.id&quot;, isA(Long.class), Long.class));\r\n    }\r\n\r\n    @Test\r\n    @Transactional\r\n    void createBusinessWithInvalidInputParameters() throws Exception{\r\n\r\n        String url = &quot;/system/business&quot;;\r\n        BusinessCreateDto businessCreateDto = BusinessCreateDto.builder()\r\n                .name(null)\r\n                .build();\r\n\r\n        mockMvc.perform(\r\n                post(url).contentType(MediaType.APPLICATION_JSON).content(\r\n                        objectMapper.writeValueAsString(businessCreateDto)\r\n                )\r\n        ).andExpect(status().isBadRequest())\r\n        .andExpect(content().contentType(MediaType.APPLICATION_JSON))\r\n        .andExpect(jsonPath(&quot;$.message&quot;, containsString(&quot;error&quot;)));\r\n    }\r\n\r\n    @Test\r\n    @Transactional\r\n    void createBusinessWithoutBodyContent() throws Exception{\r\n\r\n        String url = &quot;/system/business&quot;;\r\n\r\n        mockMvc.perform(\r\n                post(url).contentType(MediaType.APPLICATION_JSON)\r\n        ).andExpect(status().isBadRequest())\r\n        .andExpect(content().contentType(MediaType.APPLICATION_JSON))\r\n        .andExpect(jsonPath(&quot;$.message&quot;, containsString(&quot;error&quot;)));\r\n    }\r\n\r\n}\r\n```\r\n\r\nregards","title":"NoClassDefFoundError: WebMvcConfigurer","body":"<p>If you only have @RestController, you can ommit WebMVC dependency. Only with 'starter-web' and 'starter-test' will run succesfully.</p>\n<pre><code>    implementation 'org.springframework.boot:spring-boot-starter-validation'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n</code></pre>\n<p>My example implementation.</p>\n<pre><code>@SpringBootTest\n@AutoConfigureMockMvc\nclass BusinessPostControllerTest {\n\n    @Autowired\n    protected MockMvc mockMvc;\n\n    @Autowired\n    protected ObjectMapper objectMapper;\n\n    @Autowired\n    protected BusinessCreate businessCreate;\n\n    protected Long createBusiness() throws Exception{\n\n        BusinessCreateDto businessCreateDto = BusinessCreateDto.builder()\n                .name(ContentGenerator.companyName())\n                .build();\n\n       return businessCreate.create(businessCreateDto).getResultId();\n    }\n\n    @Test\n    @Transactional\n    void createValidBusiness() throws Exception{\n\n        String url = &quot;/system/business&quot;;\n        BusinessCreateDto businessCreateDto = BusinessCreateDto.builder()\n                .name(ContentGenerator.companyName())\n                .build();\n\n        mockMvc.perform(\n                post(url).contentType(MediaType.APPLICATION_JSON).content(\n                        objectMapper.writeValueAsString(businessCreateDto)\n                )\n        ).andExpect(status().isCreated())\n        .andExpect(content().contentType(MediaType.APPLICATION_JSON))\n        .andExpect(jsonPath(&quot;$.message&quot;, containsString(&quot;success&quot;)))\n        .andExpect(jsonPath(&quot;$.result.id&quot;, notNullValue()))\n        .andExpect(jsonPath(&quot;$.result.id&quot;, isA(Long.class), Long.class));\n    }\n\n    @Test\n    @Transactional\n    void createBusinessWithInvalidInputParameters() throws Exception{\n\n        String url = &quot;/system/business&quot;;\n        BusinessCreateDto businessCreateDto = BusinessCreateDto.builder()\n                .name(null)\n                .build();\n\n        mockMvc.perform(\n                post(url).contentType(MediaType.APPLICATION_JSON).content(\n                        objectMapper.writeValueAsString(businessCreateDto)\n                )\n        ).andExpect(status().isBadRequest())\n        .andExpect(content().contentType(MediaType.APPLICATION_JSON))\n        .andExpect(jsonPath(&quot;$.message&quot;, containsString(&quot;error&quot;)));\n    }\n\n    @Test\n    @Transactional\n    void createBusinessWithoutBodyContent() throws Exception{\n\n        String url = &quot;/system/business&quot;;\n\n        mockMvc.perform(\n                post(url).contentType(MediaType.APPLICATION_JSON)\n        ).andExpect(status().isBadRequest())\n        .andExpect(content().contentType(MediaType.APPLICATION_JSON))\n        .andExpect(jsonPath(&quot;$.message&quot;, containsString(&quot;error&quot;)));\n    }\n\n}\n</code></pre>\n<p>regards</p>\n"}],"owner":{"account_id":26559725,"reputation":13,"user_id":20187759,"display_name":"1029Coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1836,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676394167,"creation_date":1676133085,"question_id":75421642,"body_markdown":"The error is thrown when running a test class for a RestController.\r\n```\r\njava.lang.NoClassDefFoundError: org/springframework/web/servlet/config/annotation/WebMvcConfigurer\r\n\r\n\tat org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTypeExcludeFilter.&lt;clinit&gt;(WebMvcTypeExcludeFilter.java:64)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n\tat org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer.instantiateTypeExcludeFilter(TypeExcludeFiltersContextCustomizer.java:63)\r\n\tat org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer.instantiateTypeExcludeFilters(TypeExcludeFiltersContextCustomizer.java:53)\r\n\tat org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer.&lt;init&gt;(TypeExcludeFiltersContextCustomizer.java:46)\r\n\tat org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizerFactory.createContextCustomizer(TypeExcludeFiltersContextCustomizerFactory.java:57)\r\n\tat org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizerFactory.createContextCustomizer(TypeExcludeFiltersContextCustomizerFactory.java:51)\r\n...\r\n```\r\nI added the following dependency to the pom.xml:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    &lt;version&gt;6.0.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nThe code below (Class name and variables name have been simplified)\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\n@AutoConfigureWebMvc\r\n@AutoConfigureMockMvc\r\n@WebMvcTest(Controller.class)\r\npublic class ControllerTest {\r\n\r\n  @MockBean\r\n  Service service;\r\n\r\n  @Autowired\r\n  private MockMvc mockMvc;\r\n\r\n  @Test\r\n  public void some_test() throws Exception {\r\n    Mockito.when(service.getSomething())\r\n        .thenReturn(something);\r\n    mockMvc.perform(get(&quot;/errors&quot;)).andExpect(status().isOk())\r\n        .andExpect(something)\r\n        .andDo(print());\r\n  }\r\n```\r\n\r\nVarious attempt at using different annotations do not solve the problem. Any help would be appreciated.","title":"NoClassDefFoundError: WebMvcConfigurer","body":"<p>The error is thrown when running a test class for a RestController.</p>\n<pre><code>java.lang.NoClassDefFoundError: org/springframework/web/servlet/config/annotation/WebMvcConfigurer\n\n    at org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTypeExcludeFilter.&lt;clinit&gt;(WebMvcTypeExcludeFilter.java:64)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    at org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer.instantiateTypeExcludeFilter(TypeExcludeFiltersContextCustomizer.java:63)\n    at org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer.instantiateTypeExcludeFilters(TypeExcludeFiltersContextCustomizer.java:53)\n    at org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer.&lt;init&gt;(TypeExcludeFiltersContextCustomizer.java:46)\n    at org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizerFactory.createContextCustomizer(TypeExcludeFiltersContextCustomizerFactory.java:57)\n    at org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizerFactory.createContextCustomizer(TypeExcludeFiltersContextCustomizerFactory.java:51)\n...\n</code></pre>\n<p>I added the following dependency to the pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n    &lt;version&gt;6.0.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The code below (Class name and variables name have been simplified)</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n@AutoConfigureWebMvc\n@AutoConfigureMockMvc\n@WebMvcTest(Controller.class)\npublic class ControllerTest {\n\n  @MockBean\n  Service service;\n\n  @Autowired\n  private MockMvc mockMvc;\n\n  @Test\n  public void some_test() throws Exception {\n    Mockito.when(service.getSomething())\n        .thenReturn(something);\n    mockMvc.perform(get(&quot;/errors&quot;)).andExpect(status().isOk())\n        .andExpect(something)\n        .andDo(print());\n  }\n</code></pre>\n<p>Various attempt at using different annotations do not solve the problem. Any help would be appreciated.</p>\n"},{"tags":["java","android","button","overriding"],"answers":[{"tags":[],"owner":{"account_id":27761608,"reputation":19,"user_id":21193920,"display_name":"Giggles"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676136466,"creation_date":1676136466,"answer_id":75421993,"question_id":75421611,"body_markdown":"I figured it out, but for anyone wondering the same thing, I&#39;ll post what I did. I implemented the following code inside MainActivity.class with the buttons:\r\n\r\n    private boolean backButtonEnabled = true;\r\n\r\n        @Override\r\n        public void onBackPressed() {\r\n            if (backButtonEnabled) {\r\n                super.onBackPressed();\r\n            }\r\n        }\r\n\r\n        public void disableBackButton() {\r\n            backButtonEnabled = false;\r\n        }\r\n\r\n        public void enableBackButton() {\r\n            backButtonEnabled = true;\r\n        }\r\n\r\n","title":"How to override a method when a button is tapped?","body":"<p>I figured it out, but for anyone wondering the same thing, I'll post what I did. I implemented the following code inside MainActivity.class with the buttons:</p>\n<pre><code>private boolean backButtonEnabled = true;\n\n    @Override\n    public void onBackPressed() {\n        if (backButtonEnabled) {\n            super.onBackPressed();\n        }\n    }\n\n    public void disableBackButton() {\n        backButtonEnabled = false;\n    }\n\n    public void enableBackButton() {\n        backButtonEnabled = true;\n    }\n</code></pre>\n"}],"owner":{"account_id":27761608,"reputation":19,"user_id":21193920,"display_name":"Giggles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1676394086,"creation_date":1676132756,"question_id":75421611,"body_markdown":"I was thinking of creating a button that when tapped can disable the phone back button. I wanted to be able to enable it back again by pressing another button. However, the way that I found to disable the back button was with an override. Could somebody lend me a hand on how I could do that? Thanks!\r\n\r\nWhat I tried was to put the override inside the button listener and onClick method, but it highland the override in red. I then tried putting the override in a different class and then calling the class when the the button is tapped.","title":"How to override a method when a button is tapped?","body":"<p>I was thinking of creating a button that when tapped can disable the phone back button. I wanted to be able to enable it back again by pressing another button. However, the way that I found to disable the back button was with an override. Could somebody lend me a hand on how I could do that? Thanks!</p>\n<p>What I tried was to put the override inside the button listener and onClick method, but it highland the override in red. I then tried putting the override in a different class and then calling the class when the the button is tapped.</p>\n"},{"tags":["java","arrays","sorting","arraylist","indexing"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1676051059,"post_id":75414437,"comment_id":133066391,"body_markdown":"Don&#39;t print in the loop. Use `int` to store the index with matching value. Use special value for it meaning **not found**. Print message after the loop depending on the value stored.","body":"Don&#39;t print in the loop. Use <code>int</code> to store the index with matching value. Use special value for it meaning <b>not found</b>. Print message after the loop depending on the value stored."}],"answers":[{"tags":[],"owner":{"account_id":27240000,"reputation":35,"user_id":20766340,"display_name":"Amin Mousavi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676393666,"creation_date":1676286621,"answer_id":75435053,"question_id":75414437,"body_markdown":"```java\r\nimport java.util.Scanner;\r\n\r\npublic class IndexWasNotFound {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        int[] array = new int[10];\r\n        array[0] = 6;\r\n        array[1] = 2;\r\n        array[2] = 8;\r\n        array[3] = 1;\r\n        array[4] = 3;\r\n        array[5] = 0;\r\n        array[6] = 9;\r\n        array[7] = 7;\r\n\r\n        int index = 0;\r\n        String ans = null;\r\n        boolean yn;\r\n        System.out.print(&quot;Search for? &quot;);\r\n        int searching = scanner.nextInt();\r\n\r\n        for(int i=0; i&lt;array.length; i++) {\r\n            if (searching == array[i]) {\r\n                index = i;\r\n                ans = searching + &quot; is at index &quot; + index + &quot;.&quot;;\r\n                yn = true;\r\n                break;\r\n            } else {\r\n                ans = searching + &quot; was not found.&quot;;\r\n                yn = false;\r\n            }\r\n        }\r\n        System.out.println(ans);\r\n    }\r\n}\r\n```","title":"&quot;Index was not found&quot; program in Arrays","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class IndexWasNotFound {\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        int[] array = new int[10];\n        array[0] = 6;\n        array[1] = 2;\n        array[2] = 8;\n        array[3] = 1;\n        array[4] = 3;\n        array[5] = 0;\n        array[6] = 9;\n        array[7] = 7;\n\n        int index = 0;\n        String ans = null;\n        boolean yn;\n        System.out.print(&quot;Search for? &quot;);\n        int searching = scanner.nextInt();\n\n        for(int i=0; i&lt;array.length; i++) {\n            if (searching == array[i]) {\n                index = i;\n                ans = searching + &quot; is at index &quot; + index + &quot;.&quot;;\n                yn = true;\n                break;\n            } else {\n                ans = searching + &quot; was not found.&quot;;\n                yn = false;\n            }\n        }\n        System.out.println(ans);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27240000,"reputation":35,"user_id":20766340,"display_name":"Amin Mousavi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75435053,"answer_count":1,"score":2,"last_activity_date":1676393946,"creation_date":1676050773,"question_id":75414437,"body_markdown":"I write a program that has a list of numbers. You need to add code to find a specific number in the list. If the number is found, the program will show its location. If the number is not found, the program will say that it couldn&#39;t be found.\r\n\r\nThe problem is, the output is looping, and I don&#39;t want that.\r\n\r\n```java\r\nint[] array = new int[10];\r\narray[0] = 6;\r\narray[1] = 2;\r\narray[2] = 8;\r\narray[3] = 1;\r\narray[4] = 3;\r\narray[5] = 0;\r\narray[6] = 9;\r\narray[7] = 7;\r\n\r\nSystem.out.print(&quot;Search for? &quot;);\r\nint searching = in.nextInt();\r\n\r\nfor(int i=0; i&lt;array.length; i++){\r\n    if(searching == array[i]){\r\n        System.out.println(searching + &quot; is at index &quot; + i + &quot;.&quot;);\r\n        break;\r\n    }\r\n    else{\r\n        System.out.println(searching + &quot; was not found.&quot;);\r\n    }\r\n}\r\n```\r\n\r\nMy output:\r\n```none\r\nSearch for? 1\r\n1 was not found.\r\n1 was not found.\r\n1 was not found.\r\n1 is at index 3.\r\n```\r\n\r\nExpected output:\r\n```none\r\n1 is at index 3.\r\n```","title":"&quot;Index was not found&quot; program in Arrays","body":"<p>I write a program that has a list of numbers. You need to add code to find a specific number in the list. If the number is found, the program will show its location. If the number is not found, the program will say that it couldn't be found.</p>\n<p>The problem is, the output is looping, and I don't want that.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] array = new int[10];\narray[0] = 6;\narray[1] = 2;\narray[2] = 8;\narray[3] = 1;\narray[4] = 3;\narray[5] = 0;\narray[6] = 9;\narray[7] = 7;\n\nSystem.out.print(&quot;Search for? &quot;);\nint searching = in.nextInt();\n\nfor(int i=0; i&lt;array.length; i++){\n    if(searching == array[i]){\n        System.out.println(searching + &quot; is at index &quot; + i + &quot;.&quot;);\n        break;\n    }\n    else{\n        System.out.println(searching + &quot; was not found.&quot;);\n    }\n}\n</code></pre>\n<p>My output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Search for? 1\n1 was not found.\n1 was not found.\n1 was not found.\n1 is at index 3.\n</code></pre>\n<p>Expected output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>1 is at index 3.\n</code></pre>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":9609,"reputation":92294,"user_id":17833,"display_name":"Anya Shenanigans"},"score":1,"creation_date":1676332943,"post_id":75442104,"comment_id":133112657,"body_markdown":"What&#39;s the error? It&#39;s supposed to work - doing :test behaves the same as test - at least when I have that task defined in the project and all the subprojects. It fails if there&#39;s no named task in the parent project","body":"What&#39;s the error? It&#39;s supposed to work - doing :test behaves the same as test - at least when I have that task defined in the project and all the subprojects. It fails if there&#39;s no named task in the parent project"},{"owner":{"account_id":5559246,"reputation":3573,"user_id":4409319,"accept_rate":70,"display_name":"JSelser"},"score":0,"creation_date":1676394038,"post_id":75442104,"comment_id":133126559,"body_markdown":"Thanks @AnyaShenanigans! just updated the question with the error. I guess it would work if I create a `test` task in root but I expected to work by default since I wish to run any generic multiproject gradle on my ci pipeline without further code config","body":"Thanks @AnyaShenanigans! just updated the question with the error. I guess it would work if I create a <code>test</code> task in root but I expected to work by default since I wish to run any generic multiproject gradle on my ci pipeline without further code config"},{"owner":{"account_id":9609,"reputation":92294,"user_id":17833,"display_name":"Anya Shenanigans"},"score":1,"creation_date":1676416247,"post_id":75442104,"comment_id":133132055,"body_markdown":"[This answer](https://stackoverflow.com/questions/53394617/why-is-there-a-difference-between-gradlew-clean-build-and-gradlew-clean-bui/53426354#53426354) I think explains what&#39;s happening more clearly. Essentially `:test` requires it in the root, while `test` invokes it everywhere it can be found","body":"<a href=\"https://stackoverflow.com/questions/53394617/why-is-there-a-difference-between-gradlew-clean-build-and-gradlew-clean-bui/53426354#53426354\">This answer</a> I think explains what&#39;s happening more clearly. Essentially <code>:test</code> requires it in the root, while <code>test</code> invokes it everywhere it can be found"},{"owner":{"account_id":5559246,"reputation":3573,"user_id":4409319,"accept_rate":70,"display_name":"JSelser"},"score":0,"creation_date":1676467717,"post_id":75442104,"comment_id":133141975,"body_markdown":"Absolutely! answers the question! thanks! seems like its designed on purpose to be able to have custom root tasks. still would expect a well known task like `test` or `build` to run on all subprojects if undefined","body":"Absolutely! answers the question! thanks! seems like its designed on purpose to be able to have custom root tasks. still would expect a well known task like <code>test</code> or <code>build</code> to run on all subprojects if undefined"}],"owner":{"account_id":5559246,"reputation":3573,"user_id":4409319,"accept_rate":70,"display_name":"JSelser"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676393911,"creation_date":1676330796,"question_id":75442104,"body_markdown":"I found a curious thing while building some ci pipelines on a multi project repo using gradle...\r\n\r\nAs you know, in a multi project repo, you can either run tasks (lets do `test`) on all projects by:\r\n```\r\n./gradlew test\r\n```\r\n\r\nor run the task specifying the path from root, with `:` being root like so:\r\n\r\n```\r\n./gradlew :project:test\r\n```\r\n\r\ngood! now, Im baffled as to why we cant use `./gradlew :test` as an alias of `./gradlew test`\r\n\r\nit makes sense in my mind, colons is just root. in my case, it would have been easier for my CI pipelines to concat whatever submodule to `:` instead of having to strip it or have the colon as input.\r\n\r\neven more fun, intellij seems to have the exact same issue when running tests using the UI, it generates `:test` and breaks forcing me to either fix it manually or use the terminal.\r\n\r\nNow my questions:\r\n - am I missing something? maybe its a config thing on my side but couldnt find anything\r\n - if not, why was gradle designed like this? feels weird\r\n\r\n**EDIT:**\r\nIm getting the following error:\r\n\r\n```\r\n* What went wrong:\r\nTask &#39;test&#39; not found in root project \r\n```","title":"why cant I run tasks in gradle using colons as the path to root?","body":"<p>I found a curious thing while building some ci pipelines on a multi project repo using gradle...</p>\n<p>As you know, in a multi project repo, you can either run tasks (lets do <code>test</code>) on all projects by:</p>\n<pre><code>./gradlew test\n</code></pre>\n<p>or run the task specifying the path from root, with <code>:</code> being root like so:</p>\n<pre><code>./gradlew :project:test\n</code></pre>\n<p>good! now, Im baffled as to why we cant use <code>./gradlew :test</code> as an alias of <code>./gradlew test</code></p>\n<p>it makes sense in my mind, colons is just root. in my case, it would have been easier for my CI pipelines to concat whatever submodule to <code>:</code> instead of having to strip it or have the colon as input.</p>\n<p>even more fun, intellij seems to have the exact same issue when running tests using the UI, it generates <code>:test</code> and breaks forcing me to either fix it manually or use the terminal.</p>\n<p>Now my questions:</p>\n<ul>\n<li>am I missing something? maybe its a config thing on my side but couldnt find anything</li>\n<li>if not, why was gradle designed like this? feels weird</li>\n</ul>\n<p><strong>EDIT:</strong>\nIm getting the following error:</p>\n<pre><code>* What went wrong:\nTask 'test' not found in root project \n</code></pre>\n"},{"tags":["java","ssl","keytool"],"comments":[{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":2,"creation_date":1328790306,"post_id":9210514,"comment_id":11594476,"body_markdown":"Just to clarify &quot;I have a Java client trying to access a server with a self-signed certificate.&quot;: you&#39;re talking of using client-certificates that are self-signed, aren&#39;t you? Is there any specific configuration for your connector settings on Glassfish (trust store settings, in particular)?","body":"Just to clarify &quot;I have a Java client trying to access a server with a self-signed certificate.&quot;: you&#39;re talking of using client-certificates that are self-signed, aren&#39;t you? Is there any specific configuration for your connector settings on Glassfish (trust store settings, in particular)?"},{"owner":{"account_id":979146,"reputation":8543,"user_id":999353,"accept_rate":51,"display_name":"TheCoder"},"score":0,"creation_date":1328795485,"post_id":9210514,"comment_id":11596378,"body_markdown":"&quot;I have a Java client trying to access a server with a self-signed certificate.&quot;: you&#39;re talking of using client-certificates that are self-signed, aren&#39;t you? - yes.","body":"&quot;I have a Java client trying to access a server with a self-signed certificate.&quot;: you&#39;re talking of using client-certificates that are self-signed, aren&#39;t you? - yes."},{"owner":{"account_id":979146,"reputation":8543,"user_id":999353,"accept_rate":51,"display_name":"TheCoder"},"score":1,"creation_date":1328795570,"post_id":9210514,"comment_id":11596407,"body_markdown":"I have found 2 settings in Glassfish JVM: -Djavax.net.ssl.keyStore=${com.sun.aas.instanceRoot}/config/keystore.jks and -Djavax.net.ssl.trustStore=${com.sun.aas.instanceRoot}/config/cacerts.jks. I now need to add by cert to one of those. Can you confirm it&#39;s the keystore I add it to?","body":"I have found 2 settings in Glassfish JVM: -Djavax.net.ssl.keyStore=${com.sun.aas.instanceRoot}/config/&zwnj;&#8203;keystore.jks and -Djavax.net.ssl.trustStore=${com.sun.aas.instanceRoot}/confi&zwnj;&#8203;g/cacerts.jks. I now need to add by cert to one of those. Can you confirm it&#39;s the keystore I add it to?"},{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":8,"creation_date":1328795794,"post_id":9210514,"comment_id":11596505,"body_markdown":"On the server, the keystore is for the server cert and its private key (keystore is for what &quot;belongs&quot; to local party). The truststore is for the certs used to verify trust in the remote party. You should add the client cert to your server trust store. (See [this](http://stackoverflow.com/a/4133092/372643) too, although Glassfish doesn&#39;t seem to be using the JRE&#39;s default location.)","body":"On the server, the keystore is for the server cert and its private key (keystore is for what &quot;belongs&quot; to local party). The truststore is for the certs used to verify trust in the remote party. You should add the client cert to your server trust store. (See <a href=\"http://stackoverflow.com/a/4133092/372643\">this</a> too, although Glassfish doesn&#39;t seem to be using the JRE&#39;s default location.)"},{"owner":{"account_id":979146,"reputation":8543,"user_id":999353,"accept_rate":51,"display_name":"TheCoder"},"score":0,"creation_date":1328796285,"post_id":9210514,"comment_id":11596717,"body_markdown":"That worked Bruno. I added it to my Glassfish truststore. Thanks so much for you help. You too Dirk.","body":"That worked Bruno. I added it to my Glassfish truststore. Thanks so much for you help. You too Dirk."},{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1418729198,"post_id":9210514,"comment_id":43437124,"body_markdown":"This answer may also help: http://stackoverflow.com/questions/4663147/is-there-a-java-setting-for-disabling-certificate-validation","body":"This answer may also help: <a href=\"http://stackoverflow.com/questions/4663147/is-there-a-java-setting-for-disabling-certificate-validation\" title=\"is there a java setting for disabling certificate validation\">stackoverflow.com/questions/4663147/&hellip;</a>"},{"owner":{"account_id":111410,"reputation":8252,"user_id":294317,"accept_rate":69,"display_name":"Nathan"},"score":0,"creation_date":1418921648,"post_id":9210514,"comment_id":43529628,"body_markdown":"possible duplicate of [PKIX path building failed: unable to find valid certification path to requested target](http://stackoverflow.com/questions/4062307/pkix-path-building-failed-unable-to-find-valid-certification-path-to-requested)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/4062307/pkix-path-building-failed-unable-to-find-valid-certification-path-to-requested\">PKIX path building failed: unable to find valid certification path to requested target</a>"},{"owner":{"account_id":1585444,"reputation":163,"user_id":1469933,"accept_rate":50,"display_name":"ben_979"},"score":0,"creation_date":1450026582,"post_id":9210514,"comment_id":56249240,"body_markdown":"For Glassfish V4, the process worked for me but like TheCoder, I added to my Glassfish cacerts.jks, not the Java one.","body":"For Glassfish V4, the process worked for me but like TheCoder, I added to my Glassfish cacerts.jks, not the Java one."},{"owner":{"account_id":2465781,"reputation":1582,"user_id":2148913,"accept_rate":80,"display_name":"Ajeesh"},"score":0,"creation_date":1465385086,"post_id":9210514,"comment_id":62876256,"body_markdown":"Check this link [pkix path building failed](http://magicmonster.com/kb/prg/java/ssl/pkix_path_building_failed.html) which solved my issue","body":"Check this link <a href=\"http://magicmonster.com/kb/prg/java/ssl/pkix_path_building_failed.html\" rel=\"nofollow noreferrer\">pkix path building failed</a> which solved my issue"},{"owner":{"account_id":1659161,"reputation":1236,"user_id":1527788,"accept_rate":50,"display_name":"Joanne"},"score":0,"creation_date":1527061761,"post_id":9210514,"comment_id":87978320,"body_markdown":"Check your internet. Gradle might want to download some stuff.","body":"Check your internet. Gradle might want to download some stuff."},{"owner":{"account_id":4281210,"reputation":1058,"user_id":3500521,"display_name":"Dreamspace President"},"score":2,"creation_date":1529414063,"post_id":9210514,"comment_id":88857582,"body_markdown":"You can blindly accept all SLL certificates as shown in this full runnable example code - **That&#39;s of course insecure!**: http://www.nakov.com/blog/2009/07/16/disable-certificate-validation-in-java-ssl-connections/","body":"You can blindly accept all SLL certificates as shown in this full runnable example code - <b>That&#39;s of course insecure!</b>: <a href=\"http://www.nakov.com/blog/2009/07/16/disable-certificate-validation-in-java-ssl-connections/\" rel=\"nofollow noreferrer\">nakov.com/blog/2009/07/16/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":238657,"reputation":7626,"user_id":507697,"accept_rate":75,"display_name":"Dirk-Willem van Gulik"},"down_vote_count":1,"up_vote_count":220,"is_accepted":true,"score":219,"last_activity_date":1351667382,"creation_date":1328789782,"answer_id":9210661,"question_id":9210514,"body_markdown":"Unfortunately - it could be many things - and lots of app servers and other java &#39;wrappers&#39; are prone to play with properties and their &#39;own&#39; take on keychains and what not. So it may be looking at something totally different. \r\n\r\nShort of truss-ing - I&#39;d try:\r\n\r\n    java -Djavax.net.debug=all -Djavax.net.ssl.trustStore=trustStore ...\r\n\r\nto see if that helps. Instead of &#39;all&#39; one can also set it to &#39;ssl&#39;, key manager and trust manager - which may help in your case. Setting it to &#39;help&#39; will list something like below on most platforms.\r\n\r\nRegardless - do make sure you fully understand the difference between the keystore (in which you have the private key and cert you prove your own identity with) and the trust store (which determines who you trust) - and the fact that your own identity also has a &#39;chain&#39; of trust to the root - which is separate from any chain to a root you need to figure out &#39;who&#39; you trust.\r\n\r\n\r\n    all            turn on all debugging\r\n    ssl            turn on ssl debugging\r\n\r\n    The   following can be used with ssl:\r\n        record       enable per-record tracing\r\n        handshake    print each handshake message\r\n        keygen       print key generation data\r\n        session      print session activity\r\n        defaultctx   print default SSL initialization\r\n        sslctx       print SSLContext tracing\r\n        sessioncache print session cache tracing\r\n        keymanager   print key manager tracing\r\n        trustmanager print trust manager tracing\r\n        pluggability print pluggability tracing\r\n\r\n        handshake debugging can be widened with:\r\n        data         hex dump of each handshake message\r\n        verbose      verbose handshake message printing\r\n\r\n        record debugging can be widened with:\r\n        plaintext    hex dump of record plaintext\r\n        packet       print raw SSL/TLS packets\r\n\r\nSource: # See http://download.oracle.com/javase/1.5.0/docs/guide/security/jsse/JSSERefGuide.html#Debug\r\n","title":"Unable to find valid certification path to requested target - error even after cert imported","body":"<p>Unfortunately - it could be many things - and lots of app servers and other java 'wrappers' are prone to play with properties and their 'own' take on keychains and what not. So it may be looking at something totally different. </p>\n\n<p>Short of truss-ing - I'd try:</p>\n\n<pre><code>java -Djavax.net.debug=all -Djavax.net.ssl.trustStore=trustStore ...\n</code></pre>\n\n<p>to see if that helps. Instead of 'all' one can also set it to 'ssl', key manager and trust manager - which may help in your case. Setting it to 'help' will list something like below on most platforms.</p>\n\n<p>Regardless - do make sure you fully understand the difference between the keystore (in which you have the private key and cert you prove your own identity with) and the trust store (which determines who you trust) - and the fact that your own identity also has a 'chain' of trust to the root - which is separate from any chain to a root you need to figure out 'who' you trust.</p>\n\n<pre><code>all            turn on all debugging\nssl            turn on ssl debugging\n\nThe   following can be used with ssl:\n    record       enable per-record tracing\n    handshake    print each handshake message\n    keygen       print key generation data\n    session      print session activity\n    defaultctx   print default SSL initialization\n    sslctx       print SSLContext tracing\n    sessioncache print session cache tracing\n    keymanager   print key manager tracing\n    trustmanager print trust manager tracing\n    pluggability print pluggability tracing\n\n    handshake debugging can be widened with:\n    data         hex dump of each handshake message\n    verbose      verbose handshake message printing\n\n    record debugging can be widened with:\n    plaintext    hex dump of record plaintext\n    packet       print raw SSL/TLS packets\n</code></pre>\n\n<p>Source: # See <a href=\"http://download.oracle.com/javase/1.5.0/docs/guide/security/jsse/JSSERefGuide.html#Debug\" rel=\"noreferrer\">http://download.oracle.com/javase/1.5.0/docs/guide/security/jsse/JSSERefGuide.html#Debug</a></p>\n"},{"tags":[],"owner":{"account_id":2688568,"reputation":2005,"user_id":2322379,"accept_rate":83,"display_name":"Vic"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1461919951,"creation_date":1450637068,"answer_id":34384472,"question_id":9210514,"body_markdown":"You need to configuring JSSE System Properties, specifically point to client certificate store. \r\n\r\nVia command line:\r\n\r\n    java -Djavax.net.ssl.trustStore=truststores/client.ts com.progress.Client\r\n\r\nor via Java code:\r\n\r\n    import java.util.Properties;\r\n        ...\r\n    \tProperties systemProps = System.getProperties();\r\n    \tsystemProps.put(&quot;javax.net.ssl.keyStorePassword&quot;,&quot;passwordForKeystore&quot;);\r\n    \tsystemProps.put(&quot;javax.net.ssl.keyStore&quot;,&quot;pathToKeystore.ks&quot;);\r\n        systemProps.put(&quot;javax.net.ssl.trustStore&quot;, &quot;pathToTruststore.ts&quot;);\r\n        systemProps.put(&quot;javax.net.ssl.trustStorePassword&quot;,&quot;passwordForTrustStore&quot;);\r\n        System.setProperties(systemProps);\r\n        ...\r\n\r\nFor more refer to details on [RedHat site][1].\r\n\r\n\r\n[1]: https://access.redhat.com/documentation/en-US/Fuse_MQ_Enterprise/7.1/html/Security_Guide/files/SSL-SysProps.html\r\n","title":"Unable to find valid certification path to requested target - error even after cert imported","body":"<p>You need to configuring JSSE System Properties, specifically point to client certificate store. </p>\n\n<p>Via command line:</p>\n\n<pre><code>java -Djavax.net.ssl.trustStore=truststores/client.ts com.progress.Client\n</code></pre>\n\n<p>or via Java code:</p>\n\n<pre><code>import java.util.Properties;\n    ...\n    Properties systemProps = System.getProperties();\n    systemProps.put(\"javax.net.ssl.keyStorePassword\",\"passwordForKeystore\");\n    systemProps.put(\"javax.net.ssl.keyStore\",\"pathToKeystore.ks\");\n    systemProps.put(\"javax.net.ssl.trustStore\", \"pathToTruststore.ts\");\n    systemProps.put(\"javax.net.ssl.trustStorePassword\",\"passwordForTrustStore\");\n    System.setProperties(systemProps);\n    ...\n</code></pre>\n\n<p>For more refer to details on <a href=\"https://access.redhat.com/documentation/en-US/Fuse_MQ_Enterprise/7.1/html/Security_Guide/files/SSL-SysProps.html\" rel=\"noreferrer\">RedHat site</a>.</p>\n"},{"tags":[],"owner":{"account_id":8329289,"reputation":389,"user_id":6258309,"display_name":"user6258309"},"down_vote_count":6,"up_vote_count":40,"is_accepted":false,"score":34,"last_activity_date":1591375701,"creation_date":1461700834,"answer_id":36874647,"question_id":9210514,"body_markdown":"Here is the solution , follow the below link Step by Step :\r\n\r\nhttp://www.mkyong.com/webservices/jax-ws/suncertpathbuilderexception-unable-to-find-valid-certification-path-to-requested-target/\r\n\r\nJAVA FILE : which is missing from the blog\r\n\r\n\r\n\r\n    /*\r\n     * Copyright 2006 Sun Microsystems, Inc.  All Rights Reserved.\r\n     *\r\n     * Redistribution and use in source and binary forms, with or without\r\n     * modification, are permitted provided that the following conditions\r\n     * are met:\r\n     *\r\n     *   - Redistributions of source code must retain the above copyright\r\n     *     notice, this list of conditions and the following disclaimer.\r\n     *\r\n     *   - Redistributions in binary form must reproduce the above copyright\r\n     *     notice, this list of conditions and the following disclaimer in the\r\n     *     documentation and/or other materials provided with the distribution.\r\n     *\r\n     *   - Neither the name of Sun Microsystems nor the names of its\r\n     *     contributors may be used to endorse or promote products derived\r\n     *     from this software without specific prior written permission.\r\n     *\r\n     * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS\r\n     * IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,\r\n     * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\r\n     * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR\r\n     * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\r\n     * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\r\n     * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\r\n     * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\r\n     * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\r\n     * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\r\n     * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n     */\r\n    \r\n    \r\n    \r\n    import java.io.*;\r\n    import java.net.URL;\r\n    \r\n    import java.security.*;\r\n    import java.security.cert.*;\r\n    \r\n    import javax.net.ssl.*;\r\n    \r\n    public class InstallCert {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n    \tString host;\r\n    \tint port;\r\n    \tchar[] passphrase;\r\n    \tif ((args.length == 1) || (args.length == 2)) {\r\n    \t    String[] c = args[0].split(&quot;:&quot;);\r\n    \t    host = c[0];\r\n    \t    port = (c.length == 1) ? 443 : Integer.parseInt(c[1]);\r\n    \t    String p = (args.length == 1) ? &quot;changeit&quot; : args[1];\r\n    \t    passphrase = p.toCharArray();\r\n    \t} else {\r\n    \t    System.out.println(&quot;Usage: java InstallCert &lt;host&gt;[:port] [passphrase]&quot;);\r\n    \t    return;\r\n    \t}\r\n    \r\n    \tFile file = new File(&quot;jssecacerts&quot;);\r\n    \tif (file.isFile() == false) {\r\n    \t    char SEP = File.separatorChar;\r\n    \t    File dir = new File(System.getProperty(&quot;java.home&quot;) + SEP\r\n    \t\t    + &quot;lib&quot; + SEP + &quot;security&quot;);\r\n    \t    file = new File(dir, &quot;jssecacerts&quot;);\r\n    \t    if (file.isFile() == false) {\r\n    \t\tfile = new File(dir, &quot;cacerts&quot;);\r\n    \t    }\r\n    \t}\r\n    \tSystem.out.println(&quot;Loading KeyStore &quot; + file + &quot;...&quot;);\r\n    \tInputStream in = new FileInputStream(file);\r\n    \tKeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\r\n    \tks.load(in, passphrase);\r\n    \tin.close();\r\n    \r\n    \tSSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\r\n    \tTrustManagerFactory tmf =\r\n    \t    TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n    \ttmf.init(ks);\r\n    \tX509TrustManager defaultTrustManager = (X509TrustManager)tmf.getTrustManagers()[0];\r\n    \tSavingTrustManager tm = new SavingTrustManager(defaultTrustManager);\r\n    \tcontext.init(null, new TrustManager[] {tm}, null);\r\n    \tSSLSocketFactory factory = context.getSocketFactory();\r\n    \r\n    \tSystem.out.println(&quot;Opening connection to &quot; + host + &quot;:&quot; + port + &quot;...&quot;);\r\n    \tSSLSocket socket = (SSLSocket)factory.createSocket(host, port);\r\n    \tsocket.setSoTimeout(10000);\r\n    \ttry {\r\n    \t    System.out.println(&quot;Starting SSL handshake...&quot;);\r\n    \t    socket.startHandshake();\r\n    \t    socket.close();\r\n    \t    System.out.println();\r\n    \t    System.out.println(&quot;No errors, certificate is already trusted&quot;);\r\n    \t} catch (SSLException e) {\r\n    \t    System.out.println();\r\n    \t    e.printStackTrace(System.out);\r\n    \t}\r\n    \r\n    \tX509Certificate[] chain = tm.chain;\r\n    \tif (chain == null) {\r\n    \t    System.out.println(&quot;Could not obtain server certificate chain&quot;);\r\n    \t    return;\r\n    \t}\r\n    \r\n    \tBufferedReader reader =\r\n    \t\tnew BufferedReader(new InputStreamReader(System.in));\r\n    \r\n    \tSystem.out.println();\r\n    \tSystem.out.println(&quot;Server sent &quot; + chain.length + &quot; certificate(s):&quot;);\r\n    \tSystem.out.println();\r\n    \tMessageDigest sha1 = MessageDigest.getInstance(&quot;SHA1&quot;);\r\n    \tMessageDigest md5 = MessageDigest.getInstance(&quot;MD5&quot;);\r\n    \tfor (int i = 0; i &lt; chain.length; i++) {\r\n    \t    X509Certificate cert = chain[i];\r\n    \t    System.out.println\r\n    \t    \t(&quot; &quot; + (i + 1) + &quot; Subject &quot; + cert.getSubjectDN());\r\n    \t    System.out.println(&quot;   Issuer  &quot; + cert.getIssuerDN());\r\n    \t    sha1.update(cert.getEncoded());\r\n    \t    System.out.println(&quot;   sha1    &quot; + toHexString(sha1.digest()));\r\n    \t    md5.update(cert.getEncoded());\r\n    \t    System.out.println(&quot;   md5     &quot; + toHexString(md5.digest()));\r\n    \t    System.out.println();\r\n    \t}\r\n    \r\n    \tSystem.out.println(&quot;Enter certificate to add to trusted keystore or &#39;q&#39; to quit: [1]&quot;);\r\n    \tString line = reader.readLine().trim();\r\n    \tint k;\r\n    \ttry {\r\n    \t    k = (line.length() == 0) ? 0 : Integer.parseInt(line) - 1;\r\n    \t} catch (NumberFormatException e) {\r\n    \t    System.out.println(&quot;KeyStore not changed&quot;);\r\n    \t    return;\r\n    \t}\r\n    \r\n    \tX509Certificate cert = chain[k];\r\n    \tString alias = host + &quot;-&quot; + (k + 1);\r\n    \tks.setCertificateEntry(alias, cert);\r\n    \r\n    \tOutputStream out = new FileOutputStream(&quot;jssecacerts&quot;);\r\n    \tks.store(out, passphrase);\r\n    \tout.close();\r\n    \r\n    \tSystem.out.println();\r\n    \tSystem.out.println(cert);\r\n    \tSystem.out.println();\r\n    \tSystem.out.println\r\n    \t\t(&quot;Added certificate to keystore &#39;jssecacerts&#39; using alias &#39;&quot;\r\n    \t\t+ alias + &quot;&#39;&quot;);\r\n        }\r\n    \r\n        private static final char[] HEXDIGITS = &quot;0123456789abcdef&quot;.toCharArray();\r\n    \r\n        private static String toHexString(byte[] bytes) {\r\n    \t    StringBuilder sb = new StringBuilder(bytes.length * 3);\r\n    \t    for (int b : bytes) {\r\n    \t        b &amp;= 0xff;\r\n    \t        sb.append(HEXDIGITS[b &gt;&gt; 4]);\r\n    \t        sb.append(HEXDIGITS[b &amp; 15]);\r\n    \t        sb.append(&#39; &#39;);\r\n    \t    }\r\n    \t    return sb.toString();\r\n        }\r\n    \r\n        private static class SavingTrustManager implements X509TrustManager {\r\n    \r\n    \tprivate final X509TrustManager tm;\r\n    \tprivate X509Certificate[] chain;\r\n    \r\n    \tSavingTrustManager(X509TrustManager tm) {\r\n    \t    this.tm = tm;\r\n    \t}\r\n    \r\n    \tpublic X509Certificate[] getAcceptedIssuers() {\r\n    \t    throw new UnsupportedOperationException();\r\n    \t}\r\n    \r\n    \tpublic void checkClientTrusted(X509Certificate[] chain, String authType)\r\n    \t\tthrows CertificateException {\r\n    \t    throw new UnsupportedOperationException();\r\n    \t}\r\n    \r\n    \tpublic void checkServerTrusted(X509Certificate[] chain, String authType)\r\n    \t\tthrows CertificateException {\r\n    \t    this.chain = chain;\r\n    \t    tm.checkServerTrusted(chain, authType);\r\n    \t}\r\n        }\r\n    \r\n    }","title":"Unable to find valid certification path to requested target - error even after cert imported","body":"<p>Here is the solution , follow the below link Step by Step :</p>\n\n<p><a href=\"http://www.mkyong.com/webservices/jax-ws/suncertpathbuilderexception-unable-to-find-valid-certification-path-to-requested-target/\" rel=\"noreferrer\">http://www.mkyong.com/webservices/jax-ws/suncertpathbuilderexception-unable-to-find-valid-certification-path-to-requested-target/</a></p>\n\n<p>JAVA FILE : which is missing from the blog</p>\n\n<pre><code>/*\n * Copyright 2006 Sun Microsystems, Inc.  All Rights Reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *\n *   - Redistributions of source code must retain the above copyright\n *     notice, this list of conditions and the following disclaimer.\n *\n *   - Redistributions in binary form must reproduce the above copyright\n *     notice, this list of conditions and the following disclaimer in the\n *     documentation and/or other materials provided with the distribution.\n *\n *   - Neither the name of Sun Microsystems nor the names of its\n *     contributors may be used to endorse or promote products derived\n *     from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS\n * IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,\n * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n\n\nimport java.io.*;\nimport java.net.URL;\n\nimport java.security.*;\nimport java.security.cert.*;\n\nimport javax.net.ssl.*;\n\npublic class InstallCert {\n\n    public static void main(String[] args) throws Exception {\n    String host;\n    int port;\n    char[] passphrase;\n    if ((args.length == 1) || (args.length == 2)) {\n        String[] c = args[0].split(\":\");\n        host = c[0];\n        port = (c.length == 1) ? 443 : Integer.parseInt(c[1]);\n        String p = (args.length == 1) ? \"changeit\" : args[1];\n        passphrase = p.toCharArray();\n    } else {\n        System.out.println(\"Usage: java InstallCert &lt;host&gt;[:port] [passphrase]\");\n        return;\n    }\n\n    File file = new File(\"jssecacerts\");\n    if (file.isFile() == false) {\n        char SEP = File.separatorChar;\n        File dir = new File(System.getProperty(\"java.home\") + SEP\n            + \"lib\" + SEP + \"security\");\n        file = new File(dir, \"jssecacerts\");\n        if (file.isFile() == false) {\n        file = new File(dir, \"cacerts\");\n        }\n    }\n    System.out.println(\"Loading KeyStore \" + file + \"...\");\n    InputStream in = new FileInputStream(file);\n    KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\n    ks.load(in, passphrase);\n    in.close();\n\n    SSLContext context = SSLContext.getInstance(\"TLS\");\n    TrustManagerFactory tmf =\n        TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n    tmf.init(ks);\n    X509TrustManager defaultTrustManager = (X509TrustManager)tmf.getTrustManagers()[0];\n    SavingTrustManager tm = new SavingTrustManager(defaultTrustManager);\n    context.init(null, new TrustManager[] {tm}, null);\n    SSLSocketFactory factory = context.getSocketFactory();\n\n    System.out.println(\"Opening connection to \" + host + \":\" + port + \"...\");\n    SSLSocket socket = (SSLSocket)factory.createSocket(host, port);\n    socket.setSoTimeout(10000);\n    try {\n        System.out.println(\"Starting SSL handshake...\");\n        socket.startHandshake();\n        socket.close();\n        System.out.println();\n        System.out.println(\"No errors, certificate is already trusted\");\n    } catch (SSLException e) {\n        System.out.println();\n        e.printStackTrace(System.out);\n    }\n\n    X509Certificate[] chain = tm.chain;\n    if (chain == null) {\n        System.out.println(\"Could not obtain server certificate chain\");\n        return;\n    }\n\n    BufferedReader reader =\n        new BufferedReader(new InputStreamReader(System.in));\n\n    System.out.println();\n    System.out.println(\"Server sent \" + chain.length + \" certificate(s):\");\n    System.out.println();\n    MessageDigest sha1 = MessageDigest.getInstance(\"SHA1\");\n    MessageDigest md5 = MessageDigest.getInstance(\"MD5\");\n    for (int i = 0; i &lt; chain.length; i++) {\n        X509Certificate cert = chain[i];\n        System.out.println\n            (\" \" + (i + 1) + \" Subject \" + cert.getSubjectDN());\n        System.out.println(\"   Issuer  \" + cert.getIssuerDN());\n        sha1.update(cert.getEncoded());\n        System.out.println(\"   sha1    \" + toHexString(sha1.digest()));\n        md5.update(cert.getEncoded());\n        System.out.println(\"   md5     \" + toHexString(md5.digest()));\n        System.out.println();\n    }\n\n    System.out.println(\"Enter certificate to add to trusted keystore or 'q' to quit: [1]\");\n    String line = reader.readLine().trim();\n    int k;\n    try {\n        k = (line.length() == 0) ? 0 : Integer.parseInt(line) - 1;\n    } catch (NumberFormatException e) {\n        System.out.println(\"KeyStore not changed\");\n        return;\n    }\n\n    X509Certificate cert = chain[k];\n    String alias = host + \"-\" + (k + 1);\n    ks.setCertificateEntry(alias, cert);\n\n    OutputStream out = new FileOutputStream(\"jssecacerts\");\n    ks.store(out, passphrase);\n    out.close();\n\n    System.out.println();\n    System.out.println(cert);\n    System.out.println();\n    System.out.println\n        (\"Added certificate to keystore 'jssecacerts' using alias '\"\n        + alias + \"'\");\n    }\n\n    private static final char[] HEXDIGITS = \"0123456789abcdef\".toCharArray();\n\n    private static String toHexString(byte[] bytes) {\n        StringBuilder sb = new StringBuilder(bytes.length * 3);\n        for (int b : bytes) {\n            b &amp;= 0xff;\n            sb.append(HEXDIGITS[b &gt;&gt; 4]);\n            sb.append(HEXDIGITS[b &amp; 15]);\n            sb.append(' ');\n        }\n        return sb.toString();\n    }\n\n    private static class SavingTrustManager implements X509TrustManager {\n\n    private final X509TrustManager tm;\n    private X509Certificate[] chain;\n\n    SavingTrustManager(X509TrustManager tm) {\n        this.tm = tm;\n    }\n\n    public X509Certificate[] getAcceptedIssuers() {\n        throw new UnsupportedOperationException();\n    }\n\n    public void checkClientTrusted(X509Certificate[] chain, String authType)\n        throws CertificateException {\n        throw new UnsupportedOperationException();\n    }\n\n    public void checkServerTrusted(X509Certificate[] chain, String authType)\n        throws CertificateException {\n        this.chain = chain;\n        tm.checkServerTrusted(chain, authType);\n    }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5689257,"reputation":1203,"user_id":4497780,"display_name":"Danny Mor"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1493105608,"creation_date":1493105608,"answer_id":43604383,"question_id":9210514,"body_markdown":"I had the same problem with &lt;b&gt;sbt&lt;/b&gt;.&lt;br/&gt;\r\nIt tried to fetch dependencies from **repo1.maven.org** over ssl&lt;br/&gt; \r\nbut said it was &quot;unable to find valid certification path to requested target url&quot;.&lt;br/&gt;\r\nso I followed [this post][1]\r\nand still failed to verify a connection.&lt;br/&gt;\r\nSo I read about it and found that the root cert is not enough, as was suggested by the post,so - &lt;br/&gt; **the thing that worked for me was importing the intermediate CA certificates into the keystore**.&lt;br/&gt;\r\nI actually added all the certificates in the chain and it worked like a charm.\r\n  \r\n\r\n  [1]: http://magicmonster.com/kb/prg/java/ssl/pkix_path_building_failed.html","title":"Unable to find valid certification path to requested target - error even after cert imported","body":"<p>I had the same problem with <b>sbt</b>.<br/>\nIt tried to fetch dependencies from <strong>repo1.maven.org</strong> over ssl<br/> \nbut said it was \"unable to find valid certification path to requested target url\".<br/>\nso I followed <a href=\"http://magicmonster.com/kb/prg/java/ssl/pkix_path_building_failed.html\" rel=\"noreferrer\">this post</a>\nand still failed to verify a connection.<br/>\nSo I read about it and found that the root cert is not enough, as was suggested by the post,so - <br/> <strong>the thing that worked for me was importing the intermediate CA certificates into the keystore</strong>.<br/>\nI actually added all the certificates in the chain and it worked like a charm.</p>\n"},{"tags":[],"owner":{"account_id":4439777,"reputation":3830,"user_id":3614578,"accept_rate":55,"display_name":"gary69"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1508204390,"creation_date":1508204390,"answer_id":46781254,"question_id":9210514,"body_markdown":"My problem was that a Cloud Access Security Broker, NetSkope, was installed on my work laptop through a software update.  This was altering the certificate chain and I was still not able to connect to the server through my java client after importing the entire chain to my cacerts keystore.  I disabled NetSkope and was able to successfully connect.","title":"Unable to find valid certification path to requested target - error even after cert imported","body":"<p>My problem was that a Cloud Access Security Broker, NetSkope, was installed on my work laptop through a software update.  This was altering the certificate chain and I was still not able to connect to the server through my java client after importing the entire chain to my cacerts keystore.  I disabled NetSkope and was able to successfully connect.</p>\n"},{"tags":[],"owner":{"account_id":4234133,"reputation":323,"user_id":3465795,"display_name":"Steve T"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1560458288,"creation_date":1510950784,"answer_id":47358830,"question_id":9210514,"body_markdown":"I am working on a tutorial for REST web services at www.udemy.com (REST Java Web Services).  The example in the tutorial said that in order to have SSL, we must have a folder called &quot;trust_store&quot; in my eclipse &quot;client&quot; project that should contain a &quot;key store&quot; file (we had a &quot;client&quot; project to call the service, and &quot;service&quot; project that contained the REST web service - 2 projects in the same eclipse workspace, one the client, the other the service).  To keep things simple, they said to copy &quot;keystore.jks&quot; from the glassfish app server (glassfish\\domains\\domain1\\config\\keystore.jks) we are using and put it into this &quot;trust_store&quot; folder that they had me make in the client project.  That seems to make sense: the self-signed certs in the server&#39;s key_store would correspond to the certs in the client trust_store.  Now, doing this, I was getting the error that the original post mentions.  I have googled this and read that the error is due to the &quot;keystore.jks&quot; file on the client not containing a trusted/signed certificate, that the certificate it finds is self-signed.\r\n\r\nTo keep things clear, let me say that as I understand it, the &quot;keystore.jks&quot; contains self-signed certs, and the &quot;cacerts.jks&quot; file contains CA certs (signed by the CA).  The &quot;keystore.jks&quot; is the &quot;keystore&quot; and the &quot;cacerts.jks&quot; is the &quot;trust store&quot;.  As &quot;Bruno&quot;, a commenter, says above, &quot;keystore.jks&quot; is local, and &quot;cacerts.jks&quot; is for remote clients.\r\n\r\nSo, I said to myself, hey, glassfish also has the &quot;cacerts.jks&quot; file, which is glassfish&#39;s trust_store file.  cacerts.jsk is supposed to contain CA certificates.  And apparently I need my trust_store folder to contain a key store file that has at least one CA certificate.  So, I tried putting the &quot;cacerts.jks&quot; file in the &quot;trust_store&quot; folder I had made, on my client project, and changing the VM properties to point to &quot;cacerts.jks&quot; instead of &quot;keystore.jks&quot;.  That got rid of the error.  I guess all it needed was a CA cert to work.  \r\n\r\nThis may not be ideal for production, or even for development beyond just getting something to work.  For instance you could probably use &quot;keytool&quot; command to add CA certs to the &quot;keystore.jks&quot; file in the client.  But anyway hopefully this at least narrows down the possible scenarios that could be going on here to cause the error.  \r\n\r\nALSO: my approach seemed to be useful for the client (server cert added to client trust_store), it looks like the comments above to resolve the original post are useful for the server (client cert added to server trust_store).  Cheers.\r\n\r\nEclipse project setup:\r\n\r\n - MyClientProject \r\n - src \r\n - test \r\n - JRE System Library \r\n - ... \r\n - trust_store  \r\n ---cacerts.jks\r\n ---keystore.jks\r\n\r\nSnippet from MyClientProject.java file:\r\n\r\n    static {\r\n      // Setup the trustStore location and password\r\n      System.setProperty(&quot;javax.net.ssl.trustStore&quot;,&quot;trust_store/cacerts.jks&quot;);\r\n      // comment out below line\r\n      System.setProperty(&quot;javax.net.ssl.trustStore&quot;,&quot;trust_store/keystore.jks&quot;);\r\n      System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;changeit&quot;);\r\n      //System.setProperty(&quot;javax.net.debug&quot;, &quot;all&quot;);\r\n\t\t\r\n      // for localhost testing only\r\n      javax.net.ssl.HttpsURLConnection.setDefaultHostnameVerifier(new javax.net.ssl.HostnameVerifier() {\r\n            public boolean verify(String hostname, javax.net.ssl.SSLSession sslSession) {\r\n              return hostname.equals(&quot;localhost&quot;);\r\n            }\r\n\r\n      });\r\n    }","title":"Unable to find valid certification path to requested target - error even after cert imported","body":"<p>I am working on a tutorial for REST web services at www.udemy.com (REST Java Web Services).  The example in the tutorial said that in order to have SSL, we must have a folder called \"trust_store\" in my eclipse \"client\" project that should contain a \"key store\" file (we had a \"client\" project to call the service, and \"service\" project that contained the REST web service - 2 projects in the same eclipse workspace, one the client, the other the service).  To keep things simple, they said to copy \"keystore.jks\" from the glassfish app server (glassfish\\domains\\domain1\\config\\keystore.jks) we are using and put it into this \"trust_store\" folder that they had me make in the client project.  That seems to make sense: the self-signed certs in the server's key_store would correspond to the certs in the client trust_store.  Now, doing this, I was getting the error that the original post mentions.  I have googled this and read that the error is due to the \"keystore.jks\" file on the client not containing a trusted/signed certificate, that the certificate it finds is self-signed.</p>\n\n<p>To keep things clear, let me say that as I understand it, the \"keystore.jks\" contains self-signed certs, and the \"cacerts.jks\" file contains CA certs (signed by the CA).  The \"keystore.jks\" is the \"keystore\" and the \"cacerts.jks\" is the \"trust store\".  As \"Bruno\", a commenter, says above, \"keystore.jks\" is local, and \"cacerts.jks\" is for remote clients.</p>\n\n<p>So, I said to myself, hey, glassfish also has the \"cacerts.jks\" file, which is glassfish's trust_store file.  cacerts.jsk is supposed to contain CA certificates.  And apparently I need my trust_store folder to contain a key store file that has at least one CA certificate.  So, I tried putting the \"cacerts.jks\" file in the \"trust_store\" folder I had made, on my client project, and changing the VM properties to point to \"cacerts.jks\" instead of \"keystore.jks\".  That got rid of the error.  I guess all it needed was a CA cert to work.  </p>\n\n<p>This may not be ideal for production, or even for development beyond just getting something to work.  For instance you could probably use \"keytool\" command to add CA certs to the \"keystore.jks\" file in the client.  But anyway hopefully this at least narrows down the possible scenarios that could be going on here to cause the error.  </p>\n\n<p>ALSO: my approach seemed to be useful for the client (server cert added to client trust_store), it looks like the comments above to resolve the original post are useful for the server (client cert added to server trust_store).  Cheers.</p>\n\n<p>Eclipse project setup:</p>\n\n<ul>\n<li>MyClientProject </li>\n<li>src </li>\n<li>test </li>\n<li>JRE System Library </li>\n<li>... </li>\n<li>trust_store<br>\n---cacerts.jks\n---keystore.jks</li>\n</ul>\n\n<p>Snippet from MyClientProject.java file:</p>\n\n<pre><code>static {\n  // Setup the trustStore location and password\n  System.setProperty(\"javax.net.ssl.trustStore\",\"trust_store/cacerts.jks\");\n  // comment out below line\n  System.setProperty(\"javax.net.ssl.trustStore\",\"trust_store/keystore.jks\");\n  System.setProperty(\"javax.net.ssl.trustStorePassword\", \"changeit\");\n  //System.setProperty(\"javax.net.debug\", \"all\");\n\n  // for localhost testing only\n  javax.net.ssl.HttpsURLConnection.setDefaultHostnameVerifier(new javax.net.ssl.HostnameVerifier() {\n        public boolean verify(String hostname, javax.net.ssl.SSLSession sslSession) {\n          return hostname.equals(\"localhost\");\n        }\n\n  });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5913408,"reputation":863,"user_id":4652896,"display_name":"Алексей Присяжный"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1606784014,"creation_date":1517403767,"answer_id":48542857,"question_id":9210514,"body_markdown":"(repost from [my other response][1])  \r\nUse cli utility **keytool** from java software distribution for import (and **trust!**) needed certificates\r\n\r\nSample: \r\n\r\n0. From cli change dir to jre\\bin\r\n\r\n1. Check keystore (file found in jre\\bin directory)  \r\nkeytool -list -keystore ..\\lib\\security\\cacerts  \r\nPassword is **changeit** \r\n\r\n2. Download and save all certificates in chain from needed server.\r\n\r\n3. Add certificates (before need to remove &quot;read-only&quot; attribute on file `..\\lib\\security\\cacerts`), run: \r\n    \r\n    keytool -alias REPLACE_TO_ANY_UNIQ_NAME -import -keystore.\\lib\\security\\cacerts -file &quot;r:\\root.crt&quot;\r\n\r\naccidentally I found such a simple tip. \r\nOther solutions require the use of InstallCert.Java and JDK\r\n\r\nsource: http://www.java-samples.com/showtutorial.php?tutorialid=210\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4663147/is-there-a-java-setting-for-disabling-certificate-validation/48542816#48542816\r\n","title":"Unable to find valid certification path to requested target - error even after cert imported","body":"<p>(repost from <a href=\"https://stackoverflow.com/questions/4663147/is-there-a-java-setting-for-disabling-certificate-validation/48542816#48542816\">my other response</a>)<br />\nUse cli utility <strong>keytool</strong> from java software distribution for import (and <strong>trust!</strong>) needed certificates</p>\n<p>Sample:</p>\n<ol start=\"0\">\n<li><p>From cli change dir to jre\\bin</p>\n</li>\n<li><p>Check keystore (file found in jre\\bin directory)<br />\nkeytool -list -keystore ..\\lib\\security\\cacerts<br />\nPassword is <strong>changeit</strong></p>\n</li>\n<li><p>Download and save all certificates in chain from needed server.</p>\n</li>\n<li><p>Add certificates (before need to remove &quot;read-only&quot; attribute on file <code>..\\lib\\security\\cacerts</code>), run:</p>\n<p>keytool -alias REPLACE_TO_ANY_UNIQ_NAME -import -keystore.\\lib\\security\\cacerts -file &quot;r:\\root.crt&quot;</p>\n</li>\n</ol>\n<p>accidentally I found such a simple tip.\nOther solutions require the use of InstallCert.Java and JDK</p>\n<p>source: <a href=\"http://www.java-samples.com/showtutorial.php?tutorialid=210\" rel=\"noreferrer\">http://www.java-samples.com/showtutorial.php?tutorialid=210</a></p>\n"},{"tags":[],"owner":{"account_id":9793530,"reputation":41,"user_id":7257368,"display_name":"0x7E1"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1536152592,"creation_date":1536152592,"answer_id":52185843,"question_id":9210514,"body_markdown":"Check if the file `$JAVA_HOME/lib/security/cacerts` exists!\r\nIn my case it was not a file but a link to `/etc/ssl/certs/java/cacerts` and also this was a link to itself (WHAT???) so due to it JVM can&#39;t find the file.\r\n\r\n**Solution:**\r\nCopy the real cacerts file (*you can do it from another JDK*) to `/etc/ssl/certs/java/` directory and it&#39;ll solve your problem :)","title":"Unable to find valid certification path to requested target - error even after cert imported","body":"<p>Check if the file <code>$JAVA_HOME/lib/security/cacerts</code> exists!\nIn my case it was not a file but a link to <code>/etc/ssl/certs/java/cacerts</code> and also this was a link to itself (WHAT???) so due to it JVM can't find the file.</p>\n\n<p><strong>Solution:</strong>\nCopy the real cacerts file (<em>you can do it from another JDK</em>) to <code>/etc/ssl/certs/java/</code> directory and it'll solve your problem :)</p>\n"},{"tags":[],"owner":{"account_id":192592,"reputation":21561,"user_id":433814,"accept_rate":86,"display_name":"Marcello DeSales"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1541922856,"creation_date":1541922856,"answer_id":53246821,"question_id":9210514,"body_markdown":"# Solution when migrating from JDK 8 to JDK 10\r\n\r\n* The certificates are really different\r\n  *  JDK 10 has 80, while JDK 8 has 151\r\n* JDK 10 has been recently added the `certs`\r\n  * https://dzone.com/articles/openjdk-10-now-includes-root-ca-certificates\r\n  * http://openjdk.java.net/jeps/319\r\n\r\n## JDK 10\r\n\r\n    root@c339504909345:/opt/jdk-minimal/jre/lib/security #  keytool -cacerts -list\r\n    Enter keystore password:\r\n    Keystore type: JKS\r\n    Keystore provider: SUN\r\n    \r\n    Your keystore contains 80 entries\r\n\r\n## JDK 8\r\n\r\n    root@c39596768075:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/security/cacerts #  keytool -cacerts -list\r\n    Enter keystore password:\r\n    Keystore type: JKS\r\n    Keystore provider: SUN\r\n    \r\n    Your keystore contains 151 entries\r\n\r\n# Steps to fix\r\n\r\n* I deleted the JDK 10 cert and replaced it with the JDK 8\r\n* Since I&#39;m building Docker Images, I could quickly do that using Multi-stage builds\r\n  * I&#39;m building a minimal JRE using `jlink` as `/opt/jdk/bin/jlink \\\r\n    --module-path /opt/jdk/jmods...`\r\n\r\nSo, here&#39;s the different paths and the sequence of the commands...\r\n\r\n    # Java 8\r\n    COPY --from=marcellodesales-springboot-builder-jdk8 /usr/lib/jvm/java-8-openjdk-amd64/jre/lib/security/cacerts /etc/ssl/certs/java/cacerts\r\n\r\n    # Java 10\r\n    RUN rm -f /opt/jdk-minimal/jre/lib/security/cacerts\r\n    RUN ln -s /etc/ssl/certs/java/cacerts /opt/jdk-minimal/jre/lib/security/cacerts\r\n\r\n","title":"Unable to find valid certification path to requested target - error even after cert imported","body":"<h1>Solution when migrating from JDK 8 to JDK 10</h1>\n\n<ul>\n<li>The certificates are really different\n\n<ul>\n<li>JDK 10 has 80, while JDK 8 has 151</li>\n</ul></li>\n<li>JDK 10 has been recently added the <code>certs</code>\n\n<ul>\n<li><a href=\"https://dzone.com/articles/openjdk-10-now-includes-root-ca-certificates\" rel=\"noreferrer\">https://dzone.com/articles/openjdk-10-now-includes-root-ca-certificates</a></li>\n<li><a href=\"http://openjdk.java.net/jeps/319\" rel=\"noreferrer\">http://openjdk.java.net/jeps/319</a></li>\n</ul></li>\n</ul>\n\n<h2>JDK 10</h2>\n\n<pre><code>root@c339504909345:/opt/jdk-minimal/jre/lib/security #  keytool -cacerts -list\nEnter keystore password:\nKeystore type: JKS\nKeystore provider: SUN\n\nYour keystore contains 80 entries\n</code></pre>\n\n<h2>JDK 8</h2>\n\n<pre><code>root@c39596768075:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/security/cacerts #  keytool -cacerts -list\nEnter keystore password:\nKeystore type: JKS\nKeystore provider: SUN\n\nYour keystore contains 151 entries\n</code></pre>\n\n<h1>Steps to fix</h1>\n\n<ul>\n<li>I deleted the JDK 10 cert and replaced it with the JDK 8</li>\n<li>Since I'm building Docker Images, I could quickly do that using Multi-stage builds\n\n<ul>\n<li>I'm building a minimal JRE using <code>jlink</code> as <code>/opt/jdk/bin/jlink \\\n--module-path /opt/jdk/jmods...</code></li>\n</ul></li>\n</ul>\n\n<p>So, here's the different paths and the sequence of the commands...</p>\n\n<pre><code># Java 8\nCOPY --from=marcellodesales-springboot-builder-jdk8 /usr/lib/jvm/java-8-openjdk-amd64/jre/lib/security/cacerts /etc/ssl/certs/java/cacerts\n\n# Java 10\nRUN rm -f /opt/jdk-minimal/jre/lib/security/cacerts\nRUN ln -s /etc/ssl/certs/java/cacerts /opt/jdk-minimal/jre/lib/security/cacerts\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568201265,"creation_date":1568201265,"answer_id":57888135,"question_id":9210514,"body_markdown":"In my case I was facing the problem because in my tomcat process specific keystore was given using \r\n\r\n    -Djavax.net.ssl.trustStore=/pathtosomeselfsignedstore/truststore.jks\r\n\r\nWheras I was importing the certificate to the cacert of JRE/lib/security and the changes were not reflecting.\r\nThen I did below command where /tmp/cert1.test contains the certificate of the target server\r\n\r\n    keytool -import -trustcacerts -keystore /pathtosomeselfsignedstore/truststore.jks -storepass password123 -noprompt -alias rapidssl-myserver -file /tmp/cert1.test\r\n\r\nWe can double check if the certificate import is successful\r\n\r\n    keytool -list -v -keystore /pathtosomeselfsignedstore/truststore.jks\r\n\r\nand see if your taget server is found against alias rapidssl-myserver\r\n\r\n\r\n","title":"Unable to find valid certification path to requested target - error even after cert imported","body":"<p>In my case I was facing the problem because in my tomcat process specific keystore was given using </p>\n\n<pre><code>-Djavax.net.ssl.trustStore=/pathtosomeselfsignedstore/truststore.jks\n</code></pre>\n\n<p>Wheras I was importing the certificate to the cacert of JRE/lib/security and the changes were not reflecting.\nThen I did below command where /tmp/cert1.test contains the certificate of the target server</p>\n\n<pre><code>keytool -import -trustcacerts -keystore /pathtosomeselfsignedstore/truststore.jks -storepass password123 -noprompt -alias rapidssl-myserver -file /tmp/cert1.test\n</code></pre>\n\n<p>We can double check if the certificate import is successful</p>\n\n<pre><code>keytool -list -v -keystore /pathtosomeselfsignedstore/truststore.jks\n</code></pre>\n\n<p>and see if your taget server is found against alias rapidssl-myserver</p>\n"},{"tags":[],"owner":{"account_id":8878979,"reputation":21,"user_id":6629962,"display_name":"Rohit Tewari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607900774,"creation_date":1607900415,"answer_id":65281594,"question_id":9210514,"body_markdown":"In my case, I was getting error connecting to AWS Gov Postgres RDS. There is a separate link for GOV RDS CA certs- https://s3.us-gov-west-1.amazonaws.com/rds-downloads/rds-combined-ca-us-gov-bundle.pem\r\n\r\nAdd this pem certs to cacerts of java. You can use below script.\r\n\r\n------WINDOWDS STEPS-------\r\n1. Use VSCODE editor and install openssl, keytool plugins\r\n2. create a dir in C:/rds-ca\r\n3. place &#39;cacerts&#39; file and below script file - &#39;addCerts.sh&#39; inside dir &#39;rd-ca&#39; \r\n4. run from vscode: \r\n   4.1 cd /c/rds-ca/\r\n   4.2 ./addCerts.sh\r\n5. Copy cacerts to ${JAVA_HOME}/jre/lib/security\r\n\r\nScript code:\r\n\r\n```\r\n#!/usr/bin/env sh\r\n\r\nOLDDIR=&quot;$PWD&quot;\r\n\r\nCACERTS_FILE=cacerts\r\n\r\ncd /c/rds-ca\r\n\r\necho &quot;Downloading RDS certificates...&quot;\r\n\r\ncurl  https://s3.us-gov-west-1.amazonaws.com/rds-downloads/rds-combined-ca-us-gov-bundle.pem &gt; rds-combined-ca-bundle.pem\r\n\r\ncsplit -sk rds-combined-ca-bundle.pem &quot;/-BEGIN CERTIFICATE-/&quot; &quot;{$(grep -c &#39;BEGIN CERTIFICATE&#39; rds-combined-ca-bundle.pem | awk &#39;{print $1 - 2}&#39;)}&quot;\r\n\r\nfor CERT in xx*; do\r\n    # extract a human-readable alias from the cert\r\n    ALIAS=$(openssl x509 -noout -text -in $CERT |\r\n                   perl -ne &#39;next unless /Subject:/; s/.*CN=//; print&#39;)\r\n    echo &quot;importing $ALIAS&quot;\r\n    \r\n    keytool -import \\\r\n            -keystore  $CACERTS_FILE \\\r\n            -storepass changeit -noprompt \\\r\n            -alias &quot;$ALIAS&quot; -file $CERT\r\ndone\r\n\r\ncd &quot;$OLDDIR&quot;\r\necho &quot;$NEWDIR&quot;\r\n\r\n```","title":"Unable to find valid certification path to requested target - error even after cert imported","body":"<p>In my case, I was getting error connecting to AWS Gov Postgres RDS. There is a separate link for GOV RDS CA certs- <a href=\"https://s3.us-gov-west-1.amazonaws.com/rds-downloads/rds-combined-ca-us-gov-bundle.pem\" rel=\"nofollow noreferrer\">https://s3.us-gov-west-1.amazonaws.com/rds-downloads/rds-combined-ca-us-gov-bundle.pem</a></p>\n<p>Add this pem certs to cacerts of java. You can use below script.</p>\n<p>------WINDOWDS STEPS-------</p>\n<ol>\n<li>Use VSCODE editor and install openssl, keytool plugins</li>\n<li>create a dir in C:/rds-ca</li>\n<li>place 'cacerts' file and below script file - 'addCerts.sh' inside dir 'rd-ca'</li>\n<li>run from vscode:\n4.1 cd /c/rds-ca/\n4.2 ./addCerts.sh</li>\n<li>Copy cacerts to ${JAVA_HOME}/jre/lib/security</li>\n</ol>\n<p>Script code:</p>\n<pre><code>#!/usr/bin/env sh\n\nOLDDIR=&quot;$PWD&quot;\n\nCACERTS_FILE=cacerts\n\ncd /c/rds-ca\n\necho &quot;Downloading RDS certificates...&quot;\n\ncurl  https://s3.us-gov-west-1.amazonaws.com/rds-downloads/rds-combined-ca-us-gov-bundle.pem &gt; rds-combined-ca-bundle.pem\n\ncsplit -sk rds-combined-ca-bundle.pem &quot;/-BEGIN CERTIFICATE-/&quot; &quot;{$(grep -c 'BEGIN CERTIFICATE' rds-combined-ca-bundle.pem | awk '{print $1 - 2}')}&quot;\n\nfor CERT in xx*; do\n    # extract a human-readable alias from the cert\n    ALIAS=$(openssl x509 -noout -text -in $CERT |\n                   perl -ne 'next unless /Subject:/; s/.*CN=//; print')\n    echo &quot;importing $ALIAS&quot;\n    \n    keytool -import \\\n            -keystore  $CACERTS_FILE \\\n            -storepass changeit -noprompt \\\n            -alias &quot;$ALIAS&quot; -file $CERT\ndone\n\ncd &quot;$OLDDIR&quot;\necho &quot;$NEWDIR&quot;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3620019,"reputation":5321,"user_id":3019006,"accept_rate":68,"display_name":"Deb"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1624994335,"creation_date":1619174602,"answer_id":67228538,"question_id":9210514,"body_markdown":"I came across this error while trying to access a `https` url from my application which was using **self-signed** certificate.\r\nWhat they provide is a `.cert` file and I was not sure where to put that. I solved it the following way:\r\n\r\nkeytool location is under JDK/bin folder\r\n\r\n**Method 1:** Add the certificate to default Java Truststore - cacerts:\r\n\r\n    keytool -import -alias myCert -file C://certificate.cert -keystore C://Program Files//Java//jdk1.8.0_271//jre//lib//security//cacerts\r\nPassword: changeit\r\n\r\n**Method 2:**\r\n\r\n*Create a Trust Store:*\r\n\r\n    keytool -import -alias myCert -file C://certificate.cert -keystore myTrustStore\r\nIt gives you the following prompts, which can be filled up as:\r\n\r\n    Enter keystore password:changeit\r\n    Re-enter new password:changeit\r\n    Trust this certificate?yes\r\n\r\nThis will create a **myTrustStore** file inside a folder where you ran this command.\r\nCopy this &quot;mytrustStore&quot; to a convenient location.\r\n\r\n*Use the Trust Store:*\r\n\r\nWhile you are running your application/server pass these JVM arguments:\r\n\r\n    -Djavax.net.ssl.trustStore=C://myTrustStore -Djavax.net.ssl.trustStorePassword=changeit","title":"Unable to find valid certification path to requested target - error even after cert imported","body":"<p>I came across this error while trying to access a <code>https</code> url from my application which was using <strong>self-signed</strong> certificate.\nWhat they provide is a <code>.cert</code> file and I was not sure where to put that. I solved it the following way:</p>\n<p>keytool location is under JDK/bin folder</p>\n<p><strong>Method 1:</strong> Add the certificate to default Java Truststore - cacerts:</p>\n<pre><code>keytool -import -alias myCert -file C://certificate.cert -keystore C://Program Files//Java//jdk1.8.0_271//jre//lib//security//cacerts\n</code></pre>\n<p>Password: changeit</p>\n<p><strong>Method 2:</strong></p>\n<p><em>Create a Trust Store:</em></p>\n<pre><code>keytool -import -alias myCert -file C://certificate.cert -keystore myTrustStore\n</code></pre>\n<p>It gives you the following prompts, which can be filled up as:</p>\n<pre><code>Enter keystore password:changeit\nRe-enter new password:changeit\nTrust this certificate?yes\n</code></pre>\n<p>This will create a <strong>myTrustStore</strong> file inside a folder where you ran this command.\nCopy this &quot;mytrustStore&quot; to a convenient location.</p>\n<p><em>Use the Trust Store:</em></p>\n<p>While you are running your application/server pass these JVM arguments:</p>\n<pre><code>-Djavax.net.ssl.trustStore=C://myTrustStore -Djavax.net.ssl.trustStorePassword=changeit\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19553412,"reputation":185,"user_id":14308420,"display_name":"leonaugust"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1633715029,"creation_date":1633715029,"answer_id":69499837,"question_id":9210514,"body_markdown":"Wasted a lot of time on that issue. If you imported the certificate and you can see it listed here.\r\n\r\n    keytool -list -v -keystore $JAVA_HOME/lib/security/cacerts\r\n\r\nThen create the new one, with the following command, replace SITE_NAME, SITE_PORT, CERTIFICATE_NAME and path to save file.\r\n\r\n    echo -n | openssl s_client -connect SITE_NAME:SITE_PORT  \\\r\n    | openssl x509 &gt; /path/to/save/CERTIFICATE_NAME.cert\r\n\r\n In my case, I experienced problem using Keycloak with Spring. After I created certificate with this command and imported to keystore, the problem was solved and it works fine ","title":"Unable to find valid certification path to requested target - error even after cert imported","body":"<p>Wasted a lot of time on that issue. If you imported the certificate and you can see it listed here.</p>\n<pre><code>keytool -list -v -keystore $JAVA_HOME/lib/security/cacerts\n</code></pre>\n<p>Then create the new one, with the following command, replace SITE_NAME, SITE_PORT, CERTIFICATE_NAME and path to save file.</p>\n<pre><code>echo -n | openssl s_client -connect SITE_NAME:SITE_PORT  \\\n| openssl x509 &gt; /path/to/save/CERTIFICATE_NAME.cert\n</code></pre>\n<p>In my case, I experienced problem using Keycloak with Spring. After I created certificate with this command and imported to keystore, the problem was solved and it works fine</p>\n"},{"tags":[],"owner":{"account_id":14576942,"reputation":597,"user_id":10528552,"display_name":"hamidreza75"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661898727,"creation_date":1638821842,"answer_id":70251430,"question_id":9210514,"body_markdown":"## note for eclipse / Sts users: \r\n\r\nBecause eclipse uses its own JRE, you should add certs to its own JRE keystore.\r\nI had this issue until I added certs to Sts&#39;s JRE.\r\n\r\n# SSL log:  \r\n\r\n    `javax.net.ssl|DEBUG|1A|restartedMain|2021-12-06 23:04:00.874` IRST|TrustStoreManager.java:113|trustStore is: D:\\sts-4.12.0.RELEASE\\plugins\\org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_16.0.2.v20210721-1149\\jre\\lib\\security\\cacerts\r\n    This is the full path: &quot;sts-4.12.0.RELEASE\\plugins\\org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_16.0.2.v20210721-1149\\jre\\lib\\security\\cacerts&quot;\r\n","title":"Unable to find valid certification path to requested target - error even after cert imported","body":"<h2>note for eclipse / Sts users:</h2>\n<p>Because eclipse uses its own JRE, you should add certs to its own JRE keystore.\nI had this issue until I added certs to Sts's JRE.</p>\n<h1>SSL log:</h1>\n<pre><code>`javax.net.ssl|DEBUG|1A|restartedMain|2021-12-06 23:04:00.874` IRST|TrustStoreManager.java:113|trustStore is: D:\\sts-4.12.0.RELEASE\\plugins\\org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_16.0.2.v20210721-1149\\jre\\lib\\security\\cacerts\nThis is the full path: &quot;sts-4.12.0.RELEASE\\plugins\\org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_16.0.2.v20210721-1149\\jre\\lib\\security\\cacerts&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17095216,"reputation":9,"user_id":12370347,"display_name":"Mark W"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1640980536,"creation_date":1640980414,"answer_id":70545309,"question_id":9210514,"body_markdown":"I created a ubuntu on my windows 10 laptop and I ran into issue when I was trying to load CMAK site download from https://github.com/yahoo/CMAK site. First it gave fatal ssl error.\r\n```\r\nopenssl s_client -showcerts -servername github.com -connect github.com:443 &lt;/dev/null 2&gt;/dev/null | sed -n -e &#39;/BEGIN\\ CERTIFICATE/,/END\\ CERTIFICATE/ p&#39;  &gt; github-com.pem\r\n```\r\n\r\nand use the following command (make sure you put right path for ca-cert)\r\n```\r\ncat github-com.pem | sudo tee -a /etc/ssl/certs/ca-certificates.crt\r\n```\r\nThen use the following statement (make sure the path for cert is correct):\r\n```\r\ngit config --global http.sslCAinfo /etc/ssl/certs/ca-certificates.crt\r\n```\r\nThen I was able to download CMAK but ran into issue when i tried `./sbt clean` statement. It was giving a `pkix path` error. The reason is that I do not have my company issue cert stored in my cacert file.\r\n\r\nI have downloaded the company cert (google on how to do it) and followed this article to add my downloaded cert to cacert file. Used `sudo update-ca-certificates` one more time before `./sbt`. It worked for me. \r\n\r\nNote: You may have to switch between root and exit when you are following above steps.","title":"Unable to find valid certification path to requested target - error even after cert imported","body":"<p>I created a ubuntu on my windows 10 laptop and I ran into issue when I was trying to load CMAK site download from <a href=\"https://github.com/yahoo/CMAK\" rel=\"nofollow noreferrer\">https://github.com/yahoo/CMAK</a> site. First it gave fatal ssl error.</p>\n<pre><code>openssl s_client -showcerts -servername github.com -connect github.com:443 &lt;/dev/null 2&gt;/dev/null | sed -n -e '/BEGIN\\ CERTIFICATE/,/END\\ CERTIFICATE/ p'  &gt; github-com.pem\n</code></pre>\n<p>and use the following command (make sure you put right path for ca-cert)</p>\n<pre><code>cat github-com.pem | sudo tee -a /etc/ssl/certs/ca-certificates.crt\n</code></pre>\n<p>Then use the following statement (make sure the path for cert is correct):</p>\n<pre><code>git config --global http.sslCAinfo /etc/ssl/certs/ca-certificates.crt\n</code></pre>\n<p>Then I was able to download CMAK but ran into issue when i tried <code>./sbt clean</code> statement. It was giving a <code>pkix path</code> error. The reason is that I do not have my company issue cert stored in my cacert file.</p>\n<p>I have downloaded the company cert (google on how to do it) and followed this article to add my downloaded cert to cacert file. Used <code>sudo update-ca-certificates</code> one more time before <code>./sbt</code>. It worked for me.</p>\n<p>Note: You may have to switch between root and exit when you are following above steps.</p>\n"},{"tags":[],"owner":{"account_id":401874,"reputation":427,"user_id":768691,"accept_rate":98,"display_name":"ucas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1655159826,"creation_date":1655159826,"answer_id":72609767,"question_id":9210514,"body_markdown":"This is what I did.\r\n\r\nI wanted to develop the app on Java 10, and I had the Eclipse IDE 2020-06.\r\nThe cert import solution did not work for me.\r\nSo then I installed Java 11 JDK, switched to the latest Eclipse IDE (which runs on Java 11), and made sure that the source-code still gets compiled against the Java 10, by adding these statemements under Maven POM:\r\n\r\n \r\n\r\n        &lt;maven.compiler.target&gt;1.10&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.source&gt;1.10&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.release&gt;10&lt;/maven.compiler.release&gt;\r\n\r\nAnd it works like a charm; no errors.","title":"Unable to find valid certification path to requested target - error even after cert imported","body":"<p>This is what I did.</p>\n<p>I wanted to develop the app on Java 10, and I had the Eclipse IDE 2020-06.\nThe cert import solution did not work for me.\nSo then I installed Java 11 JDK, switched to the latest Eclipse IDE (which runs on Java 11), and made sure that the source-code still gets compiled against the Java 10, by adding these statemements under Maven POM:</p>\n<pre><code>    &lt;maven.compiler.target&gt;1.10&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.source&gt;1.10&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.release&gt;10&lt;/maven.compiler.release&gt;\n</code></pre>\n<p>And it works like a charm; no errors.</p>\n"},{"tags":[],"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676393692,"creation_date":1676393692,"answer_id":75450968,"question_id":9210514,"body_markdown":"# SSL mode\r\n\r\nHappened to me because my config included `sslmode=verify-full`. You may need to change this to `sslmode=require`. Or a programatic equivalent of that.\r\n\r\nThis also applies to using SSL/TLS from applications.\r\n\r\nFor instance, a Database client in IntelliJ IDEA&#39;s. There you need to go to the connection properties, SSH/SSL tab, and set `Mode` to `Require`.\r\n\r\nMore about SSL/TLS modes e.g here: https://developers.cloudflare.com/ssl/origin-configuration/ssl-modes/\r\n\r\n","title":"Unable to find valid certification path to requested target - error even after cert imported","body":"<h1>SSL mode</h1>\n<p>Happened to me because my config included <code>sslmode=verify-full</code>. You may need to change this to <code>sslmode=require</code>. Or a programatic equivalent of that.</p>\n<p>This also applies to using SSL/TLS from applications.</p>\n<p>For instance, a Database client in IntelliJ IDEA's. There you need to go to the connection properties, SSH/SSL tab, and set <code>Mode</code> to <code>Require</code>.</p>\n<p>More about SSL/TLS modes e.g here: <a href=\"https://developers.cloudflare.com/ssl/origin-configuration/ssl-modes/\" rel=\"nofollow noreferrer\">https://developers.cloudflare.com/ssl/origin-configuration/ssl-modes/</a></p>\n"}],"owner":{"account_id":979146,"reputation":8543,"user_id":999353,"accept_rate":51,"display_name":"TheCoder"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1420075,"favorite_count":0,"down_vote_count":1,"up_vote_count":297,"accepted_answer_id":9210661,"answer_count":17,"score":296,"last_activity_date":1676393692,"creation_date":1328789102,"question_id":9210514,"body_markdown":"I have a Java client trying to access a server with a self-signed certificate.\r\n\r\nWhen I try to Post to the server, I get the following error:\r\n\r\n&gt; unable to find valid certification path to requested target\r\n\r\nHaving done some research on the issue, I then did the following.\r\n\r\n 1. Saved my servers domain name as a `root.cer` file.\r\n 2. In my Glassfish server&#39;s JRE, I ran this:  \r\n\r\n        keytool -import -alias example -keystore cacerts -file root.cer\r\n\r\n 3. To check the cert was added to my cacert successfully, I did this:\r\n\r\n        keytool -list -v -keystore cacerts\r\n\r\n    I can see the cert is present.\r\n 4. I then restarted Glassfish and retried the &#39;post&#39;.\r\n\r\nI am still getting the same error.\r\n\r\nI have a feeling this is because my Glassfish is not actually reading the `cacert` file that I have amended but maybe some other one.\r\n\r\nHave any of you had this issue and can push me in the right direction?\r\n","title":"Unable to find valid certification path to requested target - error even after cert imported","body":"<p>I have a Java client trying to access a server with a self-signed certificate.</p>\n<p>When I try to Post to the server, I get the following error:</p>\n<blockquote>\n<p>unable to find valid certification path to requested target</p>\n</blockquote>\n<p>Having done some research on the issue, I then did the following.</p>\n<ol>\n<li><p>Saved my servers domain name as a <code>root.cer</code> file.</p>\n</li>\n<li><p>In my Glassfish server's JRE, I ran this:</p>\n<pre><code>keytool -import -alias example -keystore cacerts -file root.cer\n</code></pre>\n</li>\n<li><p>To check the cert was added to my cacert successfully, I did this:</p>\n<pre><code>keytool -list -v -keystore cacerts\n</code></pre>\n<p>I can see the cert is present.</p>\n</li>\n<li><p>I then restarted Glassfish and retried the 'post'.</p>\n</li>\n</ol>\n<p>I am still getting the same error.</p>\n<p>I have a feeling this is because my Glassfish is not actually reading the <code>cacert</code> file that I have amended but maybe some other one.</p>\n<p>Have any of you had this issue and can push me in the right direction?</p>\n"},{"tags":["java","android","google-maps-api-2"],"comments":[{"owner":{"account_id":392087,"reputation":1214,"user_id":753136,"accept_rate":60,"display_name":"tiktak"},"score":0,"creation_date":1344211955,"post_id":11623287,"comment_id":15714173,"body_markdown":"Have you found a solution? I&#39;m facing this problem as well. Maybe it&#39;s about managing the mapView in the activity life cycle.","body":"Have you found a solution? I&#39;m facing this problem as well. Maybe it&#39;s about managing the mapView in the activity life cycle."}],"answers":[{"tags":[],"owner":{"account_id":1875571,"reputation":111,"user_id":1696856,"display_name":"jane1012"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1361445997,"creation_date":1361445997,"answer_id":15001086,"question_id":11623287,"body_markdown":"To avoid the reloading of the map on screen orientation change I&#39;ve added in the manifest, in the activity tag this line:\r\n\r\n    android:configChanges=&quot;orientation&quot;\r\n\r\nI don&#39;t know if it&#39;s the best solution but it works","title":"Android Google Maps API, prevent map reloading/redrawing on screen orientation change","body":"<p>To avoid the reloading of the map on screen orientation change I've added in the manifest, in the activity tag this line:</p>\n\n<pre><code>android:configChanges=\"orientation\"\n</code></pre>\n\n<p>I don't know if it's the best solution but it works</p>\n"},{"tags":[],"owner":{"account_id":18028569,"reputation":31,"user_id":13446931,"display_name":"Treklov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676393482,"creation_date":1676393482,"answer_id":75450919,"question_id":11623287,"body_markdown":"Try using;\r\n\r\n    android:name=&quot;.MainActivity&quot;\r\n    android:configChanges=&quot;orientation|screenSize|screenLayout|keyboardHidden&quot;","title":"Android Google Maps API, prevent map reloading/redrawing on screen orientation change","body":"<p>Try using;</p>\n<pre><code>android:name=&quot;.MainActivity&quot;\nandroid:configChanges=&quot;orientation|screenSize|screenLayout|keyboardHidden&quot;\n</code></pre>\n"}],"owner":{"account_id":1600266,"reputation":11,"user_id":1481426,"display_name":"user1481426"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":874,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676393482,"creation_date":1343097003,"question_id":11623287,"body_markdown":"On my app, when you tilt the device in the mapView, it redraws all the markers. I want to not let this happen.","title":"Android Google Maps API, prevent map reloading/redrawing on screen orientation change","body":"<p>On my app, when you tilt the device in the mapView, it redraws all the markers. I want to not let this happen.</p>\n"},{"tags":["java","angularjs","spring","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664287903,"creation_date":1664287903,"answer_id":73869065,"question_id":73866701,"body_markdown":"You haven&#39;t specified which HTTP method (GET, POST, PUT, DELETE, etc) the mapping should handle. To do that either use `@GetMapping` or change your `@RequestMapping` so it includes the `method` parameter.\r\n\r\n```java\r\n@GetMapping(&quot;/pendodnp/{visitorId}/{content}&quot;)\r\n```\r\n\r\nOr\r\n\r\n```java\r\nimport static org.springframework.web.bind.annotation.RequestMethod.GET;\r\n...\r\n@RequestMapping(method = GET, path = &quot;/pendodnp/{visitorId}/{content}&quot;)\r\n```\r\n\r\nUsing `@RequestMapping` without a `method` parameter is usually only done at the _class_ level, not individual methods. `@GetMapping` (or `@PostMapping`, `@PutMapping`, etc) are more common on controller _methods_.","title":"405 Method not allowed in Spring Boot and Ajax","body":"<p>You haven't specified which HTTP method (GET, POST, PUT, DELETE, etc) the mapping should handle. To do that either use <code>@GetMapping</code> or change your <code>@RequestMapping</code> so it includes the <code>method</code> parameter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/pendodnp/{visitorId}/{content}&quot;)\n</code></pre>\n<p>Or</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.springframework.web.bind.annotation.RequestMethod.GET;\n...\n@RequestMapping(method = GET, path = &quot;/pendodnp/{visitorId}/{content}&quot;)\n</code></pre>\n<p>Using <code>@RequestMapping</code> without a <code>method</code> parameter is usually only done at the <em>class</em> level, not individual methods. <code>@GetMapping</code> (or <code>@PostMapping</code>, <code>@PutMapping</code>, etc) are more common on controller <em>methods</em>.</p>\n"}],"owner":{"account_id":9979931,"reputation":2145,"user_id":7383204,"display_name":"Talk is Cheap Show me Code"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676393281,"creation_date":1664277463,"question_id":73866701,"body_markdown":"Hi I am having request mapping like this \r\n\r\n    @RequestMapping(value = &quot;/pendodnp/{visitorId}/{content}&quot;)\r\n    public ResponseEntity&lt;Object&gt; setPendoDNP(@PathVariable String visitorId, @PathVariable String content, final HttpSession session, final HttpServletRequest request) throws PendoException {\r\n        LOGGER.info(&quot;### pendodnp&quot;);\r\n        _splitService.updateDNP(visitorId, content);\r\n        return ResponseEntity.ok().body(content);\r\n    }\r\n\r\nbut when I hit this URL from an angular function, it gives &quot;405 method not allowed&quot; error. \r\n\r\n\r\n        $http.get(&quot;pendodnp/&quot;+visitorId+&quot;/&quot;+dnpValue, JSON.stringify(dnpValue))\r\n            .success(function(response) {\r\n \r\nHere is screenshot of how the request is going, can someone tell me what i am missing here? \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VUlre.png","title":"405 Method not allowed in Spring Boot and Ajax","body":"<p>Hi I am having request mapping like this</p>\n<pre><code>@RequestMapping(value = &quot;/pendodnp/{visitorId}/{content}&quot;)\npublic ResponseEntity&lt;Object&gt; setPendoDNP(@PathVariable String visitorId, @PathVariable String content, final HttpSession session, final HttpServletRequest request) throws PendoException {\n    LOGGER.info(&quot;### pendodnp&quot;);\n    _splitService.updateDNP(visitorId, content);\n    return ResponseEntity.ok().body(content);\n}\n</code></pre>\n<p>but when I hit this URL from an angular function, it gives &quot;405 method not allowed&quot; error.</p>\n<pre><code>    $http.get(&quot;pendodnp/&quot;+visitorId+&quot;/&quot;+dnpValue, JSON.stringify(dnpValue))\n        .success(function(response) {\n</code></pre>\n<p>Here is screenshot of how the request is going, can someone tell me what i am missing here?</p>\n<p><a href=\"https://i.stack.imgur.com/VUlre.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VUlre.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","dependencies","classloader","agent","byte-buddy"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1676901747,"post_id":75450643,"comment_id":133225235,"body_markdown":"You are mixing up two different tasks. First, creating a runtime environment which can cope with different versions of the same library. Second, implementing a Java Agent which can work correctly in such an environment. There is no way around the second task, so if `maven-shade-plugin` did already solve the first task but your Agent did not use the correct package, try fixing your Agent.","body":"You are mixing up two different tasks. First, creating a runtime environment which can cope with different versions of the same library. Second, implementing a Java Agent which can work correctly in such an environment. There is no way around the second task, so if <code>maven-shade-plugin</code> did already solve the first task but your Agent did not use the correct package, try fixing your Agent."},{"owner":{"account_id":27784928,"reputation":33,"user_id":21212592,"display_name":"Gourav Kumar"},"score":0,"creation_date":1676906307,"post_id":75450643,"comment_id":133226673,"body_markdown":"Basically what i was thinking that i will set my custom classloader as the default and will not load the `integration` module by adding some check and when user application&#39;s flow will go to the `premain` method in `agent` module then i will get user external dependencies through getClass().getClassLoader().And then will load only those dependencies which user is using.And also i will have to make  submodules of `integration` module by different dependency versions). and will load only those modules for which interceptor is being used. For eg: okhttp 3.14.9 interceptor module. if user uses it.","body":"Basically what i was thinking that i will set my custom classloader as the default and will not load the <code>integration</code> module by adding some check and when user application&#39;s flow will go to the <code>premain</code> method in <code>agent</code> module then i will get user external dependencies through getClass().getClassLoader().And then will load only those dependencies which user is using.And also i will have to make  submodules of <code>integration</code> module by different dependency versions). and will load only those modules for which interceptor is being used. For eg: okhttp 3.14.9 interceptor module. if user uses it."},{"owner":{"account_id":27784928,"reputation":33,"user_id":21212592,"display_name":"Gourav Kumar"},"score":0,"creation_date":1676906456,"post_id":75450643,"comment_id":133226703,"body_markdown":"You can refer this repo[https://github.com/keploy/java-sdk]. In this project i am trying to achieve the above task.","body":"You can refer this repo[<a href=\"https://github.com/keploy/java-sdk]\" rel=\"nofollow noreferrer\">github.com/keploy/java-sdk]</a>. In this project i am trying to achieve the above task."}],"owner":{"account_id":27784928,"reputation":33,"user_id":21212592,"display_name":"Gourav Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1676393193,"creation_date":1676391908,"question_id":75450643,"body_markdown":"I have a multimodule project called `k-sdk`. It has modules like\r\n\r\n**\\---\\&gt;** `agent`\r\n\r\n**\\---\\&gt;** `core`\r\n\r\n**\\---\\&gt;** `api`\r\n\r\n**\\---\\&gt;** `integration`\r\n\r\n**\\---\\&gt;** `sdk`\r\n\r\nwhere (**sdk** module contains **core**, **api**, **integration** modules and acting as a shaded jar).\r\nThis jar can be imported as a dependency in the user application.\r\n\r\nHere `k-sdk` is acting as a middleware to capture `request` and `response` of the api calls (both external and internal) and do some custom processing. And to intercept the internal calls i am using `servlet-filter` &amp; for external calls, i am using [ByteBuddy](http://bytebuddy.net/#/) and wrote the required code in the `premain` method. The corresponding interceptors are written in **integration** module. User can use this `k-sdk` by running agent jar(present in agent module) of the `k-sdk`.\r\n\r\nNow comes to the actual problem. Suppose I have written an Interceptor for `OkHttp` client version `4.10.0` in the `integration` module and the user is using the same client of version `3.14.9`, now these two versions share completely same package name. And there are some uncommon apis, methods etc, which is being used in the `OkHttpInterceptor` which results in **java.lang.NoSuchMethodError** because maven only resolves that version of dependency which has the shortest path. And only 1 version of a dependency will be loaded in the classloader.\r\n\r\n\r\nNow, To resolve this version conflict what i was thinking that i will use the below custom classloader. ([ref](https://medium.com/@isuru89/java-a-child-first-class-loader-cbd9c3d0305)) as i know that the solution lies in this approach only.\r\n\r\n```java\r\npublic class ChildFirstClassLoader extends URLClassLoader {\r\n\r\n    private final ClassLoader sysClzLoader;\r\n\r\n    public ChildFirstClassLoader(URL[] urls, ClassLoader parent) {\r\n        super(urls, parent);\r\n        sysClzLoader = getSystemClassLoader();\r\n    }\r\n\r\n    @Override\r\n    protected Class&lt;?&gt; loadClass(String name, boolean resolve) throws ClassNotFoundException {\r\n        // has the class loaded already?\r\n        Class&lt;?&gt; loadedClass = findLoadedClass(name);\r\n        if (loadedClass == null) {\r\n            try {\r\n                if (sysClzLoader != null) {\r\n                    loadedClass = sysClzLoader.loadClass(name);\r\n                }\r\n            } catch (ClassNotFoundException ex) {\r\n                // class not found in system class loader... silently skipping\r\n            }\r\n\r\n            try {\r\n                // find the class from given jar urls as in first constructor parameter.\r\n                if (loadedClass == null) {\r\n                    loadedClass = findClass(name);\r\n                }\r\n            } catch (ClassNotFoundException e) {\r\n                // class is not found in the given urls.\r\n                // Let&#39;s try it in parent classloader.\r\n                // If class is still not found, then this method will throw class not found ex.\r\n                loadedClass = super.loadClass(name, resolve);\r\n            }\r\n        }\r\n\r\n        if (resolve) {      // marked to resolve\r\n            resolveClass(loadedClass);\r\n        }\r\n        return loadedClass;\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public Enumeration&lt;URL&gt; getResources(String name) throws IOException {\r\n        List&lt;URL&gt; allRes = new LinkedList&lt;&gt;();\r\n\r\n        // load resources from sys class loader\r\n        Enumeration&lt;URL&gt; sysResources = sysClzLoader.getResources(name);\r\n        if (sysResources != null) {\r\n            while (sysResources.hasMoreElements()) {\r\n                allRes.add(sysResources.nextElement());\r\n            }\r\n        }\r\n\r\n        // load resource from this classloader\r\n        Enumeration&lt;URL&gt; thisRes = findResources(name);\r\n        if (thisRes != null) {\r\n            while (thisRes.hasMoreElements()) {\r\n                allRes.add(thisRes.nextElement());\r\n            }\r\n        }\r\n\r\n        // then try finding resources from parent classloaders\r\n        Enumeration&lt;URL&gt; parentRes = super.findResources(name);\r\n        if (parentRes != null) {\r\n            while (parentRes.hasMoreElements()) {\r\n                allRes.add(parentRes.nextElement());\r\n            }\r\n        }\r\n\r\n        return new Enumeration&lt;URL&gt;() {\r\n            Iterator&lt;URL&gt; it = allRes.iterator();\r\n\r\n            @Override\r\n            public boolean hasMoreElements() {\r\n                return it.hasNext();\r\n            }\r\n\r\n            @Override\r\n            public URL nextElement() {\r\n                return it.next();\r\n            }\r\n        };\r\n    }\r\n\r\n    @Override\r\n    public URL getResource(String name) {\r\n        URL res = null;\r\n        if (sysClzLoader != null) {\r\n            res = sysClzLoader.getResource(name);\r\n        }\r\n        if (res == null) {\r\n            res = findResource(name);\r\n        }\r\n        if (res == null) {\r\n            res = super.getResource(name);\r\n        }\r\n        return res;\r\n    }\r\n}\r\n```\r\nAnd to improve the user experience, i have to make changes only in the `premain` method. Now i don&#39;t know how to use this classloader to resolve this conflicting issue.\r\n\r\nThe above classloader is extending `URLClassLoader`, and the application class loader is no longer an instance of `java.net.URLClassLoader` in java 9+. \r\n\r\nI am very new to this complex solution, Please! help me out.\r\n\r\n\r\n\r\nBefore this solution, i tried to repackage classes using `maven-shade-plugin` but that solution was not working because in `premain` method using ByteBuddy i was targeting a class of actual package and was using different package in the interceptor so the flow was not going to the interceptor as the class was not matching.","title":"How to deal with dependency conflicts using custom classloader in java properly?","body":"<p>I have a multimodule project called <code>k-sdk</code>. It has modules like</p>\n<p><strong>---&gt;</strong> <code>agent</code></p>\n<p><strong>---&gt;</strong> <code>core</code></p>\n<p><strong>---&gt;</strong> <code>api</code></p>\n<p><strong>---&gt;</strong> <code>integration</code></p>\n<p><strong>---&gt;</strong> <code>sdk</code></p>\n<p>where (<strong>sdk</strong> module contains <strong>core</strong>, <strong>api</strong>, <strong>integration</strong> modules and acting as a shaded jar).\nThis jar can be imported as a dependency in the user application.</p>\n<p>Here <code>k-sdk</code> is acting as a middleware to capture <code>request</code> and <code>response</code> of the api calls (both external and internal) and do some custom processing. And to intercept the internal calls i am using <code>servlet-filter</code> &amp; for external calls, i am using <a href=\"http://bytebuddy.net/#/\" rel=\"nofollow noreferrer\">ByteBuddy</a> and wrote the required code in the <code>premain</code> method. The corresponding interceptors are written in <strong>integration</strong> module. User can use this <code>k-sdk</code> by running agent jar(present in agent module) of the <code>k-sdk</code>.</p>\n<p>Now comes to the actual problem. Suppose I have written an Interceptor for <code>OkHttp</code> client version <code>4.10.0</code> in the <code>integration</code> module and the user is using the same client of version <code>3.14.9</code>, now these two versions share completely same package name. And there are some uncommon apis, methods etc, which is being used in the <code>OkHttpInterceptor</code> which results in <strong>java.lang.NoSuchMethodError</strong> because maven only resolves that version of dependency which has the shortest path. And only 1 version of a dependency will be loaded in the classloader.</p>\n<p>Now, To resolve this version conflict what i was thinking that i will use the below custom classloader. (<a href=\"https://medium.com/@isuru89/java-a-child-first-class-loader-cbd9c3d0305\" rel=\"nofollow noreferrer\">ref</a>) as i know that the solution lies in this approach only.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ChildFirstClassLoader extends URLClassLoader {\n\n    private final ClassLoader sysClzLoader;\n\n    public ChildFirstClassLoader(URL[] urls, ClassLoader parent) {\n        super(urls, parent);\n        sysClzLoader = getSystemClassLoader();\n    }\n\n    @Override\n    protected Class&lt;?&gt; loadClass(String name, boolean resolve) throws ClassNotFoundException {\n        // has the class loaded already?\n        Class&lt;?&gt; loadedClass = findLoadedClass(name);\n        if (loadedClass == null) {\n            try {\n                if (sysClzLoader != null) {\n                    loadedClass = sysClzLoader.loadClass(name);\n                }\n            } catch (ClassNotFoundException ex) {\n                // class not found in system class loader... silently skipping\n            }\n\n            try {\n                // find the class from given jar urls as in first constructor parameter.\n                if (loadedClass == null) {\n                    loadedClass = findClass(name);\n                }\n            } catch (ClassNotFoundException e) {\n                // class is not found in the given urls.\n                // Let's try it in parent classloader.\n                // If class is still not found, then this method will throw class not found ex.\n                loadedClass = super.loadClass(name, resolve);\n            }\n        }\n\n        if (resolve) {      // marked to resolve\n            resolveClass(loadedClass);\n        }\n        return loadedClass;\n    }\n\n\n\n    @Override\n    public Enumeration&lt;URL&gt; getResources(String name) throws IOException {\n        List&lt;URL&gt; allRes = new LinkedList&lt;&gt;();\n\n        // load resources from sys class loader\n        Enumeration&lt;URL&gt; sysResources = sysClzLoader.getResources(name);\n        if (sysResources != null) {\n            while (sysResources.hasMoreElements()) {\n                allRes.add(sysResources.nextElement());\n            }\n        }\n\n        // load resource from this classloader\n        Enumeration&lt;URL&gt; thisRes = findResources(name);\n        if (thisRes != null) {\n            while (thisRes.hasMoreElements()) {\n                allRes.add(thisRes.nextElement());\n            }\n        }\n\n        // then try finding resources from parent classloaders\n        Enumeration&lt;URL&gt; parentRes = super.findResources(name);\n        if (parentRes != null) {\n            while (parentRes.hasMoreElements()) {\n                allRes.add(parentRes.nextElement());\n            }\n        }\n\n        return new Enumeration&lt;URL&gt;() {\n            Iterator&lt;URL&gt; it = allRes.iterator();\n\n            @Override\n            public boolean hasMoreElements() {\n                return it.hasNext();\n            }\n\n            @Override\n            public URL nextElement() {\n                return it.next();\n            }\n        };\n    }\n\n    @Override\n    public URL getResource(String name) {\n        URL res = null;\n        if (sysClzLoader != null) {\n            res = sysClzLoader.getResource(name);\n        }\n        if (res == null) {\n            res = findResource(name);\n        }\n        if (res == null) {\n            res = super.getResource(name);\n        }\n        return res;\n    }\n}\n</code></pre>\n<p>And to improve the user experience, i have to make changes only in the <code>premain</code> method. Now i don't know how to use this classloader to resolve this conflicting issue.</p>\n<p>The above classloader is extending <code>URLClassLoader</code>, and the application class loader is no longer an instance of <code>java.net.URLClassLoader</code> in java 9+.</p>\n<p>I am very new to this complex solution, Please! help me out.</p>\n<p>Before this solution, i tried to repackage classes using <code>maven-shade-plugin</code> but that solution was not working because in <code>premain</code> method using ByteBuddy i was targeting a class of actual package and was using different package in the interceptor so the flow was not going to the interceptor as the class was not matching.</p>\n"},{"tags":["java","sql-server","spring-data"],"comments":[{"owner":{"account_id":1434396,"reputation":28043,"user_id":1356107,"accept_rate":79,"display_name":"Tschallacka"},"score":0,"creation_date":1524060436,"post_id":49901809,"comment_id":86819040,"body_markdown":"Try using nvarchar instead of varchar. Not sure, but that has always helped me when dealing with strings and sql server.","body":"Try using nvarchar instead of varchar. Not sure, but that has always helped me when dealing with strings and sql server."},{"owner":{"account_id":2312068,"reputation":90341,"user_id":2029983,"display_name":"Thom A"},"score":1,"creation_date":1524060541,"post_id":49901809,"comment_id":86819115,"body_markdown":"When posting your query, make sure you copy and paste it. `form table` isn&#39;t valid syntax. Although this might seem silly, if you have simply typographical errors like that and then ask a &quot;why isn&#39;t this working&quot; questions you&#39;re going to be told the reason is because of the spelling mistake.","body":"When posting your query, make sure you copy and paste it. <code>form table</code> isn&#39;t valid syntax. Although this might seem silly, if you have simply typographical errors like that and then ask a &quot;why isn&#39;t this working&quot; questions you&#39;re going to be told the reason is because of the spelling mistake."},{"owner":{"account_id":6094808,"reputation":7041,"user_id":4755974,"display_name":"Veselin Davidov"},"score":0,"creation_date":1524060825,"post_id":49901809,"comment_id":86819302,"body_markdown":"If the query is working properly in sql server (you can test with the management studio ) then the problem is your java code and you can give us some of that to see :)","body":"If the query is working properly in sql server (you can test with the management studio ) then the problem is your java code and you can give us some of that to see :)"},{"owner":{"account_id":5156143,"reputation":45,"user_id":5095233,"display_name":"kbral"},"score":0,"creation_date":1524061092,"post_id":49901809,"comment_id":86819512,"body_markdown":"I had a spelling mistake in the query.\nIt actually looks like:\n`select coalesce(t1.content, convert(varbinary(max), t2.content))\nfrom table1 t1 inner join table t2 on t1.id = t2.t1_id`","body":"I had a spelling mistake in the query. It actually looks like: <code>select coalesce(t1.content, convert(varbinary(max), t2.content)) from table1 t1 inner join table t2 on t1.id = t2.t1_id</code>"},{"owner":{"account_id":12999097,"reputation":1710,"user_id":9395740,"display_name":"MJH"},"score":0,"creation_date":1524061223,"post_id":49901809,"comment_id":86819605,"body_markdown":"@Larnu Well, you called it!  :)","body":"@Larnu Well, you called it!  :)"},{"owner":{"account_id":2312068,"reputation":90341,"user_id":2029983,"display_name":"Thom A"},"score":1,"creation_date":1524061441,"post_id":49901809,"comment_id":86819788,"body_markdown":"Wait, so the reason why this wasn&#39;t working really was because of `form table`...? **/headdesk**","body":"Wait, so the reason why this wasn&#39;t working really was because of <code>form table</code>...? <b>/headdesk</b>"},{"owner":{"account_id":5156143,"reputation":45,"user_id":5095233,"display_name":"kbral"},"score":0,"creation_date":1524061888,"post_id":49901809,"comment_id":86820146,"body_markdown":"No, that wasn&#39;t the problem. the query is executing. But returns a byte array that when converted to a String separates adds a space after each character.","body":"No, that wasn&#39;t the problem. the query is executing. But returns a byte array that when converted to a String separates adds a space after each character."}],"answers":[{"tags":[],"owner":{"account_id":5156143,"reputation":45,"user_id":5095233,"display_name":"kbral"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1524145487,"creation_date":1524145487,"answer_id":49922690,"question_id":49901809,"body_markdown":"After analysing the retrieved data I saw that Sql Server was converting automatically the varchar data to varbinary encoded with UTF-16LE. To sove it with the java code, I just nedded to instanciate a String passing the encoding like this:\r\n\r\n    new String(retrievedByteArray, Charset.forName(&quot;UTF-16LE&quot;))","title":"Converting varchar to varbinary SQL Server","body":"<p>After analysing the retrieved data I saw that Sql Server was converting automatically the varchar data to varbinary encoded with UTF-16LE. To sove it with the java code, I just nedded to instanciate a String passing the encoding like this:</p>\n\n<pre><code>new String(retrievedByteArray, Charset.forName(\"UTF-16LE\"))\n</code></pre>\n"}],"owner":{"account_id":5156143,"reputation":45,"user_id":5095233,"display_name":"kbral"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":576,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49922690,"answer_count":1,"score":0,"last_activity_date":1676393167,"creation_date":1524060280,"question_id":49901809,"body_markdown":"I have two different tables in my database and I am joining them to extract a varbinary or a varchar depending on which one comes first. I am using the operator `coalesce` to select between them and also using the `convert` operator to convert the varchar to varbinary.\r\nThe final query is something like this:\r\n\r\n    select coalesce(t1.varbinary_column, convert(varbinary(max), t2.varchar_column)) form table1 t1 inner join table2 t2....\r\n\r\nThe query returns a byte array that when converted to a java.lang.String separates each character with a additional space.\r\nIs also needed to say that I am using spring data to execute this native query and also using ResultSet to get the extracted data.\r\nThe question is how can I avoid this behavior?","title":"Converting varchar to varbinary SQL Server","body":"<p>I have two different tables in my database and I am joining them to extract a varbinary or a varchar depending on which one comes first. I am using the operator <code>coalesce</code> to select between them and also using the <code>convert</code> operator to convert the varchar to varbinary.\nThe final query is something like this:</p>\n<pre><code>select coalesce(t1.varbinary_column, convert(varbinary(max), t2.varchar_column)) form table1 t1 inner join table2 t2....\n</code></pre>\n<p>The query returns a byte array that when converted to a java.lang.String separates each character with a additional space.\nIs also needed to say that I am using spring data to execute this native query and also using ResultSet to get the extracted data.\nThe question is how can I avoid this behavior?</p>\n"},{"tags":["java","spring","spring-boot","qualifiers"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1673613960,"post_id":75109389,"comment_id":132544292,"body_markdown":"https://www.baeldung.com/spring-qualifier-annotation","body":"<a href=\"https://www.baeldung.com/spring-qualifier-annotation\" rel=\"nofollow noreferrer\">baeldung.com/spring-qualifier-annotation</a>"},{"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1673618007,"post_id":75109389,"comment_id":132545603,"body_markdown":"The link you provided @Stultuske is pretty much my question. As you can see in the example of the tutorial ```@Qualifier(&quot;fooFormatter&quot;)``` the value is hard coded, not configurable. How to make it configurable please?","body":"The link you provided @Stultuske is pretty much my question. As you can see in the example of the tutorial <code>@Qualifier(&quot;fooFormatter&quot;)</code> the value is hard coded, not configurable. How to make it configurable please?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1673618849,"post_id":75109389,"comment_id":132545939,"body_markdown":"not. you don&#39;t. You provide two autowired beans, and based on (if value equals english -&gt; use englishqualifiedBean else useOtherbean. basically: a factory pattern","body":"not. you don&#39;t. You provide two autowired beans, and based on (if value equals english -&gt; use englishqualifiedBean else useOtherbean. basically: a factory pattern"},{"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1673619541,"post_id":75109389,"comment_id":132546202,"body_markdown":"This is again the point of my question, many thanks. I have some 100+ concrete language beans. And Autowiring hundreds of concrete beans, + a giant if statement on the bean name is not optimal. Is there a way to simply configure which bean to use at application start time with a configurable @Qualifier?","body":"This is again the point of my question, many thanks. I have some 100+ concrete language beans. And Autowiring hundreds of concrete beans, + a giant if statement on the bean name is not optimal. Is there a way to simply configure which bean to use at application start time with a configurable @Qualifier?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1673619703,"post_id":75109389,"comment_id":132546270,"body_markdown":"This might be against the &quot;point&quot; of your question, but at least it would work. You can&#39;t dynamically build a value you pass to an annotation. You might put them all in a Map, and have a specific (for instance that &quot;english&quot; and &quot;french&quot;) mapped to them, and you can get them that way.","body":"This might be against the &quot;point&quot; of your question, but at least it would work. You can&#39;t dynamically build a value you pass to an annotation. You might put them all in a Map, and have a specific (for instance that &quot;english&quot; and &quot;french&quot;) mapped to them, and you can get them that way."}],"answers":[{"tags":[],"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673620379,"creation_date":1673619650,"answer_id":75110432,"question_id":75109389,"body_markdown":"You can&#39;t make this dynamic, you&#39;ll need to use a workaround.\r\nA factory pattern would do well, here. Instead of one bean, you would have two, and based on the value of that property, you would let your factory choose which one to use.\r\n\r\n    @Component\r\n    public class LanguageFactory {\r\n    \r\n      @Autowired\r\n      @Qualifier(&quot;english&quot;)\r\n      private LanguageService englishLanguage;\r\n    \r\n      @Autowired\r\n      @Qualifier(&quot;french&quot;)\r\n      private LanguageService frenchLanguage;\r\n    \r\n      @Value(&quot;${configuration}&quot;)\r\n      private String chosenLanguage;\r\n    \r\n      public LanguageService getLanguageService() {\r\n        switch(chosenLanguage) {\r\n          case &quot;english&quot;: return englishLanguage;\r\n          case &quot;french&quot;: return frenchLanguage;\r\n          // add any other language you need\r\n          default: throw new Exception(&quot;Invalid language: &quot; + chosenLanguage);\r\n        }\r\n       }\r\n    }\r\n\r\nSo, in your LanguageController, you would get something like this:\r\n\r\n      @Autowired\r\n      private LanguageFactory languageFactory;\r\n    \r\n      @GetMapping(&quot;/test&quot;)\r\n      public String test(@RequestParam String name) {\r\n          return languageFactory.getLangaugeService().process(name);\r\n      }\r\n\r\nEDIT:\r\n\r\nAnother option would be to use a Map. You would avoid all the if-elses, but you would still have to add them to a Map.\r\n\r\n    @Component\r\n    public class LanguageFactory {\r\n    \r\n      private Map&lt;String, LanguageService&gt; languages = new HashMap&lt;&gt;();\r\n    \r\n      @Value(&quot;${configuration}&quot;)\r\n      private String chosenLanguage;\r\n    \r\n      @Autowired\r\n      public LanguageFactory(@Qualifier(&quot;english&quot;) LanguageService englishLanguage, @Qualifer(&quot;french&quot;) LanguageService frenchService) {\r\n        this.languages.put(&quot;english&quot;, englishLanguage);\r\n        this.languages.put(&quot;french&quot;, frenchLanguage);\r\n      }\r\n    \r\n      public LanguageService getLanguageService() {\r\n        LanguageService ls = this.languages.get(chosenLanguage);\r\n        if ( ls == null ) {\r\n          // handle the issue as you see fit\r\n        }\r\n        return ls;\r\n      }\r\n    }\r\n\r\n  ","title":"SpringBoot: Configurable @Qualifier to select bean","body":"<p>You can't make this dynamic, you'll need to use a workaround.\nA factory pattern would do well, here. Instead of one bean, you would have two, and based on the value of that property, you would let your factory choose which one to use.</p>\n<pre><code>@Component\npublic class LanguageFactory {\n\n  @Autowired\n  @Qualifier(&quot;english&quot;)\n  private LanguageService englishLanguage;\n\n  @Autowired\n  @Qualifier(&quot;french&quot;)\n  private LanguageService frenchLanguage;\n\n  @Value(&quot;${configuration}&quot;)\n  private String chosenLanguage;\n\n  public LanguageService getLanguageService() {\n    switch(chosenLanguage) {\n      case &quot;english&quot;: return englishLanguage;\n      case &quot;french&quot;: return frenchLanguage;\n      // add any other language you need\n      default: throw new Exception(&quot;Invalid language: &quot; + chosenLanguage);\n    }\n   }\n}\n</code></pre>\n<p>So, in your LanguageController, you would get something like this:</p>\n<pre><code>  @Autowired\n  private LanguageFactory languageFactory;\n\n  @GetMapping(&quot;/test&quot;)\n  public String test(@RequestParam String name) {\n      return languageFactory.getLangaugeService().process(name);\n  }\n</code></pre>\n<p>EDIT:</p>\n<p>Another option would be to use a Map. You would avoid all the if-elses, but you would still have to add them to a Map.</p>\n<pre><code>@Component\npublic class LanguageFactory {\n\n  private Map&lt;String, LanguageService&gt; languages = new HashMap&lt;&gt;();\n\n  @Value(&quot;${configuration}&quot;)\n  private String chosenLanguage;\n\n  @Autowired\n  public LanguageFactory(@Qualifier(&quot;english&quot;) LanguageService englishLanguage, @Qualifer(&quot;french&quot;) LanguageService frenchService) {\n    this.languages.put(&quot;english&quot;, englishLanguage);\n    this.languages.put(&quot;french&quot;, frenchLanguage);\n  }\n\n  public LanguageService getLanguageService() {\n    LanguageService ls = this.languages.get(chosenLanguage);\n    if ( ls == null ) {\n      // handle the issue as you see fit\n    }\n    return ls;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673880581,"creation_date":1673622020,"answer_id":75110883,"question_id":75109389,"body_markdown":"If you only need 1 of the `LanguageService` beans active at a time, then you can use `@ConditionalOnProperty` on each of them, each using a unique `havingValue`. Like this (warning, untested code written from memory):\r\n\r\n```java\r\ninterface ConfigKeys {\r\n\tpublic static final String LANGUAGE = &quot;my.app.prefix.language&quot;;\r\n}\r\n\r\n\r\n@Service\r\n@ConditionalOnProperty(name = ConfigKeys.LANGUAGE, havingValue = &quot;english&quot;)\r\npublic class EnglishLanguageServiceImpl implements LanguageService {\r\n\r\n    @Override\r\n    public String process(String name) {\r\n        return &quot;Welcome &quot; + name;\r\n    }\r\n\r\n}\r\n\r\n@Service\r\n@ConditionalOnProperty(name = ConfigKeys.LANGUAGE, havingValue = &quot;french&quot;)\r\npublic class FrenchLanguageServiceImpl implements LanguageService {\r\n\r\n    @Override\r\n    public String process(String name) {\r\n        return &quot;Bonjour &quot; + name;\r\n    }\r\n\r\n}\r\n```\r\n\r\nWith that, you don&#39;t need any qualifiers, just set the `my.app.prefix.language` property in your config (application.properties or application.yaml) to the value you want, and there will just one `LanguageService` bean in the context. You can inject that bean wherever you need it without needing a qualifier.","title":"SpringBoot: Configurable @Qualifier to select bean","body":"<p>If you only need 1 of the <code>LanguageService</code> beans active at a time, then you can use <code>@ConditionalOnProperty</code> on each of them, each using a unique <code>havingValue</code>. Like this (warning, untested code written from memory):</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface ConfigKeys {\n    public static final String LANGUAGE = &quot;my.app.prefix.language&quot;;\n}\n\n\n@Service\n@ConditionalOnProperty(name = ConfigKeys.LANGUAGE, havingValue = &quot;english&quot;)\npublic class EnglishLanguageServiceImpl implements LanguageService {\n\n    @Override\n    public String process(String name) {\n        return &quot;Welcome &quot; + name;\n    }\n\n}\n\n@Service\n@ConditionalOnProperty(name = ConfigKeys.LANGUAGE, havingValue = &quot;french&quot;)\npublic class FrenchLanguageServiceImpl implements LanguageService {\n\n    @Override\n    public String process(String name) {\n        return &quot;Bonjour &quot; + name;\n    }\n\n}\n</code></pre>\n<p>With that, you don't need any qualifiers, just set the <code>my.app.prefix.language</code> property in your config (application.properties or application.yaml) to the value you want, and there will just one <code>LanguageService</code> bean in the context. You can inject that bean wherever you need it without needing a qualifier.</p>\n"},{"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673624441,"creation_date":1673624441,"answer_id":75111358,"question_id":75109389,"body_markdown":"A much simpler option would be to group the related beans in `@Configuration` classes, and then use `@Conditional` to enable (or not) the configuration, and in turn, a set of beans. That way, you’re not dealing with individual beans, as you say you’ve many.","title":"SpringBoot: Configurable @Qualifier to select bean","body":"<p>A much simpler option would be to group the related beans in <code>@Configuration</code> classes, and then use <code>@Conditional</code> to enable (or not) the configuration, and in turn, a set of beans. That way, you’re not dealing with individual beans, as you say you’ve many.</p>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":532,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75110883,"answer_count":3,"score":2,"last_activity_date":1676393140,"creation_date":1673613807,"question_id":75109389,"body_markdown":"Small question for SpringBoot, and how to configure the bean using ```@Qualifier``` please.\r\n\r\nI have a very straightforward piece of code:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.1&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;com.question&lt;/groupId&gt;\r\n    &lt;artifactId&gt;language&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1&lt;/version&gt;\r\n\r\n    &lt;name&gt;language&lt;/name&gt;\r\n    &lt;description&gt;Spring Boot&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n```\r\npackage com.question;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class LanguageApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(LanguageApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\npackage com.question.service;\r\n\r\npublic interface LanguageService {\r\n\r\n    String process(String name);\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\npackage com.question.service;\r\n\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service(&quot;french&quot;)\r\npublic class FrenchLanguageServiceImpl implements LanguageService {\r\n\r\n    @Override\r\n    public String process(String name) {\r\n        return &quot;Bonjour &quot; + name;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\npackage com.question.service;\r\n\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service(&quot;english&quot;)\r\npublic class EnglishLanguageServiceImpl implements LanguageService {\r\n\r\n    @Override\r\n    public String process(String name) {\r\n        return &quot;Welcome &quot; + name;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\npackage com.question.controller;\r\n\r\nimport com.question.service.LanguageService;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\n@RestController\r\npublic class LanguageController {\r\n\r\n    private final LanguageService languageService;\r\n\r\n    @Value(&quot;${configuration}&quot;)\r\n    public String configuration;\r\n\r\n    public LanguageController(@Qualifier(configuration) LanguageService languageService) {\r\n        this.languageService = languageService;\r\n    }\r\n\r\n    @GetMapping(&quot;/test&quot;)\r\n    public String test(@RequestParam String name) {\r\n        return languageService.process(name);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nExpected:\r\n\r\nWhat I hope to achieve is equally straightforward. I would like to pass some sort of configuration to ```application.properties```, something like ```configuration=french``` or ```configuration=english```.\r\n\r\nAt the controller layer, to use ```(@Qualifier(configuration) LanguageService languageService)``` And the correct concrete service will be used.\r\n\r\nActual:\r\n\r\nUnfortunately, \r\n\r\n```@Qualifier(configuration) + @Value(&quot;${configuration}&quot;) public String configuration;```\r\n\r\nwill yield ```Attribute Value must be constant```.\r\n\r\nIs there a way we can configure the concrete Bean via a configurable ```@Qualifier``` please?\r\n\r\nI understand there is a way to workaround this by using ApplicationContext getBean.\r\n\r\nBut having this construct: @Qualifier(configuration) makes the code clean and easily understandable. How to achieve this please?\r\n\r\nThank you","title":"SpringBoot: Configurable @Qualifier to select bean","body":"<p>Small question for SpringBoot, and how to configure the bean using <code>@Qualifier</code> please.</p>\n<p>I have a very straightforward piece of code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.question&lt;/groupId&gt;\n    &lt;artifactId&gt;language&lt;/artifactId&gt;\n    &lt;version&gt;1.1&lt;/version&gt;\n\n    &lt;name&gt;language&lt;/name&gt;\n    &lt;description&gt;Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<pre><code>package com.question;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class LanguageApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(LanguageApplication.class, args);\n    }\n\n}\n</code></pre>\n<pre><code>package com.question.service;\n\npublic interface LanguageService {\n\n    String process(String name);\n\n}\n\n</code></pre>\n<pre><code>package com.question.service;\n\nimport org.springframework.stereotype.Service;\n\n@Service(&quot;french&quot;)\npublic class FrenchLanguageServiceImpl implements LanguageService {\n\n    @Override\n    public String process(String name) {\n        return &quot;Bonjour &quot; + name;\n    }\n\n}\n\n</code></pre>\n<pre><code>package com.question.service;\n\nimport org.springframework.stereotype.Service;\n\n@Service(&quot;english&quot;)\npublic class EnglishLanguageServiceImpl implements LanguageService {\n\n    @Override\n    public String process(String name) {\n        return &quot;Welcome &quot; + name;\n    }\n\n}\n\n</code></pre>\n<pre><code>package com.question.controller;\n\nimport com.question.service.LanguageService;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.web.bind.annotation.*;\n\n@RestController\npublic class LanguageController {\n\n    private final LanguageService languageService;\n\n    @Value(&quot;${configuration}&quot;)\n    public String configuration;\n\n    public LanguageController(@Qualifier(configuration) LanguageService languageService) {\n        this.languageService = languageService;\n    }\n\n    @GetMapping(&quot;/test&quot;)\n    public String test(@RequestParam String name) {\n        return languageService.process(name);\n    }\n\n}\n\n</code></pre>\n<p>Expected:</p>\n<p>What I hope to achieve is equally straightforward. I would like to pass some sort of configuration to <code>application.properties</code>, something like <code>configuration=french</code> or <code>configuration=english</code>.</p>\n<p>At the controller layer, to use <code>(@Qualifier(configuration) LanguageService languageService)</code> And the correct concrete service will be used.</p>\n<p>Actual:</p>\n<p>Unfortunately,</p>\n<p><code>@Qualifier(configuration) + @Value(&quot;${configuration}&quot;) public String configuration;</code></p>\n<p>will yield <code>Attribute Value must be constant</code>.</p>\n<p>Is there a way we can configure the concrete Bean via a configurable <code>@Qualifier</code> please?</p>\n<p>I understand there is a way to workaround this by using ApplicationContext getBean.</p>\n<p>But having this construct: @Qualifier(configuration) makes the code clean and easily understandable. How to achieve this please?</p>\n<p>Thank you</p>\n"},{"tags":["java","spring","jpa","transactions","spring-data"],"comments":[{"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"score":1,"creation_date":1674065643,"post_id":75163357,"comment_id":132637540,"body_markdown":"1. Are you sure the ID in `PersonDto` corresponds to the same ID in the returned `Person` object? Are you sure it is not null?\n2. Are you sure you are not calling `method2` from another Transactional method, thus the transaction wouldn&#39;t have ended yet, and maybe `method3()` is called from another transaction before the first one is committed?","body":"1. Are you sure the ID in <code>PersonDto</code> corresponds to the same ID in the returned <code>Person</code> object? Are you sure it is not null? 2. Are you sure you are not calling <code>method2</code> from another Transactional method, thus the transaction wouldn&#39;t have ended yet, and maybe <code>method3()</code> is called from another transaction before the first one is committed?"},{"owner":{"account_id":11874841,"reputation":303,"user_id":8690140,"display_name":"Serr"},"score":0,"creation_date":1674070114,"post_id":75163357,"comment_id":132638915,"body_markdown":"Yes, I&#39;m sure, I have a log for it before retrieving it in method3. Also, it works most of the time, about 1% of the time it fails, generally, when it executes super fast. About the Transaction, in the StackTrace there is no other method with a @Transactional annotation. Thanks!","body":"Yes, I&#39;m sure, I have a log for it before retrieving it in method3. Also, it works most of the time, about 1% of the time it fails, generally, when it executes super fast. About the Transaction, in the StackTrace there is no other method with a @Transactional annotation. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674066861,"creation_date":1674066861,"answer_id":75163798,"question_id":75163357,"body_markdown":"I can see a couple of reason why you&#39;re getting the results you describe.\r\n\r\nOne possibility is that `@Transactional` doesn&#39;t necessarily mean &quot;execute this method in a totally separate transaction.&quot; The default propagation is `REQUIRED`, which will use an existing transaction if one is already active. So if `method2()` is called in a stack where a transaction was opened earlier, it won&#39;t create a new one (and thus the new entity won&#39;t be committed) until that original transaction is committed. If this is what&#39;s happening, one solution would be to change the propagation to `REQUIRES_NEW`:\r\n```java\r\n@Transactional(propagation = REQUIRES_NEW)\r\n```\r\n\r\nAnother possibility, which seems more likely, is that these methods are all in the same class. To understand why that fails, you have to understand how Spring implements handling of `@Transactional` (and most other behavioral annotations): using proxies. That means that only method calls that come through the proxy get the transactional behavior. That&#39;s the typical scenario when one object calls a reference it has to another; the reference is actually to the proxy, which intercepts the call and wraps the behavior (in this case, transactionality) around it. However, when calling methods within the same instance, there is no proxy in play (Spring doesn&#39;t/can&#39;t replace `this` with a reference to the proxy), and thus no transactional behavior.\r\n\r\nThere are a few ways to work around that, but first I would consider how to restructure my classes and methods to avoid it. If that&#39;s not reasonable, things like AspectJ, `TransactionTemplate`, and maybe some other ideas are discussed in [this SO Q&amp;A][1].\r\n\r\n---\r\nAddendum:\r\n[This question and its answers][2] also talks about options to work around the proxying problem.\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/4396284/639520\r\n  [2]: https://stackoverflow.com/q/3423972/639520","title":"Database is not changed immediately after the @Transactional method ends","body":"<p>I can see a couple of reason why you're getting the results you describe.</p>\n<p>One possibility is that <code>@Transactional</code> doesn't necessarily mean &quot;execute this method in a totally separate transaction.&quot; The default propagation is <code>REQUIRED</code>, which will use an existing transaction if one is already active. So if <code>method2()</code> is called in a stack where a transaction was opened earlier, it won't create a new one (and thus the new entity won't be committed) until that original transaction is committed. If this is what's happening, one solution would be to change the propagation to <code>REQUIRES_NEW</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional(propagation = REQUIRES_NEW)\n</code></pre>\n<p>Another possibility, which seems more likely, is that these methods are all in the same class. To understand why that fails, you have to understand how Spring implements handling of <code>@Transactional</code> (and most other behavioral annotations): using proxies. That means that only method calls that come through the proxy get the transactional behavior. That's the typical scenario when one object calls a reference it has to another; the reference is actually to the proxy, which intercepts the call and wraps the behavior (in this case, transactionality) around it. However, when calling methods within the same instance, there is no proxy in play (Spring doesn't/can't replace <code>this</code> with a reference to the proxy), and thus no transactional behavior.</p>\n<p>There are a few ways to work around that, but first I would consider how to restructure my classes and methods to avoid it. If that's not reasonable, things like AspectJ, <code>TransactionTemplate</code>, and maybe some other ideas are discussed in <a href=\"https://stackoverflow.com/q/4396284/639520\">this SO Q&amp;A</a>.</p>\n<hr />\n<p>Addendum:\n<a href=\"https://stackoverflow.com/q/3423972/639520\">This question and its answers</a> also talks about options to work around the proxying problem.</p>\n"}],"owner":{"account_id":11874841,"reputation":303,"user_id":8690140,"display_name":"Serr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":558,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75163798,"answer_count":1,"score":2,"last_activity_date":1676393080,"creation_date":1674064523,"question_id":75163357,"body_markdown":"I have a Java, Spring Data application with a PostgreSQL DB and I have a code similar to this in my service layer:\r\n\r\n\r\n```\r\npublic void method1() {\r\n    PersonDto dto = method2();\r\n    method3(dto);\r\n}\r\n\r\n@Transactional\r\npublic PersonDto method2() {\r\n    Person p1 = personRepository.saveAndFlush(new Person());\r\n    return createPersonDto(p1);\r\n}\r\n\r\n@Transactional\r\npublic void method3(PersonDto p1) {\r\n    Person p2 = personRepository.findById(p1.getId());\r\n    if (p2 == null) {\r\n        System.out.println(&quot;Not in the DB&quot;);\r\n    } else {\r\n        System.out.println(&quot;In the DB&quot;);\r\n    }\r\n}\r\n``` \r\n\r\nSometimes this code prints &quot;Not in the DB&quot;, when I was expecting that it would always print &quot;In the DB&quot;. My questions are:\r\n\r\n 1. This saveAndFlush is even necessary? Since I&#39;m not reusing that Entity in the same transaction, I guess it would have the same effect as a save, right?\r\n 2. How to guarantee that the changes in method2 will be committed before method 3 calls it? So it will always print &quot;In the DB&quot;?\r\n 3. The fact that I&#39;m converting my Entity to a DTO is what is messing this up? Maybe if I was passing the Entity itself it would work properly?\r\n\r\nI&#39;m thinking about @Transactional only in method1, or replacing @Transactional in method3 with @Transactional(isolation = Isolation.READ_UNCOMMITTED).\r\nAny advice?","title":"Database is not changed immediately after the @Transactional method ends","body":"<p>I have a Java, Spring Data application with a PostgreSQL DB and I have a code similar to this in my service layer:</p>\n<pre><code>public void method1() {\n    PersonDto dto = method2();\n    method3(dto);\n}\n\n@Transactional\npublic PersonDto method2() {\n    Person p1 = personRepository.saveAndFlush(new Person());\n    return createPersonDto(p1);\n}\n\n@Transactional\npublic void method3(PersonDto p1) {\n    Person p2 = personRepository.findById(p1.getId());\n    if (p2 == null) {\n        System.out.println(&quot;Not in the DB&quot;);\n    } else {\n        System.out.println(&quot;In the DB&quot;);\n    }\n}\n</code></pre>\n<p>Sometimes this code prints &quot;Not in the DB&quot;, when I was expecting that it would always print &quot;In the DB&quot;. My questions are:</p>\n<ol>\n<li>This saveAndFlush is even necessary? Since I'm not reusing that Entity in the same transaction, I guess it would have the same effect as a save, right?</li>\n<li>How to guarantee that the changes in method2 will be committed before method 3 calls it? So it will always print &quot;In the DB&quot;?</li>\n<li>The fact that I'm converting my Entity to a DTO is what is messing this up? Maybe if I was passing the Entity itself it would work properly?</li>\n</ol>\n<p>I'm thinking about @Transactional only in method1, or replacing @Transactional in method3 with @Transactional(isolation = Isolation.READ_UNCOMMITTED).\nAny advice?</p>\n"},{"tags":["java","json","spring","spring-boot","jackson-databind"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1674073271,"post_id":75164807,"comment_id":132639787,"body_markdown":"What does the `body` member look like before serialization?  It looks like you&#39;re putting JSON inside of JSON.","body":"What does the <code>body</code> member look like before serialization?  It looks like you&#39;re putting JSON inside of JSON."},{"owner":{"account_id":18322534,"reputation":510,"user_id":13342990,"display_name":"Ryan Burch"},"score":0,"creation_date":1674073529,"post_id":75164807,"comment_id":132639863,"body_markdown":"@stdunbar If I print to stdout before the ResponseEntity I get `{&quot;status&quot;:&quot;Healthy!&quot;}`.","body":"@stdunbar If I print to stdout before the ResponseEntity I get <code>{&quot;status&quot;:&quot;Healthy!&quot;}</code>."},{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1674073533,"post_id":75164807,"comment_id":132639864,"body_markdown":"why do you want to have body as string? Keep the type as `HttpEntity` and remove this `EntityUtils.toString(entity)`. It should work fine","body":"why do you want to have body as string? Keep the type as <code>HttpEntity</code> and remove this <code>EntityUtils.toString(entity)</code>. It should work fine"},{"owner":{"account_id":18322534,"reputation":510,"user_id":13342990,"display_name":"Ryan Burch"},"score":0,"creation_date":1674073696,"post_id":75164807,"comment_id":132639915,"body_markdown":"@pvpkiran If I change the type to HttpEntity in my Response class and pass the entity, I get an Error. \n`No serializer found for class org.apache.http.conn.EofSensorInputStream and no properties discovered to create BeanSerializer`","body":"@pvpkiran If I change the type to HttpEntity in my Response class and pass the entity, I get an Error.  <code>No serializer found for class org.apache.http.conn.EofSensorInputStream and no properties discovered to create BeanSerializer</code>"}],"answers":[{"tags":[],"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674088155,"creation_date":1674074801,"answer_id":75165113,"question_id":75164807,"body_markdown":"You are getting exactly what you asked for with the definition of `ApiResponse`.\r\n```Java\r\npublic String body;\r\n```\r\nIf you want Jackson to serialize that as a part of the object. It needs to be defined as part of the object.\r\nThis may be as simple as changing it to `JsonNode`.\r\n\r\n```Java\r\npublic JsonNode body;\r\n```\r\nAnd generating a `JsonNode` from the entity.\r\n```Java\r\nif (entity != null) {\r\n  // return it as a JsonNode\r\n  String stringResponse = EntityUtils.toString(entity);\r\n  ObjectMapper mapper = new ObjectMapper();\r\n  JsonNode jsonNode = mapper.readTree(stringResponse);\r\n  apiResponse.setBody(jsonNode);\r\n}\r\n```\r\n\r\nAlthough it would probably be better if your `ApiResponse` object more accurately modeled what it is holding.","title":"Java Spring Boot response not converting whole response to JSON","body":"<p>You are getting exactly what you asked for with the definition of <code>ApiResponse</code>.</p>\n<pre><code>public String body;\n</code></pre>\n<p>If you want Jackson to serialize that as a part of the object. It needs to be defined as part of the object.\nThis may be as simple as changing it to <code>JsonNode</code>.</p>\n<pre><code>public JsonNode body;\n</code></pre>\n<p>And generating a <code>JsonNode</code> from the entity.</p>\n<pre><code>if (entity != null) {\n  // return it as a JsonNode\n  String stringResponse = EntityUtils.toString(entity);\n  ObjectMapper mapper = new ObjectMapper();\n  JsonNode jsonNode = mapper.readTree(stringResponse);\n  apiResponse.setBody(jsonNode);\n}\n</code></pre>\n<p>Although it would probably be better if your <code>ApiResponse</code> object more accurately modeled what it is holding.</p>\n"},{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674077863,"creation_date":1674077863,"answer_id":75165547,"question_id":75164807,"body_markdown":"As others have said, by declaring the type of `ApiResponse.body` as String, that&#39;s exactly what&#39;s being stored there; the JSON serializer doesn&#39;t have any knowledge of the content of the String, so it just serializes it out (with required escaping to make it a valid string value).\r\n\r\nI can think of 2 options to make that a more useful object that can be serialized: A) transform the response `HttpEntity` you get from the downstream API into a simple DTO with just the properties you care about; or B) use `HttpEntity&lt;&gt;` directly and instruct the serializer to ignore properties you don&#39;t care about (such as the `EofSensorInputStream` from the exception you reported).\r\n\r\nOption A seems fairly obvious so I won&#39;t show code for that. Here&#39;s how you can accomplish Option B:\r\n\r\n```java\r\npublic class ApiResponse {\r\n    // ... other fields ...\r\n    private HttpEntity&lt;?&gt; body;\r\n\r\n    // ... other methods ...\r\n\r\n    @JsonIncludeProperties({&quot;body&quot;, &quot;headers&quot;})\r\n    public HttpEntity&lt;?&gt; getBody() {\r\n        return body;\r\n    }\r\n```\r\n\r\nThat instructs the serializer to only include `body` and `headers` when it serializes the `body` of `ApiResponse`, ignoring anything else in the `HttpEntity`.","title":"Java Spring Boot response not converting whole response to JSON","body":"<p>As others have said, by declaring the type of <code>ApiResponse.body</code> as String, that's exactly what's being stored there; the JSON serializer doesn't have any knowledge of the content of the String, so it just serializes it out (with required escaping to make it a valid string value).</p>\n<p>I can think of 2 options to make that a more useful object that can be serialized: A) transform the response <code>HttpEntity</code> you get from the downstream API into a simple DTO with just the properties you care about; or B) use <code>HttpEntity&lt;&gt;</code> directly and instruct the serializer to ignore properties you don't care about (such as the <code>EofSensorInputStream</code> from the exception you reported).</p>\n<p>Option A seems fairly obvious so I won't show code for that. Here's how you can accomplish Option B:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ApiResponse {\n    // ... other fields ...\n    private HttpEntity&lt;?&gt; body;\n\n    // ... other methods ...\n\n    @JsonIncludeProperties({&quot;body&quot;, &quot;headers&quot;})\n    public HttpEntity&lt;?&gt; getBody() {\n        return body;\n    }\n</code></pre>\n<p>That instructs the serializer to only include <code>body</code> and <code>headers</code> when it serializes the <code>body</code> of <code>ApiResponse</code>, ignoring anything else in the <code>HttpEntity</code>.</p>\n"}],"owner":{"account_id":18322534,"reputation":510,"user_id":13342990,"display_name":"Ryan Burch"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":534,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75165113,"answer_count":2,"score":1,"last_activity_date":1676393044,"creation_date":1674072753,"question_id":75164807,"body_markdown":"I am having an issue where my Spring Boot response Entity is mostly being converted to JSON but the body is staying as a string.\r\n\r\nI have read many of the other questions on this site, but they all seem to point to the same thing. \r\n\r\npom.xml Dependencies\r\n```xml\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!--OpenAPI Generator Dependencies--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--Http Dependencies--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--Log4j Dependencies--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--Spring Framework Dependencies--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--Dotenv Dependencies--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.cdimascio&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;java-dotenv&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${dotenv.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!--JSON Object Dependencies--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20220924&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.14.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.14.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n```\r\n\r\nApiResponse Class\r\n```java\r\npublic class ApiResponse {\r\n    // class used to model api response data\r\n    public Integer statusCode;\r\n    public String statusReason;\r\n    public String statusLine;\r\n    public String url;\r\n    public String body;\r\n    public ProtocolVersion protocolVersion;\r\n\r\n    public String getStatusLine() {\r\n        return statusLine;\r\n    }\r\n\r\n    public void setStatusLine(String statusLine) {\r\n        this.statusLine = statusLine;\r\n    }\r\n\r\n    public ProtocolVersion getProtocolVersion() {\r\n        return protocolVersion;\r\n    }\r\n\r\n    public String getStatusReason() {\r\n        return statusReason;\r\n    }\r\n\r\n    public void setStatusReason(String statusReason) {\r\n        this.statusReason = statusReason;\r\n    }\r\n\r\n    public void setProtocolVersion(ProtocolVersion protocolVersion) {\r\n        this.protocolVersion = protocolVersion;\r\n    }\r\n\r\n    public Integer getStatusCode() {\r\n        return statusCode;\r\n    }\r\n\r\n    public void setStatusCode(Integer statusCode) {\r\n        this.statusCode = statusCode;\r\n    }\r\n\r\n    public String getUrl() {\r\n        return url;\r\n    }\r\n\r\n    public void setUrl(String url) {\r\n        this.url = url;\r\n    }\r\n\r\n    public String getBody() {\r\n        return body;\r\n    }\r\n\r\n    public void setBody(String body) {\r\n        this.body = body;\r\n    }\r\n\r\n}\r\n```\r\n\r\nprocessResponse method\r\n```java\r\n    public ApiResponse processResponse(CloseableHttpResponse response) throws IOException {\r\n        // process custom apache httpClient response\r\n        ApiResponse apiResponse = new ApiResponse();\r\n        apiResponse.setProtocolVersion(response.getProtocolVersion());\r\n        apiResponse.setStatusCode(response.getStatusLine().getStatusCode());\r\n        apiResponse.setStatusReason(response.getStatusLine().getReasonPhrase());\r\n        apiResponse.setStatusLine(response.getStatusLine().toString());\r\n\r\n        HttpEntity entity = response.getEntity();\r\n        if (entity != null) {\r\n            // return it as a String\r\n            String result = EntityUtils.toString(entity);\r\n            apiResponse.setBody(result);\r\n        }\r\n        response.close();\r\n        return apiResponse;\r\n    }\r\n```\r\n\r\ngetCall method\r\n```java\r\n    @GetMapping(value = &quot;/getHealth&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;ApiResponse&gt; getClientHealth() throws NoSuchAlgorithmException, KeyManagementException, KeyStoreException {\r\n\r\n        Client clientSetup = new Client(dotEnv.get(&quot;URL&quot;), 80);\r\n\r\n        try {\r\n            ApiResponse response = clientSetup.getHealth();\r\n\r\n            return new ResponseEntity&lt;&gt;(response, HttpStatusCode.valueOf(response.getStatusCode()));\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```\r\n\r\nThe response\r\n```json\r\n{\r\n  &quot;statusCode&quot;: 200,\r\n  &quot;statusReason&quot;: &quot;OK&quot;,\r\n  &quot;statusLine&quot;: &quot;HTTP/1.1 200 OK&quot;,\r\n  &quot;url&quot;: null,\r\n  &quot;body&quot;: &quot;{\\&quot;status\\&quot;:\\&quot;Healthy!\\&quot;}&quot;,\r\n  &quot;protocolVersion&quot;: {\r\n    &quot;protocol&quot;: &quot;HTTP&quot;,\r\n    &quot;major&quot;: 1,\r\n    &quot;minor&quot;: 1\r\n  }\r\n}\r\n```\r\nThe problem is with `&quot;body&quot;: &quot;{\\&quot;status\\&quot;:\\&quot;Healthy!\\&quot;}&quot;`\r\n\r\nI have been unsuccessful in getting the body to be converted from a string to JSON when returned through my Spring Boot ResponseEntity.","title":"Java Spring Boot response not converting whole response to JSON","body":"<p>I am having an issue where my Spring Boot response Entity is mostly being converted to JSON but the body is staying as a string.</p>\n<p>I have read many of the other questions on this site, but they all seem to point to the same thing.</p>\n<p>pom.xml Dependencies</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependencies&gt;\n        &lt;!--OpenAPI Generator Dependencies--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--Http Dependencies--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!--Log4j Dependencies--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!--Spring Framework Dependencies--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;!--Dotenv Dependencies--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.cdimascio&lt;/groupId&gt;\n            &lt;artifactId&gt;java-dotenv&lt;/artifactId&gt;\n            &lt;version&gt;${dotenv.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--JSON Object Dependencies--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20220924&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.14.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;2.14.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n</code></pre>\n<p>ApiResponse Class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ApiResponse {\n    // class used to model api response data\n    public Integer statusCode;\n    public String statusReason;\n    public String statusLine;\n    public String url;\n    public String body;\n    public ProtocolVersion protocolVersion;\n\n    public String getStatusLine() {\n        return statusLine;\n    }\n\n    public void setStatusLine(String statusLine) {\n        this.statusLine = statusLine;\n    }\n\n    public ProtocolVersion getProtocolVersion() {\n        return protocolVersion;\n    }\n\n    public String getStatusReason() {\n        return statusReason;\n    }\n\n    public void setStatusReason(String statusReason) {\n        this.statusReason = statusReason;\n    }\n\n    public void setProtocolVersion(ProtocolVersion protocolVersion) {\n        this.protocolVersion = protocolVersion;\n    }\n\n    public Integer getStatusCode() {\n        return statusCode;\n    }\n\n    public void setStatusCode(Integer statusCode) {\n        this.statusCode = statusCode;\n    }\n\n    public String getUrl() {\n        return url;\n    }\n\n    public void setUrl(String url) {\n        this.url = url;\n    }\n\n    public String getBody() {\n        return body;\n    }\n\n    public void setBody(String body) {\n        this.body = body;\n    }\n\n}\n</code></pre>\n<p>processResponse method</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public ApiResponse processResponse(CloseableHttpResponse response) throws IOException {\n        // process custom apache httpClient response\n        ApiResponse apiResponse = new ApiResponse();\n        apiResponse.setProtocolVersion(response.getProtocolVersion());\n        apiResponse.setStatusCode(response.getStatusLine().getStatusCode());\n        apiResponse.setStatusReason(response.getStatusLine().getReasonPhrase());\n        apiResponse.setStatusLine(response.getStatusLine().toString());\n\n        HttpEntity entity = response.getEntity();\n        if (entity != null) {\n            // return it as a String\n            String result = EntityUtils.toString(entity);\n            apiResponse.setBody(result);\n        }\n        response.close();\n        return apiResponse;\n    }\n</code></pre>\n<p>getCall method</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @GetMapping(value = &quot;/getHealth&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;ApiResponse&gt; getClientHealth() throws NoSuchAlgorithmException, KeyManagementException, KeyStoreException {\n\n        Client clientSetup = new Client(dotEnv.get(&quot;URL&quot;), 80);\n\n        try {\n            ApiResponse response = clientSetup.getHealth();\n\n            return new ResponseEntity&lt;&gt;(response, HttpStatusCode.valueOf(response.getStatusCode()));\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>The response</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;statusCode&quot;: 200,\n  &quot;statusReason&quot;: &quot;OK&quot;,\n  &quot;statusLine&quot;: &quot;HTTP/1.1 200 OK&quot;,\n  &quot;url&quot;: null,\n  &quot;body&quot;: &quot;{\\&quot;status\\&quot;:\\&quot;Healthy!\\&quot;}&quot;,\n  &quot;protocolVersion&quot;: {\n    &quot;protocol&quot;: &quot;HTTP&quot;,\n    &quot;major&quot;: 1,\n    &quot;minor&quot;: 1\n  }\n}\n</code></pre>\n<p>The problem is with <code>&quot;body&quot;: &quot;{\\&quot;status\\&quot;:\\&quot;Healthy!\\&quot;}&quot;</code></p>\n<p>I have been unsuccessful in getting the body to be converted from a string to JSON when returned through my Spring Boot ResponseEntity.</p>\n"},{"tags":["java","spring","annotations","aop","spring-aop"],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674828842,"creation_date":1674828842,"answer_id":75259292,"question_id":75258989,"body_markdown":"To understand why you&#39;re getting the results you see, you have to understand how Spring implements handling of most behavioral annotations: using proxies. That means that only method calls that come through the proxy get the annotation behavior. That&#39;s the typical scenario when one object calls a reference it has to another object; the reference is actually to the proxy, which intercepts the call and wraps the behavior (in this case, logging) around it. However, when calling methods within the same instance, there is no proxy in play (Spring doesn&#39;t/can&#39;t replace `this` with a reference to the proxy), and thus no annotation behavior.\r\n\r\nThere are a few ways to work around that, some ideas are discussed in [this SO Q&amp;A][1]. [There are also some answers here][2] with options to work around the proxying limitation.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/4396284/639520\r\n  [2]: https://stackoverflow.com/q/3423972/639520","title":"Spring Boot AOP nested custom annotations not called","body":"<p>To understand why you're getting the results you see, you have to understand how Spring implements handling of most behavioral annotations: using proxies. That means that only method calls that come through the proxy get the annotation behavior. That's the typical scenario when one object calls a reference it has to another object; the reference is actually to the proxy, which intercepts the call and wraps the behavior (in this case, logging) around it. However, when calling methods within the same instance, there is no proxy in play (Spring doesn't/can't replace <code>this</code> with a reference to the proxy), and thus no annotation behavior.</p>\n<p>There are a few ways to work around that, some ideas are discussed in <a href=\"https://stackoverflow.com/q/4396284/639520\">this SO Q&amp;A</a>. <a href=\"https://stackoverflow.com/q/3423972/639520\">There are also some answers here</a> with options to work around the proxying limitation.</p>\n"}],"owner":{"account_id":6441401,"reputation":506,"user_id":4991308,"accept_rate":62,"display_name":"Ares91"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":485,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674860966,"accepted_answer_id":75259292,"answer_count":1,"score":0,"last_activity_date":1676392958,"creation_date":1674827275,"question_id":75258989,"body_markdown":"I have created a simple custom annotation in Spring Boot that logs something and it&#39;s working but only for the first annotation, the nested one are not called\r\n\r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.annotation.Target;\r\n    \r\n    @Target(ElementType.METHOD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface Traceable {\r\n    \r\n    }\r\n\r\nAnnotation processor (aspect)\r\n\r\n    import org.aspectj.lang.ProceedingJoinPoint;\r\n    import org.aspectj.lang.annotation.Around;\r\n    import org.aspectj.lang.annotation.Aspect;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Aspect\r\n    @Component\r\n    public class TraceableAspect {\r\n    \r\n        @Around(&quot;@annotation(Traceable)&quot;)\r\n        public Object trace(ProceedingJoinPoint joinPoint) throws Throwable {\r\n    \r\n            System.out.println(&quot;Inside Aspect&quot;);\r\n            \r\n            Object result = joinPoint.proceed();\r\n    \r\n            System.out.println(result);\r\n            return result;\r\n        }\r\n    }\r\n\r\nExample of a controller used to test\r\n\r\n\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    \r\n    @Controller\r\n    @RequestMapping(&quot;/test&quot;)\r\n    public class ControllerTest {\r\n    \r\n        @GetMapping(&quot;/get&quot;)\r\n        @Traceable\r\n        public String get(){\r\n    \r\n            test1();\r\n            test2();\r\n    \r\n            return &quot;Hi&quot;;\r\n        }\r\n        \r\n        @Traceable\r\n        public void test1(){\r\n            String str = &quot;1&quot;;\r\n            System.out.println(str);\r\n        }\r\n\r\n        @Traceable\r\n        public Object test2(){\r\n            String str = &quot;2&quot;;\r\n            System.out.println(str);\r\n\r\n            test1();\r\n            return null;\r\n        }\r\n    \r\n    }\r\n\r\nThe console output here is:\r\n\r\n    Inside Aspect\r\n    1\r\n    2\r\n    1\r\n    Hi\r\n\r\nbut I think it&#39;s worng, it has to be like this:\r\n\r\n        Inside Aspect\r\n        Inside Aspect\r\n        1\r\n        Inside Aspect\r\n        2\r\n        Inside Aspect\r\n        1\r\n        Hi\r\n\r\nIt seems that only the first @Traceable is processed, all the other ones are ignored. How to handle this? Thanks","title":"Spring Boot AOP nested custom annotations not called","body":"<p>I have created a simple custom annotation in Spring Boot that logs something and it's working but only for the first annotation, the nested one are not called</p>\n<pre><code>import java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface Traceable {\n\n}\n</code></pre>\n<p>Annotation processor (aspect)</p>\n<pre><code>import org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.springframework.stereotype.Component;\n\n@Aspect\n@Component\npublic class TraceableAspect {\n\n    @Around(&quot;@annotation(Traceable)&quot;)\n    public Object trace(ProceedingJoinPoint joinPoint) throws Throwable {\n\n        System.out.println(&quot;Inside Aspect&quot;);\n        \n        Object result = joinPoint.proceed();\n\n        System.out.println(result);\n        return result;\n    }\n}\n</code></pre>\n<p>Example of a controller used to test</p>\n<pre><code>import org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\n@RequestMapping(&quot;/test&quot;)\npublic class ControllerTest {\n\n    @GetMapping(&quot;/get&quot;)\n    @Traceable\n    public String get(){\n\n        test1();\n        test2();\n\n        return &quot;Hi&quot;;\n    }\n    \n    @Traceable\n    public void test1(){\n        String str = &quot;1&quot;;\n        System.out.println(str);\n    }\n\n    @Traceable\n    public Object test2(){\n        String str = &quot;2&quot;;\n        System.out.println(str);\n\n        test1();\n        return null;\n    }\n\n}\n</code></pre>\n<p>The console output here is:</p>\n<pre><code>Inside Aspect\n1\n2\n1\nHi\n</code></pre>\n<p>but I think it's worng, it has to be like this:</p>\n<pre><code>    Inside Aspect\n    Inside Aspect\n    1\n    Inside Aspect\n    2\n    Inside Aspect\n    1\n    Hi\n</code></pre>\n<p>It seems that only the first @Traceable is processed, all the other ones are ignored. How to handle this? Thanks</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674829954,"creation_date":1674829336,"answer_id":75259379,"question_id":75258920,"body_markdown":"In JPA, entity IDs can be either assigned by the application code, or generated (by the JPA provider, such as Hibernate, or by the database). In many situations, it&#39;s desirable to have the entity IDs be *generated* instead of applicaiton-assigned; it seems like that&#39;s what you are expecting.\r\n\r\nIf so, you need to annotate the `id` field with `@GeneratedValue`. For example:\r\n```java\r\nclass Entity {\r\n    @Id\r\n    @GeneratedValue\r\n    UUID id;\r\n\r\n    String name;\r\n}\r\n```\r\n\r\n\r\nNote that there are considerations to be made regarding the generation strategy, so you&#39;ll want to educate yourself about them and make the right choice based on your situation. [This][1] is a good page that discusses the options. [This SO Answer][2] also is worth reading (the author is a well-known expert on JPA and Hibernate).\r\n\r\n\r\n  [1]: https://en.wikibooks.org/wiki/Java_Persistence/Identity_and_Sequencing#Sequencing\r\n  [2]: https://stackoverflow.com/a/38391106/639520","title":"How to save an entity without an id in Spring Data JPA (hibernate)","body":"<p>In JPA, entity IDs can be either assigned by the application code, or generated (by the JPA provider, such as Hibernate, or by the database). In many situations, it's desirable to have the entity IDs be <em>generated</em> instead of applicaiton-assigned; it seems like that's what you are expecting.</p>\n<p>If so, you need to annotate the <code>id</code> field with <code>@GeneratedValue</code>. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Entity {\n    @Id\n    @GeneratedValue\n    UUID id;\n\n    String name;\n}\n</code></pre>\n<p>Note that there are considerations to be made regarding the generation strategy, so you'll want to educate yourself about them and make the right choice based on your situation. <a href=\"https://en.wikibooks.org/wiki/Java_Persistence/Identity_and_Sequencing#Sequencing\" rel=\"nofollow noreferrer\">This</a> is a good page that discusses the options. <a href=\"https://stackoverflow.com/a/38391106/639520\">This SO Answer</a> also is worth reading (the author is a well-known expert on JPA and Hibernate).</p>\n"}],"owner":{"account_id":6412021,"reputation":1101,"user_id":4971476,"display_name":"Dave Ankin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":824,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75259379,"answer_count":1,"score":0,"last_activity_date":1676392897,"creation_date":1674826961,"question_id":75258920,"body_markdown":"consider an entity with just an id and text field:\r\n\r\n```java\r\n@lombok.Data\r\nclass Entity {\r\n  @javax.persistence.Id\r\n  UUID id;\r\n  String name;\r\n}\r\n```\r\n\r\nconsider that the table definition is as follows:\r\n\r\n```sql\r\ncreate table entity (\r\n  id uniqueidentifier not null primary key default newid(),\r\n  name varchar(max)\r\n);\r\n```\r\n\r\nI am then curious why this doesn&#39;t work and how i could make it work:\r\n\r\n```java\r\nUUID savedId = entityRepository.save(new Entity().setName(&quot;entity name&quot;)).getId();\r\n```","title":"How to save an entity without an id in Spring Data JPA (hibernate)","body":"<p>consider an entity with just an id and text field:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@lombok.Data\nclass Entity {\n  @javax.persistence.Id\n  UUID id;\n  String name;\n}\n</code></pre>\n<p>consider that the table definition is as follows:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create table entity (\n  id uniqueidentifier not null primary key default newid(),\n  name varchar(max)\n);\n</code></pre>\n<p>I am then curious why this doesn't work and how i could make it work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>UUID savedId = entityRepository.save(new Entity().setName(&quot;entity name&quot;)).getId();\n</code></pre>\n"},{"tags":["java","spring","spring-boot","stream","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674834557,"creation_date":1674834557,"answer_id":75260388,"question_id":75259593,"body_markdown":"[Spring Cloud Gateway][1] (more documentation [here][2]) can help. It&#39;s primary purpose seems to be as a configuration-driven gateway, but it can be embedded into an application to serve just certain endpoints; so you may be able to configure it in your &quot;Ingress&quot; service to route certain requests to your Storage service.\r\n\r\nIf that doesn&#39;t work (or, as was in my case, it&#39;s too much work), you can use some specific classes from Spring Cloud Gateway in your own service. Specifically, I&#39;ve used the `ProxyExchange` class to [proxy calls to another service][3] and stream the results back to the original caller.\r\n\r\n\r\n  [1]: https://spring.io/projects/spring-cloud-gateway\r\n  [2]: https://docs.spring.io/spring-cloud-gateway/docs/current/reference/html/\r\n  [3]: https://cloud.spring.io/spring-cloud-gateway/multi/multi__building_a_simple_gateway_using_spring_mvc.html","title":"Restream files from another server to client springboot","body":"<p><a href=\"https://spring.io/projects/spring-cloud-gateway\" rel=\"nofollow noreferrer\">Spring Cloud Gateway</a> (more documentation <a href=\"https://docs.spring.io/spring-cloud-gateway/docs/current/reference/html/\" rel=\"nofollow noreferrer\">here</a>) can help. It's primary purpose seems to be as a configuration-driven gateway, but it can be embedded into an application to serve just certain endpoints; so you may be able to configure it in your &quot;Ingress&quot; service to route certain requests to your Storage service.</p>\n<p>If that doesn't work (or, as was in my case, it's too much work), you can use some specific classes from Spring Cloud Gateway in your own service. Specifically, I've used the <code>ProxyExchange</code> class to <a href=\"https://cloud.spring.io/spring-cloud-gateway/multi/multi__building_a_simple_gateway_using_spring_mvc.html\" rel=\"nofollow noreferrer\">proxy calls to another service</a> and stream the results back to the original caller.</p>\n"}],"owner":{"account_id":16710393,"reputation":21,"user_id":12077736,"display_name":"Hasuni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676392862,"creation_date":1674830374,"question_id":75259593,"body_markdown":"I have 2 services - Ingress (input node) and Storage.\r\nClient send requests on Ingress to get some data (large files).\r\nIngress send request to Storage to get data that Client needs.\r\nMaybe, somebody can tell what I can use to restream response from Storage to Client without OutOfMemory issues.\r\n\r\nNow I&#39;ve implemented it as saving result in file on Ingress, rereading it and sending as response to Client. But it works really slow, of course.\r\n\r\nThank you.","title":"Restream files from another server to client springboot","body":"<p>I have 2 services - Ingress (input node) and Storage.\nClient send requests on Ingress to get some data (large files).\nIngress send request to Storage to get data that Client needs.\nMaybe, somebody can tell what I can use to restream response from Storage to Client without OutOfMemory issues.</p>\n<p>Now I've implemented it as saving result in file on Ingress, rereading it and sending as response to Client. But it works really slow, of course.</p>\n<p>Thank you.</p>\n"},{"tags":["java","hibernate","postgresql"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1359374143,"post_id":14561385,"comment_id":20316513,"body_markdown":"I&#39;d say Hibernate doesn&#39;t know that you are using sequences. It seems to want to use it&#39;s own home-grown (slow) sequence table. There should be some kind of anotation that tells Hibernate that your `id` column is linked to a sequence.","body":"I&#39;d say Hibernate doesn&#39;t know that you are using sequences. It seems to want to use it&#39;s own home-grown (slow) sequence table. There should be some kind of anotation that tells Hibernate that your <code>id</code> column is linked to a sequence."},{"owner":{"account_id":8613736,"reputation":724,"user_id":6451395,"accept_rate":50,"display_name":"Krish"},"score":0,"creation_date":1500599553,"post_id":14561385,"comment_id":77421167,"body_markdown":"@Lakshmi did you resolve the issue ?","body":"@Lakshmi did you resolve the issue ?"}],"answers":[{"tags":[],"owner":{"account_id":1980276,"reputation":8081,"user_id":1777072,"accept_rate":60,"display_name":"David Lavender"},"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1359374315,"creation_date":1359374146,"answer_id":14561498,"question_id":14561385,"body_markdown":"You haven&#39;t posted the important bit: the `Employee` class.\r\n\r\nBut my guess is that your Employee class is using `@GeneratedValue()` without specifying the sequence to use. So, Hibernate uses its default name: hibernate_sequence.\r\n\r\nYou can supply a sequence name as part of the GeneratedValue annotation. eg. \r\n\r\n    @GeneratedValue(strategy=SEQUENCE, generator=&quot;employee_id_seq&quot;)\r\n\r\n","title":"Missing sequence or table: hibernate_sequence","body":"<p>You haven't posted the important bit: the <code>Employee</code> class.</p>\n\n<p>But my guess is that your Employee class is using <code>@GeneratedValue()</code> without specifying the sequence to use. So, Hibernate uses its default name: hibernate_sequence.</p>\n\n<p>You can supply a sequence name as part of the GeneratedValue annotation. eg. </p>\n\n<pre><code>@GeneratedValue(strategy=SEQUENCE, generator=\"employee_id_seq\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2693469,"reputation":147,"user_id":2326165,"display_name":"oleh.kovaliuk"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1391772963,"creation_date":1391772963,"answer_id":21626735,"question_id":14561385,"body_markdown":"If you don&#39;t use annotation you should change YourClass.hbm.xml file.\r\n\r\nYour ID section should be:\r\n\r\n    &lt;id name=&quot;id&quot; type=&quot;int&quot; column=&quot;id&quot;&gt;\r\n         &lt;generator class=&quot;sequence&quot;&gt;\r\n             &lt;param name=&quot;sequence&quot;&gt;employee_id_seq&lt;/param&gt;\r\n         &lt;/generator&gt;\r\n    &lt;/id&gt;\r\n\r\nFile sample:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-mapping PUBLIC \r\n     &quot;-//Hibernate/Hibernate Mapping DTD//EN&quot;\r\n     &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt; \r\n    \r\n    &lt;hibernate-mapping&gt;\r\n       &lt;class name=&quot;Employee&quot; table=&quot;EMPLOYEE&quot;&gt;\r\n          &lt;meta attribute=&quot;class-description&quot;&gt;\r\n             This class contains the employee detail. \r\n          &lt;/meta&gt;\r\n          &lt;id name=&quot;id&quot; type=&quot;int&quot; column=&quot;id&quot;&gt;\r\n             &lt;generator class=&quot;sequence&quot;&gt;\r\n                 &lt;param name=&quot;sequence&quot;&gt;employee_id_seq&lt;/param&gt;\r\n             &lt;/generator&gt;\r\n          &lt;/id&gt;\r\n          &lt;property name=&quot;firstName&quot; column=&quot;first_name&quot; type=&quot;string&quot;/&gt;\r\n          &lt;property name=&quot;lastName&quot; column=&quot;last_name&quot; type=&quot;string&quot;/&gt;\r\n          &lt;property name=&quot;salary&quot; column=&quot;salary&quot; type=&quot;int&quot;/&gt;\r\n       &lt;/class&gt;\r\n    &lt;/hibernate-mapping&gt;","title":"Missing sequence or table: hibernate_sequence","body":"<p>If you don't use annotation you should change YourClass.hbm.xml file.</p>\n\n<p>Your ID section should be:</p>\n\n<pre><code>&lt;id name=\"id\" type=\"int\" column=\"id\"&gt;\n     &lt;generator class=\"sequence\"&gt;\n         &lt;param name=\"sequence\"&gt;employee_id_seq&lt;/param&gt;\n     &lt;/generator&gt;\n&lt;/id&gt;\n</code></pre>\n\n<p>File sample:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;!DOCTYPE hibernate-mapping PUBLIC \n \"-//Hibernate/Hibernate Mapping DTD//EN\"\n \"http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd\"&gt; \n\n&lt;hibernate-mapping&gt;\n   &lt;class name=\"Employee\" table=\"EMPLOYEE\"&gt;\n      &lt;meta attribute=\"class-description\"&gt;\n         This class contains the employee detail. \n      &lt;/meta&gt;\n      &lt;id name=\"id\" type=\"int\" column=\"id\"&gt;\n         &lt;generator class=\"sequence\"&gt;\n             &lt;param name=\"sequence\"&gt;employee_id_seq&lt;/param&gt;\n         &lt;/generator&gt;\n      &lt;/id&gt;\n      &lt;property name=\"firstName\" column=\"first_name\" type=\"string\"/&gt;\n      &lt;property name=\"lastName\" column=\"last_name\" type=\"string\"/&gt;\n      &lt;property name=\"salary\" column=\"salary\" type=\"int\"/&gt;\n   &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5987826,"reputation":37,"user_id":4704836,"accept_rate":0,"display_name":"Daniel"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1429888777,"creation_date":1429888777,"answer_id":29851328,"question_id":14561385,"body_markdown":"You can do two things.\r\nOne is to just manually create a blank hibernate_sequence table postgresql. \r\nTwo, most likely there is a conflict with the user account permissions not allowing grails to create that table.","title":"Missing sequence or table: hibernate_sequence","body":"<p>You can do two things.\nOne is to just manually create a blank hibernate_sequence table postgresql. \nTwo, most likely there is a conflict with the user account permissions not allowing grails to create that table.</p>\n"},{"tags":[],"owner":{"account_id":4626870,"reputation":967,"user_id":3750441,"display_name":"Chipo Hamayobe"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1455845092,"creation_date":1455845092,"answer_id":35495685,"question_id":14561385,"body_markdown":"For me, what was causing this error was the wrong version of the MySql.Data library.\r\n\r\nI had a version 6.9.6.0 defined in the web.config and yet the actual referenced version was older.\r\n\r\nI just commented out :\r\n\r\n         &lt;system.data&gt;\r\n          &lt;DbProviderFactories&gt;\r\n          &lt;remove invariant=&quot;MySql.Data.MySqlClient&quot; /&gt;\r\n            &lt;add name=&quot;MySQL Data Provider&quot; invariant=&quot;MySql.Data.MySqlClient&quot; description=&quot;.Net Framework Data Provider for MySQL&quot; type=&quot;MySql.Data.MySqlClient.MySqlClientFactory, MySql.Data, Version=6.9.6.0, Culture=neutral, PublicKeyToken=c5687fc88969c44d&quot; /&gt;\r\n         &lt;/DbProviderFactories&gt;\r\n       &lt;/system.data&gt;\r\n","title":"Missing sequence or table: hibernate_sequence","body":"<p>For me, what was causing this error was the wrong version of the MySql.Data library.</p>\n\n<p>I had a version 6.9.6.0 defined in the web.config and yet the actual referenced version was older.</p>\n\n<p>I just commented out :</p>\n\n<pre><code>     &lt;system.data&gt;\n      &lt;DbProviderFactories&gt;\n      &lt;remove invariant=\"MySql.Data.MySqlClient\" /&gt;\n        &lt;add name=\"MySQL Data Provider\" invariant=\"MySql.Data.MySqlClient\" description=\".Net Framework Data Provider for MySQL\" type=\"MySql.Data.MySqlClient.MySqlClientFactory, MySql.Data, Version=6.9.6.0, Culture=neutral, PublicKeyToken=c5687fc88969c44d\" /&gt;\n     &lt;/DbProviderFactories&gt;\n   &lt;/system.data&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7869735,"reputation":1778,"user_id":5947458,"display_name":"Riddhi Gohil"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1468575662,"creation_date":1468575662,"answer_id":38392847,"question_id":14561385,"body_markdown":"&gt; Simple solution :\r\n\r\ncreate  hibernate_sequence table  as :\r\n\r\n    &quot;create sequence &lt;schema&gt;.hibernate_sequence&quot;","title":"Missing sequence or table: hibernate_sequence","body":"<blockquote>\n  <p>Simple solution :</p>\n</blockquote>\n\n<p>create  hibernate_sequence table  as :</p>\n\n<pre><code>\"create sequence &lt;schema&gt;.hibernate_sequence\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1519017,"reputation":833,"user_id":1419261,"display_name":"user1419261"},"down_vote_count":2,"up_vote_count":45,"is_accepted":false,"score":43,"last_activity_date":1531274295,"creation_date":1531274295,"answer_id":51276180,"question_id":14561385,"body_markdown":"   In your domain or Model object annotate the id field as below  and it should  work. For me the GenerationType.AUTO failed\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate int id;","title":"Missing sequence or table: hibernate_sequence","body":"<p>In your domain or Model object annotate the id field as below  and it should  work. For me the GenerationType.AUTO failed</p>\n\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate int id;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":878161,"reputation":133,"user_id":159081,"display_name":"T.Thamilvaanan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676392851,"creation_date":1594090836,"answer_id":62767492,"question_id":14561385,"body_markdown":"If you encounter this with Spring Boot or Spring boot/Hibernate Migration then potentially you can try the following\r\n\r\n[Quote][1]:\r\n\r\n&gt; By default, Hibernate generates key from hibernate_sequence table, we\r\n&gt; can disable it by setting this hibernate.use-new-id-generator-mappings\r\n&gt; to false.\r\n\r\n    application.properties\r\n\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/test\r\n    spring.datasource.username=mkyong\r\n    spring.datasource.password=password\r\n    spring.jpa.hibernate.use-new-id-generator-mappings=false\r\n\r\n\r\n  [1]: https://mkyong.com/spring-boot/spring-boot-mysql-table-db_name-hibernate_sequence-doesnt-exist/","title":"Missing sequence or table: hibernate_sequence","body":"<p>If you encounter this with Spring Boot or Spring boot/Hibernate Migration then potentially you can try the following</p>\n<p><a href=\"https://mkyong.com/spring-boot/spring-boot-mysql-table-db_name-hibernate_sequence-doesnt-exist/\" rel=\"nofollow noreferrer\">Quote</a>:</p>\n<blockquote>\n<p>By default, Hibernate generates key from hibernate_sequence table, we\ncan disable it by setting this hibernate.use-new-id-generator-mappings\nto false.</p>\n</blockquote>\n<pre><code>application.properties\n\n\nspring.datasource.url=jdbc:mysql://localhost:3306/test\nspring.datasource.username=mkyong\nspring.datasource.password=password\nspring.jpa.hibernate.use-new-id-generator-mappings=false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8834636,"reputation":57,"user_id":6599413,"display_name":"Saleh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1601161049,"creation_date":1601161049,"answer_id":64083238,"question_id":14561385,"body_markdown":"Apart from creating the table hibernate_sequence which has a column next_val \r\nyou can also set quarkus.hibernate-orm.database.generation = drop-and-create. Note this will delete all the record in you database.","title":"Missing sequence or table: hibernate_sequence","body":"<p>Apart from creating the table hibernate_sequence which has a column next_val\nyou can also set quarkus.hibernate-orm.database.generation = drop-and-create. Note this will delete all the record in you database.</p>\n"}],"owner":{"account_id":2281958,"reputation":2224,"user_id":2006839,"accept_rate":67,"display_name":"Lakshmi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91415,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"answer_count":8,"score":41,"last_activity_date":1676392851,"creation_date":1359373798,"question_id":14561385,"body_markdown":"I am new to hibernate and postgres. Actually I am trying to map potgres database using Hibernate. This is my table stucture in postgresql\r\n\r\n    CREATE TABLE employee\r\n    (\r\n    id serial NOT NULL,\r\n    firstname character varying(20),\r\n    lastname character varying(20),\r\n    birth_date date,\r\n    cell_phone character varying(15),\r\n    CONSTRAINT employee_pkey PRIMARY KEY (id )\r\n    )\r\n\r\n I am trying to add a record to the database using the following code\r\n   \r\n\r\n     System.out.println(&quot;******* WRITE *******&quot;);\r\n        Employee empl = new Employee(&quot;Jack&quot;, &quot;Bauer&quot;, new Date(System.currentTimeMillis()), &quot;911&quot;);\r\n        empl = save(empl);\r\n\r\n\r\n\r\n     //This is the save function\r\n\r\n        private static Employee save(Employee employee) {\r\n        SessionFactory sf = HibernateUtil.getSessionFactory();\r\n        Session session = sf.openSession();\r\n \r\n        session.beginTransaction();\r\n \r\n        \r\n        int id = (Integer) session.save(employee);\r\n        employee.setId(id);\r\n         \r\n        session.getTransaction().commit();\r\n         \r\n        session.close();\r\n \r\n        return employee;\r\n    }\r\n \r\nWhen I execute the code I am getting the following error\r\n\r\n    org.hibernate.HibernateException: Missing sequence or table: hibernate_sequence\r\n    Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n\tat org.tcs.com.Hibernate.HibernateUtil.buildSessionFactory(HibernateUtil.java:18)\r\n\tat org.tcs.com.Hibernate.HibernateUtil.&lt;clinit&gt;(HibernateUtil.java:8)\r\n\tat org.tcs.com.Hibernate.MainApp.list(MainApp.java:51)\r\n\tat org.tcs.com.Hibernate.MainApp.main(MainApp.java:17)\r\n    Caused by: org.hibernate.HibernateException: Missing sequence or table: hibernate_sequence\r\n\tat org.hibernate.cfg.Configuration.validateSchema(Configuration.java:1282)\r\n\tat org.hibernate.tool.hbm2ddl.SchemaValidator.validate(SchemaValidator.java:155)\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:498)\r\n\tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1740)\r\n\tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1778)\r\n\tat org.tcs.com.Hibernate.HibernateUtil.buildSessionFactory(HibernateUtil.java:15)\r\n\t... 3 more\r\n\r\n I have the sequence called &quot;employee_id_seq&quot; in my database. But I dont know why the database is looking for hibernate_seq. Could someone explain the error and the reason.\r\n\r\nThanks in advance!\r\n\r\n**Added info**\r\n \r\nThis is my employee class\r\n\r\n    import java.sql.Date;\r\n\r\n    public class Employee {\r\n \r\n    private int id;\r\n     \r\n    private String firstname;\r\n     \r\n    private String lastname;\r\n     \r\n    private Date birthDate;\r\n     \r\n    private String cellphone;\r\n \r\n    public Employee() {\r\n         \r\n    }\r\n     \r\n    public Employee(String firstname, String lastname, Date birthdate, String phone) {\r\n        this.firstname = firstname;\r\n        this.lastname = lastname;\r\n        this.birthDate = birthdate;\r\n        this.cellphone = phone;\r\n         \r\n    }\r\n\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getFirstname() {\r\n\t\treturn firstname;\r\n\t}\r\n\r\n\tpublic void setFirstname(String firstname) {\r\n\t\tthis.firstname = firstname;\r\n\t}\r\n\r\n\tpublic String getLastname() {\r\n\t\treturn lastname;\r\n\t}\r\n\r\n\tpublic void setLastname(String lastname) {\r\n\t\tthis.lastname = lastname;\r\n\t}\r\n\r\n\tpublic Date getBirthDate() {\r\n\t\treturn birthDate;\r\n\t}\r\n\r\n\tpublic void setBirthDate(Date birthDate) {\r\n\t\tthis.birthDate = birthDate;\r\n\t}\r\n\r\n\tpublic String getCellphone() {\r\n\t\treturn cellphone;\r\n\t}\r\n\r\n\tpublic void setCellphone(String cellphone) {\r\n\t\tthis.cellphone = cellphone;\r\n\t}\r\n     \r\n    \r\n \r\n    }","title":"Missing sequence or table: hibernate_sequence","body":"<p>I am new to hibernate and postgres. Actually I am trying to map potgres database using Hibernate. This is my table stucture in postgresql</p>\n\n<pre><code>CREATE TABLE employee\n(\nid serial NOT NULL,\nfirstname character varying(20),\nlastname character varying(20),\nbirth_date date,\ncell_phone character varying(15),\nCONSTRAINT employee_pkey PRIMARY KEY (id )\n)\n</code></pre>\n\n<p>I am trying to add a record to the database using the following code</p>\n\n<pre><code> System.out.println(\"******* WRITE *******\");\n    Employee empl = new Employee(\"Jack\", \"Bauer\", new Date(System.currentTimeMillis()), \"911\");\n    empl = save(empl);\n\n\n\n //This is the save function\n\n    private static Employee save(Employee employee) {\n    SessionFactory sf = HibernateUtil.getSessionFactory();\n    Session session = sf.openSession();\n\n    session.beginTransaction();\n\n\n    int id = (Integer) session.save(employee);\n    employee.setId(id);\n\n    session.getTransaction().commit();\n\n    session.close();\n\n    return employee;\n}\n</code></pre>\n\n<p>When I execute the code I am getting the following error</p>\n\n<pre><code>org.hibernate.HibernateException: Missing sequence or table: hibernate_sequence\nException in thread \"main\" java.lang.ExceptionInInitializerError\nat org.tcs.com.Hibernate.HibernateUtil.buildSessionFactory(HibernateUtil.java:18)\nat org.tcs.com.Hibernate.HibernateUtil.&lt;clinit&gt;(HibernateUtil.java:8)\nat org.tcs.com.Hibernate.MainApp.list(MainApp.java:51)\nat org.tcs.com.Hibernate.MainApp.main(MainApp.java:17)\nCaused by: org.hibernate.HibernateException: Missing sequence or table: hibernate_sequence\nat org.hibernate.cfg.Configuration.validateSchema(Configuration.java:1282)\nat org.hibernate.tool.hbm2ddl.SchemaValidator.validate(SchemaValidator.java:155)\nat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:498)\nat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1740)\nat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1778)\nat org.tcs.com.Hibernate.HibernateUtil.buildSessionFactory(HibernateUtil.java:15)\n... 3 more\n</code></pre>\n\n<p>I have the sequence called \"employee_id_seq\" in my database. But I dont know why the database is looking for hibernate_seq. Could someone explain the error and the reason.</p>\n\n<p>Thanks in advance!</p>\n\n<p><strong>Added info</strong></p>\n\n<p>This is my employee class</p>\n\n<pre><code>import java.sql.Date;\n\npublic class Employee {\n\nprivate int id;\n\nprivate String firstname;\n\nprivate String lastname;\n\nprivate Date birthDate;\n\nprivate String cellphone;\n\npublic Employee() {\n\n}\n\npublic Employee(String firstname, String lastname, Date birthdate, String phone) {\n    this.firstname = firstname;\n    this.lastname = lastname;\n    this.birthDate = birthdate;\n    this.cellphone = phone;\n\n}\n\npublic int getId() {\n    return id;\n}\n\npublic void setId(int id) {\n    this.id = id;\n}\n\npublic String getFirstname() {\n    return firstname;\n}\n\npublic void setFirstname(String firstname) {\n    this.firstname = firstname;\n}\n\npublic String getLastname() {\n    return lastname;\n}\n\npublic void setLastname(String lastname) {\n    this.lastname = lastname;\n}\n\npublic Date getBirthDate() {\n    return birthDate;\n}\n\npublic void setBirthDate(Date birthDate) {\n    this.birthDate = birthDate;\n}\n\npublic String getCellphone() {\n    return cellphone;\n}\n\npublic void setCellphone(String cellphone) {\n    this.cellphone = cellphone;\n}\n\n\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","api"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1676379571,"post_id":75448011,"comment_id":133121717,"body_markdown":"Please show your controller method and the full DTO that you&#39;re deserializing into. There are additional annotations required to get Spring to automatically apply the validation annotations.","body":"Please show your controller method and the full DTO that you&#39;re deserializing into. There are additional annotations required to get Spring to automatically apply the validation annotations."},{"owner":{"account_id":27754578,"reputation":25,"user_id":21188343,"display_name":"Jay93"},"score":0,"creation_date":1676379920,"post_id":75448011,"comment_id":133121835,"body_markdown":"I have spring working and it validate all other inputs including String, Integer Etc but its just Float I am not sure the correct validation to use","body":"I have spring working and it validate all other inputs including String, Integer Etc but its just Float I am not sure the correct validation to use"}],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676380297,"creation_date":1676380297,"answer_id":75448348,"question_id":75448011,"body_markdown":"If you&#39;re using the javax.validation `@Max` annotation, the JavaDoc states that float an double types are not supported (due to rounding errors). You could try using `BigDecimal` in your controller (DTO?), then converting as necessary after validation has been run.\r\n\r\nAlternatively, you could write a custom validator that does the work, but keep in mind the warning about potential rounding errors - if it were simple the javax.validation annotations would already do it.","title":"How to add a validation on a float property in a api using JavaX / SpringBoot","body":"<p>If you're using the javax.validation <code>@Max</code> annotation, the JavaDoc states that float an double types are not supported (due to rounding errors). You could try using <code>BigDecimal</code> in your controller (DTO?), then converting as necessary after validation has been run.</p>\n<p>Alternatively, you could write a custom validator that does the work, but keep in mind the warning about potential rounding errors - if it were simple the javax.validation annotations would already do it.</p>\n"}],"owner":{"account_id":27754578,"reputation":25,"user_id":21188343,"display_name":"Jay93"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676392785,"creation_date":1676378618,"question_id":75448011,"body_markdown":"When spending a postman request to my API, I would like an error to be thrown when I enter a value that is outside the max value for a float, 3.4028235e+38f. (I am using Java &amp; Spring Boot) \r\n\r\nI have tried to use a float which was the requirement for the particular field but I haven&#39;t been able to work it out. I have tried using a decimal instead but have still not manage to get the error i expected displayed in postman. \r\n\r\n  \r\n    // @Max(34028235 + 38)\r\n    // MAX_VALUE = 0x1.fffffeP+127f; // 3.4028235e+38f\r\n    //Long maxFloatValue = longValue(3.4028235e+38f);\r\n    //@Range(max= (longValue(3.4028235e+38f)))\r\n    //@Max(maxFloatValue)\r\n    @JsonProperty(&quot;RequestedAm&quot;)\r\n    private Float requestedAm;\r\n\r\n    //@Max (340282300000000000000000000000000000000);\r\n    //@JsonProperty(&quot;RequestedAm&quot;)\r\n    //private BigDecimal requestedAm;`\r\n\r\nI would like an error to be displayed in postman like it does for the Strings when using Min and Max but not sure how this works for a float or as near as?","title":"How to add a validation on a float property in a api using JavaX / SpringBoot","body":"<p>When spending a postman request to my API, I would like an error to be thrown when I enter a value that is outside the max value for a float, 3.4028235e+38f. (I am using Java &amp; Spring Boot)</p>\n<p>I have tried to use a float which was the requirement for the particular field but I haven't been able to work it out. I have tried using a decimal instead but have still not manage to get the error i expected displayed in postman.</p>\n<pre><code>// @Max(34028235 + 38)\n// MAX_VALUE = 0x1.fffffeP+127f; // 3.4028235e+38f\n//Long maxFloatValue = longValue(3.4028235e+38f);\n//@Range(max= (longValue(3.4028235e+38f)))\n//@Max(maxFloatValue)\n@JsonProperty(&quot;RequestedAm&quot;)\nprivate Float requestedAm;\n\n//@Max (340282300000000000000000000000000000000);\n//@JsonProperty(&quot;RequestedAm&quot;)\n//private BigDecimal requestedAm;`\n</code></pre>\n<p>I would like an error to be displayed in postman like it does for the Strings when using Min and Max but not sure how this works for a float or as near as?</p>\n"},{"tags":["java","maven","pom.xml"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1676374756,"post_id":75442007,"comment_id":133120257,"body_markdown":"Did you add `&lt;type&gt;pom&lt;/type&gt;` to the `&lt;dependency&gt;`?","body":"Did you add <code>&lt;type&gt;pom&lt;&#47;type&gt;</code> to the <code>&lt;dependency&gt;</code>?"},{"owner":{"account_id":1428986,"reputation":584,"user_id":1351827,"accept_rate":45,"display_name":"Patrick Aquilone"},"score":0,"creation_date":1676384760,"post_id":75442007,"comment_id":133123378,"body_markdown":"Yes.  Still got the error.","body":"Yes.  Still got the error."}],"answers":[{"tags":[],"owner":{"account_id":1428986,"reputation":584,"user_id":1351827,"accept_rate":45,"display_name":"Patrick Aquilone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676392657,"creation_date":1676392657,"answer_id":75450762,"question_id":75442007,"body_markdown":"So for my situation (and not the best solution), I went into the dependency that has only a pom and pulled the dependencies out of there and built.  It worked.  But feel there should be a way to make it work without having to do this. ","title":"Pom.XML Maven Build Dependency of POM Only Looking for Jar","body":"<p>So for my situation (and not the best solution), I went into the dependency that has only a pom and pulled the dependencies out of there and built.  It worked.  But feel there should be a way to make it work without having to do this.</p>\n"}],"owner":{"account_id":1428986,"reputation":584,"user_id":1351827,"accept_rate":45,"display_name":"Patrick Aquilone"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676392657,"creation_date":1676329605,"question_id":75442007,"body_markdown":"**GIVEN:**\r\nI have an in house tool built with gradle that includes a dependency that is only a POM file which in turn then includes a bunch of other dependencies.  No jar for this particular dependency by itself.  The tool builds.\r\n\r\nI have a maven project with a pom.xml file that I want to include this tool in because of all the company specific methods needed for some processes.  I added the dependency with the type of pom and when I build it fails.\r\n\r\n**ERROR:**\r\n```\r\n[ERROR] Failed to execute goal on project &lt;MYPROJECT&gt;: Could not resolve dependencies for project &lt;MYPROJECT&gt;:jar:0.0.326: &lt;com.pom.only.dependency&gt;:jar:7.0 was not found in &lt;Company Repo where this POM file exists&gt; during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of &lt;company repo&gt; has elapsed or updates are forced\r\n```\r\n\r\n**REQUEST:**\r\nI have tried making the tool a fat jar in the hopes it would not need this.  But it does.  The my project builds without this tool jar so I know it is this jar that brings in the dependency.  I just have no idea how to resolve this.\r\n\r\n**ALMOST CODE EXAMPLE**\r\nBecause of company specific, I can not put the exact POM code but I can put what it looks like removing company specific stuff.\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.group&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tools-app&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.group&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pom only dependency&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nSo tools app is the one that I am pulling it.  It is the gradle build and uses the pom only dependency without any issue.  If I pull this into a gradle app it works fine and builds.  However, in the app that has this in the pom, if fails for above.  So I add the dependency for the pom only dependency and mark it as type pom but still get the error.  ","title":"Pom.XML Maven Build Dependency of POM Only Looking for Jar","body":"<p><strong>GIVEN:</strong>\nI have an in house tool built with gradle that includes a dependency that is only a POM file which in turn then includes a bunch of other dependencies.  No jar for this particular dependency by itself.  The tool builds.</p>\n<p>I have a maven project with a pom.xml file that I want to include this tool in because of all the company specific methods needed for some processes.  I added the dependency with the type of pom and when I build it fails.</p>\n<p><strong>ERROR:</strong></p>\n<pre><code>[ERROR] Failed to execute goal on project &lt;MYPROJECT&gt;: Could not resolve dependencies for project &lt;MYPROJECT&gt;:jar:0.0.326: &lt;com.pom.only.dependency&gt;:jar:7.0 was not found in &lt;Company Repo where this POM file exists&gt; during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of &lt;company repo&gt; has elapsed or updates are forced\n</code></pre>\n<p><strong>REQUEST:</strong>\nI have tried making the tool a fat jar in the hopes it would not need this.  But it does.  The my project builds without this tool jar so I know it is this jar that brings in the dependency.  I just have no idea how to resolve this.</p>\n<p><strong>ALMOST CODE EXAMPLE</strong>\nBecause of company specific, I can not put the exact POM code but I can put what it looks like removing company specific stuff.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.group&lt;/groupId&gt;\n            &lt;artifactId&gt;tools-app&lt;/artifactId&gt;\n            &lt;version&gt;1.0.11&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.group&lt;/groupId&gt;\n            &lt;artifactId&gt;pom only dependency&lt;/artifactId&gt;\n            &lt;version&gt;7.0&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>So tools app is the one that I am pulling it.  It is the gradle build and uses the pom only dependency without any issue.  If I pull this into a gradle app it works fine and builds.  However, in the app that has this in the pom, if fails for above.  So I add the dependency for the pom only dependency and mark it as type pom but still get the error.</p>\n"},{"tags":["java","spring","spring-boot","validation","kotlin"],"comments":[{"owner":{"account_id":5940172,"reputation":3457,"user_id":4671717,"accept_rate":25,"display_name":"Chris Maggiulli"},"score":0,"creation_date":1619121886,"post_id":67220022,"comment_id":118816656,"body_markdown":"Can you also set `server.error.include-message=always` if that works I will write it as an alnswer","body":"Can you also set <code>server.error.include-message=always</code> if that works I will write it as an alnswer"},{"owner":{"account_id":20231162,"reputation":211,"user_id":14837661,"display_name":"Yunz"},"score":0,"creation_date":1619122246,"post_id":67220022,"comment_id":118816806,"body_markdown":"@ChrisMaggiulli I have already set this property but it still does not work","body":"@ChrisMaggiulli I have already set this property but it still does not work"}],"answers":[{"tags":[],"owner":{"account_id":2371603,"reputation":422,"user_id":2076114,"accept_rate":50,"display_name":"sham"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1619152032,"creation_date":1619125185,"answer_id":67220684,"question_id":67220022,"body_markdown":"@Yunz I think the &quot;errors&quot; attribute gets added to your response since you set \r\n`server.error.include-binding-errors=always` can you try setting that to `never` or don&#39;t define this property and rely on default(which is `never`).\r\n\r\nyou need to set the `server.error.include-message=always` since version 2.3, Spring Boot hides the message field in the response to avoid leaking sensitive information; we can use this property with an always value to enable it\r\n\r\nfor details check out the [spring boot documentation][1]:\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#server.error.include-binding-errors","title":"Spring Boot validation message not shown","body":"<p>@Yunz I think the &quot;errors&quot; attribute gets added to your response since you set\n<code>server.error.include-binding-errors=always</code> can you try setting that to <code>never</code> or don't define this property and rely on default(which is <code>never</code>).</p>\n<p>you need to set the <code>server.error.include-message=always</code> since version 2.3, Spring Boot hides the message field in the response to avoid leaking sensitive information; we can use this property with an always value to enable it</p>\n<p>for details check out the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#server.error.include-binding-errors\" rel=\"nofollow noreferrer\">spring boot documentation</a>:</p>\n"},{"tags":[],"owner":{"account_id":20231162,"reputation":211,"user_id":14837661,"display_name":"Yunz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1619193565,"creation_date":1619193565,"answer_id":67233284,"question_id":67220022,"body_markdown":"Ok finally I found a solution. I created a global exception handler that listens to the MethodArgumentNotValidException. After that I manipulate the message and set the validation message that I set before in the annotation\r\n\r\n```Kotlin\r\n@RestControllerAdvice\r\nclass ExceptionControllerAdvice {\r\n\r\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    @ExceptionHandler(MethodArgumentNotValidException::class)\r\n    fun handleValidationExceptions(ex: MethodArgumentNotValidException): Map&lt;String, String?&gt;? {\r\n        val errors: MutableMap&lt;String, String?&gt; = HashMap()\r\n        ex.bindingResult.allErrors.forEach { error: ObjectError -&gt;\r\n            val fieldName = (error as FieldError).field\r\n            val errorMessage = error.getDefaultMessage()\r\n            errors[fieldName] = errorMessage\r\n        }\r\n        return errors\r\n    }\r\n\r\n}\r\n```\r\n\r\nSource: https://www.baeldung.com/spring-boot-bean-validation","title":"Spring Boot validation message not shown","body":"<p>Ok finally I found a solution. I created a global exception handler that listens to the MethodArgumentNotValidException. After that I manipulate the message and set the validation message that I set before in the annotation</p>\n<pre><code>@RestControllerAdvice\nclass ExceptionControllerAdvice {\n\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    @ExceptionHandler(MethodArgumentNotValidException::class)\n    fun handleValidationExceptions(ex: MethodArgumentNotValidException): Map&lt;String, String?&gt;? {\n        val errors: MutableMap&lt;String, String?&gt; = HashMap()\n        ex.bindingResult.allErrors.forEach { error: ObjectError -&gt;\n            val fieldName = (error as FieldError).field\n            val errorMessage = error.getDefaultMessage()\n            errors[fieldName] = errorMessage\n        }\n        return errors\n    }\n\n}\n</code></pre>\n<p>Source: <a href=\"https://www.baeldung.com/spring-boot-bean-validation\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-bean-validation</a></p>\n"},{"tags":[],"owner":{"account_id":26817435,"reputation":1,"user_id":20407231,"display_name":"user20407231"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668256734,"creation_date":1668256734,"answer_id":74412998,"question_id":67220022,"body_markdown":"Please create the following &lt;code&gt;ControllerAdvice&lt;/code&gt; with the corresponding &lt;code&gt;ExceptionHandler&lt;/code&gt;. Should be something like this:\r\n\r\n    @ControllerAdvice\r\n    public class RestResponseEntityExceptionHandler extends ResponseEntityExceptionHandler {\r\n        @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n        @ExceptionHandler(MethodArgumentNotValidException.class)\r\n        public Map&lt;String, String&gt; handleValidationExceptions(MethodArgumentNotValidException ex) {\r\n            Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\r\n            ex.getBindingResult().getAllErrors().forEach((error) -&gt; {\r\n                String fieldName = ((FieldError) error).getField();\r\n                String errorMessage = error.getDefaultMessage();\r\n                errors.put(fieldName, errorMessage);\r\n            });\r\n            return errors;\r\n        }\r\n    }\r\n\r\nIn the recent Spring Boot versions, the sending of error messages was disabled, and now needs to be manually implemented like shown above.\r\n\r\nReference: https://www.baeldung.com/spring-boot-bean-validation#the-exceptionhandler-annotation","title":"Spring Boot validation message not shown","body":"<p>Please create the following <code>ControllerAdvice</code> with the corresponding <code>ExceptionHandler</code>. Should be something like this:</p>\n<pre><code>@ControllerAdvice\npublic class RestResponseEntityExceptionHandler extends ResponseEntityExceptionHandler {\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    @ExceptionHandler(MethodArgumentNotValidException.class)\n    public Map&lt;String, String&gt; handleValidationExceptions(MethodArgumentNotValidException ex) {\n        Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\n        ex.getBindingResult().getAllErrors().forEach((error) -&gt; {\n            String fieldName = ((FieldError) error).getField();\n            String errorMessage = error.getDefaultMessage();\n            errors.put(fieldName, errorMessage);\n        });\n        return errors;\n    }\n}\n</code></pre>\n<p>In the recent Spring Boot versions, the sending of error messages was disabled, and now needs to be manually implemented like shown above.</p>\n<p>Reference: <a href=\"https://www.baeldung.com/spring-boot-bean-validation#the-exceptionhandler-annotation\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-bean-validation#the-exceptionhandler-annotation</a></p>\n"},{"tags":[],"owner":{"account_id":2294145,"reputation":1272,"user_id":2016070,"accept_rate":0,"display_name":"Bilal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676392506,"creation_date":1676392506,"answer_id":75450738,"question_id":67220022,"body_markdown":"Please here you can find an optimised solution :\r\n\r\n    @ControllerAdvice\r\n    public class ControllerAdvisor extends ResponseEntityExceptionHandler {\r\n        @Override\r\n        protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n    \r\n            var errors = new HashMap&lt;&gt;();\r\n            for (var err : ex.getBindingResult().getAllErrors()) \r\n                errors.put(((FieldError) err).getField(), err.getDefaultMessage());\r\n            \r\n    \r\n            return this.handleExceptionInternal(ex, errors, headers, status, request);\r\n        }\r\n    }","title":"Spring Boot validation message not shown","body":"<p>Please here you can find an optimised solution :</p>\n<pre><code>@ControllerAdvice\npublic class ControllerAdvisor extends ResponseEntityExceptionHandler {\n    @Override\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\n\n        var errors = new HashMap&lt;&gt;();\n        for (var err : ex.getBindingResult().getAllErrors()) \n            errors.put(((FieldError) err).getField(), err.getDefaultMessage());\n        \n\n        return this.handleExceptionInternal(ex, errors, headers, status, request);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20231162,"reputation":211,"user_id":14837661,"display_name":"Yunz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9637,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1676392506,"creation_date":1619121770,"question_id":67220022,"body_markdown":"I have a Spring Boot application (with version 2.4.5) as a Kotlin project. Now when I enter something invalid, I get an error message, but not my error message that I set in the annotation.\r\n\r\n\r\nController\r\n```\r\n  @PostMapping(value = [&quot;/seatMap/save&quot;])\r\n    fun addSeatPlan(@RequestPart @Valid data: DSeatMap, @RequestPart image: MultipartFile?, auth: AuthenticationToken) {\r\n        try {\r\n            if (data.uuid == null) {\r\n                seatService.addSeatMap(auth.organisation!!, data, image)\r\n            } else {\r\n                seatService.updateSeatMap(data, auth.organisation!!, image)\r\n            }\r\n        } catch (e: UnauthorizedException) {\r\n            throw e\r\n        }\r\n    }\r\n```\r\nData class\r\n```\r\nimport java.util.*\r\nimport javax.validation.constraints.NotEmpty\r\n\r\ndata class DSeatMap(\r\n    var uuid: UUID?,\r\n    @field:NotEmpty(message = &quot;name is empty&quot;)\r\n    val name: String,\r\n    var data: String,\r\n    val quantity: Int,\r\n    var settings: DSettings?\r\n)\r\n\r\n```\r\nMy Response, here should be message = &quot;name is empty&quot;\r\n```\r\n{\r\n  &quot;timestamp&quot;: &quot;2021-04-22T19:47:08.194+00:00&quot;,\r\n  &quot;status&quot;: 400,\r\n  &quot;error&quot;: &quot;Bad Request&quot;,\r\n  &quot;message&quot;: &quot;Validation failed for object=&#39;data&#39;. Error count: 1&quot;,\r\n}\r\n```\r\nIf I set the property it shows me the correct one but I don&#39;t want to have all the side information I only want to output the message\r\n```\r\nserver.error.include-binding-errors=always\r\n```\r\nResult:\r\n```\r\n{\r\n  &quot;timestamp&quot;: &quot;2021-04-22T19:56:30.058+00:00&quot;,\r\n  &quot;status&quot;: 400,\r\n  &quot;error&quot;: &quot;Bad Request&quot;,\r\n  &quot;message&quot;: &quot;Validation failed for object=&#39;data&#39;. Error count: 1&quot;,\r\n  &quot;errors&quot;: [\r\n    {\r\n      &quot;codes&quot;: [\r\n        &quot;NotEmpty.data.name&quot;,\r\n        &quot;NotEmpty.name&quot;,\r\n        &quot;NotEmpty.java.lang.String&quot;,\r\n        &quot;NotEmpty&quot;\r\n      ],\r\n      &quot;arguments&quot;: [\r\n        {\r\n          &quot;codes&quot;: [\r\n            &quot;data.name&quot;,\r\n            &quot;name&quot;\r\n          ],\r\n          &quot;arguments&quot;: null,\r\n          &quot;defaultMessage&quot;: &quot;name&quot;,\r\n          &quot;code&quot;: &quot;name&quot;\r\n        }\r\n      ],\r\n      &quot;defaultMessage&quot;: &quot;name is empty&quot;,\r\n      &quot;objectName&quot;: &quot;data&quot;,\r\n      &quot;field&quot;: &quot;name&quot;,\r\n      &quot;rejectedValue&quot;: &quot;&quot;,\r\n      &quot;bindingFailure&quot;: false,\r\n      &quot;code&quot;: &quot;NotEmpty&quot;\r\n    }\r\n  ],\r\n  &quot;path&quot;: &quot;/api/dashboard/seatMap/save&quot;\r\n}\r\n```\r\n\r\n","title":"Spring Boot validation message not shown","body":"<p>I have a Spring Boot application (with version 2.4.5) as a Kotlin project. Now when I enter something invalid, I get an error message, but not my error message that I set in the annotation.</p>\n<p>Controller</p>\n<pre><code>  @PostMapping(value = [&quot;/seatMap/save&quot;])\n    fun addSeatPlan(@RequestPart @Valid data: DSeatMap, @RequestPart image: MultipartFile?, auth: AuthenticationToken) {\n        try {\n            if (data.uuid == null) {\n                seatService.addSeatMap(auth.organisation!!, data, image)\n            } else {\n                seatService.updateSeatMap(data, auth.organisation!!, image)\n            }\n        } catch (e: UnauthorizedException) {\n            throw e\n        }\n    }\n</code></pre>\n<p>Data class</p>\n<pre><code>import java.util.*\nimport javax.validation.constraints.NotEmpty\n\ndata class DSeatMap(\n    var uuid: UUID?,\n    @field:NotEmpty(message = &quot;name is empty&quot;)\n    val name: String,\n    var data: String,\n    val quantity: Int,\n    var settings: DSettings?\n)\n\n</code></pre>\n<p>My Response, here should be message = &quot;name is empty&quot;</p>\n<pre><code>{\n  &quot;timestamp&quot;: &quot;2021-04-22T19:47:08.194+00:00&quot;,\n  &quot;status&quot;: 400,\n  &quot;error&quot;: &quot;Bad Request&quot;,\n  &quot;message&quot;: &quot;Validation failed for object='data'. Error count: 1&quot;,\n}\n</code></pre>\n<p>If I set the property it shows me the correct one but I don't want to have all the side information I only want to output the message</p>\n<pre><code>server.error.include-binding-errors=always\n</code></pre>\n<p>Result:</p>\n<pre><code>{\n  &quot;timestamp&quot;: &quot;2021-04-22T19:56:30.058+00:00&quot;,\n  &quot;status&quot;: 400,\n  &quot;error&quot;: &quot;Bad Request&quot;,\n  &quot;message&quot;: &quot;Validation failed for object='data'. Error count: 1&quot;,\n  &quot;errors&quot;: [\n    {\n      &quot;codes&quot;: [\n        &quot;NotEmpty.data.name&quot;,\n        &quot;NotEmpty.name&quot;,\n        &quot;NotEmpty.java.lang.String&quot;,\n        &quot;NotEmpty&quot;\n      ],\n      &quot;arguments&quot;: [\n        {\n          &quot;codes&quot;: [\n            &quot;data.name&quot;,\n            &quot;name&quot;\n          ],\n          &quot;arguments&quot;: null,\n          &quot;defaultMessage&quot;: &quot;name&quot;,\n          &quot;code&quot;: &quot;name&quot;\n        }\n      ],\n      &quot;defaultMessage&quot;: &quot;name is empty&quot;,\n      &quot;objectName&quot;: &quot;data&quot;,\n      &quot;field&quot;: &quot;name&quot;,\n      &quot;rejectedValue&quot;: &quot;&quot;,\n      &quot;bindingFailure&quot;: false,\n      &quot;code&quot;: &quot;NotEmpty&quot;\n    }\n  ],\n  &quot;path&quot;: &quot;/api/dashboard/seatMap/save&quot;\n}\n</code></pre>\n"},{"tags":["java","javafx","richtextfx"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1652796442,"post_id":72204764,"comment_id":127689726,"body_markdown":"I think your event is going to have the information. You can probably get the location that started it, and find that location in your document. Did you try, `var kids = textArea.getChildren();` to get the list of children, then use `int dex = kids.indexOf(text);` and `kids.set(dex, modifiedText);`","body":"I think your event is going to have the information. You can probably get the location that started it, and find that location in your document. Did you try, <code>var kids = textArea.getChildren();</code> to get the list of children, then use <code>int dex = kids.indexOf(text);</code> and <code>kids.set(dex, modifiedText);</code>"},{"owner":{"account_id":12824901,"reputation":1708,"user_id":9278333,"display_name":"trilogy"},"score":0,"creation_date":1652796757,"post_id":72204764,"comment_id":127689869,"body_markdown":"@matt `getChildren()` has protected access , but they do have a `getChildrenUnmodifiable()` but unfortunetly the `indexOf` didn&#39;t work...","body":"@matt <code>getChildren()</code> has protected access , but they do have a <code>getChildrenUnmodifiable()</code> but unfortunetly the <code>indexOf</code> didn&#39;t work..."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1652840353,"post_id":72204764,"comment_id":127701444,"body_markdown":"How does your `module-info.java` file look? I can seem to get the code to run because I am missing something in there.","body":"How does your <code>module-info.java</code> file look? I can seem to get the code to run because I am missing something in there."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1652840755,"post_id":72204764,"comment_id":127701504,"body_markdown":"Okay. After triple checking, I noticed I was missing `requires reactfx;`","body":"Okay. After triple checking, I noticed I was missing <code>requires reactfx;</code>"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1652842598,"post_id":72204764,"comment_id":127701801,"body_markdown":"Here is something that can probably help. It gets you in the right direction for the first word. I can&#39;t see a loop where it handles the other words. Maybe I need fresh eyes. `System.out.println(&quot;begin: &quot; + textArea.getText().indexOf(text.getText()));\n                            textArea.replaceText(textArea.getText().indexOf(text.getText()), text.getText().length(), word);`","body":"Here is something that can probably help. It gets you in the right direction for the first word. I can&#39;t see a loop where it handles the other words. Maybe I need fresh eyes. <code>System.out.println(&quot;begin: &quot; + textArea.getText().indexOf(text.getText()));                             textArea.replaceText(textArea.getText().indexOf(text.getText&zwnj;&#8203;()), text.getText().length(), word);</code>"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1652858575,"post_id":72204764,"comment_id":127705212,"body_markdown":"Are you sure your ` event.getTarget();` is only a Text? Maybe it&#39;s a Span or Styled component. They have a position.","body":"Are you sure your ` event.getTarget();` is only a Text? Maybe it&#39;s a Span or Styled component. They have a position."},{"owner":{"account_id":12824901,"reputation":1708,"user_id":9278333,"display_name":"trilogy"},"score":0,"creation_date":1652874274,"post_id":72204764,"comment_id":127711121,"body_markdown":"@matt it’s a Text for sure, even used an “instanceof”","body":"@matt it’s a Text for sure, even used an “instanceof”"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1652874764,"post_id":72204764,"comment_id":127711287,"body_markdown":"@trilogy Right it is a Text, but it could also be something else. Something that retains the information of where it is at in the document.","body":"@trilogy Right it is a Text, but it could also be something else. Something that retains the information of where it is at in the document."}],"answers":[{"tags":[],"owner":{"account_id":12824901,"reputation":1708,"user_id":9278333,"display_name":"trilogy"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1676392349,"creation_date":1652879089,"answer_id":72289785,"question_id":72204764,"body_markdown":"I found out how. By using the caret position, I can select a word and replace it. The problem is, right clicking didn&#39;t move the caret. So in order to move the caret, you add a listener.\r\n\r\n    textArea.setOnMouseClicked((MouseEvent mouseEvent) -&gt;\r\n    {\r\n        if (mouseEvent.getButton().equals(MouseButton.SECONDARY))\r\n        {\r\n            if (mouseEvent.getClickCount() == 1)\r\n            {\r\n                CharacterHit hit = textArea.hit(mouseEvent.getX(), mouseEvent.getY());\r\n                int characterPosition = hit.getInsertionIndex();\r\n\r\n                // move the caret to that character&#39;s position\r\n                textArea.moveTo(characterPosition, SelectionPolicy.CLEAR);\r\n            }\r\n        }\r\n    });\r\n\r\nEdit 1:\r\n\r\nAdded indexing and concurrency for performance purposes. Context menu is now instantaneous. \r\n\r\nEdit 2:\r\n\r\nFixed macOS issue with context menu\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nFull code:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.text.BreakIterator;\r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    import java.util.concurrent.ConcurrentHashMap;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javafx.animation.PauseTransition;\r\n    \r\n    import org.fxmisc.flowless.VirtualizedScrollPane;\r\n    import org.fxmisc.richtext.StyleClassedTextArea;\r\n    import org.fxmisc.richtext.model.StyleSpans;\r\n    import org.fxmisc.richtext.model.StyleSpansBuilder;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.concurrent.Task;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.ContextMenu;\r\n    import javafx.scene.control.MenuItem;\r\n    import javafx.scene.control.SeparatorMenuItem;\r\n    import javafx.scene.input.Clipboard;\r\n    import javafx.scene.input.ClipboardContent;\r\n    import javafx.scene.input.MouseButton;\r\n    import javafx.scene.input.MouseEvent;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.scene.text.Text;\r\n    import javafx.stage.Stage;\r\n    import javafx.util.Duration;\r\n    import org.apache.commons.lang3.CharUtils;\r\n    import org.apache.commons.lang3.StringUtils;\r\n    import org.apache.commons.lang3.math.NumberUtils;\r\n    import org.apache.commons.text.WordUtils;\r\n    import org.apache.commons.text.similarity.JaroWinklerSimilarity;\r\n    import org.fxmisc.richtext.CharacterHit;\r\n    import org.fxmisc.richtext.NavigationActions.SelectionPolicy;\r\n    \r\n    public class SpellCheckingDemo extends Application\r\n    {\r\n    \r\n        private static final int NUMBER_OF_SUGGESTIONS = 5;\r\n        private static final Set&lt;String&gt; DICTIONARY = ConcurrentHashMap.newKeySet();\r\n        private static final Map&lt;String, List&lt;String&gt;&gt; SUGGESTIONS = new ConcurrentHashMap&lt;&gt;();\r\n    \r\n        public static void main(String[] args)\r\n        {\r\n            launch(args);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage)\r\n        {\r\n            StyleClassedTextArea textArea = new StyleClassedTextArea();\r\n            textArea.setWrapText(true);\r\n            textArea.requestFollowCaret();\r\n            //wait a bit before typing has stopped to compute the highlighting\r\n            PauseTransition textAreaDelay = new PauseTransition(Duration.millis(250));\r\n    \r\n            textArea.textProperty().addListener((observable, oldValue, newValue) -&gt;\r\n            {\r\n                textAreaDelay.setOnFinished(event -&gt;\r\n                {\r\n                    textArea.setStyleSpans(0, computeHighlighting(textArea.getText()));\r\n    \r\n                    //have a new thread index all incorrect words, and pre-populate suggestions\r\n                    Task task = new Task&lt;Void&gt;()\r\n                    {\r\n    \r\n                        @Override\r\n                        public Void call()\r\n                        {\r\n                            //iterating over entire list is ok because after the first time, it will hit the index anyway\r\n                            for (String word : SpellCheckingDemo.SUGGESTIONS.keySet())\r\n                            {\r\n                                SpellCheckingDemo.getClosestWords(word);\r\n                                SpellCheckingDemo.getClosestWords(StringUtils.trim(word));\r\n    \r\n                            }\r\n    \r\n                            return null;\r\n                        }\r\n                    };\r\n                    new Thread(task).start();\r\n                });\r\n                textAreaDelay.playFromStart();\r\n            });\r\n    \r\n            textArea.setOnMouseClicked((MouseEvent mouseEvent) -&gt;\r\n            {\r\n                if (mouseEvent.getButton().equals(MouseButton.SECONDARY))\r\n                {\r\n                    if (mouseEvent.getClickCount() == 1)\r\n                    {\r\n                        CharacterHit hit = textArea.hit(mouseEvent.getX(), mouseEvent.getY());\r\n                        int characterPosition = hit.getInsertionIndex();\r\n    \r\n                        // move the caret to that character&#39;s position\r\n                        if (StringUtils.isEmpty(textArea.getSelectedText()))\r\n                        {\r\n                            textArea.moveTo(characterPosition, SelectionPolicy.CLEAR);\r\n    \r\n                        }\r\n    \r\n                        if (mouseEvent.getTarget() instanceof Text &amp;&amp; StringUtils.isEmpty(textArea.getSelectedText()))\r\n                        {\r\n    \r\n                            textArea.selectWord();\r\n    \r\n                            //When selecting right next to puncuation and spaces, the replacements elimantes these values. This avoids the issue by moving the caret towards the middle\r\n                            if (!StringUtils.isEmpty(textArea.getSelectedText()) &amp;&amp; !CharUtils.isAsciiAlphanumeric(textArea.getSelectedText().charAt(textArea.getSelectedText().length() - 1)))\r\n                            {\r\n                                textArea.moveTo(textArea.getCaretPosition() - 2);\r\n                                textArea.selectWord();\r\n    \r\n                            }\r\n    \r\n                            String referenceWord = textArea.getSelectedText();\r\n    \r\n                            textArea.deselect();\r\n    \r\n                            if (!NumberUtils.isParsable(referenceWord) &amp;&amp; !DICTIONARY.contains(StringUtils.trim(StringUtils.lowerCase(referenceWord))))\r\n                            {\r\n                                ContextMenu context = new ContextMenu();\r\n    \r\n                                for (String word : SpellCheckingDemo.getClosestWords(referenceWord))\r\n                                {\r\n    \r\n                                    MenuItem item = new MenuItem(word);\r\n                                    item.setOnAction((ActionEvent a) -&gt;\r\n                                    {\r\n    \r\n                                        textArea.selectWord();\r\n                                        textArea.replaceSelection(word);\r\n                                        textArea.deselect();\r\n    \r\n                                    });\r\n                                    context.getItems().add(item);\r\n    \r\n                                }\r\n    \r\n                                if (!context.getItems().isEmpty())\r\n                                {\r\n                                    textArea.moveTo(textArea.getCaretPosition() - 1);\r\n    \r\n                                    context.show((Node) mouseEvent.getTarget(), mouseEvent.getScreenX(), mouseEvent.getScreenY());\r\n                                    ((Node) mouseEvent.getTarget()).addEventHandler(MouseEvent.MOUSE_PRESSED, event -&gt; context.hide());\r\n    \r\n                                } else\r\n                                {\r\n                                    ContextMenu copyPasteMenu = getCopyPasteMenu(textArea);\r\n                                    copyPasteMenu.show((Node) mouseEvent.getTarget(), mouseEvent.getScreenX(), mouseEvent.getScreenY());\r\n                                    ((Node) mouseEvent.getTarget()).addEventHandler(MouseEvent.MOUSE_PRESSED, event -&gt; copyPasteMenu.hide());\r\n    \r\n                                }\r\n                            } else\r\n                            {\r\n                                ContextMenu copyPasteMenu = getCopyPasteMenu(textArea);\r\n                                copyPasteMenu.show((Node) mouseEvent.getTarget(), mouseEvent.getScreenX(), mouseEvent.getScreenY());\r\n                                ((Node) mouseEvent.getTarget()).addEventHandler(MouseEvent.MOUSE_PRESSED, event -&gt; copyPasteMenu.hide());\r\n    \r\n                            }\r\n    \r\n                        } else\r\n                        {\r\n                            ContextMenu copyPasteMenu = getCopyPasteMenu(textArea);\r\n                            copyPasteMenu.show((Node) mouseEvent.getTarget(), mouseEvent.getScreenX(), mouseEvent.getScreenY());\r\n                            ((Node) mouseEvent.getTarget()).addEventHandler(MouseEvent.MOUSE_PRESSED, event -&gt; copyPasteMenu.hide());\r\n    \r\n                        }\r\n                    }\r\n                }\r\n            });\r\n    \r\n            // load the dictionary\r\n            try (InputStream input = SpellCheckingDemo.class.getResourceAsStream(&quot;/spellchecking.dict&quot;);\r\n                    BufferedReader br = new BufferedReader(new InputStreamReader(input)))\r\n            {\r\n                String line;\r\n                while ((line = br.readLine()) != null)\r\n                {\r\n                    DICTIONARY.add(line);\r\n                }\r\n            } catch (IOException ex)\r\n            {\r\n                Logger.getLogger(SpellCheckingDemo.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n    \r\n            // load the sample document\r\n            InputStream input2 = SpellCheckingDemo.class.getResourceAsStream(&quot;/spellchecking.txt&quot;);\r\n            try (java.util.Scanner s = new java.util.Scanner(input2))\r\n            {\r\n                String document = s.useDelimiter(&quot;\\\\A&quot;).hasNext() ? s.next() : &quot;&quot;;\r\n                textArea.replaceText(0, 0, document);\r\n            }\r\n    \r\n            Scene scene = new Scene(new StackPane(new VirtualizedScrollPane&lt;&gt;(textArea)), 600, 400);\r\n            scene.getStylesheets().add(SpellCheckingDemo.class.getResource(&quot;/spellchecking.css&quot;).toExternalForm());\r\n            primaryStage.setScene(scene);\r\n            primaryStage.setTitle(&quot;Spell Checking Demo&quot;);\r\n            primaryStage.show();\r\n        }\r\n    \r\n        private static StyleSpans&lt;Collection&lt;String&gt;&gt; computeHighlighting(String text)\r\n        {\r\n    \r\n            StyleSpansBuilder&lt;Collection&lt;String&gt;&gt; spansBuilder = new StyleSpansBuilder&lt;&gt;();\r\n    \r\n            BreakIterator wb = BreakIterator.getWordInstance();\r\n            wb.setText(text);\r\n    \r\n            int lastIndex = wb.first();\r\n            int lastKwEnd = 0;\r\n            while (lastIndex != BreakIterator.DONE)\r\n            {\r\n                int firstIndex = lastIndex;\r\n                lastIndex = wb.next();\r\n    \r\n                if (lastIndex != BreakIterator.DONE &amp;&amp; Character.isLetterOrDigit(text.charAt(firstIndex)))\r\n                {\r\n                    String word = text.substring(firstIndex, lastIndex);\r\n    \r\n                    if (!NumberUtils.isParsable(word) &amp;&amp; !DICTIONARY.contains(StringUtils.lowerCase(word)))\r\n                    {\r\n                        spansBuilder.add(Collections.emptyList(), firstIndex - lastKwEnd);\r\n                        spansBuilder.add(Collections.singleton(&quot;underlined&quot;), lastIndex - firstIndex);\r\n                        lastKwEnd = lastIndex;\r\n                        SpellCheckingDemo.SUGGESTIONS.putIfAbsent(word, Collections.emptyList());\r\n                    }\r\n                    //System.err.println();\r\n                }\r\n            }\r\n            spansBuilder.add(Collections.emptyList(), text.length() - lastKwEnd);\r\n    \r\n            return spansBuilder.create();\r\n        }\r\n    \r\n        public static List&lt;String&gt; getClosestWords(String word)\r\n        {\r\n    \r\n            //check to see if an suggestions for this word have already been indexed\r\n            if (SpellCheckingDemo.SUGGESTIONS.containsKey(word) &amp;&amp; !SpellCheckingDemo.SUGGESTIONS.get(word).isEmpty())\r\n            {\r\n                return SpellCheckingDemo.SUGGESTIONS.get(word);\r\n            }\r\n    \r\n            List&lt;StringDistancePair&gt; allWordDistances = new ArrayList&lt;&gt;(DICTIONARY.size());\r\n    \r\n            String lowerCaseWord = StringUtils.lowerCase(word);\r\n            JaroWinklerSimilarity jaroWinklerAlgorithm = new JaroWinklerSimilarity();\r\n            for (String checkWord : DICTIONARY)\r\n            {\r\n                allWordDistances.add(new StringDistancePair(jaroWinklerAlgorithm.apply(lowerCaseWord, checkWord), checkWord));\r\n    \r\n            }\r\n    \r\n            allWordDistances.sort(Comparator.comparingDouble(StringDistancePair::getDistance));\r\n    \r\n            List&lt;String&gt; closestWords = new ArrayList&lt;&gt;(NUMBER_OF_SUGGESTIONS);\r\n    \r\n            System.out.println(word);\r\n            for (StringDistancePair pair : allWordDistances.subList(allWordDistances.size() - NUMBER_OF_SUGGESTIONS, allWordDistances.size()))\r\n            {\r\n                // 0 is not a match at all, so no point adding to list\r\n                if (pair.getDistance() == 0.0)\r\n                {\r\n                    continue;\r\n                }\r\n                String addWord;\r\n                if (StringUtils.isAllUpperCase(word))\r\n                {\r\n                    addWord = StringUtils.upperCase(pair.getWord());\r\n                } else if (CharUtils.isAsciiAlphaUpper(word.charAt(0)))\r\n                {\r\n                    addWord = WordUtils.capitalize(pair.getWord());\r\n                } else\r\n                {\r\n                    addWord = StringUtils.lowerCase(pair.getWord());\r\n                }\r\n                System.out.println(pair);\r\n                closestWords.add(addWord);\r\n            }\r\n            System.out.println();\r\n            Collections.reverse(closestWords);\r\n    \r\n            //add the suggestion list to index to allow future pulls\r\n            SpellCheckingDemo.SUGGESTIONS.put(word, closestWords);\r\n    \r\n            return closestWords;\r\n    \r\n        }\r\n    \r\n        public static ContextMenu getCopyPasteMenu(StyleClassedTextArea textArea)\r\n        {\r\n            ContextMenu context = new ContextMenu();\r\n            MenuItem cutItem = new MenuItem(&quot;Cut&quot;);\r\n            cutItem.setOnAction((ActionEvent a) -&gt;\r\n            {\r\n    \r\n                Clipboard clipboard = Clipboard.getSystemClipboard();\r\n                ClipboardContent content = new ClipboardContent();\r\n                content.putString(textArea.getSelectedText());\r\n                clipboard.setContent(content);\r\n                textArea.replaceSelection(&quot;&quot;);\r\n    \r\n            });\r\n    \r\n            context.getItems().add(cutItem);\r\n    \r\n            MenuItem copyItem = new MenuItem(&quot;Copy&quot;);\r\n            copyItem.setOnAction((ActionEvent a) -&gt;\r\n            {\r\n    \r\n                Clipboard clipboard = Clipboard.getSystemClipboard();\r\n                ClipboardContent content = new ClipboardContent();\r\n                content.putString(textArea.getSelectedText());\r\n                clipboard.setContent(content);\r\n    \r\n            });\r\n    \r\n            context.getItems().add(copyItem);\r\n    \r\n            MenuItem pasteItem = new MenuItem(&quot;Paste&quot;);\r\n            pasteItem.setOnAction((ActionEvent a) -&gt;\r\n            {\r\n    \r\n                Clipboard clipboard = Clipboard.getSystemClipboard();\r\n                if (!StringUtils.isEmpty(textArea.getSelectedText()))\r\n                {\r\n                    textArea.replaceSelection(clipboard.getString());\r\n                } else\r\n                {\r\n                    textArea.insertText(textArea.getCaretPosition(), clipboard.getString());\r\n                }\r\n            });\r\n            context.getItems().add(pasteItem);\r\n            context.getItems().add(new SeparatorMenuItem());\r\n    \r\n            MenuItem selectAllItem = new MenuItem(&quot;Select All&quot;);\r\n            selectAllItem.setOnAction((ActionEvent a) -&gt;\r\n            {\r\n    \r\n                textArea.selectAll();\r\n            });\r\n            context.getItems().add(selectAllItem);\r\n    \r\n            if (StringUtils.isEmpty(textArea.getSelectedText()))\r\n            {\r\n                cutItem.setDisable(true);\r\n                copyItem.setDisable(true);\r\n            }\r\n    \r\n            return context;\r\n        }\r\n    \r\n        private static class StringDistancePair\r\n        {\r\n    \r\n            private final double x;\r\n            private final String y;\r\n    \r\n            public StringDistancePair(double x, String y)\r\n            {\r\n                this.x = x;\r\n                this.y = y;\r\n            }\r\n    \r\n            public String getWord()\r\n            {\r\n                return y;\r\n            }\r\n    \r\n            public double getDistance()\r\n            {\r\n                return x;\r\n            }\r\n    \r\n            @Override\r\n            public String toString()\r\n            {\r\n                return StringUtils.join(String.valueOf(getDistance()), &quot; : &quot;, String.valueOf(getWord()));\r\n            }\r\n        }\r\n    }\r\n\r\nDownload the full English dictionary here:\r\nhttps://github.com/dwyl/english-words/blob/master/words_alpha.txt\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kJu3E.gif\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"JavaFX Spell checker using RichTextFX how to create right click suggestions","body":"<p>I found out how. By using the caret position, I can select a word and replace it. The problem is, right clicking didn't move the caret. So in order to move the caret, you add a listener.</p>\n<pre><code>textArea.setOnMouseClicked((MouseEvent mouseEvent) -&gt;\n{\n    if (mouseEvent.getButton().equals(MouseButton.SECONDARY))\n    {\n        if (mouseEvent.getClickCount() == 1)\n        {\n            CharacterHit hit = textArea.hit(mouseEvent.getX(), mouseEvent.getY());\n            int characterPosition = hit.getInsertionIndex();\n\n            // move the caret to that character's position\n            textArea.moveTo(characterPosition, SelectionPolicy.CLEAR);\n        }\n    }\n});\n</code></pre>\n<p>Edit 1:</p>\n<p>Added indexing and concurrency for performance purposes. Context menu is now instantaneous.</p>\n<p>Edit 2:</p>\n<p>Fixed macOS issue with context menu</p>\n<p><a href=\"https://i.stack.imgur.com/kJu3E.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kJu3E.gif\" alt=\"enter image description here\" /></a></p>\n<p>Full code:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.text.BreakIterator;\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.concurrent.ConcurrentHashMap;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javafx.animation.PauseTransition;\n\nimport org.fxmisc.flowless.VirtualizedScrollPane;\nimport org.fxmisc.richtext.StyleClassedTextArea;\nimport org.fxmisc.richtext.model.StyleSpans;\nimport org.fxmisc.richtext.model.StyleSpansBuilder;\n\nimport javafx.application.Application;\nimport javafx.concurrent.Task;\nimport javafx.event.ActionEvent;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ContextMenu;\nimport javafx.scene.control.MenuItem;\nimport javafx.scene.control.SeparatorMenuItem;\nimport javafx.scene.input.Clipboard;\nimport javafx.scene.input.ClipboardContent;\nimport javafx.scene.input.MouseButton;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.text.Text;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\nimport org.apache.commons.lang3.CharUtils;\nimport org.apache.commons.lang3.StringUtils;\nimport org.apache.commons.lang3.math.NumberUtils;\nimport org.apache.commons.text.WordUtils;\nimport org.apache.commons.text.similarity.JaroWinklerSimilarity;\nimport org.fxmisc.richtext.CharacterHit;\nimport org.fxmisc.richtext.NavigationActions.SelectionPolicy;\n\npublic class SpellCheckingDemo extends Application\n{\n\n    private static final int NUMBER_OF_SUGGESTIONS = 5;\n    private static final Set&lt;String&gt; DICTIONARY = ConcurrentHashMap.newKeySet();\n    private static final Map&lt;String, List&lt;String&gt;&gt; SUGGESTIONS = new ConcurrentHashMap&lt;&gt;();\n\n    public static void main(String[] args)\n    {\n        launch(args);\n\n    }\n\n    @Override\n    public void start(Stage primaryStage)\n    {\n        StyleClassedTextArea textArea = new StyleClassedTextArea();\n        textArea.setWrapText(true);\n        textArea.requestFollowCaret();\n        //wait a bit before typing has stopped to compute the highlighting\n        PauseTransition textAreaDelay = new PauseTransition(Duration.millis(250));\n\n        textArea.textProperty().addListener((observable, oldValue, newValue) -&gt;\n        {\n            textAreaDelay.setOnFinished(event -&gt;\n            {\n                textArea.setStyleSpans(0, computeHighlighting(textArea.getText()));\n\n                //have a new thread index all incorrect words, and pre-populate suggestions\n                Task task = new Task&lt;Void&gt;()\n                {\n\n                    @Override\n                    public Void call()\n                    {\n                        //iterating over entire list is ok because after the first time, it will hit the index anyway\n                        for (String word : SpellCheckingDemo.SUGGESTIONS.keySet())\n                        {\n                            SpellCheckingDemo.getClosestWords(word);\n                            SpellCheckingDemo.getClosestWords(StringUtils.trim(word));\n\n                        }\n\n                        return null;\n                    }\n                };\n                new Thread(task).start();\n            });\n            textAreaDelay.playFromStart();\n        });\n\n        textArea.setOnMouseClicked((MouseEvent mouseEvent) -&gt;\n        {\n            if (mouseEvent.getButton().equals(MouseButton.SECONDARY))\n            {\n                if (mouseEvent.getClickCount() == 1)\n                {\n                    CharacterHit hit = textArea.hit(mouseEvent.getX(), mouseEvent.getY());\n                    int characterPosition = hit.getInsertionIndex();\n\n                    // move the caret to that character's position\n                    if (StringUtils.isEmpty(textArea.getSelectedText()))\n                    {\n                        textArea.moveTo(characterPosition, SelectionPolicy.CLEAR);\n\n                    }\n\n                    if (mouseEvent.getTarget() instanceof Text &amp;&amp; StringUtils.isEmpty(textArea.getSelectedText()))\n                    {\n\n                        textArea.selectWord();\n\n                        //When selecting right next to puncuation and spaces, the replacements elimantes these values. This avoids the issue by moving the caret towards the middle\n                        if (!StringUtils.isEmpty(textArea.getSelectedText()) &amp;&amp; !CharUtils.isAsciiAlphanumeric(textArea.getSelectedText().charAt(textArea.getSelectedText().length() - 1)))\n                        {\n                            textArea.moveTo(textArea.getCaretPosition() - 2);\n                            textArea.selectWord();\n\n                        }\n\n                        String referenceWord = textArea.getSelectedText();\n\n                        textArea.deselect();\n\n                        if (!NumberUtils.isParsable(referenceWord) &amp;&amp; !DICTIONARY.contains(StringUtils.trim(StringUtils.lowerCase(referenceWord))))\n                        {\n                            ContextMenu context = new ContextMenu();\n\n                            for (String word : SpellCheckingDemo.getClosestWords(referenceWord))\n                            {\n\n                                MenuItem item = new MenuItem(word);\n                                item.setOnAction((ActionEvent a) -&gt;\n                                {\n\n                                    textArea.selectWord();\n                                    textArea.replaceSelection(word);\n                                    textArea.deselect();\n\n                                });\n                                context.getItems().add(item);\n\n                            }\n\n                            if (!context.getItems().isEmpty())\n                            {\n                                textArea.moveTo(textArea.getCaretPosition() - 1);\n\n                                context.show((Node) mouseEvent.getTarget(), mouseEvent.getScreenX(), mouseEvent.getScreenY());\n                                ((Node) mouseEvent.getTarget()).addEventHandler(MouseEvent.MOUSE_PRESSED, event -&gt; context.hide());\n\n                            } else\n                            {\n                                ContextMenu copyPasteMenu = getCopyPasteMenu(textArea);\n                                copyPasteMenu.show((Node) mouseEvent.getTarget(), mouseEvent.getScreenX(), mouseEvent.getScreenY());\n                                ((Node) mouseEvent.getTarget()).addEventHandler(MouseEvent.MOUSE_PRESSED, event -&gt; copyPasteMenu.hide());\n\n                            }\n                        } else\n                        {\n                            ContextMenu copyPasteMenu = getCopyPasteMenu(textArea);\n                            copyPasteMenu.show((Node) mouseEvent.getTarget(), mouseEvent.getScreenX(), mouseEvent.getScreenY());\n                            ((Node) mouseEvent.getTarget()).addEventHandler(MouseEvent.MOUSE_PRESSED, event -&gt; copyPasteMenu.hide());\n\n                        }\n\n                    } else\n                    {\n                        ContextMenu copyPasteMenu = getCopyPasteMenu(textArea);\n                        copyPasteMenu.show((Node) mouseEvent.getTarget(), mouseEvent.getScreenX(), mouseEvent.getScreenY());\n                        ((Node) mouseEvent.getTarget()).addEventHandler(MouseEvent.MOUSE_PRESSED, event -&gt; copyPasteMenu.hide());\n\n                    }\n                }\n            }\n        });\n\n        // load the dictionary\n        try (InputStream input = SpellCheckingDemo.class.getResourceAsStream(&quot;/spellchecking.dict&quot;);\n                BufferedReader br = new BufferedReader(new InputStreamReader(input)))\n        {\n            String line;\n            while ((line = br.readLine()) != null)\n            {\n                DICTIONARY.add(line);\n            }\n        } catch (IOException ex)\n        {\n            Logger.getLogger(SpellCheckingDemo.class.getName()).log(Level.SEVERE, null, ex);\n        }\n\n        // load the sample document\n        InputStream input2 = SpellCheckingDemo.class.getResourceAsStream(&quot;/spellchecking.txt&quot;);\n        try (java.util.Scanner s = new java.util.Scanner(input2))\n        {\n            String document = s.useDelimiter(&quot;\\\\A&quot;).hasNext() ? s.next() : &quot;&quot;;\n            textArea.replaceText(0, 0, document);\n        }\n\n        Scene scene = new Scene(new StackPane(new VirtualizedScrollPane&lt;&gt;(textArea)), 600, 400);\n        scene.getStylesheets().add(SpellCheckingDemo.class.getResource(&quot;/spellchecking.css&quot;).toExternalForm());\n        primaryStage.setScene(scene);\n        primaryStage.setTitle(&quot;Spell Checking Demo&quot;);\n        primaryStage.show();\n    }\n\n    private static StyleSpans&lt;Collection&lt;String&gt;&gt; computeHighlighting(String text)\n    {\n\n        StyleSpansBuilder&lt;Collection&lt;String&gt;&gt; spansBuilder = new StyleSpansBuilder&lt;&gt;();\n\n        BreakIterator wb = BreakIterator.getWordInstance();\n        wb.setText(text);\n\n        int lastIndex = wb.first();\n        int lastKwEnd = 0;\n        while (lastIndex != BreakIterator.DONE)\n        {\n            int firstIndex = lastIndex;\n            lastIndex = wb.next();\n\n            if (lastIndex != BreakIterator.DONE &amp;&amp; Character.isLetterOrDigit(text.charAt(firstIndex)))\n            {\n                String word = text.substring(firstIndex, lastIndex);\n\n                if (!NumberUtils.isParsable(word) &amp;&amp; !DICTIONARY.contains(StringUtils.lowerCase(word)))\n                {\n                    spansBuilder.add(Collections.emptyList(), firstIndex - lastKwEnd);\n                    spansBuilder.add(Collections.singleton(&quot;underlined&quot;), lastIndex - firstIndex);\n                    lastKwEnd = lastIndex;\n                    SpellCheckingDemo.SUGGESTIONS.putIfAbsent(word, Collections.emptyList());\n                }\n                //System.err.println();\n            }\n        }\n        spansBuilder.add(Collections.emptyList(), text.length() - lastKwEnd);\n\n        return spansBuilder.create();\n    }\n\n    public static List&lt;String&gt; getClosestWords(String word)\n    {\n\n        //check to see if an suggestions for this word have already been indexed\n        if (SpellCheckingDemo.SUGGESTIONS.containsKey(word) &amp;&amp; !SpellCheckingDemo.SUGGESTIONS.get(word).isEmpty())\n        {\n            return SpellCheckingDemo.SUGGESTIONS.get(word);\n        }\n\n        List&lt;StringDistancePair&gt; allWordDistances = new ArrayList&lt;&gt;(DICTIONARY.size());\n\n        String lowerCaseWord = StringUtils.lowerCase(word);\n        JaroWinklerSimilarity jaroWinklerAlgorithm = new JaroWinklerSimilarity();\n        for (String checkWord : DICTIONARY)\n        {\n            allWordDistances.add(new StringDistancePair(jaroWinklerAlgorithm.apply(lowerCaseWord, checkWord), checkWord));\n\n        }\n\n        allWordDistances.sort(Comparator.comparingDouble(StringDistancePair::getDistance));\n\n        List&lt;String&gt; closestWords = new ArrayList&lt;&gt;(NUMBER_OF_SUGGESTIONS);\n\n        System.out.println(word);\n        for (StringDistancePair pair : allWordDistances.subList(allWordDistances.size() - NUMBER_OF_SUGGESTIONS, allWordDistances.size()))\n        {\n            // 0 is not a match at all, so no point adding to list\n            if (pair.getDistance() == 0.0)\n            {\n                continue;\n            }\n            String addWord;\n            if (StringUtils.isAllUpperCase(word))\n            {\n                addWord = StringUtils.upperCase(pair.getWord());\n            } else if (CharUtils.isAsciiAlphaUpper(word.charAt(0)))\n            {\n                addWord = WordUtils.capitalize(pair.getWord());\n            } else\n            {\n                addWord = StringUtils.lowerCase(pair.getWord());\n            }\n            System.out.println(pair);\n            closestWords.add(addWord);\n        }\n        System.out.println();\n        Collections.reverse(closestWords);\n\n        //add the suggestion list to index to allow future pulls\n        SpellCheckingDemo.SUGGESTIONS.put(word, closestWords);\n\n        return closestWords;\n\n    }\n\n    public static ContextMenu getCopyPasteMenu(StyleClassedTextArea textArea)\n    {\n        ContextMenu context = new ContextMenu();\n        MenuItem cutItem = new MenuItem(&quot;Cut&quot;);\n        cutItem.setOnAction((ActionEvent a) -&gt;\n        {\n\n            Clipboard clipboard = Clipboard.getSystemClipboard();\n            ClipboardContent content = new ClipboardContent();\n            content.putString(textArea.getSelectedText());\n            clipboard.setContent(content);\n            textArea.replaceSelection(&quot;&quot;);\n\n        });\n\n        context.getItems().add(cutItem);\n\n        MenuItem copyItem = new MenuItem(&quot;Copy&quot;);\n        copyItem.setOnAction((ActionEvent a) -&gt;\n        {\n\n            Clipboard clipboard = Clipboard.getSystemClipboard();\n            ClipboardContent content = new ClipboardContent();\n            content.putString(textArea.getSelectedText());\n            clipboard.setContent(content);\n\n        });\n\n        context.getItems().add(copyItem);\n\n        MenuItem pasteItem = new MenuItem(&quot;Paste&quot;);\n        pasteItem.setOnAction((ActionEvent a) -&gt;\n        {\n\n            Clipboard clipboard = Clipboard.getSystemClipboard();\n            if (!StringUtils.isEmpty(textArea.getSelectedText()))\n            {\n                textArea.replaceSelection(clipboard.getString());\n            } else\n            {\n                textArea.insertText(textArea.getCaretPosition(), clipboard.getString());\n            }\n        });\n        context.getItems().add(pasteItem);\n        context.getItems().add(new SeparatorMenuItem());\n\n        MenuItem selectAllItem = new MenuItem(&quot;Select All&quot;);\n        selectAllItem.setOnAction((ActionEvent a) -&gt;\n        {\n\n            textArea.selectAll();\n        });\n        context.getItems().add(selectAllItem);\n\n        if (StringUtils.isEmpty(textArea.getSelectedText()))\n        {\n            cutItem.setDisable(true);\n            copyItem.setDisable(true);\n        }\n\n        return context;\n    }\n\n    private static class StringDistancePair\n    {\n\n        private final double x;\n        private final String y;\n\n        public StringDistancePair(double x, String y)\n        {\n            this.x = x;\n            this.y = y;\n        }\n\n        public String getWord()\n        {\n            return y;\n        }\n\n        public double getDistance()\n        {\n            return x;\n        }\n\n        @Override\n        public String toString()\n        {\n            return StringUtils.join(String.valueOf(getDistance()), &quot; : &quot;, String.valueOf(getWord()));\n        }\n    }\n}\n</code></pre>\n<p>Download the full English dictionary here:\n<a href=\"https://github.com/dwyl/english-words/blob/master/words_alpha.txt\" rel=\"nofollow noreferrer\">https://github.com/dwyl/english-words/blob/master/words_alpha.txt</a></p>\n"}],"owner":{"account_id":12824901,"reputation":1708,"user_id":9278333,"display_name":"trilogy"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":72289785,"answer_count":1,"score":6,"last_activity_date":1676392349,"creation_date":1652287511,"question_id":72204764,"body_markdown":"I have a spell checker demo here, visually it  is exactly what I want (red underline for words that are not correct), but I&#39;m having trouble creating a right-click context menu to apply suggestions. \r\n\r\nI was able to get a context menu on the `Text` object, but I was not able to find the position of the text in the box to replace using the prediction.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere is the code:\r\n\r\n**pom.xml**\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.fxmisc.richtext&lt;/groupId&gt;\r\n            &lt;artifactId&gt;richtextfx&lt;/artifactId&gt;\r\n            &lt;version&gt;0.10.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n\r\n**SpellCheckDemo.java**\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.text.BreakIterator;\r\n    import java.time.Duration;\r\n    import java.util.Collection;\r\n    import java.util.Collections;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    import org.fxmisc.flowless.VirtualizedScrollPane;\r\n    import org.fxmisc.richtext.StyleClassedTextArea;\r\n    import org.fxmisc.richtext.model.StyleSpans;\r\n    import org.fxmisc.richtext.model.StyleSpansBuilder;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.ContextMenu;\r\n    import javafx.scene.control.MenuItem;\r\n    import javafx.scene.input.ContextMenuEvent;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.scene.text.Text;\r\n    import javafx.stage.Stage;\r\n    import org.apache.commons.text.similarity.JaroWinklerDistance;\r\n    import org.reactfx.Subscription;\r\n    \r\n    public class SpellCheckingDemo extends Application\r\n    {\r\n    \r\n        private static final Set&lt;String&gt; dictionary = new HashSet&lt;String&gt;();\r\n        private final static double JAROWINKLERDISTANCE_THRESHOLD = .80;\r\n    \r\n        public static void main(String[] args)\r\n        {\r\n            launch(args);\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage)\r\n        {\r\n            StyleClassedTextArea textArea = new StyleClassedTextArea();\r\n            textArea.setWrapText(true);\r\n    \r\n            Subscription cleanupWhenFinished = textArea.multiPlainChanges()\r\n                    .successionEnds(Duration.ofMillis(500))\r\n                    .subscribe(change -&gt;\r\n                    {\r\n                        textArea.setStyleSpans(0, computeHighlighting(textArea.getText()));\r\n                    });\r\n            // call when no longer need it: `cleanupWhenFinished.unsubscribe();`\r\n    \r\n            textArea.setOnContextMenuRequested((ContextMenuEvent event) -&gt;\r\n            {\r\n                if (event.getTarget() instanceof Text)\r\n                {\r\n                    Text text = (Text) event.getTarget();\r\n                    ContextMenu context = new ContextMenu();\r\n                    JaroWinklerDistance distance = new JaroWinklerDistance();\r\n                    for (String word : dictionary)\r\n                    {\r\n                        if (distance.apply(text.getText(), word) &gt;= JAROWINKLERDISTANCE_THRESHOLD)\r\n                        {\r\n                            MenuItem item = new MenuItem(word);\r\n                            item.setOnAction(a -&gt;\r\n                            {\r\n                                // how do I find the position of the Text object ?                    \r\n                                textArea.replaceText(25, 25 + text.getText().length(), word);\r\n                            });\r\n                            context.getItems().add(item);\r\n    \r\n                        }\r\n    \r\n                    }\r\n    \r\n                    context.show(primaryStage, event.getScreenX(), event.getScreenY());\r\n    \r\n                }\r\n            });\r\n    \r\n            // load the dictionary\r\n            try (InputStream input = SpellCheckingDemo.class.getResourceAsStream(&quot;/spellchecking.dict&quot;);\r\n                    BufferedReader br = new BufferedReader(new InputStreamReader(input)))\r\n            {\r\n                String line;\r\n                while ((line = br.readLine()) != null)\r\n                {\r\n                    dictionary.add(line);\r\n                }\r\n            } catch (IOException e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            // load the sample document\r\n            InputStream input2 = SpellCheckingDemo.class.getResourceAsStream(&quot;/spellchecking.txt&quot;);\r\n            try (java.util.Scanner s = new java.util.Scanner(input2))\r\n            {\r\n                String document = s.useDelimiter(&quot;\\\\A&quot;).hasNext() ? s.next() : &quot;&quot;;\r\n                textArea.replaceText(0, 0, document);\r\n            }\r\n    \r\n            Scene scene = new Scene(new StackPane(new VirtualizedScrollPane&lt;&gt;(textArea)), 600, 400);\r\n            scene.getStylesheets().add(SpellCheckingDemo.class.getResource(&quot;/spellchecking.css&quot;).toExternalForm());\r\n            primaryStage.setScene(scene);\r\n            primaryStage.setTitle(&quot;Spell Checking Demo&quot;);\r\n            primaryStage.show();\r\n        }\r\n    \r\n        private static StyleSpans&lt;Collection&lt;String&gt;&gt; computeHighlighting(String text)\r\n        {\r\n    \r\n            StyleSpansBuilder&lt;Collection&lt;String&gt;&gt; spansBuilder = new StyleSpansBuilder&lt;&gt;();\r\n    \r\n            BreakIterator wb = BreakIterator.getWordInstance();\r\n            wb.setText(text);\r\n    \r\n            int lastIndex = wb.first();\r\n            int lastKwEnd = 0;\r\n            while (lastIndex != BreakIterator.DONE)\r\n            {\r\n                int firstIndex = lastIndex;\r\n                lastIndex = wb.next();\r\n    \r\n                if (lastIndex != BreakIterator.DONE\r\n                        &amp;&amp; Character.isLetterOrDigit(text.charAt(firstIndex)))\r\n                {\r\n                    String word = text.substring(firstIndex, lastIndex).toLowerCase();\r\n                    if (!dictionary.contains(word))\r\n                    {\r\n                        spansBuilder.add(Collections.emptyList(), firstIndex - lastKwEnd);\r\n                        spansBuilder.add(Collections.singleton(&quot;underlined&quot;), lastIndex - firstIndex);\r\n                        lastKwEnd = lastIndex;\r\n                    }\r\n                    System.err.println();\r\n                }\r\n            }\r\n            spansBuilder.add(Collections.emptyList(), text.length() - lastKwEnd);\r\n    \r\n            return spansBuilder.create();\r\n        }\r\n    }\r\n\r\nThe following files go into the resource folder: \r\n\r\n**spellchecking.css**\r\n\r\n    .underlined {\r\n        -rtfx-background-color: #f0f0f0;\r\n        -rtfx-underline-color: red;\r\n        -rtfx-underline-dash-array: 2 2;\r\n        -rtfx-underline-width: 1;\r\n        -rtfx-underline-cap: butt;\r\n    }\r\n\r\n**spellchecking.dict**\r\n\r\n    a\r\n    applied\r\n    basic\r\n    brown\r\n    but\r\n    could\r\n    document\r\n    dog\r\n    fox\r\n    here\r\n    if\r\n    is\r\n    its\r\n    jumps\r\n    lazy\r\n    no\r\n    over\r\n    quick\r\n    rendering\r\n    sample\r\n    see\r\n    styling\r\n    the\r\n    there\r\n    this\r\n    were\r\n    you\r\n\r\n**spellchecking.txt**\r\n\r\n    The quik brown fox jumps over the lazy dog.\r\n    Ths is a sample dokument.\r\n    There is no styling aplied, but if there were, you could see its basic rndering here.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hJ5T7.gif","title":"JavaFX Spell checker using RichTextFX how to create right click suggestions","body":"<p>I have a spell checker demo here, visually it  is exactly what I want (red underline for words that are not correct), but I'm having trouble creating a right-click context menu to apply suggestions.</p>\n<p>I was able to get a context menu on the <code>Text</code> object, but I was not able to find the position of the text in the box to replace using the prediction.</p>\n<p><a href=\"https://i.stack.imgur.com/hJ5T7.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hJ5T7.gif\" alt=\"enter image description here\" /></a></p>\n<p>Here is the code:</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.fxmisc.richtext&lt;/groupId&gt;\n        &lt;artifactId&gt;richtextfx&lt;/artifactId&gt;\n        &lt;version&gt;0.10.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n        &lt;version&gt;1.9&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><strong>SpellCheckDemo.java</strong></p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.text.BreakIterator;\nimport java.time.Duration;\nimport java.util.Collection;\nimport java.util.Collections;\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport org.fxmisc.flowless.VirtualizedScrollPane;\nimport org.fxmisc.richtext.StyleClassedTextArea;\nimport org.fxmisc.richtext.model.StyleSpans;\nimport org.fxmisc.richtext.model.StyleSpansBuilder;\n\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ContextMenu;\nimport javafx.scene.control.MenuItem;\nimport javafx.scene.input.ContextMenuEvent;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.text.Text;\nimport javafx.stage.Stage;\nimport org.apache.commons.text.similarity.JaroWinklerDistance;\nimport org.reactfx.Subscription;\n\npublic class SpellCheckingDemo extends Application\n{\n\n    private static final Set&lt;String&gt; dictionary = new HashSet&lt;String&gt;();\n    private final static double JAROWINKLERDISTANCE_THRESHOLD = .80;\n\n    public static void main(String[] args)\n    {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage)\n    {\n        StyleClassedTextArea textArea = new StyleClassedTextArea();\n        textArea.setWrapText(true);\n\n        Subscription cleanupWhenFinished = textArea.multiPlainChanges()\n                .successionEnds(Duration.ofMillis(500))\n                .subscribe(change -&gt;\n                {\n                    textArea.setStyleSpans(0, computeHighlighting(textArea.getText()));\n                });\n        // call when no longer need it: `cleanupWhenFinished.unsubscribe();`\n\n        textArea.setOnContextMenuRequested((ContextMenuEvent event) -&gt;\n        {\n            if (event.getTarget() instanceof Text)\n            {\n                Text text = (Text) event.getTarget();\n                ContextMenu context = new ContextMenu();\n                JaroWinklerDistance distance = new JaroWinklerDistance();\n                for (String word : dictionary)\n                {\n                    if (distance.apply(text.getText(), word) &gt;= JAROWINKLERDISTANCE_THRESHOLD)\n                    {\n                        MenuItem item = new MenuItem(word);\n                        item.setOnAction(a -&gt;\n                        {\n                            // how do I find the position of the Text object ?                    \n                            textArea.replaceText(25, 25 + text.getText().length(), word);\n                        });\n                        context.getItems().add(item);\n\n                    }\n\n                }\n\n                context.show(primaryStage, event.getScreenX(), event.getScreenY());\n\n            }\n        });\n\n        // load the dictionary\n        try (InputStream input = SpellCheckingDemo.class.getResourceAsStream(&quot;/spellchecking.dict&quot;);\n                BufferedReader br = new BufferedReader(new InputStreamReader(input)))\n        {\n            String line;\n            while ((line = br.readLine()) != null)\n            {\n                dictionary.add(line);\n            }\n        } catch (IOException e)\n        {\n            e.printStackTrace();\n        }\n\n        // load the sample document\n        InputStream input2 = SpellCheckingDemo.class.getResourceAsStream(&quot;/spellchecking.txt&quot;);\n        try (java.util.Scanner s = new java.util.Scanner(input2))\n        {\n            String document = s.useDelimiter(&quot;\\\\A&quot;).hasNext() ? s.next() : &quot;&quot;;\n            textArea.replaceText(0, 0, document);\n        }\n\n        Scene scene = new Scene(new StackPane(new VirtualizedScrollPane&lt;&gt;(textArea)), 600, 400);\n        scene.getStylesheets().add(SpellCheckingDemo.class.getResource(&quot;/spellchecking.css&quot;).toExternalForm());\n        primaryStage.setScene(scene);\n        primaryStage.setTitle(&quot;Spell Checking Demo&quot;);\n        primaryStage.show();\n    }\n\n    private static StyleSpans&lt;Collection&lt;String&gt;&gt; computeHighlighting(String text)\n    {\n\n        StyleSpansBuilder&lt;Collection&lt;String&gt;&gt; spansBuilder = new StyleSpansBuilder&lt;&gt;();\n\n        BreakIterator wb = BreakIterator.getWordInstance();\n        wb.setText(text);\n\n        int lastIndex = wb.first();\n        int lastKwEnd = 0;\n        while (lastIndex != BreakIterator.DONE)\n        {\n            int firstIndex = lastIndex;\n            lastIndex = wb.next();\n\n            if (lastIndex != BreakIterator.DONE\n                    &amp;&amp; Character.isLetterOrDigit(text.charAt(firstIndex)))\n            {\n                String word = text.substring(firstIndex, lastIndex).toLowerCase();\n                if (!dictionary.contains(word))\n                {\n                    spansBuilder.add(Collections.emptyList(), firstIndex - lastKwEnd);\n                    spansBuilder.add(Collections.singleton(&quot;underlined&quot;), lastIndex - firstIndex);\n                    lastKwEnd = lastIndex;\n                }\n                System.err.println();\n            }\n        }\n        spansBuilder.add(Collections.emptyList(), text.length() - lastKwEnd);\n\n        return spansBuilder.create();\n    }\n}\n</code></pre>\n<p>The following files go into the resource folder:</p>\n<p><strong>spellchecking.css</strong></p>\n<pre><code>.underlined {\n    -rtfx-background-color: #f0f0f0;\n    -rtfx-underline-color: red;\n    -rtfx-underline-dash-array: 2 2;\n    -rtfx-underline-width: 1;\n    -rtfx-underline-cap: butt;\n}\n</code></pre>\n<p><strong>spellchecking.dict</strong></p>\n<pre><code>a\napplied\nbasic\nbrown\nbut\ncould\ndocument\ndog\nfox\nhere\nif\nis\nits\njumps\nlazy\nno\nover\nquick\nrendering\nsample\nsee\nstyling\nthe\nthere\nthis\nwere\nyou\n</code></pre>\n<p><strong>spellchecking.txt</strong></p>\n<pre><code>The quik brown fox jumps over the lazy dog.\nThs is a sample dokument.\nThere is no styling aplied, but if there were, you could see its basic rndering here.\n</code></pre>\n"},{"tags":["java","spring","utf-8","intellij-idea","thymeleaf"],"comments":[{"owner":{"account_id":3963498,"reputation":1926,"user_id":3270066,"display_name":"pagurix"},"score":0,"creation_date":1443542520,"post_id":26432479,"comment_id":53531128,"body_markdown":"works for me. thanks","body":"works for me. thanks"}],"answers":[{"tags":[],"owner":{"account_id":5187150,"reputation":11818,"user_id":4151201,"accept_rate":96,"display_name":"Sikor"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1413581218,"creation_date":1413580406,"answer_id":26433527,"question_id":26432479,"body_markdown":"Okay, I figured it out. Here&#39;s the deal:\r\n\r\nI had the following code:\r\n\r\n    &lt;bean id=&quot;messageSource&quot;\r\n          class=&quot;org.springframework.context.support.ResourceBundleMessageSource&quot;&gt;\r\n        &lt;property name=&quot;basename&quot; value=&quot;messages&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n**Option 1:**\r\nJust add this as another property:\r\n\r\n    &lt;property name=&quot;defaultEncoding&quot; value=&quot;UTF-8&quot;/&gt;\r\n\r\n**Option 2:**\r\nChanged it to:\r\n\r\n    &lt;bean id=&quot;messageSource&quot;\r\n          class=&quot;org.springframework.context.support.ReloadableResourceBundleMessageSource&quot;&gt;\r\n        &lt;property name=&quot;basename&quot; value=&quot;classpath:messages&quot;/&gt;\r\n        &lt;property name=&quot;defaultEncoding&quot; value=&quot;UTF-8&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nIf you change it to reloadable, keep in mind to also change the property value from &quot;messages&quot; to &quot;classpath:messages&quot;. For some reason it couldn&#39;t find the message bundle if I didn&#39;t change it.","title":"Messages from .properties file do not display UTF-8 characters","body":"<p>Okay, I figured it out. Here's the deal:</p>\n\n<p>I had the following code:</p>\n\n<pre><code>&lt;bean id=\"messageSource\"\n      class=\"org.springframework.context.support.ResourceBundleMessageSource\"&gt;\n    &lt;property name=\"basename\" value=\"messages\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p><strong>Option 1:</strong>\nJust add this as another property:</p>\n\n<pre><code>&lt;property name=\"defaultEncoding\" value=\"UTF-8\"/&gt;\n</code></pre>\n\n<p><strong>Option 2:</strong>\nChanged it to:</p>\n\n<pre><code>&lt;bean id=\"messageSource\"\n      class=\"org.springframework.context.support.ReloadableResourceBundleMessageSource\"&gt;\n    &lt;property name=\"basename\" value=\"classpath:messages\"/&gt;\n    &lt;property name=\"defaultEncoding\" value=\"UTF-8\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>If you change it to reloadable, keep in mind to also change the property value from \"messages\" to \"classpath:messages\". For some reason it couldn't find the message bundle if I didn't change it.</p>\n"},{"tags":[],"owner":{"account_id":4716379,"reputation":1255,"user_id":3901138,"accept_rate":41,"display_name":"Park JongBum"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1527470686,"creation_date":1527470686,"answer_id":50558035,"question_id":26432479,"body_markdown":"When you use ResourceBundleMessageSource object, you need to set default encoding as follows: \r\n\r\n    @Bean\r\n    public MessageSource messageSource() { \r\n    \tResourceBundleMessageSource resource = \r\n    \t\t\tnew ResourceBundleMessageSource();\r\n    \tresource.setBasename(&quot;messages&quot;);\r\n    \tresource.setDefaultEncoding(&quot;utf-8&quot;);\r\n    \treturn resource;    \r\n    }\r\n\r\n","title":"Messages from .properties file do not display UTF-8 characters","body":"<p>When you use ResourceBundleMessageSource object, you need to set default encoding as follows: </p>\n\n<pre><code>@Bean\npublic MessageSource messageSource() { \n    ResourceBundleMessageSource resource = \n            new ResourceBundleMessageSource();\n    resource.setBasename(\"messages\");\n    resource.setDefaultEncoding(\"utf-8\");\n    return resource;    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13678477,"reputation":299,"user_id":9869394,"display_name":"Dinushika Rathnayake"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676392188,"creation_date":1676392188,"answer_id":75450689,"question_id":26432479,"body_markdown":"In my case setting default encoding is not enough, have to create properties files in UTF-8 format also.\r\n\r\nFor more details please refer https://stackoverflow.com/questions/28112852/springboot-utf-8-doesnt-work-in-messages-properties","title":"Messages from .properties file do not display UTF-8 characters","body":"<p>In my case setting default encoding is not enough, have to create properties files in UTF-8 format also.</p>\n<p>For more details please refer <a href=\"https://stackoverflow.com/questions/28112852/springboot-utf-8-doesnt-work-in-messages-properties\">SpringBoot - UTF-8 Doesnt work in messages.properties</a></p>\n"}],"owner":{"account_id":5187150,"reputation":11818,"user_id":4151201,"accept_rate":96,"display_name":"Sikor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13028,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":26433527,"answer_count":3,"score":11,"last_activity_date":1676392188,"creation_date":1413575469,"question_id":26432479,"body_markdown":"As the title says, I can only add that if I enter ą ę &#243; manually in html file, it&#39;s fine.\r\n\r\nViewResolver:\r\n\r\n    &lt;bean id=&quot;templateResolver&quot; class=&quot;org.thymeleaf.templateresolver.ServletContextTemplateResolver&quot;&gt;\r\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/templates/&quot; /&gt;\r\n        &lt;property name=&quot;suffix&quot; value=&quot;.html&quot; /&gt;\r\n        &lt;property name=&quot;templateMode&quot; value=&quot;HTML5&quot; /&gt;\r\n        &lt;property name=&quot;cacheable&quot; value=&quot;false&quot;/&gt;\r\n        &lt;property name=&quot;characterEncoding&quot; value=&quot;UTF-8&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;templateEngine&quot; class=&quot;org.thymeleaf.spring3.SpringTemplateEngine&quot;&gt;\r\n        &lt;property name=&quot;templateResolver&quot; ref=&quot;templateResolver&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean class=&quot;org.thymeleaf.spring3.view.ThymeleafViewResolver&quot;&gt;\r\n        &lt;property name=&quot;templateEngine&quot; ref=&quot;templateEngine&quot; /&gt;\r\n        &lt;property name=&quot;characterEncoding&quot; value=&quot;UTF-8&quot;/&gt;\r\n        &lt;property name=&quot;order&quot; value=&quot;1&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\npom.xml:\r\n\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\r\nexample of html input:\r\n\r\n    &lt;h2&gt;&lt;p th:text=&quot;#{homepage.greeting}&quot;&gt;Welcome&lt;/p&gt;&lt;/h2&gt;\r\n\r\ninside the &lt;head&gt; tag of the html file:\r\n\r\n    &lt;meta charset=&quot;UTF-8&quot;/&gt;\r\n\r\nIn IntelliJ Idea I have set project encoding to UTF-8, default encoding for properties files to UTF-8\r\n![enter image description here][1]\r\n\r\nAnd I honestly have no idea where is the problem. When I change locale to pl, this is the output:\r\n![enter image description here][2]\r\n\r\nSorry but I can&#39;t post images yet.\r\nAny help would be greatly appreciated.\r\n\r\nTried this filter in web.xml, still no luck.\r\n\r\n    &lt;filter&gt;\r\n        &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;encoding&lt;/param-name&gt;\r\n            &lt;param-value&gt;UTF-8&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;forceEncoding&lt;/param-name&gt;\r\n            &lt;param-value&gt;true&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n    &lt;/filter&gt;\r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/nKC1B.png\r\n  [2]: http://i.stack.imgur.com/DaqxV.png","title":"Messages from .properties file do not display UTF-8 characters","body":"<p>As the title says, I can only add that if I enter ą ę ó manually in html file, it's fine.</p>\n\n<p>ViewResolver:</p>\n\n<pre><code>&lt;bean id=\"templateResolver\" class=\"org.thymeleaf.templateresolver.ServletContextTemplateResolver\"&gt;\n    &lt;property name=\"prefix\" value=\"/WEB-INF/templates/\" /&gt;\n    &lt;property name=\"suffix\" value=\".html\" /&gt;\n    &lt;property name=\"templateMode\" value=\"HTML5\" /&gt;\n    &lt;property name=\"cacheable\" value=\"false\"/&gt;\n    &lt;property name=\"characterEncoding\" value=\"UTF-8\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"templateEngine\" class=\"org.thymeleaf.spring3.SpringTemplateEngine\"&gt;\n    &lt;property name=\"templateResolver\" ref=\"templateResolver\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean class=\"org.thymeleaf.spring3.view.ThymeleafViewResolver\"&gt;\n    &lt;property name=\"templateEngine\" ref=\"templateEngine\" /&gt;\n    &lt;property name=\"characterEncoding\" value=\"UTF-8\"/&gt;\n    &lt;property name=\"order\" value=\"1\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>pom.xml:</p>\n\n<pre><code>&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n</code></pre>\n\n<p>example of html input:</p>\n\n<pre><code>&lt;h2&gt;&lt;p th:text=\"#{homepage.greeting}\"&gt;Welcome&lt;/p&gt;&lt;/h2&gt;\n</code></pre>\n\n<p>inside the  tag of the html file:</p>\n\n<pre><code>&lt;meta charset=\"UTF-8\"/&gt;\n</code></pre>\n\n<p>In IntelliJ Idea I have set project encoding to UTF-8, default encoding for properties files to UTF-8\n<img src=\"https://i.stack.imgur.com/nKC1B.png\" alt=\"enter image description here\"></p>\n\n<p>And I honestly have no idea where is the problem. When I change locale to pl, this is the output:\n<img src=\"https://i.stack.imgur.com/DaqxV.png\" alt=\"enter image description here\"></p>\n\n<p>Sorry but I can't post images yet.\nAny help would be greatly appreciated.</p>\n\n<p>Tried this filter in web.xml, still no luck.</p>\n\n<pre><code>&lt;filter&gt;\n    &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;encoding&lt;/param-name&gt;\n        &lt;param-value&gt;UTF-8&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;forceEncoding&lt;/param-name&gt;\n        &lt;param-value&gt;true&lt;/param-value&gt;\n    &lt;/init-param&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n"},{"tags":["java","php","hashmap"],"comments":[{"owner":{"account_id":2674049,"reputation":93913,"user_id":2310830,"display_name":"RiggsFolly"},"score":0,"creation_date":1676384288,"post_id":75446679,"comment_id":133123216,"body_markdown":"It is better to tell us the data you have (with examples), then what you want it to become (with examples that match the previosu examples), then what you tried to majke that happen.","body":"It is better to tell us the data you have (with examples), then what you want it to become (with examples that match the previosu examples), then what you tried to majke that happen."},{"owner":{"account_id":2674049,"reputation":93913,"user_id":2310830,"display_name":"RiggsFolly"},"score":0,"creation_date":1676389804,"post_id":75446679,"comment_id":133125144,"body_markdown":"So show us the loop code. Show a `print_r()` of any input arrays. Make the output you require also look like a `print_r()` or similiar. If we can see what you statr with and what you want to finish up with, then we can try and help with the code to get you there","body":"So show us the loop code. Show a <code>print_r()</code> of any input arrays. Make the output you require also look like a <code>print_r()</code> or similiar. If we can see what you statr with and what you want to finish up with, then we can try and help with the code to get you there"},{"owner":{"account_id":13891354,"reputation":1432,"user_id":10029265,"display_name":"habib"},"score":0,"creation_date":1676390416,"post_id":75446679,"comment_id":133125377,"body_markdown":"@RiggsFolly I just did without print_r\ncheck the example test case","body":"@RiggsFolly I just did without print_r check the example test case"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1676390654,"post_id":75446679,"comment_id":133125465,"body_markdown":"[As per the manual](https://www.php.net/manual/en/language.types.array.php): &quot;Arrays and objects _can not_ be used as keys. Doing so will result in a warning: Illegal offset type.&quot; So you&#39;re either stuck with hashing yourself, or (probably nicer?) writing a task-appropriate datastructure instead of using maps.","body":"<a href=\"https://www.php.net/manual/en/language.types.array.php\" rel=\"nofollow noreferrer\">As per the manual</a>: &quot;Arrays and objects <i>can not</i> be used as keys. Doing so will result in a warning: Illegal offset type.&quot; So you&#39;re either stuck with hashing yourself, or (probably nicer?) writing a task-appropriate datastructure instead of using maps."},{"owner":{"account_id":13891354,"reputation":1432,"user_id":10029265,"display_name":"habib"},"score":0,"creation_date":1676392625,"post_id":75446679,"comment_id":133126103,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans my code is working 100% fine but it will eventually slow down on if input is very big","body":"@Mike&#39;Pomax&#39;Kamermans my code is working 100% fine but it will eventually slow down on if input is very big"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1676393553,"post_id":75446679,"comment_id":133126408,"body_markdown":"That is the nature of runtime complexity. If you want to fix _that_, it&#39;s definitely time to write your own tree data structure with an ordered index that lets you efficiently find a keyed value anywhere in the tree.","body":"That is the nature of runtime complexity. If you want to fix <i>that</i>, it&#39;s definitely time to write your own tree data structure with an ordered index that lets you efficiently find a keyed value anywhere in the tree."}],"owner":{"account_id":13891354,"reputation":1432,"user_id":10029265,"display_name":"habib"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676390692,"creation_date":1676371320,"question_id":75446679,"body_markdown":"In Java, we can use HashMap as a key in other HashMap. I&#39;m using an associative array as a map in PHP. Now there is a need to store an associative array as a key in another associative array.\r\nI asked ChatGPT and it presented a lengthy solution:\r\nSuppose $map is an array that I want to use as a key:\r\n\r\n        ksort($map);\r\n        $key = serialize($map);\r\n\r\n        if(!isset($main[$key])){\r\n            $main[$key] = 0;\r\n        }\r\n        $main[$key]++\r\n\r\nI&#39;m running above code in a loop where map is:\r\n\r\non first iteration: [a=&gt;1, b=&gt;2, c=&gt;3]\r\n\r\non second iteration: [b=&gt;2, a=&gt;1, c=&gt;3]\r\n\r\nafter 2 two iterations\r\nmain is looking like\r\n$main[&quot;serialized---key&quot;] -&gt; 2\r\n\r\nYes, I need to use ksort because the next $map could contain the same array but keys could be in a different order.\r\n\r\nThe above solution is working fine but it will slow down drastically on large inputs. I need a better way where I don&#39;t need to use ksort and serialization.\r\n\r\nI also used **spl_object_hash** instead of serialize but it didn&#39;t work. please suggest an optimal approach just like hashmap in java.\r\nAlso, I used **splObjectStorage** class by type-casting the array into an object but it gives incorrect results.\r\n\r\nDetailed problem:\r\n\r\nWhat I&#39;m actually trying to do?\r\nI&#39;m solving the following problem:\r\nGiven an array of strings strs, group the anagrams together. You can return the answer in any order.\r\n\r\nAn Anagram is a word or phrase formed by rearranging the letters of a different word or phrase, typically using all the original letters exactly once.\r\n\r\nExample 1:\r\n\r\nInput: strs = \r\n    \r\n    [&quot;eat&quot;,&quot;tea&quot;,&quot;tan&quot;,&quot;ate&quot;,&quot;nat&quot;,&quot;bat&quot;]\r\n\r\nOutput: \r\n    \r\n    [[&quot;bat&quot;],[&quot;nat&quot;,&quot;tan&quot;],[&quot;ate&quot;,&quot;eat&quot;,&quot;tea&quot;]]\r\n\r\n\r\nMy working code:\r\n\r\nIn short, I&#39;m just grouping the strings based on their frequency map.\r\n\r\n```\r\nfunction groupAnagrams(array $arr){\r\n    $main = [];\r\n    $ret = [];\r\n    for($i=0; $i&lt;count($arr); $i++){\r\n        $el = $arr[$i];\r\n        $map = [];\r\n        for($j=0; $j&lt;strlen($el); $j++){\r\n            if(!isset($map[$el[$j]])){\r\n                $map[$el[$j]]=0;\r\n            }\r\n            $map[$el[$j]]++;\r\n        }\r\n        ksort($map);\r\n        $key = serialize($map);\r\n\r\n        if(!isset($main[$key])){\r\n            $main[$key] = [];\r\n        }\r\n        $main[$key][] = $el;\r\n    }\r\n\r\n\r\n\r\n    //return $main;\r\n    foreach($main as $key=&gt;$val){\r\n        $ret[] = $val;\r\n    }\r\n\r\n    return $ret;\r\n}\r\n```\r\n\r\n\r\nHere is the problem link: https://leetcode.com/problems/group-anagrams/","title":"how to use associateArray as a key in other associativeArray in PHP (just like using HashMap as key in another HashMap in JAVA)","body":"<p>In Java, we can use HashMap as a key in other HashMap. I'm using an associative array as a map in PHP. Now there is a need to store an associative array as a key in another associative array.\nI asked ChatGPT and it presented a lengthy solution:\nSuppose $map is an array that I want to use as a key:</p>\n<pre><code>    ksort($map);\n    $key = serialize($map);\n\n    if(!isset($main[$key])){\n        $main[$key] = 0;\n    }\n    $main[$key]++\n</code></pre>\n<p>I'm running above code in a loop where map is:</p>\n<p>on first iteration: [a=&gt;1, b=&gt;2, c=&gt;3]</p>\n<p>on second iteration: [b=&gt;2, a=&gt;1, c=&gt;3]</p>\n<p>after 2 two iterations\nmain is looking like\n$main[&quot;serialized---key&quot;] -&gt; 2</p>\n<p>Yes, I need to use ksort because the next $map could contain the same array but keys could be in a different order.</p>\n<p>The above solution is working fine but it will slow down drastically on large inputs. I need a better way where I don't need to use ksort and serialization.</p>\n<p>I also used <strong>spl_object_hash</strong> instead of serialize but it didn't work. please suggest an optimal approach just like hashmap in java.\nAlso, I used <strong>splObjectStorage</strong> class by type-casting the array into an object but it gives incorrect results.</p>\n<p>Detailed problem:</p>\n<p>What I'm actually trying to do?\nI'm solving the following problem:\nGiven an array of strings strs, group the anagrams together. You can return the answer in any order.</p>\n<p>An Anagram is a word or phrase formed by rearranging the letters of a different word or phrase, typically using all the original letters exactly once.</p>\n<p>Example 1:</p>\n<p>Input: strs =</p>\n<pre><code>[&quot;eat&quot;,&quot;tea&quot;,&quot;tan&quot;,&quot;ate&quot;,&quot;nat&quot;,&quot;bat&quot;]\n</code></pre>\n<p>Output:</p>\n<pre><code>[[&quot;bat&quot;],[&quot;nat&quot;,&quot;tan&quot;],[&quot;ate&quot;,&quot;eat&quot;,&quot;tea&quot;]]\n</code></pre>\n<p>My working code:</p>\n<p>In short, I'm just grouping the strings based on their frequency map.</p>\n<pre><code>function groupAnagrams(array $arr){\n    $main = [];\n    $ret = [];\n    for($i=0; $i&lt;count($arr); $i++){\n        $el = $arr[$i];\n        $map = [];\n        for($j=0; $j&lt;strlen($el); $j++){\n            if(!isset($map[$el[$j]])){\n                $map[$el[$j]]=0;\n            }\n            $map[$el[$j]]++;\n        }\n        ksort($map);\n        $key = serialize($map);\n\n        if(!isset($main[$key])){\n            $main[$key] = [];\n        }\n        $main[$key][] = $el;\n    }\n\n\n\n    //return $main;\n    foreach($main as $key=&gt;$val){\n        $ret[] = $val;\n    }\n\n    return $ret;\n}\n</code></pre>\n<p>Here is the problem link: <a href=\"https://leetcode.com/problems/group-anagrams/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/group-anagrams/</a></p>\n"},{"tags":["java","security","servlets","servlet-filters","denial-of-service"],"answers":[{"tags":[],"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676390515,"creation_date":1277402969,"answer_id":3112695,"question_id":3112663,"body_markdown":"If you are using Spring then [Acegi security][1] is pretty complete.   \r\n[Here is a series of tutorial articles][2].   \r\nIt looks like you might be able to run this without needing Spring everywhere, [See here][3].\r\n\r\n\r\n  [1]: http://www.acegisecurity.org/guide/springsecurity.html\r\n  [2]: http://www.ibm.com/developerworks/views/java/libraryview.jsp?search_by=securing+acegi\r\n  [3]: http://www.acegisecurity.org/standalone.html\r\n\r\nAcegi has become Spring Security since this was posted. \r\nAlso looks like www.acegisecurity.org has been hacked.","title":"Servlet filters for abuse prevention? (DoS, spam, etc)","body":"<p>If you are using Spring then <a href=\"http://www.acegisecurity.org/guide/springsecurity.html\" rel=\"nofollow noreferrer\">Acegi security</a> is pretty complete.<br />\n<a href=\"http://www.ibm.com/developerworks/views/java/libraryview.jsp?search_by=securing+acegi\" rel=\"nofollow noreferrer\">Here is a series of tutorial articles</a>.<br />\nIt looks like you might be able to run this without needing Spring everywhere, <a href=\"http://www.acegisecurity.org/standalone.html\" rel=\"nofollow noreferrer\">See here</a>.</p>\n<p>Acegi has become Spring Security since this was posted.\nAlso looks like <a href=\"http://www.acegisecurity.org\" rel=\"nofollow noreferrer\">www.acegisecurity.org</a> has been hacked.</p>\n"},{"tags":[],"owner":{"account_id":158173,"reputation":2138,"user_id":376610,"display_name":"A. Ionescu"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1277495789,"creation_date":1277495789,"answer_id":3121040,"question_id":3112663,"body_markdown":"[Apache Shiro][1] is an interesting security solution (it was called jSecurity before joining Apache.org). I find their source code much easier to understand and tweak for my needs, and also to integrate it.\r\n\r\n\r\n  [1]: http://incubator.apache.org/shiro/","title":"Servlet filters for abuse prevention? (DoS, spam, etc)","body":"<p><a href=\"http://incubator.apache.org/shiro/\" rel=\"nofollow noreferrer\">Apache Shiro</a> is an interesting security solution (it was called jSecurity before joining Apache.org). I find their source code much easier to understand and tweak for my needs, and also to integrate it.</p>\n"},{"tags":[],"owner":{"account_id":8068554,"reputation":31,"user_id":6081976,"display_name":"Nikolay Milovanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458297008,"creation_date":1458297008,"answer_id":36082010,"question_id":3112663,"body_markdown":"[iTransformers DDOS servlet][1] filter is a good example for a servlet filter able to apply Remotely Triggered Black holing https://www.rfc-editor.org/rfc/rfc5635 which is the only real/good and scalable way to defend yourself from a DDOS attacks. \r\n\r\n\r\n  [1]: https://github.com/iTransformers/DDOSServletFIlter","title":"Servlet filters for abuse prevention? (DoS, spam, etc)","body":"<p><a href=\"https://github.com/iTransformers/DDOSServletFIlter\" rel=\"nofollow noreferrer\">iTransformers DDOS servlet</a> filter is a good example for a servlet filter able to apply Remotely Triggered Black holing <a href=\"https://www.rfc-editor.org/rfc/rfc5635\" rel=\"nofollow noreferrer\">https://www.rfc-editor.org/rfc/rfc5635</a> which is the only real/good and scalable way to defend yourself from a DDOS attacks.</p>\n"}],"owner":{"account_id":36514,"reputation":3615,"user_id":104181,"accept_rate":65,"display_name":"sehugg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3939,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1676390515,"creation_date":1277402611,"question_id":3112663,"body_markdown":"I&#39;m looking for a servlet filter library that helps me secure our web service against unauthorized usage and DDoS.\r\n\r\nWe have &quot;authorized clients&quot; for our web service, so ideally the filter would help detect clients that aren&#39;t authorized or behave improperly, or detect multiple people using the same account. Also we need a way to prevent DoS&#39;ing of our various services since we have an open-account policy -- limiting the number of simultaneous connections for a user, etc.\r\n\r\nWe&#39;ve looked at the Tomcat LockOutFilter and such but those are fairly primitive and only prevent against one sort of attack.\r\n\r\nOf course there are many application-specific components of the solution, but I was wondering if someone had written up a general solution as a starting point.\r\n","title":"Servlet filters for abuse prevention? (DoS, spam, etc)","body":"<p>I'm looking for a servlet filter library that helps me secure our web service against unauthorized usage and DDoS.</p>\n\n<p>We have \"authorized clients\" for our web service, so ideally the filter would help detect clients that aren't authorized or behave improperly, or detect multiple people using the same account. Also we need a way to prevent DoS'ing of our various services since we have an open-account policy -- limiting the number of simultaneous connections for a user, etc.</p>\n\n<p>We've looked at the Tomcat LockOutFilter and such but those are fairly primitive and only prevent against one sort of attack.</p>\n\n<p>Of course there are many application-specific components of the solution, but I was wondering if someone had written up a general solution as a starting point.</p>\n"},{"tags":["java","maven","quarkus"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1676403170,"post_id":75450110,"comment_id":133129148,"body_markdown":"For what purpose is `settings-custom.xml` needed? Why do you need something like this in a test?","body":"For what purpose is <code>settings-custom.xml</code> needed? Why do you need something like this in a test?"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1676440941,"post_id":75450110,"comment_id":133135138,"body_markdown":"How are you running the tests?","body":"How are you running the tests?"},{"owner":{"account_id":3140002,"reputation":892,"user_id":2655624,"display_name":"johanwannheden"},"score":0,"creation_date":1676491360,"post_id":75450110,"comment_id":133149748,"body_markdown":"The `settings-custom.xml` is not intended for tests. I need a few different Maven settings files on my machine, in one project one settings file, in another project another one.\n\nI&#39;m running the tests directly from Maven, i.e. `mvn verify`, or directly in the IDE.","body":"The <code>settings-custom.xml</code> is not intended for tests. I need a few different Maven settings files on my machine, in one project one settings file, in another project another one.  I&#39;m running the tests directly from Maven, i.e. <code>mvn verify</code>, or directly in the IDE."}],"owner":{"account_id":3140002,"reputation":892,"user_id":2655624,"display_name":"johanwannheden"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676389165,"creation_date":1676389165,"question_id":75450110,"body_markdown":"Running a `QuarkusTest` fails, when Maven settings are set in a user settings file (i.e. `~/.m2/settings-custom.xml` as opposed to a more standard scenario `~/.m2/settings.xml`).\r\n\r\nThis is also the case when a `.mvn/maven.config` file with a reference to the settings file is defined at project level with contents as follows: `-s /Users/johndoe/.m2/settings-custom.xml`.\r\n\r\nAlso, IntelliJ has a setting, which allows setting custom Maven settings files:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/BjuOF.png)](https://i.stack.imgur.com/BjuOF.png)\r\n\r\nThat setting does not seem to work either.\r\n\r\nAny ideas?\r\n\r\nIf I replace `settings.xml` with the contents of `settings-custom.xml`, everything works as expected.","title":"QuarkusTest ignores custom Maven user settings file","body":"<p>Running a <code>QuarkusTest</code> fails, when Maven settings are set in a user settings file (i.e. <code>~/.m2/settings-custom.xml</code> as opposed to a more standard scenario <code>~/.m2/settings.xml</code>).</p>\n<p>This is also the case when a <code>.mvn/maven.config</code> file with a reference to the settings file is defined at project level with contents as follows: <code>-s /Users/johndoe/.m2/settings-custom.xml</code>.</p>\n<p>Also, IntelliJ has a setting, which allows setting custom Maven settings files:</p>\n<p><a href=\"https://i.stack.imgur.com/BjuOF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BjuOF.png\" alt=\"enter image description here\" /></a></p>\n<p>That setting does not seem to work either.</p>\n<p>Any ideas?</p>\n<p>If I replace <code>settings.xml</code> with the contents of <code>settings-custom.xml</code>, everything works as expected.</p>\n"},{"tags":["java","parallel-processing"],"comments":[{"owner":{"account_id":25333394,"reputation":23,"user_id":20415613,"display_name":"feter"},"score":0,"creation_date":1676386556,"post_id":75449506,"comment_id":133123952,"body_markdown":"Update, I see now that sometimes the para_array has two of the same elements after eachothr and the arraysort does not, and othertimes it is the opposite","body":"Update, I see now that sometimes the para_array has two of the same elements after eachothr and the arraysort does not, and othertimes it is the opposite"},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1676386619,"post_id":75449506,"comment_id":133123972,"body_markdown":"Sorting the first `k` elements does not change which elements are in that section of the array.  But if any of the `k` largest elements do not start among the first `k` elements overall, then sorting the whole array (decreasing) *does* change which elements are among the first `k`.  It&#39;s not surprising, then, that you sometimes observe different results from the two approaches you describe.","body":"Sorting the first <code>k</code> elements does not change which elements are in that section of the array.  But if any of the <code>k</code> largest elements do not start among the first <code>k</code> elements overall, then sorting the whole array (decreasing) <i>does</i> change which elements are among the first <code>k</code>.  It&#39;s not surprising, then, that you sometimes observe different results from the two approaches you describe."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1676386719,"post_id":75449506,"comment_id":133124022,"body_markdown":"Or if that&#39;s not what you&#39;re actually doing then please clarify.","body":"Or if that&#39;s not what you&#39;re actually doing then please clarify."},{"owner":{"account_id":25333394,"reputation":23,"user_id":20415613,"display_name":"feter"},"score":0,"creation_date":1676386998,"post_id":75449506,"comment_id":133124133,"body_markdown":"@JohnBollinger im not sure if i understood you, but i do not need to sort the whole array just the first k, which is done by the for loop w/o threads, then when wanting to find if the rest of array has larger number that the ones in the k-first we let the threads just go thorugh their segment and checks and the just insert it to the k-first","body":"@JohnBollinger im not sure if i understood you, but i do not need to sort the whole array just the first k, which is done by the for loop w/o threads, then when wanting to find if the rest of array has larger number that the ones in the k-first we let the threads just go thorugh their segment and checks and the just insert it to the k-first"},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1676387208,"post_id":75449506,"comment_id":133124204,"body_markdown":"My comment is about how you prepare the other array for comparison: &quot;I then sort the other array with `array.sort()` and make it in decreasing order&quot;.  As written, that seems to say that you sort the *whole* other array (more than `k` elements), which is the wrong thing to do for your comparison if the other sort (was supposed to have) sorted only the first `k` elements of its array.","body":"My comment is about how you prepare the other array for comparison: &quot;I then sort the other array with <code>array.sort()</code> and make it in decreasing order&quot;.  As written, that seems to say that you sort the <i>whole</i> other array (more than <code>k</code> elements), which is the wrong thing to do for your comparison if the other sort (was supposed to have) sorted only the first <code>k</code> elements of its array."},{"owner":{"account_id":25333394,"reputation":23,"user_id":20415613,"display_name":"feter"},"score":0,"creation_date":1676387601,"post_id":75449506,"comment_id":133124346,"body_markdown":"@JohnBollinger im sorry for misunderstanding, the way i do the arraysort is i first make every number in the array negativ, after that i use array.sort(arraysort) after that i make every number positive. But if the whole array is sorted, shouldent the k first also be sorted correctly?","body":"@JohnBollinger im sorry for misunderstanding, the way i do the arraysort is i first make every number in the array negativ, after that i use array.sort(arraysort) after that i make every number positive. But if the whole array is sorted, shouldent the k first also be sorted correctly?"},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1676387919,"post_id":75449506,"comment_id":133124442,"body_markdown":"Yes, that would make the first `k` sorted correctly relative to each other, but you&#39;re missing the point.  The first `k` of the result are likely not *the same* first `k`. Consider a trivial example: The initial array is `{ 2, 7, 3 }` and `k` is 1.  If you sort just the first 1 element of that, by any correct algorithm, then the result is `{ 2, 7, 3 }`.  If you sort the the whole array then the result is `{ 7, 3, 2 }`.  The first `k` (1) elements of these two results do not agree.","body":"Yes, that would make the first <code>k</code> sorted correctly relative to each other, but you&#39;re missing the point.  The first <code>k</code> of the result are likely not <i>the same</i> first <code>k</code>. Consider a trivial example: The initial array is <code>{ 2, 7, 3 }</code> and <code>k</code> is 1.  If you sort just the first 1 element of that, by any correct algorithm, then the result is <code>{ 2, 7, 3 }</code>.  If you sort the the whole array then the result is <code>{ 7, 3, 2 }</code>.  The first <code>k</code> (1) elements of these two results do not agree."},{"owner":{"account_id":25333394,"reputation":23,"user_id":20415613,"display_name":"feter"},"score":0,"creation_date":1676388515,"post_id":75449506,"comment_id":133124652,"body_markdown":"&#180;The first k of the result are likely not the same first k&#180; what you mean with this, are you now comparing the para_array with arraysort, if so shouldent be if the numbers and k is the same for both, if you talk about the segment of each thread, the first k are not the same probably, but why is that important, they will go through the whole segment and just compare it to the k of the para_array. i see that i have messed up the array names in the code which would make this confusing, when creating a thread we should pass in para_array","body":"&#180;The first k of the result are likely not the same first k&#180; what you mean with this, are you now comparing the para_array with arraysort, if so shouldent be if the numbers and k is the same for both, if you talk about the segment of each thread, the first k are not the same probably, but why is that important, they will go through the whole segment and just compare it to the k of the para_array. i see that i have messed up the array names in the code which would make this confusing, when creating a thread we should pass in para_array"},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1676388527,"post_id":75449506,"comment_id":133124656,"body_markdown":"But even if you corrected your checking strategy, your parallel sort is not correct. Consider the serial version: each iteration of the outer loop depends on the invariant that the leading `i` elements of the array are already in sorted order relative to each other. That is achieved by the in-order operation of the previous `i-1` outer-loop iterations.  If you just split the outer-loop iterations among multiple threads, you do not ensure the needed order of those outer-loop iterations.  If you add enough synchronization to ensure that, then it makes the sort effectively serial.","body":"But even if you corrected your checking strategy, your parallel sort is not correct. Consider the serial version: each iteration of the outer loop depends on the invariant that the leading <code>i</code> elements of the array are already in sorted order relative to each other. That is achieved by the in-order operation of the previous <code>i-1</code> outer-loop iterations.  If you just split the outer-loop iterations among multiple threads, you do not ensure the needed order of those outer-loop iterations.  If you add enough synchronization to ensure that, then it makes the sort effectively serial."},{"owner":{"account_id":13179806,"reputation":91,"user_id":21197077,"display_name":"gneginskiy"},"score":1,"creation_date":1676388676,"post_id":75449506,"comment_id":133124728,"body_markdown":"i would consider writing parallel mergesort algorithm instead. divide &amp; conquer algorithms are easier to split into more or less independent tasks for threads.","body":"i would consider writing parallel mergesort algorithm instead. divide &amp; conquer algorithms are easier to split into more or less independent tasks for threads."},{"owner":{"account_id":25333394,"reputation":23,"user_id":20415613,"display_name":"feter"},"score":0,"creation_date":1676388887,"post_id":75449506,"comment_id":133124811,"body_markdown":"Thank you both for the suggestions, i am learning about parallel and am just trying my best to try it here, but try the others also","body":"Thank you both for the suggestions, i am learning about parallel and am just trying my best to try it here, but try the others also"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1676388897,"post_id":75449506,"comment_id":133124816,"body_markdown":"Letting each thread synchronize on a different object has no effect at all. This is broken.","body":"Letting each thread synchronize on a different object has no effect at all. This is broken."},{"owner":{"account_id":25333394,"reputation":23,"user_id":20415613,"display_name":"feter"},"score":0,"creation_date":1676389075,"post_id":75449506,"comment_id":133124890,"body_markdown":"@Holger I thought you had to synchronize when trying to change a value everyone has access to?","body":"@Holger I thought you had to synchronize when trying to change a value everyone has access to?"},{"owner":{"account_id":25333394,"reputation":23,"user_id":20415613,"display_name":"feter"},"score":0,"creation_date":1676389357,"post_id":75449506,"comment_id":133124976,"body_markdown":"@Holger could you help me figure out why this wont work.","body":"@Holger could you help me figure out why this wont work."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1676389692,"post_id":75449506,"comment_id":133125098,"body_markdown":"I already told you. Your code is not thread safe. There might be more issues, but this code is too complicated to see everything at a glance, especially as it is incomplete. It’s not a useful approach anyway. Read about Quicksort or MergeSort. These are algorithms you can understand and have a natural way of extending them to parallel processing.","body":"I already told you. Your code is not thread safe. There might be more issues, but this code is too complicated to see everything at a glance, especially as it is incomplete. It’s not a useful approach anyway. Read about Quicksort or MergeSort. These are algorithms you can understand and have a natural way of extending them to parallel processing."}],"owner":{"account_id":25333394,"reputation":23,"user_id":20415613,"display_name":"feter"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676388543,"creation_date":1676386049,"question_id":75449506,"body_markdown":"I am trying to insertion-sort (some modification) an array using threads. My problem is that sometimes after I sort, I get that `para_array`  and `arraysort` are equal, sometimes not. The checking where the numbers are not equal I get something like this:\r\n \r\n     99940 and 99941\r\n     99938 and 99940\r\n     99935 and 99938\r\n     99934 and 99935\r\n     99932 and 99934\r\n\r\nwhere `para_array` has the left values and `arraysort` has the right\r\n\r\n\r\nI fill both the array before sorting with random(7363), one random for each so they have the same values.\r\n\r\nI have to sort the `k` first numbers of the array, so what I do is I serially sort the `k` first like this:\r\n\r\n     //sort the k first wher 0 is largest number and k-1 is lowest\r\n     for (int i = 1; i &lt; k; i++) {\r\n          int check = para_array[i];\r\n          int prev = i - 1;\r\n          while (prev &gt;= 0 &amp;&amp; para_array[prev] &lt; check) {\r\n            para_array[prev + 1] = para_array[prev];\r\n            previous_element--;\r\n          }\r\n          para_array[prev + 1] = check;\r\n        }\r\n\r\nI then start the threads. I have a list of threads to run:\r\n      \r\n      for (Thread t : threads) {\r\n        t.start();\r\n      }\r\n\r\n\r\nMy thread:\r\n\r\n     public SortingThread(int[] arr, int start, int end, int k, Object lock) {\r\n      this.arr = arr;\r\n      this.start = start;\r\n      this.end = end;\r\n      this.k = k;\r\n      this.lock = lock;\r\n    }\r\n    \r\n    @Override\r\n    public void run() {\r\n      for (int i = start; i &lt; end; i++) {\r\n        //whill try to find a larger value in its own segment than k-2 if found sort it\r\n        synchronized (lock) {\r\n          if (arr[i] &gt; arr[k - 1]) {\r\n            int set_correct = arr[i];\r\n            int j = k - 2;\r\n            while (j &gt;= 0 &amp;&amp; arr[j] &lt; set_correct) {\r\n              \r\n              arr[j + 1] = arr[j];\r\n              \r\n              j--;\r\n            }\r\n            \r\n            arr[j + 1] = set_correct;\r\n            }\r\n          }\r\n        \r\n      }\r\n\r\n    }\r\n\r\n\r\nThe threads are created like this:\r\n    \r\n      // Create and start all the threads\r\n      for (int i = 0; i &lt; number_of_cores; i++) {\r\n        int start = i * portionSize;\r\n        int end = Math.min((i + 1) * portionSize, n);\r\n  \r\n        threads.add(new SortingThread(para_array, start, end, k,locks.get(i)));\r\n      }\r\n\r\n\r\nI then sort the other array with `array.sort()` and make it in decreasing order, then I check the *k* first values for both.\r\n","title":"Parallel sort and array sort not giving equal output","body":"<p>I am trying to insertion-sort (some modification) an array using threads. My problem is that sometimes after I sort, I get that <code>para_array</code>  and <code>arraysort</code> are equal, sometimes not. The checking where the numbers are not equal I get something like this:</p>\n<pre><code> 99940 and 99941\n 99938 and 99940\n 99935 and 99938\n 99934 and 99935\n 99932 and 99934\n</code></pre>\n<p>where <code>para_array</code> has the left values and <code>arraysort</code> has the right</p>\n<p>I fill both the array before sorting with random(7363), one random for each so they have the same values.</p>\n<p>I have to sort the <code>k</code> first numbers of the array, so what I do is I serially sort the <code>k</code> first like this:</p>\n<pre><code> //sort the k first wher 0 is largest number and k-1 is lowest\n for (int i = 1; i &lt; k; i++) {\n      int check = para_array[i];\n      int prev = i - 1;\n      while (prev &gt;= 0 &amp;&amp; para_array[prev] &lt; check) {\n        para_array[prev + 1] = para_array[prev];\n        previous_element--;\n      }\n      para_array[prev + 1] = check;\n    }\n</code></pre>\n<p>I then start the threads. I have a list of threads to run:</p>\n<pre><code>  for (Thread t : threads) {\n    t.start();\n  }\n</code></pre>\n<p>My thread:</p>\n<pre><code> public SortingThread(int[] arr, int start, int end, int k, Object lock) {\n  this.arr = arr;\n  this.start = start;\n  this.end = end;\n  this.k = k;\n  this.lock = lock;\n}\n\n@Override\npublic void run() {\n  for (int i = start; i &lt; end; i++) {\n    //whill try to find a larger value in its own segment than k-2 if found sort it\n    synchronized (lock) {\n      if (arr[i] &gt; arr[k - 1]) {\n        int set_correct = arr[i];\n        int j = k - 2;\n        while (j &gt;= 0 &amp;&amp; arr[j] &lt; set_correct) {\n          \n          arr[j + 1] = arr[j];\n          \n          j--;\n        }\n        \n        arr[j + 1] = set_correct;\n        }\n      }\n    \n  }\n\n}\n</code></pre>\n<p>The threads are created like this:</p>\n<pre><code>  // Create and start all the threads\n  for (int i = 0; i &lt; number_of_cores; i++) {\n    int start = i * portionSize;\n    int end = Math.min((i + 1) * portionSize, n);\n\n    threads.add(new SortingThread(para_array, start, end, k,locks.get(i)));\n  }\n</code></pre>\n<p>I then sort the other array with <code>array.sort()</code> and make it in decreasing order, then I check the <em>k</em> first values for both.</p>\n"},{"tags":["java","heap-memory"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1676385951,"post_id":75449391,"comment_id":133123757,"body_markdown":"`the used heap memory drops back to normal but the unused/free heap space remains 1GB.` This sounds normal to me.  In garbage collected systems, the GC doesn&#39;t run until it&#39;s reasonable to do so.  High load may delay the GC and lack of memory pressure might delay it as well.  It&#39;s normal to see the memory usage go way up, then drop back down when the system gets around to GC.  As long as you&#39;re not throwing errors you&#39;re probably ok.","body":"<code>the used heap memory drops back to normal but the unused&#47;free heap space remains 1GB.</code> This sounds normal to me.  In garbage collected systems, the GC doesn&#39;t run until it&#39;s reasonable to do so.  High load may delay the GC and lack of memory pressure might delay it as well.  It&#39;s normal to see the memory usage go way up, then drop back down when the system gets around to GC.  As long as you&#39;re not throwing errors you&#39;re probably ok."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1676386135,"post_id":75449391,"comment_id":133123822,"body_markdown":"Which jvm are you using? [this](https://thomas.preissler.me/blog/2021/05/02/release-memory-back-to-the-os-with-java-11) suggests some options, but I&#39;m not sure if they&#39;re relevant for later JVMs","body":"Which jvm are you using? <a href=\"https://thomas.preissler.me/blog/2021/05/02/release-memory-back-to-the-os-with-java-11\" rel=\"nofollow noreferrer\">this</a> suggests some options, but I&#39;m not sure if they&#39;re relevant for later JVMs"},{"owner":{"account_id":4735383,"reputation":1567,"user_id":3829912,"accept_rate":18,"display_name":"Harpreet"},"score":0,"creation_date":1676388227,"post_id":75449391,"comment_id":133124549,"body_markdown":"I am using open jdk 11","body":"I am using open jdk 11"}],"answers":[{"tags":[],"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676388520,"creation_date":1676388231,"answer_id":75449954,"question_id":75449391,"body_markdown":"The used heap will not return if the `-Xms` is high. `-Xms` essentially overrides the FreeRation. Now there are other factors to consider, in the case of parallel GC you can&#39;t shrink the heap as parallel GC doesn&#39;t allow that.\r\n\r\nAlso, JVM can only relinquish the memory after the fullGC if parallelGC is not used.\r\n\r\nSo essentially, not much can be done here. The JVM doesn&#39;t relinquish the memory to OS to avoid recreating the memory. Memory allocation is expensive work, so JVM will hold on to that memory for some time and as the memory management is controlled by Java, it is not always possible to force things here. \r\n\r\nOne downside of reducing heap size would be, it will take time for Java to recreate the memory space over and over with incoming requests. So the clients will always see some higher latency. However, if the memory space is already created, the next stream of clients will see lower latency so essentially your amortized performance will increase. ","title":"Java not releasing unused heap memory","body":"<p>The used heap will not return if the <code>-Xms</code> is high. <code>-Xms</code> essentially overrides the FreeRation. Now there are other factors to consider, in the case of parallel GC you can't shrink the heap as parallel GC doesn't allow that.</p>\n<p>Also, JVM can only relinquish the memory after the fullGC if parallelGC is not used.</p>\n<p>So essentially, not much can be done here. The JVM doesn't relinquish the memory to OS to avoid recreating the memory. Memory allocation is expensive work, so JVM will hold on to that memory for some time and as the memory management is controlled by Java, it is not always possible to force things here.</p>\n<p>One downside of reducing heap size would be, it will take time for Java to recreate the memory space over and over with incoming requests. So the clients will always see some higher latency. However, if the memory space is already created, the next stream of clients will see lower latency so essentially your amortized performance will increase.</p>\n"}],"owner":{"account_id":4735383,"reputation":1567,"user_id":3829912,"accept_rate":18,"display_name":"Harpreet"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676388520,"creation_date":1676385552,"question_id":75449391,"body_markdown":"I am facing an issue where my Java application heap increases with an increased no. of requests to the application but then it does not release even the unused heap memory.\r\n\r\nHere is the description:\r\n- My java application starts with a heap memory of 200MB out of which around 100MB is in use.\r\n- As the no. of requests increases, the heap memory usage goes up to 1GB.\r\n- Once the requests processing is finished, the used heap memory drops back to normal but the unused/free heap space remains 1GB.\r\n\r\nI have tried to use *-XX:-ShrinkHeapInSteps, -XX:MinHeapFreeRatio* and *-XX:MaxHeapFreeRatio* JVM arguments but was not able to solve this.\r\n\r\n**Note:** If I try to run the Garbage Collector manually then it lowers the unused heap memory also.\r\n\r\nPlease suggest how we can lower the unused heap memory.","title":"Java not releasing unused heap memory","body":"<p>I am facing an issue where my Java application heap increases with an increased no. of requests to the application but then it does not release even the unused heap memory.</p>\n<p>Here is the description:</p>\n<ul>\n<li>My java application starts with a heap memory of 200MB out of which around 100MB is in use.</li>\n<li>As the no. of requests increases, the heap memory usage goes up to 1GB.</li>\n<li>Once the requests processing is finished, the used heap memory drops back to normal but the unused/free heap space remains 1GB.</li>\n</ul>\n<p>I have tried to use <em>-XX:-ShrinkHeapInSteps, -XX:MinHeapFreeRatio</em> and <em>-XX:MaxHeapFreeRatio</em> JVM arguments but was not able to solve this.</p>\n<p><strong>Note:</strong> If I try to run the Garbage Collector manually then it lowers the unused heap memory also.</p>\n<p>Please suggest how we can lower the unused heap memory.</p>\n"},{"tags":["java","spring","mongodb","jpa","spring-webflux"],"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1676388857,"post_id":75449974,"comment_id":133124790,"body_markdown":"you forgot to subscribe()","body":"you forgot to subscribe()"},{"owner":{"account_id":267723,"reputation":351,"user_id":556070,"accept_rate":100,"display_name":"Nix"},"score":0,"creation_date":1676391503,"post_id":75449974,"comment_id":133125741,"body_markdown":"If I .suscribe() after the map I get a reactor.core.Exceptions$ErrorCallbackNotImplemented: io.mongock.driver.api.lock.LockCheckException","body":"If I .suscribe() after the map I get a reactor.core.Exceptions$ErrorCallbackNotImplemented: io.mongock.driver.api.lock.LockCheckException"},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1676391634,"post_id":75449974,"comment_id":133125784,"body_markdown":"check this https://docs.mongock.io/v5/driver/mongodb-reactive/index.html","body":"check this <a href=\"https://docs.mongock.io/v5/driver/mongodb-reactive/index.html\" rel=\"nofollow noreferrer\">docs.mongock.io/v5/driver/mongodb-reactive/index.html</a>"}],"owner":{"account_id":267723,"reputation":351,"user_id":556070,"accept_rate":100,"display_name":"Nix"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676388353,"creation_date":1676388353,"question_id":75449974,"body_markdown":"In a mongok script I want to update the value of an attribute and save the change, in the project I currently only have a ReactiveMongoRepository\r\n\r\nI&#39;m sure that I&#39;m missing something stupid but I can&#39;t figure it out\r\n\r\nHere are my simplified classes\r\n\r\nRepository : \r\n\r\n    @Repository\r\n    public interface CalendarMongoRepository extends ReactiveMongoRepository&lt;CalendarMongo, CalendarMongoId&gt; {\r\n        //Some methods not used here\r\n    }\r\n\r\nPOJO : \r\n\r\n    @Document(&quot;calendars&quot;)\r\n    public class CalendarMongo {\r\n    \r\n        @Id\r\n        private CalendarMongoId id;\r\n    \r\n        private String calendar;\r\n\r\n        public String getCalendar() {\r\n            return calendar;\r\n        }\r\n    \r\n        public CalendarMongo setCalendar(String calendar) {\r\n            this.calendar = calendar;\r\n            return this;\r\n        }\r\n    \r\n        //Other getters setters and other attributes\r\n    \r\n    }\r\n\r\nPOJO ID : \r\n\r\n    public class CalendarMongoId {\r\n    \r\n        @Indexed(name = &quot;branchCode_index&quot;)\r\n        private BranchEnum branchCode;\r\n    \r\n        //Getters setters and other attributes\r\n    }\r\n\r\nMongok Script :\r\n\r\n    @Slf4j\r\n    @ChangeUnit(id = &quot;SetupAttribute&quot;, order = &quot;7&quot;, author = &quot;mongock&quot;)\r\n    public class DatabaseChangeV007SetupAttribute {\r\n    \r\n        private final CalendarMongoRepository calendarMongoRepository;\r\n    \r\n        public DatabaseChangeV007SetupFieldType(CalendarMongoRepository calendarMongoRepository) {\r\n            this.calendarMongoRepository = calendarMongoRepository;\r\n        }\r\n    \r\n        @Execution\r\n        public void migrationMethod() {\r\n            calendarMongoRepository.findAll()\r\n                               .map(calendarMongo -&gt; calendarMongo.setCalendar(&quot;AA&quot;))\r\n                               .map(calendarMongoRepository::save);\r\n    \r\n        }\r\n    \r\n        @RollbackExecution\r\n        public void rollback() {\r\n            log.error(&quot;Rollback invoked&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nWhen I launch my project this script just does nothing, I do not see the change in my database. I&#39;m sure the problem is not the structure of the script because of other tests.\r\n\r\nI tried to use doOnNext but it&#39;s not the way to do.\r\n\r\nI tried to use flatMap but I didn&#39;t manage to make it work either.\r\n\r\nDo you have an idea ? \r\nThank you in advance !","title":"Changing the value of an attribute and saving it using ReactiveMongoRepository","body":"<p>In a mongok script I want to update the value of an attribute and save the change, in the project I currently only have a ReactiveMongoRepository</p>\n<p>I'm sure that I'm missing something stupid but I can't figure it out</p>\n<p>Here are my simplified classes</p>\n<p>Repository :</p>\n<pre><code>@Repository\npublic interface CalendarMongoRepository extends ReactiveMongoRepository&lt;CalendarMongo, CalendarMongoId&gt; {\n    //Some methods not used here\n}\n</code></pre>\n<p>POJO :</p>\n<pre><code>@Document(&quot;calendars&quot;)\npublic class CalendarMongo {\n\n    @Id\n    private CalendarMongoId id;\n\n    private String calendar;\n\n    public String getCalendar() {\n        return calendar;\n    }\n\n    public CalendarMongo setCalendar(String calendar) {\n        this.calendar = calendar;\n        return this;\n    }\n\n    //Other getters setters and other attributes\n\n}\n</code></pre>\n<p>POJO ID :</p>\n<pre><code>public class CalendarMongoId {\n\n    @Indexed(name = &quot;branchCode_index&quot;)\n    private BranchEnum branchCode;\n\n    //Getters setters and other attributes\n}\n</code></pre>\n<p>Mongok Script :</p>\n<pre><code>@Slf4j\n@ChangeUnit(id = &quot;SetupAttribute&quot;, order = &quot;7&quot;, author = &quot;mongock&quot;)\npublic class DatabaseChangeV007SetupAttribute {\n\n    private final CalendarMongoRepository calendarMongoRepository;\n\n    public DatabaseChangeV007SetupFieldType(CalendarMongoRepository calendarMongoRepository) {\n        this.calendarMongoRepository = calendarMongoRepository;\n    }\n\n    @Execution\n    public void migrationMethod() {\n        calendarMongoRepository.findAll()\n                           .map(calendarMongo -&gt; calendarMongo.setCalendar(&quot;AA&quot;))\n                           .map(calendarMongoRepository::save);\n\n    }\n\n    @RollbackExecution\n    public void rollback() {\n        log.error(&quot;Rollback invoked&quot;);\n    }\n\n}\n</code></pre>\n<p>When I launch my project this script just does nothing, I do not see the change in my database. I'm sure the problem is not the structure of the script because of other tests.</p>\n<p>I tried to use doOnNext but it's not the way to do.</p>\n<p>I tried to use flatMap but I didn't manage to make it work either.</p>\n<p>Do you have an idea ?\nThank you in advance !</p>\n"},{"tags":["java","sorting","arraylist","return","nested-for-loop"],"answers":[{"tags":[],"owner":{"account_id":11988367,"reputation":540,"user_id":8772274,"display_name":"Nahuel Giani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676383914,"creation_date":1676383914,"answer_id":75449056,"question_id":75448823,"body_markdown":"You are not telling to Java newList array&#39;s size, in that case you cannot use *.add* with index.\r\n\r\nYou have 3 options:\r\n\r\n1) Change newList to a array of String&#39;s\r\n\r\n&gt; \t    String[] newList = new String[x-size];\r\n\r\n\r\n2) Use the .sort method of ArrayList.\r\n\r\n\r\n&gt; \t    wordList.sort((o1, o2) -&gt; o1.compareTo(o2));\r\n\r\n\r\n3) Move the arrayList values to a treeSet (which use Comparable and is sorted)\r\n\r\n&gt; \t    Set&lt;String&gt; sortedSet = new TreeSet&lt;&gt;();\r\n&gt; \t    \r\n&gt; \t    for (String word : wordList) {\t\t\t\r\n&gt; \t         sortedSet.add(word);\r\n&gt; \t    }","title":"Error with the return of a sorting words alphabetically method. Probably a logical error?","body":"<p>You are not telling to Java newList array's size, in that case you cannot use <em>.add</em> with index.</p>\n<p>You have 3 options:</p>\n<ol>\n<li>Change newList to a array of String's</li>\n</ol>\n<blockquote>\n<pre><code>  String[] newList = new String[x-size];\n</code></pre>\n</blockquote>\n<ol start=\"2\">\n<li>Use the .sort method of ArrayList.</li>\n</ol>\n<blockquote>\n<pre><code>  wordList.sort((o1, o2) -&gt; o1.compareTo(o2));\n</code></pre>\n</blockquote>\n<ol start=\"3\">\n<li>Move the arrayList values to a treeSet (which use Comparable and is sorted)</li>\n</ol>\n<blockquote>\n<pre><code>  Set&lt;String&gt; sortedSet = new TreeSet&lt;&gt;();\n  \n  for (String word : wordList) {          \n       sortedSet.add(word);\n  }\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":18089384,"reputation":79,"user_id":13149404,"display_name":"Bujaq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676387544,"creation_date":1676387544,"answer_id":75449818,"question_id":75448823,"body_markdown":"use **==0** instead of **&lt;0**   :\r\n`         if((wordList.get(outter)).compareTo(wordList.get(inner))&lt;0 )`\r\ncompareTo returns number of common characters, fo You shouldn&#39;t get -1 \r\n\r\n\r\nCorrect code :\r\n\r\n    public ArrayList&lt;String&gt; sortWords(ArrayList&lt;String&gt; wordList) { // changed static void\r\n        // TO DO #1: Sort the words in wordList in alphabetical order.\r\n        ArrayList&lt;String&gt; newList = new ArrayList&lt;String&gt;();\r\n        for(int outter = 0; outter&lt;wordList.size(); outter ++){ // takes 1 word in the list at a time\r\n          for(int inner = 0; inner&lt;wordList.size(); inner ++){ // compares it to all the other words in the list\r\n             if((wordList.get(outter)).compareTo(wordList.get(inner))==0 ){ \r\n            // return i;\r\n               newList.add(inner,wordList.get(outter));// adds current word to index of the inner loop\r\n               continue;\r\n           }// end of if\r\n       } // end of inner\r\n        }// end outter\r\n           return newList;\r\n        \r\n      }**","title":"Error with the return of a sorting words alphabetically method. Probably a logical error?","body":"<p>use <strong>==0</strong> instead of <strong>&lt;0</strong>   :\n<code>         if((wordList.get(outter)).compareTo(wordList.get(inner))&lt;0 )</code>\ncompareTo returns number of common characters, fo You shouldn't get -1</p>\n<p>Correct code :</p>\n<pre><code>public ArrayList&lt;String&gt; sortWords(ArrayList&lt;String&gt; wordList) { // changed static void\n    // TO DO #1: Sort the words in wordList in alphabetical order.\n    ArrayList&lt;String&gt; newList = new ArrayList&lt;String&gt;();\n    for(int outter = 0; outter&lt;wordList.size(); outter ++){ // takes 1 word in the list at a time\n      for(int inner = 0; inner&lt;wordList.size(); inner ++){ // compares it to all the other words in the list\n         if((wordList.get(outter)).compareTo(wordList.get(inner))==0 ){ \n        // return i;\n           newList.add(inner,wordList.get(outter));// adds current word to index of the inner loop\n           continue;\n       }// end of if\n   } // end of inner\n    }// end outter\n       return newList;\n    \n  }**\n</code></pre>\n"}],"owner":{"account_id":27779034,"reputation":1,"user_id":21207751,"display_name":"N3wb1e"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676387544,"creation_date":1676382756,"question_id":75448823,"body_markdown":"I have a method thats supposted to go through an ArrayList of words and put them in order alphabetically using .compareTo(). However I get this message when the program is run\r\n```\r\nException message: java.lang.IndexOutOfBoundsException: Index: 3, Size: 0\r\n\t at java.base/java.util.ArrayList.rangeCheckForAdd(Unknown Source)\r\n\t at java.base/java.util.ArrayList.add(Unknown Source)\r\n\t at ListSorter.sortWords(ListSorter.java:19) \r\n\t at MyConsole.main(MyConsole.java:11) \r\n```\r\nI need it to return a list of words sorted alphabetically.\r\nIve tried taking out &quot;newList&quot; and replacing where you see newList with wordList but this message appears\r\n```\r\nException message: java.lang.OutOfMemoryError: Java heap space\r\n\t at java.base/java.util.Arrays.copyOf(Unknown Source)\r\n\t at java.base/java.util.ArrayList.grow(Unknown Source)\r\n\t at java.base/java.util.ArrayList.grow(Unknown Source)\r\n\t at java.base/java.util.ArrayList.add(Unknown Source)\r\n\t at ListSorter.sortWords(ListSorter.java:19)\r\n\t at MyConsole.main(MyConsole.java:11)\r\n```\r\nAny suggestions?\r\n\r\n**The method in a class called ListSorter**\r\n```\r\npublic ArrayList&lt;String&gt; sortWords(ArrayList&lt;String&gt; wordList) { // changed static void\r\n    // TO DO #1: Sort the words in wordList in alphabetical order.\r\n    ArrayList&lt;String&gt; newList = new ArrayList&lt;String&gt;();\r\n    for(int outter = 0; outter&lt;wordList.size(); outter ++){ // takes 1 word in the list at a time\r\n      for(int inner = 0; inner&lt;wordList.size(); inner ++){ // compares it to all the other words in the list\r\n         if((wordList.get(outter)).compareTo(wordList.get(inner))&lt;0 ){ \r\n        // return i;\r\n           newList.add(inner,wordList.get(outter));// adds current word to index of the inner loop\r\n       }// end of if\r\n   } // end of inner\r\n    }// end outter\r\n       return newList;\r\n    \r\n  }\r\n```\r\n\r\n**Whats currently in MyConsole**\r\n```\r\n ArrayList&lt;String&gt; wordList = FileReader.getStringData(&quot;words.txt&quot;);\r\nListSorter newList = new ListSorter();\r\n   // newList.setTextList(wordList);\r\n    // TO DO #2: Call the sortWords() method and print the updated list.\r\nSystem.out.print(newList.sortWords(wordList));\r\n//newList.sortWords(wordList);\r\n```","title":"Error with the return of a sorting words alphabetically method. Probably a logical error?","body":"<p>I have a method thats supposted to go through an ArrayList of words and put them in order alphabetically using .compareTo(). However I get this message when the program is run</p>\n<pre><code>Exception message: java.lang.IndexOutOfBoundsException: Index: 3, Size: 0\n     at java.base/java.util.ArrayList.rangeCheckForAdd(Unknown Source)\n     at java.base/java.util.ArrayList.add(Unknown Source)\n     at ListSorter.sortWords(ListSorter.java:19) \n     at MyConsole.main(MyConsole.java:11) \n</code></pre>\n<p>I need it to return a list of words sorted alphabetically.\nIve tried taking out &quot;newList&quot; and replacing where you see newList with wordList but this message appears</p>\n<pre><code>Exception message: java.lang.OutOfMemoryError: Java heap space\n     at java.base/java.util.Arrays.copyOf(Unknown Source)\n     at java.base/java.util.ArrayList.grow(Unknown Source)\n     at java.base/java.util.ArrayList.grow(Unknown Source)\n     at java.base/java.util.ArrayList.add(Unknown Source)\n     at ListSorter.sortWords(ListSorter.java:19)\n     at MyConsole.main(MyConsole.java:11)\n</code></pre>\n<p>Any suggestions?</p>\n<p><strong>The method in a class called ListSorter</strong></p>\n<pre><code>public ArrayList&lt;String&gt; sortWords(ArrayList&lt;String&gt; wordList) { // changed static void\n    // TO DO #1: Sort the words in wordList in alphabetical order.\n    ArrayList&lt;String&gt; newList = new ArrayList&lt;String&gt;();\n    for(int outter = 0; outter&lt;wordList.size(); outter ++){ // takes 1 word in the list at a time\n      for(int inner = 0; inner&lt;wordList.size(); inner ++){ // compares it to all the other words in the list\n         if((wordList.get(outter)).compareTo(wordList.get(inner))&lt;0 ){ \n        // return i;\n           newList.add(inner,wordList.get(outter));// adds current word to index of the inner loop\n       }// end of if\n   } // end of inner\n    }// end outter\n       return newList;\n    \n  }\n</code></pre>\n<p><strong>Whats currently in MyConsole</strong></p>\n<pre><code> ArrayList&lt;String&gt; wordList = FileReader.getStringData(&quot;words.txt&quot;);\nListSorter newList = new ListSorter();\n   // newList.setTextList(wordList);\n    // TO DO #2: Call the sortWords() method and print the updated list.\nSystem.out.print(newList.sortWords(wordList));\n//newList.sortWords(wordList);\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1676387394,"post_id":75449744,"comment_id":133124273,"body_markdown":"Take care of java naming conventions. variable names should start with lower case character and all names should be camelCase not snake_case. And also you should indent your code properbly. Your code is very hard to read.","body":"Take care of java naming conventions. variable names should start with lower case character and all names should be camelCase not snake_case. And also you should indent your code properbly. Your code is very hard to read."}],"owner":{"account_id":23533465,"reputation":15,"user_id":17578737,"display_name":"ramesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676387307,"answer_count":0,"score":0,"last_activity_date":1676387502,"creation_date":1676387196,"question_id":75449744,"body_markdown":"Below is the java code which is used in an email with an excel attachment, but this excel file is getting from another class. while running this send email class in eclipse mail sent successfully but when I run through the batch file getting an error as cannot find the symbol in the lone &quot;String difference_path =Difference_directory.getLatestFilePath();&quot;.\r\n\r\n    public class Send_email{\r\n\tstatic String status=null;\r\n\tpublic static Properties CONFIG = null;\r\n\t\r\n    public static void main(String[] args) throws Exception {\r\n    \t  \r\n\t\tString difference_path = Difference_directory.getLatestFilePath();\r\n\t\tSystem.out.println(difference_path);\r\n\t\tProperties props = new Properties();\r\n\t\tprops.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n    \tprops.put(&quot;mail.smtp.port&quot;, 587); \r\n    \tprops.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n    \tprops.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\t\t\r\n\t\t//Loading Config file\r\n\tProperties CONFIG = new Properties();\r\n\tFileInputStream fs = new FileInputStream(System.getProperty(&quot;user.dir&quot;)+&quot;\\\\src\\\\main\\\\resource\\\\config2.properties&quot;);\r\n\t\r\n\t\tCONFIG.load(fs);\r\n\t\tString FROM= CONFIG.getProperty(&quot;FROM&quot;);\r\n\t\tString FROMNAME= CONFIG.getProperty(&quot;FROMNAME&quot;);\r\n\t\tString SMTP_USERNAME= CONFIG.getProperty(&quot;SMTP_USERNAME&quot;);\r\n\t\tString SMTP_PASSWORD= CONFIG.getProperty(&quot;SMTP_PASSWORD&quot;);\r\n\t\tString HOST= CONFIG.getProperty(&quot;HOST&quot;);\r\n\t\tString TO=&quot;&quot;;\r\n\t\t\r\n\t\t// folder path for execution report\r\n\t\t \r\n        final String FOLDER_PATH = &quot;C:\\\\Users\\\\rramesh\\\\eclipse-workspace\\\\Financial_API\\\\test-output&quot;;\r\n\t\tgetStatus(FOLDER_PATH + &quot;/testng-results.xml&quot;);\r\n\t\t\r\n\t\t\r\n\t\tif(status.equals(&quot;PASSED&quot;)){\r\n\t\t\tTO=CONFIG.getProperty(&quot;PassMail&quot;);\r\n\t\t}else if(status.equals(&quot;FAILED&quot;)){\r\n\t\t\tTO=CONFIG.getProperty(&quot;FailMail&quot;);\r\n\t\t}\r\n\t\t\r\n\t\t   Session session = Session.getDefaultInstance(props);\r\n\t\t\tMessage message = new MimeMessage(session);\r\n\t\t\tmessage.setFrom(new InternetAddress(FROM,FROMNAME));\r\n\t\t\tmessage.setRecipients(Message.RecipientType.TO,\r\n\t\t\t\t\tInternetAddress.parse(TO));\r\n\t\t\tmessage.setSubject(status + &quot; : Financial Block&quot; );\r\n\t\t\tBodyPart messageBodyPart = new MimeBodyPart();\r\n\t\t\tString myMessage1=&quot;Hi All,&quot;;\r\n\t\t\tString myMessage2=&quot;&lt;br&gt;Data is Mismatchng between Database Search and Elastic Search&quot;;\r\n\t\t\tString myMessage3=&quot;&lt;br&gt;Regards&lt;br&gt;QA Automation Team&quot;;\r\n\t\t\t//messageBodyPart.setText(myMessage1);\r\n\t\t\tmessageBodyPart.setContent(myMessage1 + &quot;&lt;br&gt;&quot;+ myMessage2 + &quot;&lt;br&gt;&quot;+ myMessage3, &quot;text/html&quot;);\r\n\r\n\t\t\tMultipart multipart = new MimeMultipart();\r\n\t\t\tmultipart.addBodyPart(messageBodyPart);\r\n\t\t\tmessageBodyPart = new MimeBodyPart();\r\n\t\t\t//String filename = FOLDER_PATH + &quot;/eTicket-Automation-report.html&quot;;\r\n\t\t\tString efile = FOLDER_PATH + &quot;/emailable-report.html&quot;;\r\n\t\t\tDataSource src = new FileDataSource(difference_path);\r\n\t\t\tmessageBodyPart.setDataHandler(new DataHandler(src));\r\n\t\t\t//DataSource source = new FileDataSource(filename);\r\n\t\t\t//messageBodyPart.setDataHandler(new DataHandler(source));\r\n\t\t\tString reportName=&quot;&quot;;\r\n\t\t\t\r\n\t\t\t\treportName=&quot;Financial Block automation&quot;;\r\n\t\t\t\r\n\t\t\tmessageBodyPart.setFileName(reportName + &quot;.xlsx&quot;);\r\n\t\t\tmultipart.addBodyPart(messageBodyPart);\r\n\t\t\tmessage.setContent(multipart);\r\n\t\t\t Transport transport = session.getTransport();\r\n\t\t\t \r\n\t\t\t try\r\n\t\t        {\r\n\t\t            System.out.println(&quot;Sending...&quot;);\r\n\t\t            \r\n\t\t            \r\n\t\t            // Connect to Amazon SES using the SMTP username and password you specified above.\r\n\t\t            transport.connect(HOST, SMTP_USERNAME, SMTP_PASSWORD);\r\n\t\t             \r\n\t\t            // Send the email.\r\n\t\t            transport.sendMessage(message, message.getAllRecipients());\r\n\t\t            \r\n\t\t            System.out.println(&quot;Email sent!&quot;);\r\n\t\t        }\r\n\t\t        catch (Exception ex) {\r\n\t\t            System.out.println(&quot;The email was not sent.&quot;);\r\n\t\t            System.out.println(&quot;Error message: &quot; + ex.getMessage());\r\n\t\t        }\r\n\t\t        finally\r\n\t\t        {\r\n\t\t            // Close and terminate the connection.\r\n\t\t            transport.close();\r\n\t\t        }\r\n\t\t\r\n\t}\r\n\r\n\tpublic static void getStatus(String filePath) throws SAXException, IOException, ParserConfigurationException {\r\n\t\tFile inputFile = new File(filePath);\r\n\t\tDocumentBuilderFactory dbFactory \r\n\t\t= DocumentBuilderFactory.newInstance();\r\n\t\tDocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\r\n\t\tDocument doc = dBuilder.parse(inputFile);\r\n\t\tdoc.getDocumentElement().normalize();\r\n\t\tNodeList nList = doc.getElementsByTagName(&quot;testng-results&quot;);\r\n\t\tNode nNode = nList.item(0);\r\n\t\tif (nNode.getNodeType() == Node.ELEMENT_NODE) {\r\n\t\t\tElement eElement = (Element) nNode;\r\n\t\t\tint failed = Integer.parseInt(eElement.getAttribute(&quot;failed&quot;));\r\n\t\t\tint skipped = Integer.parseInt(eElement.getAttribute(&quot;skipped&quot;));\r\n\r\n\t\t\tif(failed!=0 || skipped!=0)\r\n\t\t\t\tstatus=&quot;FAILED&quot;;\r\n\t\t\telse\r\n\t\t\t\tstatus=&quot;PASSED&quot;;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nAnd the batch file is \r\ncd\\\r\ncd C:\\Users\\rramesh\\eclipse-workspace\\Financial_API\\src\\main\\java\\Utlities\r\njavac -cp C:\\JarLib\\*;. Send_email.java \r\ncd..\r\njava -cp C:\\JarLib\\*;. Utlities.Send_email\r\n \r\n \r\n\r\n","title":"Java class file running successfully in eclipse getting error while running through batch file","body":"<p>Below is the java code which is used in an email with an excel attachment, but this excel file is getting from another class. while running this send email class in eclipse mail sent successfully but when I run through the batch file getting an error as cannot find the symbol in the lone &quot;String difference_path =Difference_directory.getLatestFilePath();&quot;.</p>\n<pre><code>public class Send_email{\nstatic String status=null;\npublic static Properties CONFIG = null;\n\npublic static void main(String[] args) throws Exception {\n      \n    String difference_path = Difference_directory.getLatestFilePath();\n    System.out.println(difference_path);\n    Properties props = new Properties();\n    props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\n    props.put(&quot;mail.smtp.port&quot;, 587); \n    props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n    props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n    \n    //Loading Config file\nProperties CONFIG = new Properties();\nFileInputStream fs = new FileInputStream(System.getProperty(&quot;user.dir&quot;)+&quot;\\\\src\\\\main\\\\resource\\\\config2.properties&quot;);\n\n    CONFIG.load(fs);\n    String FROM= CONFIG.getProperty(&quot;FROM&quot;);\n    String FROMNAME= CONFIG.getProperty(&quot;FROMNAME&quot;);\n    String SMTP_USERNAME= CONFIG.getProperty(&quot;SMTP_USERNAME&quot;);\n    String SMTP_PASSWORD= CONFIG.getProperty(&quot;SMTP_PASSWORD&quot;);\n    String HOST= CONFIG.getProperty(&quot;HOST&quot;);\n    String TO=&quot;&quot;;\n    \n    // folder path for execution report\n     \n    final String FOLDER_PATH = &quot;C:\\\\Users\\\\rramesh\\\\eclipse-workspace\\\\Financial_API\\\\test-output&quot;;\n    getStatus(FOLDER_PATH + &quot;/testng-results.xml&quot;);\n    \n    \n    if(status.equals(&quot;PASSED&quot;)){\n        TO=CONFIG.getProperty(&quot;PassMail&quot;);\n    }else if(status.equals(&quot;FAILED&quot;)){\n        TO=CONFIG.getProperty(&quot;FailMail&quot;);\n    }\n    \n       Session session = Session.getDefaultInstance(props);\n        Message message = new MimeMessage(session);\n        message.setFrom(new InternetAddress(FROM,FROMNAME));\n        message.setRecipients(Message.RecipientType.TO,\n                InternetAddress.parse(TO));\n        message.setSubject(status + &quot; : Financial Block&quot; );\n        BodyPart messageBodyPart = new MimeBodyPart();\n        String myMessage1=&quot;Hi All,&quot;;\n        String myMessage2=&quot;&lt;br&gt;Data is Mismatchng between Database Search and Elastic Search&quot;;\n        String myMessage3=&quot;&lt;br&gt;Regards&lt;br&gt;QA Automation Team&quot;;\n        //messageBodyPart.setText(myMessage1);\n        messageBodyPart.setContent(myMessage1 + &quot;&lt;br&gt;&quot;+ myMessage2 + &quot;&lt;br&gt;&quot;+ myMessage3, &quot;text/html&quot;);\n\n        Multipart multipart = new MimeMultipart();\n        multipart.addBodyPart(messageBodyPart);\n        messageBodyPart = new MimeBodyPart();\n        //String filename = FOLDER_PATH + &quot;/eTicket-Automation-report.html&quot;;\n        String efile = FOLDER_PATH + &quot;/emailable-report.html&quot;;\n        DataSource src = new FileDataSource(difference_path);\n        messageBodyPart.setDataHandler(new DataHandler(src));\n        //DataSource source = new FileDataSource(filename);\n        //messageBodyPart.setDataHandler(new DataHandler(source));\n        String reportName=&quot;&quot;;\n        \n            reportName=&quot;Financial Block automation&quot;;\n        \n        messageBodyPart.setFileName(reportName + &quot;.xlsx&quot;);\n        multipart.addBodyPart(messageBodyPart);\n        message.setContent(multipart);\n         Transport transport = session.getTransport();\n         \n         try\n            {\n                System.out.println(&quot;Sending...&quot;);\n                \n                \n                // Connect to Amazon SES using the SMTP username and password you specified above.\n                transport.connect(HOST, SMTP_USERNAME, SMTP_PASSWORD);\n                 \n                // Send the email.\n                transport.sendMessage(message, message.getAllRecipients());\n                \n                System.out.println(&quot;Email sent!&quot;);\n            }\n            catch (Exception ex) {\n                System.out.println(&quot;The email was not sent.&quot;);\n                System.out.println(&quot;Error message: &quot; + ex.getMessage());\n            }\n            finally\n            {\n                // Close and terminate the connection.\n                transport.close();\n            }\n    \n}\n\npublic static void getStatus(String filePath) throws SAXException, IOException, ParserConfigurationException {\n    File inputFile = new File(filePath);\n    DocumentBuilderFactory dbFactory \n    = DocumentBuilderFactory.newInstance();\n    DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\n    Document doc = dBuilder.parse(inputFile);\n    doc.getDocumentElement().normalize();\n    NodeList nList = doc.getElementsByTagName(&quot;testng-results&quot;);\n    Node nNode = nList.item(0);\n    if (nNode.getNodeType() == Node.ELEMENT_NODE) {\n        Element eElement = (Element) nNode;\n        int failed = Integer.parseInt(eElement.getAttribute(&quot;failed&quot;));\n        int skipped = Integer.parseInt(eElement.getAttribute(&quot;skipped&quot;));\n\n        if(failed!=0 || skipped!=0)\n            status=&quot;FAILED&quot;;\n        else\n            status=&quot;PASSED&quot;;\n    }\n}\n</code></pre>\n<p>}</p>\n<p>And the batch file is\ncd<br />\ncd C:\\Users\\rramesh\\eclipse-workspace\\Financial_API\\src\\main\\java\\Utlities\njavac -cp C:\\JarLib*;. Send_email.java\ncd..\njava -cp C:\\JarLib*;. Utlities.Send_email</p>\n"},{"tags":["java","websocket","vert.x","kucoin"],"owner":{"account_id":398338,"reputation":85,"user_id":762965,"display_name":"foundationer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676387354,"creation_date":1676387354,"question_id":75449778,"body_markdown":"I&#39;m trying to connect to the **Kucoin** API using **Secure WebSockets** (WSS). I&#39;m using JDK 17 and **Vert.x** 4.3.8 (the latest version at this time). I followed the instructions [here][1].\r\n\r\n\r\nSo currently I have a basic app with two verticles: the first one uses a **WebClient** to connect to the `/api/v1/bullet-public` URI to get the WSS endpoint and the token. Once I get an answer, I save these to a local map and publish an event to the bus to connect to the WebSocket feed. This part works fine.\r\n\r\nThe second verticle consumes the event published by the first one and creates a websocket using the settings saved on the local map. This doesn&#39;t work. I tried two slightly different approaches and I get different errors on each.\r\n\r\nThe first approach is to set the host to ws-api-spot.kucoin.com and the relative URI. The code for this is on [this Github gist][2].\r\n\r\nIn this case I get the following error:\r\n\r\n    io.netty.handler.codec.http.websocketx.WebSocketHandshakeException: Connection closed while handshake in process\r\n\tat io.vertx.core.http.impl.WebSocketHandshakeInboundHandler.channelInactive(WebSocketHandshakeInboundHandler.java:81)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:305)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelInactive(CombinedChannelDuplexHandler.java:418)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelInputClosed(ByteToMessageDecoder.java:411)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelInactive(ByteToMessageDecoder.java:376)\r\n\tat io.netty.handler.codec.http.HttpClientCodec$Decoder.channelInactive(HttpClientCodec.java:329)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler.channelInactive(CombinedChannelDuplexHandler.java:221)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)\r\n\tat io.netty.handler.logging.LoggingHandler.channelInactive(LoggingHandler.java:206)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelInputClosed(ByteToMessageDecoder.java:411)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelInactive(ByteToMessageDecoder.java:376)\r\n\tat io.netty.handler.ssl.SslHandler.channelInactive(SslHandler.java:1075)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:305)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1405)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:901)\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:813)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\nThe second approach is to set the absolute URI to something like this:\r\n\r\n    wss://ws-api-spot.kucoin.com/endpoint/?token=&lt;token_value&gt;&amp;topic=/market/ticker:btc&amp;response=true\r\n\r\nTo do this, I slightly modified the getOptions method like this:\r\n\r\n    private static WebSocketConnectOptions getOptions(LocalMap&lt;String, String&gt; serverDetails) {\r\n      WebSocketConnectOptions options = new WebSocketConnectOptions();\r\n      options.setMethod(HttpMethod.GET);\r\n      options.setAllowOriginHeader(false);\r\n      options.setPort(443);\r\n      options.setSsl(true);\r\n      options.setAbsoluteURI(serverDetails.get(&quot;endpoint&quot;) + &quot;endpoint/?token=&quot; + serverDetails.get(&quot;token&quot;) + &quot;&amp;topic=/market/ticker:btc&amp;response=true&quot;);\r\n      return options;\r\n    }\r\n\r\nIn this case, I get this other error:\r\n\r\n    io.vertx.core.VertxException: Invalid url: wss://ws-api-spot.kucoin.com/endpoint/?token=&lt;token_value&gt;&amp;topic=/market/ticker:btc&amp;response=true\r\n\tat io.vertx.core.http.RequestOptions.parseUrl(RequestOptions.java:357)\r\n\tat io.vertx.core.http.RequestOptions.setAbsoluteURI(RequestOptions.java:370)\r\n\tat org.phase5.goyena.SymbolSnapshotVerticle.getOptions(SymbolSnapshotVerticle.java:52)\r\n\tat org.phase5.goyena.SymbolSnapshotVerticle.lambda$start$3(SymbolSnapshotVerticle.java:32)\r\n\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:264)\r\n\tat io.vertx.core.eventbus.impl.MessageConsumerImpl.dispatch(MessageConsumerImpl.java:177)\r\n\tat io.vertx.core.eventbus.impl.HandlerRegistration$InboundDeliveryContext.execute(HandlerRegistration.java:137)\r\n\tat io.vertx.core.eventbus.impl.DeliveryContextBase.next(DeliveryContextBase.java:72)\r\n\tat io.vertx.core.eventbus.impl.DeliveryContextBase.dispatch(DeliveryContextBase.java:43)\r\n\tat io.vertx.core.eventbus.impl.HandlerRegistration.dispatch(HandlerRegistration.java:98)\r\n\tat io.vertx.core.eventbus.impl.MessageConsumerImpl.deliver(MessageConsumerImpl.java:183)\r\n\tat io.vertx.core.eventbus.impl.MessageConsumerImpl.doReceive(MessageConsumerImpl.java:168)\r\n\tat io.vertx.core.eventbus.impl.HandlerRegistration.lambda$receive$0(HandlerRegistration.java:49)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: java.net.MalformedURLException: unknown protocol: wss\r\n\tat java.base/java.net.URL.&lt;init&gt;(URL.java:681)\r\n\tat java.base/java.net.URL.&lt;init&gt;(URL.java:569)\r\n\tat java.base/java.net.URL.&lt;init&gt;(URL.java:516)\r\n\tat io.vertx.core.http.RequestOptions.parseUrl(RequestOptions.java:355)\r\n\t... 20 common frames omitted\r\n\r\nWhen I manually run a request from **Postman** following the same instructions, I successfully get a connection. Any ideas of what&#39;s wrong? Do I need to change the options for either the HTTP client or the Websocket?\r\n\r\nThanks in advance.\r\n\r\n  [1]: https://docs.kucoin.com/#websocket-feed\r\n  [2]: https://gist.github.com/foundationer/7c2024b85f946baac1131791870058f4","title":"Unable to connect to Kucoin API using Secure WebSockets, JDK 17 and Vert.x","body":"<p>I'm trying to connect to the <strong>Kucoin</strong> API using <strong>Secure WebSockets</strong> (WSS). I'm using JDK 17 and <strong>Vert.x</strong> 4.3.8 (the latest version at this time). I followed the instructions <a href=\"https://docs.kucoin.com/#websocket-feed\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>So currently I have a basic app with two verticles: the first one uses a <strong>WebClient</strong> to connect to the <code>/api/v1/bullet-public</code> URI to get the WSS endpoint and the token. Once I get an answer, I save these to a local map and publish an event to the bus to connect to the WebSocket feed. This part works fine.</p>\n<p>The second verticle consumes the event published by the first one and creates a websocket using the settings saved on the local map. This doesn't work. I tried two slightly different approaches and I get different errors on each.</p>\n<p>The first approach is to set the host to ws-api-spot.kucoin.com and the relative URI. The code for this is on <a href=\"https://gist.github.com/foundationer/7c2024b85f946baac1131791870058f4\" rel=\"nofollow noreferrer\">this Github gist</a>.</p>\n<p>In this case I get the following error:</p>\n<pre><code>io.netty.handler.codec.http.websocketx.WebSocketHandshakeException: Connection closed while handshake in process\nat io.vertx.core.http.impl.WebSocketHandshakeInboundHandler.channelInactive(WebSocketHandshakeInboundHandler.java:81)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:305)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)\nat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelInactive(CombinedChannelDuplexHandler.java:418)\nat io.netty.handler.codec.ByteToMessageDecoder.channelInputClosed(ByteToMessageDecoder.java:411)\nat io.netty.handler.codec.ByteToMessageDecoder.channelInactive(ByteToMessageDecoder.java:376)\nat io.netty.handler.codec.http.HttpClientCodec$Decoder.channelInactive(HttpClientCodec.java:329)\nat io.netty.channel.CombinedChannelDuplexHandler.channelInactive(CombinedChannelDuplexHandler.java:221)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)\nat io.netty.handler.logging.LoggingHandler.channelInactive(LoggingHandler.java:206)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)\nat io.netty.handler.codec.ByteToMessageDecoder.channelInputClosed(ByteToMessageDecoder.java:411)\nat io.netty.handler.codec.ByteToMessageDecoder.channelInactive(ByteToMessageDecoder.java:376)\nat io.netty.handler.ssl.SslHandler.channelInactive(SslHandler.java:1075)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:305)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)\nat io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1405)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\nat io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:901)\nat io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:813)\nat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\nat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\nat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\nat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\nat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\nat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\nat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\nat java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>The second approach is to set the absolute URI to something like this:</p>\n<pre><code>wss://ws-api-spot.kucoin.com/endpoint/?token=&lt;token_value&gt;&amp;topic=/market/ticker:btc&amp;response=true\n</code></pre>\n<p>To do this, I slightly modified the getOptions method like this:</p>\n<pre><code>private static WebSocketConnectOptions getOptions(LocalMap&lt;String, String&gt; serverDetails) {\n  WebSocketConnectOptions options = new WebSocketConnectOptions();\n  options.setMethod(HttpMethod.GET);\n  options.setAllowOriginHeader(false);\n  options.setPort(443);\n  options.setSsl(true);\n  options.setAbsoluteURI(serverDetails.get(&quot;endpoint&quot;) + &quot;endpoint/?token=&quot; + serverDetails.get(&quot;token&quot;) + &quot;&amp;topic=/market/ticker:btc&amp;response=true&quot;);\n  return options;\n}\n</code></pre>\n<p>In this case, I get this other error:</p>\n<pre><code>io.vertx.core.VertxException: Invalid url: wss://ws-api-spot.kucoin.com/endpoint/?token=&lt;token_value&gt;&amp;topic=/market/ticker:btc&amp;response=true\nat io.vertx.core.http.RequestOptions.parseUrl(RequestOptions.java:357)\nat io.vertx.core.http.RequestOptions.setAbsoluteURI(RequestOptions.java:370)\nat org.phase5.goyena.SymbolSnapshotVerticle.getOptions(SymbolSnapshotVerticle.java:52)\nat org.phase5.goyena.SymbolSnapshotVerticle.lambda$start$3(SymbolSnapshotVerticle.java:32)\nat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:264)\nat io.vertx.core.eventbus.impl.MessageConsumerImpl.dispatch(MessageConsumerImpl.java:177)\nat io.vertx.core.eventbus.impl.HandlerRegistration$InboundDeliveryContext.execute(HandlerRegistration.java:137)\nat io.vertx.core.eventbus.impl.DeliveryContextBase.next(DeliveryContextBase.java:72)\nat io.vertx.core.eventbus.impl.DeliveryContextBase.dispatch(DeliveryContextBase.java:43)\nat io.vertx.core.eventbus.impl.HandlerRegistration.dispatch(HandlerRegistration.java:98)\nat io.vertx.core.eventbus.impl.MessageConsumerImpl.deliver(MessageConsumerImpl.java:183)\nat io.vertx.core.eventbus.impl.MessageConsumerImpl.doReceive(MessageConsumerImpl.java:168)\nat io.vertx.core.eventbus.impl.HandlerRegistration.lambda$receive$0(HandlerRegistration.java:49)\nat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\nat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\nat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\nat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\nat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\nat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\nat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\nat java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.net.MalformedURLException: unknown protocol: wss\nat java.base/java.net.URL.&lt;init&gt;(URL.java:681)\nat java.base/java.net.URL.&lt;init&gt;(URL.java:569)\nat java.base/java.net.URL.&lt;init&gt;(URL.java:516)\nat io.vertx.core.http.RequestOptions.parseUrl(RequestOptions.java:355)\n... 20 common frames omitted\n</code></pre>\n<p>When I manually run a request from <strong>Postman</strong> following the same instructions, I successfully get a connection. Any ideas of what's wrong? Do I need to change the options for either the HTTP client or the Websocket?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","binary-search","lower-bound","upperbound"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1364159135,"post_id":15603832,"comment_id":22128926,"body_markdown":"For those of us who don&#39;t speak &quot;C&quot;, could you describe what you want in English with examples?","body":"For those of us who don&#39;t speak &quot;C&quot;, could you describe what you want in English with examples?"}],"answers":[{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1614139106,"creation_date":1364158560,"answer_id":15603895,"question_id":15603832,"body_markdown":"In Java, you use [`Collections.binarySearch`][1] to find the lower bound of the equal range in a sorted list (`Arrays.binarySearch` provides a similar capability for arrays). This gives you a position within the equal range with no further guarantees:\r\n\r\n&gt; [If the list contains multiple elements equal to the specified object, there is no guarantee which one will be found.][1]\r\n\r\nThen you iterate linearly forward and then backward until you hit the end of the equal range.\r\n\r\nThese methods work for objects implementing the [`Comparable`][2] interface. For classes that do not implement the `Comparable`, you can supply an instance of a *custom* [`Comparator`][3] for comparing the elements of your specific type.\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#binarySearch%28java.util.List,%20T%29\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/lang/Comparable.html\r\n  [3]: http://docs.oracle.com/javase/6/docs/api/java/util/Comparator.html","title":"Java equivalent of c++ equal_range (or lower_bound &amp; upper_bound)","body":"<p>In Java, you use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#binarySearch%28java.util.List,%20T%29\" rel=\"nofollow noreferrer\"><code>Collections.binarySearch</code></a> to find the lower bound of the equal range in a sorted list (<code>Arrays.binarySearch</code> provides a similar capability for arrays). This gives you a position within the equal range with no further guarantees:</p>\n<blockquote>\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#binarySearch%28java.util.List,%20T%29\" rel=\"nofollow noreferrer\">If the list contains multiple elements equal to the specified object, there is no guarantee which one will be found.</a></p>\n</blockquote>\n<p>Then you iterate linearly forward and then backward until you hit the end of the equal range.</p>\n<p>These methods work for objects implementing the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Comparable.html\" rel=\"nofollow noreferrer\"><code>Comparable</code></a> interface. For classes that do not implement the <code>Comparable</code>, you can supply an instance of a <em>custom</em> <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code></a> for comparing the elements of your specific type.</p>\n"},{"tags":[],"owner":{"account_id":2199259,"reputation":674,"user_id":1944117,"display_name":"Survivor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602637537,"creation_date":1364159325,"answer_id":15604031,"question_id":15603832,"body_markdown":"You can try something like this:\r\n```java\r\npublic class TestSOF {\r\n\r\n    private ArrayList &lt;Integer&gt; testList = new ArrayList &lt;Integer&gt;();\r\n    private Integer first, last;\r\n\r\n    public void fillArray(){\r\n\r\n        testList.add(10);\r\n        testList.add(20);\r\n        testList.add(30);\r\n        testList.add(30);\r\n        testList.add(20);\r\n        testList.add(10);\r\n        testList.add(10);\r\n        testList.add(20);\r\n    }\r\n\r\n    public ArrayList getArray(){\r\n\r\n        return this.testList;\r\n    }\r\n\r\n    public void sortArray(){\r\n\r\n        Collections.sort(testList);\r\n    }\r\n\r\n    public void checkPosition(int element){\r\n\r\n        if (testList.contains(element)){\r\n    \r\n            first = testList.indexOf(element);\r\n            last = testList.lastIndexOf(element);\r\n\r\n            System.out.println(&quot;The element &quot; + element + &quot;has it&#39;s first appeareance on position &quot; \r\n        + first + &quot;and it&#39;s last on position &quot; + last);\r\n        }\r\n        \r\n        else{\r\n    \r\n             System.out.println(&quot;Your element &quot; + element + &quot; is not into the arraylist!&quot;);\r\n       }\r\n    }\r\n\r\n    public static void main (String [] args){\r\n\r\n        TestSOF testSOF = new TestSOF();\r\n\r\n        testSOF.fillArray();\r\n        testSOF.sortArray();\r\n        testSOF.checkPosition(20);\r\n    } \r\n}\r\n```","title":"Java equivalent of c++ equal_range (or lower_bound &amp; upper_bound)","body":"<p>You can try something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestSOF {\n\n    private ArrayList &lt;Integer&gt; testList = new ArrayList &lt;Integer&gt;();\n    private Integer first, last;\n\n    public void fillArray(){\n\n        testList.add(10);\n        testList.add(20);\n        testList.add(30);\n        testList.add(30);\n        testList.add(20);\n        testList.add(10);\n        testList.add(10);\n        testList.add(20);\n    }\n\n    public ArrayList getArray(){\n\n        return this.testList;\n    }\n\n    public void sortArray(){\n\n        Collections.sort(testList);\n    }\n\n    public void checkPosition(int element){\n\n        if (testList.contains(element)){\n    \n            first = testList.indexOf(element);\n            last = testList.lastIndexOf(element);\n\n            System.out.println(&quot;The element &quot; + element + &quot;has it's first appeareance on position &quot; \n        + first + &quot;and it's last on position &quot; + last);\n        }\n        \n        else{\n    \n             System.out.println(&quot;Your element &quot; + element + &quot; is not into the arraylist!&quot;);\n       }\n    }\n\n    public static void main (String [] args){\n\n        TestSOF testSOF = new TestSOF();\n\n        testSOF.fillArray();\n        testSOF.sortArray();\n        testSOF.checkPosition(20);\n    } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3853172,"reputation":345,"user_id":3192744,"accept_rate":67,"display_name":"RJN_WLY"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443345450,"creation_date":1434346783,"answer_id":30838028,"question_id":15603832,"body_markdown":"In binary search , when you find the element then you can keep doing binary search  to its left in order to find first occurrence and to right in order to find last element.\r\nThe idea should be clear with the code: \r\n\r\n    /*\r\n    B: element to find first or last occurrence of\r\n    searchFirst: true to find first occurrence, false  to find last\r\n     */\r\n    Integer bound(final List&lt;Integer&gt; A,int B,boolean searchFirst){\r\n        int n = A.size();\r\n        int low = 0;\r\n        int high = n-1;\r\n        int res = -1;   //if element not found\r\n        int mid ;\r\n        while(low&lt;=high){\r\n            mid = low+(high-low)/2;\r\n            if(A.get(mid)==B){\r\n                res=mid;\r\n                if(searchFirst){high=mid-1;}    //to find first , go left\r\n                else{low=mid+1;}                // to find last, go right\r\n            }\r\n            else if(B&gt;A.get(mid)){low=mid+1;}\r\n            else{high=mid-1;}\r\n        }\r\n        return res;\r\n    }","title":"Java equivalent of c++ equal_range (or lower_bound &amp; upper_bound)","body":"<p>In binary search , when you find the element then you can keep doing binary search  to its left in order to find first occurrence and to right in order to find last element.\nThe idea should be clear with the code: </p>\n\n<pre><code>/*\nB: element to find first or last occurrence of\nsearchFirst: true to find first occurrence, false  to find last\n */\nInteger bound(final List&lt;Integer&gt; A,int B,boolean searchFirst){\n    int n = A.size();\n    int low = 0;\n    int high = n-1;\n    int res = -1;   //if element not found\n    int mid ;\n    while(low&lt;=high){\n        mid = low+(high-low)/2;\n        if(A.get(mid)==B){\n            res=mid;\n            if(searchFirst){high=mid-1;}    //to find first , go left\n            else{low=mid+1;}                // to find last, go right\n        }\n        else if(B&gt;A.get(mid)){low=mid+1;}\n        else{high=mid-1;}\n    }\n    return res;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10105963,"reputation":1331,"user_id":7468538,"display_name":"HariUserX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503344579,"creation_date":1503344098,"answer_id":45804379,"question_id":15603832,"body_markdown":"    import java.io.BufferedReader;\r\n    import java.io.BufferedWriter;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStreamWriter;\r\n    import java.util.Collections;\r\n    import java.util.Vector;\r\n    \r\n    public class Bounds {\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tVector&lt;Float&gt; data = new Vector&lt;&gt;();\r\n    \t\tfor (int i = 29; i &gt;= 0; i -= 2) {\r\n    \t\t\tdata.add(Float.valueOf(i));\r\n    \t\t}\r\n    \t\tCollections.sort(data);\r\n    \t\tfloat element = 14;\r\n    \t\tBufferedReader bf = new BufferedReader(new InputStreamReader(System.in));\r\n    \t\tBufferedWriter log = new BufferedWriter(new OutputStreamWriter(System.out));\r\n    \t\tString string = bf.readLine();\r\n    \t\twhile (!string.equals(&quot;q&quot;)) {\r\n    \t\t\telement=Float.parseFloat(string);\r\n    \t\t\tint first = 0;\r\n    \t\t\tint last = data.size();\r\n    \t\t\tint mid;\r\n    \t\t\twhile (first &lt; last) {\r\n    \t\t\t\tmid = first + ((last - first) &gt;&gt; 1); \r\n    \t\t\t\tif (data.get(mid) &lt; element)  //lower bound. for upper use &lt;= \r\n    \t\t\t\t\tfirst = mid + 1; \r\n    \t\t\t\telse \r\n    \t\t\t\t\tlast = mid;\r\n    \t\t\t}\r\n    \t\t\tlog.write(&quot;data is: &quot;+data+&quot;\\n&quot;);\r\n    \t\t\tif(first==data.size())\r\n    \t\t\t\tfirst=data.size()-1;\r\n    \t\t\tlog.write(&quot;element is : &quot; + first+ &quot;\\n&quot;);\r\n    \t\t\tlog.flush();\r\n    \t\t\tstring= bf.readLine();\r\n    \t\t}\r\n    \t\tbf.close();\r\n    \t}\r\n    \r\n    }\r\n\r\nThis is the implementation for lower_bound and upper_bound similar to c++.\r\nNote that the element you are searching for need not be present in the vector or list. This implementation only gives the element&#39;s upper and lower bounds.","title":"Java equivalent of c++ equal_range (or lower_bound &amp; upper_bound)","body":"<pre><code>import java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.util.Collections;\nimport java.util.Vector;\n\npublic class Bounds {\n\n    public static void main(String[] args) throws IOException {\n        Vector&lt;Float&gt; data = new Vector&lt;&gt;();\n        for (int i = 29; i &gt;= 0; i -= 2) {\n            data.add(Float.valueOf(i));\n        }\n        Collections.sort(data);\n        float element = 14;\n        BufferedReader bf = new BufferedReader(new InputStreamReader(System.in));\n        BufferedWriter log = new BufferedWriter(new OutputStreamWriter(System.out));\n        String string = bf.readLine();\n        while (!string.equals(\"q\")) {\n            element=Float.parseFloat(string);\n            int first = 0;\n            int last = data.size();\n            int mid;\n            while (first &lt; last) {\n                mid = first + ((last - first) &gt;&gt; 1); \n                if (data.get(mid) &lt; element)  //lower bound. for upper use &lt;= \n                    first = mid + 1; \n                else \n                    last = mid;\n            }\n            log.write(\"data is: \"+data+\"\\n\");\n            if(first==data.size())\n                first=data.size()-1;\n            log.write(\"element is : \" + first+ \"\\n\");\n            log.flush();\n            string= bf.readLine();\n        }\n        bf.close();\n    }\n\n}\n</code></pre>\n\n<p>This is the implementation for lower_bound and upper_bound similar to c++.\nNote that the element you are searching for need not be present in the vector or list. This implementation only gives the element's upper and lower bounds.</p>\n"},{"tags":[],"owner":{"account_id":8086591,"reputation":1869,"user_id":6093953,"display_name":"Andrushenko Alexander"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1567602680,"creation_date":1567601134,"answer_id":57788702,"question_id":15603832,"body_markdown":"Java have already built-in binary search functionality that calculates lower/upper bounds for an element in an array, there is no need to implement custom methods. \r\n\r\nWhen we speak about upper/lower bounds or equal ranges, we always mean indexes of a container (in this case of ArrayList), and not the elements contained.\r\nLet&#39;s consider an array (we assume the array is sorted, otherwise we sort it first):\r\n\r\n    List&lt;Integer&gt; nums = new ArrayList&lt;&gt;(Arrays.asList(2,3,5,5,7,9,10,18,22));\r\n\r\nThe &quot;lower bound&quot; function must return the **index of the array**, where the element must be inserted to **keep the array sorted**. The &quot;upper bound&quot; must return the index of the **smallest element in the array, that is bigger than** the looked for element.\r\nFor example\r\n\r\n    lowerBound(nums, 6)\r\n\r\nmust return 3, because 3 is the position of the array (starting counting with 0), where 6 must be inserted to keep array sorted.\r\n \r\nThe\r\n\r\n    upperBound(nums, 6)\r\n\r\nmust return 4, because 4 is the position of the **smallest** element in the array, that is **bigger** than 5 or 6, (number 7 on position 4). \r\n\r\nIn C++ in standard library the both algorithms already implemented in standard library. In Java you can use \r\n\r\n    Collections.binarySearch(nums, element)\r\n\r\nto calculate the position in **logarithmic time complexity**.\r\n\r\nIf the array contains the element, *Collections.binarySearch* returns the first index of the element (in the array above 2). Otherwise it returns a negative number that specifies the position in the array of the next bigger element, **counting backwards from the last index of the array**. The number found in this position is the **smallest element of the array that is bigger than the element** you look for.\r\n\r\nFor example, if you call\r\n\r\n    int idx = Collections.binarySearch(nums, 6)\r\n\r\nthe function returns -5. If you count backwards from the last index of the array (-1, -2, ...) the index -5 points to number 7 - the smallest number in the array that is bigger than the element 6.\r\n\r\nConclusion:\r\nif the sorted array **contains** the looked for element, the lower bound is the position of the element, and the upper bound is the position of the next bigger element.\r\n\r\nIf the array **does not contains** the element, the lower bound is the position\r\n\r\n    Math.abs(idx) - 2\r\n\r\nand the upper bound is the position \r\n\r\n    Math.abs(idx) - 1\r\n\r\nwhere \r\n\r\n    idx = Collections.binarySearch(nums, element)\r\n\r\nAnd please always keep in mind the border cases. For example, if you look for 1 in the above specified array:\r\n\r\n    idx = Collections.binarySearch(nums, 1)\r\n\r\nThe functon returns -1. So, the upperBound = Math.abs(idx) - 1 = 0 - the element 2 at position 0. But there is no lower bound for element 1, because 2 is the smallest number in the array. \r\nThe same logic applies to elements bigger than the biggest number in the array: if you look for lower/upper bounds of number 25, you will get \r\n\r\n      idx = Collections.binarySearch(nums, 25) \r\n\r\nix = -10. You can calculate the lower bound : lb = Math.abs(-10) - 2 = 8, that is the last index of the array, but there is no upper bound, because 22 is already biggest element in the array and there is no element at position 9.\r\n\r\nThe equal_range specifies all indexes of the array in the range starting from the lower bound index up to (but not including) the upper bound.\r\nFor example, the equal range of number 5 in the array above are indexes\r\n\r\n     [2,3]\r\n\r\nEqual range of number 6 is empty, because there is no number 6 in the array.","title":"Java equivalent of c++ equal_range (or lower_bound &amp; upper_bound)","body":"<p>Java have already built-in binary search functionality that calculates lower/upper bounds for an element in an array, there is no need to implement custom methods. </p>\n\n<p>When we speak about upper/lower bounds or equal ranges, we always mean indexes of a container (in this case of ArrayList), and not the elements contained.\nLet's consider an array (we assume the array is sorted, otherwise we sort it first):</p>\n\n<pre><code>List&lt;Integer&gt; nums = new ArrayList&lt;&gt;(Arrays.asList(2,3,5,5,7,9,10,18,22));\n</code></pre>\n\n<p>The \"lower bound\" function must return the <strong>index of the array</strong>, where the element must be inserted to <strong>keep the array sorted</strong>. The \"upper bound\" must return the index of the <strong>smallest element in the array, that is bigger than</strong> the looked for element.\nFor example</p>\n\n<pre><code>lowerBound(nums, 6)\n</code></pre>\n\n<p>must return 3, because 3 is the position of the array (starting counting with 0), where 6 must be inserted to keep array sorted.</p>\n\n<p>The</p>\n\n<pre><code>upperBound(nums, 6)\n</code></pre>\n\n<p>must return 4, because 4 is the position of the <strong>smallest</strong> element in the array, that is <strong>bigger</strong> than 5 or 6, (number 7 on position 4). </p>\n\n<p>In C++ in standard library the both algorithms already implemented in standard library. In Java you can use </p>\n\n<pre><code>Collections.binarySearch(nums, element)\n</code></pre>\n\n<p>to calculate the position in <strong>logarithmic time complexity</strong>.</p>\n\n<p>If the array contains the element, <em>Collections.binarySearch</em> returns the first index of the element (in the array above 2). Otherwise it returns a negative number that specifies the position in the array of the next bigger element, <strong>counting backwards from the last index of the array</strong>. The number found in this position is the <strong>smallest element of the array that is bigger than the element</strong> you look for.</p>\n\n<p>For example, if you call</p>\n\n<pre><code>int idx = Collections.binarySearch(nums, 6)\n</code></pre>\n\n<p>the function returns -5. If you count backwards from the last index of the array (-1, -2, ...) the index -5 points to number 7 - the smallest number in the array that is bigger than the element 6.</p>\n\n<p>Conclusion:\nif the sorted array <strong>contains</strong> the looked for element, the lower bound is the position of the element, and the upper bound is the position of the next bigger element.</p>\n\n<p>If the array <strong>does not contains</strong> the element, the lower bound is the position</p>\n\n<pre><code>Math.abs(idx) - 2\n</code></pre>\n\n<p>and the upper bound is the position </p>\n\n<pre><code>Math.abs(idx) - 1\n</code></pre>\n\n<p>where </p>\n\n<pre><code>idx = Collections.binarySearch(nums, element)\n</code></pre>\n\n<p>And please always keep in mind the border cases. For example, if you look for 1 in the above specified array:</p>\n\n<pre><code>idx = Collections.binarySearch(nums, 1)\n</code></pre>\n\n<p>The functon returns -1. So, the upperBound = Math.abs(idx) - 1 = 0 - the element 2 at position 0. But there is no lower bound for element 1, because 2 is the smallest number in the array. \nThe same logic applies to elements bigger than the biggest number in the array: if you look for lower/upper bounds of number 25, you will get </p>\n\n<pre><code>  idx = Collections.binarySearch(nums, 25) \n</code></pre>\n\n<p>ix = -10. You can calculate the lower bound : lb = Math.abs(-10) - 2 = 8, that is the last index of the array, but there is no upper bound, because 22 is already biggest element in the array and there is no element at position 9.</p>\n\n<p>The equal_range specifies all indexes of the array in the range starting from the lower bound index up to (but not including) the upper bound.\nFor example, the equal range of number 5 in the array above are indexes</p>\n\n<pre><code> [2,3]\n</code></pre>\n\n<p>Equal range of number 6 is empty, because there is no number 6 in the array.</p>\n"},{"tags":[],"owner":{"account_id":15269101,"reputation":61,"user_id":11016819,"display_name":"Akshay Gupta"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1590935222,"creation_date":1590935222,"answer_id":62117661,"question_id":15603832,"body_markdown":"Java equivalent of lower_bound in cpp is \r\n\r\n    public static int lower(int arr[],int key){\r\n        int low = 0;\r\n        int high = arr.length-1;\r\n        while(low &lt; high){\r\n            int mid = low + (high - low)/2;\r\n            if(arr[mid] &gt;= key){\r\n                high = mid;\r\n            }\r\n            else{\r\n                low = mid+1;\r\n            }\r\n        }\r\n        return low;\r\n    }\r\n\r\nBut the above snippet will give the lower bound if the key is not present in the array\r\n\r\nJava equivalent of upper_bound in cpp is \r\n\r\n    public static int upper(int arr[],int key){\r\n        int low = 0;\r\n        int high = arr.length-1;\r\n        while(low &lt; high){\r\n            int mid = low + (high - low+1)/2;\r\n            if(arr[mid] &lt;= key){\r\n                low = mid;\r\n            }\r\n            else{\r\n                high = mid-1;\r\n            }\r\n        }\r\n        return low;\r\n    }\r\nBut the above snippet will give the lower bound of key if the key is not present in the array","title":"Java equivalent of c++ equal_range (or lower_bound &amp; upper_bound)","body":"<p>Java equivalent of lower_bound in cpp is </p>\n\n<pre><code>public static int lower(int arr[],int key){\n    int low = 0;\n    int high = arr.length-1;\n    while(low &lt; high){\n        int mid = low + (high - low)/2;\n        if(arr[mid] &gt;= key){\n            high = mid;\n        }\n        else{\n            low = mid+1;\n        }\n    }\n    return low;\n}\n</code></pre>\n\n<p>But the above snippet will give the lower bound if the key is not present in the array</p>\n\n<p>Java equivalent of upper_bound in cpp is </p>\n\n<pre><code>public static int upper(int arr[],int key){\n    int low = 0;\n    int high = arr.length-1;\n    while(low &lt; high){\n        int mid = low + (high - low+1)/2;\n        if(arr[mid] &lt;= key){\n            low = mid;\n        }\n        else{\n            high = mid-1;\n        }\n    }\n    return low;\n}\n</code></pre>\n\n<p>But the above snippet will give the lower bound of key if the key is not present in the array</p>\n"},{"tags":[],"owner":{"account_id":16526261,"reputation":111,"user_id":11940935,"display_name":"Atish Naskar"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1599895795,"creation_date":1599869054,"answer_id":63855640,"question_id":15603832,"body_markdown":"We can find Lower bound and upper bound with the help of java library function as well as by defining our own **LowerBound and UpperBound Function.**\r\n\r\n**{#case-1}**\r\n\t    \r\nif the number is not present both lower bound and upper bound would be\r\nsame .i.e. in that case *lb* and *ub* would be the insertion point of the array i.e. that point where the number should be inserted to keep the array sorted.\r\n\r\n*Example-1:*\r\n\t\t\t \r\n\r\n    6 1 // 6 is the size of the array and 1 is the key\r\n    2 3 4 5 6 7 here lb=0 and ub=0 (0 is the position where 1 should be inserted to keep the array sorted)\r\n\r\n\t6 8 // 6 is the size of the array and 8 is the key\r\n\t2 3 4 5 6 7\t here lb=6 and ub=6 (6 is the position where 8 should be inserted to keep the array sorted)\r\n\t\r\n    6 3 // 6 is the size of the array and 3 is the key\r\n\t1 2 2 2 4 5\t here lb=4 and ub=4 (4 is the position where 3 should be inserted to keep the array sorted)\r\n\r\n \r\n \t\t\r\n**{#case-2(a)}**\r\n \t\t\r\nif the number is present and have frequency 1. i.e. number of occurrence is 1\r\n \t\t\r\n*lb*=index of that number.&lt;br /&gt;\r\n*ub*=index of the next number which is just greater than that number in the array\r\n \t\t.i.e. *ub*=index of that number+1\r\n\r\n*Example-2:*\r\n \t\t\r\n    6 5 // 6 is the size of the array and 5 is the key\r\n\t1 2 3 4 5 6 here lb=4 and ub=5\r\n\t\t\r\n**{#case-2(b)}**\r\n\t\t\r\nif the number is present and have frequency more than 1.\r\n\t\tnumber is occured multiple times.in this case \r\n\t\t*lb* would be the index of the 1st occurrence of that number.\r\n\t\t*ub* would be the index of the last occurrence of that number+1.\r\n\t\ti.e. index of that number which is just greater than the key in the array.\r\n\r\n*Example-3:*\r\n\t\t\r\n     11 5 // 11 is the size of the array and 5 is the key\r\n\t 1 2 3 4 5 5 5 5 5 7 7 here lb=4 and ub=9\r\n\r\n# Implementation of Lower_Bound and Upper_Bound \r\n**Method-1:**\r\n *By Library function*\r\n\r\n// a is the array and x is the target value\r\n        \r\n    int lb=Arrays.binarySearch(a,x); // for lower_bound\r\n\r\n    int ub=Arrays.binarySearch(a,x); // for upper_bound\r\n\r\n    if(lb&lt;0) {lb=Math.abs(lb)-1;}//if the number is not present\r\n    \r\n    else{ // if the number is present we are checking \r\n    \t//whether the number is present multiple times or not\r\n        int y=a[lb];\r\n        for(int i=lb-1; i&gt;=0; i--){\r\n            if(a[i]==y) --lb;\r\n            else break;\r\n        }\r\n    }\r\n      if(ub&lt;0) {ub=Math.abs(ub)-1;}//if the number is not present\r\n   \r\n      else{// if the number is present we are checking \r\n    \t//whether the number is present multiple times or not\r\n        int y=a[ub];\r\n        for(int i=ub+1; i&lt;n; i++){\r\n            if(a[i]==y) ++ub;\r\n            else break;\r\n        }\r\n        ++ub;\r\n    }\r\n\r\n**Method-2:**\r\n*By Defining own Function*\r\n\r\n//for lower bound\r\n\r\n    static int LowerBound(int a[], int x) { // x is the target value or key\r\n      int l=-1,r=a.length;\r\n      while(l+1&lt;r) {\r\n\t\tint m=(l+r)&gt;&gt;&gt;1;\r\n        if(a[m]&gt;=x) r=m;\r\n        else l=m;\r\n\t  }\r\n\t  return r;\r\n    }\r\n\r\n// for Upper_Bound\r\n\r\n     static int UpperBound(int a[], int x) {// x is the key or target value\r\n\t    int l=-1,r=a.length;\r\n\t    while(l+1&lt;r) {\r\n\t\t   int m=(l+r)&gt;&gt;&gt;1;\r\n           if(a[m]&lt;=x) l=m;\r\n           else r=m;\r\n\t    }\r\n\t    return l+1;\r\n     }\r\n\r\n         \r\nor we can use \r\n       \r\n    int m=l+(r-l)/2;\r\n\r\nbut if we use\r\n\r\n    int m=(l+r)&gt;&gt;&gt;1; // it is probably faster\r\n\r\nbut the usage of any of the above formula of calculating m will prevent overflow\r\n\r\nIn C and C++ (&gt;&gt;&gt;) operator is absent, we can do this:\r\n        \r\n    int m= ((unsigned int)l + (unsigned int)r)) &gt;&gt; 1;\r\n\r\n// implementation in program:\r\n\r\n    import java.util.*;\r\n    import java.lang.*;\r\n    import java.io.*;\r\n    public class Lower_bound_and_Upper_bound {\r\n\r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\t    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n\t\tStringTokenizer s = new StringTokenizer(br.readLine());\r\n\t    int n=Integer.parseInt(s.nextToken()),x=Integer.parseInt(s.nextToken()),a[]=new int[n];\r\n\t    s = new StringTokenizer(br.readLine());\r\n\t    for(int i=0; i&lt;n; i++) a[i]=Integer.parseInt(s.nextToken());\r\n\t    Arrays.sort(a);// Array should be sorted. otherwise lb and ub cant be calculated\r\n        int u=UpperBound(a,x);\r\n\t    int l=LowerBound(a,x);\r\n\t    System.out.println(l+&quot; &quot;+u);\r\n     }\r\n    }\r\n\r\n**# Equivalent C++ code for calculating lowerbound and upperbound**\r\n\r\n      #include&lt;bits/stdc++.h&gt;\r\n      #define IRONMAN ios_base::sync_with_stdio(false);cin.tie(0);cout.tie(0);\r\n      using namespace std;\r\n      typedef long long int ll;\r\n      int main() {\r\n\t    IRONMAN\r\n\t    int n,x;cin&gt;&gt;n&gt;&gt;x;\r\n        vector&lt;int&gt; v(n);\r\n        for(auto &amp;i: v) cin&gt;&gt;i;\r\n        ll lb=(lower_bound(v.begin(),v.end(),x))-v.begin();// for calculating lb\r\n        ll ub=(upper_bound(v.begin(),v.end(),x))-v.begin();// for calculating ub\r\n        cout&lt;&lt;lb&lt;&lt;&quot; &quot;&lt;&lt;ub&lt;&lt;&quot;\\n&quot;;\r\n\t    return 0;\r\n      }\r\n\r\n\r\n\r\n\r\n","title":"Java equivalent of c++ equal_range (or lower_bound &amp; upper_bound)","body":"<p>We can find Lower bound and upper bound with the help of java library function as well as by defining our own <strong>LowerBound and UpperBound Function.</strong></p>\n<p><strong>{#case-1}</strong></p>\n<p>if the number is not present both lower bound and upper bound would be\nsame .i.e. in that case <em>lb</em> and <em>ub</em> would be the insertion point of the array i.e. that point where the number should be inserted to keep the array sorted.</p>\n<p><em>Example-1:</em></p>\n<pre><code>6 1 // 6 is the size of the array and 1 is the key\n2 3 4 5 6 7 here lb=0 and ub=0 (0 is the position where 1 should be inserted to keep the array sorted)\n\n6 8 // 6 is the size of the array and 8 is the key\n2 3 4 5 6 7  here lb=6 and ub=6 (6 is the position where 8 should be inserted to keep the array sorted)\n\n6 3 // 6 is the size of the array and 3 is the key\n1 2 2 2 4 5  here lb=4 and ub=4 (4 is the position where 3 should be inserted to keep the array sorted)\n\n\n    \n</code></pre>\n<p><strong>{#case-2(a)}</strong></p>\n<p>if the number is present and have frequency 1. i.e. number of occurrence is 1</p>\n<p><em>lb</em>=index of that number.<br />\n<em>ub</em>=index of the next number which is just greater than that number in the array\n.i.e. <em>ub</em>=index of that number+1</p>\n<p><em>Example-2:</em></p>\n<pre><code>6 5 // 6 is the size of the array and 5 is the key\n1 2 3 4 5 6 here lb=4 and ub=5\n    \n</code></pre>\n<p><strong>{#case-2(b)}</strong></p>\n<p>if the number is present and have frequency more than 1.\nnumber is occured multiple times.in this case\n<em>lb</em> would be the index of the 1st occurrence of that number.\n<em>ub</em> would be the index of the last occurrence of that number+1.\ni.e. index of that number which is just greater than the key in the array.</p>\n<p><em>Example-3:</em></p>\n<pre><code> 11 5 // 11 is the size of the array and 5 is the key\n 1 2 3 4 5 5 5 5 5 7 7 here lb=4 and ub=9\n</code></pre>\n<h1>Implementation of Lower_Bound and Upper_Bound</h1>\n<p><strong>Method-1:</strong>\n<em>By Library function</em></p>\n<p>// a is the array and x is the target value</p>\n<pre><code>int lb=Arrays.binarySearch(a,x); // for lower_bound\n\nint ub=Arrays.binarySearch(a,x); // for upper_bound\n\nif(lb&lt;0) {lb=Math.abs(lb)-1;}//if the number is not present\n\nelse{ // if the number is present we are checking \n    //whether the number is present multiple times or not\n    int y=a[lb];\n    for(int i=lb-1; i&gt;=0; i--){\n        if(a[i]==y) --lb;\n        else break;\n    }\n}\n  if(ub&lt;0) {ub=Math.abs(ub)-1;}//if the number is not present\n\n  else{// if the number is present we are checking \n    //whether the number is present multiple times or not\n    int y=a[ub];\n    for(int i=ub+1; i&lt;n; i++){\n        if(a[i]==y) ++ub;\n        else break;\n    }\n    ++ub;\n}\n</code></pre>\n<p><strong>Method-2:</strong>\n<em>By Defining own Function</em></p>\n<p>//for lower bound</p>\n<pre><code>static int LowerBound(int a[], int x) { // x is the target value or key\n  int l=-1,r=a.length;\n  while(l+1&lt;r) {\n    int m=(l+r)&gt;&gt;&gt;1;\n    if(a[m]&gt;=x) r=m;\n    else l=m;\n  }\n  return r;\n}\n</code></pre>\n<p>// for Upper_Bound</p>\n<pre><code> static int UpperBound(int a[], int x) {// x is the key or target value\n    int l=-1,r=a.length;\n    while(l+1&lt;r) {\n       int m=(l+r)&gt;&gt;&gt;1;\n       if(a[m]&lt;=x) l=m;\n       else r=m;\n    }\n    return l+1;\n }\n\n     \n</code></pre>\n<p>or we can use</p>\n<pre><code>int m=l+(r-l)/2;\n</code></pre>\n<p>but if we use</p>\n<pre><code>int m=(l+r)&gt;&gt;&gt;1; // it is probably faster\n</code></pre>\n<p>but the usage of any of the above formula of calculating m will prevent overflow</p>\n<p>In C and C++ (&gt;&gt;&gt;) operator is absent, we can do this:</p>\n<pre><code>int m= ((unsigned int)l + (unsigned int)r)) &gt;&gt; 1;\n</code></pre>\n<p>// implementation in program:</p>\n<pre><code>import java.util.*;\nimport java.lang.*;\nimport java.io.*;\npublic class Lower_bound_and_Upper_bound {\n\npublic static void main (String[] args) throws java.lang.Exception\n{\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n    StringTokenizer s = new StringTokenizer(br.readLine());\n    int n=Integer.parseInt(s.nextToken()),x=Integer.parseInt(s.nextToken()),a[]=new int[n];\n    s = new StringTokenizer(br.readLine());\n    for(int i=0; i&lt;n; i++) a[i]=Integer.parseInt(s.nextToken());\n    Arrays.sort(a);// Array should be sorted. otherwise lb and ub cant be calculated\n    int u=UpperBound(a,x);\n    int l=LowerBound(a,x);\n    System.out.println(l+&quot; &quot;+u);\n }\n}\n</code></pre>\n<p><strong># Equivalent C++ code for calculating lowerbound and upperbound</strong></p>\n<pre><code>  #include&lt;bits/stdc++.h&gt;\n  #define IRONMAN ios_base::sync_with_stdio(false);cin.tie(0);cout.tie(0);\n  using namespace std;\n  typedef long long int ll;\n  int main() {\n    IRONMAN\n    int n,x;cin&gt;&gt;n&gt;&gt;x;\n    vector&lt;int&gt; v(n);\n    for(auto &amp;i: v) cin&gt;&gt;i;\n    ll lb=(lower_bound(v.begin(),v.end(),x))-v.begin();// for calculating lb\n    ll ub=(upper_bound(v.begin(),v.end(),x))-v.begin();// for calculating ub\n    cout&lt;&lt;lb&lt;&lt;&quot; &quot;&lt;&lt;ub&lt;&lt;&quot;\\n&quot;;\n    return 0;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18737117,"reputation":754,"user_id":13661219,"display_name":"Mohd Asim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624428514,"creation_date":1624428514,"answer_id":68094375,"question_id":15603832,"body_markdown":"Try in this way, for lower and upper bounds.\r\nIt is easy to implement.\r\n\r\n```\r\nimport java.util.Arrays;\r\n\r\nclass LowerBoundUpperBound{\r\n    public static void main(String[] args) {\r\n        int a[] = {1, 2, 3, 4, 5, 5, 5, 5, 5, 7, 7};\r\n\r\n        int key = 5;\r\n        int pos = Arrays.binarySearch(a, key);\r\n        int lb = (pos &lt; 0) ? ~pos - 1 : getlb(pos, a);\r\n        int ub = (pos &lt; 0) ? ~pos : getUb(pos, a);\r\n\r\n        System.out.println(&quot;Lower Bound=&quot; + lb);\r\n        System.out.println(&quot;Upper Bound=&quot; + ub);\r\n\r\n        // You can also try on a[] = {1 ,2 ,3 ,4 ,5 ,6};\r\n        // For key=5, lb=3 and ub=5\r\n\r\n\r\n    }\r\n\r\n    private static int getlb(int pos, int[] a) {\r\n        while (pos - 1 &gt;= 0 &amp;&amp; a[pos] == a[pos - 1]) pos--;\r\n        return pos - 1;\r\n    }\r\n\r\n    private static int getUb(int pos, int[] a) {\r\n        while (pos + 1 &lt; a.length &amp;&amp; a[pos] == a[pos + 1]) pos++;\r\n        return pos + 1;\r\n\r\n    }\r\n}\r\n```\r\n**Note:** Array must be sorted while performing the above method.","title":"Java equivalent of c++ equal_range (or lower_bound &amp; upper_bound)","body":"<p>Try in this way, for lower and upper bounds.\nIt is easy to implement.</p>\n<pre><code>import java.util.Arrays;\n\nclass LowerBoundUpperBound{\n    public static void main(String[] args) {\n        int a[] = {1, 2, 3, 4, 5, 5, 5, 5, 5, 7, 7};\n\n        int key = 5;\n        int pos = Arrays.binarySearch(a, key);\n        int lb = (pos &lt; 0) ? ~pos - 1 : getlb(pos, a);\n        int ub = (pos &lt; 0) ? ~pos : getUb(pos, a);\n\n        System.out.println(&quot;Lower Bound=&quot; + lb);\n        System.out.println(&quot;Upper Bound=&quot; + ub);\n\n        // You can also try on a[] = {1 ,2 ,3 ,4 ,5 ,6};\n        // For key=5, lb=3 and ub=5\n\n\n    }\n\n    private static int getlb(int pos, int[] a) {\n        while (pos - 1 &gt;= 0 &amp;&amp; a[pos] == a[pos - 1]) pos--;\n        return pos - 1;\n    }\n\n    private static int getUb(int pos, int[] a) {\n        while (pos + 1 &lt; a.length &amp;&amp; a[pos] == a[pos + 1]) pos++;\n        return pos + 1;\n\n    }\n}\n</code></pre>\n<p><strong>Note:</strong> Array must be sorted while performing the above method.</p>\n"},{"tags":[],"owner":{"account_id":15302432,"reputation":595,"user_id":11677095,"display_name":"Abhinav Keshri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631881911,"creation_date":1631881155,"answer_id":69223319,"question_id":15603832,"body_markdown":"If you want to find lower_bound without defining your own method and do everything from scratch, then use the following code snippet. As you may have noticed, this method works only with primitive arrays not with ArrayList because we do not have a function in Collections class to specify the **start** and **stop** index for Binaryserach (as of java16). \r\n\r\n* al is an array ```(String[] al = new String[N];)```\r\n* ```token``` is what we are looking for in the array.\r\n```\r\nArrays.sort(al, 0, N); \r\nint index = Arrays.binarySearch(al, 0, N , token);\r\nwhile(index &gt; 0 &amp;&amp; al[index].equals(al[index - 1])){\r\n       index = Arrays.binarySearch(al, 0, index, token); //lower_bound in java.\r\n}\r\n```\r\n\r\nFor upper bound you can easily modify the code. \r\n\r\n","title":"Java equivalent of c++ equal_range (or lower_bound &amp; upper_bound)","body":"<p>If you want to find lower_bound without defining your own method and do everything from scratch, then use the following code snippet. As you may have noticed, this method works only with primitive arrays not with ArrayList because we do not have a function in Collections class to specify the <strong>start</strong> and <strong>stop</strong> index for Binaryserach (as of java16).</p>\n<ul>\n<li>al is an array <code>(String[] al = new String[N];)</code></li>\n<li><code>token</code> is what we are looking for in the array.</li>\n</ul>\n<pre><code>Arrays.sort(al, 0, N); \nint index = Arrays.binarySearch(al, 0, N , token);\nwhile(index &gt; 0 &amp;&amp; al[index].equals(al[index - 1])){\n       index = Arrays.binarySearch(al, 0, index, token); //lower_bound in java.\n}\n</code></pre>\n<p>For upper bound you can easily modify the code.</p>\n"}],"owner":{"account_id":442748,"reputation":5867,"user_id":833538,"accept_rate":90,"display_name":"RoundPi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36267,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":15603895,"answer_count":9,"score":21,"last_activity_date":1676387244,"creation_date":1364158218,"question_id":15603832,"body_markdown":"I have a List of object sorted and I want to find the first occurrence and the last occurrence of an object. In C++, I can easily use std::equal_range (or just one lower_bound and one upper_bound). \r\n\r\nFor example:\r\n\r\n    bool mygreater (int i,int j) { return (i&gt;j); }\r\n    \r\n    int main () {\r\n      int myints[] = {10,20,30,30,20,10,10,20};\r\n      std::vector&lt;int&gt; v(myints,myints+8);                         // 10 20 30 30 20 10 10 20\r\n      std::pair&lt;std::vector&lt;int&gt;::iterator,std::vector&lt;int&gt;::iterator&gt; bounds;\r\n    \r\n      // using default comparison:\r\n      std::sort (v.begin(), v.end());                              // 10 10 10 20 20 20 30 30\r\n      bounds=std::equal_range (v.begin(), v.end(), 20);            //          ^        ^\r\n    \r\n      // using &quot;mygreater&quot; as comp:\r\n      std::sort (v.begin(), v.end(), mygreater);                   // 30 30 20 20 20 10 10 10\r\n      bounds=std::equal_range (v.begin(), v.end(), 20, mygreater); //       ^        ^\r\n    \r\n      std::cout &lt;&lt; &quot;bounds at positions &quot; &lt;&lt; (bounds.first - v.begin());\r\n      std::cout &lt;&lt; &quot; and &quot; &lt;&lt; (bounds.second - v.begin()) &lt;&lt; &#39;\\n&#39;;\r\n    \r\n      return 0;\r\n    }\r\n\r\n\r\nIn Java, there seems to be no simple equivalence? How should I do with the equal range with \r\n\r\n    List&lt;MyClass&gt; myList;\r\n\r\nBy the way, I am using a standard import java.util.List; ","title":"Java equivalent of c++ equal_range (or lower_bound &amp; upper_bound)","body":"<p>I have a List of object sorted and I want to find the first occurrence and the last occurrence of an object. In C++, I can easily use std::equal_range (or just one lower_bound and one upper_bound). </p>\n\n<p>For example:</p>\n\n<pre><code>bool mygreater (int i,int j) { return (i&gt;j); }\n\nint main () {\n  int myints[] = {10,20,30,30,20,10,10,20};\n  std::vector&lt;int&gt; v(myints,myints+8);                         // 10 20 30 30 20 10 10 20\n  std::pair&lt;std::vector&lt;int&gt;::iterator,std::vector&lt;int&gt;::iterator&gt; bounds;\n\n  // using default comparison:\n  std::sort (v.begin(), v.end());                              // 10 10 10 20 20 20 30 30\n  bounds=std::equal_range (v.begin(), v.end(), 20);            //          ^        ^\n\n  // using \"mygreater\" as comp:\n  std::sort (v.begin(), v.end(), mygreater);                   // 30 30 20 20 20 10 10 10\n  bounds=std::equal_range (v.begin(), v.end(), 20, mygreater); //       ^        ^\n\n  std::cout &lt;&lt; \"bounds at positions \" &lt;&lt; (bounds.first - v.begin());\n  std::cout &lt;&lt; \" and \" &lt;&lt; (bounds.second - v.begin()) &lt;&lt; '\\n';\n\n  return 0;\n}\n</code></pre>\n\n<p>In Java, there seems to be no simple equivalence? How should I do with the equal range with </p>\n\n<pre><code>List&lt;MyClass&gt; myList;\n</code></pre>\n\n<p>By the way, I am using a standard import java.util.List; </p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1497253299,"post_id":44493858,"comment_id":75981114,"body_markdown":"You only compare arr1 with arr2 not arr2 with arr1","body":"You only compare arr1 with arr2 not arr2 with arr1"},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":2,"creation_date":1497253300,"post_id":44493858,"comment_id":75981115,"body_markdown":"Your code finds all the elements of the first list which are not present in the second list. It doesn&#39;t find the elements of the second list not present in the first list.","body":"Your code finds all the elements of the first list which are not present in the second list. It doesn&#39;t find the elements of the second list not present in the first list."},{"owner":{"account_id":4281721,"reputation":1308,"user_id":3500874,"accept_rate":40,"display_name":"Aishu"},"score":0,"creation_date":1497253859,"post_id":44493858,"comment_id":75981447,"body_markdown":"@KishanCS - Have u tested that code whatever the link u shared","body":"@KishanCS - Have u tested that code whatever the link u shared"},{"owner":{"account_id":4281721,"reputation":1308,"user_id":3500874,"accept_rate":40,"display_name":"Aishu"},"score":0,"creation_date":1497253937,"post_id":44493858,"comment_id":75981504,"body_markdown":"I&#39;m not sure why my question got downvoted. Please provide justification if u think it is not valid","body":"I&#39;m not sure why my question got downvoted. Please provide justification if u think it is not valid"},{"owner":{"account_id":4281721,"reputation":1308,"user_id":3500874,"accept_rate":40,"display_name":"Aishu"},"score":0,"creation_date":1497254202,"post_id":44493858,"comment_id":75981666,"body_markdown":"@KishanCS - No, it is not..I want to find unique elements in both the arrays. The link u provided will find unique elements in only one array(i.e arr1)","body":"@KishanCS - No, it is not..I want to find unique elements in both the arrays. The link u provided will find unique elements in only one array(i.e arr1)"},{"owner":{"account_id":7996309,"reputation":1367,"user_id":6032482,"accept_rate":60,"display_name":"KishanCS"},"score":0,"creation_date":1497255315,"post_id":44493858,"comment_id":75982282,"body_markdown":"Check the bellow answer","body":"Check the bellow answer"}],"answers":[{"tags":[],"owner":{"account_id":8870738,"reputation":1640,"user_id":6624525,"accept_rate":86,"display_name":"Markus G."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497253429,"creation_date":1497253429,"answer_id":44493954,"question_id":44493858,"body_markdown":"You have to add a second for-loop to check if elements of arr2 are in arr1 cause you are only checking if elements of arr1 are in arr2\r\n\r\n    public static void main(String[] args) {\r\n            // TODO Auto-generated method stub\r\n    \r\n            int[] arr1 = new int[] { 1, 2, 3, 4, 5, 6 };\r\n            int[] arr2 = new int[] { 5, 6, 7, 8 };\r\n    \r\n            boolean contains = false;\r\n            List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n            for (int i = 0; i &lt; arr1.length; i++) {\r\n                for (int j = 0; j &lt; arr2.length; j++) {\r\n                    if (arr1[i] == arr2[j]) {\r\n                        contains = true;\r\n                        break;\r\n                    }\r\n                }\r\n    \r\n                if(!contains){\r\n                    list.add(arr1[i]);\r\n                }\r\n                else{\r\n                    contains = false;\r\n                }\r\n            }\r\n           for (int i = 0; i &lt; arr2.length; i++) {\r\n                for (int j = 0; j &lt; arr1.length; j++) {\r\n                    if (arr1[i] == arr2[j]) {\r\n                        contains = true;\r\n                        break;\r\n                    }\r\n                }\r\n    \r\n                if(!contains){\r\n                    list.add(arr2[i]);\r\n                }\r\n                else{\r\n                    contains = false;\r\n                }\r\n            }\r\n            System.out.println(list);\r\n    \r\n        }","title":"Java - Finding unique elements in two different arrays","body":"<p>You have to add a second for-loop to check if elements of arr2 are in arr1 cause you are only checking if elements of arr1 are in arr2</p>\n\n<pre><code>public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        int[] arr1 = new int[] { 1, 2, 3, 4, 5, 6 };\n        int[] arr2 = new int[] { 5, 6, 7, 8 };\n\n        boolean contains = false;\n        List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n        for (int i = 0; i &lt; arr1.length; i++) {\n            for (int j = 0; j &lt; arr2.length; j++) {\n                if (arr1[i] == arr2[j]) {\n                    contains = true;\n                    break;\n                }\n            }\n\n            if(!contains){\n                list.add(arr1[i]);\n            }\n            else{\n                contains = false;\n            }\n        }\n       for (int i = 0; i &lt; arr2.length; i++) {\n            for (int j = 0; j &lt; arr1.length; j++) {\n                if (arr1[i] == arr2[j]) {\n                    contains = true;\n                    break;\n                }\n            }\n\n            if(!contains){\n                list.add(arr2[i]);\n            }\n            else{\n                contains = false;\n            }\n        }\n        System.out.println(list);\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7996309,"reputation":1367,"user_id":6032482,"accept_rate":60,"display_name":"KishanCS"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1497257960,"creation_date":1497254663,"answer_id":44494318,"question_id":44493858,"body_markdown":"This solves your problem:\r\n\r\n\r\n   \tpublic static void main(String[] args) {\r\n\r\n\t\t// Make the two lists\r\n\t\tList&lt;Integer&gt; list1 = Arrays.asList(1, 2, 3, 4, 4, 5, 6);\r\n\t\tList&lt;Integer&gt; list2 = Arrays.asList(5, 6, 7, 8);\r\n\t\t// Prepare a union\r\n\t\tSet&lt;Integer&gt; union = new HashSet&lt;Integer&gt;(list1);\r\n\t\tunion.addAll(list2);\r\n\t\t// Prepare an intersection\r\n\t\tSet&lt;Integer&gt; intersection = new HashSet&lt;Integer&gt;(list1);\r\n\t\tintersection.retainAll(list2);\r\n\t\t// Subtract the intersection from the union\r\n\t\tunion.removeAll(intersection);\r\n\t\t// Print the result\r\n\t\tfor (Integer n : union) {\r\n\t\t\tSystem.out.println(n);\r\n\t\t}\r\n\t}","title":"Java - Finding unique elements in two different arrays","body":"<p>This solves your problem:</p>\n\n<pre><code>public static void main(String[] args) {\n\n    // Make the two lists\n    List&lt;Integer&gt; list1 = Arrays.asList(1, 2, 3, 4, 4, 5, 6);\n    List&lt;Integer&gt; list2 = Arrays.asList(5, 6, 7, 8);\n    // Prepare a union\n    Set&lt;Integer&gt; union = new HashSet&lt;Integer&gt;(list1);\n    union.addAll(list2);\n    // Prepare an intersection\n    Set&lt;Integer&gt; intersection = new HashSet&lt;Integer&gt;(list1);\n    intersection.retainAll(list2);\n    // Subtract the intersection from the union\n    union.removeAll(intersection);\n    // Print the result\n    for (Integer n : union) {\n        System.out.println(n);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9487126,"reputation":347,"user_id":7053196,"display_name":"Haythem ROUIS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497256297,"creation_date":1497256297,"answer_id":44494792,"question_id":44493858,"body_markdown":"A more optimized way would be using list iterators. \r\n\r\n            int[] arr1 = new int[] { 1, 2, 3, 4, 5, 6 };\r\n    \t\tint[] arr2 = new int[] { 5, 6, 7, 8 };\r\n    \r\n    \t\tList&lt;Integer&gt; list1 = IntStream.of(arr1).boxed().collect(Collectors.toList());\r\n    \t\tList&lt;Integer&gt; list2 = IntStream.of(arr2).boxed().collect(Collectors.toList());\r\n    \r\n    \t\tIterator list1Iter = list1.iterator();\r\n    \t\tboolean contains = false;\r\n    \t\twhile(list1Iter.hasNext()) {\r\n    \t\t\tint val1 = (int)list1Iter.next();\r\n    \t\t\tIterator list2Iter = list2.iterator();\r\n    \t\t\twhile(list2Iter.hasNext()) {\r\n    \t\t\t\tint val2 = (int)list2Iter.next();\r\n    \t\t\t\tif( val1 == val2) {\r\n                        // remove duplicate\r\n    \t\t\t\t\tlist1Iter.remove();\r\n    \t\t\t\t\tlist2Iter.remove();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tlist1.addAll(list2);\r\n    \t\tfor( Object val : list1) {\r\n    \t\t\tSystem.out.println(val);\r\n    \t\t}\r\n\r\nIf you are using Java 8, you can do the following  : \r\n\r\n\tList resultList = list1.stream().filter(nbr -&gt;  !list2.contains(nbr)).collect(Collectors.toList());\r\n\tresultList.addAll(list2.stream().filter(nbr -&gt; !list1.contains(nbr)).collect(Collectors.toList()));\r\n\r\n","title":"Java - Finding unique elements in two different arrays","body":"<p>A more optimized way would be using list iterators. </p>\n\n<pre><code>        int[] arr1 = new int[] { 1, 2, 3, 4, 5, 6 };\n        int[] arr2 = new int[] { 5, 6, 7, 8 };\n\n        List&lt;Integer&gt; list1 = IntStream.of(arr1).boxed().collect(Collectors.toList());\n        List&lt;Integer&gt; list2 = IntStream.of(arr2).boxed().collect(Collectors.toList());\n\n        Iterator list1Iter = list1.iterator();\n        boolean contains = false;\n        while(list1Iter.hasNext()) {\n            int val1 = (int)list1Iter.next();\n            Iterator list2Iter = list2.iterator();\n            while(list2Iter.hasNext()) {\n                int val2 = (int)list2Iter.next();\n                if( val1 == val2) {\n                    // remove duplicate\n                    list1Iter.remove();\n                    list2Iter.remove();\n                }\n            }\n        }\n        list1.addAll(list2);\n        for( Object val : list1) {\n            System.out.println(val);\n        }\n</code></pre>\n\n<p>If you are using Java 8, you can do the following  : </p>\n\n<pre><code>List resultList = list1.stream().filter(nbr -&gt;  !list2.contains(nbr)).collect(Collectors.toList());\nresultList.addAll(list2.stream().filter(nbr -&gt; !list1.contains(nbr)).collect(Collectors.toList()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497256371,"creation_date":1497256371,"answer_id":44494814,"question_id":44493858,"body_markdown":"If you are using java 8 i would suggest this solution :\r\n\r\n    public static void main(String[] args) {\r\n        int[] arr1 = new int[]{1, 2, 3, 4, 5, 6};\r\n        int[] arr2 = new int[]{5, 6, 7, 8};\r\n    \r\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();//create a list or Integers\r\n        //add the values of the two arrays in this list\r\n        list.addAll(Arrays.stream(arr1).boxed().collect(Collectors.toList()));\r\n        list.addAll(Arrays.stream(arr2).boxed().collect(Collectors.toList()));\r\n    \r\n        //we need a set to check if the element is duplicate or not\r\n        Set&lt;Integer&gt; set = new HashSet();\r\n        List&lt;Integer&gt; result = new ArrayList&lt;&gt;(list);\r\n\r\n        //loop throw your list, and check if you can add this element to the set\r\n        // or not, if not this mean it is duplicate you have to remove it from your list\r\n        list.stream().filter((i) -&gt; (!set.add(i))).forEachOrdered((i) -&gt; {\r\n            result.removeAll(Collections.singleton(i));\r\n        });\r\n\r\n        System.out.println(result);\r\n    }\r\n\r\n**Output**\r\n\r\n    [1, 2, 3, 4, 7, 8]\r\n\r\n---\r\n\r\nTo solve this problem, i based to this posts : https://stackoverflow.com/questions/7414667/identify-duplicates-in-a-list","title":"Java - Finding unique elements in two different arrays","body":"<p>If you are using java 8 i would suggest this solution :</p>\n\n<pre><code>public static void main(String[] args) {\n    int[] arr1 = new int[]{1, 2, 3, 4, 5, 6};\n    int[] arr2 = new int[]{5, 6, 7, 8};\n\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();//create a list or Integers\n    //add the values of the two arrays in this list\n    list.addAll(Arrays.stream(arr1).boxed().collect(Collectors.toList()));\n    list.addAll(Arrays.stream(arr2).boxed().collect(Collectors.toList()));\n\n    //we need a set to check if the element is duplicate or not\n    Set&lt;Integer&gt; set = new HashSet();\n    List&lt;Integer&gt; result = new ArrayList&lt;&gt;(list);\n\n    //loop throw your list, and check if you can add this element to the set\n    // or not, if not this mean it is duplicate you have to remove it from your list\n    list.stream().filter((i) -&gt; (!set.add(i))).forEachOrdered((i) -&gt; {\n        result.removeAll(Collections.singleton(i));\n    });\n\n    System.out.println(result);\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>[1, 2, 3, 4, 7, 8]\n</code></pre>\n\n<hr>\n\n<p>To solve this problem, i based to this posts : <a href=\"https://stackoverflow.com/questions/7414667/identify-duplicates-in-a-list\">Identify duplicates in a List</a></p>\n"},{"tags":[],"owner":{"account_id":3971227,"reputation":8507,"user_id":3275788,"display_name":"wumpz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497278205,"creation_date":1497257856,"answer_id":44495271,"question_id":44493858,"body_markdown":"And here another streaming (Java 8) solution. Using streams one should avoid modifying stream outside variables.\r\n\r\nThe idea here is to union the lists and then to count the occurance of each item. All items with count 1 are only in one list. Those are collected to the result list.\r\n\r\n        //using here Integer instead of atomic int, simplifies the union.\r\n        Integer[] arr1 = new Integer[]{1, 2, 3, 4, 5, 6};\r\n        Integer[] arr2 = new Integer[]{5, 6, 7, 8};\r\n\r\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n        list.addAll(new HashSet&lt;&gt;(Arrays.asList(arr1)));\r\n        list.addAll(new HashSet&lt;&gt;(Arrays.asList(arr2)));\r\n\r\n        System.out.println(\r\n                list.stream()\r\n                        .collect(groupingBy(identity(), counting()))\r\n                        .entrySet().stream()\r\n                        .filter(i -&gt; i.getValue() == 1)\r\n                        .map(i -&gt; i.getKey())\r\n                        .collect(toList())\r\n        );\r\n\r\n\r\n**EDIT:**\r\nChanged this answer to adress multiples within one list problem.","title":"Java - Finding unique elements in two different arrays","body":"<p>And here another streaming (Java 8) solution. Using streams one should avoid modifying stream outside variables.</p>\n\n<p>The idea here is to union the lists and then to count the occurance of each item. All items with count 1 are only in one list. Those are collected to the result list.</p>\n\n<pre><code>    //using here Integer instead of atomic int, simplifies the union.\n    Integer[] arr1 = new Integer[]{1, 2, 3, 4, 5, 6};\n    Integer[] arr2 = new Integer[]{5, 6, 7, 8};\n\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n    list.addAll(new HashSet&lt;&gt;(Arrays.asList(arr1)));\n    list.addAll(new HashSet&lt;&gt;(Arrays.asList(arr2)));\n\n    System.out.println(\n            list.stream()\n                    .collect(groupingBy(identity(), counting()))\n                    .entrySet().stream()\n                    .filter(i -&gt; i.getValue() == 1)\n                    .map(i -&gt; i.getKey())\n                    .collect(toList())\n    );\n</code></pre>\n\n<p><strong>EDIT:</strong>\nChanged this answer to adress multiples within one list problem.</p>\n"},{"tags":[],"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1497261117,"creation_date":1497258635,"answer_id":44495566,"question_id":44493858,"body_markdown":"Using HashSet, for educative purposes, which could be very fast if lists are big:\r\n\r\n      public static void main(final String[] args) {\r\n        final List&lt;Integer&gt; list1 = new ArrayList&lt;&gt;(Arrays.asList(1, 2, 3, 4, 5, 6));\r\n        final Set&lt;Integer&gt; set1 = new HashSet&lt;&gt;(list1);\r\n\r\n        final List&lt;Integer&gt; list2 = new ArrayList&lt;&gt;(Arrays.asList(5, 6, 7, 8));\r\n        final Set&lt;Integer&gt; set2 = new HashSet&lt;&gt;(list2);\r\n    \r\n        set1.retainAll(set2); // Keep union.\r\n    \r\n        // Remove union to keep only unique items.\r\n        list1.removeAll(set1);\r\n        list2.removeAll(set1);\r\n    \r\n        // Accumulate unique items.\r\n        list1.addAll(list2);\r\n\r\n        System.out.println(new HashSet&lt;&gt;(list1));\r\n        // [1,2,3,4,7,8]\r\n      }\r\n\r\n","title":"Java - Finding unique elements in two different arrays","body":"<p>Using HashSet, for educative purposes, which could be very fast if lists are big:</p>\n\n<pre><code>  public static void main(final String[] args) {\n    final List&lt;Integer&gt; list1 = new ArrayList&lt;&gt;(Arrays.asList(1, 2, 3, 4, 5, 6));\n    final Set&lt;Integer&gt; set1 = new HashSet&lt;&gt;(list1);\n\n    final List&lt;Integer&gt; list2 = new ArrayList&lt;&gt;(Arrays.asList(5, 6, 7, 8));\n    final Set&lt;Integer&gt; set2 = new HashSet&lt;&gt;(list2);\n\n    set1.retainAll(set2); // Keep union.\n\n    // Remove union to keep only unique items.\n    list1.removeAll(set1);\n    list2.removeAll(set1);\n\n    // Accumulate unique items.\n    list1.addAll(list2);\n\n    System.out.println(new HashSet&lt;&gt;(list1));\n    // [1,2,3,4,7,8]\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12696458,"reputation":1,"user_id":9224741,"display_name":"Goal Android"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516112975,"creation_date":1516112975,"answer_id":48283538,"question_id":44493858,"body_markdown":"    import java.util.Scanner;\r\n    import java.io.*;\r\n    \r\n    \r\n    public class CandidateCode{\r\n        static int count =0;\r\n        public static void main(String args[])\r\n        {\r\n            \r\n        int n,n1;\r\n        Scanner sc=new Scanner(System.in);\r\n        System.out.println(&quot;Enter no. of elements for first array&quot;);\r\n        n=sc.nextInt();\r\n        int arr[]=new int[n];\r\n        System.out.println(&quot;Enter the elements of first array&quot;);\r\n        for(int i=0;i&lt;n;i++)\r\n        {\r\n            arr[i]=sc.nextInt();\r\n            \r\n        }\r\n        System.out.println(&quot;Enter no. of elements for second array&quot;);\r\n        n1=sc.nextInt();\r\n        int arr1[]=new int[n1];\r\n        System.out.println(&quot;Enter the elements of second array&quot;);\r\n        for(int i=0;i&lt;n1;i++)\r\n        {\r\n            arr1[i]=sc.nextInt();\r\n            \r\n        }\r\n        unique_ele(arr,arr1);\r\n        unique_ele(arr1,arr);\r\n        System.out.println(&quot;The number of unique elements are&quot;);\r\n        System.out.println(count);\r\n        }\r\n        public static int unique_ele(int arr2[],int arr3[])\r\n        {\r\n            boolean contains = false;\r\n            for(int i=0;i&lt;arr2.length;i++)\r\n            {\r\n                for(int j=0;j&lt;arr3.length;j++)\r\n                {\r\n                    if (arr2[i] == arr3[j]) {\r\n                        contains = true;\r\n                        break;\r\n                    }            \r\n                    \r\n                }\r\n                 if(!contains){\r\n                   count++;\r\n                }\r\n                else{\r\n                    contains = false;\r\n                }\r\n            }\r\n            \r\n            return count;    \r\n        }\r\n          \r\n    }\r\n         \r\n","title":"Java - Finding unique elements in two different arrays","body":"<pre><code>import java.util.Scanner;\nimport java.io.*;\n\n\npublic class CandidateCode{\n    static int count =0;\n    public static void main(String args[])\n    {\n\n    int n,n1;\n    Scanner sc=new Scanner(System.in);\n    System.out.println(\"Enter no. of elements for first array\");\n    n=sc.nextInt();\n    int arr[]=new int[n];\n    System.out.println(\"Enter the elements of first array\");\n    for(int i=0;i&lt;n;i++)\n    {\n        arr[i]=sc.nextInt();\n\n    }\n    System.out.println(\"Enter no. of elements for second array\");\n    n1=sc.nextInt();\n    int arr1[]=new int[n1];\n    System.out.println(\"Enter the elements of second array\");\n    for(int i=0;i&lt;n1;i++)\n    {\n        arr1[i]=sc.nextInt();\n\n    }\n    unique_ele(arr,arr1);\n    unique_ele(arr1,arr);\n    System.out.println(\"The number of unique elements are\");\n    System.out.println(count);\n    }\n    public static int unique_ele(int arr2[],int arr3[])\n    {\n        boolean contains = false;\n        for(int i=0;i&lt;arr2.length;i++)\n        {\n            for(int j=0;j&lt;arr3.length;j++)\n            {\n                if (arr2[i] == arr3[j]) {\n                    contains = true;\n                    break;\n                }            \n\n            }\n             if(!contains){\n               count++;\n            }\n            else{\n                contains = false;\n            }\n        }\n\n        return count;    \n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9902388,"reputation":189,"user_id":7332002,"display_name":"Muhammad Aasharib Nawshad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557073690,"creation_date":1557073690,"answer_id":55994074,"question_id":44493858,"body_markdown":"    public static ArrayList&lt;Integer&gt; findUniqueAmongLists(ArrayList&lt;Integer&gt; a, ArrayList&lt;Integer&gt; b){\r\n        \tArrayList&lt;Integer&gt; uniqueArr = new ArrayList&lt;&gt;();\r\n        \tArrayList&lt;Integer&gt; duplicateArr = new ArrayList&lt;&gt;();\r\n        \tfor(int i=0; i&lt; a.size(); i++){\r\n        \t\tif(!duplicateArr.contains(a.get(i))){\r\n        \t\t\tuniqueArr.add(a.get(i));\r\n        \t\t\tduplicateArr.add(a.get(i));\r\n        \t\t}\r\n        \t\telse{\r\n        \t\t\tuniqueArr.remove(a.get(i));\r\n        \t\t}\r\n        \t}\r\n        \tfor(int j=0; j&lt; b.size(); j++){\r\n        \t\tif(!duplicateArr.contains(b.get(j))){\r\n        \t\t\tuniqueArr.add(b.get(j));\r\n        \t\t\tduplicateArr.add(b.get(j));\r\n        \t\t}\r\n        \t\telse{\r\n        \t\t\tuniqueArr.remove(b.get(j));\r\n        \t\t}\r\n        \t}\r\n        \treturn uniqueArr;\r\n        }","title":"Java - Finding unique elements in two different arrays","body":"<pre><code>public static ArrayList&lt;Integer&gt; findUniqueAmongLists(ArrayList&lt;Integer&gt; a, ArrayList&lt;Integer&gt; b){\n        ArrayList&lt;Integer&gt; uniqueArr = new ArrayList&lt;&gt;();\n        ArrayList&lt;Integer&gt; duplicateArr = new ArrayList&lt;&gt;();\n        for(int i=0; i&lt; a.size(); i++){\n            if(!duplicateArr.contains(a.get(i))){\n                uniqueArr.add(a.get(i));\n                duplicateArr.add(a.get(i));\n            }\n            else{\n                uniqueArr.remove(a.get(i));\n            }\n        }\n        for(int j=0; j&lt; b.size(); j++){\n            if(!duplicateArr.contains(b.get(j))){\n                uniqueArr.add(b.get(j));\n                duplicateArr.add(b.get(j));\n            }\n            else{\n                uniqueArr.remove(b.get(j));\n            }\n        }\n        return uniqueArr;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18524246,"reputation":1,"user_id":13496485,"display_name":"himani tiwari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589162435,"creation_date":1589137540,"answer_id":61717339,"question_id":44493858,"body_markdown":"    int[] arr1 = new int[] { 1, 2, 3, 4, 5, 6 };\r\n\t\tint[] arr2 = new int[] { 5, 6, 7, 8 };\r\n\r\n\t\tboolean contains = false;\r\n\t\tList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n\t\tfor (int i = 0; i &lt; arr1.length; i++) {\r\n\t\t\tfor (int j = 0; j &lt; arr2.length; j++) {\r\n\t\t\t\tif (arr1[i] == arr2[j]) {\r\n\t\t\t\t\tcontains = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (!contains) {\r\n\t\t\t\tlist.add(arr1[i]);\r\n\r\n\t\t\t} else {\r\n\t\t\t\tcontains = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (int j = 0; j &lt; arr2.length; j++) {\r\n\t\t\tfor (int k = 0; k &lt; arr1.length; k++) {\r\n\t\t\t\tif (arr2[j] == arr1[k]) {\r\n\t\t\t\t\tcontains = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\tif (!contains) {\r\n\r\n\t\t\t\tlist.add(arr2[j]);\r\n\t\t\t} else {\r\n\t\t\t\tcontains = false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(list);\r\n\t}","title":"Java - Finding unique elements in two different arrays","body":"<pre><code>int[] arr1 = new int[] { 1, 2, 3, 4, 5, 6 };\n    int[] arr2 = new int[] { 5, 6, 7, 8 };\n\n    boolean contains = false;\n    List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n    for (int i = 0; i &lt; arr1.length; i++) {\n        for (int j = 0; j &lt; arr2.length; j++) {\n            if (arr1[i] == arr2[j]) {\n                contains = true;\n                break;\n            }\n\n        }\n\n        if (!contains) {\n            list.add(arr1[i]);\n\n        } else {\n            contains = false;\n        }\n    }\n\n    for (int j = 0; j &lt; arr2.length; j++) {\n        for (int k = 0; k &lt; arr1.length; k++) {\n            if (arr2[j] == arr1[k]) {\n                contains = true;\n                break;\n            }\n\n        }\n        if (!contains) {\n\n            list.add(arr2[j]);\n        } else {\n            contains = false;\n        }\n    }\n    System.out.println(list);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16569445,"reputation":222,"user_id":11973019,"display_name":"Nuwan Harshakumara Piyarathna"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1676387155,"creation_date":1589159757,"answer_id":61720835,"question_id":44493858,"body_markdown":"Actually, there is a more simple solution using Java TreeSet.java TreeSet doesn&#39;t contain duplicate elements. Therefore, all you have to do is create a TreeSet and adding all elements to it. It also keeps the natural (sorted) Order.\r\n\r\n    public static void main(String[] args) {\r\n        int[] arr1 = new int[] { 1, 2, 3, 4, 5, 6 };\r\n        int[] arr2 = new int[] { 5, 6, 7, 8 };\r\n        TreeSet&lt;Integer&gt; set = new TreeSet&lt;&gt;();\r\n        for (int i:arr1) {\r\n            set.add(i);\r\n        }\r\n        for (int i:arr2) {\r\n            set.add(i);\r\n        }\r\n        System.out.println(set);\r\n    }\r\noutput: [1, 2, 3, 4, 5, 6, 7, 8]","title":"Java - Finding unique elements in two different arrays","body":"<p>Actually, there is a more simple solution using Java TreeSet.java TreeSet doesn't contain duplicate elements. Therefore, all you have to do is create a TreeSet and adding all elements to it. It also keeps the natural (sorted) Order.</p>\n<pre><code>public static void main(String[] args) {\n    int[] arr1 = new int[] { 1, 2, 3, 4, 5, 6 };\n    int[] arr2 = new int[] { 5, 6, 7, 8 };\n    TreeSet&lt;Integer&gt; set = new TreeSet&lt;&gt;();\n    for (int i:arr1) {\n        set.add(i);\n    }\n    for (int i:arr2) {\n        set.add(i);\n    }\n    System.out.println(set);\n}\n</code></pre>\n<p>output: [1, 2, 3, 4, 5, 6, 7, 8]</p>\n"},{"tags":[],"owner":{"account_id":20425721,"reputation":21,"user_id":14985771,"display_name":"prakash k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619351949,"creation_date":1612590604,"answer_id":66073977,"question_id":44493858,"body_markdown":"```\r\npublic class UniqueElementFrom2array {\r\n\r\n\tpublic static void main(String[] args) \r\n\t{      \r\n      int[] a= {1,2,3,4,5,6,7};\r\n      int[] b= {1,2,3,8,9,4,10,11,12};\r\n      int[] c=new int[a.length+b.length];\r\n        int len1=a.length;\r\n        int len2=b.length;\r\n        System.arraycopy(a, 0, c, 0, len1);\r\n        System.arraycopy(b, 0, c, len1,len2);\r\n        Arrays.sort(c);\r\n        System.out.println(Arrays.toString(c));\r\n        Set s=new HashSet();\r\n        \r\n    for(int i=0;i&lt;c.length;i++)\r\n    {\r\n    \tif(!s.contains(c[i]))\r\n    \t{\r\n    \t\ts.add(c[i]);\r\n            System.out.print(c[i] + &quot; &quot;); \r\n    \t}\r\n    }\r\n\t}\r\n}\r\n```","title":"Java - Finding unique elements in two different arrays","body":"<pre><code>public class UniqueElementFrom2array {\n\n    public static void main(String[] args) \n    {      \n      int[] a= {1,2,3,4,5,6,7};\n      int[] b= {1,2,3,8,9,4,10,11,12};\n      int[] c=new int[a.length+b.length];\n        int len1=a.length;\n        int len2=b.length;\n        System.arraycopy(a, 0, c, 0, len1);\n        System.arraycopy(b, 0, c, len1,len2);\n        Arrays.sort(c);\n        System.out.println(Arrays.toString(c));\n        Set s=new HashSet();\n        \n    for(int i=0;i&lt;c.length;i++)\n    {\n        if(!s.contains(c[i]))\n        {\n            s.add(c[i]);\n            System.out.print(c[i] + &quot; &quot;); \n        }\n    }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19105206,"reputation":551,"user_id":13952516,"display_name":"SudhakarH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629983580,"creation_date":1629983580,"answer_id":68939194,"question_id":44493858,"body_markdown":"A complete code using TreeSet in java.\r\n\r\n    import java.util.*;\r\n    import java.util.Scanner;\r\n    public class Main\r\n    {\r\n        public static void uniqElements(int arr1[], int arr2[],int n){\r\n            TreeSet&lt;Integer&gt; set1 = new TreeSet&lt;&gt;();\r\n            TreeSet&lt;Integer&gt; set2 = new TreeSet&lt;&gt;();\r\n            TreeSet&lt;Integer&gt; set3 = new TreeSet&lt;&gt;();\r\n            TreeSet&lt;Integer&gt; set4 = new TreeSet&lt;&gt;();\r\n            for (int i:arr1) {\r\n                set1.add(i);\r\n                set3.add(i);\r\n            }\r\n            for (int i:arr2) {\r\n                set2.add(i);\r\n                set4.add(i);\r\n            }\r\n            set3.addAll(set4);\r\n            set1.retainAll(set2);\r\n            set3.removeAll(set1);\r\n            System.out.println(set3);\r\n        \r\n        }\r\n\t    public static void main(String[] args) {\r\n\t\t    Scanner sc = new Scanner(System.in);\r\n\t\t    int n = sc.nextInt();\r\n\t\t    int[] arr1 = new int[n];\r\n\t\t    int[] arr2 = new int[n];\r\n\t\t    for(int i =0;i&lt;n;i++){\r\n\t\t        arr1[i]=sc.nextInt();\r\n\t\t    }\r\n\t\t    for(int i =0;i&lt;n;i++){\r\n\t\t        arr2[i]=sc.nextInt();\r\n\t\t    }\r\n\t\t    uniqElements(arr1,arr2,n);\r\n\t\t\r\n\t    }\r\n    }\r\n","title":"Java - Finding unique elements in two different arrays","body":"<p>A complete code using TreeSet in java.</p>\n<pre><code>import java.util.*;\nimport java.util.Scanner;\npublic class Main\n{\n    public static void uniqElements(int arr1[], int arr2[],int n){\n        TreeSet&lt;Integer&gt; set1 = new TreeSet&lt;&gt;();\n        TreeSet&lt;Integer&gt; set2 = new TreeSet&lt;&gt;();\n        TreeSet&lt;Integer&gt; set3 = new TreeSet&lt;&gt;();\n        TreeSet&lt;Integer&gt; set4 = new TreeSet&lt;&gt;();\n        for (int i:arr1) {\n            set1.add(i);\n            set3.add(i);\n        }\n        for (int i:arr2) {\n            set2.add(i);\n            set4.add(i);\n        }\n        set3.addAll(set4);\n        set1.retainAll(set2);\n        set3.removeAll(set1);\n        System.out.println(set3);\n    \n    }\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt();\n        int[] arr1 = new int[n];\n        int[] arr2 = new int[n];\n        for(int i =0;i&lt;n;i++){\n            arr1[i]=sc.nextInt();\n        }\n        for(int i =0;i&lt;n;i++){\n            arr2[i]=sc.nextInt();\n        }\n        uniqElements(arr1,arr2,n);\n    \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":371425,"reputation":3209,"user_id":719950,"accept_rate":41,"display_name":"Jeets"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648229279,"creation_date":1648229279,"answer_id":71620933,"question_id":44493858,"body_markdown":"    \r\n\r\n        public static void main(String[] args) {\r\n            int[] arr1 = new int[] { 1, 2, 3, 4, 5, 6 };\r\n            int[] arr2 = new int[] { 5, 6, 7, 8 };\r\n            System.out.println(Stream.concat(Arrays.stream(arr1).boxed(), Arrays.stream(arr2).boxed()).distinct().collect(Collectors.toList()));\r\n    }\r\n\r\n","title":"Java - Finding unique elements in two different arrays","body":"<pre><code>    public static void main(String[] args) {\n        int[] arr1 = new int[] { 1, 2, 3, 4, 5, 6 };\n        int[] arr2 = new int[] { 5, 6, 7, 8 };\n        System.out.println(Stream.concat(Arrays.stream(arr1).boxed(), Arrays.stream(arr2).boxed()).distinct().collect(Collectors.toList()));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19318640,"reputation":121,"user_id":14122804,"display_name":"devtunus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654497854,"creation_date":1654497854,"answer_id":72513953,"question_id":44493858,"body_markdown":"1. Merge all array.\r\n2. Remove elements at merged array that contains second array value.\r\n\r\n```\r\nimport java.util.TreeSet;\r\n\r\npublic class ArrayUnique {\r\n    public static void getUniqueElements(int arr1[], int arr2[]){\r\n\r\n        // Merge all array with treeset \r\n        // it will remove duplicate element\r\n\r\n        TreeSet&lt;Integer&gt; all= new TreeSet&lt;&gt;();\r\n        TreeSet&lt;Integer&gt; secondArray= new TreeSet&lt;&gt;();\r\n        \r\n        for(int i:arr1){\r\n            all.add(i);\r\n        }\r\n        for(int i:arr2){\r\n            all.add(i);\r\n            secondArray.add(i);\r\n        }\r\n\r\n        //Delete element that contains secondArray value\r\n        all.removeAll(secondArray);\r\n\r\n        //print to console\r\n        System.out.println(all);\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        \r\n         int[] arr1 = {1,2,3,4};\r\n         int[] arr2 = {1,3,5,10,16};\r\n         getUniqueElements(arr1,arr2);\r\n\r\n         //Result: [2,4]\r\n    \r\n    }\r\n}\r\n\r\n\r\n```","title":"Java - Finding unique elements in two different arrays","body":"<ol>\n<li>Merge all array.</li>\n<li>Remove elements at merged array that contains second array value.</li>\n</ol>\n<pre><code>import java.util.TreeSet;\n\npublic class ArrayUnique {\n    public static void getUniqueElements(int arr1[], int arr2[]){\n\n        // Merge all array with treeset \n        // it will remove duplicate element\n\n        TreeSet&lt;Integer&gt; all= new TreeSet&lt;&gt;();\n        TreeSet&lt;Integer&gt; secondArray= new TreeSet&lt;&gt;();\n        \n        for(int i:arr1){\n            all.add(i);\n        }\n        for(int i:arr2){\n            all.add(i);\n            secondArray.add(i);\n        }\n\n        //Delete element that contains secondArray value\n        all.removeAll(secondArray);\n\n        //print to console\n        System.out.println(all);\n    }\n\n\n    public static void main(String[] args) {\n        \n         int[] arr1 = {1,2,3,4};\n         int[] arr2 = {1,3,5,10,16};\n         getUniqueElements(arr1,arr2);\n\n         //Result: [2,4]\n    \n    }\n}\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25356455,"reputation":61,"user_id":19172498,"display_name":"Kishor Mandve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654499228,"creation_date":1654499228,"answer_id":72514162,"question_id":44493858,"body_markdown":"Try this:\r\n\r\n    \tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tint[] arr1 = new int[] { 1, 2, 3, 4, 5, 6 };\r\n\t\tint[] arr2 = new int[] { 5, 6, 7, 8 };\r\n\t\tList&lt;Integer&gt; list = Stream.concat(Arrays.stream(arr1).boxed(), Arrays.stream(arr2).boxed()).distinct().collect(Collectors.toList());\r\n\t\tSystem.out.println(list);\r\n\r\n\t}\r\n\r\nhope this will resolve issue.","title":"Java - Finding unique elements in two different arrays","body":"<p>Try this:</p>\n<pre><code>    public static void main(String[] args) {\n    // TODO Auto-generated method stub\n    int[] arr1 = new int[] { 1, 2, 3, 4, 5, 6 };\n    int[] arr2 = new int[] { 5, 6, 7, 8 };\n    List&lt;Integer&gt; list = Stream.concat(Arrays.stream(arr1).boxed(), Arrays.stream(arr2).boxed()).distinct().collect(Collectors.toList());\n    System.out.println(list);\n\n}\n</code></pre>\n<p>hope this will resolve issue.</p>\n"},{"tags":[],"owner":{"account_id":21066371,"reputation":41,"user_id":15483536,"display_name":"RAJDEEP SONDARVA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660679900,"creation_date":1660679242,"answer_id":73379545,"question_id":44493858,"body_markdown":"This will give you the unique values from two arrays;\r\n\r\n    public static String[] uniqueArr(String[] names1, String[] \r\n    names2) \r\n    {\r\n    Set&lt;String&gt; set = new HashSet&lt;&gt;(new\r\n    LinkedList&lt;&gt;(Stream.of(names1,\r\n    names2).flatMap(Stream::of).collect(Collectors.toList())));\r\n    String[] arr = new String[set.size()];\r\n    set.toArray(arr);\r\n    return arr;\r\n    }","title":"Java - Finding unique elements in two different arrays","body":"<p>This will give you the unique values from two arrays;</p>\n<pre><code>public static String[] uniqueArr(String[] names1, String[] \nnames2) \n{\nSet&lt;String&gt; set = new HashSet&lt;&gt;(new\nLinkedList&lt;&gt;(Stream.of(names1,\nnames2).flatMap(Stream::of).collect(Collectors.toList())));\nString[] arr = new String[set.size()];\nset.toArray(arr);\nreturn arr;\n}\n</code></pre>\n"}],"owner":{"account_id":4281721,"reputation":1308,"user_id":3500874,"accept_rate":40,"display_name":"Aishu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30970,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":16,"score":2,"last_activity_date":1676387155,"creation_date":1497253161,"question_id":44493858,"body_markdown":"I need to find the unique elements in two different arrays. \r\n\r\n    public static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \r\n    \t\tint[] arr1 = new int[] { 1, 2, 3, 4, 5, 6 };\r\n    \t\tint[] arr2 = new int[] { 5, 6, 7, 8 };\r\n    \r\n    \t\tboolean contains = false;\r\n    \t\tList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n    \t\tfor (int i = 0; i &lt; arr1.length; i++) {\r\n    \t\t\tfor (int j = 0; j &lt; arr2.length; j++) {\r\n    \t\t\t\tif (arr1[i] == arr2[j]) {\r\n    \t\t\t\t\tcontains = true;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tif(!contains){\r\n    \t\t\t\tlist.add(arr1[i]);\r\n    \t\t\t}\r\n    \t\t\telse{\r\n    \t\t\t\tcontains = false;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(list);\r\n    \r\n    \t}\r\n\r\nBut here I&#39;m getting `[1,2,3,4]` as output. But the expected output is `[1,2,3,4,7,8]`. I&#39;m not sure what I&#39;m doing wrong here. And I need it in a traditional way. I don&#39;t want to use any inbuilt methods to acheive this.\r\n\r\nNote: I feel it is not a duplicate because, the solution provided is not finding the unique elements on two arrays.\r\n\r\n","title":"Java - Finding unique elements in two different arrays","body":"<p>I need to find the unique elements in two different arrays. </p>\n\n<pre><code>public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        int[] arr1 = new int[] { 1, 2, 3, 4, 5, 6 };\n        int[] arr2 = new int[] { 5, 6, 7, 8 };\n\n        boolean contains = false;\n        List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n        for (int i = 0; i &lt; arr1.length; i++) {\n            for (int j = 0; j &lt; arr2.length; j++) {\n                if (arr1[i] == arr2[j]) {\n                    contains = true;\n                    break;\n                }\n            }\n\n            if(!contains){\n                list.add(arr1[i]);\n            }\n            else{\n                contains = false;\n            }\n        }\n        System.out.println(list);\n\n    }\n</code></pre>\n\n<p>But here I'm getting <code>[1,2,3,4]</code> as output. But the expected output is <code>[1,2,3,4,7,8]</code>. I'm not sure what I'm doing wrong here. And I need it in a traditional way. I don't want to use any inbuilt methods to acheive this.</p>\n\n<p>Note: I feel it is not a duplicate because, the solution provided is not finding the unique elements on two arrays.</p>\n"},{"tags":["java","spring-webflux","project-reactor","reactive"],"answers":[{"tags":[],"owner":{"account_id":11171319,"reputation":2160,"user_id":8198203,"accept_rate":75,"display_name":"Frischling"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1551806551,"creation_date":1551792386,"answer_id":55003975,"question_id":55001326,"body_markdown":"`Flux.range(1,10).take(1)` should do the trick (the `range(...)` part here is only to emit some sample values; if you `blockFirst()` or `subscribe()` to the stream, you should see **&#39;1&#39;**)","title":"Is it possible to get the first element from flux without converting flux into stream?","body":"<p><code>Flux.range(1,10).take(1)</code> should do the trick (the <code>range(...)</code> part here is only to emit some sample values; if you <code>blockFirst()</code> or <code>subscribe()</code> to the stream, you should see <strong>'1'</strong>)</p>\n"},{"tags":[],"owner":{"account_id":1126254,"reputation":27393,"user_id":1113486,"display_name":"Simon Basl&#233;"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1551881148,"creation_date":1551881148,"answer_id":55024995,"question_id":55001326,"body_markdown":"Alternatively to `take(1)`, if you need a `Mono&lt;T&gt;` that represents the first element of the `Flux&lt;T&gt;` you can use `.next()`.\r\n\r\nOr if you need the i-th element, use `.elementAt(i)` (must be sure that such an element exists though, unlike `take` and `next` which just return an empty publisher if not enough elements).","title":"Is it possible to get the first element from flux without converting flux into stream?","body":"<p>Alternatively to <code>take(1)</code>, if you need a <code>Mono&lt;T&gt;</code> that represents the first element of the <code>Flux&lt;T&gt;</code> you can use <code>.next()</code>.</p>\n\n<p>Or if you need the i-th element, use <code>.elementAt(i)</code> (must be sure that such an element exists though, unlike <code>take</code> and <code>next</code> which just return an empty publisher if not enough elements).</p>\n"},{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676387115,"creation_date":1675196400,"answer_id":75302706,"question_id":55001326,"body_markdown":"Also the easiest: you can convert your `Flux` to `Mono` using [Mono.from()][1]\r\n\r\n    Mono&lt;T&gt; mono = Mono.from(flux);\r\n\r\nIt takes the first element of flux or completes with empty if flux has not emitted any element.\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#from-org.reactivestreams.Publisher-","title":"Is it possible to get the first element from flux without converting flux into stream?","body":"<p>Also the easiest: you can convert your <code>Flux</code> to <code>Mono</code> using <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#from-org.reactivestreams.Publisher-\" rel=\"nofollow noreferrer\">Mono.from()</a></p>\n<pre><code>Mono&lt;T&gt; mono = Mono.from(flux);\n</code></pre>\n<p>It takes the first element of flux or completes with empty if flux has not emitted any element.</p>\n"}],"owner":{"account_id":9419109,"reputation":675,"user_id":7005973,"accept_rate":0,"display_name":"Dil1y_reddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27944,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":55024995,"answer_count":3,"score":20,"last_activity_date":1676387115,"creation_date":1551783747,"question_id":55001326,"body_markdown":"Is it possible to get the first element from flux without converting flux into stream?","title":"Is it possible to get the first element from flux without converting flux into stream?","body":"<p>Is it possible to get the first element from flux without converting flux into stream?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9344,"page":648,"page_size":100}
