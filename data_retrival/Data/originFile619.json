{"items":[{"tags":["java","amazon-web-services","spring-boot","amazon-s3"],"comments":[{"owner":{"account_id":3957272,"reputation":506,"user_id":3265362,"display_name":"nader.h"},"score":0,"creation_date":1559139153,"post_id":56362553,"comment_id":99328552,"body_markdown":"you can use a temporary file.\n`File tempFile = File. createTempFile(&quot;hello&quot;, &quot;.tmp&quot;);`\nplease have a look at https://docs.oracle.com/javase/8/docs/api/java/io/File.html#createTempFile-java.lang.String-java.lang.String-","body":"you can use a temporary file. <code>File tempFile = File. createTempFile(&quot;hello&quot;, &quot;.tmp&quot;);</code> please have a look at <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/File.html#createTempFile-java.lang.String-java.lang.String-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/io/&hellip;</a>"},{"owner":{"account_id":15859142,"reputation":881,"user_id":11442735,"display_name":"guest"},"score":0,"creation_date":1559141295,"post_id":56362553,"comment_id":99329810,"body_markdown":"How are you producing the PDF file? Are you doing the conversion to `byte[]` on your own (ie, by passing `ByteArrayOutputStream`), or does the library do that?","body":"How are you producing the PDF file? Are you doing the conversion to <code>byte[]</code> on your own (ie, by passing <code>ByteArrayOutputStream</code>), or does the library do that?"}],"answers":[{"tags":[],"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1559139468,"creation_date":1559139468,"answer_id":56362727,"question_id":56362553,"body_markdown":"The SDK offers method that take `InputStream` and `ObjectMetadata` instead of `File`. For example there is [`putObject(String bucketName, String key, InputStream input, ObjectMetadata metadata)`][1]. \r\n\r\nUse one of the provided methods and supply `ByteArrayInputStream` if you don&#39;t want to create files.\r\n\r\n  [1]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3.html#putObject-java.lang.String-java.lang.String-java.io.InputStream-com.amazonaws.services.s3.model.ObjectMetadata-","title":"Store byte contents in S3","body":"<p>The SDK offers method that take <code>InputStream</code> and <code>ObjectMetadata</code> instead of <code>File</code>. For example there is <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3.html#putObject-java.lang.String-java.lang.String-java.io.InputStream-com.amazonaws.services.s3.model.ObjectMetadata-\" rel=\"noreferrer\"><code>putObject(String bucketName, String key, InputStream input, ObjectMetadata metadata)</code></a>. </p>\n\n<p>Use one of the provided methods and supply <code>ByteArrayInputStream</code> if you don't want to create files.</p>\n"},{"tags":[],"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1677325563,"creation_date":1559139591,"answer_id":56362765,"question_id":56362553,"body_markdown":"You can use the following method for aws file storage.\r\n```\r\nPutObjectResult\t        putObject(String bucketName, String key, InputStream input, ObjectMetadata metadata)\r\n```\r\nAws also provides the following overloaded method to use based upon the suitability.\r\n```\r\nPutObjectResult\t        putObject(PutObjectRequest putObjectRequest)\r\nPutObjectResult\t        putObject(String bucketName, String key, File file)\r\nPutObjectResult\t        putObject(String bucketName, String key, String content)\r\n```\r\nYou can convert byte[] to InputStream and you can pass in the above method. Refer below the javadocs for aws:\r\n\r\n[Amazon S3](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3.html)\r\n\r\n[PutObjectRequest](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/PutObjectRequest.html)\r\n","title":"Store byte contents in S3","body":"<p>You can use the following method for aws file storage.</p>\n<pre><code>PutObjectResult         putObject(String bucketName, String key, InputStream input, ObjectMetadata metadata)\n</code></pre>\n<p>Aws also provides the following overloaded method to use based upon the suitability.</p>\n<pre><code>PutObjectResult         putObject(PutObjectRequest putObjectRequest)\nPutObjectResult         putObject(String bucketName, String key, File file)\nPutObjectResult         putObject(String bucketName, String key, String content)\n</code></pre>\n<p>You can convert byte[] to InputStream and you can pass in the above method. Refer below the javadocs for aws:</p>\n<p><a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3.html\" rel=\"nofollow noreferrer\">Amazon S3</a></p>\n<p><a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/PutObjectRequest.html\" rel=\"nofollow noreferrer\">PutObjectRequest</a></p>\n"}],"owner":{"account_id":1992813,"reputation":1423,"user_id":1786442,"accept_rate":50,"display_name":"hopsey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4718,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":56362727,"answer_count":2,"score":4,"last_activity_date":1677325563,"creation_date":1559138974,"question_id":56362553,"body_markdown":"I need to save binary (`byte[]`) contents (PDF file) to S3. \r\n\r\nI don&#39;t want to have a hard copy existing in HDD, pdf is being generated in the fly and then it needs to be sent to S3.\r\n\r\nJava AWS SDK `AmazonS3.putObject()` requires `File` type in method signature, how can I pass my binary contents directly without saving it to hard drive?","title":"Store byte contents in S3","body":"<p>I need to save binary (<code>byte[]</code>) contents (PDF file) to S3. </p>\n\n<p>I don't want to have a hard copy existing in HDD, pdf is being generated in the fly and then it needs to be sent to S3.</p>\n\n<p>Java AWS SDK <code>AmazonS3.putObject()</code> requires <code>File</code> type in method signature, how can I pass my binary contents directly without saving it to hard drive?</p>\n"},{"tags":["java","spring","spring-batch"],"comments":[{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1677266278,"post_id":75559992,"comment_id":133310578,"body_markdown":"In your title, what is &quot;line ising&quot;? What kind of `ItemReader` are you using? One supplied by Spring Batch (e.g. `FlatFileItemReader`) or a custom one? If it&#39;s the latter, how did you implement the `read()` method? Finally, the way you have presented the examples: are the spaces supposed to be new lines? (I think so, because the incorrectly formatted block of lines (surround by back ticks) suggests this.)","body":"In your title, what is &quot;line ising&quot;? What kind of <code>ItemReader</code> are you using? One supplied by Spring Batch (e.g. <code>FlatFileItemReader</code>) or a custom one? If it&#39;s the latter, how did you implement the <code>read()</code> method? Finally, the way you have presented the examples: are the spaces supposed to be new lines? (I think so, because the incorrectly formatted block of lines (surround by back ticks) suggests this.)"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1677268739,"post_id":75559992,"comment_id":133311123,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":21083132,"reputation":3230,"user_id":15496965,"display_name":"Henning"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677325308,"creation_date":1677325308,"answer_id":75565144,"question_id":75559992,"body_markdown":"By default, the `FlatFileItemReader` considers lines starting `#` to be comments and does not parse them.\r\n\r\nYou can override this by passing a suitable String array to `FlatFileItemReader::setComments`. The array should contain all prefixes of lines that should be considered as comments. If your input does not contain any comments, you can set it to an empty array.","title":"While reading the line using item reader, when the line starts with token the file is not read","body":"<p>By default, the <code>FlatFileItemReader</code> considers lines starting <code>#</code> to be comments and does not parse them.</p>\n<p>You can override this by passing a suitable String array to <code>FlatFileItemReader::setComments</code>. The array should contain all prefixes of lines that should be considered as comments. If your input does not contain any comments, you can set it to an empty array.</p>\n"}],"owner":{"account_id":27871668,"reputation":3,"user_id":21282051,"display_name":"Srikaran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75565144,"answer_count":1,"score":-1,"last_activity_date":1677325417,"creation_date":1677262062,"question_id":75559992,"body_markdown":"I&#39;m using spring batch item reader and delimited tokeniser to read a file and map the tokens to Java objects, when the line starts with token the file is not read.\r\n\r\n    #123#456#789#\r\n    #647#847#938#\r\n    #737#938#737#\r\n\r\nBelow file works.\r\n\r\n    123#124#647#648#\r\n    123#737#747#747#\r\n    272#848#848#838#\r\n\r\nBelow file doesn&#39;t work. How to read the below file. \r\n\r\n    #123#456#789#\r\n    #647#847#938#\r\n    #737#938#737#","title":"While reading the line using item reader, when the line starts with token the file is not read","body":"<p>I'm using spring batch item reader and delimited tokeniser to read a file and map the tokens to Java objects, when the line starts with token the file is not read.</p>\n<pre><code>#123#456#789#\n#647#847#938#\n#737#938#737#\n</code></pre>\n<p>Below file works.</p>\n<pre><code>123#124#647#648#\n123#737#747#747#\n272#848#848#838#\n</code></pre>\n<p>Below file doesn't work. How to read the below file.</p>\n<pre><code>#123#456#789#\n#647#847#938#\n#737#938#737#\n</code></pre>\n"},{"tags":["java","spring-boot","amazon-ec2"],"answers":[{"tags":[],"owner":{"account_id":27832325,"reputation":2020,"user_id":21250520,"display_name":"Filippo Testini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677325367,"creation_date":1677324311,"answer_id":75565064,"question_id":75564963,"body_markdown":"User Data script are executed **only on the very first boot**: it seems you expect that the script will be executed at every reboot.","title":"EC2 User-data script is not starting my Java application","body":"<p>User Data script are executed <strong>only on the very first boot</strong>: it seems you expect that the script will be executed at every reboot.</p>\n"}],"owner":{"account_id":17490252,"reputation":3,"user_id":12737462,"display_name":"LuciannoDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75565064,"answer_count":1,"score":0,"last_activity_date":1677325367,"creation_date":1677323338,"question_id":75564963,"body_markdown":"I need to start my java application with a script,\r\nbut User Data are not working: if I start the application manually, it works.&lt;br/&gt;\r\n\r\nMy EC2 instance has Ubuntu\r\n\r\nHere’s the snippet of the User Data I’m using:\r\n\r\n```\r\n#!/bin/bash\r\ncd /home/ubuntu\r\nsudo su\r\njava -jar HelpDesk-0.0.1-SNAPSHOT.jar\r\n```","title":"EC2 User-data script is not starting my Java application","body":"<p>I need to start my java application with a script,\nbut User Data are not working: if I start the application manually, it works.<br/></p>\n<p>My EC2 instance has Ubuntu</p>\n<p>Here’s the snippet of the User Data I’m using:</p>\n<pre><code>#!/bin/bash\ncd /home/ubuntu\nsudo su\njava -jar HelpDesk-0.0.1-SNAPSHOT.jar\n</code></pre>\n"},{"tags":["java","hibernate","quarkus","hibernate-6.x"],"answers":[{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1677325246,"creation_date":1630093497,"answer_id":68958671,"question_id":68956970,"body_markdown":"You can&#39;t use Hibernate 6 with Quarkus.\r\nWe will bump to that version sometime in the future, but for now we are on 5.x.\r\n\r\nIf that issue is very important to you, I propose you ask the Hibernate team to backport the fix to the 5.x line\r\n\r\n**Update** \r\n\r\nQuarkus will switch to Hibernate 6 in Quarkus 3.0 (the switch had already been made in the main branch)","title":"How can I use Hibernate 6 with Quarkus","body":"<p>You can't use Hibernate 6 with Quarkus.\nWe will bump to that version sometime in the future, but for now we are on 5.x.</p>\n<p>If that issue is very important to you, I propose you ask the Hibernate team to backport the fix to the 5.x line</p>\n<p><strong>Update</strong></p>\n<p>Quarkus will switch to Hibernate 6 in Quarkus 3.0 (the switch had already been made in the main branch)</p>\n"}],"owner":{"account_id":15295373,"reputation":73,"user_id":11035653,"display_name":"Mar&#237;lia Portela"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":924,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":68958671,"answer_count":1,"score":5,"last_activity_date":1677325246,"creation_date":1630083255,"question_id":68956970,"body_markdown":"I need to use Hibernate version 6.0.0.Alpha7, since they have solved the following issue:\r\nhttps://hibernate.atlassian.net/browse/HHH-1050\r\n\r\nHibernate dependency is declared using quarkus extension:\r\n\r\n    &lt;quarkus.platform.version&gt;2.1.4.Final&lt;/quarkus.platform.version&gt;\r\n    (...)\r\n    &lt;dependency&gt;\r\n           &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n           &lt;artifactId&gt;quarkus-hibernate-orm&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI think this is still using Hibernate 5.5.6.Final. How can I use Hibernate 6.0.0.Alpha7?","title":"How can I use Hibernate 6 with Quarkus","body":"<p>I need to use Hibernate version 6.0.0.Alpha7, since they have solved the following issue:\n<a href=\"https://hibernate.atlassian.net/browse/HHH-1050\" rel=\"noreferrer\">https://hibernate.atlassian.net/browse/HHH-1050</a></p>\n<p>Hibernate dependency is declared using quarkus extension:</p>\n<pre><code>&lt;quarkus.platform.version&gt;2.1.4.Final&lt;/quarkus.platform.version&gt;\n(...)\n&lt;dependency&gt;\n       &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n       &lt;artifactId&gt;quarkus-hibernate-orm&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I think this is still using Hibernate 5.5.6.Final. How can I use Hibernate 6.0.0.Alpha7?</p>\n"},{"tags":["java","vaadin","vaadin-flow"],"answers":[{"tags":[],"owner":{"account_id":6845383,"reputation":234,"user_id":5264368,"display_name":"nailer_boxer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657220725,"creation_date":1657099091,"answer_id":72880873,"question_id":72833568,"body_markdown":"Just adjust your `fileDownloadRequestListener` to this and it should work:\r\n\r\n```\r\n    private ComponentEventListener&lt;GridContextMenu.GridContextMenuItemClickEvent&lt;FileEntity&gt;&gt; fileDownloadRequestListener() {\r\n        return selectedFile -&gt; {\r\n            StreamResource resource = new StreamResource(selectedFile.getItem().get().getFileName(),\r\n                    () -&gt; fileInputHandlerService.fileInput(selectedFile.getItem().get()));\r\n            anchor = new Anchor(resource, &quot;a&quot;);\r\n            Element element = anchor.getElement();\r\n            element.setAttribute(&quot;download&quot;, true);\r\n            // Hide the anchor from the user\r\n            element.getStyle().set(&quot;display&quot;, &quot;none&quot;);\r\n            add(anchor);\r\n            // Trigger click and remove when ready\r\n          element.executeJs(&quot;return new Promise(resolve =&gt;{this.click(); setTimeout(() =&gt; resolve(true), 150)})&quot;, element).then(jsonValue -&gt; remove(anchor));\r\n    }\r\n```","title":"How to mimic click event of anchor tag in Vaadin flow?","body":"<p>Just adjust your <code>fileDownloadRequestListener</code> to this and it should work:</p>\n<pre><code>    private ComponentEventListener&lt;GridContextMenu.GridContextMenuItemClickEvent&lt;FileEntity&gt;&gt; fileDownloadRequestListener() {\n        return selectedFile -&gt; {\n            StreamResource resource = new StreamResource(selectedFile.getItem().get().getFileName(),\n                    () -&gt; fileInputHandlerService.fileInput(selectedFile.getItem().get()));\n            anchor = new Anchor(resource, &quot;a&quot;);\n            Element element = anchor.getElement();\n            element.setAttribute(&quot;download&quot;, true);\n            // Hide the anchor from the user\n            element.getStyle().set(&quot;display&quot;, &quot;none&quot;);\n            add(anchor);\n            // Trigger click and remove when ready\n          element.executeJs(&quot;return new Promise(resolve =&gt;{this.click(); setTimeout(() =&gt; resolve(true), 150)})&quot;, element).then(jsonValue -&gt; remove(anchor));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20589757,"reputation":1,"user_id":15113736,"display_name":"Anh Tu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677325150,"creation_date":1677325150,"answer_id":75565129,"question_id":72833568,"body_markdown":"    Anchor download = new Anchor();\r\n    download.add(downloadButton);\r\n    download.getElement().setAttribute(&quot;download&quot;, &quot;Hscodelistdownload.xlsx&quot;);\r\n    downloadButton.addClickListener(e -&gt; {\r\n    \t\t\t\t  \r\n    \t\t\t\t StreamResource resource = new StreamResource(&quot;Hscodelistdownload&quot;+System.currentTimeMillis()+&quot;.xlsx&quot;, Exporter.exportAsExcel(grid));\r\n    \t\t\t\t   download.setHref(resource);\r\n    \t\t\t\t   Element element = download.getElement();\r\n    \t\t\t\t   element.setAttribute(&quot;download&quot;, true);\r\n    \t\t\t\t   element.getStyle().set(&quot;display&quot;, &quot;none&quot;);\r\n    \t\t\t\t   element.executeJs(&quot;return new Promise(resolve =&gt;{this.click(); setTimeout(() =&gt; resolve(true), 150)})&quot;, element).then(jsonValue -&gt; remove(download));\r\n    \t\t\t\t   StreamRegistration regn = VaadinSession.getCurrent().getResourceRegistry().registerResource(resource);\r\n    \t\t\t\t   UI.getCurrent().getPage().open(regn.getResourceUri().toString());\r\n    \t\t   \r\n    \t\t\t});\r\n    add(downloadButton);\r\n\r\n","title":"How to mimic click event of anchor tag in Vaadin flow?","body":"<pre><code>Anchor download = new Anchor();\ndownload.add(downloadButton);\ndownload.getElement().setAttribute(&quot;download&quot;, &quot;Hscodelistdownload.xlsx&quot;);\ndownloadButton.addClickListener(e -&gt; {\n                  \n                 StreamResource resource = new StreamResource(&quot;Hscodelistdownload&quot;+System.currentTimeMillis()+&quot;.xlsx&quot;, Exporter.exportAsExcel(grid));\n                   download.setHref(resource);\n                   Element element = download.getElement();\n                   element.setAttribute(&quot;download&quot;, true);\n                   element.getStyle().set(&quot;display&quot;, &quot;none&quot;);\n                   element.executeJs(&quot;return new Promise(resolve =&gt;{this.click(); setTimeout(() =&gt; resolve(true), 150)})&quot;, element).then(jsonValue -&gt; remove(download));\n                   StreamRegistration regn = VaadinSession.getCurrent().getResourceRegistry().registerResource(resource);\n                   UI.getCurrent().getPage().open(regn.getResourceUri().toString());\n           \n            });\nadd(downloadButton);\n</code></pre>\n"}],"owner":{"display_name":"user7514788"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":702,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72880873,"answer_count":2,"score":1,"last_activity_date":1677325150,"creation_date":1656701675,"question_id":72833568,"body_markdown":"I am able to use Upload Component to upload file from page to my file system like below.\r\n\r\n              return (MultiFileReceiver) (String fileName, String mimeType) -&gt; {\r\n              try {\r\n                  File file = new File(uploadFileDirectory,fileName);\r\n                  return fileOutputHandlerService.fileOutput(file);\r\n              } catch (Exception e) {\r\n                  throw new RuntimeException(e);\r\n              }\r\n          };\r\nBut when it comes to download that file with given path I can&#39;t accomplish that.\r\nOnly explanation to do that is using Anchor element. but I want to use ContextMenu component to trigger a download . \r\nI have a contextmenu Component derived from a Grid\r\n\r\n     fileListContext = grid.addContextMenu();\r\n     fileListContext.addItem(&quot;Download&quot;,uiListener.fileDownloadRequestListener());\r\n\r\nI implemented that context menu listener like below. I want to click that context menu pop up and prompt browser to open save location for user to start download.\r\n\r\n            private  ComponentEventListener &lt;GridContextMenu.GridContextMenuItemClickEvent&lt;FileEntity&gt;&gt;  fileDownloadRequestListener(){\r\n          //created stream user and anchor element. how to trigger download attribute of anchor?\r\n          return selectedFile-&gt; {\r\n              StreamResource resource = new StreamResource(selectedFile.getItem().get().getFileName(),\r\n                      ()-&gt;fileInputHandlerService.fileInput(selectedFile.getItem().get()));\r\n              anchor = new Anchor(resource,&quot;a&quot;);\r\n              anchor.getElement().setAttribute(&quot;download&quot;,true);\r\n              anchor.setVisible(true);\r\n              add(anchor);\r\n          };\r\n        }","title":"How to mimic click event of anchor tag in Vaadin flow?","body":"<p>I am able to use Upload Component to upload file from page to my file system like below.</p>\n<pre><code>          return (MultiFileReceiver) (String fileName, String mimeType) -&gt; {\n          try {\n              File file = new File(uploadFileDirectory,fileName);\n              return fileOutputHandlerService.fileOutput(file);\n          } catch (Exception e) {\n              throw new RuntimeException(e);\n          }\n      };\n</code></pre>\n<p>But when it comes to download that file with given path I can't accomplish that.\nOnly explanation to do that is using Anchor element. but I want to use ContextMenu component to trigger a download .\nI have a contextmenu Component derived from a Grid</p>\n<pre><code> fileListContext = grid.addContextMenu();\n fileListContext.addItem(&quot;Download&quot;,uiListener.fileDownloadRequestListener());\n</code></pre>\n<p>I implemented that context menu listener like below. I want to click that context menu pop up and prompt browser to open save location for user to start download.</p>\n<pre><code>        private  ComponentEventListener &lt;GridContextMenu.GridContextMenuItemClickEvent&lt;FileEntity&gt;&gt;  fileDownloadRequestListener(){\n      //created stream user and anchor element. how to trigger download attribute of anchor?\n      return selectedFile-&gt; {\n          StreamResource resource = new StreamResource(selectedFile.getItem().get().getFileName(),\n                  ()-&gt;fileInputHandlerService.fileInput(selectedFile.getItem().get()));\n          anchor = new Anchor(resource,&quot;a&quot;);\n          anchor.getElement().setAttribute(&quot;download&quot;,true);\n          anchor.setVisible(true);\n          add(anchor);\n      };\n    }\n</code></pre>\n"},{"tags":["java","sonarqube","pull-request","sonarqube-scan"],"comments":[{"owner":{"account_id":246243,"reputation":9164,"user_id":520275,"accept_rate":83,"display_name":"Gonzalo Matheu"},"score":3,"creation_date":1676046769,"post_id":75413392,"comment_id":133065101,"body_markdown":"Regardless of how Sonar analyses code, compiling the code seems to be the first check any CI pipeline should do, then unit tests, then static code analysis.","body":"Regardless of how Sonar analyses code, compiling the code seems to be the first check any CI pipeline should do, then unit tests, then static code analysis."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1676046771,"post_id":75413392,"comment_id":133065102,"body_markdown":"The page about pull request analysis that you link states: _To decorate pull requests, a SonarQube analysis needs to be run on your code_ And to run a SonarQube analysis the linked page about source code analysis states: _Compiled .class files are required._ What is unclear about these statements? And if you want code coverage then you not only need compiled .class files, you must run your unit tests too.","body":"The page about pull request analysis that you link states: <i>To decorate pull requests, a SonarQube analysis needs to be run on your code</i> And to run a SonarQube analysis the linked page about source code analysis states: <i>Compiled .class files are required.</i> What is unclear about these statements? And if you want code coverage then you not only need compiled .class files, you must run your unit tests too."},{"owner":{"account_id":246243,"reputation":9164,"user_id":520275,"accept_rate":83,"display_name":"Gonzalo Matheu"},"score":1,"creation_date":1676046885,"post_id":75413392,"comment_id":133065143,"body_markdown":"If the problem is that it takes too much to compile the whole project... the solution might be breaking it down in modules and having a artifact repository (local maven cache, nexus, Artifactory, etc) to consume the compiled versions of them.","body":"If the problem is that it takes too much to compile the whole project... the solution might be breaking it down in modules and having a artifact repository (local maven cache, nexus, Artifactory, etc) to consume the compiled versions of them."},{"owner":{"account_id":2237707,"reputation":167,"user_id":1973574,"accept_rate":50,"display_name":"nnay84"},"score":0,"creation_date":1676049070,"post_id":75413392,"comment_id":133065868,"body_markdown":"Thanks @GonzaloMatheu- yes compiling the code is taking a long time.","body":"Thanks @GonzaloMatheu- yes compiling the code is taking a long time."}],"answers":[{"tags":[],"owner":{"account_id":11299201,"reputation":1458,"user_id":8285732,"display_name":"milbrandt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677324555,"creation_date":1677324555,"answer_id":75565081,"question_id":75413392,"body_markdown":"Generally speaking, no. SonarQube requires byte code class files to analyze Java projects. The class files can either be provided by the buld (Maven, Gradle) or manually.\r\n\r\nOnly in the specific case, that you have only ONE Java file, the class file can be omitted for Sonarqube, see also the [Java analyzer docs](https://docs.sonarqube.org/latest/analyzing-source-code/languages/java/).\r\n","title":"does sonarqube pull request analysis needs compiled java code","body":"<p>Generally speaking, no. SonarQube requires byte code class files to analyze Java projects. The class files can either be provided by the buld (Maven, Gradle) or manually.</p>\n<p>Only in the specific case, that you have only ONE Java file, the class file can be omitted for Sonarqube, see also the <a href=\"https://docs.sonarqube.org/latest/analyzing-source-code/languages/java/\" rel=\"nofollow noreferrer\">Java analyzer docs</a>.</p>\n"}],"owner":{"account_id":2237707,"reputation":167,"user_id":1973574,"accept_rate":50,"display_name":"nnay84"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677324555,"creation_date":1676044609,"question_id":75413392,"body_markdown":"I am working on a Java project and looking to deploy SonarQube on every PR also on our feature branches (not just main) as part of our shift-left strategy. However, we don&#39;t want to have to compile Java code every time. **Is it possible to run Sonarqube pull request analysis without having compiled java code?** \r\n\r\n\r\nI looked at SQ docs and could not find specifics on how pull request analysis works: https://docs.sonarqube.org/9.7/analyzing-source-code/pull-request-analysis/\r\n\r\nAlso, looking at other docs, Sonarqube says (https://docs.sonarqube.org/latest/analyzing-source-code/languages/java/) \r\n\r\n    Java analysis and bytecode Compiled .class files are required for java projects with more than one java file. If not provided properly, analysis will fail with the message:\r\n    \r\n    Your project contains .java files, please provide compiled classes with sonar.java.binaries property, or exclude them from the analysis with sonar.exclusions property.","title":"does sonarqube pull request analysis needs compiled java code","body":"<p>I am working on a Java project and looking to deploy SonarQube on every PR also on our feature branches (not just main) as part of our shift-left strategy. However, we don't want to have to compile Java code every time. <strong>Is it possible to run Sonarqube pull request analysis without having compiled java code?</strong></p>\n<p>I looked at SQ docs and could not find specifics on how pull request analysis works: <a href=\"https://docs.sonarqube.org/9.7/analyzing-source-code/pull-request-analysis/\" rel=\"nofollow noreferrer\">https://docs.sonarqube.org/9.7/analyzing-source-code/pull-request-analysis/</a></p>\n<p>Also, looking at other docs, Sonarqube says (<a href=\"https://docs.sonarqube.org/latest/analyzing-source-code/languages/java/\" rel=\"nofollow noreferrer\">https://docs.sonarqube.org/latest/analyzing-source-code/languages/java/</a>)</p>\n<pre><code>Java analysis and bytecode Compiled .class files are required for java projects with more than one java file. If not provided properly, analysis will fail with the message:\n\nYour project contains .java files, please provide compiled classes with sonar.java.binaries property, or exclude them from the analysis with sonar.exclusions property.\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","spring-mvc","caching"],"comments":[{"owner":{"account_id":4378231,"reputation":1516,"user_id":3570659,"display_name":"Eirini Graonidou"},"score":0,"creation_date":1677316315,"post_id":75564245,"comment_id":133316807,"body_markdown":"hey Kreuzzes, what exactly do you need to log? I just wanted to mention that the databases produce and write their own log messages. In spring and hibernate it is also possible to log the produced and executed sql-queries.","body":"hey Kreuzzes, what exactly do you need to log? I just wanted to mention that the databases produce and write their own log messages. In spring and hibernate it is also possible to log the produced and executed sql-queries."},{"owner":{"account_id":27289698,"reputation":1,"user_id":20808313,"display_name":"Kreuzzes"},"score":0,"creation_date":1677317194,"post_id":75564245,"comment_id":133316926,"body_markdown":"@EiriniGraonidou I&#39;m logging various Debug Messages and info Messages created by Components, Services, Schedulers etc. of my Program. Also Exceptions get logged. Database Updates aren&#39;t logged its something custom","body":"@EiriniGraonidou I&#39;m logging various Debug Messages and info Messages created by Components, Services, Schedulers etc. of my Program. Also Exceptions get logged. Database Updates aren&#39;t logged its something custom"}],"answers":[{"tags":[],"owner":{"account_id":4378231,"reputation":1516,"user_id":3570659,"display_name":"Eirini Graonidou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677324416,"creation_date":1677324416,"answer_id":75565070,"question_id":75564245,"body_markdown":"Maybe you could use the [JPA callbacks for the different lifecycle events][1] `(PrePersist, PostPersist, etc...)`\r\n\r\nAssuming you have implemented an entity and repository for managing books, you could define a service that utilizes the above mentioned events.\r\n\r\nyour entity:\r\n\r\n    @Entity\r\n    @EntityListeners(BookLoggingService.class)\r\n    class Book {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n\tprivate Long id;\r\n\t\r\n\tprivate String title;\r\n\t\r\n\tprivate String isbn;\r\n    \r\n    public Book() {}\r\n\r\n\tpublic Book(String title, String isbn) {\r\n\t\tthis.title = title;\r\n\t\tthis.isbn = isbn;\r\n\t}\r\n\r\n\tpublic String getTitle() {\r\n\t\treturn title;\r\n\t}\r\n\r\n\tpublic String getIsbn() {\r\n\t\treturn isbn;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Book [id=&quot; + id + &quot;, title=&quot; + title + &quot;, isbn=&quot; + isbn + &quot;]&quot;;\r\n\t}\r\n    }\r\n\r\nYour repository:\r\n\r\n    interface BookRepository extends CrudRepository&lt;Book, Long&gt; {\r\n\r\n    }\r\n\r\n\r\nyour logging logic:\r\n\r\n\r\n    class BookLoggingService {\r\n\r\n    private static final Log log = LogFactory.getLog(BookLoggingService.class);\r\n    \r\n\t@PrePersist\r\n\tvoid actOnPrePersist(Book book) {\r\n\t\t// implement your logging\r\n\t\tlog.info(&quot;on pre persist of book: &quot; + book);\r\n\t}\r\n\t\r\n\t@PostPersist\r\n\tvoid actOnPostPersist(Book book) {\r\n\t\t// implement your logging logic\r\n\t\tlog.info(&quot;the after persist: &quot; + book.toString());\r\n\t}\r\n\t\r\n\t@PreRemove\r\n\tvoid actOnPreRemove(Book book) {\r\n\t\t// implement your logging logic\r\n\t\tlog.info(&quot;the before removed: &quot; + book.toString());\r\n\t}\r\n\t\r\n\t@PostRemove\r\n\tvoid actOnPostRemove(Book book) {\r\n\t\t// implement your logging logic\r\n\t\tlog.info(&quot;the after removed: &quot; + book.toString());\r\n\t}\r\n  }\r\n\r\nThen you could see something like: \r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://jakarta.ee/specifications/platform/9/apidocs/\r\n  [2]: https://i.stack.imgur.com/ArpPB.png","title":"Spring Boot Repository how to cache X Entities until saving to Database","body":"<p>Maybe you could use the <a href=\"https://jakarta.ee/specifications/platform/9/apidocs/\" rel=\"nofollow noreferrer\">JPA callbacks for the different lifecycle events</a> <code>(PrePersist, PostPersist, etc...)</code></p>\n<p>Assuming you have implemented an entity and repository for managing books, you could define a service that utilizes the above mentioned events.</p>\n<p>your entity:</p>\n<pre><code>@Entity\n@EntityListeners(BookLoggingService.class)\nclass Book {\n\n@Id\n@GeneratedValue(strategy = GenerationType.SEQUENCE)\nprivate Long id;\n\nprivate String title;\n\nprivate String isbn;\n\npublic Book() {}\n\npublic Book(String title, String isbn) {\n    this.title = title;\n    this.isbn = isbn;\n}\n\npublic String getTitle() {\n    return title;\n}\n\npublic String getIsbn() {\n    return isbn;\n}\n\n@Override\npublic String toString() {\n    return &quot;Book [id=&quot; + id + &quot;, title=&quot; + title + &quot;, isbn=&quot; + isbn + &quot;]&quot;;\n}\n}\n</code></pre>\n<p>Your repository:</p>\n<pre><code>interface BookRepository extends CrudRepository&lt;Book, Long&gt; {\n\n}\n</code></pre>\n<p>your logging logic:</p>\n<pre><code>class BookLoggingService {\n\nprivate static final Log log = LogFactory.getLog(BookLoggingService.class);\n\n@PrePersist\nvoid actOnPrePersist(Book book) {\n    // implement your logging\n    log.info(&quot;on pre persist of book: &quot; + book);\n}\n\n@PostPersist\nvoid actOnPostPersist(Book book) {\n    // implement your logging logic\n    log.info(&quot;the after persist: &quot; + book.toString());\n}\n\n@PreRemove\nvoid actOnPreRemove(Book book) {\n    // implement your logging logic\n    log.info(&quot;the before removed: &quot; + book.toString());\n}\n\n@PostRemove\nvoid actOnPostRemove(Book book) {\n    // implement your logging logic\n    log.info(&quot;the after removed: &quot; + book.toString());\n}\n</code></pre>\n<p>}</p>\n<p>Then you could see something like:\n<a href=\"https://i.stack.imgur.com/ArpPB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ArpPB.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":27289698,"reputation":1,"user_id":20808313,"display_name":"Kreuzzes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677324416,"creation_date":1677314539,"question_id":75564245,"body_markdown":"I am currently implementing a Database based Logger for my SpringBoot Application. Since there can be hundreds of Logs in a short period of time, I&#39;m looking for a method to store a specific Amount of Logs before they get saved in the Database. \r\n\r\nI tried to override the save() Method of a custom Repository like someone told in a different Article but I ended up with bean errors and it didn&#39;t do what it should have done at all. I also tried to implement it directly in my Logger but since the PrimaryKey ID is only set after using the Repository.save() method my Logs where mixed up afterwards. ","title":"Spring Boot Repository how to cache X Entities until saving to Database","body":"<p>I am currently implementing a Database based Logger for my SpringBoot Application. Since there can be hundreds of Logs in a short period of time, I'm looking for a method to store a specific Amount of Logs before they get saved in the Database.</p>\n<p>I tried to override the save() Method of a custom Repository like someone told in a different Article but I ended up with bean errors and it didn't do what it should have done at all. I also tried to implement it directly in my Logger but since the PrimaryKey ID is only set after using the Repository.save() method my Logs where mixed up afterwards.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":73822,"reputation":21711,"user_id":212384,"accept_rate":93,"display_name":"Bertrand Marron"},"score":0,"creation_date":1280432456,"post_id":3366281,"comment_id":3496885,"body_markdown":"http://java.sun.com/developer/technicalArticles/Programming/stringtokenizer/","body":"<a href=\"http://java.sun.com/developer/technicalArticles/Programming/stringtokenizer/\" rel=\"nofollow noreferrer\">java.sun.com/developer/technicalArticles/Programming/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":66672,"reputation":1449,"user_id":195489,"accept_rate":91,"display_name":"Nikolaos"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1280432347,"creation_date":1280432347,"answer_id":3366304,"question_id":3366281,"body_markdown":"The example you have here would just have to be split by the double quote character.","title":"Tokenizing a String but ignoring delimiters within quotes","body":"<p>The example you have here would just have to be split by the double quote character.</p>\n"},{"tags":[],"owner":{"account_id":142935,"reputation":1274,"user_id":350951,"accept_rate":90,"display_name":"danyim"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1280434150,"creation_date":1280432478,"answer_id":3366318,"question_id":3366281,"body_markdown":"Try this:\r\n\r\n    String str = &quot;One two \\&quot;three four\\&quot; five \\&quot;six seven eight\\&quot; nine \\&quot;ten\\&quot;&quot;;\r\n    String strArr[] = str.split(&quot;\\&quot;|\\s&quot;);\r\n\r\nIt&#39;s kind of tricky because you need to escape the double quotes. This regular expression should tokenize the string using either a whitespace (\\s) or a double quote.\r\n\r\nYou should use String&#39;s `split` method because it accepts regular expressions, whereas the constructor argument for delimiter in `StringTokenizer` doesn&#39;t. At the end of what I provided above, you can just add the following:\r\n\r\n    String s;\r\n    for(String k : strArr) {\r\n         s += k;\r\n    }\r\n    StringTokenizer strTok = new StringTokenizer(s);\r\n","title":"Tokenizing a String but ignoring delimiters within quotes","body":"<p>Try this:</p>\n\n<pre><code>String str = \"One two \\\"three four\\\" five \\\"six seven eight\\\" nine \\\"ten\\\"\";\nString strArr[] = str.split(\"\\\"|\\s\");\n</code></pre>\n\n<p>It's kind of tricky because you need to escape the double quotes. This regular expression should tokenize the string using either a whitespace (\\s) or a double quote.</p>\n\n<p>You should use String's <code>split</code> method because it accepts regular expressions, whereas the constructor argument for delimiter in <code>StringTokenizer</code> doesn't. At the end of what I provided above, you can just add the following:</p>\n\n<pre><code>String s;\nfor(String k : strArr) {\n     s += k;\n}\nStringTokenizer strTok = new StringTokenizer(s);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":169732,"reputation":4967,"user_id":395975,"accept_rate":79,"display_name":"smp7d"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1280433132,"creation_date":1280433132,"answer_id":3366410,"question_id":3366281,"body_markdown":"try this:\r\n\r\n    String str = &quot;One two \\&quot;three four\\&quot; five \\&quot;six seven eight\\&quot; nine \\&quot;ten\\&quot;&quot;;\r\n    String[] strings = str.split(&quot;[ ]?\\&quot;[ ]?&quot;);","title":"Tokenizing a String but ignoring delimiters within quotes","body":"<p>try this:</p>\n\n<pre><code>String str = \"One two \\\"three four\\\" five \\\"six seven eight\\\" nine \\\"ten\\\"\";\nString[] strings = str.split(\"[ ]?\\\"[ ]?\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":156881,"reputation":1838,"user_id":374449,"accept_rate":80,"display_name":"Kiersten Arnold"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1280434037,"creation_date":1280434037,"answer_id":3366509,"question_id":3366281,"body_markdown":"I don&#39;t know the context of what your trying to do, but it looks like your trying to parse command line arguments.  In general, this is pretty tricky with all the escaping issues; if this is your goal I&#39;d personally look at something like JCommander.","title":"Tokenizing a String but ignoring delimiters within quotes","body":"<p>I don't know the context of what your trying to do, but it looks like your trying to parse command line arguments.  In general, this is pretty tricky with all the escaping issues; if this is your goal I'd personally look at something like JCommander.</p>\n"},{"tags":[],"owner":{"account_id":52432,"reputation":3416,"user_id":156671,"accept_rate":100,"display_name":"GrandmasterB"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1280434284,"creation_date":1280434284,"answer_id":3366544,"question_id":3366281,"body_markdown":"Do it the old fashioned way.  Make a function that looks at each character in a for loop.  If the character is a space, take everything up to that (excluding the space) and add it as an entry to the array.  Note the position, and do the same again, adding that next part to the array after a space.  When a double quote is encountered, mark a boolean named &#39;inQuote&#39; as true, and ignore spaces when inQuote is true.  When you hit quotes when inQuote is true, flag it as false and go back to breaking things up when a space is encountered.  You can then extend this as necessary to support escape chars, etc.\r\n\r\nCould this be done with a regex?  I dont know, I guess.  But the whole function would take less to write than this reply did.","title":"Tokenizing a String but ignoring delimiters within quotes","body":"<p>Do it the old fashioned way.  Make a function that looks at each character in a for loop.  If the character is a space, take everything up to that (excluding the space) and add it as an entry to the array.  Note the position, and do the same again, adding that next part to the array after a space.  When a double quote is encountered, mark a boolean named 'inQuote' as true, and ignore spaces when inQuote is true.  When you hit quotes when inQuote is true, flag it as false and go back to breaking things up when a space is encountered.  You can then extend this as necessary to support escape chars, etc.</p>\n\n<p>Could this be done with a regex?  I dont know, I guess.  But the whole function would take less to write than this reply did.</p>\n"},{"tags":[],"owner":{"account_id":66969,"reputation":22196,"user_id":196211,"accept_rate":67,"display_name":"Eyal Schneider"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1487512230,"creation_date":1280434828,"answer_id":3366603,"question_id":3366281,"body_markdown":"In an old fashioned way:\r\n\r\n\r\n\tpublic static String[] split(String str) {\r\n\t\tstr += &quot; &quot;; // To detect last token when not quoted...\r\n\t\tArrayList&lt;String&gt; strings = new ArrayList&lt;String&gt;();\r\n\t\tboolean inQuote = false;\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tfor (int i = 0; i &lt; str.length(); i++) {\r\n\t\t\tchar c = str.charAt(i);\r\n\t\t\tif (c == &#39;&quot;&#39; || c == &#39; &#39; &amp;&amp; !inQuote) {\r\n\t\t\t\tif (c == &#39;&quot;&#39;)\r\n\t\t\t\t\tinQuote = !inQuote;\r\n\t\t\t\tif (!inQuote &amp;&amp; sb.length() &gt; 0) {\r\n\t\t\t\t\tstrings.add(sb.toString());\r\n\t\t\t\t\tsb.delete(0, sb.length());\r\n\t\t\t\t}\r\n\t\t\t} else\r\n\t\t\t\tsb.append(c);\r\n\t\t}\r\n\t\treturn strings.toArray(new String[strings.size()]);\r\n\t}\r\n\r\nI assume that nested quotes are illegal, and also that empty tokens can be omitted.","title":"Tokenizing a String but ignoring delimiters within quotes","body":"<p>In an old fashioned way:</p>\n\n<pre><code>public static String[] split(String str) {\n    str += \" \"; // To detect last token when not quoted...\n    ArrayList&lt;String&gt; strings = new ArrayList&lt;String&gt;();\n    boolean inQuote = false;\n    StringBuilder sb = new StringBuilder();\n    for (int i = 0; i &lt; str.length(); i++) {\n        char c = str.charAt(i);\n        if (c == '\"' || c == ' ' &amp;&amp; !inQuote) {\n            if (c == '\"')\n                inQuote = !inQuote;\n            if (!inQuote &amp;&amp; sb.length() &gt; 0) {\n                strings.add(sb.toString());\n                sb.delete(0, sb.length());\n            }\n        } else\n            sb.append(c);\n    }\n    return strings.toArray(new String[strings.size()]);\n}\n</code></pre>\n\n<p>I assume that nested quotes are illegal, and also that empty tokens can be omitted.</p>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":0,"up_vote_count":68,"is_accepted":true,"score":68,"last_activity_date":1280436450,"creation_date":1280435054,"answer_id":3366634,"question_id":3366281,"body_markdown":"It&#39;s much easier to use a [`java.util.regex.Matcher`](http://java.sun.com/javase/6/docs/api/java/util/regex/Matcher.html) and do a `find()` rather than any kind of `split` in these kinds of scenario.\r\n\r\nThat is, instead of defining the pattern for the _delimiter_ between the tokens, you define the pattern for _the tokens themselves_.\r\n\r\nHere&#39;s an example:\r\n\r\n\t\tString text = &quot;1 2 \\&quot;333 4\\&quot; 55 6    \\&quot;77\\&quot; 8 999&quot;;\r\n\t\t// 1 2 &quot;333 4&quot; 55 6    &quot;77&quot; 8 999\r\n\r\n\t\tString regex = &quot;\\&quot;([^\\&quot;]*)\\&quot;|(\\\\S+)&quot;;\r\n\r\n\t\tMatcher m = Pattern.compile(regex).matcher(text);\r\n\t\twhile (m.find()) {\r\n\t\t\tif (m.group(1) != null) {\r\n\t\t\t\tSystem.out.println(&quot;Quoted [&quot; + m.group(1) + &quot;]&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;Plain [&quot; + m.group(2) + &quot;]&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\r\nThe above prints ([as seen on ideone.com](http://ideone.com/OXsUp)):\r\n\r\n    Plain [1]\r\n    Plain [2]\r\n    Quoted [333 4]\r\n    Plain [55]\r\n    Plain [6]\r\n    Quoted [77]\r\n    Plain [8]\r\n    Plain [999]\r\n\r\nThe pattern is essentially:\r\n\r\n    &quot;([^&quot;]*)&quot;|(\\S+)\r\n     \\_____/  \\___/\r\n        1       2\r\n\r\nThere are 2 alternates:\r\n\r\n* The first alternate matches the opening double quote, a sequence of anything but double quote (captured in group 1), then the closing double quote\r\n* The second alternate matches any sequence of non-whitespace characters, captured in group 2\r\n* The order of the alternates matter in this pattern\r\n\r\nNote that this does not handle escaped double quotes within quoted segments. If you need to do this, then the pattern becomes more complicated, but the `Matcher` solution still works.\r\n\r\n### References\r\n\r\n* [regular-expressions.info/Brackets for Grouping and Capturing](http://www.regular-expressions.info/brackets.html), [Alternation with Vertical Bar](http://www.regular-expressions.info/alternation.html), [Character Class](http://www.regular-expressions.info/charclass.html), [Repetition with Star and Plus](http://www.regular-expressions.info/repeat.html)\r\n\r\n### See also\r\n\r\n* [regular-expressions.info/Examples - Programmer - Strings](http://www.regular-expressions.info/examplesprogrammer.html) - for pattern with escaped quotes\r\n\r\n---\r\n\r\n### Appendix\r\n\r\nNote that [`StringTokenizer`](http://java.sun.com/javase/6/docs/api/java/util/StringTokenizer.html) is a _legacy class_. It&#39;s recommended to use [`java.util.Scanner`](http://java.sun.com/javase/6/docs/api/java/util/Scanner.html) or [`String.split`](http://download.oracle.com/javase/6/docs/api/java/lang/String.html#split%28java.lang.String%29), or of course [`java.util.regex.Matcher`](http://java.sun.com/javase/6/docs/api/java/util/regex/Matcher.html) for most flexibility.\r\n\r\n### Related questions\r\n\r\n* [Difference between a Deprecated and Legacy API?](https://stackoverflow.com/questions/2873254/difference-between-a-deprecated-and-legacy-api)\r\n* [Scanner vs. StringTokenizer vs. String.Split](https://stackoverflow.com/questions/691184/scanner-vs-stringtokenizer-vs-string-split)\r\n* [Validating input using java.util.Scanner](https://stackoverflow.com/questions/3059333/validating-input-using-java-util-scanner/) - has many examples","title":"Tokenizing a String but ignoring delimiters within quotes","body":"<p>It's much easier to use a <a href=\"http://java.sun.com/javase/6/docs/api/java/util/regex/Matcher.html\" rel=\"noreferrer\"><code>java.util.regex.Matcher</code></a> and do a <code>find()</code> rather than any kind of <code>split</code> in these kinds of scenario.</p>\n\n<p>That is, instead of defining the pattern for the <em>delimiter</em> between the tokens, you define the pattern for <em>the tokens themselves</em>.</p>\n\n<p>Here's an example:</p>\n\n<pre><code>    String text = \"1 2 \\\"333 4\\\" 55 6    \\\"77\\\" 8 999\";\n    // 1 2 \"333 4\" 55 6    \"77\" 8 999\n\n    String regex = \"\\\"([^\\\"]*)\\\"|(\\\\S+)\";\n\n    Matcher m = Pattern.compile(regex).matcher(text);\n    while (m.find()) {\n        if (m.group(1) != null) {\n            System.out.println(\"Quoted [\" + m.group(1) + \"]\");\n        } else {\n            System.out.println(\"Plain [\" + m.group(2) + \"]\");\n        }\n    }\n</code></pre>\n\n<p>The above prints (<a href=\"http://ideone.com/OXsUp\" rel=\"noreferrer\">as seen on ideone.com</a>):</p>\n\n<pre><code>Plain [1]\nPlain [2]\nQuoted [333 4]\nPlain [55]\nPlain [6]\nQuoted [77]\nPlain [8]\nPlain [999]\n</code></pre>\n\n<p>The pattern is essentially:</p>\n\n<pre><code>\"([^\"]*)\"|(\\S+)\n \\_____/  \\___/\n    1       2\n</code></pre>\n\n<p>There are 2 alternates:</p>\n\n<ul>\n<li>The first alternate matches the opening double quote, a sequence of anything but double quote (captured in group 1), then the closing double quote</li>\n<li>The second alternate matches any sequence of non-whitespace characters, captured in group 2</li>\n<li>The order of the alternates matter in this pattern</li>\n</ul>\n\n<p>Note that this does not handle escaped double quotes within quoted segments. If you need to do this, then the pattern becomes more complicated, but the <code>Matcher</code> solution still works.</p>\n\n<h3>References</h3>\n\n<ul>\n<li><a href=\"http://www.regular-expressions.info/brackets.html\" rel=\"noreferrer\">regular-expressions.info/Brackets for Grouping and Capturing</a>, <a href=\"http://www.regular-expressions.info/alternation.html\" rel=\"noreferrer\">Alternation with Vertical Bar</a>, <a href=\"http://www.regular-expressions.info/charclass.html\" rel=\"noreferrer\">Character Class</a>, <a href=\"http://www.regular-expressions.info/repeat.html\" rel=\"noreferrer\">Repetition with Star and Plus</a></li>\n</ul>\n\n<h3>See also</h3>\n\n<ul>\n<li><a href=\"http://www.regular-expressions.info/examplesprogrammer.html\" rel=\"noreferrer\">regular-expressions.info/Examples - Programmer - Strings</a> - for pattern with escaped quotes</li>\n</ul>\n\n<hr>\n\n<h3>Appendix</h3>\n\n<p>Note that <a href=\"http://java.sun.com/javase/6/docs/api/java/util/StringTokenizer.html\" rel=\"noreferrer\"><code>StringTokenizer</code></a> is a <em>legacy class</em>. It's recommended to use <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Scanner.html\" rel=\"noreferrer\"><code>java.util.Scanner</code></a> or <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/String.html#split%28java.lang.String%29\" rel=\"noreferrer\"><code>String.split</code></a>, or of course <a href=\"http://java.sun.com/javase/6/docs/api/java/util/regex/Matcher.html\" rel=\"noreferrer\"><code>java.util.regex.Matcher</code></a> for most flexibility.</p>\n\n<h3>Related questions</h3>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2873254/difference-between-a-deprecated-and-legacy-api\">Difference between a Deprecated and Legacy API?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/691184/scanner-vs-stringtokenizer-vs-string-split\">Scanner vs. StringTokenizer vs. String.Split</a></li>\n<li><a href=\"https://stackoverflow.com/questions/3059333/validating-input-using-java-util-scanner/\">Validating input using java.util.Scanner</a> - has many examples</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3494879,"reputation":329,"user_id":2923447,"accept_rate":80,"display_name":"deadfire19"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1472311637,"creation_date":1472311637,"answer_id":39182754,"question_id":3366281,"body_markdown":"This is an old question, however this was my solution as a finite state machine.\r\n\r\nEfficient, predictable and no fancy tricks.\r\n\r\n100% coverage on tests.\r\n\r\nDrag and drop into your code.\r\n\r\n    /**\r\n     * Splits a command on whitespaces. Preserves whitespace in quotes. Trims excess whitespace between chunks. Supports quote\r\n     * escape within quotes. Failed escape will preserve escape char.\r\n     *\r\n     * @return List of split commands\r\n     */\r\n    static List&lt;String&gt; splitCommand(String inputString) {\r\n        List&lt;String&gt; matchList = new LinkedList&lt;&gt;();\r\n        LinkedList&lt;Character&gt; charList = inputString.chars()\r\n                .mapToObj(i -&gt; (char) i)\r\n                .collect(Collectors.toCollection(LinkedList::new));\r\n\r\n        // Finite-State Automaton for parsing.\r\n\r\n        CommandSplitterState state = CommandSplitterState.BeginningChunk;\r\n        LinkedList&lt;Character&gt; chunkBuffer = new LinkedList&lt;&gt;();\r\n\r\n        for (Character currentChar : charList) {\r\n            switch (state) {\r\n                case BeginningChunk:\r\n                    switch (currentChar) {\r\n                        case &#39;&quot;&#39;:\r\n                            state = CommandSplitterState.ParsingQuote;\r\n                            break;\r\n                        case &#39; &#39;:\r\n                            break;\r\n                        default:\r\n                            state = CommandSplitterState.ParsingWord;\r\n                            chunkBuffer.add(currentChar);\r\n                    }\r\n                    break;\r\n                case ParsingWord:\r\n                    switch (currentChar) {\r\n                        case &#39; &#39;:\r\n                            state = CommandSplitterState.BeginningChunk;\r\n                            String newWord = chunkBuffer.stream().map(Object::toString).collect(Collectors.joining());\r\n                            matchList.add(newWord);\r\n                            chunkBuffer = new LinkedList&lt;&gt;();\r\n                            break;\r\n                        default:\r\n                            chunkBuffer.add(currentChar);\r\n                    }\r\n                    break;\r\n                case ParsingQuote:\r\n                    switch (currentChar) {\r\n                        case &#39;&quot;&#39;:\r\n                            state = CommandSplitterState.BeginningChunk;\r\n                            String newWord = chunkBuffer.stream().map(Object::toString).collect(Collectors.joining());\r\n                            matchList.add(newWord);\r\n                            chunkBuffer = new LinkedList&lt;&gt;();\r\n                            break;\r\n                        case &#39;\\\\&#39;:\r\n                            state = CommandSplitterState.EscapeChar;\r\n                            break;\r\n                        default:\r\n                            chunkBuffer.add(currentChar);\r\n                    }\r\n                    break;\r\n                case EscapeChar:\r\n                    switch (currentChar) {\r\n                        case &#39;&quot;&#39;: // Intentional fall through\r\n                        case &#39;\\\\&#39;:\r\n                            state = CommandSplitterState.ParsingQuote;\r\n                            chunkBuffer.add(currentChar);\r\n                            break;\r\n                        default:\r\n                            state = CommandSplitterState.ParsingQuote;\r\n                            chunkBuffer.add(&#39;\\\\&#39;);\r\n                            chunkBuffer.add(currentChar);\r\n                    }\r\n            }\r\n        }\r\n\r\n        if (state != CommandSplitterState.BeginningChunk) {\r\n            String newWord = chunkBuffer.stream().map(Object::toString).collect(Collectors.joining());\r\n            matchList.add(newWord);\r\n        }\r\n        return matchList;\r\n    }\r\n\r\n    private enum CommandSplitterState {\r\n        BeginningChunk, ParsingWord, ParsingQuote, EscapeChar\r\n    }","title":"Tokenizing a String but ignoring delimiters within quotes","body":"<p>This is an old question, however this was my solution as a finite state machine.</p>\n\n<p>Efficient, predictable and no fancy tricks.</p>\n\n<p>100% coverage on tests.</p>\n\n<p>Drag and drop into your code.</p>\n\n<pre><code>/**\n * Splits a command on whitespaces. Preserves whitespace in quotes. Trims excess whitespace between chunks. Supports quote\n * escape within quotes. Failed escape will preserve escape char.\n *\n * @return List of split commands\n */\nstatic List&lt;String&gt; splitCommand(String inputString) {\n    List&lt;String&gt; matchList = new LinkedList&lt;&gt;();\n    LinkedList&lt;Character&gt; charList = inputString.chars()\n            .mapToObj(i -&gt; (char) i)\n            .collect(Collectors.toCollection(LinkedList::new));\n\n    // Finite-State Automaton for parsing.\n\n    CommandSplitterState state = CommandSplitterState.BeginningChunk;\n    LinkedList&lt;Character&gt; chunkBuffer = new LinkedList&lt;&gt;();\n\n    for (Character currentChar : charList) {\n        switch (state) {\n            case BeginningChunk:\n                switch (currentChar) {\n                    case '\"':\n                        state = CommandSplitterState.ParsingQuote;\n                        break;\n                    case ' ':\n                        break;\n                    default:\n                        state = CommandSplitterState.ParsingWord;\n                        chunkBuffer.add(currentChar);\n                }\n                break;\n            case ParsingWord:\n                switch (currentChar) {\n                    case ' ':\n                        state = CommandSplitterState.BeginningChunk;\n                        String newWord = chunkBuffer.stream().map(Object::toString).collect(Collectors.joining());\n                        matchList.add(newWord);\n                        chunkBuffer = new LinkedList&lt;&gt;();\n                        break;\n                    default:\n                        chunkBuffer.add(currentChar);\n                }\n                break;\n            case ParsingQuote:\n                switch (currentChar) {\n                    case '\"':\n                        state = CommandSplitterState.BeginningChunk;\n                        String newWord = chunkBuffer.stream().map(Object::toString).collect(Collectors.joining());\n                        matchList.add(newWord);\n                        chunkBuffer = new LinkedList&lt;&gt;();\n                        break;\n                    case '\\\\':\n                        state = CommandSplitterState.EscapeChar;\n                        break;\n                    default:\n                        chunkBuffer.add(currentChar);\n                }\n                break;\n            case EscapeChar:\n                switch (currentChar) {\n                    case '\"': // Intentional fall through\n                    case '\\\\':\n                        state = CommandSplitterState.ParsingQuote;\n                        chunkBuffer.add(currentChar);\n                        break;\n                    default:\n                        state = CommandSplitterState.ParsingQuote;\n                        chunkBuffer.add('\\\\');\n                        chunkBuffer.add(currentChar);\n                }\n        }\n    }\n\n    if (state != CommandSplitterState.BeginningChunk) {\n        String newWord = chunkBuffer.stream().map(Object::toString).collect(Collectors.joining());\n        matchList.add(newWord);\n    }\n    return matchList;\n}\n\nprivate enum CommandSplitterState {\n    BeginningChunk, ParsingWord, ParsingQuote, EscapeChar\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1677324041,"creation_date":1523819963,"answer_id":49845863,"question_id":3366281,"body_markdown":"Apache Commons to the rescue!\r\n\r\n    import org.apache.commons.text.StringTokenizer\r\n    import org.apache.commons.text.matcher.StringMatcher\r\n    import org.apache.commons.text.matcher.StringMatcherFactory\r\n    @Grab(group=&#39;org.apache.commons&#39;, module=&#39;commons-text&#39;, version=&#39;1.3&#39;)\r\n    \r\n    def str = /is this   &#39;completely &quot;impossible&quot;&#39; or &quot;&quot;&quot;slightly&quot;&quot; impossible&quot; to parse?/\r\n    \r\n    StringTokenizer st = new StringTokenizer( str )\r\n    StringMatcher sm = StringMatcherFactory.INSTANCE.quoteMatcher()\r\n    st.setQuoteMatcher( sm )\r\n    \r\n    println st.tokenList\r\n\r\nOutput:\r\n\r\n&gt; [is, this, completely &quot;impossible&quot;, or, &quot;slightly&quot; impossible, to, parse?]\r\n\r\nA few notes:&lt;br&gt;\r\n\r\n 1. this is written in Groovy... it is in fact a Groovy script.  The\r\n    `@Grab` line gives a clue to the sort of dependency line you need\r\n    (e.g. in `build.gradle`) ... or just include the .jar in your\r\n    classpath of course\r\n 2. `StringTokenizer` here is **NOT**\r\n    `java.util.StringTokenizer` ... as the `import` line shows it is\r\n    `org.apache.commons.text.StringTokenizer`\r\n 3. the `def str = ...`\r\n    line is a way to produce a `String` in Groovy which contains both\r\n    single quotes and double quotes without having to go in for escaping\r\n 4. `StringMatcherFactory` in apache commons-text 1.3 can be found\r\n    [here][1]: as you can see, the `INSTANCE` can provide you with a\r\n    bunch of different `StringMatcher`s.  You could even roll your own:\r\n    but you&#39;d need to examine the `StringMatcherFactory` source code to\r\n    see how it&#39;s done.\r\n 5. YES! You can not only include the &quot;other type of quote&quot; and it is correctly interpreted as not being a token boundary ... but you can even ***escape the actual quote which is being used to turn off tokenising***, by doubling the quote within the tokenisation-protected bit of the String! Try implementing that with a few lines of code ... or rather don&#39;t!\r\n\r\nPS why is it better to use Apache Commons than any other solution?\r\nApart from the fact that there is no point re-inventing the wheel, I can think of at least two reasons:\r\n\r\n  1. The Apache engineers can be counted on to have anticipated all the gotchas and developed robust, comprehensively tested, reliable code\r\n  2. It means you don&#39;t clutter up your beautiful code with stoopid utility methods - you just have a nice, clean bit of code which does exactly what it says on the tin, leaving you to get on with the, um, interesting stuff...\r\n\r\nPPS Nothing obliges you to look on the Apache code as mysterious &quot;black boxes&quot;. [The source][2] is open, and written in usually perfectly &quot;accessible&quot; Java.  Consequently you are free to examine how things are done to your heart&#39;s content.  It&#39;s often quite instructive to do so.\r\n\r\n***later***\r\n\r\nSufficiently intrigued by ArtB&#39;s question I had a look at the source:\r\n\r\nin StringMatcherFactory.java we see: \r\n\r\n    private static final AbstractStringMatcher.CharSetMatcher QUOTE_MATCHER = new AbstractStringMatcher.CharSetMatcher(\r\n                &quot;&#39;\\&quot;&quot;.toCharArray());\r\n\r\n... rather dull ... \r\n\r\nso that leads one to look at StringTokenizer.java: \r\n\r\n    public StringTokenizer setQuoteMatcher(final StringMatcher quote) {\r\n            if (quote != null) {\r\n                this.quoteMatcher = quote;\r\n            }\r\n            return this;\r\n    }\r\n\r\nOK... and then, in the same java file:\r\n\r\n    private int readWithQuotes(final char[] srcChars ...\r\n\r\nwhich contains the comment: \r\n\r\n    // If we&#39;ve found a quote character, see if it&#39;s followed by a second quote. If so, then we need to actually put the quote character into the token rather than end the token.\r\n\r\n... I can&#39;t be bothered to follow the clues any further. You have a choice: either your &quot;hackish&quot; solution, where you systematically pre-process your strings before submitting them for tokenising, turning |\\\\\\\\\\&quot;|s into |\\&quot;\\&quot;|s... (i.e. where you replace each |**\\&quot;**| with |**&quot;&quot;**|)... &lt;br&gt;\r\nOr... you examine org.apache.commons.text.StringTokenizer.java to figure out how to tweak the code.  It&#39;s a small file. I don&#39;t think it would be that difficult.  Then you compile, essentially making a fork of the Apache code. \r\n\r\nI don&#39;t think it can be configured. But if you found a code-tweak solution which made sense you might submit it to Apache and then it might be accepted for the next iteration of the code, and your name would figure at least in the &quot;features request&quot; part of Apache: this could be a form of [kleos][3] through which you achieve programming immortality... \r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/matcher/StringMatcherFactory.html\r\n  [2]: https://commons.apache.org/proper/commons-text/apidocs/src-html/org/apache/commons/text/StringTokenizer.html\r\n  [3]: https://en.wikipedia.org/wiki/Kleos","title":"Tokenizing a String but ignoring delimiters within quotes","body":"<p>Apache Commons to the rescue!</p>\n<pre><code>import org.apache.commons.text.StringTokenizer\nimport org.apache.commons.text.matcher.StringMatcher\nimport org.apache.commons.text.matcher.StringMatcherFactory\n@Grab(group='org.apache.commons', module='commons-text', version='1.3')\n\ndef str = /is this   'completely &quot;impossible&quot;' or &quot;&quot;&quot;slightly&quot;&quot; impossible&quot; to parse?/\n\nStringTokenizer st = new StringTokenizer( str )\nStringMatcher sm = StringMatcherFactory.INSTANCE.quoteMatcher()\nst.setQuoteMatcher( sm )\n\nprintln st.tokenList\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>[is, this, completely &quot;impossible&quot;, or, &quot;slightly&quot; impossible, to, parse?]</p>\n</blockquote>\n<p>A few notes:<br></p>\n<ol>\n<li>this is written in Groovy... it is in fact a Groovy script.  The\n<code>@Grab</code> line gives a clue to the sort of dependency line you need\n(e.g. in <code>build.gradle</code>) ... or just include the .jar in your\nclasspath of course</li>\n<li><code>StringTokenizer</code> here is <strong>NOT</strong>\n<code>java.util.StringTokenizer</code> ... as the <code>import</code> line shows it is\n<code>org.apache.commons.text.StringTokenizer</code></li>\n<li>the <code>def str = ...</code>\nline is a way to produce a <code>String</code> in Groovy which contains both\nsingle quotes and double quotes without having to go in for escaping</li>\n<li><code>StringMatcherFactory</code> in apache commons-text 1.3 can be found\n<a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/matcher/StringMatcherFactory.html\" rel=\"nofollow noreferrer\">here</a>: as you can see, the <code>INSTANCE</code> can provide you with a\nbunch of different <code>StringMatcher</code>s.  You could even roll your own:\nbut you'd need to examine the <code>StringMatcherFactory</code> source code to\nsee how it's done.</li>\n<li>YES! You can not only include the &quot;other type of quote&quot; and it is correctly interpreted as not being a token boundary ... but you can even <em><strong>escape the actual quote which is being used to turn off tokenising</strong></em>, by doubling the quote within the tokenisation-protected bit of the String! Try implementing that with a few lines of code ... or rather don't!</li>\n</ol>\n<p>PS why is it better to use Apache Commons than any other solution?\nApart from the fact that there is no point re-inventing the wheel, I can think of at least two reasons:</p>\n<ol>\n<li>The Apache engineers can be counted on to have anticipated all the gotchas and developed robust, comprehensively tested, reliable code</li>\n<li>It means you don't clutter up your beautiful code with stoopid utility methods - you just have a nice, clean bit of code which does exactly what it says on the tin, leaving you to get on with the, um, interesting stuff...</li>\n</ol>\n<p>PPS Nothing obliges you to look on the Apache code as mysterious &quot;black boxes&quot;. <a href=\"https://commons.apache.org/proper/commons-text/apidocs/src-html/org/apache/commons/text/StringTokenizer.html\" rel=\"nofollow noreferrer\">The source</a> is open, and written in usually perfectly &quot;accessible&quot; Java.  Consequently you are free to examine how things are done to your heart's content.  It's often quite instructive to do so.</p>\n<p><em><strong>later</strong></em></p>\n<p>Sufficiently intrigued by ArtB's question I had a look at the source:</p>\n<p>in StringMatcherFactory.java we see:</p>\n<pre><code>private static final AbstractStringMatcher.CharSetMatcher QUOTE_MATCHER = new AbstractStringMatcher.CharSetMatcher(\n            &quot;'\\&quot;&quot;.toCharArray());\n</code></pre>\n<p>... rather dull ...</p>\n<p>so that leads one to look at StringTokenizer.java:</p>\n<pre><code>public StringTokenizer setQuoteMatcher(final StringMatcher quote) {\n        if (quote != null) {\n            this.quoteMatcher = quote;\n        }\n        return this;\n}\n</code></pre>\n<p>OK... and then, in the same java file:</p>\n<pre><code>private int readWithQuotes(final char[] srcChars ...\n</code></pre>\n<p>which contains the comment:</p>\n<pre><code>// If we've found a quote character, see if it's followed by a second quote. If so, then we need to actually put the quote character into the token rather than end the token.\n</code></pre>\n<p>... I can't be bothered to follow the clues any further. You have a choice: either your &quot;hackish&quot; solution, where you systematically pre-process your strings before submitting them for tokenising, turning |\\\\&quot;|s into |&quot;&quot;|s... (i.e. where you replace each |<strong>&quot;</strong>| with |<strong>&quot;&quot;</strong>|)... <br>\nOr... you examine org.apache.commons.text.StringTokenizer.java to figure out how to tweak the code.  It's a small file. I don't think it would be that difficult.  Then you compile, essentially making a fork of the Apache code.</p>\n<p>I don't think it can be configured. But if you found a code-tweak solution which made sense you might submit it to Apache and then it might be accepted for the next iteration of the code, and your name would figure at least in the &quot;features request&quot; part of Apache: this could be a form of <a href=\"https://en.wikipedia.org/wiki/Kleos\" rel=\"nofollow noreferrer\">kleos</a> through which you achieve programming immortality...</p>\n"},{"tags":[],"owner":{"account_id":2582505,"reputation":1356,"user_id":2238859,"accept_rate":6,"display_name":"hemantvsn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529347178,"creation_date":1529347178,"answer_id":50915611,"question_id":3366281,"body_markdown":"Another old school way is :\r\n\r\n    public static void main(String[] args) {\r\n\t\t\r\n\t\tString text = &quot;One two \\&quot;three four\\&quot; five \\&quot;six seven eight\\&quot; nine \\&quot;ten\\&quot;&quot;;\r\n\t\tString[] splits = text.split(&quot; &quot;);\r\n\t\tList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n\t\tString token = null;\r\n\t\tfor(String s : splits) {\r\n\t\t\t\r\n\t\t\tif(s.startsWith(&quot;\\&quot;&quot;) ) {\r\n\t\t\t\ttoken = &quot;&quot; + s; \r\n\t\t\t} else if (s.endsWith(&quot;\\&quot;&quot;)) {\r\n\t\t\t\ttoken = token + &quot; &quot;+ s;\r\n\t\t\t\tlist.add(token);\r\n\t\t\t\ttoken = null;\r\n\t\t\t} else {\r\n\t\t\t\tif (token != null) {\r\n\t\t\t\t\ttoken = token + &quot; &quot; + s;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlist.add(s);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(list);\r\n\t}\r\n\r\nOutput : - [One, two, &quot;three four&quot;, five, &quot;six seven eight&quot;, nine]","title":"Tokenizing a String but ignoring delimiters within quotes","body":"<p>Another old school way is :</p>\n\n<pre><code>public static void main(String[] args) {\n\n    String text = \"One two \\\"three four\\\" five \\\"six seven eight\\\" nine \\\"ten\\\"\";\n    String[] splits = text.split(\" \");\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n    String token = null;\n    for(String s : splits) {\n\n        if(s.startsWith(\"\\\"\") ) {\n            token = \"\" + s; \n        } else if (s.endsWith(\"\\\"\")) {\n            token = token + \" \"+ s;\n            list.add(token);\n            token = null;\n        } else {\n            if (token != null) {\n                token = token + \" \" + s;\n            } else {\n                list.add(s);\n            }\n        }\n    }\n    System.out.println(list);\n}\n</code></pre>\n\n<p>Output : - [One, two, \"three four\", five, \"six seven eight\", nine]</p>\n"},{"tags":[],"owner":{"account_id":10105963,"reputation":1331,"user_id":7468538,"display_name":"HariUserX"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554188455,"creation_date":1554188455,"answer_id":55468731,"question_id":3366281,"body_markdown":"Recently faced a similar question where command line arguments must be split ignoring quotes [link](https://stackoverflow.com/questions/55467810/how-can-i-split-a-string-except-inside-quotes-using-java#55467810).\r\n\r\nOne possible case: \r\n&gt; &quot;/opt/jboss-eap/bin/jboss-cli.sh --connect --controller=localhost:9990 -c command=\\&quot;deploy /app/jboss-eap-7.1/standalone/updates/sample.war --force\\&quot;&quot;\r\n\r\nThis had to be split to \r\n```text\r\n/opt/jboss-eap/bin/jboss-cli.sh\r\n--connect\r\n--controller=localhost:9990\r\n-c\r\ncommand=&quot;deploy /app/jboss-eap-7.1/standalone/updates/sample.war --force&quot;\r\n```\r\n\r\nJust to add to @polygenelubricants&#39;s answer, having any non-space character before and after the quote matcher can work out.\r\n\r\n`&quot;\\\\S*\\&quot;([^\\&quot;]*)\\&quot;\\\\S*|(\\\\S+)&quot;`\r\n\r\nExample:\r\n\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class Tokenizer {\r\n\r\n    public static void main(String[] args){\r\n\r\n        String a = &quot;/opt/jboss-eap/bin/jboss-cli.sh --connect --controller=localhost:9990 -c command=\\&quot;deploy &quot; +\r\n                &quot;/app/jboss-eap-7.1/standalone/updates/sample.war --force\\&quot;&quot;;\r\n        String b = &quot;Hello \\&quot;Stack Overflow\\&quot;&quot;;\r\n        String c = &quot;cmd=\\&quot;abcd efgh ijkl mnop\\&quot; \\&quot;apple\\&quot; banana mango&quot;;\r\n        String d = &quot;abcd ef=\\&quot;ghij klmn\\&quot;op qrst&quot;;\r\n        String e = &quot;1 2 \\&quot;333 4\\&quot; 55 6    \\&quot;77\\&quot; 8 999&quot;;\r\n\r\n        List&lt;String&gt; matchList = new ArrayList&lt;String&gt;();\r\n        Pattern regex = Pattern.compile(&quot;\\\\S*\\&quot;([^\\&quot;]*)\\&quot;\\\\S*|(\\\\S+)&quot;);\r\n        Matcher regexMatcher = regex.matcher(a);\r\n        while (regexMatcher.find()) {\r\n            matchList.add(regexMatcher.group());\r\n        }\r\n        System.out.println(&quot;matchList=&quot;+matchList);\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n&gt;matchList=[/opt/jboss-eap/bin/jboss-cli.sh, --connect, --controller=localhost:9990, -c, command=&quot;deploy /app/jboss-eap-7.1/standalone/updates/sample.war --force&quot;]\r\n\r\n","title":"Tokenizing a String but ignoring delimiters within quotes","body":"<p>Recently faced a similar question where command line arguments must be split ignoring quotes <a href=\"https://stackoverflow.com/questions/55467810/how-can-i-split-a-string-except-inside-quotes-using-java#55467810\">link</a>.</p>\n\n<p>One possible case: </p>\n\n<blockquote>\n  <p>\"/opt/jboss-eap/bin/jboss-cli.sh --connect --controller=localhost:9990 -c command=\\\"deploy /app/jboss-eap-7.1/standalone/updates/sample.war --force\\\"\"</p>\n</blockquote>\n\n<p>This had to be split to </p>\n\n<pre><code>/opt/jboss-eap/bin/jboss-cli.sh\n--connect\n--controller=localhost:9990\n-c\ncommand=\"deploy /app/jboss-eap-7.1/standalone/updates/sample.war --force\"\n</code></pre>\n\n<p>Just to add to @polygenelubricants's answer, having any non-space character before and after the quote matcher can work out.</p>\n\n<p><code>\"\\\\S*\\\"([^\\\"]*)\\\"\\\\S*|(\\\\S+)\"</code></p>\n\n<p>Example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Tokenizer {\n\n    public static void main(String[] args){\n\n        String a = \"/opt/jboss-eap/bin/jboss-cli.sh --connect --controller=localhost:9990 -c command=\\\"deploy \" +\n                \"/app/jboss-eap-7.1/standalone/updates/sample.war --force\\\"\";\n        String b = \"Hello \\\"Stack Overflow\\\"\";\n        String c = \"cmd=\\\"abcd efgh ijkl mnop\\\" \\\"apple\\\" banana mango\";\n        String d = \"abcd ef=\\\"ghij klmn\\\"op qrst\";\n        String e = \"1 2 \\\"333 4\\\" 55 6    \\\"77\\\" 8 999\";\n\n        List&lt;String&gt; matchList = new ArrayList&lt;String&gt;();\n        Pattern regex = Pattern.compile(\"\\\\S*\\\"([^\\\"]*)\\\"\\\\S*|(\\\\S+)\");\n        Matcher regexMatcher = regex.matcher(a);\n        while (regexMatcher.find()) {\n            matchList.add(regexMatcher.group());\n        }\n        System.out.println(\"matchList=\"+matchList);\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>matchList=[/opt/jboss-eap/bin/jboss-cli.sh, --connect, --controller=localhost:9990, -c, command=\"deploy /app/jboss-eap-7.1/standalone/updates/sample.war --force\"]</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":18334491,"reputation":1,"user_id":13352192,"display_name":"Puneet Garg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587274756,"creation_date":1587274756,"answer_id":61300025,"question_id":3366281,"body_markdown":"    private static void findWords(String str) {\r\n\t\tboolean flag = false;\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tfor(int i=0;i&lt;str.length();i++) {\r\n\t\t\tif(str.charAt(i)!=&#39; &#39; &amp;&amp; str.charAt(i)!=&#39;&quot;&#39;) {\r\n\t\t\t\tsb.append(str.charAt(i));\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tSystem.out.println(sb.toString());\r\n\t\t\t\tsb = new StringBuilder();\r\n\t\t\t\tif(str.charAt(i)==&#39; &#39; &amp;&amp; !flag)\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\telse if(str.charAt(i)==&#39;&quot;&#39;) {\r\n\t\t\t\t\tif(!flag) {\r\n\t\t\t\t\t\tflag=true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ti++;\r\n\t\t\t\t\twhile(i&lt;str.length() &amp;&amp; str.charAt(i)!=&#39;&quot;&#39;) {\r\n\t\t\t\t\t\tsb.append(str.charAt(i));\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tflag=false;\r\n\t\t\t\t\tSystem.out.println(sb.toString());\r\n\t\t\t\t\tsb = new StringBuilder();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Tokenizing a String but ignoring delimiters within quotes","body":"<pre><code>private static void findWords(String str) {\n    boolean flag = false;\n    StringBuilder sb = new StringBuilder();\n    for(int i=0;i&lt;str.length();i++) {\n        if(str.charAt(i)!=' ' &amp;&amp; str.charAt(i)!='\"') {\n            sb.append(str.charAt(i));\n        }\n        else {\n            System.out.println(sb.toString());\n            sb = new StringBuilder();\n            if(str.charAt(i)==' ' &amp;&amp; !flag)\n                continue;\n            else if(str.charAt(i)=='\"') {\n                if(!flag) {\n                    flag=true;\n                }\n                i++;\n                while(i&lt;str.length() &amp;&amp; str.charAt(i)!='\"') {\n                    sb.append(str.charAt(i));\n                    i++;\n                }\n                flag=false;\n                System.out.println(sb.toString());\n                sb = new StringBuilder();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20086921,"reputation":41,"user_id":14728274,"display_name":"Herman S."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606635721,"creation_date":1606635721,"answer_id":65057991,"question_id":3366281,"body_markdown":"This is what I myself use for splitting arguments in command line and things like that.\r\n\r\nIt&#39;s easily adjustible for multiple delimiters and quotes, it can process quotes within the words (like `al&#39; &#39;pha`), it supports escaping (quotes as well as spaces) and it&#39;s really lenient.\r\n\r\n    public final class StringUtilities {\r\n        private static final List&lt;Character&gt; WORD_DELIMITERS = Arrays.asList(&#39; &#39;, &#39;\\t&#39;);\r\n        private static final List&lt;Character&gt; QUOTE_CHARACTERS = Arrays.asList(&#39;&quot;&#39;, &#39;\\&#39;&#39;);\r\n        private static final char ESCAPE_CHARACTER = &#39;\\\\&#39;;\r\n    \r\n        private StringUtilities() {\r\n    \r\n        }\r\n    \r\n        public static String[] splitWords(String string) {\r\n            StringBuilder wordBuilder = new StringBuilder();\r\n            List&lt;String&gt; words = new ArrayList&lt;&gt;();\r\n            char quote = 0;\r\n    \r\n            for (int i = 0; i &lt; string.length(); i++) {\r\n                char c = string.charAt(i);\r\n    \r\n                if (c == ESCAPE_CHARACTER &amp;&amp; i + 1 &lt; string.length()) {\r\n                    wordBuilder.append(string.charAt(++i));\r\n                } else if (WORD_DELIMITERS.contains(c) &amp;&amp; quote == 0) {\r\n                    words.add(wordBuilder.toString());\r\n                    wordBuilder.setLength(0);\r\n                } else if (quote == 0 &amp;&amp; QUOTE_CHARACTERS.contains(c)) {\r\n                    quote = c;\r\n                } else if (quote == c) {\r\n                    quote = 0;\r\n                } else {\r\n                    wordBuilder.append(c);\r\n                }\r\n            }\r\n\r\n            if (wordBuilder.length() &gt; 0) {\r\n                words.add(wordBuilder.toString());\r\n            }\r\n\r\n            return words.toArray(new String[0]);\r\n        }\r\n    }","title":"Tokenizing a String but ignoring delimiters within quotes","body":"<p>This is what I myself use for splitting arguments in command line and things like that.</p>\n<p>It's easily adjustible for multiple delimiters and quotes, it can process quotes within the words (like <code>al' 'pha</code>), it supports escaping (quotes as well as spaces) and it's really lenient.</p>\n<pre><code>public final class StringUtilities {\n    private static final List&lt;Character&gt; WORD_DELIMITERS = Arrays.asList(' ', '\\t');\n    private static final List&lt;Character&gt; QUOTE_CHARACTERS = Arrays.asList('&quot;', '\\'');\n    private static final char ESCAPE_CHARACTER = '\\\\';\n\n    private StringUtilities() {\n\n    }\n\n    public static String[] splitWords(String string) {\n        StringBuilder wordBuilder = new StringBuilder();\n        List&lt;String&gt; words = new ArrayList&lt;&gt;();\n        char quote = 0;\n\n        for (int i = 0; i &lt; string.length(); i++) {\n            char c = string.charAt(i);\n\n            if (c == ESCAPE_CHARACTER &amp;&amp; i + 1 &lt; string.length()) {\n                wordBuilder.append(string.charAt(++i));\n            } else if (WORD_DELIMITERS.contains(c) &amp;&amp; quote == 0) {\n                words.add(wordBuilder.toString());\n                wordBuilder.setLength(0);\n            } else if (quote == 0 &amp;&amp; QUOTE_CHARACTERS.contains(c)) {\n                quote = c;\n            } else if (quote == c) {\n                quote = 0;\n            } else {\n                wordBuilder.append(c);\n            }\n        }\n\n        if (wordBuilder.length() &gt; 0) {\n            words.add(wordBuilder.toString());\n        }\n\n        return words.toArray(new String[0]);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4980140,"reputation":3385,"user_id":4005379,"accept_rate":64,"display_name":"Alferd Nobel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668761901,"creation_date":1668761567,"answer_id":74487079,"question_id":3366281,"body_markdown":"In my case I had a string that includes key=&quot;value&quot; . Check this out:\r\n\r\n    String perfLogString = &quot;2022-11-10 08:35:00,470               PLV=REQ CIP=902.68.5.11 CMID=canonaustr CMN=\\&quot;Yanon Australia Pty Ltd\\&quot;&quot;;\r\n            \r\n    // and this came to my rescue :\r\n    \r\n    String[] str1= perfLogString.split(&quot;\\\\s(?=(([^\\&quot;]*\\&quot;){2})*[^\\&quot;]*$)\\\\s*&quot;);\r\n        System.out.println(Arrays.toString(str1));\r\n\r\nThis regex matches spaces ONLY if it is followed by even number of double quotes. \r\nOn split I get :\r\n\r\n    [2022-11-10, 08:35:00,470, PLV=REQ, CIP=902.68.5.11, CMID=canonaustr, CMN=&quot;Yanon Australia Pty Ltd&quot;]\r\n","title":"Tokenizing a String but ignoring delimiters within quotes","body":"<p>In my case I had a string that includes key=&quot;value&quot; . Check this out:</p>\n<pre><code>String perfLogString = &quot;2022-11-10 08:35:00,470               PLV=REQ CIP=902.68.5.11 CMID=canonaustr CMN=\\&quot;Yanon Australia Pty Ltd\\&quot;&quot;;\n        \n// and this came to my rescue :\n\nString[] str1= perfLogString.split(&quot;\\\\s(?=(([^\\&quot;]*\\&quot;){2})*[^\\&quot;]*$)\\\\s*&quot;);\n    System.out.println(Arrays.toString(str1));\n</code></pre>\n<p>This regex matches spaces ONLY if it is followed by even number of double quotes.\nOn split I get :</p>\n<pre><code>[2022-11-10, 08:35:00,470, PLV=REQ, CIP=902.68.5.11, CMID=canonaustr, CMN=&quot;Yanon Australia Pty Ltd&quot;]\n</code></pre>\n"}],"owner":{"account_id":175810,"reputation":427,"user_id":406091,"accept_rate":43,"display_name":"Ploo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32649,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":3366634,"answer_count":14,"score":29,"last_activity_date":1677324041,"creation_date":1280432061,"question_id":3366281,"body_markdown":"I wish to have have the following String\r\n\r\n    !cmd 45 90 &quot;An argument&quot; Another AndAnother &quot;Another one in quotes&quot;\r\n\r\nto become an array of the following\r\n\r\n    { &quot;!cmd&quot;, &quot;45&quot;, &quot;90&quot;, &quot;An argument&quot;, &quot;Another&quot;, &quot;AndAnother&quot;, &quot;Another one in quotes&quot; }\r\n\r\nI tried\r\n\r\n    new StringTokenizer(cmd, &quot;\\&quot;&quot;)\r\n\r\nbut this would return &quot;Another&quot; and &quot;AndAnother as &quot;Another AndAnother&quot; which is not the desired effect.\r\n\r\nThanks.\r\n\r\nEDIT:\r\nI have changed the example yet again, this time I believe it explains the situation best although it is no different than the second example.","title":"Tokenizing a String but ignoring delimiters within quotes","body":"<p>I wish to have have the following String</p>\n\n<pre><code>!cmd 45 90 \"An argument\" Another AndAnother \"Another one in quotes\"\n</code></pre>\n\n<p>to become an array of the following</p>\n\n<pre><code>{ \"!cmd\", \"45\", \"90\", \"An argument\", \"Another\", \"AndAnother\", \"Another one in quotes\" }\n</code></pre>\n\n<p>I tried</p>\n\n<pre><code>new StringTokenizer(cmd, \"\\\"\")\n</code></pre>\n\n<p>but this would return \"Another\" and \"AndAnother as \"Another AndAnother\" which is not the desired effect.</p>\n\n<p>Thanks.</p>\n\n<p>EDIT:\nI have changed the example yet again, this time I believe it explains the situation best although it is no different than the second example.</p>\n"},{"tags":["java","url-encoding"],"comments":[{"owner":{"account_id":15628,"reputation":244151,"user_id":33213,"accept_rate":76,"display_name":"jalf"},"score":0,"creation_date":1236532055,"post_id":623861,"comment_id":436772,"body_markdown":"Just to be pedantic, there is no such thing as &quot;normal unicode&quot;. UTF8 is one of several ways to represent unicode text. But there is no &quot;true&quot; canonical representation.","body":"Just to be pedantic, there is no such thing as &quot;normal unicode&quot;. UTF8 is one of several ways to represent unicode text. But there is no &quot;true&quot; canonical representation."},{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":0,"creation_date":1236577728,"post_id":623861,"comment_id":437922,"body_markdown":"As Jon and ng said, this has nothing to do with Unicode or UTF-8.  You might want to change the title.","body":"As Jon and ng said, this has nothing to do with Unicode or UTF-8.  You might want to change the title."},{"owner":{"account_id":134590,"reputation":26815,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"score":0,"creation_date":1609884184,"post_id":623861,"comment_id":115960605,"body_markdown":"The answer marked as correct now it is clearly wrong and should be removed.","body":"The answer marked as correct now it is clearly wrong and should be removed."}],"answers":[{"tags":[],"owner":{"account_id":11372,"reputation":7119,"user_id":21896,"accept_rate":40,"display_name":"ng."},"down_vote_count":3,"up_vote_count":70,"is_accepted":true,"score":67,"last_activity_date":1236534739,"creation_date":1236534739,"answer_id":624002,"question_id":623861,"body_markdown":"This is not unescaped XML, this is URL encoded text. Looks to me like you want to use the following on the URL strings.\r\n\r\n    URLDecoder.decode(url);\r\n\r\nThis will give you the correct text. The result of decoding the like you provided is this.\r\n\r\n    http://cliveg.bu.edu/people/sganguly/player/ Rang De Basanti - Tu Bin Bataye.mp3\r\n\r\nThe %20 is an escaped space character. To get the above I used the URLDecoder object.","title":"How do you unescape URLs in Java?","body":"<p>This is not unescaped XML, this is URL encoded text. Looks to me like you want to use the following on the URL strings.</p>\n\n<pre><code>URLDecoder.decode(url);\n</code></pre>\n\n<p>This will give you the correct text. The result of decoding the like you provided is this.</p>\n\n<pre><code>http://cliveg.bu.edu/people/sganguly/player/ Rang De Basanti - Tu Bin Bataye.mp3\n</code></pre>\n\n<p>The %20 is an escaped space character. To get the above I used the URLDecoder object.</p>\n"},{"tags":[],"owner":{"account_id":706051,"reputation":9,"user_id":610103,"display_name":"Mario"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1297269945,"creation_date":1297269945,"answer_id":4947872,"question_id":623861,"body_markdown":"I&#39;m having problems using this method when I have special characters like `&#225;`, `&#233;`, `&#237;`, etc. My (probably wild) guess is widechars are not being encoded properly... well, at least I was expecting to see sequences like `%uC2BF` instead of `%C2%BF`.\r\n\r\nEdited: My bad, this post explains the difference between URL encoding and JavaScript&#39;s escape sequences: https://stackoverflow.com/questions/2280863/uri-encoding-in-unicode-for-apache-httpclient-4","title":"How do you unescape URLs in Java?","body":"<p>I'm having problems using this method when I have special characters like <code>á</code>, <code>é</code>, <code>í</code>, etc. My (probably wild) guess is widechars are not being encoded properly... well, at least I was expecting to see sequences like <code>%uC2BF</code> instead of <code>%C2%BF</code>.</p>\n\n<p>Edited: My bad, this post explains the difference between URL encoding and JavaScript's escape sequences: <a href=\"https://stackoverflow.com/questions/2280863/uri-encoding-in-unicode-for-apache-httpclient-4\">URI encoding in UNICODE for apache httpclient 4</a></p>\n"},{"tags":[],"owner":{"account_id":134590,"reputation":26815,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1635207564,"creation_date":1511793796,"answer_id":47513586,"question_id":623861,"body_markdown":"\r\n# Starting from Java 11 use\r\n# [`URLDecoder.decode(url, StandardCharsets.UTF_8)`][1].\nfor Java 7/8/9 use [`URLDecoder.decode(url, &quot;UTF-8&quot;)`][3].\r\n\r\n`URLDecoder.decode(String s)` has been deprecated since **Java 5**\r\n\r\nRegarding the chosen encoding:\r\n\r\n&gt; Note: The [World Wide Web Consortium Recommendation][2] states that **UTF-8** should be used. Not doing so may introduce incompatibilites.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/net/URLDecoder.html#decode(java.lang.String,java.nio.charset.Charset)\r\n  [2]: http://www.w3.org/TR/html40/appendix/notes.html#non-ascii-chars\n\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/net/URLDecoder.html#decode-java.lang.String-java.lang.String-","title":"How do you unescape URLs in Java?","body":"<h1>Starting from Java 11 use</h1>\n<h1><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/net/URLDecoder.html#decode(java.lang.String,java.nio.charset.Charset)\" rel=\"noreferrer\"><code>URLDecoder.decode(url, StandardCharsets.UTF_8)</code></a>.</h1>\n<p>for Java 7/8/9 use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/URLDecoder.html#decode-java.lang.String-java.lang.String-\" rel=\"noreferrer\"><code>URLDecoder.decode(url, &quot;UTF-8&quot;)</code></a>.</p>\n<p><code>URLDecoder.decode(String s)</code> has been deprecated since <strong>Java 5</strong></p>\n<p>Regarding the chosen encoding:</p>\n<blockquote>\n<p>Note: The <a href=\"http://www.w3.org/TR/html40/appendix/notes.html#non-ascii-chars\" rel=\"noreferrer\">World Wide Web Consortium Recommendation</a> states that <strong>UTF-8</strong> should be used. Not doing so may introduce incompatibilites.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":24990152,"reputation":26,"user_id":18851443,"display_name":"Alexander V."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677323878,"creation_date":1677323878,"answer_id":75565013,"question_id":623861,"body_markdown":"In my case the URL contained escaped html entities, so `StringEscapeUtils.unescapeHtml4()` from apache-commons did the trick","title":"How do you unescape URLs in Java?","body":"<p>In my case the URL contained escaped html entities, so <code>StringEscapeUtils.unescapeHtml4()</code> from apache-commons did the trick</p>\n"}],"owner":{"account_id":28240,"reputation":1165,"user_id":75268,"accept_rate":44,"display_name":"Penchant"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44960,"favorite_count":0,"down_vote_count":1,"up_vote_count":40,"accepted_answer_id":624002,"answer_count":4,"score":39,"last_activity_date":1677323878,"creation_date":1236530786,"question_id":623861,"body_markdown":"When I read the xml through a URL&#39;s InputStream, and then cut out everything except the url, I get &quot;http://cliveg.bu.edu/people/sganguly/player/%20Rang%20De%20Basanti%20-%20Tu%20Bin%20Bataye.mp3&quot;. \r\n\r\n\r\nAs you can see, there are a lot of &quot;%20&quot;s.\r\n\r\nI want the url to be unescaped.\r\n\r\nIs there any way to do this in Java, without using a third-party library?","title":"How do you unescape URLs in Java?","body":"<p>When I read the xml through a URL's InputStream, and then cut out everything except the url, I get \"<a href=\"http://cliveg.bu.edu/people/sganguly/player/%20Rang%20De%20Basanti%20-%20Tu%20Bin%20Bataye.mp3\" rel=\"noreferrer\">http://cliveg.bu.edu/people/sganguly/player/%20Rang%20De%20Basanti%20-%20Tu%20Bin%20Bataye.mp3</a>\". </p>\n\n<p>As you can see, there are a lot of \"%20\"s.</p>\n\n<p>I want the url to be unescaped.</p>\n\n<p>Is there any way to do this in Java, without using a third-party library?</p>\n"},{"tags":["java","tomcat","servlets","cors","http-headers"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677296224,"post_id":75563058,"comment_id":133315011,"body_markdown":"`resp.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;http://localhost:8081&quot;);` or `resp.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;http://localhost:8080&quot;);`","body":"<code>resp.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;http:&#47;&#47;localhost:8081&quot;);</code> or <code>resp.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;http:&#47;&#47;localhost:8080&quot;);</code>"},{"owner":{"account_id":21018819,"reputation":362,"user_id":15445661,"display_name":"Ra&#250;l Pe&#241;ate"},"score":0,"creation_date":1677298358,"post_id":75563058,"comment_id":133315190,"body_markdown":"@life888888 It worked for my `GET` that is already working but no for my `POST`.","body":"@life888888 It worked for my <code>GET</code> that is already working but no for my <code>POST</code>."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1677307653,"post_id":75563058,"comment_id":133315960,"body_markdown":"doGet and doPost are servlet &quot;RECEIVER&quot; methods , if you are trying to use a response of a servlet to make a request to an external machine then use java.net.UrlConnection and java.net.HttpUrlConnection or WSDL web Services connection. XMLHttpRequest as I remember it is .js code for stateful javaScript client side request AJAX","body":"doGet and doPost are servlet &quot;RECEIVER&quot; methods , if you are trying to use a response of a servlet to make a request to an external machine then use java.net.UrlConnection and java.net.HttpUrlConnection or WSDL web Services connection. XMLHttpRequest as I remember it is .js code for stateful javaScript client side request AJAX"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1677308285,"post_id":75563058,"comment_id":133316004,"body_markdown":"Note, CORS headers must be correct for their intent. Cross origin request for content is similar if not the same as &quot;portals&quot; and is extremely restricted for security reasons of both content ownership and attacks similar to cookie parameter site origin declaration security.","body":"Note, CORS headers must be correct for their intent. Cross origin request for content is similar if not the same as &quot;portals&quot; and is extremely restricted for security reasons of both content ownership and attacks similar to cookie parameter site origin declaration security."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1677309633,"post_id":75563058,"comment_id":133316116,"body_markdown":"Note: XMLHttpRequest can be set as a POST,  it appears you need to set this with Access-Control-Allow-Origin on the AJAX connection. That may not be possible without a proper external site to call just as with registered TLS certificates. Anyhow, the should be in a client page (is it part of the JSON) , but the way you seem to be doing that is what &quot;portal&quot; coding API and framework is for.","body":"Note: XMLHttpRequest can be set as a POST,  it appears you need to set this with Access-Control-Allow-Origin on the AJAX connection. That may not be possible without a proper external site to call just as with registered TLS certificates. Anyhow, the should be in a client page (is it part of the JSON) , but the way you seem to be doing that is what &quot;portal&quot; coding API and framework is for."},{"owner":{"account_id":2021661,"reputation":61998,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":0,"creation_date":1677319085,"post_id":75563058,"comment_id":133317117,"body_markdown":"Preflight requests use the `OPTIONS` method. Your server doesn&#39;t handle them correctly and CORS preflight fails.","body":"Preflight requests use the <code>OPTIONS</code> method. Your server doesn&#39;t handle them correctly and CORS preflight fails."},{"owner":{"account_id":21018819,"reputation":362,"user_id":15445661,"display_name":"Ra&#250;l Pe&#241;ate"},"score":0,"creation_date":1677323847,"post_id":75563058,"comment_id":133317690,"body_markdown":"@SamuelMarchant Thanks for giving me that perspective, it helps me to find the answer now it&#39;s working!!","body":"@SamuelMarchant Thanks for giving me that perspective, it helps me to find the answer now it&#39;s working!!"}],"answers":[{"tags":[],"owner":{"account_id":21018819,"reputation":362,"user_id":15445661,"display_name":"Ra&#250;l Pe&#241;ate"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677323647,"creation_date":1677322965,"answer_id":75564936,"question_id":75563058,"body_markdown":"This is related to the application server, in this case [Tomcat 10][1], **but it looks like that is the same for a lot of versions of Tomcat.**\r\n\r\nFirst, you need to create where ever you want inside your `Source root` your `CorsFilter` class implementing `Filter`, in my case the path is `projectName/src/main/java/servlet/CorsFilter.java`, code of the file (you can copy it, just be careful to change the `package` name and to import the servlet with `java` instead of `jakarta` if you aren&#39;t using it) is:\r\n\r\n    package servlet;\r\n    \r\n    import jakarta.servlet.*;\r\n    import jakarta.servlet.http.HttpServletResponse;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class CorsFilter implements Filter {\r\n    \r\n        @Override\r\n        public void init(FilterConfig filterConfig) throws ServletException {\r\n            // No initialization required\r\n        }\r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\r\n            HttpServletResponse response = (HttpServletResponse) servletResponse;\r\n            response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n            response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, PUT, DELETE, OPTIONS&quot;);\r\n            response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Content-Type, Authorization&quot;);\r\n            filterChain.doFilter(servletRequest, servletResponse);\r\n        }\r\n    \r\n        @Override\r\n        public void destroy() {\r\n            // No cleanup required\r\n        }\r\n    }\r\n\r\nThe second step is to go inside your `web.xml` file which is inside tomcat, in my case the path is `~/Documents/apache-tomcat-10.1.5/conf/web.xml`, you open the file and add the following code in `web.xml` next to where `&lt;filter&gt;` is commented inside the file, just edit the path of your `CorsFilter.java` in my case is `servlet.CorsFilter`, because you need to add the path from the `Source root`:\r\n\r\n    &lt;filter&gt;\r\n        &lt;filter-name&gt;CORSFilter&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;servlet.CorsFilter&lt;/filter-class&gt;\r\n    &lt;/filter&gt;\r\n    \r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;CORSFilter&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\nAnd the last step is to stop running your project and re-run it.\r\n\r\nIn addition I&#39;ll leave this image as a visual reference:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-10.0-doc/config/filter.html\r\n  [2]: https://i.stack.imgur.com/uG4MT.png","title":"How to allow CORS in JavaEE Servlets using Tomcat?","body":"<p>This is related to the application server, in this case <a href=\"https://tomcat.apache.org/tomcat-10.0-doc/config/filter.html\" rel=\"nofollow noreferrer\">Tomcat 10</a>, <strong>but it looks like that is the same for a lot of versions of Tomcat.</strong></p>\n<p>First, you need to create where ever you want inside your <code>Source root</code> your <code>CorsFilter</code> class implementing <code>Filter</code>, in my case the path is <code>projectName/src/main/java/servlet/CorsFilter.java</code>, code of the file (you can copy it, just be careful to change the <code>package</code> name and to import the servlet with <code>java</code> instead of <code>jakarta</code> if you aren't using it) is:</p>\n<pre><code>package servlet;\n\nimport jakarta.servlet.*;\nimport jakarta.servlet.http.HttpServletResponse;\n\nimport java.io.IOException;\n\npublic class CorsFilter implements Filter {\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n        // No initialization required\n    }\n\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\n        HttpServletResponse response = (HttpServletResponse) servletResponse;\n        response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n        response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, PUT, DELETE, OPTIONS&quot;);\n        response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Content-Type, Authorization&quot;);\n        filterChain.doFilter(servletRequest, servletResponse);\n    }\n\n    @Override\n    public void destroy() {\n        // No cleanup required\n    }\n}\n</code></pre>\n<p>The second step is to go inside your <code>web.xml</code> file which is inside tomcat, in my case the path is <code>~/Documents/apache-tomcat-10.1.5/conf/web.xml</code>, you open the file and add the following code in <code>web.xml</code> next to where <code>&lt;filter&gt;</code> is commented inside the file, just edit the path of your <code>CorsFilter.java</code> in my case is <code>servlet.CorsFilter</code>, because you need to add the path from the <code>Source root</code>:</p>\n<pre><code>&lt;filter&gt;\n    &lt;filter-name&gt;CORSFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;servlet.CorsFilter&lt;/filter-class&gt;\n&lt;/filter&gt;\n\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;CORSFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n<p>And the last step is to stop running your project and re-run it.</p>\n<p>In addition I'll leave this image as a visual reference:</p>\n<p><a href=\"https://i.stack.imgur.com/uG4MT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uG4MT.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":21018819,"reputation":362,"user_id":15445661,"display_name":"Ra&#250;l Pe&#241;ate"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":447,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75564936,"answer_count":1,"score":0,"last_activity_date":1677323647,"creation_date":1677294636,"question_id":75563058,"body_markdown":"I&#39;ve already installed the Access Control plugin and It didn&#39;t help, and I&#39;m using `servlets` with `gson`, my http methods work if I use an API platform (hoppscotch), my method `GET` is working with `axios` but when I try to send a `POST` from my `vue.js` project using `axios` I get the following `CORS` error:\r\n\r\n    Access to XMLHttpRequest at &#39;http://localhost:8080/demo5_war_exploded/client&#39; \r\n    from origin &#39;http://localhost:8081&#39; has been blocked by CORS policy: \r\n    Response to preflight request doesn&#39;t pass access control check: \r\n    No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n\r\nA also this one:\r\n\r\n    xhr.js:233\r\n    POST http://localhost:8080/demo5_war_exploded/client net::ERR_FAILED\r\n\r\nHere is my Java code and I&#39;m using the `headers`, with my `doGet` is working but not with my `doPost`.\r\n\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\r\n            throws IOException {\r\n\r\n        response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n        response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST&quot;);\r\n        response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Content-Type, Accept, X-Requested-With&quot;);\r\n        response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;86400&quot;);\r\n        response.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n\r\n        JsonReader jsonReader = Json.createReader(request.getReader());\r\n        JsonObject jsonObject = jsonReader.readObject();\r\n        jsonReader.close();\r\n\r\n        // extract the fields from the JSON object\r\n        String name = jsonObject.getString(&quot;name&quot;);\r\n        String email = jsonObject.getString(&quot;email&quot;);\r\n\r\n        // create the Client object\r\n        Client client = new Client(name, email);\r\n\r\n        // insert the client into the database\r\n        try {\r\n            clientDao.insert(client);\r\n            response.setStatus(HttpServletResponse.SC_CREATED);\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n            response.setStatus(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\r\n        }\r\n\r\n    }\r\n\r\nThis in my `doGet`, which is working.\r\n    \r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n            throws IOException, ServletException {\r\n\r\n        response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n        response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;GET&quot;);\r\n        response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Content-Type, Accept, X-Requested-With&quot;);\r\n        response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;86400&quot;);\r\n        response.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n\r\n        String idString = request.getParameter(&quot;id&quot;);\r\n        if (idString != null) {\r\n            // get the client with the specified id\r\n            int id = Integer.parseInt(idString);\r\n            try {\r\n                Client client = clientDao.buscarPorId(id);\r\n                if (client != null) {\r\n                    JsonObjectBuilder builder = Json.createObjectBuilder();\r\n                    builder.add(&quot;name&quot;, client.getName());\r\n                    builder.add(&quot;email&quot;, client.getEmail());\r\n                    JsonObject jsonObject = builder.build();\r\n                    response.setContentType(&quot;application/json&quot;);\r\n                    PrintWriter out = response.getWriter();\r\n                    out.print(jsonObject);\r\n                    out.flush();\r\n                } else {\r\n                    response.setStatus(HttpServletResponse.SC_NOT_FOUND);\r\n                }\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n                response.setStatus(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\r\n            }\r\n        } else {\r\n            // get all the client\r\n            try {\r\n                // a different way to get the json and simpler TBH\r\n                List&lt;Client&gt; client = clientDao.list();\r\n\r\n                Gson gson = new Gson();\r\n                String clientJSON = gson.toJson(client);\r\n\r\n                PrintWriter printWriter = response.getWriter();\r\n                response.setContentType(&quot;application/json&quot;);\r\n                response.setCharacterEncoding(&quot;UTF-8&quot;);\r\n                printWriter.write(clientJSON);\r\n                printWriter.close();\r\n\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n                response.setStatus(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\r\n            }\r\n        }\r\n    }","title":"How to allow CORS in JavaEE Servlets using Tomcat?","body":"<p>I've already installed the Access Control plugin and It didn't help, and I'm using <code>servlets</code> with <code>gson</code>, my http methods work if I use an API platform (hoppscotch), my method <code>GET</code> is working with <code>axios</code> but when I try to send a <code>POST</code> from my <code>vue.js</code> project using <code>axios</code> I get the following <code>CORS</code> error:</p>\n<pre><code>Access to XMLHttpRequest at 'http://localhost:8080/demo5_war_exploded/client' \nfrom origin 'http://localhost:8081' has been blocked by CORS policy: \nResponse to preflight request doesn't pass access control check: \nNo 'Access-Control-Allow-Origin' header is present on the requested resource.\n</code></pre>\n<p>A also this one:</p>\n<pre><code>xhr.js:233\nPOST http://localhost:8080/demo5_war_exploded/client net::ERR_FAILED\n</code></pre>\n<p>Here is my Java code and I'm using the <code>headers</code>, with my <code>doGet</code> is working but not with my <code>doPost</code>.</p>\n<pre><code>protected void doPost(HttpServletRequest request, HttpServletResponse response)\n        throws IOException {\n\n    response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n    response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST&quot;);\n    response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Content-Type, Accept, X-Requested-With&quot;);\n    response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;86400&quot;);\n    response.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n\n    JsonReader jsonReader = Json.createReader(request.getReader());\n    JsonObject jsonObject = jsonReader.readObject();\n    jsonReader.close();\n\n    // extract the fields from the JSON object\n    String name = jsonObject.getString(&quot;name&quot;);\n    String email = jsonObject.getString(&quot;email&quot;);\n\n    // create the Client object\n    Client client = new Client(name, email);\n\n    // insert the client into the database\n    try {\n        clientDao.insert(client);\n        response.setStatus(HttpServletResponse.SC_CREATED);\n    } catch (SQLException e) {\n        e.printStackTrace();\n        response.setStatus(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\n    }\n\n}\n</code></pre>\n<p>This in my <code>doGet</code>, which is working.</p>\n<pre><code>protected void doGet(HttpServletRequest request, HttpServletResponse response)\n        throws IOException, ServletException {\n\n    response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n    response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;GET&quot;);\n    response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Content-Type, Accept, X-Requested-With&quot;);\n    response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;86400&quot;);\n    response.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n\n    String idString = request.getParameter(&quot;id&quot;);\n    if (idString != null) {\n        // get the client with the specified id\n        int id = Integer.parseInt(idString);\n        try {\n            Client client = clientDao.buscarPorId(id);\n            if (client != null) {\n                JsonObjectBuilder builder = Json.createObjectBuilder();\n                builder.add(&quot;name&quot;, client.getName());\n                builder.add(&quot;email&quot;, client.getEmail());\n                JsonObject jsonObject = builder.build();\n                response.setContentType(&quot;application/json&quot;);\n                PrintWriter out = response.getWriter();\n                out.print(jsonObject);\n                out.flush();\n            } else {\n                response.setStatus(HttpServletResponse.SC_NOT_FOUND);\n            }\n        } catch (SQLException e) {\n            e.printStackTrace();\n            response.setStatus(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\n        }\n    } else {\n        // get all the client\n        try {\n            // a different way to get the json and simpler TBH\n            List&lt;Client&gt; client = clientDao.list();\n\n            Gson gson = new Gson();\n            String clientJSON = gson.toJson(client);\n\n            PrintWriter printWriter = response.getWriter();\n            response.setContentType(&quot;application/json&quot;);\n            response.setCharacterEncoding(&quot;UTF-8&quot;);\n            printWriter.write(clientJSON);\n            printWriter.close();\n\n        } catch (SQLException e) {\n            e.printStackTrace();\n            response.setStatus(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","email","sendmail"],"comments":[{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":2,"creation_date":1677321672,"post_id":75564607,"comment_id":133317430,"body_markdown":"Welcome! Please post code instead of images! It is easier to review. A minimal, reproducible example MRE (https://stackoverflow.com/help/minimal-reproducible-example)  would be nice.","body":"Welcome! Please post code instead of images! It is easier to review. A minimal, reproducible example MRE (<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>)  would be nice."}],"answers":[{"tags":[],"owner":{"account_id":16566385,"reputation":96,"user_id":11970824,"display_name":"Vipul Krishna Mathuria"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677323064,"creation_date":1677323064,"answer_id":75564944,"question_id":75564607,"body_markdown":"Put service code in try catch block and find out which line is causing the problem and run this code into debug mode to evaluate expressions that are written in line `simpleMessage.setTo()`.","title":"Could you please look at the null error of sending the Java spring boot email?","body":"<p>Put service code in try catch block and find out which line is causing the problem and run this code into debug mode to evaluate expressions that are written in line <code>simpleMessage.setTo()</code>.</p>\n"}],"owner":{"account_id":27875791,"reputation":13,"user_id":21285320,"display_name":"Guin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1677498030,"accepted_answer_id":75564944,"answer_count":1,"score":0,"last_activity_date":1677323064,"creation_date":1677319057,"question_id":75564607,"body_markdown":"Creating an email source with a spring boot!\r\n\r\nnaver is a Korean portal, but there is no difference between Google and mail delivery.\r\n\r\nI finished setting up naver mail, and I matched it neatly with my port, my mail, and my password.\r\n\r\nI have experimented with many sources such as Google, github, and YouTube since yesterday, and this source also has a null error.\r\n\r\nCan you take a look?\r\n\r\napplication properties\r\n\r\n[enter image description here](https://i.stack.imgur.com/hQa6H.png)\r\n\r\ncontroller\r\n\r\n[enter image description here](https://i.stack.imgur.com/ZOjSF.png)\r\n\r\najax\r\n\r\n[enter image description here](https://i.stack.imgur.com/AXQH7.png)\r\n\r\nportal(naver) setup\r\n[enter image description here](https://i.stack.imgur.com/DPm7K.png)\r\n\r\nbuild gradle file\r\n[enter image description here](https://i.stack.imgur.com/HqzLh.png)\r\n\r\n\r\n EmailSenderService\r\n[enter image description here](https://i.stack.imgur.com/4CskP.png)\r\n\r\nThe email received from Ajax was not sent to Controller &gt; Service for now.\r\n\r\nThe service has hardcoded the destination and should be sent.\r\n\r\nIf the shipment to my email is successful, I will try to fix the logic a little bit then.\r\n\r\nThis is an error code!\r\n\r\ncome in!\r\n\r\nto=test@naver.com, subject=subject Here!, message=message Here!\r\n [Request processing failed; nested exception is java.lang.NullPointerException] with root cause\r\n\r\njava.lang.NullPointerException: null\r\n\r\nat com.example.INSPACE.userController.UserController.doCheckMail(UserController.java:115) ~[main/:na]\r\n\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\r\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\r\nat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\r\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.25.jar:5.3.25]\r\n\r\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.25.jar:5.3.25]\r\n\r\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\r\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\r\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\r\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\r\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\r\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\r\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\r\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\r\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:696) ~[tomcat-embed-core-9.0.71.jar:4.0.FR]\r\n\r\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\r\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.71.jar:4.0.FR]\r\n\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.25.jar:5.3.25]\r\n\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.25.jar:5.3.25]\r\n\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.25.jar:5.3.25]\r\n\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n\r\n\r\ncome in!\r\n\r\nto=test@naver.com, subject=subject Here!, message=message Here!\r\n\r\nIt arrived by controller.\r\n\r\nThe code that calls the service to send mail to the .service seems to have an error.\r\n\r\nCan you take a look?\r\n\r\n\r\n\r\nSince yesterday, I have continued to learn and run a lot of code through YouTube, GitHub, and Google.","title":"Could you please look at the null error of sending the Java spring boot email?","body":"<p>Creating an email source with a spring boot!</p>\n<p>naver is a Korean portal, but there is no difference between Google and mail delivery.</p>\n<p>I finished setting up naver mail, and I matched it neatly with my port, my mail, and my password.</p>\n<p>I have experimented with many sources such as Google, github, and YouTube since yesterday, and this source also has a null error.</p>\n<p>Can you take a look?</p>\n<p>application properties</p>\n<p><a href=\"https://i.stack.imgur.com/hQa6H.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>controller</p>\n<p><a href=\"https://i.stack.imgur.com/ZOjSF.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>ajax</p>\n<p><a href=\"https://i.stack.imgur.com/AXQH7.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>portal(naver) setup\n<a href=\"https://i.stack.imgur.com/DPm7K.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>build gradle file\n<a href=\"https://i.stack.imgur.com/HqzLh.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>EmailSenderService\n<a href=\"https://i.stack.imgur.com/4CskP.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>The email received from Ajax was not sent to Controller &gt; Service for now.</p>\n<p>The service has hardcoded the destination and should be sent.</p>\n<p>If the shipment to my email is successful, I will try to fix the logic a little bit then.</p>\n<p>This is an error code!</p>\n<p>come in!</p>\n<p>to=test@naver.com, subject=subject Here!, message=message Here!\n[Request processing failed; nested exception is java.lang.NullPointerException] with root cause</p>\n<p>java.lang.NullPointerException: null</p>\n<p>at com.example.INSPACE.userController.UserController.doCheckMail(UserController.java:115) ~[main/:na]</p>\n<p>at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]</p>\n<p>at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]</p>\n<p>at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]</p>\n<p>at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]</p>\n<p>at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.25.jar:5.3.25]</p>\n<p>at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.25.jar:5.3.25]</p>\n<p>at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.25.jar:5.3.25]</p>\n<p>at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.25.jar:5.3.25]</p>\n<p>at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.25.jar:5.3.25]</p>\n<p>at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.25.jar:5.3.25]</p>\n<p>at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.25.jar:5.3.25]</p>\n<p>at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.25.jar:5.3.25]</p>\n<p>at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.25.jar:5.3.25]</p>\n<p>at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.25.jar:5.3.25]</p>\n<p>at javax.servlet.http.HttpServlet.service(HttpServlet.java:696) ~[tomcat-embed-core-9.0.71.jar:4.0.FR]</p>\n<p>at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.25.jar:5.3.25]</p>\n<p>at javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.71.jar:4.0.FR]</p>\n<p>at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.25.jar:5.3.25]</p>\n<p>at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]</p>\n<p>at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.25.jar:5.3.25]</p>\n<p>at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]</p>\n<p>at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.25.jar:5.3.25]</p>\n<p>at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]</p>\n<p>at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]</p>\n<p>come in!</p>\n<p>to=test@naver.com, subject=subject Here!, message=message Here!</p>\n<p>It arrived by controller.</p>\n<p>The code that calls the service to send mail to the .service seems to have an error.</p>\n<p>Can you take a look?</p>\n<p>Since yesterday, I have continued to learn and run a lot of code through YouTube, GitHub, and Google.</p>\n"},{"tags":["java","spring","spring-boot","validation","dto"],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677322007,"creation_date":1677322007,"answer_id":75564851,"question_id":75563968,"body_markdown":"The better way is to handle it in a `RestControllerAdvice`, where you can easily append a property name to a message. For example, you can define a `RestControllerAdvice` as shown below:\r\n```java\r\n@RestControllerAdvice\r\npublic class GlobalExceptionHandler {\r\n\r\n  @ExceptionHandler(MethodArgumentNotValidException.class)\r\n  public ResponseEntity&lt;List&lt;String&gt;&gt; handleValidationErrors(MethodArgumentNotValidException ex) {\r\n    List&lt;String&gt; errors =\r\n        ex.getBindingResult().getFieldErrors().stream()\r\n            .map(i -&gt; i.getField() + &quot; &quot; + i.getDefaultMessage())\r\n            .collect(Collectors.toList());\r\n    return new ResponseEntity&lt;&gt;(errors, HttpStatus.BAD_REQUEST);\r\n  }\r\n}\r\n```\r\n\r\nThe response for the field marked as `@NotBlank` would be `[&quot;title must not be blank&quot;]`, and if you want to add a custom message `@NotBlank(message=&quot;field cannot be empty&quot;)` the response would be `[&quot;title field cannot be empty&quot;]`.\r\n\r\n","title":"Formatting validation message in javax.validation annotations (@NotBlank)?","body":"<p>The better way is to handle it in a <code>RestControllerAdvice</code>, where you can easily append a property name to a message. For example, you can define a <code>RestControllerAdvice</code> as shown below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestControllerAdvice\npublic class GlobalExceptionHandler {\n\n  @ExceptionHandler(MethodArgumentNotValidException.class)\n  public ResponseEntity&lt;List&lt;String&gt;&gt; handleValidationErrors(MethodArgumentNotValidException ex) {\n    List&lt;String&gt; errors =\n        ex.getBindingResult().getFieldErrors().stream()\n            .map(i -&gt; i.getField() + &quot; &quot; + i.getDefaultMessage())\n            .collect(Collectors.toList());\n    return new ResponseEntity&lt;&gt;(errors, HttpStatus.BAD_REQUEST);\n  }\n}\n</code></pre>\n<p>The response for the field marked as <code>@NotBlank</code> would be <code>[&quot;title must not be blank&quot;]</code>, and if you want to add a custom message <code>@NotBlank(message=&quot;field cannot be empty&quot;)</code> the response would be <code>[&quot;title field cannot be empty&quot;]</code>.</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677322007,"creation_date":1677310826,"question_id":75563968,"body_markdown":"I am trying to add message to the `javax.validation` annotations in my Spring Boot app as shown below:\r\n\r\n\r\n```\r\npublic static final String CANNOT_EMPTY = &quot;%s field cannot be empty&quot;;\r\n\r\n\r\n@Value\r\npublic class CreatePostRequest {\r\n\r\n    @NotBlank(message = String.format(CANNOT_EMPTY, title))\r\n    private String title;\r\n\r\n    // other fields\r\n}\r\n```\r\n\r\nI am getting &quot;Attribute value must be constant&quot; error for the `format()` method. So, how should I properly set messages for the `javax.validation` annotations in my API requests? I do not want to add text to all of the fields and instead try to manage them in a Constant class and add the constant text variables to that annotations (for now, no need internationalization). \r\n\r\nSo, is there a better way? Any help would be appreciated.","title":"Formatting validation message in javax.validation annotations (@NotBlank)?","body":"<p>I am trying to add message to the <code>javax.validation</code> annotations in my Spring Boot app as shown below:</p>\n<pre><code>public static final String CANNOT_EMPTY = &quot;%s field cannot be empty&quot;;\n\n\n@Value\npublic class CreatePostRequest {\n\n    @NotBlank(message = String.format(CANNOT_EMPTY, title))\n    private String title;\n\n    // other fields\n}\n</code></pre>\n<p>I am getting &quot;Attribute value must be constant&quot; error for the <code>format()</code> method. So, how should I properly set messages for the <code>javax.validation</code> annotations in my API requests? I do not want to add text to all of the fields and instead try to manage them in a Constant class and add the constant text variables to that annotations (for now, no need internationalization).</p>\n<p>So, is there a better way? Any help would be appreciated.</p>\n"},{"tags":["java","spring","calendar","modelattribute","java.util.calendar"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677321315,"post_id":75555262,"comment_id":133317385,"body_markdown":"I strongly recommend you don’t use `Calendar`. That class is poorly designed, cumbersome to work with and long outdated. Assuming that for your date of birth you neither need time zone nor time of day, use `LocalDate` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I strongly recommend you don’t use <code>Calendar</code>. That class is poorly designed, cumbersome to work with and long outdated. Assuming that for your date of birth you neither need time zone nor time of day, use <code>LocalDate</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"owner":{"account_id":27784879,"reputation":389,"user_id":21212553,"display_name":"galalem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677321341,"creation_date":1677233681,"question_id":75555262,"body_markdown":"I&#39;m passing the date in formDate as ISO date string `yyyy-mm-ddThh:mm:ss.uuuZ`\r\n```java\r\n    @PostMapping\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    public void create(@Valid @ModelAttribute PersonRequest request, BindingResult bindingResult) {\r\n        for( FieldError fieldError : bindingResult.getFieldErrors() )\r\n            System.out.println(fieldError.getField() +&quot; : &quot;+fieldError.getDefaultMessage());\r\n        personService.create(request);\r\n    }\r\n```\r\nmy PersonRequest class looks like this\r\n```java\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\n@Builder\r\npublic class PersonRequest {\r\n\r\n    private MultipartFile photo\r\n\r\n    private String firstName;\r\n    private String lastName;\r\n    private Calendar dateOfBirth;\r\n```\r\n\r\nAs I&#39;m using Files I can&#39;t use `RequestBody` which did parse the date correctly","title":"Spring @ModelAttribute calendar type mismatch","body":"<p>I'm passing the date in formDate as ISO date string <code>yyyy-mm-ddThh:mm:ss.uuuZ</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>    @PostMapping\n    @ResponseStatus(HttpStatus.CREATED)\n    public void create(@Valid @ModelAttribute PersonRequest request, BindingResult bindingResult) {\n        for( FieldError fieldError : bindingResult.getFieldErrors() )\n            System.out.println(fieldError.getField() +&quot; : &quot;+fieldError.getDefaultMessage());\n        personService.create(request);\n    }\n</code></pre>\n<p>my PersonRequest class looks like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\n@NoArgsConstructor\n@Data\n@Builder\npublic class PersonRequest {\n\n    private MultipartFile photo\n\n    private String firstName;\n    private String lastName;\n    private Calendar dateOfBirth;\n</code></pre>\n<p>As I'm using Files I can't use <code>RequestBody</code> which did parse the date correctly</p>\n"},{"tags":["java","file","path"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":2,"creation_date":1667601568,"post_id":74323609,"comment_id":131213491,"body_markdown":"’and the last bit of the path is the &quot;filePathTesting_dba1f5ce/.&quot; which all seems correct’. Where does the ‘dba1f5ce’ part come from? How are the tests run? Does it copy the compiled classes to another directory, and perhaps skips the text file?","body":"’and the last bit of the path is the &quot;filePathTesting_dba1f5ce/.&quot; which all seems correct’. Where does the ‘dba1f5ce’ part come from? How are the tests run? Does it copy the compiled classes to another directory, and perhaps skips the text file?"},{"owner":{"account_id":19861688,"reputation":1,"user_id":14655976,"display_name":"Bahkbar"},"score":0,"creation_date":1667602518,"post_id":74323609,"comment_id":131213660,"body_markdown":"@TimMoore now that i properly look at the absolute path &quot;Application Support/Code/User/workspaceStorage/a18f9fb460a8e5c9aaa19c99e70743cd/redhat.java/jdt_ws/filePathTesting_dba1f5ce/.&quot; its going through what I think is the VS code cache and not the actual directory of the project in my folders which could potentially be whats causing the issue","body":"@TimMoore now that i properly look at the absolute path &quot;Application Support/Code/User/workspaceStorage/a18f9fb460a8e5c9aaa19c99e&zwnj;&#8203;70743cd/redhat.java/&zwnj;&#8203;jdt_ws/filePathTesti&zwnj;&#8203;ng_dba1f5ce/.&quot; its going through what I think is the VS code cache and not the actual directory of the project in my folders which could potentially be whats causing the issue"},{"owner":{"account_id":19861688,"reputation":1,"user_id":14655976,"display_name":"Bahkbar"},"score":0,"creation_date":1667603292,"post_id":74323609,"comment_id":131213779,"body_markdown":"Managed to find that folder and the only contents of it are an empty bin folder which I&#39;m guessing is the issues, but I can&#39;t find how to change the path to go through where the actual project is saved in my documents as opposed to this way","body":"Managed to find that folder and the only contents of it are an empty bin folder which I&#39;m guessing is the issues, but I can&#39;t find how to change the path to go through where the actual project is saved in my documents as opposed to this way"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1667605003,"post_id":74323609,"comment_id":131214055,"body_markdown":"Sorry, I haven’t used VS Code with Java, but now that you have tracked down that issue it would be a good idea to rewrite the question with a focused title and appropriate tags. Something like “How can I configure the working directory when running JUnit tests in VS Code?”","body":"Sorry, I haven’t used VS Code with Java, but now that you have tracked down that issue it would be a good idea to rewrite the question with a focused title and appropriate tags. Something like “How can I configure the working directory when running JUnit tests in VS Code?”"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667644487,"post_id":74323609,"comment_id":131218677,"body_markdown":"Please - no images of text. They are not searchable, we cannot copy-paste. Always copy-paste the text and format it properly.\nThe command `tree filePathTesting` followed by a copy and paste *as source code* here will help you and us much more. You will get on better if you load your pack file as a resource, so `try (BufferedReader reader=new BufferedReader(new InputStreamReader(getClass().getResourceAsStream(packLocation)))){` passing in a correct resource path (which is *not* a file path). Unfortunately I can&#39;t give you that path as I&#39;m still not clear what your project/package structure is","body":"Please - no images of text. They are not searchable, we cannot copy-paste. Always copy-paste the text and format it properly. The command <code>tree filePathTesting</code> followed by a copy and paste <i>as source code</i> here will help you and us much more. You will get on better if you load your pack file as a resource, so <code>try (BufferedReader reader=new BufferedReader(new InputStreamReader(getClass().getResourceAsStream(packLocatio&zwnj;&#8203;n)))){</code> passing in a correct resource path (which is <i>not</i> a file path). Unfortunately I can&#39;t give you that path as I&#39;m still not clear what your project/package structure is"},{"owner":{"account_id":19861688,"reputation":1,"user_id":14655976,"display_name":"Bahkbar"},"score":0,"creation_date":1667653411,"post_id":74323609,"comment_id":131220219,"body_markdown":"@TimMoore you are a life saver, turns out JUnit was using a different working directory for the tests than the working directory for actually running the classes. Thank you so much","body":"@TimMoore you are a life saver, turns out JUnit was using a different working directory for the tests than the working directory for actually running the classes. Thank you so much"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667653863,"post_id":74323609,"comment_id":131220307,"body_markdown":"You wouldn&#39;t need to do that if you used the classpath","body":"You wouldn&#39;t need to do that if you used the classpath"}],"answers":[{"tags":[],"owner":{"account_id":19861688,"reputation":1,"user_id":14655976,"display_name":"Bahkbar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667653518,"creation_date":1667653518,"answer_id":74327935,"question_id":74323609,"body_markdown":"Problem was that JUnit was using a different working directory to the directory actually used by the classes when they&#39;re run. Massive thanks to @TimMoore for the help.\r\nThe solution was changing the working directory for java.test.config in settings.json","title":"Java file not found even though file exists","body":"<p>Problem was that JUnit was using a different working directory to the directory actually used by the classes when they're run. Massive thanks to @TimMoore for the help.\nThe solution was changing the working directory for java.test.config in settings.json</p>\n"}],"owner":{"account_id":19861688,"reputation":1,"user_id":14655976,"display_name":"Bahkbar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74327935,"answer_count":1,"score":0,"last_activity_date":1677320476,"creation_date":1667601228,"question_id":74323609,"body_markdown":"Have a method that takes in a file path and then checks the contents of that file.\r\nFile structure of the project is:\r\n\r\n```\r\n    filePathTesting\r\n     ┣&#128230;test\r\n     ┃ ┣ &#128220;TestCard.java\r\n     ┃ ┣ &#128220;TestCardGame.java\r\n     ┃ ┗ &#128220;valid5PlayersPack.txt\r\n     ┗&#128230;src\r\n       ┣ &#128220;App.java\r\n       ┣ &#128220;Card.java\r\n       ┗ &#128220;CardGame.java\r\n```\r\n\r\nmethod within src/CardGame.java\r\n\r\n\r\n```\r\npublic static boolean isValidPackFile(String packLocation, int numPlayers)\r\n    {\r\n        File file = new File(packLocation);\r\n        if (file.exists() &amp;&amp; file.isFile()){\r\n            try (BufferedReader reader=new BufferedReader(new FileReader(packLocation))){\r\n                String line;\r\n                int lineCount = 0;\r\n                while((line=reader.readLine())!=null){\r\n                    try {\r\n                        int num = Integer.parseInt(line);\r\n                        if (num&lt;=0){\r\n                            System.out.println(&quot;ERROR: Pack file contains a non-positive integer&quot;);\r\n                            return false;\r\n                        }\r\n                        lineCount++;\r\n                    } catch (NumberFormatException e) {\r\n                        System.out.println(&quot;ERROR: Pack file contains a non-integer&quot;);\r\n                        return false;\r\n                    }\r\n                }\r\n                if(lineCount==numPlayers*8){\r\n                    return true;\r\n                }else{\r\n                    System.out.println(&quot;ERROR: There are not &quot; + 8*numPlayers + &quot; cards in the pack file&quot;);\r\n                    return false;\r\n                }\r\n            }catch(IOException e){\r\n                System.out.println(&quot;ERROR: Could not read pack file&quot;);\r\n                return false;\r\n            }\r\n        }\r\n        else { \r\n            System.out.println(&quot;ERROR: Pack file does not exist&quot;);\r\n            return false;\r\n        }\r\n    }\r\n```\r\n\r\n\r\nTest method within test/TestCardGame.java\r\n\r\n```\r\n@Test\r\n    public void testIsValidPackFileValidFile() throws IOException{\r\n        int numPlayers=5;\r\n        String filePath=&quot;valid5PlayersPack.txt&quot;;\r\n        System.out.println(new File(&quot;.&quot;).getAbsolutePath());\r\n        assertTrue(&quot;Valid file not recognised as valid&quot;, CardGame.isValidPackFile(filePath, numPlayers));\r\n    }\r\n```\r\n\r\nWhen running CardGame.java, passing in &quot;test/valid5PlayersPack.txt&quot; as the file path works as expected and no errors are encountered.\r\n\r\nWhen using JUnit to test the method and passing in the exact same file path, no file is found.\r\nHave also tried passing in:  \r\n```\r\nvalid5PlayersPack.txt  \r\n../test/valid5PlayersPack.txt  \r\n../valid5PlayersPack.txt  \r\nsrc/test/valid5PlayersPack.txt  \r\n../test/valid5PlayersPack.txt  \r\n```\r\nyet each time it says no file was found\r\n\r\nI&#39;ve tried passing in the file path relative to the TestCardGame and CardGame but can never get a valid file path.\r\n\r\nI also used:\r\n\r\n```\r\nSystem.out.println(new File(&quot;.&quot;).getAbsolutePath());\r\n```\r\n\r\nand the last bit of the path is the &quot;filePathTesting_dba1f5ce/.&quot; which all seems correct\r\n\r\nAny help would be immensely appreciated.","title":"Java file not found even though file exists","body":"<p>Have a method that takes in a file path and then checks the contents of that file.\nFile structure of the project is:</p>\n<pre><code>    filePathTesting\n     ┣📦test\n     ┃ ┣ 📜TestCard.java\n     ┃ ┣ 📜TestCardGame.java\n     ┃ ┗ 📜valid5PlayersPack.txt\n     ┗📦src\n       ┣ 📜App.java\n       ┣ 📜Card.java\n       ┗ 📜CardGame.java\n</code></pre>\n<p>method within src/CardGame.java</p>\n<pre><code>public static boolean isValidPackFile(String packLocation, int numPlayers)\n    {\n        File file = new File(packLocation);\n        if (file.exists() &amp;&amp; file.isFile()){\n            try (BufferedReader reader=new BufferedReader(new FileReader(packLocation))){\n                String line;\n                int lineCount = 0;\n                while((line=reader.readLine())!=null){\n                    try {\n                        int num = Integer.parseInt(line);\n                        if (num&lt;=0){\n                            System.out.println(&quot;ERROR: Pack file contains a non-positive integer&quot;);\n                            return false;\n                        }\n                        lineCount++;\n                    } catch (NumberFormatException e) {\n                        System.out.println(&quot;ERROR: Pack file contains a non-integer&quot;);\n                        return false;\n                    }\n                }\n                if(lineCount==numPlayers*8){\n                    return true;\n                }else{\n                    System.out.println(&quot;ERROR: There are not &quot; + 8*numPlayers + &quot; cards in the pack file&quot;);\n                    return false;\n                }\n            }catch(IOException e){\n                System.out.println(&quot;ERROR: Could not read pack file&quot;);\n                return false;\n            }\n        }\n        else { \n            System.out.println(&quot;ERROR: Pack file does not exist&quot;);\n            return false;\n        }\n    }\n</code></pre>\n<p>Test method within test/TestCardGame.java</p>\n<pre><code>@Test\n    public void testIsValidPackFileValidFile() throws IOException{\n        int numPlayers=5;\n        String filePath=&quot;valid5PlayersPack.txt&quot;;\n        System.out.println(new File(&quot;.&quot;).getAbsolutePath());\n        assertTrue(&quot;Valid file not recognised as valid&quot;, CardGame.isValidPackFile(filePath, numPlayers));\n    }\n</code></pre>\n<p>When running CardGame.java, passing in &quot;test/valid5PlayersPack.txt&quot; as the file path works as expected and no errors are encountered.</p>\n<p>When using JUnit to test the method and passing in the exact same file path, no file is found.\nHave also tried passing in:</p>\n<pre><code>valid5PlayersPack.txt  \n../test/valid5PlayersPack.txt  \n../valid5PlayersPack.txt  \nsrc/test/valid5PlayersPack.txt  \n../test/valid5PlayersPack.txt  \n</code></pre>\n<p>yet each time it says no file was found</p>\n<p>I've tried passing in the file path relative to the TestCardGame and CardGame but can never get a valid file path.</p>\n<p>I also used:</p>\n<pre><code>System.out.println(new File(&quot;.&quot;).getAbsolutePath());\n</code></pre>\n<p>and the last bit of the path is the &quot;filePathTesting_dba1f5ce/.&quot; which all seems correct</p>\n<p>Any help would be immensely appreciated.</p>\n"},{"tags":["java","image","label","icons"],"comments":[{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":1,"creation_date":1677491057,"post_id":75564701,"comment_id":133341133,"body_markdown":"Just a guess, but have you tried using a base size that is a multiple of 4 in both dimensions, like 108x84? This will avoid rounding errors (ie. 83*1.75 isn&#39;t exactly 145, but 145.25).","body":"Just a guess, but have you tried using a base size that is a multiple of 4 in both dimensions, like 108x84? This will avoid rounding errors (ie. 83*1.75 isn&#39;t exactly 145, but 145.25)."},{"owner":{"account_id":13485616,"reputation":469,"user_id":9729513,"display_name":"Pat"},"score":0,"creation_date":1677611973,"post_id":75564701,"comment_id":133371411,"body_markdown":"Interesting idea! I&#39;ll give it a try and update here asap. Cheers","body":"Interesting idea! I&#39;ll give it a try and update here asap. Cheers"},{"owner":{"account_id":13485616,"reputation":469,"user_id":9729513,"display_name":"Pat"},"score":0,"creation_date":1677660860,"post_id":75564701,"comment_id":133379849,"body_markdown":"@HaraldK Okay. I think I managed to get it: I ended up adding 2 pixels to my base highres image, and setting my 100% one to 110x84. From that, calculated that base number * 125%, 150%, 175% .... If one of them gave me a fraction (i.e. 110x84 * 125% = 137.5/105), I ended rounding UP + adding a pixel: 139x106. \n\nThis happened to 125% and 175% obviously... What a pain in the as!@?% to fix!!! I got them all to 300%. If someone zooms their damn screen beyond that, they need to stop using computers! lol\n\nAnyhow, thanks for putting me in the right direction :)","body":"@HaraldK Okay. I think I managed to get it: I ended up adding 2 pixels to my base highres image, and setting my 100% one to 110x84. From that, calculated that base number * 125%, 150%, 175% .... If one of them gave me a fraction (i.e. 110x84 * 125% = 137.5/105), I ended rounding UP + adding a pixel: 139x106.   This happened to 125% and 175% obviously... What a pain in the as!@?% to fix!!! I got them all to 300%. If someone zooms their damn screen beyond that, they need to stop using computers! lol  Anyhow, thanks for putting me in the right direction :)"}],"owner":{"account_id":13485616,"reputation":469,"user_id":9729513,"display_name":"Pat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677320256,"creation_date":1677320256,"question_id":75564701,"body_markdown":"I have a small app that displays a random image. I&#39;ve noticed that the image became blurry on Windows desktops with up-scaled text size from this settings:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo, I read about using BaseMultiResolutionImage and tried implementing that: my image is no longer blurry, but becomes &quot;scratchy&quot; when I get over 150% scale... For example, on a Windows scaling of 175%:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nLeft: Java app is scratchy\r\nRight: Actual Image file is smooth.\r\n\r\nHere&#39;s a full code example:\r\n\r\n```java\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.image.BaseMultiResolutionImage;\r\n\r\nimport javax.imageio.ImageIO;\r\nimport java.io.IOException;\r\n\r\nimport java.util.List;\r\nimport java.util.ArrayList;\r\n\r\npublic class Test extends JFrame {\r\n\r\n   public static void main(String[] args) {\r\n      Test app = new Test();\r\n      app.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n      app.setVisible(true);\r\n   }\r\n\r\n   public Test(){\r\n      super(&quot;Test App&quot;);\r\n\r\n      JPanel panel = new JPanel(new GridBagLayout());\r\n      GridBagConstraints gbc = new GridBagConstraints();\r\n\r\n      JLabel lblImage = new JLabel();\r\n      lblImage.setIcon(this.getNoteIcon());\r\n      lblImage.setHorizontalAlignment(JLabel.CENTER);\r\n      gbc.gridx = 0;\r\n      gbc.gridy = 0;\r\n      gbc.insets = new Insets(20, 20, 20, 20);\r\n      panel.add(lblImage, gbc);\r\n\r\n      getContentPane().add(panel);\r\n\t\tpack();\r\n   }\r\n\r\n\tImageIcon getNoteIcon(){\r\n\t\ttry {\r\n\t\t\tList&lt;Image&gt; imgList = new ArrayList&lt;Image&gt;();\r\n\r\n\t\t\t/* all images are width = 108 height = 83 */\r\n\t\t\timgList.add(ImageIO.read(getClass().getResource(&quot;images/scale_100.png&quot;))); // 100% - 108x83\r\n\t\t\timgList.add(ImageIO.read(getClass().getResource(&quot;images/scale_125.png&quot;))); // 125% - 135x104\r\n\t\t\timgList.add(ImageIO.read(getClass().getResource(&quot;images/scale_150.png&quot;))); // 150% - 162x124\r\n\t\t\timgList.add(ImageIO.read(getClass().getResource(&quot;images/scale_175.png&quot;))); // 175% - 189x145\r\n\t\t\timgList.add(ImageIO.read(getClass().getResource(&quot;images/scale_200.png&quot;))); // 200% - 216x166\r\n\r\n\t\t\tBaseMultiResolutionImage multiResolutionImage = new BaseMultiResolutionImage(imgList.toArray(new Image[0]));\r\n\t\t\treturn new ImageIcon(multiResolutionImage);\r\n\t\t} catch(IOException ex){\r\n\t\t\tex.printStackTrace();\r\n\t\t\treturn null;\r\n\t\t}\r\n  }\r\n}\r\n```\r\n\r\nWhat I did is that I created one image file per scales, i.e.:\r\n\r\nimage @ 100% = 108x83 &lt;br&gt;\r\n... &lt;br&gt;\r\nimage @ 175% = 189x145 (108x83 * 175%)\r\n\r\nand then added one after the other into the ArrayList of images. From these, created the BaseMultiResolutionImage...\r\n\r\nAm I doing anything wrong here? If so, what please? I don&#39;t understand how to fix this.\r\n\r\nI&#39;m also including the test image files:\r\n\r\n[![scale 100][3]][3]\r\n[![scale 125][4]][4]\r\n[![scale 150][5]][5]\r\n[![scale 175][6]][6]\r\n[![scale 200][7]][7]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EqJas.png\r\n  [2]: https://i.stack.imgur.com/fdHES.png\r\n  [3]: https://i.stack.imgur.com/pt4hF.png\r\n  [4]: https://i.stack.imgur.com/70vZE.png\r\n  [5]: https://i.stack.imgur.com/BO0eX.png\r\n  [6]: https://i.stack.imgur.com/JesS3.png\r\n  [7]: https://i.stack.imgur.com/ZL4Ow.png\r\n\r\nMuch thanks for your help.\r\n","title":"Misunderstanding or usage of BaseMultiResolutionImage: upscaled images are &quot;scratchy&quot;","body":"<p>I have a small app that displays a random image. I've noticed that the image became blurry on Windows desktops with up-scaled text size from this settings:</p>\n<p><a href=\"https://i.stack.imgur.com/EqJas.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EqJas.png\" alt=\"enter image description here\" /></a></p>\n<p>So, I read about using BaseMultiResolutionImage and tried implementing that: my image is no longer blurry, but becomes &quot;scratchy&quot; when I get over 150% scale... For example, on a Windows scaling of 175%:</p>\n<p><a href=\"https://i.stack.imgur.com/fdHES.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fdHES.png\" alt=\"enter image description here\" /></a></p>\n<p>Left: Java app is scratchy\nRight: Actual Image file is smooth.</p>\n<p>Here's a full code example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.image.BaseMultiResolutionImage;\n\nimport javax.imageio.ImageIO;\nimport java.io.IOException;\n\nimport java.util.List;\nimport java.util.ArrayList;\n\npublic class Test extends JFrame {\n\n   public static void main(String[] args) {\n      Test app = new Test();\n      app.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n      app.setVisible(true);\n   }\n\n   public Test(){\n      super(&quot;Test App&quot;);\n\n      JPanel panel = new JPanel(new GridBagLayout());\n      GridBagConstraints gbc = new GridBagConstraints();\n\n      JLabel lblImage = new JLabel();\n      lblImage.setIcon(this.getNoteIcon());\n      lblImage.setHorizontalAlignment(JLabel.CENTER);\n      gbc.gridx = 0;\n      gbc.gridy = 0;\n      gbc.insets = new Insets(20, 20, 20, 20);\n      panel.add(lblImage, gbc);\n\n      getContentPane().add(panel);\n        pack();\n   }\n\n    ImageIcon getNoteIcon(){\n        try {\n            List&lt;Image&gt; imgList = new ArrayList&lt;Image&gt;();\n\n            /* all images are width = 108 height = 83 */\n            imgList.add(ImageIO.read(getClass().getResource(&quot;images/scale_100.png&quot;))); // 100% - 108x83\n            imgList.add(ImageIO.read(getClass().getResource(&quot;images/scale_125.png&quot;))); // 125% - 135x104\n            imgList.add(ImageIO.read(getClass().getResource(&quot;images/scale_150.png&quot;))); // 150% - 162x124\n            imgList.add(ImageIO.read(getClass().getResource(&quot;images/scale_175.png&quot;))); // 175% - 189x145\n            imgList.add(ImageIO.read(getClass().getResource(&quot;images/scale_200.png&quot;))); // 200% - 216x166\n\n            BaseMultiResolutionImage multiResolutionImage = new BaseMultiResolutionImage(imgList.toArray(new Image[0]));\n            return new ImageIcon(multiResolutionImage);\n        } catch(IOException ex){\n            ex.printStackTrace();\n            return null;\n        }\n  }\n}\n</code></pre>\n<p>What I did is that I created one image file per scales, i.e.:</p>\n<p>image @ 100% = 108x83 <br>\n... <br>\nimage @ 175% = 189x145 (108x83 * 175%)</p>\n<p>and then added one after the other into the ArrayList of images. From these, created the BaseMultiResolutionImage...</p>\n<p>Am I doing anything wrong here? If so, what please? I don't understand how to fix this.</p>\n<p>I'm also including the test image files:</p>\n<p><a href=\"https://i.stack.imgur.com/pt4hF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pt4hF.png\" alt=\"scale 100\" /></a>\n<a href=\"https://i.stack.imgur.com/70vZE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/70vZE.png\" alt=\"scale 125\" /></a>\n<a href=\"https://i.stack.imgur.com/BO0eX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BO0eX.png\" alt=\"scale 150\" /></a>\n<a href=\"https://i.stack.imgur.com/JesS3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JesS3.png\" alt=\"scale 175\" /></a>\n<a href=\"https://i.stack.imgur.com/ZL4Ow.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZL4Ow.png\" alt=\"scale 200\" /></a></p>\n<p>Much thanks for your help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1672669055,"post_id":74983473,"comment_id":132323449,"body_markdown":"*I don&#39;t need to detect the encoding itself, only if it doesn&#39;t belong to the charset.* What *is* the encoding?","body":"<i>I don&#39;t need to detect the encoding itself, only if it doesn&#39;t belong to the charset.</i> What <i>is</i> the encoding?"},{"owner":{"account_id":8460744,"reputation":576,"user_id":6346585,"display_name":"Banns"},"score":0,"creation_date":1672669234,"post_id":74983473,"comment_id":132323494,"body_markdown":"It is UTF-8 in local","body":"It is UTF-8 in local"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672669981,"post_id":74983473,"comment_id":132323701,"body_markdown":"Right. Something like [this](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/charset/CharsetEncoder.html#canEncode(char)) should do it","body":"Right. Something like <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/charset/CharsetEncoder.html#canEncode(char)\" rel=\"nofollow noreferrer\">this</a> should do it"}],"answers":[{"tags":[],"owner":{"account_id":8950298,"reputation":95,"user_id":6676512,"display_name":"Methark"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672682982,"creation_date":1672676787,"answer_id":74984801,"question_id":74983473,"body_markdown":"You need to check if its Unicode code point is outside the range of 0x20 to 0x7E AND 0xA0 to 0xFF, which covers all of the printable ASCII characters and the extended characters in the Windows 1252 character set, excluding the EN dash. Something like this:\r\n\r\n    String input = &quot;any text goes here&quot;;\r\n    \r\n    for (int i = 0; i &lt; input.length(); i++)\r\n    {\r\n        char c = input.charAt(i);\r\n        if (c &lt; 0x20 || (c &gt; 0x7E &amp;&amp; c &lt; 0xA0) || c &gt; 0xFF &amp;&amp; c != &#39;\\u2013&#39;) \r\n        {\r\n            throw new IllegalArgumentException(&quot;Character at index &quot; + i + &quot; does not belong to the Windows 1252 character set: &quot; + c);\r\n        }\r\n    }\r\n\r\n","title":"Best way to detect characters not belonging to Windows-1252","body":"<p>You need to check if its Unicode code point is outside the range of 0x20 to 0x7E AND 0xA0 to 0xFF, which covers all of the printable ASCII characters and the extended characters in the Windows 1252 character set, excluding the EN dash. Something like this:</p>\n<pre><code>String input = &quot;any text goes here&quot;;\n\nfor (int i = 0; i &lt; input.length(); i++)\n{\n    char c = input.charAt(i);\n    if (c &lt; 0x20 || (c &gt; 0x7E &amp;&amp; c &lt; 0xA0) || c &gt; 0xFF &amp;&amp; c != '\\u2013') \n    {\n        throw new IllegalArgumentException(&quot;Character at index &quot; + i + &quot; does not belong to the Windows 1252 character set: &quot; + c);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672684902,"creation_date":1672684902,"answer_id":74985966,"question_id":74983473,"body_markdown":"My suggestion as code:\r\n\r\n    import java.nio.charset.Charset;\r\n    import java.nio.charset.CharsetEncoder;\r\n    \r\n    public class Windows1252Tester {\r\n        public static void main(String[] args) {\r\n            try {\r\n                // Can we encode the incoming UTF-8 (per OP) as Windows-1252?\r\n                Charset cs = Charset.forName(&quot;Windows-1252&quot;);\r\n                CharsetEncoder enc = cs.newEncoder();\r\n                System.out.printf(&quot;Can charset %s encode sequence %s? %b%n&quot;, cs, args[0], enc.canEncode(args[0]));\r\n            }\r\n            catch(Throwable t) {\r\n                t.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Best way to detect characters not belonging to Windows-1252","body":"<p>My suggestion as code:</p>\n<pre><code>import java.nio.charset.Charset;\nimport java.nio.charset.CharsetEncoder;\n\npublic class Windows1252Tester {\n    public static void main(String[] args) {\n        try {\n            // Can we encode the incoming UTF-8 (per OP) as Windows-1252?\n            Charset cs = Charset.forName(&quot;Windows-1252&quot;);\n            CharsetEncoder enc = cs.newEncoder();\n            System.out.printf(&quot;Can charset %s encode sequence %s? %b%n&quot;, cs, args[0], enc.canEncode(args[0]));\n        }\n        catch(Throwable t) {\n            t.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8460744,"reputation":576,"user_id":6346585,"display_name":"Banns"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":392,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74985966,"answer_count":2,"score":1,"last_activity_date":1677319866,"creation_date":1672668972,"question_id":74983473,"body_markdown":"I have a service that receives free text, such as name, surname, address, etc. and I want to throw an error if one of the characters sent doesn&#39;t belong to the windows 1252 character set but I don&#39;t know how to do so in a proper way. What I was thinking about is a regex, but not sure if that is the best option.\r\n\r\nThe regex would be the [letters from cp1252][1] with any other letter `\\\\w`, so, something like this:\r\n\r\n    String test = &quot;ŠŒŽšœžŸ&#192;&#193;&#194;&#195; &#196;&#197;&#198;&#199;&#200;&#201;&#202;&#203;&#204;&#205;&#206;&#207;&#208;&#209;&#210;&#211;&#212;&#213;&#214;&#216;&#217;&#218;&#219;&#220;&#221; &#222;&#223;&#224;&#225;&#226;&#227;&#228;&#229;&#230;&#231;&#232;&#233;&#234;&#235;&#236;&#237;&#238;&#239;&#240; &#241;&#242;&#243;&#244;&#245;&#246;&#248;&#249;&#250;&#251;&#252;&#253;&#254;&#255; asvsdf QWESA 1234 &#220;&#252;&#203;&#235;&#196;&#228;&#214;&#246;&quot;;\r\n    System.out.println(test.matches(&quot;[ŠŒŽšœžŸ&#192;&#193;&#194;&#195;&#196;&#197;&#198;&#199;&#200;&#201;&#202;&#203;&#204;&#205;&#206;&#207;&#208;&#209;&#210;&#211;&#212;&#213;&#214;&#216;&#217;&#218;&#219;&#220;&#221;&#222;&#223;&#224;&#225;&#226;&#227;&#228;&#229;&#230;&#231;&#232;&#233;&#234;&#235;&#236;&#237;&#238;&#239;&#240;&#241;&#242;&#243;&#244;&#245;&#246;&#248;&#249;&#250;&#251;&#252;&#253;&#254;&#255;\\\\w&quot;\r\n            + &quot;\\\\d\\\\s\\\\.]+&quot;));\r\n\r\n\r\nI don&#39;t need to detect the encoding itself, only if it doesn&#39;t belong to the charset.\r\n\r\n\r\n  [1]: https://www.systutorials.com/docs/linux/man/7-cp1252/","title":"Best way to detect characters not belonging to Windows-1252","body":"<p>I have a service that receives free text, such as name, surname, address, etc. and I want to throw an error if one of the characters sent doesn't belong to the windows 1252 character set but I don't know how to do so in a proper way. What I was thinking about is a regex, but not sure if that is the best option.</p>\n<p>The regex would be the <a href=\"https://www.systutorials.com/docs/linux/man/7-cp1252/\" rel=\"nofollow noreferrer\">letters from cp1252</a> with any other letter <code>\\\\w</code>, so, something like this:</p>\n<pre><code>String test = &quot;ŠŒŽšœžŸÀÁÂÃ ÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝ Þßàáâãäåæçèéêëìíîïð ñòóôõöøùúûüýþÿ asvsdf QWESA 1234 ÜüËëÄäÖö&quot;;\nSystem.out.println(test.matches(&quot;[ŠŒŽšœžŸÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõöøùúûüýþÿ\\\\w&quot;\n        + &quot;\\\\d\\\\s\\\\.]+&quot;));\n</code></pre>\n<p>I don't need to detect the encoding itself, only if it doesn't belong to the charset.</p>\n"},{"tags":["java","spring-boot","swagger-ui","springdoc-openapi-ui"],"answers":[{"tags":[],"owner":{"account_id":13830008,"reputation":89,"user_id":9983181,"display_name":"CoderMSL"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672818053,"creation_date":1672818053,"answer_id":75002272,"question_id":74961341,"body_markdown":"I solved it by replacing `maven-assembly-plugin` with `spring-boot-maven-plugin` like below:\r\n\r\n```\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.7.5&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;mainClass&gt;example.package.MainBootApplication&lt;/mainClass&gt;\r\n\t\t\t\t\t&lt;skip&gt;false&lt;/skip&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;repackage&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;classifier&gt;jar-with-dependencies&lt;/classifier&gt;\r\n\t\t\t\t\t\t\t&lt;mainClass&gt;example.package.MainBootApplication&lt;/mainClass&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n``` \r\n\r\nmaybe it will help someone :-)","title":"Swagger springdoc-openapi-ui doesn&#39;t work when SpringBoot run in JAR","body":"<p>I solved it by replacing <code>maven-assembly-plugin</code> with <code>spring-boot-maven-plugin</code> like below:</p>\n<pre><code>    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.7.5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;example.package.MainBootApplication&lt;/mainClass&gt;\n                    &lt;skip&gt;false&lt;/skip&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;classifier&gt;jar-with-dependencies&lt;/classifier&gt;\n                            &lt;mainClass&gt;example.package.MainBootApplication&lt;/mainClass&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>maybe it will help someone :-)</p>\n"}],"owner":{"account_id":13830008,"reputation":89,"user_id":9983181,"display_name":"CoderMSL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75002272,"answer_count":1,"score":0,"last_activity_date":1677319824,"creation_date":1672401907,"question_id":74961341,"body_markdown":"Swagger-UI works generally fine when I run SpringBoot application directly in the IDE (by clicking run on main class) or via maven spring-boot:run plugin. Anyway it&#39;s broken when I run SpringBoot as JAR file trough `java -jar` command in CLI. \r\n\r\n\r\n\r\nHow the app is built (modules):\r\n\r\n1. root (no parent):\r\n\r\n   a. core (no parent)\r\n\r\n   b. rest-api (root as parent) \r\n\r\n   - + spring boot 2.7.7 as BOM dependency \r\n\r\n   - + main SpringBoot class \r\n\r\n   - + spring security (JWT token)\r\n\r\n   - + dependency to core\r\n\r\nrest-api -\\&gt; pom.xml fragment:\r\n\r\n```\r\n\r\n    &lt;dependencies&gt;\r\n                &lt;!-- MORE dependencies --&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.6.14&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;springdoc-openapi-security&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.6.14&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;dependencyManagement&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.7.7&lt;/version&gt;\r\n    \t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    \r\n    &lt;build&gt;\r\n    \t&lt;plugins&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.7.5&lt;/version&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;mainClass&gt;example.package.MainBootApplication&lt;/mainClass&gt;\r\n    \t\t\t\t&lt;skip&gt;false&lt;/skip&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.4.2&lt;/version&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;descriptorRefs&gt;\r\n    \t\t\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n    \t\t\t\t&lt;/descriptorRefs&gt;\r\n    \t\t\t\t&lt;archive&gt;\r\n    \t\t\t\t\t&lt;manifest&gt;\r\n    \t\t\t\t\t\t&lt;mainClass&gt;example.package.MainBootApplication&lt;/mainClass&gt;\r\n    \t\t\t\t\t&lt;/manifest&gt;\r\n    \t\t\t\t&lt;/archive&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;executions&gt;\r\n    \t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t&lt;id&gt;make-assembly&lt;/id&gt;\r\n    \t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n    \t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t&lt;/execution&gt;\r\n    \t\t\t&lt;/executions&gt;\r\n    \t\t&lt;/plugin&gt;\r\n```\r\n\r\nmain app class:\r\n\r\n```\r\n\r\npackage example.package;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\nimport io.swagger.v3.oas.annotations.OpenAPIDefinition;\r\n\r\n@OpenAPIDefinition\r\n@SpringBootApplication\r\npublic class MainBootApplication {\r\n\r\n    public static void main(String[] args) {\r\n    \tSpringApplication.run(BastKundApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\nI tested following URLs:\r\n\r\na) http://localhost:8080/swagger-ui/index.html?configUrl=/v3/api-docs/swagger-config (works when it run with maven)\r\n\r\nb) http://localhost:8080/swagger-ui/index.html (works when it run with maven)\r\n\r\nc) http://localhost:8080/swagger-ui.html\r\n\r\nI build my app with `mvn clean package` command and it assembled a JAR with all dependencies (see rest-api/pom.xml content) and later `java -jar /path/to/file.jar` . The application works fine and I can call my REST end-points properly but Swagger-UI is broken. When I run app trough main class with IDE Swagger works fine.\r\n\r\nI can see a log info when the app starts directly trough IDE that SpringDoc initializes properly (after I call the URL) .\r\n\r\n`[2m2022-12-30 13:03:39.722[0;39m [32m INFO[0;39m [35m23776[0;39m [2m---[0;39m [2m[nio-8080-exec-8][0;39m [36mo.springdoc.api.AbstractOpenApiResource [0;39m [2m:[0;39m Init duration for springdoc-openapi is: 330 ms`\r\n\r\n This log doesn&#39;t appear when I run trough JAR file:\r\n\r\nAny ideas?","title":"Swagger springdoc-openapi-ui doesn&#39;t work when SpringBoot run in JAR","body":"<p>Swagger-UI works generally fine when I run SpringBoot application directly in the IDE (by clicking run on main class) or via maven spring-boot:run plugin. Anyway it's broken when I run SpringBoot as JAR file trough <code>java -jar</code> command in CLI.</p>\n<p>How the app is built (modules):</p>\n<ol>\n<li><p>root (no parent):</p>\n<p>a. core (no parent)</p>\n<p>b. rest-api (root as parent)</p>\n<ul>\n<li>\n<ul>\n<li>spring boot 2.7.7 as BOM dependency</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>main SpringBoot class</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>spring security (JWT token)</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>dependency to core</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<p>rest-api -&gt; pom.xml fragment:</p>\n<pre><code>\n    &lt;dependencies&gt;\n                &lt;!-- MORE dependencies --&gt;\n    \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.14&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-security&lt;/artifactId&gt;\n            &lt;version&gt;1.6.14&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n    &lt;/dependencies&gt;\n    \n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;2.7.7&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    \n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.7.5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;example.package.MainBootApplication&lt;/mainClass&gt;\n                    &lt;skip&gt;false&lt;/skip&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.4.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;example.package.MainBootApplication&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>main app class:</p>\n<pre><code>\npackage example.package;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\nimport io.swagger.v3.oas.annotations.OpenAPIDefinition;\n\n@OpenAPIDefinition\n@SpringBootApplication\npublic class MainBootApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(BastKundApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>I tested following URLs:</p>\n<p>a) http://localhost:8080/swagger-ui/index.html?configUrl=/v3/api-docs/swagger-config (works when it run with maven)</p>\n<p>b) http://localhost:8080/swagger-ui/index.html (works when it run with maven)</p>\n<p>c) http://localhost:8080/swagger-ui.html</p>\n<p>I build my app with <code>mvn clean package</code> command and it assembled a JAR with all dependencies (see rest-api/pom.xml content) and later <code>java -jar /path/to/file.jar</code> . The application works fine and I can call my REST end-points properly but Swagger-UI is broken. When I run app trough main class with IDE Swagger works fine.</p>\n<p>I can see a log info when the app starts directly trough IDE that SpringDoc initializes properly (after I call the URL) .</p>\n<p><code>[2m2022-12-30 13:03:39.722[0;39m [32m INFO[0;39m [35m23776[0;39m [2m---[0;39m [2m[nio-8080-exec-8][0;39m [36mo.springdoc.api.AbstractOpenApiResource [0;39m [2m:[0;39m Init duration for springdoc-openapi is: 330 ms</code></p>\n<p>This log doesn't appear when I run trough JAR file:</p>\n<p>Any ideas?</p>\n"},{"tags":["java","spring","javafx","fxml"],"answers":[{"tags":[],"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548948321,"creation_date":1548948321,"answer_id":54463879,"question_id":54461979,"body_markdown":"You don&#39;t implement [`InitializingBean`][1], so `afterPropertiesSet` is never invoked. Implementing this interface should fix the issue:\r\n\r\n    public abstract class FXMLController implements Initializable, InitializingBean {\r\n    \r\n        ...\r\n    \r\n        @Override\r\n        public void afterPropertiesSet() throws Exception {\r\n            loadFXML();\r\n        }\r\n    \r\n        ...\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/InitializingBean.html","title":"NullPointerException loading scene graph from FXML, integrated with Spring","body":"<p>You don't implement <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/InitializingBean.html\" rel=\"nofollow noreferrer\"><code>InitializingBean</code></a>, so <code>afterPropertiesSet</code> is never invoked. Implementing this interface should fix the issue:</p>\n\n<pre><code>public abstract class FXMLController implements Initializable, InitializingBean {\n\n    ...\n\n    @Override\n    public void afterPropertiesSet() throws Exception {\n        loadFXML();\n    }\n\n    ...\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17745040,"reputation":11,"user_id":12884499,"display_name":"adk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677318329,"creation_date":1677291747,"answer_id":75562920,"question_id":54461979,"body_markdown":"Everything else looks fine here for you except the folder structure. For it to read the controller.fxml files, those should be in resource directory following the same structure as your controller.java. For ex: java/com.example.project.controller/MainController.java\r\nresources/com.example.project.controller/MainController.fxml\r\n\r\nIf you do not have this folder structure, you would need to explicitly provide the path to your controller file as @FxmlView//(&quot;&lt;PATH&gt;/Controller.fxml&quot;). This would work in the IDE but when you package it, this may not work. So I would suggest to change the folder structure. \r\n\r\nAlso try using spring boot which would make it much easier.\r\n\r\nAlso look at below for reference. \r\nhttps://github.com/rgielen/javafx-weaver/issues/12#issuecomment-803475945","title":"NullPointerException loading scene graph from FXML, integrated with Spring","body":"<p>Everything else looks fine here for you except the folder structure. For it to read the controller.fxml files, those should be in resource directory following the same structure as your controller.java. For ex: java/com.example.project.controller/MainController.java\nresources/com.example.project.controller/MainController.fxml</p>\n<p>If you do not have this folder structure, you would need to explicitly provide the path to your controller file as @FxmlView//(&quot;/Controller.fxml&quot;). This would work in the IDE but when you package it, this may not work. So I would suggest to change the folder structure.</p>\n<p>Also try using spring boot which would make it much easier.</p>\n<p>Also look at below for reference.\n<a href=\"https://github.com/rgielen/javafx-weaver/issues/12#issuecomment-803475945\" rel=\"nofollow noreferrer\">https://github.com/rgielen/javafx-weaver/issues/12#issuecomment-803475945</a></p>\n"}],"owner":{"account_id":9698098,"reputation":11,"user_id":10995600,"display_name":"Andi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677318329,"creation_date":1548942265,"question_id":54461979,"body_markdown":"I want to contruct a controller for my JavaFX application, which automatically loads the FXML file &quot;view.fxml&quot; into the member &quot;Parent root&quot; and takes constructor arguments (in this example &quot;String message&quot;).\r\n\r\nI made it work just fine, but then I tried to instantiate a DemoController instance using Spring and I receive a &quot;NullPointerException: Root cannot be null&quot;. This irritates me, because the instantiation of the bean using Spring seems to be working just fine and yet it doesn&#39;t load the FXML correctly. My only guess is that the directory structure might be messed up, but I cannot fix it and I would be very greatful for any help :)\r\n\r\nMain.java\r\n\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.support.ClassPathXmlApplicationContext;\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n\r\n    public class Main extends Application {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tlaunch(args);\r\n    \t}\r\n\r\n    \t@Override\r\n    \tpublic void start(Stage primaryStage) throws Exception {\r\n    \t    ApplicationContext context = new ClassPathXmlApplicationContext(&quot;Beans.xml&quot;);\r\n    \t    DemoController myController = (DemoController) context.getBean(&quot;myController&quot;);\r\n    \t      \r\n            primaryStage.setScene(new Scene(myController.getRoot()));\r\n            primaryStage.setTitle(&quot;Game of Life&quot;);\r\n            primaryStage.show();\t\r\n            \r\n            ((ClassPathXmlApplicationContext) context).close();\r\n    \t}\r\n    }\r\n\r\nFXMLController.java\r\n\r\n    import java.io.IOException;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.fxml.Initializable;\r\n    import javafx.scene.Parent;\r\n\r\n\r\n    public abstract class FXMLController implements Initializable {\r\n\r\n    \tprotected Parent root;\r\n\r\n    \tprotected String fxmlFilePath;\r\n\r\n    \tpublic void afterPropertiesSet() throws Exception {\r\n    \t\tloadFXML();\r\n    \t}\r\n\r\n    \tprotected final void loadFXML() throws IOException {\t\r\n    \t\tFXMLLoader loader = new FXMLLoader(getClass().getResource(fxmlFilePath));\r\n    \t\tloader.setController(this);\r\n    \t\tthis.root = loader.load();\r\n    \t}\r\n\r\n    \tpublic Parent getRoot() {\r\n    \t\treturn root;\r\n    \t}\r\n    \t\r\n    \tpublic void setFxmlFilePath(String fxmlFilePath) {\r\n    \t\tthis.fxmlFilePath = fxmlFilePath;\r\n    \t}\r\n    }\r\n\r\nDemoController.java\r\n\r\n    import java.net.URL;\r\n    import java.util.ResourceBundle;\r\n\r\n    public class DemoController extends FXMLController {\r\n\t\r\n\t    public DemoController(String message) {\r\n\t   \t     System.out.println(message);\r\n    \t}\r\n\r\n\t    @Override\r\n\t    public void initialize(URL arg0, ResourceBundle arg1) {\r\n\t    \tSystem.out.println(&quot;initializing&quot;);\t\t\r\n\t   }\r\n   }\r\n\r\nBeans.xml\r\n\r\n    &lt;?xml version = &quot;1.0&quot; encoding = &quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;beans xmlns = &quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi = &quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xsi:schemaLocation = &quot;http://www.springframework.org/schema/beans\r\n       http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&quot;&gt;\r\n\r\n       &lt;bean id = &quot;myController&quot; class = &quot;DemoController&quot;&gt;\r\n          &lt;constructor-arg value = &quot;message&quot;/&gt;\r\n          &lt;property name = &quot;fxmlFilePath&quot; value = &quot;/view.fxml&quot;/&gt;\r\n       &lt;/bean&gt;\r\n\r\n    &lt;/beans&gt;\r\n\r\nview.fxml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n\r\n    &lt;AnchorPane xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n    \t&lt;!-- TODO Add Nodes --&gt;\r\n    &lt;/AnchorPane&gt;\r\n\r\ndirectory structure\r\n\r\n- src\r\n    - Beans.xml\r\n    - view.fxml\r\n    - (default package)\r\n        - DemoController.java\r\n        - FXMLController.java\r\n        - Main.java\r\n\r\nconsole output\r\n\r\n    message\r\n    Exception in Application start method\r\n    java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:389)\r\n    \tat com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:328)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat sun.launcher.LauncherHelper$FXHelper.main(Unknown Source)\r\n    Caused by: java.lang.RuntimeException: Exception in Application start method\r\n    \tat com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:917)\r\n    \tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication$154(LauncherImpl.java:182)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: java.lang.NullPointerException: Root cannot be null\r\n    \tat javafx.scene.Scene.&lt;init&gt;(Scene.java:336)\r\n    \tat javafx.scene.Scene.&lt;init&gt;(Scene.java:194)\r\n    \tat Main.start(Main.java:21)\r\n    \tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$161(LauncherImpl.java:863)\r\n    \tat com.sun.javafx.application.PlatformImpl.lambda$runAndWait$174(PlatformImpl.java:326)\r\n    \tat com.sun.javafx.application.PlatformImpl.lambda$null$172(PlatformImpl.java:295)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat com.sun.javafx.application.PlatformImpl.lambda$runLater$173(PlatformImpl.java:294)\r\n    \tat com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n    \tat com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n    \tat com.sun.glass.ui.win.WinApplication.lambda$null$147(WinApplication.java:177)\r\n    \t... 1 more\r\n    Exception running application Main\r\n\r\nA brief overview over the code:\r\n\r\n- The main sets up the JavaFX environment and uses Spring to instantiate a DemoController. It displayes the scene graph given by the controller.\r\n- The FXMLController is an abstract class, which encapuslates the loading of the FXML file and supplies a getter methods for the scene graph (getRoot()).\r\n- The DemoController extends FXMLController and doesn&#39;t add much.\r\n- Beans.xml supplies Spring with the necessary configuration information for the controller.\r\n- view.fxml has only an AnchorPane and is essentially empty.","title":"NullPointerException loading scene graph from FXML, integrated with Spring","body":"<p>I want to contruct a controller for my JavaFX application, which automatically loads the FXML file \"view.fxml\" into the member \"Parent root\" and takes constructor arguments (in this example \"String message\").</p>\n\n<p>I made it work just fine, but then I tried to instantiate a DemoController instance using Spring and I receive a \"NullPointerException: Root cannot be null\". This irritates me, because the instantiation of the bean using Spring seems to be working just fine and yet it doesn't load the FXML correctly. My only guess is that the directory structure might be messed up, but I cannot fix it and I would be very greatful for any help :)</p>\n\n<p>Main.java</p>\n\n<pre><code>import org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        ApplicationContext context = new ClassPathXmlApplicationContext(\"Beans.xml\");\n        DemoController myController = (DemoController) context.getBean(\"myController\");\n\n        primaryStage.setScene(new Scene(myController.getRoot()));\n        primaryStage.setTitle(\"Game of Life\");\n        primaryStage.show();    \n\n        ((ClassPathXmlApplicationContext) context).close();\n    }\n}\n</code></pre>\n\n<p>FXMLController.java</p>\n\n<pre><code>import java.io.IOException;\nimport javafx.fxml.FXMLLoader;\nimport javafx.fxml.Initializable;\nimport javafx.scene.Parent;\n\n\npublic abstract class FXMLController implements Initializable {\n\n    protected Parent root;\n\n    protected String fxmlFilePath;\n\n    public void afterPropertiesSet() throws Exception {\n        loadFXML();\n    }\n\n    protected final void loadFXML() throws IOException {    \n        FXMLLoader loader = new FXMLLoader(getClass().getResource(fxmlFilePath));\n        loader.setController(this);\n        this.root = loader.load();\n    }\n\n    public Parent getRoot() {\n        return root;\n    }\n\n    public void setFxmlFilePath(String fxmlFilePath) {\n        this.fxmlFilePath = fxmlFilePath;\n    }\n}\n</code></pre>\n\n<p>DemoController.java</p>\n\n<pre><code>import java.net.URL;\nimport java.util.ResourceBundle;\n\npublic class DemoController extends FXMLController {\n\n    public DemoController(String message) {\n         System.out.println(message);\n    }\n\n    @Override\n    public void initialize(URL arg0, ResourceBundle arg1) {\n        System.out.println(\"initializing\");     \n   }\n</code></pre>\n\n<p>}</p>\n\n<p>Beans.xml</p>\n\n<pre><code>&lt;?xml version = \"1.0\" encoding = \"UTF-8\"?&gt;\n\n&lt;beans xmlns = \"http://www.springframework.org/schema/beans\"\n   xmlns:xsi = \"http://www.w3.org/2001/XMLSchema-instance\"\n   xsi:schemaLocation = \"http://www.springframework.org/schema/beans\n   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\"&gt;\n\n   &lt;bean id = \"myController\" class = \"DemoController\"&gt;\n      &lt;constructor-arg value = \"message\"/&gt;\n      &lt;property name = \"fxmlFilePath\" value = \"/view.fxml\"/&gt;\n   &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>view.fxml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n\n&lt;AnchorPane xmlns:fx=\"http://javafx.com/fxml/1\"&gt;\n    &lt;!-- TODO Add Nodes --&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n\n<p>directory structure</p>\n\n<ul>\n<li>src\n\n<ul>\n<li>Beans.xml</li>\n<li>view.fxml</li>\n<li>(default package)\n\n<ul>\n<li>DemoController.java</li>\n<li>FXMLController.java</li>\n<li>Main.java</li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>console output</p>\n\n<pre><code>message\nException in Application start method\njava.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:389)\n    at com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:328)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at sun.launcher.LauncherHelper$FXHelper.main(Unknown Source)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:917)\n    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$154(LauncherImpl.java:182)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: java.lang.NullPointerException: Root cannot be null\n    at javafx.scene.Scene.&lt;init&gt;(Scene.java:336)\n    at javafx.scene.Scene.&lt;init&gt;(Scene.java:194)\n    at Main.start(Main.java:21)\n    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$161(LauncherImpl.java:863)\n    at com.sun.javafx.application.PlatformImpl.lambda$runAndWait$174(PlatformImpl.java:326)\n    at com.sun.javafx.application.PlatformImpl.lambda$null$172(PlatformImpl.java:295)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at com.sun.javafx.application.PlatformImpl.lambda$runLater$173(PlatformImpl.java:294)\n    at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\n    at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at com.sun.glass.ui.win.WinApplication.lambda$null$147(WinApplication.java:177)\n    ... 1 more\nException running application Main\n</code></pre>\n\n<p>A brief overview over the code:</p>\n\n<ul>\n<li>The main sets up the JavaFX environment and uses Spring to instantiate a DemoController. It displayes the scene graph given by the controller.</li>\n<li>The FXMLController is an abstract class, which encapuslates the loading of the FXML file and supplies a getter methods for the scene graph (getRoot()).</li>\n<li>The DemoController extends FXMLController and doesn't add much.</li>\n<li>Beans.xml supplies Spring with the necessary configuration information for the controller.</li>\n<li>view.fxml has only an AnchorPane and is essentially empty.</li>\n</ul>\n"},{"tags":["java","android","retrofit","retrofit2"],"answers":[{"tags":[],"owner":{"account_id":3155855,"reputation":920,"user_id":4058604,"display_name":"Mert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677317902,"creation_date":1677317902,"answer_id":75564493,"question_id":75535186,"body_markdown":"You can not make it with only one model class. Because listitem array accepts objects not strings. So, you need to create listitem objects which includes itemcode string. Here is how you achieve it:\r\n\r\n\r\n```\r\ndata class User(\r\n    val aktif_sampai: String,\r\n    val is_mobile: String,\r\n    val listitem: List&lt;Listitem&gt;,\r\n    val pesan: String,\r\n    val status: Boolean,\r\n    val username: String\r\n)\r\n```\r\n\r\nAnd class for the listitem:\r\n\r\n```\r\ndata class Listitem(\r\n    val itemcode: String\r\n)\r\n```\r\n\r\nNow you can create a list with items of listitem.","title":"Retrofit Android - How to save Response API Json into String-Array","body":"<p>You can not make it with only one model class. Because listitem array accepts objects not strings. So, you need to create listitem objects which includes itemcode string. Here is how you achieve it:</p>\n<pre><code>data class User(\n    val aktif_sampai: String,\n    val is_mobile: String,\n    val listitem: List&lt;Listitem&gt;,\n    val pesan: String,\n    val status: Boolean,\n    val username: String\n)\n</code></pre>\n<p>And class for the listitem:</p>\n<pre><code>data class Listitem(\n    val itemcode: String\n)\n</code></pre>\n<p>Now you can create a list with items of listitem.</p>\n"}],"owner":{"account_id":27570191,"reputation":3,"user_id":21041543,"display_name":"ZeeiDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75564493,"answer_count":1,"score":0,"last_activity_date":1677317902,"creation_date":1677081289,"question_id":75535186,"body_markdown":"Can anybody help me?\r\n\r\nMy response API :\r\n```\r\n{\r\n    &quot;status&quot;: true,\r\n    &quot;pesan&quot;: &quot;Berhasil&quot;,\r\n    &quot;username&quot;: &quot;user&quot;,\r\n    &quot;aktif_sampai&quot;: &quot;2024-01-31&quot;,\r\n    &quot;is_mobile&quot;: &quot;1&quot;,\r\n    &quot;listitem&quot;: [\r\n        {\r\n            &quot;itemcode&quot;: &quot;item00001&quot;\r\n        },\r\n        {\r\n            &quot;itemcode&quot;: &quot;item00002&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nI have created Retrofit ApiService class for the connection and have created the interface.\r\n\r\nBut I don&#39;t know how to make a model to store *itemcode* data into string-array into usable variable\r\n\r\nThanks for your help \r\n\r\nstore itemcode data into string-array into usable variable","title":"Retrofit Android - How to save Response API Json into String-Array","body":"<p>Can anybody help me?</p>\n<p>My response API :</p>\n<pre><code>{\n    &quot;status&quot;: true,\n    &quot;pesan&quot;: &quot;Berhasil&quot;,\n    &quot;username&quot;: &quot;user&quot;,\n    &quot;aktif_sampai&quot;: &quot;2024-01-31&quot;,\n    &quot;is_mobile&quot;: &quot;1&quot;,\n    &quot;listitem&quot;: [\n        {\n            &quot;itemcode&quot;: &quot;item00001&quot;\n        },\n        {\n            &quot;itemcode&quot;: &quot;item00002&quot;\n        }\n    ]\n}\n</code></pre>\n<p>I have created Retrofit ApiService class for the connection and have created the interface.</p>\n<p>But I don't know how to make a model to store <em>itemcode</em> data into string-array into usable variable</p>\n<p>Thanks for your help</p>\n<p>store itemcode data into string-array into usable variable</p>\n"},{"tags":["java","groovy","async-await","completable-future"],"comments":[{"owner":{"account_id":2309337,"reputation":3766,"user_id":2027839,"accept_rate":71,"display_name":"Mike Warren"},"score":0,"creation_date":1677223592,"post_id":75553240,"comment_id":133299039,"body_markdown":"It&#39;s not even working when I do wait for them all to resolve...","body":"It&#39;s not even working when I do wait for them all to resolve..."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1677229590,"post_id":75553240,"comment_id":133300461,"body_markdown":"Do you have the same problem when you write the same logic with plain Java? The type `Closure&lt;T&gt;` implements `Callable&lt;T&gt;` *and* `Runnable`, so which `submit` method has been invoked? • But what’s the purpose of this `AsyncUtils` class anyway? Why create extra code, just to be able to write `AsyncUtils.AwaitResult(promise)` instead of `promise.get()`? • The lazy initialization in `GetThreadPool()` is not thread safe and obsolete anyway; just declaring `private static final ExecutorService threadPool  = Executors.newCachedThreadPool();` would be lazily initialized *and* thread safe.","body":"Do you have the same problem when you write the same logic with plain Java? The type <code>Closure&lt;T&gt;</code> implements <code>Callable&lt;T&gt;</code> <i>and</i> <code>Runnable</code>, so which <code>submit</code> method has been invoked? • But what’s the purpose of this <code>AsyncUtils</code> class anyway? Why create extra code, just to be able to write <code>AsyncUtils.AwaitResult(promise)</code> instead of <code>promise.get()</code>? • The lazy initialization in <code>GetThreadPool()</code> is not thread safe and obsolete anyway; just declaring <code>private static final ExecutorService threadPool  = Executors.newCachedThreadPool();</code> would be lazily initialized <i>and</i> thread safe."},{"owner":{"account_id":2309337,"reputation":3766,"user_id":2027839,"accept_rate":71,"display_name":"Mike Warren"},"score":0,"creation_date":1677243296,"post_id":75553240,"comment_id":133304242,"body_markdown":"It should be obvious... The point of `AsyncUtils` is to abstract out the details related to asynchronous programming. Namely, I want my asynchronous programming in Groovy, to work like asynchronous programming work in JavaScript. Also, switching to Java is not an option for me. The rest of my codebase is in Groovy","body":"It should be obvious... The point of <code>AsyncUtils</code> is to abstract out the details related to asynchronous programming. Namely, I want my asynchronous programming in Groovy, to work like asynchronous programming work in JavaScript. Also, switching to Java is not an option for me. The rest of my codebase is in Groovy"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1677250980,"post_id":75553240,"comment_id":133306500,"body_markdown":"There is nothing obvious here. First, calling a static method is not an abstraction. Second, making programming language X to work like programming language Y is not a useful goal. In the end, your own answer acknowledges that using Groovy’s built-in facilities makes more sense than trying to make it work like JavaScript. And I did never suggest to switch to Java. I only asked whether a Java equivalent exhibits the same behavior, which is a straight-forward method to find out, whether the problem is Groovy related or not.","body":"There is nothing obvious here. First, calling a static method is not an abstraction. Second, making programming language X to work like programming language Y is not a useful goal. In the end, your own answer acknowledges that using Groovy’s built-in facilities makes more sense than trying to make it work like JavaScript. And I did never suggest to switch to Java. I only asked whether a Java equivalent exhibits the same behavior, which is a straight-forward method to find out, whether the problem is Groovy related or not."}],"answers":[{"tags":[],"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677245660,"creation_date":1677245660,"answer_id":75557191,"question_id":75553240,"body_markdown":"groovy [Closure][1] implements both - Runnable and Callable.\r\n\r\n```\r\ndef c={&#39;world&#39;}\r\n\r\nprintln c.call()  // ==&gt; prints world\r\nprintln c.run()   // ==&gt; prints null\r\n```\r\n\r\n\r\nwhen you are calling `ExecutorService.submit(Closure)` compiler chooses Runnable interface of the closure.\r\n\r\nCasting `Closure` to `Callable` solves the issue\r\n\r\n```lang-java\r\nimport java.util.concurrent.ExecutorService\r\nimport java.util.concurrent.Executors\r\nimport java.util.concurrent.Future\r\nimport java.util.concurrent.Callable\r\n\r\n@groovy.transform.CompileStatic\r\npublic final class AsyncUtils {\r\n    private static ExecutorService threadPool;\r\n    \r\n    public static &lt;T&gt; Future&lt;T&gt; StartAsyncTask(Closure&lt;T&gt; onTask) { \r\n        return this.GetThreadPool()\r\n            .submit((Callable)onTask);  // &lt;&lt;== the only effective change\r\n    }\r\n    \r\n    public static &lt;T&gt; T AwaitResult(Future&lt;T&gt; future) {  \r\n        return future.get();\r\n    }\r\n    \r\n    public static ExecutorService GetThreadPool() { \r\n        if (!this.threadPool)\r\n            this.threadPool = Executors.newCachedThreadPool();\r\n        \r\n        return this.threadPool;\r\n    }\r\n}\r\n\r\ndef future = AsyncUtils.StartAsyncTask{\r\n     Thread.sleep(1000)\r\n     return &quot;world&quot;\r\n}\r\n\r\nassert AsyncUtils.AwaitResult(future)==&#39;world&#39;\r\n```\r\n\r\n\r\n  [1]: https://docs.groovy-lang.org/latest/html/api/groovy/lang/Closure.html","title":"Groovy future.get() returns null","body":"<p>groovy <a href=\"https://docs.groovy-lang.org/latest/html/api/groovy/lang/Closure.html\" rel=\"nofollow noreferrer\">Closure</a> implements both - Runnable and Callable.</p>\n<pre><code>def c={'world'}\n\nprintln c.call()  // ==&gt; prints world\nprintln c.run()   // ==&gt; prints null\n</code></pre>\n<p>when you are calling <code>ExecutorService.submit(Closure)</code> compiler chooses Runnable interface of the closure.</p>\n<p>Casting <code>Closure</code> to <code>Callable</code> solves the issue</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.concurrent.ExecutorService\nimport java.util.concurrent.Executors\nimport java.util.concurrent.Future\nimport java.util.concurrent.Callable\n\n@groovy.transform.CompileStatic\npublic final class AsyncUtils {\n    private static ExecutorService threadPool;\n    \n    public static &lt;T&gt; Future&lt;T&gt; StartAsyncTask(Closure&lt;T&gt; onTask) { \n        return this.GetThreadPool()\n            .submit((Callable)onTask);  // &lt;&lt;== the only effective change\n    }\n    \n    public static &lt;T&gt; T AwaitResult(Future&lt;T&gt; future) {  \n        return future.get();\n    }\n    \n    public static ExecutorService GetThreadPool() { \n        if (!this.threadPool)\n            this.threadPool = Executors.newCachedThreadPool();\n        \n        return this.threadPool;\n    }\n}\n\ndef future = AsyncUtils.StartAsyncTask{\n     Thread.sleep(1000)\n     return &quot;world&quot;\n}\n\nassert AsyncUtils.AwaitResult(future)=='world'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2309337,"reputation":3766,"user_id":2027839,"accept_rate":71,"display_name":"Mike Warren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677246664,"creation_date":1677246512,"answer_id":75557338,"question_id":75553240,"body_markdown":"Turns out that I didn&#39;t need to create new thread pool or the equivalent of JS&#39;s `async`/`await` keywords. Just treat these `Future`s as the thennables...\r\n\r\n\r\n - I don&#39;t need thread pool explicitly\r\n - I don&#39;t need the `async`/`await` equivalent. It wouldn&#39;t work efficiently anyways. We want the first thennable that resolves, not to resolve them all in the order they&#39;re supplied.\r\n\r\nI just change my util class to :\r\n\r\n```\r\npublic final class AsyncUtils {\r\n\t\r\n\tpublic static &lt;T&gt; Future&lt;T&gt; StartAsyncTask(Closure&lt;T&gt; onTask) { \r\n\t\treturn CompletableFuture.supplyAsync(onTask)\r\n\t}\r\n}\r\n```\r\n\r\nand then my test case, understanding (and simulating) the problem a bit more, to: \r\n\r\n```\r\n@Test\r\n\tvoid testStartAsyncTask() { \r\n\t\tfinal List&lt;CompletableFuture&gt; promises = [\r\n           {\r\n        \t   Thread.sleep(100);\r\n        \t   return &quot;hello&quot;;\r\n           },\r\n           {\r\n        \t   Thread.sleep(50);\r\n        \t   return &quot;world&quot;;\r\n           },\r\n       ].collect { Closure onTask -&gt; return AsyncUtils.StartAsyncTask(onTask) }\r\n\r\n\t   promises.eachWithIndex { promise, int idx -&gt; \r\n\t\t   promise.thenApplyAsync { String str -&gt;\r\n\t\t\t   if (idx == 0) { \r\n\t\t\t\t   assert str.equals(&#39;world&#39;)\r\n\t\t\t\t   return\r\n\t\t\t   }\r\n\t\t\t   assert str.equals(&#39;hello&#39;)\r\n\t\t   }\r\n\t   }\r\n\t}\r\n```\r\n\r\nand all is well!","title":"Groovy future.get() returns null","body":"<p>Turns out that I didn't need to create new thread pool or the equivalent of JS's <code>async</code>/<code>await</code> keywords. Just treat these <code>Future</code>s as the thennables...</p>\n<ul>\n<li>I don't need thread pool explicitly</li>\n<li>I don't need the <code>async</code>/<code>await</code> equivalent. It wouldn't work efficiently anyways. We want the first thennable that resolves, not to resolve them all in the order they're supplied.</li>\n</ul>\n<p>I just change my util class to :</p>\n<pre><code>public final class AsyncUtils {\n    \n    public static &lt;T&gt; Future&lt;T&gt; StartAsyncTask(Closure&lt;T&gt; onTask) { \n        return CompletableFuture.supplyAsync(onTask)\n    }\n}\n</code></pre>\n<p>and then my test case, understanding (and simulating) the problem a bit more, to:</p>\n<pre><code>@Test\n    void testStartAsyncTask() { \n        final List&lt;CompletableFuture&gt; promises = [\n           {\n               Thread.sleep(100);\n               return &quot;hello&quot;;\n           },\n           {\n               Thread.sleep(50);\n               return &quot;world&quot;;\n           },\n       ].collect { Closure onTask -&gt; return AsyncUtils.StartAsyncTask(onTask) }\n\n       promises.eachWithIndex { promise, int idx -&gt; \n           promise.thenApplyAsync { String str -&gt;\n               if (idx == 0) { \n                   assert str.equals('world')\n                   return\n               }\n               assert str.equals('hello')\n           }\n       }\n    }\n</code></pre>\n<p>and all is well!</p>\n"}],"owner":{"account_id":2309337,"reputation":3766,"user_id":2027839,"accept_rate":71,"display_name":"Mike Warren"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677317876,"creation_date":1677220086,"question_id":75553240,"body_markdown":"I am working on a Groovy project to merge Sheets, but faced an issue over my async utils. I narrowed it down to that. \r\n\r\nHere is the `AsyncUtils`: \r\n\r\n```\r\npackage com.signaturemd.sposZohoMergeScript.utils\r\n\r\nimport java.util.concurrent.ExecutorService\r\nimport java.util.concurrent.Executors\r\nimport java.util.concurrent.Future\r\n\r\npublic final class AsyncUtils {\r\n\tprivate static ExecutorService threadPool;\r\n\t\r\n\tpublic static &lt;T&gt; Future&lt;T&gt; StartAsyncTask(Closure&lt;T&gt; onTask) { \r\n\t\treturn this.GetThreadPool()\r\n\t\t\t.submit(onTask);\r\n\t}\r\n\t\r\n\tpublic static &lt;T&gt; T AwaitResult(Future&lt;T&gt; future) {  \r\n\t\treturn future.get();\r\n\t}\r\n\t\r\n\tpublic static ExecutorService GetThreadPool() { \r\n\t\tif (!this.threadPool)\r\n\t\t\tthis.threadPool = Executors.newCachedThreadPool();\r\n\t\t\r\n\t\treturn this.threadPool;\r\n\t}\r\n}\r\n\r\n```\r\n\r\nTo try to resolve it, I write JUnit test case simulating my use case in the real project codebase: \r\n\r\n```\r\npackage com.signaturemd.sposZohoMergeScript.utils;\r\n\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\nimport org.junit.jupiter.api.Test;\r\n\r\nclass AsyncUtilsTest {\r\n\r\n\t@Test\r\n\tvoid testAwaitResult() {\r\n\t\tfinal List promises = [\r\n\t\t\t{\r\n\t\t\t\tThread.sleep(100);\r\n\t\t\t\treturn &quot;hello&quot;;\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tThread.sleep(50);\r\n\t\t\t\treturn &quot;world&quot;;\r\n\t\t\t},\r\n\t\t].collect { Closure onTask -&gt; return AsyncUtils.StartAsyncTask(onTask) }\r\n\t\t\r\n\t\tpromises.each { promise -&gt; \r\n\t\t\tfinal String result = AsyncUtils.AwaitResult(promise);\r\n\t\t\t\r\n\t\t\tassert result != null;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nThe assertion is failing, as `result` is somehow `null` after awaiting the result... \r\n\r\nWhat is causing this to happen, and does this mean I should wait on all promises (Futures) to resolve before starting unit of work (in my case merging)?\r\n\r\nDISCLAIMER: I&#39;m on Java 17","title":"Groovy future.get() returns null","body":"<p>I am working on a Groovy project to merge Sheets, but faced an issue over my async utils. I narrowed it down to that.</p>\n<p>Here is the <code>AsyncUtils</code>:</p>\n<pre><code>package com.signaturemd.sposZohoMergeScript.utils\n\nimport java.util.concurrent.ExecutorService\nimport java.util.concurrent.Executors\nimport java.util.concurrent.Future\n\npublic final class AsyncUtils {\n    private static ExecutorService threadPool;\n    \n    public static &lt;T&gt; Future&lt;T&gt; StartAsyncTask(Closure&lt;T&gt; onTask) { \n        return this.GetThreadPool()\n            .submit(onTask);\n    }\n    \n    public static &lt;T&gt; T AwaitResult(Future&lt;T&gt; future) {  \n        return future.get();\n    }\n    \n    public static ExecutorService GetThreadPool() { \n        if (!this.threadPool)\n            this.threadPool = Executors.newCachedThreadPool();\n        \n        return this.threadPool;\n    }\n}\n\n</code></pre>\n<p>To try to resolve it, I write JUnit test case simulating my use case in the real project codebase:</p>\n<pre><code>package com.signaturemd.sposZohoMergeScript.utils;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\nimport org.junit.jupiter.api.Test;\n\nclass AsyncUtilsTest {\n\n    @Test\n    void testAwaitResult() {\n        final List promises = [\n            {\n                Thread.sleep(100);\n                return &quot;hello&quot;;\n            },\n            {\n                Thread.sleep(50);\n                return &quot;world&quot;;\n            },\n        ].collect { Closure onTask -&gt; return AsyncUtils.StartAsyncTask(onTask) }\n        \n        promises.each { promise -&gt; \n            final String result = AsyncUtils.AwaitResult(promise);\n            \n            assert result != null;\n        }\n    }\n\n}\n\n</code></pre>\n<p>The assertion is failing, as <code>result</code> is somehow <code>null</code> after awaiting the result...</p>\n<p>What is causing this to happen, and does this mean I should wait on all promises (Futures) to resolve before starting unit of work (in my case merging)?</p>\n<p>DISCLAIMER: I'm on Java 17</p>\n"},{"tags":["java","intellij-idea","flutter"],"answers":[{"tags":[],"owner":{"account_id":488094,"reputation":111908,"user_id":1463116,"accept_rate":40,"display_name":"Collin Jackson"},"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1496154703,"creation_date":1496154703,"answer_id":44265120,"question_id":44256784,"body_markdown":"It sounds like IntelliJ is configured to run as a Dart command line app instead of a Flutter app. Edit configurations and remove any configurations that look like &quot;Dart Command Line App&quot;. Then create a new one for a Flutter app.","title":"Unable to run new flutter sample code in IntelliJ IDEA","body":"<p>It sounds like IntelliJ is configured to run as a Dart command line app instead of a Flutter app. Edit configurations and remove any configurations that look like \"Dart Command Line App\". Then create a new one for a Flutter app.</p>\n"},{"tags":[],"owner":{"account_id":2983258,"reputation":2564,"user_id":2532763,"accept_rate":60,"display_name":"lordvcs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500229443,"creation_date":1500229443,"answer_id":45131992,"question_id":44256784,"body_markdown":"When i encountered this issue, I fixed the error by simply by closing the current project and creating a new project. Now when i tried to run the app from the new project, it worked!. Hope it helps someone.","title":"Unable to run new flutter sample code in IntelliJ IDEA","body":"<p>When i encountered this issue, I fixed the error by simply by closing the current project and creating a new project. Now when i tried to run the app from the new project, it worked!. Hope it helps someone.</p>\n"},{"tags":[],"owner":{"account_id":13182776,"reputation":63,"user_id":9521684,"display_name":"Kathryn Newbould"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1522250923,"creation_date":1522250923,"answer_id":49538511,"question_id":44256784,"body_markdown":"Click the name of the test, and choose &quot;Edit configurations&quot;\r\nYou&#39;ll (probably) notice that the run config is under &#39;dart&#39; rather than &#39;flutter test&#39;\r\n\r\nDelete this one, create a new one (using the plus button) under &#39;Flutter Test&#39; and choose / run this manually.\r\n\r\n(Also, you need to have the tests in a folder called &#39;test&#39; at the same level (e.g. as a sister to) the lib folder, and follow the naming convention &#39;*_test.dart&#39; for all tests.)\r\n\r\nHappy coding!","title":"Unable to run new flutter sample code in IntelliJ IDEA","body":"<p>Click the name of the test, and choose \"Edit configurations\"\nYou'll (probably) notice that the run config is under 'dart' rather than 'flutter test'</p>\n\n<p>Delete this one, create a new one (using the plus button) under 'Flutter Test' and choose / run this manually.</p>\n\n<p>(Also, you need to have the tests in a folder called 'test' at the same level (e.g. as a sister to) the lib folder, and follow the naming convention '*_test.dart' for all tests.)</p>\n\n<p>Happy coding!</p>\n"},{"tags":[],"owner":{"account_id":1327328,"reputation":3529,"user_id":1271891,"accept_rate":0,"display_name":"Raj008"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530518311,"creation_date":1530518311,"answer_id":51131469,"question_id":44256784,"body_markdown":"Your setup looks good! I think IntelliJ is trying to run your app as if it was a command-line dart app, not a Flutter one. There are some settings in IntelliJ to allow you to manage your launch configs. I would:\r\ndelete the dart command-line one\r\ncreate a flutter one for your app (or confirm that one exists)\r\nThen, from the launch config drop-down, select the flutter launch config for your app and hit run.\r\n\r\nThere are some docs here: https://flutter.io/intellij-ide/#running-and-debugging, though they don&#39;t cover creating a launch config.\r\n\r\nRefer[enter link description here][1]\r\n\r\n\r\n  [1]: https://groups.google.com/forum/#!topic/flutter-dev/_LYG0GBFFsE","title":"Unable to run new flutter sample code in IntelliJ IDEA","body":"<p>Your setup looks good! I think IntelliJ is trying to run your app as if it was a command-line dart app, not a Flutter one. There are some settings in IntelliJ to allow you to manage your launch configs. I would:\ndelete the dart command-line one\ncreate a flutter one for your app (or confirm that one exists)\nThen, from the launch config drop-down, select the flutter launch config for your app and hit run.</p>\n\n<p>There are some docs here: <a href=\"https://flutter.io/intellij-ide/#running-and-debugging\" rel=\"nofollow noreferrer\">https://flutter.io/intellij-ide/#running-and-debugging</a>, though they don't cover creating a launch config.</p>\n\n<p>Refer<a href=\"https://groups.google.com/forum/#!topic/flutter-dev/_LYG0GBFFsE\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n"},{"tags":[],"owner":{"account_id":924714,"reputation":1687,"user_id":955719,"accept_rate":39,"display_name":"Mahmoud_Mehri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641133595,"creation_date":1641133595,"answer_id":70556783,"question_id":44256784,"body_markdown":"I had same issue on Android Studio and I find out that its related to the file (configuration) selected here:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe first one is Dart Command Line App and the second one is Flutter App which should be selected\r\n\r\n  [1]: https://i.stack.imgur.com/Gtvbp.png","title":"Unable to run new flutter sample code in IntelliJ IDEA","body":"<p>I had same issue on Android Studio and I find out that its related to the file (configuration) selected here:</p>\n<p><a href=\"https://i.stack.imgur.com/Gtvbp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gtvbp.png\" alt=\"enter image description here\" /></a></p>\n<p>The first one is Dart Command Line App and the second one is Flutter App which should be selected</p>\n"},{"tags":[],"owner":{"account_id":18886482,"reputation":1,"user_id":13777794,"display_name":"collins omwoyo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677317867,"creation_date":1677317867,"answer_id":75564490,"question_id":44256784,"body_markdown":"I ran into this issue on VS Code and the solution is: If you are using VS Code then instead of hitting Run (Ctrl+Alt+N) go to Debug -&gt; Start Debugging option or simply press F5 and errors will be gone","title":"Unable to run new flutter sample code in IntelliJ IDEA","body":"<p>I ran into this issue on VS Code and the solution is: If you are using VS Code then instead of hitting Run (Ctrl+Alt+N) go to Debug -&gt; Start Debugging option or simply press F5 and errors will be gone</p>\n"}],"owner":{"account_id":2694740,"reputation":49,"user_id":3501815,"accept_rate":100,"display_name":"Naveen Cherian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3027,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":44265120,"answer_count":6,"score":2,"last_activity_date":1677317867,"creation_date":1496131530,"question_id":44256784,"body_markdown":"I installed IntelliJ IDEA, downloaded both the flutter and dart plugins, Installed android studio and jdk . \r\nI opened configured IntelliJ IDEA to point at the android sdk and jdk.   \r\nI opened up IntelliJ IDEA and created new project-&gt;flutter. I clicked on build and got an error message. \r\n\r\nI am using Ubuntu 16.04 64 bit system\r\n\r\nI ran Flutter Doctor and confirmed that i got nothing new or missing installation. The message at debugger is as shown\r\n\r\n    The built-in library &#39;dart:ui&#39; is not available on the stand-alone VM. \r\n    library handler failed export &#39;dart:ui&#39; show Locale\r\n    Process finished with exit code 254 Failed to connect to the VM observatory service: java.io.IOException: Failed to connect: ws://127.0.0.1:46579/ws Caused by: de.roderick.weberknecht.WebSocketException: error while creating socket to ws://127.0.0.1:46579/ws Caused by: java.net.ConnectException: Connection refused\r\n\r\n[Standard new flutter project code with output][1]\r\n\r\n[Debugger output which i copy pasted][2]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JwxH7.png\r\n  [2]: https://i.stack.imgur.com/mzY4X.png\r\n","title":"Unable to run new flutter sample code in IntelliJ IDEA","body":"<p>I installed IntelliJ IDEA, downloaded both the flutter and dart plugins, Installed android studio and jdk . \nI opened configured IntelliJ IDEA to point at the android sdk and jdk.<br>\nI opened up IntelliJ IDEA and created new project->flutter. I clicked on build and got an error message. </p>\n\n<p>I am using Ubuntu 16.04 64 bit system</p>\n\n<p>I ran Flutter Doctor and confirmed that i got nothing new or missing installation. The message at debugger is as shown</p>\n\n<pre><code>The built-in library 'dart:ui' is not available on the stand-alone VM. \nlibrary handler failed export 'dart:ui' show Locale\nProcess finished with exit code 254 Failed to connect to the VM observatory service: java.io.IOException: Failed to connect: ws://127.0.0.1:46579/ws Caused by: de.roderick.weberknecht.WebSocketException: error while creating socket to ws://127.0.0.1:46579/ws Caused by: java.net.ConnectException: Connection refused\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/JwxH7.png\" rel=\"nofollow noreferrer\">Standard new flutter project code with output</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/mzY4X.png\" rel=\"nofollow noreferrer\">Debugger output which i copy pasted</a></p>\n"},{"tags":["java","json","pact","pact-jvm"],"answers":[{"tags":[],"owner":{"account_id":991358,"reputation":3832,"user_id":1008568,"display_name":"Matthew Fellows"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1607141696,"creation_date":1607141696,"answer_id":65153720,"question_id":65136335,"body_markdown":"Have you tried just passing it an empty object? Pact is generally accepting of objects having keys that weren&#39;t in the expected response, it only fails if keys that were expected are not present in the actual API.\r\n\r\nSo passing an empty object is essentially saying what you want. ","title":"generating pact contract: how to create PactDslJsonBody that matches anything","body":"<p>Have you tried just passing it an empty object? Pact is generally accepting of objects having keys that weren't in the expected response, it only fails if keys that were expected are not present in the actual API.</p>\n<p>So passing an empty object is essentially saying what you want.</p>\n"}],"owner":{"account_id":11077445,"reputation":503,"user_id":8133719,"accept_rate":50,"display_name":"zero_yu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":650,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65153720,"answer_count":1,"score":0,"last_activity_date":1677316747,"creation_date":1607042524,"question_id":65136335,"body_markdown":"I am using Java to generate the Pact contract as a consumer. Here is an example of the response body that I would like the provider to verify\r\n\r\n    {\r\n      &quot;metadata&quot;: {\r\n        &quot;href&quot;: &quot;${host}&quot;,\r\n        &quot;id&quot;: 40964176,\r\n        &quot;updated_at&quot;: {}\r\n      },\r\n      &quot;record&quot;: {\r\n         //Anything...\r\n      },\r\n      &quot;id&quot;: &quot;40964176&quot;,\r\n      &quot;type&quot;: &quot;record&quot;,\r\n      &quot;record_number&quot;: 40964176\r\n    }\r\n\r\nThe value of `record` can be anything. I want the verification to pass as long as the value of `record` is an object. How should I do that? ","title":"generating pact contract: how to create PactDslJsonBody that matches anything","body":"<p>I am using Java to generate the Pact contract as a consumer. Here is an example of the response body that I would like the provider to verify</p>\n<pre><code>{\n  &quot;metadata&quot;: {\n    &quot;href&quot;: &quot;${host}&quot;,\n    &quot;id&quot;: 40964176,\n    &quot;updated_at&quot;: {}\n  },\n  &quot;record&quot;: {\n     //Anything...\n  },\n  &quot;id&quot;: &quot;40964176&quot;,\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;record_number&quot;: 40964176\n}\n</code></pre>\n<p>The value of <code>record</code> can be anything. I want the verification to pass as long as the value of <code>record</code> is an object. How should I do that?</p>\n"},{"tags":["java","android","firebase","firebase-storage"],"comments":[{"owner":{"account_id":5784521,"reputation":971,"user_id":4564200,"accept_rate":100,"display_name":"olajide"},"score":0,"creation_date":1532776220,"post_id":51570749,"comment_id":90107581,"body_markdown":"You can convert it to bitmap before uploading to firebase","body":"You can convert it to bitmap before uploading to firebase"},{"owner":{"account_id":12785441,"reputation":87,"user_id":9251863,"display_name":"mezohn adhikari"},"score":0,"creation_date":1532776269,"post_id":51570749,"comment_id":90107597,"body_markdown":"can you tell me how ??","body":"can you tell me how ??"},{"owner":{"account_id":12785441,"reputation":87,"user_id":9251863,"display_name":"mezohn adhikari"},"score":0,"creation_date":1532776284,"post_id":51570749,"comment_id":90107601,"body_markdown":"i am totally new to this","body":"i am totally new to this"},{"owner":{"account_id":5784521,"reputation":971,"user_id":4564200,"accept_rate":100,"display_name":"olajide"},"score":0,"creation_date":1532776564,"post_id":51570749,"comment_id":90107682,"body_markdown":"Sure. Wait for my answer","body":"Sure. Wait for my answer"},{"owner":{"account_id":12785441,"reputation":87,"user_id":9251863,"display_name":"mezohn adhikari"},"score":0,"creation_date":1532776595,"post_id":51570749,"comment_id":90107686,"body_markdown":"okay .. thanks in advance","body":"okay .. thanks in advance"},{"owner":{"account_id":5784521,"reputation":971,"user_id":4564200,"accept_rate":100,"display_name":"olajide"},"score":0,"creation_date":1540631892,"post_id":51570749,"comment_id":92943166,"body_markdown":"If the answer I provided helped to solve the problem,  kindly mark it as answer To Help the community and people looking for similar solution. Thanks.","body":"If the answer I provided helped to solve the problem,  kindly mark it as answer To Help the community and people looking for similar solution. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":5784521,"reputation":971,"user_id":4564200,"accept_rate":100,"display_name":"olajide"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1532777781,"creation_date":1532776800,"answer_id":51570881,"question_id":51570749,"body_markdown":"        byte[] thumb_byte_data;\r\n        Uri resultUri = ImageUri;\r\n\r\n        //getting imageUri and store in file. and compress to bitmap\r\n        File file_path = new File(resultUri.getPath());\r\n        try {\r\n            Bitmap thumb_bitmap = new Compressor(this)\r\n                    .setMaxHeight(200)\r\n                    .setMaxWidth(200)\r\n                    .setQuality(75)\r\n                    .compressToBitmap(file_path);\r\n\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n            thumb_bitmap.compress(Bitmap.CompressFormat.JPEG, 100, baos);\r\n            thumb_byte_data = baos.toByteArray();\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\nYou can then upload to firebase with the this code:\r\n\r\n  \r\n\r\n     final UploadTask uploadTask = bytepath.putBytes(thumb_byte_data);\r\n\r\n                            uploadTask.addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                                @Override\r\n                                public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n\r\n                                    uploadTask.continueWithTask(new Continuation&lt;UploadTask.TaskSnapshot, Task&lt;Uri&gt;&gt;() {\r\n                                        @Override\r\n                                        public Task&lt;Uri&gt; then(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) throws Exception {\r\n                                            if (!task.isSuccessful()) {\r\n                                                throw task.getException();\r\n                                            }\r\n                                            // Continue with the task to get the download URL\r\n                                            return filepath.getDownloadUrl();\r\n\r\n                                        }\r\n                                    }).addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\r\n                                        @Override\r\n                                        public void onComplete(@NonNull Task&lt;Uri&gt; task) {\r\n                                            if (task.isSuccessful()) {\r\n                                                thumb_download_url = task.getResult().toString();\r\n\r\n                                            }\r\n                                        }\r\n                                    });\r\n\r\n                                }\r\n                            }).addOnFailureListener(new OnFailureListener() {\r\n                                @Override\r\n                                public void onFailure(@NonNull Exception e) {\r\n                                }\r\n                            });","title":"How to compress image while uploading to the firebase?","body":"<pre><code>    byte[] thumb_byte_data;\n    Uri resultUri = ImageUri;\n\n    //getting imageUri and store in file. and compress to bitmap\n    File file_path = new File(resultUri.getPath());\n    try {\n        Bitmap thumb_bitmap = new Compressor(this)\n                .setMaxHeight(200)\n                .setMaxWidth(200)\n                .setQuality(75)\n                .compressToBitmap(file_path);\n\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        thumb_bitmap.compress(Bitmap.CompressFormat.JPEG, 100, baos);\n        thumb_byte_data = baos.toByteArray();\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>You can then upload to firebase with the this code:</p>\n\n<pre><code> final UploadTask uploadTask = bytepath.putBytes(thumb_byte_data);\n\n                        uploadTask.addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n                            @Override\n                            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n\n                                uploadTask.continueWithTask(new Continuation&lt;UploadTask.TaskSnapshot, Task&lt;Uri&gt;&gt;() {\n                                    @Override\n                                    public Task&lt;Uri&gt; then(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) throws Exception {\n                                        if (!task.isSuccessful()) {\n                                            throw task.getException();\n                                        }\n                                        // Continue with the task to get the download URL\n                                        return filepath.getDownloadUrl();\n\n                                    }\n                                }).addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\n                                    @Override\n                                    public void onComplete(@NonNull Task&lt;Uri&gt; task) {\n                                        if (task.isSuccessful()) {\n                                            thumb_download_url = task.getResult().toString();\n\n                                        }\n                                    }\n                                });\n\n                            }\n                        }).addOnFailureListener(new OnFailureListener() {\n                            @Override\n                            public void onFailure(@NonNull Exception e) {\n                            }\n                        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12980152,"reputation":1561,"user_id":9382870,"display_name":"Gourango Sutradhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532777583,"creation_date":1532776834,"answer_id":51570888,"question_id":51570749,"body_markdown":"You can create bitmap with captured image as below:\r\n\r\n    Bitmap bitmap = Bitmap.createScaledBitmap(yourimageuri, width, height, true);// the uri you got from onactivityresults\r\n\r\nYou can also view this thirdparty lib to compress your image [Click Here][1]\r\n\r\n\r\n  [1]: https://github.com/zetbaitsu/Compressor","title":"How to compress image while uploading to the firebase?","body":"<p>You can create bitmap with captured image as below:</p>\n\n<pre><code>Bitmap bitmap = Bitmap.createScaledBitmap(yourimageuri, width, height, true);// the uri you got from onactivityresults\n</code></pre>\n\n<p>You can also view this thirdparty lib to compress your image <a href=\"https://github.com/zetbaitsu/Compressor\" rel=\"nofollow noreferrer\">Click Here</a></p>\n"},{"tags":[],"owner":{"account_id":18274892,"reputation":717,"user_id":13304913,"display_name":"Emon Hossain Munna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601632508,"creation_date":1601632508,"answer_id":64169608,"question_id":51570749,"body_markdown":"\r\n\r\n&gt; //declear local variable first\r\n\r\nBitmap bitmap;\r\nUri imageUri;\r\n\r\n\r\n&gt; //button action to call Image picker method\r\n\r\n    companyImage.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent();\r\n                intent.setType(&quot;image/*&quot;);\r\n                intent.setAction(Intent.ACTION_GET_CONTENT);\r\n                startActivityForResult(Intent.createChooser(intent,&quot;Pick Comapany Image&quot;),GALLERY_REQ_CODE);\r\n            }\r\n        });\r\n\r\n&gt; //get bitmap from onActivityResult\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == GALLERY_REQ_CODE &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null) {\r\n            imageUri = data.getData();\r\n            try {\r\n                bitmap = MediaStore.Images.Media.getBitmap(this.getContentResolver(), imageUri);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            imageView.setImageURI(imageUri);\r\n        }\r\n    }\r\n\r\n&gt; //compress image first then upload to firebase\r\n\r\n        public void postImage() {\r\n        StorageReference storageReference = mStorageRef.child(&quot;Images/&quot; + //imageName);\r\n        databaseReference = \r\n        FirebaseDatabase.getInstance().getReference().child(&quot;Jobs&quot;).child(//imageName);\r\n\r\n        ByteArrayOutputStream bytes = new ByteArrayOutputStream();\r\n        bitmap.compress(Bitmap.CompressFormat.JPEG, 20, bytes);\r\n        String path = MediaStore.Images.Media.insertImage(SaveJobActivity.this.getContentResolver(),bitmap,//imageName,null);\r\n\r\n        Uri uri = Uri.parse(path);\r\n        storageReference.putFile(uri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n            @Override\r\n            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                taskSnapshot.getStorage().getDownloadUrl().addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;Uri&gt; task) {\r\n                        final String downloadUrl = task.getResult().toString();\r\n\r\n                        if (task.isSuccessful()){\r\n                            Map&lt;String, Object&gt; update_hashMap = new HashMap&lt;&gt;();\r\n\r\n\t            //assign download url in hashmap to upadate database reference\r\n\r\n                            update_hashMap.put(&quot;Image&quot;,downloadUrl);\r\n\r\n\t            //update database children here\r\n\r\n                            databaseReference.updateChildren(update_hashMap).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                                @Override\r\n                                public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                    if (task.isSuccessful()){\r\n                                        //do what you want\r\n                                    }else {\r\n                                        //show exception\r\n                                    }\r\n                                }\r\n                            });\r\n                        }else{\r\n                            //show exception\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }","title":"How to compress image while uploading to the firebase?","body":"<blockquote>\n<p>//declear local variable first</p>\n</blockquote>\n<p>Bitmap bitmap;\nUri imageUri;</p>\n<blockquote>\n<p>//button action to call Image picker method</p>\n</blockquote>\n<pre><code>companyImage.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Intent intent = new Intent();\n            intent.setType(&quot;image/*&quot;);\n            intent.setAction(Intent.ACTION_GET_CONTENT);\n            startActivityForResult(Intent.createChooser(intent,&quot;Pick Comapany Image&quot;),GALLERY_REQ_CODE);\n        }\n    });\n</code></pre>\n<blockquote>\n<p>//get bitmap from onActivityResult</p>\n</blockquote>\n<pre><code>@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if (requestCode == GALLERY_REQ_CODE &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null) {\n        imageUri = data.getData();\n        try {\n            bitmap = MediaStore.Images.Media.getBitmap(this.getContentResolver(), imageUri);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        imageView.setImageURI(imageUri);\n    }\n}\n</code></pre>\n<blockquote>\n<p>//compress image first then upload to firebase</p>\n</blockquote>\n<pre><code>    public void postImage() {\n    StorageReference storageReference = mStorageRef.child(&quot;Images/&quot; + //imageName);\n    databaseReference = \n    FirebaseDatabase.getInstance().getReference().child(&quot;Jobs&quot;).child(//imageName);\n\n    ByteArrayOutputStream bytes = new ByteArrayOutputStream();\n    bitmap.compress(Bitmap.CompressFormat.JPEG, 20, bytes);\n    String path = MediaStore.Images.Media.insertImage(SaveJobActivity.this.getContentResolver(),bitmap,//imageName,null);\n\n    Uri uri = Uri.parse(path);\n    storageReference.putFile(uri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n        @Override\n        public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n            taskSnapshot.getStorage().getDownloadUrl().addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;Uri&gt; task) {\n                    final String downloadUrl = task.getResult().toString();\n\n                    if (task.isSuccessful()){\n                        Map&lt;String, Object&gt; update_hashMap = new HashMap&lt;&gt;();\n\n            //assign download url in hashmap to upadate database reference\n\n                        update_hashMap.put(&quot;Image&quot;,downloadUrl);\n\n            //update database children here\n\n                        databaseReference.updateChildren(update_hashMap).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                            @Override\n                            public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                                if (task.isSuccessful()){\n                                    //do what you want\n                                }else {\n                                    //show exception\n                                }\n                            }\n                        });\n                    }else{\n                        //show exception\n                    }\n                }\n            });\n        }\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12599480,"reputation":111,"user_id":9162733,"display_name":"Priyavrat Talyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677316390,"creation_date":1677316390,"answer_id":75564382,"question_id":51570749,"body_markdown":"After days of hard work and debugging. I have found a working solution.\r\n\r\n    private void decodeFile(Uri filePath) {\r\n\r\n        // Use bitmap factory to load bitmap from path\r\n        Bitmap bmp =null;\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        \r\n        baos = new ByteArrayOutputStream();\r\n\r\n        bmp.compress(Bitmap.CompressFormat.JPEG, 25, baos);\r\n        byte[] fileInBytes = baos.toByteArray();*/\r\n\r\n        try {\r\n            ParcelFileDescriptor parcelFileDescriptor =\r\n                    getContentResolver().openFileDescriptor(filePath, &quot;r&quot;);\r\n            FileDescriptor fileDescriptor = parcelFileDescriptor.getFileDescriptor();\r\n            bmp = BitmapFactory.decodeFileDescriptor(fileDescriptor);\r\n\r\n            parcelFileDescriptor.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        baos = new ByteArrayOutputStream();\r\n        bmp.compress(Bitmap.CompressFormat.JPEG, 25, baos);\r\n        byte[] fileInBytes = baos.toByteArray();\r\n\t\t\r\n\t\t// For uploading to firebase storage\r\n\t\tUploadTask uploadTask = reference.putBytes(fileInBytes);\r\n\r\n    }","title":"How to compress image while uploading to the firebase?","body":"<p>After days of hard work and debugging. I have found a working solution.</p>\n<pre><code>private void decodeFile(Uri filePath) {\n\n    // Use bitmap factory to load bitmap from path\n    Bitmap bmp =null;\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    \n    baos = new ByteArrayOutputStream();\n\n    bmp.compress(Bitmap.CompressFormat.JPEG, 25, baos);\n    byte[] fileInBytes = baos.toByteArray();*/\n\n    try {\n        ParcelFileDescriptor parcelFileDescriptor =\n                getContentResolver().openFileDescriptor(filePath, &quot;r&quot;);\n        FileDescriptor fileDescriptor = parcelFileDescriptor.getFileDescriptor();\n        bmp = BitmapFactory.decodeFileDescriptor(fileDescriptor);\n\n        parcelFileDescriptor.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    baos = new ByteArrayOutputStream();\n    bmp.compress(Bitmap.CompressFormat.JPEG, 25, baos);\n    byte[] fileInBytes = baos.toByteArray();\n    \n    // For uploading to firebase storage\n    UploadTask uploadTask = reference.putBytes(fileInBytes);\n\n}\n</code></pre>\n"}],"owner":{"account_id":12785441,"reputation":87,"user_id":9251863,"display_name":"mezohn adhikari"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4866,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":4,"score":3,"last_activity_date":1677316390,"creation_date":1532775884,"question_id":51570749,"body_markdown":"i am working on the a social app where the user can upload their image on their feeds but when the user is picking up the image ,the image less than 2 mb are getting picked up and are successfully uploaded to the firebase but when the user uploads the image more than 2mb the app crashes. what can be done to compress the image  ..\r\n\r\n**postactivity.java**\r\n\r\n     private Toolbar mToolbar;\r\n        private ImageButton SelectPostImage;\r\n        private Button UpdatePostButton;\r\n        private ProgressDialog loadingBar;\r\n        private EditText PostDescription;\r\n        private static  final  int Gallery_pick = 1;\r\n        private Uri ImageUri;\r\n        private  String Description;\r\n        private StorageReference PostsImagesReference;\r\n        private DatabaseReference usersRef, PostsRef;\r\n        private  FirebaseAuth mAuth;\r\n        private  String saveCurrentDate, saveCurrentTime,current_user_id, postRandomName, downloadUrl;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_post);\r\n            mAuth = FirebaseAuth.getInstance();\r\n            current_user_id = mAuth.getCurrentUser().getUid();\r\n            PostsImagesReference = FirebaseStorage.getInstance().getReference();\r\n                usersRef = FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;);\r\n                PostsRef = FirebaseDatabase.getInstance().getReference().child(&quot;Posts&quot;);\r\n            SelectPostImage = (ImageButton)findViewById(R.id.select_post_image);\r\n            UpdatePostButton = (Button) findViewById(R.id.update_post_button);\r\n            PostDescription = (EditText)findViewById(R.id.post_description);\r\n            loadingBar = new ProgressDialog(this);\r\n    \r\n    \r\n            mToolbar = (Toolbar) findViewById(R.id.update_post_page_toolbar);\r\n            setSupportActionBar(mToolbar);\r\n            getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n            getSupportActionBar().setDisplayShowHomeEnabled(true);\r\n            getSupportActionBar().setTitle(&quot;Update Post&quot;);\r\n            \r\n            SelectPostImage.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    OpenGallery();\r\n                }\r\n            });\r\n            \r\n            UpdatePostButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    ValidatePostInfo();\r\n                    \r\n                }\r\n            });\r\n            \r\n    \r\n        }\r\n    \r\n        private void ValidatePostInfo() {\r\n             Description = PostDescription.getText().toString();\r\n            if (ImageUri == null){\r\n                Toast.makeText(this, &quot;Please select the image&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n            }\r\n            if (TextUtils.isEmpty(Description)){\r\n                Toast.makeText(this,&quot;Please write something here&quot;,Toast.LENGTH_SHORT).show();\r\n    \r\n            }else {\r\n    \r\n                loadingBar.setTitle(&quot; Add New Post&quot;);\r\n                loadingBar.setMessage(&quot;Please wait, while we updating your new post&quot;);\r\n                loadingBar.show();\r\n                loadingBar.setCanceledOnTouchOutside(true);\r\n                StoringImageToFirebaseStorage();\r\n                \r\n            }\r\n        }\r\n    \r\n        private void StoringImageToFirebaseStorage() {\r\n            Calendar calForDate = Calendar.getInstance();\r\n            SimpleDateFormat currentDate = new SimpleDateFormat(&quot;dd-MMMM-yyyy&quot;);\r\n    saveCurrentDate = currentDate.format(calForDate.getTime());\r\n            Calendar calFordTime = Calendar.getInstance();\r\n            SimpleDateFormat currentTime = new SimpleDateFormat(&quot;HH: mm&quot;);\r\n            saveCurrentTime = currentTime.format(calForDate.getTime());\r\n         postRandomName = saveCurrentDate + saveCurrentTime;\r\n    \r\n            StorageReference filePath = PostsImagesReference.child(&quot;Post Images&quot;).child(ImageUri.getLastPathSegment() + postRandomName + &quot;.jpg&quot;);\r\n                filePath.putFile(ImageUri).addOnCompleteListener(new OnCompleteListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) {\r\n                        if (task.isSuccessful()){\r\n                            downloadUrl = task.getResult().getDownloadUrl().toString();\r\n                            Toast.makeText(PostActivity.this,&quot;Image is sucessfully uploaded to storage&quot;,Toast.LENGTH_LONG).show();\r\n                            SavingPostInformationToDatabase();\r\n                            \r\n                        }else{\r\n                            String message = task.getException().getMessage();\r\n                            Toast.makeText(PostActivity.this,&quot;Error Occured:&quot; + message,Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                });\r\n    \r\n        }\r\n    \r\n        private void SavingPostInformationToDatabase() {\r\n            usersRef.child(current_user_id).addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(DataSnapshot dataSnapshot) {\r\n                    if (dataSnapshot.exists()){\r\n                        String userfullname = dataSnapshot.child(&quot;fullname&quot;).getValue().toString();\r\n                        String userProfileImage  = dataSnapshot.child(&quot;profileimage&quot;).getValue().toString();\r\n                        HashMap postsMap = new HashMap();\r\n                        postsMap.put(&quot;uid&quot;,current_user_id);\r\n                        postsMap.put(&quot;date&quot;,saveCurrentDate);\r\n    \r\n                        postsMap.put(&quot;time&quot;,saveCurrentTime);\r\n    \r\n                        postsMap.put(&quot;description&quot;,Description);\r\n    \r\n                        postsMap.put(&quot;postimage&quot;,downloadUrl);\r\n                        postsMap.put(&quot;profileimage&quot;,userProfileImage);\r\n                        postsMap.put(&quot;fullname&quot;,userfullname);\r\n                        PostsRef.child(current_user_id + postRandomName).updateChildren(postsMap)\r\n                                .addOnCompleteListener(new OnCompleteListener() {\r\n                                    @Override\r\n                                    public void onComplete(@NonNull Task task) {\r\n                                        if (task.isSuccessful()){\r\n                                            SendUserToMainActivity();\r\n                                            Toast.makeText(PostActivity.this,&quot;Your New Post is Updated Sucessfully&quot;,Toast.LENGTH_SHORT).show();\r\n                                            loadingBar.dismiss();\r\n                                        }else{\r\n                                            Toast.makeText(PostActivity.this,&quot;Error Occured while updating your post .please try again &quot;,Toast.LENGTH_LONG).show();\r\n                                        loadingBar.dismiss();\r\n                                        }\r\n                                    }\r\n                                });\r\n    \r\n    \r\n    \r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(DatabaseError databaseError) {\r\n    \r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n        private void OpenGallery() {\r\n    \r\n            Intent galleryIntent = new Intent();\r\n            galleryIntent.setAction(Intent.ACTION_GET_CONTENT);\r\n            galleryIntent.setType(&quot;image/*&quot;);\r\n            startActivityForResult(galleryIntent, Gallery_pick);\r\n        }\r\n    \r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n    \r\n        if (requestCode == Gallery_pick &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null){\r\n           ImageUri = data.getData();\r\n           SelectPostImage.setImageURI(ImageUri);\r\n        }\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public boolean onOptionsItemSelected(MenuItem item) {\r\n            int id = item.getItemId();\r\n            if (id == android.R.id.home){\r\n                SendUserToMainActivity();\r\n            }\r\n    \r\n            return super.onOptionsItemSelected(item);\r\n        }\r\n    \r\n        private void SendUserToMainActivity() {\r\n            Intent mainintent  =  new Intent(PostActivity.this,MainActivity.class);\r\n            startActivity(mainintent);\r\n        }\r\n    }\r\n\r\n","title":"How to compress image while uploading to the firebase?","body":"<p>i am working on the a social app where the user can upload their image on their feeds but when the user is picking up the image ,the image less than 2 mb are getting picked up and are successfully uploaded to the firebase but when the user uploads the image more than 2mb the app crashes. what can be done to compress the image  ..</p>\n\n<p><strong>postactivity.java</strong></p>\n\n<pre><code> private Toolbar mToolbar;\n    private ImageButton SelectPostImage;\n    private Button UpdatePostButton;\n    private ProgressDialog loadingBar;\n    private EditText PostDescription;\n    private static  final  int Gallery_pick = 1;\n    private Uri ImageUri;\n    private  String Description;\n    private StorageReference PostsImagesReference;\n    private DatabaseReference usersRef, PostsRef;\n    private  FirebaseAuth mAuth;\n    private  String saveCurrentDate, saveCurrentTime,current_user_id, postRandomName, downloadUrl;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_post);\n        mAuth = FirebaseAuth.getInstance();\n        current_user_id = mAuth.getCurrentUser().getUid();\n        PostsImagesReference = FirebaseStorage.getInstance().getReference();\n            usersRef = FirebaseDatabase.getInstance().getReference().child(\"Users\");\n            PostsRef = FirebaseDatabase.getInstance().getReference().child(\"Posts\");\n        SelectPostImage = (ImageButton)findViewById(R.id.select_post_image);\n        UpdatePostButton = (Button) findViewById(R.id.update_post_button);\n        PostDescription = (EditText)findViewById(R.id.post_description);\n        loadingBar = new ProgressDialog(this);\n\n\n        mToolbar = (Toolbar) findViewById(R.id.update_post_page_toolbar);\n        setSupportActionBar(mToolbar);\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n        getSupportActionBar().setDisplayShowHomeEnabled(true);\n        getSupportActionBar().setTitle(\"Update Post\");\n\n        SelectPostImage.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                OpenGallery();\n            }\n        });\n\n        UpdatePostButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                ValidatePostInfo();\n\n            }\n        });\n\n\n    }\n\n    private void ValidatePostInfo() {\n         Description = PostDescription.getText().toString();\n        if (ImageUri == null){\n            Toast.makeText(this, \"Please select the image\", Toast.LENGTH_SHORT).show();\n\n        }\n        if (TextUtils.isEmpty(Description)){\n            Toast.makeText(this,\"Please write something here\",Toast.LENGTH_SHORT).show();\n\n        }else {\n\n            loadingBar.setTitle(\" Add New Post\");\n            loadingBar.setMessage(\"Please wait, while we updating your new post\");\n            loadingBar.show();\n            loadingBar.setCanceledOnTouchOutside(true);\n            StoringImageToFirebaseStorage();\n\n        }\n    }\n\n    private void StoringImageToFirebaseStorage() {\n        Calendar calForDate = Calendar.getInstance();\n        SimpleDateFormat currentDate = new SimpleDateFormat(\"dd-MMMM-yyyy\");\nsaveCurrentDate = currentDate.format(calForDate.getTime());\n        Calendar calFordTime = Calendar.getInstance();\n        SimpleDateFormat currentTime = new SimpleDateFormat(\"HH: mm\");\n        saveCurrentTime = currentTime.format(calForDate.getTime());\n     postRandomName = saveCurrentDate + saveCurrentTime;\n\n        StorageReference filePath = PostsImagesReference.child(\"Post Images\").child(ImageUri.getLastPathSegment() + postRandomName + \".jpg\");\n            filePath.putFile(ImageUri).addOnCompleteListener(new OnCompleteListener&lt;UploadTask.TaskSnapshot&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) {\n                    if (task.isSuccessful()){\n                        downloadUrl = task.getResult().getDownloadUrl().toString();\n                        Toast.makeText(PostActivity.this,\"Image is sucessfully uploaded to storage\",Toast.LENGTH_LONG).show();\n                        SavingPostInformationToDatabase();\n\n                    }else{\n                        String message = task.getException().getMessage();\n                        Toast.makeText(PostActivity.this,\"Error Occured:\" + message,Toast.LENGTH_SHORT).show();\n                    }\n                }\n            });\n\n    }\n\n    private void SavingPostInformationToDatabase() {\n        usersRef.child(current_user_id).addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(DataSnapshot dataSnapshot) {\n                if (dataSnapshot.exists()){\n                    String userfullname = dataSnapshot.child(\"fullname\").getValue().toString();\n                    String userProfileImage  = dataSnapshot.child(\"profileimage\").getValue().toString();\n                    HashMap postsMap = new HashMap();\n                    postsMap.put(\"uid\",current_user_id);\n                    postsMap.put(\"date\",saveCurrentDate);\n\n                    postsMap.put(\"time\",saveCurrentTime);\n\n                    postsMap.put(\"description\",Description);\n\n                    postsMap.put(\"postimage\",downloadUrl);\n                    postsMap.put(\"profileimage\",userProfileImage);\n                    postsMap.put(\"fullname\",userfullname);\n                    PostsRef.child(current_user_id + postRandomName).updateChildren(postsMap)\n                            .addOnCompleteListener(new OnCompleteListener() {\n                                @Override\n                                public void onComplete(@NonNull Task task) {\n                                    if (task.isSuccessful()){\n                                        SendUserToMainActivity();\n                                        Toast.makeText(PostActivity.this,\"Your New Post is Updated Sucessfully\",Toast.LENGTH_SHORT).show();\n                                        loadingBar.dismiss();\n                                    }else{\n                                        Toast.makeText(PostActivity.this,\"Error Occured while updating your post .please try again \",Toast.LENGTH_LONG).show();\n                                    loadingBar.dismiss();\n                                    }\n                                }\n                            });\n\n\n\n                }\n            }\n\n            @Override\n            public void onCancelled(DatabaseError databaseError) {\n\n            }\n        });\n\n    }\n\n    private void OpenGallery() {\n\n        Intent galleryIntent = new Intent();\n        galleryIntent.setAction(Intent.ACTION_GET_CONTENT);\n        galleryIntent.setType(\"image/*\");\n        startActivityForResult(galleryIntent, Gallery_pick);\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n    if (requestCode == Gallery_pick &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null){\n       ImageUri = data.getData();\n       SelectPostImage.setImageURI(ImageUri);\n    }\n\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        int id = item.getItemId();\n        if (id == android.R.id.home){\n            SendUserToMainActivity();\n        }\n\n        return super.onOptionsItemSelected(item);\n    }\n\n    private void SendUserToMainActivity() {\n        Intent mainintent  =  new Intent(PostActivity.this,MainActivity.class);\n        startActivity(mainintent);\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":4,"creation_date":1510711584,"post_id":47298042,"comment_id":81547983,"body_markdown":"The window decorations change based on the `resizable` property - this is a known side effect.  You could attempt to re `pack` the window.  Also, you can use `JFrame#setLocationRelativeTo` and pass it `null` and it will centre the window, generally better then using `Toolkit.getScreenSize`","body":"The window decorations change based on the <code>resizable</code> property - this is a known side effect.  You could attempt to re <code>pack</code> the window.  Also, you can use <code>JFrame#setLocationRelativeTo</code> and pass it <code>null</code> and it will centre the window, generally better then using <code>Toolkit.getScreenSize</code>"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1510711805,"post_id":47298042,"comment_id":81548026,"body_markdown":"Wow... a question with a real [mcve].  Congratulations on an excellent first question.","body":"Wow... a question with a real <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.  Congratulations on an excellent first question."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1510711887,"post_id":47298042,"comment_id":81548049,"body_markdown":"@MadProgrammer that should be an answer, no?","body":"@MadProgrammer that should be an answer, no?"},{"owner":{"account_id":12156461,"reputation":45,"user_id":8875305,"display_name":"mipatriot"},"score":0,"creation_date":1510712440,"post_id":47298042,"comment_id":81548164,"body_markdown":"repacking does not help. already tried.","body":"repacking does not help. already tried."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1510712768,"post_id":47298042,"comment_id":81548229,"body_markdown":"Since I&#39;m on Mac, I didn&#39;t get the issue, from experience, call `pack` AFTER calling `setResizable` should re-pack the window around the contents","body":"Since I&#39;m on Mac, I didn&#39;t get the issue, from experience, call <code>pack</code> AFTER calling <code>setResizable</code> should re-pack the window around the contents"},{"owner":{"account_id":12156461,"reputation":45,"user_id":8875305,"display_name":"mipatriot"},"score":0,"creation_date":1510714850,"post_id":47298042,"comment_id":81548725,"body_markdown":"yep, that&#39;s how I originally had it.... tried pack before and after (as a wtf check), but stripped.  After doesn&#39;t make sense, tho. The frame, once set to no-resize, will not change size as the result of a pack, even if inner panels are downsized.","body":"yep, that&#39;s how I originally had it.... tried pack before and after (as a wtf check), but stripped.  After doesn&#39;t make sense, tho. The frame, once set to no-resize, will not change size as the result of a pack, even if inner panels are downsized."}],"answers":[{"tags":[],"owner":{"display_name":"user3832429"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1517745804,"creation_date":1517745804,"answer_id":48607834,"question_id":47298042,"body_markdown":"If you set your JFrame on setResizable(false) when first creating it, the problem will not occur.\r\n\r\n        JFrame myFrame = new JFrame(appTitle);\r\n        myFrame.setResizable(false);","title":"JPanel resizes when parent frame is set to not resizable","body":"<p>If you set your JFrame on setResizable(false) when first creating it, the problem will not occur.</p>\n\n<pre><code>    JFrame myFrame = new JFrame(appTitle);\n    myFrame.setResizable(false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25644711,"reputation":11,"user_id":19412969,"display_name":"CODERZ"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677315826,"creation_date":1677315826,"answer_id":75564343,"question_id":47298042,"body_markdown":"I think the problem is coming where you are putting the `.pack()`. This command automatically sets all the children components to their preferable sizes. So you can either put the `.setResizable(false)` before the `.pack()` command or remove it. But remember, after removing it you have to manually resize all of the children components using alternatives like `.setBounds` or `.setSize()`  ","title":"JPanel resizes when parent frame is set to not resizable","body":"<p>I think the problem is coming where you are putting the <code>.pack()</code>. This command automatically sets all the children components to their preferable sizes. So you can either put the <code>.setResizable(false)</code> before the <code>.pack()</code> command or remove it. But remember, after removing it you have to manually resize all of the children components using alternatives like <code>.setBounds</code> or <code>.setSize()</code></p>\n"}],"owner":{"account_id":12156461,"reputation":45,"user_id":8875305,"display_name":"mipatriot"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1359,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":48607834,"answer_count":2,"score":4,"last_activity_date":1677315826,"creation_date":1510709840,"question_id":47298042,"body_markdown":"Have built a small test SWING app with three panels.  A main JPanel, that contains two smaller ones.  One on the left (board panel), the other on the right (side panel).  Both inner panels are set to a requested specific size by calling min,preferred, and max size methods.  A button in the right panel sets the parent JFrame to not re-sizable. Everything looks great until the parent frame is set to non-resizable, which causes(?!) a resize of the frame and main panel, which get larger.\r\n\r\nLooking for why the resize occurs, and what can be done to keep the main panel and frame sized to enclose just the two inner panels, and no more, once the frame is frozen.\r\n\r\nHave highlighted panel borders and added paint event logging to debug sizing issues. \r\n\r\nThanks for the help and insight! \r\n\r\nedit:\r\nAppears this issue is in JRE 8. In JRE 9 it goes away, but introduces a scaling problem.  The whole application gets scaled up on my 4k monitor, running Windows 10.\r\n\r\n\tpackage org.fubar;\r\n\t\r\n\timport javax.swing.BorderFactory;\r\n\timport javax.swing.BoxLayout;\r\n\timport javax.swing.JButton;\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.JLabel;\r\n\timport javax.swing.JPanel;\r\n\timport javax.swing.SwingUtilities;\r\n\t\r\n\timport java.awt.Color;\r\n\timport java.awt.Dimension;\r\n\timport java.awt.Graphics;\r\n\timport java.awt.Toolkit;\r\n\timport java.awt.Window;\r\n\timport java.awt.event.ActionEvent;\r\n\timport java.awt.event.ActionListener;\r\n\t\r\n\tpublic class PanelTest {\r\n\t\r\n\t\tprivate static final String appTitle\t= &quot;JPanel Test by Fubar.org(c)&quot;;\r\n\t\t\r\n\t\tpublic static JFrame myFrame\t\t\t\t\t= null;\r\n\t\tpublic static JPanel mainPanel\t\t\t\t\t= null;\r\n\t\tpublic static JPanel boardPanel\t\t\t\t\t= null;\r\n\t\tpublic static JPanel sidePanel\t\t\t\t\t= null;\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\r\n\t        SwingUtilities.invokeLater(new Runnable() {\r\n\t            public void run() {\r\n\t                createAndShowGUI();\r\n\t            }\r\n\t        });\r\n\t\t}\r\n\t\r\n\t\tprivate static void createAndShowGUI() {\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Create and show GUI&quot;);\r\n\t\t\t\r\n\t        JFrame myFrame = new JFrame(appTitle);\r\n\t        myFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t        mainPanel = new MainPanel();\r\n\t        myFrame.add(mainPanel);\r\n\t\r\n\t        myFrame.pack();\r\n\t        centreWindow(myFrame);\r\n\t        myFrame.setVisible(true);\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void centreWindow(Window frame) {\r\n\t\t    Dimension dimension = Toolkit.getDefaultToolkit().getScreenSize();\r\n\t\t    int x = (int) ((dimension.getWidth() - frame.getWidth()) / 2);\r\n\t\t    int y = (int) ((dimension.getHeight() - frame.getHeight()) / 2);\r\n\t\t    frame.setLocation(x, y);\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void barfSize(JPanel panel, String panelName) {\r\n\t\t\tDimension panelSize = panel.getSize();\r\n\t\t\tSystem.out.println(String.format(&quot;%s size:(%d,%d);&quot;,panelName,panelSize.width,panelSize.height));\r\n\t\t}\r\n\t\r\n\t}\r\n\t\r\n\tclass MainPanel extends JPanel {\r\n\t\t\r\n\t\tstatic final long serialVersionUID = 1;\r\n\t\r\n\t\tpublic MainPanel() {\r\n\t\r\n\t\t\tsetBorder(BorderFactory.createLineBorder(Color.green));\r\n\t\r\n\t        setLayout(new BoxLayout(this, BoxLayout.X_AXIS));\r\n\t        \r\n\t        PanelTest.boardPanel = new BoardPanel();\r\n\t        PanelTest.boardPanel.setAlignmentY(TOP_ALIGNMENT);\r\n\t        add(PanelTest.boardPanel);\r\n\t\r\n\t        PanelTest.sidePanel = new SidePanel();\r\n\t        PanelTest.sidePanel.setAlignmentY(TOP_ALIGNMENT);\r\n\t        add(PanelTest.sidePanel);\r\n\t        \r\n\t    }\r\n\t\t\r\n\t\tpublic void paintComponent(Graphics gooey) {\r\n\t\t\tsuper.paintComponent(gooey);\r\n\t\t\tPanelTest.barfSize(this, &quot;Main Panel&quot;);\r\n\t\t}\r\n\t\r\n\t}\r\n\t\r\n\tclass BoardPanel extends JPanel {\r\n\t\t\r\n\t\tstatic final long serialVersionUID = 1;\r\n\t\r\n\t\tpublic BoardPanel() {\r\n\t\r\n\t\t\tsetBorder(BorderFactory.createLineBorder(Color.red));\r\n\t\t\t\r\n\t\t\tDimension mySize = new Dimension(400,200);\r\n\t\t\tsetMinimumSize(mySize);\r\n\t\t\tsetPreferredSize(mySize);\r\n\t\t\tsetMaximumSize(mySize);\r\n\t\t\t\r\n\t\t\tJLabel lblText = new JLabel(&quot;Board Panel&quot;);\r\n\t\t\tadd(lblText);\r\n\t\r\n\t\t}\r\n\t\r\n\t\tpublic void paintComponent(Graphics gooey) {\r\n\t\t\tsuper.paintComponent(gooey);\r\n\t\t\tPanelTest.barfSize(this, &quot;Board Panel&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\tclass SidePanel extends JPanel implements ActionListener {\r\n\t\t\r\n\t\tstatic final long serialVersionUID = 1;\r\n\t\r\n\t\tpublic SidePanel() {\r\n\t\r\n\t\t\tsetBorder(BorderFactory.createLineBorder(Color.blue));\r\n\t\t\t\r\n\t\t\tDimension mySize = new Dimension(200,200);\r\n\t\t\tsetMinimumSize(mySize);\r\n\t\t\tsetPreferredSize(mySize);\r\n\t\t\tsetMaximumSize(mySize);\r\n\t\t\t\r\n\t\t\tJLabel lblText = new JLabel(&quot;Side Panel&quot;);\r\n\t\t\tadd(lblText);\r\n\t\t\t\r\n\t    \tJButton btnFreeze = new JButton(&quot;Freeze&quot;);\r\n\t    \tbtnFreeze.setActionCommand(&quot;Freeze&quot;);      \r\n\t    \tbtnFreeze.setToolTipText(&quot;Click me to freeze frame&quot;);\r\n\t    \tbtnFreeze.setBorderPainted(true);\r\n\t    \tbtnFreeze.setEnabled(true);\r\n\t    \tbtnFreeze.addActionListener(this);\r\n\t        add(btnFreeze);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tpublic void actionPerformed(ActionEvent action) {\r\n\t\t\tString command = action.getActionCommand();\r\n\t\t\tif ( command == &quot;Freeze&quot;) {\r\n\t\t\t\tfreezeFrame();\r\n\t\t\t\tSystem.out.println(&quot;Froze frame.&quot;);\r\n\t    \t}\r\n\t\t\tDimension panelSize = getSize();\r\n\t\t\tSystem.out.println(String.format(&quot;Side Panel size:(%d,%d);&quot;,panelSize.width,panelSize.height));\r\n\t\t}\r\n\t\t \r\n\t\tpublic void paintComponent(Graphics gooey) {\r\n\t\t\tsuper.paintComponent(gooey);\r\n\t\t\tPanelTest.barfSize(this, &quot;Side Panel&quot;);\r\n\t\t}\r\n\t\r\n\t\tpublic void freezeFrame() {\r\n\t\t\tJFrame topFrame = (JFrame) SwingUtilities.getWindowAncestor(this);\r\n\t\t\tDimension parentSize = this.getParent().getSize();\r\n\t\t\ttopFrame.setMaximumSize(parentSize);\r\n\t\t\ttopFrame.setResizable(false);\r\n\t    }\r\n\t    \r\n\t}\r\n\r\nScreen cap 1:&lt;br&gt;\r\n[App before frame resize disabled][1]\r\n\r\nScreen cap 2:&lt;br&gt;\r\n[App after frame resize disabled][2]\r\n\r\n  [1]: https://i.stack.imgur.com/fO5fC.png\r\n  [2]: https://i.stack.imgur.com/RQ815.jpg\r\n\r\nRun Log\r\n\r\n\tCreate and show GUI\r\n\tMain Panel size:(602,202);\r\n\tSide Panel size:(200,200);\r\n\tBoard Panel size:(400,200);\r\n\tMain Panel size:(602,202);\r\n\tSide Panel size:(200,200);\r\n\tBoard Panel size:(400,200);\r\n\tFroze frame.\r\n\tSide Panel size:(200,200);\r\n\tMain Panel size:(618,218);\r\n\tSide Panel size:(200,200);\r\n\tBoard Panel size:(400,200);\r\n\tMain Panel size:(618,218);\r\n\tSide Panel size:(200,200);\r\n\tBoard Panel size:(400,200);","title":"JPanel resizes when parent frame is set to not resizable","body":"<p>Have built a small test SWING app with three panels.  A main JPanel, that contains two smaller ones.  One on the left (board panel), the other on the right (side panel).  Both inner panels are set to a requested specific size by calling min,preferred, and max size methods.  A button in the right panel sets the parent JFrame to not re-sizable. Everything looks great until the parent frame is set to non-resizable, which causes(?!) a resize of the frame and main panel, which get larger.</p>\n\n<p>Looking for why the resize occurs, and what can be done to keep the main panel and frame sized to enclose just the two inner panels, and no more, once the frame is frozen.</p>\n\n<p>Have highlighted panel borders and added paint event logging to debug sizing issues. </p>\n\n<p>Thanks for the help and insight! </p>\n\n<p>edit:\nAppears this issue is in JRE 8. In JRE 9 it goes away, but introduces a scaling problem.  The whole application gets scaled up on my 4k monitor, running Windows 10.</p>\n\n<pre><code>package org.fubar;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.BoxLayout;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Toolkit;\nimport java.awt.Window;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class PanelTest {\n\n    private static final String appTitle    = \"JPanel Test by Fubar.org(c)\";\n\n    public static JFrame myFrame                    = null;\n    public static JPanel mainPanel                  = null;\n    public static JPanel boardPanel                 = null;\n    public static JPanel sidePanel                  = null;\n\n    public static void main(String[] args) {\n\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                createAndShowGUI();\n            }\n        });\n    }\n\n    private static void createAndShowGUI() {\n\n        System.out.println(\"Create and show GUI\");\n\n        JFrame myFrame = new JFrame(appTitle);\n        myFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        mainPanel = new MainPanel();\n        myFrame.add(mainPanel);\n\n        myFrame.pack();\n        centreWindow(myFrame);\n        myFrame.setVisible(true);\n    }\n\n    public static void centreWindow(Window frame) {\n        Dimension dimension = Toolkit.getDefaultToolkit().getScreenSize();\n        int x = (int) ((dimension.getWidth() - frame.getWidth()) / 2);\n        int y = (int) ((dimension.getHeight() - frame.getHeight()) / 2);\n        frame.setLocation(x, y);\n    }\n\n    public static void barfSize(JPanel panel, String panelName) {\n        Dimension panelSize = panel.getSize();\n        System.out.println(String.format(\"%s size:(%d,%d);\",panelName,panelSize.width,panelSize.height));\n    }\n\n}\n\nclass MainPanel extends JPanel {\n\n    static final long serialVersionUID = 1;\n\n    public MainPanel() {\n\n        setBorder(BorderFactory.createLineBorder(Color.green));\n\n        setLayout(new BoxLayout(this, BoxLayout.X_AXIS));\n\n        PanelTest.boardPanel = new BoardPanel();\n        PanelTest.boardPanel.setAlignmentY(TOP_ALIGNMENT);\n        add(PanelTest.boardPanel);\n\n        PanelTest.sidePanel = new SidePanel();\n        PanelTest.sidePanel.setAlignmentY(TOP_ALIGNMENT);\n        add(PanelTest.sidePanel);\n\n    }\n\n    public void paintComponent(Graphics gooey) {\n        super.paintComponent(gooey);\n        PanelTest.barfSize(this, \"Main Panel\");\n    }\n\n}\n\nclass BoardPanel extends JPanel {\n\n    static final long serialVersionUID = 1;\n\n    public BoardPanel() {\n\n        setBorder(BorderFactory.createLineBorder(Color.red));\n\n        Dimension mySize = new Dimension(400,200);\n        setMinimumSize(mySize);\n        setPreferredSize(mySize);\n        setMaximumSize(mySize);\n\n        JLabel lblText = new JLabel(\"Board Panel\");\n        add(lblText);\n\n    }\n\n    public void paintComponent(Graphics gooey) {\n        super.paintComponent(gooey);\n        PanelTest.barfSize(this, \"Board Panel\");\n    }\n}\n\nclass SidePanel extends JPanel implements ActionListener {\n\n    static final long serialVersionUID = 1;\n\n    public SidePanel() {\n\n        setBorder(BorderFactory.createLineBorder(Color.blue));\n\n        Dimension mySize = new Dimension(200,200);\n        setMinimumSize(mySize);\n        setPreferredSize(mySize);\n        setMaximumSize(mySize);\n\n        JLabel lblText = new JLabel(\"Side Panel\");\n        add(lblText);\n\n        JButton btnFreeze = new JButton(\"Freeze\");\n        btnFreeze.setActionCommand(\"Freeze\");      \n        btnFreeze.setToolTipText(\"Click me to freeze frame\");\n        btnFreeze.setBorderPainted(true);\n        btnFreeze.setEnabled(true);\n        btnFreeze.addActionListener(this);\n        add(btnFreeze);\n\n    }\n\n    public void actionPerformed(ActionEvent action) {\n        String command = action.getActionCommand();\n        if ( command == \"Freeze\") {\n            freezeFrame();\n            System.out.println(\"Froze frame.\");\n        }\n        Dimension panelSize = getSize();\n        System.out.println(String.format(\"Side Panel size:(%d,%d);\",panelSize.width,panelSize.height));\n    }\n\n    public void paintComponent(Graphics gooey) {\n        super.paintComponent(gooey);\n        PanelTest.barfSize(this, \"Side Panel\");\n    }\n\n    public void freezeFrame() {\n        JFrame topFrame = (JFrame) SwingUtilities.getWindowAncestor(this);\n        Dimension parentSize = this.getParent().getSize();\n        topFrame.setMaximumSize(parentSize);\n        topFrame.setResizable(false);\n    }\n\n}\n</code></pre>\n\n<p>Screen cap 1:<br>\n<a href=\"https://i.stack.imgur.com/fO5fC.png\" rel=\"nofollow noreferrer\">App before frame resize disabled</a></p>\n\n<p>Screen cap 2:<br>\n<a href=\"https://i.stack.imgur.com/RQ815.jpg\" rel=\"nofollow noreferrer\">App after frame resize disabled</a></p>\n\n<p>Run Log</p>\n\n<pre><code>Create and show GUI\nMain Panel size:(602,202);\nSide Panel size:(200,200);\nBoard Panel size:(400,200);\nMain Panel size:(602,202);\nSide Panel size:(200,200);\nBoard Panel size:(400,200);\nFroze frame.\nSide Panel size:(200,200);\nMain Panel size:(618,218);\nSide Panel size:(200,200);\nBoard Panel size:(400,200);\nMain Panel size:(618,218);\nSide Panel size:(200,200);\nBoard Panel size:(400,200);\n</code></pre>\n"},{"tags":["java","function","processing","draw"],"answers":[{"tags":[],"owner":{"account_id":17715726,"reputation":2190,"user_id":12862111,"display_name":"apodidae"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677315086,"creation_date":1677315086,"answer_id":75564284,"question_id":75562991,"body_markdown":"If you want to draw a new graph with the push of each button you would first of all need to remove the noLoop(); from setup().  The draw() loop is needed to change the different graphs.  To remove the previous graph you need to &#39;erase&#39; it by redrawing the background and all the controls.  Code such as the following should help you achieve the desired effect:\r\n```\r\nvoid loadLabelsAndButtons() {\r\n  background(20);\r\n  fill (200);\r\n  textAlign(CENTER);\r\n  textSize(24);\r\n  \r\n  //region labels\r\n  countryNames(&quot;Asia&quot;, 050, 550);\r\n  countryNames(&quot;E. Europe&quot;, 150, 550);\r\n  countryNames(&quot;N. Africa&quot;, 250, 550);\r\n  countryNames(&quot;LAmericaCarib&quot;, 350, 550);\r\n  countryNames(&quot;Oceania&quot;, 450, 550);\r\n  countryNames(&quot;Baltics&quot;, 550, 550);\r\n  countryNames(&quot;E. Asia&quot;, 650, 550);\r\n  countryNames(&quot;Sub sahara&quot;, 750, 550);\r\n  countryNames(&quot;W. Euope&quot;, 850, 550);\r\n\r\n  //buttons\r\n  textSize(14);\r\n  fill(245, 245, 245);\r\n\r\n  rect(750, 100, 150, 30, 18);\r\n  fill(0, 0, 0);\r\n  text(&quot;GDP Graph&quot;, 820, 120);\r\n\r\n  fill(245, 245, 245);\r\n  rect(750, 140, 150, 30, 18);\r\n  fill(0, 0, 0);\r\n  text(&quot;Health Graph&quot;, 820, 160);\r\n\r\n  fill(245, 245, 245);\r\n  rect(750, 180, 150, 30, 18);\r\n  fill(0, 0, 0);\r\n  text(&quot;Population Graph&quot;, 820, 200);\r\n}\r\n\r\nvoid setup() {\r\n  size(900, 600);\r\n  loadTable1();   //data of individual countries\r\n  loadLabelsAndButtons();\r\n}\r\n\r\nvoid draw() {\r\n}\r\n\r\n//buttons clicked activate other graphs\r\nvoid mousePressed() {\r\n  if (mouseX&gt;750 &amp;&amp; mouseX&lt;900 &amp;&amp; mouseY&gt;100 &amp;&amp;mouseY&lt;130) {\r\n    loadLabelsAndButtons();\r\n    title(&quot;GDP Graph&quot;, 450, 100);\r\n    drawIncomeGraph();\r\n  }\r\n\r\n  if (mouseX&gt;750 &amp;&amp; mouseX&lt;900 &amp;&amp; mouseY&gt;140 &amp;&amp;mouseY&lt;170) {\r\n    loadLabelsAndButtons();\r\n    title(&quot;Health Graph&quot;, 450, 100);\r\n    drawHealthGraph();\r\n  }\r\n\r\n  if (mouseX&gt;750 &amp;&amp; mouseX&lt;900 &amp;&amp; mouseY&gt;180 &amp;&amp;mouseY&lt;210) {\r\n    loadLabelsAndButtons();\r\n    title(&quot;Population Graph&quot;, 450, 100);\r\n    drawPopulationGraph();\r\n  }\r\n}\r\n\r\n\r\n```","title":"Calling Function when i click the button on processing","body":"<p>If you want to draw a new graph with the push of each button you would first of all need to remove the noLoop(); from setup().  The draw() loop is needed to change the different graphs.  To remove the previous graph you need to 'erase' it by redrawing the background and all the controls.  Code such as the following should help you achieve the desired effect:</p>\n<pre><code>void loadLabelsAndButtons() {\n  background(20);\n  fill (200);\n  textAlign(CENTER);\n  textSize(24);\n  \n  //region labels\n  countryNames(&quot;Asia&quot;, 050, 550);\n  countryNames(&quot;E. Europe&quot;, 150, 550);\n  countryNames(&quot;N. Africa&quot;, 250, 550);\n  countryNames(&quot;LAmericaCarib&quot;, 350, 550);\n  countryNames(&quot;Oceania&quot;, 450, 550);\n  countryNames(&quot;Baltics&quot;, 550, 550);\n  countryNames(&quot;E. Asia&quot;, 650, 550);\n  countryNames(&quot;Sub sahara&quot;, 750, 550);\n  countryNames(&quot;W. Euope&quot;, 850, 550);\n\n  //buttons\n  textSize(14);\n  fill(245, 245, 245);\n\n  rect(750, 100, 150, 30, 18);\n  fill(0, 0, 0);\n  text(&quot;GDP Graph&quot;, 820, 120);\n\n  fill(245, 245, 245);\n  rect(750, 140, 150, 30, 18);\n  fill(0, 0, 0);\n  text(&quot;Health Graph&quot;, 820, 160);\n\n  fill(245, 245, 245);\n  rect(750, 180, 150, 30, 18);\n  fill(0, 0, 0);\n  text(&quot;Population Graph&quot;, 820, 200);\n}\n\nvoid setup() {\n  size(900, 600);\n  loadTable1();   //data of individual countries\n  loadLabelsAndButtons();\n}\n\nvoid draw() {\n}\n\n//buttons clicked activate other graphs\nvoid mousePressed() {\n  if (mouseX&gt;750 &amp;&amp; mouseX&lt;900 &amp;&amp; mouseY&gt;100 &amp;&amp;mouseY&lt;130) {\n    loadLabelsAndButtons();\n    title(&quot;GDP Graph&quot;, 450, 100);\n    drawIncomeGraph();\n  }\n\n  if (mouseX&gt;750 &amp;&amp; mouseX&lt;900 &amp;&amp; mouseY&gt;140 &amp;&amp;mouseY&lt;170) {\n    loadLabelsAndButtons();\n    title(&quot;Health Graph&quot;, 450, 100);\n    drawHealthGraph();\n  }\n\n  if (mouseX&gt;750 &amp;&amp; mouseX&lt;900 &amp;&amp; mouseY&gt;180 &amp;&amp;mouseY&lt;210) {\n    loadLabelsAndButtons();\n    title(&quot;Population Graph&quot;, 450, 100);\n    drawPopulationGraph();\n  }\n}\n\n\n</code></pre>\n"}],"owner":{"account_id":27873970,"reputation":3,"user_id":21283843,"display_name":"Aaaa Aa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75564284,"answer_count":1,"score":0,"last_activity_date":1677315086,"creation_date":1677293150,"question_id":75562991,"body_markdown":"I so Im making this graphing application. Its with an application called processing. Im pretty sure it uses java but it might be slightly different then java. Anyways So when you open the application (i think you need to have processing downloaded and open it from the right folder).\r\n\r\nWhen you open it you see my graph with no data points and three buttons on each side. I have my buttons all linked to the functions and in the console they are showing they are working when I click them. But i just cant figure out how to display the graphs(the functions i made) with all the graph points and title etc when I click the button. Can anyone help thanks\r\n\r\n&gt; ``` So basically the three functions   drawIncomeGraph();\r\n&gt; drawHealthGraph(); rawPopulationGraph(); ```\r\n&gt; \r\n&gt; they all work and if I put them all in the draw function they all show\r\n&gt; up Its just I need to click it and then when I click the next one the\r\n&gt; first one should go away and the second one should come up \r\n&gt; \r\n&gt;     String name;\r\n&gt;     String title;\r\n&gt; \r\n&gt;     void setup()\r\n&gt;     {\r\n&gt;       size(900, 600);\r\n&gt;       loadTable1();   //data of individual countries\r\n&gt;       noLoop();\r\n&gt;       background(20);\r\n&gt;       fill (200);\r\n&gt;       textAlign(CENTER);\r\n&gt;       textSize(24);\r\n&gt;     \r\n&gt;     //region labels\r\n&gt;       countryNames(&quot;Asia&quot;, 050, 550);\r\n&gt;       countryNames(&quot;E. Europe&quot;, 150, 550);\r\n&gt;       countryNames(&quot;N. Africa&quot;, 250, 550);\r\n&gt;       countryNames(&quot;LAmericaCarib&quot;, 350, 550);\r\n&gt;       countryNames(&quot;Oceania&quot;, 450, 550);\r\n&gt;       countryNames(&quot;Baltics&quot;, 550, 550);\r\n&gt;       countryNames(&quot;E. Asia&quot;, 650, 550);\r\n&gt;       countryNames(&quot;Sub sahara&quot;, 750, 550);\r\n&gt;       countryNames(&quot;W. Euope&quot;, 850, 550);\r\n&gt;     \r\n&gt;     \r\n&gt;     //buttons\r\n&gt;       textSize(14);\r\n&gt;       fill(245, 245, 245);\r\n&gt;     \r\n&gt;       rect(750, 100, 150, 30, 18);\r\n&gt;       fill(0, 0, 0);\r\n&gt;       text(&quot;GDP Graph&quot;, 820, 120);\r\n&gt;       \r\n&gt;     \r\n&gt;       fill(245, 245, 245);\r\n&gt;       rect(750, 140, 150, 30, 18);\r\n&gt;       fill(0, 0, 0);\r\n&gt;       text(&quot;Health Graph&quot;, 820, 160);\r\n&gt;     \r\n&gt;       fill(245, 245, 245);\r\n&gt;       rect(750, 180, 150, 30, 18);\r\n&gt;       fill(0, 0, 0);\r\n&gt;       text(&quot;Population Graph&quot;, 820, 200);\r\n&gt;     }\r\n&gt;     \r\n&gt;     void draw()\r\n&gt;     {\r\n&gt;     \r\n&gt;     \r\n&gt;           \r\n&gt;     \r\n&gt;     }\r\n&gt;     \r\n&gt;     //butttons clicked activate otger graphs\r\n&gt;     void mousePressed() {\r\n&gt;       if (mouseX&gt;750 &amp;&amp; mouseX&lt;900 &amp;&amp; mouseY&gt;100 &amp;&amp;mouseY&lt;130) {\r\n&gt;         title(&quot;GDP Graph&quot;, 450, 100);\r\n&gt;         drawIncomeGraph();\r\n&gt;       }\r\n&gt;     \r\n&gt;       if (mouseX&gt;750 &amp;&amp; mouseX&lt;900 &amp;&amp; mouseY&gt;140 &amp;&amp;mouseY&lt;170) {\r\n&gt;         fill (255);\r\n&gt;         title(&quot;Health Graph&quot;, 450, 100);\r\n&gt;         drawHealthGraph();\r\n&gt;       }\r\n&gt;       if (mouseX&gt;750 &amp;&amp; mouseX&lt;900 &amp;&amp; mouseY&gt;180 &amp;&amp;mouseY&lt;210) {\r\n&gt;         background (255);\r\n&gt;         textSize(14);\r\n&gt;     \r\n&gt;         title(&quot;Population Graph&quot;, 450, 100);\r\n&gt;         drawPopulationGraph();\r\n&gt;       }\r\n&gt;     }\r\n\r\n\r\n    Table table1;\r\n    String[] c;\r\n    String[] r;\r\n    float[] income;\r\n    float[] health;\r\n    float[] population;\r\n    int N;\r\n    \r\n    //parse data\r\n    void loadTable1()\r\n    {\r\n      table1 = loadTable(&quot;health-income.csv&quot;, &quot;header&quot;);\r\n    \r\n      N = table1.getRowCount();\r\n      c = new String[N];\r\n      r = new String[N];\r\n      income = new float[N];\r\n      health = new float[N];\r\n      population = new float[N];\r\n    \r\n      N = table1.getRowCount();\r\n      for (int i=0; i&lt;N; i++)\r\n      {\r\n        TableRow row = table1.getRow(i);\r\n        c[i] = row.getString(&quot;country&quot;);\r\n        r[i] = row.getString(&quot;region&quot;);\r\n        income[i] = row.getFloat(&quot;income&quot;);\r\n        health[i] = row.getFloat(&quot;health&quot;);\r\n        population[i] = row.getFloat(&quot;population&quot;);\r\n      }\r\n    }\r\n    \r\n    \r\n    float newIncome;\r\n    float averageIncome;\r\n    float g;\r\n    \r\n    //calculates income graph\r\n    void incomeSorter(String region) {\r\n      for (int i=0; i&lt;N; i++) {\r\n        if (r[i].equals(region)) {\r\n          newIncome = (income[i] + newIncome);\r\n          g++;\r\n        }\r\n        averageIncome=(newIncome/3500);\r\n      }\r\n      println(averageIncome);\r\n    }\r\n    \r\n    //draws income graph\r\n    void drawIncomeGraph() {\r\n      textAlign(CENTER);\r\n    \r\n      fill(255, 255, 255);\r\n      title(&quot;GDP Graph&quot;, 450, 100);\r\n    \r\n    \r\n      incomeSorter(&quot;ASIA (EX. NEAR EAST)         &quot;);\r\n      drawDots(50, 600-averageIncome, 15, 15);\r\n    \r\n    \r\n      incomeSorter(&quot;EASTERN EUROPE                     &quot;);\r\n      drawDots(150, 600-averageIncome, 15, 15);\r\n    \r\n    \r\n      incomeSorter(&quot;NORTHERN AFRICA                    &quot;);\r\n      drawDots(250, 600-averageIncome, 15, 15);\r\n    \r\n    \r\n      incomeSorter(&quot;LATIN AMER. &amp; CARIB    &quot;);\r\n      drawDots(350, 600-averageIncome, 15, 15);\r\n    \r\n    \r\n      incomeSorter(&quot;OCEANIA                            &quot;);\r\n      drawDots(450, 600-averageIncome, 15, 15);\r\n    \r\n    \r\n      incomeSorter(&quot;BALTICS                            &quot;);\r\n      drawDots(550, 600-averageIncome, 15, 15);\r\n    \r\n    \r\n      incomeSorter(&quot;NEAR EAST                          &quot;);\r\n      drawDots(650, 600-averageIncome, 15, 15);\r\n    \r\n    \r\n      incomeSorter(&quot;SUB-SAHARAN AFRICA                 &quot;);\r\n      drawDots(750, 650-averageIncome, 15, 15);\r\n    \r\n    \r\n      incomeSorter(&quot;WESTERN EUROPE                     &quot;);\r\n      textSize(14);\r\n    \r\n      fill(143, 182, 171);\r\n      rect(750, 100, 150, 30, 18);\r\n      fill(0, 0, 0);\r\n      text(&quot;GDP Graph&quot;, 820, 120);\r\n    }\r\n    \r\n    //calculaties health graph\r\n    ///health graphing sorter data\r\n    float newHealth;\r\n    float averageHealth;\r\n    float h;\r\n    \r\n    void healthSorter(String region) {\r\n      for (int i=0; i&lt;N; i++) {\r\n        if (r[i].equals(region)) {\r\n          newHealth = (health[i] + newHealth);\r\n          h++;\r\n        }\r\n        averageHealth=(newHealth/h*5);\r\n      }\r\n      println(&quot;hi&quot; + averageHealth);\r\n    }\r\n    \r\n    //draws population graph\r\n    void drawHealthGraph() {\r\n      \r\n      textAlign(CENTER);\r\n    \r\n      fill(204, 204, 204);\r\n      title(&quot;Health Graph&quot;, 450, 100);\r\n    \r\n      healthSorter(&quot;ASIA (EX. NEAR EAST)         &quot;);\r\n      drawDots(50, averageHealth, 15, 15);\r\n    \r\n      healthSorter(&quot;EASTERN EUROPE                     &quot;);\r\n      drawDots(150, averageHealth, 15, 15);\r\n    \r\n    \r\n      healthSorter(&quot;NORTHERN AFRICA                    &quot;);\r\n      drawDots(250, averageHealth, 15, 15);\r\n    \r\n    \r\n      healthSorter(&quot;LATIN AMER. &amp; CARIB    &quot;);\r\n      drawDots(350, averageHealth, 15, 15);\r\n    \r\n    \r\n      healthSorter(&quot;OCEANIA                            &quot;);\r\n      drawDots(450, averageHealth, 15, 15);\r\n    \r\n    \r\n      healthSorter(&quot;BALTICS                            &quot;);\r\n      drawDots(550, averageHealth, 15, 15);\r\n    \r\n    \r\n      healthSorter(&quot;NEAR EAST                          &quot;);\r\n      drawDots(650, averageHealth, 15, 15);\r\n    \r\n    \r\n      healthSorter(&quot;SUB-SAHARAN AFRICA                 &quot;);\r\n      drawDots(750, averageHealth, 15, 15);\r\n    \r\n    \r\n      healthSorter(&quot;WESTERN EUROPE                     &quot;);\r\n      drawDots(850, averageHealth, 15, 15);\r\n      textSize(14);\r\n      fill(143, 182, 171);\r\n      rect(750, 140, 150, 30, 18);\r\n      fill(0, 0, 0);\r\n      text(&quot;Health Graph&quot;, 820, 160);\r\n    }\r\n    \r\n    float newPopulation;\r\n    float averagePopulation;\r\n    float f;\r\n    \r\n    //calculates population graph\r\n    void populationSorter(String region) {\r\n      for (int i=0; i&lt;N; i++) {\r\n        if (r[i].equals(region)) {\r\n          newPopulation = (population[i] + newPopulation);\r\n          f++;\r\n        }\r\n        averagePopulation = (newPopulation/f/165000);\r\n      }\r\n      println(&quot;hey&quot; + averagePopulation);\r\n    }\r\n    //draws population graph\r\n    void drawPopulationGraph() {\r\n      textAlign(CENTER);\r\n    \r\n      title(&quot;Population Graph&quot;, 450, 100);\r\n    \r\n      populationSorter(&quot;ASIA (EX. NEAR EAST)         &quot;);\r\n      drawDots(50, averagePopulation-1000, 15, 15);\r\n    \r\n    \r\n      populationSorter(&quot;EASTERN EUROPE                     &quot;);\r\n      drawDots(150, 800-averagePopulation, 15, 15);\r\n    \r\n    \r\n      populationSorter(&quot;NORTHERN AFRICA                    &quot;);\r\n      drawDots(250, 800-averagePopulation, 15, 15);\r\n    \r\n    \r\n      populationSorter(&quot;LATIN AMER. &amp; CARIB    &quot;);\r\n      drawDots(350, 650-averagePopulation, 15, 15);\r\n    \r\n    \r\n      populationSorter(&quot;OCEANIA                            &quot;);\r\n      drawDots(450, 650-averagePopulation, 15, 15);\r\n    \r\n    \r\n      populationSorter(&quot;BALTICS                            &quot;);\r\n      drawDots(550, 750-averagePopulation, 15, 15);\r\n    \r\n    \r\n      populationSorter(&quot;NEAR EAST                          &quot;);\r\n      drawDots(650, 750-averagePopulation, 15, 15);\r\n    \r\n    \r\n      populationSorter(&quot;SUB-SAHARAN AFRICA                 &quot;);\r\n      drawDots(750, 750-averagePopulation, 15, 15);\r\n    \r\n    \r\n      populationSorter(&quot;WESTERN EUROPE                     &quot;);\r\n      drawDots(850, 750-averagePopulation, 15, 15);\r\n    \r\n      fill(143, 182, 171);\r\n      rect(750, 180, 150, 30, 18);\r\n      fill(0, 0, 0);\r\n      textSize(14);\r\n    \r\n      text(&quot;Population Graph&quot;, 820, 200);\r\n    }\r\n    \r\n    //Function for the name headings\r\n    int w;\r\n    int v;\r\n    void countryNames(String name, int w, int v) {\r\n      textSize(14);\r\n      text(name, w, v);\r\n    }\r\n    int startX;\r\n    int whatData;\r\n    int sizeCircle;\r\n    int sizeCircle2;\r\n    \r\n    void drawDots (int startX, float whatData, int sizeCircle, int sizeCircle2) {\r\n      fill(204, 204, 204);\r\n      ellipse(startX, whatData, sizeCircle, sizeCircle2);\r\n    }\r\n    \r\n    \r\n    void title(String title, int r, int q) {\r\n      textSize(24);\r\n      text(title, r, q);\r\n    }\r\n\r\n\r\n","title":"Calling Function when i click the button on processing","body":"<p>I so Im making this graphing application. Its with an application called processing. Im pretty sure it uses java but it might be slightly different then java. Anyways So when you open the application (i think you need to have processing downloaded and open it from the right folder).</p>\n<p>When you open it you see my graph with no data points and three buttons on each side. I have my buttons all linked to the functions and in the console they are showing they are working when I click them. But i just cant figure out how to display the graphs(the functions i made) with all the graph points and title etc when I click the button. Can anyone help thanks</p>\n<blockquote>\n<pre><code>drawHealthGraph(); rawPopulationGraph(); ```\n\nthey all work and if I put them all in the draw function they all show\nup Its just I need to click it and then when I click the next one the\nfirst one should go away and the second one should come up \n\n    String name;\n    String title;\n\n    void setup()\n    {\n      size(900, 600);\n      loadTable1();   //data of individual countries\n      noLoop();\n      background(20);\n      fill (200);\n      textAlign(CENTER);\n      textSize(24);\n    \n    //region labels\n      countryNames(&quot;Asia&quot;, 050, 550);\n      countryNames(&quot;E. Europe&quot;, 150, 550);\n      countryNames(&quot;N. Africa&quot;, 250, 550);\n      countryNames(&quot;LAmericaCarib&quot;, 350, 550);\n      countryNames(&quot;Oceania&quot;, 450, 550);\n      countryNames(&quot;Baltics&quot;, 550, 550);\n      countryNames(&quot;E. Asia&quot;, 650, 550);\n      countryNames(&quot;Sub sahara&quot;, 750, 550);\n      countryNames(&quot;W. Euope&quot;, 850, 550);\n    \n    \n    //buttons\n      textSize(14);\n      fill(245, 245, 245);\n    \n      rect(750, 100, 150, 30, 18);\n      fill(0, 0, 0);\n      text(&quot;GDP Graph&quot;, 820, 120);\n      \n    \n      fill(245, 245, 245);\n      rect(750, 140, 150, 30, 18);\n      fill(0, 0, 0);\n      text(&quot;Health Graph&quot;, 820, 160);\n    \n      fill(245, 245, 245);\n      rect(750, 180, 150, 30, 18);\n      fill(0, 0, 0);\n      text(&quot;Population Graph&quot;, 820, 200);\n    }\n    \n    void draw()\n    {\n    \n    \n          \n    \n    }\n    \n    //butttons clicked activate otger graphs\n    void mousePressed() {\n      if (mouseX&gt;750 &amp;&amp; mouseX&lt;900 &amp;&amp; mouseY&gt;100 &amp;&amp;mouseY&lt;130) {\n        title(&quot;GDP Graph&quot;, 450, 100);\n        drawIncomeGraph();\n      }\n    \n      if (mouseX&gt;750 &amp;&amp; mouseX&lt;900 &amp;&amp; mouseY&gt;140 &amp;&amp;mouseY&lt;170) {\n        fill (255);\n        title(&quot;Health Graph&quot;, 450, 100);\n        drawHealthGraph();\n      }\n      if (mouseX&gt;750 &amp;&amp; mouseX&lt;900 &amp;&amp; mouseY&gt;180 &amp;&amp;mouseY&lt;210) {\n        background (255);\n        textSize(14);\n    \n        title(&quot;Population Graph&quot;, 450, 100);\n        drawPopulationGraph();\n      }\n    }\n</code></pre>\n</blockquote>\n<pre><code>Table table1;\nString[] c;\nString[] r;\nfloat[] income;\nfloat[] health;\nfloat[] population;\nint N;\n\n//parse data\nvoid loadTable1()\n{\n  table1 = loadTable(&quot;health-income.csv&quot;, &quot;header&quot;);\n\n  N = table1.getRowCount();\n  c = new String[N];\n  r = new String[N];\n  income = new float[N];\n  health = new float[N];\n  population = new float[N];\n\n  N = table1.getRowCount();\n  for (int i=0; i&lt;N; i++)\n  {\n    TableRow row = table1.getRow(i);\n    c[i] = row.getString(&quot;country&quot;);\n    r[i] = row.getString(&quot;region&quot;);\n    income[i] = row.getFloat(&quot;income&quot;);\n    health[i] = row.getFloat(&quot;health&quot;);\n    population[i] = row.getFloat(&quot;population&quot;);\n  }\n}\n\n\nfloat newIncome;\nfloat averageIncome;\nfloat g;\n\n//calculates income graph\nvoid incomeSorter(String region) {\n  for (int i=0; i&lt;N; i++) {\n    if (r[i].equals(region)) {\n      newIncome = (income[i] + newIncome);\n      g++;\n    }\n    averageIncome=(newIncome/3500);\n  }\n  println(averageIncome);\n}\n\n//draws income graph\nvoid drawIncomeGraph() {\n  textAlign(CENTER);\n\n  fill(255, 255, 255);\n  title(&quot;GDP Graph&quot;, 450, 100);\n\n\n  incomeSorter(&quot;ASIA (EX. NEAR EAST)         &quot;);\n  drawDots(50, 600-averageIncome, 15, 15);\n\n\n  incomeSorter(&quot;EASTERN EUROPE                     &quot;);\n  drawDots(150, 600-averageIncome, 15, 15);\n\n\n  incomeSorter(&quot;NORTHERN AFRICA                    &quot;);\n  drawDots(250, 600-averageIncome, 15, 15);\n\n\n  incomeSorter(&quot;LATIN AMER. &amp; CARIB    &quot;);\n  drawDots(350, 600-averageIncome, 15, 15);\n\n\n  incomeSorter(&quot;OCEANIA                            &quot;);\n  drawDots(450, 600-averageIncome, 15, 15);\n\n\n  incomeSorter(&quot;BALTICS                            &quot;);\n  drawDots(550, 600-averageIncome, 15, 15);\n\n\n  incomeSorter(&quot;NEAR EAST                          &quot;);\n  drawDots(650, 600-averageIncome, 15, 15);\n\n\n  incomeSorter(&quot;SUB-SAHARAN AFRICA                 &quot;);\n  drawDots(750, 650-averageIncome, 15, 15);\n\n\n  incomeSorter(&quot;WESTERN EUROPE                     &quot;);\n  textSize(14);\n\n  fill(143, 182, 171);\n  rect(750, 100, 150, 30, 18);\n  fill(0, 0, 0);\n  text(&quot;GDP Graph&quot;, 820, 120);\n}\n\n//calculaties health graph\n///health graphing sorter data\nfloat newHealth;\nfloat averageHealth;\nfloat h;\n\nvoid healthSorter(String region) {\n  for (int i=0; i&lt;N; i++) {\n    if (r[i].equals(region)) {\n      newHealth = (health[i] + newHealth);\n      h++;\n    }\n    averageHealth=(newHealth/h*5);\n  }\n  println(&quot;hi&quot; + averageHealth);\n}\n\n//draws population graph\nvoid drawHealthGraph() {\n  \n  textAlign(CENTER);\n\n  fill(204, 204, 204);\n  title(&quot;Health Graph&quot;, 450, 100);\n\n  healthSorter(&quot;ASIA (EX. NEAR EAST)         &quot;);\n  drawDots(50, averageHealth, 15, 15);\n\n  healthSorter(&quot;EASTERN EUROPE                     &quot;);\n  drawDots(150, averageHealth, 15, 15);\n\n\n  healthSorter(&quot;NORTHERN AFRICA                    &quot;);\n  drawDots(250, averageHealth, 15, 15);\n\n\n  healthSorter(&quot;LATIN AMER. &amp; CARIB    &quot;);\n  drawDots(350, averageHealth, 15, 15);\n\n\n  healthSorter(&quot;OCEANIA                            &quot;);\n  drawDots(450, averageHealth, 15, 15);\n\n\n  healthSorter(&quot;BALTICS                            &quot;);\n  drawDots(550, averageHealth, 15, 15);\n\n\n  healthSorter(&quot;NEAR EAST                          &quot;);\n  drawDots(650, averageHealth, 15, 15);\n\n\n  healthSorter(&quot;SUB-SAHARAN AFRICA                 &quot;);\n  drawDots(750, averageHealth, 15, 15);\n\n\n  healthSorter(&quot;WESTERN EUROPE                     &quot;);\n  drawDots(850, averageHealth, 15, 15);\n  textSize(14);\n  fill(143, 182, 171);\n  rect(750, 140, 150, 30, 18);\n  fill(0, 0, 0);\n  text(&quot;Health Graph&quot;, 820, 160);\n}\n\nfloat newPopulation;\nfloat averagePopulation;\nfloat f;\n\n//calculates population graph\nvoid populationSorter(String region) {\n  for (int i=0; i&lt;N; i++) {\n    if (r[i].equals(region)) {\n      newPopulation = (population[i] + newPopulation);\n      f++;\n    }\n    averagePopulation = (newPopulation/f/165000);\n  }\n  println(&quot;hey&quot; + averagePopulation);\n}\n//draws population graph\nvoid drawPopulationGraph() {\n  textAlign(CENTER);\n\n  title(&quot;Population Graph&quot;, 450, 100);\n\n  populationSorter(&quot;ASIA (EX. NEAR EAST)         &quot;);\n  drawDots(50, averagePopulation-1000, 15, 15);\n\n\n  populationSorter(&quot;EASTERN EUROPE                     &quot;);\n  drawDots(150, 800-averagePopulation, 15, 15);\n\n\n  populationSorter(&quot;NORTHERN AFRICA                    &quot;);\n  drawDots(250, 800-averagePopulation, 15, 15);\n\n\n  populationSorter(&quot;LATIN AMER. &amp; CARIB    &quot;);\n  drawDots(350, 650-averagePopulation, 15, 15);\n\n\n  populationSorter(&quot;OCEANIA                            &quot;);\n  drawDots(450, 650-averagePopulation, 15, 15);\n\n\n  populationSorter(&quot;BALTICS                            &quot;);\n  drawDots(550, 750-averagePopulation, 15, 15);\n\n\n  populationSorter(&quot;NEAR EAST                          &quot;);\n  drawDots(650, 750-averagePopulation, 15, 15);\n\n\n  populationSorter(&quot;SUB-SAHARAN AFRICA                 &quot;);\n  drawDots(750, 750-averagePopulation, 15, 15);\n\n\n  populationSorter(&quot;WESTERN EUROPE                     &quot;);\n  drawDots(850, 750-averagePopulation, 15, 15);\n\n  fill(143, 182, 171);\n  rect(750, 180, 150, 30, 18);\n  fill(0, 0, 0);\n  textSize(14);\n\n  text(&quot;Population Graph&quot;, 820, 200);\n}\n\n//Function for the name headings\nint w;\nint v;\nvoid countryNames(String name, int w, int v) {\n  textSize(14);\n  text(name, w, v);\n}\nint startX;\nint whatData;\nint sizeCircle;\nint sizeCircle2;\n\nvoid drawDots (int startX, float whatData, int sizeCircle, int sizeCircle2) {\n  fill(204, 204, 204);\n  ellipse(startX, whatData, sizeCircle, sizeCircle2);\n}\n\n\nvoid title(String title, int r, int q) {\n  textSize(24);\n  text(title, r, q);\n}\n</code></pre>\n"},{"tags":["java","json","data-structures","parent-child"],"owner":{"account_id":22125310,"reputation":43,"user_id":16377789,"display_name":"micro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677313597,"creation_date":1677306952,"question_id":75563713,"body_markdown":"I have a flat [JSON Structure][1] like this, I Want a hierarchical JSON Structure like,\r\n\r\n    {\r\n      &quot;root&quot;:{\r\n        &quot;name&quot;: &quot;world&quot;,\r\n        &quot;children&quot;:[\r\n          {\r\n            &quot;name&quot;: &quot;Asia&quot;,\r\n            &quot;children&quot;:[\r\n              {\r\n                &quot;name&quot;: &quot;India&quot;,\r\n                &quot;children&quot;:[\r\n                  {\r\n                    &quot;name&quot;: &quot;WB&quot;,\r\n                    &quot;...//multiple nested children can be present&quot;\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                &quot;name&quot;: &quot;Pakistan&quot;,\r\n                &quot;children&quot;:[\r\n                  &quot;...//multiple nested children can be present&quot;\r\n                ]\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            &quot;name&quot;: &quot;Europe&quot;,\r\n            &quot;children&quot;:[\r\n              {\r\n                &quot;name&quot;: &quot;Italy&quot;,\r\n                &quot;children&quot;:[\r\n                  {\r\n                    &quot;name&quot;:&quot;...\r\n    \t\t\t\t\t\t\t\t...//multiple nested children can be present&quot;\r\n                  }\r\n                ]\r\n              },\r\n              &quot;...//multiple nested children can be present&quot;\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    }\r\n\r\nLike the above structure, there is a scenario where the Root element has no parent ID In the flat JSON structure, and multiple nested children can be present inside every parent.\r\n\r\nI have written a code but it doesn&#39;t seem to have the exact logic and I can&#39;t find the logic, here is the code,\r\n\r\n    package jsonflattener;\r\n    \r\n    import org.apache.activemq.artemis.utils.json.JSONArray;\r\n    import org.apache.activemq.artemis.utils.json.JSONException;\r\n    \r\n        import org.apache.activemq.artemis.utils.json.JSONObject;\r\n        \r\n        import java.util.HashMap;\r\n        import java.util.Iterator;\r\n        import java.util.Map;\r\n        import java.util.Set;\r\n        \r\n        public class JSONMapTest {\r\n            public static void main(String[] args) throws JSONException {\r\n                JSONArray rootJsonArray = makeJSON();\r\n                Map&lt;String, JSONObject&gt; idNameMap = new HashMap&lt;&gt;();\r\n                Map&lt;String, Object&gt; idNameMap2 = new HashMap&lt;&gt;();\r\n                JSONObject idNameMap3 = new JSONObject();\r\n                for (int i = 0; i &lt; rootJsonArray.length(); i++) {\r\n                    JSONObject data = (JSONObject) rootJsonArray.get(i);\r\n        \r\n                    idNameMap.put(data.getString(&quot;id&quot;), data);\r\n        \r\n                    Set&lt;String&gt; idSet = idNameMap.keySet();\r\n                    for (String id : idSet) {\r\n                        JSONObject value = idNameMap.get(id);\r\n                        for (Iterator keys = value.keys(); keys.hasNext(); ) {\r\n                            String key = (String) keys.next();\r\n                            Object pid = value.get(&quot;pid&quot;);\r\n                            if (pid.equals(&quot;&quot;)) {\r\n                                idNameMap2.put(&quot;root&quot;, value.get(&quot;name&quot;));\r\n                            } else if (pid.toString().equals(value.getString(id))) {\r\n        \t\t\t\t\t\t//Insert in this point\r\n                                System.out.println(pid + &quot;:&quot; + key);\r\n                            }\r\n                        }\r\n        \r\n                        Object pid = value.get(&quot;pid&quot;);\r\n        \r\n        \r\n                    }\r\n        \r\n                }\r\n                System.out.println(idNameMap2);\r\n            }\r\n        }\r\n\r\nIn the code, I have taken one id-Name Map and by iterating each parent ID of the map with the key of the id-Name map I can get the JSON Structure. But I am not able to do that because I don&#39;t understand where to insert the values exactly.\r\n \r\nPlease guide me on how I can get the required hierarchical structure using/without using recursion.\r\n\r\n  [1]: https://www.dropbox.com/s/a60hkyji0dtql3k/parent-child.json?dl=0","title":"Convert flat JSON to Parent-Child Hierarchical Structure based on Parent_ID in Java","body":"<p>I have a flat <a href=\"https://www.dropbox.com/s/a60hkyji0dtql3k/parent-child.json?dl=0\" rel=\"nofollow noreferrer\">JSON Structure</a> like this, I Want a hierarchical JSON Structure like,</p>\n<pre><code>{\n  &quot;root&quot;:{\n    &quot;name&quot;: &quot;world&quot;,\n    &quot;children&quot;:[\n      {\n        &quot;name&quot;: &quot;Asia&quot;,\n        &quot;children&quot;:[\n          {\n            &quot;name&quot;: &quot;India&quot;,\n            &quot;children&quot;:[\n              {\n                &quot;name&quot;: &quot;WB&quot;,\n                &quot;...//multiple nested children can be present&quot;\n              }\n            ]\n          },\n          {\n            &quot;name&quot;: &quot;Pakistan&quot;,\n            &quot;children&quot;:[\n              &quot;...//multiple nested children can be present&quot;\n            ]\n          }\n        ]\n      },\n      {\n        &quot;name&quot;: &quot;Europe&quot;,\n        &quot;children&quot;:[\n          {\n            &quot;name&quot;: &quot;Italy&quot;,\n            &quot;children&quot;:[\n              {\n                &quot;name&quot;:&quot;...\n                                ...//multiple nested children can be present&quot;\n              }\n            ]\n          },\n          &quot;...//multiple nested children can be present&quot;\n        ]\n      }\n    ]\n  }\n}\n</code></pre>\n<p>Like the above structure, there is a scenario where the Root element has no parent ID In the flat JSON structure, and multiple nested children can be present inside every parent.</p>\n<p>I have written a code but it doesn't seem to have the exact logic and I can't find the logic, here is the code,</p>\n<pre><code>package jsonflattener;\n\nimport org.apache.activemq.artemis.utils.json.JSONArray;\nimport org.apache.activemq.artemis.utils.json.JSONException;\n\n    import org.apache.activemq.artemis.utils.json.JSONObject;\n    \n    import java.util.HashMap;\n    import java.util.Iterator;\n    import java.util.Map;\n    import java.util.Set;\n    \n    public class JSONMapTest {\n        public static void main(String[] args) throws JSONException {\n            JSONArray rootJsonArray = makeJSON();\n            Map&lt;String, JSONObject&gt; idNameMap = new HashMap&lt;&gt;();\n            Map&lt;String, Object&gt; idNameMap2 = new HashMap&lt;&gt;();\n            JSONObject idNameMap3 = new JSONObject();\n            for (int i = 0; i &lt; rootJsonArray.length(); i++) {\n                JSONObject data = (JSONObject) rootJsonArray.get(i);\n    \n                idNameMap.put(data.getString(&quot;id&quot;), data);\n    \n                Set&lt;String&gt; idSet = idNameMap.keySet();\n                for (String id : idSet) {\n                    JSONObject value = idNameMap.get(id);\n                    for (Iterator keys = value.keys(); keys.hasNext(); ) {\n                        String key = (String) keys.next();\n                        Object pid = value.get(&quot;pid&quot;);\n                        if (pid.equals(&quot;&quot;)) {\n                            idNameMap2.put(&quot;root&quot;, value.get(&quot;name&quot;));\n                        } else if (pid.toString().equals(value.getString(id))) {\n                            //Insert in this point\n                            System.out.println(pid + &quot;:&quot; + key);\n                        }\n                    }\n    \n                    Object pid = value.get(&quot;pid&quot;);\n    \n    \n                }\n    \n            }\n            System.out.println(idNameMap2);\n        }\n    }\n</code></pre>\n<p>In the code, I have taken one id-Name Map and by iterating each parent ID of the map with the key of the id-Name map I can get the JSON Structure. But I am not able to do that because I don't understand where to insert the values exactly.</p>\n<p>Please guide me on how I can get the required hierarchical structure using/without using recursion.</p>\n"},{"tags":["java","quarkus","mutiny"],"comments":[{"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"score":0,"creation_date":1674033678,"post_id":75151436,"comment_id":132626364,"body_markdown":"Try with `AssertSubscriber&lt;User&gt; subscriber` . Also, you should use `awaitFailure()` before `assertFailedWith` (if the failure is emitted asynchronously).","body":"Try with <code>AssertSubscriber&lt;User&gt; subscriber</code> . Also, you should use <code>awaitFailure()</code> before <code>assertFailedWith</code> (if the failure is emitted asynchronously)."}],"answers":[{"tags":[],"owner":{"account_id":15486800,"reputation":2157,"user_id":12044155,"display_name":"Allan Juan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674042563,"creation_date":1674042563,"answer_id":75158807,"question_id":75151436,"body_markdown":"Removing the `AssertSubscriber` assignment fixed the type error, and now the test is working as expected.\r\n\r\n```java\r\n        @Test\r\n        public void shouldThrowAnErrorWhenUserIsNotFound() {\r\n            Mockito.when(userRepository.findById(Mockito.any())).thenReturn(Uni.createFrom().nullItem());\r\n\r\n            service.searchUser(new ObjectId())\r\n                    .subscribe()\r\n                    .withSubscriber(UniAssertSubscriber.create())\r\n                    .assertFailedWith(BusinessException.class, &quot;Could not find an user with the given id.&quot;);\r\n        }\r\n```","title":"How to assert that an Uni throws a given error?","body":"<p>Removing the <code>AssertSubscriber</code> assignment fixed the type error, and now the test is working as expected.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        @Test\n        public void shouldThrowAnErrorWhenUserIsNotFound() {\n            Mockito.when(userRepository.findById(Mockito.any())).thenReturn(Uni.createFrom().nullItem());\n\n            service.searchUser(new ObjectId())\n                    .subscribe()\n                    .withSubscriber(UniAssertSubscriber.create())\n                    .assertFailedWith(BusinessException.class, &quot;Could not find an user with the given id.&quot;);\n        }\n</code></pre>\n"}],"owner":{"account_id":15486800,"reputation":2157,"user_id":12044155,"display_name":"Allan Juan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677313417,"creation_date":1673984063,"question_id":75151436,"body_markdown":"I have a reactive Quarkus project and I&#39;m trying to test a method that returns `Uni&lt;User&gt;`. The method looks like this:\r\n\r\n```java\r\npublic Uni&lt;User&gt; searchUser(ObjectId userId) {\r\n        return userRepository\r\n            .findById(userId)\r\n            .map(user -&gt; {\r\n                if (user != null) {\r\n                    return user;\r\n                } else {\r\n                    throw new BusinessException(&quot;Could not find an user with the given id.&quot;);\r\n                }\r\n            });\r\n```\r\n\r\nSo far, so good. Now I&#39;m trying to test a method asserting that an error is thrown when the repository returns `null` on `findById`. According to [mutiny&#39;s documentation](https://smallrye.io/smallrye-mutiny/1.7.0/guides/testing/), this is how you assert that an Uni throws an error:\r\n```java\r\nMulti&lt;Object&gt; multi = Multi.createFrom().failure(() -&gt; new IOException(&quot;Boom&quot;));\r\n\r\nAssertSubscriber&lt;Object&gt; subscriber = multi\r\n        .subscribe().withSubscriber(AssertSubscriber.create(10));\r\n\r\nsubscriber.assertFailedWith(IOException.class, &quot;Boom&quot;);\r\n```\r\n\r\nThis is my adapted version:\r\n```java\r\n        @Test\r\n        public void shouldThrowAnErrorWhenUserIsNotFound() {\r\n            Mockito.when(userRepository.findById(Mockito.any())).thenReturn(Uni.createFrom().nullItem());\r\n\r\n            AssertSubscriber subscriber = service.searchUser(new ObjectId()).subscribe().withSubscriber(AssertSubscriber.create());\r\n\r\n            subscriber.assertFailedWith(BusinessException.class, &quot;Could not find an user with the given id.&quot;);\r\n        }\r\n```\r\n\r\nBut it doesn&#39;t build. I get this error on the \r\n\r\n&gt; .subscribe().withSubscriber()` call: `Inferred type &#39;S&#39; for type parameter &#39;S&#39; is not within its bound; should implement &#39;io.smallrye.mutiny.subscription.UniSubscriber&lt;? super br.com\r\n\r\nHow can I fix this? Or is there another way to write such a test?","title":"How to assert that an Uni throws a given error?","body":"<p>I have a reactive Quarkus project and I'm trying to test a method that returns <code>Uni&lt;User&gt;</code>. The method looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Uni&lt;User&gt; searchUser(ObjectId userId) {\n        return userRepository\n            .findById(userId)\n            .map(user -&gt; {\n                if (user != null) {\n                    return user;\n                } else {\n                    throw new BusinessException(&quot;Could not find an user with the given id.&quot;);\n                }\n            });\n</code></pre>\n<p>So far, so good. Now I'm trying to test a method asserting that an error is thrown when the repository returns <code>null</code> on <code>findById</code>. According to <a href=\"https://smallrye.io/smallrye-mutiny/1.7.0/guides/testing/\" rel=\"nofollow noreferrer\">mutiny's documentation</a>, this is how you assert that an Uni throws an error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Multi&lt;Object&gt; multi = Multi.createFrom().failure(() -&gt; new IOException(&quot;Boom&quot;));\n\nAssertSubscriber&lt;Object&gt; subscriber = multi\n        .subscribe().withSubscriber(AssertSubscriber.create(10));\n\nsubscriber.assertFailedWith(IOException.class, &quot;Boom&quot;);\n</code></pre>\n<p>This is my adapted version:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        @Test\n        public void shouldThrowAnErrorWhenUserIsNotFound() {\n            Mockito.when(userRepository.findById(Mockito.any())).thenReturn(Uni.createFrom().nullItem());\n\n            AssertSubscriber subscriber = service.searchUser(new ObjectId()).subscribe().withSubscriber(AssertSubscriber.create());\n\n            subscriber.assertFailedWith(BusinessException.class, &quot;Could not find an user with the given id.&quot;);\n        }\n</code></pre>\n<p>But it doesn't build. I get this error on the</p>\n<blockquote>\n<p>.subscribe().withSubscriber()<code>call:</code>Inferred type 'S' for type parameter 'S' is not within its bound; should implement 'io.smallrye.mutiny.subscription.UniSubscriber&lt;? super br.com</p>\n</blockquote>\n<p>How can I fix this? Or is there another way to write such a test?</p>\n"},{"tags":["java","sockets","networking","tcp"],"answers":[{"tags":[],"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677313049,"creation_date":1677313049,"answer_id":75564120,"question_id":75556267,"body_markdown":"It seems my initial assumption, it is a timing issue, was correct.\r\n\r\nThe following article deals with the so-called `TIME-WAIT` State:&lt;br&gt;\r\n[Coping with the TCP TIME-WAIT state on busy Linux servers][1]\r\n\r\nOne takeaway is:&lt;br&gt;\r\n*&quot;Moreover, when designing protocols, don’t let clients close first. Clients won’t have to deal with the TIME-WAIT state pushing the responsibility to servers which are better suited to handle this.&quot;*\r\n\r\nFor my load test, I just need to make sure that I don&#39;t cycle through all available Ports in less than the 2 Minute latency specified in the Standard. Right now my System has 16,263 Ports available, which means under constant fire, I need to limit it to minimum 7.4 ms between Connections.\r\n\r\n\r\n  [1]: https://vincent.bernat.ch/en/blog/2014-tcp-time-wait-state-linux","title":"java.net.BindException Client-side after thousands of quick-fire Socket connections to Server","body":"<p>It seems my initial assumption, it is a timing issue, was correct.</p>\n<p>The following article deals with the so-called <code>TIME-WAIT</code> State:<br>\n<a href=\"https://vincent.bernat.ch/en/blog/2014-tcp-time-wait-state-linux\" rel=\"nofollow noreferrer\">Coping with the TCP TIME-WAIT state on busy Linux servers</a></p>\n<p>One takeaway is:<br>\n<em>&quot;Moreover, when designing protocols, don’t let clients close first. Clients won’t have to deal with the TIME-WAIT state pushing the responsibility to servers which are better suited to handle this.&quot;</em></p>\n<p>For my load test, I just need to make sure that I don't cycle through all available Ports in less than the 2 Minute latency specified in the Standard. Right now my System has 16,263 Ports available, which means under constant fire, I need to limit it to minimum 7.4 ms between Connections.</p>\n"}],"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75564120,"answer_count":1,"score":0,"last_activity_date":1677313049,"creation_date":1677239520,"question_id":75556267,"body_markdown":"My Platform is Windows 10 Enterprise with JDK 17.\r\n\r\nAnyone know why the following Client crashes with a java.net.BindException after many thousand connections?\r\n\r\n(it seems to be timing-related because, with a 10ms sleep between executions, it just runs and runs and runs...)\r\n\r\n    import java.io.*;\r\n    import java.net.Socket;\r\n    \r\n    public class Client {\r\n    \r\n    \tpublic static void main(final String[] args) throws IOException {\r\n    \r\n    \t\tfinal byte[] readBuffer = new byte[8192];\r\n    \r\n    \t\twhile (true) {\r\n    \t\t\ttry (\tfinal Socket                socket  = new Socket(&quot;localhost&quot;, 1972);\r\n    \t\t\t\t\tfinal InputStream           ist     = socket.getInputStream();\r\n    \t\t\t\t\tfinal OutputStream          ost     = socket.getOutputStream();\r\n    \t\t\t\t\tfinal ByteArrayOutputStream istBAOS = new ByteArrayOutputStream())\r\n    \t\t\t{\r\n    \t\t\t\tost.write(&quot;Hello!&quot;.getBytes());\r\n    \t\t\t\tsocket.shutdownOutput();\r\n    \r\n    \t\t\t\tint    readCount;\r\n    \t\t\t\twhile((readCount = ist.read(readBuffer)) != -1) {\r\n    \t\t\t\t\tistBAOS.write(readBuffer, 0, readCount);\r\n    \t\t\t\t}\r\n    \t\t\t\tfinal byte[] istBytes = istBAOS.toByteArray();\r\n    \r\n    \t\t\t\tsocket.shutdownInput();\r\n    \r\n    \t\t\t\tSystem.out.println(&quot;Client.: &quot; + socket + &quot; &lt;- &quot; + new String(istBytes));\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nHere&#39;s the Server, which seems to be fine:\r\n\r\n    import java.io.*;\r\n    import java.net.*;\r\n    \r\n    public class Server {\r\n    \r\n    \tpublic static void main(final String[] args) throws IOException {\r\n    \r\n    \t\tfinal byte[] readBuffer = new byte[8192];\r\n    \r\n    \t\ttry (\t\t\tfinal ServerSocket          server  = new ServerSocket(1972)) {\r\n    \t\t\twhile (true) {\r\n    \t\t\t\ttry (\tfinal Socket                socket  = server.accept();\r\n    \t\t\t\t\t\tfinal InputStream           ist     = socket.getInputStream();\r\n    \t\t\t\t\t\tfinal OutputStream          ost     = socket.getOutputStream();\r\n    \t\t\t\t\t\tfinal ByteArrayOutputStream istBAOS = new ByteArrayOutputStream())\r\n    \t\t\t\t{\r\n    \t\t\t\t\tint    readCount;\r\n    \t\t\t\t\twhile((readCount = ist.read(readBuffer)) != -1) {\r\n    \t\t\t\t\t\tistBAOS.write(readBuffer, 0, readCount);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tfinal byte[] istBytes = istBAOS.toByteArray();\r\n    \r\n    \t\t\t\t\tsocket.shutdownInput();\r\n    \t\t\t\t\tost.write(istBytes);\r\n    \t\t\t\t\tsocket.shutdownOutput();\r\n    \t\t\t\t}\r\n    \t\t\t\tcatch (final IOException e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    //\t\t\t\ttry {Thread.sleep(10);} catch (final InterruptedException e) {}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"java.net.BindException Client-side after thousands of quick-fire Socket connections to Server","body":"<p>My Platform is Windows 10 Enterprise with JDK 17.</p>\n<p>Anyone know why the following Client crashes with a java.net.BindException after many thousand connections?</p>\n<p>(it seems to be timing-related because, with a 10ms sleep between executions, it just runs and runs and runs...)</p>\n<pre><code>import java.io.*;\nimport java.net.Socket;\n\npublic class Client {\n\n    public static void main(final String[] args) throws IOException {\n\n        final byte[] readBuffer = new byte[8192];\n\n        while (true) {\n            try (   final Socket                socket  = new Socket(&quot;localhost&quot;, 1972);\n                    final InputStream           ist     = socket.getInputStream();\n                    final OutputStream          ost     = socket.getOutputStream();\n                    final ByteArrayOutputStream istBAOS = new ByteArrayOutputStream())\n            {\n                ost.write(&quot;Hello!&quot;.getBytes());\n                socket.shutdownOutput();\n\n                int    readCount;\n                while((readCount = ist.read(readBuffer)) != -1) {\n                    istBAOS.write(readBuffer, 0, readCount);\n                }\n                final byte[] istBytes = istBAOS.toByteArray();\n\n                socket.shutdownInput();\n\n                System.out.println(&quot;Client.: &quot; + socket + &quot; &lt;- &quot; + new String(istBytes));\n            }\n        }\n    }\n}\n</code></pre>\n<p>Here's the Server, which seems to be fine:</p>\n<pre><code>import java.io.*;\nimport java.net.*;\n\npublic class Server {\n\n    public static void main(final String[] args) throws IOException {\n\n        final byte[] readBuffer = new byte[8192];\n\n        try (           final ServerSocket          server  = new ServerSocket(1972)) {\n            while (true) {\n                try (   final Socket                socket  = server.accept();\n                        final InputStream           ist     = socket.getInputStream();\n                        final OutputStream          ost     = socket.getOutputStream();\n                        final ByteArrayOutputStream istBAOS = new ByteArrayOutputStream())\n                {\n                    int    readCount;\n                    while((readCount = ist.read(readBuffer)) != -1) {\n                        istBAOS.write(readBuffer, 0, readCount);\n                    }\n                    final byte[] istBytes = istBAOS.toByteArray();\n\n                    socket.shutdownInput();\n                    ost.write(istBytes);\n                    socket.shutdownOutput();\n                }\n                catch (final IOException e) {\n                    e.printStackTrace();\n                }\n//              try {Thread.sleep(10);} catch (final InterruptedException e) {}\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":27875242,"reputation":1,"user_id":21284883,"display_name":"mickleness"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677312052,"creation_date":1677312052,"answer_id":75564064,"question_id":70202193,"body_markdown":"I don&#39;t understand the error well, but you can probably prevent it (or at least get a different error) with this argument:\r\n\r\n`java -Dsun.java2d.metal=false`\r\n\r\nThe Metal pipeline is the default on Mac as of a few years ago, and if you toggle it off you can switch to the older OpenGL pipeline.\r\n\r\n\r\n(I&#39;m exploring a similar-but-different crash that includes `Java_sun_java2d_metal_MTLRenderQueue_flushBuffer`, although the rest of our stacktraces differ.)\r\n\r\n\r\nSee also:\r\n\r\nhttps://youtrack.jetbrains.com/issue/JBR-4718\r\n\r\nhttps://bugs.openjdk.org/browse/JDK-8284381","title":"Java 17/Mac OS Java2D Queue Flusher Crash","body":"<p>I don't understand the error well, but you can probably prevent it (or at least get a different error) with this argument:</p>\n<p><code>java -Dsun.java2d.metal=false</code></p>\n<p>The Metal pipeline is the default on Mac as of a few years ago, and if you toggle it off you can switch to the older OpenGL pipeline.</p>\n<p>(I'm exploring a similar-but-different crash that includes <code>Java_sun_java2d_metal_MTLRenderQueue_flushBuffer</code>, although the rest of our stacktraces differ.)</p>\n<p>See also:</p>\n<p><a href=\"https://youtrack.jetbrains.com/issue/JBR-4718\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/JBR-4718</a></p>\n<p><a href=\"https://bugs.openjdk.org/browse/JDK-8284381\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8284381</a></p>\n"}],"owner":{"account_id":63782,"reputation":6252,"user_id":188622,"accept_rate":44,"display_name":"Gubatron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677312052,"creation_date":1638458958,"question_id":70202193,"body_markdown":"Anybody else having this crash on macOS + JDK17?\r\n\r\nOS Version:            macOS 11.6 (20G165)\r\nJRE version: OpenJDK Runtime Environment (17.0+35) (build 17+35-2724)\r\n\r\n```\r\nThread 23 Crashed:: Java: Java2D Queue Flusher\r\n0   libsystem_kernel.dylib        \t0x00007fff2040392e __pthread_kill + 10\r\n1   libsystem_pthread.dylib       \t0x00007fff204325bd pthread_kill + 263\r\n2   libsystem_c.dylib             \t0x00007fff20387406 abort + 125\r\n3   libjvm.dylib                  \t0x00000001058d13e1 os::abort(bool, void*, void const*) + 49\r\n4   libjvm.dylib                  \t0x0000000105aabecc VMError::report_and_die(int, char const*, char const*, __va_list_tag*, Thread*, unsigned char*, void*, void*, char const*, int, unsigned long) + 2908\r\n5   libjvm.dylib                  \t0x0000000105aab345 VMError::report_and_die(Thread*, unsigned int, unsigned char*, void*, void*, char const*, ...) + 149\r\n6   libjvm.dylib                  \t0x0000000105aabf61 VMError::report_and_die(Thread*, unsigned int, unsigned char*, void*, void*) + 33\r\n7   libjvm.dylib                  \t0x000000010597a07b JVM_handle_bsd_signal + 363\r\n8   libsystem_platform.dylib      \t0x00007fff20477d7d _sigtramp + 29\r\n9   ???                           \t0x00007ffffffffff8 0 + 140737488355320\r\n10  com.apple.AMDRadeonX5000MTLDriver\t0x000000012ad40801 void amdMtl_HWL_SetTexture&lt;(AMDMtl_SqttMode)0&gt;(GFX9_RenderCmdEncoderMembersRec*, unsigned int, id&lt;MTLTexture&gt;, unsigned int, unsigned int) + 91\r\n11  libawt_lwawt.dylib            \t0x000000011b2ecf91 MTLVertexCache_FlushGlyphVertexCache + 81\r\n12  libawt_lwawt.dylib            \t0x000000011b2ea406 MTLTR_DrawGlyphList + 4022\r\n13  libawt_lwawt.dylib            \t0x000000011b2e4cc4 Java_sun_java2d_metal_MTLRenderQueue_flushBuffer + 5236\r\n14  ???                           \t0x00000001119111d5 0 + 4589687253\r\n15  ???                           \t0x0000000111cf628c 0 + 4593771148\r\n```\r\n\r\nany clue what can be causing this and how to avert it?","title":"Java 17/Mac OS Java2D Queue Flusher Crash","body":"<p>Anybody else having this crash on macOS + JDK17?</p>\n<p>OS Version:            macOS 11.6 (20G165)\nJRE version: OpenJDK Runtime Environment (17.0+35) (build 17+35-2724)</p>\n<pre><code>Thread 23 Crashed:: Java: Java2D Queue Flusher\n0   libsystem_kernel.dylib          0x00007fff2040392e __pthread_kill + 10\n1   libsystem_pthread.dylib         0x00007fff204325bd pthread_kill + 263\n2   libsystem_c.dylib               0x00007fff20387406 abort + 125\n3   libjvm.dylib                    0x00000001058d13e1 os::abort(bool, void*, void const*) + 49\n4   libjvm.dylib                    0x0000000105aabecc VMError::report_and_die(int, char const*, char const*, __va_list_tag*, Thread*, unsigned char*, void*, void*, char const*, int, unsigned long) + 2908\n5   libjvm.dylib                    0x0000000105aab345 VMError::report_and_die(Thread*, unsigned int, unsigned char*, void*, void*, char const*, ...) + 149\n6   libjvm.dylib                    0x0000000105aabf61 VMError::report_and_die(Thread*, unsigned int, unsigned char*, void*, void*) + 33\n7   libjvm.dylib                    0x000000010597a07b JVM_handle_bsd_signal + 363\n8   libsystem_platform.dylib        0x00007fff20477d7d _sigtramp + 29\n9   ???                             0x00007ffffffffff8 0 + 140737488355320\n10  com.apple.AMDRadeonX5000MTLDriver   0x000000012ad40801 void amdMtl_HWL_SetTexture&lt;(AMDMtl_SqttMode)0&gt;(GFX9_RenderCmdEncoderMembersRec*, unsigned int, id&lt;MTLTexture&gt;, unsigned int, unsigned int) + 91\n11  libawt_lwawt.dylib              0x000000011b2ecf91 MTLVertexCache_FlushGlyphVertexCache + 81\n12  libawt_lwawt.dylib              0x000000011b2ea406 MTLTR_DrawGlyphList + 4022\n13  libawt_lwawt.dylib              0x000000011b2e4cc4 Java_sun_java2d_metal_MTLRenderQueue_flushBuffer + 5236\n14  ???                             0x00000001119111d5 0 + 4589687253\n15  ???                             0x0000000111cf628c 0 + 4593771148\n</code></pre>\n<p>any clue what can be causing this and how to avert it?</p>\n"},{"tags":["java","powermock","powermockito","javassist"],"comments":[{"owner":{"account_id":1961212,"reputation":319,"user_id":1762734,"display_name":"Denis Rodin"},"score":0,"creation_date":1633701266,"post_id":69410371,"comment_id":122837186,"body_markdown":"could you post your pom.xml? I don&#39;t get this error with your code","body":"could you post your pom.xml? I don&#39;t get this error with your code"},{"owner":{"account_id":14888174,"reputation":61,"user_id":10750739,"display_name":"Beginner"},"score":0,"creation_date":1633801984,"post_id":69410371,"comment_id":122859799,"body_markdown":"Which javassist version you were using? Mine is 3.18.1-GA. The error goes away with higher versions. My question was more about how a sorted() call can cause it to fail?","body":"Which javassist version you were using? Mine is 3.18.1-GA. The error goes away with higher versions. My question was more about how a sorted() call can cause it to fail?"},{"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"score":0,"creation_date":1633823931,"post_id":69410371,"comment_id":122863567,"body_markdown":"try to use custom comparator instead  :  .sorted((e1,e2) -&gt; e1.getKey().compareTo(e2.getKey()))","body":"try to use custom comparator instead  :  .sorted((e1,e2) -&gt; e1.getKey().compareTo(e2.getKey()))"}],"owner":{"account_id":14888174,"reputation":61,"user_id":10750739,"display_name":"Beginner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1677311383,"creation_date":1633112128,"question_id":69410371,"body_markdown":"I have a class(TempClass) containing a map that uses a static method of another class(UtilClass) to generate a list using this map.\r\nFor mocking the static method(can&#39;t avoid using the static method), I&#39;m using Powermockito. However, I&#39;m getting this exception when I try to run the test. \r\n\r\n**javassist version used: 3.18.1-GA**\r\n\r\n    java.lang.IllegalStateException: Failed to transform class with name somepackage.UtilClass. Reason: javassist.bytecode.InterfaceMethodrefInfo cannot be cast to javassist.bytecode.MethodrefInfo\r\n\r\nit disappears when I remove a `sorted` call from the static method\r\n\r\nI know it can be resolved by dependency changes mentioned [here][1]. But I don&#39;t want to change the dependency. My question is more around why is this happening?\r\n\r\nThis is a simplified example of a code that I&#39;m using.\r\n\r\nTempClass.java\r\n\r\n    import com.google.common.collect.Lists;\r\n    import com.google.common.collect.Maps;\r\n\r\n    import java.util.List;\r\n    import java.util.Map;\r\n\r\n    public class TempClass {\r\n\r\n        public void execute(){\r\n            List&lt;Integer&gt; integerList1 = Lists.newArrayList();\r\n            List&lt;Integer&gt; integerList2 = Lists.newArrayList();\r\n            integerList1.add(10);\r\n            integerList1.add(1);\r\n            integerList1.add(4);\r\n\r\n            integerList2.add(10);\r\n            integerList2.add(20);\r\n            integerList2.add(30);\r\n\r\n            Map&lt;String, List&lt;Integer&gt;&gt; stringListMap = Maps.newHashMap();\r\n            stringListMap.put(&quot;AA&quot;, integerList1);\r\n            stringListMap.put(&quot;AB&quot;, integerList2);\r\n\r\n            List&lt;Integer&gt; sortedList = UtilClass.getSomeList(stringListMap);\r\n        }\r\n\r\n    }\r\n\r\nUtilClass.java\r\n\r\n    \r\n\r\n    import java.util.Collection;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.stream.Collectors;\r\n\r\n    public class UtilClass {\r\n\r\n      public static List&lt;Integer&gt; getSomeList(Map&lt;String, List&lt;Integer&gt;&gt; inputs) {\r\n        return inputs.entrySet().stream()\r\n            .sorted(Map.Entry.comparingByKey())\r\n            .map(Map.Entry::getValue)\r\n            .flatMap(Collection::stream)\r\n            .collect(Collectors.toList());\r\n      }\r\n    }\r\n\r\nTempClassTest.java\r\n\r\n    import org.junit.Assert;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.powermock.core.classloader.annotations.PrepareForTest;\r\n    import org.powermock.modules.junit4.PowerMockRunner;\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({\r\n        UtilClass.class\r\n    })\r\n    public class TempClassTest {\r\n\r\n        @Test\r\n        public void dummy(){\r\n            Assert.assertEquals(1, 1);\r\n        }\r\n    }\r\n\r\n\r\n**The exception disappears and the test runs fine when I remove the `sorted` call from the method.**\r\n\r\n\r\n    \r\n\r\n    import java.util.Collection;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.stream.Collectors;\r\n\r\n    public class UtilClass {\r\n\r\n      public static List&lt;Integer&gt; getSomeList(Map&lt;String, List&lt;Integer&gt;&gt; inputs) {\r\n        return inputs.entrySet().stream()\r\n            .map(Map.Entry::getValue)\r\n            .flatMap(Collection::stream)\r\n            .collect(Collectors.toList());\r\n      }\r\n    }\r\n\r\n\r\n \r\n\r\n  [1]: https://stackoverflow.com/questions/31189086/powermock-and-java-8-issue-interfacemethodrefinfo-cannot-be-cast-to-methodrefin","title":"PowerMock @PrepareForTest throws exception for a class containing a sorted call [JAVA 8]","body":"<p>I have a class(TempClass) containing a map that uses a static method of another class(UtilClass) to generate a list using this map.\nFor mocking the static method(can't avoid using the static method), I'm using Powermockito. However, I'm getting this exception when I try to run the test.</p>\n<p><strong>javassist version used: 3.18.1-GA</strong></p>\n<pre><code>java.lang.IllegalStateException: Failed to transform class with name somepackage.UtilClass. Reason: javassist.bytecode.InterfaceMethodrefInfo cannot be cast to javassist.bytecode.MethodrefInfo\n</code></pre>\n<p>it disappears when I remove a <code>sorted</code> call from the static method</p>\n<p>I know it can be resolved by dependency changes mentioned <a href=\"https://stackoverflow.com/questions/31189086/powermock-and-java-8-issue-interfacemethodrefinfo-cannot-be-cast-to-methodrefin\">here</a>. But I don't want to change the dependency. My question is more around why is this happening?</p>\n<p>This is a simplified example of a code that I'm using.</p>\n<p>TempClass.java</p>\n<pre><code>import com.google.common.collect.Lists;\nimport com.google.common.collect.Maps;\n\nimport java.util.List;\nimport java.util.Map;\n\npublic class TempClass {\n\n    public void execute(){\n        List&lt;Integer&gt; integerList1 = Lists.newArrayList();\n        List&lt;Integer&gt; integerList2 = Lists.newArrayList();\n        integerList1.add(10);\n        integerList1.add(1);\n        integerList1.add(4);\n\n        integerList2.add(10);\n        integerList2.add(20);\n        integerList2.add(30);\n\n        Map&lt;String, List&lt;Integer&gt;&gt; stringListMap = Maps.newHashMap();\n        stringListMap.put(&quot;AA&quot;, integerList1);\n        stringListMap.put(&quot;AB&quot;, integerList2);\n\n        List&lt;Integer&gt; sortedList = UtilClass.getSomeList(stringListMap);\n    }\n\n}\n</code></pre>\n<p>UtilClass.java</p>\n<pre><code>import java.util.Collection;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\npublic class UtilClass {\n\n  public static List&lt;Integer&gt; getSomeList(Map&lt;String, List&lt;Integer&gt;&gt; inputs) {\n    return inputs.entrySet().stream()\n        .sorted(Map.Entry.comparingByKey())\n        .map(Map.Entry::getValue)\n        .flatMap(Collection::stream)\n        .collect(Collectors.toList());\n  }\n}\n</code></pre>\n<p>TempClassTest.java</p>\n<pre><code>import org.junit.Assert;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\nimport org.powermock.modules.junit4.PowerMockRunner;\n\n@RunWith(PowerMockRunner.class)\n@PrepareForTest({\n    UtilClass.class\n})\npublic class TempClassTest {\n\n    @Test\n    public void dummy(){\n        Assert.assertEquals(1, 1);\n    }\n}\n</code></pre>\n<p><strong>The exception disappears and the test runs fine when I remove the <code>sorted</code> call from the method.</strong></p>\n<pre><code>import java.util.Collection;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\npublic class UtilClass {\n\n  public static List&lt;Integer&gt; getSomeList(Map&lt;String, List&lt;Integer&gt;&gt; inputs) {\n    return inputs.entrySet().stream()\n        .map(Map.Entry::getValue)\n        .flatMap(Collection::stream)\n        .collect(Collectors.toList());\n  }\n}\n</code></pre>\n"},{"tags":["java","generics","types"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1677308570,"post_id":75563811,"comment_id":133316018,"body_markdown":"No. You would need to do the dispatching of `someMethod` manually.","body":"No. You would need to do the dispatching of <code>someMethod</code> manually."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1677308812,"post_id":75563811,"comment_id":133316040,"body_markdown":"You cannot actually do this, really.","body":"You cannot actually do this, really."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1677309743,"post_id":75563811,"comment_id":133316121,"body_markdown":"Overloaded methods are resolved at compile time. They are essentially completely different methods that happen to share a name.","body":"Overloaded methods are resolved at compile time. They are essentially completely different methods that happen to share a name."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677317209,"post_id":75563811,"comment_id":133316929,"body_markdown":"If `input` cannot be `null`, you are not going to need the `Class&lt;T&gt;` parameter since you can always do `input.getClass()` inside your method to get the concrete runtime type.","body":"If <code>input</code> cannot be <code>null</code>, you are not going to need the <code>Class&lt;T&gt;</code> parameter since you can always do <code>input.getClass()</code> inside your method to get the concrete runtime type."}],"answers":[{"tags":[],"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677310955,"creation_date":1677310073,"answer_id":75563921,"question_id":75563811,"body_markdown":"**First (and quick) &quot;solution&quot;**\r\n\r\nActually, there is no Java built-in mechanism that handles this dispatching for you. That means, you have to do it yourself.\r\n\r\nBut ... to avoid a longer if-else chain, you can use a mapping that maps the type to the consuming method you want to call. Example:\r\n\r\n    private final Map&lt;Class&lt;?&gt;, Consumer&lt;?&gt;&gt; dispatcher = new HashMap&lt;&gt;();\r\n\r\n    {\r\n        dispatcher.put(String.class, (String value) -&gt; someMethod(value));\r\n        dispatcher.put(Integer.class, (Integer value) -&gt; someMethod(value));\r\n    }\r\n\r\nNow you can do the following:\r\n\r\n    public &lt;T&gt; void doSomething(T input, Class&lt;T&gt; clazz) {\r\n        Consumer&lt;T&gt; consumer = (Consumer&lt;T&gt;) dispatcher.get(clazz);\r\n        if (consumer != null) consumer.accept(input);\r\n    }\r\n\r\nBe careful when building the dispatcher map. Any mistake there will result in a  runtime error when calling the method `doSomething`. There is even a compiler warning for this.\r\n\r\nNot perfect, but maybe a way to go ...\r\n\r\n**Further considerations**\r\n\r\nThis manual dispatching is a great hint for you that there might be more OOP like solution. Usually, there is a _type_ lurking behind your thoughts ...\r\n\r\nSo first create an interface for that type:\r\n\r\n    interface SomethingDoable {\r\n        void someMethod();\r\n    }\r\n\r\nNote, that the generic type is also eliminated here. Now you can create some classes for that:\r\n\r\n    class StringDoable implements SomethingDoable {\r\n        private final String value;\r\n        public StringDoable(String value) { this.value = value; }\r\n        @Override public void doSomething() { /* your code here using the string value */ }\r\n    }\r\n\r\n    class IntegerDoable implements SomethingDoable {\r\n        private final Integer value;\r\n        public IntegerDoable(Integer value) { this.value = value; }\r\n        @Override public void doSomething() { /* your code here using the integer value */ }\r\n    }\r\n\r\nWith that preparation, you can simplify your public method:\r\n\r\n    public void doSomething(SomethingDoable somethingDoable) {\r\n        somethingDoable.doSomething();\r\n    }\r\n\r\nUsing it is as simple as this:\r\n\r\n    doSomething(new StringDoable(&quot;42&quot;));\r\n    doSomething(new IntegerDoable(42));\r\n\r\nThe main advantage with this approach is ... Extending this simply means to add another concrete class. No need to change anything else.","title":"Java: Convert Generic typed (T) object to a fully typed object that is recognized by a typed call signature?","body":"<p><strong>First (and quick) &quot;solution&quot;</strong></p>\n<p>Actually, there is no Java built-in mechanism that handles this dispatching for you. That means, you have to do it yourself.</p>\n<p>But ... to avoid a longer if-else chain, you can use a mapping that maps the type to the consuming method you want to call. Example:</p>\n<pre><code>private final Map&lt;Class&lt;?&gt;, Consumer&lt;?&gt;&gt; dispatcher = new HashMap&lt;&gt;();\n\n{\n    dispatcher.put(String.class, (String value) -&gt; someMethod(value));\n    dispatcher.put(Integer.class, (Integer value) -&gt; someMethod(value));\n}\n</code></pre>\n<p>Now you can do the following:</p>\n<pre><code>public &lt;T&gt; void doSomething(T input, Class&lt;T&gt; clazz) {\n    Consumer&lt;T&gt; consumer = (Consumer&lt;T&gt;) dispatcher.get(clazz);\n    if (consumer != null) consumer.accept(input);\n}\n</code></pre>\n<p>Be careful when building the dispatcher map. Any mistake there will result in a  runtime error when calling the method <code>doSomething</code>. There is even a compiler warning for this.</p>\n<p>Not perfect, but maybe a way to go ...</p>\n<p><strong>Further considerations</strong></p>\n<p>This manual dispatching is a great hint for you that there might be more OOP like solution. Usually, there is a <em>type</em> lurking behind your thoughts ...</p>\n<p>So first create an interface for that type:</p>\n<pre><code>interface SomethingDoable {\n    void someMethod();\n}\n</code></pre>\n<p>Note, that the generic type is also eliminated here. Now you can create some classes for that:</p>\n<pre><code>class StringDoable implements SomethingDoable {\n    private final String value;\n    public StringDoable(String value) { this.value = value; }\n    @Override public void doSomething() { /* your code here using the string value */ }\n}\n\nclass IntegerDoable implements SomethingDoable {\n    private final Integer value;\n    public IntegerDoable(Integer value) { this.value = value; }\n    @Override public void doSomething() { /* your code here using the integer value */ }\n}\n</code></pre>\n<p>With that preparation, you can simplify your public method:</p>\n<pre><code>public void doSomething(SomethingDoable somethingDoable) {\n    somethingDoable.doSomething();\n}\n</code></pre>\n<p>Using it is as simple as this:</p>\n<pre><code>doSomething(new StringDoable(&quot;42&quot;));\ndoSomething(new IntegerDoable(42));\n</code></pre>\n<p>The main advantage with this approach is ... Extending this simply means to add another concrete class. No need to change anything else.</p>\n"},{"tags":[],"owner":{"account_id":23090314,"reputation":385,"user_id":20607467,"display_name":"ﾓｷｬﾃﾞ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677310472,"creation_date":1677310472,"answer_id":75563938,"question_id":75563811,"body_markdown":"You can use reflection API to achieve that.\r\n\r\n    public &lt;T&gt; void someMethod(Object value, Class&lt;T&gt; clazz) {\r\n        try {\r\n            getClass().getDeclaredMethod(&quot;someMethod&quot;, clazz).invoke(this, value);\r\n        } catch (IllegalAccessException | InvocationTargetException | NoSuchMethodException | SecurityException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n","title":"Java: Convert Generic typed (T) object to a fully typed object that is recognized by a typed call signature?","body":"<p>You can use reflection API to achieve that.</p>\n<pre><code>public &lt;T&gt; void someMethod(Object value, Class&lt;T&gt; clazz) {\n    try {\n        getClass().getDeclaredMethod(&quot;someMethod&quot;, clazz).invoke(this, value);\n    } catch (IllegalAccessException | InvocationTargetException | NoSuchMethodException | SecurityException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677311197,"creation_date":1677311197,"answer_id":75563997,"question_id":75563811,"body_markdown":"At runtime, Java dynamically dispatches methods only based on the object on which you called the method, i.e. `this` from the callee&#39;s perspective, aka the &quot;receiver parameter&quot;, or whatever you call this part of the call:\r\n\r\n    animal.eat(food);\r\n    ^^^^^^\r\n\r\n    this.someMethod(input);\r\n    ^^^^\r\n\r\nWhich method is chosen at runtime solely depends on that part. If `foo` at runtime stores an instance of `Dog`, then `Dog.eat` is called. If it stores an instance of `Cat`, then `Cat.eat` is called.\r\n\r\nHowever, what you want to do here seems to be dynamic dispatch based on what type `food` stores at runtime. Since Java doesn&#39;t do that, you either have to dispatch it manually with a chain of if-else-ifs, or change the call so that `food` is the receiver:\r\n\r\n    food.getsEatenBy(animal);\r\n\r\n    input.someMethod(this); // not sure if your someMethod needs &quot;this&quot; or not...\r\n\r\nSince the parameters in your case are `String` and `Integer`, you need to write wrapper classes for them in order to be able to add methods to them.\r\n\r\n```\r\n// let&#39;s also introduce an interface that all the inputs of someMethod implements\r\npublic interface SomeMethodInput {\r\n    // SomeMethodClass is the class where someMethod originally was\r\n    void someMethod(SomeMethodClass self);\r\n}\r\n\r\npublic class StringInput implements SomeMethodInput {\r\n\r\n    private String value;\r\n\r\n    public StringInput(String string) {\r\n        this.value = string;\r\n    }\r\n\r\n\r\n    public String getValue() {\r\n        return value;\r\n    }\r\n\r\n    @Override\r\n    public void someMethod(SomeMethodClass self) {\r\n        // do string things...\r\n    }\r\n}\r\n\r\npublic class IntegerInput implements SomeMethodInput {\r\n\r\n    private Integer value;\r\n\r\n    public IntegerInput(Integer integer) {\r\n        this.value = integer;\r\n    }\r\n\r\n    public Integer getValue() {\r\n        return value;\r\n    }\r\n\r\n    @Override\r\n    public void someMethod(SomeMethodClass self) {\r\n        // do integer things...\r\n    }\r\n}\r\n```\r\n\r\nNow `doSomething` just needs to take a `SomeMethodInput`:\r\n\r\n```\r\npublic void doSomething(SomeMethodInput input) {\r\n    input.someMethod(this);\r\n}\r\n```\r\n\r\nYou might notice some similarities between this and the visitor pattern, and you&#39;d be right - this is exactly how the visitor pattern achieves double dispatch, on both `this`, and the parameter. What I have shown here is not quite that yet, because it only dispatches on the parameter.","title":"Java: Convert Generic typed (T) object to a fully typed object that is recognized by a typed call signature?","body":"<p>At runtime, Java dynamically dispatches methods only based on the object on which you called the method, i.e. <code>this</code> from the callee's perspective, aka the &quot;receiver parameter&quot;, or whatever you call this part of the call:</p>\n<pre><code>animal.eat(food);\n^^^^^^\n\nthis.someMethod(input);\n^^^^\n</code></pre>\n<p>Which method is chosen at runtime solely depends on that part. If <code>foo</code> at runtime stores an instance of <code>Dog</code>, then <code>Dog.eat</code> is called. If it stores an instance of <code>Cat</code>, then <code>Cat.eat</code> is called.</p>\n<p>However, what you want to do here seems to be dynamic dispatch based on what type <code>food</code> stores at runtime. Since Java doesn't do that, you either have to dispatch it manually with a chain of if-else-ifs, or change the call so that <code>food</code> is the receiver:</p>\n<pre><code>food.getsEatenBy(animal);\n\ninput.someMethod(this); // not sure if your someMethod needs &quot;this&quot; or not...\n</code></pre>\n<p>Since the parameters in your case are <code>String</code> and <code>Integer</code>, you need to write wrapper classes for them in order to be able to add methods to them.</p>\n<pre><code>// let's also introduce an interface that all the inputs of someMethod implements\npublic interface SomeMethodInput {\n    // SomeMethodClass is the class where someMethod originally was\n    void someMethod(SomeMethodClass self);\n}\n\npublic class StringInput implements SomeMethodInput {\n\n    private String value;\n\n    public StringInput(String string) {\n        this.value = string;\n    }\n\n\n    public String getValue() {\n        return value;\n    }\n\n    @Override\n    public void someMethod(SomeMethodClass self) {\n        // do string things...\n    }\n}\n\npublic class IntegerInput implements SomeMethodInput {\n\n    private Integer value;\n\n    public IntegerInput(Integer integer) {\n        this.value = integer;\n    }\n\n    public Integer getValue() {\n        return value;\n    }\n\n    @Override\n    public void someMethod(SomeMethodClass self) {\n        // do integer things...\n    }\n}\n</code></pre>\n<p>Now <code>doSomething</code> just needs to take a <code>SomeMethodInput</code>:</p>\n<pre><code>public void doSomething(SomeMethodInput input) {\n    input.someMethod(this);\n}\n</code></pre>\n<p>You might notice some similarities between this and the visitor pattern, and you'd be right - this is exactly how the visitor pattern achieves double dispatch, on both <code>this</code>, and the parameter. What I have shown here is not quite that yet, because it only dispatches on the parameter.</p>\n"}],"owner":{"account_id":4897658,"reputation":1526,"user_id":3946706,"accept_rate":100,"display_name":"Kim Gentes"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75563938,"answer_count":3,"score":2,"last_activity_date":1677311197,"creation_date":1677308413,"question_id":75563811,"body_markdown":"Given\r\n\r\n```java\r\nprivate someMethod(String value) {\r\n // do string things\r\n}\r\n\r\nprivate someMethod(Integer value) {\r\n // do number things\r\n}\r\n```\r\n\r\nWould the following work to call the proper `someMethod` depending on the type of `clazz` and the value of `input` ?\r\n\r\n```java\r\npublic &lt;T&gt; void doSomething(T input, Class&lt;T&gt; clazz) {\r\n    // Cast the input to the type specified by clazz\r\n    // Call a method that expects a parameter of the type specified by clazz\r\n    someMethod(clazz.cast(input));\r\n}\r\n```\r\n\r\nif it can&#39;t be done this way, what is the best way to do this without getting into a long if/else of hard checks on static typed constants?","title":"Java: Convert Generic typed (T) object to a fully typed object that is recognized by a typed call signature?","body":"<p>Given</p>\n<pre class=\"lang-java prettyprint-override\"><code>private someMethod(String value) {\n // do string things\n}\n\nprivate someMethod(Integer value) {\n // do number things\n}\n</code></pre>\n<p>Would the following work to call the proper <code>someMethod</code> depending on the type of <code>clazz</code> and the value of <code>input</code> ?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T&gt; void doSomething(T input, Class&lt;T&gt; clazz) {\n    // Cast the input to the type specified by clazz\n    // Call a method that expects a parameter of the type specified by clazz\n    someMethod(clazz.cast(input));\n}\n</code></pre>\n<p>if it can't be done this way, what is the best way to do this without getting into a long if/else of hard checks on static typed constants?</p>\n"},{"tags":["java","spring","aop","xml-configuration","load-time-weaving"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1677245593,"post_id":75556387,"comment_id":133304880,"body_markdown":"Did you forget to add `-javaagent:/path/to/aspectjweaver-1.9.19.jar` or similar?","body":"Did you forget to add <code>-javaagent:&#47;path&#47;to&#47;aspectjweaver-1.9.19.jar</code> or similar?"},{"owner":{"account_id":27825602,"reputation":1,"user_id":21245102,"display_name":"Sergejs Jevstigņejevs"},"score":0,"creation_date":1677247249,"post_id":75556387,"comment_id":133305405,"body_markdown":"Nothing changes if I add it. As well as isn&#39;t it already used through IntelliJ -javaagent? (Well, aspectjweaver is specified in -classpath, but IntelliJ idea_rt.jar in -javaagent)","body":"Nothing changes if I add it. As well as isn&#39;t it already used through IntelliJ -javaagent? (Well, aspectjweaver is specified in -classpath, but IntelliJ idea_rt.jar in -javaagent)"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1677310387,"post_id":75556387,"comment_id":133316166,"body_markdown":"The IntelliJ javaagent is completely unrelated to AspectJ, you really do need the AspectJ weaver on the JVM command line as a Java agent, not just on the classpath.","body":"The IntelliJ javaagent is completely unrelated to AspectJ, you really do need the AspectJ weaver on the JVM command line as a Java agent, not just on the classpath."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677310240,"creation_date":1677310240,"answer_id":75563930,"question_id":75556387,"body_markdown":"Did you accidentally add the `-javaagent` option to the program arguments instead of VM arguments? For me, your project works nicely.\r\n\r\n[![IntelliJ IDEA: select VM options][1]][1]\r\n\r\n[![IntelliJ IDEA: show added VM options][2]][2]\r\n\r\nRunning the program yields:\r\n\r\n```none\r\n[AppClassLoader@1d44bcfa] info AspectJ Weaver Version 1.9.19 built on Wednesday Dec 21, 2022 at 06:57:22 PST\r\n[AppClassLoader@1d44bcfa] info register classloader jdk.internal.loader.ClassLoaders$AppClassLoader@1d44bcfa\r\n[AppClassLoader@1d44bcfa] info using configuration .../target/classes/META-INF/aop.xml\r\n[AppClassLoader@1d44bcfa] info register aspect com.sj.aspects.MonitoringAspect\r\n[--add-opens=java.base/java.lang=ALL-UNNAMED, -javaagent:src/main/resources/aspectjweaver-1.9.19.jar, -javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.1.3\\lib\\idea_rt.jar=56248:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.1.3\\bin, -Dfile.encoding=UTF-8]\r\n...\r\n[AppClassLoader@1d44bcfa] weaveinfo Join point &#39;method-execution(void com.sj.utilities.Watch.sleeping(long))&#39; in Type &#39;com.sj.utilities.Watch&#39; (Watch.java:9) advised by around advice from &#39;com.sj.aspects.MonitoringAspect&#39; (MonitoringAspect.java)\r\nBefore void com.sj.utilities.Watch.sleeping(long) execution!\r\nSlept 3000 ms\r\nMethod&#39;s execution time:\r\n\t3010467900 ns\r\n\t3010467 μs\r\n\t3010 ms\r\n\t3 s\r\nAfter void com.sj.utilities.Watch.sleeping(long) execution!\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/z4QpN.png\r\n  [2]: https://i.stack.imgur.com/jAKON.png","title":"Spring AOP LTW doesn&#39;t work, weaving doesn&#39;t happening","body":"<p>Did you accidentally add the <code>-javaagent</code> option to the program arguments instead of VM arguments? For me, your project works nicely.</p>\n<p><a href=\"https://i.stack.imgur.com/z4QpN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z4QpN.png\" alt=\"IntelliJ IDEA: select VM options\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/jAKON.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jAKON.png\" alt=\"IntelliJ IDEA: show added VM options\" /></a></p>\n<p>Running the program yields:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[AppClassLoader@1d44bcfa] info AspectJ Weaver Version 1.9.19 built on Wednesday Dec 21, 2022 at 06:57:22 PST\n[AppClassLoader@1d44bcfa] info register classloader jdk.internal.loader.ClassLoaders$AppClassLoader@1d44bcfa\n[AppClassLoader@1d44bcfa] info using configuration .../target/classes/META-INF/aop.xml\n[AppClassLoader@1d44bcfa] info register aspect com.sj.aspects.MonitoringAspect\n[--add-opens=java.base/java.lang=ALL-UNNAMED, -javaagent:src/main/resources/aspectjweaver-1.9.19.jar, -javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.1.3\\lib\\idea_rt.jar=56248:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.1.3\\bin, -Dfile.encoding=UTF-8]\n...\n[AppClassLoader@1d44bcfa] weaveinfo Join point 'method-execution(void com.sj.utilities.Watch.sleeping(long))' in Type 'com.sj.utilities.Watch' (Watch.java:9) advised by around advice from 'com.sj.aspects.MonitoringAspect' (MonitoringAspect.java)\nBefore void com.sj.utilities.Watch.sleeping(long) execution!\nSlept 3000 ms\nMethod's execution time:\n    3010467900 ns\n    3010467 μs\n    3010 ms\n    3 s\nAfter void com.sj.utilities.Watch.sleeping(long) execution!\n</code></pre>\n"}],"owner":{"account_id":27825602,"reputation":1,"user_id":21245102,"display_name":"Sergejs Jevstigņejevs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677310240,"creation_date":1677240494,"question_id":75556387,"body_markdown":"I&#39;m creating simple experimental program, which use LTW to weave aspect into a class, however aspect load-time weaving doesn&#39;t happening. You can check and use code, which I will describe later, in [GitHub](https://github.com/SergejsJevstignejevs/spring-aop-ltw). I&#39;m using Java 17 and IntelliJ IDE.\r\n\r\nUsed aspect:\r\n```java\r\n\r\n@Aspect\r\n@Component\r\npublic class MonitoringAspect {\r\n\r\n    @Pointcut(&quot;execution(* com.sj.utilities.Watch.*(..))&quot;)\r\n    public void monitoringOperation(){}\r\n\r\n    @Around(&quot;monitoringOperation()&quot;)\r\n    public Object aroundAdvice(ProceedingJoinPoint pjp)\r\n            throws Throwable {\r\n        System.out.println(&quot;Before &quot; + pjp.getSignature() + &quot; execution!&quot;);\r\n\r\n        long startTime = System.nanoTime();\r\n        Object retVal = pjp.proceed();\r\n        long endTime = System.nanoTime();\r\n        long executingTime = endTime - startTime;\r\n        System.out.println(&quot;Method&#39;s execution time:\\n&quot;\r\n                + &quot;\\t&quot; + executingTime + &quot; ns\\n&quot;\r\n                + &quot;\\t&quot; + (executingTime / 1000) + &quot; μs\\n&quot;\r\n                + &quot;\\t&quot; + (executingTime / 1000000) + &quot; ms\\n&quot;\r\n                + &quot;\\t&quot; + (executingTime / 1000000000) + &quot; s&quot;);\r\n        System.out.println(&quot;After &quot; + pjp.getSignature() + &quot; execution!&quot;);\r\n\r\n        return retVal;\r\n    }\r\n\r\n}\r\n```\r\nI tried to remove @Component, because aspect bean is not required, however it changed nothing.\r\n\r\nAdvised by aspect is simple method _sleeping_ of _Watch_ class, with implementation of FictiveWatch interface (Interface exists only for Spring to use JDK dynamic proxies).\r\n\r\nCreated Java annotation config:\r\n```java\r\n@Configuration\r\n//@EnableAspectJAutoProxy\r\n@EnableLoadTimeWeaving(aspectjWeaving = AspectJWeaving.ENABLED)\r\n@ComponentScan(&quot;com.sj&quot;)\r\npublic class AOPConfig implements LoadTimeWeavingConfigurer {\r\n\r\n    @Override\r\n    public LoadTimeWeaver getLoadTimeWeaver() {\r\n        return new InstrumentationLoadTimeWeaver();\r\n    }\r\n\r\n    @Bean\r\n    public InstrumentationLoadTimeWeaver loadTimeWeaver()  throws Throwable {\r\n        return new InstrumentationLoadTimeWeaver();\r\n    }\r\n\r\n}\r\n```\r\n\r\nAs well as xml config:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans &lt;!-- namespaces ...--&gt;\r\n\r\n    &lt;!-- this switches on the load-time weaving --&gt;\r\n    &lt;context:load-time-weaver\r\n        weaver-class=&quot;org.springframework.instrument.classloading.InstrumentationLoadTimeWeaver&quot;/&gt;\r\n\r\n    &lt;!-- this switches on the spring aop autoproxy --&gt;\r\n    &lt;!--&lt;aop:aspectj-autoproxy/&gt;--&gt;\r\n\r\n    &lt;!-- a service object; we will be profiling its methods --&gt;\r\n    &lt;bean id=&quot;watch&quot;\r\n          class=&quot;com.sj.utilities.Watch&quot;/&gt;\r\n    &lt;bean id=&quot;monitoringAspect&quot;\r\n          class=&quot;com.sj.aspects.MonitoringAspect&quot;/&gt;\r\n\r\n&lt;/beans&gt;\r\n```\r\n\r\nTo use weave aspect I use this META-INF/aop.xml file:\r\n```xml\r\n&lt;!DOCTYPE aspectj PUBLIC &quot;-//AspectJ//DTD//EN&quot; &quot;https://www.eclipse.org/aspectj/dtd/aspectj.dtd&quot;&gt;\r\n&lt;aspectj&gt;\r\n    &lt;weaver\r\n            options=&quot;-verbose -showWeaveInfo&quot;&gt;\r\n        &lt;!-- only weave classes in our application-specific packages --&gt;\r\n        &lt;include within=&quot;com.sj..*&quot;/&gt;\r\n    &lt;/weaver&gt;\r\n    &lt;aspects&gt;\r\n        &lt;!-- weave in just this aspect --&gt;\r\n        &lt;aspect name=&quot;com.sj.aspects.MonitoringAspect&quot;/&gt;\r\n    &lt;/aspects&gt;\r\n&lt;/aspectj&gt;\r\n```\r\n\r\nDriver class:\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) throws InterruptedException {\r\n        //Check used JVM arguments\r\n        System.out.println(ManagementFactory.getRuntimeMXBean().getInputArguments());\r\n\r\n        //Java class LTW config\r\n        //ApplicationContext context = new AnnotationConfigApplicationContext(AOPConfig.class);\r\n\r\n        //XML LTW config\r\n        ApplicationContext context = new ClassPathXmlApplicationContext(&quot;config/aop-xml-conf.xml&quot;);\r\n        Watch watch = context.getBean(Watch.class);\r\n        watch.sleeping(3000);\r\n    }\r\n}\r\n```\r\n\r\nIn the driver class, I use AnnotationConfig or XMLConfig to use LTW, but weaving isn&#39;t happening, so crosscutting functionality isn&#39;t applied. As well as I print used by JVM arguments.\r\n\r\nThe only thing I see, when using AnnotationConfig or XMLConfig, is JVM arguments that I use:\r\n```\r\n[--add-opens=java.base/java.lang=ALL-UNNAMED, -Dspring.aop.proxy-target-class=false, -Dorg.aspectj.weaver.loadtime.configuration=trace, -Dorg.aspectj.weaver.loadtime.verbose=true, -javaagent:E:\\intelliJIdea_dir\\IntelliJ IDEA Community Edition 2022.2.1\\lib\\idea_rt.jar=55606:E:\\intelliJIdea_dir\\IntelliJ IDEA Community Edition 2022.2.1\\bin, -Dfile.encoding=UTF-8]\r\n```\r\n\r\nAs well as result of _Watch_ class _sleeping_ method:\r\n```\r\nSlept 3000 ms\r\n```\r\n\r\nWhy weaving is not happening, which part of written code is not right? As per [Spring documentation](https://docs.spring.io/spring-framework/docs/6.0.3/reference/html/core.html#aop-aj-ltw) on LTW, as well as   other answers on questions for LTW topic everything should be alright, or I&#39;m missing something?","title":"Spring AOP LTW doesn&#39;t work, weaving doesn&#39;t happening","body":"<p>I'm creating simple experimental program, which use LTW to weave aspect into a class, however aspect load-time weaving doesn't happening. You can check and use code, which I will describe later, in <a href=\"https://github.com/SergejsJevstignejevs/spring-aop-ltw\" rel=\"nofollow noreferrer\">GitHub</a>. I'm using Java 17 and IntelliJ IDE.</p>\n<p>Used aspect:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Aspect\n@Component\npublic class MonitoringAspect {\n\n    @Pointcut(&quot;execution(* com.sj.utilities.Watch.*(..))&quot;)\n    public void monitoringOperation(){}\n\n    @Around(&quot;monitoringOperation()&quot;)\n    public Object aroundAdvice(ProceedingJoinPoint pjp)\n            throws Throwable {\n        System.out.println(&quot;Before &quot; + pjp.getSignature() + &quot; execution!&quot;);\n\n        long startTime = System.nanoTime();\n        Object retVal = pjp.proceed();\n        long endTime = System.nanoTime();\n        long executingTime = endTime - startTime;\n        System.out.println(&quot;Method's execution time:\\n&quot;\n                + &quot;\\t&quot; + executingTime + &quot; ns\\n&quot;\n                + &quot;\\t&quot; + (executingTime / 1000) + &quot; μs\\n&quot;\n                + &quot;\\t&quot; + (executingTime / 1000000) + &quot; ms\\n&quot;\n                + &quot;\\t&quot; + (executingTime / 1000000000) + &quot; s&quot;);\n        System.out.println(&quot;After &quot; + pjp.getSignature() + &quot; execution!&quot;);\n\n        return retVal;\n    }\n\n}\n</code></pre>\n<p>I tried to remove @Component, because aspect bean is not required, however it changed nothing.</p>\n<p>Advised by aspect is simple method <em>sleeping</em> of <em>Watch</em> class, with implementation of FictiveWatch interface (Interface exists only for Spring to use JDK dynamic proxies).</p>\n<p>Created Java annotation config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n//@EnableAspectJAutoProxy\n@EnableLoadTimeWeaving(aspectjWeaving = AspectJWeaving.ENABLED)\n@ComponentScan(&quot;com.sj&quot;)\npublic class AOPConfig implements LoadTimeWeavingConfigurer {\n\n    @Override\n    public LoadTimeWeaver getLoadTimeWeaver() {\n        return new InstrumentationLoadTimeWeaver();\n    }\n\n    @Bean\n    public InstrumentationLoadTimeWeaver loadTimeWeaver()  throws Throwable {\n        return new InstrumentationLoadTimeWeaver();\n    }\n\n}\n</code></pre>\n<p>As well as xml config:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans &lt;!-- namespaces ...--&gt;\n\n    &lt;!-- this switches on the load-time weaving --&gt;\n    &lt;context:load-time-weaver\n        weaver-class=&quot;org.springframework.instrument.classloading.InstrumentationLoadTimeWeaver&quot;/&gt;\n\n    &lt;!-- this switches on the spring aop autoproxy --&gt;\n    &lt;!--&lt;aop:aspectj-autoproxy/&gt;--&gt;\n\n    &lt;!-- a service object; we will be profiling its methods --&gt;\n    &lt;bean id=&quot;watch&quot;\n          class=&quot;com.sj.utilities.Watch&quot;/&gt;\n    &lt;bean id=&quot;monitoringAspect&quot;\n          class=&quot;com.sj.aspects.MonitoringAspect&quot;/&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p>To use weave aspect I use this META-INF/aop.xml file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!DOCTYPE aspectj PUBLIC &quot;-//AspectJ//DTD//EN&quot; &quot;https://www.eclipse.org/aspectj/dtd/aspectj.dtd&quot;&gt;\n&lt;aspectj&gt;\n    &lt;weaver\n            options=&quot;-verbose -showWeaveInfo&quot;&gt;\n        &lt;!-- only weave classes in our application-specific packages --&gt;\n        &lt;include within=&quot;com.sj..*&quot;/&gt;\n    &lt;/weaver&gt;\n    &lt;aspects&gt;\n        &lt;!-- weave in just this aspect --&gt;\n        &lt;aspect name=&quot;com.sj.aspects.MonitoringAspect&quot;/&gt;\n    &lt;/aspects&gt;\n&lt;/aspectj&gt;\n</code></pre>\n<p>Driver class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) throws InterruptedException {\n        //Check used JVM arguments\n        System.out.println(ManagementFactory.getRuntimeMXBean().getInputArguments());\n\n        //Java class LTW config\n        //ApplicationContext context = new AnnotationConfigApplicationContext(AOPConfig.class);\n\n        //XML LTW config\n        ApplicationContext context = new ClassPathXmlApplicationContext(&quot;config/aop-xml-conf.xml&quot;);\n        Watch watch = context.getBean(Watch.class);\n        watch.sleeping(3000);\n    }\n}\n</code></pre>\n<p>In the driver class, I use AnnotationConfig or XMLConfig to use LTW, but weaving isn't happening, so crosscutting functionality isn't applied. As well as I print used by JVM arguments.</p>\n<p>The only thing I see, when using AnnotationConfig or XMLConfig, is JVM arguments that I use:</p>\n<pre><code>[--add-opens=java.base/java.lang=ALL-UNNAMED, -Dspring.aop.proxy-target-class=false, -Dorg.aspectj.weaver.loadtime.configuration=trace, -Dorg.aspectj.weaver.loadtime.verbose=true, -javaagent:E:\\intelliJIdea_dir\\IntelliJ IDEA Community Edition 2022.2.1\\lib\\idea_rt.jar=55606:E:\\intelliJIdea_dir\\IntelliJ IDEA Community Edition 2022.2.1\\bin, -Dfile.encoding=UTF-8]\n</code></pre>\n<p>As well as result of <em>Watch</em> class <em>sleeping</em> method:</p>\n<pre><code>Slept 3000 ms\n</code></pre>\n<p>Why weaving is not happening, which part of written code is not right? As per <a href=\"https://docs.spring.io/spring-framework/docs/6.0.3/reference/html/core.html#aop-aj-ltw\" rel=\"nofollow noreferrer\">Spring documentation</a> on LTW, as well as   other answers on questions for LTW topic everything should be alright, or I'm missing something?</p>\n"},{"tags":["java","maven","jar","package","javaagents"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":1,"creation_date":1677040881,"post_id":75528320,"comment_id":133257109,"body_markdown":"Check the class has been added into the jar after compile, if it is compiled packaged and inserted among other jars, check the contents has compiled and been inserted in such a process also.","body":"Check the class has been added into the jar after compile, if it is compiled packaged and inserted among other jars, check the contents has compiled and been inserted in such a process also."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1677041073,"post_id":75528320,"comment_id":133257122,"body_markdown":"If a jar has a main class, it must be specified according rules syntax of MANIFEST.MF for a main class.","body":"If a jar has a main class, it must be specified according rules syntax of MANIFEST.MF for a main class."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1677041155,"post_id":75528320,"comment_id":133257133,"body_markdown":"In rare  instances, file permission of the jar and contents may need to be set executable for the jar and contents to the OS properties tab","body":"In rare  instances, file permission of the jar and contents may need to be set executable for the jar and contents to the OS properties tab"},{"owner":{"account_id":27847370,"reputation":11,"user_id":21262561,"display_name":"xuyong li"},"score":0,"creation_date":1677073871,"post_id":75528320,"comment_id":133265225,"body_markdown":"I have checked the compiled jar package, he does exist in the main class","body":"I have checked the compiled jar package, he does exist in the main class"},{"owner":{"account_id":27847370,"reputation":11,"user_id":21262561,"display_name":"xuyong li"},"score":0,"creation_date":1677073943,"post_id":75528320,"comment_id":133265251,"body_markdown":"At the same time, I also see that the MANIFEST.MF file in the jar package specifies the Main-Class","body":"At the same time, I also see that the MANIFEST.MF file in the jar package specifies the Main-Class"}],"answers":[{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677220538,"creation_date":1677220538,"answer_id":75553283,"question_id":75528320,"body_markdown":"I&#39;d say you are issuing the wrong command syntax on your terminal or prompt.\r\nFirst problem, there is no -jar flag for the &quot;java&quot; command\r\nIf you type onto your console the command **java -h** you will be given all the -flags you can use with the command java.\r\nSecond to put a package into a jar , create a jar you use the &quot;jar&quot; command\r\n\r\nTo run an executable jar that has a main class, \r\nopen a prompt or terminal into the &quot;working folder&quot; the jar is inside.\r\n\r\nissue the command &quot;example&quot;\r\n\r\n**cd /home/myprojects/jarprojects/proj1**\r\n \r\n**java -64 Detail-RASP-Agent.jar**\r\n\r\nor\r\n\r\n**java -64 -classpath &quot;/home/myprojects/jarprojects/proj1&quot; Detail-RASP-Agent.jar**\r\n\r\nor\r\n \r\n**java -64 -cp &quot;/home/myprojects/jarprojects/proj1&quot; Detail-RASP-Agent.jar**","title":"Error: can not find or load main class com.briar.Agent","body":"<p>I'd say you are issuing the wrong command syntax on your terminal or prompt.\nFirst problem, there is no -jar flag for the &quot;java&quot; command\nIf you type onto your console the command <strong>java -h</strong> you will be given all the -flags you can use with the command java.\nSecond to put a package into a jar , create a jar you use the &quot;jar&quot; command</p>\n<p>To run an executable jar that has a main class,\nopen a prompt or terminal into the &quot;working folder&quot; the jar is inside.</p>\n<p>issue the command &quot;example&quot;</p>\n<p><strong>cd /home/myprojects/jarprojects/proj1</strong></p>\n<p><strong>java -64 Detail-RASP-Agent.jar</strong></p>\n<p>or</p>\n<p><strong>java -64 -classpath &quot;/home/myprojects/jarprojects/proj1&quot; Detail-RASP-Agent.jar</strong></p>\n<p>or</p>\n<p><strong>java -64 -cp &quot;/home/myprojects/jarprojects/proj1&quot; Detail-RASP-Agent.jar</strong></p>\n"},{"tags":[],"owner":{"account_id":27847370,"reputation":11,"user_id":21262561,"display_name":"xuyong li"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677310026,"creation_date":1677310026,"answer_id":75563915,"question_id":75528320,"body_markdown":"I know what&#39;s wrong.My manifest.mf file is wrong.After removing the classpath attribute, it runs successfully.\r\n","title":"Error: can not find or load main class com.briar.Agent","body":"<p>I know what's wrong.My manifest.mf file is wrong.After removing the classpath attribute, it runs successfully.</p>\n"}],"owner":{"account_id":27847370,"reputation":11,"user_id":21262561,"display_name":"xuyong li"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75563915,"answer_count":2,"score":1,"last_activity_date":1677310026,"creation_date":1677040610,"question_id":75528320,"body_markdown":"My project structure is as follows：\r\n---Detail-RASP---src\r\n\r\nMy maven pom file：\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;com.briar&lt;/groupId&gt;\r\n  &lt;artifactId&gt;Detail-RASP&lt;/artifactId&gt;\r\n  &lt;name&gt;Detail-RASP&lt;/name&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;build&gt;\r\n    &lt;finalName&gt;Detail-RASP-Agent&lt;/finalName&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven.compiler.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;${jdk.version}&lt;/source&gt;\r\n          &lt;target&gt;${jdk.version}&lt;/target&gt;\r\n          &lt;encoding&gt;${maven.compiler.encoding}&lt;/encoding&gt;\r\n          &lt;skip&gt;true&lt;/skip&gt;\r\n          &lt;compilerArguments&gt;\r\n            &lt;bootclasspath&gt;${java.home}/lib/rt.jar&lt;/bootclasspath&gt;\r\n          &lt;/compilerArguments&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.1&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;shade&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;filters&gt;\r\n                &lt;filter&gt;\r\n                  &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                  &lt;excludes&gt;\r\n                    &lt;exclude&gt;META-INF/maven/&lt;/exclude&gt;\r\n                  &lt;/excludes&gt;\r\n                &lt;/filter&gt;\r\n              &lt;/filters&gt;\r\n              &lt;transformers&gt;\r\n                &lt;transformer&gt;\r\n                  &lt;manifestEntries&gt;\r\n                    &lt;Premain-Class&gt;com.briar.Agent&lt;/Premain-Class&gt;\r\n                    &lt;Agent-Class&gt;com.briar.Agent&lt;/Agent-Class&gt;\r\n                    &lt;Can-Redefine-Classes&gt;true&lt;/Can-Redefine-Classes&gt;\r\n                    &lt;Can-Retransform-Classes&gt;true&lt;/Can-Retransform-Classes&gt;\r\n                    &lt;Main-Class&gt;com.briar.Agent&lt;/Main-Class&gt;\r\n                    &lt;Class-Path&gt;. ${java.home}\\..\\lib\\tools.jar ${build.finalName}.jar&lt;/Class-Path&gt;\r\n                    &lt;Can-Set-Native-Method-Prefix&gt;true&lt;/Can-Set-Native-Method-Prefix&gt;\r\n                  &lt;/manifestEntries&gt;\r\n                &lt;/transformer&gt;\r\n              &lt;/transformers&gt;\r\n              &lt;relocations&gt;\r\n                &lt;relocation&gt;\r\n                  &lt;pattern&gt;org.yaml&lt;/pattern&gt;\r\n                  &lt;shadedPattern&gt;com.briar.org.yaml&lt;/shadedPattern&gt;\r\n                &lt;/relocation&gt;\r\n                &lt;relocation&gt;\r\n                  &lt;pattern&gt;javassist&lt;/pattern&gt;\r\n                  &lt;shadedPattern&gt;com.briar.org.javassist&lt;/shadedPattern&gt;\r\n                &lt;/relocation&gt;\r\n              &lt;/relocations&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;3.8.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.sun&lt;/groupId&gt;\r\n      &lt;artifactId&gt;tools&lt;/artifactId&gt;\r\n      &lt;version&gt;${tools.version}&lt;/version&gt;\r\n      &lt;scope&gt;system&lt;/scope&gt;\r\n      &lt;systemPath&gt;${java.home}/../lib/tools.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  &lt;properties&gt;\r\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    &lt;jdk.version&gt;8&lt;/jdk.version&gt;\r\n    &lt;maven.compiler.encoding&gt;UTF-8&lt;/maven.compiler.encoding&gt;\r\n    &lt;tools.version&gt;1.8.0&lt;/tools.version&gt;\r\n    &lt;maven.compiler.version&gt;3.1&lt;/maven.compiler.version&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;junit.version&gt;3.8.1&lt;/junit.version&gt;\r\n  &lt;/properties&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\nI click clean and package，then &quot;cd&quot; to target, `java -jar Detail-RASP-Agent.jar`,I get the error;\r\n`Error: can not find or load main class com.briar.Agent`\r\nI check the the MANIFEST.MF file and I see that Main-Class has been added.But still there is this error.\r\n\r\n\r\n\r\nI tried adding . to the classpath of MANIFEST.MF, but it doesn&#39;t work.At the same time, I checked the entire project and the MANIFEST.MF file and there is no problem\r\n\r\nI add -Xdiag parameter to see the details, the details are as follows:\r\n\r\n```\r\nError: can not find or load main class com.briar.Agent\r\njava.lang.ClassNotFoundException: com.briar.Agent\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n        at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:601)\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GwjL3.png","title":"Error: can not find or load main class com.briar.Agent","body":"<p>My project structure is as follows：\n---Detail-RASP---src</p>\n<p>My maven pom file：</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.briar&lt;/groupId&gt;\n  &lt;artifactId&gt;Detail-RASP&lt;/artifactId&gt;\n  &lt;name&gt;Detail-RASP&lt;/name&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;build&gt;\n    &lt;finalName&gt;Detail-RASP-Agent&lt;/finalName&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven.compiler.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;${jdk.version}&lt;/source&gt;\n          &lt;target&gt;${jdk.version}&lt;/target&gt;\n          &lt;encoding&gt;${maven.compiler.encoding}&lt;/encoding&gt;\n          &lt;skip&gt;true&lt;/skip&gt;\n          &lt;compilerArguments&gt;\n            &lt;bootclasspath&gt;${java.home}/lib/rt.jar&lt;/bootclasspath&gt;\n          &lt;/compilerArguments&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;filters&gt;\n                &lt;filter&gt;\n                  &lt;artifact&gt;*:*&lt;/artifact&gt;\n                  &lt;excludes&gt;\n                    &lt;exclude&gt;META-INF/maven/&lt;/exclude&gt;\n                  &lt;/excludes&gt;\n                &lt;/filter&gt;\n              &lt;/filters&gt;\n              &lt;transformers&gt;\n                &lt;transformer&gt;\n                  &lt;manifestEntries&gt;\n                    &lt;Premain-Class&gt;com.briar.Agent&lt;/Premain-Class&gt;\n                    &lt;Agent-Class&gt;com.briar.Agent&lt;/Agent-Class&gt;\n                    &lt;Can-Redefine-Classes&gt;true&lt;/Can-Redefine-Classes&gt;\n                    &lt;Can-Retransform-Classes&gt;true&lt;/Can-Retransform-Classes&gt;\n                    &lt;Main-Class&gt;com.briar.Agent&lt;/Main-Class&gt;\n                    &lt;Class-Path&gt;. ${java.home}\\..\\lib\\tools.jar ${build.finalName}.jar&lt;/Class-Path&gt;\n                    &lt;Can-Set-Native-Method-Prefix&gt;true&lt;/Can-Set-Native-Method-Prefix&gt;\n                  &lt;/manifestEntries&gt;\n                &lt;/transformer&gt;\n              &lt;/transformers&gt;\n              &lt;relocations&gt;\n                &lt;relocation&gt;\n                  &lt;pattern&gt;org.yaml&lt;/pattern&gt;\n                  &lt;shadedPattern&gt;com.briar.org.yaml&lt;/shadedPattern&gt;\n                &lt;/relocation&gt;\n                &lt;relocation&gt;\n                  &lt;pattern&gt;javassist&lt;/pattern&gt;\n                  &lt;shadedPattern&gt;com.briar.org.javassist&lt;/shadedPattern&gt;\n                &lt;/relocation&gt;\n              &lt;/relocations&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.sun&lt;/groupId&gt;\n      &lt;artifactId&gt;tools&lt;/artifactId&gt;\n      &lt;version&gt;${tools.version}&lt;/version&gt;\n      &lt;scope&gt;system&lt;/scope&gt;\n      &lt;systemPath&gt;${java.home}/../lib/tools.jar&lt;/systemPath&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;properties&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;jdk.version&gt;8&lt;/jdk.version&gt;\n    &lt;maven.compiler.encoding&gt;UTF-8&lt;/maven.compiler.encoding&gt;\n    &lt;tools.version&gt;1.8.0&lt;/tools.version&gt;\n    &lt;maven.compiler.version&gt;3.1&lt;/maven.compiler.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;junit.version&gt;3.8.1&lt;/junit.version&gt;\n  &lt;/properties&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>I click clean and package，then &quot;cd&quot; to target, <code>java -jar Detail-RASP-Agent.jar</code>,I get the error;\n<code>Error: can not find or load main class com.briar.Agent</code>\nI check the the MANIFEST.MF file and I see that Main-Class has been added.But still there is this error.</p>\n<p>I tried adding . to the classpath of MANIFEST.MF, but it doesn't work.At the same time, I checked the entire project and the MANIFEST.MF file and there is no problem</p>\n<p>I add -Xdiag parameter to see the details, the details are as follows:</p>\n<pre><code>Error: can not find or load main class com.briar.Agent\njava.lang.ClassNotFoundException: com.briar.Agent\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n        at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:601)\n\n</code></pre>\n"},{"tags":["java","android","gson","jcenter"],"comments":[{"owner":{"account_id":13179806,"reputation":91,"user_id":21197077,"display_name":"gneginskiy"},"score":1,"creation_date":1677307539,"post_id":75563727,"comment_id":133315952,"body_markdown":"try using maven central instead. if you use gradle then you can try `implementation &#39;com.google.code.gson:gson:2.10&#39;` in `dependencies` and `mavenCentral()` in `repositories` . No need to replace gson with anything else, it&#39;s an issue with dependency resolution","body":"try using maven central instead. if you use gradle then you can try <code>implementation &#39;com.google.code.gson:gson:2.10&#39;</code> in <code>dependencies</code> and <code>mavenCentral()</code> in <code>repositories</code> . No need to replace gson with anything else, it&#39;s an issue with dependency resolution"}],"answers":[{"tags":[],"owner":{"account_id":5783150,"reputation":158,"user_id":5340734,"display_name":"Umang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677308065,"creation_date":1677308065,"answer_id":75563785,"question_id":75563727,"body_markdown":"Don&#39;t include the ```jcenter()``` repository in your build config to avoid getting outdated dependencies. according to the official documentation https://developer.android.com/studio/build/jcenter-migration\r\n\r\nYou can use ```mavenCentral()```, in your project level ```build.gradle``` add ```repositories {\r\n        google()  // Google&#39;s Maven repository\r\n        mavenCentral()  // Maven Central repository\r\n    }``` and in app level ```build.gradle``` add ```\r\nimplementation group: &#39;com.google.code.gson&#39;, name: &#39;gson&#39;, version: &#39;2.10&#39;```","title":"What is the alternative to Gson in android studios","body":"<p>Don't include the <code>jcenter()</code> repository in your build config to avoid getting outdated dependencies. according to the official documentation <a href=\"https://developer.android.com/studio/build/jcenter-migration\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/build/jcenter-migration</a></p>\n<p>You can use <code>mavenCentral()</code>, in your project level <code>build.gradle</code> add <code>repositories { google()  // Google's Maven repository mavenCentral()  // Maven Central repository }</code> and in app level <code>build.gradle</code> add <code> implementation group: 'com.google.code.gson', name: 'gson', version: '2.10'</code></p>\n"}],"owner":{"account_id":22409571,"reputation":5,"user_id":16618561,"display_name":"Srujan Reddy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75563785,"answer_count":1,"score":0,"last_activity_date":1677309375,"creation_date":1677307169,"question_id":75563727,"body_markdown":"[here is the screenshot][1] I am developing an android application for my college project and I ran into an error; &quot; Cannot resolve symbol Gson&quot;.\r\n\r\nI tried adding the `jcenter()` repository in my build config to resolve the problem....but still it&#39;s not working. Later I came to know that `jcenter()` had been deprecated...Now how do I resolve my problem?? Any advice would be appreciated\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oIJaC.png","title":"What is the alternative to Gson in android studios","body":"<p><a href=\"https://i.stack.imgur.com/oIJaC.png\" rel=\"nofollow noreferrer\">here is the screenshot</a> I am developing an android application for my college project and I ran into an error; &quot; Cannot resolve symbol Gson&quot;.</p>\n<p>I tried adding the <code>jcenter()</code> repository in my build config to resolve the problem....but still it's not working. Later I came to know that <code>jcenter()</code> had been deprecated...Now how do I resolve my problem?? Any advice would be appreciated</p>\n"},{"tags":["java","maven","exception","plugins"],"comments":[{"owner":{"account_id":17323136,"reputation":175,"user_id":12548037,"display_name":"Eugen"},"score":0,"creation_date":1580390715,"post_id":59986900,"comment_id":106087387,"body_markdown":"I saw similar questions and nevertheless I opened this topic because  existing answers didn&#39;t solve my problem","body":"I saw similar questions and nevertheless I opened this topic because  existing answers didn&#39;t solve my problem"},{"owner":{"account_id":881430,"reputation":290,"user_id":263597,"display_name":"gbuys"},"score":0,"creation_date":1580391265,"post_id":59986900,"comment_id":106087711,"body_markdown":"Most likely an incompatibility between jacoco version and the JDK version that&#39;s running your maven project.  Try to google on &#39;NoSuchFieldException: $jacocoAccess&#39; and you&#39;ll find a few useful hits","body":"Most likely an incompatibility between jacoco version and the JDK version that&#39;s running your maven project.  Try to google on &#39;NoSuchFieldException: $jacocoAccess&#39; and you&#39;ll find a few useful hits"}],"answers":[{"tags":[],"owner":{"account_id":17323136,"reputation":175,"user_id":12548037,"display_name":"Eugen"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1605726084,"creation_date":1580393135,"answer_id":59987807,"question_id":59986900,"body_markdown":"The answer below helped. For me it was a problem between Jacoco version and my JDK. \r\n\r\nThere are two options to solve this:\r\n\r\n 1. Make sure that there is an appropriate version for your JDK and upgrade jacoco\r\n 2. Use an older JDK\r\n","title":"Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException while installing maven project","body":"<p>The answer below helped. For me it was a problem between Jacoco version and my JDK.</p>\n<p>There are two options to solve this:</p>\n<ol>\n<li>Make sure that there is an appropriate version for your JDK and upgrade jacoco</li>\n<li>Use an older JDK</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7372308,"reputation":782,"user_id":5612132,"display_name":"Abdoulie Kassama"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1586004000,"creation_date":1586004000,"answer_id":61028211,"question_id":59986900,"body_markdown":"Just to add to the given answer. My issue was due to the fact that I was using Java 14. JaCoCo needed an older version. So I downloaded and installed JDK 1.8.0. Now in IntelliJ:\r\n\r\nGo to `project structure` (top right)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nClick on `Project` under `Project Settings`\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThen select JDK 1.8\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/l1eJK.png\r\n  [2]: https://i.stack.imgur.com/GkzH5.png\r\n  [3]: https://i.stack.imgur.com/Jqo0b.png","title":"Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException while installing maven project","body":"<p>Just to add to the given answer. My issue was due to the fact that I was using Java 14. JaCoCo needed an older version. So I downloaded and installed JDK 1.8.0. Now in IntelliJ:</p>\n\n<p>Go to <code>project structure</code> (top right)</p>\n\n<p><a href=\"https://i.stack.imgur.com/l1eJK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l1eJK.png\" alt=\"enter image description here\"></a></p>\n\n<p>Click on <code>Project</code> under <code>Project Settings</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/GkzH5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GkzH5.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then select JDK 1.8</p>\n\n<p><a href=\"https://i.stack.imgur.com/Jqo0b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jqo0b.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":20024941,"reputation":111,"user_id":14678978,"display_name":"Shane Park"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677308859,"creation_date":1677308859,"answer_id":75563843,"question_id":59986900,"body_markdown":"If you are using gradle and failing `test with coverage`\r\ntry changing Gradle JVM\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gsymL.png\r\n\r\nthen it worked for me","title":"Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException while installing maven project","body":"<p>If you are using gradle and failing <code>test with coverage</code>\ntry changing Gradle JVM\n<a href=\"https://i.stack.imgur.com/gsymL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gsymL.png\" alt=\"enter image description here\" /></a></p>\n<p>then it worked for me</p>\n"}],"owner":{"account_id":17323136,"reputation":175,"user_id":12548037,"display_name":"Eugen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12862,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":59987807,"answer_count":3,"score":2,"last_activity_date":1677308859,"creation_date":1580390127,"question_id":59986900,"body_markdown":"I&#39;m trying to install maven project but facing an \r\n\r\n&gt; exception: Failed to execute goal\r\n&gt; org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M3:test\r\n&gt; (default-test)\r\n\r\nThere are test failures.\r\n\r\nWhen I looked at the .dump file I see this:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n    \r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \r\n    at java.instrument/sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:513)\r\n    \r\n    at java.instrument/sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:525)\r\n    \r\n    Caused by: java.lang.RuntimeException: Class java/lang/UnknownError could not be instrumented.\r\n    \r\n    org.jacoco.agent.rt.internal_c13123e.core.runtime.ModifiedSystemClassRuntime.createFor(ModifiedSystemClassRuntime.java:140)\r\n    \r\n    org.jacoco.agent.rt.internal_c13123e.core.runtime.ModifiedSystemClassRuntime.createFor(ModifiedSystemClassRuntime.java:101)\r\n    \r\n    \tat org.jacoco.agent.rt.internal_c13123e.PreMain.createRuntime(PreMain.java:55)\r\n    \r\n    \tat org.jacoco.agent.rt.internal_c13123e.PreMain.premain(PreMain.java:47)\r\n    \r\n    Caused by: java.lang.NoSuchFieldException: $jacocoAccess\r\n    \r\n    \tat java.base/java.lang.Class.getField(Class.java:1999)\r\n    \r\n    org.jacoco.agent.rt.internal_c13123e.core.runtime.ModifiedSystemClassRuntime.createFor(ModifiedSystemClassRuntime.java:138)\r\n    \r\n    *** java.lang.instrument ASSERTION FAILED ***: &quot;result&quot; with message agent load/premain call failed at  line: 422\r\n\r\nI&#39;m pretty sure there is no any problems in the code as it works well on other computers. Skipping tests is not an option because it is an integration-tests module\r\n","title":"Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException while installing maven project","body":"<p>I'm trying to install maven project but facing an </p>\n\n<blockquote>\n  <p>exception: Failed to execute goal\n  org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M3:test\n  (default-test)</p>\n</blockquote>\n\n<p>There are test failures.</p>\n\n<p>When I looked at the .dump file I see this:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.reflect.InvocationTargetException\n\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\nat java.instrument/sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:513)\n\nat java.instrument/sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:525)\n\nCaused by: java.lang.RuntimeException: Class java/lang/UnknownError could not be instrumented.\n\norg.jacoco.agent.rt.internal_c13123e.core.runtime.ModifiedSystemClassRuntime.createFor(ModifiedSystemClassRuntime.java:140)\n\norg.jacoco.agent.rt.internal_c13123e.core.runtime.ModifiedSystemClassRuntime.createFor(ModifiedSystemClassRuntime.java:101)\n\n    at org.jacoco.agent.rt.internal_c13123e.PreMain.createRuntime(PreMain.java:55)\n\n    at org.jacoco.agent.rt.internal_c13123e.PreMain.premain(PreMain.java:47)\n\nCaused by: java.lang.NoSuchFieldException: $jacocoAccess\n\n    at java.base/java.lang.Class.getField(Class.java:1999)\n\norg.jacoco.agent.rt.internal_c13123e.core.runtime.ModifiedSystemClassRuntime.createFor(ModifiedSystemClassRuntime.java:138)\n\n*** java.lang.instrument ASSERTION FAILED ***: \"result\" with message agent load/premain call failed at  line: 422\n</code></pre>\n\n<p>I'm pretty sure there is no any problems in the code as it works well on other computers. Skipping tests is not an option because it is an integration-tests module</p>\n"},{"tags":["java","android","sqlite","android-cursor"],"answers":[{"tags":[],"owner":{"account_id":2104561,"reputation":8300,"user_id":1871207,"display_name":"NigelK"},"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1390157100,"creation_date":1390157100,"answer_id":21221016,"question_id":21219039,"body_markdown":"This error is nearly always due to not closing a cursor when it&#39;s finished with. Every time you open a cursor, memory is required to map the data that cursor represents and that memory cannot be released until the cursor is closed. There is a limit to the amount of memory available for this purpose so if cursors are not closed and an application continues to open new ones, this error is likely to occur at some point.\r\n\r\nI recommend you examine your code to make sure that all cursors created are being closed at some point. Also take care with any code that opens a cursor within a loop - your error message says &#39;open Cursors=736&#39; which suggests a lot of cursor activity within a loop of some sort.","title":"android.database.CursorWindowAllocationException when moving a Cursor","body":"<p>This error is nearly always due to not closing a cursor when it's finished with. Every time you open a cursor, memory is required to map the data that cursor represents and that memory cannot be released until the cursor is closed. There is a limit to the amount of memory available for this purpose so if cursors are not closed and an application continues to open new ones, this error is likely to occur at some point.</p>\n\n<p>I recommend you examine your code to make sure that all cursors created are being closed at some point. Also take care with any code that opens a cursor within a loop - your error message says 'open Cursors=736' which suggests a lot of cursor activity within a loop of some sort.</p>\n"}],"owner":{"account_id":1361461,"reputation":1592,"user_id":1298744,"accept_rate":71,"display_name":"Zelig63"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19164,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":21221016,"answer_count":1,"score":17,"last_activity_date":1677306719,"creation_date":1390147063,"question_id":21219039,"body_markdown":"I&#39;am using an SQLite database and I regularly get runtime errors I can&#39;t find the origin of. After a query, I use `moveToFirst` to point on the first record retrieved and this sometimes triggers an `android.database.CursorWindowAllocationException` exception. Added to this exception is the following sentence : &quot;Cursor window allocation of 2048kb failed.# open Cursors=736 (#cursors opendby this proc=736)&quot;.\r\n \r\nIn the Android documentation, I haven&#39;t found anything related to this exception yet. Does anyone know it&#39;s cause and a way to avoid it?","title":"android.database.CursorWindowAllocationException when moving a Cursor","body":"<p>I'am using an SQLite database and I regularly get runtime errors I can't find the origin of. After a query, I use <code>moveToFirst</code> to point on the first record retrieved and this sometimes triggers an <code>android.database.CursorWindowAllocationException</code> exception. Added to this exception is the following sentence : \"Cursor window allocation of 2048kb failed.# open Cursors=736 (#cursors opendby this proc=736)\".</p>\n\n<p>In the Android documentation, I haven't found anything related to this exception yet. Does anyone know it's cause and a way to avoid it?</p>\n"},{"tags":["java","resteasy"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1676667597,"post_id":75488776,"comment_id":133190879,"body_markdown":"What version of RESTEasy are you using?","body":"What version of RESTEasy are you using?"},{"owner":{"account_id":44871,"reputation":22865,"user_id":131929,"accept_rate":83,"display_name":"Marcel St&#246;r"},"score":0,"creation_date":1676672225,"post_id":75488776,"comment_id":133191758,"body_markdown":"RedHat Quarkus ships with RESTEasy 4.7.7.","body":"RedHat Quarkus ships with RESTEasy 4.7.7."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1676672534,"post_id":75488776,"comment_id":133191813,"body_markdown":"If you use the MP REST Client it extends `AutoCloseable` and allows the connection to be closed. That seems like a reasonable feature request in RESTEasy to me.","body":"If you use the MP REST Client it extends <code>AutoCloseable</code> and allows the connection to be closed. That seems like a reasonable feature request in RESTEasy to me."},{"owner":{"account_id":44871,"reputation":22865,"user_id":131929,"accept_rate":83,"display_name":"Marcel St&#246;r"},"score":0,"creation_date":1676673890,"post_id":75488776,"comment_id":133192062,"body_markdown":"Hhh, that seems like a really valuable hint, thanks. Sorry, this is all so new to me that I first had to figure out what &quot;MP&quot; stands for. I checked the docs at https://docs.jboss.org/resteasy/docs/4.7.7.Final/userguide/html/MicroProfile_Rest_Client.html; currently analyzing how to potentially migrate our code base. What is e.g. the MP equivalent to this: `ClientBuilder.newBuilder().build().target(urlBuilder.build()).register(MyClientRequestFilter(appName, tokenProvider))`?","body":"Hhh, that seems like a really valuable hint, thanks. Sorry, this is all so new to me that I first had to figure out what &quot;MP&quot; stands for. I checked the docs at <a href=\"https://docs.jboss.org/resteasy/docs/4.7.7.Final/userguide/html/MicroProfile_Rest_Client.html\" rel=\"nofollow noreferrer\">docs.jboss.org/resteasy/docs/4.7.7.Final/userguide/html/&hellip;</a>; currently analyzing how to potentially migrate our code base. What is e.g. the MP equivalent to this: <code>ClientBuilder.newBuilder().build().target(urlBuilder.build()&zwnj;&#8203;).register(MyClientR&zwnj;&#8203;equestFilter(appName&zwnj;&#8203;, tokenProvider))</code>?"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1676908440,"post_id":75488776,"comment_id":133227356,"body_markdown":"Something like this `RestClientBuilder.newBuilder()\n        .baseUri(urlBuilder.build())\n        .register(yClientRequestFilter(appName, tokenProvider))\n        .build(MoviesResource.class);`. You can also just inject it with CDI.","body":"Something like this <code>RestClientBuilder.newBuilder()         .baseUri(urlBuilder.build())         .register(yClientRequestFilter(appName, tokenProvider))         .build(MoviesResource.class);</code>. You can also just inject it with CDI."},{"owner":{"account_id":44871,"reputation":22865,"user_id":131929,"accept_rate":83,"display_name":"Marcel St&#246;r"},"score":0,"creation_date":1676968046,"post_id":75488776,"comment_id":133238558,"body_markdown":"Thanks James. I was bit stuck on your earlier statement: &quot;use the MP REST Client it extends `AutoCloseable`&quot;. Looking at `RestClientDelegateBean.destroy()` and the `CloseableClientTest` you recently added, isn&#39;t it more like &quot;let the proxy interface extend `AutoCloseable` such that MP RESTEasy can close it&quot;?","body":"Thanks James. I was bit stuck on your earlier statement: &quot;use the MP REST Client it extends <code>AutoCloseable</code>&quot;. Looking at <code>RestClientDelegateBean.destroy()</code> and the <code>CloseableClientTest</code> you recently added, isn&#39;t it more like &quot;let the proxy interface extend <code>AutoCloseable</code> such that MP RESTEasy can close it&quot;?"},{"owner":{"account_id":44871,"reputation":22865,"user_id":131929,"accept_rate":83,"display_name":"Marcel St&#246;r"},"score":0,"creation_date":1676993412,"post_id":75488776,"comment_id":133246745,"body_markdown":"That is to say that I didn&#39;t find any code that would support the claim that MP `RestClientBuilder.build()` would automatically create an `AutoCloseable` proxy. Btw, I&#39;m working with Quarkus which ships with its own almost-copy of that builder (`QuarkusRestClientBuilder`).","body":"That is to say that I didn&#39;t find any code that would support the claim that MP <code>RestClientBuilder.build()</code> would automatically create an <code>AutoCloseable</code> proxy. Btw, I&#39;m working with Quarkus which ships with its own almost-copy of that builder (<code>QuarkusRestClientBuilder</code>)."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1676993738,"post_id":75488776,"comment_id":133246851,"body_markdown":"Yes, sorry that I was&#39;t clear. The MP spec requires the proxy extend `Closeable` or `AutoCloseable` if the interface does not already extend one of them https://download.eclipse.org/microprofile/microprofile-rest-client-3.0/microprofile-rest-client-spec-3.0.html#lifecycle. With CDI it automatically closes the proxy when the proxy is destroyed.","body":"Yes, sorry that I was&#39;t clear. The MP spec requires the proxy extend <code>Closeable</code> or <code>AutoCloseable</code> if the interface does not already extend one of them <a href=\"https://download.eclipse.org/microprofile/microprofile-rest-client-3.0/microprofile-rest-client-spec-3.0.html#lifecycle\" rel=\"nofollow noreferrer\">download.eclipse.org/microprofile/microprofile-rest-client-3&zwnj;&#8203;.0/&hellip;</a>. With CDI it automatically closes the proxy when the proxy is destroyed."}],"answers":[{"tags":[],"owner":{"account_id":44871,"reputation":22865,"user_id":131929,"accept_rate":83,"display_name":"Marcel St&#246;r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677306521,"creation_date":1677077010,"answer_id":75534315,"question_id":75488776,"body_markdown":"Thanks to all the feedback from @james-r-perkins I eventually I arrived at the following (Kotlin) code:\r\n\r\n```kotlin\r\nfinal inline fun &lt;reified T : AutoCloseable&gt; createServiceProxy(\r\n    serviceName: String\r\n): T = RestClientBuilder.newBuilder()\r\n    .baseUri(createServiceUriBuilder(serviceName).build())\r\n    .register(MyClientRequestFilter(appName, tokenProvider))\r\n    .build(T::class.java)\r\n```\r\n\r\nContrary to my earlier comment both the [RESTEasy MP `RestClientBuilderImpl`][1] and the [Quarkus `QuarkusRestClientBuilder`][2] DO create proxies that _also_ implement `Closeable` (which extends `AutoCloseable`). Just as James said...\r\n\r\nHowever, we see value in enforcing that our client interfaces extend `AutoCloseable` directly. Sure, it&#39;s a few extra characters in the source code but on the plus-side it&#39;s type information the compiler can use to allow us to simplify code elsewhere. Hence, it&#39;s crucial here that the generics declaration is `T : AutoCloseable` rather than `T : Any`.\r\n\r\n\r\n  [1]: https://github.com/resteasy/resteasy-microprofile/blob/main/rest-client-base/src/main/java/org/jboss/resteasy/microprofile/client/RestClientBuilderImpl.java#L385\r\n  [2]: https://github.com/quarkusio/quarkus/blob/main/extensions/resteasy-classic/rest-client/runtime/src/main/java/io/quarkus/restclient/runtime/QuarkusRestClientBuilder.java#L362","title":"How to close a proxied RESTEasy WebTarget","body":"<p>Thanks to all the feedback from @james-r-perkins I eventually I arrived at the following (Kotlin) code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>final inline fun &lt;reified T : AutoCloseable&gt; createServiceProxy(\n    serviceName: String\n): T = RestClientBuilder.newBuilder()\n    .baseUri(createServiceUriBuilder(serviceName).build())\n    .register(MyClientRequestFilter(appName, tokenProvider))\n    .build(T::class.java)\n</code></pre>\n<p>Contrary to my earlier comment both the <a href=\"https://github.com/resteasy/resteasy-microprofile/blob/main/rest-client-base/src/main/java/org/jboss/resteasy/microprofile/client/RestClientBuilderImpl.java#L385\" rel=\"nofollow noreferrer\">RESTEasy MP <code>RestClientBuilderImpl</code></a> and the <a href=\"https://github.com/quarkusio/quarkus/blob/main/extensions/resteasy-classic/rest-client/runtime/src/main/java/io/quarkus/restclient/runtime/QuarkusRestClientBuilder.java#L362\" rel=\"nofollow noreferrer\">Quarkus <code>QuarkusRestClientBuilder</code></a> DO create proxies that <em>also</em> implement <code>Closeable</code> (which extends <code>AutoCloseable</code>). Just as James said...</p>\n<p>However, we see value in enforcing that our client interfaces extend <code>AutoCloseable</code> directly. Sure, it's a few extra characters in the source code but on the plus-side it's type information the compiler can use to allow us to simplify code elsewhere. Hence, it's crucial here that the generics declaration is <code>T : AutoCloseable</code> rather than <code>T : Any</code>.</p>\n"}],"owner":{"account_id":44871,"reputation":22865,"user_id":131929,"accept_rate":83,"display_name":"Marcel St&#246;r"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":515,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75534315,"answer_count":1,"score":0,"last_activity_date":1677306521,"creation_date":1676664145,"question_id":75488776,"body_markdown":"Given the following RESTEasy snippet\r\n\r\n    UriBuilder FULL_PATH = UriBuilder.fromPath(&quot;http://127.0.0.1:8080/movies&quot;);\r\n\r\n    ResteasyClient client = (ResteasyClient)ClientBuilder.newClient();\r\n    ResteasyWebTarget target = client.target(FULL_PATH);\r\n    MoviesResource proxy = target.proxy(MoviesResource.class);\r\n\r\n    Movie movie = proxy.movieById(someId);\r\n\r\nI could/can/should close `WebTarget` or `Client` to free resources I allocated*.\r\n\r\nHowever, what do I do if the creation of the proxy object and everything it depends on is handed off to a separate class like so:\r\n\r\n    public class Foo {\r\n        private UriBuilder FULL_PATH = UriBuilder.fromPath(&quot;http://127.0.0.1:8080/movies&quot;);\r\n    \r\n        public MoviesResource getMoviesApi() {\r\n            ResteasyClient client = (ResteasyClient)ClientBuilder.newClient();\r\n            ResteasyWebTarget target = client.target(FULL_PATH);\r\n            return target.proxy(MoviesResource.class);\r\n        }\r\n    }\r\n\r\n    ...\r\n\r\n    MoviesResource proxy = myFoo.getMoviesApi();\r\n    Movie movie = proxy.movieById(someId);\r\n    // A) how to clean up here?\r\n\r\nHow do I close the `WebTarget` or `Client` or their underlying resources? I can&#39;t get access to either of them through the proxied instance.\r\nIf I do *not* close them I get this dreaded warning\r\n\r\n&gt;  RESTEASY004687: Closing a class org.jboss.resteasy.client.jaxrs.engines.ApacheHttpClient43Engine instance for you. Please close clients yourself.\r\n\r\nHence, RESTEasy does clean up for me but that&#39;s of course not what I should rely on.\r\n\r\n*there are discussions in a number of places eg. https://stackoverflow.com/q/33097230/131929 and https://stackoverflow.com/q/24700798/131929 about what is reusable and what not","title":"How to close a proxied RESTEasy WebTarget","body":"<p>Given the following RESTEasy snippet</p>\n<pre><code>UriBuilder FULL_PATH = UriBuilder.fromPath(&quot;http://127.0.0.1:8080/movies&quot;);\n\nResteasyClient client = (ResteasyClient)ClientBuilder.newClient();\nResteasyWebTarget target = client.target(FULL_PATH);\nMoviesResource proxy = target.proxy(MoviesResource.class);\n\nMovie movie = proxy.movieById(someId);\n</code></pre>\n<p>I could/can/should close <code>WebTarget</code> or <code>Client</code> to free resources I allocated*.</p>\n<p>However, what do I do if the creation of the proxy object and everything it depends on is handed off to a separate class like so:</p>\n<pre><code>public class Foo {\n    private UriBuilder FULL_PATH = UriBuilder.fromPath(&quot;http://127.0.0.1:8080/movies&quot;);\n\n    public MoviesResource getMoviesApi() {\n        ResteasyClient client = (ResteasyClient)ClientBuilder.newClient();\n        ResteasyWebTarget target = client.target(FULL_PATH);\n        return target.proxy(MoviesResource.class);\n    }\n}\n\n...\n\nMoviesResource proxy = myFoo.getMoviesApi();\nMovie movie = proxy.movieById(someId);\n// A) how to clean up here?\n</code></pre>\n<p>How do I close the <code>WebTarget</code> or <code>Client</code> or their underlying resources? I can't get access to either of them through the proxied instance.\nIf I do <em>not</em> close them I get this dreaded warning</p>\n<blockquote>\n<p>RESTEASY004687: Closing a class org.jboss.resteasy.client.jaxrs.engines.ApacheHttpClient43Engine instance for you. Please close clients yourself.</p>\n</blockquote>\n<p>Hence, RESTEasy does clean up for me but that's of course not what I should rely on.</p>\n<p>*there are discussions in a number of places eg. <a href=\"https://stackoverflow.com/q/33097230/131929\">Reusing JAX RS Client in multi-threaded environment (with resteasy)</a> and <a href=\"https://stackoverflow.com/q/24700798/131929\">Is JAX-RS Client Thread Safe</a> about what is reusable and what not</p>\n"},{"tags":["java","flutter","android-studio","kotlin","android-gradle-plugin"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1677323297,"post_id":75563616,"comment_id":133317610,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":26377046,"reputation":1,"user_id":20030844,"display_name":"Chala Geta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677305649,"creation_date":1677305649,"question_id":75563616,"body_markdown":" Gradle threw an error while downloading artifacts from the network. \r\n\r\nI tried to correct it by changing its version but it can not run successfully","title":"Gradle threw an error while downloading artifacts from the network. Retrying Gradle Build:","body":"<p>Gradle threw an error while downloading artifacts from the network.</p>\n<p>I tried to correct it by changing its version but it can not run successfully</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":323466,"reputation":14771,"user_id":643500,"display_name":"Sully"},"score":0,"creation_date":1646076604,"post_id":71300043,"comment_id":126030699,"body_markdown":"When it comes to save() Optional means an object may exist and does not focus on db constraints.  For delete() JPA returns void","body":"When it comes to save() Optional means an object may exist and does not focus on db constraints.  For delete() JPA returns void"},{"owner":{"account_id":5282291,"reputation":109,"user_id":4217240,"display_name":"Atul Kumar"},"score":0,"creation_date":1646077589,"post_id":71300043,"comment_id":126031017,"body_markdown":"Did you try this,  @Override\n public Optional&lt;Employee&gt; saveEmployee(Employee employee) {\n     return Optional.ofNullable(employeeRepository.save(employee));\n }","body":"Did you try this,  @Override  public Optional&lt;Employee&gt; saveEmployee(Employee employee) {      return Optional.ofNullable(employeeRepository.save(employee));  }"},{"owner":{"account_id":22617161,"reputation":158,"user_id":16796536,"display_name":"Simon Oelerich"},"score":1,"creation_date":1646153552,"post_id":71300043,"comment_id":126051047,"body_markdown":"For the last question, if that&#39;s something people do: I do not bother about it. When your entity cannot be persisted an error will be thrown. In your last example you catch the exception and produce a response status 500, but that is what Spring would do on its own anyways, when the exception is not handled by your code. There are situations where you really want to handle exceptions, for a simple REST controller I don&#39;t see a benefit. (Except you want to produce a &quot;readable&quot; error message for any reason).","body":"For the last question, if that&#39;s something people do: I do not bother about it. When your entity cannot be persisted an error will be thrown. In your last example you catch the exception and produce a response status 500, but that is what Spring would do on its own anyways, when the exception is not handled by your code. There are situations where you really want to handle exceptions, for a simple REST controller I don&#39;t see a benefit. (Except you want to produce a &quot;readable&quot; error message for any reason)."},{"owner":{"account_id":9505356,"reputation":1019,"user_id":11225028,"display_name":"Luk"},"score":0,"creation_date":1646154116,"post_id":71300043,"comment_id":126051278,"body_markdown":"@SimonOelerich thx for your comment! So, would you suggest to just go with the second last example, just as it was originally? In this case, am I not returning an http status of 200 every time, even if a DataAccessException occurs (due to the ResponseEntity.ok()) ?","body":"@SimonOelerich thx for your comment! So, would you suggest to just go with the second last example, just as it was originally? In this case, am I not returning an http status of 200 every time, even if a DataAccessException occurs (due to the ResponseEntity.ok()) ?"},{"owner":{"account_id":22617161,"reputation":158,"user_id":16796536,"display_name":"Simon Oelerich"},"score":0,"creation_date":1646176221,"post_id":71300043,"comment_id":126057907,"body_markdown":"Yes, simply returning `ResponseEntity.ok(emplyeeRepo.findById(id))` is sufficient. For all save/find/delete it is fine. And most likely you won&#39;t need the service in addition to the repository. You can directly call the JpaRepository methods, as the exception handling is done by spring independent of its origin. You would only need it if there is additional business logic beyond simple bean validation.","body":"Yes, simply returning <code>ResponseEntity.ok(emplyeeRepo.findById(id))</code> is sufficient. For all save/find/delete it is fine. And most likely you won&#39;t need the service in addition to the repository. You can directly call the JpaRepository methods, as the exception handling is done by spring independent of its origin. You would only need it if there is additional business logic beyond simple bean validation."}],"answers":[{"tags":[],"owner":{"account_id":23617210,"reputation":256,"user_id":17651108,"display_name":"Azadi Yazdani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646078153,"creation_date":1646078153,"answer_id":71300434,"question_id":71300043,"body_markdown":"The method &quot;save&quot; always returns you the same object you are going to save. Only by checking the &quot;id&quot;, you can see if the object is saved or not. But if an error occurs in the database, an exception will be thrown and you can catch it by putting &quot;employeeRepository.save(employee)&quot; in a try-catch block. The same way you can do for deleteById","title":"Spring Data JPA - how to implement proper exception handling?","body":"<p>The method &quot;save&quot; always returns you the same object you are going to save. Only by checking the &quot;id&quot;, you can see if the object is saved or not. But if an error occurs in the database, an exception will be thrown and you can catch it by putting &quot;employeeRepository.save(employee)&quot; in a try-catch block. The same way you can do for deleteById</p>\n"},{"tags":[],"owner":{"account_id":8921796,"reputation":21,"user_id":6658040,"display_name":"Kevin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677305260,"creation_date":1677280862,"answer_id":75562239,"question_id":71300043,"body_markdown":"I had a similar problem, I wanted to capture any error that might occur while inserting, updating or deleting data. I have adapted my code as indicated by Azadi Yazdani, I implemented the exception in the services layer and it worked as I wanted, thanks Azadi Yazdani.\r\n    \r\n    @Service\r\n    public class UsuarioServiceImpl implements UsuarioService {\r\n        @Autowired\r\n        UsuarioRepository repository;\r\n        @Override\r\n        public long grabar(Usuario usuario) {\r\n            long result =0;\r\n            try {\r\n                Usuario u=repository.save(usuario);\r\n                result=u.getId_usuario();\r\n            }catch (DataAccessException e){\r\n                result=-1;\r\n            }\r\n            return result;\r\n        }\r\n    }","title":"Spring Data JPA - how to implement proper exception handling?","body":"<p>I had a similar problem, I wanted to capture any error that might occur while inserting, updating or deleting data. I have adapted my code as indicated by Azadi Yazdani, I implemented the exception in the services layer and it worked as I wanted, thanks Azadi Yazdani.</p>\n<pre><code>@Service\npublic class UsuarioServiceImpl implements UsuarioService {\n    @Autowired\n    UsuarioRepository repository;\n    @Override\n    public long grabar(Usuario usuario) {\n        long result =0;\n        try {\n            Usuario u=repository.save(usuario);\n            result=u.getId_usuario();\n        }catch (DataAccessException e){\n            result=-1;\n        }\n        return result;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9505356,"reputation":1019,"user_id":11225028,"display_name":"Luk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17667,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1677305260,"creation_date":1646076105,"question_id":71300043,"body_markdown":"I am using Spring Data JPA to process database calls. For this purpose, I have created: \r\n\r\n1. An EmployeeRepository interface, which extends a `JpaRepository&lt;Employee, Long&gt;`\r\n2. An EmployeeService, which defines three methods: \r\n\r\n        Employee saveEmployee(Employee employee);\r\n        Optional&lt;Employee&gt; getEmployee(Long id);\r\n        Long deleteEmployee(Long id);\r\n    \r\n\r\n3. An implementation of the EmployeeService: \r\n\r\n\t    @Override\r\n\t    public Employee saveEmployee(Employee employee) {\r\n\t\t    return employeeRepository.save(employee);\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public Optional&lt;Employee&gt; getEmployee(Long id) {\r\n\t\t    return employeeRepository.findEmployeeById(id);\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public Long deleteEmployee(Long id) {\r\n\t\t    employeeRepository.deleteById(id);\r\n\t\t    return id;\r\n\t    } \r\n\r\nThe issue is the following: \r\n\r\nThe get-methods work fine and can return an optional. The save-method, on the other hand, cannot return an optional. Apparently the JpaRepository returns an instance of the saved object upon calling save(). I would rather return an optional, since something could go wrong when saving the employee and in that case, I would like to throw an error - i.e. whenever the optional is not present, I throw an error. \r\n\r\nThe same holds for the delete-operation: What, for example, if I ask to delete an employee and pass in an id, which does not exist? I would like to catch this error and only then return the passed in id, if the delete operation was successfull. Which error would I have to catch for this purpose? Can someone explain this to me?\r\n\r\n\r\n=================================================\r\n\r\nupdate: \r\n\r\n- I have fixed the problem with the delete-call by simply checking if the given employee-id exists before calling `deleteById(id); if it doesn&#39;t, the service returns null, if it does, it return the id. The controller looks like this: \r\n\r\n\t    @DeleteMapping(&quot;/{id}&quot;)\r\n\t    public ResponseEntity&lt;Long&gt; deleteEmployee(@PathVariable Long id) {\r\n\t\t    Long deletedEmployeeId = employeeService.deleteEmployee(id);\r\n\t\t    if (deletedEmployeeId != null) {\r\n\t\t\t    return ResponseEntity.ok(deletedEmployeeId);\r\n\t\t} else {\r\n            return ResponseEntity.status(HttpStatus.BAD_REQUEST);\r\n\t\t}\r\n\r\nI am missing the DataAccessException, however. So, can it be that I would actually have to do the following: \r\n\r\n\t    @DeleteMapping(&quot;/{id}&quot;)\r\n\t    public ResponseEntity&lt;Long&gt; deleteEmployee(@PathVariable Long id) {\r\n            try {\r\n\t\t        Long deletedEmployeeId = employeeService.deleteEmployee(id);\r\n\t\t        if (deletedEmployeeId != null) {\r\n\t\t\t        return ResponseEntity.ok(deletedEmployeeId);\r\n\t\t        } else {\r\n                    return ResponseEntity.status(HttpStatus.BAD_REQUEST);\r\n\t\t        }\r\n             } catch (DataAccessException e) {\r\n                 return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)\r\n             }\r\n\r\nThis looks a bit like an over-kill to be honest.\r\n\r\n- I am still a bit unsure how to deal with the save-call. Before I posted this question, my controller was simply doing the following: \r\n\r\n\t    @PostMapping\r\n\t    public ResponseEntity&lt;Employee&gt; saveEmployee(@RequestBody Employee employee) {\r\n\t\t    return ResponseEntity.ok(employeeService.saveEmployee(employee));\r\n\t    }\r\n\r\nWhat happens, if `employeeService.saveEmployee(employee)` throws a DataAccessException? Am I still returning a HTTP-status-code of 200, as I wrap the response in an `ResponseEntity.ok()` ? \r\n\r\nIf so, I would suggest to do the following: \r\n\r\n\r\n\t    @PostMapping\r\n\t    public ResponseEntity&lt;Employee&gt; saveEmployee(@RequestBody Employee employee) {\r\n\t\t    try {\r\n                Employee savedEmployee = employeeService.saveEmployee(employee);\r\n                return ResponseEntity.ok(savedEmployee);\r\n            } catch (DataAccessException e) {\r\n                return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR);\r\n            }\r\n\t    }\r\n\r\nIs this something people do? Or are DataAccessExceptions usually neglected as they are not expected? \r\n","title":"Spring Data JPA - how to implement proper exception handling?","body":"<p>I am using Spring Data JPA to process database calls. For this purpose, I have created:</p>\n<ol>\n<li><p>An EmployeeRepository interface, which extends a <code>JpaRepository&lt;Employee, Long&gt;</code></p>\n</li>\n<li><p>An EmployeeService, which defines three methods:</p>\n<pre><code> Employee saveEmployee(Employee employee);\n Optional&lt;Employee&gt; getEmployee(Long id);\n Long deleteEmployee(Long id);\n</code></pre>\n</li>\n<li><p>An implementation of the EmployeeService:</p>\n<pre><code> @Override\n public Employee saveEmployee(Employee employee) {\n     return employeeRepository.save(employee);\n }\n\n @Override\n public Optional&lt;Employee&gt; getEmployee(Long id) {\n     return employeeRepository.findEmployeeById(id);\n }\n\n @Override\n public Long deleteEmployee(Long id) {\n     employeeRepository.deleteById(id);\n     return id;\n } \n</code></pre>\n</li>\n</ol>\n<p>The issue is the following:</p>\n<p>The get-methods work fine and can return an optional. The save-method, on the other hand, cannot return an optional. Apparently the JpaRepository returns an instance of the saved object upon calling save(). I would rather return an optional, since something could go wrong when saving the employee and in that case, I would like to throw an error - i.e. whenever the optional is not present, I throw an error.</p>\n<p>The same holds for the delete-operation: What, for example, if I ask to delete an employee and pass in an id, which does not exist? I would like to catch this error and only then return the passed in id, if the delete operation was successfull. Which error would I have to catch for this purpose? Can someone explain this to me?</p>\n<p>=================================================</p>\n<p>update:</p>\n<ul>\n<li><p>I have fixed the problem with the delete-call by simply checking if the given employee-id exists before calling `deleteById(id); if it doesn't, the service returns null, if it does, it return the id. The controller looks like this:</p>\n<pre><code>  @DeleteMapping(&quot;/{id}&quot;)\n  public ResponseEntity&lt;Long&gt; deleteEmployee(@PathVariable Long id) {\n      Long deletedEmployeeId = employeeService.deleteEmployee(id);\n      if (deletedEmployeeId != null) {\n          return ResponseEntity.ok(deletedEmployeeId);\n  } else {\n      return ResponseEntity.status(HttpStatus.BAD_REQUEST);\n  }\n</code></pre>\n</li>\n</ul>\n<p>I am missing the DataAccessException, however. So, can it be that I would actually have to do the following:</p>\n<pre><code>    @DeleteMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;Long&gt; deleteEmployee(@PathVariable Long id) {\n        try {\n            Long deletedEmployeeId = employeeService.deleteEmployee(id);\n            if (deletedEmployeeId != null) {\n                return ResponseEntity.ok(deletedEmployeeId);\n            } else {\n                return ResponseEntity.status(HttpStatus.BAD_REQUEST);\n            }\n         } catch (DataAccessException e) {\n             return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)\n         }\n</code></pre>\n<p>This looks a bit like an over-kill to be honest.</p>\n<ul>\n<li><p>I am still a bit unsure how to deal with the save-call. Before I posted this question, my controller was simply doing the following:</p>\n<pre><code>  @PostMapping\n  public ResponseEntity&lt;Employee&gt; saveEmployee(@RequestBody Employee employee) {\n      return ResponseEntity.ok(employeeService.saveEmployee(employee));\n  }\n</code></pre>\n</li>\n</ul>\n<p>What happens, if <code>employeeService.saveEmployee(employee)</code> throws a DataAccessException? Am I still returning a HTTP-status-code of 200, as I wrap the response in an <code>ResponseEntity.ok()</code> ?</p>\n<p>If so, I would suggest to do the following:</p>\n<pre><code>    @PostMapping\n    public ResponseEntity&lt;Employee&gt; saveEmployee(@RequestBody Employee employee) {\n        try {\n            Employee savedEmployee = employeeService.saveEmployee(employee);\n            return ResponseEntity.ok(savedEmployee);\n        } catch (DataAccessException e) {\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n    }\n</code></pre>\n<p>Is this something people do? Or are DataAccessExceptions usually neglected as they are not expected?</p>\n"},{"tags":["java","multidimensional-array","2d"],"comments":[{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1677289498,"post_id":75562605,"comment_id":133314453,"body_markdown":"What do the first 5 lines of ELEVATIONS.TXT look like? Also, to debug this, temporarily change `SIZE = 10` or maybe even 3. Place a breakpoint on the `count++` line and inspect your 2d array. This way you will see what is going on. Finally, note that in `elevations[count][0] = fileInput.nextInt();` you are not incrementing the second dimension. It&#39;s always `0`.","body":"What do the first 5 lines of ELEVATIONS.TXT look like? Also, to debug this, temporarily change <code>SIZE = 10</code> or maybe even 3. Place a breakpoint on the <code>count++</code> line and inspect your 2d array. This way you will see what is going on. Finally, note that in <code>elevations[count][0] = fileInput.nextInt();</code> you are not incrementing the second dimension. It&#39;s always <code>0</code>."},{"owner":{"account_id":27873487,"reputation":1,"user_id":21283457,"display_name":"Andrew Hayes"},"score":0,"creation_date":1677291327,"post_id":75562605,"comment_id":133314628,"body_markdown":"The first 5 lines looks like:\n30155 77655 30054 40100 20690 42850 87875 36904 92785 77712 46938 36564 etc...\n\nIf i change size to 10 it just shows me the count as 99 (array if size 100)","body":"The first 5 lines looks like: 30155 77655 30054 40100 20690 42850 87875 36904 92785 77712 46938 36564 etc...  If i change size to 10 it just shows me the count as 99 (array if size 100)"},{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1677338704,"post_id":75562605,"comment_id":133320096,"body_markdown":"Sorry for being imprecise in my request. Please put lines in your question, in a code block. I&#39;m trying figure out how you are supposed to get a 2d array out of the data. Are there two numbers on each line, only two lines in the file, or ...? Show the first few lines of the data file in you question. Use the triple back tick formatting that is used for code blocks. Also, did you run the code and inspect the value of `elevations` at the breakpoint on `count++`? You should realize there&#39;s a flaw in your thinking by stepping through the code at that point.","body":"Sorry for being imprecise in my request. Please put lines in your question, in a code block. I&#39;m trying figure out how you are supposed to get a 2d array out of the data. Are there two numbers on each line, only two lines in the file, or ...? Show the first few lines of the data file in you question. Use the triple back tick formatting that is used for code blocks. Also, did you run the code and inspect the value of <code>elevations</code> at the breakpoint on <code>count++</code>? You should realize there&#39;s a flaw in your thinking by stepping through the code at that point."}],"owner":{"account_id":27873487,"reputation":1,"user_id":21283457,"display_name":"Andrew Hayes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677304199,"creation_date":1677285978,"question_id":75562605,"body_markdown":"I&#39;m working on a data structures and algorithms problem for a class I am taking.\r\n\r\nI am asked to put the contents of a .txt file into a 2d array and find the lowest value and the number of times it appears in the array. The .txt file contains a large number of sets of numbers ranging from 20000-120000. \r\n\r\n29432, 113244, 96324...etc..    \r\n  \r\nHere is the code I have.\r\n\r\n```\r\nclass A1_Part1 {\r\n    public static void main(String[] args) throws FileNotFoundException {\r\n        final int SIZE = 10000; \r\n        int count = 0;\r\n        int[][] elevations = new int[SIZE][SIZE];\r\n\r\n        final String filename = &quot;src/ELEVATIONS.TXT&quot;;\r\n        File file= new File(filename);\r\n        Scanner fileInput = new Scanner(file);\r\n\r\n        while (fileInput.hasNextLine() &amp;&amp; count &lt; elevations.length) {\r\n            elevations[count][0] = fileInput.nextInt();\r\n//            System.out.println(Arrays.deepToString(elevations));\r\n            count++;\r\n        }\r\n\r\n        int[][] numbers = Arrays.copyOf(elevations, count); \r\n        fileInput.close();\r\n\r\n            int[] result = getMin(numbers);\r\n            System.out.printf(&quot;%d is the lowest elevation and appears %d times&quot;,\r\n                    +result[0], result[1]);\r\n\r\n        }\r\n\r\n    public static int[] getMin(int[][] numbers) {\r\n        int minValue = numbers[0][0];\r\n        int count = 0;\r\n        for (int i = 0; i &lt; numbers.length; i++) {\r\n            for (int j = 0; j &lt; numbers[i].length ; j++) {\r\n                if (numbers[i][j] &lt; minValue)\r\n                    minValue = numbers[i][j];\r\n                else if (numbers[i][j] == minValue)\r\n                    count++;\r\n            }\r\n        }return new int[]{minValue, count};\r\n\r\n\r\n    }\r\n```\r\n\r\nWhen I run the program,  I get the answers 0 and 999999999.\r\nI realize that I am only getting the result of min value as 0 because when I print the array using the Arrays.deepToString method I get nothing but millions of 0&#39;s.  It looks like the code is just making a blank array full of 100 million 0s.  \r\n\r\nI&#39;ve been trying a ton of different things to solve this but I cannot get the contents of the file into the array for processing with the getMin method.  I thought that the while loop would step through the array and add the values of the .txt file to the elevations array but its not doing that.\r\n\r\nI am not allowed to use ArrayList for this problem, hence why I have count and arrays.copyOf in the main method to get the actual size of the array. \r\n\r\nWhat am I missing?  ","title":"Can&#39;t figure out how to put contents of txt file into 2d array","body":"<p>I'm working on a data structures and algorithms problem for a class I am taking.</p>\n<p>I am asked to put the contents of a .txt file into a 2d array and find the lowest value and the number of times it appears in the array. The .txt file contains a large number of sets of numbers ranging from 20000-120000.</p>\n<p>29432, 113244, 96324...etc..</p>\n<p>Here is the code I have.</p>\n<pre><code>class A1_Part1 {\n    public static void main(String[] args) throws FileNotFoundException {\n        final int SIZE = 10000; \n        int count = 0;\n        int[][] elevations = new int[SIZE][SIZE];\n\n        final String filename = &quot;src/ELEVATIONS.TXT&quot;;\n        File file= new File(filename);\n        Scanner fileInput = new Scanner(file);\n\n        while (fileInput.hasNextLine() &amp;&amp; count &lt; elevations.length) {\n            elevations[count][0] = fileInput.nextInt();\n//            System.out.println(Arrays.deepToString(elevations));\n            count++;\n        }\n\n        int[][] numbers = Arrays.copyOf(elevations, count); \n        fileInput.close();\n\n            int[] result = getMin(numbers);\n            System.out.printf(&quot;%d is the lowest elevation and appears %d times&quot;,\n                    +result[0], result[1]);\n\n        }\n\n    public static int[] getMin(int[][] numbers) {\n        int minValue = numbers[0][0];\n        int count = 0;\n        for (int i = 0; i &lt; numbers.length; i++) {\n            for (int j = 0; j &lt; numbers[i].length ; j++) {\n                if (numbers[i][j] &lt; minValue)\n                    minValue = numbers[i][j];\n                else if (numbers[i][j] == minValue)\n                    count++;\n            }\n        }return new int[]{minValue, count};\n\n\n    }\n</code></pre>\n<p>When I run the program,  I get the answers 0 and 999999999.\nI realize that I am only getting the result of min value as 0 because when I print the array using the Arrays.deepToString method I get nothing but millions of 0's.  It looks like the code is just making a blank array full of 100 million 0s.</p>\n<p>I've been trying a ton of different things to solve this but I cannot get the contents of the file into the array for processing with the getMin method.  I thought that the while loop would step through the array and add the values of the .txt file to the elevations array but its not doing that.</p>\n<p>I am not allowed to use ArrayList for this problem, hence why I have count and arrays.copyOf in the main method to get the actual size of the array.</p>\n<p>What am I missing?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17824966,"reputation":325,"user_id":12946395,"display_name":"printf"},"score":2,"creation_date":1677303638,"post_id":75563502,"comment_id":133315614,"body_markdown":"`yourHand` and `computerHand` – have you declared those variables?","body":"<code>yourHand</code> and <code>computerHand</code> – have you declared those variables?"}],"answers":[{"tags":[],"owner":{"account_id":20843035,"reputation":48,"user_id":15309212,"display_name":"Matt_CV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677303998,"creation_date":1677303998,"answer_id":75563536,"question_id":75563502,"body_markdown":"Java is different from Python in that you need to declare the type when declaring a variable. Add &#39;int&#39; in front of &#39;yourHand&#39; and &#39;computerHand&#39;.\r\n\r\nYour last &#39;system.out.println&#39; also needs to be capitalized (&quot;System.out.println&quot;). Otherwise it seems to work as intended with these modifications. Wish you the best in learning Java!","title":"Rock Paper Scissors program giving me errors.. not sure how to fix","body":"<p>Java is different from Python in that you need to declare the type when declaring a variable. Add 'int' in front of 'yourHand' and 'computerHand'.</p>\n<p>Your last 'system.out.println' also needs to be capitalized (&quot;System.out.println&quot;). Otherwise it seems to work as intended with these modifications. Wish you the best in learning Java!</p>\n"}],"owner":{"account_id":27874491,"reputation":3,"user_id":21284256,"display_name":"mofnezz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1677700285,"accepted_answer_id":75563536,"answer_count":1,"score":-1,"last_activity_date":1677303998,"creation_date":1677303399,"question_id":75563502,"body_markdown":"my program keeps giving me the same symbol not found error`your text` and I can&#39;t figure out what&#39;s wrong! i&#39;m fairly new to using java, so any help would be greatly appreciated, thank you!\r\n\r\n\r\n```\r\nimport java.util.Random;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n  public static void main(String[] args) {  \r\n    Scanner in = new Scanner(System.in);\r\n    System.out.println(&quot;\\tMenu\\n\\n(1) Rock\\n(2) Paper\\n(3) Scissors&quot; + &quot;\\n\\nEnter Your Hand (1, 2, or 3): &quot;);\r\n    yourHand = in.nextInt();\r\n    computerHand = ((int)(Math.random() * 100) % 3 + 1);\r\n    // rock = 1\r\n    // paper = 2\r\n    // scissors = 3 (this is all for me so i remember)\r\n    if (yourHand == 1 &amp;&amp; computerHand == 3) {\r\n        System.out.println(&quot;omg yay you win&quot;);\r\n    }\r\n    if (yourHand == 2 &amp;&amp; computerHand == 1) {\r\n        System.out.println(&quot;omg yay you win&quot;);\r\n    }\r\n    if (yourHand == 3 &amp;&amp; computerHand == 2) {\r\n        System.out.println(&quot;omg yay you win&quot;);\r\n    }\r\n    \r\n    \r\n    if (yourHand == 3 &amp;&amp; computerHand == 1) {\r\n        System.out.println(&quot;imagine losing.. embarrassing&quot;);\r\n    }\r\n    if (yourHand == 1 &amp;&amp; computerHand == 2) {\r\n        System.out.println(&quot;imagine losing.. embarrassing&quot;);\r\n    }\r\n    if (yourHand == 2 &amp;&amp; computerHand == 3) {\r\n        System.out.println(&quot;imagine losing.. embarrassing&quot;);\r\n    } else {\r\n        system.out.println(&quot;tie? idk maybe lol&quot;);\r\n    }\r\n}\r\n}\r\n```\r\n","title":"Rock Paper Scissors program giving me errors.. not sure how to fix","body":"<p>my program keeps giving me the same symbol not found error<code>your text</code> and I can't figure out what's wrong! i'm fairly new to using java, so any help would be greatly appreciated, thank you!</p>\n<pre><code>import java.util.Random;\nimport java.util.Scanner;\n\npublic class Main {\n  public static void main(String[] args) {  \n    Scanner in = new Scanner(System.in);\n    System.out.println(&quot;\\tMenu\\n\\n(1) Rock\\n(2) Paper\\n(3) Scissors&quot; + &quot;\\n\\nEnter Your Hand (1, 2, or 3): &quot;);\n    yourHand = in.nextInt();\n    computerHand = ((int)(Math.random() * 100) % 3 + 1);\n    // rock = 1\n    // paper = 2\n    // scissors = 3 (this is all for me so i remember)\n    if (yourHand == 1 &amp;&amp; computerHand == 3) {\n        System.out.println(&quot;omg yay you win&quot;);\n    }\n    if (yourHand == 2 &amp;&amp; computerHand == 1) {\n        System.out.println(&quot;omg yay you win&quot;);\n    }\n    if (yourHand == 3 &amp;&amp; computerHand == 2) {\n        System.out.println(&quot;omg yay you win&quot;);\n    }\n    \n    \n    if (yourHand == 3 &amp;&amp; computerHand == 1) {\n        System.out.println(&quot;imagine losing.. embarrassing&quot;);\n    }\n    if (yourHand == 1 &amp;&amp; computerHand == 2) {\n        System.out.println(&quot;imagine losing.. embarrassing&quot;);\n    }\n    if (yourHand == 2 &amp;&amp; computerHand == 3) {\n        System.out.println(&quot;imagine losing.. embarrassing&quot;);\n    } else {\n        system.out.println(&quot;tie? idk maybe lol&quot;);\n    }\n}\n}\n</code></pre>\n"},{"tags":["java","validation","spring-mvc","model-view-controller"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1538644155,"post_id":52642873,"comment_id":92218205,"body_markdown":"You could create an extra class that validates your constraints as shown [here](https://www.journaldev.com/2668/spring-validation-example-mvc-validator)... There is even an interface for validators: `org.springframework.validation.Validator;`","body":"You could create an extra class that validates your constraints as shown <a href=\"https://www.journaldev.com/2668/spring-validation-example-mvc-validator\" rel=\"nofollow noreferrer\">here</a>... There is even an interface for validators: <code>org.springframework.validation.Validator;</code>"},{"owner":{"account_id":4777913,"reputation":2557,"user_id":3860531,"display_name":"Sumesh TG"},"score":0,"creation_date":1538645116,"post_id":52642873,"comment_id":92218776,"body_markdown":"Try hibernate validator refer https://www.tutorialspoint.com/springmvc/springmvc_hibernate_validator.htm. You can define validation in model class itself.","body":"Try hibernate validator refer <a href=\"https://www.tutorialspoint.com/springmvc/springmvc_hibernate_validator.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/springmvc/springmvc_hibernate_validator.h&zwnj;&#8203;tm</a>. You can define validation in model class itself."},{"owner":{"account_id":4804320,"reputation":452,"user_id":3879941,"display_name":"Aman J"},"score":0,"creation_date":1538647626,"post_id":52642873,"comment_id":92220297,"body_markdown":"Why don&#39;t you validate in the service class instead, that&#39;s where this logic should be, the controllers should just control data flow in and out of the application.","body":"Why don&#39;t you validate in the service class instead, that&#39;s where this logic should be, the controllers should just control data flow in and out of the application."},{"owner":{"account_id":9818803,"reputation":958,"user_id":7274408,"display_name":"Brad"},"score":0,"creation_date":1538647958,"post_id":52642873,"comment_id":92220464,"body_markdown":"@AmanJ because having validation annotations over the Customer properties(eg. NotNull over the name property), when I map in the Controller  the DTO recieved to a new Customer object (customerDTO -&gt; newCustomer), if the title is missing in the DTO the error is thrown","body":"@AmanJ because having validation annotations over the Customer properties(eg. NotNull over the name property), when I map in the Controller  the DTO recieved to a new Customer object (customerDTO -&gt; newCustomer), if the title is missing in the DTO the error is thrown"},{"owner":{"account_id":4804320,"reputation":452,"user_id":3879941,"display_name":"Aman J"},"score":0,"creation_date":1538648092,"post_id":52642873,"comment_id":92220537,"body_markdown":"@AdrianBrad Recieve the CustomerDTO in the service class and do the conversion there","body":"@AdrianBrad Recieve the CustomerDTO in the service class and do the conversion there"},{"owner":{"account_id":9818803,"reputation":958,"user_id":7274408,"display_name":"Brad"},"score":0,"creation_date":1538648457,"post_id":52642873,"comment_id":92220742,"body_markdown":"@AmanJ service is in the business logic layer and should not have any idea about the objects used for representation. Eg. I can have multiple representations for the Customer like CustomerDTO, CustomerAndOrdersDTO and my service only accepts Customer as the input for it&#39;s CRUD functions. So, those representations should be converted to domain models(Customer) in the Controller and then sent to the service. We also can have different Controllers for different Views but they all should use the same service layer.","body":"@AmanJ service is in the business logic layer and should not have any idea about the objects used for representation. Eg. I can have multiple representations for the Customer like CustomerDTO, CustomerAndOrdersDTO and my service only accepts Customer as the input for it&#39;s CRUD functions. So, those representations should be converted to domain models(Customer) in the Controller and then sent to the service. We also can have different Controllers for different Views but they all should use the same service layer."},{"owner":{"account_id":6766059,"reputation":1299,"user_id":5211043,"accept_rate":100,"display_name":"The Bitman"},"score":0,"creation_date":1538683719,"post_id":52642873,"comment_id":92240206,"body_markdown":"You don&#39;t need the extra DTO class, Just use the entity for this reason. Entities only have a single, data storage responsibility without any business logic.","body":"You don&#39;t need the extra DTO class, Just use the entity for this reason. Entities only have a single, data storage responsibility without any business logic."},{"owner":{"account_id":6766059,"reputation":1299,"user_id":5211043,"accept_rate":100,"display_name":"The Bitman"},"score":0,"creation_date":1538683894,"post_id":52642873,"comment_id":92240278,"body_markdown":"You can use an exception handler AOP aspect.","body":"You can use an exception handler AOP aspect."},{"owner":{"account_id":6766059,"reputation":1299,"user_id":5211043,"accept_rate":100,"display_name":"The Bitman"},"score":0,"creation_date":1538684049,"post_id":52642873,"comment_id":92240341,"body_markdown":"You have to use the `@valid` Spring annotation on controller method parameters to perform the validation process.","body":"You have to use the <code>@valid</code> Spring annotation on controller method parameters to perform the validation process."}],"answers":[{"tags":[],"owner":{"account_id":9818803,"reputation":958,"user_id":7274408,"display_name":"Brad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1541147063,"creation_date":1541147063,"answer_id":53114988,"question_id":52642873,"body_markdown":"Looking more into this, I came to the following conclusion. Validation for persisting an object should happen as soon as possible and at property level, as you don&#39;t want your persistence layer or any mappers that you might be using deal with **null** when it is not expected. Everything that goes past **property validation**, shall be approached from a [contextual validation perspective][1], and be passed to methods that hold logic for a given context.\r\n\r\n&gt;  Is this order valid to be filled, is this customer valid to check in to the hotel. So rather than have methods like isValid have methods like isValidForCheckIn.\r\n\r\n\r\n  [1]: https://martinfowler.com/bliki/ContextualValidation.html","title":"MVC design - Can I have domain model validation in the Controller class?","body":"<p>Looking more into this, I came to the following conclusion. Validation for persisting an object should happen as soon as possible and at property level, as you don't want your persistence layer or any mappers that you might be using deal with <strong>null</strong> when it is not expected. Everything that goes past <strong>property validation</strong>, shall be approached from a <a href=\"https://martinfowler.com/bliki/ContextualValidation.html\" rel=\"nofollow noreferrer\">contextual validation perspective</a>, and be passed to methods that hold logic for a given context.</p>\n\n<blockquote>\n  <p>Is this order valid to be filled, is this customer valid to check in to the hotel. So rather than have methods like isValid have methods like isValidForCheckIn.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":43784,"reputation":365,"user_id":128151,"accept_rate":33,"display_name":"jruillier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677303848,"creation_date":1677287927,"answer_id":75562736,"question_id":52642873,"body_markdown":"I&#39;m the author of [SmartConstraints][1], an annotation processor that allows you to reuse validation annotations from your entities to your DTOs without rewriting them. I think it could solve your problem gracefully.\r\n\r\nAfter enabling SmartConstraints, just annotate your DTO like :\r\n```java\r\npublic class CustmerDTO{\r\n    @ValidName\r\n    private String name;\r\n}\r\n```\r\n\r\nAnd enable validation at controller level with (at class level) :\r\n```java\r\n@Validated\r\n```\r\n\r\n\r\n  [1]: https://github.com/jruillier/smartconstraints","title":"MVC design - Can I have domain model validation in the Controller class?","body":"<p>I'm the author of <a href=\"https://github.com/jruillier/smartconstraints\" rel=\"nofollow noreferrer\">SmartConstraints</a>, an annotation processor that allows you to reuse validation annotations from your entities to your DTOs without rewriting them. I think it could solve your problem gracefully.</p>\n<p>After enabling SmartConstraints, just annotate your DTO like :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustmerDTO{\n    @ValidName\n    private String name;\n}\n</code></pre>\n<p>And enable validation at controller level with (at class level) :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Validated\n</code></pre>\n"}],"owner":{"account_id":9818803,"reputation":958,"user_id":7274408,"display_name":"Brad"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53114988,"answer_count":2,"score":1,"last_activity_date":1677303848,"creation_date":1538643625,"question_id":52642873,"body_markdown":"The following is just an exmaple for context not the actual implementation. Using Spring MVC, I have the following **Model** which has validation based on annotations.\r\n\r\n    @Entity\r\n    public class Customer {\r\n       @Id private int id;\r\n       @NotNull private String name;\r\n    }\r\n\r\nAnd the following **DTO** used to map the data received in the request&#39;s body in the **Controller&#39;s** `createNewCustomer` function.\r\n\r\n    public class CustmerDTO{\r\n        private String name;\r\n    }\r\n\r\nIn my **Controller** I am using the `modelMapper` to convert the `customerDTO` to a new domain model **Customer** object. Based on the *@NotNull* annotation, if the **name** property of the recieved object (`customerDTO`) is empty the *ConstraintViolationException* is thrown.\r\n\r\n\r\n    public class CustomerController {\r\n        @Autowired private CustomerService customerService;\r\n        @Autowired private ModelMapper modelMapper;\r\n\r\n        @PostMapping(value = &quot;/customer&quot;)\r\n        public Customer createNewCustomer (@RequestBody CustomerDTO customerDTO) {\r\n            try {\r\n                Customer newCustomer = modelMapper.map(customerDTO, Customer.class);\r\n                return customerService.saveCustomer(newCustomer);\r\n            }\r\n            catch (ConstraintViolationException e) {\r\n                throw new CustomerMissingInformation();\r\n            }\r\n        }\r\n    }\r\n\r\nAs you can see here I handle validation for the **Customer** in the **Controller**, which by definition is not a good habit, as **Controllers** in **MVC** are part of the **presentation layer**, and should have no clue about how to perform data validation, also I want to keep my controllers as light as possible.\r\n\r\nCan I keep this design or is there any good approach to move my validation in the **Service** layer while keeping validation annotations and also allowing the **Controller** to be able to receive representation objects(`DTOs`) and convert them to domain models?","title":"MVC design - Can I have domain model validation in the Controller class?","body":"<p>The following is just an exmaple for context not the actual implementation. Using Spring MVC, I have the following <strong>Model</strong> which has validation based on annotations.</p>\n\n<pre><code>@Entity\npublic class Customer {\n   @Id private int id;\n   @NotNull private String name;\n}\n</code></pre>\n\n<p>And the following <strong>DTO</strong> used to map the data received in the request's body in the <strong>Controller's</strong> <code>createNewCustomer</code> function.</p>\n\n<pre><code>public class CustmerDTO{\n    private String name;\n}\n</code></pre>\n\n<p>In my <strong>Controller</strong> I am using the <code>modelMapper</code> to convert the <code>customerDTO</code> to a new domain model <strong>Customer</strong> object. Based on the <em>@NotNull</em> annotation, if the <strong>name</strong> property of the recieved object (<code>customerDTO</code>) is empty the <em>ConstraintViolationException</em> is thrown.</p>\n\n<pre><code>public class CustomerController {\n    @Autowired private CustomerService customerService;\n    @Autowired private ModelMapper modelMapper;\n\n    @PostMapping(value = \"/customer\")\n    public Customer createNewCustomer (@RequestBody CustomerDTO customerDTO) {\n        try {\n            Customer newCustomer = modelMapper.map(customerDTO, Customer.class);\n            return customerService.saveCustomer(newCustomer);\n        }\n        catch (ConstraintViolationException e) {\n            throw new CustomerMissingInformation();\n        }\n    }\n}\n</code></pre>\n\n<p>As you can see here I handle validation for the <strong>Customer</strong> in the <strong>Controller</strong>, which by definition is not a good habit, as <strong>Controllers</strong> in <strong>MVC</strong> are part of the <strong>presentation layer</strong>, and should have no clue about how to perform data validation, also I want to keep my controllers as light as possible.</p>\n\n<p>Can I keep this design or is there any good approach to move my validation in the <strong>Service</strong> layer while keeping validation annotations and also allowing the <strong>Controller</strong> to be able to receive representation objects(<code>DTOs</code>) and convert them to domain models?</p>\n"},{"tags":["java","spring","controller","swagger"],"answers":[{"tags":[],"owner":{"account_id":22333780,"reputation":51,"user_id":16563183,"display_name":"PxlCode"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652475929,"creation_date":1652475929,"answer_id":72235421,"question_id":70342105,"body_markdown":"More info of your project would be helpful, but maybe your interfaces are not inside the right package. I was facing this once...\r\n\r\n**Here is an example.**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/3BMHP.png\r\n\r\n**Notice that all sub-packages are on the same level as the @SpringBootApplication.**","title":"why I see this when compiling my project in bootstrap? &quot;Found 0 JPA repository interfaces.&quot;","body":"<p>More info of your project would be helpful, but maybe your interfaces are not inside the right package. I was facing this once...</p>\n<p><strong>Here is an example.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/3BMHP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3BMHP.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Notice that all sub-packages are on the same level as the @SpringBootApplication.</strong></p>\n"},{"tags":[],"owner":{"account_id":17258889,"reputation":53,"user_id":12497350,"display_name":"trk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677303818,"creation_date":1677303818,"answer_id":75563527,"question_id":70342105,"body_markdown":"If your Spring Boot project folder name contains a space and/or your project path contains a space, Spring Data JPA may not be able to find your repository interfaces. \r\n\r\nFor example, if your project is under a folder named `/My Project` and your project path is `User/username/Project/My Project/myproject`, Spring Data JPA may not find your repository interfaces and produce the &quot;Found 0 JPA repository interfaces&quot; message.\r\n\r\nTo avoid this issue, you should avoid using spaces in your project folder names or project paths. Instead, use hyphens or underscores to separate words in folder names and project paths.","title":"why I see this when compiling my project in bootstrap? &quot;Found 0 JPA repository interfaces.&quot;","body":"<p>If your Spring Boot project folder name contains a space and/or your project path contains a space, Spring Data JPA may not be able to find your repository interfaces.</p>\n<p>For example, if your project is under a folder named <code>/My Project</code> and your project path is <code>User/username/Project/My Project/myproject</code>, Spring Data JPA may not find your repository interfaces and produce the &quot;Found 0 JPA repository interfaces&quot; message.</p>\n<p>To avoid this issue, you should avoid using spaces in your project folder names or project paths. Instead, use hyphens or underscores to separate words in folder names and project paths.</p>\n"}],"owner":{"account_id":23621366,"reputation":11,"user_id":17654590,"display_name":"Sophie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677303818,"creation_date":1639438299,"question_id":70342105,"body_markdown":"I have created a Bootstrap project in which I have 3 repositories. When I compile the project I do not receive any errors but unfortunately I can not see my controllers in Swagger!!!\r\nI have found out that line 4 says: \r\n\r\n&gt; Finished Spring Data repository scanning in 4 ms. Found 0 JPA\r\n&gt; repository interfaces.\r\n\r\nI think this the reason that I can not see the controllers. Any idea to solve this? Thank you in advance.\r\n\r\n    2021-12-14 00:26:13.768  INFO 5472 --- [           main] WBSthesis.rotab.RotabApplication     \r\n\r\n        : No active profile set, falling back to default profiles: default\r\n    2021-12-14 00:26:14.648  INFO 5472 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2021-12-14 00:26:14.661  INFO 5472 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : ***Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.***\r\n    2021-12-14 00:26:15.592  INFO 5472 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2021-12-14 00:26:15.609  INFO 5472 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2021-12-14 00:26:15.609  INFO 5472 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.54]\r\n    2021-12-14 00:26:15.718  INFO 5472 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2021-12-14 00:26:15.718  INFO 5472 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1885 ms\r\n    2021-12-14 00:26:15.975  INFO 5472 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2021-12-14 00:26:16.051  INFO 5472 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final\r\n    2021-12-14 00:26:16.226  INFO 5472 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n    2021-12-14 00:26:16.356  INFO 5472 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2021-12-14 00:26:16.562  INFO 5472 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n    2021-12-14 00:26:16.580  INFO 5472 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect\r\n    2021-12-14 00:26:16.856  INFO 5472 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    2021-12-14 00:26:16.866  INFO 5472 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2021-12-14 00:26:17.090  WARN 5472 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n    2021-12-14 00:26:17.225  INFO 5472 --- [           main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]\r\n    2021-12-14 00:26:17.490  INFO 5472 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2021-12-14 00:26:17.491  INFO 5472 --- [           main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed\r\n    2021-12-14 00:26:17.511  INFO 5472 --- [           main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)\r\n    2021-12-14 00:26:17.544  INFO 5472 --- [           main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references\r\n    2021-12-14 00:26:17.698  INFO 5472 --- [           main] WBSthesis.rotab.RotabApplication         : Started RotabApplication in 4.468 seconds (JVM running for 4.958)\r\n\r\n","title":"why I see this when compiling my project in bootstrap? &quot;Found 0 JPA repository interfaces.&quot;","body":"<p>I have created a Bootstrap project in which I have 3 repositories. When I compile the project I do not receive any errors but unfortunately I can not see my controllers in Swagger!!!\nI have found out that line 4 says:</p>\n<blockquote>\n<p>Finished Spring Data repository scanning in 4 ms. Found 0 JPA\nrepository interfaces.</p>\n</blockquote>\n<p>I think this the reason that I can not see the controllers. Any idea to solve this? Thank you in advance.</p>\n<pre><code>2021-12-14 00:26:13.768  INFO 5472 --- [           main] WBSthesis.rotab.RotabApplication     \n\n    : No active profile set, falling back to default profiles: default\n2021-12-14 00:26:14.648  INFO 5472 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2021-12-14 00:26:14.661  INFO 5472 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : ***Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.***\n2021-12-14 00:26:15.592  INFO 5472 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2021-12-14 00:26:15.609  INFO 5472 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2021-12-14 00:26:15.609  INFO 5472 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.54]\n2021-12-14 00:26:15.718  INFO 5472 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2021-12-14 00:26:15.718  INFO 5472 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1885 ms\n2021-12-14 00:26:15.975  INFO 5472 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2021-12-14 00:26:16.051  INFO 5472 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final\n2021-12-14 00:26:16.226  INFO 5472 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2021-12-14 00:26:16.356  INFO 5472 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2021-12-14 00:26:16.562  INFO 5472 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2021-12-14 00:26:16.580  INFO 5472 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect\n2021-12-14 00:26:16.856  INFO 5472 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2021-12-14 00:26:16.866  INFO 5472 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2021-12-14 00:26:17.090  WARN 5472 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2021-12-14 00:26:17.225  INFO 5472 --- [           main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]\n2021-12-14 00:26:17.490  INFO 5472 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2021-12-14 00:26:17.491  INFO 5472 --- [           main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed\n2021-12-14 00:26:17.511  INFO 5472 --- [           main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)\n2021-12-14 00:26:17.544  INFO 5472 --- [           main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references\n2021-12-14 00:26:17.698  INFO 5472 --- [           main] WBSthesis.rotab.RotabApplication         : Started RotabApplication in 4.468 seconds (JVM running for 4.958)\n</code></pre>\n"},{"tags":["java","validation","spring-mvc","jpa","bean-validation"],"comments":[{"owner":{"account_id":1189940,"reputation":100,"user_id":1162991,"display_name":"codeimust"},"score":0,"creation_date":1668535733,"post_id":62225487,"comment_id":131427568,"body_markdown":"This is a very good question. I am dealing with the same situation right now. I have all validation in the DTOs and none in the Entities. This avoids having to duplicate validations but there is still a risk, like you mentioned, that a developer can directly create and entity in an invalid state. Code reviews, for now, help with this. I am interested in hearing about how other people approach this.","body":"This is a very good question. I am dealing with the same situation right now. I have all validation in the DTOs and none in the Entities. This avoids having to duplicate validations but there is still a risk, like you mentioned, that a developer can directly create and entity in an invalid state. Code reviews, for now, help with this. I am interested in hearing about how other people approach this."}],"answers":[{"tags":[],"owner":{"account_id":4295560,"reputation":2627,"user_id":3510725,"display_name":"Minar Mahmud"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1591410667,"creation_date":1591410667,"answer_id":62226633,"question_id":62225487,"body_markdown":"You said\r\n\r\n&gt; Should entities correspond to the table in the database at all? That\r\n&gt; is, for example, if I have a `NOT NULL` constraint in the table for a\r\n&gt; field, should I also put the `@NotNull` annotation over this field in\r\n&gt; the entity?\r\n\r\n\r\n[Bean Validation][1]&#39;s purpose is to be used for validating beans. So, for cases where you are not validating the entity, there is clearly no point of placing an unused annotation.\r\n\r\n&lt;br/&gt;\r\nYou said\r\n\r\n&gt; I&#39;m validating the DTO, but this probably doesn&#39;t guarantee complete.\r\n&gt; data protection\r\n\r\n[`JPA`][2] annotations serve this purpose. For example, in the `NOT NULL` scenario you mentioned, you can use [`@Column`][3] as:\r\n\r\n```lang-java\r\n@Column(nullable = false)\r\n```\r\n\r\n\r\n  [1]: https://beanvalidation.org/\r\n  [2]: https://javaee.github.io/javaee-spec/javadocs/javax/persistence/package-summary.html\r\n  [3]: https://javaee.github.io/javaee-spec/javadocs/index.html?javax/persistence/Column.html","title":"Do I need to validate entities if I have already validated the DTO?","body":"<p>You said</p>\n\n<blockquote>\n  <p>Should entities correspond to the table in the database at all? That\n  is, for example, if I have a <code>NOT NULL</code> constraint in the table for a\n  field, should I also put the <code>@NotNull</code> annotation over this field in\n  the entity?</p>\n</blockquote>\n\n<p><a href=\"https://beanvalidation.org/\" rel=\"nofollow noreferrer\">Bean Validation</a>'s purpose is to be used for validating beans. So, for cases where you are not validating the entity, there is clearly no point of placing an unused annotation.</p>\n\n<p><br/>\nYou said</p>\n\n<blockquote>\n  <p>I'm validating the DTO, but this probably doesn't guarantee complete.\n  data protection</p>\n</blockquote>\n\n<p><a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/persistence/package-summary.html\" rel=\"nofollow noreferrer\"><code>JPA</code></a> annotations serve this purpose. For example, in the <code>NOT NULL</code> scenario you mentioned, you can use <a href=\"https://javaee.github.io/javaee-spec/javadocs/index.html?javax/persistence/Column.html\" rel=\"nofollow noreferrer\"><code>@Column</code></a> as:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Column(nullable = false)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":43784,"reputation":365,"user_id":128151,"accept_rate":33,"display_name":"jruillier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677303593,"creation_date":1677288547,"answer_id":75562769,"question_id":62225487,"body_markdown":"You could use [SmartConstraints][1] (I&#39;m the author) to validate both Entity and DTO.\r\n\r\nAfter annotating your entity (e.g with `@NotNull` on `description` property, which is usefull for JPA), you could use `@ValidDescription` in you DTO on `description` property.\r\n\r\nUsing SmartConstraints, you avoid risks of constraints de-synchronisations between your Entity and your DTO.\r\n\r\nSometimes, on multiple operations, you&#39;ll have to use multiple DTOs to carry data intended to update your entity. You could reuse `@ValidXXX`, for the appropriate fields.\r\n\r\n\r\n\r\n  [1]: https://github.com/jruillier/smartconstraints","title":"Do I need to validate entities if I have already validated the DTO?","body":"<p>You could use <a href=\"https://github.com/jruillier/smartconstraints\" rel=\"nofollow noreferrer\">SmartConstraints</a> (I'm the author) to validate both Entity and DTO.</p>\n<p>After annotating your entity (e.g with <code>@NotNull</code> on <code>description</code> property, which is usefull for JPA), you could use <code>@ValidDescription</code> in you DTO on <code>description</code> property.</p>\n<p>Using SmartConstraints, you avoid risks of constraints de-synchronisations between your Entity and your DTO.</p>\n<p>Sometimes, on multiple operations, you'll have to use multiple DTOs to carry data intended to update your entity. You could reuse <code>@ValidXXX</code>, for the appropriate fields.</p>\n"}],"owner":{"account_id":16620868,"reputation":415,"user_id":13061383,"display_name":"NarasuOo "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":761,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":62226633,"answer_count":2,"score":4,"last_activity_date":1677303593,"creation_date":1591399501,"question_id":62225487,"body_markdown":"I had a little misunderstanding. Let&#39;s say I have such an entity:\r\n\r\n    @Entity\r\n    public class Item {\r\n        private String description;\r\n    }\r\n\r\nAs well as DTO to this entity:\r\n\r\n    public class ItemDto {\r\n        private String description;\r\n    }\r\n\r\nAs you already understand, all controllers work only with the DTO, that is, I get the DTO from the client part, and then convert it into an entity, and so on.So, I decided to validate the DTO:\r\n\r\n   \r\n\r\n     public class ItemDto {\r\n          @Max(value = 100, message = &quot;Description must not exceed 100 characters&quot;)\r\n          private String description;\r\n     }\r\n   \r\nValidation works well, but I have a question: do I need to validate entities as well? I always thought that annotations for validation in entity are useless because you still create the necessary tables yourself and set the necessary restrictions. But then the question arises, should entities correspond to the table in the database at all? That is, for example, if I have a `NOT NULL` constraint in the table for a field, should I also put the `@NotNull` annotation over this field in the entity? The DTO is also not clear. I&#39;m validating the DTO, but this probably doesn&#39;t guarantee complete data protection.in other words, in theory, some programmer might decide to do something directly with the entity, but it isn&#39;t validated. All this will lead to an error. Or there may be a situation where restrictions are set in the table in the database, but there are no restrictions in the entity.in other words, you can assign any value to the entity, but an error occurs when adding it to the database. Help me deal with the situation. I&#39;m sorry if I didn&#39;t explain it very well.","title":"Do I need to validate entities if I have already validated the DTO?","body":"<p>I had a little misunderstanding. Let's say I have such an entity:</p>\n\n<pre><code>@Entity\npublic class Item {\n    private String description;\n}\n</code></pre>\n\n<p>As well as DTO to this entity:</p>\n\n<pre><code>public class ItemDto {\n    private String description;\n}\n</code></pre>\n\n<p>As you already understand, all controllers work only with the DTO, that is, I get the DTO from the client part, and then convert it into an entity, and so on.So, I decided to validate the DTO:</p>\n\n<pre><code> public class ItemDto {\n      @Max(value = 100, message = \"Description must not exceed 100 characters\")\n      private String description;\n }\n</code></pre>\n\n<p>Validation works well, but I have a question: do I need to validate entities as well? I always thought that annotations for validation in entity are useless because you still create the necessary tables yourself and set the necessary restrictions. But then the question arises, should entities correspond to the table in the database at all? That is, for example, if I have a <code>NOT NULL</code> constraint in the table for a field, should I also put the <code>@NotNull</code> annotation over this field in the entity? The DTO is also not clear. I'm validating the DTO, but this probably doesn't guarantee complete data protection.in other words, in theory, some programmer might decide to do something directly with the entity, but it isn't validated. All this will lead to an error. Or there may be a situation where restrictions are set in the table in the database, but there are no restrictions in the entity.in other words, you can assign any value to the entity, but an error occurs when adding it to the database. Help me deal with the situation. I'm sorry if I didn't explain it very well.</p>\n"},{"tags":["java","validation","bean-validation"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":2,"creation_date":1383737653,"post_id":19810856,"comment_id":29453447,"body_markdown":"Good question, maybe they thought that the validation provided by other frameworks (like JSF) is enough.","body":"Good question, maybe they thought that the validation provided by other frameworks (like JSF) is enough."}],"answers":[{"tags":[],"owner":{"account_id":404979,"reputation":18340,"user_id":773616,"accept_rate":83,"display_name":"Gunnar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1383740249,"creation_date":1383740249,"answer_id":19811937,"question_id":19810856,"body_markdown":"One of the core principles of Bean Validation is type-safety. Specific constraint annotations such as `@Max`, `@Size` allow to specify and access custom attributes such as the allowed maximum value in a type-safe safe manner.\r\n\r\nThe chosen approach also allows the validation engine to select the right validator implementation based on the annotated element&#39;s type instead of requiring the user to specify the validator class. So in a way this shifts complexity a bit from the constraint _user_ to the constraint _author_.\r\n\r\nAs you say, implementing this as a custom constraint should not be difficult. Note though that this disables compile time checking of constraint correctness e.g. via the [annotation processor][1] provided by Hibernate Validator. While this could detect an erronously specified `@Past` constraint on a string property, it couldn&#39;t detect a non-matching validator type specified via `@ValidatedBy`.\r\n\r\nIf your requirement is about custom validation logic for complete beans (class-level validation), you might consider to implement that in a method of that bean as this:\r\n\r\n    @AssertTrue\r\n    public boolean isValid() {\r\n        //custom validation logic\r\n    }\r\n\r\nOr you might leverage the [@ScriptAssert](http://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#validator-defineconstraints-hv-constraints) constraint provided by Hibernate Validator.\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#validator-annotation-processor","title":"Delegating (generic) constraint definition annotation","body":"<p>One of the core principles of Bean Validation is type-safety. Specific constraint annotations such as <code>@Max</code>, <code>@Size</code> allow to specify and access custom attributes such as the allowed maximum value in a type-safe safe manner.</p>\n\n<p>The chosen approach also allows the validation engine to select the right validator implementation based on the annotated element's type instead of requiring the user to specify the validator class. So in a way this shifts complexity a bit from the constraint <em>user</em> to the constraint <em>author</em>.</p>\n\n<p>As you say, implementing this as a custom constraint should not be difficult. Note though that this disables compile time checking of constraint correctness e.g. via the <a href=\"http://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#validator-annotation-processor\" rel=\"nofollow\">annotation processor</a> provided by Hibernate Validator. While this could detect an erronously specified <code>@Past</code> constraint on a string property, it couldn't detect a non-matching validator type specified via <code>@ValidatedBy</code>.</p>\n\n<p>If your requirement is about custom validation logic for complete beans (class-level validation), you might consider to implement that in a method of that bean as this:</p>\n\n<pre><code>@AssertTrue\npublic boolean isValid() {\n    //custom validation logic\n}\n</code></pre>\n\n<p>Or you might leverage the <a href=\"http://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#validator-defineconstraints-hv-constraints\" rel=\"nofollow\">@ScriptAssert</a> constraint provided by Hibernate Validator.</p>\n"},{"tags":[],"owner":{"account_id":462861,"reputation":17872,"user_id":865403,"accept_rate":60,"display_name":"Pavel Horal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1383768341,"creation_date":1383768341,"answer_id":19821709,"question_id":19810856,"body_markdown":"Sometimes you need to ask the question to realize how to solve &quot;the problem&quot; yourself. Based on Gunnar&#39;s answer and comments:\r\n\r\nYou can create `@MyDomainModelValid` constriant definition for the custom domain model with all the necessary validators:\r\n\r\n    @Target({TYPE})\r\n    @Retention(RUNTIME)\r\n    @Constraint(validatedBy={\r\n            MyFirstEntityValidator.class, MySecondEntityValidator.class,\r\n            MyThirdEntityValidator.class, EtCetera.class})\r\n    public @interface MyDomainModelValid {\r\n        String message() default &quot;entity.notValid&quot;;\r\n        Class&lt;?&gt;[] groups() default { };\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\n\r\nJSR-303 implementation will make sure that a correct validator is called for a specific entity. So there is no need for previously proposed `@ValidatedBy` annotation.","title":"Delegating (generic) constraint definition annotation","body":"<p>Sometimes you need to ask the question to realize how to solve \"the problem\" yourself. Based on Gunnar's answer and comments:</p>\n\n<p>You can create <code>@MyDomainModelValid</code> constriant definition for the custom domain model with all the necessary validators:</p>\n\n<pre><code>@Target({TYPE})\n@Retention(RUNTIME)\n@Constraint(validatedBy={\n        MyFirstEntityValidator.class, MySecondEntityValidator.class,\n        MyThirdEntityValidator.class, EtCetera.class})\npublic @interface MyDomainModelValid {\n    String message() default \"entity.notValid\";\n    Class&lt;?&gt;[] groups() default { };\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n\n<p>JSR-303 implementation will make sure that a correct validator is called for a specific entity. So there is no need for previously proposed <code>@ValidatedBy</code> annotation.</p>\n"},{"tags":[],"owner":{"account_id":43784,"reputation":365,"user_id":128151,"accept_rate":33,"display_name":"jruillier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677303511,"creation_date":1677289145,"answer_id":75562799,"question_id":19810856,"body_markdown":"Maybe another way to reduce boilerplate code is by using [SmartConstraints][1] (I&#39;m the author).\r\n\r\nYou could annotate your domain entities fields with regular JSR-303 annotations, and SmartConstraints annotation processor would automatically generate matching `@ValidMyField` annotations that you would reuse in your DTOs.\r\n\r\n\r\n\r\n  [1]: https://github.com/jruillier/smartconstraints","title":"Delegating (generic) constraint definition annotation","body":"<p>Maybe another way to reduce boilerplate code is by using <a href=\"https://github.com/jruillier/smartconstraints\" rel=\"nofollow noreferrer\">SmartConstraints</a> (I'm the author).</p>\n<p>You could annotate your domain entities fields with regular JSR-303 annotations, and SmartConstraints annotation processor would automatically generate matching <code>@ValidMyField</code> annotations that you would reuse in your DTOs.</p>\n"}],"owner":{"account_id":462861,"reputation":17872,"user_id":865403,"accept_rate":60,"display_name":"Pavel Horal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2837,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":19821709,"answer_count":3,"score":1,"last_activity_date":1677303511,"creation_date":1383737190,"question_id":19810856,"body_markdown":"In JSR-303 (Bean Validation) you need to define a special annotation for each constraint validator you write. This makes perfect sense if you are creating reusable constraint validators (like the standard `@Max`, `@NotNull`, etc). \r\n\r\nHowever in real life every validated bean requires its own validator to do more complex business validations. With vanilla JSR-303 implementations you have to create a separate annotation for every validator. This forces developer to write one-time-only annotations and makes the overall concept of bean validation look stupid. The necessity for one-time-only annotations can be avoided if JSR-303 offers some sort of delegating constraint annotation: `@ValidateBy(validator=my.custom.Validator)`.\r\n\r\nNow to my question:\r\n\r\n * Why doesn&#39;t JSR-303 include such use-case? \r\n * Is there any official discussion related to this (I was not able to find anything)?\r\n * Do any JSR-303 library offer such functionality (not that it would be hard to implement that)?\r\n\r\n---\r\n\r\n**UPDATE 1** - Specific use-case (which led to this question)\r\n\r\nWe have a moderate enterprise application with pretty rich business model (40 manageable entities, 20 embeddable entities, 25 read-only entities). This means that we have a lots of HTML forms. Each form is backed by a designated form bean (70 form beans) with JSR-303 annotations. Some forms require custom non-trivial validation (e.g. if *delivery type is email* then a *contact email must be set*, ...). With JSR-303 we have 33 form-bean specific validators with 33 (unnecessary one-time-only) annotations.\r\n\r\nWith the number of Java classes (entities, controllers, DAOs, DTOs, mappers, validators, etc... right now this makes 800 `.java` files) I don&#39;t like having any boilerplate code around.","title":"Delegating (generic) constraint definition annotation","body":"<p>In JSR-303 (Bean Validation) you need to define a special annotation for each constraint validator you write. This makes perfect sense if you are creating reusable constraint validators (like the standard <code>@Max</code>, <code>@NotNull</code>, etc). </p>\n\n<p>However in real life every validated bean requires its own validator to do more complex business validations. With vanilla JSR-303 implementations you have to create a separate annotation for every validator. This forces developer to write one-time-only annotations and makes the overall concept of bean validation look stupid. The necessity for one-time-only annotations can be avoided if JSR-303 offers some sort of delegating constraint annotation: <code>@ValidateBy(validator=my.custom.Validator)</code>.</p>\n\n<p>Now to my question:</p>\n\n<ul>\n<li>Why doesn't JSR-303 include such use-case? </li>\n<li>Is there any official discussion related to this (I was not able to find anything)?</li>\n<li>Do any JSR-303 library offer such functionality (not that it would be hard to implement that)?</li>\n</ul>\n\n<hr>\n\n<p><strong>UPDATE 1</strong> - Specific use-case (which led to this question)</p>\n\n<p>We have a moderate enterprise application with pretty rich business model (40 manageable entities, 20 embeddable entities, 25 read-only entities). This means that we have a lots of HTML forms. Each form is backed by a designated form bean (70 form beans) with JSR-303 annotations. Some forms require custom non-trivial validation (e.g. if <em>delivery type is email</em> then a <em>contact email must be set</em>, ...). With JSR-303 we have 33 form-bean specific validators with 33 (unnecessary one-time-only) annotations.</p>\n\n<p>With the number of Java classes (entities, controllers, DAOs, DTOs, mappers, validators, etc... right now this makes 800 <code>.java</code> files) I don't like having any boilerplate code around.</p>\n"},{"tags":["java","android","filesystems"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":1,"creation_date":1677303996,"post_id":75563484,"comment_id":133315641,"body_markdown":"Your error message says `Caused by: java.lang.ArrayIndexOutOfBoundsException: length=1; index=1 at com.example.myapplication.MainActivity.GenerateWindow(MainActivity.java:1320)` but you&#39;ve haven&#39;t included your `GenerateWindow` method in your `MainActivity`.","body":"Your error message says <code>Caused by: java.lang.ArrayIndexOutOfBoundsException: length=1; index=1 at com.example.myapplication.MainActivity.GenerateWindow(MainAc&zwnj;&#8203;tivity.java:1320)</code> but you&#39;ve haven&#39;t included your <code>GenerateWindow</code> method in your <code>MainActivity</code>."},{"owner":{"account_id":27805595,"reputation":23,"user_id":21236434,"display_name":"PewPew01"},"score":0,"creation_date":1677304412,"post_id":75563484,"comment_id":133315674,"body_markdown":"seems wrong. GenerateWIndow is added on MainActivity java. 100%. What about folders? They&#39;re still no adding.","body":"seems wrong. GenerateWIndow is added on MainActivity java. 100%. What about folders? They&#39;re still no adding."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1677306205,"post_id":75563484,"comment_id":133315841,"body_markdown":"You need to also test the directory for canRead() canWrite() and canExecute() before attempting to write into the folder. Also, use only one of mkDirs() not both or there will be a collision (although it does not show). If any of those tests fail , there are setReadable setWritable and setExecutable methods also in File class","body":"You need to also test the directory for canRead() canWrite() and canExecute() before attempting to write into the folder. Also, use only one of mkDirs() not both or there will be a collision (although it does not show). If any of those tests fail , there are setReadable setWritable and setExecutable methods also in File class"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1677306722,"post_id":75563484,"comment_id":133315888,"body_markdown":"If the directory exists then you should skip over the mkDirs() also.","body":"If the directory exists then you should skip over the mkDirs() also."},{"owner":{"account_id":27805595,"reputation":23,"user_id":21236434,"display_name":"PewPew01"},"score":0,"creation_date":1677306748,"post_id":75563484,"comment_id":133315890,"body_markdown":"```\nString fullPath_item=Environment.getExternalStorageDirectory().toString()+path;\n\n        String final_path=fullPath_item+&quot;/&quot;+name;\n        File theDir1 = new File(final_path);\n        theDir1.setReadable(true);\n        theDir1.setExecutable(true);\n        theDir1.setWritable(true);\n```\nDoes not help. Application still report that directory and root exist, but `File filesList[] = directoryPath.listFiles(textFilefilter);` still return null.\n\nInteresting thing that init folders are created and shown correctly, but i cannot add new folders.","body":"``` String fullPath_item=Environment.getExternalStorageDirectory().toSt&zwnj;&#8203;ring()+path;          String final_path=fullPath_item+&quot;/&quot;+name;         File theDir1 = new File(final_path);         theDir1.setReadable(true);         theDir1.setExecutable(true);         theDir1.setWritable(true); ``` Does not help. Application still report that directory and root exist, but <code>File filesList[] = directoryPath.listFiles(textFilefilter);</code> still return null.  Interesting thing that init folders are created and shown correctly, but i cannot add new folders."},{"owner":{"account_id":27805595,"reputation":23,"user_id":21236434,"display_name":"PewPew01"},"score":0,"creation_date":1677348126,"post_id":75563484,"comment_id":133321687,"body_markdown":"solved problem by using flat adress for item creation and absolute cacheDir() path in item reading.","body":"solved problem by using flat adress for item creation and absolute cacheDir() path in item reading."}],"owner":{"account_id":27805595,"reputation":23,"user_id":21236434,"display_name":"PewPew01"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677303148,"creation_date":1677303148,"question_id":75563484,"body_markdown":"Im trying to make a custom file system\r\n\r\nim adding new directory by next code:\r\n\r\n```\r\npublic String CreateFolder (String path,String name, String style){\r\n\r\n\r\n\r\n        String fullPath_item=Environment.getExternalStorageDirectory().toString();\r\n\r\n        String final_path=fullPath_item+path+&quot;/&quot;+name;\r\n        File theDir1 = new File(final_path);\r\n        if (!theDir1.exists()){\r\n            boolean check = theDir1.mkdirs();\r\n            boolean check2=theDir1.mkdir();\r\n            //openDirectory(final_path,123);;\r\n            writeStringAsFile(final_path,&quot;root.txt&quot;,style);            //System.out.println(theDir1.mkdir());\r\n            //System.out.println(theDir1.mkdirs());\r\n        }\r\n\r\n\r\n        File theDir2 = new File(final_path+&quot;/root.txt&quot;);\r\n        if (theDir1.exists() &amp; theDir2.exists()){\r\n            Toast.makeText(this, &quot;Folder exist: &quot;+final_path, Toast.LENGTH_LONG).show();\r\n        }\r\n        return final_path;\r\n\r\n    }\r\n```\r\n\r\nupon `theDir1.exists() &amp; theDir2.exists()` checker it says that both directory and root file are beign made.\r\n\r\nextracting subderectories with\r\n\r\n```\r\nFile directoryPath = new File(CurrentFolder);\r\n            FileFilter textFilefilter = new FileFilter(){\r\n                public boolean accept(File file) {\r\n                    boolean isFile = file.isFile();\r\n                    if (isFile) {\r\n                        return false;\r\n                    } else {\r\n                        return true;\r\n                    }\r\n                }\r\n            };\r\n            File filesList[] = directoryPath.listFiles(textFilefilter);\r\n```\r\n\r\nThis code returns null, even if directories were made by previous code\r\n\r\n\r\nI managed to have \r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\n```\r\n\r\nWhich mean i probably have permission to create directories. \r\n\r\nI thought it is something about new directories were made and i need permission to access them, tried Intent with ACTION_CREATE_DOCUMENT, but it throws exception\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.myapplication, PID: 14260\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.myapplication/com.example.myapplication.MainActivity}: java.lang.ArrayIndexOutOfBoundsException: length=1; index=1\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3449)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n     Caused by: java.lang.ArrayIndexOutOfBoundsException: length=1; index=1\r\n        at com.example.myapplication.MainActivity.GenerateWindow(MainActivity.java:1320)\r\n        at com.example.myapplication.MainActivity.onCreate(MainActivity.java:1612)\r\n        at android.app.Activity.performCreate(Activity.java:7994)\r\n        at android.app.Activity.performCreate(Activity.java:7978)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3422)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loop(Looper.java:223)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)&#160;\r\n```\r\n\r\nSpent whole night to figure out what is happening, tryied a lot of different solutions, but directory still does not create, or, by some reason, newly made directories are invisible.","title":"new directory made from File not added","body":"<p>Im trying to make a custom file system</p>\n<p>im adding new directory by next code:</p>\n<pre><code>public String CreateFolder (String path,String name, String style){\n\n\n\n        String fullPath_item=Environment.getExternalStorageDirectory().toString();\n\n        String final_path=fullPath_item+path+&quot;/&quot;+name;\n        File theDir1 = new File(final_path);\n        if (!theDir1.exists()){\n            boolean check = theDir1.mkdirs();\n            boolean check2=theDir1.mkdir();\n            //openDirectory(final_path,123);;\n            writeStringAsFile(final_path,&quot;root.txt&quot;,style);            //System.out.println(theDir1.mkdir());\n            //System.out.println(theDir1.mkdirs());\n        }\n\n\n        File theDir2 = new File(final_path+&quot;/root.txt&quot;);\n        if (theDir1.exists() &amp; theDir2.exists()){\n            Toast.makeText(this, &quot;Folder exist: &quot;+final_path, Toast.LENGTH_LONG).show();\n        }\n        return final_path;\n\n    }\n</code></pre>\n<p>upon <code>theDir1.exists() &amp; theDir2.exists()</code> checker it says that both directory and root file are beign made.</p>\n<p>extracting subderectories with</p>\n<pre><code>File directoryPath = new File(CurrentFolder);\n            FileFilter textFilefilter = new FileFilter(){\n                public boolean accept(File file) {\n                    boolean isFile = file.isFile();\n                    if (isFile) {\n                        return false;\n                    } else {\n                        return true;\n                    }\n                }\n            };\n            File filesList[] = directoryPath.listFiles(textFilefilter);\n</code></pre>\n<p>This code returns null, even if directories were made by previous code</p>\n<p>I managed to have</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\n\n</code></pre>\n<p>Which mean i probably have permission to create directories.</p>\n<p>I thought it is something about new directories were made and i need permission to access them, tried Intent with ACTION_CREATE_DOCUMENT, but it throws exception</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.myapplication, PID: 14260\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.myapplication/com.example.myapplication.MainActivity}: java.lang.ArrayIndexOutOfBoundsException: length=1; index=1\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3449)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n     Caused by: java.lang.ArrayIndexOutOfBoundsException: length=1; index=1\n        at com.example.myapplication.MainActivity.GenerateWindow(MainActivity.java:1320)\n        at com.example.myapplication.MainActivity.onCreate(MainActivity.java:1612)\n        at android.app.Activity.performCreate(Activity.java:7994)\n        at android.app.Activity.performCreate(Activity.java:7978)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3422)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601) \n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85) \n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066) \n        at android.os.Handler.dispatchMessage(Handler.java:106) \n        at android.os.Looper.loop(Looper.java:223) \n        at android.app.ActivityThread.main(ActivityThread.java:7656) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947) \n</code></pre>\n<p>Spent whole night to figure out what is happening, tryied a lot of different solutions, but directory still does not create, or, by some reason, newly made directories are invisible.</p>\n"},{"tags":["java","java.util.scanner","time-limiting"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1340623725,"post_id":11187747,"comment_id":14683241,"body_markdown":"Wrap System.in in a suitable BufferedInputSomething?","body":"Wrap System.in in a suitable BufferedInputSomething?"},{"owner":{"account_id":190177,"reputation":10331,"user_id":429972,"accept_rate":67,"display_name":"jontro"},"score":0,"creation_date":1340625546,"post_id":11187747,"comment_id":14684015,"body_markdown":"What error / exception do you get?","body":"What error / exception do you get?"},{"owner":{"account_id":1598024,"reputation":21,"user_id":1479665,"display_name":"FullAdder"},"score":0,"creation_date":1340627048,"post_id":11187747,"comment_id":14684655,"body_markdown":"No exception or error, looks like the loop never ends or the program waits for input forever.","body":"No exception or error, looks like the loop never ends or the program waits for input forever."},{"owner":{"account_id":1598024,"reputation":21,"user_id":1479665,"display_name":"FullAdder"},"score":0,"creation_date":1340627481,"post_id":11187747,"comment_id":14684822,"body_markdown":"But it works with the inputs shown in this link, and matches the outputs: https://www.jutge.org/problems/P72986_en (ignore security warning, university SSL is not verified)\n\nThe problem is with the inputs that are not shown, they are more challenging.","body":"But it works with the inputs shown in this link, and matches the outputs: <a href=\"https://www.jutge.org/problems/P72986_en\" rel=\"nofollow noreferrer\">jutge.org/problems/P72986_en</a> (ignore security warning, university SSL is not verified)  The problem is with the inputs that are not shown, they are more challenging."}],"answers":[{"tags":[],"owner":{"account_id":1089130,"reputation":38492,"user_id":1084174,"accept_rate":89,"display_name":"Sazzad Hissain Khan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390417558,"creation_date":1390417558,"answer_id":21291717,"question_id":11187747,"body_markdown":"You have to Wrap your System.in, like\r\n\r\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n    in = new Scanner(br);\r\n\r\n\r\ninstead,\r\n\r\n    in = new Scanner(System.in);\r\n\r\n","title":"Time limit exceeded using Scanner - Java","body":"<p>You have to Wrap your System.in, like</p>\n\n<pre><code>BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\nin = new Scanner(br);\n</code></pre>\n\n<p>instead,</p>\n\n<pre><code>in = new Scanner(System.in);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27295667,"reputation":1,"user_id":20813336,"display_name":"Tom Ming"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677300868,"creation_date":1677300868,"answer_id":75563380,"question_id":11187747,"body_markdown":"You can create a Reader class by yourself, here is my Reader class code.\r\n```Java\r\n/** Reader Class */\r\nstatic class Reader {\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\r\n    StringTokenizer tokenizer = new StringTokenizer(&quot;&quot;);\r\n\r\n    /** Get next line text */\r\n    String next() throws IOException {\r\n        while (!tokenizer.hasMoreTokens()) {\r\n            tokenizer = new StringTokenizer(reader.readLine());\r\n        }\r\n        return tokenizer.nextToken();\r\n    }\r\n\r\n    int nextInt() throws IOException {\r\n        return Integer.parseInt(next());\r\n    }\r\n\r\n    double nextDouble() throws IOException {\r\n        return Double.parseDouble(next());\r\n    }\r\n}\r\n```\r\nTo use this class, you need to create an object(assume it named reader).\r\nTo get a int number, you should `reader.nextInt()`.\r\nTo get a Double number, you should `reader.nextDouble`.","title":"Time limit exceeded using Scanner - Java","body":"<p>You can create a Reader class by yourself, here is my Reader class code.</p>\n<pre><code>/** Reader Class */\nstatic class Reader {\n    BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\n    StringTokenizer tokenizer = new StringTokenizer(&quot;&quot;);\n\n    /** Get next line text */\n    String next() throws IOException {\n        while (!tokenizer.hasMoreTokens()) {\n            tokenizer = new StringTokenizer(reader.readLine());\n        }\n        return tokenizer.nextToken();\n    }\n\n    int nextInt() throws IOException {\n        return Integer.parseInt(next());\n    }\n\n    double nextDouble() throws IOException {\n        return Double.parseDouble(next());\n    }\n}\n</code></pre>\n<p>To use this class, you need to create an object(assume it named reader).\nTo get a int number, you should <code>reader.nextInt()</code>.\nTo get a Double number, you should <code>reader.nextDouble</code>.</p>\n"}],"owner":{"account_id":1598024,"reputation":21,"user_id":1479665,"display_name":"FullAdder"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1002,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1677300868,"creation_date":1340620779,"question_id":11187747,"body_markdown":"I&#39;m testing this code in Java with a [problem from a programming Judge][1] and I get a &quot;time limit&quot; error. I guess the *scanner.hasNextDouble()* thingy is not working somehow. \r\n\r\nIt works with the public inputs shown in the link but it throws this time limit error with the privates. \r\n\r\nAny idea to solve this issue?\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    import java.util.Scanner;\r\n    import java.text.NumberFormat;\r\n    import java.util.Locale;\r\n     \r\n    class Main /*AvalPoli2*/ {\r\n        public static void main(String[] args) {\r\n            NumberFormat nf = NumberFormat.getNumberInstance(Locale.US); // dot sep.\r\n            nf.setGroupingUsed(false); // don&#39;t group in groups of 3 \r\n            nf.setMaximumFractionDigits(4); \r\n            nf.setMinimumFractionDigits(4);\r\n            Scanner scanner = new Scanner(System.in);\r\n            scanner.useLocale(Locale.US); // read doubles with dot separator\r\n            double sum = 0.0000;\r\n            double x = 0;\r\n            if (scanner.hasNextDouble()) x = scanner.nextDouble();\r\n            while (scanner.hasNextDouble()) {\r\n                sum *= x;\r\n                sum += scanner.nextDouble();\r\n            }\r\n            System.out.println(nf.format(sum));\r\n        }\r\n    }\r\n\r\nThank you very much! ^_^\r\n\r\n[1]: https://www.jutge.org/problems/P72986_en","title":"Time limit exceeded using Scanner - Java","body":"<p>I'm testing this code in Java with a <a href=\"https://www.jutge.org/problems/P72986_en\" rel=\"nofollow\">problem from a programming Judge</a> and I get a \"time limit\" error. I guess the <em>scanner.hasNextDouble()</em> thingy is not working somehow. </p>\n\n<p>It works with the public inputs shown in the link but it throws this time limit error with the privates. </p>\n\n<p>Any idea to solve this issue?</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\nimport java.text.NumberFormat;\nimport java.util.Locale;\n\nclass Main /*AvalPoli2*/ {\n    public static void main(String[] args) {\n        NumberFormat nf = NumberFormat.getNumberInstance(Locale.US); // dot sep.\n        nf.setGroupingUsed(false); // don't group in groups of 3 \n        nf.setMaximumFractionDigits(4); \n        nf.setMinimumFractionDigits(4);\n        Scanner scanner = new Scanner(System.in);\n        scanner.useLocale(Locale.US); // read doubles with dot separator\n        double sum = 0.0000;\n        double x = 0;\n        if (scanner.hasNextDouble()) x = scanner.nextDouble();\n        while (scanner.hasNextDouble()) {\n            sum *= x;\n            sum += scanner.nextDouble();\n        }\n        System.out.println(nf.format(sum));\n    }\n}\n</code></pre>\n\n<p>Thank you very much! ^_^</p>\n"},{"tags":["java","spring","spring-boot","outputstream","bytearrayoutputstream"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1628496081,"post_id":68708640,"comment_id":121426275,"body_markdown":"You should see a fix suggested by IntelliJ - `output.toString(StandardCharsets.UTF_8)`.","body":"You should see a fix suggested by IntelliJ - <code>output.toString(StandardCharsets.UTF_8)</code>."},{"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1628496797,"post_id":68708640,"comment_id":121426505,"body_markdown":"@Sweeper Thanks a lot. I am not sure how I missed seeing that. Thanks a lot for the response. This worked for me.","body":"@Sweeper Thanks a lot. I am not sure how I missed seeing that. Thanks a lot for the response. This worked for me."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1677300469,"creation_date":1628503562,"answer_id":68710250,"question_id":68708640,"body_markdown":"The explanation for this warning is that \r\n\r\n      new String(output.toByteArray());\r\n\r\ncreates a `byte[]` from the contents of the `ByteArrayOutputStream`, then creates a `String` from the `byte[]`.  That is doing an unnecessary copy of the data.\r\n\r\nThe fix&lt;sup&gt;1&lt;/sup&gt; suggested by Intellij is:\r\n\r\n     output.toString(StandardCharsets.UTF_8).\r\n\r\nwhich creates the `String` in a single operation without creating an intermediate `byte[]`.\r\n\r\nHow does it do this? \r\n\r\nWell `toString()` is passing the `ByteArrayOutputStream`&#39;s internal `byte[]` buffer to the `String` constructor.  By contrast, `output.toByteArray()` is copying the buffer to a new `byte[]` ... so that the caller cannot interfere with the actual buffer&#39;s contents.\r\n\r\n--------------------------\r\n\r\n&lt;sup&gt;1 - In fact the suggested fix doesn&#39;t have identical semantics to your original code.  The fix uses a specific character set for (UTF-8) converting the bytes to a string.  Your original code uses the platform&#39;s default character set.  In context, it looks like the fix is *more correct* than the original ... since the bytes seem to have started out as UTF-8.  However I guess that the converter *could* be mapping the bytes from one encoding to another behind the scenes.&lt;/sup&gt;\r\n","title":"Conversion of ByteArrayInputStream.toString results in warning Inefficient conversion from ByteArrayOutputStream","body":"<p>The explanation for this warning is that</p>\n<pre><code>  new String(output.toByteArray());\n</code></pre>\n<p>creates a <code>byte[]</code> from the contents of the <code>ByteArrayOutputStream</code>, then creates a <code>String</code> from the <code>byte[]</code>.  That is doing an unnecessary copy of the data.</p>\n<p>The fix<sup>1</sup> suggested by Intellij is:</p>\n<pre><code> output.toString(StandardCharsets.UTF_8).\n</code></pre>\n<p>which creates the <code>String</code> in a single operation without creating an intermediate <code>byte[]</code>.</p>\n<p>How does it do this?</p>\n<p>Well <code>toString()</code> is passing the <code>ByteArrayOutputStream</code>'s internal <code>byte[]</code> buffer to the <code>String</code> constructor.  By contrast, <code>output.toByteArray()</code> is copying the buffer to a new <code>byte[]</code> ... so that the caller cannot interfere with the actual buffer's contents.</p>\n<hr />\n<p><sup>1 - In fact the suggested fix doesn't have identical semantics to your original code.  The fix uses a specific character set for (UTF-8) converting the bytes to a string.  Your original code uses the platform's default character set.  In context, it looks like the fix is <em>more correct</em> than the original ... since the bytes seem to have started out as UTF-8.  However I guess that the converter <em>could</em> be mapping the bytes from one encoding to another behind the scenes.</sup></p>\n"}],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":509,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68710250,"answer_count":1,"score":1,"last_activity_date":1677300469,"creation_date":1628495841,"question_id":68708640,"body_markdown":"I have a `Spring Boot` application that converts the XML to JSON. The conversion is done by calling another `JAVA application` internally and passing some information. The implementation of the called application is out of my control and I do not have access to make any changes to it.\r\n\r\nThe called `Java Application` requires a `OutputStream` so I am using the `ByteArrayOutputStream` and passing it within the method. After receiving the output I am converting the `OutputStream` to `String`. During the conversion, I am running into the warning `Inefficient conversion from ByteArrayOutputStream`.\r\n\r\nI wanted to know how can I fix this warning. I researched a bit and found that we need to pass the size of `ByteArrayOutputStream` but in my case I am not aware how much size it can have because it would depend on the size of the input XML that I am giving. So I am unable to predict it and set it.\r\n\r\nCan someone please guide me on what I can do within my `Spring Boot` application `ByteArrayOutputStream` so as to fix the warning that I receive in my `Intellij IDE`:\r\n`Inefficient conversion from ByteArrayOutputStream`\r\n\r\nFollowing is my code sample:\r\n```\r\nfinal InputStream inputStream = new ByteArrayInputStream(xmlEvents.getBytes(StandardCharsets.UTF_8));\r\nfinal var output = new ByteArrayOutputStream();\r\nnew Converter().convert(inputStream, new Handler&lt;&gt;(new Validator(), new StreamCollector(output)));\r\nreturn new String(output.toByteArray());\r\n```\r\n\r\nI am getting the warning for the line:\r\n`new String(output.toByteArray())`","title":"Conversion of ByteArrayInputStream.toString results in warning Inefficient conversion from ByteArrayOutputStream","body":"<p>I have a <code>Spring Boot</code> application that converts the XML to JSON. The conversion is done by calling another <code>JAVA application</code> internally and passing some information. The implementation of the called application is out of my control and I do not have access to make any changes to it.</p>\n<p>The called <code>Java Application</code> requires a <code>OutputStream</code> so I am using the <code>ByteArrayOutputStream</code> and passing it within the method. After receiving the output I am converting the <code>OutputStream</code> to <code>String</code>. During the conversion, I am running into the warning <code>Inefficient conversion from ByteArrayOutputStream</code>.</p>\n<p>I wanted to know how can I fix this warning. I researched a bit and found that we need to pass the size of <code>ByteArrayOutputStream</code> but in my case I am not aware how much size it can have because it would depend on the size of the input XML that I am giving. So I am unable to predict it and set it.</p>\n<p>Can someone please guide me on what I can do within my <code>Spring Boot</code> application <code>ByteArrayOutputStream</code> so as to fix the warning that I receive in my <code>Intellij IDE</code>:\n<code>Inefficient conversion from ByteArrayOutputStream</code></p>\n<p>Following is my code sample:</p>\n<pre><code>final InputStream inputStream = new ByteArrayInputStream(xmlEvents.getBytes(StandardCharsets.UTF_8));\nfinal var output = new ByteArrayOutputStream();\nnew Converter().convert(inputStream, new Handler&lt;&gt;(new Validator(), new StreamCollector(output)));\nreturn new String(output.toByteArray());\n</code></pre>\n<p>I am getting the warning for the line:\n<code>new String(output.toByteArray())</code></p>\n"},{"tags":["java","algorithm","geometry","collision-detection","game-development"],"comments":[{"owner":{"account_id":449564,"reputation":78054,"user_id":844416,"display_name":"MBo"},"score":1,"creation_date":1677303859,"post_id":75563228,"comment_id":133315631,"body_markdown":"Line or line segment? What do the comparisons of segment length with circlecenter-segmentend distance mean?","body":"Line or line segment? What do the comparisons of segment length with circlecenter-segmentend distance mean?"}],"owner":{"account_id":26918365,"reputation":43,"user_id":20492814,"display_name":"Brian Serrano"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677297867,"creation_date":1677297867,"question_id":75563228,"body_markdown":"    public boolean checkCollision(int circleX, int circleY, int circleRadius, int lineX1, int lineY1, int lineX2,\r\n\t\t\tint lineY2) {\r\n\t\tdouble a = lineY2 - lineY1;\r\n\t\tdouble b = lineX1 - lineX2;\r\n\t\tdouble c = lineX2 * lineY1 - lineX1 * lineY2;\r\n\r\n\t\tdouble distance = Math.abs(a * circleX + b * circleY + c) / Math.sqrt(a * a + b * b);\r\n\r\n\t\tdouble distance1 = Math.sqrt((circleX - lineX1) * (circleX - lineX1) + (circleY - lineY1) * (circleY - lineY1));\r\n\t\tdouble distance2 = Math.sqrt((circleX - lineX2) * (circleX - lineX2) + (circleY - lineY2) * (circleY - lineY2));\r\n\r\n\t\treturn distance &lt;= circleRadius\r\n\t\t\t\t&amp;&amp; distance1 &lt;= Math.sqrt((lineX2 - lineX1) * (lineX2 - lineX1) + (lineY2 - lineY1) * (lineY2 - lineY1))\r\n\t\t\t\t&amp;&amp; distance2 &lt;= Math\r\n\t\t\t\t\t\t.sqrt((lineX2 - lineX1) * (lineX2 - lineX1) + (lineY2 - lineY1) * (lineY2 - lineY1));\r\n\t}\r\nThis code works if i place the line 0, 0 to the width and height of jframe but i cant make it work if i place the line 0, height to the width, 0. If the circle is from the top left and move down right it will exceed the line a bit before it execute the collision. If the circle is from bottom right and move up left it will not reach the line and it execute the collision. If i change the position of the points of line it will not work properly. Is there i can do to fix the problem","title":"Circle and diagonal line game collision in java","body":"<pre><code>public boolean checkCollision(int circleX, int circleY, int circleRadius, int lineX1, int lineY1, int lineX2,\n        int lineY2) {\n    double a = lineY2 - lineY1;\n    double b = lineX1 - lineX2;\n    double c = lineX2 * lineY1 - lineX1 * lineY2;\n\n    double distance = Math.abs(a * circleX + b * circleY + c) / Math.sqrt(a * a + b * b);\n\n    double distance1 = Math.sqrt((circleX - lineX1) * (circleX - lineX1) + (circleY - lineY1) * (circleY - lineY1));\n    double distance2 = Math.sqrt((circleX - lineX2) * (circleX - lineX2) + (circleY - lineY2) * (circleY - lineY2));\n\n    return distance &lt;= circleRadius\n            &amp;&amp; distance1 &lt;= Math.sqrt((lineX2 - lineX1) * (lineX2 - lineX1) + (lineY2 - lineY1) * (lineY2 - lineY1))\n            &amp;&amp; distance2 &lt;= Math\n                    .sqrt((lineX2 - lineX1) * (lineX2 - lineX1) + (lineY2 - lineY1) * (lineY2 - lineY1));\n}\n</code></pre>\n<p>This code works if i place the line 0, 0 to the width and height of jframe but i cant make it work if i place the line 0, height to the width, 0. If the circle is from the top left and move down right it will exceed the line a bit before it execute the collision. If the circle is from bottom right and move up left it will not reach the line and it execute the collision. If i change the position of the points of line it will not work properly. Is there i can do to fix the problem</p>\n"},{"tags":["java","wiremock","stubbing"],"answers":[{"tags":[],"owner":{"account_id":2787037,"reputation":2031,"user_id":2398143,"accept_rate":85,"display_name":"AnilJ"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1550527711,"creation_date":1550527711,"answer_id":54756093,"question_id":54722250,"body_markdown":"I found solution for this. So, basically we need create a folder called &quot;mappings&quot; (exact name) under the directory identified by &quot;testResource&quot; variable. So in above code example, the mapping.json file will be stored at location: &quot;MockApp/resources/testconfig/mappings/mapping.json&quot;. \r\n\r\nOnce this, is done, it will print the following output. As can be seen in the logs, &quot;Stub mapping size is 1&quot;. This will be printed once you add the following line in the code.\r\n\r\n    System.out.println(&quot;Stub mapping size: &quot; + wireMockServer.getStubMappings().size());\r\n\r\n    Stub mapping size: 1\r\n    {\r\n      &quot;id&quot; : &quot;da5735a6-b6cc-45aa-8256-fb88b5670610&quot;,\r\n      &quot;request&quot; : {\r\n        &quot;url&quot; : &quot;/some/thing&quot;,\r\n        &quot;method&quot; : &quot;GET&quot;\r\n      },\r\n      &quot;response&quot; : {\r\n        &quot;status&quot; : 200,\r\n        &quot;body&quot; : &quot;Hello world!&quot;,\r\n        &quot;headers&quot; : {\r\n          &quot;Content-Type&quot; : &quot;text/plain&quot;\r\n        }\r\n      },\r\n      &quot;uuid&quot; : &quot;da5735a6-b6cc-45aa-8256-fb88b5670610&quot;\r\n    }\r\n","title":"Wiremock error - there are no stub mappings in this WireMock instance","body":"<p>I found solution for this. So, basically we need create a folder called \"mappings\" (exact name) under the directory identified by \"testResource\" variable. So in above code example, the mapping.json file will be stored at location: \"MockApp/resources/testconfig/mappings/mapping.json\". </p>\n\n<p>Once this, is done, it will print the following output. As can be seen in the logs, \"Stub mapping size is 1\". This will be printed once you add the following line in the code.</p>\n\n<pre><code>System.out.println(\"Stub mapping size: \" + wireMockServer.getStubMappings().size());\n\nStub mapping size: 1\n{\n  \"id\" : \"da5735a6-b6cc-45aa-8256-fb88b5670610\",\n  \"request\" : {\n    \"url\" : \"/some/thing\",\n    \"method\" : \"GET\"\n  },\n  \"response\" : {\n    \"status\" : 200,\n    \"body\" : \"Hello world!\",\n    \"headers\" : {\n      \"Content-Type\" : \"text/plain\"\n    }\n  },\n  \"uuid\" : \"da5735a6-b6cc-45aa-8256-fb88b5670610\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26502072,"reputation":31,"user_id":20138846,"display_name":"Pavel Novikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677295646,"creation_date":1677295646,"answer_id":75563109,"question_id":54722250,"body_markdown":"For example url for your file is:\r\n*resources/__files/stubResponses/provider/mark/qu/mappings/response_200.json*\r\n\r\nYou have to write in usingFilesUnderDirectory():\r\n*src/intTest/resources/__files/stubResponses/provider/mark/qu*\r\n\r\nDirectory &#39;*mappings*&#39; is very important.","title":"Wiremock error - there are no stub mappings in this WireMock instance","body":"<p>For example url for your file is:\n<em>resources/__files/stubResponses/provider/mark/qu/mappings/response_200.json</em></p>\n<p>You have to write in usingFilesUnderDirectory():\n<em>src/intTest/resources/__files/stubResponses/provider/mark/qu</em></p>\n<p>Directory '<em>mappings</em>' is very important.</p>\n"}],"owner":{"account_id":2787037,"reputation":2031,"user_id":2398143,"accept_rate":85,"display_name":"AnilJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26751,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":54756093,"answer_count":2,"score":8,"last_activity_date":1677295646,"creation_date":1550313959,"question_id":54722250,"body_markdown":"I have implemented a basic WireMock with a sample REST/HTTP request simulation. The server code implemented as below. \r\n\r\nWith this code, I get the following error when I issue the GET request from Postman (i.e. GET http://127.0.0.1:8089/some/thing). \r\n\r\n**No response could be served as there are no stub mappings in this WireMock instance.**\r\n\r\nWhat is missing in my setup/code? \r\n\r\n    import com.github.tomakehurst.wiremock.WireMockServer;\r\n    import com.github.tomakehurst.wiremock.core.WireMockConfiguration;\r\n    \r\n    public class MockApp {\r\n    \r\n        private WireMockServer wireMockServer;\r\n    \r\n        public MockApp(String testSpec) {\r\n            wireMockServer = new WireMockServer(WireMockConfiguration.options().\r\n                    port(8089).\r\n                    usingFilesUnderDirectory(testSpec).\r\n                    disableRequestJournal());\r\n        }\r\n    \r\n        public void start() {\r\n            wireMockServer.start();\r\n        }\r\n    \r\n        public void stop() {\r\n            wireMockServer.stop();\r\n        }\r\n    }\r\n\r\nThe main function is:\r\n\r\n    public class MockMain {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            String baseDir = System.getProperty(&quot;user.dir&quot;);\r\n            String testResource = baseDir + &quot;/resources/testconfig/&quot;;\r\n    \r\n            MockAMS mockAMS = new MockAMS(testResource);\r\n    \r\n            mockAMS.start();\r\n        }\r\n    }\r\n\r\nUnder &#39;resources/testconfig&#39;, there is a file called mapping.json containing:\r\n\r\n    {\r\n      &quot;request&quot;: {\r\n        &quot;method&quot;: &quot;GET&quot;,\r\n        &quot;url&quot;: &quot;/some/thing&quot;\r\n      },\r\n      &quot;response&quot;: {\r\n        &quot;status&quot;: 200,\r\n        &quot;body&quot;: &quot;Hello world!&quot;,\r\n        &quot;headers&quot;: {\r\n          &quot;Content-Type&quot;: &quot;text/plain&quot;\r\n        }\r\n      }\r\n    }","title":"Wiremock error - there are no stub mappings in this WireMock instance","body":"<p>I have implemented a basic WireMock with a sample REST/HTTP request simulation. The server code implemented as below. </p>\n\n<p>With this code, I get the following error when I issue the GET request from Postman (i.e. GET <a href=\"http://127.0.0.1:8089/some/thing\" rel=\"noreferrer\">http://127.0.0.1:8089/some/thing</a>). </p>\n\n<p><strong>No response could be served as there are no stub mappings in this WireMock instance.</strong></p>\n\n<p>What is missing in my setup/code? </p>\n\n<pre><code>import com.github.tomakehurst.wiremock.WireMockServer;\nimport com.github.tomakehurst.wiremock.core.WireMockConfiguration;\n\npublic class MockApp {\n\n    private WireMockServer wireMockServer;\n\n    public MockApp(String testSpec) {\n        wireMockServer = new WireMockServer(WireMockConfiguration.options().\n                port(8089).\n                usingFilesUnderDirectory(testSpec).\n                disableRequestJournal());\n    }\n\n    public void start() {\n        wireMockServer.start();\n    }\n\n    public void stop() {\n        wireMockServer.stop();\n    }\n}\n</code></pre>\n\n<p>The main function is:</p>\n\n<pre><code>public class MockMain {\n\n    public static void main(String[] args) {\n\n        String baseDir = System.getProperty(\"user.dir\");\n        String testResource = baseDir + \"/resources/testconfig/\";\n\n        MockAMS mockAMS = new MockAMS(testResource);\n\n        mockAMS.start();\n    }\n}\n</code></pre>\n\n<p>Under 'resources/testconfig', there is a file called mapping.json containing:</p>\n\n<pre><code>{\n  \"request\": {\n    \"method\": \"GET\",\n    \"url\": \"/some/thing\"\n  },\n  \"response\": {\n    \"status\": 200,\n    \"body\": \"Hello world!\",\n    \"headers\": {\n      \"Content-Type\": \"text/plain\"\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","loops","validation","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":1577308,"reputation":327,"user_id":1463440,"display_name":"joy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1606613152,"creation_date":1606613152,"answer_id":65056112,"question_id":65055872,"body_markdown":"    \r\n\r\n\r\n\r\n    public static void main(String[] args) {\r\n        double valX=0,valY=0;\r\n        char operator=&#39;0&#39;;//dummy default\r\n\r\n        Scanner input = new Scanner(System.in);\r\n        System.out.println(&quot;Calculator Activated.&quot;);\r\n\r\n        Double dX = null;\r\n        do\r\n        {\r\n            System.out.print(&quot;Value X: &quot;);\r\n            dX = getDouble(input.next());\r\n        }while (dX==null);\r\n        {\r\n            valX = dX;\r\n        }\r\n\r\n        Character op = null;\r\n        do\r\n        {\r\n            System.out.print(&quot;Operator: &quot;);\r\n            op = getOperator(input.next());\r\n        }while (op==null);\r\n        {\r\n            operator=op;\r\n        }\r\n\r\n\r\n        Double dY = null;\r\n        do\r\n        {\r\n            System.out.print(&quot;Value Y: &quot;);\r\n            dY = getDouble(input.next());\r\n        }while (dY==null);\r\n        {\r\n            valY = dY;\r\n        }\r\n\r\n\r\n        System.out.println(&quot;Done: &quot;+ valX + &quot; &quot;+operator + &quot; &quot; +valY);\r\n    }\r\n\r\n    static Double getDouble(String input) {\r\n        Double d = null;\r\n        try {\r\n            d = new Double(input);\r\n        }catch(NumberFormatException ex){\r\n        }\r\n        return d;\r\n    }\r\n\r\n    static Character getOperator(String input) {\r\n        Character c = null;\r\n        if(&quot;+&quot;.equals(input) || &quot;-&quot;.equals(input) || &quot;*&quot;.equals(input) || &quot;/&quot;.equals(input)){\r\n            c = input.charAt(0);\r\n        }\r\n        return c;\r\n    }\r\n\r\n","title":"Loops and user input validation in java, again","body":"<pre><code>public static void main(String[] args) {\n    double valX=0,valY=0;\n    char operator='0';//dummy default\n\n    Scanner input = new Scanner(System.in);\n    System.out.println(&quot;Calculator Activated.&quot;);\n\n    Double dX = null;\n    do\n    {\n        System.out.print(&quot;Value X: &quot;);\n        dX = getDouble(input.next());\n    }while (dX==null);\n    {\n        valX = dX;\n    }\n\n    Character op = null;\n    do\n    {\n        System.out.print(&quot;Operator: &quot;);\n        op = getOperator(input.next());\n    }while (op==null);\n    {\n        operator=op;\n    }\n\n\n    Double dY = null;\n    do\n    {\n        System.out.print(&quot;Value Y: &quot;);\n        dY = getDouble(input.next());\n    }while (dY==null);\n    {\n        valY = dY;\n    }\n\n\n    System.out.println(&quot;Done: &quot;+ valX + &quot; &quot;+operator + &quot; &quot; +valY);\n}\n\nstatic Double getDouble(String input) {\n    Double d = null;\n    try {\n        d = new Double(input);\n    }catch(NumberFormatException ex){\n    }\n    return d;\n}\n\nstatic Character getOperator(String input) {\n    Character c = null;\n    if(&quot;+&quot;.equals(input) || &quot;-&quot;.equals(input) || &quot;*&quot;.equals(input) || &quot;/&quot;.equals(input)){\n        c = input.charAt(0);\n    }\n    return c;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4289184,"reputation":9183,"user_id":3506000,"accept_rate":88,"display_name":"Robert Bain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1606613530,"creation_date":1606613530,"answer_id":65056139,"question_id":65055872,"body_markdown":"In your final code example in the class called `CalTest` where you assign `valX = input.nextDouble();` you could a call recursive method that handles the exception until the input is what you want. Something like this:\r\n\r\n    private static double getNextDouble(Scanner input) {\r\n        try {\r\n            return input.nextDouble();\r\n        } catch (InputMismatchException e) {\r\n            System.out.println(&quot;Value X must be a number: &quot;);\r\n            input.next();\r\n            return getNextDouble(input);\r\n        }\r\n    }\r\n\r\nYou&#39;ll replace `valX = input.nextDouble();` with `valX = getNextDouble(input);`. \r\n\r\nYou can tidy this up and make it work for your other potential error cases, perhaps creating a parameter for the output message and passing it in as an argument.","title":"Loops and user input validation in java, again","body":"<p>In your final code example in the class called <code>CalTest</code> where you assign <code>valX = input.nextDouble();</code> you could a call recursive method that handles the exception until the input is what you want. Something like this:</p>\n<pre><code>private static double getNextDouble(Scanner input) {\n    try {\n        return input.nextDouble();\n    } catch (InputMismatchException e) {\n        System.out.println(&quot;Value X must be a number: &quot;);\n        input.next();\n        return getNextDouble(input);\n    }\n}\n</code></pre>\n<p>You'll replace <code>valX = input.nextDouble();</code> with <code>valX = getNextDouble(input);</code>.</p>\n<p>You can tidy this up and make it work for your other potential error cases, perhaps creating a parameter for the output message and passing it in as an argument.</p>\n"}],"owner":{"account_id":19981817,"reputation":27,"user_id":14644796,"display_name":"Nod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":729,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65056139,"answer_count":2,"score":0,"last_activity_date":1677295606,"creation_date":1606610394,"question_id":65055872,"body_markdown":"So, I think about two days back I asked a question about input validation, and how to loop programs until the user gave a valid input.. \r\n\r\nSo I made a calculator and I wanted to loop every step of the program so that if the user didn&#39;t put a ```double``` (69, 42.0) or the appropriate operator ```char``` (/, *, +, -) they would be stuck on that step till they got it right or otherwise closed the app entirely. \r\n\r\nSo one thing I got from the last question about this is that I could make a ```boolean``` value called &quot;restart&quot; or something and encapsulate my entire code except for the ```main``` ```method``` obviously and at the end I could make a question that they could answer ```true``` or ```false``` and the entire app could run again. While I admit having a &quot;start over&quot; button on my app is cool and useful for all my other a projects (probably not, I&#39;m sure this can be done more efficiently), It still didn&#39;t satiate me and my original problem.\r\n\r\nSO...\r\n\r\nI got to trying everything I could (I know stack likes people who show that they at least tried).\r\n\r\nEXAMPLE 1\r\n```\r\nScanner input = new Scanner(System.in);\r\n\r\n        double valX;\r\n        \r\n            System.out.println(&quot;Calculator Activated.&quot;);\r\n\r\n                do\r\n                {\r\n                    System.out.print(&quot;Value X: &quot;);\r\n                    valX = input.nextDouble();\r\n                }while (!input.hasNextDouble());\r\n                {\r\n                    System.out.println(&quot;Invalid number!&quot;);\r\n                }\r\n//Didn&#39;t work &#175;\\_(ツ)_/&#175;\r\n```\r\n\r\nEXAMPLE 2\r\n```\r\nScanner input = new Scanner(System.in);\r\n\r\n        double valX;\r\n\r\n            System.out.println(&quot;Calculator Activated.&quot;);\r\n\r\n            while (!input.hasNextDouble())\r\n            {\r\n                System.out.println(&quot;Value X: &quot;);\r\n                valX = input.nextDouble();\r\n            }\r\n//neither this one...\r\n```\r\n\r\nNote that the solution you guys give me has to apply to every step of the program.\r\n\r\nAnd for a bit more clarity is the entire src code without the stuff I tried and the &quot;restart&quot; loop.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class CalTest\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        double valX, valY, divided, multiplied, added, subtracted;  //Declared all my variables...\r\n        char operator;\r\n        boolean restart; //Didn&#39;t need to declare it true or false since I&#39;m using a Scanner anyway\r\n\r\n        do //Start of the entire program\r\n        {\r\n            System.out.println(&quot;Calculator Activated.&quot;);\r\n\r\n            System.out.print(&quot;Value X: &quot;); //I need a loop here...\r\n            valX = input.nextDouble();\r\n            \r\n            System.out.print(&quot;Operator: &quot;); //And here...\r\n            operator = input.next().charAt(0);\r\n\r\n            System.out.print(&quot;Value Y: &quot;); //And here too..\r\n            valY = input.nextDouble();\r\n\r\n            divided = valX / valY;\r\n            multiplied = valX * valY;\r\n            added = valX + valY;\r\n            subtracted = valX - valY;\r\n\r\n            if (operator == &#39;/&#39;)\r\n                System.out.println(&quot;Result: &quot; + divided );\r\n            else if (operator == &#39;*&#39;)\r\n                System.out.println(&quot;Result: &quot; + multiplied); //&lt;--Not sure if I need a loop with the if&#39;s\r\n            else if (operator == &#39;+&#39;)\r\n                System.out.println(&quot;Result: &quot; + added);\r\n            else if (operator == &#39;-&#39;)\r\n                System.out.println(&quot;Result: &quot; + subtracted);\r\n            else\r\n                System.out.println(&quot;Invalid operator!&quot;);\r\n\r\n            System.out.print(&quot;Try again? &quot;); //I also need a loop here, I think.\r\n            restart = input.nextBoolean();\r\n\r\n        } while (restart); //End of it if you declared false.\r\n        \r\n        System.out.println(&quot;Calculator terminated.&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\nAt one point I tried to use the same &quot;restart the app&quot; concept and made a boolean variable for every single step in the code and it honestly was tiresome and not worth it.\r\n\r\n","title":"Loops and user input validation in java, again","body":"<p>So, I think about two days back I asked a question about input validation, and how to loop programs until the user gave a valid input..</p>\n<p>So I made a calculator and I wanted to loop every step of the program so that if the user didn't put a <code>double</code> (69, 42.0) or the appropriate operator <code>char</code> (/, *, +, -) they would be stuck on that step till they got it right or otherwise closed the app entirely.</p>\n<p>So one thing I got from the last question about this is that I could make a <code>boolean</code> value called &quot;restart&quot; or something and encapsulate my entire code except for the <code>main</code> <code>method</code> obviously and at the end I could make a question that they could answer <code>true</code> or <code>false</code> and the entire app could run again. While I admit having a &quot;start over&quot; button on my app is cool and useful for all my other a projects (probably not, I'm sure this can be done more efficiently), It still didn't satiate me and my original problem.</p>\n<p>SO...</p>\n<p>I got to trying everything I could (I know stack likes people who show that they at least tried).</p>\n<p>EXAMPLE 1</p>\n<pre><code>Scanner input = new Scanner(System.in);\n\n        double valX;\n        \n            System.out.println(&quot;Calculator Activated.&quot;);\n\n                do\n                {\n                    System.out.print(&quot;Value X: &quot;);\n                    valX = input.nextDouble();\n                }while (!input.hasNextDouble());\n                {\n                    System.out.println(&quot;Invalid number!&quot;);\n                }\n//Didn't work ¯\\_(ツ)_/¯\n</code></pre>\n<p>EXAMPLE 2</p>\n<pre><code>Scanner input = new Scanner(System.in);\n\n        double valX;\n\n            System.out.println(&quot;Calculator Activated.&quot;);\n\n            while (!input.hasNextDouble())\n            {\n                System.out.println(&quot;Value X: &quot;);\n                valX = input.nextDouble();\n            }\n//neither this one...\n</code></pre>\n<p>Note that the solution you guys give me has to apply to every step of the program.</p>\n<p>And for a bit more clarity is the entire src code without the stuff I tried and the &quot;restart&quot; loop.</p>\n<pre><code>import java.util.Scanner;\n\npublic class CalTest\n{\n    public static void main(String[] args)\n    {\n        Scanner input = new Scanner(System.in);\n\n        double valX, valY, divided, multiplied, added, subtracted;  //Declared all my variables...\n        char operator;\n        boolean restart; //Didn't need to declare it true or false since I'm using a Scanner anyway\n\n        do //Start of the entire program\n        {\n            System.out.println(&quot;Calculator Activated.&quot;);\n\n            System.out.print(&quot;Value X: &quot;); //I need a loop here...\n            valX = input.nextDouble();\n            \n            System.out.print(&quot;Operator: &quot;); //And here...\n            operator = input.next().charAt(0);\n\n            System.out.print(&quot;Value Y: &quot;); //And here too..\n            valY = input.nextDouble();\n\n            divided = valX / valY;\n            multiplied = valX * valY;\n            added = valX + valY;\n            subtracted = valX - valY;\n\n            if (operator == '/')\n                System.out.println(&quot;Result: &quot; + divided );\n            else if (operator == '*')\n                System.out.println(&quot;Result: &quot; + multiplied); //&lt;--Not sure if I need a loop with the if's\n            else if (operator == '+')\n                System.out.println(&quot;Result: &quot; + added);\n            else if (operator == '-')\n                System.out.println(&quot;Result: &quot; + subtracted);\n            else\n                System.out.println(&quot;Invalid operator!&quot;);\n\n            System.out.print(&quot;Try again? &quot;); //I also need a loop here, I think.\n            restart = input.nextBoolean();\n\n        } while (restart); //End of it if you declared false.\n        \n        System.out.println(&quot;Calculator terminated.&quot;);\n    }\n}\n\n</code></pre>\n<p>At one point I tried to use the same &quot;restart the app&quot; concept and made a boolean variable for every single step in the code and it honestly was tiresome and not worth it.</p>\n"},{"tags":["java","android","firebase-realtime-database","android-recyclerview","firebaseui"],"comments":[{"owner":{"account_id":1951,"reputation":26904,"user_id":2684,"accept_rate":87,"display_name":"Martin Marconcini"},"score":0,"creation_date":1636124424,"post_id":69853589,"comment_id":123480653,"body_markdown":"I assume you ought to assign `firebaseRecyclerAdapter` to a RecyclerView at some point? I cannot see that in your code.","body":"I assume you ought to assign <code>firebaseRecyclerAdapter</code> to a RecyclerView at some point? I cannot see that in your code."},{"owner":{"account_id":20283480,"reputation":23,"user_id":14876661,"display_name":"Anees Ani"},"score":0,"creation_date":1636127884,"post_id":69853589,"comment_id":123482119,"body_markdown":"@MartinMarconcini `listcustom.setAdapter(firebaseRecyclerAdapter);` you mean this?","body":"@MartinMarconcini <code>listcustom.setAdapter(firebaseRecyclerAdapter);</code> you mean this?"},{"owner":{"account_id":1951,"reputation":26904,"user_id":2684,"accept_rate":87,"display_name":"Martin Marconcini"},"score":0,"creation_date":1636359963,"post_id":69853589,"comment_id":123525752,"body_markdown":"Yes, you&#39;re right, I didn&#39;t see that.","body":"Yes, you&#39;re right, I didn&#39;t see that."}],"answers":[{"tags":[],"owner":{"account_id":20283480,"reputation":23,"user_id":14876661,"display_name":"Anees Ani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636796295,"creation_date":1636796295,"answer_id":69953084,"question_id":69853589,"body_markdown":"I found the answer for this problem. In My xml File I&#39;ve been using `match_parent` on the height. Which caused the main thread to skip the layout, because it couldn&#39;t find the layout scales.\r\n\r\nSo I changed the value to some standard height in dp. Eg: 600dp. Which defined the layout correctly so now the recyclerView is loading perfectly without skipping the layout.\r\n\r\nmy XML Code\r\n\r\n\r\n` \r\n\r\n       &lt;LinearLayout\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;match_parent&quot;\r\n                        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n\r\n                        &lt;androidx.recyclerview.widget.RecyclerView\r\n                            android:id=&quot;@+id/myWorkListemp&quot;\r\n\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;700dp&quot;\r\n                            android:layout_marginTop=&quot;15dp&quot; /&gt;\r\n\r\n                        &lt;androidx.recyclerview.widget.RecyclerView\r\n                            android:visibility=&quot;gone&quot;\r\n\r\n                            android:id=&quot;@+id/myCustomerListCustom&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;700dp&quot;\r\n                            android:layout_marginTop=&quot;15dp&quot; /&gt;\r\n\r\n                    &lt;/LinearLayout&gt;\r\n`","title":"Firebase :RecyclerView Skipping layout no Adapter Attached","body":"<p>I found the answer for this problem. In My xml File I've been using <code>match_parent</code> on the height. Which caused the main thread to skip the layout, because it couldn't find the layout scales.</p>\n<p>So I changed the value to some standard height in dp. Eg: 600dp. Which defined the layout correctly so now the recyclerView is loading perfectly without skipping the layout.</p>\n<p>my XML Code</p>\n<p>`</p>\n<pre><code>   &lt;LinearLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    android:orientation=&quot;vertical&quot;&gt;\n\n\n                    &lt;androidx.recyclerview.widget.RecyclerView\n                        android:id=&quot;@+id/myWorkListemp&quot;\n\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;700dp&quot;\n                        android:layout_marginTop=&quot;15dp&quot; /&gt;\n\n                    &lt;androidx.recyclerview.widget.RecyclerView\n                        android:visibility=&quot;gone&quot;\n\n                        android:id=&quot;@+id/myCustomerListCustom&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;700dp&quot;\n                        android:layout_marginTop=&quot;15dp&quot; /&gt;\n\n                &lt;/LinearLayout&gt;\n</code></pre>\n<p>`</p>\n"}],"owner":{"account_id":20283480,"reputation":23,"user_id":14876661,"display_name":"Anees Ani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69953084,"answer_count":1,"score":0,"last_activity_date":1677295153,"creation_date":1636116849,"question_id":69853589,"body_markdown":"I&#39;m a beinner working on firebase java android. My problem is that i cannot load the recyclerView it is showing that **adapter not attached Skipping layout** even though I&#39;ve attached the adapter still its showing the same \r\n\r\nBelow is my code.\r\n\r\n\r\n\r\n    private RecyclerView bookList,listOrg,listcustom;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_my_work_employee);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        currentUserID = mAuth.getCurrentUser().getUid();\r\n\r\n        MyCustomWorkRef = FirebaseDatabase.getInstance().getReference().child(&quot;WorksCustomAdded&quot;);\r\n        \r\n        bookList = findViewById(R.id.myCustomerList);\r\n        listcustom = findViewById(R.id.myCustomerListCustom);\r\n\r\n        bookList.setHasFixedSize(true);\r\n        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(MyWorkEmployeeActivity.this);\r\n        linearLayoutManager.setReverseLayout(true);\r\n        linearLayoutManager.setStackFromEnd(true);\r\n        bookList.setLayoutManager(linearLayoutManager);\r\n\r\n\r\n\r\n\r\n        listcustom.setHasFixedSize(true);\r\n        LinearLayoutManager linearLayoutManager2 = new LinearLayoutManager(MyWorkEmployeeActivity.this);\r\n        linearLayoutManager2.setReverseLayout(true);\r\n        linearLayoutManager2.setStackFromEnd(true);\r\n        listcustom.setLayoutManager(linearLayoutManager2);\r\n\r\n\r\n        //LoadDat();\r\n\r\n        DisplayCustom(&quot;ltG284DWVbbxfHlD3vAiiwkEv963&quot;,&quot;22883b15-d432-42b7-8ba5-1b3d4586ff09&quot;);\r\n\r\n\r\n       // DisplayCustom();\r\n\r\n    }\r\n\r\n\r\nThis is my Display Custom Function \r\n\r\n\r\n    private void DisplayCustom(String cmpnyUID,String empId) {\r\n\r\n\r\n        Toast.makeText(getApplicationContext(), &quot;CompnUID : &quot; + cmpnyUID + &quot;\\n  empID : &quot;+empId, Toast.LENGTH_SHORT).show();\r\n        Query SortPostsInDecendingOrder = MyCustomWorkRef.child(cmpnyUID).orderByChild(&quot;empID&quot;).equalTo(empId);;\r\n\r\n        FirebaseRecyclerOptions&lt;MyCustomer&gt; options = new FirebaseRecyclerOptions.Builder&lt;MyCustomer&gt;()\r\n                .setQuery(SortPostsInDecendingOrder, MyCustomer.class)\r\n                .build();\r\n        FirebaseRecyclerAdapter&lt;MyCustomer, MyWorkEmployeeActivity.PBooksViewHolder&gt; firebaseRecyclerAdapter = new FirebaseRecyclerAdapter&lt;MyCustomer, MyWorkEmployeeActivity.PBooksViewHolder&gt;(options)\r\n        {\r\n            @NonNull\r\n            @Override\r\n            public MyWorkEmployeeActivity.PBooksViewHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int i)\r\n            {\r\n                View view= LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.viewwork_list_eng, viewGroup, false);\r\n                MyWorkEmployeeActivity.PBooksViewHolder viewHolder =new MyWorkEmployeeActivity.PBooksViewHolder(view);\r\n                return viewHolder;\r\n            }\r\n\r\n            @Override\r\n            protected void onBindViewHolder(@NonNull MyWorkEmployeeActivity.PBooksViewHolder holder, int position, @NonNull MyCustomer model)\r\n            {\r\n                final String pos = getRef(position).getKey();\r\n                String cmpnyID = model.getCmpnyID();\r\n                String wrkID = model.getWrkSiteID();\r\n                String engID = model.getEngKey();\r\n                String usrID = model.getUsrkey();\r\n\r\n\r\n           \r\n\r\n\r\n\r\n                holder.bookname.setText(model.getUsrname());\r\n                holder.count.setText(&quot;Work No: \\n&quot;+model.getCnt());\r\n\r\n\r\n                holder.mView.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        Intent reqIntent = new Intent(MyWorkEmployeeActivity.this, ViewCustomWrkActivity.class);\r\n                        reqIntent.putExtra(&quot;wrkID&quot;, model.getWrkSiteID());\r\n                        reqIntent.putExtra(&quot;usrkey&quot;,&quot;0&quot;);\r\n\r\n                        startActivity(reqIntent);\r\n                    }\r\n                });\r\n\r\n            }\r\n        };\r\n\r\n\r\n        listcustom.setAdapter(firebaseRecyclerAdapter);\r\n        firebaseRecyclerAdapter.startListening();\r\n\r\n\r\n        }\r\n\r\n\r\n        public class PBooksViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        TextView bookname, bookauthor,fees ,count;\r\n        ImageView profImage;\r\n        LinearLayout mView;\r\n        String t_area, b_area, plan, allow;\r\n        public PBooksViewHolder(@NonNull View itemView) {\r\n\r\n            super(itemView);\r\n\r\n\r\n            profImage = itemView.findViewById(R.id.ivRequestProfile);\r\n            bookname = itemView.findViewById(R.id.tvRequestUserName);\r\n            bookauthor = itemView.findViewById(R.id.tvWorksCompletedEngineerList);\r\n            mView = itemView.findViewById(R.id.request_layout);\r\n            fees =  itemView.findViewById(R.id.tvFeesEngineerList);\r\n\r\n            count =  itemView.findViewById(R.id.wrkCount);\r\n\r\n\r\n        }\r\n    }\r\n","title":"Firebase :RecyclerView Skipping layout no Adapter Attached","body":"<p>I'm a beinner working on firebase java android. My problem is that i cannot load the recyclerView it is showing that <strong>adapter not attached Skipping layout</strong> even though I've attached the adapter still its showing the same</p>\n<p>Below is my code.</p>\n<pre><code>private RecyclerView bookList,listOrg,listcustom;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_my_work_employee);\n\n    mAuth = FirebaseAuth.getInstance();\n    currentUserID = mAuth.getCurrentUser().getUid();\n\n    MyCustomWorkRef = FirebaseDatabase.getInstance().getReference().child(&quot;WorksCustomAdded&quot;);\n    \n    bookList = findViewById(R.id.myCustomerList);\n    listcustom = findViewById(R.id.myCustomerListCustom);\n\n    bookList.setHasFixedSize(true);\n    LinearLayoutManager linearLayoutManager = new LinearLayoutManager(MyWorkEmployeeActivity.this);\n    linearLayoutManager.setReverseLayout(true);\n    linearLayoutManager.setStackFromEnd(true);\n    bookList.setLayoutManager(linearLayoutManager);\n\n\n\n\n    listcustom.setHasFixedSize(true);\n    LinearLayoutManager linearLayoutManager2 = new LinearLayoutManager(MyWorkEmployeeActivity.this);\n    linearLayoutManager2.setReverseLayout(true);\n    linearLayoutManager2.setStackFromEnd(true);\n    listcustom.setLayoutManager(linearLayoutManager2);\n\n\n    //LoadDat();\n\n    DisplayCustom(&quot;ltG284DWVbbxfHlD3vAiiwkEv963&quot;,&quot;22883b15-d432-42b7-8ba5-1b3d4586ff09&quot;);\n\n\n   // DisplayCustom();\n\n}\n</code></pre>\n<p>This is my Display Custom Function</p>\n<pre><code>private void DisplayCustom(String cmpnyUID,String empId) {\n\n\n    Toast.makeText(getApplicationContext(), &quot;CompnUID : &quot; + cmpnyUID + &quot;\\n  empID : &quot;+empId, Toast.LENGTH_SHORT).show();\n    Query SortPostsInDecendingOrder = MyCustomWorkRef.child(cmpnyUID).orderByChild(&quot;empID&quot;).equalTo(empId);;\n\n    FirebaseRecyclerOptions&lt;MyCustomer&gt; options = new FirebaseRecyclerOptions.Builder&lt;MyCustomer&gt;()\n            .setQuery(SortPostsInDecendingOrder, MyCustomer.class)\n            .build();\n    FirebaseRecyclerAdapter&lt;MyCustomer, MyWorkEmployeeActivity.PBooksViewHolder&gt; firebaseRecyclerAdapter = new FirebaseRecyclerAdapter&lt;MyCustomer, MyWorkEmployeeActivity.PBooksViewHolder&gt;(options)\n    {\n        @NonNull\n        @Override\n        public MyWorkEmployeeActivity.PBooksViewHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int i)\n        {\n            View view= LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.viewwork_list_eng, viewGroup, false);\n            MyWorkEmployeeActivity.PBooksViewHolder viewHolder =new MyWorkEmployeeActivity.PBooksViewHolder(view);\n            return viewHolder;\n        }\n\n        @Override\n        protected void onBindViewHolder(@NonNull MyWorkEmployeeActivity.PBooksViewHolder holder, int position, @NonNull MyCustomer model)\n        {\n            final String pos = getRef(position).getKey();\n            String cmpnyID = model.getCmpnyID();\n            String wrkID = model.getWrkSiteID();\n            String engID = model.getEngKey();\n            String usrID = model.getUsrkey();\n\n\n       \n\n\n\n            holder.bookname.setText(model.getUsrname());\n            holder.count.setText(&quot;Work No: \\n&quot;+model.getCnt());\n\n\n            holder.mView.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    Intent reqIntent = new Intent(MyWorkEmployeeActivity.this, ViewCustomWrkActivity.class);\n                    reqIntent.putExtra(&quot;wrkID&quot;, model.getWrkSiteID());\n                    reqIntent.putExtra(&quot;usrkey&quot;,&quot;0&quot;);\n\n                    startActivity(reqIntent);\n                }\n            });\n\n        }\n    };\n\n\n    listcustom.setAdapter(firebaseRecyclerAdapter);\n    firebaseRecyclerAdapter.startListening();\n\n\n    }\n\n\n    public class PBooksViewHolder extends RecyclerView.ViewHolder {\n\n    TextView bookname, bookauthor,fees ,count;\n    ImageView profImage;\n    LinearLayout mView;\n    String t_area, b_area, plan, allow;\n    public PBooksViewHolder(@NonNull View itemView) {\n\n        super(itemView);\n\n\n        profImage = itemView.findViewById(R.id.ivRequestProfile);\n        bookname = itemView.findViewById(R.id.tvRequestUserName);\n        bookauthor = itemView.findViewById(R.id.tvWorksCompletedEngineerList);\n        mView = itemView.findViewById(R.id.request_layout);\n        fees =  itemView.findViewById(R.id.tvFeesEngineerList);\n\n        count =  itemView.findViewById(R.id.wrkCount);\n\n\n    }\n}\n</code></pre>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":16038211,"reputation":82,"user_id":11575328,"display_name":"Bristol"},"score":0,"creation_date":1620470410,"post_id":67446571,"comment_id":119213604,"body_markdown":"implementing a backgroud service will be suited for your problem. checkout on this link https://developer.android.com/guide/components/services","body":"implementing a backgroud service will be suited for your problem. checkout on this link <a href=\"https://developer.android.com/guide/components/services\" rel=\"nofollow noreferrer\">developer.android.com/guide/components/services</a>"},{"owner":{"account_id":5877971,"reputation":1421,"user_id":4628279,"display_name":"akhil nair"},"score":0,"creation_date":1620478800,"post_id":67446571,"comment_id":119215550,"body_markdown":"When do you want this check to happen, once in a day or some other business logic?","body":"When do you want this check to happen, once in a day or some other business logic?"},{"owner":{"account_id":5877971,"reputation":1421,"user_id":4628279,"display_name":"akhil nair"},"score":0,"creation_date":1620479411,"post_id":67446571,"comment_id":119215692,"body_markdown":"Do you mean that the logic for getting the difference between two dates is not workking?","body":"Do you mean that the logic for getting the difference between two dates is not workking?"}],"owner":{"account_id":20283480,"reputation":23,"user_id":14876661,"display_name":"Anees Ani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677295127,"creation_date":1620470087,"question_id":67446571,"body_markdown":"I am having trouble to make to alert a popup once the remaining days are finished.\r\nHow do I call a function if the remaining days are finished i.e. when the remaining days turn to zero.\r\n\r\n```java\r\ntry {\r\n     String CurrentDate= curentDate;\r\n     String FinalDatea= FinalDate;\r\n     Date date1;\r\n               \r\n     Date date2;\r\n     SimpleDateFormat dates = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n     date1 = dates.parse(CurrentDate);\r\n     date2 = dates.parse(FinalDatea);\r\n     long difference = Math.abs(date1.getTime() - date2.getTime());\r\n     long differenceDates = difference / (24 * 60 * 60 * 1000);\r\n     String dayDifference = Long.toString(differenceDates);\r\n     remainingDays = dayDifference +&quot; days remaining&quot;;\r\n     mToolbar = (Toolbar) findViewById(R.id.ViewWorkEng_page_toolbar);\r\n     setSupportActionBar(mToolbar);\r\n     getSupportActionBar().setTitle(remainingDays);\r\n     getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n\r\n} catch (Exception exception) {\r\n      Toast.makeText(getApplicationContext(), &quot;Unable to find date difference&quot;, Toast.LENGTH_SHORT).show();\r\n}\r\n\r\n```\r\n\r\nI&#39;ve used the above code to get the remaining days between 2 dates. But whenever the CurrentDate and FinalDate become equal it is showing  &quot; 7 days remaining&quot;.\r\n\r\n","title":"How to alert remaining days are finished on date picker?","body":"<p>I am having trouble to make to alert a popup once the remaining days are finished.\nHow do I call a function if the remaining days are finished i.e. when the remaining days turn to zero.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n     String CurrentDate= curentDate;\n     String FinalDatea= FinalDate;\n     Date date1;\n               \n     Date date2;\n     SimpleDateFormat dates = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\n     date1 = dates.parse(CurrentDate);\n     date2 = dates.parse(FinalDatea);\n     long difference = Math.abs(date1.getTime() - date2.getTime());\n     long differenceDates = difference / (24 * 60 * 60 * 1000);\n     String dayDifference = Long.toString(differenceDates);\n     remainingDays = dayDifference +&quot; days remaining&quot;;\n     mToolbar = (Toolbar) findViewById(R.id.ViewWorkEng_page_toolbar);\n     setSupportActionBar(mToolbar);\n     getSupportActionBar().setTitle(remainingDays);\n     getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n\n} catch (Exception exception) {\n      Toast.makeText(getApplicationContext(), &quot;Unable to find date difference&quot;, Toast.LENGTH_SHORT).show();\n}\n\n</code></pre>\n<p>I've used the above code to get the remaining days between 2 dates. But whenever the CurrentDate and FinalDate become equal it is showing  &quot; 7 days remaining&quot;.</p>\n"},{"tags":["java","jpa","testing","junit","hibernate-entitymanager"],"comments":[{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1677293248,"post_id":75562597,"comment_id":133314790,"body_markdown":"It’s been a bit since I worked with JUnit so I’m not 100% sure this will work, but you can declare your `EntityManager` as an instance variable and instantiate it in a setup method with the `@BeforeAll` annotation.","body":"It’s been a bit since I worked with JUnit so I’m not 100% sure this will work, but you can declare your <code>EntityManager</code> as an instance variable and instantiate it in a setup method with the <code>@BeforeAll</code> annotation."}],"answers":[{"tags":[],"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677294081,"creation_date":1677294081,"answer_id":75563036,"question_id":75562597,"body_markdown":"It makes sense that it’s not keeping the same in memory database as, without really knowing much about it, I assume it works much the same as objects and is stored in the heap. When you call `createEntityManager()` the second time, it’s like creating a new object and the reference points to the new object, leaving the old one to get cleaned up by the GarbageCollector.\r\n\r\nTo prevent having to initialize the in memory database a second time, I believe setting it up as a `@BeforeAll` should do the trick.\r\n\r\n    private final EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;in.memory.test&quot;);\r\n    private EntityManager entityManager;\r\n\r\n    @BeforeAll\r\n    void setup() {\r\n        entityManager = entityManagerFactory.createEntityManager();\r\n    }","title":"Nullified stored data","body":"<p>It makes sense that it’s not keeping the same in memory database as, without really knowing much about it, I assume it works much the same as objects and is stored in the heap. When you call <code>createEntityManager()</code> the second time, it’s like creating a new object and the reference points to the new object, leaving the old one to get cleaned up by the GarbageCollector.</p>\n<p>To prevent having to initialize the in memory database a second time, I believe setting it up as a <code>@BeforeAll</code> should do the trick.</p>\n<pre><code>private final EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;in.memory.test&quot;);\nprivate EntityManager entityManager;\n\n@BeforeAll\nvoid setup() {\n    entityManager = entityManagerFactory.createEntityManager();\n}\n</code></pre>\n"}],"owner":{"account_id":2658598,"reputation":111,"user_id":2298785,"display_name":"Romillion"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677294081,"creation_date":1677285860,"question_id":75562597,"body_markdown":"can you please explain me what i do wrong. I Am learning JPA and i&#39;m stuck with tests.\r\nOn the first test &quot;teslaOne&quot; i create and persist Entity to the db and i would like to get access to this data from second test &quot;teslaTwo&quot;.\r\n\r\nWhen i use Persistence.createEntityManagerFactory(&quot;h2database&quot;) it works but when i store it on the memoty Persistence.createEntityManagerFactory(&quot;in.memory.test&quot;) it does not.\r\n\r\ni understand that &quot;h2database&quot; it is a fila, &quot;in.memory.test&quot; memory but it not clear for me why it have a different behavior and why it nullify data.\r\n\r\nCan you tell me please how to share EntityManager between tests.\r\n\r\n**persistence.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;persistence xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             version=&quot;3.0&quot;\r\n             xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/persistence https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd&quot;&gt;\r\n    &lt;persistence-unit name=&quot;h2database&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n        &lt;class&gt;com.caveatemptor.core.data.entites.Tesla&lt;/class&gt;\r\n        &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\r\n\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.H2Dialect&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;org.h2.Driver&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.connection.username&quot; value=&quot;sa&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.connection.password&quot; value=&quot;&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:h2:file:./h2data/demodb&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;\r\n\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n\r\n    &lt;persistence-unit name=&quot;in.memory.test&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n        &lt;class&gt;com.caveatemptor.core.data.entites.Tesla&lt;/class&gt;\r\n\r\n        &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\r\n\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.H2Dialect&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;org.h2.Driver&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:h2:mem:&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;false&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n\r\n&lt;/persistence&gt;\r\n```\r\n\r\n**Tesla.java**\r\n```\r\n@Setter\r\n@Getter\r\n@ToString\r\n@Entity()\r\npublic class Tesla implements Serializable {\r\n    @Id\r\n    @GeneratedValue\r\n    protected Long ID;\r\n\r\n    protected String vehicle;\r\n}\r\n```\r\n\r\n**TeslaTest.java**\r\n\r\n```\r\npackage com.caveatemptor.core.data.inheritance;\r\n\r\nimport com.caveatemptor.core.data.entites.Tesla;\r\nimport jakarta.persistence.*;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.util.List;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\npublic class TeslaTest {\r\n//    private final EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;h2database&quot;);\r\n    private final EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;in.memory.test&quot;);\r\n    @Test\r\n    void teslaOne(){\r\n        Tesla tesla = new Tesla();\r\n        tesla.setVehicle(&quot;Model X&quot;);\r\n\r\n        EntityManager entityManager = entityManagerFactory.createEntityManager();\r\n\r\n        EntityTransaction transaction = entityManager.getTransaction();\r\n\r\n        try {\r\n            transaction.begin();\r\n\r\n            entityManager.persist(tesla);\r\n            transaction.commit();\r\n\r\n            Tesla teslaV = entityManager.find(Tesla.class, tesla.getID());\r\n            assertEquals(teslaV.getVehicle(), &quot;Model X&quot;);\r\n\r\n        }\r\n        finally {\r\n            if(transaction.isActive()){\r\n                transaction.rollback();\r\n            }\r\n            entityManager.close();\r\n        }\r\n    }\r\n\r\n\r\n    @Test\r\n    void teslaTwo(){\r\n        EntityManager entityManager = entityManagerFactory.createEntityManager();\r\n\r\n        EntityTransaction transaction = entityManager.getTransaction();\r\n\r\n        try {\r\n            transaction.begin();\r\n\r\n            TypedQuery&lt;Tesla&gt; query = entityManager.createQuery(&quot;select t from Tesla t&quot;, Tesla.class);\r\n            List&lt;Tesla&gt; items = query.getResultList();\r\n            assertEquals(1, items.size());\r\n        }\r\n        finally {\r\n            if(transaction.isActive()){\r\n                transaction.rollback();\r\n            }\r\n            entityManager.close();\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n","title":"Nullified stored data","body":"<p>can you please explain me what i do wrong. I Am learning JPA and i'm stuck with tests.\nOn the first test &quot;teslaOne&quot; i create and persist Entity to the db and i would like to get access to this data from second test &quot;teslaTwo&quot;.</p>\n<p>When i use Persistence.createEntityManagerFactory(&quot;h2database&quot;) it works but when i store it on the memoty Persistence.createEntityManagerFactory(&quot;in.memory.test&quot;) it does not.</p>\n<p>i understand that &quot;h2database&quot; it is a fila, &quot;in.memory.test&quot; memory but it not clear for me why it have a different behavior and why it nullify data.</p>\n<p>Can you tell me please how to share EntityManager between tests.</p>\n<p><strong>persistence.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;persistence xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot;\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             version=&quot;3.0&quot;\n             xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/persistence https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd&quot;&gt;\n    &lt;persistence-unit name=&quot;h2database&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n        &lt;class&gt;com.caveatemptor.core.data.entites.Tesla&lt;/class&gt;\n        &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\n\n        &lt;properties&gt;\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.H2Dialect&quot;/&gt;\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\n            &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;org.h2.Driver&quot;/&gt;\n            &lt;property name=&quot;hibernate.connection.username&quot; value=&quot;sa&quot;/&gt;\n            &lt;property name=&quot;hibernate.connection.password&quot; value=&quot;&quot;/&gt;\n            &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:h2:file:./h2data/demodb&quot;/&gt;\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;\n\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n\n    &lt;persistence-unit name=&quot;in.memory.test&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n        &lt;class&gt;com.caveatemptor.core.data.entites.Tesla&lt;/class&gt;\n\n        &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\n\n        &lt;properties&gt;\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.H2Dialect&quot;/&gt;\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\n            &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;org.h2.Driver&quot;/&gt;\n            &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:h2:mem:&quot;/&gt;\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;false&quot;/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n\n&lt;/persistence&gt;\n</code></pre>\n<p><strong>Tesla.java</strong></p>\n<pre><code>@Setter\n@Getter\n@ToString\n@Entity()\npublic class Tesla implements Serializable {\n    @Id\n    @GeneratedValue\n    protected Long ID;\n\n    protected String vehicle;\n}\n</code></pre>\n<p><strong>TeslaTest.java</strong></p>\n<pre><code>package com.caveatemptor.core.data.inheritance;\n\nimport com.caveatemptor.core.data.entites.Tesla;\nimport jakarta.persistence.*;\nimport org.junit.jupiter.api.Test;\n\nimport java.util.List;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\npublic class TeslaTest {\n//    private final EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;h2database&quot;);\n    private final EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;in.memory.test&quot;);\n    @Test\n    void teslaOne(){\n        Tesla tesla = new Tesla();\n        tesla.setVehicle(&quot;Model X&quot;);\n\n        EntityManager entityManager = entityManagerFactory.createEntityManager();\n\n        EntityTransaction transaction = entityManager.getTransaction();\n\n        try {\n            transaction.begin();\n\n            entityManager.persist(tesla);\n            transaction.commit();\n\n            Tesla teslaV = entityManager.find(Tesla.class, tesla.getID());\n            assertEquals(teslaV.getVehicle(), &quot;Model X&quot;);\n\n        }\n        finally {\n            if(transaction.isActive()){\n                transaction.rollback();\n            }\n            entityManager.close();\n        }\n    }\n\n\n    @Test\n    void teslaTwo(){\n        EntityManager entityManager = entityManagerFactory.createEntityManager();\n\n        EntityTransaction transaction = entityManager.getTransaction();\n\n        try {\n            transaction.begin();\n\n            TypedQuery&lt;Tesla&gt; query = entityManager.createQuery(&quot;select t from Tesla t&quot;, Tesla.class);\n            List&lt;Tesla&gt; items = query.getResultList();\n            assertEquals(1, items.size());\n        }\n        finally {\n            if(transaction.isActive()){\n                transaction.rollback();\n            }\n            entityManager.close();\n        }\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":5,"creation_date":1677295079,"post_id":75563021,"comment_id":133314917,"body_markdown":"Your code, as written, is thread-safe. Using `synchronized` creates a _happens-before_ relationship, same as `volatile`. The former is simply more versatile because you can guard an entire block of code rather than just a single field. Since you synchronize on the same lock object when reading and writing the `currMap` field, that field is properly guarded. And the flow of your code is such that the `Map` _instance_ referenced by `currMap` is never accessed by multiple threads concurrently after the field has been assigned. Even after writing to the field, the old instance is simply [cont.]","body":"Your code, as written, is thread-safe. Using <code>synchronized</code> creates a <i>happens-before</i> relationship, same as <code>volatile</code>. The former is simply more versatile because you can guard an entire block of code rather than just a single field. Since you synchronize on the same lock object when reading and writing the <code>currMap</code> field, that field is properly guarded. And the flow of your code is such that the <code>Map</code> <i>instance</i> referenced by <code>currMap</code> is never accessed by multiple threads concurrently after the field has been assigned. Even after writing to the field, the old instance is simply [cont.]"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1677295257,"post_id":75563021,"comment_id":133314932,"body_markdown":"[cont.] lost to the void, never to be accessed again by any thread, let alone the &quot;reader&quot; thread. And you always do `foo.update(new HashMap&lt;&gt;(map))`. That copies the original `map` instance, which has the `0 -&gt; 0` entry. So, the map referenced by `currMap` can never _not_ have that entry. Given the fact the original `map` instance is never modified, and the call to `map.put(0, 0)` _happens-before_ both `reader.start()` and `writer.start()`, you can see why you never read the wrong value.","body":"[cont.] lost to the void, never to be accessed again by any thread, let alone the &quot;reader&quot; thread. And you always do <code>foo.update(new HashMap&lt;&gt;(map))</code>. That copies the original <code>map</code> instance, which has the <code>0 -&gt; 0</code> entry. So, the map referenced by <code>currMap</code> can never <i>not</i> have that entry. Given the fact the original <code>map</code> instance is never modified, and the call to <code>map.put(0, 0)</code> <i>happens-before</i> both <code>reader.start()</code> and <code>writer.start()</code>, you can see why you never read the wrong value."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":2,"creation_date":1677295299,"post_id":75563021,"comment_id":133314934,"body_markdown":"...Specifically, When thread A _exits_ from a block that is synchronized on some Object, o; that  event &quot;happens before&quot; some other thread B subsequently enters a block that is `synchronized` on the same object, o. In more practical terms, it means that whatever thread A did before it released some lock is guaranteed to be visible to thread B after thread B subsequently acquires the same lock. That rule also works for `ReentrantLock` objects and other `Lock` objects.","body":"...Specifically, When thread A <i>exits</i> from a block that is synchronized on some Object, o; that  event &quot;happens before&quot; some other thread B subsequently enters a block that is <code>synchronized</code> on the same object, o. In more practical terms, it means that whatever thread A did before it released some lock is guaranteed to be visible to thread B after thread B subsequently acquires the same lock. That rule also works for <code>ReentrantLock</code> objects and other <code>Lock</code> objects."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1677296892,"post_id":75563021,"comment_id":133315084,"body_markdown":"In addition, if `currMap` _was_ `volatile` but the `synchronized` blocks were not present, it _would not_ be threadsafe, as the read of `currMap` could read a value that has not yet been updated, then calls to `oldMap.remove(0)` and `currMap.getOrDefault(0, -1)` could execute concurrently on the same instance of the `HashMap`. The `synchronized` blocks ensure that the update and read operations execute atomically.","body":"In addition, if <code>currMap</code> <i>was</i> <code>volatile</code> but the <code>synchronized</code> blocks were not present, it <i>would not</i> be threadsafe, as the read of <code>currMap</code> could read a value that has not yet been updated, then calls to <code>oldMap.remove(0)</code> and <code>currMap.getOrDefault(0, -1)</code> could execute concurrently on the same instance of the <code>HashMap</code>. The <code>synchronized</code> blocks ensure that the update and read operations execute atomically."}],"owner":{"account_id":1343574,"reputation":1526,"user_id":1284735,"accept_rate":62,"display_name":"petabyte"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677293702,"creation_date":1677293702,"question_id":75563021,"body_markdown":"I have a `Foo` class that I think should **not** be thread-safe, yet I can&#39;t seem to reproduce the issue. One method it has is `update` which sets the current map from the parameter and mutate the old map. The other method is `read` which always gets a value from current map.\r\n\r\nPlease take a look at the test example. I have two threads, one which calls `update` and the other `read`. I&#39;d expect `read` to sometimes read from an older version of `currMap` (because it&#39;s not `volatile`) which got mutated by `update`, and therefore return `-1`, yet it doesn&#39;t happen. Is this a coincidence or expected?\r\n\r\n\r\n```java\r\n  private static class Foo {\r\n    Map&lt;Integer, Integer&gt; currMap;\r\n    Object lock = new Object();\r\n\r\n    Foo(Map&lt;Integer, Integer&gt; newMap) {\r\n      currMap = newMap;\r\n    }\r\n\r\n    void update(Map&lt;Integer, Integer&gt; newMap) {\r\n      synchronized (lock) {\r\n        Map&lt;Integer, Integer&gt; oldMap = currMap;\r\n        currMap = newMap;\r\n        oldMap.remove(0);\r\n      }\r\n    }\r\n\r\n    int read() {\r\n      int val;\r\n      synchronized (lock) {\r\n        val = currMap.getOrDefault(0, -1);\r\n      }\r\n      return val;\r\n    }\r\n  }\r\n  @Test\r\n  public void testExample() throws InterruptedException {\r\n    AtomicInteger readWrong = new AtomicInteger(0);\r\n    Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\r\n    map.put(0, 0);\r\n    Foo foo = new Foo(new HashMap&lt;&gt;(map));\r\n    Thread updater = new Thread(() -&gt; {\r\n      while (readWrong.get() == 0) {\r\n        foo.update(new HashMap&lt;&gt;(map));\r\n      }\r\n    });\r\n\r\n    Thread reader = new Thread(() -&gt; {\r\n      while (readWrong.get() == 0) {\r\n        if (foo.read() == -1) {\r\n          readWrong.incrementAndGet();\r\n        }\r\n      }\r\n    });\r\n\r\n    updater.start();\r\n    reader.start();\r\n\r\n    updater.join();\r\n    reader.join();\r\n\r\n    assertTrue(readWrong.get() &gt; 0);\r\n  }","title":"Does using a lock mitigate issues handled by the volatile keyword?","body":"<p>I have a <code>Foo</code> class that I think should <strong>not</strong> be thread-safe, yet I can't seem to reproduce the issue. One method it has is <code>update</code> which sets the current map from the parameter and mutate the old map. The other method is <code>read</code> which always gets a value from current map.</p>\n<p>Please take a look at the test example. I have two threads, one which calls <code>update</code> and the other <code>read</code>. I'd expect <code>read</code> to sometimes read from an older version of <code>currMap</code> (because it's not <code>volatile</code>) which got mutated by <code>update</code>, and therefore return <code>-1</code>, yet it doesn't happen. Is this a coincidence or expected?</p>\n<pre class=\"lang-java prettyprint-override\"><code>  private static class Foo {\n    Map&lt;Integer, Integer&gt; currMap;\n    Object lock = new Object();\n\n    Foo(Map&lt;Integer, Integer&gt; newMap) {\n      currMap = newMap;\n    }\n\n    void update(Map&lt;Integer, Integer&gt; newMap) {\n      synchronized (lock) {\n        Map&lt;Integer, Integer&gt; oldMap = currMap;\n        currMap = newMap;\n        oldMap.remove(0);\n      }\n    }\n\n    int read() {\n      int val;\n      synchronized (lock) {\n        val = currMap.getOrDefault(0, -1);\n      }\n      return val;\n    }\n  }\n  @Test\n  public void testExample() throws InterruptedException {\n    AtomicInteger readWrong = new AtomicInteger(0);\n    Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\n    map.put(0, 0);\n    Foo foo = new Foo(new HashMap&lt;&gt;(map));\n    Thread updater = new Thread(() -&gt; {\n      while (readWrong.get() == 0) {\n        foo.update(new HashMap&lt;&gt;(map));\n      }\n    });\n\n    Thread reader = new Thread(() -&gt; {\n      while (readWrong.get() == 0) {\n        if (foo.read() == -1) {\n          readWrong.incrementAndGet();\n        }\n      }\n    });\n\n    updater.start();\n    reader.start();\n\n    updater.join();\n    reader.join();\n\n    assertTrue(readWrong.get() &gt; 0);\n  }\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":202726,"reputation":22092,"user_id":449958,"display_name":"Rawkode"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337077036,"creation_date":1337077036,"answer_id":10598607,"question_id":10598547,"body_markdown":"Within ClassA\r\n\r\nDefine your TextView\r\n\r\n    private TextView1 txtView1;\r\n\r\nLoad it during onCreate\r\n\r\n    txtView1 = (TextView) findViewById(R.id.txtView1);\r\n\r\nWrite a setter\r\n\r\n    public void setTextOnTextView1(String text) {\r\n      txtView1.setText(text);\r\n    }\r\nIn your other class you can now\r\n\r\n    c.setTextOnTextView1(&quot;Hello&quot;);\r\n\r\n","title":"how to set TextView from another Class (Android)","body":"<p>Within ClassA</p>\n\n<p>Define your TextView</p>\n\n<pre><code>private TextView1 txtView1;\n</code></pre>\n\n<p>Load it during onCreate</p>\n\n<pre><code>txtView1 = (TextView) findViewById(R.id.txtView1);\n</code></pre>\n\n<p>Write a setter</p>\n\n<pre><code>public void setTextOnTextView1(String text) {\n  txtView1.setText(text);\n}\n</code></pre>\n\n<p>In your other class you can now</p>\n\n<pre><code>c.setTextOnTextView1(\"Hello\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":905032,"reputation":24172,"user_id":940096,"accept_rate":88,"display_name":"Praveenkumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1337077456,"creation_date":1337077115,"answer_id":10598634,"question_id":10598547,"body_markdown":"Yes, you can do -\r\n\r\n    Intent i = new Intent(classA.this, classB.class);\r\n    Bundle bundle = new Bundle();\r\n    bundle.putExtra(&quot;name For Identification&quot;, &quot;Value);\r\n    i.putExtras(bundle);\r\n    startActivity(i);\r\n\r\nIn your second class, i mean **Class B**\r\n\r\n    Bundle bundle = getIntent().getExtras(&quot;name for Identification&quot;);\r\n    String text = bundle.getString(&quot;name For Identification&quot;);\r\n\r\n\r\nSimply set this text to your `TextView` And, the **Class B** also should extends the `Activity` Otherwise, the `getIntent()` code will not work.","title":"how to set TextView from another Class (Android)","body":"<p>Yes, you can do -</p>\n\n<pre><code>Intent i = new Intent(classA.this, classB.class);\nBundle bundle = new Bundle();\nbundle.putExtra(\"name For Identification\", \"Value);\ni.putExtras(bundle);\nstartActivity(i);\n</code></pre>\n\n<p>In your second class, i mean <strong>Class B</strong></p>\n\n<pre><code>Bundle bundle = getIntent().getExtras(\"name for Identification\");\nString text = bundle.getString(\"name For Identification\");\n</code></pre>\n\n<p>Simply set this text to your <code>TextView</code> And, the <strong>Class B</strong> also should extends the <code>Activity</code> Otherwise, the <code>getIntent()</code> code will not work.</p>\n"},{"tags":[],"owner":{"account_id":1008625,"reputation":496,"user_id":1021695,"accept_rate":80,"display_name":"KMI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337077496,"creation_date":1337077496,"answer_id":10598738,"question_id":10598547,"body_markdown":"Try this\r\n\r\nadd this in activity 1\r\n\r\n    Intent myIntent = new Intent(Activity1.this, Activity2.class);\r\n           myIntent.putExtra(&quot;UserId&quot;,UserId);\r\n           myIntent.putExtra(&quot;UserName&quot;,UserName);\r\n           startActivity(myIntent);\r\n\r\n  \r\n\r\nadd this in activity 2\r\n\r\n    Intent intent = getIntent();\r\n    UserId=intent.getStringExtra(&quot;UserId&quot;);\r\n    UserName=intent.getStringExtra(&quot;UserName&quot;);\r\n   \r\n","title":"how to set TextView from another Class (Android)","body":"<p>Try this</p>\n\n<p>add this in activity 1</p>\n\n<pre><code>Intent myIntent = new Intent(Activity1.this, Activity2.class);\n       myIntent.putExtra(\"UserId\",UserId);\n       myIntent.putExtra(\"UserName\",UserName);\n       startActivity(myIntent);\n</code></pre>\n\n<p>add this in activity 2</p>\n\n<pre><code>Intent intent = getIntent();\nUserId=intent.getStringExtra(\"UserId\");\nUserName=intent.getStringExtra(\"UserName\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":477917,"reputation":4706,"user_id":889688,"display_name":"user_CC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337079021,"creation_date":1337077716,"answer_id":10598797,"question_id":10598547,"body_markdown":"Yup it can be done without using intent, use static methods/members of class\r\n\r\nGet the TextView object from a static method from ClassA and similarly define a static method setX(int x) method in ClassA \r\n\r\n\r\nSo for example \r\n\r\n    class ClassA{\r\n    \r\n    static TextView tv; //this should be intialized in your code via findViewByID or by code depneds\r\n    \r\n    static int x;\r\n    \r\n    \r\n    static public TextView getTextView(){\r\n    return tv;\r\n    }\r\n    \r\n    \r\n    static public void setX(int xP){\r\n    x = xP;\r\n    }\r\n    \r\n    }\r\n\r\nfrom ClassB you can invoke ClassA.getTextView() and ClassB.setX(12)\r\n\r\n\r\n\r\n","title":"how to set TextView from another Class (Android)","body":"<p>Yup it can be done without using intent, use static methods/members of class</p>\n\n<p>Get the TextView object from a static method from ClassA and similarly define a static method setX(int x) method in ClassA </p>\n\n<p>So for example </p>\n\n<pre><code>class ClassA{\n\nstatic TextView tv; //this should be intialized in your code via findViewByID or by code depneds\n\nstatic int x;\n\n\nstatic public TextView getTextView(){\nreturn tv;\n}\n\n\nstatic public void setX(int xP){\nx = xP;\n}\n\n}\n</code></pre>\n\n<p>from ClassB you can invoke ClassA.getTextView() and ClassB.setX(12)</p>\n"},{"tags":[],"owner":{"account_id":375603,"reputation":2803,"user_id":726547,"accept_rate":60,"display_name":"Hassy31"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337077799,"creation_date":1337077799,"answer_id":10598824,"question_id":10598547,"body_markdown":"intent to class B from class A\r\n\r\n    Intent toClassB = new Intent(classA.this,classB.class);\r\n    toClassB.putExtra(&quot;StringId&quot;,&quot;value&quot;); \r\n    startActivity(toClassB);\r\n    \r\n    //get value\r\n    Intent intent = getIntent();\r\n    String getValue = intent.getStringExtra(&quot;StringId&quot;);\r\n    //set text\r\n    textView.setText(getValue);\r\n\r\nhope this helps","title":"how to set TextView from another Class (Android)","body":"<p>intent to class B from class A</p>\n\n<pre><code>Intent toClassB = new Intent(classA.this,classB.class);\ntoClassB.putExtra(\"StringId\",\"value\"); \nstartActivity(toClassB);\n\n//get value\nIntent intent = getIntent();\nString getValue = intent.getStringExtra(\"StringId\");\n//set text\ntextView.setText(getValue);\n</code></pre>\n\n<p>hope this helps</p>\n"},{"tags":[],"owner":{"account_id":471997,"reputation":535,"user_id":880174,"accept_rate":92,"display_name":"Parth Dani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337078357,"creation_date":1337078357,"answer_id":10598977,"question_id":10598547,"body_markdown":"To Pass value between two activites you can use shared Preferenceas follow\r\n\r\nIn Activity A:\r\n\r\n    public class activityA extends Activity{\r\n    \r\n    private  final String MY_value = &quot;value&quot;;//variable used for shared preference\r\n    @Override\r\n    \tpublic void onCreate(Bundle savedInstanceState)\r\n    \t{\r\n    SharedPreferences myPrefs = getBaseContext().getSharedPreferences(&quot;myPrefs&quot;, MODE_WORLD_READABLE);\r\n     \t\t\t        SharedPreferences.Editor prefsEditor = myPrefs.edit();\r\n     \t\t\t        prefsEditor.putString(MY_value, &quot;xyz&quot;);\r\n     \t\t\t        prefsEditor.commit();\r\n    }\r\n    }\r\n\r\nIn Activity B you can retrive that value as follow:\r\n\r\n    public class activityB extends Activity{\r\n        \r\n        private  final String MY_value = &quot;value&quot;;//variable used for shared preference\r\n        @Override\r\n        \tpublic void onCreate(Bundle savedInstanceState)\r\n        \t{\r\n        SharedPreferences myPrefs1 = this.getSharedPreferences(&quot;myPrefs&quot;, MODE_WORLD_READABLE);\r\n    \t\t        roadworthynumber = myPrefs1.getString(MY_value, &quot;value&quot;);\r\n    \t\t        \r\n        }\r\n        }\r\n\r\n\t\r\n","title":"how to set TextView from another Class (Android)","body":"<p>To Pass value between two activites you can use shared Preferenceas follow</p>\n\n<p>In Activity A:</p>\n\n<pre><code>public class activityA extends Activity{\n\nprivate  final String MY_value = \"value\";//variable used for shared preference\n@Override\n    public void onCreate(Bundle savedInstanceState)\n    {\nSharedPreferences myPrefs = getBaseContext().getSharedPreferences(\"myPrefs\", MODE_WORLD_READABLE);\n                    SharedPreferences.Editor prefsEditor = myPrefs.edit();\n                    prefsEditor.putString(MY_value, \"xyz\");\n                    prefsEditor.commit();\n}\n}\n</code></pre>\n\n<p>In Activity B you can retrive that value as follow:</p>\n\n<pre><code>public class activityB extends Activity{\n\n    private  final String MY_value = \"value\";//variable used for shared preference\n    @Override\n        public void onCreate(Bundle savedInstanceState)\n        {\n    SharedPreferences myPrefs1 = this.getSharedPreferences(\"myPrefs\", MODE_WORLD_READABLE);\n                roadworthynumber = myPrefs1.getString(MY_value, \"value\");\n\n    }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1023515,"reputation":4993,"user_id":1033305,"accept_rate":100,"display_name":"Raheel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337079097,"creation_date":1337079097,"answer_id":10599199,"question_id":10598547,"body_markdown":"Create a function returnThis() in Class A\r\n    \r\n    ClassA returnThis()\r\n    {\r\n      return this;\r\n    }\r\n\r\nIn classB call this function and by using returned reference set textView of classA\r\n","title":"how to set TextView from another Class (Android)","body":"<p>Create a function returnThis() in Class A</p>\n\n<pre><code>ClassA returnThis()\n{\n  return this;\n}\n</code></pre>\n\n<p>In classB call this function and by using returned reference set textView of classA</p>\n"}],"owner":{"account_id":1474108,"reputation":45,"user_id":1384956,"accept_rate":50,"display_name":"Medo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8671,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677293637,"answer_count":7,"score":0,"last_activity_date":1677293647,"creation_date":1337076806,"question_id":10598547,"body_markdown":"i have this code but it doesnt work (Force Close)\r\n,i use this in C# but its not working in java\r\n\r\nClassA c = new ClassA();\r\nc.TextView1.setText(&quot;test&quot;);\r\n\r\ni need to set the text view from ClassB can it be done\r\nwithout using the Intent\r\nbecause the Intent need to start the Activity all over and all the data will be lost\r\n\r\ncan anyone suggest a code for this\r\n\r\nalso can i set the   int x   value in ClassA from ClassB\r\n","title":"how to set TextView from another Class (Android)","body":"<p>i have this code but it doesnt work (Force Close)\n,i use this in C# but its not working in java</p>\n\n<p>ClassA c = new ClassA();\nc.TextView1.setText(\"test\");</p>\n\n<p>i need to set the text view from ClassB can it be done\nwithout using the Intent\nbecause the Intent need to start the Activity all over and all the data will be lost</p>\n\n<p>can anyone suggest a code for this</p>\n\n<p>also can i set the   int x   value in ClassA from ClassB</p>\n"},{"tags":["java","mongodb","spring-boot","spring-mongodb","reactive-mongo-java"],"owner":{"account_id":27873573,"reputation":33,"user_id":21283528,"display_name":"Bhagyashree Kalshetti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":528,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1677293539,"creation_date":1677287444,"question_id":75562707,"body_markdown":"I am upgrading my application from Spring Boot version 2.7.3 to 3.0.2 and Java version 8 to 17. My build is successful but during server startup I am getting below exception -\r\n\r\n```lang-none\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;mappingMongoConverter&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDatabaseFactoryDependentConfiguration.class]: Unsatisfied dependency expressed through method &#39;mappingMongoConverter&#39; parameter 1: Error creating bean with name &#39;mongoMappingContext&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDataConfiguration.class]: Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @2fd16761\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:548)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1325)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)\r\n\t... 66 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mongoMappingContext&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDataConfiguration.class]: Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @2fd16761\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1752)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)\r\n\t... 80 common frames omitted\r\n```\r\n\r\nI am seeing there is issue with Mongo mapping context in mongo data configuration class.\r\nI am not sure why this error is coming and how to resolve it?\r\n\r\nMy Pom File -\r\n\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;XXXX&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;XXXXX&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1&lt;/version&gt;\r\n\t&lt;name&gt;XXXX&lt;/name&gt;\r\n\t&lt;description&gt;XXXXX&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n    \t        &lt;dependency&gt;\r\n      \t\t        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      \t\t        &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n    \t        &lt;/dependency&gt;\r\n    \t        &lt;dependency&gt;\r\n      \t\t        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      \t\t        &lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;\r\n    \t        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n   \t\t\t&lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpcore&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.7.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-text --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.10.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.12.261&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20210307&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/projec&gt;\r\n```\r\n\r\nI tried to google the solution and explored mongo db forums. I am suspecting reactive mongo db dependency is not compatible with Java 17","title":"Java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.lang.String java.io.File.path accessible error in java 17","body":"<p>I am upgrading my application from Spring Boot version 2.7.3 to 3.0.2 and Java version 8 to 17. My build is successful but during server startup I am getting below exception -</p>\n<pre class=\"lang-none prettyprint-override\"><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mappingMongoConverter' defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDatabaseFactoryDependentConfiguration.class]: Unsatisfied dependency expressed through method 'mappingMongoConverter' parameter 1: Error creating bean with name 'mongoMappingContext' defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDataConfiguration.class]: Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @2fd16761\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:548)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1325)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)\n    ... 66 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mongoMappingContext' defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDataConfiguration.class]: Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @2fd16761\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1752)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)\n    ... 80 common frames omitted\n</code></pre>\n<p>I am seeing there is issue with Mongo mapping context in mongo data configuration class.\nI am not sure why this error is coming and how to resolve it?</p>\n<p>My Pom File -</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;XXXX&lt;/groupId&gt;\n    &lt;artifactId&gt;XXXXX&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;name&gt;XXXX&lt;/name&gt;\n    &lt;description&gt;XXXXX&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n            &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n            &lt;version&gt;5.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-text --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n            &lt;version&gt;1.10.0&lt;/version&gt;\n        &lt;/dependency&gt;       \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\n            &lt;version&gt;1.12.261&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20210307&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n        &lt;/dependency&gt;       \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/projec&gt;\n</code></pre>\n<p>I tried to google the solution and explored mongo db forums. I am suspecting reactive mongo db dependency is not compatible with Java 17</p>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0","jwt"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1677281009,"post_id":75562102,"comment_id":133313540,"body_markdown":"Neither `@EnableGlobalMethodSecurity` nor `@EnableWebSecurity` are meta annotations for `@Configuration`. Your `SecurityConfig` might just not be loaded. Have you tried to decorate it with `@Configuration`?","body":"Neither <code>@EnableGlobalMethodSecurity</code> nor <code>@EnableWebSecurity</code> are meta annotations for <code>@Configuration</code>. Your <code>SecurityConfig</code> might just not be loaded. Have you tried to decorate it with <code>@Configuration</code>?"}],"answers":[{"tags":[],"owner":{"account_id":12301165,"reputation":1,"user_id":8975432,"display_name":"Shurbann Martes"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1677291915,"creation_date":1677291915,"answer_id":75562932,"question_id":75562102,"body_markdown":"I found the reason why this was not working; I had a keycloak/springboot dependency that was using the old keycloak adaptor way of working:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n  &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\r\n  &lt;version&gt;17.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nBy removing this dependency everything is working now.","title":"Why am I getting an HTTP response 401 (access denied) when trying to make an HTTP GET request with Springboot with a valid JWT token","body":"<p>I found the reason why this was not working; I had a keycloak/springboot dependency that was using the old keycloak adaptor way of working:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n  &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\n  &lt;version&gt;17.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>By removing this dependency everything is working now.</p>\n"}],"owner":{"account_id":12301165,"reputation":1,"user_id":8975432,"display_name":"Shurbann Martes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75562932,"answer_count":1,"score":0,"last_activity_date":1677291915,"creation_date":1677279422,"question_id":75562102,"body_markdown":"At this moment I succeeded to create a Springboot resource server that contacts Keycloak as the authorization server to validate the JWT token being send. This work as expected, so far so good.\r\n\r\nUnfortunately although the JWT token is valid I&#39;m getting an 401 Unauthorized from the Springboot Resource server when I try to make a call to the RestController with the valid JWT token. The RestController is implementing the following interface:\r\n\r\n```\r\n@RequestMapping(\r\n        value = &quot;/companies&quot;\r\n        , produces = MediaTypes.HAL_JSON_VALUE\r\n)\r\npublic interface ICompanyController {\r\n\r\n    String REL_KEY_NAME = &quot;companies&quot;;\r\n    String REL_KEY_NAME_SINGLE = &quot;company&quot;;\r\n\r\n    @GetMapping\r\n    CollectionModel&lt;CompanyResponseDTO&gt; getCompanies(JwtAuthenticationToken principal);\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    CompanyResponseDTO getCompanyById(@PathVariable Long id);\r\n}\r\n```\r\n\r\nI&#39;ve already taken a look at my SecurityConfig as well and I don&#39;t see anything wrong here:\r\n\r\n```\r\n@EnableGlobalMethodSecurity(\r\n        prePostEnabled = true,\r\n        securedEnabled = true,\r\n        jsr250Enabled = true)\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain getSecurityFilterChain(HttpSecurity http) throws Exception {\r\n\r\n        http.authorizeRequests(authz -&gt; authz.antMatchers(HttpMethod.GET, &quot;/companies&quot;)\r\n                        .hasAuthority(&quot;SCOPE_profile&quot;)\r\n                        .anyRequest()\r\n                        .authenticated())\r\n                .oauth2ResourceServer(oauth2 -&gt; oauth2.jwt());\r\n\r\n        return http.build();\r\n    }\r\n\r\n}\r\n```\r\n\r\napplication.yml:\r\n```yml\r\nspring:\r\n  application:\r\n    name: API\r\n  datasource:\r\n    url: jdbc:mysql://localhost:3306/resource?useSSL=false&amp;zeroDateTimeBehavior=convertToNull\r\n    username: user\r\n    password: secret\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: update\r\n    properties:\r\n      hibernate:\r\n        dialect: org.hibernate.dialect.MySQL8Dialect\r\n        default_schema: api_resource\r\n  security:\r\n    oauth2:\r\n      resourceserver:\r\n        jwt:\r\n          issuer-uri: http://auth-dev.local/realms/bis-realm\r\n\r\nmanagement:\r\n  endpoint:\r\n    health:\r\n      show-details: &#39;when-authorized&#39;\r\n    roles: &#39;actuator&#39;\r\n  endpoints:\r\n    web:\r\n      exposure:\r\n        include: &#39;*&#39;\r\nlogging:\r\n  level:\r\n    root: DEBUG\r\n    com.ictual: TRACE\r\n    com.tsparx: TRACE\r\nserver:\r\n  port: 8081\r\n  servlet:\r\n    context-path: /api\r\n```\r\n\r\nStill I&#39;m getting the following logs and Access Denied from Springboot when trying to make an HTTP call to the URL &quot;/companies&quot;. \r\n\r\nFind the trace below:\r\n\r\n```\r\n2023-02-24 18:47:40.409 DEBUG 74177 --- [nio-8081-exec-5] o.k.a.AuthenticatedActionsHandler        : AuthenticatedActionsValve.invoke http://localhost:8081/api/companies\r\n2023-02-24 18:47:40.409 DEBUG 74177 --- [nio-8081-exec-5] o.k.a.AuthenticatedActionsHandler        : Policy enforcement is disabled.\r\n2023-02-24 18:47:40.410 DEBUG 74177 --- [nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /companies\r\n2023-02-24 18:47:40.410 DEBUG 74177 --- [nio-8081-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\r\n2023-02-24 18:47:40.410 DEBUG 74177 --- [nio-8081-exec-5] org.apache.tomcat.util.http.Parameters   : Set encoding to UTF-8\r\n2023-02-24 18:47:40.411 DEBUG 74177 --- [nio-8081-exec-5] o.s.web.client.RestTemplate              : HTTP GET http://auth-dev.local/realms/bis-realm/protocol/openid-connect/certs\r\n2023-02-24 18:47:40.411 DEBUG 74177 --- [nio-8081-exec-5] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]\r\n2023-02-24 18:47:40.900 DEBUG 74177 --- [alina-utility-1] org.apache.catalina.session.ManagerBase  : Start expire sessions StandardManager at 1677278860900 sessioncount 0\r\n2023-02-24 18:47:40.900 DEBUG 74177 --- [alina-utility-1] org.apache.catalina.session.ManagerBase  : End expire sessions StandardManager processingTime 0 expired sessions: 0\r\n2023-02-24 18:47:44.233 DEBUG 74177 --- [nio-8081-exec-5] s.n.www.protocol.http.HttpURLConnection  : sun.net.www.MessageHeader@157ef9d25 pairs: {GET /realms/bis-realm/protocol/openid-connect/certs HTTP/1.1: null}{Accept: application/json, application/jwk-set+json}{User-Agent: Java/11.0.16.1}{Host: auth-dev.local}{Connection: keep-alive}\r\n2023-02-24 18:47:44.255 DEBUG 74177 --- [nio-8081-exec-5] s.n.www.protocol.http.HttpURLConnection  : sun.net.www.MessageHeader@11416fa59 pairs: {null: HTTP/1.1 200 OK}{Referrer-Policy: no-referrer}{X-Frame-Options: SAMEORIGIN}{Strict-Transport-Security: max-age=31536000; includeSubDomains}{Cache-Control: no-cache}{X-Content-Type-Options: nosniff}{X-XSS-Protection: 1; mode=block}{Content-Type: application/json}{content-length: 2933}\r\n2023-02-24 18:47:44.255 DEBUG 74177 --- [nio-8081-exec-5] o.s.web.client.RestTemplate              : Response 200 OK\r\n2023-02-24 18:47:44.255 DEBUG 74177 --- [nio-8081-exec-5] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as &quot;application/json&quot;\r\n2023-02-24 18:47:44.257 DEBUG 74177 --- [nio-8081-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token\r\n2023-02-24 18:47:44.258 DEBUG 74177 --- [nio-8081-exec-5] .o.s.r.w.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@3380a05e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_email, SCOPE_profile]]\r\n2023-02-24 18:47:44.258 DEBUG 74177 --- [nio-8081-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /companies] with attributes [hasAuthority(&#39;SCOPE_profile&#39;)]\r\n2023-02-24 18:47:44.258 DEBUG 74177 --- [nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /companies\r\n2023-02-24 18:47:44.260 DEBUG 74177 --- [nio-8081-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\r\n2023-02-24 18:47:44.261 DEBUG 74177 --- [nio-8081-exec-5] o.a.c.c.C.[Tomcat].[localhost]           : Processing ErrorPage[errorCode=0, location=/error]\r\n2023-02-24 18:47:44.261 DEBUG 74177 --- [nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error\r\n2023-02-24 18:47:44.261 DEBUG 74177 --- [nio-8081-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\r\n2023-02-24 18:47:44.261 DEBUG 74177 --- [nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n2023-02-24 18:47:44.261 DEBUG 74177 --- [nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /error\r\n2023-02-24 18:47:44.262 DEBUG 74177 --- [nio-8081-exec-5] a.DefaultWebInvocationPrivilegeEvaluator : filter invocation [/error] denied for AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\r\n\r\norg.springframework.security.access.AccessDeniedException: Access is denied\r\n\tat org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:73) ~[spring-security-core-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.access.DefaultWebInvocationPrivilegeEvaluator.isAllowed(DefaultWebInvocationPrivilegeEvaluator.java:100) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.access.DefaultWebInvocationPrivilegeEvaluator.isAllowed(DefaultWebInvocationPrivilegeEvaluator.java:67) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.access.RequestMatcherDelegatingWebInvocationPrivilegeEvaluator.isAllowed(RequestMatcherDelegatingWebInvocationPrivilegeEvaluator.java:76) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.isAllowed(ErrorPageSecurityFilter.java:88) ~[spring-boot-2.7.8.jar:2.7.8]\r\n\tat org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:76) ~[spring-boot-2.7.8.jar:2.7.8]\r\n\tat org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:70) ~[spring-boot-2.7.8.jar:2.7.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:106) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:87) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:388) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:244) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\r\n```\r\n\r\nI&#39;ve tried to adjust the SecurityConfig in different ways without any success.","title":"Why am I getting an HTTP response 401 (access denied) when trying to make an HTTP GET request with Springboot with a valid JWT token","body":"<p>At this moment I succeeded to create a Springboot resource server that contacts Keycloak as the authorization server to validate the JWT token being send. This work as expected, so far so good.</p>\n<p>Unfortunately although the JWT token is valid I'm getting an 401 Unauthorized from the Springboot Resource server when I try to make a call to the RestController with the valid JWT token. The RestController is implementing the following interface:</p>\n<pre><code>@RequestMapping(\n        value = &quot;/companies&quot;\n        , produces = MediaTypes.HAL_JSON_VALUE\n)\npublic interface ICompanyController {\n\n    String REL_KEY_NAME = &quot;companies&quot;;\n    String REL_KEY_NAME_SINGLE = &quot;company&quot;;\n\n    @GetMapping\n    CollectionModel&lt;CompanyResponseDTO&gt; getCompanies(JwtAuthenticationToken principal);\n\n    @GetMapping(&quot;/{id}&quot;)\n    CompanyResponseDTO getCompanyById(@PathVariable Long id);\n}\n</code></pre>\n<p>I've already taken a look at my SecurityConfig as well and I don't see anything wrong here:</p>\n<pre><code>@EnableGlobalMethodSecurity(\n        prePostEnabled = true,\n        securedEnabled = true,\n        jsr250Enabled = true)\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Bean\n    public SecurityFilterChain getSecurityFilterChain(HttpSecurity http) throws Exception {\n\n        http.authorizeRequests(authz -&gt; authz.antMatchers(HttpMethod.GET, &quot;/companies&quot;)\n                        .hasAuthority(&quot;SCOPE_profile&quot;)\n                        .anyRequest()\n                        .authenticated())\n                .oauth2ResourceServer(oauth2 -&gt; oauth2.jwt());\n\n        return http.build();\n    }\n\n}\n</code></pre>\n<p>application.yml:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  application:\n    name: API\n  datasource:\n    url: jdbc:mysql://localhost:3306/resource?useSSL=false&amp;zeroDateTimeBehavior=convertToNull\n    username: user\n    password: secret\n  jpa:\n    hibernate:\n      ddl-auto: update\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.MySQL8Dialect\n        default_schema: api_resource\n  security:\n    oauth2:\n      resourceserver:\n        jwt:\n          issuer-uri: http://auth-dev.local/realms/bis-realm\n\nmanagement:\n  endpoint:\n    health:\n      show-details: 'when-authorized'\n    roles: 'actuator'\n  endpoints:\n    web:\n      exposure:\n        include: '*'\nlogging:\n  level:\n    root: DEBUG\n    com.ictual: TRACE\n    com.tsparx: TRACE\nserver:\n  port: 8081\n  servlet:\n    context-path: /api\n</code></pre>\n<p>Still I'm getting the following logs and Access Denied from Springboot when trying to make an HTTP call to the URL &quot;/companies&quot;.</p>\n<p>Find the trace below:</p>\n<pre><code>2023-02-24 18:47:40.409 DEBUG 74177 --- [nio-8081-exec-5] o.k.a.AuthenticatedActionsHandler        : AuthenticatedActionsValve.invoke http://localhost:8081/api/companies\n2023-02-24 18:47:40.409 DEBUG 74177 --- [nio-8081-exec-5] o.k.a.AuthenticatedActionsHandler        : Policy enforcement is disabled.\n2023-02-24 18:47:40.410 DEBUG 74177 --- [nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /companies\n2023-02-24 18:47:40.410 DEBUG 74177 --- [nio-8081-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\n2023-02-24 18:47:40.410 DEBUG 74177 --- [nio-8081-exec-5] org.apache.tomcat.util.http.Parameters   : Set encoding to UTF-8\n2023-02-24 18:47:40.411 DEBUG 74177 --- [nio-8081-exec-5] o.s.web.client.RestTemplate              : HTTP GET http://auth-dev.local/realms/bis-realm/protocol/openid-connect/certs\n2023-02-24 18:47:40.411 DEBUG 74177 --- [nio-8081-exec-5] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]\n2023-02-24 18:47:40.900 DEBUG 74177 --- [alina-utility-1] org.apache.catalina.session.ManagerBase  : Start expire sessions StandardManager at 1677278860900 sessioncount 0\n2023-02-24 18:47:40.900 DEBUG 74177 --- [alina-utility-1] org.apache.catalina.session.ManagerBase  : End expire sessions StandardManager processingTime 0 expired sessions: 0\n2023-02-24 18:47:44.233 DEBUG 74177 --- [nio-8081-exec-5] s.n.www.protocol.http.HttpURLConnection  : sun.net.www.MessageHeader@157ef9d25 pairs: {GET /realms/bis-realm/protocol/openid-connect/certs HTTP/1.1: null}{Accept: application/json, application/jwk-set+json}{User-Agent: Java/11.0.16.1}{Host: auth-dev.local}{Connection: keep-alive}\n2023-02-24 18:47:44.255 DEBUG 74177 --- [nio-8081-exec-5] s.n.www.protocol.http.HttpURLConnection  : sun.net.www.MessageHeader@11416fa59 pairs: {null: HTTP/1.1 200 OK}{Referrer-Policy: no-referrer}{X-Frame-Options: SAMEORIGIN}{Strict-Transport-Security: max-age=31536000; includeSubDomains}{Cache-Control: no-cache}{X-Content-Type-Options: nosniff}{X-XSS-Protection: 1; mode=block}{Content-Type: application/json}{content-length: 2933}\n2023-02-24 18:47:44.255 DEBUG 74177 --- [nio-8081-exec-5] o.s.web.client.RestTemplate              : Response 200 OK\n2023-02-24 18:47:44.255 DEBUG 74177 --- [nio-8081-exec-5] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as &quot;application/json&quot;\n2023-02-24 18:47:44.257 DEBUG 74177 --- [nio-8081-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token\n2023-02-24 18:47:44.258 DEBUG 74177 --- [nio-8081-exec-5] .o.s.r.w.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@3380a05e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_email, SCOPE_profile]]\n2023-02-24 18:47:44.258 DEBUG 74177 --- [nio-8081-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /companies] with attributes [hasAuthority('SCOPE_profile')]\n2023-02-24 18:47:44.258 DEBUG 74177 --- [nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /companies\n2023-02-24 18:47:44.260 DEBUG 74177 --- [nio-8081-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\n2023-02-24 18:47:44.261 DEBUG 74177 --- [nio-8081-exec-5] o.a.c.c.C.[Tomcat].[localhost]           : Processing ErrorPage[errorCode=0, location=/error]\n2023-02-24 18:47:44.261 DEBUG 74177 --- [nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error\n2023-02-24 18:47:44.261 DEBUG 74177 --- [nio-8081-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\n2023-02-24 18:47:44.261 DEBUG 74177 --- [nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-02-24 18:47:44.261 DEBUG 74177 --- [nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /error\n2023-02-24 18:47:44.262 DEBUG 74177 --- [nio-8081-exec-5] a.DefaultWebInvocationPrivilegeEvaluator : filter invocation [/error] denied for AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\n\norg.springframework.security.access.AccessDeniedException: Access is denied\n    at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:73) ~[spring-security-core-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.access.DefaultWebInvocationPrivilegeEvaluator.isAllowed(DefaultWebInvocationPrivilegeEvaluator.java:100) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.access.DefaultWebInvocationPrivilegeEvaluator.isAllowed(DefaultWebInvocationPrivilegeEvaluator.java:67) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.access.RequestMatcherDelegatingWebInvocationPrivilegeEvaluator.isAllowed(RequestMatcherDelegatingWebInvocationPrivilegeEvaluator.java:76) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.isAllowed(ErrorPageSecurityFilter.java:88) ~[spring-boot-2.7.8.jar:2.7.8]\n    at org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:76) ~[spring-boot-2.7.8.jar:2.7.8]\n    at org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:70) ~[spring-boot-2.7.8.jar:2.7.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:106) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:87) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:388) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:244) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\n</code></pre>\n<p>I've tried to adjust the SecurityConfig in different ways without any success.</p>\n"},{"tags":["java","android","json","ajax","spring"],"comments":[{"owner":{"account_id":1287824,"reputation":12974,"user_id":1240557,"display_name":"kryger"},"score":0,"creation_date":1459768143,"post_id":36393402,"comment_id":60418293,"body_markdown":"Error 500 means that there was a server-side problem. You&#39;ll need to include the exception stack trace, the code without it isn&#39;t enough to diagnose the problem.","body":"Error 500 means that there was a server-side problem. You&#39;ll need to include the exception stack trace, the code without it isn&#39;t enough to diagnose the problem."}],"answers":[{"tags":[],"owner":{"account_id":6231757,"reputation":5087,"user_id":4848308,"display_name":"Gueorgui Obregon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677290874,"creation_date":1459744819,"answer_id":36394682,"question_id":36393402,"body_markdown":"The simple way, taken from [@Sachin Gurnani&#39;s answer][1] to https://stackoverflow.com/questions/3027066/how-to-send-a-json-object-over-request-with-android\r\n\r\n&gt; ```java\r\n&gt; public void postData(String url,JSONObject obj) {\r\n&gt;     // Create a new HttpClient and Post Header\r\n&gt; \r\n&gt;     HttpParams myParams = new BasicHttpParams();\r\n&gt;     HttpConnectionParams.setConnectionTimeout(myParams, 10000);\r\n&gt;     HttpConnectionParams.setSoTimeout(myParams, 10000);\r\n&gt;     HttpClient httpclient = new DefaultHttpClient(myParams );\r\n&gt;     String json=obj.toString();\r\n&gt; \r\n&gt;     try {\r\n&gt; \r\n&gt;         HttpPost httppost = new HttpPost(url.toString());\r\n&gt;         httppost.setHeader(&quot;Content-type&quot;, &quot;application/json&quot;);\r\n&gt; \r\n&gt;         StringEntity se = new StringEntity(obj.toString()); \r\n&gt;         se.setContentEncoding(new BasicHeader(HTTP.CONTENT_TYPE, &quot;application/&gt; json&quot;));\r\n&gt;         httppost.setEntity(se); \r\n&gt; \r\n&gt;         HttpResponse response = httpclient.execute(httppost);\r\n&gt;         String temp = EntityUtils.toString(response.getEntity());\r\n&gt;         Log.i(&quot;tag&quot;, temp);\r\n&gt; \r\n&gt; \r\n&gt;     } catch (ClientProtocolException e) {\r\n&gt; \r\n&gt;     } catch (IOException e) {\r\n&gt;     }\r\n&gt; }\r\n&gt; ```\r\n\r\nHow to use\r\n\r\n    JSONObject requestObject = new JSONObject();\r\n    requestObject.put(&quot;userid&quot;, email);\r\n    requestObject.put(&quot;password&quot;, password);\r\n\r\n    postData(&quot;http://your/login/url&quot;,requestObject)\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/9390152/4848308","title":"Android send json to Spring","body":"<p>The simple way, taken from <a href=\"https://stackoverflow.com/a/9390152/4848308\">@Sachin Gurnani's answer</a> to <a href=\"https://stackoverflow.com/questions/3027066/how-to-send-a-json-object-over-request-with-android\">How to send a JSON object over Request with Android?</a></p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public void postData(String url,JSONObject obj) {\n    // Create a new HttpClient and Post Header\n\n    HttpParams myParams = new BasicHttpParams();\n    HttpConnectionParams.setConnectionTimeout(myParams, 10000);\n    HttpConnectionParams.setSoTimeout(myParams, 10000);\n    HttpClient httpclient = new DefaultHttpClient(myParams );\n    String json=obj.toString();\n\n    try {\n\n        HttpPost httppost = new HttpPost(url.toString());\n        httppost.setHeader(&quot;Content-type&quot;, &quot;application/json&quot;);\n\n        StringEntity se = new StringEntity(obj.toString()); \n        se.setContentEncoding(new BasicHeader(HTTP.CONTENT_TYPE, &quot;application/&gt; json&quot;));\n        httppost.setEntity(se); \n\n        HttpResponse response = httpclient.execute(httppost);\n        String temp = EntityUtils.toString(response.getEntity());\n        Log.i(&quot;tag&quot;, temp);\n\n\n    } catch (ClientProtocolException e) {\n\n    } catch (IOException e) {\n    }\n}\n</code></pre>\n</blockquote>\n<p>How to use</p>\n<pre><code>JSONObject requestObject = new JSONObject();\nrequestObject.put(&quot;userid&quot;, email);\nrequestObject.put(&quot;password&quot;, password);\n\npostData(&quot;http://your/login/url&quot;,requestObject)\n</code></pre>\n"}],"owner":{"account_id":4793131,"reputation":771,"user_id":3871734,"accept_rate":92,"display_name":"USER"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1085,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":36394682,"answer_count":1,"score":0,"last_activity_date":1677290874,"creation_date":1459733881,"question_id":36393402,"body_markdown":"Spring Controller \r\n\r\n \r\n\r\n     @RequestMapping(value = &quot;/login&quot;, produces=&quot;application/json;charset=UTF-8&quot; ,method = RequestMethod.POST)\r\n     @ResponseBody\r\n     public int checkLoginInfo(@RequestParam Map&lt;String, String&gt; params) {\r\n    \t User user=new Gson().fromJson((String) params.get(&quot;user&quot;), User.class);\r\n         return userService.getUserInfo(user);\r\n     }   \r\n\r\nHTML\r\n\r\n    var params={userid:$(&quot;#userid&quot;).val(),password:$(&quot;#password&quot;).val()}\r\n    $ajax({method:&quot;post&quot;,data:{user:JSON.stringify(params)},url:&quot;foo.bar&quot;});\r\n\r\nIt worked on website.\r\nBut I don&#39;t know how to send that Json object for android.\r\n\r\n    data:{user:JSON.stringify(params)}\r\n\r\nI have tested \r\n\r\n        private static String makeJsonMsg() {\r\n        String retMsg = &quot;&quot;;\r\n\r\n        JSONStringer jsonStringer = new JSONStringer();\r\n\r\n        try {\r\n\r\n\r\n            retMsg = jsonStringer.object()\r\n                        .key(&quot;user&quot;).object()\r\n                            .key(&quot;userid&quot;).value(&quot;userid&quot;)\r\n                            .key(&quot;password&quot;).value(&quot;1234&quot;)\r\n                        .endObject()\r\n                    .endObject().toString();\r\n\r\n        } catch (JSONException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return retMsg;\r\n\r\n    }\r\n\r\nlike that,\r\nBut return 500 error.\r\nDo I need to add header or something else?\r\n","title":"Android send json to Spring","body":"<p>Spring Controller </p>\n\n<pre><code> @RequestMapping(value = \"/login\", produces=\"application/json;charset=UTF-8\" ,method = RequestMethod.POST)\n @ResponseBody\n public int checkLoginInfo(@RequestParam Map&lt;String, String&gt; params) {\n     User user=new Gson().fromJson((String) params.get(\"user\"), User.class);\n     return userService.getUserInfo(user);\n }   \n</code></pre>\n\n<p>HTML</p>\n\n<pre><code>var params={userid:$(\"#userid\").val(),password:$(\"#password\").val()}\n$ajax({method:\"post\",data:{user:JSON.stringify(params)},url:\"foo.bar\"});\n</code></pre>\n\n<p>It worked on website.\nBut I don't know how to send that Json object for android.</p>\n\n<pre><code>data:{user:JSON.stringify(params)}\n</code></pre>\n\n<p>I have tested </p>\n\n<pre><code>    private static String makeJsonMsg() {\n    String retMsg = \"\";\n\n    JSONStringer jsonStringer = new JSONStringer();\n\n    try {\n\n\n        retMsg = jsonStringer.object()\n                    .key(\"user\").object()\n                        .key(\"userid\").value(\"userid\")\n                        .key(\"password\").value(\"1234\")\n                    .endObject()\n                .endObject().toString();\n\n    } catch (JSONException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n    return retMsg;\n\n}\n</code></pre>\n\n<p>like that,\nBut return 500 error.\nDo I need to add header or something else?</p>\n"},{"tags":["java","spring-boot","spring-cache","ehcache-3"],"comments":[{"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"score":1,"creation_date":1672434087,"post_id":74965446,"comment_id":132290868,"body_markdown":"try to add `@EnableCaching` on `@Configuration` class","body":"try to add <code>@EnableCaching</code> on <code>@Configuration</code> class"}],"answers":[{"tags":[],"owner":{"account_id":4133097,"reputation":7506,"user_id":3390417,"display_name":"John Blum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677285140,"creation_date":1677284792,"answer_id":75562529,"question_id":74965446,"body_markdown":"I believe [@dey][1] is correct.\r\n\r\nI suspect the problem you are having is that you have not explicitly enabled caching using Spring Framework&#39;s `@EnableCaching` annotation ([Javadoc][2]).\r\n\r\nEven with Spring Boot&#39;s *auto-configuration*, and specifically when using **Ehcache** as a caching provider in Spring Framework&#39;s Cache Abstraction, **you still need to explicitly enable caching**, as [described in the documentation][3].\r\n\r\n**Ehcache** is a [supported caching provider][4] (as well as [in the core Spring Framework][5]) and Spring Boot does offer *auto-configuration* logic for this provider (via the JCache API). However, when using Spring Boot, an explicit `CacheManager` bean declaration (for *Ehcache*) in your application configuration is **not** required, only the `@EnableCaching` annotation is required (so long as both *Ehcache* and `spring-boot-starter-cache` are on your application classpath, as you have indicated):\r\n\r\n```java\r\n@Configuration\r\n@EnableCaching\r\nclass MySpringBootApplicationConfiguration {\r\n\r\n  // your application managed bean declarations here\r\n\r\n}\r\n```\r\n\r\nAn explicit `CacheManager` bean is required only when 1) you are not using Spring Boot, or 2) Spring does not (provide) support the provider as a caching provider in Spring&#39;s Cache Abstraction, in which case you would need to implement Spring&#39;s `Cache and `CacheManager` SPI yourself, for the unsupported (OOTB) provider.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/3703819/dey\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/annotation/EnableCaching.html\r\n  [3]: https://docs.spring.io/spring-boot/docs/current/reference/html/io.html#io.caching\r\n  [4]: https://docs.spring.io/spring-boot/docs/current/reference/html/io.html#io.caching.provider\r\n  [5]: https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-store-configuration","title":"Instantiate a CacheManager bean in Spring Boot application","body":"<p>I believe <a href=\"https://stackoverflow.com/users/3703819/dey\">@dey</a> is correct.</p>\n<p>I suspect the problem you are having is that you have not explicitly enabled caching using Spring Framework's <code>@EnableCaching</code> annotation (<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/annotation/EnableCaching.html\" rel=\"nofollow noreferrer\">Javadoc</a>).</p>\n<p>Even with Spring Boot's <em>auto-configuration</em>, and specifically when using <strong>Ehcache</strong> as a caching provider in Spring Framework's Cache Abstraction, <strong>you still need to explicitly enable caching</strong>, as <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/io.html#io.caching\" rel=\"nofollow noreferrer\">described in the documentation</a>.</p>\n<p><strong>Ehcache</strong> is a <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/io.html#io.caching.provider\" rel=\"nofollow noreferrer\">supported caching provider</a> (as well as <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-store-configuration\" rel=\"nofollow noreferrer\">in the core Spring Framework</a>) and Spring Boot does offer <em>auto-configuration</em> logic for this provider (via the JCache API). However, when using Spring Boot, an explicit <code>CacheManager</code> bean declaration (for <em>Ehcache</em>) in your application configuration is <strong>not</strong> required, only the <code>@EnableCaching</code> annotation is required (so long as both <em>Ehcache</em> and <code>spring-boot-starter-cache</code> are on your application classpath, as you have indicated):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableCaching\nclass MySpringBootApplicationConfiguration {\n\n  // your application managed bean declarations here\n\n}\n</code></pre>\n<p>An explicit <code>CacheManager</code> bean is required only when 1) you are not using Spring Boot, or 2) Spring does not (provide) support the provider as a caching provider in Spring's Cache Abstraction, in which case you would need to implement Spring's <code>Cache and </code>CacheManager` SPI yourself, for the unsupported (OOTB) provider.</p>\n"}],"owner":{"account_id":27300833,"reputation":47,"user_id":20817654,"display_name":"juan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1761,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677289196,"creation_date":1672430904,"question_id":74965446,"body_markdown":"I am using  \r\n\r\n    @Service\r\n    public class Service{\r\n    @Autowired  \r\n    private CacheManager cacheManager;\r\n    }  \r\n  \r\nI included org.ehcache:ehcache and spring-boot-starter-cache  library in the build.gradle file. \r\non running the application I am getting the error:  \r\n`Field cacheManager required a bean of type org.springframework.cache.CacheManager that could not be found.`  \r\nI am not sure how to go about resolving this error  \r\n  \r\n**My Thoughts:**  \r\nLooks like I need to declare a class annotated with @Configuration and with methods @Bean which returns an object of type CacheManager. I am using EhCache here. Not sure exactly how to do this.","title":"Instantiate a CacheManager bean in Spring Boot application","body":"<p>I am using</p>\n<pre><code>@Service\npublic class Service{\n@Autowired  \nprivate CacheManager cacheManager;\n}  \n</code></pre>\n<p>I included org.ehcache:ehcache and spring-boot-starter-cache  library in the build.gradle file.\non running the application I am getting the error:<br />\n<code>Field cacheManager required a bean of type org.springframework.cache.CacheManager that could not be found.</code><br />\nI am not sure how to go about resolving this error</p>\n<p><strong>My Thoughts:</strong><br />\nLooks like I need to declare a class annotated with @Configuration and with methods @Bean which returns an object of type CacheManager. I am using EhCache here. Not sure exactly how to do this.</p>\n"},{"tags":["java","spring","caching","spring-data-jpa","spring-cache"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1672654631,"post_id":74981103,"comment_id":132319703,"body_markdown":"If you are using JPA don&#39;t use Spring Cache, use the Caching integration for your JPA provider (probably Hibernate) which will manage all that for you. Which would be the best practice and would integrate better, if you really want to use Spring Cache (which I wouldn&#39;t recommend in this case) use a transaction aware cache manager that will align with the transaction.","body":"If you are using JPA don&#39;t use Spring Cache, use the Caching integration for your JPA provider (probably Hibernate) which will manage all that for you. Which would be the best practice and would integrate better, if you really want to use Spring Cache (which I wouldn&#39;t recommend in this case) use a transaction aware cache manager that will align with the transaction."},{"owner":{"account_id":20045925,"reputation":75,"user_id":14944208,"display_name":"SnejOK"},"score":0,"creation_date":1672684227,"post_id":74981103,"comment_id":132327548,"body_markdown":"@M.Deinum Thanks, I&#39;ve looked at how the hibernate cache works and it really does look like a solution","body":"@M.Deinum Thanks, I&#39;ve looked at how the hibernate cache works and it really does look like a solution"}],"answers":[{"tags":[],"owner":{"account_id":4133097,"reputation":7506,"user_id":3390417,"display_name":"John Blum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677288959,"creation_date":1677288297,"answer_id":75562760,"question_id":74981103,"body_markdown":"Using a JPA provider&#39;s cache, such as Hibernate&#39;s L2 cache, may be 1 solution, but now you have shifted the (configurable, conditional and optional) caching concern from the application to the persistence provider, which may not be desirable nor portable in all cases.\r\n\r\nFor instance, what happens when you are not using JPA and a database as the persistence provider/backing store, but another store like Cassandra as your system of record (SOR) to back certain services? Or, maybe you are making a call to a [REST-based] Web service (e.g. Google Maps/Geocoding API) from your application service class? What then?\r\n\r\n1 of the problems you will encounter, especially if you are just using the [&quot;Simple&quot; caching provider][1] provided by Spring [Boot] (also [described][2] in Spring Framework&#39;s Cache Abstraction documentation), is that the reference to the object returned by the cache is the actual object stored in the cache.\r\n\r\nThis is similar to:\r\n\r\n```java\r\nMap&lt;String, User&gt; users = new HashMap&lt;&gt;();\r\n\r\n// populate Map, for example:\r\nusers.put(&quot;jonDoe&quot;, User.as(&quot;Jon Doe&quot;).active());\r\n\r\nassertThat(users.get(&quot;jonDoe&quot;).isActive()).isTrue();\r\n\r\n// then...\r\nUser jonDoe = users.get(&quot;jonDoe&quot;)\r\n\r\njonDoe.setActive(false);\r\n\r\nassertThat(users.get(&quot;jonDoe&quot;).isActive()).isFalse();\r\n```\r\n\r\nWorse yet is the situation where the (changed) state of the object cached is part of the `equals` and `hashCode` methods (often used by caches when performing cache operations: `get(key)`, `put(key, value)`, etc), which would affect the mapping, and affect any `Map`-based cache implementation.\r\n\r\nMost caching providers offer a setting, such as `copy-on-read` (semantics), when the cached value (object) is read from or stored to the cache. This is particularly useful in local-based caches (used in &quot;*Near Caching*&quot;), which can supplement a client/server based Cache (e.g. Redis) to decrease network hops on access, particularly for infrequently changing data.\r\n\r\nIf the caching solution is pure client/server (with no local caching, just proxying to the server from the client), which is most production topology arrangements (given cached data is usually &quot;shared&quot;), then the fear of modifying the cache is nil since the value accessed to/from the server (e.g. Redis) needs to be de/serialized anyway.\r\n\r\nIf you are using Spring Boot&#39;s &quot;Simple&quot; (`ConcurrentMap`-backed) `Cache` implementation, perhaps just for (profile-based) testing purposes, then you can even configure the &quot;Simple&quot; `Cache` to return copied values on read:\r\n\r\n```java\r\n@Configuration\r\n@EnableCaching\r\nclass CustomCachingConfiguration {\r\n\r\n  @Bean\r\n  CacheManagerCustomizer cacheManagerCustomizer() {\r\n\r\n    return cacheManager -&gt; {\r\n      if (cacheManager instanceof ConcurrentMapCacheManager concurrentMapCacheManager) {\r\n        concurrentMapCacheManager.setStoreByValue(true);\r\n      }\r\n    };\r\n  }\r\n\r\n```\r\n\r\nThis configuration is specific to caching provider.\r\n\r\nWith Apache Geode (VMware GemFire), you would configure the cache using [`GemFireCache.copyOnRead(boolean)`][3]. Of course, in a non-local/non-embedded, proxy-only, client/server topology, this is not necessary.\r\n\r\nWith Hazelcast, especially in embedded capacity (a form of *Near Caching*), you would use [`CacheConfig.setStoreByValue(boolean)`][4].\r\n\r\nAgain, many robust caching providers supported by Spring [Boot], that implement the *JCache* API and can function as a *JCache* caching provider as well (for which Spring and Spring Boot offer excellent [support][5], and [here][6]) offer similar configuration as well.\r\n\r\nThis should not affect any of your application code, only your configuration, and it should not be application tier (for example: persistence) dependent.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/io.html#io.caching.provider.simple\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-store-configuration-jdk\r\n  [3]: https://geode.apache.org/releases/latest/javadoc/org/apache/geode/cache/GemFireCache.html#setCopyOnRead-boolean-\r\n  [4]: https://docs.hazelcast.org/docs/latest/javadoc/com/hazelcast/config/AbstractCacheConfig.html#setStoreByValue-boolean-\r\n  [5]: https://docs.spring.io/spring-boot/docs/current/reference/html/io.html#io.caching.provider.jcache\r\n  [6]: https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-jsr-107","title":"How to avoid changing object in cache before saving Spring Cache","body":"<p>Using a JPA provider's cache, such as Hibernate's L2 cache, may be 1 solution, but now you have shifted the (configurable, conditional and optional) caching concern from the application to the persistence provider, which may not be desirable nor portable in all cases.</p>\n<p>For instance, what happens when you are not using JPA and a database as the persistence provider/backing store, but another store like Cassandra as your system of record (SOR) to back certain services? Or, maybe you are making a call to a [REST-based] Web service (e.g. Google Maps/Geocoding API) from your application service class? What then?</p>\n<p>1 of the problems you will encounter, especially if you are just using the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/io.html#io.caching.provider.simple\" rel=\"nofollow noreferrer\">&quot;Simple&quot; caching provider</a> provided by Spring [Boot] (also <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-store-configuration-jdk\" rel=\"nofollow noreferrer\">described</a> in Spring Framework's Cache Abstraction documentation), is that the reference to the object returned by the cache is the actual object stored in the cache.</p>\n<p>This is similar to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, User&gt; users = new HashMap&lt;&gt;();\n\n// populate Map, for example:\nusers.put(&quot;jonDoe&quot;, User.as(&quot;Jon Doe&quot;).active());\n\nassertThat(users.get(&quot;jonDoe&quot;).isActive()).isTrue();\n\n// then...\nUser jonDoe = users.get(&quot;jonDoe&quot;)\n\njonDoe.setActive(false);\n\nassertThat(users.get(&quot;jonDoe&quot;).isActive()).isFalse();\n</code></pre>\n<p>Worse yet is the situation where the (changed) state of the object cached is part of the <code>equals</code> and <code>hashCode</code> methods (often used by caches when performing cache operations: <code>get(key)</code>, <code>put(key, value)</code>, etc), which would affect the mapping, and affect any <code>Map</code>-based cache implementation.</p>\n<p>Most caching providers offer a setting, such as <code>copy-on-read</code> (semantics), when the cached value (object) is read from or stored to the cache. This is particularly useful in local-based caches (used in &quot;<em>Near Caching</em>&quot;), which can supplement a client/server based Cache (e.g. Redis) to decrease network hops on access, particularly for infrequently changing data.</p>\n<p>If the caching solution is pure client/server (with no local caching, just proxying to the server from the client), which is most production topology arrangements (given cached data is usually &quot;shared&quot;), then the fear of modifying the cache is nil since the value accessed to/from the server (e.g. Redis) needs to be de/serialized anyway.</p>\n<p>If you are using Spring Boot's &quot;Simple&quot; (<code>ConcurrentMap</code>-backed) <code>Cache</code> implementation, perhaps just for (profile-based) testing purposes, then you can even configure the &quot;Simple&quot; <code>Cache</code> to return copied values on read:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableCaching\nclass CustomCachingConfiguration {\n\n  @Bean\n  CacheManagerCustomizer cacheManagerCustomizer() {\n\n    return cacheManager -&gt; {\n      if (cacheManager instanceof ConcurrentMapCacheManager concurrentMapCacheManager) {\n        concurrentMapCacheManager.setStoreByValue(true);\n      }\n    };\n  }\n\n</code></pre>\n<p>This configuration is specific to caching provider.</p>\n<p>With Apache Geode (VMware GemFire), you would configure the cache using <a href=\"https://geode.apache.org/releases/latest/javadoc/org/apache/geode/cache/GemFireCache.html#setCopyOnRead-boolean-\" rel=\"nofollow noreferrer\"><code>GemFireCache.copyOnRead(boolean)</code></a>. Of course, in a non-local/non-embedded, proxy-only, client/server topology, this is not necessary.</p>\n<p>With Hazelcast, especially in embedded capacity (a form of <em>Near Caching</em>), you would use <a href=\"https://docs.hazelcast.org/docs/latest/javadoc/com/hazelcast/config/AbstractCacheConfig.html#setStoreByValue-boolean-\" rel=\"nofollow noreferrer\"><code>CacheConfig.setStoreByValue(boolean)</code></a>.</p>\n<p>Again, many robust caching providers supported by Spring [Boot], that implement the <em>JCache</em> API and can function as a <em>JCache</em> caching provider as well (for which Spring and Spring Boot offer excellent <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/io.html#io.caching.provider.jcache\" rel=\"nofollow noreferrer\">support</a>, and <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-jsr-107\" rel=\"nofollow noreferrer\">here</a>) offer similar configuration as well.</p>\n<p>This should not affect any of your application code, only your configuration, and it should not be application tier (for example: persistence) dependent.</p>\n"}],"owner":{"account_id":20045925,"reputation":75,"user_id":14944208,"display_name":"SnejOK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":426,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677288959,"creation_date":1672654194,"question_id":74981103,"body_markdown":"I want to show right away with an example. There is such a repository:\r\n\r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\r\n\r\n    String USER_CACHE = &quot;users&quot;;\r\n\r\n    @Override\r\n    @CachePut(value = USER_CACHE, key = &quot;#user.email&quot;, unless = &quot;#result == null&quot;)\r\n    &lt;S extends User&gt; S save(S user);\r\n\r\n    @Override\r\n    @CacheEvict(value = USER_CACHE, key = &quot;#user.email&quot;)\r\n    void delete(User user);\r\n\r\n    @Cacheable(value = USER_CACHE, key = &quot;#email&quot;, unless = &quot;#result == null&quot;)\r\n    User findByEmailIgnoreCase(String email);\r\n\r\n    }\r\n\r\nAnd there is such a service that saves the user&#39;s changes and sends a confirmation code to the mail:\r\n\r\n    @Service\r\n    public class UserServiceImpl implements UserService, UserDetailsService {\r\n\r\n    private final UserRepository userRepository;\r\n\r\n    @Override\r\n    public User getUserByEmail(String email) {\r\n        return userRepository.findByEmailIgnoreCase(email);\r\n    }\r\n\r\n    @Override\r\n    @Transactional(isolation = Isolation.SERIALIZABLE)\r\n    public void createAppUser(RegistrationAppRequestDto registrationRequest) throws EmailSendingException {\r\n        User user = getUserByEmail(registrationRequest.getEmail());\r\n\r\n        user.setPassword(registrationRequest.getPassword());\r\n        user.setApp(true);\r\n        user.setActivated(false);\r\n        user.setActivationCode(UUID.randomUUID().toString());\r\n        user.setLastVisit(LocalDateTime.now());\r\n\r\n        if (Strings.isEmpty(user.getImg())) {\r\n            user.setImg(DEFAULT_IMG);\r\n        }\r\n\r\n        mailSender.sendWelcomeMessage(user);    \r\n        userRepository.save(user);\r\n     }\r\n    }\r\n\r\nAnd the problem is that in case of an error (For example, when sending a message to the mail), the changes that were made with this user will remain in the cache, and these changes will not get into the database (which is correct). Is there any practice of working with such a case? Alternatively, i can use object cloning, but I think this is a bad practice. I will be grateful for any help.","title":"How to avoid changing object in cache before saving Spring Cache","body":"<p>I want to show right away with an example. There is such a repository:</p>\n<pre><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\n\nString USER_CACHE = &quot;users&quot;;\n\n@Override\n@CachePut(value = USER_CACHE, key = &quot;#user.email&quot;, unless = &quot;#result == null&quot;)\n&lt;S extends User&gt; S save(S user);\n\n@Override\n@CacheEvict(value = USER_CACHE, key = &quot;#user.email&quot;)\nvoid delete(User user);\n\n@Cacheable(value = USER_CACHE, key = &quot;#email&quot;, unless = &quot;#result == null&quot;)\nUser findByEmailIgnoreCase(String email);\n\n}\n</code></pre>\n<p>And there is such a service that saves the user's changes and sends a confirmation code to the mail:</p>\n<pre><code>@Service\npublic class UserServiceImpl implements UserService, UserDetailsService {\n\nprivate final UserRepository userRepository;\n\n@Override\npublic User getUserByEmail(String email) {\n    return userRepository.findByEmailIgnoreCase(email);\n}\n\n@Override\n@Transactional(isolation = Isolation.SERIALIZABLE)\npublic void createAppUser(RegistrationAppRequestDto registrationRequest) throws EmailSendingException {\n    User user = getUserByEmail(registrationRequest.getEmail());\n\n    user.setPassword(registrationRequest.getPassword());\n    user.setApp(true);\n    user.setActivated(false);\n    user.setActivationCode(UUID.randomUUID().toString());\n    user.setLastVisit(LocalDateTime.now());\n\n    if (Strings.isEmpty(user.getImg())) {\n        user.setImg(DEFAULT_IMG);\n    }\n\n    mailSender.sendWelcomeMessage(user);    \n    userRepository.save(user);\n }\n}\n</code></pre>\n<p>And the problem is that in case of an error (For example, when sending a message to the mail), the changes that were made with this user will remain in the cache, and these changes will not get into the database (which is correct). Is there any practice of working with such a case? Alternatively, i can use object cloning, but I think this is a bad practice. I will be grateful for any help.</p>\n"},{"tags":["java","arrays","java-8","java-stream","stringbuilder"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1557234965,"post_id":56023452,"comment_id":98690652,"body_markdown":"https://stackoverflow.com/q/22577197/2711488&#160;&#160;•&#160;&#160;https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Reduction","body":"<a href=\"https://stackoverflow.com/q/22577197/2711488\">stackoverflow.com/q/22577197/2711488</a>  •  <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Reduction\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/stream/&hellip;</a>"},{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":0,"creation_date":1557236942,"post_id":56023452,"comment_id":98691919,"body_markdown":"Well the first thread to get to the reduce stage gets treated first :) if you await a sequential result, you better be using a sequential stream, or at least make it sequential before the reduce operation..","body":"Well the first thread to get to the reduce stage gets treated first :) if you await a sequential result, you better be using a sequential stream, or at least make it sequential before the reduce operation.."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1557237498,"post_id":56023452,"comment_id":98692259,"body_markdown":"It’s different every time because “parallel” means multiple threads executing at the same time.  Running at the same time means they do not execute in order.","body":"It’s different every time because “parallel” means multiple threads executing at the same time.  Running at the same time means they do not execute in order."},{"owner":{"account_id":2090997,"reputation":840,"user_id":7516740,"display_name":"elvis"},"score":0,"creation_date":1557238840,"post_id":56023452,"comment_id":98693078,"body_markdown":"@VGR I understand that parallel menas multiple threads, but if instead of reduce() I&#39;m using collect() it works perfectly even with parallel stream.","body":"@VGR I understand that parallel menas multiple threads, but if instead of reduce() I&#39;m using collect() it works perfectly even with parallel stream."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":2,"creation_date":1557260092,"post_id":56023452,"comment_id":98703277,"body_markdown":"that _is_ the point - one is _mutable_ reduction and the other is _not_. you are using `reduce` like it&#39;s a mutable one, and it&#39;s not. hint: `accumulator` and `combiner` **must** return a _new_ instance of `StringBuilder`, all the time.","body":"that <i>is</i> the point - one is <i>mutable</i> reduction and the other is <i>not</i>. you are using <code>reduce</code> like it&#39;s a mutable one, and it&#39;s not. hint: <code>accumulator</code> and <code>combiner</code> <b>must</b> return a <i>new</i> instance of <code>StringBuilder</code>, all the time."}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1677288893,"creation_date":1557342659,"answer_id":56047530,"question_id":56023452,"body_markdown":"The problem lies in the fact you use [`Stream::reduce`][1] for [mutable reduction][2]. You should use [`Stream::collect`][3] instead that can be used for safe parallel processing. You may read more about their differences in the official Oracle documentation: [Streams: Reduction][4].\r\n\r\nUnlike the reduce method, which always creates a new value when it processes an element, the collect method modifies or mutates an existing value.\r\n\r\nNotice the differences in the Javadocs for the two methods:\r\n\r\n - [`reduce(U identity, BiFunction&lt;U,? super T,U&gt; accumulator, BinaryOperator&lt;U&gt; combiner)`][1]:\r\n    &gt; Performs a reduction on the elements of this stream, using the provided identity, accumulation and combining functions.\r\n - [`collect(Supplier&lt;R&gt; supplier, BiConsumer&lt;R,? super T&gt; accumulator, BiConsumer&lt;R,R&gt; combiner)`][3]: \r\n    &gt; Performs a mutable reduction operation on the elements of this stream.\r\n\r\nTherefore, I suggest you do the following:\r\n\r\n\tStringBuilder concat = Arrays.stream(grades)\r\n\t\t.parallel()\r\n\t\t.collect(StringBuilder::new, StringBuilder::append, StringBuilder::append);\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-U-java.util.function.BiFunction-java.util.function.BinaryOperator-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#MutableReduction\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.function.Supplier-java.util.function.BiConsumer-java.util.function.BiConsumer-\r\n  [4]: https://docs.oracle.com/javase/tutorial/collections/streams/reduction.html","title":"How does reduce() method work with parallel streams in Java 8?","body":"<p>The problem lies in the fact you use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-U-java.util.function.BiFunction-java.util.function.BinaryOperator-\" rel=\"nofollow noreferrer\"><code>Stream::reduce</code></a> for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#MutableReduction\" rel=\"nofollow noreferrer\">mutable reduction</a>. You should use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.function.Supplier-java.util.function.BiConsumer-java.util.function.BiConsumer-\" rel=\"nofollow noreferrer\"><code>Stream::collect</code></a> instead that can be used for safe parallel processing. You may read more about their differences in the official Oracle documentation: <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/reduction.html\" rel=\"nofollow noreferrer\">Streams: Reduction</a>.</p>\n<p>Unlike the reduce method, which always creates a new value when it processes an element, the collect method modifies or mutates an existing value.</p>\n<p>Notice the differences in the Javadocs for the two methods:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-U-java.util.function.BiFunction-java.util.function.BinaryOperator-\" rel=\"nofollow noreferrer\"><code>reduce(U identity, BiFunction&lt;U,? super T,U&gt; accumulator, BinaryOperator&lt;U&gt; combiner)</code></a>:\n<blockquote>\n<p>Performs a reduction on the elements of this stream, using the provided identity, accumulation and combining functions.</p>\n</blockquote>\n</li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.function.Supplier-java.util.function.BiConsumer-java.util.function.BiConsumer-\" rel=\"nofollow noreferrer\"><code>collect(Supplier&lt;R&gt; supplier, BiConsumer&lt;R,? super T&gt; accumulator, BiConsumer&lt;R,R&gt; combiner)</code></a>:\n<blockquote>\n<p>Performs a mutable reduction operation on the elements of this stream.</p>\n</blockquote>\n</li>\n</ul>\n<p>Therefore, I suggest you do the following:</p>\n<pre><code>StringBuilder concat = Arrays.stream(grades)\n    .parallel()\n    .collect(StringBuilder::new, StringBuilder::append, StringBuilder::append);\n</code></pre>\n"}],"owner":{"account_id":2090997,"reputation":840,"user_id":7516740,"display_name":"elvis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3530,"favorite_count":0,"down_vote_count":2,"up_vote_count":8,"answer_count":1,"score":6,"last_activity_date":1677288893,"creation_date":1557234792,"question_id":56023452,"body_markdown":"I try to understand how `reduce()` method works exactly with parallel streams and I don&#39;t understand why the following code do not return the concatenation of these strings. \r\n\r\nThis is the code:\r\n\r\n    public class App {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tString[] grades = {&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;, &quot;G&quot;, &quot;H&quot;, &quot;I&quot;, &quot;J&quot;, &quot;K&quot;};\r\n    \t\t\r\n    \t\tStringBuilder concat = Arrays.stream(grades).parallel()\r\n    \t\t        .reduce(new StringBuilder(),\r\n    \t\t                (sb, s) -&gt; sb.append(s),\r\n    \t\t                (sb1, sb2) -&gt; sb1.append(sb2));\r\n    \t\t\r\n    \t\tSystem.out.println(concat);\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nThe code works only with sequential streams, but with parallel streams it doesn&#39;t return the concatenation. The output is different every time. Can someone explain me what&#39;s happening there?","title":"How does reduce() method work with parallel streams in Java 8?","body":"<p>I try to understand how <code>reduce()</code> method works exactly with parallel streams and I don't understand why the following code do not return the concatenation of these strings. </p>\n\n<p>This is the code:</p>\n\n<pre><code>public class App {\n\n    public static void main(String[] args) {\n        String[] grades = {\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\", \"K\"};\n\n        StringBuilder concat = Arrays.stream(grades).parallel()\n                .reduce(new StringBuilder(),\n                        (sb, s) -&gt; sb.append(s),\n                        (sb1, sb2) -&gt; sb1.append(sb2));\n\n        System.out.println(concat);\n\n    }\n}\n</code></pre>\n\n<p>The code works only with sequential streams, but with parallel streams it doesn't return the concatenation. The output is different every time. Can someone explain me what's happening there?</p>\n"},{"tags":["java","drag-and-drop","mouseevent","mouselistener"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1371855211,"post_id":17245119,"comment_id":24990977,"body_markdown":"By definition, a mouseClicked event will only occur in the point the mousePresses and mouseReleased is the same. Try using mouseReleased instead. You probably shouldn&#39;t be installing a transfer handler on a click event, but should be established as part of your normal initialization process","body":"By definition, a mouseClicked event will only occur in the point the mousePresses and mouseReleased is the same. Try using mouseReleased instead. You probably shouldn&#39;t be installing a transfer handler on a click event, but should be established as part of your normal initialization process"},{"owner":{"account_id":15834,"reputation":13713,"user_id":33863,"accept_rate":92,"display_name":"mainstringargs"},"score":0,"creation_date":1371870752,"post_id":17245119,"comment_id":24993602,"body_markdown":"Agreed -- but mouseReleased isn&#39;t called either.  I updated the code to match some of your feedback.","body":"Agreed -- but mouseReleased isn&#39;t called either.  I updated the code to match some of your feedback."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1371871682,"post_id":17245119,"comment_id":24993732,"body_markdown":"How I don&#39;t the `TransferHandler` API :P","body":"How I don&#39;t the <code>TransferHandler</code> API :P"}],"answers":[{"tags":[],"owner":{"account_id":1165929,"reputation":7226,"user_id":1144248,"accept_rate":78,"display_name":"Alex Coleman"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1372111919,"creation_date":1372111919,"answer_id":17286009,"question_id":17245119,"body_markdown":"Do you really need the mouseReleased to fire or what? I think this should work well:\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.GridLayout;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseListener;\r\n    import java.awt.event.MouseMotionListener;\r\n\r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.TransferHandler;\r\n\r\n    public class DragTest extends JFrame implements MouseMotionListener,\r\n            MouseListener {\r\n\t\r\n\t    private JPanel leftPanel = new JPanel(null);\r\n        private JPanel rightPanel = new JPanel(null);\r\n        JLabel dropLabel;\r\n\r\n        public DragTest() {\r\n            this.setLayout(new GridLayout(1, 2));\r\n\r\n            leftPanel.setBorder(BorderFactory.createLineBorder(Color.black));\r\n            rightPanel.setBorder(BorderFactory.createLineBorder(Color.black));\r\n            this.add(leftPanel);\r\n            this.add(rightPanel);\r\n            leftPanel.addMouseListener(this);\r\n            leftPanel.addMouseMotionListener(this);\r\n\r\n            JTextArea area = new JTextArea();\r\n\r\n            rightPanel.setLayout(new GridLayout(1, 1));\r\n            rightPanel.add(area);\r\n\r\n            dropLabel = new JLabel(&quot;drop&quot;);\r\n            dropLabel.setTransferHandler(new TransferHandler(&quot;text&quot;));\r\n\r\n        }\r\n        @Override\r\n        public void mousePressed(MouseEvent e) {\r\n            System.out.println(&quot;mousePressed&quot;);\r\n            Dimension labelSize = dropLabel.getPreferredSize();\r\n            dropLabel.setSize(labelSize);\r\n            int x = e.getX() - labelSize.width / 2;\r\n            int y = e.getY() - labelSize.height / 2;\r\n            dropLabel.setLocation(x, y);\r\n            leftPanel.add(dropLabel);\r\n\r\n\r\n\r\n            repaint();\r\n\r\n        }\r\n\r\n        @Override\r\n        public void mouseDragged(MouseEvent me) {\r\n            System.out.println(&quot;mouseDragged&quot;);\r\n\t            dropLabel.getTransferHandler().exportAsDrag(dropLabel, me,\r\n\t                    TransferHandler.COPY);\r\n        }\r\n\r\n        @Override\r\n        public void mouseMoved(MouseEvent e) {\r\n        }\r\n\r\n        @Override\r\n        public void mouseClicked(MouseEvent e) {\r\n            System.out.println(&quot;mouseClicked&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void mouseReleased(MouseEvent e) {\r\n            System.out.println(&quot;mouseReleased&quot;);\r\n\r\n        }\r\n\r\n        @Override\r\n        public void mouseEntered(MouseEvent e) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void mouseExited(MouseEvent e) {\r\n\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n\r\n            DragTest frame = new DragTest();\r\n            frame.setVisible(true);\r\n            frame.setSize(600, 400);\r\n            frame.setResizable(false);\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        }\r\n    }\r\n\r\nI just moved the call to start the drag event into the mouseDragged call, this way if you just click your mouse then everything calls normally. However, if you drag the mouse, it will fire the drag and drop call, which still does block other calls, but again only if you drag. If you just click, it all fires normally.","title":"Java Drag and Drop and Mouse Listeners","body":"<p>Do you really need the mouseReleased to fire or what? I think this should work well:</p>\n\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.GridLayout;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.event.MouseMotionListener;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JTextArea;\nimport javax.swing.TransferHandler;\n\npublic class DragTest extends JFrame implements MouseMotionListener,\n        MouseListener {\n\n    private JPanel leftPanel = new JPanel(null);\n    private JPanel rightPanel = new JPanel(null);\n    JLabel dropLabel;\n\n    public DragTest() {\n        this.setLayout(new GridLayout(1, 2));\n\n        leftPanel.setBorder(BorderFactory.createLineBorder(Color.black));\n        rightPanel.setBorder(BorderFactory.createLineBorder(Color.black));\n        this.add(leftPanel);\n        this.add(rightPanel);\n        leftPanel.addMouseListener(this);\n        leftPanel.addMouseMotionListener(this);\n\n        JTextArea area = new JTextArea();\n\n        rightPanel.setLayout(new GridLayout(1, 1));\n        rightPanel.add(area);\n\n        dropLabel = new JLabel(\"drop\");\n        dropLabel.setTransferHandler(new TransferHandler(\"text\"));\n\n    }\n    @Override\n    public void mousePressed(MouseEvent e) {\n        System.out.println(\"mousePressed\");\n        Dimension labelSize = dropLabel.getPreferredSize();\n        dropLabel.setSize(labelSize);\n        int x = e.getX() - labelSize.width / 2;\n        int y = e.getY() - labelSize.height / 2;\n        dropLabel.setLocation(x, y);\n        leftPanel.add(dropLabel);\n\n\n\n        repaint();\n\n    }\n\n    @Override\n    public void mouseDragged(MouseEvent me) {\n        System.out.println(\"mouseDragged\");\n            dropLabel.getTransferHandler().exportAsDrag(dropLabel, me,\n                    TransferHandler.COPY);\n    }\n\n    @Override\n    public void mouseMoved(MouseEvent e) {\n    }\n\n    @Override\n    public void mouseClicked(MouseEvent e) {\n        System.out.println(\"mouseClicked\");\n    }\n\n    @Override\n    public void mouseReleased(MouseEvent e) {\n        System.out.println(\"mouseReleased\");\n\n    }\n\n    @Override\n    public void mouseEntered(MouseEvent e) {\n\n    }\n\n    @Override\n    public void mouseExited(MouseEvent e) {\n\n    }\n\n    public static void main(String[] args) {\n\n        DragTest frame = new DragTest();\n        frame.setVisible(true);\n        frame.setSize(600, 400);\n        frame.setResizable(false);\n        frame.setLocationRelativeTo(null);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n}\n</code></pre>\n\n<p>I just moved the call to start the drag event into the mouseDragged call, this way if you just click your mouse then everything calls normally. However, if you drag the mouse, it will fire the drag and drop call, which still does block other calls, but again only if you drag. If you just click, it all fires normally.</p>\n"},{"tags":[],"owner":{"account_id":20883704,"reputation":1,"user_id":15340782,"display_name":"user15340782"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1677288763,"creation_date":1677288763,"answer_id":75562780,"question_id":17245119,"body_markdown":"        @Override\r\n        public void mouseDragged(MouseEvent e) {\r\n            System.out.println(String.format(&quot;[mouseDragged] (%d, %d)&quot;, e.getX(),e.getY()));\r\n            Dimension labelSize = dropLabel.getPreferredSize();\r\n            dropLabel.setSize(labelSize);\r\n            int x = e.getX() - labelSize.width / 2;\r\n            int y = e.getY() - labelSize.height / 2;\r\n            dropLabel.setLocation(x, y);\r\n            leftPanel.add(dropLabel);\r\n\r\n            repaint();\r\n        }\r\n\r\nMouse Event..??","title":"Java Drag and Drop and Mouse Listeners","body":"<pre><code>    @Override\n    public void mouseDragged(MouseEvent e) {\n        System.out.println(String.format(&quot;[mouseDragged] (%d, %d)&quot;, e.getX(),e.getY()));\n        Dimension labelSize = dropLabel.getPreferredSize();\n        dropLabel.setSize(labelSize);\n        int x = e.getX() - labelSize.width / 2;\n        int y = e.getY() - labelSize.height / 2;\n        dropLabel.setLocation(x, y);\n        leftPanel.add(dropLabel);\n\n        repaint();\n    }\n</code></pre>\n<p>Mouse Event..??</p>\n"}],"owner":{"account_id":15834,"reputation":13713,"user_id":33863,"accept_rate":92,"display_name":"mainstringargs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18702,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":17286009,"answer_count":2,"score":4,"last_activity_date":1677288763,"creation_date":1371852930,"question_id":17245119,"body_markdown":"I am using logic like the following with a touch interface, so I&#39;d like to be able to use mousePressed to initiate a drag, yet at the same time be able to use mouseClicked or mouseReleased if the user does not drag.\r\n\r\nOn mousePressed, I have a drag being started.  On mouseClicked, I want it to print out &quot;mouseClicked&quot;, and to print mouseReleased on &quot;mouseReleased&quot; but for some reason the \r\n\r\n        dropLabel.getTransferHandler().exportAsDrag(dropLabel, e,\r\n                TransferHandler.COPY);\r\n\r\nswallows the event causing mouseClicked and mouseReleased events not be fired even when I don&#39;t move the mouse.  Notice that commenting out that line causes all listeners to be fired (but obviously the drag isn&#39;t started).  \r\n\r\nHow can I get all mouse events to happen the way I want, specifically mouseClicked/mouseReleased when the user doesn&#39;t do any dragging, while still being able to exportAsDragged if the user does drag?  Any hacks/cracks/reflection solutions are welcome.\r\n\r\nHere is some sample code I am working with that illustrates my actual problem:\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.GridLayout;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseListener;\r\n    import java.awt.event.MouseMotionListener;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.TransferHandler;\r\n    \r\n    public class DragTest extends JFrame implements MouseMotionListener,\r\n            MouseListener {\r\n    \r\n        private JPanel leftPanel = new JPanel(null);\r\n        private JPanel rightPanel = new JPanel(null);\r\n        JLabel dropLabel;\r\n    \r\n        public DragTest() {\r\n            this.setLayout(new GridLayout(1, 2));\r\n    \r\n            leftPanel.setBorder(BorderFactory.createLineBorder(Color.black));\r\n            rightPanel.setBorder(BorderFactory.createLineBorder(Color.black));\r\n            this.add(leftPanel);\r\n            this.add(rightPanel);\r\n            leftPanel.addMouseListener(this);\r\n            leftPanel.addMouseMotionListener(this);\r\n    \r\n            JTextArea area = new JTextArea();\r\n    \r\n            rightPanel.setLayout(new GridLayout(1, 1));\r\n            rightPanel.add(area);\r\n            \r\n            dropLabel = new JLabel(&quot;drop&quot;);\r\n            dropLabel.setTransferHandler(new TransferHandler(&quot;text&quot;));\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void mousePressed(MouseEvent e) {\r\n            System.out.println(&quot;mousePressed&quot;);\r\n    \r\n    \r\n            Dimension labelSize = dropLabel.getPreferredSize();\r\n            dropLabel.setSize(labelSize);\r\n            int x = e.getX() - labelSize.width / 2;\r\n            int y = e.getY() - labelSize.height / 2;\r\n            dropLabel.setLocation(x, y);\r\n            leftPanel.add(dropLabel);\r\n    \r\n    \r\n            dropLabel.getTransferHandler().exportAsDrag(dropLabel, e,\r\n                    TransferHandler.COPY);\r\n    \r\n            repaint();\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void mouseDragged(MouseEvent me) {\r\n            System.out.println(&quot;mouseDragged&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void mouseMoved(MouseEvent e) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void mouseClicked(MouseEvent e) {\r\n            System.out.println(&quot;mouseClicked&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void mouseReleased(MouseEvent e) {\r\n    \r\n            System.out.println(&quot;mouseReleased&quot;);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void mouseEntered(MouseEvent e) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void mouseExited(MouseEvent e) {\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            DragTest frame = new DragTest();\r\n            frame.setVisible(true);\r\n            frame.setSize(600, 400);\r\n            frame.setResizable(false);\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        }\r\n    }\r\n\r\n","title":"Java Drag and Drop and Mouse Listeners","body":"<p>I am using logic like the following with a touch interface, so I'd like to be able to use mousePressed to initiate a drag, yet at the same time be able to use mouseClicked or mouseReleased if the user does not drag.</p>\n\n<p>On mousePressed, I have a drag being started.  On mouseClicked, I want it to print out \"mouseClicked\", and to print mouseReleased on \"mouseReleased\" but for some reason the </p>\n\n<pre><code>    dropLabel.getTransferHandler().exportAsDrag(dropLabel, e,\n            TransferHandler.COPY);\n</code></pre>\n\n<p>swallows the event causing mouseClicked and mouseReleased events not be fired even when I don't move the mouse.  Notice that commenting out that line causes all listeners to be fired (but obviously the drag isn't started).  </p>\n\n<p>How can I get all mouse events to happen the way I want, specifically mouseClicked/mouseReleased when the user doesn't do any dragging, while still being able to exportAsDragged if the user does drag?  Any hacks/cracks/reflection solutions are welcome.</p>\n\n<p>Here is some sample code I am working with that illustrates my actual problem:</p>\n\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.GridLayout;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.event.MouseMotionListener;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JTextArea;\nimport javax.swing.TransferHandler;\n\npublic class DragTest extends JFrame implements MouseMotionListener,\n        MouseListener {\n\n    private JPanel leftPanel = new JPanel(null);\n    private JPanel rightPanel = new JPanel(null);\n    JLabel dropLabel;\n\n    public DragTest() {\n        this.setLayout(new GridLayout(1, 2));\n\n        leftPanel.setBorder(BorderFactory.createLineBorder(Color.black));\n        rightPanel.setBorder(BorderFactory.createLineBorder(Color.black));\n        this.add(leftPanel);\n        this.add(rightPanel);\n        leftPanel.addMouseListener(this);\n        leftPanel.addMouseMotionListener(this);\n\n        JTextArea area = new JTextArea();\n\n        rightPanel.setLayout(new GridLayout(1, 1));\n        rightPanel.add(area);\n\n        dropLabel = new JLabel(\"drop\");\n        dropLabel.setTransferHandler(new TransferHandler(\"text\"));\n\n    }\n\n    @Override\n    public void mousePressed(MouseEvent e) {\n        System.out.println(\"mousePressed\");\n\n\n        Dimension labelSize = dropLabel.getPreferredSize();\n        dropLabel.setSize(labelSize);\n        int x = e.getX() - labelSize.width / 2;\n        int y = e.getY() - labelSize.height / 2;\n        dropLabel.setLocation(x, y);\n        leftPanel.add(dropLabel);\n\n\n        dropLabel.getTransferHandler().exportAsDrag(dropLabel, e,\n                TransferHandler.COPY);\n\n        repaint();\n\n    }\n\n    @Override\n    public void mouseDragged(MouseEvent me) {\n        System.out.println(\"mouseDragged\");\n    }\n\n    @Override\n    public void mouseMoved(MouseEvent e) {\n\n    }\n\n    @Override\n    public void mouseClicked(MouseEvent e) {\n        System.out.println(\"mouseClicked\");\n    }\n\n    @Override\n    public void mouseReleased(MouseEvent e) {\n\n        System.out.println(\"mouseReleased\");\n\n    }\n\n    @Override\n    public void mouseEntered(MouseEvent e) {\n\n    }\n\n    @Override\n    public void mouseExited(MouseEvent e) {\n\n    }\n\n    public static void main(String[] args) {\n\n        DragTest frame = new DragTest();\n        frame.setVisible(true);\n        frame.setSize(600, 400);\n        frame.setResizable(false);\n        frame.setLocationRelativeTo(null);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n}\n</code></pre>\n"},{"tags":["java","json","spring","yaml"],"comments":[{"owner":{"account_id":4996428,"reputation":362,"user_id":4016860,"accept_rate":75,"display_name":"Popeye"},"score":0,"creation_date":1677289067,"post_id":75562762,"comment_id":133314425,"body_markdown":"have you looked at this one `https://www.baeldung.com/jackson-yaml`","body":"have you looked at this one <code>https:&#47;&#47;www.baeldung.com&#47;jackson-yaml</code>"},{"owner":{"account_id":25266683,"reputation":55,"user_id":19096722,"display_name":"William Johnson"},"score":0,"creation_date":1677290597,"post_id":75562762,"comment_id":133314546,"body_markdown":"@Popeye I don&#39;t think that would help because I should be able to get the data from the way the test does it for other fields, just need to parse through the nested yaml objects. And the test data is in the form of a linked hash map","body":"@Popeye I don&#39;t think that would help because I should be able to get the data from the way the test does it for other fields, just need to parse through the nested yaml objects. And the test data is in the form of a linked hash map"},{"owner":{"account_id":25266683,"reputation":55,"user_id":19096722,"display_name":"William Johnson"},"score":0,"creation_date":1677291490,"post_id":75562762,"comment_id":133314650,"body_markdown":"There are also multiple classes used in this overall JSON request","body":"There are also multiple classes used in this overall JSON request"},{"owner":{"account_id":4996428,"reputation":362,"user_id":4016860,"accept_rate":75,"display_name":"Popeye"},"score":0,"creation_date":1677367432,"post_id":75562762,"comment_id":133324663,"body_markdown":"`Double value = JsonParser.parseString(s).getAsJsonObject().get(&quot;restriction&quot;).getAsJsonObject()\n                .get(&quot;funding_limit&quot;).getAsJsonObject().get(&quot;value&quot;).getAsDouble();`","body":"<code>Double value = JsonParser.parseString(s).getAsJsonObject().get(&quot;restriction&zwnj;&#8203;&quot;).getAsJsonObject()                 .get(&quot;funding_limit&quot;).getAsJsonObject().get(&quot;value&quot;).getAsDo&zwnj;&#8203;uble();</code>"}],"owner":{"account_id":25266683,"reputation":55,"user_id":19096722,"display_name":"William Johnson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677288346,"creation_date":1677288346,"question_id":75562762,"body_markdown":"I have the following Yaml file of test data:\r\n\r\n    \r\n\r\n      SEARCH_CREDENTIALS_TEST:\r\n      testName: FB_0001\r\n      nttProductName: TESTNTT\r\n      tpanProductName: TESTTPAN\r\n      userProfile: USERPROFILE\r\n      credentialType: E_COMMERCE_SHORT_FORM_DYNAMIC\r\n      tsp: AETS\r\n      scProfile: Internal\r\n      otherCredentialTypes:\r\n        - E_COMMERCE_LONG_FORM\r\n      maxCachedCredentials: 2\r\n      metadata:\r\n        - HASHED=CUSTOMER_EMAIL\r\n        - UNHASHED=MERCHANT_ID|AMOUNT\r\n      secondRequestMedata:\r\n        - HASHED=CUSTOMER_EMAIL|CUSTOMER_PHONE\r\n        - UNHASHED=MERCHANT_ID|AMOUNT\r\n      restriction:\r\n        fundinglimit:\r\n          -CURRENCY=USD\r\n          -VALUE=10.00\r\n\r\nI want to store the **funding limit** values of currency and value as properties of a Money object where the amount and currency are stored as string:\r\n\r\n    \r\n    Money m = new Money();\r\n    m.setAmount((String)testData.get(&quot;restriction&quot;));\r\n    m.setCurrency(); \r\n\r\n \r\nHow do I get each part of the funding limit object into the money object? My full code snippet is below: \r\n\r\n    @Test(dataProvider = &quot;NetworkTokens&quot;, groups = { &quot;p0&quot;, &quot;p1&quot;, &quot;p2&quot;, &quot;p3&quot; })\r\n        public void searchCredentialTest(LinkedHashMap testData) throws Exception {\r\n            \r\n            String credentialType = (String) testData.get(&quot;credentialType&quot;);\r\n    \r\n    \r\n            User user = userUtil.createUser((String) testData.get(&quot;userProfile&quot;));\r\n            SecurityContext securityContext = securityContextUtil.createSecurityContext(&quot;Default&quot;, user);\r\n            Token ntt = createOnlineToken.createNtt(user, securityContext, (String) testData.get(&quot;nttProductName&quot;),(String) testData.get(&quot;testname&quot;));\r\n    \r\n    \r\n            Money m = new Money();\r\n            m.setAmount((String)testData.get(&quot;restriction&quot;));\r\n                m.setCurrency(String) testData.get(&quot;restriction&quot;);\r\n    }\r\n\r\n\r\nHere is the postman request for reference of the JSON object I am replicating in my test where I want to get the currency code and value: \r\n\r\n     {\r\n        &quot;product_name&quot;:&quot;TEST_PRODUCT&quot;,\r\n        &quot;value_to_tokenize&quot;:&quot;TEST_VALUE&quot;,\r\n        &quot;wallet_id&quot;: &quot;TEST_WALLET&quot;,\r\n        &quot;restriction&quot; : {\r\n        \t&quot;funding_limit&quot; : {&quot;currency_code&quot; : &quot;USD&quot;, &quot;value&quot; : &quot;10.00&quot;}\r\n        }\r\n    }","title":"Parse Test Data from Yaml file into Object","body":"<p>I have the following Yaml file of test data:</p>\n<pre><code>  SEARCH_CREDENTIALS_TEST:\n  testName: FB_0001\n  nttProductName: TESTNTT\n  tpanProductName: TESTTPAN\n  userProfile: USERPROFILE\n  credentialType: E_COMMERCE_SHORT_FORM_DYNAMIC\n  tsp: AETS\n  scProfile: Internal\n  otherCredentialTypes:\n    - E_COMMERCE_LONG_FORM\n  maxCachedCredentials: 2\n  metadata:\n    - HASHED=CUSTOMER_EMAIL\n    - UNHASHED=MERCHANT_ID|AMOUNT\n  secondRequestMedata:\n    - HASHED=CUSTOMER_EMAIL|CUSTOMER_PHONE\n    - UNHASHED=MERCHANT_ID|AMOUNT\n  restriction:\n    fundinglimit:\n      -CURRENCY=USD\n      -VALUE=10.00\n</code></pre>\n<p>I want to store the <strong>funding limit</strong> values of currency and value as properties of a Money object where the amount and currency are stored as string:</p>\n<pre><code>Money m = new Money();\nm.setAmount((String)testData.get(&quot;restriction&quot;));\nm.setCurrency(); \n</code></pre>\n<p>How do I get each part of the funding limit object into the money object? My full code snippet is below:</p>\n<pre><code>@Test(dataProvider = &quot;NetworkTokens&quot;, groups = { &quot;p0&quot;, &quot;p1&quot;, &quot;p2&quot;, &quot;p3&quot; })\n    public void searchCredentialTest(LinkedHashMap testData) throws Exception {\n        \n        String credentialType = (String) testData.get(&quot;credentialType&quot;);\n\n\n        User user = userUtil.createUser((String) testData.get(&quot;userProfile&quot;));\n        SecurityContext securityContext = securityContextUtil.createSecurityContext(&quot;Default&quot;, user);\n        Token ntt = createOnlineToken.createNtt(user, securityContext, (String) testData.get(&quot;nttProductName&quot;),(String) testData.get(&quot;testname&quot;));\n\n\n        Money m = new Money();\n        m.setAmount((String)testData.get(&quot;restriction&quot;));\n            m.setCurrency(String) testData.get(&quot;restriction&quot;);\n}\n</code></pre>\n<p>Here is the postman request for reference of the JSON object I am replicating in my test where I want to get the currency code and value:</p>\n<pre><code> {\n    &quot;product_name&quot;:&quot;TEST_PRODUCT&quot;,\n    &quot;value_to_tokenize&quot;:&quot;TEST_VALUE&quot;,\n    &quot;wallet_id&quot;: &quot;TEST_WALLET&quot;,\n    &quot;restriction&quot; : {\n        &quot;funding_limit&quot; : {&quot;currency_code&quot; : &quot;USD&quot;, &quot;value&quot; : &quot;10.00&quot;}\n    }\n}\n</code></pre>\n"},{"tags":["java","logging","log4j","maven-2","maven-surefire-plugin"],"comments":[{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":1,"creation_date":1288966226,"post_id":4106524,"comment_id":4420890,"body_markdown":"@Bozho I also think so, but looks like these two files conflict. When I have them two NO logging config works. They both are just ignored...","body":"@Bozho I also think so, but looks like these two files conflict. When I have them two NO logging config works. They both are just ignored..."},{"owner":{"account_id":183607,"reputation":33842,"user_id":419075,"accept_rate":96,"display_name":"Amir Raminfar"},"score":0,"creation_date":1288966801,"post_id":4106524,"comment_id":4421008,"body_markdown":"I think maven just includes both resources in path, so log4j gets confused which one to use and instead just fails by not showing anything. Does Robert&#39;s solution work?","body":"I think maven just includes both resources in path, so log4j gets confused which one to use and instead just fails by not showing anything. Does Robert&#39;s solution work?"},{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1288968547,"post_id":4106524,"comment_id":4421363,"body_markdown":"Bozho is right, it works fine as it is. The problem was with my logging configuration. I used `slf4j-jdk14` instead of `slf4j-log4j`. Everything works fine **without** the trick offered by Robert.","body":"Bozho is right, it works fine as it is. The problem was with my logging configuration. I used <code>slf4j-jdk14</code> instead of <code>slf4j-log4j</code>. Everything works fine <b>without</b> the trick offered by Robert."}],"answers":[{"tags":[],"owner":{"account_id":39088,"reputation":67399,"user_id":112671,"accept_rate":79,"display_name":"Robert Munteanu"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1288965773,"creation_date":1288965773,"answer_id":4106563,"question_id":4106524,"body_markdown":"Rename your test configuration file to e.g. `log4j-surefire.properties` and configure log4j to pick it up during surefire execution:\r\n\r\n\t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6&lt;/version&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;systemPropertyVariables&gt;\r\n            \t&lt;log4j.configuration&gt;file:${project.build.testOutputDirectory}/log4j-surefire.properties&lt;/log4j.configuration&gt;\r\n\t\t\t&lt;/systemPropertyVariables&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;","title":"How to override log4j.properties during testing?","body":"<p>Rename your test configuration file to e.g. <code>log4j-surefire.properties</code> and configure log4j to pick it up during surefire execution:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.6&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;systemPropertyVariables&gt;\n            &lt;log4j.configuration&gt;file:${project.build.testOutputDirectory}/log4j-surefire.properties&lt;/log4j.configuration&gt;\n        &lt;/systemPropertyVariables&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"down_vote_count":2,"up_vote_count":4,"is_accepted":true,"score":2,"last_activity_date":1289025759,"creation_date":1288976382,"answer_id":4108178,"question_id":4106524,"body_markdown":"It should work as it is, and it works. The problem is somewhere else.\r\n\r\nps. I had a mess with loggers in my classpath: jog4j, slf4j, logback (from other dependencies). As I understand, all of them are in conflict. I didn&#39;t clean this mess yet, and I still don&#39;t know how to make all packages to use one logging facility and one configuration.","title":"How to override log4j.properties during testing?","body":"<p>It should work as it is, and it works. The problem is somewhere else.</p>\n\n<p>ps. I had a mess with loggers in my classpath: jog4j, slf4j, logback (from other dependencies). As I understand, all of them are in conflict. I didn't clean this mess yet, and I still don't know how to make all packages to use one logging facility and one configuration.</p>\n"},{"tags":[],"owner":{"account_id":2043806,"reputation":4771,"user_id":2118777,"display_name":"Pipo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644330184,"creation_date":1644330184,"answer_id":71035510,"question_id":4106524,"body_markdown":"Beware of changed version for that, with 2.17.1 of log4j at least, **you&#39;ll have to change it from** `log4j.configuration` **to** `log4j.configurationFile` to avoid having \r\n\r\n`ERROR StatusLogger Reconfiguration failed: No configuration found for &#39;18b4aac2&#39; at &#39;null&#39; in &#39;null&#39;`\r\n\r\nHere an example\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;!--\t\t\tDOC\thttp://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html --&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${maven.surefire.version}&lt;/version&gt;\r\n\t\t\t\t&lt;!-- enables java assertions for tests --&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;enableAssertions&gt;true&lt;/enableAssertions&gt;\r\n\t\t\t\t\t&lt;systemPropertyVariables&gt;\r\n\t\t\t\t\t\t&lt;log4j.configurationFile&gt;src/test/resources/log4j2_for_surefire.xml&lt;/log4j.configurationFile&gt;\r\n\t\t\t\t\t&lt;/systemPropertyVariables&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;","title":"How to override log4j.properties during testing?","body":"<p>Beware of changed version for that, with 2.17.1 of log4j at least, <strong>you'll have to change it from</strong> <code>log4j.configuration</code> <strong>to</strong> <code>log4j.configurationFile</code> to avoid having</p>\n<p><code>ERROR StatusLogger Reconfiguration failed: No configuration found for '18b4aac2' at 'null' in 'null'</code></p>\n<p>Here an example</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;!--            DOC http://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html --&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven.surefire.version}&lt;/version&gt;\n            &lt;!-- enables java assertions for tests --&gt;\n            &lt;configuration&gt;\n                &lt;enableAssertions&gt;true&lt;/enableAssertions&gt;\n                &lt;systemPropertyVariables&gt;\n                    &lt;log4j.configurationFile&gt;src/test/resources/log4j2_for_surefire.xml&lt;/log4j.configurationFile&gt;\n                &lt;/systemPropertyVariables&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18335,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":4108178,"answer_count":3,"score":18,"last_activity_date":1677288090,"creation_date":1288965573,"question_id":4106524,"body_markdown":"I&#39;m trying to log all `DEBUG` messages to console during testing in maven. For this purpose I created a file `src/test/resources/log4j.properties`, which is going to override the configuration I already have in `src/main/resources/log4j.properties`. Unfortunately such an overriding is not happening. Why and how to fix it?","title":"How to override log4j.properties during testing?","body":"<p>I'm trying to log all <code>DEBUG</code> messages to console during testing in maven. For this purpose I created a file <code>src/test/resources/log4j.properties</code>, which is going to override the configuration I already have in <code>src/main/resources/log4j.properties</code>. Unfortunately such an overriding is not happening. Why and how to fix it?</p>\n"},{"tags":["java","linux","tomcat","linux-kernel","tomcat8"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1521177211,"post_id":49313567,"comment_id":85628703,"body_markdown":"That error tells you that the file name you typed is incorrect. Check if you have a space after `tar` in the file name","body":"That error tells you that the file name you typed is incorrect. Check if you have a space after <code>tar</code> in the file name"},{"owner":{"account_id":11108389,"reputation":9,"user_id":8154942,"display_name":"Shubham Deshmukh"},"score":0,"creation_date":1521177581,"post_id":49313567,"comment_id":85628806,"body_markdown":"I copied it from name of file itself","body":"I copied it from name of file itself"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1521177869,"post_id":49313567,"comment_id":85628887,"body_markdown":"`apache-tomcat-8.5.29.tar: Cannot open: No such file or directory` means that the must have been `tar xzvf apache-tomcat-8.5.29.tar` or something like `tar xzvf apache-tomcat-8.5.29.tar .gz`. You only have to look close enough...","body":"<code>apache-tomcat-8.5.29.tar: Cannot open: No such file or directory</code> means that the must have been <code>tar xzvf apache-tomcat-8.5.29.tar</code> or something like <code>tar xzvf apache-tomcat-8.5.29.tar .gz</code>. You only have to look close enough..."},{"owner":{"account_id":11108389,"reputation":9,"user_id":8154942,"display_name":"Shubham Deshmukh"},"score":0,"creation_date":1521177999,"post_id":49313567,"comment_id":85628935,"body_markdown":"it is apache-tomcat-8.5.29.tar.gz","body":"it is apache-tomcat-8.5.29.tar.gz"}],"answers":[{"tags":[],"owner":{"account_id":13153169,"reputation":1,"user_id":9501088,"display_name":"Emmanuel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521179522,"creation_date":1521179522,"answer_id":49314021,"question_id":49313567,"body_markdown":"The error says:\r\n\r\ntar (child): **apache-tomcat-8.5.29.tar: Cannot open: No such file or directory**\r\n\r\nIt&#39;s means that the file name is incorrect or is not on the directory you are.\r\n\r\nTry this  \r\ntar xzvf /PATH_OF_THE_FILE/apache-tomcat-8.5.29.tar.gz \r\n\r\nalso check the name of the file you typed.","title":"How to install Tomcat8 tar.gz on Linux?","body":"<p>The error says:</p>\n\n<p>tar (child): <strong>apache-tomcat-8.5.29.tar: Cannot open: No such file or directory</strong></p>\n\n<p>It's means that the file name is incorrect or is not on the directory you are.</p>\n\n<p>Try this<br>\ntar xzvf /PATH_OF_THE_FILE/apache-tomcat-8.5.29.tar.gz </p>\n\n<p>also check the name of the file you typed.</p>\n"},{"tags":[],"owner":{"account_id":13153169,"reputation":1,"user_id":9501088,"display_name":"Emmanuel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521180465,"creation_date":1521180465,"answer_id":49314206,"question_id":49313567,"body_markdown":"when you extract the tar.gz file, you should see an output like this:\r\n\r\n    ...... (lot of information)\r\n    apache-tomcat-8.5.29/bin/configtest.sh\r\n    apache-tomcat-8.5.29/bin/daemon.sh\r\n    apache-tomcat-8.5.29/bin/digest.sh\r\n    apache-tomcat-8.5.29/bin/setclasspath.sh\r\n    apache-tomcat-8.5.29/bin/shutdown.sh\r\n    ......\r\n\r\nAnd a new directory must be created called **apache-tomcat-8.5.29**, now you only have to type the following command:\r\n\r\ncd apache-tomcat-8.5.29\r\n\r\nif you need to list it, then execute this\r\n\r\nls -l","title":"How to install Tomcat8 tar.gz on Linux?","body":"<p>when you extract the tar.gz file, you should see an output like this:</p>\n\n<pre><code>...... (lot of information)\napache-tomcat-8.5.29/bin/configtest.sh\napache-tomcat-8.5.29/bin/daemon.sh\napache-tomcat-8.5.29/bin/digest.sh\napache-tomcat-8.5.29/bin/setclasspath.sh\napache-tomcat-8.5.29/bin/shutdown.sh\n......\n</code></pre>\n\n<p>And a new directory must be created called <strong>apache-tomcat-8.5.29</strong>, now you only have to type the following command:</p>\n\n<p>cd apache-tomcat-8.5.29</p>\n\n<p>if you need to list it, then execute this</p>\n\n<p>ls -l</p>\n"},{"tags":[],"owner":{"account_id":11108389,"reputation":9,"user_id":8154942,"display_name":"Shubham Deshmukh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1521203609,"creation_date":1521182247,"answer_id":49314589,"question_id":49313567,"body_markdown":"Done:\r\n\r\n    sudo tar xvzf /opt/file_path/apache-tomcat-7.0.54.tar.gz -C /opt/extracted_folder_path --strip components=1--\r\n\r\nIt will extract tar file into extracted_folder_path.\r\n","title":"How to install Tomcat8 tar.gz on Linux?","body":"<p>Done:</p>\n\n<pre><code>sudo tar xvzf /opt/file_path/apache-tomcat-7.0.54.tar.gz -C /opt/extracted_folder_path --strip components=1--\n</code></pre>\n\n<p>It will extract tar file into extracted_folder_path.</p>\n"},{"tags":[],"owner":{"account_id":27785600,"reputation":21,"user_id":21213111,"display_name":"cristianpaul76"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677287769,"creation_date":1676940810,"answer_id":75515431,"question_id":49313567,"body_markdown":"Before unpack with command tar try this:\r\n```bash\r\nsudo chmod 777 ./apache-tomcat-8.5.85\r\n```\r\nyou need to perform this action before, because after download tar file is colored *red* and you need to make it *green*. You achive this result with `chmod 777` which change permission on the file.","title":"How to install Tomcat8 tar.gz on Linux?","body":"<p>Before unpack with command tar try this:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>sudo chmod 777 ./apache-tomcat-8.5.85\n</code></pre>\n<p>you need to perform this action before, because after download tar file is colored <em>red</em> and you need to make it <em>green</em>. You achive this result with <code>chmod 777</code> which change permission on the file.</p>\n"}],"owner":{"account_id":11108389,"reputation":9,"user_id":8154942,"display_name":"Shubham Deshmukh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1939,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49314589,"answer_count":4,"score":0,"last_activity_date":1677287769,"creation_date":1521176859,"question_id":49313567,"body_markdown":"JDK is already installed there.I have downloaded the apache-tomcat-8.5.29.tar.gz in /opt/tomcat. I want their folder structure webapps and all.\r\n\r\nExecuted the command `/path/tar xzvf apache-tomcat-8.5.29.tar.gz`, but now also there is tar file present. How do I get folders inside tomcat?\r\n","title":"How to install Tomcat8 tar.gz on Linux?","body":"<p>JDK is already installed there.I have downloaded the apache-tomcat-8.5.29.tar.gz in /opt/tomcat. I want their folder structure webapps and all.</p>\n\n<p>Executed the command <code>/path/tar xzvf apache-tomcat-8.5.29.tar.gz</code>, but now also there is tar file present. How do I get folders inside tomcat?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":23882,"reputation":86350,"user_id":60261,"accept_rate":81,"display_name":"Dan Lew"},"down_vote_count":0,"up_vote_count":69,"is_accepted":true,"score":69,"last_activity_date":1263480167,"creation_date":1263480167,"answer_id":2064852,"question_id":2064595,"body_markdown":"You need to use Resources to get the int array; however you&#39;re using the system resources, which only includes the standard Android resources (e.g., those accessible via `android.R.array.*`).  To get your own resources, you need to access the Resources via one of your Contexts.\r\n\r\nFor example, all Activities are Contexts, so in an Activity you can do this:\r\n\r\n    Resources r = getResources();\r\n    int[] bases = r.getIntArray(R.array.UserBases);\r\n\r\nThis is why it&#39;s often useful to pass around Context; you&#39;ll need it to get a hold of your application&#39;s Resources.","title":"Get an integer array from an xml resource in Android program","body":"<p>You need to use Resources to get the int array; however you're using the system resources, which only includes the standard Android resources (e.g., those accessible via <code>android.R.array.*</code>).  To get your own resources, you need to access the Resources via one of your Contexts.</p>\n\n<p>For example, all Activities are Contexts, so in an Activity you can do this:</p>\n\n<pre><code>Resources r = getResources();\nint[] bases = r.getIntArray(R.array.UserBases);\n</code></pre>\n\n<p>This is why it's often useful to pass around Context; you'll need it to get a hold of your application's Resources.</p>\n"},{"tags":[],"owner":{"account_id":21566602,"reputation":11,"user_id":15900260,"display_name":"M. AsadUllah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677286654,"creation_date":1676888259,"answer_id":75507959,"question_id":2064595,"body_markdown":"get an array from xml resources of android project can be accessed.\r\n\r\nfrom array.xml\r\n\r\n    &lt;string-array name=&quot;weather_values&quot;&gt;\r\n        &lt;item&gt;sunny&lt;/item&gt;\r\n        &lt;item&gt;cloudy&lt;/item&gt;\r\n        &lt;item&gt;rainy&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n\r\nin Activity\r\n\r\n    String[] stringsArray = getApplicationContext().getResources().getStringArray(R.array.weather_values);\r\n\r\nin Fragment\r\n\r\n    String[] stringsArray = getContext().getResources().getStringArray(R.array.weather_values);\r\n\r\nfor output in log\r\n\r\n    System.out.println(&quot;Array Values &quot; + Arrays.toString(stringsArray));\r\n\r\noutput is\r\n\r\n    I/System.out: Array Values [sunny, cloudy, rainy]","title":"Get an integer array from an xml resource in Android program","body":"<p>get an array from xml resources of android project can be accessed.</p>\n<p>from array.xml</p>\n<pre><code>&lt;string-array name=&quot;weather_values&quot;&gt;\n    &lt;item&gt;sunny&lt;/item&gt;\n    &lt;item&gt;cloudy&lt;/item&gt;\n    &lt;item&gt;rainy&lt;/item&gt;\n&lt;/string-array&gt;\n</code></pre>\n<p>in Activity</p>\n<pre><code>String[] stringsArray = getApplicationContext().getResources().getStringArray(R.array.weather_values);\n</code></pre>\n<p>in Fragment</p>\n<pre><code>String[] stringsArray = getContext().getResources().getStringArray(R.array.weather_values);\n</code></pre>\n<p>for output in log</p>\n<pre><code>System.out.println(&quot;Array Values &quot; + Arrays.toString(stringsArray));\n</code></pre>\n<p>output is</p>\n<pre><code>I/System.out: Array Values [sunny, cloudy, rainy]\n</code></pre>\n"}],"owner":{"account_id":74430,"reputation":554,"user_id":213884,"accept_rate":100,"display_name":"JERiv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57390,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":2064852,"answer_count":2,"score":26,"last_activity_date":1677286654,"creation_date":1263478152,"question_id":2064595,"body_markdown":"Just a quickie, \r\n\r\ni have an xml resource in res/values/integers.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;resources&gt;\r\n         &lt;integer-array name=&quot;UserBases&quot;&gt;\r\n              &lt;item&gt;2&lt;/item&gt;\r\n              &lt;item&gt;8&lt;/item&gt;\r\n              &lt;item&gt;10&lt;/item&gt;\r\n              &lt;item&gt;16&lt;/item&gt;\r\n         &lt;/integer-array&gt;\r\n    &lt;/resources&gt;\r\n\r\nand ive tried several things to access it:\r\n\r\n    int[] bases = R.array.UserBases;\r\n\r\nthis just returns and int reference to UserBases not the array itself\r\n\r\n    int[] bases = Resources.getSystem().getIntArray(R.array.UserBases);\r\n\r\nand this throws an exception back at me telling me the int reference R.array.UserBases points to nothing\r\n\r\nwhat is the best way to access this array, push it into a nice base-type int[] and then possibly push any modifications back into the xml resource.\r\n\r\nI&#39;ve checked the android documentation but I haven&#39;t found anything terribly fruitful.","title":"Get an integer array from an xml resource in Android program","body":"<p>Just a quickie, </p>\n\n<p>i have an xml resource in res/values/integers.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n     &lt;integer-array name=\"UserBases\"&gt;\n          &lt;item&gt;2&lt;/item&gt;\n          &lt;item&gt;8&lt;/item&gt;\n          &lt;item&gt;10&lt;/item&gt;\n          &lt;item&gt;16&lt;/item&gt;\n     &lt;/integer-array&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>and ive tried several things to access it:</p>\n\n<pre><code>int[] bases = R.array.UserBases;\n</code></pre>\n\n<p>this just returns and int reference to UserBases not the array itself</p>\n\n<pre><code>int[] bases = Resources.getSystem().getIntArray(R.array.UserBases);\n</code></pre>\n\n<p>and this throws an exception back at me telling me the int reference R.array.UserBases points to nothing</p>\n\n<p>what is the best way to access this array, push it into a nice base-type int[] and then possibly push any modifications back into the xml resource.</p>\n\n<p>I've checked the android documentation but I haven't found anything terribly fruitful.</p>\n"},{"tags":["java","file-rename"],"comments":[{"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"score":0,"creation_date":1346393985,"post_id":12209801,"comment_id":16354660,"body_markdown":"check Apache API for io, [FilenameUtils](http://commons.apache.org/io/api-1.4/org/apache/commons/io/FilenameUtils.html)","body":"check Apache API for io, <a href=\"http://commons.apache.org/io/api-1.4/org/apache/commons/io/FilenameUtils.html\" rel=\"nofollow noreferrer\">FilenameUtils</a>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1346393985,"post_id":12209801,"comment_id":16354661,"body_markdown":"I&#39;d start with reading [File.renameTo](http://docs.oracle.com/javase/7/docs/api/java/io/File.html#renameTo(java.io.File))","body":"I&#39;d start with reading <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/File.html#renameTo(java.io.File)\" rel=\"nofollow noreferrer\">File.renameTo</a>"},{"owner":{"account_id":1754862,"reputation":327,"user_id":1603140,"accept_rate":50,"display_name":"rahul0789"},"score":0,"creation_date":1346394411,"post_id":12209801,"comment_id":16354782,"body_markdown":"@Nandkumar: Thanks I think it will be some useful for me. But the problem seems that I may unzip the file anytime later(May be in another session). How to I preserve it&#39;s previous extension?","body":"@Nandkumar: Thanks I think it will be some useful for me. But the problem seems that I may unzip the file anytime later(May be in another session). How to I preserve it&#39;s previous extension?"},{"owner":{"account_id":1023850,"reputation":37494,"user_id":1033581,"accept_rate":66,"display_name":"Cœur"},"score":0,"creation_date":1541679865,"post_id":12209801,"comment_id":93303329,"body_markdown":"Possible duplicate of [Rename a file using Java](https://stackoverflow.com/questions/1158777/rename-a-file-using-java)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/1158777/rename-a-file-using-java\">Rename a file using Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":78500,"reputation":149064,"user_id":223386,"accept_rate":99,"display_name":"hsz"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1346394020,"creation_date":1346394020,"answer_id":12209877,"question_id":12209801,"body_markdown":"Try with:\r\n\r\n    File file  = new File(&quot;fileName.zip&quot;); // handler to your ZIP file\r\n    File file2 = new File(&quot;fileName.fileExtension&quot;); // destination dir of your file\r\n    boolean success = file.renameTo(file2);\r\n    if (success) {\r\n        // File has been renamed\r\n    }","title":"How to change file extension at runtime in Java","body":"<p>Try with:</p>\n\n<pre><code>File file  = new File(\"fileName.zip\"); // handler to your ZIP file\nFile file2 = new File(\"fileName.fileExtension\"); // destination dir of your file\nboolean success = file.renameTo(file2);\nif (success) {\n    // File has been renamed\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263210,"reputation":10980,"user_id":548634,"accept_rate":78,"display_name":"John Eipe"},"down_vote_count":2,"up_vote_count":17,"is_accepted":false,"score":15,"last_activity_date":1603643030,"creation_date":1346395010,"answer_id":12210064,"question_id":12209801,"body_markdown":"This is how I used to rename files or change its extension.\r\n\r\n    public static void modify(File file) \r\n        {\r\n            int index = file.getName().lastIndexOf(&quot;.&quot;);\r\n            //print filename\r\n            //System.out.println(file.getName().substring(0, index));\r\n            //print extension\r\n            //System.out.println(file.getName().substring(index));\r\n            String ext = file.getName().substring(index);\r\n            //use file.renameTo() to rename the file\r\n            file.renameTo(new File(&quot;Newname&quot;+ext));\r\n        }\r\n\r\n-------\r\n*edit*: John&#39;s method renames the file (keeping the extension). To change the extension do:\r\n\r\n    public static File changeExtension(File f, String newExtension) {\r\n      int i = f.getName().lastIndexOf(&#39;.&#39;);\r\n      String name = f.getName().substring(0,i);\r\n      return new File(f.getParent(), name + newExtension);\r\n    }\r\n\r\nThis changes only *the last extension* to a filename, i.e. the `.gz` part of `archive.tar.gz`. Therefore it works fine with Linux hidden files, for which the name starts with a `.`\r\nThis is quite safe because if `getParent()` returns `null` (i.e. in the event of the parent being the system root) it is &quot;cast&quot; to an empty String as the whole argument to the File constructor is evaluated first.\r\n\r\nThe only case where you will get a funny output is if you pass in a File representing the system root itself, in which case the `null` is prepended to the rest of the path string.","title":"How to change file extension at runtime in Java","body":"<p>This is how I used to rename files or change its extension.</p>\n<pre><code>public static void modify(File file) \n    {\n        int index = file.getName().lastIndexOf(&quot;.&quot;);\n        //print filename\n        //System.out.println(file.getName().substring(0, index));\n        //print extension\n        //System.out.println(file.getName().substring(index));\n        String ext = file.getName().substring(index);\n        //use file.renameTo() to rename the file\n        file.renameTo(new File(&quot;Newname&quot;+ext));\n    }\n</code></pre>\n<hr />\n<p><em>edit</em>: John's method renames the file (keeping the extension). To change the extension do:</p>\n<pre><code>public static File changeExtension(File f, String newExtension) {\n  int i = f.getName().lastIndexOf('.');\n  String name = f.getName().substring(0,i);\n  return new File(f.getParent(), name + newExtension);\n}\n</code></pre>\n<p>This changes only <em>the last extension</em> to a filename, i.e. the <code>.gz</code> part of <code>archive.tar.gz</code>. Therefore it works fine with Linux hidden files, for which the name starts with a <code>.</code>\nThis is quite safe because if <code>getParent()</code> returns <code>null</code> (i.e. in the event of the parent being the system root) it is &quot;cast&quot; to an empty String as the whole argument to the File constructor is evaluated first.</p>\n<p>The only case where you will get a funny output is if you pass in a File representing the system root itself, in which case the <code>null</code> is prepended to the rest of the path string.</p>\n"},{"tags":[],"owner":{"account_id":4320263,"reputation":45,"user_id":3528738,"display_name":"Pankaj"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1461717239,"creation_date":1461667091,"answer_id":36862487,"question_id":12209801,"body_markdown":"    FilenameUtils.getFullPathNoEndSeparator(doc.getDocLoc()) + &quot;/&quot; +\r\n         FilenameUtils.getBaseName(doc.getDocLoc()) + &quot;.xml&quot;","title":"How to change file extension at runtime in Java","body":"<pre><code>FilenameUtils.getFullPathNoEndSeparator(doc.getDocLoc()) + \"/\" +\n     FilenameUtils.getBaseName(doc.getDocLoc()) + \".xml\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10803609,"reputation":181,"user_id":7946646,"display_name":"JavaBohne"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1499675063,"creation_date":1499675063,"answer_id":45007123,"question_id":12209801,"body_markdown":"I would check, if the file has an extension before changing. The solution below works also with files without extension or multiple extensions\r\n\r\n    public File changeExtension(File file, String extension) {\r\n\t\tString filename = file.getName();\r\n\t\t\r\n\t\tif (filename.contains(&quot;.&quot;)) {\r\n\t\t\tfilename = filename.substring(0, filename.lastIndexOf(&#39;.&#39;));\r\n\t\t}\r\n\t\tfilename += &quot;.&quot; + extension;\r\n\r\n        file.renameTo(new File(file.getParentFile(), filename));\r\n\t\treturn file;\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void test() {\r\n\t\tassertThat(changeExtension(new File(&quot;C:/a/aaa.bbb.ccc&quot;), &quot;txt&quot;), \r\n\t\t\t\t\t\t\t\tis(new File(&quot;C:/a/aaa.bbb.txt&quot;)));\r\n\t\t\r\n\t\tassertThat(changeExtension(new File(&quot;C:/a/test&quot;), &quot;txt&quot;), \r\n\t\t\t\t\t\t\t\tis(new File(&quot;C:/a/test.txt&quot;)));\r\n\t}","title":"How to change file extension at runtime in Java","body":"<p>I would check, if the file has an extension before changing. The solution below works also with files without extension or multiple extensions</p>\n\n<pre><code>public File changeExtension(File file, String extension) {\n    String filename = file.getName();\n\n    if (filename.contains(\".\")) {\n        filename = filename.substring(0, filename.lastIndexOf('.'));\n    }\n    filename += \".\" + extension;\n\n    file.renameTo(new File(file.getParentFile(), filename));\n    return file;\n}\n\n@Test\npublic void test() {\n    assertThat(changeExtension(new File(\"C:/a/aaa.bbb.ccc\"), \"txt\"), \n                            is(new File(\"C:/a/aaa.bbb.txt\")));\n\n    assertThat(changeExtension(new File(\"C:/a/test\"), \"txt\"), \n                            is(new File(\"C:/a/test.txt\")));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677286501,"creation_date":1560475765,"answer_id":56590333,"question_id":12209801,"body_markdown":"By the same logic as mentioned [@hsz][1], but instead simply use replacement:\r\n\r\n    File file  = new File(&quot;fileName.fileExtension&quot;); // creating object of File \r\n    String str = file.getPath().replace(&quot;.fileExtension&quot;, &quot;.zip&quot;); // replacing extension to another \r\n    file.renameTo(new File(str)); \r\n    \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/12209877/8370915","title":"How to change file extension at runtime in Java","body":"<p>By the same logic as mentioned <a href=\"https://stackoverflow.com/a/12209877/8370915\">@hsz</a>, but instead simply use replacement:</p>\n<pre><code>File file  = new File(&quot;fileName.fileExtension&quot;); // creating object of File \nString str = file.getPath().replace(&quot;.fileExtension&quot;, &quot;.zip&quot;); // replacing extension to another \nfile.renameTo(new File(str)); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1332075,"reputation":179,"user_id":1275743,"display_name":"Mr. Lee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1577811845,"creation_date":1577810857,"answer_id":59546643,"question_id":12209801,"body_markdown":"I want to avoid the new extension just happening to be in the path or filename itself. I like a combination of java.nio and apache StringFilenameUtils.\r\n\r\n    public void changeExtension(Path file, String extension) throws IOException {\r\n        String newFilename = FilenameUtils.removeExtension(file.toString()) + EXTENSION_SEPARATOR_STR + extension;\r\n        Files.move(file, Paths.get(newFilename, StandardCopyOption.REPLACE_EXISTING));\r\n    }\r\n","title":"How to change file extension at runtime in Java","body":"<p>I want to avoid the new extension just happening to be in the path or filename itself. I like a combination of java.nio and apache StringFilenameUtils.</p>\n\n<pre><code>public void changeExtension(Path file, String extension) throws IOException {\n    String newFilename = FilenameUtils.removeExtension(file.toString()) + EXTENSION_SEPARATOR_STR + extension;\n    Files.move(file, Paths.get(newFilename, StandardCopyOption.REPLACE_EXISTING));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1850004,"reputation":3735,"user_id":1676736,"accept_rate":80,"display_name":"Sayed Abolfazl Fatemi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643544750,"creation_date":1643544750,"answer_id":70914512,"question_id":12209801,"body_markdown":"If you are using Kotlin you can use from this property of your `file` object:\r\n\r\n    file.nameWithoutExtension + &quot;extension&quot;","title":"How to change file extension at runtime in Java","body":"<p>If you are using Kotlin you can use from this property of your <code>file</code> object:</p>\n<pre><code>file.nameWithoutExtension + &quot;extension&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27216228,"reputation":15,"user_id":20746213,"display_name":"Abheek Kumar Sarangi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673121412,"creation_date":1673121412,"answer_id":75043376,"question_id":12209801,"body_markdown":"My firend was working on a zipper in Java some 4 months back, I got this code from him.\r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.zip.ZipEntry;\r\n    import java.util.zip.ZipOutputStream;\r\n\r\n    public class ZipFiles {\r\n    \r\n    List&lt;String&gt; filesListInDir = new ArrayList&lt;String&gt;();\r\n\r\n    public static void main(String[] args) {\r\n        File file = new File(&quot;/Users/pankaj/sitemap.xml&quot;);\r\n        String zipFileName = &quot;/Users/pankaj/sitemap.zip&quot;;\r\n        \r\n        File dir = new File(&quot;/Users/pankaj/tmp&quot;);\r\n        String zipDirName = &quot;/Users/pankaj/tmp.zip&quot;;\r\n        \r\n        zipSingleFile(file, zipFileName);\r\n        \r\n        ZipFiles zipFiles = new ZipFiles();\r\n        zipFiles.zipDirectory(dir, zipDirName);\r\n    }\r\n\r\n    /**\r\n     * This method zips the directory\r\n     * @param dir\r\n     * @param zipDirName\r\n     */\r\n    private void zipDirectory(File dir, String zipDirName) {\r\n        try {\r\n            populateFilesList(dir);\r\n            //now zip files one by one\r\n            //create ZipOutputStream to write to the zip file\r\n            FileOutputStream fos = new FileOutputStream(zipDirName);\r\n            ZipOutputStream zos = new ZipOutputStream(fos);\r\n            for(String filePath : filesListInDir){\r\n                \r\n       System.out.println(&quot;Zipping &quot;+filePath);\r\n                //for ZipEntry we need to keep only relative file path, so we used substring on absolute path\r\n                ZipEntry ze = new ZipEntry(filePath.substring(dir.getAbsolutePath().length()+1, filePath.length()));\r\n                zos.putNextEntry(ze);\r\n                //read the file and write to ZipOutputStream\r\n                FileInputStream fis = new FileInputStream(filePath);\r\n                byte[] buffer = new byte[1024];\r\n                int len;\r\n                while ((len = fis.read(buffer)) &gt; 0) {\r\n                    zos.write(buffer, 0, len);\r\n                }\r\n                zos.closeEntry();\r\n                fis.close();\r\n            }\r\n            zos.close();\r\n            fos.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n       }\r\n    \r\n    /**\r\n     * This method populates all the files in a directory to a List\r\n     * @param dir\r\n     * @throws IOException\r\n     */\r\n       private void populateFilesList(File dir) throws IOException {\r\n        File[] files = dir.listFiles();\r\n        for(File file : files){\r\n            if(file.isFile()) \r\n         filesListInDir.add(file.getAbsolutePath());\r\n            else \r\n     populateFilesList(file);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * This method compresses the single file to zip format\r\n     * @param file\r\n     * @param zipFileName\r\n     */\r\n    private static void zipSingleFile(File file, String zipFileName) {\r\n        try {\r\n            //create ZipOutputStream to write to the zip file\r\n            FileOutputStream fos = new FileOutputStream(zipFileName);\r\n            ZipOutputStream zos = new ZipOutputStream(fos);\r\n            //add a new Zip Entry to the ZipOutputStream\r\n            ZipEntry ze = new ZipEntry(file.getName());\r\n            zos.putNextEntry(ze);\r\n            //read the file and write to ZipOutputStream\r\n            FileInputStream fis = new FileInputStream(file);\r\n            byte[] buffer = new byte[1024];\r\n            int len;\r\n            while ((len = fis.read(buffer)) &gt; 0) {\r\n                zos.write(buffer, 0, len);\r\n            }\r\n            \r\n            //Close the zip entry to write to zip file\r\n            zos.closeEntry();\r\n            //Close resources\r\n            zos.close();\r\n            fis.close();\r\n            fos.close();\r\n            \r\n        System.out.println(file.getCanonicalPath()+&quot; is zipped to &quot;+zipFileName);\r\n            \r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n    }\r\n\r\nI haven&#39;t tried it personally, but he and also some of my other friends told me that it works.","title":"How to change file extension at runtime in Java","body":"<p>My firend was working on a zipper in Java some 4 months back, I got this code from him.</p>\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipOutputStream;\n\npublic class ZipFiles {\n\nList&lt;String&gt; filesListInDir = new ArrayList&lt;String&gt;();\n\npublic static void main(String[] args) {\n    File file = new File(&quot;/Users/pankaj/sitemap.xml&quot;);\n    String zipFileName = &quot;/Users/pankaj/sitemap.zip&quot;;\n    \n    File dir = new File(&quot;/Users/pankaj/tmp&quot;);\n    String zipDirName = &quot;/Users/pankaj/tmp.zip&quot;;\n    \n    zipSingleFile(file, zipFileName);\n    \n    ZipFiles zipFiles = new ZipFiles();\n    zipFiles.zipDirectory(dir, zipDirName);\n}\n\n/**\n * This method zips the directory\n * @param dir\n * @param zipDirName\n */\nprivate void zipDirectory(File dir, String zipDirName) {\n    try {\n        populateFilesList(dir);\n        //now zip files one by one\n        //create ZipOutputStream to write to the zip file\n        FileOutputStream fos = new FileOutputStream(zipDirName);\n        ZipOutputStream zos = new ZipOutputStream(fos);\n        for(String filePath : filesListInDir){\n            \n   System.out.println(&quot;Zipping &quot;+filePath);\n            //for ZipEntry we need to keep only relative file path, so we used substring on absolute path\n            ZipEntry ze = new ZipEntry(filePath.substring(dir.getAbsolutePath().length()+1, filePath.length()));\n            zos.putNextEntry(ze);\n            //read the file and write to ZipOutputStream\n            FileInputStream fis = new FileInputStream(filePath);\n            byte[] buffer = new byte[1024];\n            int len;\n            while ((len = fis.read(buffer)) &gt; 0) {\n                zos.write(buffer, 0, len);\n            }\n            zos.closeEntry();\n            fis.close();\n        }\n        zos.close();\n        fos.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n   }\n\n/**\n * This method populates all the files in a directory to a List\n * @param dir\n * @throws IOException\n */\n   private void populateFilesList(File dir) throws IOException {\n    File[] files = dir.listFiles();\n    for(File file : files){\n        if(file.isFile()) \n     filesListInDir.add(file.getAbsolutePath());\n        else \n populateFilesList(file);\n    }\n}\n\n/**\n * This method compresses the single file to zip format\n * @param file\n * @param zipFileName\n */\nprivate static void zipSingleFile(File file, String zipFileName) {\n    try {\n        //create ZipOutputStream to write to the zip file\n        FileOutputStream fos = new FileOutputStream(zipFileName);\n        ZipOutputStream zos = new ZipOutputStream(fos);\n        //add a new Zip Entry to the ZipOutputStream\n        ZipEntry ze = new ZipEntry(file.getName());\n        zos.putNextEntry(ze);\n        //read the file and write to ZipOutputStream\n        FileInputStream fis = new FileInputStream(file);\n        byte[] buffer = new byte[1024];\n        int len;\n        while ((len = fis.read(buffer)) &gt; 0) {\n            zos.write(buffer, 0, len);\n        }\n        \n        //Close the zip entry to write to zip file\n        zos.closeEntry();\n        //Close resources\n        zos.close();\n        fis.close();\n        fos.close();\n        \n    System.out.println(file.getCanonicalPath()+&quot; is zipped to &quot;+zipFileName);\n        \n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n}\n\n}\n</code></pre>\n<p>I haven't tried it personally, but he and also some of my other friends told me that it works.</p>\n"}],"owner":{"account_id":1754862,"reputation":327,"user_id":1603140,"accept_rate":50,"display_name":"rahul0789"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72779,"favorite_count":0,"down_vote_count":1,"up_vote_count":22,"answer_count":8,"score":21,"last_activity_date":1677286501,"creation_date":1346393604,"question_id":12209801,"body_markdown":"I am trying to implement program to zip and unzip a file. All I want to do is to zip a **file (fileName.fileExtension)** with name as **fileName.zip** and on unzipping change it again to **fileName.fileExtension**.\r\n","title":"How to change file extension at runtime in Java","body":"<p>I am trying to implement program to zip and unzip a file. All I want to do is to zip a <strong>file (fileName.fileExtension)</strong> with name as <strong>fileName.zip</strong> and on unzipping change it again to <strong>fileName.fileExtension</strong>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8354342,"reputation":76,"user_id":6275236,"display_name":"Roland J."},"score":0,"creation_date":1677219127,"post_id":75553124,"comment_id":133298275,"body_markdown":"Can you please provide a minimal, reproducible example? \nhttps://stackoverflow.com/help/minimal-reproducible-example","body":"Can you please provide a minimal, reproducible example?  <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1677222852,"post_id":75553124,"comment_id":133298901,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1677222891,"post_id":75553124,"comment_id":133298908,"body_markdown":"[Please add a minimal, complete, and verifiable example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Please add a minimal, complete, and verifiable example</a>"}],"answers":[{"tags":[],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1677220059,"creation_date":1677220059,"answer_id":75553237,"question_id":75553124,"body_markdown":"Seems that you have no `jakarta/xml/ws/WebServiceException` class definition in Java Runtime.\r\n\r\nStill, you managed to compile this, which means either this class is not needed during the compilation process (for instance loaded through `Class.forName`) or it is marked as compile time only. I do not know what build tool you are using, but it seems you need to put declare dependency like this for Maven:\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nOr like this for Gradle\r\n\r\n```\r\ncompile group: &#39;jakarta.xml.ws&#39;, name: &#39;jakarta.xml.ws-api&#39;, version: &#39;3.0.1&#39;\r\n```\r\n\r\nP.S: I have noticed the `jakarta` package, I&#39;m guessing you are in the process of transitioning from `javax` to `jakarta`, if so, you may find [this SO post][1] useful.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/72159654/migrate-from-javax-to-jakarta-ee","title":"Exception in thread &quot;Thread-9&quot; java.lang.NoClassDefFoundError: jakarta/xml/ws/WebServiceException","body":"<p>Seems that you have no <code>jakarta/xml/ws/WebServiceException</code> class definition in Java Runtime.</p>\n<p>Still, you managed to compile this, which means either this class is not needed during the compilation process (for instance loaded through <code>Class.forName</code>) or it is marked as compile time only. I do not know what build tool you are using, but it seems you need to put declare dependency like this for Maven:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Or like this for Gradle</p>\n<pre><code>compile group: 'jakarta.xml.ws', name: 'jakarta.xml.ws-api', version: '3.0.1'\n</code></pre>\n<p>P.S: I have noticed the <code>jakarta</code> package, I'm guessing you are in the process of transitioning from <code>javax</code> to <code>jakarta</code>, if so, you may find <a href=\"https://stackoverflow.com/questions/72159654/migrate-from-javax-to-jakarta-ee\">this SO post</a> useful.</p>\n"}],"owner":{"account_id":10836932,"reputation":3,"user_id":7969627,"display_name":"Shridhar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1324,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1677310865,"accepted_answer_id":75553237,"answer_count":1,"score":-2,"last_activity_date":1677285032,"creation_date":1677218869,"question_id":75553124,"body_markdown":"```\r\norg.apache.catalina.connector.RequestFacade@2f6791f5\r\nException in thread &quot;Thread-9&quot; java.lang.NoClassDefFoundError: jakarta/xml/ws/WebServiceException\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:315)\r\n\tat com.sun.xml.ws.encoding.SOAPBindingCodec.getFICodec(SOAPBindingCodec.java:491)\r\n\tat com.sun.xml.ws.encoding.SOAPBindingCodec.&lt;init&gt;(SOAPBindingCodec.java:183)\r\n\tat com.sun.xml.ws.encoding.SOAPBindingCodec.&lt;init&gt;(SOAPBindingCodec.java:164)\r\n\tat com.sun.xml.ws.api.pipe.Codecs.createSOAPBindingCodec(Codecs.java:73)\r\n\tat com.sun.xml.ws.api.message.MessageContextFactory.&lt;init&gt;(MessageContextFactory.java:96)\r\n\tat com.sun.xml.ws.api.message.MessageContextFactory.&lt;init&gt;(MessageContextFactory.java:82)\r\n\tat com.oracle.webservices.api.message.MessageContextFactory.&lt;clinit&gt;(MessageContextFactory.java:57)\r\n\tat com.sun.xml.ws.db.DatabindingImpl.&lt;init&gt;(DatabindingImpl.java:104)\r\n\tat com.sun.xml.ws.db.DatabindingProviderImpl.create(DatabindingProviderImpl.java:74)\r\n\tat com.sun.xml.ws.db.DatabindingProviderImpl.create(DatabindingProviderImpl.java:58)\r\n\tat com.sun.xml.ws.db.DatabindingFactoryImpl.createRuntime(DatabindingFactoryImpl.java:120)\r\n\tat com.sun.xml.ws.client.WSServiceDelegate.buildRuntimeModel(WSServiceDelegate.java:882)\r\n\tat com.sun.xml.ws.client.WSServiceDelegate.createSEIPortInfo(WSServiceDelegate.java:899)\r\n\tat com.sun.xml.ws.client.WSServiceDelegate.addSEI(WSServiceDelegate.java:862)\r\n\tat com.sun.xml.ws.client.WSServiceDelegate.getPort(WSServiceDelegate.java:451)\r\n\tat com.sun.xml.ws.client.WSServiceDelegate.getPort(WSServiceDelegate.java:420)\r\n\tat com.sun.xml.ws.client.WSServiceDelegate.getPort(WSServiceDelegate.java:402)\r\n\tat javax.xml.ws.Service.getPort(Service.java:169)\r\n\r\n```\r\nI&#39;m trying to run my Batch application  during this I want to connect to another application via some property file.","title":"Exception in thread &quot;Thread-9&quot; java.lang.NoClassDefFoundError: jakarta/xml/ws/WebServiceException","body":"<pre><code>org.apache.catalina.connector.RequestFacade@2f6791f5\nException in thread &quot;Thread-9&quot; java.lang.NoClassDefFoundError: jakarta/xml/ws/WebServiceException\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:315)\n    at com.sun.xml.ws.encoding.SOAPBindingCodec.getFICodec(SOAPBindingCodec.java:491)\n    at com.sun.xml.ws.encoding.SOAPBindingCodec.&lt;init&gt;(SOAPBindingCodec.java:183)\n    at com.sun.xml.ws.encoding.SOAPBindingCodec.&lt;init&gt;(SOAPBindingCodec.java:164)\n    at com.sun.xml.ws.api.pipe.Codecs.createSOAPBindingCodec(Codecs.java:73)\n    at com.sun.xml.ws.api.message.MessageContextFactory.&lt;init&gt;(MessageContextFactory.java:96)\n    at com.sun.xml.ws.api.message.MessageContextFactory.&lt;init&gt;(MessageContextFactory.java:82)\n    at com.oracle.webservices.api.message.MessageContextFactory.&lt;clinit&gt;(MessageContextFactory.java:57)\n    at com.sun.xml.ws.db.DatabindingImpl.&lt;init&gt;(DatabindingImpl.java:104)\n    at com.sun.xml.ws.db.DatabindingProviderImpl.create(DatabindingProviderImpl.java:74)\n    at com.sun.xml.ws.db.DatabindingProviderImpl.create(DatabindingProviderImpl.java:58)\n    at com.sun.xml.ws.db.DatabindingFactoryImpl.createRuntime(DatabindingFactoryImpl.java:120)\n    at com.sun.xml.ws.client.WSServiceDelegate.buildRuntimeModel(WSServiceDelegate.java:882)\n    at com.sun.xml.ws.client.WSServiceDelegate.createSEIPortInfo(WSServiceDelegate.java:899)\n    at com.sun.xml.ws.client.WSServiceDelegate.addSEI(WSServiceDelegate.java:862)\n    at com.sun.xml.ws.client.WSServiceDelegate.getPort(WSServiceDelegate.java:451)\n    at com.sun.xml.ws.client.WSServiceDelegate.getPort(WSServiceDelegate.java:420)\n    at com.sun.xml.ws.client.WSServiceDelegate.getPort(WSServiceDelegate.java:402)\n    at javax.xml.ws.Service.getPort(Service.java:169)\n\n</code></pre>\n<p>I'm trying to run my Batch application  during this I want to connect to another application via some property file.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1677285836,"post_id":75562516,"comment_id":133314128,"body_markdown":"Link to tutorial? Or at least a section of code and document which OpenCV library you are using? Otherwise there is https://developer.android.com/training/permissions/requesting and https://github.com/android/camera-samples","body":"Link to tutorial? Or at least a section of code and document which OpenCV library you are using? Otherwise there is <a href=\"https://developer.android.com/training/permissions/requesting\" rel=\"nofollow noreferrer\">developer.android.com/training/permissions/requesting</a> and <a href=\"https://github.com/android/camera-samples\" rel=\"nofollow noreferrer\">github.com/android/camera-samples</a>"}],"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677284550,"creation_date":1677284550,"question_id":75562516,"body_markdown":"I am following this tutorial to add opencv and camera support to a new app in Android Studio in Java using Android 11 and Pixel 4 as emulator\r\n\r\nI followed some comments and added \r\n\r\n`mOpenCvCameraView.setCameraPermissionGranted();`\r\n\r\n\r\nNow I get the error `It seems that your device does not support camera(or it is locked)`\r\n\r\nI found some solutions here https://stackoverflow.com/questions/20666366/it-seems-that-your-device-does-not-support-cameraor-it-is-locked but I don&#39;t know how to implement them\r\n\r\nI was able to do it by enabling the camera permissions manually in the emulator&#39;s phone settings for my app, however I would like it to request permissions on its own \r\n\r\nThe answer, `It means that on Android 23 or above, besides the manifest, you need to request permission on runtime as well. In this case, camera access.`\r\n\r\nWhere do I add this code? Is this even Java code? I am getting so many undefined errors when trying to paste it in the `OnCreate` function. \r\n\r\n","title":"Android Studio. It seems that your device does not support camera(or it is locked)","body":"<p>I am following this tutorial to add opencv and camera support to a new app in Android Studio in Java using Android 11 and Pixel 4 as emulator</p>\n<p>I followed some comments and added</p>\n<p><code>mOpenCvCameraView.setCameraPermissionGranted();</code></p>\n<p>Now I get the error <code>It seems that your device does not support camera(or it is locked)</code></p>\n<p>I found some solutions here <a href=\"https://stackoverflow.com/questions/20666366/it-seems-that-your-device-does-not-support-cameraor-it-is-locked\">It seems that your device does not support camera(or it is locked)</a> but I don't know how to implement them</p>\n<p>I was able to do it by enabling the camera permissions manually in the emulator's phone settings for my app, however I would like it to request permissions on its own</p>\n<p>The answer, <code>It means that on Android 23 or above, besides the manifest, you need to request permission on runtime as well. In this case, camera access.</code></p>\n<p>Where do I add this code? Is this even Java code? I am getting so many undefined errors when trying to paste it in the <code>OnCreate</code> function.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":4757943,"reputation":3604,"user_id":3846192,"accept_rate":87,"display_name":"Oleksandr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677284260,"creation_date":1677284260,"answer_id":75562495,"question_id":75536104,"body_markdown":"After a little bit of experimenting I found out that `ApplicationListener` on `ContextClosedEvent` will always be executed before any `@PreDestroy` method or any bean&#39;s `destroyMethod` is called. I.e. `onApplicationEvent(ContextClosedEvent event)` is always called first.\r\n\r\nAn example is:\r\n\r\n    @Component\r\n    public class PriorityShutdownListener implements ApplicationListener&lt;ContextClosedEvent&gt; {\r\n        \r\n        @Autowired\r\n        private Server grpcServer;\r\n        \r\n        /**\r\n         * This blocking code will be executed before any \r\n         * @PreDestroy method or bean&#39;s `destroyMethod` is called.\r\n         */\r\n        @Override\r\n        public void onApplicationEvent(ContextClosedEvent event) {\r\n            grpcServer.shutdown();\r\n            // don&#39;t forget to await for existing\r\n            // calls to finish before returning from this method\r\n        }\r\n    }\r\n\r\n","title":"How to register Springs SIGTERM graceful shutdown synchronous method before PreDestroy?","body":"<p>After a little bit of experimenting I found out that <code>ApplicationListener</code> on <code>ContextClosedEvent</code> will always be executed before any <code>@PreDestroy</code> method or any bean's <code>destroyMethod</code> is called. I.e. <code>onApplicationEvent(ContextClosedEvent event)</code> is always called first.</p>\n<p>An example is:</p>\n<pre><code>@Component\npublic class PriorityShutdownListener implements ApplicationListener&lt;ContextClosedEvent&gt; {\n    \n    @Autowired\n    private Server grpcServer;\n    \n    /**\n     * This blocking code will be executed before any \n     * @PreDestroy method or bean's `destroyMethod` is called.\n     */\n    @Override\n    public void onApplicationEvent(ContextClosedEvent event) {\n        grpcServer.shutdown();\n        // don't forget to await for existing\n        // calls to finish before returning from this method\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4757943,"reputation":3604,"user_id":3846192,"accept_rate":87,"display_name":"Oleksandr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75562495,"answer_count":1,"score":1,"last_activity_date":1677284260,"creation_date":1677086284,"question_id":75536104,"body_markdown":"Springs allows to register multiple pre-destroy hooks using `@PreDestroy` annotation which is useful to clear resources.   \r\nWe have multiple different modules where each module is related to a different database connection. In each of those modules we define destroy method for each of such database connection using either `@Bean(destroyMethod = &quot;shutdown&quot;)` or a separate method annotated with `@PreDestroy` for a more complex shutdown process.   \r\nWe also have multiple modules related to endpoints implementations (like modules for `gRPC` endpoints, `GraphQL` endpoints, `REST` endpoints).   \r\nWe want to add graceful shutdown process for applications using those endpoints. By graceful shutdown I mean the flow like below:  \r\n1. Shutdown endpoint servers first (i.e. reject any new connections, but await for the current connections to be finished). I.e. we need to shutdown and await for the shutdown process to be finished for the following endpoint servers: `gRPC`, `GraphQL`, `REST`.\r\n2. Only after step `1.` is fully finished we should trigger beans destruction methods (i.e. methods annotated with `@PreDestroy` and specified via `destroyMethod`).\r\n\r\nHow to correctly inject specific hook which is called before all other hooks for SIGTERM signal?   \r\n\r\nP.S. I assume that we might be using `@PreDestroy` incorrectly because the functionality we are looking for is `@PrePreDestroy` which sounds silly.\r\n\r\nSide note: `server.shutdown=graceful` isn&#39;t an option for us because we are using custom servers and not default embedded servers.  ","title":"How to register Springs SIGTERM graceful shutdown synchronous method before PreDestroy?","body":"<p>Springs allows to register multiple pre-destroy hooks using <code>@PreDestroy</code> annotation which is useful to clear resources.<br />\nWe have multiple different modules where each module is related to a different database connection. In each of those modules we define destroy method for each of such database connection using either <code>@Bean(destroyMethod = &quot;shutdown&quot;)</code> or a separate method annotated with <code>@PreDestroy</code> for a more complex shutdown process.<br />\nWe also have multiple modules related to endpoints implementations (like modules for <code>gRPC</code> endpoints, <code>GraphQL</code> endpoints, <code>REST</code> endpoints).<br />\nWe want to add graceful shutdown process for applications using those endpoints. By graceful shutdown I mean the flow like below:</p>\n<ol>\n<li>Shutdown endpoint servers first (i.e. reject any new connections, but await for the current connections to be finished). I.e. we need to shutdown and await for the shutdown process to be finished for the following endpoint servers: <code>gRPC</code>, <code>GraphQL</code>, <code>REST</code>.</li>\n<li>Only after step <code>1.</code> is fully finished we should trigger beans destruction methods (i.e. methods annotated with <code>@PreDestroy</code> and specified via <code>destroyMethod</code>).</li>\n</ol>\n<p>How to correctly inject specific hook which is called before all other hooks for SIGTERM signal?</p>\n<p>P.S. I assume that we might be using <code>@PreDestroy</code> incorrectly because the functionality we are looking for is <code>@PrePreDestroy</code> which sounds silly.</p>\n<p>Side note: <code>server.shutdown=graceful</code> isn't an option for us because we are using custom servers and not default embedded servers.</p>\n"},{"tags":["java","android-sqlite"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677284182,"creation_date":1677218112,"answer_id":75553062,"question_id":75552527,"body_markdown":"&gt; Is this a limitation of java String or SQLiteQueryBuilder/Cursor?\r\n\r\nNo, (as below)\r\n\r\n&gt; Is there a way around it or will I have to go lower level?\r\n\r\nThe device&#39;s locale or how the data is inserted would appear to be the issue (see following demo).\r\n\r\nConsider this variation on your code:-\r\n\r\n    void logValRetrieval() {\r\n        SQLiteQueryBuilder qb = new SQLiteQueryBuilder();\r\n        qb.setTables(TABLE_TEST);\r\n        Cursor csr = qb.query(this.getWritableDatabase(),new String[]{TEST_COL_V1,TEST_COL_V2,TEST_COL_V3,TEST_COL_V4,TEST_COL_V5,TEST_COL_V6},null,null,null,null,null);\r\n        int row_counter = 0;\r\n        while (csr.moveToNext()) {\r\n            row_counter++;\r\n            for (String c: csr.getColumnNames()) {\r\n\r\n                int idx = csr.getColumnIndex(c);\r\n                Log.d(\r\n                        &quot;ROW&quot; + row_counter, &quot;COLUMN IS &quot; + c\r\n                                + &quot;STR=&quot; + csr.getString(idx)\r\n                                + &quot;INT=&quot; + csr.getInt(idx)\r\n                                + &quot;DBL=&quot; + csr.getDouble(idx)\r\n                                + &quot;NUM=&quot; +  csr.getString(idx)\r\n                                + &quot;BLB=&quot; + csr.getBlob(idx)\r\n                                + &quot;OTH=&quot; + csr.getString(idx)\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\nAnd some invoking code:-\r\n\r\n        db = DBHelper.getInstance(this);\r\n\r\n        db.insert(&quot;The quick brown fox ....&quot;);\r\n        db.insert(&quot;Mary Anning’s Plesiosaur&quot;);\r\n        db.insert(&quot;~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-&quot;);\r\n        db.logValRetrieval();\r\n\r\nThe result output to the log being\r\n\r\n    2023-02-24 16:48:03.852 D/ROW1: COLUMN IS v1STR=The quick brown fox ....INT=0DBL=0.0NUM=The quick brown fox ....BLB=[B@98fd0f5OTH=The quick brown fox ....\r\n    2023-02-24 16:48:03.852 D/ROW1: COLUMN IS v2STR=The quick brown fox ....INT=0DBL=0.0NUM=The quick brown fox ....BLB=[B@664ce8aOTH=The quick brown fox ....\r\n    2023-02-24 16:48:03.852 D/ROW1: COLUMN IS v3STR=The quick brown fox ....INT=0DBL=0.0NUM=The quick brown fox ....BLB=[B@8962cfbOTH=The quick brown fox ....\r\n    2023-02-24 16:48:03.852 D/ROW1: COLUMN IS v4STR=The quick brown fox ....INT=0DBL=0.0NUM=The quick brown fox ....BLB=[B@ec7d118OTH=The quick brown fox ....\r\n    2023-02-24 16:48:03.852 D/ROW1: COLUMN IS v5STR=The quick brown fox ....INT=0DBL=0.0NUM=The quick brown fox ....BLB=[B@d598771OTH=The quick brown fox ....\r\n    2023-02-24 16:48:03.853 D/ROW1: COLUMN IS v6STR=The quick brown fox ....INT=0DBL=0.0NUM=The quick brown fox ....BLB=[B@8c94956OTH=The quick brown fox ....\r\n    2023-02-24 16:48:03.853 D/ROW2: COLUMN IS v1STR=Mary Anning’s PlesiosaurINT=0DBL=0.0NUM=Mary Anning’s PlesiosaurBLB=[B@909dd7OTH=Mary Anning’s Plesiosaur\r\n    2023-02-24 16:48:03.853 D/ROW2: COLUMN IS v2STR=Mary Anning’s PlesiosaurINT=0DBL=0.0NUM=Mary Anning’s PlesiosaurBLB=[B@8f4e6c4OTH=Mary Anning’s Plesiosaur\r\n    2023-02-24 16:48:03.853 D/ROW2: COLUMN IS v3STR=Mary Anning’s PlesiosaurINT=0DBL=0.0NUM=Mary Anning’s PlesiosaurBLB=[B@e2e29adOTH=Mary Anning’s Plesiosaur\r\n    2023-02-24 16:48:03.853 D/ROW2: COLUMN IS v4STR=Mary Anning’s PlesiosaurINT=0DBL=0.0NUM=Mary Anning’s PlesiosaurBLB=[B@328a4e2OTH=Mary Anning’s Plesiosaur\r\n    2023-02-24 16:48:03.853 D/ROW2: COLUMN IS v5STR=Mary Anning’s PlesiosaurINT=0DBL=0.0NUM=Mary Anning’s PlesiosaurBLB=[B@3574073OTH=Mary Anning’s Plesiosaur\r\n    2023-02-24 16:48:03.854 D/ROW2: COLUMN IS v6STR=Mary Anning’s PlesiosaurINT=0DBL=0.0NUM=Mary Anning’s PlesiosaurBLB=[B@dbbab30OTH=Mary Anning’s Plesiosaur\r\n    2023-02-24 16:48:03.854 D/ROW3: COLUMN IS v1STR=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-INT=0DBL=0.0NUM=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-BLB=[B@e30b3a9OTH=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-\r\n    2023-02-24 16:48:03.854 D/ROW3: COLUMN IS v2STR=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-INT=0DBL=0.0NUM=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-BLB=[B@f302d2eOTH=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-\r\n    2023-02-24 16:48:03.854 D/ROW3: COLUMN IS v3STR=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-INT=0DBL=0.0NUM=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-BLB=[B@4db70cfOTH=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-\r\n    2023-02-24 16:48:03.855 D/ROW3: COLUMN IS v4STR=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-INT=0DBL=0.0NUM=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-BLB=[B@ce84a5cOTH=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-\r\n    2023-02-24 16:48:03.855 D/ROW3: COLUMN IS v5STR=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-INT=0DBL=0.0NUM=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-BLB=[B@4b7e165OTH=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-\r\n    2023-02-24 16:48:03.855 D/ROW3: COLUMN IS v6STR=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-INT=0DBL=0.0NUM=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-BLB=[B@215ee3aOTH=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-\r\n\r\ni.e. No losses. Perhaps use App Inspection to view what data is stored e.g. for the above:-\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe full DBHelper code, in case you want to try it (if it works then the issue isn&#39;t the locale) :-\r\n\r\n    class DBHelper extends SQLiteOpenHelper {\r\n    \r\n        public static final String DATABASE_NAME = &quot;test.db&quot;;\r\n        public static final int DATABASE_VERSION = 1;\r\n        public static final  String TABLE_TEST = &quot;test&quot;;\r\n        public static final String TEST_COL_V1 = &quot;v1&quot;;\r\n        public static final String TEST_COL_V2 = &quot;v2&quot;;\r\n        public static final String TEST_COL_V3 = &quot;v3&quot;;\r\n        public static final String TEST_COL_V4 = &quot;v4&quot;;\r\n        public static final String TEST_COL_V5 = &quot;v5&quot;;\r\n        public static final String TEST_COL_V6 = &quot;v6&quot;;\r\n        private static final String TEST_CRTSQL = &quot;CREATE TABLE IF NOt EXISTS &quot; + TABLE_TEST + &quot;(&quot;\r\n                + TEST_COL_V1 +&quot; TEXT &quot;\r\n                + &quot;,&quot; + TEST_COL_V2 + &quot; INTEGER &quot;\r\n                + &quot;,&quot; + TEST_COL_V3 + &quot; REAL &quot;\r\n                + &quot;,&quot; + TEST_COL_V4 + &quot; NUMERIC&quot;\r\n                + &quot;,&quot; + TEST_COL_V5 + &quot; BLOB&quot;\r\n                + &quot;,&quot; + TEST_COL_V6 + &quot; ANOTHER&quot;\r\n                + &quot;)&quot;;\r\n    \r\n        private DBHelper(Context context) {\r\n            super(context,DATABASE_NAME,null,DATABASE_VERSION);\r\n        }\r\n    \r\n        private static DBHelper instance;\r\n        public static DBHelper getInstance(Context context) {\r\n            if (instance==null) {\r\n                instance = new DBHelper(context);\r\n            }\r\n            return instance;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(SQLiteDatabase db) {\r\n            db.execSQL(TEST_CRTSQL);\r\n        }\r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase db, int i, int i1) {\r\n    \r\n        }\r\n    \r\n        long insert(String val) {\r\n            ContentValues cv = new ContentValues();\r\n            cv.put(TEST_COL_V1,val);\r\n            cv.put(TEST_COL_V2,val);\r\n            cv.put(TEST_COL_V3,val);\r\n            cv.put(TEST_COL_V4,val);\r\n            cv.put(TEST_COL_V5,val);\r\n            cv.put(TEST_COL_V6,val);\r\n            return this.getWritableDatabase().insert(TABLE_TEST,null,cv);\r\n        }\r\n    \r\n        void logValRetrieval() {\r\n            SQLiteQueryBuilder qb = new SQLiteQueryBuilder();\r\n            qb.setTables(TABLE_TEST);\r\n            Cursor csr = qb.query(this.getWritableDatabase(),new String[]{TEST_COL_V1,TEST_COL_V2,TEST_COL_V3,TEST_COL_V4,TEST_COL_V5,TEST_COL_V6},null,null,null,null,null);\r\n            int row_counter = 0;\r\n            while (csr.moveToNext()) {\r\n                row_counter++;\r\n                for (String c: csr.getColumnNames()) {\r\n    \r\n                    int idx = csr.getColumnIndex(c);\r\n                    Log.d(\r\n                            &quot;ROW&quot; + row_counter, &quot;COLUMN IS &quot; + c\r\n                                    + &quot;STR=&quot; + csr.getString(idx)\r\n                                    + &quot;INT=&quot; + csr.getInt(idx)\r\n                                    + &quot;DBL=&quot; + csr.getDouble(idx)\r\n                                    + &quot;NUM=&quot; +  csr.getString(idx)\r\n                                    + &quot;BLB=&quot; + csr.getBlob(idx)\r\n                                    + &quot;OTH=&quot; + csr.getString(idx)\r\n                    );\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NApiW.png","title":"SQLiteQueryBuilder; cursor.getString() strips accents for characters","body":"<blockquote>\n<p>Is this a limitation of java String or SQLiteQueryBuilder/Cursor?</p>\n</blockquote>\n<p>No, (as below)</p>\n<blockquote>\n<p>Is there a way around it or will I have to go lower level?</p>\n</blockquote>\n<p>The device's locale or how the data is inserted would appear to be the issue (see following demo).</p>\n<p>Consider this variation on your code:-</p>\n<pre><code>void logValRetrieval() {\n    SQLiteQueryBuilder qb = new SQLiteQueryBuilder();\n    qb.setTables(TABLE_TEST);\n    Cursor csr = qb.query(this.getWritableDatabase(),new String[]{TEST_COL_V1,TEST_COL_V2,TEST_COL_V3,TEST_COL_V4,TEST_COL_V5,TEST_COL_V6},null,null,null,null,null);\n    int row_counter = 0;\n    while (csr.moveToNext()) {\n        row_counter++;\n        for (String c: csr.getColumnNames()) {\n\n            int idx = csr.getColumnIndex(c);\n            Log.d(\n                    &quot;ROW&quot; + row_counter, &quot;COLUMN IS &quot; + c\n                            + &quot;STR=&quot; + csr.getString(idx)\n                            + &quot;INT=&quot; + csr.getInt(idx)\n                            + &quot;DBL=&quot; + csr.getDouble(idx)\n                            + &quot;NUM=&quot; +  csr.getString(idx)\n                            + &quot;BLB=&quot; + csr.getBlob(idx)\n                            + &quot;OTH=&quot; + csr.getString(idx)\n            );\n        }\n    }\n}\n</code></pre>\n<p>And some invoking code:-</p>\n<pre><code>    db = DBHelper.getInstance(this);\n\n    db.insert(&quot;The quick brown fox ....&quot;);\n    db.insert(&quot;Mary Anning’s Plesiosaur&quot;);\n    db.insert(&quot;~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-&quot;);\n    db.logValRetrieval();\n</code></pre>\n<p>The result output to the log being</p>\n<pre><code>2023-02-24 16:48:03.852 D/ROW1: COLUMN IS v1STR=The quick brown fox ....INT=0DBL=0.0NUM=The quick brown fox ....BLB=[B@98fd0f5OTH=The quick brown fox ....\n2023-02-24 16:48:03.852 D/ROW1: COLUMN IS v2STR=The quick brown fox ....INT=0DBL=0.0NUM=The quick brown fox ....BLB=[B@664ce8aOTH=The quick brown fox ....\n2023-02-24 16:48:03.852 D/ROW1: COLUMN IS v3STR=The quick brown fox ....INT=0DBL=0.0NUM=The quick brown fox ....BLB=[B@8962cfbOTH=The quick brown fox ....\n2023-02-24 16:48:03.852 D/ROW1: COLUMN IS v4STR=The quick brown fox ....INT=0DBL=0.0NUM=The quick brown fox ....BLB=[B@ec7d118OTH=The quick brown fox ....\n2023-02-24 16:48:03.852 D/ROW1: COLUMN IS v5STR=The quick brown fox ....INT=0DBL=0.0NUM=The quick brown fox ....BLB=[B@d598771OTH=The quick brown fox ....\n2023-02-24 16:48:03.853 D/ROW1: COLUMN IS v6STR=The quick brown fox ....INT=0DBL=0.0NUM=The quick brown fox ....BLB=[B@8c94956OTH=The quick brown fox ....\n2023-02-24 16:48:03.853 D/ROW2: COLUMN IS v1STR=Mary Anning’s PlesiosaurINT=0DBL=0.0NUM=Mary Anning’s PlesiosaurBLB=[B@909dd7OTH=Mary Anning’s Plesiosaur\n2023-02-24 16:48:03.853 D/ROW2: COLUMN IS v2STR=Mary Anning’s PlesiosaurINT=0DBL=0.0NUM=Mary Anning’s PlesiosaurBLB=[B@8f4e6c4OTH=Mary Anning’s Plesiosaur\n2023-02-24 16:48:03.853 D/ROW2: COLUMN IS v3STR=Mary Anning’s PlesiosaurINT=0DBL=0.0NUM=Mary Anning’s PlesiosaurBLB=[B@e2e29adOTH=Mary Anning’s Plesiosaur\n2023-02-24 16:48:03.853 D/ROW2: COLUMN IS v4STR=Mary Anning’s PlesiosaurINT=0DBL=0.0NUM=Mary Anning’s PlesiosaurBLB=[B@328a4e2OTH=Mary Anning’s Plesiosaur\n2023-02-24 16:48:03.853 D/ROW2: COLUMN IS v5STR=Mary Anning’s PlesiosaurINT=0DBL=0.0NUM=Mary Anning’s PlesiosaurBLB=[B@3574073OTH=Mary Anning’s Plesiosaur\n2023-02-24 16:48:03.854 D/ROW2: COLUMN IS v6STR=Mary Anning’s PlesiosaurINT=0DBL=0.0NUM=Mary Anning’s PlesiosaurBLB=[B@dbbab30OTH=Mary Anning’s Plesiosaur\n2023-02-24 16:48:03.854 D/ROW3: COLUMN IS v1STR=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-INT=0DBL=0.0NUM=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-BLB=[B@e30b3a9OTH=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-\n2023-02-24 16:48:03.854 D/ROW3: COLUMN IS v2STR=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-INT=0DBL=0.0NUM=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-BLB=[B@f302d2eOTH=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-\n2023-02-24 16:48:03.854 D/ROW3: COLUMN IS v3STR=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-INT=0DBL=0.0NUM=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-BLB=[B@4db70cfOTH=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-\n2023-02-24 16:48:03.855 D/ROW3: COLUMN IS v4STR=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-INT=0DBL=0.0NUM=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-BLB=[B@ce84a5cOTH=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-\n2023-02-24 16:48:03.855 D/ROW3: COLUMN IS v5STR=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-INT=0DBL=0.0NUM=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-BLB=[B@4b7e165OTH=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-\n2023-02-24 16:48:03.855 D/ROW3: COLUMN IS v6STR=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-INT=0DBL=0.0NUM=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-BLB=[B@215ee3aOTH=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-\n</code></pre>\n<p>i.e. No losses. Perhaps use App Inspection to view what data is stored e.g. for the above:-</p>\n<p><a href=\"https://i.stack.imgur.com/NApiW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NApiW.png\" alt=\"enter image description here\" /></a></p>\n<p>The full DBHelper code, in case you want to try it (if it works then the issue isn't the locale) :-</p>\n<pre><code>class DBHelper extends SQLiteOpenHelper {\n\n    public static final String DATABASE_NAME = &quot;test.db&quot;;\n    public static final int DATABASE_VERSION = 1;\n    public static final  String TABLE_TEST = &quot;test&quot;;\n    public static final String TEST_COL_V1 = &quot;v1&quot;;\n    public static final String TEST_COL_V2 = &quot;v2&quot;;\n    public static final String TEST_COL_V3 = &quot;v3&quot;;\n    public static final String TEST_COL_V4 = &quot;v4&quot;;\n    public static final String TEST_COL_V5 = &quot;v5&quot;;\n    public static final String TEST_COL_V6 = &quot;v6&quot;;\n    private static final String TEST_CRTSQL = &quot;CREATE TABLE IF NOt EXISTS &quot; + TABLE_TEST + &quot;(&quot;\n            + TEST_COL_V1 +&quot; TEXT &quot;\n            + &quot;,&quot; + TEST_COL_V2 + &quot; INTEGER &quot;\n            + &quot;,&quot; + TEST_COL_V3 + &quot; REAL &quot;\n            + &quot;,&quot; + TEST_COL_V4 + &quot; NUMERIC&quot;\n            + &quot;,&quot; + TEST_COL_V5 + &quot; BLOB&quot;\n            + &quot;,&quot; + TEST_COL_V6 + &quot; ANOTHER&quot;\n            + &quot;)&quot;;\n\n    private DBHelper(Context context) {\n        super(context,DATABASE_NAME,null,DATABASE_VERSION);\n    }\n\n    private static DBHelper instance;\n    public static DBHelper getInstance(Context context) {\n        if (instance==null) {\n            instance = new DBHelper(context);\n        }\n        return instance;\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        db.execSQL(TEST_CRTSQL);\n    }\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int i, int i1) {\n\n    }\n\n    long insert(String val) {\n        ContentValues cv = new ContentValues();\n        cv.put(TEST_COL_V1,val);\n        cv.put(TEST_COL_V2,val);\n        cv.put(TEST_COL_V3,val);\n        cv.put(TEST_COL_V4,val);\n        cv.put(TEST_COL_V5,val);\n        cv.put(TEST_COL_V6,val);\n        return this.getWritableDatabase().insert(TABLE_TEST,null,cv);\n    }\n\n    void logValRetrieval() {\n        SQLiteQueryBuilder qb = new SQLiteQueryBuilder();\n        qb.setTables(TABLE_TEST);\n        Cursor csr = qb.query(this.getWritableDatabase(),new String[]{TEST_COL_V1,TEST_COL_V2,TEST_COL_V3,TEST_COL_V4,TEST_COL_V5,TEST_COL_V6},null,null,null,null,null);\n        int row_counter = 0;\n        while (csr.moveToNext()) {\n            row_counter++;\n            for (String c: csr.getColumnNames()) {\n\n                int idx = csr.getColumnIndex(c);\n                Log.d(\n                        &quot;ROW&quot; + row_counter, &quot;COLUMN IS &quot; + c\n                                + &quot;STR=&quot; + csr.getString(idx)\n                                + &quot;INT=&quot; + csr.getInt(idx)\n                                + &quot;DBL=&quot; + csr.getDouble(idx)\n                                + &quot;NUM=&quot; +  csr.getString(idx)\n                                + &quot;BLB=&quot; + csr.getBlob(idx)\n                                + &quot;OTH=&quot; + csr.getString(idx)\n                );\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4684334,"reputation":27,"user_id":3792167,"display_name":"tridiak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677284182,"creation_date":1677211566,"question_id":75552527,"body_markdown":"Problem with cursor.getString(). It strips the single quote and accented characters of their accent.&lt;br&gt;\r\nExample: Mary Anning’s Plesiosaur -&gt; Mary Annings Plesiosaur&lt;br&gt;\r\nKi Te Ao Mārama -&gt; Ki Te Ao Marama&lt;br&gt;\r\nThe strings are valid in the SQLite DB and iOS app I have reads them correctly.&lt;br&gt;\r\nIs this a limitation of java String or SQLiteQueryBuilder/Cursor?&lt;br&gt;\r\nIs there a way around it or will I have to go lower level?&lt;br&gt;\r\ngetBlob() returns ascii codes.&lt;br&gt;\r\n\r\n```\r\nSQLiteQueryBuilder qb = new SQLiteQueryBuilder();\r\n\r\nqb.setTables(&quot;art&quot;);\r\ncursor = qb.query(artDB, new String[] {&quot;name&quot;}, null, null, null, null, null);\r\nif (cursor == null) { closeDatabase(); return names;}\r\nif (cursor.getCount() &gt; 0) {\r\n\tcursor.moveToFirst();\r\n\tString s;\r\n\tdo {\r\n\t\ts = cursor.getString(0);\r\n\t\tbyte[] b = cursor.getBlob(0);\r\n\t\tString r = new String(b, StandardCharsets.);\r\n\t\tnames.add(s);\r\n\t} while (cursor.moveToNext());\r\n}\r\ncursor.close();\r\n```","title":"SQLiteQueryBuilder; cursor.getString() strips accents for characters","body":"<p>Problem with cursor.getString(). It strips the single quote and accented characters of their accent.<br>\nExample: Mary Anning’s Plesiosaur -&gt; Mary Annings Plesiosaur<br>\nKi Te Ao Mārama -&gt; Ki Te Ao Marama<br>\nThe strings are valid in the SQLite DB and iOS app I have reads them correctly.<br>\nIs this a limitation of java String or SQLiteQueryBuilder/Cursor?<br>\nIs there a way around it or will I have to go lower level?<br>\ngetBlob() returns ascii codes.<br></p>\n<pre><code>SQLiteQueryBuilder qb = new SQLiteQueryBuilder();\n\nqb.setTables(&quot;art&quot;);\ncursor = qb.query(artDB, new String[] {&quot;name&quot;}, null, null, null, null, null);\nif (cursor == null) { closeDatabase(); return names;}\nif (cursor.getCount() &gt; 0) {\n    cursor.moveToFirst();\n    String s;\n    do {\n        s = cursor.getString(0);\n        byte[] b = cursor.getBlob(0);\n        String r = new String(b, StandardCharsets.);\n        names.add(s);\n    } while (cursor.moveToNext());\n}\ncursor.close();\n</code></pre>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":6994749,"reputation":397,"user_id":5362755,"display_name":"Shivam Mohan"},"score":3,"creation_date":1580900481,"post_id":60074285,"comment_id":106247690,"body_markdown":"You can try checkstyle, failing the build will have to handled by your CI.","body":"You can try checkstyle, failing the build will have to handled by your CI."},{"owner":{"account_id":6138978,"reputation":2133,"user_id":4786956,"accept_rate":55,"display_name":"Antonio Dragos"},"score":0,"creation_date":1580900586,"post_id":60074285,"comment_id":106247759,"body_markdown":"@ShivamMohan With spotless we can run the `./gradlew spotlessCheck` command either locally or on the CI to verify if the code is formatted according to the standard","body":"@ShivamMohan With spotless we can run the <code>.&#47;gradlew spotlessCheck</code> command either locally or on the CI to verify if the code is formatted according to the standard"},{"owner":{"account_id":6994749,"reputation":397,"user_id":5362755,"display_name":"Shivam Mohan"},"score":0,"creation_date":1580900919,"post_id":60074285,"comment_id":106247951,"body_markdown":"You would have the same capability with checkstyle, in you IDE as well, what I meant was you will have to define quality gates in your CI, which if violated will fail the build or report accordingly.","body":"You would have the same capability with checkstyle, in you IDE as well, what I meant was you will have to define quality gates in your CI, which if violated will fail the build or report accordingly."}],"answers":[{"tags":[],"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677283209,"creation_date":1580904808,"answer_id":60075600,"question_id":60074285,"body_markdown":"&gt; I&#39;ve tried using Spotless, but the way it formats multiline statements is very unsatisfactory.\r\n\r\n\r\nSpotless allows you specify custom rules to fulfill your requirements: https://github.com/diffplug/spotless/tree/main/plugin-gradle#custom\r\n\r\n[Checkstyle](https://checkstyle.org/) is another a great tool to enforce formatting. It is used by the [Spring Framework](https://github.com/spring-io/spring-javaformat) team. It also has an [excellent plugin for IntelliJ](https://plugins.jetbrains.com/plugin/1065-checkstyle-idea).\r\n\r\nSo suggestion is either:\r\n\r\n1. Try writing custom rules for Spotless to fulfill your needs.\r\n2. If (1) is not satisfactory, explore using Checkstyle with custom checks.\r\n\r\n\r\n&gt;  If code is submitted that does not conform to the rules, the build should fail.\r\n\r\nThere are a couple ways you can handle this:\r\n\r\nWhichever format plugin you use, there is a associated `check` task. So for Spotless that would be `spotlessCheck` and Checkstyle is just `check`.\r\n\r\nYou can configure the `build` task to have a [task dependency](https://docs.gradle.org/current/userguide/more_about_tasks.html#sec:adding_dependencies_to_tasks) on those tasks.\r\n\r\nAnother way is to have a check in your pipeline that invokes which check task you configure.","title":"How can I enforce a standard style for Java code?","body":"<blockquote>\n<p>I've tried using Spotless, but the way it formats multiline statements is very unsatisfactory.</p>\n</blockquote>\n<p>Spotless allows you specify custom rules to fulfill your requirements: <a href=\"https://github.com/diffplug/spotless/tree/main/plugin-gradle#custom\" rel=\"nofollow noreferrer\">https://github.com/diffplug/spotless/tree/main/plugin-gradle#custom</a></p>\n<p><a href=\"https://checkstyle.org/\" rel=\"nofollow noreferrer\">Checkstyle</a> is another a great tool to enforce formatting. It is used by the <a href=\"https://github.com/spring-io/spring-javaformat\" rel=\"nofollow noreferrer\">Spring Framework</a> team. It also has an <a href=\"https://plugins.jetbrains.com/plugin/1065-checkstyle-idea\" rel=\"nofollow noreferrer\">excellent plugin for IntelliJ</a>.</p>\n<p>So suggestion is either:</p>\n<ol>\n<li>Try writing custom rules for Spotless to fulfill your needs.</li>\n<li>If (1) is not satisfactory, explore using Checkstyle with custom checks.</li>\n</ol>\n<blockquote>\n<p>If code is submitted that does not conform to the rules, the build should fail.</p>\n</blockquote>\n<p>There are a couple ways you can handle this:</p>\n<p>Whichever format plugin you use, there is a associated <code>check</code> task. So for Spotless that would be <code>spotlessCheck</code> and Checkstyle is just <code>check</code>.</p>\n<p>You can configure the <code>build</code> task to have a <a href=\"https://docs.gradle.org/current/userguide/more_about_tasks.html#sec:adding_dependencies_to_tasks\" rel=\"nofollow noreferrer\">task dependency</a> on those tasks.</p>\n<p>Another way is to have a check in your pipeline that invokes which check task you configure.</p>\n"}],"owner":{"account_id":6138978,"reputation":2133,"user_id":4786956,"accept_rate":55,"display_name":"Antonio Dragos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4331,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1677415852,"answer_count":1,"score":4,"last_activity_date":1677283209,"creation_date":1580900301,"question_id":60074285,"body_markdown":"I&#39;m trying to introduce a tool to standardise the format of our java code. The requirements are:\r\n\r\n - Required format should be the Oracle standard (or something very very similar)\r\n - Multiline statements should be respected, i.e. if the user adds linebreaks to split a statement over multiple lines in the interest of readability, these should not be removed (see above)\r\n - Gradle integration. If code is submitted that does not conform to the rules, the build should fail.\r\n - Autofixing - reformatting code to conform to the rules via a (Gradle) command\r\n - IDE integration - reformatting code to conform to the rules within IntelliJ, VSCode, etc. [EditorConfig][1] might be useful for this.\r\n\r\nI&#39;ve tried using Spotless, but the way it formats multiline statements is very unsatisfactory. For example, the following code\r\n\r\n    var token = Jwts.builder()\r\n            .signWith(Keys.hmacShaKeyFor(signingKey), SignatureAlgorithm.HS512)\r\n            .setHeaderParam(&quot;typ&quot;, SecurityConstants.TOKEN_TYPE)\r\n            .setIssuer(SecurityConstants.TOKEN_ISSUER)\r\n            .claim(&quot;rol&quot;, roles)\r\n            .setAudience(SecurityConstants.TOKEN_AUDIENCE)\r\n            .setSubject(user.getUsername())\r\n            .setExpiration(Timestamp.valueOf(tomorrow))\r\n            .addClaims(user.getClaims())\r\n            .compact();\r\n\r\nWill fail the Spotless checks and if ./gradlew spotlessApply is run, it will be reformatted to this hideous mess\r\n\r\n    var token = Jwts.builder().signWith(Keys.hmacShaKeyFor(signingKey), SignatureAlgorithm.HS512)\r\n            .setHeaderParam(&quot;typ&quot;, SecurityConstants.TOKEN_TYPE).setIssuer(SecurityConstants.TOKEN_ISSUER)\r\n            .claim(&quot;rol&quot;, roles).setAudience(SecurityConstants.TOKEN_AUDIENCE).setSubject(user.getUsername())\r\n            .setExpiration(Timestamp.valueOf(tomorrow)).addClaims(user.getClaims()).compact();\r\n\r\nSo effectively, Spotless is behaving almost like an obfuscator. Is there a tool available that can satisfy most/all of the above requirements?\r\n\r\n\r\n  [1]: https://editorconfig.org/","title":"How can I enforce a standard style for Java code?","body":"<p>I'm trying to introduce a tool to standardise the format of our java code. The requirements are:</p>\n\n<ul>\n<li>Required format should be the Oracle standard (or something very very similar)</li>\n<li>Multiline statements should be respected, i.e. if the user adds linebreaks to split a statement over multiple lines in the interest of readability, these should not be removed (see above)</li>\n<li>Gradle integration. If code is submitted that does not conform to the rules, the build should fail.</li>\n<li>Autofixing - reformatting code to conform to the rules via a (Gradle) command</li>\n<li>IDE integration - reformatting code to conform to the rules within IntelliJ, VSCode, etc. <a href=\"https://editorconfig.org/\" rel=\"nofollow noreferrer\">EditorConfig</a> might be useful for this.</li>\n</ul>\n\n<p>I've tried using Spotless, but the way it formats multiline statements is very unsatisfactory. For example, the following code</p>\n\n<pre><code>var token = Jwts.builder()\n        .signWith(Keys.hmacShaKeyFor(signingKey), SignatureAlgorithm.HS512)\n        .setHeaderParam(\"typ\", SecurityConstants.TOKEN_TYPE)\n        .setIssuer(SecurityConstants.TOKEN_ISSUER)\n        .claim(\"rol\", roles)\n        .setAudience(SecurityConstants.TOKEN_AUDIENCE)\n        .setSubject(user.getUsername())\n        .setExpiration(Timestamp.valueOf(tomorrow))\n        .addClaims(user.getClaims())\n        .compact();\n</code></pre>\n\n<p>Will fail the Spotless checks and if ./gradlew spotlessApply is run, it will be reformatted to this hideous mess</p>\n\n<pre><code>var token = Jwts.builder().signWith(Keys.hmacShaKeyFor(signingKey), SignatureAlgorithm.HS512)\n        .setHeaderParam(\"typ\", SecurityConstants.TOKEN_TYPE).setIssuer(SecurityConstants.TOKEN_ISSUER)\n        .claim(\"rol\", roles).setAudience(SecurityConstants.TOKEN_AUDIENCE).setSubject(user.getUsername())\n        .setExpiration(Timestamp.valueOf(tomorrow)).addClaims(user.getClaims()).compact();\n</code></pre>\n\n<p>So effectively, Spotless is behaving almost like an obfuscator. Is there a tool available that can satisfy most/all of the above requirements?</p>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":1,"creation_date":1639648726,"post_id":70376339,"comment_id":124404696,"body_markdown":"Why are you serializing a class whose structure can merely change from version to version or can be different between different JDK/JRE implementations breaking your design completely? You have no control over it at all. Gson, by design, uses reflection for objects it is not aware of (no special type adapters registered), thus it simply iterates through all object fields regardless they are public or private. Private stuff of a foreign library is never meant to be serialized like this. Never.","body":"Why are you serializing a class whose structure can merely change from version to version or can be different between different JDK/JRE implementations breaking your design completely? You have no control over it at all. Gson, by design, uses reflection for objects it is not aware of (no special type adapters registered), thus it simply iterates through all object fields regardless they are public or private. Private stuff of a foreign library is never meant to be serialized like this. Never."},{"owner":{"account_id":105578,"reputation":4431,"user_id":281657,"accept_rate":93,"display_name":"Malcolm Crum"},"score":0,"creation_date":1639677027,"post_id":70376339,"comment_id":124416180,"body_markdown":"We have two services. When A calls B, B can throw an exception. I serialize it and pass it back to A, so A can include it as the cause of the exception it throws. It&#39;s useful for investigating crashes; I didn&#39;t realise this was such a no-no.","body":"We have two services. When A calls B, B can throw an exception. I serialize it and pass it back to A, so A can include it as the cause of the exception it throws. It&#39;s useful for investigating crashes; I didn&#39;t realise this was such a no-no."},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":3,"creation_date":1639686378,"post_id":70376339,"comment_id":124419396,"body_markdown":"Yeah, I understand the purpose, but you need your own data transfer objects (DTO) to carry the exceptions data, so that your DTOs are fully controlled by you and you decide what data should be taken from exceptions that may have more private fields than I even think of (private fields, package-private or private classes, various references or circular references, etc). It will require some code to map from exes to DTOs (and then back to exes if necessary), but then you will never run into such issues using only public API of `Throwable`s.","body":"Yeah, I understand the purpose, but you need your own data transfer objects (DTO) to carry the exceptions data, so that your DTOs are fully controlled by you and you decide what data should be taken from exceptions that may have more private fields than I even think of (private fields, package-private or private classes, various references or circular references, etc). It will require some code to map from exes to DTOs (and then back to exes if necessary), but then you will never run into such issues using only public API of <code>Throwable</code>s."}],"answers":[{"tags":[],"owner":{"account_id":105578,"reputation":4431,"user_id":281657,"accept_rate":93,"display_name":"Malcolm Crum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641945322,"creation_date":1641945322,"answer_id":70674804,"question_id":70376339,"body_markdown":"Here&#39;s the code I added to de/serialize exceptions. This can be used in a class like this:\r\n\r\n```\r\npublic class Result {\r\n    public final Object result;\r\n    public final Error error;\r\n\r\n    public Result(Object result) { ... }\r\n\r\n    public Result(Exception e) {\r\n        this.result = null;\r\n        this.error = new Error(e);\r\n    }\r\n}\r\n```\r\n\r\nAnd the on the other, call `result.error.toThrowable()`.\r\n\r\n    public static class Error {\r\n        public final String message;\r\n        public final List&lt;STE&gt; stackTrace;\r\n        public final Error cause;\r\n\r\n        public Error(Throwable e) {\r\n            message = e.getMessage();\r\n            stackTrace = Arrays.stream(e.getStackTrace()).map(STE::new).collect(Collectors.toList());\r\n            cause = e.getCause() != null ? new Error(e.getCause()) : null;\r\n        }\r\n\r\n        public Throwable toThrowable() {\r\n            Throwable t = new Throwable(message);\r\n            t.setStackTrace(stackTrace.stream().map(STE::toStackTraceElement).toArray(StackTraceElement[]::new));\r\n            if (cause != null) {\r\n                t.initCause(cause.toThrowable());\r\n            }\r\n            return t;\r\n        }\r\n\r\n        private static class STE {\r\n            public final String declaringClass;\r\n            public final String methodName;\r\n            public final String fileName;\r\n            public final int    lineNumber;\r\n\r\n            public STE(StackTraceElement ste) {\r\n                this.declaringClass = ste.getClassName();\r\n                this.methodName = ste.getMethodName();\r\n                this.fileName = ste.getFileName();\r\n                this.lineNumber = ste.getLineNumber();\r\n            }\r\n\r\n            public StackTraceElement toStackTraceElement() {\r\n                return new StackTraceElement(declaringClass, methodName, fileName, lineNumber);\r\n            }\r\n        }\r\n    }\r\n","title":"GSON unable to serialize exception with Java 17","body":"<p>Here's the code I added to de/serialize exceptions. This can be used in a class like this:</p>\n<pre><code>public class Result {\n    public final Object result;\n    public final Error error;\n\n    public Result(Object result) { ... }\n\n    public Result(Exception e) {\n        this.result = null;\n        this.error = new Error(e);\n    }\n}\n</code></pre>\n<p>And the on the other, call <code>result.error.toThrowable()</code>.</p>\n<pre><code>public static class Error {\n    public final String message;\n    public final List&lt;STE&gt; stackTrace;\n    public final Error cause;\n\n    public Error(Throwable e) {\n        message = e.getMessage();\n        stackTrace = Arrays.stream(e.getStackTrace()).map(STE::new).collect(Collectors.toList());\n        cause = e.getCause() != null ? new Error(e.getCause()) : null;\n    }\n\n    public Throwable toThrowable() {\n        Throwable t = new Throwable(message);\n        t.setStackTrace(stackTrace.stream().map(STE::toStackTraceElement).toArray(StackTraceElement[]::new));\n        if (cause != null) {\n            t.initCause(cause.toThrowable());\n        }\n        return t;\n    }\n\n    private static class STE {\n        public final String declaringClass;\n        public final String methodName;\n        public final String fileName;\n        public final int    lineNumber;\n\n        public STE(StackTraceElement ste) {\n            this.declaringClass = ste.getClassName();\n            this.methodName = ste.getMethodName();\n            this.fileName = ste.getFileName();\n            this.lineNumber = ste.getLineNumber();\n        }\n\n        public StackTraceElement toStackTraceElement() {\n            return new StackTraceElement(declaringClass, methodName, fileName, lineNumber);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3895909,"reputation":151,"user_id":3224962,"display_name":"Matt McEwan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1644207792,"creation_date":1644207792,"answer_id":71013464,"question_id":70376339,"body_markdown":"I had this yesterday. I was using Java 17. I went back to Java 11 and it worked fine.\r\n\r\nI think it&#39;s because of this: https://bugs.openjdk.java.net/browse/JDK-8256358\r\n\r\nI am lazy and using the GSON default reflection type adapter.\r\n\r\nYou have to implement your own TypeAdapter to fix it. Or perhaps use another JSON deserializer like Jackson, which I might do later.\r\n","title":"GSON unable to serialize exception with Java 17","body":"<p>I had this yesterday. I was using Java 17. I went back to Java 11 and it worked fine.</p>\n<p>I think it's because of this: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8256358\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8256358</a></p>\n<p>I am lazy and using the GSON default reflection type adapter.</p>\n<p>You have to implement your own TypeAdapter to fix it. Or perhaps use another JSON deserializer like Jackson, which I might do later.</p>\n"},{"tags":[],"owner":{"account_id":10755509,"reputation":362,"user_id":7913588,"display_name":"Chameera W. Ashan"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1675230540,"creation_date":1675230540,"answer_id":75306118,"question_id":70376339,"body_markdown":"Try with the latest release. \r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n        &lt;version&gt;2.10.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n[https://mvnrepository.com/artifact/com.google.code.gson/gson][1]\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.google.code.gson/gson","title":"GSON unable to serialize exception with Java 17","body":"<p>Try with the latest release.</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;version&gt;2.10.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://mvnrepository.com/artifact/com.google.code.gson/gson\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.google.code.gson/gson</a></p>\n"}],"owner":{"account_id":105578,"reputation":4431,"user_id":281657,"accept_rate":93,"display_name":"Malcolm Crum"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9182,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":70674804,"answer_count":3,"score":8,"last_activity_date":1677283179,"creation_date":1639645449,"question_id":70376339,"body_markdown":"The following code used to work on Java 11:\r\n\r\n```\r\nnew Gson().toJson(new Exception())\r\n```\r\n\r\nOn JDK 17 I get the following error:\r\n\r\n```\r\nUnable to make field private java.lang.String java.lang.Throwable.detailMessage accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @147ed70f\r\n```\r\n\r\nFrom reading [this page][1], I think I could resolve it with `--add-opens java.base/java.lang=ALL-UNNAMED`. Is there a better way however? Perhaps with a custom de/serializer? \r\n\r\n\r\n  [1]: https://github.com/google/gson/issues/1875","title":"GSON unable to serialize exception with Java 17","body":"<p>The following code used to work on Java 11:</p>\n<pre><code>new Gson().toJson(new Exception())\n</code></pre>\n<p>On JDK 17 I get the following error:</p>\n<pre><code>Unable to make field private java.lang.String java.lang.Throwable.detailMessage accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @147ed70f\n</code></pre>\n<p>From reading <a href=\"https://github.com/google/gson/issues/1875\" rel=\"noreferrer\">this page</a>, I think I could resolve it with <code>--add-opens java.base/java.lang=ALL-UNNAMED</code>. Is there a better way however? Perhaps with a custom de/serializer?</p>\n"},{"tags":["java","android","bitmap","android-bitmap","android-graphics"],"owner":{"account_id":19598741,"reputation":1,"user_id":20757377,"display_name":"Yaroslav Zhuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677282106,"creation_date":1677282086,"question_id":75562352,"body_markdown":"How can I cut out a part of the bitmap, leaving its remnants in the original bitmap so I can lately use it for RenderEffect without rendering part I cut earlier? I tried to use canvas.clipRect() and canvas.clipOutRect() either after or before drawing rootView to Canvas. Unfortunaately it didn`t help","title":"Cutting out a part of Bitmap","body":"<p>How can I cut out a part of the bitmap, leaving its remnants in the original bitmap so I can lately use it for RenderEffect without rendering part I cut earlier? I tried to use canvas.clipRect() and canvas.clipOutRect() either after or before drawing rootView to Canvas. Unfortunaately it didn`t help</p>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677281807,"creation_date":1677281807,"answer_id":75562326,"question_id":75562282,"body_markdown":"If you want that constellation then your discriminator (`discr`) **MUST** be part of the ID `MyClassPK`.","title":"Duplicate identifier when trying to update objects in classes mapped using @DiscriminatorColumn / @DiscriminatorValue","body":"<p>If you want that constellation then your discriminator (<code>discr</code>) <strong>MUST</strong> be part of the ID <code>MyClassPK</code>.</p>\n"}],"owner":{"account_id":1408759,"reputation":11681,"user_id":1335801,"accept_rate":50,"display_name":"QuickFix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75562326,"answer_count":1,"score":0,"last_activity_date":1677281807,"creation_date":1677281319,"question_id":75562282,"body_markdown":"We have an application that uses spring and hibernate 5.2\r\n\r\nWe have a class MyAbstractClass :\r\n\r\n    @Entity\r\n    @Table(name = &quot;MYTABLE&quot;)\r\n    @DiscriminatorColumn(name = &quot;DISCR&quot;, discriminatorType = DiscriminatorType.STRING)\r\n    public abstract class MyAbstractClass extends PersistentEntity {\r\n    \r\n        @EmbeddedId\r\n        private MyClassPK myClassPK;\r\n    \r\n        @Column(name = &quot;label&quot;)\r\n        private String        label;\r\n    }\r\n\r\na class myClassPK\r\n\r\n    @Embeddable MyClassPK :\r\n    public class MyClassPK implements Serializable {\r\n    \r\n        @Column(name = &quot;key1&quot;)\r\n        @NotNull\r\n        private String key1;\r\n    \r\n        @Column(name = &quot;key2&quot;)\r\n        @NotNull\r\n        private String key2;\r\n    }\r\n\r\na class FirstChild\r\n\r\n    @Entity\r\n    @DiscriminatorValue(&quot;DI1&quot;)\r\n    @DiscriminatorOptions(force = true)\r\n    public class FirstChild extends MyAbstractClass {\r\n    }\r\n\r\nand a class SecondChild :\r\n\r\n    @Entity\r\n    @DiscriminatorValue(&quot;DI2&quot;)\r\n    @DiscriminatorOptions(force = true)\r\n    public class SecondChild extends MyAbstractClass {\r\n    }\r\n\r\nWe have a problem if we have two objects FirstChild a and SecondChild b having the same values for key1 and key2 : \r\nwe have a Duplicate identifier when we try to update one of them.\r\n\r\nIn database this would look like this :\r\n\r\n    key1|key2|discr |label     |\r\n    ----+----+------+----------+\r\n     A  | B  | DI1  |label 1   |\r\n     A  | B  | DI2  |label 2   |\r\n\r\n \r\nwhen we load an element, the generated query correctly refers the discriminator column but the discriminator column is missing in the update query :\r\n\r\n    update MYTABLE set LABEL=? where KEY1=? and KEY2=?\r\n\r\nWe beleive a correct query would be :\r\n\r\n    update MYTABLE set LABEL=? where KEY1=? and KEY2=? and DISCR=&#39;DI1&#39;\r\n\r\nWe&#39;ve read that hibernate only adds the modified columns to the update query but then how can we manage to update our objects without getting duplicate identifier exception?\r\n\r\n","title":"Duplicate identifier when trying to update objects in classes mapped using @DiscriminatorColumn / @DiscriminatorValue","body":"<p>We have an application that uses spring and hibernate 5.2</p>\n<p>We have a class MyAbstractClass :</p>\n<pre><code>@Entity\n@Table(name = &quot;MYTABLE&quot;)\n@DiscriminatorColumn(name = &quot;DISCR&quot;, discriminatorType = DiscriminatorType.STRING)\npublic abstract class MyAbstractClass extends PersistentEntity {\n\n    @EmbeddedId\n    private MyClassPK myClassPK;\n\n    @Column(name = &quot;label&quot;)\n    private String        label;\n}\n</code></pre>\n<p>a class myClassPK</p>\n<pre><code>@Embeddable MyClassPK :\npublic class MyClassPK implements Serializable {\n\n    @Column(name = &quot;key1&quot;)\n    @NotNull\n    private String key1;\n\n    @Column(name = &quot;key2&quot;)\n    @NotNull\n    private String key2;\n}\n</code></pre>\n<p>a class FirstChild</p>\n<pre><code>@Entity\n@DiscriminatorValue(&quot;DI1&quot;)\n@DiscriminatorOptions(force = true)\npublic class FirstChild extends MyAbstractClass {\n}\n</code></pre>\n<p>and a class SecondChild :</p>\n<pre><code>@Entity\n@DiscriminatorValue(&quot;DI2&quot;)\n@DiscriminatorOptions(force = true)\npublic class SecondChild extends MyAbstractClass {\n}\n</code></pre>\n<p>We have a problem if we have two objects FirstChild a and SecondChild b having the same values for key1 and key2 :\nwe have a Duplicate identifier when we try to update one of them.</p>\n<p>In database this would look like this :</p>\n<pre><code>key1|key2|discr |label     |\n----+----+------+----------+\n A  | B  | DI1  |label 1   |\n A  | B  | DI2  |label 2   |\n</code></pre>\n<p>when we load an element, the generated query correctly refers the discriminator column but the discriminator column is missing in the update query :</p>\n<pre><code>update MYTABLE set LABEL=? where KEY1=? and KEY2=?\n</code></pre>\n<p>We beleive a correct query would be :</p>\n<pre><code>update MYTABLE set LABEL=? where KEY1=? and KEY2=? and DISCR='DI1'\n</code></pre>\n<p>We've read that hibernate only adds the modified columns to the update query but then how can we manage to update our objects without getting duplicate identifier exception?</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":19402622,"reputation":119,"user_id":14188847,"display_name":"JustMe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677280939,"creation_date":1677280939,"answer_id":75562247,"question_id":75561929,"body_markdown":"You have launched your app without the Debugger attached. To launch with debugger hit the green bug icon next to the run icon while the app is stopped. Then a debugger will attach and you can use breakpoints!\r\n&lt;br/&gt;Docs/Reference: https://developer.android.com/studio/debug#startdebug","title":"Android studio not hitting breakpoints on emulator","body":"<p>You have launched your app without the Debugger attached. To launch with debugger hit the green bug icon next to the run icon while the app is stopped. Then a debugger will attach and you can use breakpoints!\n<br/>Docs/Reference: <a href=\"https://developer.android.com/studio/debug#startdebug\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/debug#startdebug</a></p>\n"}],"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75562247,"answer_count":1,"score":0,"last_activity_date":1677280939,"creation_date":1677277780,"question_id":75561929,"body_markdown":"I started with a clean installation and an Empty Activity with Java code\r\n\r\nI am following this tutorial \r\n\r\nhttps://medium.com/android-news/a-beginners-guide-to-setting-up-opencv-android-library-on-android-studio-19794e220f3c\r\n\r\nAs you can see, the breakpoint is never activated when running the application\r\n\r\nWhat is going on and how can I fix it? \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kTF8G.png","title":"Android studio not hitting breakpoints on emulator","body":"<p>I started with a clean installation and an Empty Activity with Java code</p>\n<p>I am following this tutorial</p>\n<p><a href=\"https://medium.com/android-news/a-beginners-guide-to-setting-up-opencv-android-library-on-android-studio-19794e220f3c\" rel=\"nofollow noreferrer\">https://medium.com/android-news/a-beginners-guide-to-setting-up-opencv-android-library-on-android-studio-19794e220f3c</a></p>\n<p>As you can see, the breakpoint is never activated when running the application</p>\n<p>What is going on and how can I fix it?</p>\n<p><a href=\"https://i.stack.imgur.com/kTF8G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kTF8G.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","sql","hibernate","hql"],"answers":[{"tags":[],"owner":{"account_id":454315,"reputation":27651,"user_id":851811,"accept_rate":100,"display_name":"Xavi L&#243;pez"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1677280093,"creation_date":1361800694,"answer_id":15068674,"question_id":15068597,"body_markdown":"Joins in HQL have a slightly different syntax. \r\n\r\nIf you&#39;ve already got those associations mapped with Hibernate, the join conditions (which `id` fields to do the join on) are usually handled by Hibernate itself (which already has that information defined in the mapping), so you only need to specify which attribute the association is mapped with, and do the join on it:  \r\n\r\n    SELECT op.username, op.email, orders.p_id, orders.o_id, product.listed_price \r\n    FROM Orders orders\r\n    INNER JOIN orders.orderProcessing as op\r\n    INNER JOIN orders.product as product \r\n    ORDER BY op.username\r\n\r\nIn the case you haven&#39;t got those associations mapped, you should probably use a cross join like syntax, and specify the join conditions in the `WHERE` clause. Please note this could have a negative impact on efficiency depending on your schema structure and DBMS.\r\n\r\n    SELECT op.username, op.email, orders.p_id, orders.o_id, product.listed_price\r\n    FROM Orders orders, OrderProcessing op, Product product\r\n    WHERE op.u_id = orders.u_id AND product.p_id = orders.p_id\r\n    ORDER BY op.username\r\n\r\nYou can find more information on HQL joins in the [14.3. Associations and joins](http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/queryhql.html#queryhql-joins) section of the Hibernate reference.","title":"Inner Joins Query in HQL","body":"<p>Joins in HQL have a slightly different syntax.</p>\n<p>If you've already got those associations mapped with Hibernate, the join conditions (which <code>id</code> fields to do the join on) are usually handled by Hibernate itself (which already has that information defined in the mapping), so you only need to specify which attribute the association is mapped with, and do the join on it:</p>\n<pre><code>SELECT op.username, op.email, orders.p_id, orders.o_id, product.listed_price \nFROM Orders orders\nINNER JOIN orders.orderProcessing as op\nINNER JOIN orders.product as product \nORDER BY op.username\n</code></pre>\n<p>In the case you haven't got those associations mapped, you should probably use a cross join like syntax, and specify the join conditions in the <code>WHERE</code> clause. Please note this could have a negative impact on efficiency depending on your schema structure and DBMS.</p>\n<pre><code>SELECT op.username, op.email, orders.p_id, orders.o_id, product.listed_price\nFROM Orders orders, OrderProcessing op, Product product\nWHERE op.u_id = orders.u_id AND product.p_id = orders.p_id\nORDER BY op.username\n</code></pre>\n<p>You can find more information on HQL joins in the <a href=\"http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/queryhql.html#queryhql-joins\" rel=\"nofollow noreferrer\">14.3. Associations and joins</a> section of the Hibernate reference.</p>\n"},{"tags":[],"owner":{"account_id":2328991,"reputation":1618,"user_id":2042841,"display_name":"Grim"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1387458798,"creation_date":1361800842,"answer_id":15068734,"question_id":15068597,"body_markdown":"Joins in HQL do not work like in SQL. You can either join on an association:\r\n\r\n    select order_1.code, item.code, item.quantity \r\n     from Order order_1 inner join order_1.item item;\r\n\r\nor use a multi-table select:\r\n\r\n    select order_1.code, item.code, item.quantity \r\n     from Order order_1, Item item where item.order=order_1;\r\n\r\neither syntax has advantages and disadvantages, so you should choose depending on situation.\r\n\r\nIt is worth noting that there is also an *implicit* notation, which might make unnecessary to use the join at all:\r\n\r\n    select item.order.code, item.code, item.quantity from Item item;\r\n\r\n","title":"Inner Joins Query in HQL","body":"<p>Joins in HQL do not work like in SQL. You can either join on an association:</p>\n\n<pre><code>select order_1.code, item.code, item.quantity \n from Order order_1 inner join order_1.item item;\n</code></pre>\n\n<p>or use a multi-table select:</p>\n\n<pre><code>select order_1.code, item.code, item.quantity \n from Order order_1, Item item where item.order=order_1;\n</code></pre>\n\n<p>either syntax has advantages and disadvantages, so you should choose depending on situation.</p>\n\n<p>It is worth noting that there is also an <em>implicit</em> notation, which might make unnecessary to use the join at all:</p>\n\n<pre><code>select item.order.code, item.code, item.quantity from Item item;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1980276,"reputation":8081,"user_id":1777072,"accept_rate":60,"display_name":"David Lavender"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1361805287,"creation_date":1361805287,"answer_id":15070171,"question_id":15068597,"body_markdown":"I suspect it is because `order` is a reserved word (as in `order by`). Try doing `FROM Orders o` instead.\r\n\r\nI think you&#39;ll have other problems too though.\r\n\r\nLook at what you are selecting (a bunch of random column values), and what you are expecting Hibernate to return you (`List&lt;Orders&gt;`). \r\n\r\nI expect you won&#39;t get back `List&lt;Orders&gt;` because the structure of your query will force hibernate into `SQL` mode instead of `HQL`. In this mode, you&#39;ll just get back a `List&lt;Object[]&gt;` where each `Object[]` is a set of those four columns you are selecting.\r\n\r\nThis link explains what you can expect to get back with different queries:\r\n\r\nhttp://www.laliluna.de/jpa-hibernate-guide/ch11s02.html\r\n","title":"Inner Joins Query in HQL","body":"<p>I suspect it is because <code>order</code> is a reserved word (as in <code>order by</code>). Try doing <code>FROM Orders o</code> instead.</p>\n\n<p>I think you'll have other problems too though.</p>\n\n<p>Look at what you are selecting (a bunch of random column values), and what you are expecting Hibernate to return you (<code>List&lt;Orders&gt;</code>). </p>\n\n<p>I expect you won't get back <code>List&lt;Orders&gt;</code> because the structure of your query will force hibernate into <code>SQL</code> mode instead of <code>HQL</code>. In this mode, you'll just get back a <code>List&lt;Object[]&gt;</code> where each <code>Object[]</code> is a set of those four columns you are selecting.</p>\n\n<p>This link explains what you can expect to get back with different queries:</p>\n\n<p><a href=\"http://www.laliluna.de/jpa-hibernate-guide/ch11s02.html\" rel=\"nofollow\">http://www.laliluna.de/jpa-hibernate-guide/ch11s02.html</a></p>\n"},{"tags":[],"owner":{"account_id":8875336,"reputation":44,"user_id":6627676,"display_name":"Mohamed Eldefrawy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666091405,"creation_date":1666091405,"answer_id":74109990,"question_id":15068597,"body_markdown":"I suggest using **Referencing Associated Entities**.\r\n\r\nIn SQL, you will often join tables together to search for results by related Entities. In JPQL, you can reference the value of associated Entities by accessing them directly as Entity attributes in the query.\r\n\r\n```\r\nprivate static final String FIND_ORDERS_WITH_PRODUCTS =\r\n       &quot;from Order o &quot; +\r\n       &quot;where :product member of o.products&quot;;\r\n```\r\n**Note that** Order is the entity class and products is the associated list.\r\n\r\nthen you can use it in your method like that:\r\n```\r\n\r\nList&lt;Order&gt; findOrders(Outfit o){\r\n   TypedQuery&lt;Order&gt; query = entityManager.createQuery(FIND_ORDERS_WITH_PRODUCTS, Order.class);\r\n   query.setParameter(&quot;outfit&quot;, o);\r\n   return query.getResultList();\r\n}\r\n```\r\n\r\n","title":"Inner Joins Query in HQL","body":"<p>I suggest using <strong>Referencing Associated Entities</strong>.</p>\n<p>In SQL, you will often join tables together to search for results by related Entities. In JPQL, you can reference the value of associated Entities by accessing them directly as Entity attributes in the query.</p>\n<pre><code>private static final String FIND_ORDERS_WITH_PRODUCTS =\n       &quot;from Order o &quot; +\n       &quot;where :product member of o.products&quot;;\n</code></pre>\n<p><strong>Note that</strong> Order is the entity class and products is the associated list.</p>\n<p>then you can use it in your method like that:</p>\n<pre><code>\nList&lt;Order&gt; findOrders(Outfit o){\n   TypedQuery&lt;Order&gt; query = entityManager.createQuery(FIND_ORDERS_WITH_PRODUCTS, Order.class);\n   query.setParameter(&quot;outfit&quot;, o);\n   return query.getResultList();\n}\n</code></pre>\n"}],"owner":{"display_name":"user1395824"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97303,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":4,"score":20,"last_activity_date":1677280093,"creation_date":1361800489,"question_id":15068597,"body_markdown":"I&#39;m unable to execute HQL for Inner Joins, Query is executing correct at sql but not in HQL.\r\nI don&#39;t know where i&#39;m missing. Your help is appreciable.\r\n\r\n     ***Error***: org.hibernate.hql.ast.QuerySyntaxError: unexpected token: ON near line 1, column 148 [SELECT op.username, op.email, orders.p_id, orders.o_id, product.listed_price FROM com.model.Orders  orders INNER JOIN orders.OrderProcessing as op ON op.u_id = orders.u_id INNER JOIN orders.Product as product ON product.p_id = orders.p_id WHERE product.p_id = &#39;208&#39; ORDER BY op.username]\r\n\r\n    productList = (List&lt;Orders&gt;) session.createQuery(\r\n     &quot;SELECT op.username, op.email, orders.p_id, orders.o_id, product.listed_price &quot; +  \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \r\n     &quot;FROM Orders orders &quot; +\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   \r\n     &quot;INNER JOIN orders.OrderProcessing as op &quot; +    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t    \r\n     &quot;ON op.u_id = orders.u_id &quot; +\t\t\t\t\t\t\t\t\t\t\t\t\t\t   \r\n     &quot;INNER JOIN orders.Product as product &quot; +\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t    \r\n     &quot;ON product.p_id = orders.p_id &quot; +\t\t\t\t\t\t\t\t\t\t\t\t\t\t   \r\n     &quot;WHERE product.p_id = &#39;&quot;+p_id +&quot;&#39; &quot; +\t\t\t\t\t\t\t\t\t\t\t\t\t\t   \r\n     &quot;ORDER BY op.username&quot;\r\n    ).list();","title":"Inner Joins Query in HQL","body":"<p>I'm unable to execute HQL for Inner Joins, Query is executing correct at sql but not in HQL.\nI don't know where i'm missing. Your help is appreciable.</p>\n\n<pre><code> ***Error***: org.hibernate.hql.ast.QuerySyntaxError: unexpected token: ON near line 1, column 148 [SELECT op.username, op.email, orders.p_id, orders.o_id, product.listed_price FROM com.model.Orders  orders INNER JOIN orders.OrderProcessing as op ON op.u_id = orders.u_id INNER JOIN orders.Product as product ON product.p_id = orders.p_id WHERE product.p_id = '208' ORDER BY op.username]\n\nproductList = (List&lt;Orders&gt;) session.createQuery(\n \"SELECT op.username, op.email, orders.p_id, orders.o_id, product.listed_price \" +                                                                               \n \"FROM Orders orders \" +                                                                   \n \"INNER JOIN orders.OrderProcessing as op \" +                                                                                       \n \"ON op.u_id = orders.u_id \" +                                                         \n \"INNER JOIN orders.Product as product \" +                                                              \n \"ON product.p_id = orders.p_id \" +                                                        \n \"WHERE product.p_id = '\"+p_id +\"' \" +                                                         \n \"ORDER BY op.username\"\n).list();\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data"],"comments":[{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":0,"creation_date":1608027807,"post_id":65303815,"comment_id":115450161,"body_markdown":"this will help https://stackoverflow.com/questions/57971278/connection-pool-size-with-postgres-r2dbc-pool","body":"this will help <a href=\"https://stackoverflow.com/questions/57971278/connection-pool-size-with-postgres-r2dbc-pool\" title=\"connection pool size with postgres r2dbc pool\">stackoverflow.com/questions/57971278/&hellip;</a>"},{"owner":{"account_id":20219476,"reputation":495,"user_id":14829384,"display_name":"meuhedet meuhedet"},"score":0,"creation_date":1608028965,"post_id":65303815,"comment_id":115450652,"body_markdown":"Failed to obtain R2DBC Connection; nested exception is java.net.UnknownHostException: failed to resolve &#39;Database&#39; after 10 queries","body":"Failed to obtain R2DBC Connection; nested exception is java.net.UnknownHostException: failed to resolve &#39;Database&#39; after 10 queries"},{"owner":{"account_id":3390279,"reputation":561,"user_id":2845245,"accept_rate":50,"display_name":"Karthik VU"},"score":0,"creation_date":1608031176,"post_id":65303815,"comment_id":115451614,"body_markdown":"Does this answer your question? [Connection pool size with postgres r2dbc-pool](https://stackoverflow.com/questions/57971278/connection-pool-size-with-postgres-r2dbc-pool)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/57971278/connection-pool-size-with-postgres-r2dbc-pool\">Connection pool size with postgres r2dbc-pool</a>"},{"owner":{"account_id":20219476,"reputation":495,"user_id":14829384,"display_name":"meuhedet meuhedet"},"score":0,"creation_date":1608031801,"post_id":65303815,"comment_id":115451888,"body_markdown":"Did not help: following error: Failed to obtain R2DBC Connection; nested exception is java.net.UnknownHostException: failed to resolve &#39;Database&#39; after 10 queries","body":"Did not help: following error: Failed to obtain R2DBC Connection; nested exception is java.net.UnknownHostException: failed to resolve &#39;Database&#39; after 10 queries"},{"owner":{"account_id":20105829,"reputation":1074,"user_id":14743390,"display_name":"Zinc"},"score":0,"creation_date":1608051146,"post_id":65303815,"comment_id":115461527,"body_markdown":"can you show your configuration ? the error tells that the host of connection is invalid","body":"can you show your configuration ? the error tells that the host of connection is invalid"},{"owner":{"account_id":20219476,"reputation":495,"user_id":14829384,"display_name":"meuhedet meuhedet"},"score":0,"creation_date":1608105361,"post_id":65303815,"comment_id":115477766,"body_markdown":"I edited. Connected with the same configuration to jdbc and it worked","body":"I edited. Connected with the same configuration to jdbc and it worked"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1608123194,"post_id":65303815,"comment_id":115485459,"body_markdown":"You are using Spring BOot, use that to configure R2DBC instead of manually providing a bean. Does it happen all the time or after a period of time? Looks like a connection leak to me.","body":"You are using Spring BOot, use that to configure R2DBC instead of manually providing a bean. Does it happen all the time or after a period of time? Looks like a connection leak to me."},{"owner":{"account_id":20219476,"reputation":495,"user_id":14829384,"display_name":"meuhedet meuhedet"},"score":0,"creation_date":1608125073,"post_id":65303815,"comment_id":115486290,"body_markdown":"So bassicly in my organisation i needed to configured another instance. Do you know guys if i can use R2DBC to read from database reactively when there is an insert in it?","body":"So bassicly in my organisation i needed to configured another instance. Do you know guys if i can use R2DBC to read from database reactively when there is an insert in it?"},{"owner":{"account_id":7321444,"reputation":68,"user_id":5577347,"display_name":"SeanFranklin"},"score":2,"creation_date":1611282631,"post_id":65303815,"comment_id":116407449,"body_markdown":"Any luck figuring this out? I am hitting the a very similar issue where it works with JDBC, but not with R2DBC using the exact same connection info. Although I am getting a connection timed out instead of a UnknownHostException","body":"Any luck figuring this out? I am hitting the a very similar issue where it works with JDBC, but not with R2DBC using the exact same connection info. Although I am getting a connection timed out instead of a UnknownHostException"}],"answers":[{"tags":[],"owner":{"account_id":16563569,"reputation":1,"user_id":12869909,"display_name":"Александр Мишин"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649929863,"creation_date":1649929863,"answer_id":71869661,"question_id":65303815,"body_markdown":"Do you use absolutely the same configuration?\r\nBecause if you are starting using R2DBC you should replace database URL: jdbc:postgresql://... -&gt; r2dbc:postgresql://","title":"Failed to obtain R2DBC Connection Java Spring","body":"<p>Do you use absolutely the same configuration?\nBecause if you are starting using R2DBC you should replace database URL: jdbc:postgresql://... -&gt; r2dbc:postgresql://</p>\n"},{"tags":[],"owner":{"account_id":3842177,"reputation":847,"user_id":3184937,"accept_rate":71,"display_name":"Anish Panthi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672942572,"creation_date":1672942572,"answer_id":75022733,"question_id":65303815,"body_markdown":"If anyone still looking for solution, I&#39;m adding solution below.\r\n\r\nFirst, make sure your database host is visible. By looking at your error statement which says -- `failed to resolve &#39;&#39; after 10 queries`, means it is empty `&#39;&#39;`. The way that you have defined the host name is not correct. If you are injecting the host value from properties, you might want to cross check that and then follow the steps below.\r\n\r\nIf you are configuring through YMLs, you can use below configurations:\r\n\r\n    spring:\r\n    \tdata:\r\n    \t\tr2dbc:\r\n    \t\t\trepositories:\r\n    \t\t\t\tenabled: true\r\n    \tr2dbc:\r\n    \t\turl: r2dbc:sqlserver://&lt;just_host&gt;:&lt;port&gt;\r\n    \t\tusername: &lt;db_username&gt;\r\n    \t\tpassword: &lt;db_password&gt;\r\n    \t\tname: &lt;db_name&gt;\r\n\r\n`spring.data.r2dbc.repositories.enabled: true` is optional here.\r\n\r\nIf you are creating custom bean, you can create bean like below. Please note that I&#39;m returning `ConnectionFactory` rather than `MssqlConnectionFactory`.\r\n\r\n    @Bean\r\n    public ConnectionFactory connectionFactory() {\r\n      return new MssqlConnectionFactory(\r\n          MssqlConnectionConfiguration.builder()\r\n              .host(&quot;just_host&quot;)\r\n              .database(&quot;db_name&quot;)\r\n              .port(1433)\r\n              .username(&quot;db_username&quot;)\r\n              .password(&quot;db_password&quot;)\r\n              .build());\r\n    }\r\n\r\n","title":"Failed to obtain R2DBC Connection Java Spring","body":"<p>If anyone still looking for solution, I'm adding solution below.</p>\n<p>First, make sure your database host is visible. By looking at your error statement which says -- <code>failed to resolve '' after 10 queries</code>, means it is empty <code>''</code>. The way that you have defined the host name is not correct. If you are injecting the host value from properties, you might want to cross check that and then follow the steps below.</p>\n<p>If you are configuring through YMLs, you can use below configurations:</p>\n<pre><code>spring:\n    data:\n        r2dbc:\n            repositories:\n                enabled: true\n    r2dbc:\n        url: r2dbc:sqlserver://&lt;just_host&gt;:&lt;port&gt;\n        username: &lt;db_username&gt;\n        password: &lt;db_password&gt;\n        name: &lt;db_name&gt;\n</code></pre>\n<p><code>spring.data.r2dbc.repositories.enabled: true</code> is optional here.</p>\n<p>If you are creating custom bean, you can create bean like below. Please note that I'm returning <code>ConnectionFactory</code> rather than <code>MssqlConnectionFactory</code>.</p>\n<pre><code>@Bean\npublic ConnectionFactory connectionFactory() {\n  return new MssqlConnectionFactory(\n      MssqlConnectionConfiguration.builder()\n          .host(&quot;just_host&quot;)\n          .database(&quot;db_name&quot;)\n          .port(1433)\n          .username(&quot;db_username&quot;)\n          .password(&quot;db_password&quot;)\n          .build());\n}\n</code></pre>\n"}],"owner":{"account_id":20219476,"reputation":495,"user_id":14829384,"display_name":"meuhedet meuhedet"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12463,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1677279795,"creation_date":1608027186,"question_id":65303815,"body_markdown":"I am getting following exeption connecting to Mssql Server.\r\n\r\n    &gt; org.springframework.dao.DataAccessResourceFailureException: Failed to obtain R2DBC Connection; nested exception is java.net.UnknownHostException: failed to resolve &#39;&#39; after 10 queries \r\n    \tat org.springframework.r2dbc.connection.ConnectionFactoryUtils.lambda$getConnection$0(ConnectionFactoryUtils.java:88) ~[spring-r2dbc-5.3.2.jar:5.3.2]\r\n    \tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\n    Error has been observed at the following site(s):\r\n    \t|_ checkpoint ⇢ Handler com.reactive.testreactive.controller.TestStreamController#findAll() [DispatcherHandler]\r\n    \t|_ checkpoint ⇢ HTTP GET &quot;/test&quot; [ExceptionHandlingWebHandler]\r\n\r\nI connected to JDBC with the same configuration in properties but having an issue while trying to connect to R2DBC. Happens on rest and not on starting an app.\r\n\r\n\r\n       @Bean\r\n    public MssqlConnectionFactory connectionFactory() {\r\n        return new MssqlConnectionFactory(MssqlConnectionConfiguration.builder()\r\n                .host(&quot;host&quot;)\r\n                .port(1433)\r\n                .database(&quot;DataBase&quot;)\r\n                .username(&quot;username&quot;)\r\n                .password(&quot;password&quot;)\r\n                .build());\r\n    }\r\n\r\n\r\n","title":"Failed to obtain R2DBC Connection Java Spring","body":"<p>I am getting following exeption connecting to Mssql Server.</p>\n<pre><code>&gt; org.springframework.dao.DataAccessResourceFailureException: Failed to obtain R2DBC Connection; nested exception is java.net.UnknownHostException: failed to resolve '' after 10 queries \n    at org.springframework.r2dbc.connection.ConnectionFactoryUtils.lambda$getConnection$0(ConnectionFactoryUtils.java:88) ~[spring-r2dbc-5.3.2.jar:5.3.2]\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n    |_ checkpoint ⇢ Handler com.reactive.testreactive.controller.TestStreamController#findAll() [DispatcherHandler]\n    |_ checkpoint ⇢ HTTP GET &quot;/test&quot; [ExceptionHandlingWebHandler]\n</code></pre>\n<p>I connected to JDBC with the same configuration in properties but having an issue while trying to connect to R2DBC. Happens on rest and not on starting an app.</p>\n<pre><code>   @Bean\npublic MssqlConnectionFactory connectionFactory() {\n    return new MssqlConnectionFactory(MssqlConnectionConfiguration.builder()\n            .host(&quot;host&quot;)\n            .port(1433)\n            .database(&quot;DataBase&quot;)\n            .username(&quot;username&quot;)\n            .password(&quot;password&quot;)\n            .build());\n}\n</code></pre>\n"},{"tags":["java","swing","model-view-controller","jbutton","actionlistener"],"comments":[{"owner":{"account_id":15008122,"reputation":53,"user_id":10833444,"display_name":"Pierre-max Halldegare"},"score":0,"creation_date":1545851774,"post_id":53934787,"comment_id":94712473,"body_markdown":"To be more clear i want to catch the action performed in my controller which come from a JButton in my view ...","body":"To be more clear i want to catch the action performed in my controller which come from a JButton in my view ..."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1545864039,"post_id":53934787,"comment_id":94715822,"body_markdown":"1) `catch (SQLException e) { }` Don&#39;t ignore exceptions! They inform us exactly what went wrong. Unless logging is implemented, at least call `Throwable.printStackTrace()` 2) For better help sooner, [edit] to add a [MCVE] or [Short, Self Contained, Correct Example](http://www.sscce.org/).","body":"1) <code>catch (SQLException e) { }</code> Don&#39;t ignore exceptions! They inform us exactly what went wrong. Unless logging is implemented, at least call <code>Throwable.printStackTrace()</code> 2) For better help sooner, <a href=\"https://stackoverflow.com/posts/53934787/edit\">edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or <a href=\"http://www.sscce.org/\" rel=\"nofollow noreferrer\">Short, Self Contained, Correct Example</a>."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1677280452,"post_id":53934787,"comment_id":133313453,"body_markdown":"Your `ActionListener` is one of the controllers.  It can modify the model and update the view.  Your SQL should be separated from your GUI code.","body":"Your <code>ActionListener</code> is one of the controllers.  It can modify the model and update the view.  Your SQL should be separated from your GUI code."}],"answers":[{"tags":[],"owner":{"account_id":10532049,"reputation":109,"user_id":18115206,"display_name":"DystD"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677278474,"creation_date":1677278474,"answer_id":75561994,"question_id":53934787,"body_markdown":"From an MVC perspective, the issue here is that **the Model and the View are mixed together**. Since the Controller is supposed to act as an intermediary between the two, it has no role here.\r\n\r\nThe **View**, presenting the GUI (windows, buttons, text fields, etc.) to the user, should (ideally, more on this later) tell the **Controller** when a delete button has been pressed and its corresponding id. Then the **Controller** should pass this info to the **Model** which, in turn, will carry out the communication with the database using its connection and prepared statements.\r\n\r\n-----\r\n\r\nHere&#39;s a good explanation on the MVC pattern:\r\n\r\n1. [Model-View-Controller: Does the user interact with the View or with the Controller?][1]\r\n\r\nNote (or maybe omit) that there&#39;s some controversy about different takes on the MVC pattern as shown in the different answers [here][2].\r\n\r\nThere is also a good answer on the topic of MVC in Swing here:\r\n\r\n2. [Java and GUI - Where do ActionListeners belong according to MVC pattern?][3]\r\n\r\nAlthough the example given may be a little complex as the author tries to more strictly separate View and Controller. I&#39;d go on and read the comments as well since they add further clarification.\r\n\r\nI tried finding a simpler example but most didn&#39;t include action listeners. Here&#39;s a couple that do:\r\n\r\n3. a) https://gist.github.com/Sammy30/7ebc606e7bb76cefac0f\r\n\r\n   b) http://www.fredosaurus.com/notes-java/GUI/structure/40mvc.html\r\n\r\nThe action listeners get added from the Controller unlike the first example linked. It&#39;s simpler but has the disadvantage of having Controller and View intertwined, which doesn&#39;t allow switching the latter easily (i.e., without modifying the Controller), which is one of the [advantages of MVC][4].\r\n\r\n-----\r\n\r\nThe steps would be:\r\n\r\nPreparation:\r\n1. The View and Model get created (the Model may set its connection to the database now)\r\n2. The Controller gets created with instances of the View and Model as properties\r\n3. The Controller gets ready by setting action listeners in the View (or tells the View to set them, in which case the View should contact the Controller whenever an event happens)\r\n\r\nUsage:\r\n\r\n4. The user presses a button in the View\r\n5. The Controller notices the button press through its action listener (or the View tells the Controller which button has been pressed)\r\n6. The Controller decides what to do with the event. In this case, tell the Model that a record needs to be [deleted][5]\r\n7. The Model receives the order and modifies the database, and [returns a value][6] with the updated rows count\r\n8. The Model [closes the ResultSet, Statement, and Connection][7]\r\n\r\n[1]: https://softwareengineering.stackexchange.com/q/234116\r\n[2]: https://stackoverflow.com/questions/2056/what-are-mvp-and-mvc-and-what-is-the-difference\r\n[3]: https://stackoverflow.com/a/26518274/18115206\r\n[4]: https://www.geeksforgeeks.org/benefit-of-using-mvc/\r\n[5]: https://www.w3schools.com/sql/sql_delete.asp\r\n[6]: https://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html\r\n[7]: https://stackoverflow.com/a/2225275/18115206","title":"About JButton listener with controller and view","body":"<p>From an MVC perspective, the issue here is that <strong>the Model and the View are mixed together</strong>. Since the Controller is supposed to act as an intermediary between the two, it has no role here.</p>\n<p>The <strong>View</strong>, presenting the GUI (windows, buttons, text fields, etc.) to the user, should (ideally, more on this later) tell the <strong>Controller</strong> when a delete button has been pressed and its corresponding id. Then the <strong>Controller</strong> should pass this info to the <strong>Model</strong> which, in turn, will carry out the communication with the database using its connection and prepared statements.</p>\n<hr />\n<p>Here's a good explanation on the MVC pattern:</p>\n<ol>\n<li><a href=\"https://softwareengineering.stackexchange.com/q/234116\">Model-View-Controller: Does the user interact with the View or with the Controller?</a></li>\n</ol>\n<p>Note (or maybe omit) that there's some controversy about different takes on the MVC pattern as shown in the different answers <a href=\"https://stackoverflow.com/questions/2056/what-are-mvp-and-mvc-and-what-is-the-difference\">here</a>.</p>\n<p>There is also a good answer on the topic of MVC in Swing here:</p>\n<ol start=\"2\">\n<li><a href=\"https://stackoverflow.com/a/26518274/18115206\">Java and GUI - Where do ActionListeners belong according to MVC pattern?</a></li>\n</ol>\n<p>Although the example given may be a little complex as the author tries to more strictly separate View and Controller. I'd go on and read the comments as well since they add further clarification.</p>\n<p>I tried finding a simpler example but most didn't include action listeners. Here's a couple that do:</p>\n<ol start=\"3\">\n<li><p>a) <a href=\"https://gist.github.com/Sammy30/7ebc606e7bb76cefac0f\" rel=\"nofollow noreferrer\">https://gist.github.com/Sammy30/7ebc606e7bb76cefac0f</a></p>\n<p>b) <a href=\"http://www.fredosaurus.com/notes-java/GUI/structure/40mvc.html\" rel=\"nofollow noreferrer\">http://www.fredosaurus.com/notes-java/GUI/structure/40mvc.html</a></p>\n</li>\n</ol>\n<p>The action listeners get added from the Controller unlike the first example linked. It's simpler but has the disadvantage of having Controller and View intertwined, which doesn't allow switching the latter easily (i.e., without modifying the Controller), which is one of the <a href=\"https://www.geeksforgeeks.org/benefit-of-using-mvc/\" rel=\"nofollow noreferrer\">advantages of MVC</a>.</p>\n<hr />\n<p>The steps would be:</p>\n<p>Preparation:</p>\n<ol>\n<li>The View and Model get created (the Model may set its connection to the database now)</li>\n<li>The Controller gets created with instances of the View and Model as properties</li>\n<li>The Controller gets ready by setting action listeners in the View (or tells the View to set them, in which case the View should contact the Controller whenever an event happens)</li>\n</ol>\n<p>Usage:</p>\n<ol start=\"4\">\n<li>The user presses a button in the View</li>\n<li>The Controller notices the button press through its action listener (or the View tells the Controller which button has been pressed)</li>\n<li>The Controller decides what to do with the event. In this case, tell the Model that a record needs to be <a href=\"https://www.w3schools.com/sql/sql_delete.asp\" rel=\"nofollow noreferrer\">deleted</a></li>\n<li>The Model receives the order and modifies the database, and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html\" rel=\"nofollow noreferrer\">returns a value</a> with the updated rows count</li>\n<li>The Model <a href=\"https://stackoverflow.com/a/2225275/18115206\">closes the ResultSet, Statement, and Connection</a></li>\n</ol>\n"}],"owner":{"account_id":15008122,"reputation":53,"user_id":10833444,"display_name":"Pierre-max Halldegare"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677278474,"creation_date":1545843017,"question_id":53934787,"body_markdown":"I&#39;m doing a Swing app in Java with a database. I got different `JButton` which delete, add or modified row in a `JTable`. \r\n\r\nI&#39;m stuck because I don&#39;t know where I can manage my action listener.\r\n\r\nI have a class named `DaoClef` where I will execute an SQL statement, send my table model etc...\r\n\r\nI got a view where all my button are set but I don&#39;t know what to do in my controller. \r\n\r\nFor now I got this in the view: \r\n\r\n    \tbtnNew.addActionListener(new ActionListener() {\r\n\r\n\t\t    @Override\r\n\t\t    public void actionPerformed(ActionEvent arg0) {\r\n\t\t        // check for selected row first\r\n\t\t        if (t.getSelectedRow() != -1) {\r\n\t\t            // remove selected row from the model\r\n\t\t        \t\r\n\t\t        \tString sqlMaj = &quot;DELETE FROM clefs WHERE IdClef = ?&quot;;\r\n\t\t\t\t\ttry (PreparedStatement pst = Connect.getConnection().prepareStatement(sqlMaj) )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tpst.setInt(1, (int) t.getValueAt(t.getSelectedRow(), 0));\t\r\n\t\t\t\t\t\tpst.executeUpdate();\r\n\t\t\t\t\t\tt.addNotify();\r\n\t\t\t\t\t} \r\n\t\t\t\t\tcatch (SQLException e)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t}\r\n\t\t        }\r\n\t\t    }\r\n\t\t});\r\n\r\nBut it&#39;s not good because the SQL statement need to be execute in a method in the controller. \r\n\r\nCan you give me some clues?","title":"About JButton listener with controller and view","body":"<p>I'm doing a Swing app in Java with a database. I got different <code>JButton</code> which delete, add or modified row in a <code>JTable</code>. </p>\n\n<p>I'm stuck because I don't know where I can manage my action listener.</p>\n\n<p>I have a class named <code>DaoClef</code> where I will execute an SQL statement, send my table model etc...</p>\n\n<p>I got a view where all my button are set but I don't know what to do in my controller. </p>\n\n<p>For now I got this in the view: </p>\n\n<pre><code>    btnNew.addActionListener(new ActionListener() {\n\n        @Override\n        public void actionPerformed(ActionEvent arg0) {\n            // check for selected row first\n            if (t.getSelectedRow() != -1) {\n                // remove selected row from the model\n\n                String sqlMaj = \"DELETE FROM clefs WHERE IdClef = ?\";\n                try (PreparedStatement pst = Connect.getConnection().prepareStatement(sqlMaj) )\n                {\n\n                    pst.setInt(1, (int) t.getValueAt(t.getSelectedRow(), 0));   \n                    pst.executeUpdate();\n                    t.addNotify();\n                } \n                catch (SQLException e)\n                {\n                }\n            }\n        }\n    });\n</code></pre>\n\n<p>But it's not good because the SQL statement need to be execute in a method in the controller. </p>\n\n<p>Can you give me some clues?</p>\n"},{"tags":["java","methods","time","duration"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677278563,"post_id":75550455,"comment_id":133313152,"body_markdown":"Are you allowed to use the `Duration`class instead of your own `CHTime` class? Don’t reinvent the wheel if you can avoid it.","body":"Are you allowed to use the <code>Duration</code>class instead of your own <code>CHTime</code> class? Don’t reinvent the wheel if you can avoid it."}],"answers":[{"tags":[],"owner":{"account_id":9895976,"reputation":38,"user_id":7327486,"display_name":"Koren Lahav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677188578,"creation_date":1677188578,"answer_id":75550618,"question_id":75550455,"body_markdown":"You are running the function getSeconds() after you calculate chHr, chMin, and chSec. so they are 19, 45, and 14 respectively, and not 331, 34, and 674.\r\n\r\nmy suggestion:\r\n\r\nYou could either calculate the seconds in the constructor and keep it as a parameter before calculating the others.\r\n\r\nOr keep the original values given in the constructor and use them in the getSeconds function.\r\n","title":"How would I create a method that accepts the raw input instead of using data post-calculation?","body":"<p>You are running the function getSeconds() after you calculate chHr, chMin, and chSec. so they are 19, 45, and 14 respectively, and not 331, 34, and 674.</p>\n<p>my suggestion:</p>\n<p>You could either calculate the seconds in the constructor and keep it as a parameter before calculating the others.</p>\n<p>Or keep the original values given in the constructor and use them in the getSeconds function.</p>\n"},{"tags":[],"owner":{"account_id":26544556,"reputation":190,"user_id":20174801,"display_name":"Synopsis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677189138,"creation_date":1677189138,"answer_id":75550693,"question_id":75550455,"body_markdown":"look at the difference of the expected and the received value for second: the difference between 71114 (received) and 1194314 (expected) is exectly the 13 days, that you modulo&#39;ed away.\r\n\r\nYour code is absolutely OK, its your expectation that is wrong: days are stripped, so you won&#39;t get them back magically :-)\r\n\r\nAnd please quit your habit of naming function params and member variables identically and use &quot;this&quot; to tell between them. You will not get a happy live this way. make your params clearly distinguishable by e.g. naming them e.g. &quot;p_chMin&quot;.\r\nDoing it &quot;your way&quot; caries the risk to accidentally forget one the many this&#39;es and writing your data into a param (volatile) instead of the class member (persistent).","title":"How would I create a method that accepts the raw input instead of using data post-calculation?","body":"<p>look at the difference of the expected and the received value for second: the difference between 71114 (received) and 1194314 (expected) is exectly the 13 days, that you modulo'ed away.</p>\n<p>Your code is absolutely OK, its your expectation that is wrong: days are stripped, so you won't get them back magically :-)</p>\n<p>And please quit your habit of naming function params and member variables identically and use &quot;this&quot; to tell between them. You will not get a happy live this way. make your params clearly distinguishable by e.g. naming them e.g. &quot;p_chMin&quot;.\nDoing it &quot;your way&quot; caries the risk to accidentally forget one the many this'es and writing your data into a param (volatile) instead of the class member (persistent).</p>\n"},{"tags":[],"owner":{"account_id":27063235,"reputation":1,"user_id":20614968,"display_name":"Michael Szychulski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677193353,"creation_date":1677190152,"answer_id":75550822,"question_id":75550455,"body_markdown":"If you need to store initial value of epoch seconds hours/minutes/seconds i suggest convert it to single Instant value and just call respective methods on it.\r\n         \r\n    \r\n    public class CHTime implements Comparable&lt;CHTime&gt; {\r\n            private final Instant chInstant;\r\n        \r\n            public CHTime(int chHr, int chMin, int chSec) {\r\n                this.chInstant = Instant.ofEpochSecond((chHr * 3600) + (chMin * 60) + chSec);\r\n            }\r\n        \r\n            public CHTime(long chElapsedTime) {\r\n                this.chInstant = Instant.ofEpochSecond(chElapsedTime);\r\n            }\r\n        \r\n            public int getHour() {\r\n                int hours = chInstant.atZone(ZoneId.systemDefault()).getHour() - 1;\r\n                return hours &lt; 0 ? 23 : hours;\r\n            }\r\n        \r\n            public int getMinute() {\r\n                return chInstant.atZone(ZoneId.systemDefault()).getMinute();\r\n            }\r\n        \r\n            public int getSecond() {\r\n                return chInstant.atZone(ZoneId.systemDefault()).getSecond();\r\n            }\r\n        \r\n            public long getSeconds() {\r\n                return chInstant.getEpochSecond();\r\n            }\r\n        \r\n            @Override\r\n            public String toString() {\r\n                return getHour() + &quot; hours &quot; + getMinute() + &quot; minutes &quot; + getSeconds() + &quot; seconds&quot;;\r\n            }\r\n        }\r\n\r\nAlso this constructor:\r\n\r\n    public CHTime(int chHr, int chMin, int chSec)\r\n        {\r\n            this.chSec = chSec % 60;\r\n            this.chHr = chHr % 24;\r\n            this.chMin = (chMin + chSec / 60) % 60;\r\n        }\r\nAdds minutes from seconds, but doesn&#39;t do same for hours, which is inconsistent. Using Instant would solve this problem.\r\n\r\nEdit 1\r\n-----------------\r\nZonedDateTime getHour() method for 00:00:00-00:59:59 will return 1, and for 23:00:00-23:59:59 will return 0. I edited my answer to take that into consideration.","title":"How would I create a method that accepts the raw input instead of using data post-calculation?","body":"<p>If you need to store initial value of epoch seconds hours/minutes/seconds i suggest convert it to single Instant value and just call respective methods on it.</p>\n<pre><code>public class CHTime implements Comparable&lt;CHTime&gt; {\n        private final Instant chInstant;\n    \n        public CHTime(int chHr, int chMin, int chSec) {\n            this.chInstant = Instant.ofEpochSecond((chHr * 3600) + (chMin * 60) + chSec);\n        }\n    \n        public CHTime(long chElapsedTime) {\n            this.chInstant = Instant.ofEpochSecond(chElapsedTime);\n        }\n    \n        public int getHour() {\n            int hours = chInstant.atZone(ZoneId.systemDefault()).getHour() - 1;\n            return hours &lt; 0 ? 23 : hours;\n        }\n    \n        public int getMinute() {\n            return chInstant.atZone(ZoneId.systemDefault()).getMinute();\n        }\n    \n        public int getSecond() {\n            return chInstant.atZone(ZoneId.systemDefault()).getSecond();\n        }\n    \n        public long getSeconds() {\n            return chInstant.getEpochSecond();\n        }\n    \n        @Override\n        public String toString() {\n            return getHour() + &quot; hours &quot; + getMinute() + &quot; minutes &quot; + getSeconds() + &quot; seconds&quot;;\n        }\n    }\n</code></pre>\n<p>Also this constructor:</p>\n<pre><code>public CHTime(int chHr, int chMin, int chSec)\n    {\n        this.chSec = chSec % 60;\n        this.chHr = chHr % 24;\n        this.chMin = (chMin + chSec / 60) % 60;\n    }\n</code></pre>\n<p>Adds minutes from seconds, but doesn't do same for hours, which is inconsistent. Using Instant would solve this problem.</p>\n<h2>Edit 1</h2>\n<p>ZonedDateTime getHour() method for 00:00:00-00:59:59 will return 1, and for 23:00:00-23:59:59 will return 0. I edited my answer to take that into consideration.</p>\n"}],"owner":{"account_id":23423691,"reputation":13,"user_id":17483463,"display_name":"Casey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1677278454,"creation_date":1677187463,"question_id":75550455,"body_markdown":"I am trying to write a program that shows the hour/min/sec and elapsed time given a specific hour/min/sec input as well as a long sec input. So far, I have it showing the correct hour, minute, and second. However, the elapsed time is using the data after the calculations have completed.\r\n\r\nFor example, if I input hours/mins/sec as 331 34 674, it returns 19 hours 45 minutes 14 seconds, as it is supposed to. (I am not showing days, so I&#39;m just taking hr % 24. However, when I asked for the elapsed time in seconds, it returns 71114 (equal to 19 hours 45 minutes 14 seconds) instead of the expected 1194314 (331 hours 45 minutes 14 seconds). Why? How do I fix? I have attached the code below.\r\n\r\n\r\n\r\n```\r\npackage CHTime;\r\n\r\n\r\nimport java.util.Scanner;\r\npublic class CHTest \r\n{\r\n\r\n\tpublic static void main(String[] args) \r\n\t{\r\n\t\t// Declare variables\r\n\t\tScanner chIn = new Scanner(System.in);\r\n\t\t\t\t\r\n\t\t// Prompt user for input time1\r\n\t\tSystem.out.println(&quot;Enter time1 (hour minute second): &quot;);\r\n\t\tint chHr = chIn.nextInt();\r\n\t\tint chMin = chIn.nextInt();\r\n\t\tint chSec = chIn.nextInt();\r\n\t\tCHTime chTime1 = new CHTime(chHr, chMin, chSec);\r\n\t\t\r\n\t\t// Display Results\r\n\t\tSystem.out.println(chTime1.toString());\r\n\t\t\r\n\t\t// Display elapsed time in time1\r\n\t\tSystem.out.println(&quot;Elapsed seconds in time1: &quot; + chTime1.getSeconds());\r\n\t\t\r\n\t\t\r\n\t\t// Prompt user for elapsed time\r\n\t\tSystem.out.println(&quot;Enter time2 (elapsed time): &quot;);\r\n\t\tCHTime chTime2 = new CHTime(chIn.nextLong());\r\n\t\t\r\n\t\t// Display results\r\n\t\tSystem.out.println(chTime2.toString());\r\n\t\t\r\n\t\t// Display elapsed time in time 2\r\n\t\tSystem.out.println(&quot;Elapsed seconds in time2: &quot; + chTime2.getSeconds());\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\npackage CHTime;\r\n\r\npublic class CHTime implements Comparable&lt;CHTime&gt;\r\n{\r\n\t// Data field for elapsed time since midnight Jan 1, 1970\r\n\tprivate long chUnix = Instant.now().getEpochSecond();\r\n\t\r\n\t// Data fields for hour, min, and sec\r\n\tprivate int chHr;\r\n\tprivate int chMin;\r\n\tprivate int chSec;\r\n\t\t\r\n\t\r\n\t// Constructor with specified hour, min, and sec to create a time\r\n\tpublic CHTime(int chHr, int chMin, int chSec)\r\n\t{\r\n\t\tthis.chSec = chSec % 60;\r\n\t\tthis.chHr = chHr % 24;\r\n\t\tthis.chMin = (chMin + chSec / 60) % 60;\r\n\t}\r\n\t\r\n\t// Constructor with specified time since Unix\r\n\tpublic CHTime(long chElapsedTime)\r\n\t{\r\n\t\tthis.chSec = (int)(chElapsedTime) % 60;\r\n\t\tchHr = (int)(chElapsedTime / 60);\r\n\t\tthis.chMin = chHr % 60;\r\n\t\tthis.chHr = (chHr / 60) % 24;\r\n\t}\r\n\t\r\n\t// Create method that returns the hour in range 0-23\r\n\tpublic int getHour()\r\n\t{\r\n\t\treturn chHr;\r\n\t}\r\n\t\r\n\t// Create method that returns the minute in range 0 - 59\r\n\tpublic int getMinute()\r\n\t{\r\n\t\treturn chMin;\r\n\t}\r\n\t\r\n\t// Create method that returns the second in range 0 - 59\r\n\tpublic int getSecond()\r\n\t{\r\n\t\treturn chSec;\r\n\t}\r\n\t\r\n\t// Create method that returns the elapsed total seconds\r\n\tpublic long getSeconds()\r\n\t{\r\n\t\treturn (chHr * 3600) + (chMin * 60) + chSec;\r\n\t}\r\n\t\r\n\t@Override // Create a method that returns a string showing time\r\n\tpublic String toString()\r\n\t{\r\n\t\treturn chHr + &quot; hours &quot; + chMin + &quot; minutes &quot; + chSec + &quot; seconds&quot;;\r\n\t}\r\n```\r\n","title":"How would I create a method that accepts the raw input instead of using data post-calculation?","body":"<p>I am trying to write a program that shows the hour/min/sec and elapsed time given a specific hour/min/sec input as well as a long sec input. So far, I have it showing the correct hour, minute, and second. However, the elapsed time is using the data after the calculations have completed.</p>\n<p>For example, if I input hours/mins/sec as 331 34 674, it returns 19 hours 45 minutes 14 seconds, as it is supposed to. (I am not showing days, so I'm just taking hr % 24. However, when I asked for the elapsed time in seconds, it returns 71114 (equal to 19 hours 45 minutes 14 seconds) instead of the expected 1194314 (331 hours 45 minutes 14 seconds). Why? How do I fix? I have attached the code below.</p>\n<pre><code>package CHTime;\n\n\nimport java.util.Scanner;\npublic class CHTest \n{\n\n    public static void main(String[] args) \n    {\n        // Declare variables\n        Scanner chIn = new Scanner(System.in);\n                \n        // Prompt user for input time1\n        System.out.println(&quot;Enter time1 (hour minute second): &quot;);\n        int chHr = chIn.nextInt();\n        int chMin = chIn.nextInt();\n        int chSec = chIn.nextInt();\n        CHTime chTime1 = new CHTime(chHr, chMin, chSec);\n        \n        // Display Results\n        System.out.println(chTime1.toString());\n        \n        // Display elapsed time in time1\n        System.out.println(&quot;Elapsed seconds in time1: &quot; + chTime1.getSeconds());\n        \n        \n        // Prompt user for elapsed time\n        System.out.println(&quot;Enter time2 (elapsed time): &quot;);\n        CHTime chTime2 = new CHTime(chIn.nextLong());\n        \n        // Display results\n        System.out.println(chTime2.toString());\n        \n        // Display elapsed time in time 2\n        System.out.println(&quot;Elapsed seconds in time2: &quot; + chTime2.getSeconds());\n    }\n\n}\n\n</code></pre>\n<pre><code>package CHTime;\n\npublic class CHTime implements Comparable&lt;CHTime&gt;\n{\n    // Data field for elapsed time since midnight Jan 1, 1970\n    private long chUnix = Instant.now().getEpochSecond();\n    \n    // Data fields for hour, min, and sec\n    private int chHr;\n    private int chMin;\n    private int chSec;\n        \n    \n    // Constructor with specified hour, min, and sec to create a time\n    public CHTime(int chHr, int chMin, int chSec)\n    {\n        this.chSec = chSec % 60;\n        this.chHr = chHr % 24;\n        this.chMin = (chMin + chSec / 60) % 60;\n    }\n    \n    // Constructor with specified time since Unix\n    public CHTime(long chElapsedTime)\n    {\n        this.chSec = (int)(chElapsedTime) % 60;\n        chHr = (int)(chElapsedTime / 60);\n        this.chMin = chHr % 60;\n        this.chHr = (chHr / 60) % 24;\n    }\n    \n    // Create method that returns the hour in range 0-23\n    public int getHour()\n    {\n        return chHr;\n    }\n    \n    // Create method that returns the minute in range 0 - 59\n    public int getMinute()\n    {\n        return chMin;\n    }\n    \n    // Create method that returns the second in range 0 - 59\n    public int getSecond()\n    {\n        return chSec;\n    }\n    \n    // Create method that returns the elapsed total seconds\n    public long getSeconds()\n    {\n        return (chHr * 3600) + (chMin * 60) + chSec;\n    }\n    \n    @Override // Create a method that returns a string showing time\n    public String toString()\n    {\n        return chHr + &quot; hours &quot; + chMin + &quot; minutes &quot; + chSec + &quot; seconds&quot;;\n    }\n</code></pre>\n"},{"tags":["java","android-tv","leanback"],"owner":{"account_id":27873048,"reputation":1,"user_id":21283114,"display_name":"dev123456"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677278069,"creation_date":1677278069,"question_id":75561961,"body_markdown":"I&#39;m trying to create a custom side menu (headers fragment) for an Android TV app following this [article](https://medium.com/building-for-android-tv/building-for-android-tv-episode-3-381e041dfec7). This is what I was hoping to achieve:\r\n\r\n[enter image description here](https://i.stack.imgur.com/JqGef.jpg)\r\n\r\nEverything is working well except for adjusting the margins when toggling the headers fragment. The tutorial instantiates Views that are null &amp; cause my app to crash: \r\n\r\n```\r\nfinal View headersContainer = (View) headersFragment.getView().getParent();\r\nfinal View rowsContainer = (View) rowsFragment.getView().getParent();\r\n```\r\n \r\nOther than the search orbit (I tried with &amp; without) my code is the same as the tutorial.\r\n\r\nI&#39;ve tried substituting the code that results in null with this, but I don&#39;t think I&#39;m accessing the correct view: \r\n\r\n```\r\nfinal View headersContainer = this.getCurrentFocus().getRootView().findViewById(R.id.parent_frame); final View rowsContainer = this.getCurrentFocus().getRootView().findViewById(R.id.parent_frame);\r\n```\r\n\r\nThis results in my app looking like this when the menu is open:\r\n\r\n[enter image description here](https://i.stack.imgur.com/Ubd1i.png)\r\n\r\nThe fragment transaction code is hit, so why are my custom fragments null? \r\n\r\nHere&#39;s my CustomHomeActivity:\r\n\r\n```\r\npublic class CustomHomeActivity extends AppCompatActivity {\r\n    private CustomHeadersFragment headersFragment;\r\n    private CustomRowsFragment rowsFragment;\r\n\r\n    private final int CATEGORIES_NUMBER = 5;\r\n    private LinkedHashMap&lt;Integer, CustomRowsFragment&gt; fragments;\r\n    private CustomFrameLayout customFrameLayout;\r\n\r\n    private boolean navigationDrawerOpen;\r\n    private static final float NAVIGATION_DRAWER_SCALE_FACTOR = 0.9f;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_custom);\r\n\r\n        fragments = new LinkedHashMap&lt;Integer, CustomRowsFragment&gt;();\r\n\r\n        for (int i = 0; i &lt; CATEGORIES_NUMBER; i++) {\r\n            CustomRowsFragment fragment = new CustomRowsFragment();\r\n            fragments.put(i, fragment);\r\n        }\r\n\r\n        headersFragment = new CustomHeadersFragment();\r\n        rowsFragment = fragments.get(0);\r\n\r\n        customFrameLayout = (CustomFrameLayout) ((ViewGroup) this.findViewById(android.R.id.content)).getChildAt(0);\r\n\r\n        setupCustomFrameLayout();\r\n\r\n        getSupportFragmentManager().beginTransaction()\r\n                .replace(R.id.header_container, new CustomHeadersFragment())\r\n                .replace(R.id.rows_container, new CustomRowsFragment()).commit();\r\n    }\r\n\r\n\r\n    public LinkedHashMap&lt;Integer, CustomRowsFragment&gt; getFragments() {\r\n        return fragments;\r\n    }\r\n\r\n    private void setupCustomFrameLayout(){\r\n        customFrameLayout.setOnChildFocusListener(new CustomFrameLayout.OnChildFocusListener() {\r\n            @Override\r\n            public boolean onRequestFocusInDescendants(int direction, Rect previouslyFocusedRect) {\r\n                if (headersFragment.getView() != null &amp;&amp; headersFragment.getView().requestFocus(direction, previouslyFocusedRect)) {\r\n                    return true;\r\n                }\r\n                if (rowsFragment.getView() != null &amp;&amp; rowsFragment.getView().requestFocus(direction, previouslyFocusedRect)) {\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public void onRequestChildFocus(View child, View focused) {\r\n                int childId = child.getId();\r\n                if (childId == R.id.rows_container) {\r\n                    toggleHeadersFragment(false);\r\n                } else if (childId == R.id.header_container) {\r\n                    toggleHeadersFragment(true);\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    public synchronized void toggleHeadersFragment(final boolean doOpen) {\r\n        boolean condition = (doOpen ? !isNavigationDrawerOpen() : isNavigationDrawerOpen());\r\n        if (condition) {\r\n//            final View headersContainer = (View) headersFragment.getView().getParent();\r\n            final View headersContainer = this.getCurrentFocus().getRootView().findViewById(R.id.parent_frame);\r\n//            final View rowsContainer = (View) rowsFragment.getView().getParent();\r\n            final View rowsContainer = this.getCurrentFocus().getRootView().findViewById(R.id.parent_frame);\r\n\r\n            final float delta = headersContainer.getWidth() * NAVIGATION_DRAWER_SCALE_FACTOR;\r\n\r\n            // get current margin (a previous animation might have been interrupted)\r\n            final int currentHeadersMargin = (((ViewGroup.MarginLayoutParams) headersContainer.getLayoutParams()).leftMargin);\r\n            final int currentRowsMargin = (((ViewGroup.MarginLayoutParams) rowsContainer.getLayoutParams()).leftMargin);\r\n\r\n            // calculate destination\r\n            final int headersDestination = (doOpen ? 0 : (int) (0 - delta));\r\n            final int rowsDestination = (doOpen ? (Utils.dpToPx(300, this)) : (int) (Utils.dpToPx(300, this) - delta));\r\n\r\n            // calculate the delta (destination - current)\r\n            final int headersDelta = headersDestination - currentHeadersMargin;\r\n            final int rowsDelta = rowsDestination - currentRowsMargin;\r\n\r\n            Animation animation = new Animation() {\r\n                @Override\r\n                protected void applyTransformation(float interpolatedTime, Transformation t) {\r\n                    ViewGroup.MarginLayoutParams headersParams = (ViewGroup.MarginLayoutParams) headersContainer.getLayoutParams();\r\n                    headersParams.leftMargin = (int) (currentHeadersMargin + headersDelta * interpolatedTime);\r\n                    headersContainer.setLayoutParams(headersParams);\r\n\r\n                    ViewGroup.MarginLayoutParams rowsParams = (ViewGroup.MarginLayoutParams) rowsContainer.getLayoutParams();\r\n                    rowsParams.leftMargin = (int) (currentRowsMargin + rowsDelta * interpolatedTime);\r\n                    rowsContainer.setLayoutParams(rowsParams);\r\n                }\r\n            };\r\n\r\n            animation.setAnimationListener(new Animation.AnimationListener() {\r\n                @Override\r\n                public void onAnimationStart(Animation animation) {\r\n                    navigationDrawerOpen = doOpen;\r\n                }\r\n\r\n                @Override\r\n                public void onAnimationEnd(Animation animation) {\r\n                    if (!doOpen) {\r\n                        rowsFragment.refresh();\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onAnimationRepeat(Animation animation) {}\r\n\r\n            });\r\n\r\n            animation.setDuration(200);\r\n            ((View) rowsContainer.getParent()).startAnimation(animation);\r\n        }\r\n    }\r\n\r\n    public synchronized boolean isNavigationDrawerOpen() {\r\n        return navigationDrawerOpen;\r\n    }\r\n\r\n    public void updateCurrentRowsFragment(CustomRowsFragment fragment) {\r\n        rowsFragment = fragment;\r\n    }\r\n}\r\n```\r\nactivity_custom.xml\r\n\r\n```\r\n&lt;com.custom.CustomFrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:id=&quot;@+id/parent_frame&quot;\r\n    android:clipChildren=&quot;false&quot;&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/header_container&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;top|start&quot; /&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/rows_container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;top|start&quot;\r\n        android:layout_marginStart=&quot;300dp&quot; /&gt;\r\n\r\n&lt;/com.custom.CustomFrameLayout&gt;\r\n```\r\n\r\nCustomHeadersFragment\r\n\r\n```\r\npublic class CustomHeadersFragment extends HeadersSupportFragment {\r\n    private ArrayObjectAdapter adapter;\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        customSetBackground(R.color.fastlane_background);\r\n\r\n        setOnHeaderViewSelectedListener(getDefaultItemSelectedListener());\r\n        setHeaderAdapter();\r\n\r\n        setCustomPadding();\r\n    }\r\n\r\n    private void setHeaderAdapter(){\r\n        //create HeaderItem, tie it together with corresponding CustomRowsFragment to a ListRow element\r\n        //then insert HeaderItem into main ArrayObjectAdapter\r\n        adapter = new ArrayObjectAdapter();\r\n\r\n        LinkedHashMap&lt;Integer, CustomRowsFragment&gt; fragments = ((CustomHomeActivity) getActivity()).getFragments();\r\n\r\n        int id = 0;\r\n        for (int i = 0; i &lt; fragments.size(); i++) {\r\n            //create HeaderItem\r\n            HeaderItem header = new HeaderItem(id, &quot;Category &quot; + i);\r\n            ArrayObjectAdapter innerAdapter = new ArrayObjectAdapter();\r\n            //tie HeaderItem together with corresponding CustomRowsFragment to a ListRow element\r\n            innerAdapter.add(fragments.get(i));\r\n            //insert HeaderItem into main ArrayObjectAdapter\r\n            adapter.add(id, new ListRow(header, innerAdapter));\r\n            id++;\r\n        }\r\n\r\n        setAdapter(adapter);\r\n    }\r\n\r\n    private void setCustomPadding(){\r\n        if(getView() != null &amp;&amp; getActivity() != null){\r\n            getView().setPadding(0, Utils.dpToPx(128, getActivity()), Utils.dpToPx(48, getActivity()), 0);\r\n        }\r\n    }\r\n\r\n    //switch fragment every time a new category is selected\r\n    private OnHeaderViewSelectedListener getDefaultItemSelectedListener() {\r\n        return new OnHeaderViewSelectedListener() {\r\n            @Override\r\n            public void onHeaderSelected(RowHeaderPresenter.ViewHolder viewHolder, Row row) {\r\n                Object obj = ((ListRow) row).getAdapter().get(0);\r\n                //Given the category, we retrieve the associated fragment and we just load it using the FragmentManager\r\n                getParentFragmentManager().beginTransaction().replace(R.id.rows_container, (Fragment) obj).commit();\r\n                if(getActivity() != null){\r\n                    ((CustomHomeActivity) getActivity()).updateCurrentRowsFragment((CustomRowsFragment) obj);\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n//Since the original setBackgroundColor is private, we need to\r\n//\t access it via reflection\r\n    private void customSetBackground(int colorResource) {\r\n        try {\r\n            Class clazz = HeadersSupportFragment.class;\r\n            Method m = clazz.getDeclaredMethod(&quot;setBackgroundColor&quot;, Integer.TYPE);\r\n            m.setAccessible(true);\r\n            m.invoke(this, getResources().getColor(colorResource, IonApplication.getInstance().getTheme()));\r\n        } catch (NoSuchMethodException e) {\r\n            e.printStackTrace();\r\n        } catch (InvocationTargetException e) {\r\n            e.printStackTrace();\r\n        } catch (IllegalAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nCustomRowsFragment\r\n\r\n```\r\npublic class CustomRowsFragment extends RowsSupportFragment {\r\n    private final int NUM_ROWS = 5;\r\n    private final int NUM_COLS = 15;\r\n\r\n    private ArrayObjectAdapter rowsAdapter;\r\n    private CardPresenter cardPresenter;\r\n\r\n    // CustomHeadersFragment, scaled by 0.9 on a 1080p screen, is 600px wide.\r\n    // This is the corresponding dip size.\r\n    private static final int HEADERS_FRAGMENT_SCALE_SIZE = 300;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        View view = super.onCreateView(inflater, container, savedInstanceState);\r\n        if(view != null){\r\n            int marginOffset = (int) TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, HEADERS_FRAGMENT_SCALE_SIZE, getResources().getDisplayMetrics());\r\n            ViewGroup.MarginLayoutParams params = (ViewGroup.MarginLayoutParams) view.getLayoutParams();\r\n            params.rightMargin -= marginOffset;\r\n            view.setLayoutParams(params);\r\n            view.setBackgroundColor(getResources().getColor(R.color.colorPrimaryVariant, IonApplication.getInstance().getTheme()));\r\n        }\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        loadRows();\r\n        setCustomPadding();\r\n    }\r\n\r\n    private void loadRows(){\r\n        //create ArrayObjectAdapter &amp; fill with rows\r\n        rowsAdapter = new ArrayObjectAdapter(new ListRowPresenter());\r\n        cardPresenter = new CardPresenter();\r\n\r\n        List&lt;Movie&gt; list = MovieList.setupMovies();\r\n\r\n        int i;\r\n        for (i = 0; i &lt; NUM_ROWS; i++) {\r\n            if (i != 0) {\r\n                Collections.shuffle(list);\r\n            }\r\n            ArrayObjectAdapter listRowAdapter = new ArrayObjectAdapter(cardPresenter);\r\n            for (int j = 0; j &lt; NUM_COLS; j++) {\r\n                listRowAdapter.add(list.get(j % 5));\r\n            }\r\n            HeaderItem header = new HeaderItem(i, MovieList.MOVIE_CATEGORY[i]);\r\n            rowsAdapter.add(new ListRow(header, listRowAdapter));\r\n        }\r\n\r\n        setAdapter(rowsAdapter);\r\n    }\r\n\r\n    private void setCustomPadding() {\r\n        if(getView() != null &amp;&amp; getActivity() != null){\r\n            getView().setPadding(Utils.dpToPx(-24, getActivity()), Utils.dpToPx(128, getActivity()), Utils.dpToPx(48, getActivity()), 0);\r\n        }\r\n    }\r\n\r\n    //method to help differentiate between one custom fragment &amp; another\r\n    private int getRandomColor() {\r\n        Random rnd = new Random();\r\n        return Color.argb(255, rnd.nextInt(256), rnd.nextInt(256), rnd.nextInt(256));\r\n    }\r\n\r\n    public void refresh() {\r\n        if(getView() != null &amp;&amp; getActivity() != null){\r\n            getView().setPadding(Utils.dpToPx(-24, getActivity()), Utils.dpToPx(128, getActivity()), Utils.dpToPx(300, getActivity()), 0);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n","title":"Why is custom fragment view parent null?","body":"<p>I'm trying to create a custom side menu (headers fragment) for an Android TV app following this <a href=\"https://medium.com/building-for-android-tv/building-for-android-tv-episode-3-381e041dfec7\" rel=\"nofollow noreferrer\">article</a>. This is what I was hoping to achieve:</p>\n<p><a href=\"https://i.stack.imgur.com/JqGef.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Everything is working well except for adjusting the margins when toggling the headers fragment. The tutorial instantiates Views that are null &amp; cause my app to crash:</p>\n<pre><code>final View headersContainer = (View) headersFragment.getView().getParent();\nfinal View rowsContainer = (View) rowsFragment.getView().getParent();\n</code></pre>\n<p>Other than the search orbit (I tried with &amp; without) my code is the same as the tutorial.</p>\n<p>I've tried substituting the code that results in null with this, but I don't think I'm accessing the correct view:</p>\n<pre><code>final View headersContainer = this.getCurrentFocus().getRootView().findViewById(R.id.parent_frame); final View rowsContainer = this.getCurrentFocus().getRootView().findViewById(R.id.parent_frame);\n</code></pre>\n<p>This results in my app looking like this when the menu is open:</p>\n<p><a href=\"https://i.stack.imgur.com/Ubd1i.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>The fragment transaction code is hit, so why are my custom fragments null?</p>\n<p>Here's my CustomHomeActivity:</p>\n<pre><code>public class CustomHomeActivity extends AppCompatActivity {\n    private CustomHeadersFragment headersFragment;\n    private CustomRowsFragment rowsFragment;\n\n    private final int CATEGORIES_NUMBER = 5;\n    private LinkedHashMap&lt;Integer, CustomRowsFragment&gt; fragments;\n    private CustomFrameLayout customFrameLayout;\n\n    private boolean navigationDrawerOpen;\n    private static final float NAVIGATION_DRAWER_SCALE_FACTOR = 0.9f;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_custom);\n\n        fragments = new LinkedHashMap&lt;Integer, CustomRowsFragment&gt;();\n\n        for (int i = 0; i &lt; CATEGORIES_NUMBER; i++) {\n            CustomRowsFragment fragment = new CustomRowsFragment();\n            fragments.put(i, fragment);\n        }\n\n        headersFragment = new CustomHeadersFragment();\n        rowsFragment = fragments.get(0);\n\n        customFrameLayout = (CustomFrameLayout) ((ViewGroup) this.findViewById(android.R.id.content)).getChildAt(0);\n\n        setupCustomFrameLayout();\n\n        getSupportFragmentManager().beginTransaction()\n                .replace(R.id.header_container, new CustomHeadersFragment())\n                .replace(R.id.rows_container, new CustomRowsFragment()).commit();\n    }\n\n\n    public LinkedHashMap&lt;Integer, CustomRowsFragment&gt; getFragments() {\n        return fragments;\n    }\n\n    private void setupCustomFrameLayout(){\n        customFrameLayout.setOnChildFocusListener(new CustomFrameLayout.OnChildFocusListener() {\n            @Override\n            public boolean onRequestFocusInDescendants(int direction, Rect previouslyFocusedRect) {\n                if (headersFragment.getView() != null &amp;&amp; headersFragment.getView().requestFocus(direction, previouslyFocusedRect)) {\n                    return true;\n                }\n                if (rowsFragment.getView() != null &amp;&amp; rowsFragment.getView().requestFocus(direction, previouslyFocusedRect)) {\n                    return true;\n                }\n                return false;\n            }\n\n            @Override\n            public void onRequestChildFocus(View child, View focused) {\n                int childId = child.getId();\n                if (childId == R.id.rows_container) {\n                    toggleHeadersFragment(false);\n                } else if (childId == R.id.header_container) {\n                    toggleHeadersFragment(true);\n                }\n            }\n        });\n\n    }\n\n    public synchronized void toggleHeadersFragment(final boolean doOpen) {\n        boolean condition = (doOpen ? !isNavigationDrawerOpen() : isNavigationDrawerOpen());\n        if (condition) {\n//            final View headersContainer = (View) headersFragment.getView().getParent();\n            final View headersContainer = this.getCurrentFocus().getRootView().findViewById(R.id.parent_frame);\n//            final View rowsContainer = (View) rowsFragment.getView().getParent();\n            final View rowsContainer = this.getCurrentFocus().getRootView().findViewById(R.id.parent_frame);\n\n            final float delta = headersContainer.getWidth() * NAVIGATION_DRAWER_SCALE_FACTOR;\n\n            // get current margin (a previous animation might have been interrupted)\n            final int currentHeadersMargin = (((ViewGroup.MarginLayoutParams) headersContainer.getLayoutParams()).leftMargin);\n            final int currentRowsMargin = (((ViewGroup.MarginLayoutParams) rowsContainer.getLayoutParams()).leftMargin);\n\n            // calculate destination\n            final int headersDestination = (doOpen ? 0 : (int) (0 - delta));\n            final int rowsDestination = (doOpen ? (Utils.dpToPx(300, this)) : (int) (Utils.dpToPx(300, this) - delta));\n\n            // calculate the delta (destination - current)\n            final int headersDelta = headersDestination - currentHeadersMargin;\n            final int rowsDelta = rowsDestination - currentRowsMargin;\n\n            Animation animation = new Animation() {\n                @Override\n                protected void applyTransformation(float interpolatedTime, Transformation t) {\n                    ViewGroup.MarginLayoutParams headersParams = (ViewGroup.MarginLayoutParams) headersContainer.getLayoutParams();\n                    headersParams.leftMargin = (int) (currentHeadersMargin + headersDelta * interpolatedTime);\n                    headersContainer.setLayoutParams(headersParams);\n\n                    ViewGroup.MarginLayoutParams rowsParams = (ViewGroup.MarginLayoutParams) rowsContainer.getLayoutParams();\n                    rowsParams.leftMargin = (int) (currentRowsMargin + rowsDelta * interpolatedTime);\n                    rowsContainer.setLayoutParams(rowsParams);\n                }\n            };\n\n            animation.setAnimationListener(new Animation.AnimationListener() {\n                @Override\n                public void onAnimationStart(Animation animation) {\n                    navigationDrawerOpen = doOpen;\n                }\n\n                @Override\n                public void onAnimationEnd(Animation animation) {\n                    if (!doOpen) {\n                        rowsFragment.refresh();\n                    }\n                }\n\n                @Override\n                public void onAnimationRepeat(Animation animation) {}\n\n            });\n\n            animation.setDuration(200);\n            ((View) rowsContainer.getParent()).startAnimation(animation);\n        }\n    }\n\n    public synchronized boolean isNavigationDrawerOpen() {\n        return navigationDrawerOpen;\n    }\n\n    public void updateCurrentRowsFragment(CustomRowsFragment fragment) {\n        rowsFragment = fragment;\n    }\n}\n</code></pre>\n<p>activity_custom.xml</p>\n<pre><code>&lt;com.custom.CustomFrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:id=&quot;@+id/parent_frame&quot;\n    android:clipChildren=&quot;false&quot;&gt;\n\n    &lt;FrameLayout\n        android:id=&quot;@+id/header_container&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;top|start&quot; /&gt;\n\n    &lt;FrameLayout\n        android:id=&quot;@+id/rows_container&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;top|start&quot;\n        android:layout_marginStart=&quot;300dp&quot; /&gt;\n\n&lt;/com.custom.CustomFrameLayout&gt;\n</code></pre>\n<p>CustomHeadersFragment</p>\n<pre><code>public class CustomHeadersFragment extends HeadersSupportFragment {\n    private ArrayObjectAdapter adapter;\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        customSetBackground(R.color.fastlane_background);\n\n        setOnHeaderViewSelectedListener(getDefaultItemSelectedListener());\n        setHeaderAdapter();\n\n        setCustomPadding();\n    }\n\n    private void setHeaderAdapter(){\n        //create HeaderItem, tie it together with corresponding CustomRowsFragment to a ListRow element\n        //then insert HeaderItem into main ArrayObjectAdapter\n        adapter = new ArrayObjectAdapter();\n\n        LinkedHashMap&lt;Integer, CustomRowsFragment&gt; fragments = ((CustomHomeActivity) getActivity()).getFragments();\n\n        int id = 0;\n        for (int i = 0; i &lt; fragments.size(); i++) {\n            //create HeaderItem\n            HeaderItem header = new HeaderItem(id, &quot;Category &quot; + i);\n            ArrayObjectAdapter innerAdapter = new ArrayObjectAdapter();\n            //tie HeaderItem together with corresponding CustomRowsFragment to a ListRow element\n            innerAdapter.add(fragments.get(i));\n            //insert HeaderItem into main ArrayObjectAdapter\n            adapter.add(id, new ListRow(header, innerAdapter));\n            id++;\n        }\n\n        setAdapter(adapter);\n    }\n\n    private void setCustomPadding(){\n        if(getView() != null &amp;&amp; getActivity() != null){\n            getView().setPadding(0, Utils.dpToPx(128, getActivity()), Utils.dpToPx(48, getActivity()), 0);\n        }\n    }\n\n    //switch fragment every time a new category is selected\n    private OnHeaderViewSelectedListener getDefaultItemSelectedListener() {\n        return new OnHeaderViewSelectedListener() {\n            @Override\n            public void onHeaderSelected(RowHeaderPresenter.ViewHolder viewHolder, Row row) {\n                Object obj = ((ListRow) row).getAdapter().get(0);\n                //Given the category, we retrieve the associated fragment and we just load it using the FragmentManager\n                getParentFragmentManager().beginTransaction().replace(R.id.rows_container, (Fragment) obj).commit();\n                if(getActivity() != null){\n                    ((CustomHomeActivity) getActivity()).updateCurrentRowsFragment((CustomRowsFragment) obj);\n                }\n            }\n        };\n    }\n\n//Since the original setBackgroundColor is private, we need to\n//   access it via reflection\n    private void customSetBackground(int colorResource) {\n        try {\n            Class clazz = HeadersSupportFragment.class;\n            Method m = clazz.getDeclaredMethod(&quot;setBackgroundColor&quot;, Integer.TYPE);\n            m.setAccessible(true);\n            m.invoke(this, getResources().getColor(colorResource, IonApplication.getInstance().getTheme()));\n        } catch (NoSuchMethodException e) {\n            e.printStackTrace();\n        } catch (InvocationTargetException e) {\n            e.printStackTrace();\n        } catch (IllegalAccessException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<p>CustomRowsFragment</p>\n<pre><code>public class CustomRowsFragment extends RowsSupportFragment {\n    private final int NUM_ROWS = 5;\n    private final int NUM_COLS = 15;\n\n    private ArrayObjectAdapter rowsAdapter;\n    private CardPresenter cardPresenter;\n\n    // CustomHeadersFragment, scaled by 0.9 on a 1080p screen, is 600px wide.\n    // This is the corresponding dip size.\n    private static final int HEADERS_FRAGMENT_SCALE_SIZE = 300;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        View view = super.onCreateView(inflater, container, savedInstanceState);\n        if(view != null){\n            int marginOffset = (int) TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, HEADERS_FRAGMENT_SCALE_SIZE, getResources().getDisplayMetrics());\n            ViewGroup.MarginLayoutParams params = (ViewGroup.MarginLayoutParams) view.getLayoutParams();\n            params.rightMargin -= marginOffset;\n            view.setLayoutParams(params);\n            view.setBackgroundColor(getResources().getColor(R.color.colorPrimaryVariant, IonApplication.getInstance().getTheme()));\n        }\n        return view;\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        loadRows();\n        setCustomPadding();\n    }\n\n    private void loadRows(){\n        //create ArrayObjectAdapter &amp; fill with rows\n        rowsAdapter = new ArrayObjectAdapter(new ListRowPresenter());\n        cardPresenter = new CardPresenter();\n\n        List&lt;Movie&gt; list = MovieList.setupMovies();\n\n        int i;\n        for (i = 0; i &lt; NUM_ROWS; i++) {\n            if (i != 0) {\n                Collections.shuffle(list);\n            }\n            ArrayObjectAdapter listRowAdapter = new ArrayObjectAdapter(cardPresenter);\n            for (int j = 0; j &lt; NUM_COLS; j++) {\n                listRowAdapter.add(list.get(j % 5));\n            }\n            HeaderItem header = new HeaderItem(i, MovieList.MOVIE_CATEGORY[i]);\n            rowsAdapter.add(new ListRow(header, listRowAdapter));\n        }\n\n        setAdapter(rowsAdapter);\n    }\n\n    private void setCustomPadding() {\n        if(getView() != null &amp;&amp; getActivity() != null){\n            getView().setPadding(Utils.dpToPx(-24, getActivity()), Utils.dpToPx(128, getActivity()), Utils.dpToPx(48, getActivity()), 0);\n        }\n    }\n\n    //method to help differentiate between one custom fragment &amp; another\n    private int getRandomColor() {\n        Random rnd = new Random();\n        return Color.argb(255, rnd.nextInt(256), rnd.nextInt(256), rnd.nextInt(256));\n    }\n\n    public void refresh() {\n        if(getView() != null &amp;&amp; getActivity() != null){\n            getView().setPadding(Utils.dpToPx(-24, getActivity()), Utils.dpToPx(128, getActivity()), Utils.dpToPx(300, getActivity()), 0);\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","android","opencv"],"comments":[{"owner":{"account_id":15314688,"reputation":4163,"user_id":11048887,"display_name":"Yunus Temurlenk"},"score":0,"creation_date":1677323899,"post_id":75561911,"comment_id":133317699,"body_markdown":"What do you mean by saying &quot;gray scale background&quot; ? it is not possible converting from gray scale to bgr","body":"What do you mean by saying &quot;gray scale background&quot; ? it is not possible converting from gray scale to bgr"},{"owner":{"account_id":8518162,"reputation":11,"user_id":6788629,"display_name":"esra"},"score":0,"creation_date":1677332255,"post_id":75561911,"comment_id":133318925,"body_markdown":"I mean background should be in gray mode, only faces are colored (rgb) mode, like object detection. But I cannot integrate rgb face into gray background.","body":"I mean background should be in gray mode, only faces are colored (rgb) mode, like object detection. But I cannot integrate rgb face into gray background."},{"owner":{"account_id":15314688,"reputation":4163,"user_id":11048887,"display_name":"Yunus Temurlenk"},"score":0,"creation_date":1677336094,"post_id":75561911,"comment_id":133319634,"body_markdown":"you need to get the mask of face instead of only detection. After getting mask of face then you can copy it to the desired background easily. Mediapipe, rcnn etc. can give you maskedfaces.","body":"you need to get the mask of face instead of only detection. After getting mask of face then you can copy it to the desired background easily. Mediapipe, rcnn etc. can give you maskedfaces."}],"owner":{"account_id":8518162,"reputation":11,"user_id":6788629,"display_name":"esra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677277671,"creation_date":1677277671,"question_id":75561911,"body_markdown":"I am using android, java and I want to do face detection, gray scale background, rgb face. I am detecting face but cannot convert the faces from gray to rgb.Any suggestion? Thanks\r\nHere is the code:\r\n\r\n```\r\n@Override\r\n            public Mat onCameraFrame(CameraBridgeViewBase.CvCameraViewFrame inputFrame) {\r\n\r\n                rgb =inputFrame.rgba();\r\n                gray =inputFrame.gray();\r\n\r\n                rects =new MatOfRect();\r\n\r\n                cascadeClassifier.detectMultiScale(gray,rects, 1.08,2);\r\n\r\n\r\n                for(Rect rect :rects.toList())\r\n                {\r\n\r\n                    //cropped face\r\n                    Mat submat = gray.submat(rect);\r\n\r\n                    Mat rgbsubmat = rgb.submat(rect);\r\n\r\n\r\n                    Imgproc.cvtColor(submat, submat, Imgproc.COLOR_GRAY2RGBA, 4); \r\n\r\n                    rgbsubmat.copyTo(gray.submat(rect));\r\n\r\n                    Imgproc.rectangle(gray,rect,new Scalar(0,255,0),10);\r\n\r\n\r\n                    submat.release();\r\n\r\n\r\n                }\r\n\r\n\r\n                return gray;\r\n            }\r\n```\r\n\r\n\r\nI am trying to convert sub matrix which has face position gray to rgb form","title":"gray scale background-colored face","body":"<p>I am using android, java and I want to do face detection, gray scale background, rgb face. I am detecting face but cannot convert the faces from gray to rgb.Any suggestion? Thanks\nHere is the code:</p>\n<pre><code>@Override\n            public Mat onCameraFrame(CameraBridgeViewBase.CvCameraViewFrame inputFrame) {\n\n                rgb =inputFrame.rgba();\n                gray =inputFrame.gray();\n\n                rects =new MatOfRect();\n\n                cascadeClassifier.detectMultiScale(gray,rects, 1.08,2);\n\n\n                for(Rect rect :rects.toList())\n                {\n\n                    //cropped face\n                    Mat submat = gray.submat(rect);\n\n                    Mat rgbsubmat = rgb.submat(rect);\n\n\n                    Imgproc.cvtColor(submat, submat, Imgproc.COLOR_GRAY2RGBA, 4); \n\n                    rgbsubmat.copyTo(gray.submat(rect));\n\n                    Imgproc.rectangle(gray,rect,new Scalar(0,255,0),10);\n\n\n                    submat.release();\n\n\n                }\n\n\n                return gray;\n            }\n</code></pre>\n<p>I am trying to convert sub matrix which has face position gray to rgb form</p>\n"},{"tags":["java","aws-lambda","fonts","apache-poi"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1654014072,"post_id":72451039,"comment_id":127989384,"body_markdown":"`when using on AWS Lambda.`  This is running on a server?  Most servers are &quot;headless,&quot; that is they have no GUI at all.  I&#39;m guessing that might mean no fonts too.  You might need to Google for how to install Java font packages on a unix device.","body":"<code>when using on AWS Lambda.</code>  This is running on a server?  Most servers are &quot;headless,&quot; that is they have no GUI at all.  I&#39;m guessing that might mean no fonts too.  You might need to Google for how to install Java font packages on a unix device."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1654014584,"post_id":72451039,"comment_id":127989555,"body_markdown":"I just clicked through a tutorial for AWS Lambda.  That is definitely a server, they just market it as &quot;serverless.&quot;  (Never read the marketing drivel.)  If you can&#39;t install packages then I don&#39;t think you can use it for this function. Get a real server.","body":"I just clicked through a tutorial for AWS Lambda.  That is definitely a server, they just market it as &quot;serverless.&quot;  (Never read the marketing drivel.)  If you can&#39;t install packages then I don&#39;t think you can use it for this function. Get a real server."},{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":2,"creation_date":1654016689,"post_id":72451039,"comment_id":127990206,"body_markdown":"There is always a server. &quot;Serverless&quot; just means you don&#39;t have to manage the server. If you can&#39;t fix this by bundling the fonts in your Lambda deployment package, then you may need to look into deploying your Lambda function as a Docker container instead, where you will have more control of the runtime environment.","body":"There is always a server. &quot;Serverless&quot; just means you don&#39;t have to manage the server. If you can&#39;t fix this by bundling the fonts in your Lambda deployment package, then you may need to look into deploying your Lambda function as a Docker container instead, where you will have more control of the runtime environment."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1677277369,"creation_date":1654022802,"answer_id":72452775,"question_id":72451039,"body_markdown":"# Fonts bundling\r\n\r\n&gt;Any idea how to add physical fonts\r\n\r\nThe *Oracle JDK* product from Oracle [stopped bundling fonts][1] as of Java 11. \r\n\r\nThe [*OpenJDK*][2] project does not bundle fonts, at least not in recent versions. \r\n\r\nThe *Corretto* JDK from Amazon product is based on OpenJDK codebase. Given your report, apparently they do not bundle fonts. \r\n\r\nYou must choose to:\r\n\r\n - Rely on the fonts provided by the host OS.\r\n - Bundle fonts within your Java app. Be careful to study license terms. Some fonts allow such bundling, some don’t. Some require a fee, some don’t. Some require an acknowledgment, some don’t. \r\n - Obtain a JDK from a vendor that includes fonts. \r\n\r\nI know of at least one such vendor: Azul Systems bundles fonts with their *Azul Platform Core* commercial product. \r\n\r\nThere may be other such vendors that I’m not aware of. Many vendors provide JDK binaries and installers. These vendors include Adoptium, SAP, BellSoft, Microsoft, Azul Systems, Amazon, Oracle, Red Hat/IBM, Pivotal, and more. \r\n\r\n# Physical fonts versus logical fonts\r\n\r\n&gt;why can&#39;t the POI use the available fonts that output to the logs\r\n\r\nThe fonts you listed in your logs are *logical* fonts, not *physical* fonts. The distinction is clearly documented in the Javadoc for the [`Font`][3] class. \r\n\r\nTo use a logical font name, you must have some backing physical font. If no fonts exist within your app, within your JDK, or within your host OS, then the logical fonts cannot work. \r\n\r\n# Fonts for AWS Lambda\r\n\r\nRegarding making fonts available in AWS Lambda, perhaps these two pages might help. (Thanks to [jarmod for the links](https://stackoverflow.com/questions/72462871/amazon-corretto-11-openjdk-does-not-have-any-fonts#comment128012006_72462871).)\r\n\r\n - [*Configuring fonts for AWS Lambda*][4]\r\n - [*AWS Lambda Fonts &amp; libfontconfig*][5] by [Alberto Cubeddu][6]\r\n\r\nThe basic idea is to create a `/fonts` folder within your package. Incude a `fonts.conf` file within, with XML configuration elements. Place your bundled fonts files alongside that config file.\r\n\r\n# License terms\r\n\r\nBe aware that **some fonts are commercial**, with a license that requires a fee. When bundling/deploying fonts, be sure to verify that you are meeting the terms of their license. \r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/11-relnote-issues.html#JDK-8191522\r\n  [2]: https://en.wikipedia.org/wiki/OpenJDK\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Font.html\r\n  [4]: https://forum.aspose.com/t/configuring-fonts-for-aws-lambda/234036/5\r\n  [5]: https://medium.com/creditorwatch/aws-lambda-fonts-libfontconfig-5e837281a4ce\r\n  [6]: https://medium.com/@acubeddu87","title":"Java 11 does not have fonts?","body":"<h1>Fonts bundling</h1>\n<blockquote>\n<p>Any idea how to add physical fonts</p>\n</blockquote>\n<p>The <em>Oracle JDK</em> product from Oracle <a href=\"https://www.oracle.com/java/technologies/javase/11-relnote-issues.html#JDK-8191522\" rel=\"nofollow noreferrer\">stopped bundling fonts</a> as of Java 11.</p>\n<p>The <a href=\"https://en.wikipedia.org/wiki/OpenJDK\" rel=\"nofollow noreferrer\"><em>OpenJDK</em></a> project does not bundle fonts, at least not in recent versions.</p>\n<p>The <em>Corretto</em> JDK from Amazon product is based on OpenJDK codebase. Given your report, apparently they do not bundle fonts.</p>\n<p>You must choose to:</p>\n<ul>\n<li>Rely on the fonts provided by the host OS.</li>\n<li>Bundle fonts within your Java app. Be careful to study license terms. Some fonts allow such bundling, some don’t. Some require a fee, some don’t. Some require an acknowledgment, some don’t.</li>\n<li>Obtain a JDK from a vendor that includes fonts.</li>\n</ul>\n<p>I know of at least one such vendor: Azul Systems bundles fonts with their <em>Azul Platform Core</em> commercial product.</p>\n<p>There may be other such vendors that I’m not aware of. Many vendors provide JDK binaries and installers. These vendors include Adoptium, SAP, BellSoft, Microsoft, Azul Systems, Amazon, Oracle, Red Hat/IBM, Pivotal, and more.</p>\n<h1>Physical fonts versus logical fonts</h1>\n<blockquote>\n<p>why can't the POI use the available fonts that output to the logs</p>\n</blockquote>\n<p>The fonts you listed in your logs are <em>logical</em> fonts, not <em>physical</em> fonts. The distinction is clearly documented in the Javadoc for the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Font.html\" rel=\"nofollow noreferrer\"><code>Font</code></a> class.</p>\n<p>To use a logical font name, you must have some backing physical font. If no fonts exist within your app, within your JDK, or within your host OS, then the logical fonts cannot work.</p>\n<h1>Fonts for AWS Lambda</h1>\n<p>Regarding making fonts available in AWS Lambda, perhaps these two pages might help. (Thanks to <a href=\"https://stackoverflow.com/questions/72462871/amazon-corretto-11-openjdk-does-not-have-any-fonts#comment128012006_72462871\">jarmod for the links</a>.)</p>\n<ul>\n<li><a href=\"https://forum.aspose.com/t/configuring-fonts-for-aws-lambda/234036/5\" rel=\"nofollow noreferrer\"><em>Configuring fonts for AWS Lambda</em></a></li>\n<li><a href=\"https://medium.com/creditorwatch/aws-lambda-fonts-libfontconfig-5e837281a4ce\" rel=\"nofollow noreferrer\"><em>AWS Lambda Fonts &amp; libfontconfig</em></a> by <a href=\"https://medium.com/@acubeddu87\" rel=\"nofollow noreferrer\">Alberto Cubeddu</a></li>\n</ul>\n<p>The basic idea is to create a <code>/fonts</code> folder within your package. Incude a <code>fonts.conf</code> file within, with XML configuration elements. Place your bundled fonts files alongside that config file.</p>\n<h1>License terms</h1>\n<p>Be aware that <strong>some fonts are commercial</strong>, with a license that requires a fee. When bundling/deploying fonts, be sure to verify that you are meeting the terms of their license.</p>\n"}],"owner":{"account_id":24819930,"reputation":101,"user_id":18700381,"display_name":"daph111"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3124,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72452775,"answer_count":1,"score":4,"last_activity_date":1677277369,"creation_date":1654013338,"question_id":72451039,"body_markdown":"I&#39;m using Java 11 Corretto + Spring Boot with Apache POI but I&#39;m facing issues when using on AWS Lambda. Works fine if I run as &quot;normal&quot; API but fails when running servless in a AWS lambda.\r\n\r\n    try (ByteArrayOutputStream out = new ByteArrayOutputStream(); SXSSFWorkbook workbook = new SXSSFWorkbook(1000)) {\r\n        SXSSFSheet sheet = workbook.createSheet(&quot;test&quot;); //error here!!\r\n        } ...\r\n\r\n&gt; Caused by: java.lang.Error: Probable fatal error: No physical fonts\r\n&gt; found. \tat\r\n&gt; java.desktop/sun.font.SunFontManager.lambda$getDefaultPhysicalFont$0(Unknown\r\n&gt; Source) \tat java.base/java.util.Optional.orElseThrow(Unknown Source)\r\n&gt; \tat\r\n&gt; java.desktop/sun.font.SunFontManager.getDefaultPhysicalFont(Unknown\r\n&gt; Source) \tat\r\n&gt; java.desktop/sun.font.CompositeFont.doDeferredInitialisation(Unknown\r\n&gt; Source) \tat java.desktop/sun.font.CompositeFont.getSlotFont(Unknown\r\n&gt; Source) \tat\r\n&gt; java.desktop/sun.font.CompositeGlyphMapper.initMapper(Unknown Source)\r\n&gt; \tat java.desktop/sun.font.CompositeGlyphMapper.&lt;init&gt;(Unknown Source)\r\n&gt; \tat java.desktop/sun.font.CompositeFont.getMapper(Unknown Source) \tat\r\n&gt; java.desktop/sun.font.CompositeFont.canDisplay(Unknown Source) \tat\r\n&gt; java.desktop/java.awt.Font.canDisplayUpTo(Unknown Source) \tat\r\n&gt; java.desktop/java.awt.font.TextLayout.singleFont(Unknown Source) \tat\r\n&gt; java.desktop/java.awt.font.TextLayout.&lt;init&gt;(Unknown Source) \tat\r\n&gt; org.apache.poi.ss.util.SheetUtil.getDefaultCharWidth(SheetUtil.java:285)\r\n&gt; \tat\r\n&gt; org.apache.poi.xssf.streaming.AutoSizeColumnTracker.&lt;init&gt;(AutoSizeColumnTracker.java:117)\r\n&gt; \tat\r\n&gt; org.apache.poi.xssf.streaming.SXSSFSheet.&lt;init&gt;(SXSSFSheet.java:84)\r\n&gt; \tat\r\n&gt; org.apache.poi.xssf.streaming.SXSSFWorkbook.createAndRegisterSXSSFSheet(SXSSFWorkbook.java:705)\r\n&gt; \tat\r\n&gt; org.apache.poi.xssf.streaming.SXSSFWorkbook.createSheet(SXSSFWorkbook.java:724)\r\n\r\n\r\nI tried to create a fix to the fonts but I have no idea how to proceed\r\n\r\n    @PostConstruct\r\n    public void loadFonts() {\r\n        URL configURL = getClass().getClassLoader().getResource(&quot;fontconfig.properties&quot;);\r\n        String path = configURL != null ? configURL.getPath() : null;\r\n        Properties props = System.getProperties();\r\n        LOGGER.info(&quot;Loading font config file: {}&quot;, path);\r\n        props.put(&quot;sun.awt.fontconfig&quot;, path);\r\n\r\n        String[] fonts;\r\n        try {\r\n            GraphicsEnvironment.getLocalGraphicsEnvironment().getAvailableFontFamilyNames();\r\n        } catch (Throwable ex) {\r\n            LOGGER.warn(&quot;Reloading Fonts&quot;);\r\n        }\r\n        try {\r\n            fonts = GraphicsEnvironment.getLocalGraphicsEnvironment().getAvailableFontFamilyNames();\r\n\r\n            for (String font : fonts) {\r\n                LOGGER.info(&quot;Available Font: {}&quot;, font);\r\n            }\r\n        } catch (Throwable ex) {\r\n            LOGGER.error(&quot;Could not load Fonts&quot;);\r\n        }\r\n    }\r\n\r\nConfig file:\r\n\r\n    version=1\r\n    sequence.allfonts=default\r\n\r\nWhen running on AWS Lambda it outputs some fonts to the logs so I don&#39;t understand why I get that error:\r\n\r\n&gt;     2022-05-31 16:00:14  INFO  Starting Lambda Container Handler\r\n&gt;     2022-05-31 16:00:18  INFO  Loading font config file: /var/task/fontconfig.properties\r\n&gt;     2022-05-31 16:00:18  INFO  Available Font: Dialog\r\n&gt;     2022-05-31 16:00:18  INFO  Available Font: DialogInput\r\n&gt;     2022-05-31 16:00:18  INFO  Available Font: Monospaced\r\n&gt;     2022-05-31 16:00:18  INFO  Available Font: SansSerif\r\n&gt;     2022-05-31 16:00:18  INFO  Available Font: Serif\r\n\r\nAny idea how to add physical fonts and why can&#39;t the POI use the available fonts that output to the logs?\r\n\r\n\r\n**EDIT:**\r\n I also tried to run as headless but I get the same error:\r\n\r\n    `props.setProperty(&quot;java.awt.headless&quot;, &quot;true&quot;);`","title":"Java 11 does not have fonts?","body":"<p>I'm using Java 11 Corretto + Spring Boot with Apache POI but I'm facing issues when using on AWS Lambda. Works fine if I run as &quot;normal&quot; API but fails when running servless in a AWS lambda.</p>\n<pre><code>try (ByteArrayOutputStream out = new ByteArrayOutputStream(); SXSSFWorkbook workbook = new SXSSFWorkbook(1000)) {\n    SXSSFSheet sheet = workbook.createSheet(&quot;test&quot;); //error here!!\n    } ...\n</code></pre>\n<blockquote>\n<p>Caused by: java.lang.Error: Probable fatal error: No physical fonts\nfound.    at\njava.desktop/sun.font.SunFontManager.lambda$getDefaultPhysicalFont$0(Unknown\nSource)   at java.base/java.util.Optional.orElseThrow(Unknown Source)\nat\njava.desktop/sun.font.SunFontManager.getDefaultPhysicalFont(Unknown\nSource)   at\njava.desktop/sun.font.CompositeFont.doDeferredInitialisation(Unknown\nSource)   at java.desktop/sun.font.CompositeFont.getSlotFont(Unknown\nSource)   at\njava.desktop/sun.font.CompositeGlyphMapper.initMapper(Unknown Source)\nat java.desktop/sun.font.CompositeGlyphMapper.(Unknown Source)\nat java.desktop/sun.font.CompositeFont.getMapper(Unknown Source)    at\njava.desktop/sun.font.CompositeFont.canDisplay(Unknown Source)    at\njava.desktop/java.awt.Font.canDisplayUpTo(Unknown Source)     at\njava.desktop/java.awt.font.TextLayout.singleFont(Unknown Source)  at\njava.desktop/java.awt.font.TextLayout.(Unknown Source)  at\norg.apache.poi.ss.util.SheetUtil.getDefaultCharWidth(SheetUtil.java:285)\nat\norg.apache.poi.xssf.streaming.AutoSizeColumnTracker.(AutoSizeColumnTracker.java:117)\nat\norg.apache.poi.xssf.streaming.SXSSFSheet.(SXSSFSheet.java:84)\nat\norg.apache.poi.xssf.streaming.SXSSFWorkbook.createAndRegisterSXSSFSheet(SXSSFWorkbook.java:705)\nat\norg.apache.poi.xssf.streaming.SXSSFWorkbook.createSheet(SXSSFWorkbook.java:724)</p>\n</blockquote>\n<p>I tried to create a fix to the fonts but I have no idea how to proceed</p>\n<pre><code>@PostConstruct\npublic void loadFonts() {\n    URL configURL = getClass().getClassLoader().getResource(&quot;fontconfig.properties&quot;);\n    String path = configURL != null ? configURL.getPath() : null;\n    Properties props = System.getProperties();\n    LOGGER.info(&quot;Loading font config file: {}&quot;, path);\n    props.put(&quot;sun.awt.fontconfig&quot;, path);\n\n    String[] fonts;\n    try {\n        GraphicsEnvironment.getLocalGraphicsEnvironment().getAvailableFontFamilyNames();\n    } catch (Throwable ex) {\n        LOGGER.warn(&quot;Reloading Fonts&quot;);\n    }\n    try {\n        fonts = GraphicsEnvironment.getLocalGraphicsEnvironment().getAvailableFontFamilyNames();\n\n        for (String font : fonts) {\n            LOGGER.info(&quot;Available Font: {}&quot;, font);\n        }\n    } catch (Throwable ex) {\n        LOGGER.error(&quot;Could not load Fonts&quot;);\n    }\n}\n</code></pre>\n<p>Config file:</p>\n<pre><code>version=1\nsequence.allfonts=default\n</code></pre>\n<p>When running on AWS Lambda it outputs some fonts to the logs so I don't understand why I get that error:</p>\n<blockquote>\n<pre><code>2022-05-31 16:00:14  INFO  Starting Lambda Container Handler\n2022-05-31 16:00:18  INFO  Loading font config file: /var/task/fontconfig.properties\n2022-05-31 16:00:18  INFO  Available Font: Dialog\n2022-05-31 16:00:18  INFO  Available Font: DialogInput\n2022-05-31 16:00:18  INFO  Available Font: Monospaced\n2022-05-31 16:00:18  INFO  Available Font: SansSerif\n2022-05-31 16:00:18  INFO  Available Font: Serif\n</code></pre>\n</blockquote>\n<p>Any idea how to add physical fonts and why can't the POI use the available fonts that output to the logs?</p>\n<p><strong>EDIT:</strong>\nI also tried to run as headless but I get the same error:</p>\n<pre><code>`props.setProperty(&quot;java.awt.headless&quot;, &quot;true&quot;);`\n</code></pre>\n"},{"tags":["java","jedis","lettuce"],"comments":[{"owner":{"account_id":2885864,"reputation":861,"user_id":2475798,"display_name":"Neenad"},"score":0,"creation_date":1677282802,"post_id":75560679,"comment_id":133313812,"body_markdown":"what is the inserted value in redis for the query?","body":"what is the inserted value in redis for the query?"},{"owner":{"account_id":13996510,"reputation":400,"user_id":10109156,"display_name":"tornadoradon"},"score":0,"creation_date":1677386034,"post_id":75560679,"comment_id":133326245,"body_markdown":"`at redissClass.main(redissClass.java:44)` - which line is this in your `redisClass`?","body":"<code>at redissClass.main(redissClass.java:44)</code> - which line is this in your <code>redisClass</code>?"},{"owner":{"account_id":13315007,"reputation":19,"user_id":9611752,"display_name":"samik sengupta"},"score":0,"creation_date":1677525280,"post_id":75560679,"comment_id":133351396,"body_markdown":"@tornadoradon String jsonString=syncCommands.get(query);","body":"@tornadoradon String jsonString=syncCommands.get(query);"},{"owner":{"account_id":13315007,"reputation":19,"user_id":9611752,"display_name":"samik sengupta"},"score":0,"creation_date":1677525387,"post_id":75560679,"comment_id":133351428,"body_markdown":"@Neenad the below example represents what we have in Rediss:{&#160; &#160; &quot;euid&quot;: &quot;1006110582&quot;,&#160; &#160; &quot;conditionCategoryData&quot;: [&#160; &#160; &#160; &#160; {&#160; &#160; &#160; &#160; &#160; &#160; &quot;conditionCategoryBasicInfo&quot;: {&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &quot;code&quot;: &quot;22&quot;,&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &quot;description&quot;: &quot;Morbid Obesity&quot;,&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &quot;model&quot;: &quot;CMS_HCC_V24&quot;&#160; &#160; &#160; &#160; &#160; &#160; },","body":"@Neenad the below example represents what we have in Rediss:{    &quot;euid&quot;: &quot;1006110582&quot;,    &quot;conditionCategoryData&quot;: [        {            &quot;conditionCategoryBasicInfo&quot;: {                &quot;code&quot;: &quot;22&quot;,                &quot;description&quot;: &quot;Morbid Obesity&quot;,                &quot;model&quot;: &quot;CMS_HCC_V24&quot;            },"}],"owner":{"account_id":13315007,"reputation":19,"user_id":9611752,"display_name":"samik sengupta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":347,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1677276795,"creation_date":1677267199,"question_id":75560679,"body_markdown":"I am trying to query Redis and get a response using Java. I am able to connect to Redis, however I am not able to find the appropriate command to query. I have tried `command.json.get`, but I am getting an error. Given below is my code, example of Data I am trying to fetch, and the error I am getting:\r\n\r\n```\r\nimport io.lettuce.core.RedisClient;\r\nimport io.lettuce.core.RedisURI;\r\nimport io.lettuce.core.api.StatefulRedisConnection;\r\nimport io.lettuce.core.api.sync.RedisCommands;\r\nimport io.lettuce.core.cluster.ClusterClientOptions;\r\nimport io.lettuce.core.cluster.ClusterTopologyRefreshOptions;\r\nimport io.lettuce.core.cluster.RedisClusterClient;\r\nimport io.lettuce.core.cluster.api.StatefulRedisClusterConnection;\r\nimport io.lettuce.core.cluster.api.sync.RedisAdvancedClusterCommands;\r\nimport io.lettuce.core.cluster.api.sync.RedisClusterCommands;\r\nimport io.lettuce.core.resource.ClientResources;\r\nimport io.lettuce.core.resource.DefaultClientResources;\r\nimport org.json.JSONObject;\r\nimport io.lettuce.core.cluster.ClusterTopologyRefreshOptions.RefreshTrigger;\r\nimport java.time.Duration;&#160;\r\npublic class redissClass {\r\n&#160;&#160;&#160;&#160; public static void main(String[] args) {\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; String name = &quot;name&quot;;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; String password = &quot;password&quot;;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; String host=&quot;host.com&quot;;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; String query=&quot;1006110582&quot;;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ClientResources clientResources = DefaultClientResources.create();\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; RedisClusterClient clusterClient = RedisClusterClient.create(clientResources, RedisURI.builder().redis(host,6379)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .withSsl(true)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .withAuthentication(name,password)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .withVerifyPeer(false).build());\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; clusterClient.setOptions(ClusterClientOptions.builder()\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .topologyRefreshOptions(ClusterTopologyRefreshOptions.builder()\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .enablePeriodicRefresh(Duration.ofSeconds(5))\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .build())\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .build());\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; StatefulRedisClusterConnection&lt;String, String&gt; connection = clusterClient.connect();\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; RedisClusterCommands&lt;String, String&gt; syncCommands = connection.sync();\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; String response = syncCommands.ping();\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; System.out.println(&quot;Redis response: &quot; + response);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; System.out.println(&quot;type&quot;+syncCommands.type(query));\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; String jsonString=syncCommands.get(query);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; JSONObject jsonObject = new JSONObject(jsonString);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; String euid=jsonObject.getString(&quot;euid&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; System.out.println(&quot;euid&quot;+euid);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; connection.close();\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; clientResources.shutdown();\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;}\r\n```\r\nError:\r\n\r\n```\r\nRedis response: PONG typeReJSON-RL Exception in thread &quot;main&quot; io.lettuce.core.RedisCommandExecutionException: WRONGTYPE Operation against a key holding the wrong kind of value &#160;&#160;&#160; \r\nat io.lettuce.core.internal.ExceptionFactory.createExecutionException(ExceptionFactory.java:137) &#160;&#160;&#160; \r\nat io.lettuce.core.internal.Exceptions.bubble(Exceptions.java:72) &#160;\r\nat io.lettuce.core.internal.Futures.awaitOrCancel(Futures.java:250)\r\nat io.lettuce.core.cluster.ClusterFutureSyncInvocationHandler.handleInvocation(ClusterFutureSyncInvocationHandler.java:130) &#160;&#160;&#160; \r\nat io.lettuce.core.internal.AbstractInvocationHandler.invoke(AbstractInvocationHandler.java:80) &#160;&#160;&#160; \r\nat jdk.proxy1/jdk.proxy1.$Proxy23.get(Unknown Source) &#160;&#160;&#160; \r\nat redissClass.main(redissClass.java:44)\r\n```\r\n","title":"Read JSON from Redis using Java","body":"<p>I am trying to query Redis and get a response using Java. I am able to connect to Redis, however I am not able to find the appropriate command to query. I have tried <code>command.json.get</code>, but I am getting an error. Given below is my code, example of Data I am trying to fetch, and the error I am getting:</p>\n<pre><code>import io.lettuce.core.RedisClient;\nimport io.lettuce.core.RedisURI;\nimport io.lettuce.core.api.StatefulRedisConnection;\nimport io.lettuce.core.api.sync.RedisCommands;\nimport io.lettuce.core.cluster.ClusterClientOptions;\nimport io.lettuce.core.cluster.ClusterTopologyRefreshOptions;\nimport io.lettuce.core.cluster.RedisClusterClient;\nimport io.lettuce.core.cluster.api.StatefulRedisClusterConnection;\nimport io.lettuce.core.cluster.api.sync.RedisAdvancedClusterCommands;\nimport io.lettuce.core.cluster.api.sync.RedisClusterCommands;\nimport io.lettuce.core.resource.ClientResources;\nimport io.lettuce.core.resource.DefaultClientResources;\nimport org.json.JSONObject;\nimport io.lettuce.core.cluster.ClusterTopologyRefreshOptions.RefreshTrigger;\nimport java.time.Duration; \npublic class redissClass {\n     public static void main(String[] args) {\n         String name = &quot;name&quot;;\n            String password = &quot;password&quot;;\n            String host=&quot;host.com&quot;;\n            String query=&quot;1006110582&quot;;\n            ClientResources clientResources = DefaultClientResources.create();\n            RedisClusterClient clusterClient = RedisClusterClient.create(clientResources, RedisURI.builder().redis(host,6379)\n                    .withSsl(true)\n                    .withAuthentication(name,password)\n                    .withVerifyPeer(false).build());\n            clusterClient.setOptions(ClusterClientOptions.builder()\n                    .topologyRefreshOptions(ClusterTopologyRefreshOptions.builder()\n                            .enablePeriodicRefresh(Duration.ofSeconds(5))\n                            .build())\n                    .build());\n            StatefulRedisClusterConnection&lt;String, String&gt; connection = clusterClient.connect();\n            RedisClusterCommands&lt;String, String&gt; syncCommands = connection.sync();\n            String response = syncCommands.ping();\n            System.out.println(&quot;Redis response: &quot; + response);\n            System.out.println(&quot;type&quot;+syncCommands.type(query));\n            String jsonString=syncCommands.get(query);\n            JSONObject jsonObject = new JSONObject(jsonString);\n            String euid=jsonObject.getString(&quot;euid&quot;);\n            System.out.println(&quot;euid&quot;+euid);\n            connection.close();\n            clientResources.shutdown();\n        } }\n</code></pre>\n<p>Error:</p>\n<pre><code>Redis response: PONG typeReJSON-RL Exception in thread &quot;main&quot; io.lettuce.core.RedisCommandExecutionException: WRONGTYPE Operation against a key holding the wrong kind of value     \nat io.lettuce.core.internal.ExceptionFactory.createExecutionException(ExceptionFactory.java:137)     \nat io.lettuce.core.internal.Exceptions.bubble(Exceptions.java:72)  \nat io.lettuce.core.internal.Futures.awaitOrCancel(Futures.java:250)\nat io.lettuce.core.cluster.ClusterFutureSyncInvocationHandler.handleInvocation(ClusterFutureSyncInvocationHandler.java:130)     \nat io.lettuce.core.internal.AbstractInvocationHandler.invoke(AbstractInvocationHandler.java:80)     \nat jdk.proxy1/jdk.proxy1.$Proxy23.get(Unknown Source)     \nat redissClass.main(redissClass.java:44)\n</code></pre>\n"},{"tags":["java","android","flutter","android-studio"],"owner":{"account_id":16562396,"reputation":3,"user_id":11967998,"display_name":"Zack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677275359,"creation_date":1677275359,"question_id":75561673,"body_markdown":"So actually I been working with Ai to find a solution for a bug on my project, the bug is when there is a lot of Categories it make the screen full , so instead of presenting all the cat I decided to present just 8 categories and when the user click on Show More Text View it show him the rest of categories , the problem here is  I been Trying for a while and nothings is working :\r\n\r\nCode that present all categories once :\r\n\r\n```\r\n    private void requestAllCategory() {\r\n        API api = RestAdapter.createAPI();\r\n        callbackCategories = api.allCategory();\r\n        callbackCategories.enqueue(new Callback&lt;List&lt;Category&gt;&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;List&lt;Category&gt;&gt; call, Response&lt;List&lt;Category&gt;&gt; response) {\r\n                is_request_category_finish = true;\r\n                if (response.body() != null &amp;&amp; response.body().size() &gt; 0) {\r\n                    categories = Tools.getSortedCategory(response.body());\r\n                    categories.get(0).selected = true;\r\n                    category = categories.get(0);\r\n                    displayApiResult(null);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;List&lt;Category&gt;&gt; call, Throwable t) {\r\n                if (!call.isCanceled()) onFailRequest(page_no);\r\n            }\r\n        });\r\n    }\r\n\r\n    \r\n```\r\n\r\nand here is the code that present just 8 :\r\n\r\n```\r\nprivate void requestAllSlider() {\r\n    API api = RestAdapter.createAPI();\r\n    callbackSliders = api.allSlider();\r\n    callbackSliders.enqueue(new Callback&lt;List&lt;Slider&gt;&gt;() {\r\n        @Override\r\n        public void onResponse(Call&lt;List&lt;Slider&gt;&gt; call, Response&lt;List&lt;Slider&gt;&gt; response) {\r\n            sliders = response.body();\r\n            is_request_slider_finish = true;\r\n            if (sliders != null &amp;&amp; sliders.size() &gt; 0) {\r\n                displayApiResult(null);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onFailure(Call&lt;List&lt;Slider&gt;&gt; call, Throwable t) {\r\n            if (!call.isCanceled()) onFailRequest(page_no);\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nI&#39;m looking just for a method to show The rest of categories when user click on text show more","title":"Looking for a Method to show More than all categories when I click on a TextView","body":"<p>So actually I been working with Ai to find a solution for a bug on my project, the bug is when there is a lot of Categories it make the screen full , so instead of presenting all the cat I decided to present just 8 categories and when the user click on Show More Text View it show him the rest of categories , the problem here is  I been Trying for a while and nothings is working :</p>\n<p>Code that present all categories once :</p>\n<pre><code>    private void requestAllCategory() {\n        API api = RestAdapter.createAPI();\n        callbackCategories = api.allCategory();\n        callbackCategories.enqueue(new Callback&lt;List&lt;Category&gt;&gt;() {\n            @Override\n            public void onResponse(Call&lt;List&lt;Category&gt;&gt; call, Response&lt;List&lt;Category&gt;&gt; response) {\n                is_request_category_finish = true;\n                if (response.body() != null &amp;&amp; response.body().size() &gt; 0) {\n                    categories = Tools.getSortedCategory(response.body());\n                    categories.get(0).selected = true;\n                    category = categories.get(0);\n                    displayApiResult(null);\n                }\n            }\n\n            @Override\n            public void onFailure(Call&lt;List&lt;Category&gt;&gt; call, Throwable t) {\n                if (!call.isCanceled()) onFailRequest(page_no);\n            }\n        });\n    }\n\n    \n</code></pre>\n<p>and here is the code that present just 8 :</p>\n<pre><code>private void requestAllSlider() {\n    API api = RestAdapter.createAPI();\n    callbackSliders = api.allSlider();\n    callbackSliders.enqueue(new Callback&lt;List&lt;Slider&gt;&gt;() {\n        @Override\n        public void onResponse(Call&lt;List&lt;Slider&gt;&gt; call, Response&lt;List&lt;Slider&gt;&gt; response) {\n            sliders = response.body();\n            is_request_slider_finish = true;\n            if (sliders != null &amp;&amp; sliders.size() &gt; 0) {\n                displayApiResult(null);\n            }\n        }\n\n        @Override\n        public void onFailure(Call&lt;List&lt;Slider&gt;&gt; call, Throwable t) {\n            if (!call.isCanceled()) onFailRequest(page_no);\n        }\n    });\n}\n</code></pre>\n<p>I'm looking just for a method to show The rest of categories when user click on text show more</p>\n"},{"tags":["java","sdkman"],"answers":[{"tags":[],"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1629196863,"creation_date":1629196863,"answer_id":68815865,"question_id":68814094,"body_markdown":"When you run sdkman, at some point it printed some instructions to add a couple of lines to your shell rc file, so it would be activated with all shells.\r\n\r\nFor example, I have this at the end of my `~/.zshrc` (might differ from bash)\r\n\r\n```\r\nexport SDKMAN_DIR=&quot;$HOME/.sdkman&quot;\r\n[[ -s &quot;$HOME/.sdkman/bin/sdkman-init.sh&quot; ]] &amp;&amp; source &quot;$HOME/.sdkman/bin/sdkman-init.sh&quot;\r\n```","title":"How to set sdkman and JDK installed by sdkman path in Ubuntu permanently","body":"<p>When you run sdkman, at some point it printed some instructions to add a couple of lines to your shell rc file, so it would be activated with all shells.</p>\n<p>For example, I have this at the end of my <code>~/.zshrc</code> (might differ from bash)</p>\n<pre><code>export SDKMAN_DIR=&quot;$HOME/.sdkman&quot;\n[[ -s &quot;$HOME/.sdkman/bin/sdkman-init.sh&quot; ]] &amp;&amp; source &quot;$HOME/.sdkman/bin/sdkman-init.sh&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11584455,"reputation":199,"user_id":9719106,"display_name":"Anmol Tomer"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677274539,"creation_date":1677274539,"answer_id":75561580,"question_id":68814094,"body_markdown":"Wrote a python program for this. This will print the commands that you need to run to point your local JDKs as unclassified Vendor but allows you to reuse the JDKs present usually at `/Users/{username}/Library/Java/JavaVirtualMachines directory`, which would have been the case before you installed SDKMan.\r\n\r\nAfter running the program as shown in image below your local JDKs will be linked with SDKMan.\r\n\r\n```python\r\n&quot;&quot;&quot;\r\nWhat this program does? Links locally available java directories inside /Users/{username}/Library/Java/JavaVirtualMachines directory to sdkman local installations.\r\nhttps://i.imgur.com/NaSXX99.png\r\n&quot;&quot;&quot;\r\n\r\n\r\nimport os\r\nimport subprocess\r\nimport getpass\r\n\r\ndef nameValidation(i):\r\n    j = &#39;&#39;\r\n    if len(i) &gt; 15:\r\n            shortName = i.split(&#39;-&#39;)\r\n            # print(f&#39;{shortName[0]} : {shortName}&#39;)\r\n            if(shortName[0] == &#39;corretto&#39;):\r\n                shortName[0] = &#39;amzn&#39;\r\n            elif shortName[0] == &#39;temurin&#39;:\r\n                shortName[0] = &#39;tem&#39;\r\n            elif shortName[0] == &#39;gluon&#39;:\r\n                shortName[0] = &#39;gln&#39;\r\n            elif shortName[0] == &#39;graalvm&#39;:\r\n                shortName[0] = &#39;grl&#39;\r\n            elif shortName[0] == &#39;java.net&#39;:\r\n                shortName[0] = &#39;open&#39;\r\n            elif shortName[0] == &#39;liberica&#39;:\r\n                shortName[0] = &#39;librca&#39;\r\n            elif shortName[0] == &#39;libericanik&#39;:\r\n                shortName[0] = &#39;nik&#39;\r\n            elif shortName[0] == &#39;microsoft&#39;:\r\n                shortName[0] = &#39;ms&#39;\r\n            elif shortName[0] == &#39;oracle&#39;:\r\n                shortName[0] = &#39;oracle&#39;\r\n            elif shortName[0] == &#39;sapmachine&#39;:\r\n                shortName[0] = &#39;sapmchn&#39;\r\n            elif shortName[0] == &#39;semeru&#39;:\r\n                shortName[0] = &#39;sem&#39;\r\n            elif shortName[0] == &#39;zulu&#39;:\r\n                shortName[0] = &#39;zulu&#39;\r\n            j = f&#39;{shortName[1]}-{shortName[0]}&#39;\r\n            return j\r\n    else:\r\n        return i\r\n        \r\n    \r\n\r\n\r\ndef printCommandsToLinkJDKWithSDKMan(jdkList,baseDirectoryAddress):\r\n    listToReturn = []\r\n    for i in jdkList:\r\n        name = nameValidation(i)\r\n        listToReturn.append(f&#39;sdk install java {name} {baseDirectoryAddress}/{i}&#39;)\r\n        # print(f&#39;Adding: {listToReturn[-1]}&#39;)\r\n    return listToReturn\r\n\r\ndef runCommand (command):\r\n    output=subprocess.run(\r\n        command,\r\n        stdout=subprocess.PIPE,\r\n        stderr=subprocess.PIPE,shell=True)\r\n\r\n    if output.returncode != 0:\r\n        raise RuntimeError(\r\n            output.stderr.decode(&quot;utf-8&quot;))\r\n\r\n    return output\r\n\r\nusername = getpass.getuser()\r\nchd = f&quot;/Users/{username}/Library/Java/JavaVirtualMachines&quot; # add the absolute path where your JDKs are present here\r\n\r\nos.chdir(chd) # Change to parent directory where all your JDKs are present to extract names of JDK in a list\r\n# \r\nallInstalledExternalJavaJDKs = [name for name in os.listdir(&quot;.&quot;) if os.path.isdir(name)]\r\n# print(allInstalledExternalJavaJDKs) # prints list of directories of all installed JDKs\r\n\r\noutputList = printCommandsToLinkJDKWithSDKMan(allInstalledExternalJavaJDKs,chd) # send the list to method\r\nprint(&#39;Commands to run to link local JDKs: \\n\\n&#39;)\r\nfor cmd in outputList:\r\n    print(cmd)\r\n```\r\n\r\n[![Output][1]][1]\r\n\r\n\r\n[![Command Printed for all local JDKs to link to SDKman][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Dwk8t.jpg\r\n  [2]: https://i.stack.imgur.com/Pt7is.png","title":"How to set sdkman and JDK installed by sdkman path in Ubuntu permanently","body":"<p>Wrote a python program for this. This will print the commands that you need to run to point your local JDKs as unclassified Vendor but allows you to reuse the JDKs present usually at <code>/Users/{username}/Library/Java/JavaVirtualMachines directory</code>, which would have been the case before you installed SDKMan.</p>\n<p>After running the program as shown in image below your local JDKs will be linked with SDKMan.</p>\n<pre class=\"lang-py prettyprint-override\"><code>&quot;&quot;&quot;\nWhat this program does? Links locally available java directories inside /Users/{username}/Library/Java/JavaVirtualMachines directory to sdkman local installations.\nhttps://i.imgur.com/NaSXX99.png\n&quot;&quot;&quot;\n\n\nimport os\nimport subprocess\nimport getpass\n\ndef nameValidation(i):\n    j = ''\n    if len(i) &gt; 15:\n            shortName = i.split('-')\n            # print(f'{shortName[0]} : {shortName}')\n            if(shortName[0] == 'corretto'):\n                shortName[0] = 'amzn'\n            elif shortName[0] == 'temurin':\n                shortName[0] = 'tem'\n            elif shortName[0] == 'gluon':\n                shortName[0] = 'gln'\n            elif shortName[0] == 'graalvm':\n                shortName[0] = 'grl'\n            elif shortName[0] == 'java.net':\n                shortName[0] = 'open'\n            elif shortName[0] == 'liberica':\n                shortName[0] = 'librca'\n            elif shortName[0] == 'libericanik':\n                shortName[0] = 'nik'\n            elif shortName[0] == 'microsoft':\n                shortName[0] = 'ms'\n            elif shortName[0] == 'oracle':\n                shortName[0] = 'oracle'\n            elif shortName[0] == 'sapmachine':\n                shortName[0] = 'sapmchn'\n            elif shortName[0] == 'semeru':\n                shortName[0] = 'sem'\n            elif shortName[0] == 'zulu':\n                shortName[0] = 'zulu'\n            j = f'{shortName[1]}-{shortName[0]}'\n            return j\n    else:\n        return i\n        \n    \n\n\ndef printCommandsToLinkJDKWithSDKMan(jdkList,baseDirectoryAddress):\n    listToReturn = []\n    for i in jdkList:\n        name = nameValidation(i)\n        listToReturn.append(f'sdk install java {name} {baseDirectoryAddress}/{i}')\n        # print(f'Adding: {listToReturn[-1]}')\n    return listToReturn\n\ndef runCommand (command):\n    output=subprocess.run(\n        command,\n        stdout=subprocess.PIPE,\n        stderr=subprocess.PIPE,shell=True)\n\n    if output.returncode != 0:\n        raise RuntimeError(\n            output.stderr.decode(&quot;utf-8&quot;))\n\n    return output\n\nusername = getpass.getuser()\nchd = f&quot;/Users/{username}/Library/Java/JavaVirtualMachines&quot; # add the absolute path where your JDKs are present here\n\nos.chdir(chd) # Change to parent directory where all your JDKs are present to extract names of JDK in a list\n# \nallInstalledExternalJavaJDKs = [name for name in os.listdir(&quot;.&quot;) if os.path.isdir(name)]\n# print(allInstalledExternalJavaJDKs) # prints list of directories of all installed JDKs\n\noutputList = printCommandsToLinkJDKWithSDKMan(allInstalledExternalJavaJDKs,chd) # send the list to method\nprint('Commands to run to link local JDKs: \\n\\n')\nfor cmd in outputList:\n    print(cmd)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Dwk8t.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dwk8t.jpg\" alt=\"Output\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Pt7is.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pt7is.png\" alt=\"Command Printed for all local JDKs to link to SDKman\" /></a></p>\n"}],"owner":{"account_id":17846180,"reputation":705,"user_id":12962949,"display_name":"Masi Boo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3724,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":68815865,"answer_count":2,"score":3,"last_activity_date":1677274539,"creation_date":1629188993,"question_id":68814094,"body_markdown":"I follow to this https://sdkman.io/install to install install sdkman. After instillation all worked nice. I can see correct version by sdk version. Also I can install various Java version. But all are for the correct shell session. As soon as I close and open new shell, I can&#39;t get neither sdkman nor those installed JDK. I can see all JDK at `~/.sdkman/candidates/java`. I have to run this all the time `source &quot;$HOME/.sdkman/bin/sdkman-init.sh&quot;`\r\n\r\nHow do I set sdkman as well as JDK permanent in my system.       \r\n","title":"How to set sdkman and JDK installed by sdkman path in Ubuntu permanently","body":"<p>I follow to this <a href=\"https://sdkman.io/install\" rel=\"nofollow noreferrer\">https://sdkman.io/install</a> to install install sdkman. After instillation all worked nice. I can see correct version by sdk version. Also I can install various Java version. But all are for the correct shell session. As soon as I close and open new shell, I can't get neither sdkman nor those installed JDK. I can see all JDK at <code>~/.sdkman/candidates/java</code>. I have to run this all the time <code>source &quot;$HOME/.sdkman/bin/sdkman-init.sh&quot;</code></p>\n<p>How do I set sdkman as well as JDK permanent in my system.</p>\n"},{"tags":["java","lambda","language-lawyer","type-inference","jls"],"comments":[{"owner":{"account_id":5126886,"reputation":20904,"user_id":4108590,"accept_rate":57,"display_name":"Ravindra Ranwala"},"score":0,"creation_date":1571909434,"post_id":58538083,"comment_id":103398805,"body_markdown":"It should be `Iterable&lt;? extends String&gt;` Not `? extends CharSequence`","body":"It should be <code>Iterable&lt;? extends String&gt;</code> Not <code>? extends CharSequence</code>"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1571909743,"post_id":58538083,"comment_id":103398982,"body_markdown":"@RavindraRanwala I don&#39;t understand your comment. Look at the [Javadoc for Files.write](https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#write-java.nio.file.Path-java.lang.Iterable-java.nio.file.OpenOption...-). This is not something I can change. And because `String` is final, it would be equal to `Iterable&lt;String&gt;`.","body":"@RavindraRanwala I don&#39;t understand your comment. Look at the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#write-java.nio.file.Path-java.lang.Iterable-java.nio.file.OpenOption...-\" rel=\"nofollow noreferrer\">Javadoc for Files.write</a>. This is not something I can change. And because <code>String</code> is final, it would be equal to <code>Iterable&lt;String&gt;</code>."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1571912048,"post_id":58538083,"comment_id":103400125,"body_markdown":"Might just be related to the [Capture Conversion#jls-5.1.10](https://docs.oracle.com/javase/specs/jls/se13/html/jls-5.html#jls-5.1.10)","body":"Might just be related to the <a href=\"https://docs.oracle.com/javase/specs/jls/se13/html/jls-5.html#jls-5.1.10\" rel=\"nofollow noreferrer\">Capture Conversion#jls-5.1.10</a>"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1571913787,"post_id":58538083,"comment_id":103401102,"body_markdown":"@Naman not at all. It doesn&#39;t matter if I use it as part of an assignment or if I use it in a call to `Files.write`. Assignment is just an easy way to provide a target for the lambda.","body":"@Naman not at all. It doesn&#39;t matter if I use it as part of an assignment or if I use it in a call to <code>Files.write</code>. Assignment is just an easy way to provide a target for the lambda."}],"answers":[{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1571925609,"creation_date":1571913898,"answer_id":58539641,"question_id":58538083,"body_markdown":"You can find some explanation [here][1]:\r\n\r\n&gt; Wildcard-parameterized functional interface types must be turned into a function type (method signature) before checking for compatibility ... This works as follows:\r\n\r\n    Iterable&lt;? extends CharSequence&gt; becomes () -&gt; Iterator&lt;CharSequence&gt;\r\n\r\nSo, if the lambda expression is implicitly-typed, the LHS becomes `Iterator&lt;CharSequence&gt;` while the RHS is `Iterator&lt;String&gt;`. Hence, an error:\r\n\r\n    Iterator&lt;String&gt; cannot be converted to Iterator&lt;CharSequence&gt;\r\n\r\nThis behavior is also explained in the [JLS &#167;18.5.3][2].\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8025073\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se12/html/jls-18.html#jls-18.5.3","title":"Why can&#39;t the Java compiler infer Iterable&lt;String&gt; from the constraints &quot;Iterable&lt;? extends CharSequence&gt; and () -&gt; (Iterator&lt;String&gt;)&quot;?","body":"<p>You can find some explanation <a href=\"https://bugs.openjdk.java.net/browse/JDK-8025073\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<blockquote>\n  <p>Wildcard-parameterized functional interface types must be turned into a function type (method signature) before checking for compatibility ... This works as follows:</p>\n</blockquote>\n\n<pre><code>Iterable&lt;? extends CharSequence&gt; becomes () -&gt; Iterator&lt;CharSequence&gt;\n</code></pre>\n\n<p>So, if the lambda expression is implicitly-typed, the LHS becomes <code>Iterator&lt;CharSequence&gt;</code> while the RHS is <code>Iterator&lt;String&gt;</code>. Hence, an error:</p>\n\n<pre><code>Iterator&lt;String&gt; cannot be converted to Iterator&lt;CharSequence&gt;\n</code></pre>\n\n<p>This behavior is also explained in the <a href=\"https://docs.oracle.com/javase/specs/jls/se12/html/jls-18.html#jls-18.5.3\" rel=\"nofollow noreferrer\">JLS §18.5.3</a>.</p>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571931913,"creation_date":1571931913,"answer_id":58544856,"question_id":58538083,"body_markdown":"After reading the other answer (which is absolutely correct) and some coffee, it seems the explanation in the bug is pretty logical. \r\n\r\nThere are two cases here: an _explicit_ lambda type and an _implicit_ lambda type. The explicit type is : \r\n\r\n\r\n    Iterable&lt;String&gt; one = () -&gt; Arrays.stream(arr).map(Object::toString).iterator();\r\n    Iterable&lt;? extends CharSequence&gt; iterable = one;\r\n\r\nor as in the OP&#39;s example:\r\n\r\n    Iterable&lt;? extends CharSequence&gt; iterable2 = (Iterable&lt;String&gt;) () -&gt; Arrays.stream(arr).map(Object::toString).iterator();\r\n\r\nWe are directly telling to the compiler which type the lambda expression is : `Iterable&lt;String&gt;`. \r\n\r\nIn this case the compiler has one thing to do only: see if the target is assignable to that type; pretty easy to find out and not very much related to lambdas per-se. \r\n\r\n   \r\n\r\n\r\nThe other type is an _implicit_ type, when the compiler has to _infer_ the type and things get a bit tricky here. The &quot;tricky&quot; part comes from the fact that the target uses wildcards, thus could match more than just one option. There could be an infinite number of ways (finite of course, but just to prove a point) that the lambda could be inferred as. \r\n\r\nIt could start with something like this for example:\r\n\r\n\r\n    Iterator&lt;? extends Serializable&gt; iter = Arrays.stream(arr).map(Object::toString).iterator();\r\n\r\nNo matter what further gets done, this will fail: `CharSequence` does not extend `Serializable`, but `String` does; we will not be able to assign `Iterable&lt;? extends CharSequence&gt; iterable` to &quot;whatever-the-infered-type-with-Serializable-is&quot;. \r\n\r\nOr it could start with:\r\n\r\n\r\n    Iterator&lt;? extends Comparable&lt;? extends CharSequence&gt;&gt; iter = Arrays.stream(arr).map(Object::toString).iterator();\r\n\r\nSo theoretically the compiler could just start to infer what that type could be and check one by one if a &quot;certain&quot; inferred type could match the target; but requires a lot of work, obviously; thus not done.\r\n\r\nThe other way is a lot easier, &quot;cut&quot; the target and thus drop the possibilities of inference to just one. Once the target is transformed to:\r\n\r\n\r\n    Iterable&lt;CharSequence&gt; iterable...\r\n\r\nthe work that a compiler has to do is _far_ more simple. \r\n\r\nThis, btw, would not be the first time I see this implicit vs explicit types logic in lambdas. \r\n\r\n   ","title":"Why can&#39;t the Java compiler infer Iterable&lt;String&gt; from the constraints &quot;Iterable&lt;? extends CharSequence&gt; and () -&gt; (Iterator&lt;String&gt;)&quot;?","body":"<p>After reading the other answer (which is absolutely correct) and some coffee, it seems the explanation in the bug is pretty logical. </p>\n\n<p>There are two cases here: an <em>explicit</em> lambda type and an <em>implicit</em> lambda type. The explicit type is : </p>\n\n<pre><code>Iterable&lt;String&gt; one = () -&gt; Arrays.stream(arr).map(Object::toString).iterator();\nIterable&lt;? extends CharSequence&gt; iterable = one;\n</code></pre>\n\n<p>or as in the OP's example:</p>\n\n<pre><code>Iterable&lt;? extends CharSequence&gt; iterable2 = (Iterable&lt;String&gt;) () -&gt; Arrays.stream(arr).map(Object::toString).iterator();\n</code></pre>\n\n<p>We are directly telling to the compiler which type the lambda expression is : <code>Iterable&lt;String&gt;</code>. </p>\n\n<p>In this case the compiler has one thing to do only: see if the target is assignable to that type; pretty easy to find out and not very much related to lambdas per-se. </p>\n\n<p>The other type is an <em>implicit</em> type, when the compiler has to <em>infer</em> the type and things get a bit tricky here. The \"tricky\" part comes from the fact that the target uses wildcards, thus could match more than just one option. There could be an infinite number of ways (finite of course, but just to prove a point) that the lambda could be inferred as. </p>\n\n<p>It could start with something like this for example:</p>\n\n<pre><code>Iterator&lt;? extends Serializable&gt; iter = Arrays.stream(arr).map(Object::toString).iterator();\n</code></pre>\n\n<p>No matter what further gets done, this will fail: <code>CharSequence</code> does not extend <code>Serializable</code>, but <code>String</code> does; we will not be able to assign <code>Iterable&lt;? extends CharSequence&gt; iterable</code> to \"whatever-the-infered-type-with-Serializable-is\". </p>\n\n<p>Or it could start with:</p>\n\n<pre><code>Iterator&lt;? extends Comparable&lt;? extends CharSequence&gt;&gt; iter = Arrays.stream(arr).map(Object::toString).iterator();\n</code></pre>\n\n<p>So theoretically the compiler could just start to infer what that type could be and check one by one if a \"certain\" inferred type could match the target; but requires a lot of work, obviously; thus not done.</p>\n\n<p>The other way is a lot easier, \"cut\" the target and thus drop the possibilities of inference to just one. Once the target is transformed to:</p>\n\n<pre><code>Iterable&lt;CharSequence&gt; iterable...\n</code></pre>\n\n<p>the work that a compiler has to do is <em>far</em> more simple. </p>\n\n<p>This, btw, would not be the first time I see this implicit vs explicit types logic in lambdas. </p>\n"}],"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":770,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"answer_count":2,"score":8,"last_activity_date":1677274071,"creation_date":1571908564,"question_id":58538083,"body_markdown":"Background: I recently wrote [an answer](https://stackoverflow.com/questions/58484655/outputting-array-of-object-to-csv-file-correctly-in-java-help/58484936#58484936) where I suggested writing the following code:\r\n\r\n    Files.write(Paths.get(&quot;PostgradStudent.csv&quot;),\r\n            Arrays.stream(PGstudentArray).map(Object::toString).collect(Collectors.toList()),\r\n            StandardOpenOption.CREATE, StandardOpenOption.TRUNCATE_EXISTING);\r\n\r\nAfter some thoughts, I went: &quot;I don&#39;t actually need a list here, I just need an `Iterable&lt;? extends CharSequence&gt;`&quot;.\r\nAs `Stream&lt;T&gt;` has a method `Iterator&lt;T&gt; iterator()`, I then thought, well, that&#39;s easy:\r\n\r\n    Iterable&lt;? extends CharSequence&gt; iterable = () -&gt; Arrays.stream(arr).map(Object::toString).iterator();\r\n\r\n(I extracted it to a local variable for this question, I would like to do it inline at the end.)\r\nUnfortunately this does not compile without additional type hints:\r\n\r\n```\r\nerror: incompatible types: bad return type in lambda expression\r\nIterable&lt;? extends CharSequence&gt; iterable = () -&gt; Arrays.stream(arr).map(Object::toString).iterator();\r\n                                                                                                   ^\r\n    Iterator&lt;String&gt; cannot be converted to Iterator&lt;CharSequence&gt;\r\n```\r\n\r\nOf course adding some type hints will make this work:\r\n\r\n    Iterable&lt;? extends CharSequence&gt; iterable2 = (Iterable&lt;String&gt;) () -&gt; Arrays.stream(arr).map(Object::toString).iterator();\r\n    Iterable&lt;? extends CharSequence&gt; iterable3 = () -&gt; Arrays.stream(arr).&lt;CharSequence&gt;map(Object::toString).iterator();\r\n\r\nIn my understanding, the Java compiler does the following things:\r\n\r\n1. It looks at the target type of the expression, which is `Iterable&lt;? extends CharSequence&gt;`.\r\n2. It then determines the function type of this interface, which is `() -&gt; Iterator&lt;? extends CharSequence&gt;` in my case.\r\n3. It then looks at the lambda and checks whether it is compatible.\r\n     In my case, the lambda has a type of `() -&gt; Iterator&lt;String&gt;`.\r\n     Which is compatible with the function type determined in step 2.\r\n\r\nInterestingly, if I change the target of the lambda to `Supplier`:\r\n\r\n    Supplier&lt;Iterator&lt;? extends CharSequence&gt;&gt; supplier = () -&gt; Arrays.stream(arr)\r\n        .map(Object::toString)\r\n        .iterator();\r\n\r\nit will compile fine.\r\n\r\nWhy can&#39;t javac infer the correct type for this lambda?\r\n\r\n","title":"Why can&#39;t the Java compiler infer Iterable&lt;String&gt; from the constraints &quot;Iterable&lt;? extends CharSequence&gt; and () -&gt; (Iterator&lt;String&gt;)&quot;?","body":"<p>Background: I recently wrote <a href=\"https://stackoverflow.com/questions/58484655/outputting-array-of-object-to-csv-file-correctly-in-java-help/58484936#58484936\">an answer</a> where I suggested writing the following code:</p>\n<pre><code>Files.write(Paths.get(&quot;PostgradStudent.csv&quot;),\n        Arrays.stream(PGstudentArray).map(Object::toString).collect(Collectors.toList()),\n        StandardOpenOption.CREATE, StandardOpenOption.TRUNCATE_EXISTING);\n</code></pre>\n<p>After some thoughts, I went: &quot;I don't actually need a list here, I just need an <code>Iterable&lt;? extends CharSequence&gt;</code>&quot;.\nAs <code>Stream&lt;T&gt;</code> has a method <code>Iterator&lt;T&gt; iterator()</code>, I then thought, well, that's easy:</p>\n<pre><code>Iterable&lt;? extends CharSequence&gt; iterable = () -&gt; Arrays.stream(arr).map(Object::toString).iterator();\n</code></pre>\n<p>(I extracted it to a local variable for this question, I would like to do it inline at the end.)\nUnfortunately this does not compile without additional type hints:</p>\n<pre><code>error: incompatible types: bad return type in lambda expression\nIterable&lt;? extends CharSequence&gt; iterable = () -&gt; Arrays.stream(arr).map(Object::toString).iterator();\n                                                                                                   ^\n    Iterator&lt;String&gt; cannot be converted to Iterator&lt;CharSequence&gt;\n</code></pre>\n<p>Of course adding some type hints will make this work:</p>\n<pre><code>Iterable&lt;? extends CharSequence&gt; iterable2 = (Iterable&lt;String&gt;) () -&gt; Arrays.stream(arr).map(Object::toString).iterator();\nIterable&lt;? extends CharSequence&gt; iterable3 = () -&gt; Arrays.stream(arr).&lt;CharSequence&gt;map(Object::toString).iterator();\n</code></pre>\n<p>In my understanding, the Java compiler does the following things:</p>\n<ol>\n<li>It looks at the target type of the expression, which is <code>Iterable&lt;? extends CharSequence&gt;</code>.</li>\n<li>It then determines the function type of this interface, which is <code>() -&gt; Iterator&lt;? extends CharSequence&gt;</code> in my case.</li>\n<li>It then looks at the lambda and checks whether it is compatible.\nIn my case, the lambda has a type of <code>() -&gt; Iterator&lt;String&gt;</code>.\nWhich is compatible with the function type determined in step 2.</li>\n</ol>\n<p>Interestingly, if I change the target of the lambda to <code>Supplier</code>:</p>\n<pre><code>Supplier&lt;Iterator&lt;? extends CharSequence&gt;&gt; supplier = () -&gt; Arrays.stream(arr)\n    .map(Object::toString)\n    .iterator();\n</code></pre>\n<p>it will compile fine.</p>\n<p>Why can't javac infer the correct type for this lambda?</p>\n"},{"tags":["java","android","permissions","android-manifest","screensaver"],"owner":{"account_id":27872782,"reputation":1,"user_id":21282901,"display_name":"YMP Yuri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677273700,"creation_date":1677273700,"question_id":75561488,"body_markdown":"I wanted to make an app for Android and Android TV that acts as a screen saver. After studying this material:\r\n\r\nhttps://stackoverflow.com/questions/8356031/creating-a-screensaver-in-android\r\n\r\n**I realized that I need to add a special permission:**\r\n\r\n- android.service.dreams.DreamService\r\n\r\n- android.intent.action.MAIN\r\n\r\n- android.intent.category.HOME\r\n\r\n- android.intent.category.DEFAULT\r\n\r\n**But unfortunately this doesn&#39;t work. The app doesn&#39;t show up in the screenserver lists either on Android TV or on my phone.**\r\n\r\n[List of all screensavers](https://i.stack.imgur.com/KhpxU.png)\r\n\r\nCan you help me?\r\n\r\n**Android Manifest:**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.SET_WALLPAPER&quot; /&gt;\r\n \r\n\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:permission=&quot;android.permission.BIND_DREAM_SERVICE&quot;\r\n        android:theme=&quot;@style/Theme.Screensaver&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.HOME&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;action android:name=&quot;android.service.dreams.DreamService&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n\r\n\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\n**Java:**\r\n\r\n```\r\npackage com.tv.screensaver.test;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.app.Activity;\r\nimport android.os.Bundle;\r\nimport android.view.WindowManager;\r\n\r\npublic class MainActivity extends Activity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        getWindow().addFlags(\r\n                WindowManager.LayoutParams.FLAG_SHOW_WHEN_LOCKED |\r\n                        WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON |\r\n                        WindowManager.LayoutParams.FLAG_TURN_SCREEN_ON);\r\n    }\r\n}\r\n```\r\n\r\nP.S I&#39;m new to StackOverflow and not really programming in Android Studio (I&#39;m 13 years old)\r\n\r\n**I realized that I need to add a special permission:**\r\n\r\n- android.service.dreams.DreamService\r\n\r\n- android.intent.action.MAIN\r\n\r\n- android.intent.category.HOME\r\n\r\n- android.intent.category.DEFAULT\r\n\r\n**But unfortunately this doesn&#39;t work. The app doesn&#39;t show up in the screenserver lists either on Android TV or on my phone.**\r\n\r\n[List of all screensavers](https://i.stack.imgur.com/KhpxU.png)\r\n","title":"Creating a screensaver app in Android (or Android TV)","body":"<p>I wanted to make an app for Android and Android TV that acts as a screen saver. After studying this material:</p>\n<p><a href=\"https://stackoverflow.com/questions/8356031/creating-a-screensaver-in-android\">Creating a screensaver in Android</a></p>\n<p><strong>I realized that I need to add a special permission:</strong></p>\n<ul>\n<li><p>android.service.dreams.DreamService</p>\n</li>\n<li><p>android.intent.action.MAIN</p>\n</li>\n<li><p>android.intent.category.HOME</p>\n</li>\n<li><p>android.intent.category.DEFAULT</p>\n</li>\n</ul>\n<p><strong>But unfortunately this doesn't work. The app doesn't show up in the screenserver lists either on Android TV or on my phone.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/KhpxU.png\" rel=\"nofollow noreferrer\">List of all screensavers</a></p>\n<p>Can you help me?</p>\n<p><strong>Android Manifest:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.SET_WALLPAPER&quot; /&gt;\n \n\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:permission=&quot;android.permission.BIND_DREAM_SERVICE&quot;\n        android:theme=&quot;@style/Theme.Screensaver&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.HOME&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n                &lt;action android:name=&quot;android.service.dreams.DreamService&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n\n\n            &lt;/intent-filter&gt;\n\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p><strong>Java:</strong></p>\n<pre><code>package com.tv.screensaver.test;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.app.Activity;\nimport android.os.Bundle;\nimport android.view.WindowManager;\n\npublic class MainActivity extends Activity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        getWindow().addFlags(\n                WindowManager.LayoutParams.FLAG_SHOW_WHEN_LOCKED |\n                        WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON |\n                        WindowManager.LayoutParams.FLAG_TURN_SCREEN_ON);\n    }\n}\n</code></pre>\n<p>P.S I'm new to StackOverflow and not really programming in Android Studio (I'm 13 years old)</p>\n<p><strong>I realized that I need to add a special permission:</strong></p>\n<ul>\n<li><p>android.service.dreams.DreamService</p>\n</li>\n<li><p>android.intent.action.MAIN</p>\n</li>\n<li><p>android.intent.category.HOME</p>\n</li>\n<li><p>android.intent.category.DEFAULT</p>\n</li>\n</ul>\n<p><strong>But unfortunately this doesn't work. The app doesn't show up in the screenserver lists either on Android TV or on my phone.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/KhpxU.png\" rel=\"nofollow noreferrer\">List of all screensavers</a></p>\n"},{"tags":["java","amazon-dynamodb"],"comments":[{"owner":{"account_id":4064266,"reputation":1553,"user_id":3339818,"display_name":"surajs1n"},"score":0,"creation_date":1677564047,"post_id":75561362,"comment_id":133357830,"body_markdown":"what is your use-case? in short what and why you are trying to do it?","body":"what is your use-case? in short what and why you are trying to do it?"}],"owner":{"account_id":2802819,"reputation":81,"user_id":2410726,"display_name":"SERGIO STATERI JUNIOR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677272665,"creation_date":1677272665,"question_id":75561362,"body_markdown":"How can I read 235 thousand records from DynamoDB using DynamoDbAsyncTable.scan()?\r\nI need to use the classes on this package: software.amazon.awssdk.enhanced.dynamodb.*\r\n\r\n\r\n\r\nThanks","title":"How to read a large amount of data from DynamoDB in Java?","body":"<p>How can I read 235 thousand records from DynamoDB using DynamoDbAsyncTable.scan()?\nI need to use the classes on this package: software.amazon.awssdk.enhanced.dynamodb.*</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot","apache-kafka","apache-camel"],"comments":[{"owner":{"account_id":943935,"reputation":1636,"user_id":971566,"display_name":"Oscerd"},"score":0,"creation_date":1674224513,"post_id":75168859,"comment_id":132674626,"body_markdown":"It would be good to report the Camel version too.","body":"It would be good to report the Camel version too."}],"owner":{"account_id":8391615,"reputation":91,"user_id":6300171,"display_name":"shijin raj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677272207,"creation_date":1674112854,"question_id":75168859,"body_markdown":"We have observed that our Apache Camel Kafka is able to process only 100Kb / second though our kafka producing rate is high. We have 6 kafka partitions and 6 Apache Camel Kafka consumer instances .\r\n\r\nWe have tried with multithreading options - threads(300, 500) . But we could not see any improvements\r\n\r\nIt will be really helpful if someone could help to understand the correct configurations to improve the kafka consumer rate.\r\n \r\nWe are using all the default settings for Apache Camel Kafka consumer.\r\n\r\nI could see the below kafka configuration in spring boot application start :\r\n````\r\nINFO 1 — [           main] o.a.k.clients.producer.ProducerConfig    : ProducerConfig values:\r\n        acks = 1\r\n        batch.size = 16384\r\n        bootstrap.servers = [kafka1.xxx.net:9093, kafka2.xxx.net:9093, kafka3.xxx.net:9093, kafka4.xxx.net:9093, kafka5.xxx.net:9093, kafka6.xxx.net:9093]\r\n        buffer.memory = 33554432\r\n        client.dns.lookup = use_all_dns_ips\r\n        client.id = producer-1\r\n        compression.type = none\r\n        connections.max.idle.ms = 540000\r\n        delivery.timeout.ms = 120000\r\n        enable.idempotence = false\r\n        interceptor.classes = []\r\n        key.serializer = class org.apache.kafka.common.serialization.StringSerializer\r\n        linger.ms = 0\r\n        max.block.ms = 60000\r\n        max.in.flight.requests.per.connection = 5\r\n        max.request.size = 104857600\r\n        metadata.max.age.ms = 300000\r\n        metadata.max.idle.ms = 300000\r\n        metric.reporters = [org.apache.kafka.common.metrics.JmxReporter]\r\n        metrics.num.samples = 2\r\n        metrics.recording.level = INFO\r\n        metrics.sample.window.ms = 30000\r\n        partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner\r\n        receive.buffer.bytes = 65536000\r\n        reconnect.backoff.max.ms = 1000\r\n        reconnect.backoff.ms = 50\r\n        request.timeout.ms = 30000\r\n        retries = 0\r\n        retry.backoff.ms = 100\r\n        sasl.client.callback.handler.class = null\r\n        sasl.jaas.config = null\r\n        sasl.kerberos.kinit.cmd = /usr/bin/kinit\r\n        sasl.kerberos.min.time.before.relogin = 60000\r\n        sasl.kerberos.service.name = null\r\n        sasl.kerberos.ticket.renew.jitter = 0.05\r\n        sasl.kerberos.ticket.renew.window.factor = 0.8\r\n        sasl.login.callback.handler.class = null\r\n        sasl.login.class = null\r\n        sasl.login.refresh.buffer.seconds = 300\r\n        sasl.login.refresh.min.period.seconds = 60\r\n        sasl.login.refresh.window.factor = 0.8\r\n        sasl.login.refresh.window.jitter = 0.05\r\n        sasl.mechanism = GSSAPI\r\n        security.protocol = SSL\r\n        security.providers = null\r\n        send.buffer.bytes = 131072\r\n        socket.connection.setup.timeout.max.ms = 30000\r\n        socket.connection.setup.timeout.ms = 10000\r\n        ssl.cipher.suites = null\r\n        ssl.enabled.protocols = [TLSv1.2, TLSv1.3]\r\n        ssl.endpoint.identification.algorithm = https\r\n        ssl.engine.factory.class = null\r\n        ssl.key.password = [hidden]\r\n        ssl.keymanager.algorithm = SunX509\r\n        ssl.keystore.certificate.chain = null\r\n        ssl.keystore.key = null\r\n        ssl.keystore.location = /tmp/certs/XXX.jks\r\n        ssl.keystore.password = [hidden]\r\n        ssl.keystore.type = JKS\r\n        ssl.protocol = TLSv1.3\r\n        ssl.provider = null\r\n        ssl.secure.random.implementation = null\r\n        ssl.trustmanager.algorithm = PKIX\r\n        ssl.truststore.certificates = null\r\n        ssl.truststore.location = /tmp/certsFolder/kafka.truststore.jks\r\n        ssl.truststore.password = [hidden]\r\n        ssl.truststore.type = JKS\r\n        transaction.timeout.ms = 60000\r\n        transactional.id = null\r\n        value.serializer = class org.apache.kafka.common.serialization.StringSerializer\r\n````\r\n\r\nWe have tried with multithreading options - .threads(300, 500) . But we could not see any improvements.\r\n\r\nIs it something related with kafka consumer properties ?\r\n\r\nspring-boot-starter-parent version - 2.6.8\r\norg.apache.camel.springboot version - 3.14.1\r\n\r\nGrafana Dashboard - \r\nProducer Rate and Consumer Rates Overview :\r\n[![enter image description here][1]][1] \r\n\r\nKafka Partition 1 – Producer and Consumer: Producer is a constant line . But Apache camel consumer has ups &amp; down in the consumption rate\r\n[![enter image description here][2]][2] \r\n\r\nKafka Partition 2 – Producer and Consumer: Producer is a constant line. But Apache camel consumer has ups &amp; down in the consumption rate  \r\n[![enter image description here][3]][3]\r\n\r\nKafka Partition 3 – Producer and Consumer: Producer is a constant line. But Apache camel consumer has ups &amp; down in the consumption rate\r\n[![enter image description here][4]][4] \r\n\r\nKafka Partition 4 – Producer and Consumer: Producer is a constant line. But Apache camel consumer is only having a consumption rate of 30 B/s.\r\n[![enter image description here][5]][5] \r\n\r\nKafka Partition 5 – Producer and Consumer: Producer is a constant line. But Apache camel consumer is only having a consumption rate of 30 B/s.\r\n[![enter image description here][6]][6]\r\n \r\nKafka Partition 6 – Producer and Consumer: Producer is a constant line. But Apache camel consumer has ups &amp; down in the consumption rate.\r\n[![enter image description here][7]][7]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/l26v7.jpg\r\n  [2]: https://i.stack.imgur.com/7jVaN.jpg\r\n  [3]: https://i.stack.imgur.com/6CQ2c.jpg\r\n  [4]: https://i.stack.imgur.com/ULQME.jpg\r\n  [5]: https://i.stack.imgur.com/rLNYV.jpg\r\n  [6]: https://i.stack.imgur.com/ibJwc.jpg\r\n  [7]: https://i.stack.imgur.com/OOoOM.jpg","title":"Apache camel kafka consumer performance problem","body":"<p>We have observed that our Apache Camel Kafka is able to process only 100Kb / second though our kafka producing rate is high. We have 6 kafka partitions and 6 Apache Camel Kafka consumer instances .</p>\n<p>We have tried with multithreading options - threads(300, 500) . But we could not see any improvements</p>\n<p>It will be really helpful if someone could help to understand the correct configurations to improve the kafka consumer rate.</p>\n<p>We are using all the default settings for Apache Camel Kafka consumer.</p>\n<p>I could see the below kafka configuration in spring boot application start :</p>\n<pre><code>INFO 1 — [           main] o.a.k.clients.producer.ProducerConfig    : ProducerConfig values:\n        acks = 1\n        batch.size = 16384\n        bootstrap.servers = [kafka1.xxx.net:9093, kafka2.xxx.net:9093, kafka3.xxx.net:9093, kafka4.xxx.net:9093, kafka5.xxx.net:9093, kafka6.xxx.net:9093]\n        buffer.memory = 33554432\n        client.dns.lookup = use_all_dns_ips\n        client.id = producer-1\n        compression.type = none\n        connections.max.idle.ms = 540000\n        delivery.timeout.ms = 120000\n        enable.idempotence = false\n        interceptor.classes = []\n        key.serializer = class org.apache.kafka.common.serialization.StringSerializer\n        linger.ms = 0\n        max.block.ms = 60000\n        max.in.flight.requests.per.connection = 5\n        max.request.size = 104857600\n        metadata.max.age.ms = 300000\n        metadata.max.idle.ms = 300000\n        metric.reporters = [org.apache.kafka.common.metrics.JmxReporter]\n        metrics.num.samples = 2\n        metrics.recording.level = INFO\n        metrics.sample.window.ms = 30000\n        partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner\n        receive.buffer.bytes = 65536000\n        reconnect.backoff.max.ms = 1000\n        reconnect.backoff.ms = 50\n        request.timeout.ms = 30000\n        retries = 0\n        retry.backoff.ms = 100\n        sasl.client.callback.handler.class = null\n        sasl.jaas.config = null\n        sasl.kerberos.kinit.cmd = /usr/bin/kinit\n        sasl.kerberos.min.time.before.relogin = 60000\n        sasl.kerberos.service.name = null\n        sasl.kerberos.ticket.renew.jitter = 0.05\n        sasl.kerberos.ticket.renew.window.factor = 0.8\n        sasl.login.callback.handler.class = null\n        sasl.login.class = null\n        sasl.login.refresh.buffer.seconds = 300\n        sasl.login.refresh.min.period.seconds = 60\n        sasl.login.refresh.window.factor = 0.8\n        sasl.login.refresh.window.jitter = 0.05\n        sasl.mechanism = GSSAPI\n        security.protocol = SSL\n        security.providers = null\n        send.buffer.bytes = 131072\n        socket.connection.setup.timeout.max.ms = 30000\n        socket.connection.setup.timeout.ms = 10000\n        ssl.cipher.suites = null\n        ssl.enabled.protocols = [TLSv1.2, TLSv1.3]\n        ssl.endpoint.identification.algorithm = https\n        ssl.engine.factory.class = null\n        ssl.key.password = [hidden]\n        ssl.keymanager.algorithm = SunX509\n        ssl.keystore.certificate.chain = null\n        ssl.keystore.key = null\n        ssl.keystore.location = /tmp/certs/XXX.jks\n        ssl.keystore.password = [hidden]\n        ssl.keystore.type = JKS\n        ssl.protocol = TLSv1.3\n        ssl.provider = null\n        ssl.secure.random.implementation = null\n        ssl.trustmanager.algorithm = PKIX\n        ssl.truststore.certificates = null\n        ssl.truststore.location = /tmp/certsFolder/kafka.truststore.jks\n        ssl.truststore.password = [hidden]\n        ssl.truststore.type = JKS\n        transaction.timeout.ms = 60000\n        transactional.id = null\n        value.serializer = class org.apache.kafka.common.serialization.StringSerializer\n</code></pre>\n<p>We have tried with multithreading options - .threads(300, 500) . But we could not see any improvements.</p>\n<p>Is it something related with kafka consumer properties ?</p>\n<p>spring-boot-starter-parent version - 2.6.8\norg.apache.camel.springboot version - 3.14.1</p>\n<p>Grafana Dashboard -\nProducer Rate and Consumer Rates Overview :\n<a href=\"https://i.stack.imgur.com/l26v7.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l26v7.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Kafka Partition 1 – Producer and Consumer: Producer is a constant line . But Apache camel consumer has ups &amp; down in the consumption rate\n<a href=\"https://i.stack.imgur.com/7jVaN.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7jVaN.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Kafka Partition 2 – Producer and Consumer: Producer is a constant line. But Apache camel consumer has ups &amp; down in the consumption rate<br />\n<a href=\"https://i.stack.imgur.com/6CQ2c.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6CQ2c.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Kafka Partition 3 – Producer and Consumer: Producer is a constant line. But Apache camel consumer has ups &amp; down in the consumption rate\n<a href=\"https://i.stack.imgur.com/ULQME.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ULQME.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Kafka Partition 4 – Producer and Consumer: Producer is a constant line. But Apache camel consumer is only having a consumption rate of 30 B/s.\n<a href=\"https://i.stack.imgur.com/rLNYV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rLNYV.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Kafka Partition 5 – Producer and Consumer: Producer is a constant line. But Apache camel consumer is only having a consumption rate of 30 B/s.\n<a href=\"https://i.stack.imgur.com/ibJwc.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ibJwc.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Kafka Partition 6 – Producer and Consumer: Producer is a constant line. But Apache camel consumer has ups &amp; down in the consumption rate.\n<a href=\"https://i.stack.imgur.com/OOoOM.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OOoOM.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":6543788,"reputation":60,"user_id":5060408,"display_name":"arun k"},"score":0,"creation_date":1526407751,"post_id":50355517,"comment_id":87729750,"body_markdown":"The validation-api version got added through transitive dependency is 1.0.0.GA. This version was not explicitly specified, but through hibernate-validator.","body":"The validation-api version got added through transitive dependency is 1.0.0.GA. This version was not explicitly specified, but through hibernate-validator."},{"owner":{"account_id":6543788,"reputation":60,"user_id":5060408,"display_name":"arun k"},"score":0,"creation_date":1526448633,"post_id":50355517,"comment_id":87742348,"body_markdown":"Looks like some dependency issue with one of the jars(most likely one of spring* jars) and hibernate-validator-4.2.0.Final. After using the version 5.2.1.Final for Hibernate-Validator the issue got resolved. However i couldn&#39;t find any proof of the dependency issue with version 4.2.0.Final.","body":"Looks like some dependency issue with one of the jars(most likely one of spring* jars) and hibernate-validator-4.2.0.Final. After using the version 5.2.1.Final for Hibernate-Validator the issue got resolved. However i couldn&#39;t find any proof of the dependency issue with version 4.2.0.Final."}],"answers":[{"tags":[],"owner":{"account_id":382996,"reputation":1055,"user_id":738578,"accept_rate":50,"display_name":"Brian Beech"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550095918,"creation_date":1550095918,"answer_id":54680255,"question_id":50355517,"body_markdown":"I was having a similar problem and had to exclude the JBoss provided javax.validation api classes. I did this by creating a jboss-deployment-structure.xml file that excluded not only the api classes, but modules that depend on them also. My file looked like:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;jboss-deployment-structure xmlns=&quot;urn:jboss:deployment-structure:1.2&quot;&gt;\r\n        &lt;deployment&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;module name=&quot;javaee.api&quot;/&gt;\r\n                &lt;module name=&quot;javax.validation.api&quot;/&gt;\r\n                &lt;module name=&quot;javax.faces.api&quot;/&gt;\r\n                &lt;module name=&quot;org.hibernate.validator&quot;/&gt;\r\n            &lt;/exclusions&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;module name=&quot;javaee.api&quot;&gt;\r\n                    &lt;imports&gt;\r\n                        &lt;exclude-set&gt;\r\n                            &lt;path name=&quot;javax/ws/rs&quot;/&gt;\r\n                            &lt;path name=&quot;javax/ws/rs/core&quot;/&gt;\r\n                            &lt;path name=&quot;javax/ws/rs/ext&quot;/&gt;\r\n                            &lt;path name=&quot;javax/validation&quot;/&gt;\r\n                            &lt;path name=&quot;javax/validation/bootstrap&quot;/&gt;\r\n                            &lt;path name=&quot;javax/validation/constraints&quot;/&gt;\r\n                            &lt;path name=&quot;javax/validation/groups&quot;/&gt;\r\n                            &lt;path name=&quot;javax/validation/metadata&quot;/&gt;\r\n                            &lt;path name=&quot;javax/validation/spi&quot;/&gt;\r\n                        &lt;/exclude-set&gt;\r\n                    &lt;/imports&gt;\r\n                &lt;/module&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/deployment&gt;\r\n    &lt;/jboss-deployment-structure&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAfter I deployed this with the WAR file, everything worked as expected.","title":"Exception in Spring MVC with Hibernate Validator","body":"<p>I was having a similar problem and had to exclude the JBoss provided javax.validation api classes. I did this by creating a jboss-deployment-structure.xml file that excluded not only the api classes, but modules that depend on them also. My file looked like:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;jboss-deployment-structure xmlns=\"urn:jboss:deployment-structure:1.2\"&gt;\r\n    &lt;deployment&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;module name=\"javaee.api\"/&gt;\r\n            &lt;module name=\"javax.validation.api\"/&gt;\r\n            &lt;module name=\"javax.faces.api\"/&gt;\r\n            &lt;module name=\"org.hibernate.validator\"/&gt;\r\n        &lt;/exclusions&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;module name=\"javaee.api\"&gt;\r\n                &lt;imports&gt;\r\n                    &lt;exclude-set&gt;\r\n                        &lt;path name=\"javax/ws/rs\"/&gt;\r\n                        &lt;path name=\"javax/ws/rs/core\"/&gt;\r\n                        &lt;path name=\"javax/ws/rs/ext\"/&gt;\r\n                        &lt;path name=\"javax/validation\"/&gt;\r\n                        &lt;path name=\"javax/validation/bootstrap\"/&gt;\r\n                        &lt;path name=\"javax/validation/constraints\"/&gt;\r\n                        &lt;path name=\"javax/validation/groups\"/&gt;\r\n                        &lt;path name=\"javax/validation/metadata\"/&gt;\r\n                        &lt;path name=\"javax/validation/spi\"/&gt;\r\n                    &lt;/exclude-set&gt;\r\n                &lt;/imports&gt;\r\n            &lt;/module&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/deployment&gt;\r\n&lt;/jboss-deployment-structure&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>After I deployed this with the WAR file, everything worked as expected.</p>\n"},{"tags":[],"owner":{"account_id":6607019,"reputation":36,"user_id":5103546,"display_name":"Levant Alejandro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677272163,"creation_date":1677272163,"answer_id":75561310,"question_id":50355517,"body_markdown":"I had this exact same issue, Tomcat Spring Boot App with a library that used both Hibernate validation (4.0) and Javax validation(1.0.0.GA). \r\nBut in my case Hibernate Validator was used inside a dependency and not directly in my project&#39;s pom. If upgrading the version on your pom doesn&#39;t work (or you just don&#39;t have that dependency in your POM to begin with), use DependencyManagement to ensure the correct versions are enforced for dependencies:\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.1.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;","title":"Exception in Spring MVC with Hibernate Validator","body":"<p>I had this exact same issue, Tomcat Spring Boot App with a library that used both Hibernate validation (4.0) and Javax validation(1.0.0.GA).\nBut in my case Hibernate Validator was used inside a dependency and not directly in my project's pom. If upgrading the version on your pom doesn't work (or you just don't have that dependency in your POM to begin with), use DependencyManagement to ensure the correct versions are enforced for dependencies:</p>\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;5.2.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n"}],"owner":{"account_id":6543788,"reputation":60,"user_id":5060408,"display_name":"arun k"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677272163,"creation_date":1526403134,"question_id":50355517,"body_markdown":"I am having the hibernate-validator version 4.2.0.Final added in my spring mvc project. spring-webmvc version is 5.0.6.RELEASE. However, while launching the application, i see the following error:\r\n\r\n\r\n    javax.servlet.ServletException: Servlet.init() for servlet fitTrackerServlet threw exception\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:498)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\r\n    \torg.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:1025)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)\r\n    \torg.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1115)\r\n    \torg.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\r\n    \torg.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)\r\n    \tjava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tjava.lang.Thread.run(Thread.java:745)\r\n    root cause\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.validation.beanvalidation.OptionalValidatorFactoryBean#0&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.validation.beanvalidation.OptionalValidatorFactoryBean] from ClassLoader [WebappClassLoader\r\n      context: /FitnessTracker\r\n      delegate: false\r\n      repositories:\r\n        /WEB-INF/classes/\r\n    ----------&gt; Parent Classloader:\r\n    java.net.URLClassLoader@279f2327\r\n    ]\r\n    \torg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:262)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1202)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1127)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:541)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\r\n    \torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n    \torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:760)\r\n    \torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\r\n    \torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\r\n    \torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:672)\r\n    \torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:638)\r\n    \torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:686)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:554)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)\r\n    \torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)\r\n    \tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:498)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\r\n    \torg.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:1025)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)\r\n    \torg.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1115)\r\n    \torg.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\r\n    \torg.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)\r\n    \tjava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tjava.lang.Thread.run(Thread.java:745)\r\n    root cause\r\n    java.lang.IllegalStateException: Failed to introspect Class [org.springframework.validation.beanvalidation.OptionalValidatorFactoryBean] from ClassLoader [WebappClassLoader\r\n      context: /FitnessTracker\r\n      delegate: false\r\n      repositories:\r\n        /WEB-INF/classes/\r\n    ----------&gt; Parent Classloader:\r\n    java.net.URLClassLoader@279f2327\r\n    ]\r\n    \torg.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:659)\r\n    \torg.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:556)\r\n    \torg.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:541)\r\n    \torg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:245)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1202)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1127)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:541)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\r\n    \torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n    \torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:760)\r\n    \torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\r\n    \torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\r\n    \torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:672)\r\n    \torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:638)\r\n    \torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:686)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:554)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)\r\n    \torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)\r\n    \tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:498)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\r\n    \torg.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:1025)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)\r\n    \torg.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1115)\r\n    \torg.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\r\n    \torg.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)\r\n    \tjava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tjava.lang.Thread.run(Thread.java:745)\r\n    root cause\r\n    java.lang.NoClassDefFoundError: javax/validation/ParameterNameProvider\r\n    \tjava.lang.Class.getDeclaredMethods0(Native Method)\r\n    \tjava.lang.Class.privateGetDeclaredMethods(Class.java:2701)\r\n    \tjava.lang.Class.getDeclaredMethods(Class.java:1975)\r\n    \torg.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:641)\r\n    \torg.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:556)\r\n    \torg.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:541)\r\n    \torg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:245)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1202)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1127)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:541)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\r\n    \torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n    \torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:760)\r\n    \torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\r\n    \torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\r\n    \torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:672)\r\n    \torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:638)\r\n    \torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:686)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:554)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)\r\n    \torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)\r\n    \tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:498)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\r\n    \torg.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:1025)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)\r\n    \torg.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1115)\r\n    \torg.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\r\n    \torg.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)\r\n    \tjava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tjava.lang.Thread.run(Thread.java:745)\r\n    root cause\r\n    java.lang.ClassNotFoundException: javax.validation.ParameterNameProvider\r\n    \torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1928)\r\n    \torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1771)\r\n    \tjava.lang.Class.getDeclaredMethods0(Native Method)\r\n    \tjava.lang.Class.privateGetDeclaredMethods(Class.java:2701)\r\n    \tjava.lang.Class.getDeclaredMethods(Class.java:1975)\r\n    \torg.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:641)\r\n    \torg.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:556)\r\n    \torg.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:541)\r\n    \torg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:245)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1202)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1127)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:541)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\r\n    \torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n    \torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:760)\r\n    \torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\r\n    \torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\r\n    \torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:672)\r\n    \torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:638)\r\n    \torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:686)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:554)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)\r\n    \torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)\r\n    \tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:498)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\r\n    \torg.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:1025)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)\r\n    \torg.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1115)\r\n    \torg.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\r\n    \torg.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)\r\n    \tjava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tjava.lang.Thread.run(Thread.java:745)\r\n    note The full stack trace of the root cause is available in the Apache Tomcat/7.0.86 logs.\r\n\r\nAny Idea why this error comes? In code there is no problem. Just adding the jar causes this problem. Is there any compatibility issue between the two jars?\r\n\r\nThe pom.xml dependencies list and Maven Dependencies are shown below:\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ciDik.png\r\n  [2]: https://i.stack.imgur.com/G0L5x.png","title":"Exception in Spring MVC with Hibernate Validator","body":"<p>I am having the hibernate-validator version 4.2.0.Final added in my spring mvc project. spring-webmvc version is 5.0.6.RELEASE. However, while launching the application, i see the following error:</p>\n\n<pre><code>javax.servlet.ServletException: Servlet.init() for servlet fitTrackerServlet threw exception\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:498)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\n    org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:1025)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)\n    org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1115)\n    org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\n    org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)\n    java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.lang.Thread.run(Thread.java:745)\nroot cause\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.validation.beanvalidation.OptionalValidatorFactoryBean#0': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.validation.beanvalidation.OptionalValidatorFactoryBean] from ClassLoader [WebappClassLoader\n  context: /FitnessTracker\n  delegate: false\n  repositories:\n    /WEB-INF/classes/\n----------&gt; Parent Classloader:\njava.net.URLClassLoader@279f2327\n]\n    org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:262)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1202)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1127)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:541)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501)\n    org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:760)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\n    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:672)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:638)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:686)\n    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:554)\n    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)\n    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:498)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\n    org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:1025)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)\n    org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1115)\n    org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\n    org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)\n    java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.lang.Thread.run(Thread.java:745)\nroot cause\njava.lang.IllegalStateException: Failed to introspect Class [org.springframework.validation.beanvalidation.OptionalValidatorFactoryBean] from ClassLoader [WebappClassLoader\n  context: /FitnessTracker\n  delegate: false\n  repositories:\n    /WEB-INF/classes/\n----------&gt; Parent Classloader:\njava.net.URLClassLoader@279f2327\n]\n    org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:659)\n    org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:556)\n    org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:541)\n    org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:245)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1202)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1127)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:541)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501)\n    org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:760)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\n    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:672)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:638)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:686)\n    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:554)\n    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)\n    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:498)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\n    org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:1025)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)\n    org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1115)\n    org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\n    org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)\n    java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.lang.Thread.run(Thread.java:745)\nroot cause\njava.lang.NoClassDefFoundError: javax/validation/ParameterNameProvider\n    java.lang.Class.getDeclaredMethods0(Native Method)\n    java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\n    java.lang.Class.getDeclaredMethods(Class.java:1975)\n    org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:641)\n    org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:556)\n    org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:541)\n    org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:245)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1202)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1127)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:541)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501)\n    org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:760)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\n    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:672)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:638)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:686)\n    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:554)\n    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)\n    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:498)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\n    org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:1025)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)\n    org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1115)\n    org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\n    org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)\n    java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.lang.Thread.run(Thread.java:745)\nroot cause\njava.lang.ClassNotFoundException: javax.validation.ParameterNameProvider\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1928)\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1771)\n    java.lang.Class.getDeclaredMethods0(Native Method)\n    java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\n    java.lang.Class.getDeclaredMethods(Class.java:1975)\n    org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:641)\n    org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:556)\n    org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:541)\n    org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:245)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1202)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1127)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:541)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501)\n    org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:760)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\n    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:672)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:638)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:686)\n    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:554)\n    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)\n    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:498)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\n    org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:1025)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)\n    org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1115)\n    org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\n    org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)\n    java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.lang.Thread.run(Thread.java:745)\nnote The full stack trace of the root cause is available in the Apache Tomcat/7.0.86 logs.\n</code></pre>\n\n<p>Any Idea why this error comes? In code there is no problem. Just adding the jar causes this problem. Is there any compatibility issue between the two jars?</p>\n\n<p>The pom.xml dependencies list and Maven Dependencies are shown below:\n<a href=\"https://i.stack.imgur.com/ciDik.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ciDik.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/G0L5x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G0L5x.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":8320526,"reputation":2415,"user_id":6252399,"display_name":"Alan Sereb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567016872,"creation_date":1567016246,"answer_id":57698064,"question_id":57697899,"body_markdown":"You have to add cascading for your `@ManyToOne` mapping.\r\nUpdate this line in your User `@Entity` and it will work:\r\n\r\n    @Entity\r\n    public class Chapter {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(nullable = false, updatable = false)\r\n        private Long id;\r\n    \r\n        private String name;\r\n    \r\n        @ManyToOne(cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH})\r\n        @JoinColumn(name = &quot;user_id&quot;)\r\n        private User user;\r\n    \r\n    }\r\n\r\nThe second thing you might want to do, is updating your controller, so it assigns user id to your new chapter, just like this: \r\n\r\n    @PostMapping(&quot;/chapters&quot;)// issue is here\r\n    void newChapter(@RequestParam (value = &quot;username&quot;, required=true)\r\n                            String username, @RequestBody Chapter newChapter) {\r\n        User user = userRepository.findByUsername(username);\r\n        newChapter.setUser(user);\r\n        user.addChapter(newChapter);\r\n        System.out.println(user);\r\n        userRepository.save(user);\r\n    }","title":"How can I save child in an existing parent when doing a POST request?","body":"<p>You have to add cascading for your <code>@ManyToOne</code> mapping.\nUpdate this line in your User <code>@Entity</code> and it will work:</p>\n\n<pre><code>@Entity\npublic class Chapter {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(nullable = false, updatable = false)\n    private Long id;\n\n    private String name;\n\n    @ManyToOne(cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH})\n    @JoinColumn(name = \"user_id\")\n    private User user;\n\n}\n</code></pre>\n\n<p>The second thing you might want to do, is updating your controller, so it assigns user id to your new chapter, just like this: </p>\n\n<pre><code>@PostMapping(\"/chapters\")// issue is here\nvoid newChapter(@RequestParam (value = \"username\", required=true)\n                        String username, @RequestBody Chapter newChapter) {\n    User user = userRepository.findByUsername(username);\n    newChapter.setUser(user);\n    user.addChapter(newChapter);\n    System.out.println(user);\n    userRepository.save(user);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2514034,"reputation":834,"user_id":2185829,"display_name":"chubock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567018520,"creation_date":1567018520,"answer_id":57698533,"question_id":57697899,"body_markdown":"I think you should set the `user` entity in `newChapter.user` field. Because it&#39;s the `Chapter` Entity which owns the relationship.\r\n\r\nThe `cascade` method in `OneToMany` annotation only specifies  which operations must be cascaded. It doesn&#39;t mean that the `user` property of `Chapter` entity will be set automatically.\r\n\r\n","title":"How can I save child in an existing parent when doing a POST request?","body":"<p>I think you should set the <code>user</code> entity in <code>newChapter.user</code> field. Because it's the <code>Chapter</code> Entity which owns the relationship.</p>\n\n<p>The <code>cascade</code> method in <code>OneToMany</code> annotation only specifies  which operations must be cascaded. It doesn't mean that the <code>user</code> property of <code>Chapter</code> entity will be set automatically.</p>\n"}],"owner":{"account_id":16592944,"reputation":11,"user_id":11990631,"display_name":"willigis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":969,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677271947,"creation_date":1567015525,"question_id":57697899,"body_markdown":"I&#39;m trying to perform a POST request to save a child (Chapter) onto the parent (`User`), but it does not work.\r\n\r\nAll other request work fine. `PostMapping` controller saves the `Body` into the database but not with the parent relationship (Class Chapter &amp;rarr; `user_id = null` in my case).\r\n\r\nI am using the following URL in Postman: \r\n\r\n    http://localhost:8080/api/chapters?username=admin\r\n    Content-type: application/json\r\n    Body: raw\r\n\r\nwith this body:\r\n\r\n    {\r\n    \t&quot;name&quot;: &quot;Product Development&quot;, \r\n    }\r\n    \r\n    Username: &quot;admin&quot; with Id= 1\r\n\r\n----------------------\r\n\r\n    @Entity\r\n    public class User {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(nullable = false, updatable = false)\r\n\tprivate Long id;\r\n\r\n\t@Column(nullable = false, unique = true)\r\n\tprivate String username;\r\n\r\n\t@Column(nullable = false)\r\n\tprivate String password;\r\n\r\n\t@Column(nullable = false)\r\n\tprivate String role;\r\n\t\r\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER, mappedBy = &quot;user&quot;)\r\n    private Set&lt;Chapter&gt; chapters = new HashSet&lt;&gt;();\r\n\r\n\tpublic void addChapter(Chapter chapter) {\r\n\t\tthis.chapters.add(chapter);\r\n\t\tchapter.setUser(this);\r\n\t}\r\n    ....\r\n    }\r\n\r\n    @Entity\r\n    public class Chapter {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(nullable = false, updatable = false)\r\n\tprivate Long id;\r\n        private String name;\r\n\t@ManyToOne\r\n\t@JoinColumn(name = &quot;user_id&quot;)\r\n\tprivate User user;\r\n\t....\r\n\t\r\n    }\r\n\r\n    @RestController\r\n    public class ChapterController {\r\n\t@Autowired\r\n\tprivate ChapterRepository chapterRepository;\r\n\t\r\n\t@Autowired\r\n\tprivate UserRepository userRepository;\r\n\r\n\r\n\t@RequestMapping(&quot;/chapters&quot;)\r\n\tpublic Iterable&lt;Chapter&gt; getChapter() {\r\n\t\treturn chapterRepository.findAll();\r\n\t}\r\n\r\n\t@RequestMapping(value=&quot;/users/{id}/chapters&quot;, method = RequestMethod.GET)\r\n\tChapter getChapter(@PathVariable (value = &quot;id&quot;) Long id) {\r\n\t\treturn chapterRepository.findByUserId(id).get();\r\n\t}\r\n\t\r\n\t@PostMapping(&quot;/chapters&quot;)// issue is here\r\n\tvoid newChapter(@RequestParam (value = &quot;username&quot;, required=true) \r\n\tString username, @RequestBody Chapter newChapter) {\r\n\t\tUser user = userRepository.findByUsername(username);\r\n\t\tuser.addChapter(newChapter);\r\n\t\tSystem.out.println(user);\r\n\t\tuserRepository.save(user);\r\n        }\r\n    }\r\n\r\nWhat I would expect is to save the child with the parent which means with `user_id = 1`  as there is only one user for now (`id = 1`). What am I missing?","title":"How can I save child in an existing parent when doing a POST request?","body":"<p>I'm trying to perform a POST request to save a child (Chapter) onto the parent (<code>User</code>), but it does not work.</p>\n<p>All other request work fine. <code>PostMapping</code> controller saves the <code>Body</code> into the database but not with the parent relationship (Class Chapter → <code>user_id = null</code> in my case).</p>\n<p>I am using the following URL in Postman:</p>\n<pre><code>http://localhost:8080/api/chapters?username=admin\nContent-type: application/json\nBody: raw\n</code></pre>\n<p>with this body:</p>\n<pre><code>{\n    &quot;name&quot;: &quot;Product Development&quot;, \n}\n\nUsername: &quot;admin&quot; with Id= 1\n</code></pre>\n<hr />\n<pre><code>@Entity\npublic class User {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(nullable = false, updatable = false)\nprivate Long id;\n\n@Column(nullable = false, unique = true)\nprivate String username;\n\n@Column(nullable = false)\nprivate String password;\n\n@Column(nullable = false)\nprivate String role;\n\n@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER, mappedBy = &quot;user&quot;)\nprivate Set&lt;Chapter&gt; chapters = new HashSet&lt;&gt;();\n\npublic void addChapter(Chapter chapter) {\n    this.chapters.add(chapter);\n    chapter.setUser(this);\n}\n....\n}\n\n@Entity\npublic class Chapter {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(nullable = false, updatable = false)\nprivate Long id;\n    private String name;\n@ManyToOne\n@JoinColumn(name = &quot;user_id&quot;)\nprivate User user;\n....\n\n}\n\n@RestController\npublic class ChapterController {\n@Autowired\nprivate ChapterRepository chapterRepository;\n\n@Autowired\nprivate UserRepository userRepository;\n\n\n@RequestMapping(&quot;/chapters&quot;)\npublic Iterable&lt;Chapter&gt; getChapter() {\n    return chapterRepository.findAll();\n}\n\n@RequestMapping(value=&quot;/users/{id}/chapters&quot;, method = RequestMethod.GET)\nChapter getChapter(@PathVariable (value = &quot;id&quot;) Long id) {\n    return chapterRepository.findByUserId(id).get();\n}\n\n@PostMapping(&quot;/chapters&quot;)// issue is here\nvoid newChapter(@RequestParam (value = &quot;username&quot;, required=true) \nString username, @RequestBody Chapter newChapter) {\n    User user = userRepository.findByUsername(username);\n    user.addChapter(newChapter);\n    System.out.println(user);\n    userRepository.save(user);\n    }\n}\n</code></pre>\n<p>What I would expect is to save the child with the parent which means with <code>user_id = 1</code>  as there is only one user for now (<code>id = 1</code>). What am I missing?</p>\n"},{"tags":["java","python","scientific-computing","pubchem","cheminformatics"],"answers":[{"tags":[],"owner":{"account_id":6348766,"reputation":241,"user_id":4928495,"accept_rate":50,"display_name":"Kaushali de Silva"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485847277,"creation_date":1485751439,"answer_id":41929138,"question_id":37369757,"body_markdown":"PubChem has a REST API to download chemical structures. In order to retrieve PubChem compound records within a given mass range, an Entrez query should be initiated to generate the list of CIDs.100:100.01 is the mass range for the  example. \r\n\r\n    http://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=pccompound&amp;usehistory=y&amp;retmax=0&amp;term=100:100.01[exactmass]\r\n\r\nyou can refer this tutorial\r\n[Power user gateway][1]\r\n\r\n\r\n  [1]: https://pubchem.ncbi.nlm.nih.gov/pug_rest/PUG_REST_Tutorial.html","title":"extracting sdf files from pubchem matching a monoisotopic mass","body":"<p>PubChem has a REST API to download chemical structures. In order to retrieve PubChem compound records within a given mass range, an Entrez query should be initiated to generate the list of CIDs.100:100.01 is the mass range for the  example. </p>\n\n<pre><code>http://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=pccompound&amp;usehistory=y&amp;retmax=0&amp;term=100:100.01[exactmass]\n</code></pre>\n\n<p>you can refer this tutorial\n<a href=\"https://pubchem.ncbi.nlm.nih.gov/pug_rest/PUG_REST_Tutorial.html\" rel=\"nofollow noreferrer\">Power user gateway</a></p>\n"}],"owner":{"account_id":8237806,"reputation":49,"user_id":6196358,"accept_rate":25,"display_name":"CodeMAK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677271828,"creation_date":1463881695,"question_id":37369757,"body_markdown":"I&#39;m trying to extract the chemical structures from the pubchem database in the sdf format of compounds matching a certain exact mass and in the range of 10ppm of that exact mass(exactmass-cmpndmass/exactmass)*10^6. Is there a way to achieve this using python or java programming languages interfacing with pubchem.","title":"extracting sdf files from pubchem matching a monoisotopic mass","body":"<p>I'm trying to extract the chemical structures from the pubchem database in the sdf format of compounds matching a certain exact mass and in the range of 10ppm of that exact mass(exactmass-cmpndmass/exactmass)*10^6. Is there a way to achieve this using python or java programming languages interfacing with pubchem.</p>\n"},{"tags":["java","javafx","focus","scene"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1566616660,"post_id":57629097,"comment_id":101722609,"body_markdown":"Key events are delivered to the node that has the focus. Events also travel down the scene graph to the target and then bubble back up to the window. If the neither sub-scene nor any of its descendants have the focus then the key event won&#39;t reach the sub-scene. Also, in the case a descendant has the focus, if the key event is consumed before reaching the sub-scene then the sub-scene again won&#39;t receive the event.","body":"Key events are delivered to the node that has the focus. Events also travel down the scene graph to the target and then bubble back up to the window. If the neither sub-scene nor any of its descendants have the focus then the key event won&#39;t reach the sub-scene. Also, in the case a descendant has the focus, if the key event is consumed before reaching the sub-scene then the sub-scene again won&#39;t receive the event."},{"owner":{"account_id":15694766,"reputation":1567,"user_id":11465149,"display_name":"Giorgos Xou"},"score":0,"creation_date":1566619663,"post_id":57629097,"comment_id":101722923,"body_markdown":"@Slaw i get the fact that `&quot;Key events are delivered to the node that has the focus ...also travel down the scene graph&quot;` but isn&#39;t supposed to be focused on sub-**scene** when i already have clicked on the layout of sub-**scene**? _(because it doesn&#39;t focus, it seems like it works only for nodes down the sub-**scene**&#39;s graph and not for sub-**scene** itself)_","body":"@Slaw i get the fact that <code>&quot;Key events are delivered to the node that has the focus ...also travel down the scene graph&quot;</code> but isn&#39;t supposed to be focused on sub-<b>scene</b> when i already have clicked on the layout of sub-<b>scene</b>? <i>(because it doesn&#39;t focus, it seems like it works only for nodes down the sub-<b>scene</b>&#39;s graph and not for sub-<b>scene</b> itself)</i>"},{"owner":{"account_id":15694766,"reputation":1567,"user_id":11465149,"display_name":"Giorgos Xou"},"score":0,"creation_date":1566621180,"post_id":57629097,"comment_id":101723074,"body_markdown":"to give you an idea, when i set `scene.requestFocus();` on **MouseEvents** and then observe the behavior of focus-Event it seems like when i click on the layout of sub-**scene** it **loses** focus and then **gains** it back each time i click on it...","body":"to give you an idea, when i set <code>scene.requestFocus();</code> on <b>MouseEvents</b> and then observe the behavior of focus-Event it seems like when i click on the layout of sub-<b>scene</b> it <b>loses</b> focus and then <b>gains</b> it back each time i click on it..."},{"owner":{"account_id":15694766,"reputation":1567,"user_id":11465149,"display_name":"Giorgos Xou"},"score":0,"creation_date":1566622264,"post_id":57629097,"comment_id":101723216,"body_markdown":"* *(i&#39;ve updated my post with one more gif for that)* *","body":"* <i>(i&#39;ve updated my post with one more gif for that)</i> *"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1566642054,"post_id":57629097,"comment_id":101726589,"body_markdown":"Please provide a [mcve] that demonstrates the problem. Unrelated to your problem: please learn java naming conventions and stick to them.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that demonstrates the problem. Unrelated to your problem: please learn java naming conventions and stick to them."},{"owner":{"account_id":15694766,"reputation":1567,"user_id":11465149,"display_name":"Giorgos Xou"},"score":0,"creation_date":1566642779,"post_id":57629097,"comment_id":101726713,"body_markdown":"@kleopatra I think it was minimal and demonstrated the problem well enough untill i came accross &quot;other&quot; issues and i added the **[Extra info]** section for that reason, but still you are right i have to reedit it somehow ...,  for now though  i have not that much time to do it... `please learn java naming conventions` i&#39;m gonna try more if i was wrong anywhere...","body":"@kleopatra I think it was minimal and demonstrated the problem well enough untill i came accross &quot;other&quot; issues and i added the <b>[Extra info]</b> section for that reason, but still you are right i have to reedit it somehow ...,  for now though  i have not that much time to do it... <code>please learn java naming conventions</code> i&#39;m gonna try more if i was wrong anywhere..."},{"owner":{"account_id":15694766,"reputation":1567,"user_id":11465149,"display_name":"Giorgos Xou"},"score":0,"creation_date":1566672873,"post_id":57629097,"comment_id":101733229,"body_markdown":"* *(ReEddited)* *","body":"* <i>(ReEddited)</i> *"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1566704340,"post_id":57629097,"comment_id":101737437,"body_markdown":"My first comment was general information since I don&#39;t know enough about your application to provide more specific help. When asking a question like this (_Why isn&#39;t this code working?_) you need to provide a [mre] (← read link). You currently describe a problem, give a vague description of the scene graph structure, and provide some GIFs as proof the problem exists. However, you haven&#39;t actually provided any code for us to look at and try ourselves. Please _create_ an example application that demonstrates the problem and then [edit] it into your question—as formatted text, not images.","body":"My first comment was general information since I don&#39;t know enough about your application to provide more specific help. When asking a question like this (<i>Why isn&#39;t this code working?</i>) you need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (← read link). You currently describe a problem, give a vague description of the scene graph structure, and provide some GIFs as proof the problem exists. However, you haven&#39;t actually provided any code for us to look at and try ourselves. Please <i>create</i> an example application that demonstrates the problem and then <a href=\"https://stackoverflow.com/posts/57629097/edit\">edit</a> it into your question—as formatted text, not images."},{"owner":{"account_id":15694766,"reputation":1567,"user_id":11465149,"display_name":"Giorgos Xou"},"score":0,"creation_date":1566716660,"post_id":57629097,"comment_id":101738965,"body_markdown":"* *(ReEddited, Done)* *","body":"* <i>(ReEddited, Done)</i> *"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1566721243,"post_id":57629097,"comment_id":101739867,"body_markdown":"Try `scene.setOnMousePressed(e -&gt; { scene.requestFocus(); e.consume(); })`. If the mouse-pressed event reaches the tab pane (or something related to the tab pane, not sure) then it requests focus. And regarding naming conventions, variables use `camelCase`.","body":"Try <code>scene.setOnMousePressed(e -&gt; { scene.requestFocus(); e.consume(); })</code>. If the mouse-pressed event reaches the tab pane (or something related to the tab pane, not sure) then it requests focus. And regarding naming conventions, variables use <code>camelCase</code>."},{"owner":{"account_id":15694766,"reputation":1567,"user_id":11465149,"display_name":"Giorgos Xou"},"score":0,"creation_date":1566723495,"post_id":57629097,"comment_id":101740360,"body_markdown":"@Slaw What kind of **sorcery** is this ```e.consume();``` it actually works , you have made my day **Thanks you very much!** because whenever i stack on an issue most of the times it is like i can&#39;t continue and do anything else unless i find out the reason [...]","body":"@Slaw What kind of <b>sorcery</b> is this <code>e.consume();</code> it actually works , you have made my day <b>Thanks you very much!</b> because whenever i stack on an issue most of the times it is like i can&#39;t continue and do anything else unless i find out the reason [...]"},{"owner":{"account_id":15694766,"reputation":1567,"user_id":11465149,"display_name":"Giorgos Xou"},"score":0,"creation_date":1566723591,"post_id":57629097,"comment_id":101740381,"body_markdown":"But the real question is ```should that thing actually be happening or not?```","body":"But the real question is <code>should that thing actually be happening or not?</code>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1566724737,"post_id":57629097,"comment_id":101740641,"body_markdown":"Yes, the behavior makes sense. If the mouse is pressed somewhere inside a tab and none of the nodes consume the event then the tab pane should become focused. To understand more about event processing, such as what `consume()` does, see https://docs.oracle.com/javase/8/javafx/events-tutorial/events.htm","body":"Yes, the behavior makes sense. If the mouse is pressed somewhere inside a tab and none of the nodes consume the event then the tab pane should become focused. To understand more about event processing, such as what <code>consume()</code> does, see <a href=\"https://docs.oracle.com/javase/8/javafx/events-tutorial/events.htm\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/javafx/events-tutorial/events.htm</a>"}],"owner":{"account_id":15694766,"reputation":1567,"user_id":11465149,"display_name":"Giorgos Xou"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":357,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"closed_date":1566850925,"answer_count":0,"score":2,"last_activity_date":1677271820,"creation_date":1566573673,"question_id":57629097,"body_markdown":"It seems like the behavior of **SubScene** or **TabPane** isn&#39;t what i was expecting or something is wrong with it.\r\n\r\n**Because** Instead of Being Focused on **Subscene** *[\\*1.]* when i **click on Subscene** it focuses on **TabPane**. Even when i force it to focus on the **SubScene** it forces back &amp; focuses on **TabPane** *[\\*2.]*\r\n\r\n 1. *(Is in grey color &amp; it is inside a tab)*\r\n 2. *(as seen on Debug console, 3rd GIF)*\r\n\r\n\r\n### Replicating the Issue:\r\n*(How to test the issue by yourself)*\r\n\r\n - Add a **TabPane** &amp; a **Tab**\r\n - Add a **SubScene** Inside the **Tab**\r\n - **Check** By Clicking On SubScene Where it Focuses By Printing:\r\n ```\r\n   SubScene.getScene().getFocusOwner().getId();\r\n ```\r\n[Main.java][1] | [Controller.Java][2] | [sample.fxml][3] | ***(Or just  Copy Paste)***\r\n\r\n.\r\n\r\n### Issue Effect:\r\n| *sub*-**scene** |\r\n\r\n[![enter image description here][4]][4]\r\n\r\n| *sub*-**scene**.getScene() |\r\n\r\n[![enter image description here][5]][5]\r\n\r\n  [1]: https://pastebin.com/h7kGrdbX\r\n  [2]: https://pastebin.com/nf9tJfQW\r\n  [3]: https://pastebin.com/CHjY5iHw\r\n  [4]: https://i.stack.imgur.com/w0YlA.gif\r\n  [5]: https://i.stack.imgur.com/xQN0U.gif","title":"Answered - JavaFX: SubScene won&#39;t focus inside TabPane when clicked?","body":"<p>It seems like the behavior of <strong>SubScene</strong> or <strong>TabPane</strong> isn't what i was expecting or something is wrong with it.</p>\n<p><strong>Because</strong> Instead of Being Focused on <strong>Subscene</strong> <em>[*1.]</em> when i <strong>click on Subscene</strong> it focuses on <strong>TabPane</strong>. Even when i force it to focus on the <strong>SubScene</strong> it forces back &amp; focuses on <strong>TabPane</strong> <em>[*2.]</em></p>\n<ol>\n<li><em>(Is in grey color &amp; it is inside a tab)</em></li>\n<li><em>(as seen on Debug console, 3rd GIF)</em></li>\n</ol>\n<h3>Replicating the Issue:</h3>\n<p><em>(How to test the issue by yourself)</em></p>\n<ul>\n<li>Add a <strong>TabPane</strong> &amp; a <strong>Tab</strong></li>\n<li>Add a <strong>SubScene</strong> Inside the <strong>Tab</strong></li>\n<li><strong>Check</strong> By Clicking On SubScene Where it Focuses By Printing:</li>\n</ul>\n<pre><code>  SubScene.getScene().getFocusOwner().getId();\n</code></pre>\n<p><a href=\"https://pastebin.com/h7kGrdbX\" rel=\"nofollow noreferrer\">Main.java</a> | <a href=\"https://pastebin.com/nf9tJfQW\" rel=\"nofollow noreferrer\">Controller.Java</a> | <a href=\"https://pastebin.com/CHjY5iHw\" rel=\"nofollow noreferrer\">sample.fxml</a> | <em><strong>(Or just  Copy Paste)</strong></em></p>\n<p>.</p>\n<h3>Issue Effect:</h3>\n<p>| <em>sub</em>-<strong>scene</strong> |</p>\n<p><a href=\"https://i.stack.imgur.com/w0YlA.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w0YlA.gif\" alt=\"enter image description here\" /></a></p>\n<p>| <em>sub</em>-<strong>scene</strong>.getScene() |</p>\n<p><a href=\"https://i.stack.imgur.com/xQN0U.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xQN0U.gif\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","swing","user-interface","jtextfield"],"comments":[{"owner":{"account_id":1091347,"reputation":5947,"user_id":1085937,"accept_rate":86,"display_name":"Jeeter"},"score":0,"creation_date":1563908126,"post_id":57170492,"comment_id":100854422,"body_markdown":"perhaps create a subclass and override the behavior? I&#39;m not super familiar with JTFs but that seems to be the advice of the javadocs for creating custom fields","body":"perhaps create a subclass and override the behavior? I&#39;m not super familiar with JTFs but that seems to be the advice of the javadocs for creating custom fields"},{"owner":{"account_id":11935947,"reputation":89,"user_id":10817859,"display_name":"Cheaker"},"score":0,"creation_date":1563908243,"post_id":57170492,"comment_id":100854468,"body_markdown":"can you unfocus the element, set content and focus element again?","body":"can you unfocus the element, set content and focus element again?"},{"owner":{"account_id":3148456,"reputation":85,"user_id":2662429,"accept_rate":25,"display_name":"Ty Brantner"},"score":0,"creation_date":1563908512,"post_id":57170492,"comment_id":100854573,"body_markdown":"@Cheaker Is there a way that I can unfocus the text field without focusing another UI element? I don&#39;t have any other JWhatsits to set the focus to. I could create one specifically to shift focus away from the text field, but I thought maybe I was being naive and missing something obvious about JTextFIelds. It seems silly you can&#39;t modify the contents while it&#39;s focused, feels like Java trying to force you to do things the way it thinks professionals should do them.","body":"@Cheaker Is there a way that I can unfocus the text field without focusing another UI element? I don&#39;t have any other JWhatsits to set the focus to. I could create one specifically to shift focus away from the text field, but I thought maybe I was being naive and missing something obvious about JTextFIelds. It seems silly you can&#39;t modify the contents while it&#39;s focused, feels like Java trying to force you to do things the way it thinks professionals should do them."},{"owner":{"account_id":11935947,"reputation":89,"user_id":10817859,"display_name":"Cheaker"},"score":0,"creation_date":1563909078,"post_id":57170492,"comment_id":100854773,"body_markdown":"this may work `textfield.setFocusable(false)` , otherwise take a look here https://stackoverflow.com/questions/10773132/how-to-unfocus-a-jtextfield","body":"this may work <code>textfield.setFocusable(false)</code> , otherwise take a look here <a href=\"https://stackoverflow.com/questions/10773132/how-to-unfocus-a-jtextfield\" title=\"how to unfocus a jtextfield\">stackoverflow.com/questions/10773132/&hellip;</a>"},{"owner":{"account_id":3148456,"reputation":85,"user_id":2662429,"accept_rate":25,"display_name":"Ty Brantner"},"score":0,"creation_date":1563909699,"post_id":57170492,"comment_id":100855064,"body_markdown":"@Cheaker Okay, according to that you can&#39;t modify the document from inside a Document LIstener (heaven only knows why), and you&#39;d have to write a custom variant of that class to circumvent this. I&#39;m not well enough versed in Java to do that. I&#39;ll leave the question open in case someone else knows a solution, though.","body":"@Cheaker Okay, according to that you can&#39;t modify the document from inside a Document LIstener (heaven only knows why), and you&#39;d have to write a custom variant of that class to circumvent this. I&#39;m not well enough versed in Java to do that. I&#39;ll leave the question open in case someone else knows a solution, though."}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1563911743,"creation_date":1563911743,"answer_id":57171309,"question_id":57170492,"body_markdown":"&gt; you can&#39;t modify the document from inside a Document LIstener \r\n\r\nCorrect, you need to wait until the `Document` is in a state to accept input.\r\n\r\nOne way to do this is to wrap your code in the `DocumentListener` in a `SwingUtilties.invokeLater()`. This will place the code at the end of the `Event Dispatch Thread` and it will execute after the Document has finished updating itself.\r\n\r\nAnother option, instead of using a DocumentListener, it to use a `DocumentFilter`. This intercepts the text BEFORE it is added to the Document. So you could just simply clear the Document when the specified number of characters has been input. Read the section from the Swing tutorial on [Implement a DocumentFilter](https://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html#filter) for more information.","title":"How do you forcibly set text in an active JTextField without throwing an exception?","body":"<blockquote>\n  <p>you can't modify the document from inside a Document LIstener </p>\n</blockquote>\n\n<p>Correct, you need to wait until the <code>Document</code> is in a state to accept input.</p>\n\n<p>One way to do this is to wrap your code in the <code>DocumentListener</code> in a <code>SwingUtilties.invokeLater()</code>. This will place the code at the end of the <code>Event Dispatch Thread</code> and it will execute after the Document has finished updating itself.</p>\n\n<p>Another option, instead of using a DocumentListener, it to use a <code>DocumentFilter</code>. This intercepts the text BEFORE it is added to the Document. So you could just simply clear the Document when the specified number of characters has been input. Read the section from the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html#filter\" rel=\"nofollow noreferrer\">Implement a DocumentFilter</a> for more information.</p>\n"}],"owner":{"account_id":3148456,"reputation":85,"user_id":2662429,"accept_rate":25,"display_name":"Ty Brantner"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57171309,"answer_count":1,"score":1,"last_activity_date":1677271432,"creation_date":1563907848,"question_id":57170492,"body_markdown":"JTextField&#39;s SetText method throws an exception whenever I try to set the contents while the field has focus. I need that to change, because I want to input a very precise number of characters, and once that character count is reached the field needs to be cleared while still having focus so the next set of characters can immediately be added without pushing any buttons.\r\n\r\nI tried creating a static method that would re-create the text field from scratch every time it filled up, allowing a sort of recursive regeneration of the field each time. The method simply didn&#39;t do anything. For reference, basically everything in this program is static because it&#39;s a very simple application and I basically just want to access every important variable from &quot;main&quot;.\r\n\r\nTrying to set the text while the field has focus shows the following:\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.IllegalStateException: Attempt to mutate in notification\r\n    \tat javax.swing.text.AbstractDocument.writeLock(Unknown Source)\r\n    \tat javax.swing.text.AbstractDocument.replace(Unknown Source)\r\n    \tat javax.swing.text.JTextComponent.setText(Unknown Source)\r\n    \tat onlypack.ProgramMain$3.insertUpdate(ProgramMain.java:118)\r\n    \tat javax.swing.text.AbstractDocument.fireInsertUpdate(Unknown Source)\r\n    \tat javax.swing.text.AbstractDocument.handleInsertString(Unknown Source)\r\n    \tat javax.swing.text.AbstractDocument.insertString(Unknown Source)\r\n    \tat javax.swing.text.PlainDocument.insertString(Unknown Source)\r\n    \tat javax.swing.text.AbstractDocument.replace(Unknown Source)\r\n    \tat javax.swing.text.JTextComponent.replaceSelection(Unknown Source)\r\n    \tat javax.swing.text.DefaultEditorKit$DefaultKeyTypedAction.actionPerformed(Unknown Source)\r\n    \tat javax.swing.SwingUtilities.notifyAction(Unknown Source)\r\n    \tat javax.swing.JComponent.processKeyBinding(Unknown Source)\r\n    \tat javax.swing.JComponent.processKeyBindings(Unknown Source)\r\n    \tat javax.swing.JComponent.processKeyEvent(Unknown Source)\r\n    \tat java.awt.Component.processEvent(Unknown Source)\r\n    \tat java.awt.Container.processEvent(Unknown Source)\r\n    \tat java.awt.Component.dispatchEventImpl(Unknown Source)\r\n    \tat java.awt.Container.dispatchEventImpl(Unknown Source)\r\n    \tat java.awt.Component.dispatchEvent(Unknown Source)\r\n    \tat java.awt.KeyboardFocusManager.redispatchEvent(Unknown Source)\r\n    \tat java.awt.DefaultKeyboardFocusManager.dispatchKeyEvent(Unknown Source)\r\n    \tat java.awt.DefaultKeyboardFocusManager.preDispatchKeyEvent(Unknown Source)\r\n    \tat java.awt.DefaultKeyboardFocusManager.typeAheadAssertions(Unknown Source)\r\n    \tat java.awt.DefaultKeyboardFocusManager.dispatchEvent(Unknown Source)\r\n    \tat java.awt.Component.dispatchEventImpl(Unknown Source)\r\n    \tat java.awt.Container.dispatchEventImpl(Unknown Source)\r\n    \tat java.awt.Window.dispatchEventImpl(Unknown Source)\r\n    \tat java.awt.Component.dispatchEvent(Unknown Source)\r\n    \tat java.awt.EventQueue.dispatchEventImpl(Unknown Source)\r\n    \tat java.awt.EventQueue.access$500(Unknown Source)\r\n    \tat java.awt.EventQueue$3.run(Unknown Source)\r\n    \tat java.awt.EventQueue$3.run(Unknown Source)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\r\n    \tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\r\n    \tat java.awt.EventQueue$4.run(Unknown Source)\r\n    \tat java.awt.EventQueue$4.run(Unknown Source)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\r\n    \tat java.awt.EventQueue.dispatchEvent(Unknown Source)\r\n    \tat java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)\r\n    \tat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\r\n    \tat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\r\n    \tat java.awt.EventDispatchThread.run(Unknown Source)","title":"How do you forcibly set text in an active JTextField without throwing an exception?","body":"<p>JTextField's SetText method throws an exception whenever I try to set the contents while the field has focus. I need that to change, because I want to input a very precise number of characters, and once that character count is reached the field needs to be cleared while still having focus so the next set of characters can immediately be added without pushing any buttons.</p>\n\n<p>I tried creating a static method that would re-create the text field from scratch every time it filled up, allowing a sort of recursive regeneration of the field each time. The method simply didn't do anything. For reference, basically everything in this program is static because it's a very simple application and I basically just want to access every important variable from \"main\".</p>\n\n<p>Trying to set the text while the field has focus shows the following:</p>\n\n<pre><code>Exception in thread \"AWT-EventQueue-0\" java.lang.IllegalStateException: Attempt to mutate in notification\n    at javax.swing.text.AbstractDocument.writeLock(Unknown Source)\n    at javax.swing.text.AbstractDocument.replace(Unknown Source)\n    at javax.swing.text.JTextComponent.setText(Unknown Source)\n    at onlypack.ProgramMain$3.insertUpdate(ProgramMain.java:118)\n    at javax.swing.text.AbstractDocument.fireInsertUpdate(Unknown Source)\n    at javax.swing.text.AbstractDocument.handleInsertString(Unknown Source)\n    at javax.swing.text.AbstractDocument.insertString(Unknown Source)\n    at javax.swing.text.PlainDocument.insertString(Unknown Source)\n    at javax.swing.text.AbstractDocument.replace(Unknown Source)\n    at javax.swing.text.JTextComponent.replaceSelection(Unknown Source)\n    at javax.swing.text.DefaultEditorKit$DefaultKeyTypedAction.actionPerformed(Unknown Source)\n    at javax.swing.SwingUtilities.notifyAction(Unknown Source)\n    at javax.swing.JComponent.processKeyBinding(Unknown Source)\n    at javax.swing.JComponent.processKeyBindings(Unknown Source)\n    at javax.swing.JComponent.processKeyEvent(Unknown Source)\n    at java.awt.Component.processEvent(Unknown Source)\n    at java.awt.Container.processEvent(Unknown Source)\n    at java.awt.Component.dispatchEventImpl(Unknown Source)\n    at java.awt.Container.dispatchEventImpl(Unknown Source)\n    at java.awt.Component.dispatchEvent(Unknown Source)\n    at java.awt.KeyboardFocusManager.redispatchEvent(Unknown Source)\n    at java.awt.DefaultKeyboardFocusManager.dispatchKeyEvent(Unknown Source)\n    at java.awt.DefaultKeyboardFocusManager.preDispatchKeyEvent(Unknown Source)\n    at java.awt.DefaultKeyboardFocusManager.typeAheadAssertions(Unknown Source)\n    at java.awt.DefaultKeyboardFocusManager.dispatchEvent(Unknown Source)\n    at java.awt.Component.dispatchEventImpl(Unknown Source)\n    at java.awt.Container.dispatchEventImpl(Unknown Source)\n    at java.awt.Window.dispatchEventImpl(Unknown Source)\n    at java.awt.Component.dispatchEvent(Unknown Source)\n    at java.awt.EventQueue.dispatchEventImpl(Unknown Source)\n    at java.awt.EventQueue.access$500(Unknown Source)\n    at java.awt.EventQueue$3.run(Unknown Source)\n    at java.awt.EventQueue$3.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\n    at java.awt.EventQueue$4.run(Unknown Source)\n    at java.awt.EventQueue$4.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\n    at java.awt.EventQueue.dispatchEvent(Unknown Source)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)\n    at java.awt.EventDispatchThread.pumpEvents(Unknown Source)\n    at java.awt.EventDispatchThread.pumpEvents(Unknown Source)\n    at java.awt.EventDispatchThread.run(Unknown Source)\n</code></pre>\n"},{"tags":["java","hibernate","exception","merge"],"comments":[{"owner":{"account_id":2535057,"reputation":25845,"user_id":2202415,"display_name":"Maciej Kowalski"},"score":2,"creation_date":1563799906,"post_id":57146346,"comment_id":100808016,"body_markdown":"Can you add full stack trace?","body":"Can you add full stack trace?"},{"owner":{"account_id":12535438,"reputation":3,"user_id":9122244,"display_name":"Zack"},"score":0,"creation_date":1563801020,"post_id":57146346,"comment_id":100808656,"body_markdown":"Hi, thanks for the reply, I found the problem, I didn&#39;t worked becouse the name was created as Varchar (5) and it was trying to update a name with 7 char long.\n\nNow it works fine, i found that on the stack trace. \n\nThanks for taking your time to read and help, and sorry for the inconvenience.","body":"Hi, thanks for the reply, I found the problem, I didn&#39;t worked becouse the name was created as Varchar (5) and it was trying to update a name with 7 char long.  Now it works fine, i found that on the stack trace.   Thanks for taking your time to read and help, and sorry for the inconvenience."}],"owner":{"account_id":12535438,"reputation":3,"user_id":9122244,"display_name":"Zack"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677271384,"creation_date":1563799495,"question_id":57146346,"body_markdown":"I&#39;m having `UnexpectedRollBack` exception on a simple merge method with hibernate. I&#39;m using JSP and controller structure.\r\n\r\nIt should be a simple update, but it returns an exception.\r\n\r\n`User.java`:\r\n\r\n    public class user{\r\n       private Integer id;\r\n       String name;\r\n       String active;\r\n    }\r\n    \r\n    @Id\r\n    @Column(name=&quot;ID&quot;, unique = true, nullable = false, etc...)\r\n    public Integer getId(){return this.id}\r\n    \r\n    @Column(name = &quot;NAME&quot;, nullable = true, length = 9)\r\n    public String getName() {\r\n    \treturn this.name;\r\n    }\r\n    \r\n    public void setName(String name) {\r\n    \tthis.name = name;\r\n    }\r\n    @Column(name = &quot;ACTIVE&quot;, nullable = true, length = 9)\r\n    public String getActive() {\r\n    \treturn this.active;\r\n    }\r\n    \r\n    public void setActive(String active) {\r\n    \tthis.active= active;\r\n    }\r\n\r\nController:\r\n\r\n    Public class UpdateUserController{\r\n    \r\n      //Here&#39;s the main issue\r\n    \r\n      User userToUpdate = findUserById(&quot;1&quot;);\r\n    \r\n     //user properly recovered from the DB\r\n    \r\n      userToUpdate.setActive(&quot;N&quot;);\r\n    \r\n      //UserService is the class that contains the merging method \r\n       userService.merge(userToUpdate);\r\n\r\n      System.out.println(userToUpdate.getActive());\r\n    }\r\n\r\nService class:\r\n\r\n    @Transactional(propagation = Propagation.REQUIRED)\r\n    public user merge(User detachedInstance) {\r\n         try {\r\n            User result = entityManager.merge(detachedInstance);\r\n            return result;\r\n         } catch (RuntimeException re) {\r\n    \t    throw re;\r\n         }\r\n    }\r\n\r\nIt&#39;s a simple update of a `String`, only one cel in a row, this shouldn&#39;t return an exception but it does.\r\n\r\nI&#39;ve seen on some posts that the problem may be caused by the method try to update an element that is currently `null`, that may cause hibernate returns `RollBackException` by default.\r\n\r\nI&#39;ve checked and there is nothing null at the moment of the merge.","title":"Unexpected RollBackException on merge in hibernate (RESOLVED)","body":"<p>I'm having <code>UnexpectedRollBack</code> exception on a simple merge method with hibernate. I'm using JSP and controller structure.</p>\n<p>It should be a simple update, but it returns an exception.</p>\n<p><code>User.java</code>:</p>\n<pre><code>public class user{\n   private Integer id;\n   String name;\n   String active;\n}\n\n@Id\n@Column(name=&quot;ID&quot;, unique = true, nullable = false, etc...)\npublic Integer getId(){return this.id}\n\n@Column(name = &quot;NAME&quot;, nullable = true, length = 9)\npublic String getName() {\n    return this.name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n@Column(name = &quot;ACTIVE&quot;, nullable = true, length = 9)\npublic String getActive() {\n    return this.active;\n}\n\npublic void setActive(String active) {\n    this.active= active;\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>Public class UpdateUserController{\n\n  //Here's the main issue\n\n  User userToUpdate = findUserById(&quot;1&quot;);\n\n //user properly recovered from the DB\n\n  userToUpdate.setActive(&quot;N&quot;);\n\n  //UserService is the class that contains the merging method \n   userService.merge(userToUpdate);\n\n  System.out.println(userToUpdate.getActive());\n}\n</code></pre>\n<p>Service class:</p>\n<pre><code>@Transactional(propagation = Propagation.REQUIRED)\npublic user merge(User detachedInstance) {\n     try {\n        User result = entityManager.merge(detachedInstance);\n        return result;\n     } catch (RuntimeException re) {\n        throw re;\n     }\n}\n</code></pre>\n<p>It's a simple update of a <code>String</code>, only one cel in a row, this shouldn't return an exception but it does.</p>\n<p>I've seen on some posts that the problem may be caused by the method try to update an element that is currently <code>null</code>, that may cause hibernate returns <code>RollBackException</code> by default.</p>\n<p>I've checked and there is nothing null at the moment of the merge.</p>\n"},{"tags":["java","kubernetes","kubernetes-helm"],"comments":[{"owner":{"account_id":12186602,"reputation":148,"user_id":8896134,"display_name":"Pranav Totala"},"score":0,"creation_date":1676266609,"post_id":75432196,"comment_id":133095655,"body_markdown":"Also tried the same with `host={{ .Values.configHost }}` but the same error","body":"Also tried the same with <code>host={{ .Values.configHost }}</code> but the same error"},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1676289774,"post_id":75432196,"comment_id":133100913,"body_markdown":"The error message implies some sort of admission webhook; are you trying to develop this, or is it something an administrator has installed in your cluster?","body":"The error message implies some sort of admission webhook; are you trying to develop this, or is it something an administrator has installed in your cluster?"}],"answers":[{"tags":[],"owner":{"account_id":7242784,"reputation":27789,"user_id":5525824,"display_name":"Harsh Manvar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676267458,"creation_date":1676267458,"answer_id":75432277,"question_id":75432196,"body_markdown":"Not sure, but **data: cfg-api** is not with proper indentation\r\n\r\n    apiVersion: v1\r\n    kind: ConfigMap\r\n    metadata:\r\n      name: {{ .Release.Name }}-configmap\r\n    data:\r\n      cfg-api: |-\r\n        host=10.83.47.156 \r\n\r\nInstead of host set the helm template properly","title":"Helm chart cannot unmarshal array into Go struct field Volume.spec.template.spec.volumes.configMap","body":"<p>Not sure, but <strong>data: cfg-api</strong> is not with proper indentation</p>\n<pre><code>apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: {{ .Release.Name }}-configmap\ndata:\n  cfg-api: |-\n    host=10.83.47.156 \n</code></pre>\n<p>Instead of host set the helm template properly</p>\n"}],"owner":{"account_id":12186602,"reputation":148,"user_id":8896134,"display_name":"Pranav Totala"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":612,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677271164,"creation_date":1676266491,"question_id":75432196,"body_markdown":"\r\n    Reason: Failed to Install Helm Chart [ fk-m3-matching-engine-cache-service:1.4.6 ] =\\u003e cannot patch \\&quot;matching-engine-cache-service\\&quot; with kind Rollout: admission webhook \\&quot;webhook-svc.webhook.svc\\&quot; denied the request: unmarshal raw request object to rollout failed: json: cannot unmarshal array into Go struct field Volume.spec.template.spec.volumes.configMap of type v1.ConfigMapVolumeSource\\n&quot;,&quot;severity&quot;:0}\r\n\r\ncfg-config.yml --&gt;\r\n\r\n    apiVersion: v1\r\n    kind: ConfigMap\r\n    metadata:  \r\n    name: cs-config  \r\n    namespace: {{ .Values.metadata.namespace }}\r\n    data:   \r\n     cfg-api: |+\r\n        host=10.83.47.156\r\n\r\nI am not sure why this file is throwing error. Consider me a noob in kube, the data `host=10.83.47.156` should be printed in the `cfg-api` file.","title":"Helm chart cannot unmarshal array into Go struct field Volume.spec.template.spec.volumes.configMap","body":"<pre><code>Reason: Failed to Install Helm Chart [ fk-m3-matching-engine-cache-service:1.4.6 ] =\\u003e cannot patch \\&quot;matching-engine-cache-service\\&quot; with kind Rollout: admission webhook \\&quot;webhook-svc.webhook.svc\\&quot; denied the request: unmarshal raw request object to rollout failed: json: cannot unmarshal array into Go struct field Volume.spec.template.spec.volumes.configMap of type v1.ConfigMapVolumeSource\\n&quot;,&quot;severity&quot;:0}\n</code></pre>\n<p>cfg-config.yml --&gt;</p>\n<pre><code>apiVersion: v1\nkind: ConfigMap\nmetadata:  \nname: cs-config  \nnamespace: {{ .Values.metadata.namespace }}\ndata:   \n cfg-api: |+\n    host=10.83.47.156\n</code></pre>\n<p>I am not sure why this file is throwing error. Consider me a noob in kube, the data <code>host=10.83.47.156</code> should be printed in the <code>cfg-api</code> file.</p>\n"},{"tags":["java","zap"],"comments":[{"owner":{"account_id":1621844,"reputation":5574,"user_id":1509834,"display_name":"Simon Bennetts"},"score":0,"creation_date":1675349582,"post_id":75324889,"comment_id":132913585,"body_markdown":"Which Java 64 bit JRE have you installed?","body":"Which Java 64 bit JRE have you installed?"},{"owner":{"account_id":26282621,"reputation":1,"user_id":19950871,"display_name":"naser"},"score":0,"creation_date":1675418999,"post_id":75324889,"comment_id":132929318,"body_markdown":"https://www.java.com/en/download/manual.jsp","body":"<a href=\"https://www.java.com/en/download/manual.jsp\" rel=\"nofollow noreferrer\">java.com/en/download/manual.jsp</a>"},{"owner":{"account_id":10470107,"reputation":1418,"user_id":7718222,"display_name":"kingthorin"},"score":0,"creation_date":1676167723,"post_id":75324889,"comment_id":133083040,"body_markdown":"That&#39;s Java 8, ZAP 2.12 requires Java 11. As noted on the download page, release notes, help, getting started guide, etc.","body":"That&#39;s Java 8, ZAP 2.12 requires Java 11. As noted on the download page, release notes, help, getting started guide, etc."}],"answers":[{"tags":[],"owner":{"account_id":10470107,"reputation":1418,"user_id":7718222,"display_name":"kingthorin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675359139,"creation_date":1675359139,"answer_id":75326877,"question_id":75324889,"body_markdown":"Based on the error message:\r\n\r\n1) You didn&#39;t install a JRE &gt;= Java 11.\r\n2) You installed a 32bit JRE.\r\n3) Your JRE can&#39;t be found. (If you&#39;re using Adopt OpenJDK or Temurin, etc. [I can&#39;t think of all of them.] there&#39;s an option to set JAVA_HOME and JavaSoft registry keys, you should enable those. Plus may need to reboot before installing [thanks Windows &#129335;‍♂️].)","title":"zap is not installing","body":"<p>Based on the error message:</p>\n<ol>\n<li>You didn't install a JRE &gt;= Java 11.</li>\n<li>You installed a 32bit JRE.</li>\n<li>Your JRE can't be found. (If you're using Adopt OpenJDK or Temurin, etc. [I can't think of all of them.] there's an option to set JAVA_HOME and JavaSoft registry keys, you should enable those. Plus may need to reboot before installing [thanks Windows 🤷‍♂️].)</li>\n</ol>\n"}],"owner":{"account_id":26282621,"reputation":1,"user_id":19950871,"display_name":"naser"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":857,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677270654,"creation_date":1675349358,"question_id":75324889,"body_markdown":"i dont know why its not installing i dont know what to do [error image][1]\r\nits showing this i did instal java 64 bit jre its not working please hele me\r\n\r\ni tride to delete and install again it did&#39;nt work\r\n\r\ni delete it many times and install\r\n\r\nstill its not installing zap its showing the same thing locate java 64 bit file\r\n\r\ni also tride to locate the file it did&#39;nt work but i dont know where the file is if i know where the file is its not selecting the file\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WI2L8.png\r\n  [2]: https://i.stack.imgur.com/jZAI7.png","title":"zap is not installing","body":"<p>i dont know why its not installing i dont know what to do <a href=\"https://i.stack.imgur.com/WI2L8.png\" rel=\"nofollow noreferrer\">error image</a>\nits showing this i did instal java 64 bit jre its not working please hele me</p>\n<p>i tride to delete and install again it did'nt work</p>\n<p>i delete it many times and install</p>\n<p>still its not installing zap its showing the same thing locate java 64 bit file</p>\n<p>i also tride to locate the file it did'nt work but i dont know where the file is if i know where the file is its not selecting the file</p>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1633545094,"post_id":69470873,"comment_id":122790842,"body_markdown":"So you have defined in your test to run it that way. You should change your tests... apart from that they sound like integration tests and should be named like `*IT.java` instead of `*Test.java` ...that would solve the problem... ?","body":"So you have defined in your test to run it that way. You should change your tests... apart from that they sound like integration tests and should be named like <code>*IT.java</code> instead of <code>*Test.java</code> ...that would solve the problem... ?"},{"owner":{"account_id":270616,"reputation":955,"user_id":560678,"accept_rate":73,"display_name":"Hohenheimsenberg"},"score":0,"creation_date":1633545473,"post_id":69470873,"comment_id":122790986,"body_markdown":"@khmarbaise my tests are not integration tests, they only have this annotation @ExtendWith(MockitoExtension.class), and yes they are called *test.java","body":"@khmarbaise my tests are not integration tests, they only have this annotation @ExtendWith(MockitoExtension.class), and yes they are called *test.java"},{"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"score":0,"creation_date":1633546219,"post_id":69470873,"comment_id":122791247,"body_markdown":"There are many solutions: you could disable all test when build run on maven, refectoring your tests for swiching as you need, run tests mocking your database or point only tests for a specific configuration with a database on memory.","body":"There are many solutions: you could disable all test when build run on maven, refectoring your tests for swiching as you need, run tests mocking your database or point only tests for a specific configuration with a database on memory."},{"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"score":1,"creation_date":1633546394,"post_id":69470873,"comment_id":122791311,"body_markdown":"So interesting when you said `I just one to execute the tests as the IDE does`. IDE runs tests different to `mvn test`?","body":"So interesting when you said <code>I just one to execute the tests as the IDE does</code>. IDE runs tests different to <code>mvn test</code>?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1633547052,"post_id":69470873,"comment_id":122791523,"body_markdown":"So if you execute a test which connects to a database it is an integration tests...","body":"So if you execute a test which connects to a database it is an integration tests..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1633547294,"post_id":69470873,"comment_id":122791610,"body_markdown":"You have only test with `@ExtendWith(...)` ? None of them with `@SpringBootTest`?","body":"You have only test with <code>@ExtendWith(...)</code> ? None of them with <code>@SpringBootTest</code>?"},{"owner":{"account_id":270616,"reputation":955,"user_id":560678,"accept_rate":73,"display_name":"Hohenheimsenberg"},"score":0,"creation_date":1633548758,"post_id":69470873,"comment_id":122792110,"body_markdown":"@DilermandoLima yes, IDE executes tests without loading spring boot and without any autoconfiguration","body":"@DilermandoLima yes, IDE executes tests without loading spring boot and without any autoconfiguration"},{"owner":{"account_id":270616,"reputation":955,"user_id":560678,"accept_rate":73,"display_name":"Hohenheimsenberg"},"score":0,"creation_date":1633549451,"post_id":69470873,"comment_id":122792372,"body_markdown":"@khmarbaise any of my tests use the database, they use mocks. I had an empty class with SpringBootTest, deleting it did the job, thanks","body":"@khmarbaise any of my tests use the database, they use mocks. I had an empty class with SpringBootTest, deleting it did the job, thanks"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1633588049,"post_id":69470873,"comment_id":122800336,"body_markdown":"`@SpringBootTest` startups up the whole spring context which includes connections etc... that&#39;s usually not the correct way...","body":"<code>@SpringBootTest</code> startups up the whole spring context which includes connections etc... that&#39;s usually not the correct way..."}],"answers":[{"tags":[],"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633548128,"creation_date":1633548128,"answer_id":69471572,"question_id":69470873,"body_markdown":"I think one of them could help you\r\n\r\n**1 - Disable all tests**\r\n```\r\nmvn clean install -DskipTests\r\n\r\n```\r\n\r\n**2 - Prepare your test for switching**\r\n```java\r\n@ExtendWith(SpringExtension.class)\r\n@EnabledIf(expression = &quot;${tests.spring.enabled:true}&quot;)\r\n```\r\nif you pass `-Dtests.spring.enabled=` false or true will disable test\r\n\r\n**3 - Point your test to other configuration**\r\n```java\r\n@ExtendWith(SpringExtension.class)\r\n@TestPropertySource(locations = &quot;classpath:application-${spring.profiles.active:test}.properties&quot;)\r\n```\r\nthis way you could connect your application into a local database\r\n\r\n**4 - Change your tests**\r\n\r\nUse mocks to turn your integration tests into a unit tests or component tests with no connections\r\n\r\n","title":"Disable spring boot all together when running maven test","body":"<p>I think one of them could help you</p>\n<p><strong>1 - Disable all tests</strong></p>\n<pre><code>mvn clean install -DskipTests\n\n</code></pre>\n<p><strong>2 - Prepare your test for switching</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(SpringExtension.class)\n@EnabledIf(expression = &quot;${tests.spring.enabled:true}&quot;)\n</code></pre>\n<p>if you pass <code>-Dtests.spring.enabled=</code> false or true will disable test</p>\n<p><strong>3 - Point your test to other configuration</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(SpringExtension.class)\n@TestPropertySource(locations = &quot;classpath:application-${spring.profiles.active:test}.properties&quot;)\n</code></pre>\n<p>this way you could connect your application into a local database</p>\n<p><strong>4 - Change your tests</strong></p>\n<p>Use mocks to turn your integration tests into a unit tests or component tests with no connections</p>\n"},{"tags":[],"owner":{"account_id":270616,"reputation":955,"user_id":560678,"accept_rate":73,"display_name":"Hohenheimsenberg"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633554207,"creation_date":1633554207,"answer_id":69472625,"question_id":69470873,"body_markdown":"The problem I had was an empty class with `@SpringBootTest` annotation. After deleting it the tests works without spring interfering.","title":"Disable spring boot all together when running maven test","body":"<p>The problem I had was an empty class with <code>@SpringBootTest</code> annotation. After deleting it the tests works without spring interfering.</p>\n"},{"tags":[],"owner":{"account_id":19965064,"reputation":1,"user_id":14631828,"display_name":"Nils"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677270091,"creation_date":1677270091,"answer_id":75561047,"question_id":69470873,"body_markdown":"Use `@Disabled(&quot;TODO: Fix root cause&quot;)`\r\n\r\nhttps://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Disabled.html\r\n\r\n&gt; public @interface Disabled\r\n&gt; @Disabled is used to signal that the annotated test class or test method is currently disabled and should not be executed.\r\n&gt; @Disabled may optionally be declared with a reason to document why the &gt; annotated test class or test method is disabled.\r\n\r\n&gt; When applied at the class level, all test methods within that class are automatically disabled as well.\r\n\r\n&gt; When applied at the method level, the presence of this annotation does not prevent the test class from being instantiated. Rather, it prevents the execution of the test method and method-level lifecycle callbacks such as @BeforeEach methods, @AfterEach methods, and corresponding extension APIs.\r\n","title":"Disable spring boot all together when running maven test","body":"<p>Use <code>@Disabled(&quot;TODO: Fix root cause&quot;)</code></p>\n<p><a href=\"https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Disabled.html\" rel=\"nofollow noreferrer\">https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Disabled.html</a></p>\n<blockquote>\n<p>public @interface Disabled\n@Disabled is used to signal that the annotated test class or test method is currently disabled and should not be executed.\n@Disabled may optionally be declared with a reason to document why the &gt; annotated test class or test method is disabled.</p>\n</blockquote>\n<blockquote>\n<p>When applied at the class level, all test methods within that class are automatically disabled as well.</p>\n</blockquote>\n<blockquote>\n<p>When applied at the method level, the presence of this annotation does not prevent the test class from being instantiated. Rather, it prevents the execution of the test method and method-level lifecycle callbacks such as @BeforeEach methods, @AfterEach methods, and corresponding extension APIs.</p>\n</blockquote>\n"}],"owner":{"account_id":270616,"reputation":955,"user_id":560678,"accept_rate":73,"display_name":"Hohenheimsenberg"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3643,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1677270091,"creation_date":1633544715,"question_id":69470873,"body_markdown":"I have some unit test classes in my project that I want to test with `mvn test`. But whenever I run the command an instance of spring boot starts and opens database connections.\r\n\r\nI&#180;m running these tests in a server that doesn&#180;t have access to a database, and none of my tests uses one. I just one to execute the tests as the IDE does. ","title":"Disable spring boot all together when running maven test","body":"<p>I have some unit test classes in my project that I want to test with <code>mvn test</code>. But whenever I run the command an instance of spring boot starts and opens database connections.</p>\n<p>I´m running these tests in a server that doesn´t have access to a database, and none of my tests uses one. I just one to execute the tests as the IDE does.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9373,"page":619,"page_size":100}
