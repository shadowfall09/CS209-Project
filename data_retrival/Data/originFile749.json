{"items":[{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":3273652,"reputation":6707,"user_id":10561460,"display_name":"Paresh P."},"score":0,"creation_date":1449347887,"post_id":34110565,"comment_id":55970929,"body_markdown":"Show what you&#39;ve tried so far....","body":"Show what you&#39;ve tried so far...."},{"owner":{"account_id":3273652,"reputation":6707,"user_id":10561460,"display_name":"Paresh P."},"score":0,"creation_date":1449348195,"post_id":34110565,"comment_id":55971038,"body_markdown":"Are you using `Toolbar` using `AppCompatActivity`?","body":"Are you using <code>Toolbar</code> using <code>AppCompatActivity</code>?"},{"owner":{"account_id":6789353,"reputation":235,"user_id":5226995,"accept_rate":58,"display_name":"Craig Gallagher"},"score":0,"creation_date":1449348632,"post_id":34110565,"comment_id":55971201,"body_markdown":"That is the code I have for toolbar  `Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);`","body":"That is the code I have for toolbar  <code>Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);         setSupportActionBar(toolbar);</code>"}],"answers":[{"tags":[],"owner":{"account_id":5735475,"reputation":5343,"user_id":4529790,"accept_rate":81,"display_name":"Michele Lacorte"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1449348166,"creation_date":1449348166,"answer_id":34110626,"question_id":34110565,"body_markdown":" Use this in `onCreate()`\r\n\r\n    ActionBar actionBar = getSupportActionBar();\r\n    actionBar.setHomeButtonEnabled(true);\r\n    actionBar.setDisplayHomeAsUpEnabled(true);\r\n\r\n\r\nThan add this listener in your `MainActivity.java` class\r\n\r\n    protected OnBackPressedListener onBackPressedListener;\r\n    \r\n        public interface OnBackPressedListener {\r\n            void doBack();\r\n        }\r\n    \r\n        public void setOnBackPressedListener(OnBackPressedListener onBackPressedListener) {\r\n            this.onBackPressedListener = onBackPressedListener;\r\n        }\r\n    \r\n        @Override\r\n        public void onBackPressed() {\r\n            if (onBackPressedListener != null)\r\n                onBackPressedListener.doBack();\r\n            else\r\n                super.onBackPressed();\r\n    }\r\n\r\nSo now in your Fragment class you can implements `MainActivity.OnBackPressedListener` and than:\r\n\r\n\r\n    @Override\r\n    public void doBack() {\r\n        //Do on back pressed operation\r\n    }\r\n","title":"How to add back button on ActionBar in Android Studio?","body":"<p>Use this in <code>onCreate()</code></p>\n\n<pre><code>ActionBar actionBar = getSupportActionBar();\nactionBar.setHomeButtonEnabled(true);\nactionBar.setDisplayHomeAsUpEnabled(true);\n</code></pre>\n\n<p>Than add this listener in your <code>MainActivity.java</code> class</p>\n\n<pre><code>protected OnBackPressedListener onBackPressedListener;\n\n    public interface OnBackPressedListener {\n        void doBack();\n    }\n\n    public void setOnBackPressedListener(OnBackPressedListener onBackPressedListener) {\n        this.onBackPressedListener = onBackPressedListener;\n    }\n\n    @Override\n    public void onBackPressed() {\n        if (onBackPressedListener != null)\n            onBackPressedListener.doBack();\n        else\n            super.onBackPressed();\n}\n</code></pre>\n\n<p>So now in your Fragment class you can implements <code>MainActivity.OnBackPressedListener</code> and than:</p>\n\n<pre><code>@Override\npublic void doBack() {\n    //Do on back pressed operation\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":540235,"reputation":635,"user_id":908363,"display_name":"adnbsr"},"down_vote_count":1,"up_vote_count":18,"is_accepted":true,"score":17,"last_activity_date":1449348629,"creation_date":1449348629,"answer_id":34110716,"question_id":34110565,"body_markdown":"Assuming that you have a DetailActivity and you need back button to MainActivity. First change your manifest to for DetailActivity\r\n\r\n    &lt;activity\r\n        android:name=&quot;.DetailActivity&quot;\r\n        android:label=&quot;@string/title_activity_detail&quot;\r\n        android:parentActivityName=&quot;.MainActivity&quot;&gt;\r\n      &lt;meta-data\r\n          android:name=&quot;android.support.PARENT_ACTIVITY&quot;\r\n          android:value=&quot;com.example.MainActivity&quot;/&gt;\r\n    &lt;/activity&gt;\r\n\r\nand in `onCreate` of DetailActivity \r\n\r\n    getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n\r\nwill fix things. This is the simplest implementation.","title":"How to add back button on ActionBar in Android Studio?","body":"<p>Assuming that you have a DetailActivity and you need back button to MainActivity. First change your manifest to for DetailActivity</p>\n\n<pre><code>&lt;activity\n    android:name=\".DetailActivity\"\n    android:label=\"@string/title_activity_detail\"\n    android:parentActivityName=\".MainActivity\"&gt;\n  &lt;meta-data\n      android:name=\"android.support.PARENT_ACTIVITY\"\n      android:value=\"com.example.MainActivity\"/&gt;\n&lt;/activity&gt;\n</code></pre>\n\n<p>and in <code>onCreate</code> of DetailActivity </p>\n\n<pre><code>getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n</code></pre>\n\n<p>will fix things. This is the simplest implementation.</p>\n"},{"tags":[],"owner":{"account_id":3273652,"reputation":6707,"user_id":10561460,"display_name":"Paresh P."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449349289,"creation_date":1449349289,"answer_id":34110834,"question_id":34110565,"body_markdown":"Make your activity to extends `AppCompatACtivity` and then set `navigationIcon` to your `toolbar` along with `clicklistener`\r\n\r\nFor example\r\n\r\n    public class MyActivity extends AppCompatActivity {\r\n    \r\n        Toolbar toolbar;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity);\r\n    \r\n            mToolbar = (Toolbar) findViewById(R.id.toolbar);\r\n    \t\tsetSupportActionBar(toolbar);\r\n    \t\ttoolbar.setNavigationIcon(R.drawable.ic_back_arrow); // Set the icon\r\n    \t\t\r\n            // Icon click listener\r\n            toolbar.setNavigationOnClickListener(new View.OnClickListener() {\r\n    \t\t\t@Override \r\n    \t\t\tpublic void onClick(View v) {\r\n    \t\t\t\tLog.d(&quot;cek&quot;, &quot;home selected&quot;);\r\n    \t\t\t} \r\n    \t\t}); \r\n        }\r\n    }\r\n\r\nMake sure your activity theme is `AppCompat`\r\n\r\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light&quot;&gt;\r\n    &lt;!-- Customization will goes here --&gt;\r\n    &lt;/style&gt;","title":"How to add back button on ActionBar in Android Studio?","body":"<p>Make your activity to extends <code>AppCompatACtivity</code> and then set <code>navigationIcon</code> to your <code>toolbar</code> along with <code>clicklistener</code></p>\n\n<p>For example</p>\n\n<pre><code>public class MyActivity extends AppCompatActivity {\n\n    Toolbar toolbar;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity);\n\n        mToolbar = (Toolbar) findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n        toolbar.setNavigationIcon(R.drawable.ic_back_arrow); // Set the icon\n\n        // Icon click listener\n        toolbar.setNavigationOnClickListener(new View.OnClickListener() {\n            @Override \n            public void onClick(View v) {\n                Log.d(\"cek\", \"home selected\");\n            } \n        }); \n    }\n}\n</code></pre>\n\n<p>Make sure your activity theme is <code>AppCompat</code></p>\n\n<pre><code>&lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light\"&gt;\n&lt;!-- Customization will goes here --&gt;\n&lt;/style&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14290659,"reputation":715,"user_id":10322739,"display_name":"Raghib Arshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583394908,"creation_date":1583394908,"answer_id":60540537,"question_id":34110565,"body_markdown":"    //In Kotlin\r\n    // go to AndroidManifest.xml file apply this change\r\n    \r\n    &lt;activity android:name=&quot;.PresentActivity&quot;&gt;\r\n                // for adding back button on top\r\n                &lt;meta-data android:name=&quot;android.support.PARENT_ACTIVITY&quot;\r\n                    android:value=&quot;.BackActivity&quot;/&gt;\r\n            &lt;/activity&gt;\r\n    \r\n    // Hope this will work.","title":"How to add back button on ActionBar in Android Studio?","body":"<pre><code>//In Kotlin\n// go to AndroidManifest.xml file apply this change\n\n&lt;activity android:name=\".PresentActivity\"&gt;\n            // for adding back button on top\n            &lt;meta-data android:name=\"android.support.PARENT_ACTIVITY\"\n                android:value=\".BackActivity\"/&gt;\n        &lt;/activity&gt;\n\n// Hope this will work.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25271195,"reputation":1,"user_id":19100512,"display_name":"Rayhan Kompany"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673053678,"creation_date":1673053678,"answer_id":75037446,"question_id":34110565,"body_markdown":" // For add back button on action bar==================\r\n//add this in onCreate method..........\r\n\r\n\r\n        getSupportActionBar().setDisplayShowHomeEnabled(true);\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n\r\n\r\n//add this below of onCreate Bundle ========\r\n\r\n\r\n         @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item){\r\n\r\n        if (item.getItemId()==android.R.id.home){\r\n\r\n            this.finish();\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }","title":"How to add back button on ActionBar in Android Studio?","body":"<p>// For add back button on action bar==================\n//add this in onCreate method..........</p>\n<pre><code>    getSupportActionBar().setDisplayShowHomeEnabled(true);\n    getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n</code></pre>\n<p>//add this below of onCreate Bundle ========</p>\n<pre><code>     @Override\npublic boolean onOptionsItemSelected(@NonNull MenuItem item){\n\n    if (item.getItemId()==android.R.id.home){\n\n        this.finish();\n    }\n    return super.onOptionsItemSelected(item);\n}\n</code></pre>\n"}],"owner":{"account_id":6789353,"reputation":235,"user_id":5226995,"accept_rate":58,"display_name":"Craig Gallagher"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40098,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":34110716,"answer_count":5,"score":7,"last_activity_date":1673053678,"creation_date":1449347772,"question_id":34110565,"body_markdown":"I have created an app and wanted a back button on my action bar to navigate back to the previous page using Android Studio. I have looked at a number of examples but keep getting errors under `setDisplayHomeAsUpEnabled`\r\n\r\n    ActionBar actionBar = getActionBar();\r\n    actionBar.setDisplayHomeAsUpEnabled(true);\r\n\r\n\tpublic boolean onOptionsItemSelected(MenuItem item) {\r\n\t\tIntent myIntent = new Intent(getApplicationContext(), MainActivity.class);\r\n\t    startActivityForResult(myIntent, 0);\r\n\t   \r\n\t\t// Handle action bar item clicks here. The action bar will\r\n\t\t// automatically handle clicks on the Home/Up button, so long\r\n\t\t// as you specify a parent activity in AndroidManifest.xml.\r\n\t\tint id = item.getItemId();\r\n\t\tif (id == R.id.action_settings) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn super.onOptionsItemSelected(item);\r\n\t\t\r\n\t}","title":"How to add back button on ActionBar in Android Studio?","body":"<p>I have created an app and wanted a back button on my action bar to navigate back to the previous page using Android Studio. I have looked at a number of examples but keep getting errors under <code>setDisplayHomeAsUpEnabled</code></p>\n\n<pre><code>ActionBar actionBar = getActionBar();\nactionBar.setDisplayHomeAsUpEnabled(true);\n\npublic boolean onOptionsItemSelected(MenuItem item) {\n    Intent myIntent = new Intent(getApplicationContext(), MainActivity.class);\n    startActivityForResult(myIntent, 0);\n\n    // Handle action bar item clicks here. The action bar will\n    // automatically handle clicks on the Home/Up button, so long\n    // as you specify a parent activity in AndroidManifest.xml.\n    int id = item.getItemId();\n    if (id == R.id.action_settings) {\n        return true;\n    }\n    return super.onOptionsItemSelected(item);\n\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","aws-cdk","aws-java-sdk"],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14475,"user_id":7909676,"display_name":"Leeroy Hannigan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673052485,"creation_date":1672956780,"answer_id":75024904,"question_id":75024487,"body_markdown":"In that case as you do not want to deal with the DynamoDB JSON you should use a [Document Interface](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Programming.SDKs.Interfaces.Document.html).\r\n\r\n&gt; Many AWS SDKs provide a document interface, allowing you to perform data plane operations (create, read, update, delete) on tables and indexes. With a document interface, you do not need to specify Data type descriptors. The data types are implied by the semantics of the data itself. These AWS SDKs also provide methods to easily convert JSON documents to and from native Amazon DynamoDB data types.","title":"Java Displaying DynamoDB Scan AttributeValues in table","body":"<p>In that case as you do not want to deal with the DynamoDB JSON you should use a <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Programming.SDKs.Interfaces.Document.html\" rel=\"nofollow noreferrer\">Document Interface</a>.</p>\n<blockquote>\n<p>Many AWS SDKs provide a document interface, allowing you to perform data plane operations (create, read, update, delete) on tables and indexes. With a document interface, you do not need to specify Data type descriptors. The data types are implied by the semantics of the data itself. These AWS SDKs also provide methods to easily convert JSON documents to and from native Amazon DynamoDB data types.</p>\n</blockquote>\n"}],"owner":{"account_id":10649093,"reputation":109,"user_id":7840726,"accept_rate":75,"display_name":"L2C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673052485,"creation_date":1672953708,"question_id":75024487,"body_markdown":"I am trying to do a scan of a DynamoDB table and then display user selected fields in a table.\r\nThe problem is how can I do this if data is returned as AttributeValues, since not all values will be a string, and I have no idea what type each value is before hand.\r\n\r\nThe code I have:\r\n\r\n     ScanRequest request =\r\n                ScanRequest\r\n                .builder()\r\n                .tableName(tableName))\r\n                .build();\r\n\r\n        ScanIterable response = client.scanPaginator(request);\r\n        List&lt;Map&lt;String, AttributeValue&gt;&gt; data = new ArrayList&lt;&gt;();\r\n\r\n        for (ScanResponse page : response) {\r\n            for (Map&lt;String, AttributeValue&gt; item : page.items()) {\r\n                data.add(item);\r\n            }\r\n        }\r\n\r\nthen to get the values:\r\n\r\n           for (Map&lt;String, AttributeValue&gt; map : items) {\r\n            for (Map.Entry&lt;String, AttributeValue&gt; entry : map.entrySet()) {\r\n                //get the entry.getValue() and append it to a string\r\n            }\r\n        }\r\nIf I use:\r\n\r\n    entry.getValue().toString()\r\nI will get a string containing the attribute value type and value e.g &#39;N&#39;: &#39;127&#39;\r\nIf I use:\r\n\r\n    entry.getValue().s()\r\nI will get null values when the type is not &#39;S&#39;","title":"Java Displaying DynamoDB Scan AttributeValues in table","body":"<p>I am trying to do a scan of a DynamoDB table and then display user selected fields in a table.\nThe problem is how can I do this if data is returned as AttributeValues, since not all values will be a string, and I have no idea what type each value is before hand.</p>\n<p>The code I have:</p>\n<pre><code> ScanRequest request =\n            ScanRequest\n            .builder()\n            .tableName(tableName))\n            .build();\n\n    ScanIterable response = client.scanPaginator(request);\n    List&lt;Map&lt;String, AttributeValue&gt;&gt; data = new ArrayList&lt;&gt;();\n\n    for (ScanResponse page : response) {\n        for (Map&lt;String, AttributeValue&gt; item : page.items()) {\n            data.add(item);\n        }\n    }\n</code></pre>\n<p>then to get the values:</p>\n<pre><code>       for (Map&lt;String, AttributeValue&gt; map : items) {\n        for (Map.Entry&lt;String, AttributeValue&gt; entry : map.entrySet()) {\n            //get the entry.getValue() and append it to a string\n        }\n    }\n</code></pre>\n<p>If I use:</p>\n<pre><code>entry.getValue().toString()\n</code></pre>\n<p>I will get a string containing the attribute value type and value e.g 'N': '127'\nIf I use:</p>\n<pre><code>entry.getValue().s()\n</code></pre>\n<p>I will get null values when the type is not 'S'</p>\n"},{"tags":["java","multithreading","locking","semaphore","synchronized"],"answers":[{"tags":[],"owner":{"account_id":27458038,"reputation":36,"user_id":20949125,"display_name":"user20949125"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673051102,"creation_date":1673051102,"answer_id":75037272,"question_id":75030932,"body_markdown":"This happens according to the java documentation.\r\n\r\nFrom [the javadoc for `BLOCKED`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.State.html#BLOCKED):\r\n&gt; ... A thread in the blocked state is waiting for a monitor lock to enter a synchronized block/method ...\r\n\r\n`ReentrantLock` and `Semaphore` use `LockSupport.park()` internally, and, according to [this javadoc](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.State.html#WAITING), that corresponds to a `WAITING` thread state:\r\n&gt; A thread is in the waiting state due to calling one of the following methods: \r\n&gt; * Object.wait with no timeout\r\n&gt;  * Thread.join with no timeout\r\n&gt; * LockSupport.park\r\n\r\n\r\n\r\n\r\n\r\n","title":"Why synchronized shows BLOCKED state and Locks and semaphores shows WAITING state of the Threads","body":"<p>This happens according to the java documentation.</p>\n<p>From <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.State.html#BLOCKED\" rel=\"nofollow noreferrer\">the javadoc for <code>BLOCKED</code></a>:</p>\n<blockquote>\n<p>... A thread in the blocked state is waiting for a monitor lock to enter a synchronized block/method ...</p>\n</blockquote>\n<p><code>ReentrantLock</code> and <code>Semaphore</code> use <code>LockSupport.park()</code> internally, and, according to <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.State.html#WAITING\" rel=\"nofollow noreferrer\">this javadoc</a>, that corresponds to a <code>WAITING</code> thread state:</p>\n<blockquote>\n<p>A thread is in the waiting state due to calling one of the following methods:</p>\n<ul>\n<li>Object.wait with no timeout</li>\n<li>Thread.join with no timeout</li>\n<li>LockSupport.park</li>\n</ul>\n</blockquote>\n"}],"owner":{"account_id":19088549,"reputation":75,"user_id":13939277,"display_name":"Adarsh Verma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75037272,"answer_count":1,"score":0,"last_activity_date":1673051102,"creation_date":1673007990,"question_id":75030932,"body_markdown":"When threads are waiting to access the critical section using synchronized block why the threads states show as BLOCKED and when the threads are waiting to access the critical section using Lock or semaphores threads state show as WAITING?","title":"Why synchronized shows BLOCKED state and Locks and semaphores shows WAITING state of the Threads","body":"<p>When threads are waiting to access the critical section using synchronized block why the threads states show as BLOCKED and when the threads are waiting to access the critical section using Lock or semaphores threads state show as WAITING?</p>\n"},{"tags":["java","garbage-collection","anonymous-class"],"answers":[{"tags":[],"owner":{"account_id":32681,"reputation":138933,"user_id":90848,"accept_rate":90,"display_name":"Laurence Gonsalves"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1673051005,"creation_date":1298160479,"answer_id":5054363,"question_id":5054360,"body_markdown":"As of JDK 18, no. [JDK 18 omits enclosing instance fields from inner classes that don&#39;t use it.](https://bugs.openjdk.org/browse/JDK-8271717) \r\n\r\nHowever, prior to JDK 18, yes, instances of anonymous inner classes hold on to a reference to their enclosing instances even if these references are never actually used. For example, this code:\r\n\r\n    public class Outer {\r\n      public Runnable getRunnable() {\r\n        return new Runnable() {\r\n          public void run() {\r\n            System.out.println(&quot;hello&quot;);\r\n          }\r\n        };\r\n      }\r\n    }\r\n\r\n...when compiled with `javac`, generates two class files: `Outer.class` and\r\n`Outer$1.class`. Disassembling the latter, the anonymous inner class,\r\nwith `javap -c` yields:\r\n\r\n    Compiled from &quot;Outer.java&quot;\r\n    class Outer$1 extends java.lang.Object implements java.lang.Runnable{\r\n    final Outer this$0;\r\n\r\n    Outer$1(Outer);\r\n      Code:\r\n       0:   aload_0\r\n       1:   aload_1\r\n       2:   putfield        #1; //Field this$0:LOuter;\r\n       5:   aload_0\r\n       6:   invokespecial   #2; //Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n       9:   return\r\n\r\n    public void run();\r\n      Code:\r\n       0:   getstatic       #3; //Field java/lang/System.out:Ljava/io/PrintStream;\r\n       3:   ldc     #4; //String hello\r\n       5:   invokevirtual   #5; //Method java/io/PrintStream.println:(Ljava/lang/String;)V\r\n       8:   return\r\n\r\n    }\r\n\r\nThe `putfield` line shows that a reference to the enclosing instance is\r\nbeing stored in the field `this$0` (of type `Outer`) by the constructor\r\neven though this field is never used again.\r\n\r\nThis is unfortunate if you&#39;re attempting to create small potentially\r\nlong-lived objects with anonymous inner classes as they&#39;ll hold onto the\r\n(potentially large) enclosing instance. A workaround is to use an instance of a static class (or a top-level class) instead. This is unfortunately more verbose.","title":"Do anonymous classes *always* maintain a reference to their enclosing instance?","body":"<p>As of JDK 18, no. <a href=\"https://bugs.openjdk.org/browse/JDK-8271717\" rel=\"nofollow noreferrer\">JDK 18 omits enclosing instance fields from inner classes that don't use it.</a></p>\n<p>However, prior to JDK 18, yes, instances of anonymous inner classes hold on to a reference to their enclosing instances even if these references are never actually used. For example, this code:</p>\n<pre><code>public class Outer {\n  public Runnable getRunnable() {\n    return new Runnable() {\n      public void run() {\n        System.out.println(&quot;hello&quot;);\n      }\n    };\n  }\n}\n</code></pre>\n<p>...when compiled with <code>javac</code>, generates two class files: <code>Outer.class</code> and\n<code>Outer$1.class</code>. Disassembling the latter, the anonymous inner class,\nwith <code>javap -c</code> yields:</p>\n<pre><code>Compiled from &quot;Outer.java&quot;\nclass Outer$1 extends java.lang.Object implements java.lang.Runnable{\nfinal Outer this$0;\n\nOuter$1(Outer);\n  Code:\n   0:   aload_0\n   1:   aload_1\n   2:   putfield        #1; //Field this$0:LOuter;\n   5:   aload_0\n   6:   invokespecial   #2; //Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\n   9:   return\n\npublic void run();\n  Code:\n   0:   getstatic       #3; //Field java/lang/System.out:Ljava/io/PrintStream;\n   3:   ldc     #4; //String hello\n   5:   invokevirtual   #5; //Method java/io/PrintStream.println:(Ljava/lang/String;)V\n   8:   return\n\n}\n</code></pre>\n<p>The <code>putfield</code> line shows that a reference to the enclosing instance is\nbeing stored in the field <code>this$0</code> (of type <code>Outer</code>) by the constructor\neven though this field is never used again.</p>\n<p>This is unfortunate if you're attempting to create small potentially\nlong-lived objects with anonymous inner classes as they'll hold onto the\n(potentially large) enclosing instance. A workaround is to use an instance of a static class (or a top-level class) instead. This is unfortunately more verbose.</p>\n"},{"tags":[],"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1387327975,"creation_date":1387327975,"answer_id":20647717,"question_id":5054360,"body_markdown":"The static alternative (in this case) is not much larger (1 line):\r\n\r\n    public class Outer {\r\n      static class InnerRunnable implements Runnable {\r\n          public void run() {\r\n            System.out.println(&quot;hello&quot;);\r\n          }\r\n        }\r\n      public Runnable getRunnable() {\r\n        return new InnerRunnable();\r\n      }\r\n    }\r\n\r\nBTW: if you use a Lambda in Java8 there will be no nested class generated. However I am not sure if the `CallSite` objects which get passed around in that case hold an reference to the outer instance (if not needed).","title":"Do anonymous classes *always* maintain a reference to their enclosing instance?","body":"<p>The static alternative (in this case) is not much larger (1 line):</p>\n\n<pre><code>public class Outer {\n  static class InnerRunnable implements Runnable {\n      public void run() {\n        System.out.println(\"hello\");\n      }\n    }\n  public Runnable getRunnable() {\n    return new InnerRunnable();\n  }\n}\n</code></pre>\n\n<p>BTW: if you use a Lambda in Java8 there will be no nested class generated. However I am not sure if the <code>CallSite</code> objects which get passed around in that case hold an reference to the outer instance (if not needed).</p>\n"},{"tags":[],"owner":{"account_id":3936208,"reputation":109,"user_id":3818291,"display_name":"Delphin"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1391075781,"creation_date":1391075781,"answer_id":21453115,"question_id":5054360,"body_markdown":"You can easily turn a nested anonymous-class into a &quot;static&quot; anonymous-class by introducing a static method in your class.\r\n\r\n\timport java.util.ArrayList;\r\n\t\r\n\t\r\n\tpublic class TestGC {\r\n\t\tpublic char[] mem = new char[5000000];\r\n\t\tpublic String str = &quot;toto&quot;;\r\n\t\t\r\n\t\tpublic interface Node {\r\n\t\t\tpublic void print();\r\n\t\t}\r\n\t\t\r\n\t\tpublic Node createNestedNode() {\r\n\t\t\tfinal String str = this.str;\r\n\t\t\treturn new Node() {\r\n\t\t\t\tpublic void print() {\r\n\t\t\t\t\tSystem.out.println(str);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t\t\r\n\t\tpublic static Node createStaticNode(TestGC test) {\r\n\t\t\tfinal String str = test.str;\r\n\t\t\treturn new Node() {\r\n\t\t\t\tpublic void print() {\r\n\t\t\t\t\tSystem.out.println(str);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t\t\r\n\t\tpublic Node createStaticNode() {\r\n\t\t\treturn createStaticNode(this);\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void main(String... args) throws InterruptedException {\r\n\t\t\tArrayList&lt;Node&gt; nodes = new ArrayList&lt;Node&gt;();\r\n\t\t\tfor (int i=0; i&lt;10; i++) {\r\n\t\t\t\t// Try once with createNestedNode(), then createStaticNode()\r\n\t\t\t\tnodes.add(new TestGC().createStaticNode());\r\n\t\t\t\tSystem.gc();\r\n\t\t\t\t//Thread.sleep(200);\r\n\t\t\t\tSystem.out.printf(&quot;Total mem: %d  Free mem: %d\\n&quot;, Runtime.getRuntime().totalMemory(), Runtime.getRuntime().freeMemory());\r\n\t\t\t}\r\n\t\t\tfor (Node node : nodes)\r\n\t\t\t\tnode.print();\r\n\t\t\tnodes = null;\r\n\t\t\tSystem.gc();\r\n\t\t\t//Thread.sleep(200);\r\n\t\t\tSystem.out.printf(&quot;Total mem: %d  Free mem: %d\\n&quot;, Runtime.getRuntime().totalMemory(), Runtime.getRuntime().freeMemory());\r\n\t\t}\r\n\t}","title":"Do anonymous classes *always* maintain a reference to their enclosing instance?","body":"<p>You can easily turn a nested anonymous-class into a \"static\" anonymous-class by introducing a static method in your class.</p>\n\n<pre><code>import java.util.ArrayList;\n\n\npublic class TestGC {\n    public char[] mem = new char[5000000];\n    public String str = \"toto\";\n\n    public interface Node {\n        public void print();\n    }\n\n    public Node createNestedNode() {\n        final String str = this.str;\n        return new Node() {\n            public void print() {\n                System.out.println(str);\n            }\n        };\n    }\n\n    public static Node createStaticNode(TestGC test) {\n        final String str = test.str;\n        return new Node() {\n            public void print() {\n                System.out.println(str);\n            }\n        };\n    }\n\n    public Node createStaticNode() {\n        return createStaticNode(this);\n    }\n\n    public static void main(String... args) throws InterruptedException {\n        ArrayList&lt;Node&gt; nodes = new ArrayList&lt;Node&gt;();\n        for (int i=0; i&lt;10; i++) {\n            // Try once with createNestedNode(), then createStaticNode()\n            nodes.add(new TestGC().createStaticNode());\n            System.gc();\n            //Thread.sleep(200);\n            System.out.printf(\"Total mem: %d  Free mem: %d\\n\", Runtime.getRuntime().totalMemory(), Runtime.getRuntime().freeMemory());\n        }\n        for (Node node : nodes)\n            node.print();\n        nodes = null;\n        System.gc();\n        //Thread.sleep(200);\n        System.out.printf(\"Total mem: %d  Free mem: %d\\n\", Runtime.getRuntime().totalMemory(), Runtime.getRuntime().freeMemory());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":32681,"reputation":138933,"user_id":90848,"accept_rate":90,"display_name":"Laurence Gonsalves"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9187,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":5054363,"answer_count":3,"score":32,"last_activity_date":1673051005,"creation_date":1298160453,"question_id":5054360,"body_markdown":"I&#39;m working with some code where one object, &quot;foo&quot;, is creating another\r\nobject, &quot;bar&quot;, and passing it a `Callable`. After this foo will return\r\nbar, and then I want foo to become unreachable (ie: available for\r\ngarbage collection).\r\n\r\nMy initial thought was to just create the `Callable` anonymously. eg:\r\n\r\n    class Foo {\r\n      ...\r\n    \r\n      public Bar createBar() {\r\n        final int arg1 = ...\r\n        final int arg2 = ...\r\n        final int arg3 = ...\r\n        return new Callable&lt;Baz&gt;() {\r\n          @Override\r\n          public Baz call() {\r\n            return new Baz(arg1, arg2, arg3);\r\n          }\r\n        };\r\n      }\r\n    }\r\n\r\nIt occurred to me that this might not actually work as desired, however,\r\nas an inner class typically keeps a reference to its enclosing object.\r\nI don&#39;t want a reference to the enclosing class here, because I want the enclosing object to be\r\ncollected while the `Callable` is still reachable.\r\n\r\nOn the other hand,\r\ndetecting that the enclosing instance is never actually referred to\r\nshould be pretty trivial, so perhaps the Java compiler is smart enough\r\nto not include a reference in that case.\r\n\r\nSo... will an instance of an anonymous inner class hold on to a\r\nreference to its enclosing instance even if it never actually uses the\r\nenclosing instance reference?\r\n","title":"Do anonymous classes *always* maintain a reference to their enclosing instance?","body":"<p>I'm working with some code where one object, \"foo\", is creating another\nobject, \"bar\", and passing it a <code>Callable</code>. After this foo will return\nbar, and then I want foo to become unreachable (ie: available for\ngarbage collection).</p>\n\n<p>My initial thought was to just create the <code>Callable</code> anonymously. eg:</p>\n\n<pre><code>class Foo {\n  ...\n\n  public Bar createBar() {\n    final int arg1 = ...\n    final int arg2 = ...\n    final int arg3 = ...\n    return new Callable&lt;Baz&gt;() {\n      @Override\n      public Baz call() {\n        return new Baz(arg1, arg2, arg3);\n      }\n    };\n  }\n}\n</code></pre>\n\n<p>It occurred to me that this might not actually work as desired, however,\nas an inner class typically keeps a reference to its enclosing object.\nI don't want a reference to the enclosing class here, because I want the enclosing object to be\ncollected while the <code>Callable</code> is still reachable.</p>\n\n<p>On the other hand,\ndetecting that the enclosing instance is never actually referred to\nshould be pretty trivial, so perhaps the Java compiler is smart enough\nto not include a reference in that case.</p>\n\n<p>So... will an instance of an anonymous inner class hold on to a\nreference to its enclosing instance even if it never actually uses the\nenclosing instance reference?</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673082257,"post_id":75037219,"comment_id":132421265,"body_markdown":"Sounds like those projects belong into a multi module build....","body":"Sounds like those projects belong into a multi module build...."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1673092223,"post_id":75037219,"comment_id":132422703,"body_markdown":"In Eclipse, this is called Workspace Resolution. I guess IntelliJ does not have such a thing.","body":"In Eclipse, this is called Workspace Resolution. I guess IntelliJ does not have such a thing."}],"owner":{"account_id":297830,"reputation":2265,"user_id":603543,"accept_rate":5,"display_name":"Salil Surendran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673255323,"answer_count":0,"score":0,"last_activity_date":1673050426,"creation_date":1673050426,"question_id":75037219,"body_markdown":"I have a maven project A that depends on another maven project B. So in the pom of project A there is dependency element that refers to a version of project B. I use IntelliJ, as my IDE and now I want to make changes in project B like add a new method and I want this method to be available immediately in project A. But because project B is a different maven project. I have to make the changes in B and then do a mvn install so that the jar gets created in my local repository before those changes be available for project A. I tried creating a project from existing sources for project A and then &#39;Import Module from Existing Sources&#39; for project B so that all source code for project A and B are in the same IntelliJ window but this doesn&#39;t work. How can I setup IntelliJ such that I have project A refer the source code for project B in the same IntelliJ window rather than going to the local maven repository?","title":"How to work on different interdependent maven modules in IntelliJ","body":"<p>I have a maven project A that depends on another maven project B. So in the pom of project A there is dependency element that refers to a version of project B. I use IntelliJ, as my IDE and now I want to make changes in project B like add a new method and I want this method to be available immediately in project A. But because project B is a different maven project. I have to make the changes in B and then do a mvn install so that the jar gets created in my local repository before those changes be available for project A. I tried creating a project from existing sources for project A and then 'Import Module from Existing Sources' for project B so that all source code for project A and B are in the same IntelliJ window but this doesn't work. How can I setup IntelliJ such that I have project A refer the source code for project B in the same IntelliJ window rather than going to the local maven repository?</p>\n"},{"tags":["java","byte"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1669656382,"post_id":74604316,"comment_id":131686929,"body_markdown":"Do you know what the shift operator does?","body":"Do you know what the shift operator does?"},{"owner":{"account_id":12461004,"reputation":33,"user_id":9157138,"display_name":"r.m.ghimis"},"score":0,"creation_date":1669657149,"post_id":74604316,"comment_id":131687164,"body_markdown":"Moves all the bits to a direction by a given number of bits?","body":"Moves all the bits to a direction by a given number of bits?"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1669665198,"post_id":74604316,"comment_id":131689538,"body_markdown":"Why does the shift operator look strange?","body":"Why does the shift operator look strange?"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1672482701,"post_id":74604316,"comment_id":132296559,"body_markdown":"`value += (0 &amp; 0x000000FF) &lt;&lt; shift;` is the same as `value += 0`, thus a no-op.","body":"<code>value += (0 &amp; 0x000000FF) &lt;&lt; shift;</code> is the same as <code>value += 0</code>, thus a no-op."}],"answers":[{"tags":[],"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673050135,"creation_date":1673048433,"answer_id":75037073,"question_id":74604316,"body_markdown":"I would call this function `keepFirstXBytes(...)`. It seems to cut out the first part of a `byte[]` and return those bytes as an integer.\r\n\r\n - Like if your input is:  `{ 0x01, 0x02, 0x03 }`, and your length is `2`, then it will output only the first 2 bytes. `0x0102`.\r\n\r\nThere are some caveats. \r\n\r\n - The maximum value of `length` is 4. If you take a longer value, then it will just act as if it was 4. It will just take the first 4 bytes of the array. An integer can hold only 4 bytes after all.\r\n\r\n---\r\n\r\n#### How I would write it:\r\n\r\nI&#39;m wondering if it could be easier to read, if it used an `arraycopy`.\r\n\r\n    byte[] destination = new byte[length];\r\n    System.arraycopy(input, 0, destination, 0, length);\r\n\r\nAnd then finally convert that to an integer. Which is kind of tricky for an array of variable length. So, I would borrow the function which I found [here][1].\r\n\r\n    public static int pareAsBigEndianByteArray(byte[] bytes) {\r\n        int factor = bytes.length - 1;\r\n        int result = 0;\r\n        for (int i = 0; i &lt; bytes.length; i++) {\r\n            if (i == 0) {\r\n                result |= bytes[i] &lt;&lt; (8 * factor--);\r\n            } else {\r\n                result |= bytes[i] &lt;&lt; (8 * factor--);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\nSeems like the code of the function given in your question does those 2 things in one go, which could be more efficient, but it looks really hard to read.\r\n\r\n### EDIT:\r\n\r\nIt&#39;s easier if you just always copy it to an array of length 4.\r\n\r\n    public static int decodeInt(byte[] input, int length) {\r\n        length = java.lang.Math.min(4, length);\r\n        byte[] destination = new byte[4];\r\n        System.arraycopy(input, 0, destination, 4-length, length);\r\n        int value = java.nio.ByteBuffer.wrap(destination).getInt();\r\n        return value;\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/5616052/how-can-i-convert-a-4-byte-array-to-an-integer","title":"Byte array to signed Integer","body":"<p>I would call this function <code>keepFirstXBytes(...)</code>. It seems to cut out the first part of a <code>byte[]</code> and return those bytes as an integer.</p>\n<ul>\n<li>Like if your input is:  <code>{ 0x01, 0x02, 0x03 }</code>, and your length is <code>2</code>, then it will output only the first 2 bytes. <code>0x0102</code>.</li>\n</ul>\n<p>There are some caveats.</p>\n<ul>\n<li>The maximum value of <code>length</code> is 4. If you take a longer value, then it will just act as if it was 4. It will just take the first 4 bytes of the array. An integer can hold only 4 bytes after all.</li>\n</ul>\n<hr />\n<h4>How I would write it:</h4>\n<p>I'm wondering if it could be easier to read, if it used an <code>arraycopy</code>.</p>\n<pre><code>byte[] destination = new byte[length];\nSystem.arraycopy(input, 0, destination, 0, length);\n</code></pre>\n<p>And then finally convert that to an integer. Which is kind of tricky for an array of variable length. So, I would borrow the function which I found <a href=\"https://stackoverflow.com/questions/5616052/how-can-i-convert-a-4-byte-array-to-an-integer\">here</a>.</p>\n<pre><code>public static int pareAsBigEndianByteArray(byte[] bytes) {\n    int factor = bytes.length - 1;\n    int result = 0;\n    for (int i = 0; i &lt; bytes.length; i++) {\n        if (i == 0) {\n            result |= bytes[i] &lt;&lt; (8 * factor--);\n        } else {\n            result |= bytes[i] &lt;&lt; (8 * factor--);\n        }\n    }\n    return result;\n}\n</code></pre>\n<p>Seems like the code of the function given in your question does those 2 things in one go, which could be more efficient, but it looks really hard to read.</p>\n<h3>EDIT:</h3>\n<p>It's easier if you just always copy it to an array of length 4.</p>\n<pre><code>public static int decodeInt(byte[] input, int length) {\n    length = java.lang.Math.min(4, length);\n    byte[] destination = new byte[4];\n    System.arraycopy(input, 0, destination, 4-length, length);\n    int value = java.nio.ByteBuffer.wrap(destination).getInt();\n    return value;\n}\n</code></pre>\n"}],"owner":{"account_id":12461004,"reputation":33,"user_id":9157138,"display_name":"r.m.ghimis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75037073,"answer_count":1,"score":0,"last_activity_date":1673050135,"creation_date":1669656224,"question_id":74604316,"body_markdown":"I have the fallowing piece of code that I try to understand what it does. I know that extracts an integer value from a byte value, but I don&#39;t really comprehend what it does and how it works:\r\n\r\n\r\n\r\n```\r\npublic int decodeInt(byte[] input, int length) {\r\n\tint value = 0;\r\n    int p = 0;\r\n\tint paddingPositions = 4 - length;\r\n\tfor (int i = 0; i &lt; 4; i++) {\r\n\t\tint shift = (4 - 1 - i) * 8;\r\n\t\tif (paddingPositions-- &gt; 0) {\r\n\t\t\tvalue += (0 &amp; 0x000000FF) &lt;&lt; shift;\r\n\t\t} else {\r\n\t\t    value += (input[p] &amp; 0x000000FF) &lt;&lt; shift;\r\n            p++\r\n\t\t}\r\n\t}\r\n\treturn value;\r\n}\r\n```\r\n\r\n\r\n\r\nIt seems to pad the value to get the high bits and low bits and sum them together somehow(the shift step looks very strange to me).\r\n","title":"Byte array to signed Integer","body":"<p>I have the fallowing piece of code that I try to understand what it does. I know that extracts an integer value from a byte value, but I don't really comprehend what it does and how it works:</p>\n<pre><code>public int decodeInt(byte[] input, int length) {\n    int value = 0;\n    int p = 0;\n    int paddingPositions = 4 - length;\n    for (int i = 0; i &lt; 4; i++) {\n        int shift = (4 - 1 - i) * 8;\n        if (paddingPositions-- &gt; 0) {\n            value += (0 &amp; 0x000000FF) &lt;&lt; shift;\n        } else {\n            value += (input[p] &amp; 0x000000FF) &lt;&lt; shift;\n            p++\n        }\n    }\n    return value;\n}\n</code></pre>\n<p>It seems to pad the value to get the high bits and low bits and sum them together somehow(the shift step looks very strange to me).</p>\n"},{"tags":["java","data-structures","hashmap","complexity-theory"],"comments":[{"owner":{"account_id":162377,"reputation":3987,"user_id":383795,"accept_rate":100,"display_name":"Dr G"},"score":1,"creation_date":1293625223,"post_id":4553624,"comment_id":4992878,"body_markdown":"You might want to look up the concept of amortized complexity. See for instance here: stackoverflow.com/questions/3949217/time-complexity-of-hash-table Worst case complexity is not the most important measure for a hash table","body":"You might want to look up the concept of amortized complexity. See for instance here: stackoverflow.com/questions/3949217/time-complexity-of-hash-&zwnj;&#8203;table Worst case complexity is not the most important measure for a hash table"},{"owner":{"account_id":104686,"reputation":8649,"user_id":279738,"accept_rate":95,"display_name":"Engineer"},"score":3,"creation_date":1388746333,"post_id":4553624,"comment_id":31373468,"body_markdown":"Correct -- it&#39;s _amortized_ O(1) -- never forget that first part and you won&#39;t have these kinds of questions :)","body":"Correct -- it&#39;s <i>amortized</i> O(1) -- never forget that first part and you won&#39;t have these kinds of questions :)"},{"owner":{"account_id":14019000,"reputation":937,"user_id":10125681,"display_name":"Tarun Kolla"},"score":1,"creation_date":1558541715,"post_id":4553624,"comment_id":99138714,"body_markdown":"Time complexity worst case is O(logN) since Java 1.8 if I&#39;m not wrong.","body":"Time complexity worst case is O(logN) since Java 1.8 if I&#39;m not wrong."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":310,"is_accepted":true,"score":310,"last_activity_date":1451638253,"creation_date":1293621906,"answer_id":4553642,"question_id":4553624,"body_markdown":"It depends on many things. It&#39;s *usually* O(1), with a decent hash which itself is constant time... but you could have a hash which takes a long time to compute, *and* if there are multiple items in the hash map which return the same hash code, `get` will have to iterate over them calling `equals` on each of them to find a match.\r\n\r\nIn the worst case, a `HashMap` has an O(n) lookup due to walking through all entries in the same hash bucket (e.g. if they all have the same hash code). Fortunately, that worst case scenario doesn&#39;t come up very often in real life, in my experience. So no, O(1) certainly isn&#39;t guaranteed - but it&#39;s usually what you should assume when considering which algorithms and data structures to use.\r\n\r\nIn JDK 8, `HashMap` has been tweaked so that if keys can be compared for ordering, then any densely-populated bucket is implemented as a tree, so that even if there are lots of entries with the same hash code, the complexity is O(log n). That can cause issues if you have a key type where equality and ordering are different, of course.\r\n\r\nAnd yes, if you don&#39;t have enough memory for the hash map, you&#39;ll be in trouble... but that&#39;s going to be true whatever data structure you use.","title":"HashMap get/put complexity","body":"<p>It depends on many things. It's <em>usually</em> O(1), with a decent hash which itself is constant time... but you could have a hash which takes a long time to compute, <em>and</em> if there are multiple items in the hash map which return the same hash code, <code>get</code> will have to iterate over them calling <code>equals</code> on each of them to find a match.</p>\n\n<p>In the worst case, a <code>HashMap</code> has an O(n) lookup due to walking through all entries in the same hash bucket (e.g. if they all have the same hash code). Fortunately, that worst case scenario doesn't come up very often in real life, in my experience. So no, O(1) certainly isn't guaranteed - but it's usually what you should assume when considering which algorithms and data structures to use.</p>\n\n<p>In JDK 8, <code>HashMap</code> has been tweaked so that if keys can be compared for ordering, then any densely-populated bucket is implemented as a tree, so that even if there are lots of entries with the same hash code, the complexity is O(log n). That can cause issues if you have a key type where equality and ordering are different, of course.</p>\n\n<p>And yes, if you don't have enough memory for the hash map, you'll be in trouble... but that's going to be true whatever data structure you use.</p>\n"},{"tags":[],"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1293623025,"creation_date":1293623025,"answer_id":4553778,"question_id":4553624,"body_markdown":"I&#39;m not sure the default hashcode is the address - I read the OpenJDK source for hashcode generation a while ago, and I remember it being something a bit more complicated. Still not something that guarantees a good distribution, perhaps. However, that is to some extent moot, as few classes you&#39;d use as keys in a hashmap use the default hashcode - they supply their own implementations, which ought to be good.\r\n\r\nOn top of that, what you may not know (again, this is based in reading source - it&#39;s not guaranteed) is that HashMap stirs the hash before using it, to mix entropy from throughout the word into the bottom bits, which is where it&#39;s needed for all but the hugest hashmaps. That helps deal with hashes that specifically don&#39;t do that themselves, although i can&#39;t think of any common cases where you&#39;d see that.\r\n\r\nFinally, what happens when the table is overloaded is that it degenerates into a set of parallel linked lists - performance becomes O(n). Specifically, the number of links traversed will on average be half the load factor.","title":"HashMap get/put complexity","body":"<p>I'm not sure the default hashcode is the address - I read the OpenJDK source for hashcode generation a while ago, and I remember it being something a bit more complicated. Still not something that guarantees a good distribution, perhaps. However, that is to some extent moot, as few classes you'd use as keys in a hashmap use the default hashcode - they supply their own implementations, which ought to be good.</p>\n\n<p>On top of that, what you may not know (again, this is based in reading source - it's not guaranteed) is that HashMap stirs the hash before using it, to mix entropy from throughout the word into the bottom bits, which is where it's needed for all but the hugest hashmaps. That helps deal with hashes that specifically don't do that themselves, although i can't think of any common cases where you'd see that.</p>\n\n<p>Finally, what happens when the table is overloaded is that it degenerates into a set of parallel linked lists - performance becomes O(n). Specifically, the number of links traversed will on average be half the load factor.</p>\n"},{"tags":[],"owner":{"account_id":71043,"reputation":30960,"user_id":205521,"accept_rate":89,"display_name":"Thomas Ahle"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1485866577,"creation_date":1401453405,"answer_id":23954819,"question_id":4553624,"body_markdown":"It has already been mentioned that hashmaps are `O(n/m)` in average, if `n` is the number of items and `m` is the size. It has also been mentioned that in principle the whole thing could collapse into a singly linked list with `O(n)` query time. (This all assumes that calculating the hash is constant time).\r\n\r\nHowever what isn&#39;t often mentioned is, that with probability at least `1-1/n` (so for 1000 items that&#39;s a 99.9% chance) the largest bucket won&#39;t be filled more than `O(logn)`! Hence matching the average complexity of binary search trees. (And the constant is good, a tighter bound is `(log n)*(m/n) + O(1)`).\r\n\r\nAll that&#39;s required for this theoretical bound is that you use a reasonably good hash function (see Wikipedia: [Universal Hashing][1]. It can be as simple as `a*x&gt;&gt;m`). And of course that the person giving you the values to hash doesn&#39;t know how you have chosen your random constants.\r\n\r\nTL;DR: With Very High Probability the worst case get/put complexity of a hashmap is `O(logn)`.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Universal_hashing","title":"HashMap get/put complexity","body":"<p>It has already been mentioned that hashmaps are <code>O(n/m)</code> in average, if <code>n</code> is the number of items and <code>m</code> is the size. It has also been mentioned that in principle the whole thing could collapse into a singly linked list with <code>O(n)</code> query time. (This all assumes that calculating the hash is constant time).</p>\n\n<p>However what isn't often mentioned is, that with probability at least <code>1-1/n</code> (so for 1000 items that's a 99.9% chance) the largest bucket won't be filled more than <code>O(logn)</code>! Hence matching the average complexity of binary search trees. (And the constant is good, a tighter bound is <code>(log n)*(m/n) + O(1)</code>).</p>\n\n<p>All that's required for this theoretical bound is that you use a reasonably good hash function (see Wikipedia: <a href=\"https://en.wikipedia.org/wiki/Universal_hashing\" rel=\"noreferrer\">Universal Hashing</a>. It can be as simple as <code>a*x&gt;&gt;m</code>). And of course that the person giving you the values to hash doesn't know how you have chosen your random constants.</p>\n\n<p>TL;DR: With Very High Probability the worst case get/put complexity of a hashmap is <code>O(logn)</code>.</p>\n"},{"tags":[],"owner":{"account_id":2760068,"reputation":818,"user_id":2377137,"display_name":"Pranav"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1436774843,"creation_date":1436774843,"answer_id":31378268,"question_id":4553624,"body_markdown":"HashMap operation is dependent factor of hashCode implementation. For the ideal scenario lets say the good hash implementation which provide unique hash code for every object (No hash collision) then the best, worst and average case scenario would be O(1).\r\nLet&#39;s consider a scenario where a bad implementation of hashCode always returns 1 or such hash which has hash collision. In this case the time complexity would be O(n).\r\n\r\nNow coming to the second part of the question about memory, then yes memory constraint would be taken care by JVM.","title":"HashMap get/put complexity","body":"<p>HashMap operation is dependent factor of hashCode implementation. For the ideal scenario lets say the good hash implementation which provide unique hash code for every object (No hash collision) then the best, worst and average case scenario would be O(1).\nLet's consider a scenario where a bad implementation of hashCode always returns 1 or such hash which has hash collision. In this case the time complexity would be O(n).</p>\n\n<p>Now coming to the second part of the question about memory, then yes memory constraint would be taken care by JVM.</p>\n"},{"tags":[],"owner":{"account_id":1716782,"reputation":266,"user_id":1573682,"display_name":"Peter Verhas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1558211393,"creation_date":1525442577,"answer_id":50176807,"question_id":4553624,"body_markdown":"In practice, it is O(1), but this actually is a terrible and mathematically non-sense simplification. The O() notation says how the algorithm behaves when the size of the problem tends to infinity. Hashmap get/put works like an O(1) algorithm for a limited size. The limit is fairly large from the computer memory and from the addressing point of view, but far from infinity.\r\n\r\nWhen one says that hashmap get/put is O(1) it should really say that the time needed for the get/put is more or less constant and does not depend on the number of elements in the hashmap so far as the hashmap can be presented on the actual computing system. If the problem goes beyond that size and we need larger hashmaps then, after a while, certainly the number of the bits describing one element will also increase as we run out of the possible describable different elements. For example, if we used a hashmap to store 32bit numbers and later we increase the problem size so that we will have more than 2^32 bit elements in the hashmap, then the individual elements will be described with more than 32bits.\r\n\r\nThe number of the bits needed to describe the individual elements is log(N), where N is the maximum number of elements, therefore get and put are really O(log N).\r\n\r\nIf you compare it with a tree set, which is O(log n) then hash set is O(long(max(n)) and we simply feel that this is O(1), because on a certain implementation max(n) is fixed, does not change (the size of the objects we store measured in bits) and the algorithm calculating the hash code is fast.\r\n\r\nFinally, if finding an element in any data structure were O(1) we would create information out of thin air. Having a data structure of n element I can select one element in n different way. With that, I can encode log(n) bit information. If I can encode that in zero bit (that is what O(1) means) then I created an infinitely compressing ZIP algorithm.","title":"HashMap get/put complexity","body":"<p>In practice, it is O(1), but this actually is a terrible and mathematically non-sense simplification. The O() notation says how the algorithm behaves when the size of the problem tends to infinity. Hashmap get/put works like an O(1) algorithm for a limited size. The limit is fairly large from the computer memory and from the addressing point of view, but far from infinity.</p>\n\n<p>When one says that hashmap get/put is O(1) it should really say that the time needed for the get/put is more or less constant and does not depend on the number of elements in the hashmap so far as the hashmap can be presented on the actual computing system. If the problem goes beyond that size and we need larger hashmaps then, after a while, certainly the number of the bits describing one element will also increase as we run out of the possible describable different elements. For example, if we used a hashmap to store 32bit numbers and later we increase the problem size so that we will have more than 2^32 bit elements in the hashmap, then the individual elements will be described with more than 32bits.</p>\n\n<p>The number of the bits needed to describe the individual elements is log(N), where N is the maximum number of elements, therefore get and put are really O(log N).</p>\n\n<p>If you compare it with a tree set, which is O(log n) then hash set is O(long(max(n)) and we simply feel that this is O(1), because on a certain implementation max(n) is fixed, does not change (the size of the objects we store measured in bits) and the algorithm calculating the hash code is fast.</p>\n\n<p>Finally, if finding an element in any data structure were O(1) we would create information out of thin air. Having a data structure of n element I can select one element in n different way. With that, I can encode log(n) bit information. If I can encode that in zero bit (that is what O(1) means) then I created an infinitely compressing ZIP algorithm.</p>\n"},{"tags":[],"owner":{"account_id":3997984,"reputation":4081,"user_id":3294902,"display_name":"Kostas Kryptos"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1609263891,"creation_date":1540149887,"answer_id":52919020,"question_id":4553624,"body_markdown":"I agree with:\r\n\r\n - the general amortized complexity of O(1) \r\n - a bad `hashCode()` implementation could result to multiple collisions, which means that in the worst case every object goes to the same bucket, thus O(*N*) if each bucket is backed by a `List`. \r\n - since Java 8, `HashMap` dynamically replaces the Nodes (linked list) used in each bucket with TreeNodes (red-black tree when a list gets bigger than 8 elements) resulting to a worst performance of O(*logN*).\r\n\r\nBut, this is **not** the full truth if we want to be 100% precise. The implementation of `hashCode()` and the type of key `Object` (immutable/cached or being a Collection) might also affect real time complexity in strict terms.\r\n\r\nLet&#39;s assume the following three cases: \r\n\r\n 1. `HashMap&lt;Integer, V&gt;`\r\n 2. `HashMap&lt;String, V&gt;`\r\n 3. `HashMap&lt;List&lt;E&gt;, V&gt;`\r\n\r\nDo they have the same complexity? Well, the amortised complexity of the 1st one is, as expected, O(1). But, for the rest, we also need to compute `hashCode()` of the lookup element, which means we might have to traverse arrays and lists in our algorithm. \r\n\r\nLets assume that the size of all of the above arrays/lists is *k*.\r\nThen, `HashMap&lt;String, V&gt;` and `HashMap&lt;List&lt;E&gt;, V&gt;` will have O(k) amortised complexity and similarly, O(*k + logN*) worst case in Java8.\r\n\r\n*Note that using a `String` key is a more complex case, because it is immutable and Java caches the result of `hashCode()` in a private variable `hash`, so it&#39;s only computed once.\r\n\r\n    /** Cache the hash code for the string */\r\n        private int hash; // Default to 0\r\n    \r\nBut, the above is also having its own worst case, because Java&#39;s `String.hashCode()` implementation is checking if `hash == 0` before computing `hashCode`. But hey, there are non-empty Strings that output a `hashcode` of zero, such as &quot;f5a5a608&quot;, see [here][1], in which case memoization might not be helpful.\r\n\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18746394/can-a-non-empty-string-have-a-hashcode-of-zero","title":"HashMap get/put complexity","body":"<p>I agree with:</p>\n<ul>\n<li>the general amortized complexity of O(1)</li>\n<li>a bad <code>hashCode()</code> implementation could result to multiple collisions, which means that in the worst case every object goes to the same bucket, thus O(<em>N</em>) if each bucket is backed by a <code>List</code>.</li>\n<li>since Java 8, <code>HashMap</code> dynamically replaces the Nodes (linked list) used in each bucket with TreeNodes (red-black tree when a list gets bigger than 8 elements) resulting to a worst performance of O(<em>logN</em>).</li>\n</ul>\n<p>But, this is <strong>not</strong> the full truth if we want to be 100% precise. The implementation of <code>hashCode()</code> and the type of key <code>Object</code> (immutable/cached or being a Collection) might also affect real time complexity in strict terms.</p>\n<p>Let's assume the following three cases:</p>\n<ol>\n<li><code>HashMap&lt;Integer, V&gt;</code></li>\n<li><code>HashMap&lt;String, V&gt;</code></li>\n<li><code>HashMap&lt;List&lt;E&gt;, V&gt;</code></li>\n</ol>\n<p>Do they have the same complexity? Well, the amortised complexity of the 1st one is, as expected, O(1). But, for the rest, we also need to compute <code>hashCode()</code> of the lookup element, which means we might have to traverse arrays and lists in our algorithm.</p>\n<p>Lets assume that the size of all of the above arrays/lists is <em>k</em>.\nThen, <code>HashMap&lt;String, V&gt;</code> and <code>HashMap&lt;List&lt;E&gt;, V&gt;</code> will have O(k) amortised complexity and similarly, O(<em>k + logN</em>) worst case in Java8.</p>\n<p>*Note that using a <code>String</code> key is a more complex case, because it is immutable and Java caches the result of <code>hashCode()</code> in a private variable <code>hash</code>, so it's only computed once.</p>\n<pre><code>/** Cache the hash code for the string */\n    private int hash; // Default to 0\n</code></pre>\n<p>But, the above is also having its own worst case, because Java's <code>String.hashCode()</code> implementation is checking if <code>hash == 0</code> before computing <code>hashCode</code>. But hey, there are non-empty Strings that output a <code>hashcode</code> of zero, such as &quot;f5a5a608&quot;, see <a href=\"https://stackoverflow.com/questions/18746394/can-a-non-empty-string-have-a-hashcode-of-zero\">here</a>, in which case memoization might not be helpful.</p>\n"},{"tags":[],"owner":{"account_id":26989796,"reputation":21,"user_id":20552882,"display_name":"Gokul Kadnar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668929522,"creation_date":1668928754,"answer_id":74506300,"question_id":4553624,"body_markdown":"In simple word, If each bucket contain only single node then time complexity will be **O(1)**. If bucket contain more than one node them time complexity will be **O(linkedList size)**. which is always efficient than **O(n)**.\r\n\r\nhence we can say on an average case time complexity of put(K,V) function :\r\n\r\n**nodes(n)/buckets(N) =  (lambda)**\r\n\r\nExample : **16/16 = 1**\r\n\r\n**Time complexity will be O(1)**\r\n\r\n","title":"HashMap get/put complexity","body":"<p>In simple word, If each bucket contain only single node then time complexity will be <strong>O(1)</strong>. If bucket contain more than one node them time complexity will be <strong>O(linkedList size)</strong>. which is always efficient than <strong>O(n)</strong>.</p>\n<p>hence we can say on an average case time complexity of put(K,V) function :</p>\n<p><strong>nodes(n)/buckets(N) =  (lambda)</strong></p>\n<p>Example : <strong>16/16 = 1</strong></p>\n<p><strong>Time complexity will be O(1)</strong></p>\n"},{"tags":[],"owner":{"account_id":2043778,"reputation":17800,"user_id":1824361,"accept_rate":80,"display_name":"Ahmed Nabil"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673050050,"creation_date":1672935384,"answer_id":75021410,"question_id":4553624,"body_markdown":"```\r\nJava HashMap time complexity\r\n--------------------------------\r\nget(key) &amp; contains(key) &amp; remove(key)\t\t\tBest case\tWorst case\t\t\t\t\t\t\t\r\nHashMap before Java 8, using LinkedList buckets\t1\t\t\tO(n)\r\nHashMap after Java 8, using LinkedList\tbuckets\t1\t\t\tO(n)\r\nHashMap after Java 8, using Binary Tree\tbuckets\t1\t\t\tO(log n)\r\n\r\n \r\nput(key, value)\t\t\t\t\t\t\t\t\tBest case\tWorst case\t\t\t\t\t\t\t\r\nHashMap before Java 8, using LinkedList\tbuckets\t1\t\t\t1\r\nHashMap after Java 8, using LinkedList\tbuckets\t1\t\t\t1\r\nHashMap after Java 8, using Binary Tree\tbuckets\t1\t\t\tO(log n)\r\n```\r\n\r\n\r\nHints:\r\n- Before `Java 8`, `HashMap` use `LinkedList` buckets\t\r\n- After `Java 8`, `HashMap` will use either `LinkedList` buckets or `Binary Tree`\tbuckets\taccording to the bucket size.  \r\n\r\n\r\n    if(bucket size &gt; TREEIFY_THRESHOLD[8]): \r\n    &gt; treeifyBin: The bucket will be a Balanced Binary Red-Black Tree\r\n    \r\n    if(bucket size &lt;= UNTREEIFY_THRESHOLD[6]): \r\n    &gt; untreeify: The bucket will be LinkedList (plain mode)\r\n\r\n","title":"HashMap get/put complexity","body":"<pre><code>Java HashMap time complexity\n--------------------------------\nget(key) &amp; contains(key) &amp; remove(key)          Best case   Worst case                          \nHashMap before Java 8, using LinkedList buckets 1           O(n)\nHashMap after Java 8, using LinkedList  buckets 1           O(n)\nHashMap after Java 8, using Binary Tree buckets 1           O(log n)\n\n \nput(key, value)                                 Best case   Worst case                          \nHashMap before Java 8, using LinkedList buckets 1           1\nHashMap after Java 8, using LinkedList  buckets 1           1\nHashMap after Java 8, using Binary Tree buckets 1           O(log n)\n</code></pre>\n<p>Hints:</p>\n<ul>\n<li><p>Before <code>Java 8</code>, <code>HashMap</code> use <code>LinkedList</code> buckets</p>\n</li>\n<li><p>After <code>Java 8</code>, <code>HashMap</code> will use either <code>LinkedList</code> buckets or <code>Binary Tree</code>   buckets according to the bucket size.</p>\n<p>if(bucket size &gt; TREEIFY_THRESHOLD[8]):</p>\n<blockquote>\n<p>treeifyBin: The bucket will be a Balanced Binary Red-Black Tree</p>\n</blockquote>\n<p>if(bucket size &lt;= UNTREEIFY_THRESHOLD[6]):</p>\n<blockquote>\n<p>untreeify: The bucket will be LinkedList (plain mode)</p>\n</blockquote>\n</li>\n</ul>\n"}],"owner":{"account_id":246765,"reputation":41329,"user_id":521070,"accept_rate":72,"display_name":"Michael"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244198,"favorite_count":0,"down_vote_count":0,"up_vote_count":189,"accepted_answer_id":4553642,"answer_count":8,"score":189,"last_activity_date":1673050050,"creation_date":1293621723,"question_id":4553624,"body_markdown":"We are used to saying that `HashMap` `get/put` operations are O(1). However it depends on the hash implementation. The default object hash is actually the internal address in the JVM heap. Are we sure it is good enough to claim that the `get/put` are O(1)?\r\n\r\nAvailable memory is another issue. As I understand from the javadocs, the `HashMap` load factor should be 0.75. What if we do not have enough memory in JVM and the load factor exceeds the limit?\r\n\r\nSo, it looks like O(1) is not guaranteed. Does it make sense or am I missing something?\r\n\r\n","title":"HashMap get/put complexity","body":"<p>We are used to saying that <code>HashMap</code> <code>get/put</code> operations are O(1). However it depends on the hash implementation. The default object hash is actually the internal address in the JVM heap. Are we sure it is good enough to claim that the <code>get/put</code> are O(1)?</p>\n<p>Available memory is another issue. As I understand from the javadocs, the <code>HashMap</code> load factor should be 0.75. What if we do not have enough memory in JVM and the load factor exceeds the limit?</p>\n<p>So, it looks like O(1) is not guaranteed. Does it make sense or am I missing something?</p>\n"},{"tags":["java","json","null","gson","jsonobjectrequest"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1673048350,"post_id":75037035,"comment_id":132417842,"body_markdown":"Which `JSONObject` are you actually using? gson does not have a class called `JSONObject`, only [`JsonObject`](https://www.javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/JsonObject.html).","body":"Which <code>JSONObject</code> are you actually using? gson does not have a class called <code>JSONObject</code>, only <a href=\"https://www.javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/JsonObject.html\" rel=\"nofollow noreferrer\"><code>JsonObject</code></a>."},{"owner":{"account_id":10072509,"reputation":1,"user_id":7445648,"display_name":"shailesh"},"score":0,"creation_date":1673048443,"post_id":75037035,"comment_id":132417856,"body_markdown":"I am using-&gt;  import org.json.JSONObject;","body":"I am using-&gt;  import org.json.JSONObject;"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1673048547,"post_id":75037035,"comment_id":132417873,"body_markdown":"The [documentation of `JSONObject::get`](https://stleary.github.io/JSON-java/org/json/JSONObject.html#get-java.lang.String-) states that this method does throw an exception when the key is not found.","body":"The <a href=\"https://stleary.github.io/JSON-java/org/json/JSONObject.html#get-java.lang.String-\" rel=\"nofollow noreferrer\">documentation of <code>JSONObject::get</code></a> states that this method does throw an exception when the key is not found."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1673048596,"post_id":75037035,"comment_id":132417879,"body_markdown":"The link to the post does not link to a post.","body":"The link to the post does not link to a post."},{"owner":{"account_id":10072509,"reputation":1,"user_id":7445648,"display_name":"shailesh"},"score":0,"creation_date":1673048644,"post_id":75037035,"comment_id":132417890,"body_markdown":"Here the key is there but the value for it is null. It does throw a JSONException if I was doing `someJsonObjectData.get(&quot;someOtherKey&quot;);  `","body":"Here the key is there but the value for it is null. It does throw a JSONException if I was doing <code>someJsonObjectData.get(&quot;someOtherKey&quot;);  </code>"},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1673048726,"post_id":75037035,"comment_id":132417909,"body_markdown":"Seems like a natural troubleshooting step would be to check what non-null value is in fact retrieved.  Probably it is `JSONObject.NULL` as opposed to a Java `null`.","body":"Seems like a natural troubleshooting step would be to check what non-null value is in fact retrieved.  Probably it is <code>JSONObject.NULL</code> as opposed to a Java <code>null</code>."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1673048874,"post_id":75037035,"comment_id":132417939,"body_markdown":"What does `System.out.println(someKey.getClass());` print?","body":"What does <code>System.out.println(someKey.getClass());</code> print?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1673048874,"post_id":75037035,"comment_id":132417940,"body_markdown":"Please [edit] the post and add a [MRE]. Looking at the [relevant source code of `JSONObject`](https://github.com/stleary/JSON-java/blob/master/src/main/java/org/json/JSONObject.java#L564), it should throw an exception, even if the key is present, but the value associated is `null`.","body":"Please <a href=\"https://stackoverflow.com/posts/75037035/edit\">edit</a> the post and add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Looking at the <a href=\"https://github.com/stleary/JSON-java/blob/master/src/main/java/org/json/JSONObject.java#L564\" rel=\"nofollow noreferrer\">relevant source code of <code>JSONObject</code></a>, it should throw an exception, even if the key is present, but the value associated is <code>null</code>."}],"answers":[{"tags":[],"owner":{"account_id":10072509,"reputation":1,"user_id":7445648,"display_name":"shailesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673049387,"creation_date":1673049387,"answer_id":75037149,"question_id":75037035,"body_markdown":"I needed to do the check for \r\n\r\n`JSONObject.NULL` and not `null`\r\nhttps://developer.android.com/reference/org/json/JSONObject.html#NULL. \r\n\r\nPrinting the class of someKey helped. Thank you everyone for your time!!","title":"null check is always evaluating to false","body":"<p>I needed to do the check for</p>\n<p><code>JSONObject.NULL</code> and not <code>null</code>\n<a href=\"https://developer.android.com/reference/org/json/JSONObject.html#NULL\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/org/json/JSONObject.html#NULL</a>.</p>\n<p>Printing the class of someKey helped. Thank you everyone for your time!!</p>\n"},{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673049445,"creation_date":1673049445,"answer_id":75037154,"question_id":75037035,"body_markdown":"Per [its docs][1], the internal form of the value of a `JSONObject` can contain values of these types: `Boolean`, `JSONArray`, `JSONObject`, `Number`, `String`, **or the `JSONObject.NULL` object**.  Therefore, I would not expect its `get()` method to return `null` for any key.  In your particular case, I would expect `someJsonObjectData.get(&quot;someKey&quot;)` to return `JSONObject.NULL`, which will compare unequal to `null`.\r\n\r\n`JSONObject.NULL` is a specific object, so it should be safe to perform `==` comparisons with it:\r\n```\r\nimport org.json.JSONObject;\r\n\r\n// ...\r\n\r\n    void doSomething() {\r\n        String someStringJsonData = &quot;{\\&quot;someKey\\&quot;: null}&quot;; \r\n        JSONObject someJsonObjectData = new JSONObject(someStringJsonData); \r\n        Object someValue = someJsonObjectData.get(&quot;someKey&quot;);  \r\n\r\n        if (someValue == JSONObject.NULL) {                 \r\n            System.out.println(&quot;someKey&#39;s value is null&quot;);                             \r\n        }\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://stleary.github.io/JSON-java/org/json/JSONObject.html","title":"null check is always evaluating to false","body":"<p>Per <a href=\"https://stleary.github.io/JSON-java/org/json/JSONObject.html\" rel=\"nofollow noreferrer\">its docs</a>, the internal form of the value of a <code>JSONObject</code> can contain values of these types: <code>Boolean</code>, <code>JSONArray</code>, <code>JSONObject</code>, <code>Number</code>, <code>String</code>, <strong>or the <code>JSONObject.NULL</code> object</strong>.  Therefore, I would not expect its <code>get()</code> method to return <code>null</code> for any key.  In your particular case, I would expect <code>someJsonObjectData.get(&quot;someKey&quot;)</code> to return <code>JSONObject.NULL</code>, which will compare unequal to <code>null</code>.</p>\n<p><code>JSONObject.NULL</code> is a specific object, so it should be safe to perform <code>==</code> comparisons with it:</p>\n<pre><code>import org.json.JSONObject;\n\n// ...\n\n    void doSomething() {\n        String someStringJsonData = &quot;{\\&quot;someKey\\&quot;: null}&quot;; \n        JSONObject someJsonObjectData = new JSONObject(someStringJsonData); \n        Object someValue = someJsonObjectData.get(&quot;someKey&quot;);  \n\n        if (someValue == JSONObject.NULL) {                 \n            System.out.println(&quot;someKey's value is null&quot;);                             \n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":10072509,"reputation":1,"user_id":7445648,"display_name":"shailesh"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75037149,"answer_count":2,"score":-1,"last_activity_date":1673049445,"creation_date":1673048040,"question_id":75037035,"body_markdown":"```\r\nimport org.json.JSONObject;\r\n\r\nString someStringJsonData = &quot;{\\&quot;someKey\\&quot;: &quot; + &quot;null&quot; + &quot;}&quot;; \r\nJSONObject someJsonObjectData = new JSONObject(someStringJsonData); \r\nObject someKey = someJsonObjectData.get(&quot;someKey&quot;);  \r\nif (null == someKey) {                 \r\n        System.out.println(&quot;someKey is null&quot;);                             \r\n}\r\n```\r\n\r\nI have the above simple snippet of code. I would expect to see &quot;someKey is null&quot; printed, however, my code never goes in the if loop. I tried printing value of someKey and it shows to be null. Not sure what I am missing. \r\n\r\nI tried different values of the jsonString from this [post](https://stackoverflow.com/questions/21120999/representing-null-in-json) but to no avail. ","title":"null check is always evaluating to false","body":"<pre><code>import org.json.JSONObject;\n\nString someStringJsonData = &quot;{\\&quot;someKey\\&quot;: &quot; + &quot;null&quot; + &quot;}&quot;; \nJSONObject someJsonObjectData = new JSONObject(someStringJsonData); \nObject someKey = someJsonObjectData.get(&quot;someKey&quot;);  \nif (null == someKey) {                 \n        System.out.println(&quot;someKey is null&quot;);                             \n}\n</code></pre>\n<p>I have the above simple snippet of code. I would expect to see &quot;someKey is null&quot; printed, however, my code never goes in the if loop. I tried printing value of someKey and it shows to be null. Not sure what I am missing.</p>\n<p>I tried different values of the jsonString from this <a href=\"https://stackoverflow.com/questions/21120999/representing-null-in-json\">post</a> but to no avail.</p>\n"},{"tags":["java","azure","google-cloud-platform","google-cloud-storage"],"owner":{"account_id":4745766,"reputation":1,"user_id":5142205,"display_name":"AANKIT ROY"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673049149,"creation_date":1672991658,"question_id":75028317,"body_markdown":"I was creating a signed URL for uploading an audio file. Url is used in Android apps. It&#39;s migration from azure to GCP so can write azure code here:\r\n\r\n\t\tString cdnUrl = fileUploadConfig.has(containerName) ? fileUploadConfig.getString(containerName)\r\n\t\t\t\t: Constants.AZURE_STORAGE_URL;\r\n\r\n\t\tBlobServiceClient client = new BlobServiceClientBuilder().connectionString(storageConnectionString)\r\n\t\t\t\t.buildClient();\r\n\t\tBlobClient blobClient = client.getBlobContainerClient(containerName).getBlobClient(key);\r\n\t\tBlobSasPermission blobSasPermission = new BlobSasPermission().setWritePermission(true);\r\n\r\n\t\tOffsetDateTime expiryTime = OffsetDateTime.now().plusDays(1);\r\n\t\tBlobServiceSasSignatureValues values = new BlobServiceSasSignatureValues(expiryTime, blobSasPermission)\r\n\t\t\t\t.setStartTime(OffsetDateTime.now());\r\n\t\tString signature = blobClient.generateSas(values);\r\n\t\tMap&lt;String,String&gt; headerMap = new HashMap&lt;String,String&gt;(){{\r\n\t\t\tput(&quot;x-ms-blob-type&quot;,&quot;BlockBlob&quot;);\r\n\t\t}};\r\n\t\tJSONObject res = new JSONObject();\r\n\t\tSystem.out.println(blobClient.getBlobUrl());\r\n\t\tcdnUrl +=   key;\r\n\t\tres.put(&quot;presignedUrl&quot;, blobClient.getBlobUrl() + &quot;?&quot; + signature);\r\n\t\tres.put(&quot;cdnUrl&quot;, cdnUrl);\r\n\t\tres.put(&quot;header&quot;,new JSONObject(headerMap) );\r\n\t\treturn res.toString();\r\n\r\nWhen I am transforming it into GCP, I am writing the following code:\r\n\r\n\r\n\tString cdnUrl;\r\n\t\ttry {\r\n\t\t\tcdnUrl = KhabriUtils.getSecret(&quot;s3-cdn-mapping-&quot; + containerName);\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\tcdnUrl = Constants.GCP_STORAGE_URL;\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\tStorage storage = StorageOptions.newBuilder().setProjectId(Constants.GCP_PROJECT_ID).build().getService();\r\n\r\n\t\t// Define resource\r\n\t\tBlobInfo blobInfo = BlobInfo.newBuilder(BlobId.of(containerName, key)).build();\r\n\r\n\t\t // Generate Signed URL\r\n\t    Map&lt;String, String&gt; extensionHeaders = new HashMap&lt;&gt;();\r\n\t    extensionHeaders.put(&quot;Content-Type&quot;, &quot;application/octet-stream&quot;);\r\n\t    \r\n\t\tURL url =\r\n\t\t\t        storage.signUrl(\r\n\t\t\t            blobInfo,\r\n\t\t\t            15,\r\n\t\t\t            TimeUnit.MINUTES,\r\n\t\t\t            Storage.SignUrlOption.httpMethod(HttpMethod.PUT),\r\n\t\t\t            Storage.SignUrlOption.withExtHeaders(extensionHeaders),\r\n\t\t\t            Storage.SignUrlOption.withV4Signature());\r\n\t\t\r\n\t\t\r\n\t\tJSONObject res = new JSONObject();\r\n\t\tcdnUrl += key;\r\n\t\tres.put(&quot;presignedUrl&quot;, url);\r\n\t\tres.put(&quot;cdnUrl&quot;, cdnUrl);\r\n\t\tres.put(&quot;header&quot;, new JSONObject(extensionHeaders));\r\n\t\treturn res.toString();\r\n\r\nIt is giving me an error\r\nServer response: code 403, body &lt;? XML version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;&lt;Error&gt;&lt;Code&gt;SignatureDoesNotMatch&lt;/Code&gt;&lt;Message&gt;The request signature we calculated does not match the signature you provided. Check your Google secret key and signing method.&lt;/Message&gt;&lt;StringToSign&gt;GOOG4-RSA-SHA256\r\n\r\nTried to see if there is any permission missing.","title":"Signed URL to upload audio files in GCP","body":"<p>I was creating a signed URL for uploading an audio file. Url is used in Android apps. It's migration from azure to GCP so can write azure code here:</p>\n<pre><code>    String cdnUrl = fileUploadConfig.has(containerName) ? fileUploadConfig.getString(containerName)\n            : Constants.AZURE_STORAGE_URL;\n\n    BlobServiceClient client = new BlobServiceClientBuilder().connectionString(storageConnectionString)\n            .buildClient();\n    BlobClient blobClient = client.getBlobContainerClient(containerName).getBlobClient(key);\n    BlobSasPermission blobSasPermission = new BlobSasPermission().setWritePermission(true);\n\n    OffsetDateTime expiryTime = OffsetDateTime.now().plusDays(1);\n    BlobServiceSasSignatureValues values = new BlobServiceSasSignatureValues(expiryTime, blobSasPermission)\n            .setStartTime(OffsetDateTime.now());\n    String signature = blobClient.generateSas(values);\n    Map&lt;String,String&gt; headerMap = new HashMap&lt;String,String&gt;(){{\n        put(&quot;x-ms-blob-type&quot;,&quot;BlockBlob&quot;);\n    }};\n    JSONObject res = new JSONObject();\n    System.out.println(blobClient.getBlobUrl());\n    cdnUrl +=   key;\n    res.put(&quot;presignedUrl&quot;, blobClient.getBlobUrl() + &quot;?&quot; + signature);\n    res.put(&quot;cdnUrl&quot;, cdnUrl);\n    res.put(&quot;header&quot;,new JSONObject(headerMap) );\n    return res.toString();\n</code></pre>\n<p>When I am transforming it into GCP, I am writing the following code:</p>\n<pre><code>String cdnUrl;\n    try {\n        cdnUrl = KhabriUtils.getSecret(&quot;s3-cdn-mapping-&quot; + containerName);\n    } catch (Exception e) {\n        // TODO Auto-generated catch block\n        cdnUrl = Constants.GCP_STORAGE_URL;\n        e.printStackTrace();\n    }\n\n    Storage storage = StorageOptions.newBuilder().setProjectId(Constants.GCP_PROJECT_ID).build().getService();\n\n    // Define resource\n    BlobInfo blobInfo = BlobInfo.newBuilder(BlobId.of(containerName, key)).build();\n\n     // Generate Signed URL\n    Map&lt;String, String&gt; extensionHeaders = new HashMap&lt;&gt;();\n    extensionHeaders.put(&quot;Content-Type&quot;, &quot;application/octet-stream&quot;);\n    \n    URL url =\n                storage.signUrl(\n                    blobInfo,\n                    15,\n                    TimeUnit.MINUTES,\n                    Storage.SignUrlOption.httpMethod(HttpMethod.PUT),\n                    Storage.SignUrlOption.withExtHeaders(extensionHeaders),\n                    Storage.SignUrlOption.withV4Signature());\n    \n    \n    JSONObject res = new JSONObject();\n    cdnUrl += key;\n    res.put(&quot;presignedUrl&quot;, url);\n    res.put(&quot;cdnUrl&quot;, cdnUrl);\n    res.put(&quot;header&quot;, new JSONObject(extensionHeaders));\n    return res.toString();\n</code></pre>\n<p>It is giving me an error\nServer response: code 403, body <Code>SignatureDoesNotMatch</Code>The request signature we calculated does not match the signature you provided. Check your Google secret key and signing method.GOOG4-RSA-SHA256</p>\n<p>Tried to see if there is any permission missing.</p>\n"},{"tags":["java","maven","hadoop","nullpointerexception"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673049071,"creation_date":1673049071,"answer_id":75037125,"question_id":75023997,"body_markdown":"Looking at the stacktrace line `FilterFileSystem.mkdirs`, this is likely because arguments from `String[] args` are null. You need to edit the Run Configurations in the IDE to pass two file paths. \r\n\r\nOtherwise, replace `args[0]` and `args[1]` with hard-coded Strings for filepaths. \r\n\r\nWorth mentioning, no one really writes Mapreduce code like this, and rather uses frameworks like Spark or Flink, which can also be ran in IntelliJ (with much less code to do wordcount). \r\n\r\nYou should also stay up-to-date with at least Java 11 and Hadoop 3.x release","title":"Apache hadoop on intellij","body":"<p>Looking at the stacktrace line <code>FilterFileSystem.mkdirs</code>, this is likely because arguments from <code>String[] args</code> are null. You need to edit the Run Configurations in the IDE to pass two file paths.</p>\n<p>Otherwise, replace <code>args[0]</code> and <code>args[1]</code> with hard-coded Strings for filepaths.</p>\n<p>Worth mentioning, no one really writes Mapreduce code like this, and rather uses frameworks like Spark or Flink, which can also be ran in IntelliJ (with much less code to do wordcount).</p>\n<p>You should also stay up-to-date with at least Java 11 and Hadoop 3.x release</p>\n"}],"owner":{"account_id":25206511,"reputation":1,"user_id":19044774,"display_name":"Aris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673049071,"creation_date":1672950425,"question_id":75023997,"body_markdown":"this is my first time using java and hadoop. I am trying to run a wordcount program.\r\nI have made sure to install maven,hadoop(2.7.2), java 1.8 jdk. No error is shown in my code but when I try to run it I get this error :\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NullPointerException\r\nat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1092)\r\nat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1073)\r\nat org.apache.hadoop.util.Shell.runCommand(Shell.java:483)\r\nat org.apache.hadoop.util.Shell.run(Shell.java:456)\r\nat org.apache.hadoop.util.Shell$ShellCommandExecutor.execute(Shell.java:722)\r\nat org.apache.hadoop.util.Shell.execCommand(Shell.java:815)\r\nat org.apache.hadoop.util.Shell.execCommand(Shell.java:798)\r\nat org.apache.hadoop.fs.RawLocalFileSystem.setPermission(RawLocalFileSystem.java:731)\r\nat org.apache.hadoop.fs.RawLocalFileSystem.mkOneDirWithMode(RawLocalFileSystem.java:489)\r\nat org.apache.hadoop.fs.RawLocalFileSystem.mkdirsWithOptionalPermission(RawLocalFileSystem.java:530)\r\nat org.apache.hadoop.fs.RawLocalFileSystem.mkdirs(RawLocalFileSystem.java:507)\r\nat org.apache.hadoop.fs.FilterFileSystem.mkdirs(FilterFileSystem.java:305)\r\nat org.apache.hadoop.mapreduce.JobSubmissionFiles.getStagingDir(JobSubmissionFiles.java:133)\r\nat org.apache.hadoop.mapreduce.JobSubmitter.submitJobInternal(JobSubmitter.java:144)\r\nat org.apache.hadoop.mapreduce.Job$10.run(Job.java:1290)\r\nat org.apache.hadoop.mapreduce.Job$10.run(Job.java:1287)\r\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\r\nat java.base/javax.security.auth.Subject.doAs(Subject.java:533)\r\nat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1657)\r\nat org.apache.hadoop.mapreduce.Job.submit(Job.java:1287)\r\nat org.apache.hadoop.mapreduce.Job.waitForCompletion(Job.java:1308)\r\nat tn.insat.tp1.WordCount.main(WordCount.java:23)\r\n```\r\n\r\n\r\nHere is layout of my different classes :\r\n[Layout of different classes](https://i.stack.imgur.com/pnc9t.png)\r\n\r\n**pom.xml** file :\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;hadoop.mapreduce&lt;/groupId&gt;\r\n    &lt;artifactId&gt;wordcount&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-mapreduce-client-core --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hadoop-mapreduce-client-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-hdfs --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hadoop-hdfs&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hadoop-mapreduce-client-common&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n**TokenizerMapper.java** :\r\n\r\n```\r\npackage tn.insat.tp1;\r\n\r\nimport org.apache.hadoop.io.IntWritable;\r\nimport org.apache.hadoop.io.Text;\r\nimport org.apache.hadoop.mapreduce.Mapper;\r\n\r\nimport java.io.IOException;\r\nimport java.util.StringTokenizer;\r\n\r\npublic class TokenizerMapper\r\n        extends Mapper&lt;Object, Text, Text, IntWritable&gt;{\r\n\r\n    private final static IntWritable one = new IntWritable(1);\r\n    private Text word = new Text();\r\n\r\n    public void map(Object key, Text value, Mapper.Context context\r\n    ) throws IOException, InterruptedException {\r\n        StringTokenizer itr = new StringTokenizer(value.toString());\r\n        while (itr.hasMoreTokens()) {\r\n            word.set(itr.nextToken());\r\n            context.write(word, one);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n**IntSumReducer.java** :\r\n\r\n```\r\npackage tn.insat.tp1;\r\n\r\nimport org.apache.hadoop.io.IntWritable;\r\nimport org.apache.hadoop.io.Text;\r\nimport org.apache.hadoop.mapreduce.Reducer;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class IntSumReducer\r\n        extends Reducer&lt;Text,IntWritable,Text,IntWritable&gt; {\r\n\r\n    private IntWritable result = new IntWritable();\r\n\r\n    public void reduce(Text key, Iterable&lt;IntWritable&gt; values,\r\n                       Context context\r\n    ) throws IOException, InterruptedException {\r\n        int sum = 0;\r\n        for (IntWritable val : values) {\r\n            System.out.println(&quot;value: &quot;+val.get());\r\n            sum += val.get();\r\n        }\r\n        System.out.println(&quot;--&gt; Sum = &quot;+sum);\r\n        result.set(sum);\r\n        context.write(key, result);\r\n    }\r\n}\r\n```\r\n\r\n**WordCount.java** :\r\n\r\n```\r\npackage tn.insat.tp1;\r\n\r\nimport org.apache.hadoop.conf.Configuration;\r\nimport org.apache.hadoop.fs.Path;\r\nimport org.apache.hadoop.io.IntWritable;\r\nimport org.apache.hadoop.io.Text;\r\nimport org.apache.hadoop.mapreduce.Job;\r\nimport org.apache.hadoop.mapreduce.lib.input.FileInputFormat;\r\nimport org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\r\n\r\npublic class WordCount {\r\n    public static void main(String[] args) throws Exception {\r\n        Configuration conf = new Configuration();\r\n        Job job = Job.getInstance(conf, &quot;word count&quot;);\r\n        job.setJarByClass(WordCount.class);\r\n        job.setMapperClass(TokenizerMapper.class);\r\n        job.setCombinerClass(IntSumReducer.class);\r\n        job.setReducerClass(IntSumReducer.class);\r\n        job.setOutputKeyClass(Text.class);\r\n        job.setOutputValueClass(IntWritable.class);\r\n        FileInputFormat.addInputPath(job, new Path(args[0]));\r\n        FileOutputFormat.setOutputPath(job, new Path(args[1]));\r\n        System.exit(job.waitForCompletion(true) ? 0 : 1);}}\r\n```\r\n\r\n\r\nAny help would be very appreciated.\r\nThank you very much!\r\n","title":"Apache hadoop on intellij","body":"<p>this is my first time using java and hadoop. I am trying to run a wordcount program.\nI have made sure to install maven,hadoop(2.7.2), java 1.8 jdk. No error is shown in my code but when I try to run it I get this error :</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException\nat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1092)\nat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1073)\nat org.apache.hadoop.util.Shell.runCommand(Shell.java:483)\nat org.apache.hadoop.util.Shell.run(Shell.java:456)\nat org.apache.hadoop.util.Shell$ShellCommandExecutor.execute(Shell.java:722)\nat org.apache.hadoop.util.Shell.execCommand(Shell.java:815)\nat org.apache.hadoop.util.Shell.execCommand(Shell.java:798)\nat org.apache.hadoop.fs.RawLocalFileSystem.setPermission(RawLocalFileSystem.java:731)\nat org.apache.hadoop.fs.RawLocalFileSystem.mkOneDirWithMode(RawLocalFileSystem.java:489)\nat org.apache.hadoop.fs.RawLocalFileSystem.mkdirsWithOptionalPermission(RawLocalFileSystem.java:530)\nat org.apache.hadoop.fs.RawLocalFileSystem.mkdirs(RawLocalFileSystem.java:507)\nat org.apache.hadoop.fs.FilterFileSystem.mkdirs(FilterFileSystem.java:305)\nat org.apache.hadoop.mapreduce.JobSubmissionFiles.getStagingDir(JobSubmissionFiles.java:133)\nat org.apache.hadoop.mapreduce.JobSubmitter.submitJobInternal(JobSubmitter.java:144)\nat org.apache.hadoop.mapreduce.Job$10.run(Job.java:1290)\nat org.apache.hadoop.mapreduce.Job$10.run(Job.java:1287)\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\nat java.base/javax.security.auth.Subject.doAs(Subject.java:533)\nat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1657)\nat org.apache.hadoop.mapreduce.Job.submit(Job.java:1287)\nat org.apache.hadoop.mapreduce.Job.waitForCompletion(Job.java:1308)\nat tn.insat.tp1.WordCount.main(WordCount.java:23)\n</code></pre>\n<p>Here is layout of my different classes :\n<a href=\"https://i.stack.imgur.com/pnc9t.png\" rel=\"nofollow noreferrer\">Layout of different classes</a></p>\n<p><strong>pom.xml</strong> file :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;hadoop.mapreduce&lt;/groupId&gt;\n    &lt;artifactId&gt;wordcount&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n            &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\n            &lt;version&gt;2.7.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-mapreduce-client-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n            &lt;artifactId&gt;hadoop-mapreduce-client-core&lt;/artifactId&gt;\n            &lt;version&gt;2.7.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-hdfs --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n            &lt;artifactId&gt;hadoop-hdfs&lt;/artifactId&gt;\n            &lt;version&gt;2.7.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n            &lt;artifactId&gt;hadoop-mapreduce-client-common&lt;/artifactId&gt;\n            &lt;version&gt;2.7.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n\n\n&lt;/project&gt;\n\n</code></pre>\n<p><strong>TokenizerMapper.java</strong> :</p>\n<pre><code>package tn.insat.tp1;\n\nimport org.apache.hadoop.io.IntWritable;\nimport org.apache.hadoop.io.Text;\nimport org.apache.hadoop.mapreduce.Mapper;\n\nimport java.io.IOException;\nimport java.util.StringTokenizer;\n\npublic class TokenizerMapper\n        extends Mapper&lt;Object, Text, Text, IntWritable&gt;{\n\n    private final static IntWritable one = new IntWritable(1);\n    private Text word = new Text();\n\n    public void map(Object key, Text value, Mapper.Context context\n    ) throws IOException, InterruptedException {\n        StringTokenizer itr = new StringTokenizer(value.toString());\n        while (itr.hasMoreTokens()) {\n            word.set(itr.nextToken());\n            context.write(word, one);\n        }\n    }\n}\n\n</code></pre>\n<p><strong>IntSumReducer.java</strong> :</p>\n<pre><code>package tn.insat.tp1;\n\nimport org.apache.hadoop.io.IntWritable;\nimport org.apache.hadoop.io.Text;\nimport org.apache.hadoop.mapreduce.Reducer;\n\nimport java.io.IOException;\n\npublic class IntSumReducer\n        extends Reducer&lt;Text,IntWritable,Text,IntWritable&gt; {\n\n    private IntWritable result = new IntWritable();\n\n    public void reduce(Text key, Iterable&lt;IntWritable&gt; values,\n                       Context context\n    ) throws IOException, InterruptedException {\n        int sum = 0;\n        for (IntWritable val : values) {\n            System.out.println(&quot;value: &quot;+val.get());\n            sum += val.get();\n        }\n        System.out.println(&quot;--&gt; Sum = &quot;+sum);\n        result.set(sum);\n        context.write(key, result);\n    }\n}\n</code></pre>\n<p><strong>WordCount.java</strong> :</p>\n<pre><code>package tn.insat.tp1;\n\nimport org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.fs.Path;\nimport org.apache.hadoop.io.IntWritable;\nimport org.apache.hadoop.io.Text;\nimport org.apache.hadoop.mapreduce.Job;\nimport org.apache.hadoop.mapreduce.lib.input.FileInputFormat;\nimport org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\n\npublic class WordCount {\n    public static void main(String[] args) throws Exception {\n        Configuration conf = new Configuration();\n        Job job = Job.getInstance(conf, &quot;word count&quot;);\n        job.setJarByClass(WordCount.class);\n        job.setMapperClass(TokenizerMapper.class);\n        job.setCombinerClass(IntSumReducer.class);\n        job.setReducerClass(IntSumReducer.class);\n        job.setOutputKeyClass(Text.class);\n        job.setOutputValueClass(IntWritable.class);\n        FileInputFormat.addInputPath(job, new Path(args[0]));\n        FileOutputFormat.setOutputPath(job, new Path(args[1]));\n        System.exit(job.waitForCompletion(true) ? 0 : 1);}}\n</code></pre>\n<p>Any help would be very appreciated.\nThank you very much!</p>\n"},{"tags":["java","python","python-3.x","oop","polymorphism"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":1,"creation_date":1586513932,"post_id":61138173,"comment_id":108159450,"body_markdown":"Your question is about method overloading. To me it has nothing to do with polymorphism (but maybe that concept is not strictly defined).","body":"Your question is about method overloading. To me it has nothing to do with polymorphism (but maybe that concept is not strictly defined)."},{"owner":{"account_id":6582356,"reputation":10292,"user_id":5086255,"display_name":"sahasrara62"},"score":2,"creation_date":1586514141,"post_id":61138173,"comment_id":108159542,"body_markdown":"why did you think polymorphism is universal defined in every language same way?","body":"why did you think polymorphism is universal defined in every language same way?"},{"owner":{"account_id":15958275,"reputation":5311,"user_id":11516012,"display_name":"h4z3"},"score":2,"creation_date":1586514384,"post_id":61138173,"comment_id":108159656,"body_markdown":"https://en.wikipedia.org/wiki/Polymorphism_(computer_science) Polymorphism = interfaces/inheritance in Java, multi-inheritance and duck-typing in Python. What you do is what Wiki called &quot;ad hoc polymorphism&quot;, and it&#39;s not usually called polymorphism at all - Wikipedia also says &quot;The term &quot;ad hoc&quot; in this context is not intended to be pejorative; it refers simply to the fact that this type of polymorphism is not a fundamental feature of the type system&quot; + &quot;In dynamically typed languages the situation can be more complex[...]&quot;","body":"<a href=\"https://en.wikipedia.org/wiki/Polymorphism_(computer_science)\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Polymorphism_(computer_science)</a> Polymorphism = interfaces/inheritance in Java, multi-inheritance and duck-typing in Python. What you do is what Wiki called &quot;ad hoc polymorphism&quot;, and it&#39;s not usually called polymorphism at all - Wikipedia also says &quot;The term &quot;ad hoc&quot; in this context is not intended to be pejorative; it refers simply to the fact that this type of polymorphism is not a fundamental feature of the type system&quot; + &quot;In dynamically typed languages the situation can be more complex[...]&quot;"},{"owner":{"account_id":12570978,"reputation":1684,"user_id":9145082,"display_name":"Ravi"},"score":0,"creation_date":1586514777,"post_id":61138173,"comment_id":108159800,"body_markdown":"@sahasrara62, I got your point.","body":"@sahasrara62, I got your point."},{"owner":{"account_id":12570978,"reputation":1684,"user_id":9145082,"display_name":"Ravi"},"score":0,"creation_date":1586515417,"post_id":61138173,"comment_id":108160074,"body_markdown":"@Olivier, please see the article [here] (https://www.geeksforgeeks.org/polymorphism-in-java/). Polymophism can be demonstrated in two ways. 1. Method overloading, 2. Operator overloading.","body":"@Olivier, please see the article [here] (<a href=\"https://www.geeksforgeeks.org/polymorphism-in-java/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/polymorphism-in-java</a>). Polymophism can be demonstrated in two ways. 1. Method overloading, 2. Operator overloading."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":1,"creation_date":1586515648,"post_id":61138173,"comment_id":108160189,"body_markdown":"Well as h4z3 pointed out, method overloading can be considered &quot;ad hoc polymorphism&quot;. But honestly that&#39;s not what people usually mean by &quot;polymorphism&quot;.","body":"Well as h4z3 pointed out, method overloading can be considered &quot;ad hoc polymorphism&quot;. But honestly that&#39;s not what people usually mean by &quot;polymorphism&quot;."},{"owner":{"account_id":6582356,"reputation":10292,"user_id":5086255,"display_name":"sahasrara62"},"score":0,"creation_date":1586515880,"post_id":61138173,"comment_id":108160279,"body_markdown":"in python you can do both overloadings at same time in a function as it is not strongly typed as java, so stop wasting your time comparing the polymori... in java and python and understand them individually, though the concept remains same","body":"in python you can do both overloadings at same time in a function as it is not strongly typed as java, so stop wasting your time comparing the polymori... in java and python and understand them individually, though the concept remains same"},{"owner":{"account_id":12570978,"reputation":1684,"user_id":9145082,"display_name":"Ravi"},"score":0,"creation_date":1586516383,"post_id":61138173,"comment_id":108160494,"body_markdown":"@sahasrara62, I don&#39;t think I&#39;m wasting my time. Trying to learn something. As programmers we have to deal with multiple progrmming languages. I have to do comparison of concepts between the languages.  If you say &quot;concept is same but approach and implementation is different&quot; and many agree that then it is a new learning for me. If go for interviews and if they ask questions like this then I should know some convincing point. Anyhow thanks for your answer.","body":"@sahasrara62, I don&#39;t think I&#39;m wasting my time. Trying to learn something. As programmers we have to deal with multiple progrmming languages. I have to do comparison of concepts between the languages.  If you say &quot;concept is same but approach and implementation is different&quot; and many agree that then it is a new learning for me. If go for interviews and if they ask questions like this then I should know some convincing point. Anyhow thanks for your answer."},{"owner":{"account_id":12570978,"reputation":1684,"user_id":9145082,"display_name":"Ravi"},"score":0,"creation_date":1586516667,"post_id":61138173,"comment_id":108160610,"body_markdown":"@h4z3, I think the wiki is very much informative. Thanks for sharing it.","body":"@h4z3, I think the wiki is very much informative. Thanks for sharing it."},{"owner":{"account_id":6582356,"reputation":10292,"user_id":5086255,"display_name":"sahasrara62"},"score":1,"creation_date":1586517024,"post_id":61138173,"comment_id":108160763,"body_markdown":"@RaviKumarB just focus on DSA , people in Bangalore dont care about language command","body":"@RaviKumarB just focus on DSA , people in Bangalore dont care about language command"},{"owner":{"account_id":12570978,"reputation":1684,"user_id":9145082,"display_name":"Ravi"},"score":0,"creation_date":1586517214,"post_id":61138173,"comment_id":108160835,"body_markdown":"@sahasrara62, yeah sure. Thanks again","body":"@sahasrara62, yeah sure. Thanks again"}],"answers":[{"tags":[],"owner":{"account_id":18076496,"reputation":201,"user_id":13139607,"display_name":"Snorik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586516594,"creation_date":1586514824,"answer_id":61138451,"question_id":61138173,"body_markdown":"The way I have always understood this:\r\n\r\nPolymorphism is a concept that basically says it looks like the same but does things differently, depending on context.\r\n\r\n1. if you have a method of the same name which has a different amount of arguments, this is method overloading.\r\n\r\n2. if you have a method of the same name with the same amount of arguments, but does a different thing depending on the class, this is method overriding.\r\n\r\nNote: I say amount of arguments, as for dynamically typed languages, the type does only matter at run time. For Java, for instance, it is not only the number of arguments, but also the type, of course.\r\n\r\nBoth are concrete ways to deal with polymorphism.\r\nIn detail, depending on the language you are using, the concept might be implemented and sometimes even interpreted differently.","title":"Polymorphism in Python VS Polymorphism in JAVA","body":"<p>The way I have always understood this:</p>\n\n<p>Polymorphism is a concept that basically says it looks like the same but does things differently, depending on context.</p>\n\n<ol>\n<li><p>if you have a method of the same name which has a different amount of arguments, this is method overloading.</p></li>\n<li><p>if you have a method of the same name with the same amount of arguments, but does a different thing depending on the class, this is method overriding.</p></li>\n</ol>\n\n<p>Note: I say amount of arguments, as for dynamically typed languages, the type does only matter at run time. For Java, for instance, it is not only the number of arguments, but also the type, of course.</p>\n\n<p>Both are concrete ways to deal with polymorphism.\nIn detail, depending on the language you are using, the concept might be implemented and sometimes even interpreted differently.</p>\n"},{"tags":[],"owner":{"account_id":18192138,"reputation":74,"user_id":13237815,"display_name":"epilif3sotnas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586524651,"creation_date":1586524651,"answer_id":61141111,"question_id":61138173,"body_markdown":"By what i understand in java even you have the same name of the method, you have different method, while in python when you have:\r\n\r\n    class TestPolymorphism:\r\n    def add(self,a,b):\r\n        return (a+b)\r\n    def add(self,a,b,c):\r\n        return (a+b+c)\r\nthe last add that you write override the last ones.\r\n\r\nIn conclusion, when you have add with different arguments the best option add(self, a,b,c==None, ..., n=None) and if...","title":"Polymorphism in Python VS Polymorphism in JAVA","body":"<p>By what i understand in java even you have the same name of the method, you have different method, while in python when you have:</p>\n\n<pre><code>class TestPolymorphism:\ndef add(self,a,b):\n    return (a+b)\ndef add(self,a,b,c):\n    return (a+b+c)\n</code></pre>\n\n<p>the last add that you write override the last ones.</p>\n\n<p>In conclusion, when you have add with different arguments the best option add(self, a,b,c==None, ..., n=None) and if...</p>\n"},{"tags":[],"owner":{"account_id":27073677,"reputation":11,"user_id":20623968,"display_name":"Matthew Chukwuelue"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1673048813,"creation_date":1672956051,"answer_id":75024809,"question_id":61138173,"body_markdown":"Well from my understanding of polymorphism, it means one thing in many forms, and that can be illustrated using user app interface.\r\nA python code could be implemented such that at runtime, a draw method could be used to change the user app interface from drop-down list to textbox. etc.\r\ndef draw(controls):\r\n    for control in controls:\r\nI hope you get the point.\r\n","title":"Polymorphism in Python VS Polymorphism in JAVA","body":"<p>Well from my understanding of polymorphism, it means one thing in many forms, and that can be illustrated using user app interface.\nA python code could be implemented such that at runtime, a draw method could be used to change the user app interface from drop-down list to textbox. etc.\ndef draw(controls):\nfor control in controls:\nI hope you get the point.</p>\n"}],"owner":{"account_id":12570978,"reputation":1684,"user_id":9145082,"display_name":"Ravi"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":964,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":3,"score":0,"last_activity_date":1673048813,"creation_date":1586513796,"question_id":61138173,"body_markdown":"I&#39;m trying to understand the polymorphism in python. Gone through lot of article but there is one doubt still there in my mind. When I compare with java it is little bit confusing for me in Python.\r\n\r\nAs per my knowledge polymorphism is &quot;one thing in many forms&quot;. Polymorphism can be demonstrated using operator overloading, and method overloading. Let&#39;s take method overloading as a means to demonstrate Polymorphism concept. In java we can write it without use of inheritance. See below code.\r\n\r\n     public class Main{\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(add(1,2));;\r\n    \t\tSystem.out.println(add(1,2,3));\r\n    \t}\r\n    \tpublic static int add(int a,int b){\r\n    \t    return a+b;\r\n    \t}\r\n    \tpublic static int add(int a,int b,int c){\r\n    \t    return a+b+c;\r\n    \t} \t\r\n    }\r\n\r\nPython code:\r\n\r\n    class TestPolymorphism:\r\n        def add(self,a,b):\r\n            return (a+b)\r\n        def add(self,a,b,c):\r\n            return (a+b+c)\r\n    \r\n    obj = TestPolymorphism()\r\n    print(obj.add(1,2)) #will get an error\r\n    print(obj.add(1,2,3))\r\n\r\nThe same method overloading works in java but not in python. Why there is difference?. If I want it to work then I have to change my python code as below:\r\n\r\n    class TestPolymorphism:\r\n        def add(self,a,b,c=None):\r\n            if c ==None:\r\n                sum  = a+b\r\n                return sum\r\n            else:\r\n                sum = a+b+c\r\n                return sum\r\n    \r\n    obj = TestPolymorphism()\r\n    print(obj.add(1,2))\r\n    print(obj.add(1,2,3))\r\n\r\nI&#39;m not getting convinced that above the code is an example of Polymorphism. There are article like [this][1] not giving me convincing point.\r\n\r\ncan anyone give me theory behind the polymorphism in python?\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/polymorphism-in-python/","title":"Polymorphism in Python VS Polymorphism in JAVA","body":"<p>I'm trying to understand the polymorphism in python. Gone through lot of article but there is one doubt still there in my mind. When I compare with java it is little bit confusing for me in Python.</p>\n\n<p>As per my knowledge polymorphism is \"one thing in many forms\". Polymorphism can be demonstrated using operator overloading, and method overloading. Let's take method overloading as a means to demonstrate Polymorphism concept. In java we can write it without use of inheritance. See below code.</p>\n\n<pre><code> public class Main{\n    public static void main(String[] args) {\n        System.out.println(add(1,2));;\n        System.out.println(add(1,2,3));\n    }\n    public static int add(int a,int b){\n        return a+b;\n    }\n    public static int add(int a,int b,int c){\n        return a+b+c;\n    }   \n}\n</code></pre>\n\n<p>Python code:</p>\n\n<pre><code>class TestPolymorphism:\n    def add(self,a,b):\n        return (a+b)\n    def add(self,a,b,c):\n        return (a+b+c)\n\nobj = TestPolymorphism()\nprint(obj.add(1,2)) #will get an error\nprint(obj.add(1,2,3))\n</code></pre>\n\n<p>The same method overloading works in java but not in python. Why there is difference?. If I want it to work then I have to change my python code as below:</p>\n\n<pre><code>class TestPolymorphism:\n    def add(self,a,b,c=None):\n        if c ==None:\n            sum  = a+b\n            return sum\n        else:\n            sum = a+b+c\n            return sum\n\nobj = TestPolymorphism()\nprint(obj.add(1,2))\nprint(obj.add(1,2,3))\n</code></pre>\n\n<p>I'm not getting convinced that above the code is an example of Polymorphism. There are article like <a href=\"https://www.geeksforgeeks.org/polymorphism-in-python/\" rel=\"nofollow noreferrer\">this</a> not giving me convincing point.</p>\n\n<p>can anyone give me theory behind the polymorphism in python?</p>\n"},{"tags":["java","micronaut","micronaut-data"],"owner":{"account_id":3314513,"reputation":3779,"user_id":2787184,"accept_rate":65,"display_name":"2787184"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1673048790,"creation_date":1672650451,"question_id":74980575,"body_markdown":"With Micronaut version upgrade to 3.7.5/3.8.0 custom @Query in Repository with sql-IN clause not working when list is having single element. Below is the stack trace logs, this is still working in older version on micronaut:3.5.4 and micronaut-data-processor:3.4.3. \r\n\r\nStacktrace:\r\n\r\n    java.lang.ClassCastException: class java.lang.String cannot be cast to class java.util.Collection (java.lang.String and java.util.Collection are in module java.base of loader &#39;bootstrap&#39;)\r\n    \r\n    at io.micronaut.data.hibernate.operations.AbstractHibernateOperations$2.bindOne(AbstractHibernateOperations.java:403)\r\n    at io.micronaut.data.runtime.operations.internal.query.DefaultBindableParametersStoredQuery.bindParameter(DefaultBindableParametersStoredQuery.java:172)\r\n    at io.micronaut.data.runtime.operations.internal.query.DefaultBindableParametersStoredQuery.bindParameters(DefaultBindableParametersStoredQuery.java:84)\r\n    at io.micronaut.data.runtime.operations.internal.query.DefaultBindableParametersPreparedQuery.bindParameters(DefaultBindableParametersPreparedQuery.java:82)\r\n    at io.micronaut.data.runtime.operations.internal.query.BindableParametersPreparedQuery.bindParameters(BindableParametersPreparedQuery.java:51)\r\n    at io.micronaut.data.hibernate.operations.AbstractHibernateOperations.bindParameters(AbstractHibernateOperations.java:379)\r\n    at io.micronaut.data.hibernate.operations.AbstractHibernateOperations.bindPreparedQuery(AbstractHibernateOperations.java:431)\r\n    at io.micronaut.data.hibernate.operations.AbstractHibernateOperations.collectResults(AbstractHibernateOperations.java:364)\r\n    at io.micronaut.data.hibernate.operations.AbstractHibernateOperations.collectFindAll(AbstractHibernateOperations.java:306)\r\n    at io.micronaut.data.hibernate.operations.HibernateJpaOperations.lambda$findAll$7(HibernateJpaOperations.java:315)\r\n    at io.micronaut.transaction.support.AbstractSynchronousStateTransactionManager.execute(AbstractSynchronousStateTransactionManager.java:145)\r\n    at io.micronaut.transaction.support.AbstractSynchronousStateTransactionManager.executeRead(AbstractSynchronousStateTransactionManager.java:160)\r\n    at io.micronaut.transaction.support.AbstractSynchronousTransactionManager.executeRead(AbstractSynchronousTransactionManager.java:150)\r\n    at io.micronaut.data.hibernate.operations.HibernateJpaOperations.findAll(HibernateJpaOperations.java:313)\r\n    at io.micronaut.data.runtime.intercept.DefaultFindAllInterceptor.intercept(DefaultFindAllInterceptor.java:51)\r\n    at io.micronaut.data.runtime.intercept.DefaultFindAllInterceptor.intercept(DefaultFindAllInterceptor.java:35)\r\n\r\nRepository method\r\n\r\n    @Query(value = &quot;Select * from table a where a.status in (:statuses)&quot;, nativeQuery = true)\r\n    List&lt;Entity&gt; findByStatus(List&lt;String&gt; statuses);\r\n\r\n","title":"Micronaut-data-hibernate&lt;3.8.1&gt; : class java.lang.String cannot be cast to class java.util.Collection","body":"<p>With Micronaut version upgrade to 3.7.5/3.8.0 custom @Query in Repository with sql-IN clause not working when list is having single element. Below is the stack trace logs, this is still working in older version on micronaut:3.5.4 and micronaut-data-processor:3.4.3.</p>\n<p>Stacktrace:</p>\n<pre><code>java.lang.ClassCastException: class java.lang.String cannot be cast to class java.util.Collection (java.lang.String and java.util.Collection are in module java.base of loader 'bootstrap')\n\nat io.micronaut.data.hibernate.operations.AbstractHibernateOperations$2.bindOne(AbstractHibernateOperations.java:403)\nat io.micronaut.data.runtime.operations.internal.query.DefaultBindableParametersStoredQuery.bindParameter(DefaultBindableParametersStoredQuery.java:172)\nat io.micronaut.data.runtime.operations.internal.query.DefaultBindableParametersStoredQuery.bindParameters(DefaultBindableParametersStoredQuery.java:84)\nat io.micronaut.data.runtime.operations.internal.query.DefaultBindableParametersPreparedQuery.bindParameters(DefaultBindableParametersPreparedQuery.java:82)\nat io.micronaut.data.runtime.operations.internal.query.BindableParametersPreparedQuery.bindParameters(BindableParametersPreparedQuery.java:51)\nat io.micronaut.data.hibernate.operations.AbstractHibernateOperations.bindParameters(AbstractHibernateOperations.java:379)\nat io.micronaut.data.hibernate.operations.AbstractHibernateOperations.bindPreparedQuery(AbstractHibernateOperations.java:431)\nat io.micronaut.data.hibernate.operations.AbstractHibernateOperations.collectResults(AbstractHibernateOperations.java:364)\nat io.micronaut.data.hibernate.operations.AbstractHibernateOperations.collectFindAll(AbstractHibernateOperations.java:306)\nat io.micronaut.data.hibernate.operations.HibernateJpaOperations.lambda$findAll$7(HibernateJpaOperations.java:315)\nat io.micronaut.transaction.support.AbstractSynchronousStateTransactionManager.execute(AbstractSynchronousStateTransactionManager.java:145)\nat io.micronaut.transaction.support.AbstractSynchronousStateTransactionManager.executeRead(AbstractSynchronousStateTransactionManager.java:160)\nat io.micronaut.transaction.support.AbstractSynchronousTransactionManager.executeRead(AbstractSynchronousTransactionManager.java:150)\nat io.micronaut.data.hibernate.operations.HibernateJpaOperations.findAll(HibernateJpaOperations.java:313)\nat io.micronaut.data.runtime.intercept.DefaultFindAllInterceptor.intercept(DefaultFindAllInterceptor.java:51)\nat io.micronaut.data.runtime.intercept.DefaultFindAllInterceptor.intercept(DefaultFindAllInterceptor.java:35)\n</code></pre>\n<p>Repository method</p>\n<pre><code>@Query(value = &quot;Select * from table a where a.status in (:statuses)&quot;, nativeQuery = true)\nList&lt;Entity&gt; findByStatus(List&lt;String&gt; statuses);\n</code></pre>\n"},{"tags":["java","exception","assertion"],"answers":[{"tags":[],"owner":{"account_id":75307,"reputation":69271,"user_id":216063,"accept_rate":64,"display_name":"Gregory Pakosz"},"down_vote_count":0,"up_vote_count":188,"is_accepted":false,"score":188,"last_activity_date":1261649000,"creation_date":1261649000,"answer_id":1957656,"question_id":1957645,"body_markdown":"Out of my mind (list may be incomplete, and is too long to fit in a comment), I would say:\r\n\r\n - use exceptions when checking parameters passed to public or protected methods and constructors\r\n - use exceptions when interacting with the user or when you expect the client code to recover from an exceptional situation\r\n - use exceptions to address problems that might occur\r\n - use assertions when checking pre-conditions, post-conditions and invariants of private/internal code\r\n - use assertions to provide feedback to yourself or your developer team\r\n - use assertions when checking for things that are very unlikely to happen otherwise it means that there is a serious aw in your application\r\n - use assertions to state things that you (supposedly) know to be true\r\n\r\nIn other words, exceptions address the robustness of your application while assertions address its correctness.\r\n\r\nAssertions are designed to be cheap to write, you can use them almost everywhere and I&#39;m using this rule of thumb: the more an assertion statement looks stupid, the more valuable it is and the more information it embeds. When debugging a program that does not behave the right way, you will surely check the more obvious failure possibilities based on your experience. Then you will check for problems that just cannot happen: this is exactly when assertions help a lot and save time.","title":"When to use an assertion and when to use an exception","body":"<p>Out of my mind (list may be incomplete, and is too long to fit in a comment), I would say:</p>\n\n<ul>\n<li>use exceptions when checking parameters passed to public or protected methods and constructors</li>\n<li>use exceptions when interacting with the user or when you expect the client code to recover from an exceptional situation</li>\n<li>use exceptions to address problems that might occur</li>\n<li>use assertions when checking pre-conditions, post-conditions and invariants of private/internal code</li>\n<li>use assertions to provide feedback to yourself or your developer team</li>\n<li>use assertions when checking for things that are very unlikely to happen otherwise it means that there is a serious aw in your application</li>\n<li>use assertions to state things that you (supposedly) know to be true</li>\n</ul>\n\n<p>In other words, exceptions address the robustness of your application while assertions address its correctness.</p>\n\n<p>Assertions are designed to be cheap to write, you can use them almost everywhere and I'm using this rule of thumb: the more an assertion statement looks stupid, the more valuable it is and the more information it embeds. When debugging a program that does not behave the right way, you will surely check the more obvious failure possibilities based on your experience. Then you will check for problems that just cannot happen: this is exactly when assertions help a lot and save time.</p>\n"},{"tags":[],"owner":{"account_id":16660,"reputation":19988,"user_id":36537,"accept_rate":74,"display_name":"Phil H"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1261649053,"creation_date":1261649053,"answer_id":1957660,"question_id":1957645,"body_markdown":"Testing for null will only catch nulls causing problems, whereas a try/catch as you have it will catch *any* error.\r\n\r\nBroadly, try/catch is safer, but slightly slower, and you have to be careful that you catch all the kinds of error that may occur. So I would say use try/catch - one day the getGroup code may change, and you just might need that bigger net.","title":"When to use an assertion and when to use an exception","body":"<p>Testing for null will only catch nulls causing problems, whereas a try/catch as you have it will catch <em>any</em> error.</p>\n\n<p>Broadly, try/catch is safer, but slightly slower, and you have to be careful that you catch all the kinds of error that may occur. So I would say use try/catch - one day the getGroup code may change, and you just might need that bigger net.</p>\n"},{"tags":[],"owner":{"account_id":21712,"reputation":4129,"user_id":53009,"accept_rate":80,"display_name":"chburd"},"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1414980811,"creation_date":1261649089,"answer_id":1957661,"question_id":1957645,"body_markdown":"Remember assertions can be disabled at runtime using parameters, and [are disabled by default][1], so don&#39;t count on them except for debugging purposes.\r\n\r\nAlso you should read the [Oracle article about assert][2] to see more cases where to use - or not to use - assert.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/technotes/tools/windows/java.html\r\n  [2]: http://docs.oracle.com/javase/6/docs/technotes/guides/language/assert.html","title":"When to use an assertion and when to use an exception","body":"<p>Remember assertions can be disabled at runtime using parameters, and <a href=\"http://java.sun.com/javase/6/docs/technotes/tools/windows/java.html\" rel=\"noreferrer\">are disabled by default</a>, so don't count on them except for debugging purposes.</p>\n\n<p>Also you should read the <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/language/assert.html\" rel=\"noreferrer\">Oracle article about assert</a> to see more cases where to use - or not to use - assert.</p>\n"},{"tags":[],"owner":{"account_id":1191,"reputation":58105,"user_id":1585,"accept_rate":73,"display_name":"Marius"},"down_vote_count":16,"up_vote_count":107,"is_accepted":true,"score":91,"last_activity_date":1485263692,"creation_date":1261649113,"answer_id":1957662,"question_id":1957645,"body_markdown":"Assertions should be used to check something that should never happen, while an exception should be used to check something that might happen. \r\n\r\nFor example, a function might divide by 0, so an exception should be used, but an assertion could be used to check that the harddrive suddenly disappears. \r\n\r\nAn assertion would stop the program from running, but an exception would let the program continue running.\r\n\r\n\r\nNote that `if(group != null)` is not an assertion, that is just a conditional.","title":"When to use an assertion and when to use an exception","body":"<p>Assertions should be used to check something that should never happen, while an exception should be used to check something that might happen. </p>\n\n<p>For example, a function might divide by 0, so an exception should be used, but an assertion could be used to check that the harddrive suddenly disappears. </p>\n\n<p>An assertion would stop the program from running, but an exception would let the program continue running.</p>\n\n<p>Note that <code>if(group != null)</code> is not an assertion, that is just a conditional.</p>\n"},{"tags":[],"owner":{"account_id":52629,"reputation":11055,"user_id":157277,"accept_rate":78,"display_name":"rui"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1489142287,"creation_date":1261649190,"answer_id":1957673,"question_id":1957645,"body_markdown":"Well, back at Microsoft, the recommendation was to throw Exceptions in all APIs you make available publicly and use Asserts in all sorts of assumptions you make about code that&#39;s internal. It&#39;s a bit of a loose definition but I guess it&#39;s up to each developer to draw the line.\r\n\r\nRegarding the use of Exceptions, as the name says, their usage should be exceptional so for the code you present above, the `getGroup` call should return `null` if no service exists. Exception should only occur if a network link goes down or something like that.\r\n\r\nI guess the conclusion is that it&#39;s a bit left down to the development team for each application to define the boundaries of assert vs exceptions.","title":"When to use an assertion and when to use an exception","body":"<p>Well, back at Microsoft, the recommendation was to throw Exceptions in all APIs you make available publicly and use Asserts in all sorts of assumptions you make about code that's internal. It's a bit of a loose definition but I guess it's up to each developer to draw the line.</p>\n\n<p>Regarding the use of Exceptions, as the name says, their usage should be exceptional so for the code you present above, the <code>getGroup</code> call should return <code>null</code> if no service exists. Exception should only occur if a network link goes down or something like that.</p>\n\n<p>I guess the conclusion is that it's a bit left down to the development team for each application to define the boundaries of assert vs exceptions.</p>\n"},{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1414980181,"creation_date":1261651296,"answer_id":1957811,"question_id":1957645,"body_markdown":"I confess I&#39;m a little confused by your question. When an assertion condition is not met, an exception is thrown. Confusingly this is called [AssertionError][1]. Note that it&#39;s unchecked, like (for example) [IllegalArgumentException][2] which is thrown in very similar circumstances.\r\n\r\nSo using assertions in Java\r\n\r\n 1. is a more concise means of writing a condition/throw block\r\n 2. permits you to turn these checks on/off via JVM parameters. Normally I would leave these checks on all the time, unless they impact runtime performance or have a similar penalty.\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/AssertionError.html\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html","title":"When to use an assertion and when to use an exception","body":"<p>I confess I'm a little confused by your question. When an assertion condition is not met, an exception is thrown. Confusingly this is called <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/AssertionError.html\" rel=\"nofollow noreferrer\">AssertionError</a>. Note that it's unchecked, like (for example) <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html\" rel=\"nofollow noreferrer\">IllegalArgumentException</a> which is thrown in very similar circumstances.</p>\n\n<p>So using assertions in Java</p>\n\n<ol>\n<li>is a more concise means of writing a condition/throw block</li>\n<li>permits you to turn these checks on/off via JVM parameters. Normally I would leave these checks on all the time, unless they impact runtime performance or have a similar penalty.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1340009843,"creation_date":1261664742,"answer_id":1958506,"question_id":1957645,"body_markdown":"Unfortunately asserts can be disabled. When in production you need all the help you can get when tracking down something unforeseen, so asserts disqualify themselves. ","title":"When to use an assertion and when to use an exception","body":"<p>Unfortunately asserts can be disabled. When in production you need all the help you can get when tracking down something unforeseen, so asserts disqualify themselves. </p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1497522939,"creation_date":1261666254,"answer_id":1958582,"question_id":1957645,"body_markdown":"As a general rule:\r\n\r\n   - Use assertions for internal consistency checks where it doesn&#39;t matter at all if someone turns them off.  (Note that the `java` command turns off all assertions by default.)\r\n   - Use regular tests for any kind of checks what shouldn&#39;t be turned off.  This *includes* defensive checks that guard against potential damage cause by bugs, and any validation data / requests / whatever provided by users or external services.\r\n\r\n----------------\r\n\r\nThe following code from your question is bad style *and* potentially buggy\r\n\r\n    try {\r\n        group = service().getGroup(&quot;abc&quot;);\r\n    } catch (Exception e) {\r\n        //i dont log error because i know whenever error occur mean group not found\r\n    }\r\n\r\nThe problem is that you DON&#39;T know that an exception means that the group was not found.  It is also possible that the `service()` call threw an exception, or that it returned `null` which then caused a `NullPointerException`.\r\n\r\nWhen you catch an &quot;expected&quot; exception, you should catch *only* the exception that you are expecting. By catching `java.lang.Exception` (and especially by not logging it), you are making it harder to diagnose / debug the problem, and potentially allowing the app to do more damage.","title":"When to use an assertion and when to use an exception","body":"<p>As a general rule:</p>\n\n<ul>\n<li>Use assertions for internal consistency checks where it doesn't matter at all if someone turns them off.  (Note that the <code>java</code> command turns off all assertions by default.)</li>\n<li>Use regular tests for any kind of checks what shouldn't be turned off.  This <em>includes</em> defensive checks that guard against potential damage cause by bugs, and any validation data / requests / whatever provided by users or external services.</li>\n</ul>\n\n<hr>\n\n<p>The following code from your question is bad style <em>and</em> potentially buggy</p>\n\n<pre><code>try {\n    group = service().getGroup(\"abc\");\n} catch (Exception e) {\n    //i dont log error because i know whenever error occur mean group not found\n}\n</code></pre>\n\n<p>The problem is that you DON'T know that an exception means that the group was not found.  It is also possible that the <code>service()</code> call threw an exception, or that it returned <code>null</code> which then caused a <code>NullPointerException</code>.</p>\n\n<p>When you catch an \"expected\" exception, you should catch <em>only</em> the exception that you are expecting. By catching <code>java.lang.Exception</code> (and especially by not logging it), you are making it harder to diagnose / debug the problem, and potentially allowing the app to do more damage.</p>\n"},{"tags":[],"owner":{"account_id":1491309,"reputation":709,"user_id":1398333,"display_name":"SBTec"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1339407446,"creation_date":1339407446,"answer_id":10977600,"question_id":1957645,"body_markdown":"You can use this simple difference in mind while their usage. Exceptions will be used for checking expected and unexpected errors called checked and unchecked error while assertion is used mainly for debugging purposes at the run time to see whether the assumptions are validated or not. ","title":"When to use an assertion and when to use an exception","body":"<p>You can use this simple difference in mind while their usage. Exceptions will be used for checking expected and unexpected errors called checked and unchecked error while assertion is used mainly for debugging purposes at the run time to see whether the assumptions are validated or not. </p>\n"},{"tags":[],"owner":{"account_id":1648676,"reputation":9,"user_id":1519670,"display_name":"Phil"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1414980192,"creation_date":1342067744,"answer_id":11445071,"question_id":1957645,"body_markdown":"See section 6.1.2 (Assertions vs. other error code) of Sun&#39;s documentation at the following link. \r\n\r\nhttp://www.oracle.com/technetwork/articles/javase/javapch06.pdf\r\n\r\nThis document gives the best advice I&#39;ve seen on when to use assertions. Quoting from the document:\r\n\r\n&quot;A good rule of thumb is that you should use an assertion for exceptional cases that you would like to forget about. An assertion is the quickest way to deal with, and forget, a condition or state that you dont expect to have to deal with.&quot;\r\n","title":"When to use an assertion and when to use an exception","body":"<p>See section 6.1.2 (Assertions vs. other error code) of Sun's documentation at the following link. </p>\n\n<p><a href=\"http://www.oracle.com/technetwork/articles/javase/javapch06.pdf\" rel=\"nofollow\">http://www.oracle.com/technetwork/articles/javase/javapch06.pdf</a></p>\n\n<p>This document gives the best advice I've seen on when to use assertions. Quoting from the document:</p>\n\n<p>\"A good rule of thumb is that you should use an assertion for exceptional cases that you would like to forget about. An assertion is the quickest way to deal with, and forget, a condition or state that you dont expect to have to deal with.\"</p>\n"},{"tags":[],"owner":{"account_id":298767,"reputation":1026,"user_id":604964,"accept_rate":29,"display_name":"cesarsalgado"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1414980702,"creation_date":1350941463,"answer_id":13020213,"question_id":1957645,"body_markdown":"According to this doc http://docs.oracle.com/javase/6/docs/technotes/guides/language/assert.html#design-faq-general, &quot;The assert statement is appropriate for nonpublic precondition, postcondition and class invariant checking. Public precondition checking should still be performed by checks inside methods that result in particular, documented exceptions, such as IllegalArgumentException and IllegalStateException.&quot;\r\n\r\nIf you want to know more about precondition, postcondition and class invariant, check this doc: http://docs.oracle.com/javase/6/docs/technotes/guides/language/assert.html#usage-conditions. It also contains with examples of assertions usage.","title":"When to use an assertion and when to use an exception","body":"<p>According to this doc <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/language/assert.html#design-faq-general\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/technotes/guides/language/assert.html#design-faq-general</a>, \"The assert statement is appropriate for nonpublic precondition, postcondition and class invariant checking. Public precondition checking should still be performed by checks inside methods that result in particular, documented exceptions, such as IllegalArgumentException and IllegalStateException.\"</p>\n\n<p>If you want to know more about precondition, postcondition and class invariant, check this doc: <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/language/assert.html#usage-conditions\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/technotes/guides/language/assert.html#usage-conditions</a>. It also contains with examples of assertions usage.</p>\n"},{"tags":[],"owner":{"account_id":1911430,"reputation":2483,"user_id":1725151,"accept_rate":67,"display_name":"Guildenstern"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673048372,"creation_date":1673047713,"answer_id":75037016,"question_id":1957645,"body_markdown":"Im not experienced with Java asserts but I think the answer here naturally follows from what Java asserts _are_:\r\n\r\n1. Code that is only run if enabled\r\n2. Disabled by default\r\n\r\nThus we can surmise that assertions should never be used to implement application logic: it should only be used as optional (because of the on/off feature) sanity checks/explicit assumptions. The correctness of your app (modulo bugs!) cannot depend on a runtime flag which is turned off by default.\r\n\r\nSo only use assertions to check internal assumptions (your own code _only_, not things that are out of your control like user input). But on the other hand you might sometimes want to use _exceptions_ to check your assumptions; if you want to always check a certain assumption then you dont need the on/off feature that assertions provide.\r\n\r\nFor the task of checking assumptions, it seems that assertions excel when:\r\n\r\n1. The check might be costly so you want the option of disabling it\r\n2. Using if-or-throw would be too much noise but you can bear the cost of one little `assert &lt;expr&gt;`\r\n3. You want to leave a little comment which merely states something like:\r\n\r\n   ```\r\n   // NOTE we KNOW that `x` is not null!\r\n   x.doWork();\r\n   ```\r\n\r\n   Then [the Java folks][1] say that you should always replace that line with:\r\n\r\n   ```\r\n   assert x != null;\r\n   x.doWork();\r\n   ```\r\n\r\n   Or (in my opinion) if you prefer:\r\n\r\n   ```\r\n   if (x == null) {\r\n       throw new IllegalStateException(&quot;shouldnt be null&quot;);\r\n   }\r\n   x.doWork();\r\n   ```\r\n\r\n## Things that follow from these principles\r\n\r\nI think we can immediately expand on [related principles (sibling answer)][1] by using this optional principle (my gloss in cursive):\r\n\r\n- use exceptions when checking parameters passed to public or protected methods and constructors\r\n  - _Because you are checking things outside your code: code coming into your module_\r\n- use exceptions when interacting with the user or when you expect the client code to recover from an exceptional situation\r\n  - _Because the input is from the user and has nothing to do with your code. Also assertions are not really something you are supposed to recover from.(1)_\r\n- use exceptions to address problems that might occur\r\n  - _I.e. errors that happen as a matter of course: not bugs in your code_\r\n- use assertions when checking pre-conditions, post-conditions and invariants of private/internal code\r\n  - _Because its your own code: problems inside your own code are self-caused_\r\n- use assertions to provide feedback to yourself or your developer team\r\n  - _Bugs are for developers to deal with_\r\n- use assertions when checking for things that are very unlikely to happen otherwise it means that there is a serious aw in your application\r\n  - _Key word serious flaw in your application_\r\n- use assertions to state things that you (supposedly) know to be true\r\n  - _Checking assumptions_\r\n\r\n## Notes\r\n\r\n1. I think this is a general opinion. See [also][3] (my bold):\r\n\r\n   &gt; _Why is AssertionError a subclass of Error rather than RuntimeException?_  \r\n   &gt; This issue was controversial. The expert group discussed it at length, and came to the conclusion that Error was more appropriate **to discourage programmers from attempting to recover from assertion failures**.\r\n\r\n[1]: https://docs.oracle.com/javase/7/docs/technotes/guides/language/assert.html#Postconditions\r\n[2]: https://stackoverflow.com/a/1957656/1725151\r\n[3]: https://docs.oracle.com/javase/7/docs/technotes/guides/language/assert.html#design-faq","title":"When to use an assertion and when to use an exception","body":"<p>Im not experienced with Java asserts but I think the answer here naturally follows from what Java asserts <em>are</em>:</p>\n<ol>\n<li>Code that is only run if enabled</li>\n<li>Disabled by default</li>\n</ol>\n<p>Thus we can surmise that assertions should never be used to implement application logic: it should only be used as optional (because of the on/off feature) sanity checks/explicit assumptions. The correctness of your app (modulo bugs!) cannot depend on a runtime flag which is turned off by default.</p>\n<p>So only use assertions to check internal assumptions (your own code <em>only</em>, not things that are out of your control like user input). But on the other hand you might sometimes want to use <em>exceptions</em> to check your assumptions; if you want to always check a certain assumption then you dont need the on/off feature that assertions provide.</p>\n<p>For the task of checking assumptions, it seems that assertions excel when:</p>\n<ol>\n<li><p>The check might be costly so you want the option of disabling it</p>\n</li>\n<li><p>Using if-or-throw would be too much noise but you can bear the cost of one little <code>assert &lt;expr&gt;</code></p>\n</li>\n<li><p>You want to leave a little comment which merely states something like:</p>\n<pre><code>// NOTE we KNOW that `x` is not null!\nx.doWork();\n</code></pre>\n<p>Then <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/language/assert.html#Postconditions\" rel=\"nofollow noreferrer\">the Java folks</a> say that you should always replace that line with:</p>\n<pre><code>assert x != null;\nx.doWork();\n</code></pre>\n<p>Or (in my opinion) if you prefer:</p>\n<pre><code>if (x == null) {\n    throw new IllegalStateException(&quot;shouldnt be null&quot;);\n}\nx.doWork();\n</code></pre>\n</li>\n</ol>\n<h2>Things that follow from these principles</h2>\n<p>I think we can immediately expand on <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/language/assert.html#Postconditions\" rel=\"nofollow noreferrer\">related principles (sibling answer)</a> by using this optional principle (my gloss in cursive):</p>\n<ul>\n<li>use exceptions when checking parameters passed to public or protected methods and constructors\n<ul>\n<li><em>Because you are checking things outside your code: code coming into your module</em></li>\n</ul>\n</li>\n<li>use exceptions when interacting with the user or when you expect the client code to recover from an exceptional situation\n<ul>\n<li><em>Because the input is from the user and has nothing to do with your code. Also assertions are not really something you are supposed to recover from.(1)</em></li>\n</ul>\n</li>\n<li>use exceptions to address problems that might occur\n<ul>\n<li><em>I.e. errors that happen as a matter of course: not bugs in your code</em></li>\n</ul>\n</li>\n<li>use assertions when checking pre-conditions, post-conditions and invariants of private/internal code\n<ul>\n<li><em>Because its your own code: problems inside your own code are self-caused</em></li>\n</ul>\n</li>\n<li>use assertions to provide feedback to yourself or your developer team\n<ul>\n<li><em>Bugs are for developers to deal with</em></li>\n</ul>\n</li>\n<li>use assertions when checking for things that are very unlikely to happen otherwise it means that there is a serious aw in your application\n<ul>\n<li><em>Key word serious flaw in your application</em></li>\n</ul>\n</li>\n<li>use assertions to state things that you (supposedly) know to be true\n<ul>\n<li><em>Checking assumptions</em></li>\n</ul>\n</li>\n</ul>\n<h2>Notes</h2>\n<ol>\n<li><p>I think this is a general opinion. See <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/language/assert.html#design-faq\" rel=\"nofollow noreferrer\">also</a> (my bold):</p>\n<blockquote>\n<p><em>Why is AssertionError a subclass of Error rather than RuntimeException?</em><br />\nThis issue was controversial. The expert group discussed it at length, and came to the conclusion that Error was more appropriate <strong>to discourage programmers from attempting to recover from assertion failures</strong>.</p>\n</blockquote>\n</li>\n</ol>\n"}],"owner":{"account_id":38002,"reputation":35251,"user_id":108869,"accept_rate":83,"display_name":"cometta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54498,"favorite_count":0,"down_vote_count":1,"up_vote_count":134,"accepted_answer_id":1957662,"answer_count":12,"score":133,"last_activity_date":1673048372,"creation_date":1261648844,"question_id":1957645,"body_markdown":"Most of the time I will use an exception to check for a condition in my code, I wonder when it is an appropriate time to use an assertion?\r\n\r\nFor instance,\r\n\r\n    Group group=null;\r\n    try{\r\n        group = service().getGroup(&quot;abc&quot;);\r\n    }catch(Exception e){\r\n        //I dont log error because I know whenever error occur mean group not found\r\n    }\r\n    \r\n    if(group !=null)\r\n    {\r\n        //do something\r\n    }\r\n\r\nCould you indicate how an assertion fits in here? Should I use an assertion?\r\n\r\nIt seems like I never use assertions in production code and only see assertions in unit tests. I do know that in most cases, I can just use exception to do the checking like above, but I want to know appropriate way to do it &quot;professionally&quot;.","title":"When to use an assertion and when to use an exception","body":"<p>Most of the time I will use an exception to check for a condition in my code, I wonder when it is an appropriate time to use an assertion?</p>\n\n<p>For instance,</p>\n\n<pre><code>Group group=null;\ntry{\n    group = service().getGroup(\"abc\");\n}catch(Exception e){\n    //I dont log error because I know whenever error occur mean group not found\n}\n\nif(group !=null)\n{\n    //do something\n}\n</code></pre>\n\n<p>Could you indicate how an assertion fits in here? Should I use an assertion?</p>\n\n<p>It seems like I never use assertions in production code and only see assertions in unit tests. I do know that in most cases, I can just use exception to do the checking like above, but I want to know appropriate way to do it \"professionally\".</p>\n"},{"tags":["java","garbage-collection"],"answers":[{"tags":[],"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1488638839,"creation_date":1488638839,"answer_id":42597313,"question_id":42593061,"body_markdown":"`ParallelGCThreads` controls the parallelism of all stop-the-world GC phases, which should include parallel reference processing.\r\n\r\nIts default is calculated based on your current machine, you can see it via\r\n\r\n    java -XX:+Use????GC -XX:+PrintFlagsFinal | grep ParallelGCThreads\r\n\r\n(fill in the GC you&#39;re using, defaults may vary)\r\n\r\nNote that GC reference processing is not the same as finalization or `Cleaner` execution, which happens outside GC pauses.","title":"ParallelRefProcEnabled Default Number of Threads","body":"<p><code>ParallelGCThreads</code> controls the parallelism of all stop-the-world GC phases, which should include parallel reference processing.</p>\n\n<p>Its default is calculated based on your current machine, you can see it via</p>\n\n<pre><code>java -XX:+Use????GC -XX:+PrintFlagsFinal | grep ParallelGCThreads\n</code></pre>\n\n<p>(fill in the GC you're using, defaults may vary)</p>\n\n<p>Note that GC reference processing is not the same as finalization or <code>Cleaner</code> execution, which happens outside GC pauses.</p>\n"},{"tags":[],"owner":{"account_id":2760598,"reputation":538,"user_id":2377579,"display_name":"Erik Ostermueller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673047817,"creation_date":1673047465,"answer_id":75037002,"question_id":42593061,"body_markdown":"The very first line of this Open JDK Release Note [1] says: \r\n\r\n&gt; By default, G1 now determines the optimal number of threads\r\n\r\nThe Release Note does not say how to change it.\r\nSo to answer your question, the default number of threads used is calculated by G1 at runtime.\r\n\r\nIt also says \r\n\r\n &gt; The change improves this phase of the garbage collection pause significantly on machines with more than one thread available for garbage collection.\r\n\r\n...although it does not say how it determines the count of available threads.\r\n\r\nLink [2] provides more specifics, and refers to this as &quot;dynamic number of thread\r\nsizing&quot; and this is also suggests that the dynamic allocation is sometimes limited to avoid slowdowns in previous implementations:\r\n\r\n&gt;  Threads are by default automatically limited by the functionality\r\nintroduced with JDK-8043575 to avoid actually being slower than before\r\nif using too many threads.\r\n\r\n[1]  https://bugs.openjdk.org/browse/JDK-8205328\r\n[2]  https://mail.openjdk.org/pipermail/hotspot-gc-dev/2018-June/022381.html","title":"ParallelRefProcEnabled Default Number of Threads","body":"<p>The very first line of this Open JDK Release Note [1] says:</p>\n<blockquote>\n<p>By default, G1 now determines the optimal number of threads</p>\n</blockquote>\n<p>The Release Note does not say how to change it.\nSo to answer your question, the default number of threads used is calculated by G1 at runtime.</p>\n<p>It also says</p>\n<blockquote>\n<p>The change improves this phase of the garbage collection pause significantly on machines with more than one thread available for garbage collection.</p>\n</blockquote>\n<p>...although it does not say how it determines the count of available threads.</p>\n<p>Link [2] provides more specifics, and refers to this as &quot;dynamic number of thread\nsizing&quot; and this is also suggests that the dynamic allocation is sometimes limited to avoid slowdowns in previous implementations:</p>\n<blockquote>\n<p>Threads are by default automatically limited by the functionality\nintroduced with JDK-8043575 to avoid actually being slower than before\nif using too many threads.</p>\n</blockquote>\n<p>[1]  <a href=\"https://bugs.openjdk.org/browse/JDK-8205328\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8205328</a>\n[2]  <a href=\"https://mail.openjdk.org/pipermail/hotspot-gc-dev/2018-June/022381.html\" rel=\"nofollow noreferrer\">https://mail.openjdk.org/pipermail/hotspot-gc-dev/2018-June/022381.html</a></p>\n"}],"owner":{"display_name":"user3778137"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4830,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":42597313,"answer_count":2,"score":3,"last_activity_date":1673047817,"creation_date":1488610071,"question_id":42593061,"body_markdown":"What are default number of threads the JVM assigns when the option    -XX:+ParallelRefProcEnabled    ? Is there a way we can control the number of threads that do reference processng? If yes, what is the parameter to do this?    ","title":"ParallelRefProcEnabled Default Number of Threads","body":"<p>What are default number of threads the JVM assigns when the option    -XX:+ParallelRefProcEnabled    ? Is there a way we can control the number of threads that do reference processng? If yes, what is the parameter to do this?    </p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"answers":[{"tags":[],"owner":{"account_id":14655333,"reputation":600,"user_id":10584061,"display_name":"ChristDist"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659574854,"creation_date":1659574854,"answer_id":73229284,"question_id":73221858,"body_markdown":"Not sure what are the special cases you are after, that you can include it in your note. Also, how long you want to shutdown your consumer in the runtime.\r\n\r\nIf you are using a **static membership**, the consumer group will not trigger rebalance unless\r\n\r\n- A new member joins\r\n- A leader re-joins (possibly due to topic assignment change)\r\n- An existing member offline time is over session timeout\r\n- Broker receives a leave group request containing a list of `group.instance.id`s\r\n\r\nWhen you set a consumer as static member, it will not send **leave group request** when they go offline (in your case shutdown for a special case), which means we shall only rely on **session.timeout** to trigger group rebalance. Therefore, it is also advised to make the session timeout large enough so that broker side will not trigger rebalance too frequently due to member come and go. \r\n\r\nI believe, close() will become obsolete here.\r\n\r\nAlso, it is important how we are handling the runtime exception scenarios (socket timeout, elapse of max.poll.interval, broker leader unavailability etc) irrespective of static or dynamic memberships, and when a consumer reaching the state of final block.\r\n\r\n    finally\r\n    {\r\n      consumer.close();\r\n    }","title":"Gracefully shutting down Kafka Consumer with static membership","body":"<p>Not sure what are the special cases you are after, that you can include it in your note. Also, how long you want to shutdown your consumer in the runtime.</p>\n<p>If you are using a <strong>static membership</strong>, the consumer group will not trigger rebalance unless</p>\n<ul>\n<li>A new member joins</li>\n<li>A leader re-joins (possibly due to topic assignment change)</li>\n<li>An existing member offline time is over session timeout</li>\n<li>Broker receives a leave group request containing a list of <code>group.instance.id</code>s</li>\n</ul>\n<p>When you set a consumer as static member, it will not send <strong>leave group request</strong> when they go offline (in your case shutdown for a special case), which means we shall only rely on <strong>session.timeout</strong> to trigger group rebalance. Therefore, it is also advised to make the session timeout large enough so that broker side will not trigger rebalance too frequently due to member come and go.</p>\n<p>I believe, close() will become obsolete here.</p>\n<p>Also, it is important how we are handling the runtime exception scenarios (socket timeout, elapse of max.poll.interval, broker leader unavailability etc) irrespective of static or dynamic memberships, and when a consumer reaching the state of final block.</p>\n<pre><code>finally\n{\n  consumer.close();\n}\n</code></pre>\n"}],"owner":{"account_id":4993259,"reputation":814,"user_id":4014778,"accept_rate":75,"display_name":"Lucian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1005,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1673047795,"creation_date":1659530186,"question_id":73221858,"body_markdown":"Given a Kafka Consumer **with a static membership**, what would be the best practice to gracefully shut it down?\r\n\r\nFrom Kafka - the definitive guide: By calling .close()\r\n\r\n&gt; Always close() the consumer before exiting. This will close the\r\n&gt; network connections and sockets. **It will also trigger a rebalance**\r\n&gt; immediately rather than wait for the group coordinator to discover\r\n&gt; that the consumer stopped sending heartbeats and is likely dead, which\r\n&gt; will take longer and therefore result in a longer period of time in\r\n&gt; which consumers cant consume messages from a subset of the\r\n&gt; partitions.\r\n\r\nSo if a static membership is used, close() is not what we really want. Maybe a tweaked version if it to close the network sockets but not causing a rebalance?\r\n\r\nAnother thing to note is that the unsubscribe is not causing a rebalance.\r\n\r\nI am really wondering how others imagine the shutdown mechanism in this special case.\r\n","title":"Gracefully shutting down Kafka Consumer with static membership","body":"<p>Given a Kafka Consumer <strong>with a static membership</strong>, what would be the best practice to gracefully shut it down?</p>\n<p>From Kafka - the definitive guide: By calling .close()</p>\n<blockquote>\n<p>Always close() the consumer before exiting. This will close the\nnetwork connections and sockets. <strong>It will also trigger a rebalance</strong>\nimmediately rather than wait for the group coordinator to discover\nthat the consumer stopped sending heartbeats and is likely dead, which\nwill take longer and therefore result in a longer period of time in\nwhich consumers cant consume messages from a subset of the\npartitions.</p>\n</blockquote>\n<p>So if a static membership is used, close() is not what we really want. Maybe a tweaked version if it to close the network sockets but not causing a rebalance?</p>\n<p>Another thing to note is that the unsubscribe is not causing a rebalance.</p>\n<p>I am really wondering how others imagine the shutdown mechanism in this special case.</p>\n"},{"tags":["java","ios","swift","amazon-web-services","amazon-s3"],"comments":[{"owner":{"account_id":408706,"reputation":19450,"user_id":779527,"accept_rate":88,"display_name":"Scriptable"},"score":1,"creation_date":1536848658,"post_id":52315564,"comment_id":91578978,"body_markdown":"The code shown above is either part of a third party library or custom code. It is not part of Java and there is no built in support for AWS in Swift either. What you are probably looking for is the [AWS iOS SDK](https://github.com/aws/aws-sdk-ios) which you can import into your project and use.","body":"The code shown above is either part of a third party library or custom code. It is not part of Java and there is no built in support for AWS in Swift either. What you are probably looking for is the <a href=\"https://github.com/aws/aws-sdk-ios\" rel=\"nofollow noreferrer\">AWS iOS SDK</a> which you can import into your project and use."},{"owner":{"account_id":14306842,"reputation":51,"user_id":10334478,"display_name":"Micheal Powers"},"score":0,"creation_date":1536870133,"post_id":52315564,"comment_id":91590054,"body_markdown":"This code is from the AWS website so I know this is not custom code. So I am still asking the question I have obviously looked on the AWS Website and have the SDK other wise i wouldn&#39;t be able to use AWS properly with my app","body":"This code is from the AWS website so I know this is not custom code. So I am still asking the question I have obviously looked on the AWS Website and have the SDK other wise i wouldn&#39;t be able to use AWS properly with my app"}],"answers":[{"tags":[],"owner":{"account_id":6521641,"reputation":847,"user_id":5045692,"display_name":"Rohan Dubal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673047548,"creation_date":1536956608,"answer_id":52338814,"question_id":52315564,"body_markdown":"You can use the `AWSS3` client from AWSiOSSDKv2 here: https://github.com/aws/aws-sdk-ios\r\n\r\nThe request which you are looking for is this: https://github.com/aws/aws-sdk-ios/blob/master/AWSS3/AWSS3Model.h#L6618 and can be used be invoked via this API: https://github.com/aws/aws-sdk-ios/blob/master/AWSS3/AWSS3Service.h#L1994\r\n","title":"Are there Low level Swift classes to upload files in AWS S3","body":"<p>You can use the <code>AWSS3</code> client from AWSiOSSDKv2 here: <a href=\"https://github.com/aws/aws-sdk-ios\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-sdk-ios</a></p>\n<p>The request which you are looking for is this: <a href=\"https://github.com/aws/aws-sdk-ios/blob/master/AWSS3/AWSS3Model.h#L6618\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-sdk-ios/blob/master/AWSS3/AWSS3Model.h#L6618</a> and can be used be invoked via this API: <a href=\"https://github.com/aws/aws-sdk-ios/blob/master/AWSS3/AWSS3Service.h#L1994\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-sdk-ios/blob/master/AWSS3/AWSS3Service.h#L1994</a></p>\n"}],"owner":{"account_id":14306842,"reputation":51,"user_id":10334478,"display_name":"Micheal Powers"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673047548,"creation_date":1536847746,"question_id":52315564,"body_markdown":"Here is the same code in Java was wondering if they have a swift equivalent, which\r\nallows you to break up files into parts:\r\n    \r\n            \r\n\r\nlong partSize = 5 * 1024 * 1024; \r\n    \r\n            try {\r\n                AmazonS3 s3Client = AmazonS3ClientBuilder.standard()\r\n                                        .withRegion(clientRegion)\r\n                                        .withCredentials(new ProfileCredentialsProvider())\r\n                                        .build();\r\n                           \r\n                List&lt;PartETag&gt; partETags = new ArrayList&lt;PartETag&gt;();\r\n    \r\n                \r\n                InitiateMultipartUploadRequest initRequest = new InitiateMultipartUploadRequest(bucketName, keyName);\r\n                InitiateMultipartUploadResult initResponse = s3Client.initiateMultipartUpload(initRequest);\r\n    \r\n                long filePosition = 0;\r\n                for (int i = 1; filePosition &lt; contentLength; i++) {\r\n                    partSize = Math.min(partSize, (contentLength - filePosition));\r\n    \r\n                 \r\n                    UploadPartRequest uploadRequest = new UploadPartRequest()\r\n                            .withBucketName(bucketName)\r\n                            .withKey(keyName)\r\n                            .withUploadId(initResponse.getUploadId())\r\n                            .withPartNumber(i)\r\n                            .withFileOffset(filePosition)\r\n                            .withFile(file)\r\n                            .withPartSize(partSize);\r\n    \r\n                    UploadPartResult uploadResult = s3Client.uploadPart(uploadRequest);\r\n                    partETags.add(uploadResult.getPartETag());\r\n    \r\n                    filePosition += partSize;\r\n                }\r\n    \r\n                \r\n                CompleteMultipartUploadRequest compRequest = new CompleteMultipartUploadRequest(bucketName, keyName,\r\n                        initResponse.getUploadId(), partETags);\r\n                s3Client.completeMultipartUpload(compRequest);\r\n            }","title":"Are there Low level Swift classes to upload files in AWS S3","body":"<p>Here is the same code in Java was wondering if they have a swift equivalent, which\nallows you to break up files into parts:</p>\n\n<p>long partSize = 5 * 1024 * 1024; </p>\n\n<pre><code>        try {\n            AmazonS3 s3Client = AmazonS3ClientBuilder.standard()\n                                    .withRegion(clientRegion)\n                                    .withCredentials(new ProfileCredentialsProvider())\n                                    .build();\n\n            List&lt;PartETag&gt; partETags = new ArrayList&lt;PartETag&gt;();\n\n\n            InitiateMultipartUploadRequest initRequest = new InitiateMultipartUploadRequest(bucketName, keyName);\n            InitiateMultipartUploadResult initResponse = s3Client.initiateMultipartUpload(initRequest);\n\n            long filePosition = 0;\n            for (int i = 1; filePosition &lt; contentLength; i++) {\n                partSize = Math.min(partSize, (contentLength - filePosition));\n\n\n                UploadPartRequest uploadRequest = new UploadPartRequest()\n                        .withBucketName(bucketName)\n                        .withKey(keyName)\n                        .withUploadId(initResponse.getUploadId())\n                        .withPartNumber(i)\n                        .withFileOffset(filePosition)\n                        .withFile(file)\n                        .withPartSize(partSize);\n\n                UploadPartResult uploadResult = s3Client.uploadPart(uploadRequest);\n                partETags.add(uploadResult.getPartETag());\n\n                filePosition += partSize;\n            }\n\n\n            CompleteMultipartUploadRequest compRequest = new CompleteMultipartUploadRequest(bucketName, keyName,\n                    initResponse.getUploadId(), partETags);\n            s3Client.completeMultipartUpload(compRequest);\n        }\n</code></pre>\n"},{"tags":["java","compression","byte","huffman-code","extended-ascii"],"comments":[{"owner":{"account_id":535619,"reputation":3374,"user_id":905033,"display_name":"Lew Bloch"},"score":0,"creation_date":1488224132,"post_id":42493948,"comment_id":72127716,"body_markdown":"There&#39;s nothing &quot;special&quot; about characters that are encoded into more than one byte. In fact, there are far more characters that occupy two or more bytes in UTF-8 than occupy one byte. Regardless, if the compression decompresses back to the same byte sequence as it started, it won&#39;t matter how &quot;special&quot; your characters are. Your masking should have worked.","body":"There&#39;s nothing &quot;special&quot; about characters that are encoded into more than one byte. In fact, there are far more characters that occupy two or more bytes in UTF-8 than occupy one byte. Regardless, if the compression decompresses back to the same byte sequence as it started, it won&#39;t matter how &quot;special&quot; your characters are. Your masking should have worked."},{"owner":{"account_id":5677414,"reputation":725,"user_id":4490045,"accept_rate":86,"display_name":"Schytheron"},"score":0,"creation_date":1488225627,"post_id":42493948,"comment_id":72128576,"body_markdown":"But if a character is split into 2 or more bytes when reading it into the byte array, how will I then be able to decompress it correctly since I can&#39;t possibly know that these 2 random bytes in my array actually represent a specific character. The way I see it is that these two bytes now represent 2 completely different characters. For example: If I take the character &quot;&#246;&quot; and read it in my file it will now be represented by 2 different values (191 and 182 or something like that) when its actual ASCII table value is 148. 191 and 182 represent some other completely different characters in ASCII.","body":"But if a character is split into 2 or more bytes when reading it into the byte array, how will I then be able to decompress it correctly since I can&#39;t possibly know that these 2 random bytes in my array actually represent a specific character. The way I see it is that these two bytes now represent 2 completely different characters. For example: If I take the character &quot;&#246;&quot; and read it in my file it will now be represented by 2 different values (191 and 182 or something like that) when its actual ASCII table value is 148. 191 and 182 represent some other completely different characters in ASCII."},{"owner":{"account_id":535619,"reputation":3374,"user_id":905033,"display_name":"Lew Bloch"},"score":1,"creation_date":1488226005,"post_id":42493948,"comment_id":72128773,"body_markdown":"Decompression of a byte stream should create the original byte stream regardless of semantics. Otherwise it wouldn&#39;t work on images or binary files. Forget about characters. Focus on compressing the byte stream. Leave interpretation of contents to processes over the uncompressed stream.","body":"Decompression of a byte stream should create the original byte stream regardless of semantics. Otherwise it wouldn&#39;t work on images or binary files. Forget about characters. Focus on compressing the byte stream. Leave interpretation of contents to processes over the uncompressed stream."},{"owner":{"account_id":5677414,"reputation":725,"user_id":4490045,"accept_rate":86,"display_name":"Schytheron"},"score":1,"creation_date":1488229408,"post_id":42493948,"comment_id":72130636,"body_markdown":"@LewBloch Would you recommend to keep using the int array and using  an &quot;unsigned&quot; byte as index as I currently do or to make a HashMap that uses the bytes as a key. Would I run into any issues by using a HashMap?","body":"@LewBloch Would you recommend to keep using the int array and using  an &quot;unsigned&quot; byte as index as I currently do or to make a HashMap that uses the bytes as a key. Would I run into any issues by using a HashMap?"},{"owner":{"account_id":2567288,"reputation":20405,"user_id":2226988,"display_name":"Tom Blodget"},"score":0,"creation_date":1488233861,"post_id":42493948,"comment_id":72132848,"body_markdown":"If you are reading bytes, you aren&#39;t dealing with the data as textwhich is good because it very well might not be text. Stick with the byte values.","body":"If you are reading bytes, you aren&#39;t dealing with the data as textwhich is good because it very well might not be text. Stick with the byte values."}],"answers":[{"tags":[],"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673047381,"creation_date":1673046938,"answer_id":75036959,"question_id":42493948,"body_markdown":"#### Encodings matter\r\n\r\n&gt; If I take the character &quot;&#246;&quot; and read it in my file it will now be\r\n&gt; represented by 2 different values (191 and 182 or something like that)\r\n&gt; when its actual ASCII table value is 148.\r\n\r\nThat really depends, which kind of encoding was used to create your text file. Encodings determine how text messages are stored.\r\n\r\n - In UTF-8 the &#246; is stored as hex `[0xc3, 0xb6]` or `[195, 182]`\r\n - In ISO/IEC 8859-1 (= &quot;Latin-1&quot;) it would be stored as hex `[0xf6]`, or `[246]`\r\n - In Mac OS Central European, it would be hex `[0x9a]` or `[154]`\r\n\r\nPlease note, that the basic ASCII table itself doesn&#39;t really describe anything for that kind of character. ASCII only uses 7 bits, and by doing so only maps 128 codes.\r\n\r\n[![ASCII table][1]][1]\r\n\r\nPart of the problem is that in layman&#39;s terms, &quot;ASCII&quot; is sometimes used to describe extensions of ASCII as well, (e.g. like Latin-1)\r\n\r\n---\r\n\r\n#### History\r\n\r\nThere&#39;s actually a bit of history behind that. Originally ASCII was a very limited set of characters. When those weren&#39;t enough, each region started using the 8th bit to add their language-specific characters. Leading to all kind of compatibility issues.\r\n\r\nThen there was some kind of consortium that made an inventory of all characters in all possible languages (and beyond). That set is called &quot;unicode&quot;. It contains not just 128 or 256 characters, but thousands of them. \r\n\r\nFrom that point on you would need more advanced encodings to cover them. UTF-8 is one of those encodings that covers that entire unicode set, and it does so while being kind-of backwards compatible with ASCII.\r\n\r\nEach ASCII character is still mapped in the same way, but when 1-byte isn&#39;t enough, it will use the 8th bit to indicate that a 2nd byte will follow, which is the case for the `&#246;` character.\r\n\r\n---\r\n\r\n#### Tools\r\n\r\nIf you&#39;re using a more advanced text editor like Notepad++, then you can select your encoding from the drop-down menu.\r\n\r\n[![Notepad++][2]][2]\r\n\r\n---\r\n\r\n#### In programming\r\n\r\nHaving said that, your current java source reads bytes, it&#39;s not reading characters. And I would think that it&#39;s a plus when it works on byte-level, because then it can support all encodings. Maybe you don&#39;t need to work on character level at all.\r\n\r\nHowever, if it does matter for your specific algorithm. Let&#39;s say you&#39;ve written an algorithm that is only supposed to handle Latin-1 encoding. So, then it&#39;s really going to work on &quot;character-level&quot; and not on &quot;byte-level&quot;. In that case, consider reading directly to `String` or `char[]`. \r\n\r\nJava can do the heavy-lifting for you in that case. There are readers in java that will let you read a text-file directly to Strings/char[]. However, in those cases you should of course specify an encoding when you use them. Internally a single java character can contain up to 2 bytes of data.\r\n\r\nTrying to convert bytes to characters manually is a tricky business. Unless you&#39;re working with plain old ASCII of course. The moment you see a value above 0x7F (127), (which are presented by negative values in `byte`) you&#39;re no longer working with simple ASCII. Then consider using something like: `new String(bytes, StandardCharsets.UTF_8)`. There&#39;s no need to write a decoding algorithm from scratch.\r\n\r\n  [1]: https://i.stack.imgur.com/hjiO2.png\r\n  [2]: https://i.stack.imgur.com/D6NIE.png","title":"Java - How to handle special characters when compressing bytes (Huffman encoding)?","body":"<h4>Encodings matter</h4>\n<blockquote>\n<p>If I take the character &quot;&quot; and read it in my file it will now be\nrepresented by 2 different values (191 and 182 or something like that)\nwhen its actual ASCII table value is 148.</p>\n</blockquote>\n<p>That really depends, which kind of encoding was used to create your text file. Encodings determine how text messages are stored.</p>\n<ul>\n<li>In UTF-8 the  is stored as hex <code>[0xc3, 0xb6]</code> or <code>[195, 182]</code></li>\n<li>In ISO/IEC 8859-1 (= &quot;Latin-1&quot;) it would be stored as hex <code>[0xf6]</code>, or <code>[246]</code></li>\n<li>In Mac OS Central European, it would be hex <code>[0x9a]</code> or <code>[154]</code></li>\n</ul>\n<p>Please note, that the basic ASCII table itself doesn't really describe anything for that kind of character. ASCII only uses 7 bits, and by doing so only maps 128 codes.</p>\n<p><a href=\"https://i.stack.imgur.com/hjiO2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hjiO2.png\" alt=\"ASCII table\" /></a></p>\n<p>Part of the problem is that in layman's terms, &quot;ASCII&quot; is sometimes used to describe extensions of ASCII as well, (e.g. like Latin-1)</p>\n<hr />\n<h4>History</h4>\n<p>There's actually a bit of history behind that. Originally ASCII was a very limited set of characters. When those weren't enough, each region started using the 8th bit to add their language-specific characters. Leading to all kind of compatibility issues.</p>\n<p>Then there was some kind of consortium that made an inventory of all characters in all possible languages (and beyond). That set is called &quot;unicode&quot;. It contains not just 128 or 256 characters, but thousands of them.</p>\n<p>From that point on you would need more advanced encodings to cover them. UTF-8 is one of those encodings that covers that entire unicode set, and it does so while being kind-of backwards compatible with ASCII.</p>\n<p>Each ASCII character is still mapped in the same way, but when 1-byte isn't enough, it will use the 8th bit to indicate that a 2nd byte will follow, which is the case for the <code></code> character.</p>\n<hr />\n<h4>Tools</h4>\n<p>If you're using a more advanced text editor like Notepad++, then you can select your encoding from the drop-down menu.</p>\n<p><a href=\"https://i.stack.imgur.com/D6NIE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D6NIE.png\" alt=\"Notepad++\" /></a></p>\n<hr />\n<h4>In programming</h4>\n<p>Having said that, your current java source reads bytes, it's not reading characters. And I would think that it's a plus when it works on byte-level, because then it can support all encodings. Maybe you don't need to work on character level at all.</p>\n<p>However, if it does matter for your specific algorithm. Let's say you've written an algorithm that is only supposed to handle Latin-1 encoding. So, then it's really going to work on &quot;character-level&quot; and not on &quot;byte-level&quot;. In that case, consider reading directly to <code>String</code> or <code>char[]</code>.</p>\n<p>Java can do the heavy-lifting for you in that case. There are readers in java that will let you read a text-file directly to Strings/char[]. However, in those cases you should of course specify an encoding when you use them. Internally a single java character can contain up to 2 bytes of data.</p>\n<p>Trying to convert bytes to characters manually is a tricky business. Unless you're working with plain old ASCII of course. The moment you see a value above 0x7F (127), (which are presented by negative values in <code>byte</code>) you're no longer working with simple ASCII. Then consider using something like: <code>new String(bytes, StandardCharsets.UTF_8)</code>. There's no need to write a decoding algorithm from scratch.</p>\n"}],"owner":{"account_id":5677414,"reputation":725,"user_id":4490045,"accept_rate":86,"display_name":"Schytheron"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":993,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":75036959,"answer_count":1,"score":5,"last_activity_date":1673047381,"creation_date":1488222887,"question_id":42493948,"body_markdown":"I am writing a Huffman Compression/Decompression program. I have started writing my compression method and I am stuck. I am trying to read all bytes in the file and then put all of the bytes into a byte array. After putting all bytes into the byte array I create an `int[]` array that will store all the frequencies of each byte (with the index being the ASCII code). \r\n\r\nIt does include the extended ASCII table since the size of the `int` array is 256. However I encounter issues as soon as I read a special character in my file (AKA characters with a higher ASCII value than 127). I understand that a byte is signed and will wrap around to a negative value as soon as it crosses the 127 number limit (and an array index obviously cant be negative) so I tried to counter this by turning it into a signed value when I specify my index for the array (`array[myByte&amp;0xFF]`). \r\n\r\nThis kind of worked but it gave me the wrong ASCII value (for example if the correct ASCII value for the character is 134 I instead got 191 or something). The even more annoying part is that I noticed that special characters are split into 2 separate bytes, which I feel will cause problems later (for example when I try to decompress). \r\n\r\nHow do I make my program compatible with every single type of character (this program is supposed to be able to compress/decompress pictures, mp3&#39;s etc).\r\n\r\nMaybe I am taking the wrong approach to this, but I don&#39;t know what the right approach is. Please give me some tips for structuring this.\r\n\r\nTree:\r\n\r\n    package CompPck;\r\n    \r\n    import java.util.TreeMap;\r\n    \r\n    abstract class Tree implements Comparable&lt;Tree&gt; {\r\n        public final int frequency; // the frequency of this tree\r\n        public Tree(int freq) { frequency = freq; }\r\n     \r\n        // compares on the frequency\r\n        public int compareTo(Tree tree) {\r\n            return frequency - tree.frequency;\r\n        }\r\n    }\r\n     \r\n    class Leaf extends Tree {\r\n        public final int value; // the character this leaf represents\r\n     \r\n        public Leaf(int freq, int val) {\r\n            super(freq);\r\n            value = val;\r\n        }\r\n    }\r\n     \r\n    class Node extends Tree {\r\n        public final Tree left, right; // subtrees\r\n     \r\n        public Node(Tree l, Tree r) {\r\n            super(l.frequency + r.frequency);\r\n            left = l;\r\n            right = r;\r\n        }\r\n    }\r\n     \r\nBuild tree method:\r\n\r\n    public static Tree buildTree(int[] charFreqs) {\r\n            PriorityQueue&lt;Tree&gt; trees = new PriorityQueue&lt;Tree&gt;();\r\n            \r\n            for (int i = 0; i &lt; charFreqs.length; i++){\r\n                if (charFreqs[i] &gt; 0){\r\n                \ttrees.offer(new Leaf(charFreqs[i], i));\r\n                }\r\n            }\r\n     \r\n            //assert trees.size() &gt; 0;\r\n            \r\n            while (trees.size() &gt; 1) {\r\n                Tree a = trees.poll();\r\n                Tree b = trees.poll();\r\n     \r\n                trees.offer(new Node(a, b));\r\n            }\r\n            return trees.poll();\r\n        }\r\n\r\nCompression method:\r\n\r\n    public static void compress(File file){\r\n        \ttry {\r\n        \t\tPath path = Paths.get(file.getAbsolutePath());\r\n        \t    byte[] content = Files.readAllBytes(path);\r\n            \tTreeMap&lt;Integer, String&gt; treeMap = new TreeMap&lt;Integer, String&gt;();\r\n            \tFile nF = new File(file.getName() + &quot;_comp&quot;);\r\n            \tnF.createNewFile();\r\n            \tBitFileWriter bfw = new BitFileWriter(nF);\r\n            \t\r\n                int[] charFreqs = new int[256];\r\n                \r\n                // read each byte and record the frequencies\r\n                for (byte b : content){\r\n                \tcharFreqs[b&amp;0xFF]++;\r\n                \tSystem.out.println(b&amp;0xFF);\r\n                }\r\n                \r\n                // build tree\r\n                Tree tree = buildTree(charFreqs);\r\n                \r\n                // build TreeMap\r\n                fillEncodeMap(tree, new StringBuffer(), treeMap);\r\n                \r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n        }\r\n\r\n","title":"Java - How to handle special characters when compressing bytes (Huffman encoding)?","body":"<p>I am writing a Huffman Compression/Decompression program. I have started writing my compression method and I am stuck. I am trying to read all bytes in the file and then put all of the bytes into a byte array. After putting all bytes into the byte array I create an <code>int[]</code> array that will store all the frequencies of each byte (with the index being the ASCII code). </p>\n\n<p>It does include the extended ASCII table since the size of the <code>int</code> array is 256. However I encounter issues as soon as I read a special character in my file (AKA characters with a higher ASCII value than 127). I understand that a byte is signed and will wrap around to a negative value as soon as it crosses the 127 number limit (and an array index obviously cant be negative) so I tried to counter this by turning it into a signed value when I specify my index for the array (<code>array[myByte&amp;0xFF]</code>). </p>\n\n<p>This kind of worked but it gave me the wrong ASCII value (for example if the correct ASCII value for the character is 134 I instead got 191 or something). The even more annoying part is that I noticed that special characters are split into 2 separate bytes, which I feel will cause problems later (for example when I try to decompress). </p>\n\n<p>How do I make my program compatible with every single type of character (this program is supposed to be able to compress/decompress pictures, mp3's etc).</p>\n\n<p>Maybe I am taking the wrong approach to this, but I don't know what the right approach is. Please give me some tips for structuring this.</p>\n\n<p>Tree:</p>\n\n<pre><code>package CompPck;\n\nimport java.util.TreeMap;\n\nabstract class Tree implements Comparable&lt;Tree&gt; {\n    public final int frequency; // the frequency of this tree\n    public Tree(int freq) { frequency = freq; }\n\n    // compares on the frequency\n    public int compareTo(Tree tree) {\n        return frequency - tree.frequency;\n    }\n}\n\nclass Leaf extends Tree {\n    public final int value; // the character this leaf represents\n\n    public Leaf(int freq, int val) {\n        super(freq);\n        value = val;\n    }\n}\n\nclass Node extends Tree {\n    public final Tree left, right; // subtrees\n\n    public Node(Tree l, Tree r) {\n        super(l.frequency + r.frequency);\n        left = l;\n        right = r;\n    }\n}\n</code></pre>\n\n<p>Build tree method:</p>\n\n<pre><code>public static Tree buildTree(int[] charFreqs) {\n        PriorityQueue&lt;Tree&gt; trees = new PriorityQueue&lt;Tree&gt;();\n\n        for (int i = 0; i &lt; charFreqs.length; i++){\n            if (charFreqs[i] &gt; 0){\n                trees.offer(new Leaf(charFreqs[i], i));\n            }\n        }\n\n        //assert trees.size() &gt; 0;\n\n        while (trees.size() &gt; 1) {\n            Tree a = trees.poll();\n            Tree b = trees.poll();\n\n            trees.offer(new Node(a, b));\n        }\n        return trees.poll();\n    }\n</code></pre>\n\n<p>Compression method:</p>\n\n<pre><code>public static void compress(File file){\n        try {\n            Path path = Paths.get(file.getAbsolutePath());\n            byte[] content = Files.readAllBytes(path);\n            TreeMap&lt;Integer, String&gt; treeMap = new TreeMap&lt;Integer, String&gt;();\n            File nF = new File(file.getName() + \"_comp\");\n            nF.createNewFile();\n            BitFileWriter bfw = new BitFileWriter(nF);\n\n            int[] charFreqs = new int[256];\n\n            // read each byte and record the frequencies\n            for (byte b : content){\n                charFreqs[b&amp;0xFF]++;\n                System.out.println(b&amp;0xFF);\n            }\n\n            // build tree\n            Tree tree = buildTree(charFreqs);\n\n            // build TreeMap\n            fillEncodeMap(tree, new StringBuffer(), treeMap);\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","android-mapview"],"answers":[{"tags":[],"owner":{"account_id":5602739,"reputation":1545,"user_id":4438470,"display_name":"Vitor Hugo Schwaab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587399158,"creation_date":1587391660,"answer_id":61324479,"question_id":61322765,"body_markdown":"Welcome to StackOverflow!\r\n\r\nI think that the possible pitfall is that you need to call `mapView.onResume(bundle)`, `mapView.onPause()`, etc. in your Fragment/Activity:\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstance) {\r\n        super.onCreate(savedInstance)\r\n        mapView.onCreate(savedInstance)\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        mapView.onStart();\r\n    }\r\n\r\n    @Override\r\n    public void onResume() {\r\n        super.onResume();\r\n        mapView.onResume();\r\n    }\r\n\r\n    @Override\r\n    public void onPause() {\r\n        super.onPause();\r\n        mapView.onPause();\r\n    }\r\n\r\n    @Override\r\n    public void onStop() {\r\n        super.onStop();\r\n        mapView.onStop();\r\n    }\r\n\r\n    @Override\r\n    public void onLowMemory() {\r\n        super.onLowMemory();\r\n        mapView.onLowMemory();\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        mapView.onDestroy();\r\n    }\r\n\r\nYou can read about it in the [MapView&#39;s documentation][1].\r\n\r\nAlso, see the logs. You could see some warnings from Google Maps SDK regarding wrong API Key, or related.\r\n\r\n\r\n  [1]: https://developers.google.com/android/reference/com/google/android/gms/maps/MapView","title":"MapView black screen but no errors in Android","body":"<p>Welcome to StackOverflow!</p>\n\n<p>I think that the possible pitfall is that you need to call <code>mapView.onResume(bundle)</code>, <code>mapView.onPause()</code>, etc. in your Fragment/Activity:</p>\n\n<pre><code>@Override\npublic void onCreate(Bundle savedInstance) {\n    super.onCreate(savedInstance)\n    mapView.onCreate(savedInstance)\n}\n\n\n@Override\npublic void onStart() {\n    super.onStart();\n    mapView.onStart();\n}\n\n@Override\npublic void onResume() {\n    super.onResume();\n    mapView.onResume();\n}\n\n@Override\npublic void onPause() {\n    super.onPause();\n    mapView.onPause();\n}\n\n@Override\npublic void onStop() {\n    super.onStop();\n    mapView.onStop();\n}\n\n@Override\npublic void onLowMemory() {\n    super.onLowMemory();\n    mapView.onLowMemory();\n}\n\n@Override\npublic void onDestroy() {\n    super.onDestroy();\n    mapView.onDestroy();\n}\n</code></pre>\n\n<p>You can read about it in the <a href=\"https://developers.google.com/android/reference/com/google/android/gms/maps/MapView\" rel=\"nofollow noreferrer\">MapView's documentation</a>.</p>\n\n<p>Also, see the logs. You could see some warnings from Google Maps SDK regarding wrong API Key, or related.</p>\n"},{"tags":[],"owner":{"account_id":18031900,"reputation":31,"user_id":13106259,"display_name":"aya lihoum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587393010,"creation_date":1587393010,"answer_id":61324978,"question_id":61322765,"body_markdown":"your API key is not enabled , [visit this site][1] to know how to get a api key\r\n\r\n\r\n  [1]: https://developers.google.com/maps/documentation/javascript/get-api-key","title":"MapView black screen but no errors in Android","body":"<p>your API key is not enabled , <a href=\"https://developers.google.com/maps/documentation/javascript/get-api-key\" rel=\"nofollow noreferrer\">visit this site</a> to know how to get a api key</p>\n"},{"tags":[],"owner":{"account_id":17308794,"reputation":1,"user_id":12536928,"display_name":"unkn0wn.a"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1587467207,"creation_date":1587405885,"answer_id":61329086,"question_id":61322765,"body_markdown":"I stopped trying to implement this as a MapView and switched to a MapAcitvity.\r\nImplementing this is much easier it seems, just create &quot;new-&gt; Google-&gt; Map Activity&quot; in Android Studio\r\n\r\nI think the issue with my approach was that I didn&#39;t know where to put the api key. \r\nalthough it didnt thow an error concerning this... \r\n\r\n\r\nEDIT:\r\n\r\nHere is the solution / an example of how I got it to work:\r\n\r\n    public class MainActivity extends AppCompatActivity implements OnMapReadyCallback {\r\n\r\n    private GoogleMap mMap;\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        MapView mMap = findViewById(R.id.map);\r\n        mMap.onCreate(savedInstanceState);\r\n        mMap.getMapAsync(this);\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n        MapView mMap = findViewById(R.id.map);\r\n        super.onStart();\r\n        mMap.onStart();\r\n    }\r\n\r\n    @Override\r\n    public void onResume() {\r\n        MapView mMap = findViewById(R.id.map);\r\n        super.onResume();\r\n        mMap.onResume();\r\n    }\r\n\r\n    @Override\r\n    public void onPause() {\r\n        MapView mMap = findViewById(R.id.map);\r\n        super.onPause();\r\n        mMap.onPause();\r\n    }\r\n\r\n    @Override\r\n    public void onStop() {\r\n        MapView mMap = findViewById(R.id.map);\r\n        super.onStop();\r\n        mMap.onStop();\r\n    }\r\n\r\n    @Override\r\n    public void onLowMemory() {\r\n        MapView mMap = findViewById(R.id.map);\r\n        super.onLowMemory();\r\n        mMap.onLowMemory();\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        MapView mMap = findViewById(R.id.map);\r\n        super.onDestroy();\r\n        mMap.onDestroy();\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.M)\r\n    @Override\r\n    public void onMapReady(final GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n        LatLng Test = new LatLng(50, 9);\r\n        mMap.animateCamera(CameraUpdateFactory.newCameraPosition( new CameraPosition.Builder().target(Test).zoom(15.0f).build()),20000, null);\r\n\r\n    }\r\n\r\n\r\n\r\nI won&#39;t include the xml code, as it is just a fill_parent mapView called &quot;map&quot;.  \r\n\r\n\r\nI put the API Key in the AndroidManifest.xml like this:\r\n    \r\n\r\n    &lt;meta-data\r\n     android:name=&quot;com.google.android.geo.API_KEY&quot;\r\n     android:value=&quot;@string/google_maps_key&quot; /&gt;\r\n\r\nI think thats it.\r\nThanks for the help and tips!\r\n    \r\n\r\n\r\n\r\n\r\n\r\n","title":"MapView black screen but no errors in Android","body":"<p>I stopped trying to implement this as a MapView and switched to a MapAcitvity.\nImplementing this is much easier it seems, just create \"new-> Google-> Map Activity\" in Android Studio</p>\n\n<p>I think the issue with my approach was that I didn't know where to put the api key. \nalthough it didnt thow an error concerning this... </p>\n\n<p>EDIT:</p>\n\n<p>Here is the solution / an example of how I got it to work:</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity implements OnMapReadyCallback {\n\nprivate GoogleMap mMap;\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    MapView mMap = findViewById(R.id.map);\n    mMap.onCreate(savedInstanceState);\n    mMap.getMapAsync(this);\n}\n\n@Override\npublic void onStart() {\n    MapView mMap = findViewById(R.id.map);\n    super.onStart();\n    mMap.onStart();\n}\n\n@Override\npublic void onResume() {\n    MapView mMap = findViewById(R.id.map);\n    super.onResume();\n    mMap.onResume();\n}\n\n@Override\npublic void onPause() {\n    MapView mMap = findViewById(R.id.map);\n    super.onPause();\n    mMap.onPause();\n}\n\n@Override\npublic void onStop() {\n    MapView mMap = findViewById(R.id.map);\n    super.onStop();\n    mMap.onStop();\n}\n\n@Override\npublic void onLowMemory() {\n    MapView mMap = findViewById(R.id.map);\n    super.onLowMemory();\n    mMap.onLowMemory();\n}\n\n@Override\npublic void onDestroy() {\n    MapView mMap = findViewById(R.id.map);\n    super.onDestroy();\n    mMap.onDestroy();\n}\n\n@RequiresApi(api = Build.VERSION_CODES.M)\n@Override\npublic void onMapReady(final GoogleMap googleMap) {\n    mMap = googleMap;\n    LatLng Test = new LatLng(50, 9);\n    mMap.animateCamera(CameraUpdateFactory.newCameraPosition( new CameraPosition.Builder().target(Test).zoom(15.0f).build()),20000, null);\n\n}\n</code></pre>\n\n<p>I won't include the xml code, as it is just a fill_parent mapView called \"map\".  </p>\n\n<p>I put the API Key in the AndroidManifest.xml like this:</p>\n\n<pre><code>&lt;meta-data\n android:name=\"com.google.android.geo.API_KEY\"\n android:value=\"@string/google_maps_key\" /&gt;\n</code></pre>\n\n<p>I think thats it.\nThanks for the help and tips!</p>\n"},{"tags":[],"owner":{"account_id":6390815,"reputation":1094,"user_id":5963210,"display_name":"alexander ferreras"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673045567,"creation_date":1673045567,"answer_id":75036820,"question_id":61322765,"body_markdown":"You need to to have available Google maps sdk android.\r\nGo to the link and active it .\r\nhttps://console.developers.google.com/apis/library/maps-android-backend.googleapis.com/","title":"MapView black screen but no errors in Android","body":"<p>You need to to have available Google maps sdk android.\nGo to the link and active it .\n<a href=\"https://console.developers.google.com/apis/library/maps-android-backend.googleapis.com/\" rel=\"nofollow noreferrer\">https://console.developers.google.com/apis/library/maps-android-backend.googleapis.com/</a></p>\n"}],"owner":{"account_id":17308794,"reputation":1,"user_id":12536928,"display_name":"unkn0wn.a"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":698,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61329086,"answer_count":4,"score":0,"last_activity_date":1673045567,"creation_date":1587386483,"question_id":61322765,"body_markdown":"I am trying to display a location with a MapView but I can&#39;t get it to work.\r\nI have already look into all the other threads with the same questions but the solutions don&#39;t work for me.\r\n\r\nHere is what is supposed to work but doesn&#39;t:\r\n\r\n        public void displayMap(){\r\n        final MapView mapView = findViewById(R.id.locationMapView);\r\n        mapView.getMapAsync(new OnMapReadyCallback() {\r\n\r\n            @Override\r\n            public void onMapReady(GoogleMap googleMap) {\r\n                LatLng coordinates = new LatLng(14.0583, 108.2772); //for testing\r\n                googleMap.addMarker(new MarkerOptions().position(coordinates).title(&quot;Test&quot;));\r\n                googleMap.moveCamera(CameraUpdateFactory.newLatLngZoom(coordinates, 15));\r\n            }\r\n        });\r\n    }\r\n\r\n\r\nI am new to Android Studio and just trying things out. \r\nI also already tried to comprehend the reference/documentation but it was not that helpful because I don&#39;t really get where to start. \r\n\r\nI&#39;d be very thankful if someone explained the mistake to me.\r\nOf course, if I missed important information you need I&#39;ll get it for you.\r\n\r\nedit1:\r\n\r\nthis is the logcat\r\n\r\nhttps://pastebin.com/qMKzsQQS\r\n    ","title":"MapView black screen but no errors in Android","body":"<p>I am trying to display a location with a MapView but I can't get it to work.\nI have already look into all the other threads with the same questions but the solutions don't work for me.</p>\n\n<p>Here is what is supposed to work but doesn't:</p>\n\n<pre><code>    public void displayMap(){\n    final MapView mapView = findViewById(R.id.locationMapView);\n    mapView.getMapAsync(new OnMapReadyCallback() {\n\n        @Override\n        public void onMapReady(GoogleMap googleMap) {\n            LatLng coordinates = new LatLng(14.0583, 108.2772); //for testing\n            googleMap.addMarker(new MarkerOptions().position(coordinates).title(\"Test\"));\n            googleMap.moveCamera(CameraUpdateFactory.newLatLngZoom(coordinates, 15));\n        }\n    });\n}\n</code></pre>\n\n<p>I am new to Android Studio and just trying things out. \nI also already tried to comprehend the reference/documentation but it was not that helpful because I don't really get where to start. </p>\n\n<p>I'd be very thankful if someone explained the mistake to me.\nOf course, if I missed important information you need I'll get it for you.</p>\n\n<p>edit1:</p>\n\n<p>this is the logcat</p>\n\n<p><a href=\"https://pastebin.com/qMKzsQQS\" rel=\"nofollow noreferrer\">https://pastebin.com/qMKzsQQS</a></p>\n"},{"tags":["java","android","xml","bundle","android-vectordrawable"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1673021692,"post_id":75033329,"comment_id":132410799,"body_markdown":"If possible, I recommend passing as a URL or file location. Modern OSes are very good at caching file data","body":"If possible, I recommend passing as a URL or file location. Modern OSes are very good at caching file data"}],"answers":[{"tags":[],"owner":{"account_id":4473562,"reputation":1,"user_id":20922855,"display_name":"Luke Mills"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673045027,"creation_date":1673045027,"answer_id":75036772,"question_id":75033329,"body_markdown":"I discovered that you cannot send things back with the putExtra when resuming an activity... I dont know why this is, I thought the onResume() would fix this but apparently not. There is also an onNewIntent() that supposedly also corrects this but I couldn&#39;t get that working either. Same again for startActivityForResult() which has been deprecated...\r\n\r\nAnyways, if you.. future human.. also have this problem I have solved it by saving the data i want as a part of a class in an arraylist of size 1. This is the tutorial I followed, I am using this code elsewhere already so I didnt have to change much, but it might be over the top if you&#39;re looking for a simple solution.\r\n\r\nhttps://www.youtube.com/watch?v=jcliHGR3CHo ","title":"Passing an XML vector image between activities","body":"<p>I discovered that you cannot send things back with the putExtra when resuming an activity... I dont know why this is, I thought the onResume() would fix this but apparently not. There is also an onNewIntent() that supposedly also corrects this but I couldn't get that working either. Same again for startActivityForResult() which has been deprecated...</p>\n<p>Anyways, if you.. future human.. also have this problem I have solved it by saving the data i want as a part of a class in an arraylist of size 1. This is the tutorial I followed, I am using this code elsewhere already so I didnt have to change much, but it might be over the top if you're looking for a simple solution.</p>\n<p><a href=\"https://www.youtube.com/watch?v=jcliHGR3CHo\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=jcliHGR3CHo</a></p>\n"}],"owner":{"account_id":4473562,"reputation":1,"user_id":20922855,"display_name":"Luke Mills"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673045027,"creation_date":1673021269,"question_id":75033329,"body_markdown":"I am trying to pass an icon from an icon selection page, back to my creation activity where I then update the image and object to be created.\r\n\r\nI have tried a few different methods on a half dozen posts and none of them want to work. They are mostly using bitmaps and .pngs so i&#39;m wondering if I have to do anything inherently different for a vector image .xml thats just sitting in my drawable folder. Or if this method just wont work for this file type.\r\n\r\nEach method I have used with putExtra and every kind of getExtra(s) has told me that there is nothing there (bundle = null).\r\n\r\nIcon Page code to return to the main activity with the vector image\r\n```\r\n    public void returnToMainActivity(){\r\n        Intent intent = new Intent(IconPage.this, MainActivity.class);\r\n        intent.putExtra(&quot;image&quot;, R.drawable.icon_trash1_24);\r\n        intent.setFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);\r\n        startActivity(intent);\r\n    }\r\n```\r\n\r\nMain activity code to resume activity and get the vector image\r\nwhere tempTask is the object and iconButton is the image button\r\n\r\n```\r\n    @Override\r\n    protected void onResume(){\r\n        super.onResume();\r\n        //get icon from icon page upon resume\r\n        Bundle bundle = getIntent().getExtras();\r\n        if (bundle != null) {\r\n            int picture = bundle.getInt(&quot;image&quot;);\r\n            iconButton.setImageResource(picture);\r\n            tempTask.setIconId(picture);\r\n        }\r\n    }\r\n```\r\n\r\n[Result](https://i.stack.imgur.com/Nz1CH.png)\r\n\r\n\r\nI would prefer not to have to convert it to a bitmap to pass it, because i am using it as an int in my object and everywhere else in my app that works great. Is there a better way to pass a reference to an existing file between activities?\r\n\r\nthanks!","title":"Passing an XML vector image between activities","body":"<p>I am trying to pass an icon from an icon selection page, back to my creation activity where I then update the image and object to be created.</p>\n<p>I have tried a few different methods on a half dozen posts and none of them want to work. They are mostly using bitmaps and .pngs so i'm wondering if I have to do anything inherently different for a vector image .xml thats just sitting in my drawable folder. Or if this method just wont work for this file type.</p>\n<p>Each method I have used with putExtra and every kind of getExtra(s) has told me that there is nothing there (bundle = null).</p>\n<p>Icon Page code to return to the main activity with the vector image</p>\n<pre><code>    public void returnToMainActivity(){\n        Intent intent = new Intent(IconPage.this, MainActivity.class);\n        intent.putExtra(&quot;image&quot;, R.drawable.icon_trash1_24);\n        intent.setFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);\n        startActivity(intent);\n    }\n</code></pre>\n<p>Main activity code to resume activity and get the vector image\nwhere tempTask is the object and iconButton is the image button</p>\n<pre><code>    @Override\n    protected void onResume(){\n        super.onResume();\n        //get icon from icon page upon resume\n        Bundle bundle = getIntent().getExtras();\n        if (bundle != null) {\n            int picture = bundle.getInt(&quot;image&quot;);\n            iconButton.setImageResource(picture);\n            tempTask.setIconId(picture);\n        }\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Nz1CH.png\" rel=\"nofollow noreferrer\">Result</a></p>\n<p>I would prefer not to have to convert it to a bitmap to pass it, because i am using it as an int in my object and everywhere else in my app that works great. Is there a better way to pass a reference to an existing file between activities?</p>\n<p>thanks!</p>\n"},{"tags":["java","spring-boot","visual-studio-code","google-cloud-platform","dialogflow-es"],"answers":[{"tags":[],"owner":{"account_id":10877970,"reputation":105,"user_id":7997851,"accept_rate":83,"display_name":"Ninja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1592339284,"creation_date":1592339284,"answer_id":62417046,"question_id":62415863,"body_markdown":"Solved by running in the terminal:\r\n\r\n    $env:GOOGLE_APPLICATION_CREDENTIALS=&quot;C:\\Users\\user\\Desktop\\*****\\****\\src\\main\\resources\\*****.json&quot;\r\n\r\nIn addition to setting the relevant role in IAM section of GCP since I&#39;ve encountered a  PERMISSION_DENIED Error after","title":"Setting GCP environment variable in Spring boot with vs code","body":"<p>Solved by running in the terminal:</p>\n\n<pre><code>$env:GOOGLE_APPLICATION_CREDENTIALS=\"C:\\Users\\user\\Desktop\\*****\\****\\src\\main\\resources\\*****.json\"\n</code></pre>\n\n<p>In addition to setting the relevant role in IAM section of GCP since I've encountered a  PERMISSION_DENIED Error after</p>\n"},{"tags":[],"owner":{"account_id":5621248,"reputation":996,"user_id":4451010,"display_name":"Ilya Lapitan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592882777,"creation_date":1592882777,"answer_id":62526818,"question_id":62415863,"body_markdown":"If you have Google Cloud SDK installed you can run this command in the console to set up application default credentials:\r\n\r\n&gt; gcloud auth application-default login\r\n\r\nPlease, see more details in the documentation:\r\nhttps://cloud.google.com/sdk/gcloud/reference/auth/application-default","title":"Setting GCP environment variable in Spring boot with vs code","body":"<p>If you have Google Cloud SDK installed you can run this command in the console to set up application default credentials:</p>\n<blockquote>\n<p>gcloud auth application-default login</p>\n</blockquote>\n<p>Please, see more details in the documentation:\n<a href=\"https://cloud.google.com/sdk/gcloud/reference/auth/application-default\" rel=\"nofollow noreferrer\">https://cloud.google.com/sdk/gcloud/reference/auth/application-default</a></p>\n"}],"owner":{"account_id":10877970,"reputation":105,"user_id":7997851,"accept_rate":83,"display_name":"Ninja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2558,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62417046,"answer_count":2,"score":0,"last_activity_date":1673044694,"creation_date":1592334445,"question_id":62415863,"body_markdown":"I&#39;m trying to set up GOOGLE_APPLICATION_CREDENTIALS but keep getting this error \r\n\r\n&gt; java.io.IOException: The Application Default Credentials are not available. They are available if running in Google Compute Engine. Otherwise, the environment variable GOOGLE_APPLICATION_CREDENTIALS must be defined pointing to a file defining the credential\r\n\r\nI have defined in my application properties:\r\n\r\n    spring.cloud.gcp.project-id=PROJECT_ID\r\n    spring.cloud.gcp.credentials.location=lasspath:/src/main/resources/key.json\r\n\r\nAdded the dependency in the pom file:\r\n\r\n     &lt;dependency&gt;\r\n         &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n         &lt;artifactId&gt;google-cloud-dialogflow&lt;/artifactId&gt;\r\n         &lt;version&gt;1.0.0&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\nTried to do it from the terminal(windows) as well no luck:\r\n\r\n    &gt; set GOOGLE_APPLICATION_CREDENTIALS=&quot;C:\\Users\\user\\Desktop\\****\\******\\src\\main\\resources\\key.json&quot;","title":"Setting GCP environment variable in Spring boot with vs code","body":"<p>I'm trying to set up GOOGLE_APPLICATION_CREDENTIALS but keep getting this error </p>\n\n<blockquote>\n  <p>java.io.IOException: The Application Default Credentials are not available. They are available if running in Google Compute Engine. Otherwise, the environment variable GOOGLE_APPLICATION_CREDENTIALS must be defined pointing to a file defining the credential</p>\n</blockquote>\n\n<p>I have defined in my application properties:</p>\n\n<pre><code>spring.cloud.gcp.project-id=PROJECT_ID\nspring.cloud.gcp.credentials.location=lasspath:/src/main/resources/key.json\n</code></pre>\n\n<p>Added the dependency in the pom file:</p>\n\n<pre><code> &lt;dependency&gt;\n     &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n     &lt;artifactId&gt;google-cloud-dialogflow&lt;/artifactId&gt;\n     &lt;version&gt;1.0.0&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n\n<p>Tried to do it from the terminal(windows) as well no luck:</p>\n\n<pre><code>&gt; set GOOGLE_APPLICATION_CREDENTIALS=\"C:\\Users\\user\\Desktop\\****\\******\\src\\main\\resources\\key.json\"\n</code></pre>\n"},{"tags":["java","sharedpreferences","preferencescreen","android-jetpack-security"],"answers":[{"tags":[],"owner":{"account_id":7422728,"reputation":471,"user_id":5646408,"display_name":"Rikka"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1578650591,"creation_date":1578650591,"answer_id":59679457,"question_id":58515475,"body_markdown":"Use `getPreferenceManager().setPreferenceDataStore(PreferenceDataStore)`. `PreferenceDataStore` provides the ability to change how preference is loaded/saved.\r\n\r\nA simple implementation of `PreferenceDataStore`:\r\n\r\n```\r\npublic class SharedPreferenceDataStore extends PreferenceDataStore {\r\n\r\n    private final SharedPreferences mSharedPreferences;\r\n\r\n    public SharedPreferenceDataStore(@NonNull SharedPreferences sharedPreferences) {\r\n        mSharedPreferences = sharedPreferences;\r\n    }\r\n\r\n    @NonNull\r\n    public SharedPreferences getSharedPreferences() {\r\n        return mSharedPreferences;\r\n    }\r\n\r\n    @Override\r\n    public void putString(String key, @Nullable String value) {\r\n        mSharedPreferences.edit().putString(key, value).apply();\r\n    }\r\n\r\n    @Override\r\n    public void putStringSet(String key, @Nullable Set&lt;String&gt; values) {\r\n        mSharedPreferences.edit().putStringSet(key, values).apply();\r\n    }\r\n\r\n    @Override\r\n    public void putInt(String key, int value) {\r\n        mSharedPreferences.edit().putInt(key, value).apply();\r\n    }\r\n\r\n    @Override\r\n    public void putLong(String key, long value) {\r\n        mSharedPreferences.edit().putLong(key, value).apply();\r\n    }\r\n\r\n    @Override\r\n    public void putFloat(String key, float value) {\r\n        mSharedPreferences.edit().putFloat(key, value).apply();\r\n    }\r\n\r\n    @Override\r\n    public void putBoolean(String key, boolean value) {\r\n        mSharedPreferences.edit().putBoolean(key, value).apply();\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public String getString(String key, @Nullable String defValue) {\r\n        return mSharedPreferences.getString(key, defValue);\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public Set&lt;String&gt; getStringSet(String key, @Nullable Set&lt;String&gt; defValues) {\r\n        return mSharedPreferences.getStringSet(key, defValues);\r\n    }\r\n\r\n    @Override\r\n    public int getInt(String key, int defValue) {\r\n        return mSharedPreferences.getInt(key, defValue);\r\n    }\r\n\r\n    @Override\r\n    public long getLong(String key, long defValue) {\r\n        return mSharedPreferences.getLong(key, defValue);\r\n    }\r\n\r\n    @Override\r\n    public float getFloat(String key, float defValue) {\r\n        return mSharedPreferences.getFloat(key, defValue);\r\n    }\r\n\r\n    @Override\r\n    public boolean getBoolean(String key, boolean defValue) {\r\n        return mSharedPreferences.getBoolean(key, defValue);\r\n    }\r\n}\r\n```\r\n\r\n```\r\ngetPreferenceManager().setPreferenceDataStore(new SharedPreferenceDataStore(EncryptedSharedPreferences.create()));\r\n```","title":"Is there a way to integrate EncryptedSharedPreference with PreferenceScreen?","body":"<p>Use <code>getPreferenceManager().setPreferenceDataStore(PreferenceDataStore)</code>. <code>PreferenceDataStore</code> provides the ability to change how preference is loaded/saved.</p>\n\n<p>A simple implementation of <code>PreferenceDataStore</code>:</p>\n\n<pre><code>public class SharedPreferenceDataStore extends PreferenceDataStore {\n\n    private final SharedPreferences mSharedPreferences;\n\n    public SharedPreferenceDataStore(@NonNull SharedPreferences sharedPreferences) {\n        mSharedPreferences = sharedPreferences;\n    }\n\n    @NonNull\n    public SharedPreferences getSharedPreferences() {\n        return mSharedPreferences;\n    }\n\n    @Override\n    public void putString(String key, @Nullable String value) {\n        mSharedPreferences.edit().putString(key, value).apply();\n    }\n\n    @Override\n    public void putStringSet(String key, @Nullable Set&lt;String&gt; values) {\n        mSharedPreferences.edit().putStringSet(key, values).apply();\n    }\n\n    @Override\n    public void putInt(String key, int value) {\n        mSharedPreferences.edit().putInt(key, value).apply();\n    }\n\n    @Override\n    public void putLong(String key, long value) {\n        mSharedPreferences.edit().putLong(key, value).apply();\n    }\n\n    @Override\n    public void putFloat(String key, float value) {\n        mSharedPreferences.edit().putFloat(key, value).apply();\n    }\n\n    @Override\n    public void putBoolean(String key, boolean value) {\n        mSharedPreferences.edit().putBoolean(key, value).apply();\n    }\n\n    @Nullable\n    @Override\n    public String getString(String key, @Nullable String defValue) {\n        return mSharedPreferences.getString(key, defValue);\n    }\n\n    @Nullable\n    @Override\n    public Set&lt;String&gt; getStringSet(String key, @Nullable Set&lt;String&gt; defValues) {\n        return mSharedPreferences.getStringSet(key, defValues);\n    }\n\n    @Override\n    public int getInt(String key, int defValue) {\n        return mSharedPreferences.getInt(key, defValue);\n    }\n\n    @Override\n    public long getLong(String key, long defValue) {\n        return mSharedPreferences.getLong(key, defValue);\n    }\n\n    @Override\n    public float getFloat(String key, float defValue) {\n        return mSharedPreferences.getFloat(key, defValue);\n    }\n\n    @Override\n    public boolean getBoolean(String key, boolean defValue) {\n        return mSharedPreferences.getBoolean(key, defValue);\n    }\n}\n</code></pre>\n\n<pre><code>getPreferenceManager().setPreferenceDataStore(new SharedPreferenceDataStore(EncryptedSharedPreferences.create()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":242769,"reputation":45,"user_id":514527,"display_name":"JaLooNz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1589681823,"creation_date":1589681377,"answer_id":61846108,"question_id":58515475,"body_markdown":"There are a few issues that I encounter with integrating EncryptedSharePreferences with AndroidX Preferences GUI.\r\n\r\n - PreferenceManager is not able to set the default preference data store globally, because it is only possible to retrieve the default shared preferences (un-encrypted variant and tied to application package name) and not set the default shared preferences to the encrypted variant. `PreferenceManager.getDefaultSharedPreferences(context);` does not have a corresponding set method.\r\n - PreferenceManager can only be created by packages with the same library group.\r\n\r\nThe solution I have created is to not depend on SharedPreferences, but to utilise the PreferenceFragmentCompat to write to EncryptedPreferenceDataStore. However, this still comes with the issue that the default values are not initialised until the user enters the Preference screen.\r\n\r\n**Dependencies**\r\n\r\n    dependencies {\r\n        implementation &#39;androidx.preference:preference:1.1.1&#39;\r\n        implementation &#39;androidx.security:security-crypto:1.0.0-rc01&#39;\r\n    }\r\n\r\n**PreferencesFragment**\r\n\r\n    import android.app.Activity;\r\n    import android.app.ActivityManager;\r\n    import android.os.Bundle;\r\n    \r\n    import androidx.preference.Preference;\r\n    import androidx.preference.PreferenceFragmentCompat;\r\n    import androidx.preference.PreferenceManager;\r\n    \r\n    public class PreferencesFragment extends PreferenceFragmentCompat {\r\n    \r\n        @Override\r\n        public void onCreatePreferences(Bundle savedInstanceState, String rootKey) {\r\n            PreferenceManager preferenceManager = getPreferenceManager();\r\n            preferenceManager.setPreferenceDataStore(EncryptedPreferenceDataStore.getInstance(getContext()));\r\n    \r\n            // Load the preferences from an XML resource\r\n            setPreferencesFromResource(R.xml.preferences, rootKey);\r\n        }\r\n\r\n**EncryptedPreferenceDataStore**\r\n\r\n    import android.content.Context;\r\n    import android.content.SharedPreferences;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.annotation.Nullable;\r\n    import androidx.preference.PreferenceDataStore;\r\n    import androidx.security.crypto.EncryptedSharedPreferences;\r\n    \r\n    import java.util.Set;\r\n    \r\n    public class EncryptedPreferenceDataStore extends PreferenceDataStore {\r\n    \r\n        private static final String CONFIG_FILE_NAME = &quot;FileName&quot;;\r\n        private static final String CONFIG_MASTER_KEY_ALIAS = &quot;KeyAlias&quot;;\r\n        private static EncryptedPreferenceDataStore mInstance;\r\n        private SharedPreferences mSharedPreferences;\r\n        private Context mContext;\r\n    \r\n        private EncryptedPreferenceDataStore(Context context) {\r\n            try {\r\n                mContext = context;\r\n                mSharedPreferences = EncryptedSharedPreferences.create(\r\n                        CONFIG_FILE_NAME,\r\n                        CONFIG_MASTER_KEY_ALIAS,\r\n                        context,\r\n                        EncryptedSharedPreferences.PrefKeyEncryptionScheme.AES256_SIV, //for encrypting Keys\r\n                        EncryptedSharedPreferences.PrefValueEncryptionScheme.AES256_GCM ////for encrypting Values\r\n                );\r\n            } catch (Exception e) {\r\n                // Fallback\r\n                mSharedPreferences = context.getSharedPreferences(CONFIG_FILE_NAME, Context.MODE_PRIVATE);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void putString(String key, @Nullable String value) {\r\n            mSharedPreferences.edit().putString(key, value).apply();\r\n        }\r\n    \r\n        @Override\r\n        public void putStringSet(String key, @Nullable Set&lt;String&gt; values) {\r\n            mSharedPreferences.edit().putStringSet(key, values).apply();\r\n        }\r\n    \r\n        @Override\r\n        public void putInt(String key, int value) {\r\n            mSharedPreferences.edit().putInt(key, value).apply();\r\n        }\r\n    \r\n        @Override\r\n        public void putLong(String key, long value) {\r\n            mSharedPreferences.edit().putLong(key, value).apply();\r\n        }\r\n    \r\n        @Override\r\n        public void putFloat(String key, float value) {\r\n            mSharedPreferences.edit().putFloat(key, value).apply();\r\n        }\r\n    \r\n        @Override\r\n        public void putBoolean(String key, boolean value) {\r\n            mSharedPreferences.edit().putBoolean(key, value).apply();\r\n        }\r\n    \r\n        @Nullable\r\n        @Override\r\n        public String getString(String key, @Nullable String defValue) {\r\n            return mSharedPreferences.getString(key, defValue);\r\n        }\r\n    \r\n        @Nullable\r\n        @Override\r\n        public Set&lt;String&gt; getStringSet(String key, @Nullable Set&lt;String&gt; defValues) {\r\n            return mSharedPreferences.getStringSet(key, defValues);\r\n        }\r\n    \r\n        @Override\r\n        public int getInt(String key, int defValue) {\r\n            return mSharedPreferences.getInt(key, defValue);\r\n        }\r\n    \r\n        @Override\r\n        public long getLong(String key, long defValue) {\r\n            return mSharedPreferences.getLong(key, defValue);\r\n        }\r\n    \r\n        @Override\r\n        public float getFloat(String key, float defValue) {\r\n            return mSharedPreferences.getFloat(key, defValue);\r\n        }\r\n    \r\n        @Override\r\n        public boolean getBoolean(String key, boolean defValue) {\r\n            return mSharedPreferences.getBoolean(key, defValue);\r\n        }\r\n    }\r\n\r\n**Usage**\r\n\r\n        EncryptedPreferenceDataStore prefs = EncryptedPreferenceDataStore.getInstance(getContext());\r\n        boolean bIsXXX = prefs.getBoolean(getString(R.string.pref_access_xxx), true);","title":"Is there a way to integrate EncryptedSharedPreference with PreferenceScreen?","body":"<p>There are a few issues that I encounter with integrating EncryptedSharePreferences with AndroidX Preferences GUI.</p>\n\n<ul>\n<li>PreferenceManager is not able to set the default preference data store globally, because it is only possible to retrieve the default shared preferences (un-encrypted variant and tied to application package name) and not set the default shared preferences to the encrypted variant. <code>PreferenceManager.getDefaultSharedPreferences(context);</code> does not have a corresponding set method.</li>\n<li>PreferenceManager can only be created by packages with the same library group.</li>\n</ul>\n\n<p>The solution I have created is to not depend on SharedPreferences, but to utilise the PreferenceFragmentCompat to write to EncryptedPreferenceDataStore. However, this still comes with the issue that the default values are not initialised until the user enters the Preference screen.</p>\n\n<p><strong>Dependencies</strong></p>\n\n<pre><code>dependencies {\n    implementation 'androidx.preference:preference:1.1.1'\n    implementation 'androidx.security:security-crypto:1.0.0-rc01'\n}\n</code></pre>\n\n<p><strong>PreferencesFragment</strong></p>\n\n<pre><code>import android.app.Activity;\nimport android.app.ActivityManager;\nimport android.os.Bundle;\n\nimport androidx.preference.Preference;\nimport androidx.preference.PreferenceFragmentCompat;\nimport androidx.preference.PreferenceManager;\n\npublic class PreferencesFragment extends PreferenceFragmentCompat {\n\n    @Override\n    public void onCreatePreferences(Bundle savedInstanceState, String rootKey) {\n        PreferenceManager preferenceManager = getPreferenceManager();\n        preferenceManager.setPreferenceDataStore(EncryptedPreferenceDataStore.getInstance(getContext()));\n\n        // Load the preferences from an XML resource\n        setPreferencesFromResource(R.xml.preferences, rootKey);\n    }\n</code></pre>\n\n<p><strong>EncryptedPreferenceDataStore</strong></p>\n\n<pre><code>import android.content.Context;\nimport android.content.SharedPreferences;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.preference.PreferenceDataStore;\nimport androidx.security.crypto.EncryptedSharedPreferences;\n\nimport java.util.Set;\n\npublic class EncryptedPreferenceDataStore extends PreferenceDataStore {\n\n    private static final String CONFIG_FILE_NAME = \"FileName\";\n    private static final String CONFIG_MASTER_KEY_ALIAS = \"KeyAlias\";\n    private static EncryptedPreferenceDataStore mInstance;\n    private SharedPreferences mSharedPreferences;\n    private Context mContext;\n\n    private EncryptedPreferenceDataStore(Context context) {\n        try {\n            mContext = context;\n            mSharedPreferences = EncryptedSharedPreferences.create(\n                    CONFIG_FILE_NAME,\n                    CONFIG_MASTER_KEY_ALIAS,\n                    context,\n                    EncryptedSharedPreferences.PrefKeyEncryptionScheme.AES256_SIV, //for encrypting Keys\n                    EncryptedSharedPreferences.PrefValueEncryptionScheme.AES256_GCM ////for encrypting Values\n            );\n        } catch (Exception e) {\n            // Fallback\n            mSharedPreferences = context.getSharedPreferences(CONFIG_FILE_NAME, Context.MODE_PRIVATE);\n        }\n    }\n\n    @Override\n    public void putString(String key, @Nullable String value) {\n        mSharedPreferences.edit().putString(key, value).apply();\n    }\n\n    @Override\n    public void putStringSet(String key, @Nullable Set&lt;String&gt; values) {\n        mSharedPreferences.edit().putStringSet(key, values).apply();\n    }\n\n    @Override\n    public void putInt(String key, int value) {\n        mSharedPreferences.edit().putInt(key, value).apply();\n    }\n\n    @Override\n    public void putLong(String key, long value) {\n        mSharedPreferences.edit().putLong(key, value).apply();\n    }\n\n    @Override\n    public void putFloat(String key, float value) {\n        mSharedPreferences.edit().putFloat(key, value).apply();\n    }\n\n    @Override\n    public void putBoolean(String key, boolean value) {\n        mSharedPreferences.edit().putBoolean(key, value).apply();\n    }\n\n    @Nullable\n    @Override\n    public String getString(String key, @Nullable String defValue) {\n        return mSharedPreferences.getString(key, defValue);\n    }\n\n    @Nullable\n    @Override\n    public Set&lt;String&gt; getStringSet(String key, @Nullable Set&lt;String&gt; defValues) {\n        return mSharedPreferences.getStringSet(key, defValues);\n    }\n\n    @Override\n    public int getInt(String key, int defValue) {\n        return mSharedPreferences.getInt(key, defValue);\n    }\n\n    @Override\n    public long getLong(String key, long defValue) {\n        return mSharedPreferences.getLong(key, defValue);\n    }\n\n    @Override\n    public float getFloat(String key, float defValue) {\n        return mSharedPreferences.getFloat(key, defValue);\n    }\n\n    @Override\n    public boolean getBoolean(String key, boolean defValue) {\n        return mSharedPreferences.getBoolean(key, defValue);\n    }\n}\n</code></pre>\n\n<p><strong>Usage</strong></p>\n\n<pre><code>    EncryptedPreferenceDataStore prefs = EncryptedPreferenceDataStore.getInstance(getContext());\n    boolean bIsXXX = prefs.getBoolean(getString(R.string.pref_access_xxx), true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":110558,"reputation":10111,"user_id":292502,"accept_rate":83,"display_name":"Csaba Toth"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1622306543,"creation_date":1597617436,"answer_id":63442567,"question_id":58515475,"body_markdown":"A1: Yes it&#39;s possible.\r\n\r\nA3: You can take advantage of system provided settings the following way.\r\n\r\nSince Kotlin is the preferred first class citizen for a while now I&#39;ll show it in Kotlin, @Rikka has a Java version in another answer. For Kotlin the trick is to still set the `preferencesDataSource`, it goes this way:\r\n\r\n```lang:Kotlin\r\nclass SettingsFragment : PreferenceFragmentCompat() {\r\n    override fun onCreatePreferences(savedInstanceState: Bundle?, rootKey: String?) {\r\n        preferenceManager.preferenceDataStore =\r\n            EncryptedPreferenceDataStore.getInstance(requireContext())\r\n\r\n        // Load the preferences from an XML resource\r\n        setPreferencesFromResource(R.xml.preferences, rootKey)\r\n    }\r\n```\r\n\r\nThe Kotlin version of the `EncryptedPreferenceDataStore`: I&#39;m using the `also` keyword for the singleton, similarly as the Google source code related Room example in https://stackoverflow.com/questions/40398072/singleton-with-parameter-in-kotlin\r\n\r\n```lang:Kotlin\r\nclass EncryptedPreferenceDataStore private constructor(context: Context) : PreferenceDataStore() {\r\n    companion object {\r\n        private const val SHARED_PREFERENCES_NAME = &quot;secret_shared_preferences&quot;\r\n\r\n        @Volatile private var INSTANCE: EncryptedPreferenceDataStore? = null\r\n\r\n        fun getInstance(context: Context): EncryptedPreferenceDataStore =\r\n            INSTANCE ?: synchronized(this) {\r\n                INSTANCE ?: EncryptedPreferenceDataStore(context).also { INSTANCE = it }\r\n            }\r\n    }\r\n\r\n    private var mSharedPreferences: SharedPreferences\r\n    private lateinit var mContext: Context\r\n\r\n    init {\r\n        try {\r\n            mContext = context\r\n            val masterKey = MasterKey.Builder(context, MasterKey.DEFAULT_MASTER_KEY_ALIAS)\r\n                .setKeyScheme(MasterKey.KeyScheme.AES256_GCM)\r\n                .build()\r\n\r\n            mSharedPreferences = EncryptedSharedPreferences.create(\r\n                context,\r\n                SHARED_PREFERENCES_NAME,\r\n                masterKey,\r\n                EncryptedSharedPreferences.PrefKeyEncryptionScheme.AES256_SIV,\r\n                EncryptedSharedPreferences.PrefValueEncryptionScheme.AES256_GCM\r\n            )\r\n        } catch (e: Exception) {\r\n            // Fallback, default mode is Context.MODE_PRIVATE!\r\n            mSharedPreferences = PreferenceManager.getDefaultSharedPreferences(context)\r\n        }\r\n    }\r\n\r\n    override fun putString(key: String, value: String?) {\r\n        mSharedPreferences.edit().putString(key, value).apply()\r\n    }\r\n\r\n    override fun putStringSet(key: String, values: Set&lt;String&gt;?) {\r\n        mSharedPreferences.edit().putStringSet(key, values).apply()\r\n    }\r\n\r\n    override fun putInt(key: String, value: Int) {\r\n        mSharedPreferences.edit().putInt(key, value).apply()\r\n    }\r\n\r\n    override fun putLong(key: String, value: Long) {\r\n        mSharedPreferences.edit().putLong(key, value).apply()\r\n    }\r\n\r\n    override fun putFloat(key: String, value: Float) {\r\n        mSharedPreferences.edit().putFloat(key, value).apply()\r\n    }\r\n\r\n    override fun putBoolean(key: String, value: Boolean) {\r\n        mSharedPreferences.edit().putBoolean(key, value).apply()\r\n    }\r\n\r\n    override fun getString(key: String, defValue: String?): String? {\r\n        return mSharedPreferences.getString(key, defValue)\r\n    }\r\n\r\n    override fun getStringSet(key: String, defValues: Set&lt;String&gt;?): Set&lt;String&gt;? {\r\n        return mSharedPreferences.getStringSet(key, defValues)\r\n    }\r\n\r\n    override fun getInt(key: String, defValue: Int): Int {\r\n        return mSharedPreferences.getInt(key, defValue)\r\n    }\r\n\r\n    override fun getLong(key: String, defValue: Long): Long {\r\n        return mSharedPreferences.getLong(key, defValue)\r\n    }\r\n\r\n    override fun getFloat(key: String, defValue: Float): Float {\r\n        return mSharedPreferences.getFloat(key, defValue)\r\n    }\r\n\r\n    override fun getBoolean(key: String, defValue: Boolean): Boolean {\r\n        return mSharedPreferences.getBoolean(key, defValue)\r\n    }\r\n}\r\n```\r\n\r\nMaybe it could be even more thread safe by double synchronized checking?","title":"Is there a way to integrate EncryptedSharedPreference with PreferenceScreen?","body":"<p>A1: Yes it's possible.</p>\n<p>A3: You can take advantage of system provided settings the following way.</p>\n<p>Since Kotlin is the preferred first class citizen for a while now I'll show it in Kotlin, @Rikka has a Java version in another answer. For Kotlin the trick is to still set the <code>preferencesDataSource</code>, it goes this way:</p>\n<pre><code>class SettingsFragment : PreferenceFragmentCompat() {\n    override fun onCreatePreferences(savedInstanceState: Bundle?, rootKey: String?) {\n        preferenceManager.preferenceDataStore =\n            EncryptedPreferenceDataStore.getInstance(requireContext())\n\n        // Load the preferences from an XML resource\n        setPreferencesFromResource(R.xml.preferences, rootKey)\n    }\n</code></pre>\n<p>The Kotlin version of the <code>EncryptedPreferenceDataStore</code>: I'm using the <code>also</code> keyword for the singleton, similarly as the Google source code related Room example in <a href=\"https://stackoverflow.com/questions/40398072/singleton-with-parameter-in-kotlin\">Singleton with parameter in Kotlin</a></p>\n<pre><code>class EncryptedPreferenceDataStore private constructor(context: Context) : PreferenceDataStore() {\n    companion object {\n        private const val SHARED_PREFERENCES_NAME = &quot;secret_shared_preferences&quot;\n\n        @Volatile private var INSTANCE: EncryptedPreferenceDataStore? = null\n\n        fun getInstance(context: Context): EncryptedPreferenceDataStore =\n            INSTANCE ?: synchronized(this) {\n                INSTANCE ?: EncryptedPreferenceDataStore(context).also { INSTANCE = it }\n            }\n    }\n\n    private var mSharedPreferences: SharedPreferences\n    private lateinit var mContext: Context\n\n    init {\n        try {\n            mContext = context\n            val masterKey = MasterKey.Builder(context, MasterKey.DEFAULT_MASTER_KEY_ALIAS)\n                .setKeyScheme(MasterKey.KeyScheme.AES256_GCM)\n                .build()\n\n            mSharedPreferences = EncryptedSharedPreferences.create(\n                context,\n                SHARED_PREFERENCES_NAME,\n                masterKey,\n                EncryptedSharedPreferences.PrefKeyEncryptionScheme.AES256_SIV,\n                EncryptedSharedPreferences.PrefValueEncryptionScheme.AES256_GCM\n            )\n        } catch (e: Exception) {\n            // Fallback, default mode is Context.MODE_PRIVATE!\n            mSharedPreferences = PreferenceManager.getDefaultSharedPreferences(context)\n        }\n    }\n\n    override fun putString(key: String, value: String?) {\n        mSharedPreferences.edit().putString(key, value).apply()\n    }\n\n    override fun putStringSet(key: String, values: Set&lt;String&gt;?) {\n        mSharedPreferences.edit().putStringSet(key, values).apply()\n    }\n\n    override fun putInt(key: String, value: Int) {\n        mSharedPreferences.edit().putInt(key, value).apply()\n    }\n\n    override fun putLong(key: String, value: Long) {\n        mSharedPreferences.edit().putLong(key, value).apply()\n    }\n\n    override fun putFloat(key: String, value: Float) {\n        mSharedPreferences.edit().putFloat(key, value).apply()\n    }\n\n    override fun putBoolean(key: String, value: Boolean) {\n        mSharedPreferences.edit().putBoolean(key, value).apply()\n    }\n\n    override fun getString(key: String, defValue: String?): String? {\n        return mSharedPreferences.getString(key, defValue)\n    }\n\n    override fun getStringSet(key: String, defValues: Set&lt;String&gt;?): Set&lt;String&gt;? {\n        return mSharedPreferences.getStringSet(key, defValues)\n    }\n\n    override fun getInt(key: String, defValue: Int): Int {\n        return mSharedPreferences.getInt(key, defValue)\n    }\n\n    override fun getLong(key: String, defValue: Long): Long {\n        return mSharedPreferences.getLong(key, defValue)\n    }\n\n    override fun getFloat(key: String, defValue: Float): Float {\n        return mSharedPreferences.getFloat(key, defValue)\n    }\n\n    override fun getBoolean(key: String, defValue: Boolean): Boolean {\n        return mSharedPreferences.getBoolean(key, defValue)\n    }\n}\n</code></pre>\n<p>Maybe it could be even more thread safe by double synchronized checking?</p>\n"},{"tags":[],"owner":{"account_id":7740347,"reputation":452,"user_id":5860352,"display_name":"Doron Ben-Ari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673044635,"creation_date":1673039868,"answer_id":75036147,"question_id":58515475,"body_markdown":"Took the answers here, added a touch of Kotlin sugar to make it shorter, avoided using unreleased library versions, and here is what came out:\r\n\r\n## Dependencies: ##\r\n```groovy\r\ndependencies {\r\n    implementation &quot;androidx.security:security-crypto:1.0.0&quot;\r\n    implementation &#39;androidx.preference:preference-ktx:1.2.0&#39;\r\n}\r\n```\r\n\r\n## DataStore: ##\r\n```kotlin\r\nlateinit var dataStore: PreferenceDataStore\r\nlateinit var globalPreferences: SharedPreferences\r\n\r\nprivate const val SHARED_PREFERENCES_NAME = &quot;secret_shared_preferences&quot;\r\n\r\nfun prepareDataStore(context: Context) {\r\n\r\n    val masterKey = MasterKeys.getOrCreate(MasterKeys.AES256_GCM_SPEC)\r\n\r\n    globalPreferences = EncryptedSharedPreferences.create(\r\n        SHARED_PREFERENCES_NAME,\r\n        masterKey,\r\n        context,\r\n        EncryptedSharedPreferences.PrefKeyEncryptionScheme.AES256_SIV,\r\n        EncryptedSharedPreferences.PrefValueEncryptionScheme.AES256_GCM\r\n    )\r\n\r\n    dataStore = object :\r\n        PreferenceDataStore(), SharedPreferences by globalPreferences {\r\n\r\n        private val editor by lazy { globalPreferences.edit() }\r\n\r\n        override fun putString(key: String, value: String?) =\r\n            editor.putString(key, value).apply()\r\n\r\n        override fun putStringSet(key: String, values: Set&lt;String&gt;?) =\r\n            editor.putStringSet(key, values).apply()\r\n\r\n        override fun putInt(key: String, value: Int) =\r\n            editor.putInt(key, value).apply()\r\n\r\n        override fun putLong(key: String, value: Long) =\r\n            editor.putLong(key, value).apply()\r\n\r\n        override fun putFloat(key: String, value: Float) =\r\n            editor.putFloat(key, value).apply()\r\n\r\n        override fun putBoolean(key: String, value: Boolean) =\r\n            editor.putBoolean(key, value).apply()\r\n\r\n    }\r\n}\r\n```\r\n\r\n## PreferencesFragment: ##\r\n```kotlin\r\n    class PreferencesFragment: PreferenceFragmentCompat() {\r\n\r\n        override fun onCreatePreferences(savedInstanceState: Bundle?, rootKey: String?) {\r\n            preferenceManager.preferenceDataStore = dataStore\r\n            setPreferencesFromResource(R.xml.root_preferences, rootKey)\r\n\r\n```\r\n\r\n## Usage: ##\r\n```kotlin\r\n    boolean bIsXXX = globalPreferences.getBoolean(getString(R.string.pref_access_xxx), true);\r\n```\r\n\r\nRemarks:\r\n1. The trick for the get... functions could not work for the put... functions by inheriting ``SharedPreferences.Editor``, because the put... functions have different return values than those of ``PreferenceDataStore`` and also require a call to ``apply()``.\r\n2. Not using singleton is my taste about singletons which depend on arguments and ignore the arguments on next calls. But that is a different subject. I suggest calling ``prepareDataStore`` ones from ``class MyApplication : Application()`` and change its ``Context`` parameter to be ``Application`` to make it clear.\r\n","title":"Is there a way to integrate EncryptedSharedPreference with PreferenceScreen?","body":"<p>Took the answers here, added a touch of Kotlin sugar to make it shorter, avoided using unreleased library versions, and here is what came out:</p>\n<h2>Dependencies:</h2>\n<pre><code>dependencies {\n    implementation &quot;androidx.security:security-crypto:1.0.0&quot;\n    implementation 'androidx.preference:preference-ktx:1.2.0'\n}\n</code></pre>\n<h2>DataStore:</h2>\n<pre class=\"lang-kotlin prettyprint-override\"><code>lateinit var dataStore: PreferenceDataStore\nlateinit var globalPreferences: SharedPreferences\n\nprivate const val SHARED_PREFERENCES_NAME = &quot;secret_shared_preferences&quot;\n\nfun prepareDataStore(context: Context) {\n\n    val masterKey = MasterKeys.getOrCreate(MasterKeys.AES256_GCM_SPEC)\n\n    globalPreferences = EncryptedSharedPreferences.create(\n        SHARED_PREFERENCES_NAME,\n        masterKey,\n        context,\n        EncryptedSharedPreferences.PrefKeyEncryptionScheme.AES256_SIV,\n        EncryptedSharedPreferences.PrefValueEncryptionScheme.AES256_GCM\n    )\n\n    dataStore = object :\n        PreferenceDataStore(), SharedPreferences by globalPreferences {\n\n        private val editor by lazy { globalPreferences.edit() }\n\n        override fun putString(key: String, value: String?) =\n            editor.putString(key, value).apply()\n\n        override fun putStringSet(key: String, values: Set&lt;String&gt;?) =\n            editor.putStringSet(key, values).apply()\n\n        override fun putInt(key: String, value: Int) =\n            editor.putInt(key, value).apply()\n\n        override fun putLong(key: String, value: Long) =\n            editor.putLong(key, value).apply()\n\n        override fun putFloat(key: String, value: Float) =\n            editor.putFloat(key, value).apply()\n\n        override fun putBoolean(key: String, value: Boolean) =\n            editor.putBoolean(key, value).apply()\n\n    }\n}\n</code></pre>\n<h2>PreferencesFragment:</h2>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    class PreferencesFragment: PreferenceFragmentCompat() {\n\n        override fun onCreatePreferences(savedInstanceState: Bundle?, rootKey: String?) {\n            preferenceManager.preferenceDataStore = dataStore\n            setPreferencesFromResource(R.xml.root_preferences, rootKey)\n\n</code></pre>\n<h2>Usage:</h2>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    boolean bIsXXX = globalPreferences.getBoolean(getString(R.string.pref_access_xxx), true);\n</code></pre>\n<p>Remarks:</p>\n<ol>\n<li>The trick for the get... functions could not work for the put... functions by inheriting <code>SharedPreferences.Editor</code>, because the put... functions have different return values than those of <code>PreferenceDataStore</code> and also require a call to <code>apply()</code>.</li>\n<li>Not using singleton is my taste about singletons which depend on arguments and ignore the arguments on next calls. But that is a different subject. I suggest calling <code>prepareDataStore</code> ones from <code>class MyApplication : Application()</code> and change its <code>Context</code> parameter to be <code>Application</code> to make it clear.</li>\n</ol>\n"}],"owner":{"account_id":4345610,"reputation":161,"user_id":3547607,"accept_rate":91,"display_name":"Skeiths Chew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1799,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":4,"score":9,"last_activity_date":1673044635,"creation_date":1571804689,"question_id":58515475,"body_markdown":"I am new to android development.\r\nCurrently, I would like to encrypt a custom named Shared Preference and integrate with PreferenceScreen but failed to do so. I am using dependencies:\r\n\r\n1. androidx.security:security-crypto:1.0.0-alpha02 [EncryptedSharedPreference]\r\n2. androidx.preference:preference:1.1.0 [PreferenceScreen]\r\n\r\nI had tried to research the related information about integration of these 2 features but no related information found.\r\n\r\nFrom my testing, I had an existing encrypted shared preference and tested the following API: \r\n\r\n    getPreferenceManager().setSharedPreferencesName(&quot;MyShared&quot;); //MyShared Is custom named preference.\r\n\r\nBut it ended up save the preference in plain value.\r\n\r\nMy Questions:\r\n\r\n1. Is it possible to integrate these 2 features together in current stage?\r\n2. Does PreferenceScreen provide encrypted feature as I am not aware of?\r\n3. If I am insist to use EncryptedSharedPreference, will it be better that I create a custom activity look like preference screen?","title":"Is there a way to integrate EncryptedSharedPreference with PreferenceScreen?","body":"<p>I am new to android development.\nCurrently, I would like to encrypt a custom named Shared Preference and integrate with PreferenceScreen but failed to do so. I am using dependencies:</p>\n\n<ol>\n<li>androidx.security:security-crypto:1.0.0-alpha02 [EncryptedSharedPreference]</li>\n<li>androidx.preference:preference:1.1.0 [PreferenceScreen]</li>\n</ol>\n\n<p>I had tried to research the related information about integration of these 2 features but no related information found.</p>\n\n<p>From my testing, I had an existing encrypted shared preference and tested the following API: </p>\n\n<pre><code>getPreferenceManager().setSharedPreferencesName(\"MyShared\"); //MyShared Is custom named preference.\n</code></pre>\n\n<p>But it ended up save the preference in plain value.</p>\n\n<p>My Questions:</p>\n\n<ol>\n<li>Is it possible to integrate these 2 features together in current stage?</li>\n<li>Does PreferenceScreen provide encrypted feature as I am not aware of?</li>\n<li>If I am insist to use EncryptedSharedPreference, will it be better that I create a custom activity look like preference screen?</li>\n</ol>\n"},{"tags":["java","spring","thymeleaf"],"comments":[{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1498661886,"post_id":44805112,"comment_id":76592105,"body_markdown":"And the two `bla`s are the same in your example?","body":"And the two <code>bla</code>s are the same in your example?"},{"owner":{"account_id":7753673,"reputation":378,"user_id":5868823,"accept_rate":88,"display_name":"Rhadamez Gindri Hercilio"},"score":0,"creation_date":1498666303,"post_id":44805112,"comment_id":76595459,"body_markdown":"No, just a example, they really have another name.","body":"No, just a example, they really have another name."},{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":1,"creation_date":1498667597,"post_id":44805112,"comment_id":76596253,"body_markdown":"Can you post your controller code?  The link looks correct to me.","body":"Can you post your controller code?  The link looks correct to me."},{"owner":{"account_id":7753673,"reputation":378,"user_id":5868823,"accept_rate":88,"display_name":"Rhadamez Gindri Hercilio"},"score":0,"creation_date":1498669106,"post_id":44805112,"comment_id":76597192,"body_markdown":"I add the updates in description.","body":"I add the updates in description."},{"owner":{"account_id":7753673,"reputation":378,"user_id":5868823,"accept_rate":88,"display_name":"Rhadamez Gindri Hercilio"},"score":0,"creation_date":1498671639,"post_id":44805112,"comment_id":76598706,"body_markdown":"I found the problem: an attribute was going null for the database, make no sense in this.","body":"I found the problem: an attribute was going null for the database, make no sense in this."}],"answers":[{"tags":[],"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1498669541,"creation_date":1498667349,"answer_id":44808044,"question_id":44805112,"body_markdown":"Your solution uses the Standard Syntax and looks correct.  You can try this workaround with concatenation:\r\n\r\n`&lt;a th:href=&quot;${&#39;/blah1/&#39; + {object1.id} + &#39;/blah2/&#39; + {object2.id}}&quot;&gt;some link&lt;/a&gt;`\r\n\r\nUPDATE:\r\n\r\nTry changing the name of the variable to something other than `id`.  There&#39;s a [JIRA][1] about this that I suspect may be causing an issue.  You can also annotate with `@ModelAttribute`.  You should also make sure you&#39;re on the latest version of Spring.\r\n\r\nAlso, you can just do `@PostMapping(&quot;/{id}/bla&quot;)`\r\n\r\n  [1]: https://jira.spring.io/browse/SPR-9349","title":"Thymeleaf URL with multiple variables","body":"<p>Your solution uses the Standard Syntax and looks correct.  You can try this workaround with concatenation:</p>\n\n<p><code>&lt;a th:href=\"${'/blah1/' + {object1.id} + '/blah2/' + {object2.id}}\"&gt;some link&lt;/a&gt;</code></p>\n\n<p>UPDATE:</p>\n\n<p>Try changing the name of the variable to something other than <code>id</code>.  There's a <a href=\"https://jira.spring.io/browse/SPR-9349\" rel=\"nofollow noreferrer\">JIRA</a> about this that I suspect may be causing an issue.  You can also annotate with <code>@ModelAttribute</code>.  You should also make sure you're on the latest version of Spring.</p>\n\n<p>Also, you can just do <code>@PostMapping(\"/{id}/bla\")</code></p>\n"},{"tags":[],"owner":{"account_id":7753673,"reputation":378,"user_id":5868823,"accept_rate":88,"display_name":"Rhadamez Gindri Hercilio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498671810,"creation_date":1498671810,"answer_id":44809319,"question_id":44805112,"body_markdown":"**The real problem:** an attribute was going null for database. Make no sense in this. I fix this.","title":"Thymeleaf URL with multiple variables","body":"<p><strong>The real problem:</strong> an attribute was going null for database. Make no sense in this. I fix this.</p>\n"},{"tags":[],"owner":{"account_id":5518609,"reputation":973,"user_id":4382399,"accept_rate":87,"display_name":"sndu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1531986376,"creation_date":1531986376,"answer_id":51417080,"question_id":44805112,"body_markdown":"Try this method. It worked for me\r\n\r\n    &lt;a th:href=&quot;@{/this/istheurl(parameter1 = val1, parameter2 = val2) }&quot;&gt;","title":"Thymeleaf URL with multiple variables","body":"<p>Try this method. It worked for me</p>\n\n<pre><code>&lt;a th:href=\"@{/this/istheurl(parameter1 = val1, parameter2 = val2) }\"&gt;\n</code></pre>\n"}],"owner":{"account_id":7753673,"reputation":378,"user_id":5868823,"accept_rate":88,"display_name":"Rhadamez Gindri Hercilio"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17285,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":44808044,"answer_count":3,"score":9,"last_activity_date":1673043481,"creation_date":1498659436,"question_id":44805112,"body_markdown":"I&#39;m using thymeleaf as template engine in my spring project.\r\n\r\n**My Problem is**: I&#39;m trying to submit my form to url that contains two variables, something like: \r\n\r\nmysite/bla/{id}/bla/{id2} (two variables in url). So, I&#39;m trying with this:\r\n\r\n    th:href=&quot;@{/bla/{id}/bla/{id2} (id=${object1.id}, id2=${object2.id})}&quot;\r\n\r\nThe console shows the error:\r\n\r\n*&quot;Skipping URI variable &#39;id&#39; since the request contains a bind value with the same name.&quot;* So, someone has any ideia whats happening?\r\n\r\nUpdate:\r\n\r\nI changed the path to one variable, just to make some tests, and the problem still happening. The controller is very simple:\r\n\r\n    @PostMapping(value = &quot;/{id}/bla&quot;)\r\n    \tpublic ModelAndView salvarBug(MyObject object,\r\n    \t\t\t@PathVariable(&quot;id&quot;) Long idObject1, Principal principal) {\r\n    \t\t\t    objectService.save(object);\r\n    \t\t\t    return new ModelAndView(&quot;redirect:&quot;+idObject1);\r\n    \t}\r\n\r\nI updated the link in html too:\r\n\r\n\t\t\t&lt;form method=&quot;POST&quot; th:object=&quot;${object}&quot;\r\n\t\t\t\tth:action=&quot;@{/{id}/bla (id=${object.id})}&quot;&gt;\r\n\r\n**The real problem:** an attribute was going null for database. Make no sense in this. I fix this.","title":"Thymeleaf URL with multiple variables","body":"<p>I'm using thymeleaf as template engine in my spring project.</p>\n\n<p><strong>My Problem is</strong>: I'm trying to submit my form to url that contains two variables, something like: </p>\n\n<p>mysite/bla/{id}/bla/{id2} (two variables in url). So, I'm trying with this:</p>\n\n<pre><code>th:href=\"@{/bla/{id}/bla/{id2} (id=${object1.id}, id2=${object2.id})}\"\n</code></pre>\n\n<p>The console shows the error:</p>\n\n<p><em>\"Skipping URI variable 'id' since the request contains a bind value with the same name.\"</em> So, someone has any ideia whats happening?</p>\n\n<p>Update:</p>\n\n<p>I changed the path to one variable, just to make some tests, and the problem still happening. The controller is very simple:</p>\n\n<pre><code>@PostMapping(value = \"/{id}/bla\")\n    public ModelAndView salvarBug(MyObject object,\n            @PathVariable(\"id\") Long idObject1, Principal principal) {\n                objectService.save(object);\n                return new ModelAndView(\"redirect:\"+idObject1);\n    }\n</code></pre>\n\n<p>I updated the link in html too:</p>\n\n<pre><code>        &lt;form method=\"POST\" th:object=\"${object}\"\n            th:action=\"@{/{id}/bla (id=${object.id})}\"&gt;\n</code></pre>\n\n<p><strong>The real problem:</strong> an attribute was going null for database. Make no sense in this. I fix this.</p>\n"},{"tags":["java","spring","junit","mockito","reactive-programming"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1673039702,"post_id":75036105,"comment_id":132416004,"body_markdown":"Do you want to mock/replace `runCommand` or the static `from` method?","body":"Do you want to mock/replace <code>runCommand</code> or the static <code>from</code> method?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1673040739,"post_id":75036105,"comment_id":132416224,"body_markdown":"Just mock mongoClient, db and commandResult, with appropriate `when`s.","body":"Just mock mongoClient, db and commandResult, with appropriate <code>when</code>s."},{"owner":{"account_id":9735309,"reputation":101,"user_id":7218740,"display_name":"junelane"},"score":0,"creation_date":1673043376,"post_id":75036105,"comment_id":132416876,"body_markdown":"mocking the db client actually worked!","body":"mocking the db client actually worked!"}],"answers":[{"tags":[],"owner":{"account_id":9735309,"reputation":101,"user_id":7218740,"display_name":"junelane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673043437,"creation_date":1673043437,"answer_id":75036582,"question_id":75036105,"body_markdown":"Retuning Mono.just() worked\r\n```\r\n@Test\r\n    void initializeDBTest() {\r\n        final Document bsonDoc = Document.parse(isCSResponse);\r\n        Mockito.when(mongoClient.getDatabase(&quot;admin&quot;)).thenReturn(db);\r\n        Mockito.when(db.runCommand(Mockito.any())).thenReturn(Mono.just(bsonDoc));\r\n        manageDB.initializeDB();\r\n    }\r\n```","title":"How to mock Mono.from(commandResult).block();","body":"<p>Retuning Mono.just() worked</p>\n<pre><code>@Test\n    void initializeDBTest() {\n        final Document bsonDoc = Document.parse(isCSResponse);\n        Mockito.when(mongoClient.getDatabase(&quot;admin&quot;)).thenReturn(db);\n        Mockito.when(db.runCommand(Mockito.any())).thenReturn(Mono.just(bsonDoc));\n        manageDB.initializeDB();\n    }\n</code></pre>\n"}],"owner":{"account_id":9735309,"reputation":101,"user_id":7218740,"display_name":"junelane"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673043437,"creation_date":1673039366,"question_id":75036105,"body_markdown":"I have a class that invokes mongodb using reactive library and am writing a unit test that includes this private method. How to mock `Mono.from(commandResult).block()` using mockito?\r\n\r\n```\r\nprivate Document runCommand(final String command) {\r\n        final MongoDatabase db = mongoClient.getDatabase(&quot;admin&quot;);\r\n        final Bson bsonDocument = Document.parse(command).toBsonDocument();\r\n        final Publisher&lt;Document&gt; commandResult = db.runCommand(bsonDocument);\r\n        return Mono.from(commandResult).block();\r\n    }\r\n```","title":"How to mock Mono.from(commandResult).block();","body":"<p>I have a class that invokes mongodb using reactive library and am writing a unit test that includes this private method. How to mock <code>Mono.from(commandResult).block()</code> using mockito?</p>\n<pre><code>private Document runCommand(final String command) {\n        final MongoDatabase db = mongoClient.getDatabase(&quot;admin&quot;);\n        final Bson bsonDocument = Document.parse(command).toBsonDocument();\n        final Publisher&lt;Document&gt; commandResult = db.runCommand(bsonDocument);\n        return Mono.from(commandResult).block();\n    }\n</code></pre>\n"},{"tags":["java","generics","avro"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673040945,"post_id":75036224,"comment_id":132416289,"body_markdown":"Please show a [mcve] of inputs and expected outputs","body":"Please show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of inputs and expected outputs"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673042607,"post_id":75036224,"comment_id":132416738,"body_markdown":"Thanks for the update, but I was expecting an Avro schema and what `execute()` will actually return","body":"Thanks for the update, but I was expecting an Avro schema and what <code>execute()</code> will actually return"}],"owner":{"account_id":5216100,"reputation":562,"user_id":4170988,"accept_rate":40,"display_name":"Frederick &#193;lvarez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673043330,"creation_date":1673040483,"question_id":75036224,"body_markdown":"I&#39;m just starting with avro and beam, I&#39;m working in a `ptransform` that converts a `SpecificRecord` into a Map.\r\n\r\nThe goal is to iterate the field of the SpecificRecord and write the values into a KV structure, the data is coming from Kafka and the `ptransform` will be used to process different kafka topics that contain data encoded in different avro schemas.\r\n\r\n  \r\n\r\n    private static final class FlattenSpecificRecordRecord\r\n          implements SerializableFunction&lt;KV&lt;String, SpecificRecord&gt;, Iterable&lt;ElasticRow&gt;&gt; {\r\n        private final Stream _stream;\r\n    \r\n        FlattenSpecificRecordRecord(Stream stream) {\r\n          this._stream = stream;\r\n        }\r\n    \r\n        public static FlattenSpecificRecordRecord of(Stream stream) {\r\n          return new FlattenSpecificRecordRecord(stream);\r\n        }\r\n    \r\n        @Override\r\n        public Iterable&lt;ElasticRow&gt; apply(KV&lt;String, SpecificRecord&gt; recordKV) {\r\n          // ElasticRow is like a map\r\n          SpecificRecord record = recordKV.getValue()\r\n          // How to traverse this?\r\n          return ???\r\n        }\r\n      }\r\n\r\nTo traverse I was thinking in something like this\r\n\r\n    public class RecordConverter implements Serializable {\r\n      private final String _className;\r\n      private final SpecificRecord _record;\r\n    \r\n      public RecordConverter(String className, SpecificRecord record) {\r\n        this._className = className;\r\n        this._record = record;\r\n      }\r\n    \r\n      public List&lt;Object&gt; execute() {\r\n        List&lt;Object&gt; objects = new ArrayList&lt;&gt;();\r\n        Schema schema = _record.getSchema();\r\n        GenericRecord avroRecord = new GenericData.Record(_record.getSchema());\r\n        Queue&lt;Schema.Field&gt; fields = new LinkedList&lt;&gt;();\r\n        if (schema.getType() == Schema.Type.RECORD) {\r\n          fields.addAll(schema.getFields());\r\n        }\r\n        for (Schema.Field field : fields) {\r\n          if (field.schema().getType() == Schema.Type.RECORD) {\r\n            fields.add(field);\r\n            continue;\r\n          }\r\n          Object obj = avroRecord.get(field.name());\r\n          System.out.println(&quot;This is your value &quot; + obj);\r\n          objects.add(obj);\r\n        }\r\n        return objects;\r\n      }\r\n    }\r\n\r\nwhere the schema could be something like this (nested records)\r\n\r\n    {\r\n      &quot;type&quot;: &quot;record&quot;,\r\n      &quot;name&quot;: &quot;Address&quot;,\r\n      &quot;fields&quot;: [\r\n        {\r\n          &quot;name&quot;: &quot;streetaddress&quot;,\r\n          &quot;type&quot;: &quot;string&quot;\r\n        },\r\n        {\r\n          &quot;name&quot;: &quot;city&quot;,\r\n          &quot;type&quot;: &quot;City&quot;\r\n        }\r\n      ]\r\n    }\r\n\r\nand the output would be a list of all the nested values within the record\r\n\r\n\r\nBut not sure if this will work, I also checked and the doc says that the recommended way to consume a SpecificRecord is using DatumReader.\r\n\r\nAs part of the payload I have access to the scheme name of the class\r\n`com.company.MyAvroObject` in case this simplifies things a bit like creating an instance using reflection.\r\n\r\nAny advice on how to proceed?\r\n\r\n\r\n","title":"How to dynamically parse an SpecificRecord in avro in Java?","body":"<p>I'm just starting with avro and beam, I'm working in a <code>ptransform</code> that converts a <code>SpecificRecord</code> into a Map.</p>\n<p>The goal is to iterate the field of the SpecificRecord and write the values into a KV structure, the data is coming from Kafka and the <code>ptransform</code> will be used to process different kafka topics that contain data encoded in different avro schemas.</p>\n<pre><code>private static final class FlattenSpecificRecordRecord\n      implements SerializableFunction&lt;KV&lt;String, SpecificRecord&gt;, Iterable&lt;ElasticRow&gt;&gt; {\n    private final Stream _stream;\n\n    FlattenSpecificRecordRecord(Stream stream) {\n      this._stream = stream;\n    }\n\n    public static FlattenSpecificRecordRecord of(Stream stream) {\n      return new FlattenSpecificRecordRecord(stream);\n    }\n\n    @Override\n    public Iterable&lt;ElasticRow&gt; apply(KV&lt;String, SpecificRecord&gt; recordKV) {\n      // ElasticRow is like a map\n      SpecificRecord record = recordKV.getValue()\n      // How to traverse this?\n      return ???\n    }\n  }\n</code></pre>\n<p>To traverse I was thinking in something like this</p>\n<pre><code>public class RecordConverter implements Serializable {\n  private final String _className;\n  private final SpecificRecord _record;\n\n  public RecordConverter(String className, SpecificRecord record) {\n    this._className = className;\n    this._record = record;\n  }\n\n  public List&lt;Object&gt; execute() {\n    List&lt;Object&gt; objects = new ArrayList&lt;&gt;();\n    Schema schema = _record.getSchema();\n    GenericRecord avroRecord = new GenericData.Record(_record.getSchema());\n    Queue&lt;Schema.Field&gt; fields = new LinkedList&lt;&gt;();\n    if (schema.getType() == Schema.Type.RECORD) {\n      fields.addAll(schema.getFields());\n    }\n    for (Schema.Field field : fields) {\n      if (field.schema().getType() == Schema.Type.RECORD) {\n        fields.add(field);\n        continue;\n      }\n      Object obj = avroRecord.get(field.name());\n      System.out.println(&quot;This is your value &quot; + obj);\n      objects.add(obj);\n    }\n    return objects;\n  }\n}\n</code></pre>\n<p>where the schema could be something like this (nested records)</p>\n<pre><code>{\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;name&quot;: &quot;Address&quot;,\n  &quot;fields&quot;: [\n    {\n      &quot;name&quot;: &quot;streetaddress&quot;,\n      &quot;type&quot;: &quot;string&quot;\n    },\n    {\n      &quot;name&quot;: &quot;city&quot;,\n      &quot;type&quot;: &quot;City&quot;\n    }\n  ]\n}\n</code></pre>\n<p>and the output would be a list of all the nested values within the record</p>\n<p>But not sure if this will work, I also checked and the doc says that the recommended way to consume a SpecificRecord is using DatumReader.</p>\n<p>As part of the payload I have access to the scheme name of the class\n<code>com.company.MyAvroObject</code> in case this simplifies things a bit like creating an instance using reflection.</p>\n<p>Any advice on how to proceed?</p>\n"},{"tags":["java","return-value","completable-future","autocloseable","closeable"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1673040560,"post_id":75035870,"comment_id":132416178,"body_markdown":"_When_ do you want it to be closed? What does your method execute?","body":"<i>When</i> do you want it to be closed? What does your method execute?"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1673041047,"post_id":75035870,"comment_id":132416313,"body_markdown":"That&#39;s not possible. You either consume your autoclosable in the try-with-resources block you declare it, or you return it and the client code has to close it. It does seem like a questionable design decision to return a closable in a future tbh.","body":"That&#39;s not possible. You either consume your autoclosable in the try-with-resources block you declare it, or you return it and the client code has to close it. It does seem like a questionable design decision to return a closable in a future tbh."}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673042706,"creation_date":1673042706,"answer_id":75036496,"question_id":75035870,"body_markdown":"In general, this is not possible; `CompletableFuture` is not designed for this. As you&#39;ve noted, you can&#39;t close the resource before completing the future, because then it will be closed before any consumers get to act on it. That means the consumer will have to be responsible for closing the resource.\r\n\r\nHowever, if your goal is to only need that `Jedis` instance in the _one_ `whenComplete` call, then perhaps there is an alternative solution. Either modify `execute()` or create a new method that looks something like the following:\r\n\r\n```lang-java\r\n&lt;T&gt; CompletableFuture&lt;T&gt; execute(Function&lt;? super Jedis, ? extends T&gt; func) {\r\n    if (!isServiceActive()) return CompletableFuture.completedFuture(null);\r\n    return CompletableFuture.supplyAsync(() -&gt; {\r\n        try (Jedis jedis = pool.getResource()) {\r\n            return func.apply(jedis);\r\n        } catch (Exception ex) {\r\n            // log exception\r\n            throw new CompletionException(ex);\r\n        }\r\n    }), executor);\r\n}\r\n``` \r\n\r\nThe `Jedis` instance is closed by the time the future completes, but it still lets you do the needed work in the `Function` implementation. Using it would look like:\r\n\r\n```lang-java\r\nexecute(jedis -&gt; {\r\n    // use Jedis instance\r\n    return result;\r\n})\r\n.whenComplete((result, error) -&gt; {\r\n    if (error != null) {\r\n        // process error\r\n    } else {\r\n       // process result\r\n    }\r\n});\r\n```\r\n\r\nThough I don&#39;t know if your code can be modified to use this approach, as I notice your `execute()` method is an override (whether from a class/interface you control, I don&#39;t know). But even if you can&#39;t modify `execute()` directly or supply an overload feasibly, you might still be able to create a utility method that does something similar to the above.\r\n","title":"Return autocloseable object inside a CompletableFuture and use it in whenComplete","body":"<p>In general, this is not possible; <code>CompletableFuture</code> is not designed for this. As you've noted, you can't close the resource before completing the future, because then it will be closed before any consumers get to act on it. That means the consumer will have to be responsible for closing the resource.</p>\n<p>However, if your goal is to only need that <code>Jedis</code> instance in the <em>one</em> <code>whenComplete</code> call, then perhaps there is an alternative solution. Either modify <code>execute()</code> or create a new method that looks something like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;T&gt; CompletableFuture&lt;T&gt; execute(Function&lt;? super Jedis, ? extends T&gt; func) {\n    if (!isServiceActive()) return CompletableFuture.completedFuture(null);\n    return CompletableFuture.supplyAsync(() -&gt; {\n        try (Jedis jedis = pool.getResource()) {\n            return func.apply(jedis);\n        } catch (Exception ex) {\n            // log exception\n            throw new CompletionException(ex);\n        }\n    }), executor);\n}\n</code></pre>\n<p>The <code>Jedis</code> instance is closed by the time the future completes, but it still lets you do the needed work in the <code>Function</code> implementation. Using it would look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>execute(jedis -&gt; {\n    // use Jedis instance\n    return result;\n})\n.whenComplete((result, error) -&gt; {\n    if (error != null) {\n        // process error\n    } else {\n       // process result\n    }\n});\n</code></pre>\n<p>Though I don't know if your code can be modified to use this approach, as I notice your <code>execute()</code> method is an override (whether from a class/interface you control, I don't know). But even if you can't modify <code>execute()</code> directly or supply an overload feasibly, you might still be able to create a utility method that does something similar to the above.</p>\n"}],"owner":{"account_id":18233830,"reputation":23,"user_id":13272252,"display_name":"renvins"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75036496,"answer_count":1,"score":1,"last_activity_date":1673042706,"creation_date":1673037468,"question_id":75035870,"body_markdown":"I want to return an autocloseable object inside a CompletableFuture and use it in whenComplete without going to close it manually later.\r\n\r\nThis is the code that I&#39;ve tried, but of course it won&#39;t work because it closes automatically when I return Jedis object. I haven&#39;t got any other ideas.\r\n\r\n    @Override\r\n        public CompletableFuture&lt;Jedis&gt; execute() {\r\n           if(!isServiceActive()) return CompletableFuture.completedFuture(null);\r\n           return CompletableFuture.supplyAsync(() -&gt; {\r\n               try (Jedis jedis = pool.getResource()) {\r\n                  return jedis;\r\n              } catch (RuntimeException e) {\r\n                  logger.severe(&quot;Impossibile ottenere una nuova risorsa Jedis!&quot;, e);\r\n                  throw new CompletionException(e);\r\n              }\r\n          }, executor);\r\n      }","title":"Return autocloseable object inside a CompletableFuture and use it in whenComplete","body":"<p>I want to return an autocloseable object inside a CompletableFuture and use it in whenComplete without going to close it manually later.</p>\n<p>This is the code that I've tried, but of course it won't work because it closes automatically when I return Jedis object. I haven't got any other ideas.</p>\n<pre><code>@Override\n    public CompletableFuture&lt;Jedis&gt; execute() {\n       if(!isServiceActive()) return CompletableFuture.completedFuture(null);\n       return CompletableFuture.supplyAsync(() -&gt; {\n           try (Jedis jedis = pool.getResource()) {\n              return jedis;\n          } catch (RuntimeException e) {\n              logger.severe(&quot;Impossibile ottenere una nuova risorsa Jedis!&quot;, e);\n              throw new CompletionException(e);\n          }\n      }, executor);\n  }\n</code></pre>\n"},{"tags":["java","swing","rendering"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1672804900,"post_id":75000755,"comment_id":132354234,"body_markdown":"Id consider looking into using the glassPane","body":"Id consider looking into using the glassPane"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1672807213,"post_id":75000755,"comment_id":132354527,"body_markdown":"*I&#39;d like it to render above everything else in the UI while being dragged.* - Check out: https://stackoverflow.com/questions/6811247/drawing-in-jlayeredpane-over-exising-jpanels/6811800#6811800 for an example that uses a JLayeredPane to drag a JLabel around a chess board.","body":"<i>I&#39;d like it to render above everything else in the UI while being dragged.</i> - Check out: <a href=\"https://stackoverflow.com/questions/6811247/drawing-in-jlayeredpane-over-exising-jpanels/6811800#6811800\" title=\"drawing in jlayeredpane over exising jpanels\">stackoverflow.com/questions/6811247/&hellip;</a> for an example that uses a JLayeredPane to drag a JLabel around a chess board."},{"owner":{"account_id":18870627,"reputation":49,"user_id":13765314,"display_name":"ix0rai"},"score":0,"creation_date":1672890853,"post_id":75000755,"comment_id":132376706,"body_markdown":"that question is a start, but I&#39;m having issues with  \na. setting the correct position while dragging  \nand b. adding to the correct panel after dragging completes","body":"that question is a start, but I&#39;m having issues with   a. setting the correct position while dragging   and b. adding to the correct panel after dragging completes"},{"owner":{"account_id":18870627,"reputation":49,"user_id":13765314,"display_name":"ix0rai"},"score":0,"creation_date":1672890953,"post_id":75000755,"comment_id":132376717,"body_markdown":"the glass pane seems promising though!\nI&#39;ll look into it tomorrow","body":"the glass pane seems promising though! I&#39;ll look into it tomorrow"}],"answers":[{"tags":[],"owner":{"account_id":18870627,"reputation":49,"user_id":13765314,"display_name":"ix0rai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673042315,"creation_date":1672975391,"answer_id":75026632,"question_id":75000755,"body_markdown":"solved this myself through the usage of a glass pane!\r\nthis code should work in nearly every case, the only issue I&#39;ve found is that the mouse/component position may not be exactly synced if the user has a taskbar position other than bottom.\r\n\r\nthanks to https://stackoverflow.com/users/992484/madprogrammer for suggesting I use swing&#39;s glass pane to fix it.\r\n```java\r\nimport javax.swing.JComponent;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.SwingUtilities;\r\nimport java.awt.Dimension;\r\nimport java.awt.GraphicsEnvironment;\r\nimport java.awt.Rectangle;\r\nimport java.awt.Toolkit;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseListener;\r\nimport java.awt.event.MouseMotionListener;\r\n\r\npublic class DraggableLabel extends JLabel {\r\n\tprivate JComponent initialParent;\r\n\r\n\tpublic DraggableLabel(String text) {\r\n\t\tsuper(text);\r\n\t\tthis.setOpaque(false);\r\n\r\n\t\tthis.addMouseListener(new MouseListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseClicked(MouseEvent e) {\r\n\t\t\t\t// no-op\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void mousePressed(MouseEvent e) {\r\n\t\t\t\t// save parent for re-addition after dragging is finished\r\n\t\t\t\tDraggableLabel.this.initialParent = (JComponent) DraggableLabel.this.getParent();\r\n\r\n\t\t\t\t// configure object to be on the glass pane instead of its former pane\r\n\t\t\t\tDraggableLabel.this.setVisible(false);\r\n\t\t\t\tJPanel glassPane = (JPanel) SwingUtilities.getRootPane(DraggableLabel.this).getGlassPane();\r\n\t\t\t\tDraggableLabel.this.initialParent.remove(DraggableLabel.this);\r\n\t\t\t\tglassPane.add(DraggableLabel.this);\r\n\r\n\t\t\t\t// repaint former panel to display removal of element\r\n\t\t\t\tDraggableLabel.this.initialParent.repaint();\r\n\r\n\t\t\t\t// set up glass pane to actually display elements\r\n\t\t\t\tglassPane.setOpaque(false);\r\n\t\t\t\tglassPane.setVisible(true);\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseReleased(MouseEvent e) {\r\n\t\t\t\t// remove from glass pane\r\n\t\t\t\tJPanel glassPane = (JPanel) SwingUtilities.getRootPane(DraggableLabel.this).getGlassPane();\r\n\t\t\t\tglassPane.remove(DraggableLabel.this);\r\n\r\n\t\t\t\t// add to former panel\r\n\t\t\t\tDraggableLabel.this.initialParent.add(DraggableLabel.this);\r\n\t\t\t\tDraggableLabel.this.initialParent.repaint();\r\n\r\n\t\t\t\tDraggableLabel.this.initialParent = null;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseEntered(MouseEvent e) {\r\n\t\t\t\t// no-op\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseExited(MouseEvent e) {\r\n\t\t\t\t// no-op\r\n\t\t\t}\r\n\r\n\t\t});\r\n\t\tthis.addMouseMotionListener(new MouseMotionListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseDragged(MouseEvent e) {\r\n\t\t\t\t// get task bar height\r\n\t\t\t\tDimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\r\n\t\t\t\tRectangle windowSize = GraphicsEnvironment.getLocalGraphicsEnvironment().getMaximumWindowBounds();\r\n\t\t\t\tint taskBarHeight = (int) (screenSize.getHeight() - windowSize.getHeight());\r\n\r\n\t\t\t\tint mouseScreenX = e.getXOnScreen();\r\n\t\t\t\tint mouseScreenY = e.getYOnScreen();\r\n\r\n\t\t\t\t// calculate, offsetting y for the task bar\r\n\t\t\t\t// note: task bar offsetting will probably break if people have their taskbar at the top of the screen!\r\n\t\t\t\t// good thing I don&#39;t care!\r\n\t\t\t\tJFrame frame = (JFrame) SwingUtilities.getRoot(DraggableLabel.this);\r\n\t\t\t\tint mouseFrameX = mouseScreenX - frame.getX();\r\n\t\t\t\tint mouseFrameY = mouseScreenY - frame.getY() - taskBarHeight;\r\n\r\n\t\t\t\t// set location and ensure visibility\r\n\t\t\t\tDraggableLabel.this.setLocation(mouseFrameX, mouseFrameY);\r\n\t\t\t\tDraggableLabel.this.setVisible(true);\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseMoved(MouseEvent e) {\r\n\t\t\t\t// no-op\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n```","title":"How can I unconditionally make my swing component render above all others?","body":"<p>solved this myself through the usage of a glass pane!\nthis code should work in nearly every case, the only issue I've found is that the mouse/component position may not be exactly synced if the user has a taskbar position other than bottom.</p>\n<p>thanks to <a href=\"https://stackoverflow.com/users/992484/madprogrammer\">https://stackoverflow.com/users/992484/madprogrammer</a> for suggesting I use swing's glass pane to fix it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.JComponent;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\nimport java.awt.Dimension;\nimport java.awt.GraphicsEnvironment;\nimport java.awt.Rectangle;\nimport java.awt.Toolkit;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.event.MouseMotionListener;\n\npublic class DraggableLabel extends JLabel {\n    private JComponent initialParent;\n\n    public DraggableLabel(String text) {\n        super(text);\n        this.setOpaque(false);\n\n        this.addMouseListener(new MouseListener() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                // no-op\n            }\n\n            @Override\n            public void mousePressed(MouseEvent e) {\n                // save parent for re-addition after dragging is finished\n                DraggableLabel.this.initialParent = (JComponent) DraggableLabel.this.getParent();\n\n                // configure object to be on the glass pane instead of its former pane\n                DraggableLabel.this.setVisible(false);\n                JPanel glassPane = (JPanel) SwingUtilities.getRootPane(DraggableLabel.this).getGlassPane();\n                DraggableLabel.this.initialParent.remove(DraggableLabel.this);\n                glassPane.add(DraggableLabel.this);\n\n                // repaint former panel to display removal of element\n                DraggableLabel.this.initialParent.repaint();\n\n                // set up glass pane to actually display elements\n                glassPane.setOpaque(false);\n                glassPane.setVisible(true);\n            }\n\n            @Override\n            public void mouseReleased(MouseEvent e) {\n                // remove from glass pane\n                JPanel glassPane = (JPanel) SwingUtilities.getRootPane(DraggableLabel.this).getGlassPane();\n                glassPane.remove(DraggableLabel.this);\n\n                // add to former panel\n                DraggableLabel.this.initialParent.add(DraggableLabel.this);\n                DraggableLabel.this.initialParent.repaint();\n\n                DraggableLabel.this.initialParent = null;\n            }\n\n            @Override\n            public void mouseEntered(MouseEvent e) {\n                // no-op\n            }\n\n            @Override\n            public void mouseExited(MouseEvent e) {\n                // no-op\n            }\n\n        });\n        this.addMouseMotionListener(new MouseMotionListener() {\n            @Override\n            public void mouseDragged(MouseEvent e) {\n                // get task bar height\n                Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\n                Rectangle windowSize = GraphicsEnvironment.getLocalGraphicsEnvironment().getMaximumWindowBounds();\n                int taskBarHeight = (int) (screenSize.getHeight() - windowSize.getHeight());\n\n                int mouseScreenX = e.getXOnScreen();\n                int mouseScreenY = e.getYOnScreen();\n\n                // calculate, offsetting y for the task bar\n                // note: task bar offsetting will probably break if people have their taskbar at the top of the screen!\n                // good thing I don't care!\n                JFrame frame = (JFrame) SwingUtilities.getRoot(DraggableLabel.this);\n                int mouseFrameX = mouseScreenX - frame.getX();\n                int mouseFrameY = mouseScreenY - frame.getY() - taskBarHeight;\n\n                // set location and ensure visibility\n                DraggableLabel.this.setLocation(mouseFrameX, mouseFrameY);\n                DraggableLabel.this.setVisible(true);\n            }\n\n            @Override\n            public void mouseMoved(MouseEvent e) {\n                // no-op\n            }\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18870627,"reputation":49,"user_id":13765314,"display_name":"ix0rai"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":75026632,"answer_count":1,"score":0,"last_activity_date":1673042315,"creation_date":1672803823,"question_id":75000755,"body_markdown":"I have a `JComponent`, specifically a `JLabel`, that I want to render above all other components in my UI. I&#39;ve made it draggable via [this code](https://gist.github.com/ix0rai/2e075a4df1a1f5d3744f48fea113c976), and I&#39;d like it to render above everything else in the UI while being dragged.\r\n\r\nI&#39;ve attempted to use a `JLayeredPane`, but I couldn&#39;t get it to work with my UI, which is huge and complicated. Ideally there&#39;s some sort of solution that I can simply implement in the component&#39;s `paint(Graphics)` method.","title":"How can I unconditionally make my swing component render above all others?","body":"<p>I have a <code>JComponent</code>, specifically a <code>JLabel</code>, that I want to render above all other components in my UI. I've made it draggable via <a href=\"https://gist.github.com/ix0rai/2e075a4df1a1f5d3744f48fea113c976\" rel=\"nofollow noreferrer\">this code</a>, and I'd like it to render above everything else in the UI while being dragged.</p>\n<p>I've attempted to use a <code>JLayeredPane</code>, but I couldn't get it to work with my UI, which is huge and complicated. Ideally there's some sort of solution that I can simply implement in the component's <code>paint(Graphics)</code> method.</p>\n"},{"tags":["java","sockets","ssl","client-server","tls1.2"],"comments":[{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":2,"creation_date":1672883420,"post_id":75012807,"comment_id":132375659,"body_markdown":"TCP does not have the concept of &#39;message&#39; - it&#39;s just a stream of bytes (i.e. there&#39;s no correlation between the number of &#39;sends&#39; and  the number of &#39;recvs&#39; at the other end) - so if you want &#39;messages&#39; you have to invent them.  TLS invents the &#39;TLS record&#39; via a header which includes the length of the record. [See e.g. Wikipedia](https://en.wikipedia.org/wiki/Transport_Layer_Security#TLS_record).  Your concern about &#39;retriansmissons&#39; is wrong - TCP handles that, not layers above TCP.","body":"TCP does not have the concept of &#39;message&#39; - it&#39;s just a stream of bytes (i.e. there&#39;s no correlation between the number of &#39;sends&#39; and  the number of &#39;recvs&#39; at the other end) - so if you want &#39;messages&#39; you have to invent them.  TLS invents the &#39;TLS record&#39; via a header which includes the length of the record. <a href=\"https://en.wikipedia.org/wiki/Transport_Layer_Security#TLS_record\" rel=\"nofollow noreferrer\">See e.g. Wikipedia</a>.  Your concern about &#39;retriansmissons&#39; is wrong - TCP handles that, not layers above TCP."},{"owner":{"account_id":3058606,"reputation":21,"user_id":2591759,"display_name":"leandro.marques"},"score":0,"creation_date":1672921464,"post_id":75012807,"comment_id":132384310,"body_markdown":"Thanks for the info. I understood TCP is responsible for retransmissions and I don&#39;t need to handle this in the app. However, I do receive half of some TLS record on the way and can not identify it, that is the problem. For example: a TLS record I am waiting has 1000 bytes but I get only 700 bytes in the socket read. The last 300 bytes needs to be received on another read, but I can&#39;t know the size of the current TLS record. Is there any way to do it in Java?","body":"Thanks for the info. I understood TCP is responsible for retransmissions and I don&#39;t need to handle this in the app. However, I do receive half of some TLS record on the way and can not identify it, that is the problem. For example: a TLS record I am waiting has 1000 bytes but I get only 700 bytes in the socket read. The last 300 bytes needs to be received on another read, but I can&#39;t know the size of the current TLS record. Is there any way to do it in Java?"},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1672922875,"post_id":75012807,"comment_id":132384802,"body_markdown":"As long as you&#39;ve got the TLS header (a fixed size) you can find the TLS record length.  But in the cases I&#39;ve seen, I think an SSLEngine is used to handle such details.","body":"As long as you&#39;ve got the TLS header (a fixed size) you can find the TLS record length.  But in the cases I&#39;ve seen, I think an SSLEngine is used to handle such details."},{"owner":{"account_id":3058606,"reputation":21,"user_id":2591759,"display_name":"leandro.marques"},"score":0,"creation_date":1672923146,"post_id":75012807,"comment_id":132384899,"body_markdown":"The error occurs exactly inside SSLEngine when I try to unwrap an amount of bytes I just read from socket. The SSLEngine returns an exception saying: &quot;SSLException: Unrecognized record version&quot; basically because the TLS record may be incomplete","body":"The error occurs exactly inside SSLEngine when I try to unwrap an amount of bytes I just read from socket. The SSLEngine returns an exception saying: &quot;SSLException: Unrecognized record version&quot; basically because the TLS record may be incomplete"},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1672936094,"post_id":75012807,"comment_id":132390006,"body_markdown":"If the SSLEngine needs more data it tells you, and then you have to read more data from the socket and give it to the SSLEngine.","body":"If the SSLEngine needs more data it tells you, and then you have to read more data from the socket and give it to the SSLEngine."},{"owner":{"account_id":3058606,"reputation":21,"user_id":2591759,"display_name":"leandro.marques"},"score":0,"creation_date":1672949779,"post_id":75012807,"comment_id":132394439,"body_markdown":"@PresidentJamesK.Polk does the SSLEngine tells it by raising an exception? Or there is any way to check it before handling any exception?","body":"@PresidentJamesK.Polk does the SSLEngine tells it by raising an exception? Or there is any way to check it before handling any exception?"}],"answers":[{"tags":[],"owner":{"account_id":3058606,"reputation":21,"user_id":2591759,"display_name":"leandro.marques"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673042189,"creation_date":1673042189,"answer_id":75036436,"question_id":75012807,"body_markdown":"After getting comments and better understanding TLS protocol, I could work out a solution for the problem by implementing a buffer and getting the exact size of a TLS Record to wait for other TCP reads.\r\n\r\nA TLS record &quot;might be split into multiple TCP fragments or TCP fragments might also contain multiple TLS records in full, in half or whatever. These TCP fragments then might even be cut into multiple IP packets although TCP tries hard to avoid this.&quot;, from [https://stackoverflow.com/questions/59189045/determine-packet-size-of-tls-packet-java-android][1]. However, that post mentions first 2 bytes and it is not right. According to [https://hpbn.co/transport-layer-security-tls/#tls-record-diagram][2]:\r\n\r\n&gt; Maximum TLS record size is 16 KB\r\n&gt; \r\n&gt; **Each record contains a 5-byte header**, a MAC (up to 20 bytes for SSLv3,\r\n&gt; TLS 1.0, TLS 1.1, and up to 32 bytes for TLS 1.2), and padding if a\r\n&gt; block cipher is used.\r\n&gt; \r\n&gt; **To decrypt and verify the record, the entire record must be available.**\r\n\r\nThe TLS record size lies on the 3rd and 4th bytes:\r\n\r\n[![TLS Record Protocol][3]][3]\r\n\r\nThe code ended up being like this:\r\n\r\n    protected synchronized void read(SocketChannel socketChannel, SSLEngine engine) throws IOException {\r\n\r\n        this.peerNetData.clear();\r\n        int bytesRead = socketChannel.read(this.peerNetData);\r\n        if (bytesRead &gt; 0) {\r\n            // TLS records buffering\r\n            this.peerNetData.flip();\r\n            byte[] justRead = new byte[this.peerNetData.limit()];\r\n            this.peerNetData.get(justRead);\r\n            this.tlsRecordsReadBuffer.put(justRead);\r\n            byte[] fullTlsRecord;\r\n\r\n            // Process every TLS record available until buffer is empty or the last record is yet not complete\r\n            while ( (fullTlsRecord = this.getFullTlsRecordFromBufferAndDeleteIt()) != null ) {\r\n                    this.peerNetData.clear();\r\n                    this.peerNetData.put(fullTlsRecord);\r\n                    handleEncryptedTransaction(socketChannel, engine);\r\n            }\r\n        } else if (bytesRead &lt; 0) {\r\n            handleEndOfStream(socketChannel, engine);\r\n        }\r\n    }\r\n\r\n    private synchronized byte[] getFullTlsRecordFromBufferAndDeleteIt() {\r\n        byte[] result = null;\r\n        this.tlsRecordsReadBuffer.flip();\r\n\r\n        if (this.tlsRecordsReadBuffer.limit() &gt; DEFAULT_TLS_HEADER_SIZE) {\r\n            // Read only the first 5 bytes (5 = DEFAULT_TLS_HEADER_SIZE) which contains TLS record length\r\n            byte[] tlsHeader = new byte[DEFAULT_TLS_HEADER_SIZE];\r\n            this.tlsRecordsReadBuffer.get(tlsHeader);\r\n\r\n            **// read 3rd and 4th bytes to get TLS record length in big endian notation\r\n            int tlsRecordSize = ((tlsHeader[3] &amp; 0xff) &lt;&lt; 8) | (tlsHeader[4] &amp; 0xff);**\r\n            // 0xff IS NECESSARY because it removes one-bit negative representation\r\n            // Set  position back to the beginning\r\n            this.tlsRecordsReadBuffer.position(0);\r\n            if (this.tlsRecordsReadBuffer.limit() &gt;= (tlsRecordSize + DEFAULT_TLS_HEADER_SIZE)) {\r\n                // Then we have a complete TLS record\r\n                result = new byte[tlsRecordSize + DEFAULT_TLS_HEADER_SIZE];\r\n                this.tlsRecordsReadBuffer.get(result);\r\n            }\r\n        }\r\n\r\n        // remove record and get back to write mode\r\n        this.tlsRecordsReadBuffer.compact();\r\n        return result;\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/59189045/determine-packet-size-of-tls-packet-java-android\r\n  [2]: https://hpbn.co/transport-layer-security-tls/#tls-record-diagram\r\n  [3]: https://i.stack.imgur.com/JoqjU.png","title":"Handling TCP broken packets over a Secure connections (TLSv2) is failing because I can&#39;t see or decrypt content","body":"<p>After getting comments and better understanding TLS protocol, I could work out a solution for the problem by implementing a buffer and getting the exact size of a TLS Record to wait for other TCP reads.</p>\n<p>A TLS record &quot;might be split into multiple TCP fragments or TCP fragments might also contain multiple TLS records in full, in half or whatever. These TCP fragments then might even be cut into multiple IP packets although TCP tries hard to avoid this.&quot;, from <a href=\"https://stackoverflow.com/questions/59189045/determine-packet-size-of-tls-packet-java-android\">Determine packet size of TLS packet Java/Android</a>. However, that post mentions first 2 bytes and it is not right. According to <a href=\"https://hpbn.co/transport-layer-security-tls/#tls-record-diagram\" rel=\"nofollow noreferrer\">https://hpbn.co/transport-layer-security-tls/#tls-record-diagram</a>:</p>\n<blockquote>\n<p>Maximum TLS record size is 16 KB</p>\n<p><strong>Each record contains a 5-byte header</strong>, a MAC (up to 20 bytes for SSLv3,\nTLS 1.0, TLS 1.1, and up to 32 bytes for TLS 1.2), and padding if a\nblock cipher is used.</p>\n<p><strong>To decrypt and verify the record, the entire record must be available.</strong></p>\n</blockquote>\n<p>The TLS record size lies on the 3rd and 4th bytes:</p>\n<p><a href=\"https://i.stack.imgur.com/JoqjU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JoqjU.png\" alt=\"TLS Record Protocol\" /></a></p>\n<p>The code ended up being like this:</p>\n<pre><code>protected synchronized void read(SocketChannel socketChannel, SSLEngine engine) throws IOException {\n\n    this.peerNetData.clear();\n    int bytesRead = socketChannel.read(this.peerNetData);\n    if (bytesRead &gt; 0) {\n        // TLS records buffering\n        this.peerNetData.flip();\n        byte[] justRead = new byte[this.peerNetData.limit()];\n        this.peerNetData.get(justRead);\n        this.tlsRecordsReadBuffer.put(justRead);\n        byte[] fullTlsRecord;\n\n        // Process every TLS record available until buffer is empty or the last record is yet not complete\n        while ( (fullTlsRecord = this.getFullTlsRecordFromBufferAndDeleteIt()) != null ) {\n                this.peerNetData.clear();\n                this.peerNetData.put(fullTlsRecord);\n                handleEncryptedTransaction(socketChannel, engine);\n        }\n    } else if (bytesRead &lt; 0) {\n        handleEndOfStream(socketChannel, engine);\n    }\n}\n\nprivate synchronized byte[] getFullTlsRecordFromBufferAndDeleteIt() {\n    byte[] result = null;\n    this.tlsRecordsReadBuffer.flip();\n\n    if (this.tlsRecordsReadBuffer.limit() &gt; DEFAULT_TLS_HEADER_SIZE) {\n        // Read only the first 5 bytes (5 = DEFAULT_TLS_HEADER_SIZE) which contains TLS record length\n        byte[] tlsHeader = new byte[DEFAULT_TLS_HEADER_SIZE];\n        this.tlsRecordsReadBuffer.get(tlsHeader);\n\n        **// read 3rd and 4th bytes to get TLS record length in big endian notation\n        int tlsRecordSize = ((tlsHeader[3] &amp; 0xff) &lt;&lt; 8) | (tlsHeader[4] &amp; 0xff);**\n        // 0xff IS NECESSARY because it removes one-bit negative representation\n        // Set  position back to the beginning\n        this.tlsRecordsReadBuffer.position(0);\n        if (this.tlsRecordsReadBuffer.limit() &gt;= (tlsRecordSize + DEFAULT_TLS_HEADER_SIZE)) {\n            // Then we have a complete TLS record\n            result = new byte[tlsRecordSize + DEFAULT_TLS_HEADER_SIZE];\n            this.tlsRecordsReadBuffer.get(result);\n        }\n    }\n\n    // remove record and get back to write mode\n    this.tlsRecordsReadBuffer.compact();\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":3058606,"reputation":21,"user_id":2591759,"display_name":"leandro.marques"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673042189,"creation_date":1672879629,"question_id":75012807,"body_markdown":"**I am working on a client application that sends transactions to a server over a TLS connection. The applications sends a given number of bytes and receives 1182 bytes as response. It has been working fine until I started increasing the number of transactions per second**. After that, some response packets started to be broken and cannot be fully received by the client in only read. When I try to unwrap the packet content, it raises an exception and terminates TLS session. \r\n\r\n    javax.net.ssl.SSLException: Unrecognized record version (D)TLS-0.0 , plaintext connection?\r\n    \tat java.base/sun.security.ssl.SSLEngineInputRecord.bytesInCompletePacket(SSLEngineInputRecord.java:98)\r\n    \tat java.base/sun.security.ssl.SSLEngineInputRecord.bytesInCompletePacket(SSLEngineInputRecord.java:64)\r\n    \tat java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:544)\r\n    \tat java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:441)\r\n    \tat java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:420)\r\n    \tat java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:634)\r\n        at MyClass.handleEncryptedTransaction(MyClass.java:297)\r\n\r\nI tried to use a buffer to accumulate possible broken packages, however I cannot see the packet content before decripting and can only estimate if it is complete based on its size.\r\n\r\n        this.peerNetData.clear();\r\n        int bytesRead = socketChannel.read(this.peerNetData);\r\n        if (bytesRead == DEFAULT_TLS_HANDSHAKE_SIZE) {\r\n            handleEncryptedTransaction(socketChannel, engine);\r\n        } else if (bytesRead &gt; 0) {\r\n            // TLS packet buffering\r\n\r\n            byte[] justRead = new byte[this.peerNetData.position()];\r\n            this.peerNetData.flip();\r\n            this.peerNetData.get(justRead);\r\n            this.incompleteTransactionsBuffer.put(justRead);\r\n\r\n            // DEFAULT_TLS_TRANSACTION_SIZE == 1182\r\n            if (this.incompleteTransactionsBuffer.position() &gt;= DEFAULT_TLS_TRANSACTION_SIZE) {\r\n                this.incompleteTransactionsBuffer.flip(); // flipping to read mode\r\n\r\n                while (this.incompleteTransactionsBuffer.remaining() &gt;= DEFAULT_TLS_TRANSACTION_SIZE) {\r\n                    byte[] fullTransaction = new byte[DEFAULT_TLS_TRANSACTION_SIZE];\r\n\r\n                    this.incompleteTransactionsBuffer.get(fullTransaction, 0, fullTransaction.length);\r\n\r\n                    this.peerNetData.clear();\r\n                    this.peerNetData.put(fullTransaction);\r\n\r\n                    // This method uses this.peerNetData to unwrap data and \r\n                    handleEncryptedTransaction(socketChannel, engine);\r\n                }\r\n                this.incompleteTransactionsBuffer.compact(); // wipe out bytes that had been read and free space of the buffer\r\n            }\r\n        }\r\n\r\n**Is there anyway to check if a TCP packet over TLS is complete?** I tried to read the first 1182 bytes but it doesn&#39;t seem to work. **Interestingly, this code work when I get multiple packets in the response, such as (N * 1182), where N varies from 2 to 7**. Maybe I should wait for another socket read and get another piece of information? \r\n\r\nI suppose this problem occurs because of packet retransmissions caused by heavy traffic. **Is there any other way to deal with TLS packet retransmissions in low level socket connections in Java?**","title":"Handling TCP broken packets over a Secure connections (TLSv2) is failing because I can&#39;t see or decrypt content","body":"<p><strong>I am working on a client application that sends transactions to a server over a TLS connection. The applications sends a given number of bytes and receives 1182 bytes as response. It has been working fine until I started increasing the number of transactions per second</strong>. After that, some response packets started to be broken and cannot be fully received by the client in only read. When I try to unwrap the packet content, it raises an exception and terminates TLS session.</p>\n<pre><code>javax.net.ssl.SSLException: Unrecognized record version (D)TLS-0.0 , plaintext connection?\n    at java.base/sun.security.ssl.SSLEngineInputRecord.bytesInCompletePacket(SSLEngineInputRecord.java:98)\n    at java.base/sun.security.ssl.SSLEngineInputRecord.bytesInCompletePacket(SSLEngineInputRecord.java:64)\n    at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:544)\n    at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:441)\n    at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:420)\n    at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:634)\n    at MyClass.handleEncryptedTransaction(MyClass.java:297)\n</code></pre>\n<p>I tried to use a buffer to accumulate possible broken packages, however I cannot see the packet content before decripting and can only estimate if it is complete based on its size.</p>\n<pre><code>    this.peerNetData.clear();\n    int bytesRead = socketChannel.read(this.peerNetData);\n    if (bytesRead == DEFAULT_TLS_HANDSHAKE_SIZE) {\n        handleEncryptedTransaction(socketChannel, engine);\n    } else if (bytesRead &gt; 0) {\n        // TLS packet buffering\n\n        byte[] justRead = new byte[this.peerNetData.position()];\n        this.peerNetData.flip();\n        this.peerNetData.get(justRead);\n        this.incompleteTransactionsBuffer.put(justRead);\n\n        // DEFAULT_TLS_TRANSACTION_SIZE == 1182\n        if (this.incompleteTransactionsBuffer.position() &gt;= DEFAULT_TLS_TRANSACTION_SIZE) {\n            this.incompleteTransactionsBuffer.flip(); // flipping to read mode\n\n            while (this.incompleteTransactionsBuffer.remaining() &gt;= DEFAULT_TLS_TRANSACTION_SIZE) {\n                byte[] fullTransaction = new byte[DEFAULT_TLS_TRANSACTION_SIZE];\n\n                this.incompleteTransactionsBuffer.get(fullTransaction, 0, fullTransaction.length);\n\n                this.peerNetData.clear();\n                this.peerNetData.put(fullTransaction);\n\n                // This method uses this.peerNetData to unwrap data and \n                handleEncryptedTransaction(socketChannel, engine);\n            }\n            this.incompleteTransactionsBuffer.compact(); // wipe out bytes that had been read and free space of the buffer\n        }\n    }\n</code></pre>\n<p><strong>Is there anyway to check if a TCP packet over TLS is complete?</strong> I tried to read the first 1182 bytes but it doesn't seem to work. <strong>Interestingly, this code work when I get multiple packets in the response, such as (N * 1182), where N varies from 2 to 7</strong>. Maybe I should wait for another socket read and get another piece of information?</p>\n<p>I suppose this problem occurs because of packet retransmissions caused by heavy traffic. <strong>Is there any other way to deal with TLS packet retransmissions in low level socket connections in Java?</strong></p>\n"},{"tags":["java","instanceof"],"answers":[{"tags":[],"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672685048,"creation_date":1672685048,"answer_id":74985984,"question_id":74985915,"body_markdown":"Application servers often inject [dynamic proxies](https://docs.oracle.com/javase/8/docs/technotes/guides/reflection/proxy.html) for session beans to implement EJB features like transaction handling. Such a proxy only implements the session bean interface, but does not expose other details of the session bean implementation.","title":"Instanceof does not work when I use @EJB, why is that?","body":"<p>Application servers often inject <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/reflection/proxy.html\" rel=\"nofollow noreferrer\">dynamic proxies</a> for session beans to implement EJB features like transaction handling. Such a proxy only implements the session bean interface, but does not expose other details of the session bean implementation.</p>\n"},{"tags":[],"owner":{"account_id":189403,"reputation":303,"user_id":2902165,"accept_rate":10,"display_name":"user2902165"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673042110,"creation_date":1673040339,"answer_id":75036203,"question_id":74985915,"body_markdown":"\r\nIt was a really surprise to me that the app-server did not implement all of the interfaces specified in the session bean in the proxy-implementation.\r\n(It was actually a surprise that it was a proxy and not the bean that was injected, and I have bean in the biz for over 20 years. Wow, new lesson each day)\r\n\r\nI think I solved it pretty good by using Qualifier.\r\nI found this great tutorial:\r\nhttp://buraktas.com/create-qualifiers-cdi-beans/\r\n\r\nUsing that example\r\nI put a Qualifier-annotation class in my interface-project\r\n\r\n    @Qualifier\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target({ElementType.FIELD, ElementType.METHOD, ElementType.TYPE})\r\n    public @interface ExceptionThrowerQualifier {\r\n    }\r\n\r\nI marked a bean with the qualifier in the server-project:\r\n\r\n    @ExceptionThrowerQualifier\r\n    @Stateless\r\n    @TransactionManagement(TransactionManagementType.CONTAINER)\r\n    public class CrudsTransactionSessionBean implements CrudSessionLocal, ExceptionThrower { \r\n\r\nIn my servlet in the web-client-project I Inject it like this:\r\n\r\n\r\n\t@Inject\r\n\t@ExceptionThrowerQualifier\r\n\tprivate CrudSessionLocal crudSessionLocal;\r\n\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n\r\n        if( crudSessionLocal instanceof ExceptionThrower ) {\r\n            ExceptionThrower exceptionThrower = (ExceptionThrower)crudSessionLocal;\r\n            exceptionThrower.setThrowException(throwException);\r\n        }\r\n\r\n\r\nThe benifit is that the web-client do not need to be aware of the implementation (&quot;loose coupling&quot; between server and web-client, right?). I could just use the interface classes from the web-client\r\nI do not need to implement the ExceptionThrower in the server. This is nice so I could use &quot;instanceof&quot; if I want to.\r\n\r\nBut a big drawback is that at least one class need to be annotated with @ExceptionThrowerQualifier. Else it seems like the app server do not know which class to use for injection. (Perhaps this is only true if there are more then one class that implements the interface CrudSessionLocal.)\r\n\r\nOps, looks like I forgot to mention one thing:\r\n\r\n    @Local\r\n    public interface ExceptionThrower {\r\n\r\nTo make it work this seems to be needed. \r\n\r\nBest regards\r\nFredrik","title":"Instanceof does not work when I use @EJB, why is that?","body":"<p>It was a really surprise to me that the app-server did not implement all of the interfaces specified in the session bean in the proxy-implementation.\n(It was actually a surprise that it was a proxy and not the bean that was injected, and I have bean in the biz for over 20 years. Wow, new lesson each day)</p>\n<p>I think I solved it pretty good by using Qualifier.\nI found this great tutorial:\n<a href=\"http://buraktas.com/create-qualifiers-cdi-beans/\" rel=\"nofollow noreferrer\">http://buraktas.com/create-qualifiers-cdi-beans/</a></p>\n<p>Using that example\nI put a Qualifier-annotation class in my interface-project</p>\n<pre><code>@Qualifier\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.FIELD, ElementType.METHOD, ElementType.TYPE})\npublic @interface ExceptionThrowerQualifier {\n}\n</code></pre>\n<p>I marked a bean with the qualifier in the server-project:</p>\n<pre><code>@ExceptionThrowerQualifier\n@Stateless\n@TransactionManagement(TransactionManagementType.CONTAINER)\npublic class CrudsTransactionSessionBean implements CrudSessionLocal, ExceptionThrower { \n</code></pre>\n<p>In my servlet in the web-client-project I Inject it like this:</p>\n<pre><code>@Inject\n@ExceptionThrowerQualifier\nprivate CrudSessionLocal crudSessionLocal;\n\nprotected void doPost(HttpServletRequest request, HttpServletResponse response)\n        throws ServletException, IOException {\n\n    if( crudSessionLocal instanceof ExceptionThrower ) {\n        ExceptionThrower exceptionThrower = (ExceptionThrower)crudSessionLocal;\n        exceptionThrower.setThrowException(throwException);\n    }\n</code></pre>\n<p>The benifit is that the web-client do not need to be aware of the implementation (&quot;loose coupling&quot; between server and web-client, right?). I could just use the interface classes from the web-client\nI do not need to implement the ExceptionThrower in the server. This is nice so I could use &quot;instanceof&quot; if I want to.</p>\n<p>But a big drawback is that at least one class need to be annotated with @ExceptionThrowerQualifier. Else it seems like the app server do not know which class to use for injection. (Perhaps this is only true if there are more then one class that implements the interface CrudSessionLocal.)</p>\n<p>Ops, looks like I forgot to mention one thing:</p>\n<pre><code>@Local\npublic interface ExceptionThrower {\n</code></pre>\n<p>To make it work this seems to be needed.</p>\n<p>Best regards\nFredrik</p>\n"}],"owner":{"account_id":189403,"reputation":303,"user_id":2902165,"accept_rate":10,"display_name":"user2902165"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1673042110,"creation_date":1672684429,"question_id":74985915,"body_markdown":"I got two interface-classes (actually three) in a maven project called &quot;interface&quot;:\r\n\r\n    @Local\r\n    public interface CrudSessionLocal extends CRUDS {\r\n\t    \r\n    }\r\n\r\n    public interface ExceptionThrower {\r\n\t    \r\n\t    public boolean isThrowException();\r\n\r\n\t    public void setThrowException(boolean throwException);\r\n\r\n    }\r\n\r\nI got a bean in a maven project called &quot;server&quot; (that got dependency to &quot;interface&quot;-project) that implements these interfaces:\r\n\r\n    @Stateless\r\n    @TransactionManagement(TransactionManagementType.CONTAINER)\r\n    public class CrudsTransactionSessionBean implements CrudSessionLocal, ExceptionThrower {\r\n\r\nI got a servlet in a maven project called &quot;web-client&quot; (that got dependency to &quot;interface&quot;-project, but not to &quot;server&quot;-project). The servlet uses the bean like this code below, remark that the declaration uses the interface. \r\n\r\n\t@EJB(beanName = &quot;CrudsTransactionSessionBean&quot;)\r\n\tprivate CrudSessionLocal crudSessionLocal;\r\n\r\n\tprotected void doPost(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows ServletException, IOException {\r\n\r\n\t\tif( crudSessionLocal instanceof ExceptionThrower ) {\r\n\t\t\tExceptionThrower exceptionThrower = (ExceptionThrower)crudSessionLocal;\r\n\t\t\texceptionThrower.setThrowException(throwException);\r\n\t\t}\r\n\r\n\r\nI thought that use of the interface in the declartion of the bean-member in the servlet is a good practice. For eg I thought that I can reuse the interface.jar and web-client.jar in an other ear but with an other serverlayer like other_server.jar that holds an other bean that does something else as long as the bean is called &quot;CrudsTransactionSessionBean&quot; and implements the interface.\r\n\r\nIn this case the bean also implements the interface ExceptionThrower. The idea is to check in the servlet if the bean is an instanceof ExceptionThrower, then an exception shall be thrown.\r\n\r\nBut to my surprise, at runtime, the member-bean is NOT an instance of ExceptionThrower. It is:\r\n&quot;com.myapp.cruds.server.CrudsTransactionSessionBean_d7q6e8_CrudSessionLocalImpl@617fe9e5&quot; \r\n(That sounds like a CrudsTransactionSessionBean to me and that implements ExceptionThrower)\r\n\r\n\r\nI think I can do it like this, but then I will not acomplish the &quot;loose coupling&quot; between the jar-dependecies.\r\n\r\n\t@EJB(beanName = &quot;CrudsTransactionSessionBean&quot;)\r\n\tprivate CrudsTransactionSessionBean crudSessionLocal;\r\n\r\nDo you guys see why this is happening?\r\nAnd to accomplish the &quot;loose coupling&quot; how should I solve it?\r\n\r\nBtw I use Java 8 and Weblogic 14","title":"Instanceof does not work when I use @EJB, why is that?","body":"<p>I got two interface-classes (actually three) in a maven project called &quot;interface&quot;:</p>\n<pre><code>@Local\npublic interface CrudSessionLocal extends CRUDS {\n    \n}\n\npublic interface ExceptionThrower {\n    \n    public boolean isThrowException();\n\n    public void setThrowException(boolean throwException);\n\n}\n</code></pre>\n<p>I got a bean in a maven project called &quot;server&quot; (that got dependency to &quot;interface&quot;-project) that implements these interfaces:</p>\n<pre><code>@Stateless\n@TransactionManagement(TransactionManagementType.CONTAINER)\npublic class CrudsTransactionSessionBean implements CrudSessionLocal, ExceptionThrower {\n</code></pre>\n<p>I got a servlet in a maven project called &quot;web-client&quot; (that got dependency to &quot;interface&quot;-project, but not to &quot;server&quot;-project). The servlet uses the bean like this code below, remark that the declaration uses the interface.</p>\n<pre><code>@EJB(beanName = &quot;CrudsTransactionSessionBean&quot;)\nprivate CrudSessionLocal crudSessionLocal;\n\nprotected void doPost(HttpServletRequest request, HttpServletResponse response)\n        throws ServletException, IOException {\n\n    if( crudSessionLocal instanceof ExceptionThrower ) {\n        ExceptionThrower exceptionThrower = (ExceptionThrower)crudSessionLocal;\n        exceptionThrower.setThrowException(throwException);\n    }\n</code></pre>\n<p>I thought that use of the interface in the declartion of the bean-member in the servlet is a good practice. For eg I thought that I can reuse the interface.jar and web-client.jar in an other ear but with an other serverlayer like other_server.jar that holds an other bean that does something else as long as the bean is called &quot;CrudsTransactionSessionBean&quot; and implements the interface.</p>\n<p>In this case the bean also implements the interface ExceptionThrower. The idea is to check in the servlet if the bean is an instanceof ExceptionThrower, then an exception shall be thrown.</p>\n<p>But to my surprise, at runtime, the member-bean is NOT an instance of ExceptionThrower. It is:\n&quot;com.myapp.cruds.server.CrudsTransactionSessionBean_d7q6e8_CrudSessionLocalImpl@617fe9e5&quot;\n(That sounds like a CrudsTransactionSessionBean to me and that implements ExceptionThrower)</p>\n<p>I think I can do it like this, but then I will not acomplish the &quot;loose coupling&quot; between the jar-dependecies.</p>\n<pre><code>@EJB(beanName = &quot;CrudsTransactionSessionBean&quot;)\nprivate CrudsTransactionSessionBean crudSessionLocal;\n</code></pre>\n<p>Do you guys see why this is happening?\nAnd to accomplish the &quot;loose coupling&quot; how should I solve it?</p>\n<p>Btw I use Java 8 and Weblogic 14</p>\n"},{"tags":["java","maven","lwjgl"],"answers":[{"tags":[],"owner":{"account_id":2379975,"reputation":891,"user_id":2082195,"accept_rate":80,"display_name":"Valerie Thiesent"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673041888,"creation_date":1673041888,"answer_id":75036402,"question_id":75036298,"body_markdown":"plugins listed under `&lt;pluginManagement&gt;` will only get executed by projects in child directories which have their own `pom.xml`\r\n\r\nplugins for execution in the current project should be listed without `&lt;pluginManagement&gt;`\r\n\r\nto fix remove pluginManagement, or re-organize your plugins to correctly reflect which plugins should be run and which should be used for child projects.\r\n\r\n\r\n```\r\n&lt;build&gt;\r\n  &lt;plugins&gt;\r\n    [...]\r\n  &lt;/plugins&gt;\r\n  &lt;pluginManagement&gt;\r\n    &lt;plugins&gt;\r\n      [...]\r\n    &lt;/plugins&gt;\r\n  &lt;/pluginManagement&gt;\r\n&lt;/build&gt;\r\n```","title":"How do I copy dependencies to output directory with `maven package`","body":"<p>plugins listed under <code>&lt;pluginManagement&gt;</code> will only get executed by projects in child directories which have their own <code>pom.xml</code></p>\n<p>plugins for execution in the current project should be listed without <code>&lt;pluginManagement&gt;</code></p>\n<p>to fix remove pluginManagement, or re-organize your plugins to correctly reflect which plugins should be run and which should be used for child projects.</p>\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    [...]\n  &lt;/plugins&gt;\n  &lt;pluginManagement&gt;\n    &lt;plugins&gt;\n      [...]\n    &lt;/plugins&gt;\n  &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":2379975,"reputation":891,"user_id":2082195,"accept_rate":80,"display_name":"Valerie Thiesent"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75036402,"answer_count":1,"score":2,"last_activity_date":1673041888,"creation_date":1673041083,"question_id":75036298,"body_markdown":"I have a project which uses LWJGL, and I would like to copy the required jars and related natives to the output directory of the generated jar. I would not like to inject the dependencies into the final jar itself.\r\n\r\nI can run `mvn package` and `mvn dependency:copy-dependencies`, both of which work great.\r\n\r\nMy attempts to run the goal &quot;copy-dependencies&quot; is by adding an execution to the &quot;maven-dependency-plugin&quot; as follows:\r\n\r\n```xml\r\n&lt;executions&gt;\r\n  &lt;execution&gt;\r\n    &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n    &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n    &lt;goals&gt;\r\n      &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n    &lt;/goals&gt;\r\n    &lt;configuration&gt;\r\n      &lt;outputDirectory&gt;\r\n        ${project.build.directory}/libs\r\n      &lt;/outputDirectory&gt;\r\n    &lt;/configuration&gt;\r\n  &lt;/execution&gt;\r\n&lt;/executions&gt;\r\n```\r\n\r\nand again, as referenced by [this answer](https://stackoverflow.com/a/23986765/2082195), with the same result: packaging completes, creating a jar, but no dependencies beside it. no logging that `prepare-package` is occurring, or the `maven-dependency-plugin` is being run at all.\r\n\r\nI&#39;ve also tried binding to other phases, such as `package`, `validate`, `test`, and none of them will cause an execution to occur. This is the only execution in my `pom.xml`. I have only a handful of plugins:\r\n\r\n```\r\nmaven-clean-plugin\r\nmaven-resources-plugin\r\nmaven-compiler-plugin\r\nmaven-jar-plugin (with a config declaring its manifest, shown below)\r\nmaven-install-plugin\r\nmaven-dependency-plugin\r\n```\r\n\r\nAforementioned config:\r\n```xml\r\n&lt;configuration&gt;\r\n  &lt;archive&gt;\r\n    &lt;manifest&gt;\r\n      &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n      &lt;classpathPrefix&gt;libs/&lt;/classpathPrefix&gt;\r\n      &lt;mainClass&gt;\r\n        xyz.valnet.hadean.HadeanGame\r\n      &lt;/mainClass&gt;\r\n    &lt;/manifest&gt;\r\n  &lt;/archive&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nI additionally have 3 profiles, for selecting which LWJGL natives to use by setting the property `lwjgl-natives` and that being used in the dependencies.\r\n\r\nMy question is mainly: what things could cause this execution to not occur. ","title":"How do I copy dependencies to output directory with `maven package`","body":"<p>I have a project which uses LWJGL, and I would like to copy the required jars and related natives to the output directory of the generated jar. I would not like to inject the dependencies into the final jar itself.</p>\n<p>I can run <code>mvn package</code> and <code>mvn dependency:copy-dependencies</code>, both of which work great.</p>\n<p>My attempts to run the goal &quot;copy-dependencies&quot; is by adding an execution to the &quot;maven-dependency-plugin&quot; as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;executions&gt;\n  &lt;execution&gt;\n    &lt;id&gt;copy-dependencies&lt;/id&gt;\n    &lt;phase&gt;prepare-package&lt;/phase&gt;\n    &lt;goals&gt;\n      &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n    &lt;/goals&gt;\n    &lt;configuration&gt;\n      &lt;outputDirectory&gt;\n        ${project.build.directory}/libs\n      &lt;/outputDirectory&gt;\n    &lt;/configuration&gt;\n  &lt;/execution&gt;\n&lt;/executions&gt;\n</code></pre>\n<p>and again, as referenced by <a href=\"https://stackoverflow.com/a/23986765/2082195\">this answer</a>, with the same result: packaging completes, creating a jar, but no dependencies beside it. no logging that <code>prepare-package</code> is occurring, or the <code>maven-dependency-plugin</code> is being run at all.</p>\n<p>I've also tried binding to other phases, such as <code>package</code>, <code>validate</code>, <code>test</code>, and none of them will cause an execution to occur. This is the only execution in my <code>pom.xml</code>. I have only a handful of plugins:</p>\n<pre><code>maven-clean-plugin\nmaven-resources-plugin\nmaven-compiler-plugin\nmaven-jar-plugin (with a config declaring its manifest, shown below)\nmaven-install-plugin\nmaven-dependency-plugin\n</code></pre>\n<p>Aforementioned config:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n  &lt;archive&gt;\n    &lt;manifest&gt;\n      &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n      &lt;classpathPrefix&gt;libs/&lt;/classpathPrefix&gt;\n      &lt;mainClass&gt;\n        xyz.valnet.hadean.HadeanGame\n      &lt;/mainClass&gt;\n    &lt;/manifest&gt;\n  &lt;/archive&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>I additionally have 3 profiles, for selecting which LWJGL natives to use by setting the property <code>lwjgl-natives</code> and that being used in the dependencies.</p>\n<p>My question is mainly: what things could cause this execution to not occur.</p>\n"},{"tags":["java","security","reflection","private"],"comments":[{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":2,"creation_date":1342268460,"post_id":11483647,"comment_id":15165325,"body_markdown":"Local variables live on the stack, not the heap, so this is a totally different concept. But interesting question anyway.","body":"Local variables live on the stack, not the heap, so this is a totally different concept. But interesting question anyway."},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1342268533,"post_id":11483647,"comment_id":15165343,"body_markdown":"1. has duplicates all over, for example: http://stackoverflow.com/questions/1555658/is-it-possible-in-java-to-access-private-fields-via-reflection?rq=1","body":"1. has duplicates all over, for example: <a href=\"http://stackoverflow.com/questions/1555658/is-it-possible-in-java-to-access-private-fields-via-reflection?rq=1\" title=\"is it possible in java to access private fields via reflection\">stackoverflow.com/questions/1555658/&hellip;</a>"},{"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"score":0,"creation_date":1342268675,"post_id":11483647,"comment_id":15165366,"body_markdown":"@Thilo That&#39;s only data members, what about the methods? Is it the same way?","body":"@Thilo That&#39;s only data members, what about the methods? Is it the same way?"},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1342269056,"post_id":11483647,"comment_id":15165422,"body_markdown":"http://stackoverflow.com/questions/880365/any-way-to-invoke-a-private-method?rq=1","body":"<a href=\"http://stackoverflow.com/questions/880365/any-way-to-invoke-a-private-method?rq=1\" title=\"any way to invoke a private method\">stackoverflow.com/questions/880365/&hellip;</a>"},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":1,"creation_date":1342443216,"post_id":11483647,"comment_id":15200094,"body_markdown":"(You can se a `SecurityManager` to make things behave properly. (And you can access local fields through debugging/tooling interfaces or bytecode injection.))","body":"(You can se a <code>SecurityManager</code> to make things behave properly. (And you can access local fields through debugging/tooling interfaces or bytecode injection.))"}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1342268543,"creation_date":1342268543,"answer_id":11483702,"question_id":11483647,"body_markdown":"1. Using the method shown in the answer you linked to: [setAccessible(true)][1], which is a method of the superclass of Field, Constructor and Method.\r\n2. No.\r\n3. No, unless the code runs in a JVM you control, where you install a security manager. But if you give someone a jar file, and he uses the classes from this jar file, he&#39;ll be able to access everything.\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/reflect/AccessibleObject.html#setAccessible%28boolean%29","title":"How do I access private methods and private data members via reflection?","body":"<ol>\n<li>Using the method shown in the answer you linked to: <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/reflect/AccessibleObject.html#setAccessible%28boolean%29\">setAccessible(true)</a>, which is a method of the superclass of Field, Constructor and Method.</li>\n<li>No.</li>\n<li>No, unless the code runs in a JVM you control, where you install a security manager. But if you give someone a jar file, and he uses the classes from this jar file, he'll be able to access everything.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":76,"is_accepted":true,"score":76,"last_activity_date":1484336614,"creation_date":1342272592,"answer_id":11484158,"question_id":11483647,"body_markdown":"1) ***How can I access the private methods and the private data members?***\r\n\r\nYou can do it with a little help of the `setAccessible(true)` method:\r\n\r\n    class Dummy{\r\n        private void foo(){\r\n            System.out.println(&quot;hello foo()&quot;);\r\n        }\r\n        private int i = 10;\r\n    }\r\n\r\n    class Test{\r\n        public static void main(String[] args) throws Exception {\r\n            Dummy d = new Dummy();\r\n\r\n            /*---  [INVOKING PRIVATE METHOD]  ---*/\r\n            Method m = Dummy.class.getDeclaredMethod(&quot;foo&quot;);\r\n            //m.invoke(d); // Exception java.lang.IllegalAccessException\r\n            m.setAccessible(true);//Abracadabra\r\n            m.invoke(d); // Now it&#39;s OK\r\n\r\n            /*---  [GETING VALUE FROM PRIVATE FIELD]  ---*/\r\n            Field f = Dummy.class.getDeclaredField(&quot;i&quot;);\r\n            //System.out.println(f.get(d)); // Not accessible now\r\n            f.setAccessible(true); // Abracadabra\r\n            System.out.println(f.get(d)); // Now it&#39;s OK\r\n\r\n            /*---  [SETTING VALUE OF PRIVATE FIELD]  ---*/\r\n            Field f2 = Dummy.class.getDeclaredField(&quot;i&quot;);\r\n            //f2.set(d,20); // Not accessible now\r\n            f2.setAccessible(true); // Abracadabra\r\n            f2.set(d, 20); // Now it&#39;s OK\r\n            System.out.println(f2.get(d));\r\n        }\r\n    }\r\n\r\n2) ***Is it possible to access a local variable via reflection?***\r\n\r\nNo. Local variables cannot be accessed outside of a block in which they were created (someone could say that you can assign such a variable to a field like `field = localVariable;` and later access such a field via reflection, but this way we will be accessing the *value*, not the *variable*).\r\n\r\n3) ***Is there any way to prevent anyone from accessing private constructors, methods, and data members?***\r\n\r\nI think for `constructors` or `methods` you could use stacktrace to check if it was invoked by `Reflection`.\r\n&lt;br/&gt;For fields I can&#39;t find a solution to prevent accessing them via reflection.\r\n\r\n[WARNING: This is not approved by anyone. I just wrote it inspired by your question.]\r\n------------------------------------------------------------------------\r\n\r\n    class Dummy {\r\n        private void safeMethod() {\r\n            StackTraceElement[] st = new Exception().getStackTrace();\r\n            // If a method was invoked by reflection, the stack trace would be similar\r\n            // to something like this:\r\n            /*\r\n            java.lang.Exception\r\n                at package1.b.Dummy.safeMethod(SomeClass.java:38)\r\n                at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n                at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n                at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            -&gt;    at java.lang.reflect.Method.invoke(Method.java:601)\r\n                at package1.b.Test.main(SomeClass.java:65)\r\n            */\r\n            //5th line marked by &quot;-&gt;&quot; is interesting one so I will try to use that info\r\n\r\n            if (st.length &gt; 5 &amp;&amp;\r\n                st[4].getClassName().equals(&quot;java.lang.reflect.Method&quot;))\r\n                throw new RuntimeException(&quot;safeMethod() is accessible only by Dummy object&quot;);\r\n\r\n            // Now normal code of method\r\n            System.out.println(&quot;code of safe method&quot;);\r\n        }\r\n\r\n        // I will check if it is possible to normally use that method inside this class\r\n        public void trySafeMethod(){\r\n            safeMethod();\r\n        }\r\n\r\n        Dummy() {\r\n            safeMethod();\r\n        }\r\n    }\r\n\r\n    class Dummy1 extends Dummy {}\r\n\r\n    class Test {\r\n        public static void main(String[] args) throws Exception {\r\n            Dummy1 d1 = new Dummy1(); // safeMethod can be invoked inside a superclass constructor\r\n            d1.trySafeMethod(); // safeMethod can be invoked inside other Dummy class methods\r\n            System.out.println(&quot;-------------------&quot;);\r\n\r\n            // Let&#39;s check if it is possible to invoke it via reflection\r\n            Method m2 = Dummy.class.getDeclaredMethod(&quot;safeMethod&quot;);\r\n            // m.invoke(d);//exception java.lang.IllegalAccessException\r\n            m2.setAccessible(true);\r\n            m2.invoke(d1);\r\n        }\r\n    }\r\n\r\n**Output from `Test` main method**:\r\n\r\n    code of safe method\r\n    code of safe method\r\n    -------------------\r\n    Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:601)\r\n        at package1.b.Test.main(MyClass2.java:87)\r\n    Caused by: java.lang.RuntimeException: method safeMethod() is accessible only by Dummy object\r\n        at package1.b.Dummy.safeMethod(MyClass2.java:54)\r\n        ... 5 more\r\n","title":"How do I access private methods and private data members via reflection?","body":"<p>1) <strong><em>How can I access the private methods and the private data members?</em></strong></p>\n\n<p>You can do it with a little help of the <code>setAccessible(true)</code> method:</p>\n\n<pre><code>class Dummy{\n    private void foo(){\n        System.out.println(\"hello foo()\");\n    }\n    private int i = 10;\n}\n\nclass Test{\n    public static void main(String[] args) throws Exception {\n        Dummy d = new Dummy();\n\n        /*---  [INVOKING PRIVATE METHOD]  ---*/\n        Method m = Dummy.class.getDeclaredMethod(\"foo\");\n        //m.invoke(d); // Exception java.lang.IllegalAccessException\n        m.setAccessible(true);//Abracadabra\n        m.invoke(d); // Now it's OK\n\n        /*---  [GETING VALUE FROM PRIVATE FIELD]  ---*/\n        Field f = Dummy.class.getDeclaredField(\"i\");\n        //System.out.println(f.get(d)); // Not accessible now\n        f.setAccessible(true); // Abracadabra\n        System.out.println(f.get(d)); // Now it's OK\n\n        /*---  [SETTING VALUE OF PRIVATE FIELD]  ---*/\n        Field f2 = Dummy.class.getDeclaredField(\"i\");\n        //f2.set(d,20); // Not accessible now\n        f2.setAccessible(true); // Abracadabra\n        f2.set(d, 20); // Now it's OK\n        System.out.println(f2.get(d));\n    }\n}\n</code></pre>\n\n<p>2) <strong><em>Is it possible to access a local variable via reflection?</em></strong></p>\n\n<p>No. Local variables cannot be accessed outside of a block in which they were created (someone could say that you can assign such a variable to a field like <code>field = localVariable;</code> and later access such a field via reflection, but this way we will be accessing the <em>value</em>, not the <em>variable</em>).</p>\n\n<p>3) <strong><em>Is there any way to prevent anyone from accessing private constructors, methods, and data members?</em></strong></p>\n\n<p>I think for <code>constructors</code> or <code>methods</code> you could use stacktrace to check if it was invoked by <code>Reflection</code>.\n<br/>For fields I can't find a solution to prevent accessing them via reflection.</p>\n\n<h2>[WARNING: This is not approved by anyone. I just wrote it inspired by your question.]</h2>\n\n<pre><code>class Dummy {\n    private void safeMethod() {\n        StackTraceElement[] st = new Exception().getStackTrace();\n        // If a method was invoked by reflection, the stack trace would be similar\n        // to something like this:\n        /*\n        java.lang.Exception\n            at package1.b.Dummy.safeMethod(SomeClass.java:38)\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        -&gt;    at java.lang.reflect.Method.invoke(Method.java:601)\n            at package1.b.Test.main(SomeClass.java:65)\n        */\n        //5th line marked by \"-&gt;\" is interesting one so I will try to use that info\n\n        if (st.length &gt; 5 &amp;&amp;\n            st[4].getClassName().equals(\"java.lang.reflect.Method\"))\n            throw new RuntimeException(\"safeMethod() is accessible only by Dummy object\");\n\n        // Now normal code of method\n        System.out.println(\"code of safe method\");\n    }\n\n    // I will check if it is possible to normally use that method inside this class\n    public void trySafeMethod(){\n        safeMethod();\n    }\n\n    Dummy() {\n        safeMethod();\n    }\n}\n\nclass Dummy1 extends Dummy {}\n\nclass Test {\n    public static void main(String[] args) throws Exception {\n        Dummy1 d1 = new Dummy1(); // safeMethod can be invoked inside a superclass constructor\n        d1.trySafeMethod(); // safeMethod can be invoked inside other Dummy class methods\n        System.out.println(\"-------------------\");\n\n        // Let's check if it is possible to invoke it via reflection\n        Method m2 = Dummy.class.getDeclaredMethod(\"safeMethod\");\n        // m.invoke(d);//exception java.lang.IllegalAccessException\n        m2.setAccessible(true);\n        m2.invoke(d1);\n    }\n}\n</code></pre>\n\n<p><strong>Output from <code>Test</code> main method</strong>:</p>\n\n<pre><code>code of safe method\ncode of safe method\n-------------------\nException in thread \"main\" java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:601)\n    at package1.b.Test.main(MyClass2.java:87)\nCaused by: java.lang.RuntimeException: method safeMethod() is accessible only by Dummy object\n    at package1.b.Dummy.safeMethod(MyClass2.java:54)\n    ... 5 more\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2113203,"reputation":9798,"user_id":1878022,"accept_rate":96,"display_name":"VedantK"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1410168090,"creation_date":1410168090,"answer_id":25720945,"question_id":11483647,"body_markdown":"**To access** **a private field** you will need to call the \r\n`Class.getDeclaredField(String name)` or `enter code here` method. \r\n**Check this simple code:**\r\n\r\n    public class PrivateObject {\r\n    \r\n      private String privateString = null;\r\n    \r\n      public PrivateObject(String privateString) {\r\n        this.privateString = privateString;\r\n      }\r\n    }\r\n\r\n    PrivateObject privateObject = new PrivateObject(&quot;The Private Value&quot;);\r\n    \r\n    Field privateStringField = PrivateObject.class.\r\n                getDeclaredField(&quot;privateString&quot;);\r\n    \r\n    privateStringField.setAccessible(true);\r\n    \r\n    String fieldValue = (String) privateStringField.get(privateObject);\r\n    System.out.println(&quot;fieldValue = &quot; + fieldValue\r\n\r\n**To access a private method** you will need to call the Class.getDeclaredMethod(String name, Class[] parameterTypes) or Class.getDeclaredMethods() method.\r\n\r\n**Check this simple code:**\r\n\r\n    public class PrivateObject {\r\n    \r\n      private String privateString = null;\r\n    \r\n      public PrivateObject(String privateString) {\r\n        this.privateString = privateString;\r\n      }\r\n    \r\n      private String getPrivateString(){\r\n        return this.privateString;\r\n      }\r\n    }\r\n    PrivateObject privateObject = new PrivateObject(&quot;The Private Value&quot;);\r\n    \r\n    Method privateStringMethod = PrivateObject.class.\r\n            getDeclaredMethod(&quot;getPrivateString&quot;, null);\r\n    \r\n    privateStringMethod.setAccessible(true);\r\n    \r\n    String returnValue = (String)\r\n            privateStringMethod.invoke(privateObject, null);\r\n    \r\n    System.out.println(&quot;returnValue = &quot; + returnValue);\r\n\r\n Read detail at \r\nhttp://tutorials.jenkov.com/java-reflection/private-fields-and-methods.html\r\n","title":"How do I access private methods and private data members via reflection?","body":"<p><strong>To access</strong> <strong>a private field</strong> you will need to call the \n<code>Class.getDeclaredField(String name)</code> or <code>enter code here</code> method. \n<strong>Check this simple code:</strong></p>\n\n<pre><code>public class PrivateObject {\n\n  private String privateString = null;\n\n  public PrivateObject(String privateString) {\n    this.privateString = privateString;\n  }\n}\n\nPrivateObject privateObject = new PrivateObject(\"The Private Value\");\n\nField privateStringField = PrivateObject.class.\n            getDeclaredField(\"privateString\");\n\nprivateStringField.setAccessible(true);\n\nString fieldValue = (String) privateStringField.get(privateObject);\nSystem.out.println(\"fieldValue = \" + fieldValue\n</code></pre>\n\n<p><strong>To access a private method</strong> you will need to call the Class.getDeclaredMethod(String name, Class[] parameterTypes) or Class.getDeclaredMethods() method.</p>\n\n<p><strong>Check this simple code:</strong></p>\n\n<pre><code>public class PrivateObject {\n\n  private String privateString = null;\n\n  public PrivateObject(String privateString) {\n    this.privateString = privateString;\n  }\n\n  private String getPrivateString(){\n    return this.privateString;\n  }\n}\nPrivateObject privateObject = new PrivateObject(\"The Private Value\");\n\nMethod privateStringMethod = PrivateObject.class.\n        getDeclaredMethod(\"getPrivateString\", null);\n\nprivateStringMethod.setAccessible(true);\n\nString returnValue = (String)\n        privateStringMethod.invoke(privateObject, null);\n\nSystem.out.println(\"returnValue = \" + returnValue);\n</code></pre>\n\n<p>Read detail at \n<a href=\"http://tutorials.jenkov.com/java-reflection/private-fields-and-methods.html\" rel=\"nofollow\">http://tutorials.jenkov.com/java-reflection/private-fields-and-methods.html</a></p>\n"},{"tags":[],"owner":{"account_id":6409015,"reputation":11,"user_id":4969333,"display_name":"Om Deshmukh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433848407,"creation_date":1433848407,"answer_id":30730421,"question_id":11483647,"body_markdown":"     Area s=(Area)c.newInstance();  \r\n     s.setRadius(10);\r\n     System.out.println(&quot;Area: &quot;+s.calculateArea(4));\r\n     \r\n     Method m[]=c.getDeclaredMethods(); \r\n      Constructor c1[]=c.getConstructors();  \r\n     \r\n     for(int i=0;i&lt;m.length;i++)\r\n    \t System.out.println(&quot;&quot;+m[i]);\r\n     \r\n     for(int i=0;i&lt;c1.length;i++)\r\n    \t System.out.println(&quot;&quot;+c1[i]);\r\n         ","title":"How do I access private methods and private data members via reflection?","body":"<pre><code> Area s=(Area)c.newInstance();  \n s.setRadius(10);\n System.out.println(\"Area: \"+s.calculateArea(4));\n\n Method m[]=c.getDeclaredMethods(); \n  Constructor c1[]=c.getConstructors();  \n\n for(int i=0;i&lt;m.length;i++)\n     System.out.println(\"\"+m[i]);\n\n for(int i=0;i&lt;c1.length;i++)\n     System.out.println(\"\"+c1[i]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7492594,"reputation":41,"user_id":5693777,"display_name":"Onkar Nevgi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484336766,"creation_date":1459780988,"answer_id":36405804,"question_id":11483647,"body_markdown":"To answer your third question:\r\n\r\n3. Is there a way to prevent anyone from accessing private constructors, methods, and data members?\r\n\r\nAnswer:\r\n\r\nYes, you can restrict the access (you can throw an exception when someone tries to access your private constructor/method/data)\r\n\r\nRefer to the below example:\r\n\r\n    ******JavaSingleton Class******\r\n\r\n    package server;\r\n\r\n    public class JavaSingleton {\r\n\r\n      private static final JavaSingleton INSTANCE = new JavaSingleton();\r\n\r\n      private JavaSingleton() {\r\n        if (INSTANCE != null) {\r\n          throw new IllegalStateException(&quot;Inside JavaSingleton(): JavaSingleton &quot; +\r\n                                                            &quot;instance already created.&quot;);\r\n        }\r\n        System.out.println(&quot;Inside JavaSingleton(): Singleton instance is being created.&quot;);\r\n      }\r\n\r\n      public static final JavaSingleton getInstance() {\r\n        return INSTANCE;\r\n      }\r\n    }\r\n\r\n\r\n    ***Listing 2: JavaSingleton client***\r\n\r\n    import server.JavaSingleton;\r\n    import java.lang.reflect.*;\r\n\r\n    public class TestSingleton {\r\n\r\n      public static void main(String[] args) throws ReflectiveOperationException {\r\n        System.out.println(&quot;Inside main(): Getting the singleton instance using getInstance()...&quot;);\r\n        JavaSingleton s = JavaSingleton.getInstance();\r\n\r\n        System.out.println(&quot;Inside main(): Trying to use reflection to get another instance...&quot;);\r\n        Class&lt;JavaSingleton&gt; clazz = JavaSingleton.class;\r\n        Constructor&lt;JavaSingleton&gt; cons = clazz.getDeclaredConstructor();\r\n        cons.setAccessible(true);\r\n        JavaSingleton s2 = cons.newInstance();\r\n      }\r\n    }\r\n\r\n    Output:\r\n\r\n    C:\\singleton&gt;java TestSingleton\r\n    Inside main(): Getting the singleton instance using getInstance()...\r\n    Inside JavaSingleton(): Singleton instance is being created.\r\n    Inside main(): Trying to use reflection to get another instance...\r\n    Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n      at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n      at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\r\n      at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n      at java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n      at TestSingleton.main(TestSingleton.java:13)\r\n    Caused by: java.lang.IllegalStateException: Inside JavaSingleton(): JavaSingleton instance already created.\r\n      at server.JavaSingleton.&lt;init&gt;(JavaSingleton.java:7)\r\n      ... 5 more\r\n\r\nThis example was for a singleton class (checking in the constructor), but you can still implement this logic for the private methods that you want to prevent access from other classes.\r\n\r\nIn this case you will also declare a static instance and check the value of it in the private method and throw an error in case of any unwanted value.\r\n","title":"How do I access private methods and private data members via reflection?","body":"<p>To answer your third question:</p>\n\n<ol start=\"3\">\n<li>Is there a way to prevent anyone from accessing private constructors, methods, and data members?</li>\n</ol>\n\n<p>Answer:</p>\n\n<p>Yes, you can restrict the access (you can throw an exception when someone tries to access your private constructor/method/data)</p>\n\n<p>Refer to the below example:</p>\n\n<pre><code>******JavaSingleton Class******\n\npackage server;\n\npublic class JavaSingleton {\n\n  private static final JavaSingleton INSTANCE = new JavaSingleton();\n\n  private JavaSingleton() {\n    if (INSTANCE != null) {\n      throw new IllegalStateException(\"Inside JavaSingleton(): JavaSingleton \" +\n                                                        \"instance already created.\");\n    }\n    System.out.println(\"Inside JavaSingleton(): Singleton instance is being created.\");\n  }\n\n  public static final JavaSingleton getInstance() {\n    return INSTANCE;\n  }\n}\n\n\n***Listing 2: JavaSingleton client***\n\nimport server.JavaSingleton;\nimport java.lang.reflect.*;\n\npublic class TestSingleton {\n\n  public static void main(String[] args) throws ReflectiveOperationException {\n    System.out.println(\"Inside main(): Getting the singleton instance using getInstance()...\");\n    JavaSingleton s = JavaSingleton.getInstance();\n\n    System.out.println(\"Inside main(): Trying to use reflection to get another instance...\");\n    Class&lt;JavaSingleton&gt; clazz = JavaSingleton.class;\n    Constructor&lt;JavaSingleton&gt; cons = clazz.getDeclaredConstructor();\n    cons.setAccessible(true);\n    JavaSingleton s2 = cons.newInstance();\n  }\n}\n\nOutput:\n\nC:\\singleton&gt;java TestSingleton\nInside main(): Getting the singleton instance using getInstance()...\nInside JavaSingleton(): Singleton instance is being created.\nInside main(): Trying to use reflection to get another instance...\nException in thread \"main\" java.lang.reflect.InvocationTargetException\n  at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n  at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n  at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n  at java.lang.reflect.Constructor.newInstance(Unknown Source)\n  at TestSingleton.main(TestSingleton.java:13)\nCaused by: java.lang.IllegalStateException: Inside JavaSingleton(): JavaSingleton instance already created.\n  at server.JavaSingleton.&lt;init&gt;(JavaSingleton.java:7)\n  ... 5 more\n</code></pre>\n\n<p>This example was for a singleton class (checking in the constructor), but you can still implement this logic for the private methods that you want to prevent access from other classes.</p>\n\n<p>In this case you will also declare a static instance and check the value of it in the private method and throw an error in case of any unwanted value.</p>\n"},{"tags":[],"owner":{"account_id":7781500,"reputation":7645,"user_id":5887772,"accept_rate":0,"display_name":"kalyani chaudhari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484336844,"creation_date":1465477300,"answer_id":37726767,"question_id":11483647,"body_markdown":"Example as below:\r\n\r\n    import java.lang.reflect.Constructor;\r\n\r\n    import java.lang.reflect.Field;\r\n\r\n    import java.lang.reflect.InvocationTargetException;\r\n\r\n    import java.lang.reflect.Method;\r\n\r\n    class Test\r\n    {\r\n        private int a = 5;   // Private data member\r\n\r\n        private void call(int n) // Private method\r\n        {\r\n            System.out.println(&quot;in call()  n: &quot; + n);\r\n        }\r\n    }\r\n\r\n    public class Sample\r\n    {\r\n        public static void main(String args[]) throws ClassNotFoundException, NoSuchMethodException, SecurityException, InstantiationException, IllegalAccessException, IllegalArgumentException, InvocationTargetException, NoSuchFieldException\r\n        {\r\n            Class c = Class.forName(&quot;Test&quot;);\r\n\r\n            Object obj = c.newInstance();\r\n\r\n            //---- Accessing a private method\r\n            Method m=c.getDeclaredMethod(&quot;call&quot;,new Class[]{int.class});\r\n            m.setAccessible(true);\r\n            m.invoke(obj,7);\r\n\r\n           //---- Accessing a private data member\r\n           Field d = c.getDeclaredField(&quot;a&quot;);\r\n           d.setAccessible(true);\r\n           System.out.println(d.getInt(obj));\r\n        }\r\n    }\r\n\r\n","title":"How do I access private methods and private data members via reflection?","body":"<p>Example as below:</p>\n\n<pre><code>import java.lang.reflect.Constructor;\n\nimport java.lang.reflect.Field;\n\nimport java.lang.reflect.InvocationTargetException;\n\nimport java.lang.reflect.Method;\n\nclass Test\n{\n    private int a = 5;   // Private data member\n\n    private void call(int n) // Private method\n    {\n        System.out.println(\"in call()  n: \" + n);\n    }\n}\n\npublic class Sample\n{\n    public static void main(String args[]) throws ClassNotFoundException, NoSuchMethodException, SecurityException, InstantiationException, IllegalAccessException, IllegalArgumentException, InvocationTargetException, NoSuchFieldException\n    {\n        Class c = Class.forName(\"Test\");\n\n        Object obj = c.newInstance();\n\n        //---- Accessing a private method\n        Method m=c.getDeclaredMethod(\"call\",new Class[]{int.class});\n        m.setAccessible(true);\n        m.invoke(obj,7);\n\n       //---- Accessing a private data member\n       Field d = c.getDeclaredField(\"a\");\n       d.setAccessible(true);\n       System.out.println(d.getInt(obj));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66225,"favorite_count":0,"down_vote_count":1,"up_vote_count":28,"accepted_answer_id":11484158,"answer_count":6,"score":27,"last_activity_date":1673041467,"creation_date":1342268098,"question_id":11483647,"body_markdown":"I know that we can access private constructor via reflection as [@Sanjay T. Sharma][1] mentioned in his answer of my question: [Does instanceof Void always return false?][2]\r\n\r\nHowever, [@duffymo][3] [said][4]:\r\n\r\n&gt; you can access private everything with reflection - methods, constructors, data members, everything.\r\n\r\n1. How can I access the private methods and the private data members?\r\n2. Is it possible to access local variable via reflection?\r\n3. Is there a way to prevent anyone from accessing private constructors, methods, and data members?\r\n\r\n  [1]: https://stackoverflow.com/users/193906/sanjay-t-sharma\r\n  [2]: https://stackoverflow.com/questions/6636734/does-instanceof-void-always-return-false\r\n  [3]: https://stackoverflow.com/users/37213/duffymo\r\n  [4]: https://stackoverflow.com/questions/11480181/unit-testing-a-class-with-private-environment-variables/11480226#comment15160872_11480226\r\n","title":"How do I access private methods and private data members via reflection?","body":"<p>I know that we can access private constructor via reflection as <a href=\"https://stackoverflow.com/users/193906/sanjay-t-sharma\">@Sanjay T. Sharma</a> mentioned in his answer of my question: <a href=\"https://stackoverflow.com/questions/6636734/does-instanceof-void-always-return-false\">Does instanceof Void always return false?</a></p>\n\n<p>However, <a href=\"https://stackoverflow.com/users/37213/duffymo\">@duffymo</a> <a href=\"https://stackoverflow.com/questions/11480181/unit-testing-a-class-with-private-environment-variables/11480226#comment15160872_11480226\">said</a>:</p>\n\n<blockquote>\n  <p>you can access private everything with reflection - methods, constructors, data members, everything.</p>\n</blockquote>\n\n<ol>\n<li>How can I access the private methods and the private data members?</li>\n<li>Is it possible to access local variable via reflection?</li>\n<li>Is there a way to prevent anyone from accessing private constructors, methods, and data members?</li>\n</ol>\n"},{"tags":["java","spring","vue.js"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1665559399,"post_id":74037785,"comment_id":130726171,"body_markdown":"In `axios.post(&#39;searchRecord&#39;, this.searchQuery)`, what is `this.searchQuery`?","body":"In <code>axios.post(&#39;searchRecord&#39;, this.searchQuery)</code>, what is <code>this.searchQuery</code>?"},{"owner":{"account_id":26552100,"reputation":470,"user_id":20181249,"display_name":"Sandeep Kumar Nat"},"score":0,"creation_date":1665559520,"post_id":74037785,"comment_id":130726219,"body_markdown":"your request parameter is null right now, which means nothing is going inside parameter from the page .","body":"your request parameter is null right now, which means nothing is going inside parameter from the page ."}],"answers":[{"tags":[],"owner":{"account_id":26564177,"reputation":36,"user_id":20191548,"display_name":"AbhishekVinayak"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665560619,"creation_date":1665559082,"answer_id":74037857,"question_id":74037785,"body_markdown":"Front end is not sending data to the controller. Try giving default value=null;","title":"Required request parameter &#39;searchQuery&#39; for method parameter type String is not present]","body":"<p>Front end is not sending data to the controller. Try giving default value=null;</p>\n"},{"tags":[],"owner":{"account_id":17489811,"reputation":59,"user_id":12682195,"display_name":"Younis Abbasi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665559747,"creation_date":1665559553,"answer_id":74037962,"question_id":74037785,"body_markdown":"From backend side it seems ok, I think you need to send data in post like that:\r\n\r\n\r\n         searchRecord(){\r\n            axios.post({\r\n               method: &#39;post&#39;,\r\n              url: &#39;/api/searchRecord&#39;,\r\n              data: {\r\n               searchQuery: this.searchQuery\r\n              }\r\n            })\r\n            .then(successResponse =&gt; {\r\n                console.log(successResponse)\r\n                })\r\n                .catch(failResponse =&gt; {\r\n                    alert(&quot;Error(failResponse)&quot;)\r\n                    console.log(failResponse)\r\n                })\r\n\r\n        }\r\n","title":"Required request parameter &#39;searchQuery&#39; for method parameter type String is not present]","body":"<p>From backend side it seems ok, I think you need to send data in post like that:</p>\n<pre><code>     searchRecord(){\n        axios.post({\n           method: 'post',\n          url: '/api/searchRecord',\n          data: {\n           searchQuery: this.searchQuery\n          }\n        })\n        .then(successResponse =&gt; {\n            console.log(successResponse)\n            })\n            .catch(failResponse =&gt; {\n                alert(&quot;Error(failResponse)&quot;)\n                console.log(failResponse)\n            })\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26557785,"reputation":159,"user_id":20186121,"display_name":"Abhishek Kumar Jena"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665560367,"creation_date":1665560367,"answer_id":74038122,"question_id":74037785,"body_markdown":"basically, it appears when you send no value from the front end but your controller expects some parameter from the frontend side,\r\nto avoid this u can use &quot;required = false&quot; or u can fix a default value based on your requirement to check where you are going wrong.\r\n\r\n    public String searchRecord(@RequestParam(value = &quot;searchQuery&quot;,required = false,defaultValue = &quot;&quot;) String searchQuery) {\r\n    \t\treturn searchRecordService.searchRecordService(searchQuery);\r\n    \t}\r\n\r\n ","title":"Required request parameter &#39;searchQuery&#39; for method parameter type String is not present]","body":"<p>basically, it appears when you send no value from the front end but your controller expects some parameter from the frontend side,\nto avoid this u can use &quot;required = false&quot; or u can fix a default value based on your requirement to check where you are going wrong.</p>\n<pre><code>public String searchRecord(@RequestParam(value = &quot;searchQuery&quot;,required = false,defaultValue = &quot;&quot;) String searchQuery) {\n        return searchRecordService.searchRecordService(searchQuery);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25719058,"reputation":407,"user_id":19476294,"display_name":"Sumit"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1665562173,"creation_date":1665562173,"answer_id":74038487,"question_id":74037785,"body_markdown":"It is not the correct way of sending parameters through axios. \r\nYou can send params by changing your code in frontend to :-\r\n\r\n    axios.post(`api/searchRecord`, null, { params: {\r\n      searchQuery\r\n    }}\r\n\r\nWhich will send the request as :\r\nhttps://localhost:8080/api/searchRecord?searchQuery=valueofsearchtext\r\n\r\n\r\n\r\nKeep your controller as it is as there are no changes required in the backend.\r\n\r\n    @CrossOrigin\r\n        @PostMapping(value = &quot;api/searchRecord&quot;)\r\n        @ResponseBody\r\n        public String searchRecord(@RequestParam(value = &quot;searchQuery&quot;) String searchQuery) {\r\n            System.out.println(searchQuery);\r\n            return searchRecordService.searchRecordService(searchQuery);\r\n        }\r\n\r\n\r\nthis should sort the issue in your code.\r\n\r\n","title":"Required request parameter &#39;searchQuery&#39; for method parameter type String is not present]","body":"<p>It is not the correct way of sending parameters through axios.\nYou can send params by changing your code in frontend to :-</p>\n<pre><code>axios.post(`api/searchRecord`, null, { params: {\n  searchQuery\n}}\n</code></pre>\n<p>Which will send the request as :\nhttps://localhost:8080/api/searchRecord?searchQuery=valueofsearchtext</p>\n<p>Keep your controller as it is as there are no changes required in the backend.</p>\n<pre><code>@CrossOrigin\n    @PostMapping(value = &quot;api/searchRecord&quot;)\n    @ResponseBody\n    public String searchRecord(@RequestParam(value = &quot;searchQuery&quot;) String searchQuery) {\n        System.out.println(searchQuery);\n        return searchRecordService.searchRecordService(searchQuery);\n    }\n</code></pre>\n<p>this should sort the issue in your code.</p>\n"}],"owner":{"account_id":26442209,"reputation":23,"user_id":20086551,"display_name":"bbc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1314,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74038487,"answer_count":4,"score":0,"last_activity_date":1673041118,"creation_date":1665558768,"question_id":74037785,"body_markdown":"I am trying to write a search function, but I encounter a bug when I pass the search query from frontend to backend. I tried most of the solution on Internet but it&#39;s still not ok.\r\n\r\nComplete Error log\r\n&gt; 2022-10-12 15:05:10.575  WARN 21272 --- [nio-8090-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter &#39;searchQuery&#39; for method parameter type String is not present]\r\n\r\nfrontend\r\n```\r\n&lt;template&gt;\r\n&lt;div class=&quot;input-group mb-3&quot;&gt;\r\n        &lt;input type=&quot;search&quot; class=&quot;form-control rounded&quot; v-model=&quot;searchQuery&quot; placeholder=&quot;Company name&quot; aria-label=&quot;Search&quot; aria-describedby=&quot;search-addon&quot; /&gt;\r\n        &lt;button type=&quot;button&quot; class=&quot;btn btn-outline-primary&quot; @click=&#39;searchRecord&#39;&gt;Search&lt;/button&gt;\r\n    &lt;/div&gt;\r\n&lt;/template&gt;\r\n&lt;script&gt;\r\nimport axios from &#39;axios&#39;\r\n\r\nexport default {\r\n    name: &#39;RegistrationEnquiry&#39;,\r\n    components: {\r\n\r\n    },\r\n    data() {\r\n        return {\r\n            records: [],\r\n            searchQuery: &#39;&#39;,\r\n        };\r\n    },\r\n    computed: {},\r\n    methods: {\r\n        searchRecord(){\r\n            axios.post(&#39;searchRecord&#39;, this.searchQuery)\r\n            .then(successResponse =&gt; {\r\n                console.log(successResponse)\r\n                })\r\n                .catch(failResponse =&gt; {\r\n                    alert(&quot;Error(failResponse)&quot;)\r\n                    console.log(failResponse)\r\n                })\r\n\r\n        },\r\n    },\r\n}\r\n\r\n&lt;/script&gt;\r\n```\r\n\r\nSearchRecordController.java\r\n```\r\n@Controller\r\npublic class SearchRecordController {\r\n    @Autowired\r\n    SearchRecordService searchRecordService;\r\n\r\n    @CrossOrigin\r\n    @PostMapping(value = &quot;api/searchRecord&quot;)\r\n    @ResponseBody\r\n    public String searchRecord(@RequestParam(value = &quot;searchQuery&quot;) String searchQuery) {\r\n        System.out.println(searchQuery);\r\n        return searchRecordService.searchRecordService(searchQuery);\r\n\t}\r\n}\r\n```\r\n","title":"Required request parameter &#39;searchQuery&#39; for method parameter type String is not present]","body":"<p>I am trying to write a search function, but I encounter a bug when I pass the search query from frontend to backend. I tried most of the solution on Internet but it's still not ok.</p>\n<p>Complete Error log</p>\n<blockquote>\n<p>2022-10-12 15:05:10.575  WARN 21272 --- [nio-8090-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'searchQuery' for method parameter type String is not present]</p>\n</blockquote>\n<p>frontend</p>\n<pre><code>&lt;template&gt;\n&lt;div class=&quot;input-group mb-3&quot;&gt;\n        &lt;input type=&quot;search&quot; class=&quot;form-control rounded&quot; v-model=&quot;searchQuery&quot; placeholder=&quot;Company name&quot; aria-label=&quot;Search&quot; aria-describedby=&quot;search-addon&quot; /&gt;\n        &lt;button type=&quot;button&quot; class=&quot;btn btn-outline-primary&quot; @click='searchRecord'&gt;Search&lt;/button&gt;\n    &lt;/div&gt;\n&lt;/template&gt;\n&lt;script&gt;\nimport axios from 'axios'\n\nexport default {\n    name: 'RegistrationEnquiry',\n    components: {\n\n    },\n    data() {\n        return {\n            records: [],\n            searchQuery: '',\n        };\n    },\n    computed: {},\n    methods: {\n        searchRecord(){\n            axios.post('searchRecord', this.searchQuery)\n            .then(successResponse =&gt; {\n                console.log(successResponse)\n                })\n                .catch(failResponse =&gt; {\n                    alert(&quot;Error(failResponse)&quot;)\n                    console.log(failResponse)\n                })\n\n        },\n    },\n}\n\n&lt;/script&gt;\n</code></pre>\n<p>SearchRecordController.java</p>\n<pre><code>@Controller\npublic class SearchRecordController {\n    @Autowired\n    SearchRecordService searchRecordService;\n\n    @CrossOrigin\n    @PostMapping(value = &quot;api/searchRecord&quot;)\n    @ResponseBody\n    public String searchRecord(@RequestParam(value = &quot;searchQuery&quot;) String searchQuery) {\n        System.out.println(searchQuery);\n        return searchRecordService.searchRecordService(searchQuery);\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1673023206,"post_id":75032822,"comment_id":132411291,"body_markdown":"Please describe exactly how the &quot;differences&quot; result is determined and what is &quot;wrong&quot; about your code.","body":"Please describe exactly how the &quot;differences&quot; result is determined and what is &quot;wrong&quot; about your code."},{"owner":{"account_id":3785835,"reputation":7291,"user_id":3143823,"accept_rate":98,"display_name":"tm1701"},"score":0,"creation_date":1673028374,"post_id":75032822,"comment_id":132412937,"body_markdown":"* Differences: see the example. \n* Wrong with my code: it looks very old fashioned. AND to learn more about streaming, lambda, etc from the more experienced ones!","body":"* Differences: see the example.  * Wrong with my code: it looks very old fashioned. AND to learn more about streaming, lambda, etc from the more experienced ones!"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1673045682,"post_id":75032822,"comment_id":132417365,"body_markdown":"Your single example can be arrived at using several algorithms. Either describe in English, or show sufficient examples that cover all edge cases.","body":"Your single example can be arrived at using several algorithms. Either describe in English, or show sufficient examples that cover all edge cases."},{"owner":{"account_id":3785835,"reputation":7291,"user_id":3143823,"accept_rate":98,"display_name":"tm1701"},"score":0,"creation_date":1673114960,"post_id":75032822,"comment_id":132427378,"body_markdown":"Please refer to the very nice answers.","body":"Please refer to the very nice answers."}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673038456,"creation_date":1673023294,"answer_id":75033714,"question_id":75032822,"body_markdown":"Looks like this is pretty simple algorithm. All you need is group all objects by the value (i.e. create a `Map`) and retreive only these objects, that are single for the given key.\r\n\r\n```java\r\npublic static List&lt;ColValueObject&gt; getUnique(List&lt;ColValueObject&gt; one,\r\n                                             List&lt;ColValueObject&gt; two) {\r\n    // group by value\r\n    Map&lt;String, List&lt;ColValueObject&gt;&gt; map =\r\n            Stream.of(one, two)\r\n                  .flatMap(List::stream)\r\n                  .collect(Collectors.groupingBy(ColValueObject::getValue));\r\n    \r\n    // retreive unique lements only\r\n    return map.values().stream()\r\n              .filter(objs -&gt; objs.size() == 1)\r\n              .map(objs -&gt; objs.get(0))\r\n              .collect(Collectors.toList());\r\n}\r\n```","title":"find differences between lists of objects","body":"<p>Looks like this is pretty simple algorithm. All you need is group all objects by the value (i.e. create a <code>Map</code>) and retreive only these objects, that are single for the given key.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;ColValueObject&gt; getUnique(List&lt;ColValueObject&gt; one,\n                                             List&lt;ColValueObject&gt; two) {\n    // group by value\n    Map&lt;String, List&lt;ColValueObject&gt;&gt; map =\n            Stream.of(one, two)\n                  .flatMap(List::stream)\n                  .collect(Collectors.groupingBy(ColValueObject::getValue));\n    \n    // retreive unique lements only\n    return map.values().stream()\n              .filter(objs -&gt; objs.size() == 1)\n              .map(objs -&gt; objs.get(0))\n              .collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3508935,"reputation":159,"user_id":2933780,"display_name":"galaxy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673023792,"creation_date":1673023792,"answer_id":75033796,"question_id":75032822,"body_markdown":"You could override the `equals` method of your `ColValueObject` type so you can match these objects only by `value`.\r\n\r\nAnd then I recommend using the `removeAll` method which is either in any collection implementing `Collection` ([Java Doc][1]) or in the [CollectionUtils][2] library.\r\n\r\nBasically you would have two resulting lists:\r\n\r\n``` lang-java\r\nList&lt;ColValueObject&gt; result1 = CollectionUtils.removeAll(list2, list1);\r\nList&lt;ColValueObject&gt; result2 = CollectionUtils.removeAll(list1, list2);\r\n```\r\n\r\nFinally you can use the `addAll` method to get the final result list.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeAll-java.util.Collection-\r\n  [2]: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/CollectionUtils.html","title":"find differences between lists of objects","body":"<p>You could override the <code>equals</code> method of your <code>ColValueObject</code> type so you can match these objects only by <code>value</code>.</p>\n<p>And then I recommend using the <code>removeAll</code> method which is either in any collection implementing <code>Collection</code> (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeAll-java.util.Collection-\" rel=\"nofollow noreferrer\">Java Doc</a>) or in the <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/CollectionUtils.html\" rel=\"nofollow noreferrer\">CollectionUtils</a> library.</p>\n<p>Basically you would have two resulting lists:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;ColValueObject&gt; result1 = CollectionUtils.removeAll(list2, list1);\nList&lt;ColValueObject&gt; result2 = CollectionUtils.removeAll(list1, list2);\n</code></pre>\n<p>Finally you can use the <code>addAll</code> method to get the final result list.</p>\n"},{"tags":[],"owner":{"account_id":10182598,"reputation":11,"user_id":7518806,"display_name":"Andre_R"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673027099,"creation_date":1673026871,"answer_id":75034329,"question_id":75032822,"body_markdown":"You can first group your list by the rate of each object and count the number of occurences and second filter the resulting stream if the occurences equals 1. Afterwards you have to map the first object of EntrySet to ColValueObject and collect the final list.\r\n\r\n    List&lt;ColValueObject&gt; result = Stream.of(list1, \r\n    list2).flatMap(List::stream).collect(groupingBy(d -&gt; d.getValue())).entrySet().stream().filter(e -&gt; e.getValue().size() == 1).map(e -&gt; e.getValue().get(0)).collect(Collectors.toList());\r\n        System.out.println(result);\r\n\r\nTo use this, the following static import ist necessary:\r\n\r\n    import static java.util.stream.Collectors.groupingBy;","title":"find differences between lists of objects","body":"<p>You can first group your list by the rate of each object and count the number of occurences and second filter the resulting stream if the occurences equals 1. Afterwards you have to map the first object of EntrySet to ColValueObject and collect the final list.</p>\n<pre><code>List&lt;ColValueObject&gt; result = Stream.of(list1, \nlist2).flatMap(List::stream).collect(groupingBy(d -&gt; d.getValue())).entrySet().stream().filter(e -&gt; e.getValue().size() == 1).map(e -&gt; e.getValue().get(0)).collect(Collectors.toList());\n    System.out.println(result);\n</code></pre>\n<p>To use this, the following static import ist necessary:</p>\n<pre><code>import static java.util.stream.Collectors.groupingBy;\n</code></pre>\n"}],"owner":{"account_id":3785835,"reputation":7291,"user_id":3143823,"accept_rate":98,"display_name":"tm1701"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75033714,"answer_count":3,"score":0,"last_activity_date":1673041114,"creation_date":1673018523,"question_id":75032822,"body_markdown":"In Java 11+, is there an elegant way to find the differences between 2 lists of objects? \r\nFiltering should be done on one &#39;value&#39; property of a simple col1, value object. Normally the object will contain at least 2 other properties.\r\n\r\nSuppose I have these 2 lists: \r\n\r\n - List 1:  ( { &quot;left&quot;,&quot;one&quot; }, { &quot;left&quot;,&quot;two&quot; } )\r\n - List 2:  ( { &quot;right&quot;,&quot;two&quot; }, { &quot;right&quot;,&quot;three&quot; } )\r\n\r\nThe result should be a list with: \r\n\r\n - ( { &quot;left&quot;,&quot;one&quot; }, { &quot;right&quot;,&quot;three&quot; } )\r\n\r\nOf course there is a simplistic old way of doing this. That simple program gives: \r\n\r\n&gt; ColValueObject{base=&#39;left&#39;, value=&#39;Value one&#39;}\r\n&gt; ColValueObject{base=&#39;right&#39;, value=&#39;Value four&#39;}\r\n\r\n    public class CompareListOfObjects {\r\n      public static void main(String[] args) {\r\n        List&lt;ColValueObject&gt; list1 = List.of(\r\n                new ColValueObject(&quot;left&quot;, &quot;Value one&quot;),\r\n                new ColValueObject(&quot;left&quot;, &quot;Value two&quot;),\r\n                new ColValueObject(&quot;left&quot;, &quot;Value three&quot;));\r\n        List&lt;ColValueObject&gt; list2 = List.of(\r\n                new ColValueObject(&quot;right&quot;, &quot;Value two&quot;),\r\n                new ColValueObject(&quot;right&quot;, &quot;Value three&quot;),\r\n                new ColValueObject(&quot;right&quot;, &quot;Value four&quot;));\r\n    \r\n        List&lt;ColValueObject&gt; result = findDifferencesBetweenLists(list1, list2);\r\n        result.forEach(System.out::println);\r\n      }\r\n    \r\n      private static List&lt;ColValueObject&gt; findDifferencesBetweenLists(List&lt;ColValueObject&gt; list1, List&lt;ColValueObject&gt; list2) {\r\n        List&lt;ColValueObject&gt; result = new ArrayList&lt;&gt;();\r\n        findUniqueEntriesInList((List&lt;ColValueObject&gt;) list1, (List&lt;ColValueObject&gt;) list2, (List&lt;ColValueObject&gt;) result);\r\n        findUniqueEntriesInList((List&lt;ColValueObject&gt;) list2, (List&lt;ColValueObject&gt;) list1, (List&lt;ColValueObject&gt;) result);\r\n        return result;\r\n      }\r\n    \r\n      private static void findUniqueEntriesInList(List&lt;ColValueObject&gt; list1, List&lt;ColValueObject&gt; list2, List&lt;ColValueObject&gt; result) {\r\n        for (ColValueObject l1 : list1) {\r\n          boolean found = false;\r\n          for (ColValueObject l2 : list2) {\r\n            if (l1.getValue().equals(l2.getValue())) {\r\n              found = true;\r\n              break;\r\n            }\r\n          }\r\n          if (!found) {\r\n            result.add(l1);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    class ColValueObject {\r\n      private String base;\r\n      private String value;\r\n    \r\n      public ColValueObject(String base, String value) {\r\n        this.base = base;\r\n        this.value = value;\r\n      }\r\n    \r\n      public String getBase() {\r\n        return base;\r\n      }\r\n    \r\n      public void setBase(String base) {\r\n        this.base = base;\r\n      }\r\n    \r\n      public String getValue() {\r\n        return value;\r\n      }\r\n    \r\n      public void setValue(String value) {\r\n        this.value = value;\r\n      }\r\n    \r\n      @Override\r\n      public String toString() {\r\n        return &quot;ColValueObject{&quot; +\r\n                &quot;base=&#39;&quot; + base + &#39;\\&#39;&#39; +\r\n                &quot;, value=&#39;&quot; + value + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n      }\r\n    }","title":"find differences between lists of objects","body":"<p>In Java 11+, is there an elegant way to find the differences between 2 lists of objects?\nFiltering should be done on one 'value' property of a simple col1, value object. Normally the object will contain at least 2 other properties.</p>\n<p>Suppose I have these 2 lists:</p>\n<ul>\n<li>List 1:  ( { &quot;left&quot;,&quot;one&quot; }, { &quot;left&quot;,&quot;two&quot; } )</li>\n<li>List 2:  ( { &quot;right&quot;,&quot;two&quot; }, { &quot;right&quot;,&quot;three&quot; } )</li>\n</ul>\n<p>The result should be a list with:</p>\n<ul>\n<li>( { &quot;left&quot;,&quot;one&quot; }, { &quot;right&quot;,&quot;three&quot; } )</li>\n</ul>\n<p>Of course there is a simplistic old way of doing this. That simple program gives:</p>\n<blockquote>\n<p>ColValueObject{base='left', value='Value one'}\nColValueObject{base='right', value='Value four'}</p>\n</blockquote>\n<pre><code>public class CompareListOfObjects {\n  public static void main(String[] args) {\n    List&lt;ColValueObject&gt; list1 = List.of(\n            new ColValueObject(&quot;left&quot;, &quot;Value one&quot;),\n            new ColValueObject(&quot;left&quot;, &quot;Value two&quot;),\n            new ColValueObject(&quot;left&quot;, &quot;Value three&quot;));\n    List&lt;ColValueObject&gt; list2 = List.of(\n            new ColValueObject(&quot;right&quot;, &quot;Value two&quot;),\n            new ColValueObject(&quot;right&quot;, &quot;Value three&quot;),\n            new ColValueObject(&quot;right&quot;, &quot;Value four&quot;));\n\n    List&lt;ColValueObject&gt; result = findDifferencesBetweenLists(list1, list2);\n    result.forEach(System.out::println);\n  }\n\n  private static List&lt;ColValueObject&gt; findDifferencesBetweenLists(List&lt;ColValueObject&gt; list1, List&lt;ColValueObject&gt; list2) {\n    List&lt;ColValueObject&gt; result = new ArrayList&lt;&gt;();\n    findUniqueEntriesInList((List&lt;ColValueObject&gt;) list1, (List&lt;ColValueObject&gt;) list2, (List&lt;ColValueObject&gt;) result);\n    findUniqueEntriesInList((List&lt;ColValueObject&gt;) list2, (List&lt;ColValueObject&gt;) list1, (List&lt;ColValueObject&gt;) result);\n    return result;\n  }\n\n  private static void findUniqueEntriesInList(List&lt;ColValueObject&gt; list1, List&lt;ColValueObject&gt; list2, List&lt;ColValueObject&gt; result) {\n    for (ColValueObject l1 : list1) {\n      boolean found = false;\n      for (ColValueObject l2 : list2) {\n        if (l1.getValue().equals(l2.getValue())) {\n          found = true;\n          break;\n        }\n      }\n      if (!found) {\n        result.add(l1);\n      }\n    }\n  }\n}\n\nclass ColValueObject {\n  private String base;\n  private String value;\n\n  public ColValueObject(String base, String value) {\n    this.base = base;\n    this.value = value;\n  }\n\n  public String getBase() {\n    return base;\n  }\n\n  public void setBase(String base) {\n    this.base = base;\n  }\n\n  public String getValue() {\n    return value;\n  }\n\n  public void setValue(String value) {\n    this.value = value;\n  }\n\n  @Override\n  public String toString() {\n    return &quot;ColValueObject{&quot; +\n            &quot;base='&quot; + base + '\\'' +\n            &quot;, value='&quot; + value + '\\'' +\n            '}';\n  }\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673026433,"creation_date":1673026433,"answer_id":75034256,"question_id":75034076,"body_markdown":"Your `started at time` assumption is not correct. That&#39;s really not a time when concurrent containers are started, but rather the time when they consume records from partitions assigned to them. So, you may just not have any data in the partition to consume at the moment. More over there is no guarantee that all the partitions are assigned to consumers at the same time. So, one consumer may have already started to consume, but other has not obtained assigned to them partitions yet.\r\n\r\nTo evenly distribute data between partitions you need to look into a `messageKey` and `Partitioner` abstraction on the producer side.","title":"Kafka listener concurrency threads taking time to start in parallel?","body":"<p>Your <code>started at time</code> assumption is not correct. That's really not a time when concurrent containers are started, but rather the time when they consume records from partitions assigned to them. So, you may just not have any data in the partition to consume at the moment. More over there is no guarantee that all the partitions are assigned to consumers at the same time. So, one consumer may have already started to consume, but other has not obtained assigned to them partitions yet.</p>\n<p>To evenly distribute data between partitions you need to look into a <code>messageKey</code> and <code>Partitioner</code> abstraction on the producer side.</p>\n"}],"owner":{"account_id":18695929,"reputation":81,"user_id":13629257,"display_name":"prateek jangid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":430,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75034256,"answer_count":1,"score":0,"last_activity_date":1673040985,"creation_date":1673025310,"question_id":75034076,"body_markdown":"I need to process around 50k records(this number can vary from 100 to 50k max) in same topic. Therefore, i used concurrency feature of kafka.Below is my configuration and listener code.\r\n    \r\n    @KafkaListener(topics = {&quot;kafkaTopic&quot;},\r\n                    containerFactory = &quot;abcd&quot;)\r\n            public void consume(\r\n                    @Payload List&lt;String&gt; message,\r\n                    @Header(KafkaHeaders.RECEIVED_TOPIC) String topic\r\n            ) throws IOException {\r\n        \r\n                StopWatch st = new StopWatch();\r\n         DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm:ss&quot;);\r\n                Date date = new Date();\r\n                StringBuilder str = new StringBuilder();\r\n                st.start(&quot;threadName-&quot;);\r\n                message.forEach(messages -&gt; {\r\n                    try {\r\n                        Thread.sleep(2500);\r\n                        logger.info(&quot;message is-{}&quot;, messages);\r\n                        str.append(messages);\r\n                        str.append(&quot;,&quot;);\r\n                    } catch (Exception e) {\r\n                        str.append(&quot;exception-{}&quot; + e);\r\n                    }\r\n                });\r\n        \r\n                st.stop();\r\n               \r\n                List data = objectMapper.readValue(getFile(), new TypeReference&lt;List&lt;String&gt;&gt;() {});\r\n        \r\n                str.append(&quot;----thread-&quot; + Thread.currentThread().getName() + &quot;started at time-&quot;+dateFormat.format(date)+&quot; and time taken-&quot; + String.format(&quot;%.2f&quot;, st.getTotalTimeSeconds()));\r\n                str.append(&quot;---&quot;);\r\n                data.add(str);\r\n                objectMapper.writeValue(getFile(),\r\n                        data);\r\n        \r\n            }\r\n    \r\n    \r\n        @Bean(&quot;abcd&quot;)\r\n            public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() {\r\n                ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n                factory.setConsumerFactory(consumerFactory());\r\n                factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.BATCH);\r\n                factory.setConcurrency(5);\r\n                factory.setBatchListener(true);\r\n                return factory;\r\n            }\r\n        \r\n            @Bean\r\n            public NewTopic syliusDeTopic() {\r\n                return TopicBuilder.name(&quot;kafkaTopic&quot;).partitions(5).replicas(2).build();\r\n            }\r\n\r\n    @Bean\r\n        public ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n            Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\r\n            configProps.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, server);\r\n            configProps.put(ConsumerConfig.GROUP_ID_CONFIG, consumerGroupId);\r\n            configProps.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n            configProps.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n            configProps.put(ConsumerConfig.PARTITION_ASSIGNMENT_STRATEGY_CONFIG, CustomCooperativeStickyAssignor.class.getName());\r\n            configProps.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG,&quot;500&quot;);\r\n            configProps.put(ConsumerConfig.FETCH_MIN_BYTES_CONFIG,&quot;1&quot;);\r\n            configProps.put(ConsumerConfig.FETCH_MAX_WAIT_MS_CONFIG,&quot;5000&quot;);\r\n            return new DefaultKafkaConsumerFactory&lt;&gt;(configProps);\r\n        }\r\n\r\nBut when i checked the result for sample 100 records, threads did not started at same time. Below is the response for the same.\r\n\r\n    [&quot;test-0,test-1,test-2,----thread-org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1started at time-2023/01/06 22:20:19 and time taken-7.51---&quot;,&quot;test-56,test-57,test-58,test-59,test-60,test-61,----thread-org.springframework.kafka.KafkaListenerEndpointContainer#0-1-C-1started at time-2023/01/06 22:20:26 and time taken-15.02---&quot;,&quot;test-70,test-71,test-72,test-73,test-74,test-75,test-76,test-77,test-78,----thread-org.springframework.kafka.KafkaListenerEndpointContainer#0-3-C-1started at time-2023/01/06 22:20:34 and time taken-22.53---&quot;,&quot;test-62,test-63,test-64,test-65,test-66,test-67,test-68,test-69,test-85,test-86,test-87,test-88,test-89,test-90,test-91,----thread-org.springframework.kafka.KafkaListenerEndpointContainer#0-2-C-1started at time-2023/01/06 22:20:49 and time taken-37.55---&quot;,&quot;test-79,test-80,test-81,test-82,test-83,test-84,test-92,test-93,test-94,test-95,test-96,test-97,test-98,test-99,----thread-org.springframework.kafka.KafkaListenerEndpointContainer#0-1-C-1started at time-2023/01/06 22:21:01 and time taken-35.05---&quot;,&quot;test-3,test-4,test-5,test-6,test-7,test-8,test-9,test-10,test-11,test-12,test-13,test-14,test-15,test-16,test-17,test-18,test-19,test-20,test-21,test-22,test-23,test-24,test-25,test-26,test-27,test-28,test-29,test-30,test-31,test-32,test-33,test-34,test-35,test-36,test-37,test-38,test-39,test-40,test-41,test-42,test-43,test-44,test-45,test-46,test-47,test-48,test-49,test-50,test-51,test-52,test-53,test-54,test-55,----thread-org.springframework.kafka.KafkaListenerEndpointContainer#0-4-C-1started at time-2023/01/06 22:22:24 and time taken-132.69---&quot;]\r\n\r\n\r\nThe started time of threads are different with difference of around &gt;80 secs between first thread and last.\r\n\r\nAny idea how to resolve this.I want the thread to run at almost same time (thread count can increase to max 15) which can improve the ingestion of huge records?\r\n\r\nAlso, data added in partition of varied size.Can it be resolved as well?\r\n\r\n","title":"Kafka listener concurrency threads taking time to start in parallel?","body":"<p>I need to process around 50k records(this number can vary from 100 to 50k max) in same topic. Therefore, i used concurrency feature of kafka.Below is my configuration and listener code.</p>\n<pre><code>@KafkaListener(topics = {&quot;kafkaTopic&quot;},\n                containerFactory = &quot;abcd&quot;)\n        public void consume(\n                @Payload List&lt;String&gt; message,\n                @Header(KafkaHeaders.RECEIVED_TOPIC) String topic\n        ) throws IOException {\n    \n            StopWatch st = new StopWatch();\n     DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm:ss&quot;);\n            Date date = new Date();\n            StringBuilder str = new StringBuilder();\n            st.start(&quot;threadName-&quot;);\n            message.forEach(messages -&gt; {\n                try {\n                    Thread.sleep(2500);\n                    logger.info(&quot;message is-{}&quot;, messages);\n                    str.append(messages);\n                    str.append(&quot;,&quot;);\n                } catch (Exception e) {\n                    str.append(&quot;exception-{}&quot; + e);\n                }\n            });\n    \n            st.stop();\n           \n            List data = objectMapper.readValue(getFile(), new TypeReference&lt;List&lt;String&gt;&gt;() {});\n    \n            str.append(&quot;----thread-&quot; + Thread.currentThread().getName() + &quot;started at time-&quot;+dateFormat.format(date)+&quot; and time taken-&quot; + String.format(&quot;%.2f&quot;, st.getTotalTimeSeconds()));\n            str.append(&quot;---&quot;);\n            data.add(str);\n            objectMapper.writeValue(getFile(),\n                    data);\n    \n        }\n\n\n    @Bean(&quot;abcd&quot;)\n        public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() {\n            ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n            factory.setConsumerFactory(consumerFactory());\n            factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.BATCH);\n            factory.setConcurrency(5);\n            factory.setBatchListener(true);\n            return factory;\n        }\n    \n        @Bean\n        public NewTopic syliusDeTopic() {\n            return TopicBuilder.name(&quot;kafkaTopic&quot;).partitions(5).replicas(2).build();\n        }\n\n@Bean\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\n        Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\n        configProps.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, server);\n        configProps.put(ConsumerConfig.GROUP_ID_CONFIG, consumerGroupId);\n        configProps.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        configProps.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        configProps.put(ConsumerConfig.PARTITION_ASSIGNMENT_STRATEGY_CONFIG, CustomCooperativeStickyAssignor.class.getName());\n        configProps.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG,&quot;500&quot;);\n        configProps.put(ConsumerConfig.FETCH_MIN_BYTES_CONFIG,&quot;1&quot;);\n        configProps.put(ConsumerConfig.FETCH_MAX_WAIT_MS_CONFIG,&quot;5000&quot;);\n        return new DefaultKafkaConsumerFactory&lt;&gt;(configProps);\n    }\n</code></pre>\n<p>But when i checked the result for sample 100 records, threads did not started at same time. Below is the response for the same.</p>\n<pre><code>[&quot;test-0,test-1,test-2,----thread-org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1started at time-2023/01/06 22:20:19 and time taken-7.51---&quot;,&quot;test-56,test-57,test-58,test-59,test-60,test-61,----thread-org.springframework.kafka.KafkaListenerEndpointContainer#0-1-C-1started at time-2023/01/06 22:20:26 and time taken-15.02---&quot;,&quot;test-70,test-71,test-72,test-73,test-74,test-75,test-76,test-77,test-78,----thread-org.springframework.kafka.KafkaListenerEndpointContainer#0-3-C-1started at time-2023/01/06 22:20:34 and time taken-22.53---&quot;,&quot;test-62,test-63,test-64,test-65,test-66,test-67,test-68,test-69,test-85,test-86,test-87,test-88,test-89,test-90,test-91,----thread-org.springframework.kafka.KafkaListenerEndpointContainer#0-2-C-1started at time-2023/01/06 22:20:49 and time taken-37.55---&quot;,&quot;test-79,test-80,test-81,test-82,test-83,test-84,test-92,test-93,test-94,test-95,test-96,test-97,test-98,test-99,----thread-org.springframework.kafka.KafkaListenerEndpointContainer#0-1-C-1started at time-2023/01/06 22:21:01 and time taken-35.05---&quot;,&quot;test-3,test-4,test-5,test-6,test-7,test-8,test-9,test-10,test-11,test-12,test-13,test-14,test-15,test-16,test-17,test-18,test-19,test-20,test-21,test-22,test-23,test-24,test-25,test-26,test-27,test-28,test-29,test-30,test-31,test-32,test-33,test-34,test-35,test-36,test-37,test-38,test-39,test-40,test-41,test-42,test-43,test-44,test-45,test-46,test-47,test-48,test-49,test-50,test-51,test-52,test-53,test-54,test-55,----thread-org.springframework.kafka.KafkaListenerEndpointContainer#0-4-C-1started at time-2023/01/06 22:22:24 and time taken-132.69---&quot;]\n</code></pre>\n<p>The started time of threads are different with difference of around &gt;80 secs between first thread and last.</p>\n<p>Any idea how to resolve this.I want the thread to run at almost same time (thread count can increase to max 15) which can improve the ingestion of huge records?</p>\n<p>Also, data added in partition of varied size.Can it be resolved as well?</p>\n"},{"tags":["java","arrays","loops","output"],"comments":[{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1673039286,"post_id":75035986,"comment_id":132415892,"body_markdown":"Can you explain how `((i+1) % 10) == 0` is supposed to fulfill the &quot;10 per line&quot; request? How would you write it if it would says &quot;print only every tenth element&quot;?","body":"Can you explain how <code>((i+1) % 10) == 0</code> is supposed to fulfill the &quot;10 per line&quot; request? How would you write it if it would says &quot;print only every tenth element&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673039254,"creation_date":1673039254,"answer_id":75036093,"question_id":75035986,"body_markdown":"You have to use a counter and check if it `count % 10 == 0`. If yes, then move to the next line.\r\n\r\n```java\r\npublic static void main(String... args) {\r\n    final IntPredicate odd = value -&gt; value % 2 != 0;\r\n    final IntPredicate even = value -&gt; value % 2 == 0;\r\n\r\n    int[] arr = randomArray(300);\r\n\r\n    System.out.println(&quot;Odd Numbers:&quot;);\r\n    printNumbers(arr, odd);\r\n\r\n    System.out.println();\r\n    System.out.println(&quot;Even Numbers:&quot;);\r\n    printNumbers(arr, even);\r\n}\r\n\r\nprivate static int[] randomArray(int total) {\r\n    Random random = new Random();\r\n\r\n    return IntStream.range(0, total)\r\n                    .map(i -&gt; random.nextInt(500) + 1)\r\n                    .toArray();\r\n}\r\n\r\nprivate static void printNumbers(int[] arr, IntPredicate predicate) {\r\n    int i = 0;\r\n\r\n    for (int value : arr) {\r\n        if (predicate.test(value)) {\r\n            System.out.format(&quot;%3d &quot;, value);\r\n\r\n            if (++i % 10 == 0)\r\n                System.out.println();\r\n        }\r\n    }\r\n\r\n    System.out.println();\r\n}\r\n```","title":"Output all the odd and even numbers in the random numbers array","body":"<p>You have to use a counter and check if it <code>count % 10 == 0</code>. If yes, then move to the next line.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String... args) {\n    final IntPredicate odd = value -&gt; value % 2 != 0;\n    final IntPredicate even = value -&gt; value % 2 == 0;\n\n    int[] arr = randomArray(300);\n\n    System.out.println(&quot;Odd Numbers:&quot;);\n    printNumbers(arr, odd);\n\n    System.out.println();\n    System.out.println(&quot;Even Numbers:&quot;);\n    printNumbers(arr, even);\n}\n\nprivate static int[] randomArray(int total) {\n    Random random = new Random();\n\n    return IntStream.range(0, total)\n                    .map(i -&gt; random.nextInt(500) + 1)\n                    .toArray();\n}\n\nprivate static void printNumbers(int[] arr, IntPredicate predicate) {\n    int i = 0;\n\n    for (int value : arr) {\n        if (predicate.test(value)) {\n            System.out.format(&quot;%3d &quot;, value);\n\n            if (++i % 10 == 0)\n                System.out.println();\n        }\n    }\n\n    System.out.println();\n}\n</code></pre>\n"}],"owner":{"account_id":26592288,"reputation":17,"user_id":20215300,"display_name":"QJack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673040982,"creation_date":1673038351,"question_id":75035986,"body_markdown":"I declare an integer array of size 300, with random values from 1 to 500. I need to output all the even and odd numbers in the array 10 per line.\r\n\r\nthis is my code but I can&#39;t print 10 numbers per line and it doesn&#39;t print enough even and odd numbers in my array:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Array {\r\n\r\n   public static void main(String[] args)\r\n   { \r\n      Scanner keyboard=new Scanner(System.in); \r\n   \r\n      \r\n      int[] A = new int[300]; \r\n      for(int i=0;i&lt;A.length;i++)\r\n      {\r\n         A[i]=(int)(Math.random()*500+1);\r\n      }\r\n      \r\n      for(int i=0;i&lt;A.length;i++){\r\n         System.out.print(A[i]+&quot; &quot;);\r\n         if(((i+1) % 10) == 0){\r\n            System.out.println();\r\n         }         \r\n      }\r\n      System.out.println(&quot;Odd Numbers:&quot;); \r\n       \r\n      for(int i=0;i&lt;A.length;i++){  \r\n         if(A[i]%2!=0 &amp;&amp; ((i+1) % 10) == 0){\r\n            System.out.print(A[i]+&quot; &quot;);\r\n         }\r\n      }\r\n      System.out.println();\r\n      System.out.println(&quot;Even Numbers:&quot;); \r\n      for(int i=0;i&lt;A.length;i++){\r\n      \r\n         if(A[i]%2==0 &amp;&amp; ((i+1) % 10) == 0){  \r\n            System.out.print(A[i]+&quot; &quot;);  \r\n         }  \r\n      }\r\n     \r\n   \r\n      \r\n   }\r\n}\r\n```\r\n","title":"Output all the odd and even numbers in the random numbers array","body":"<p>I declare an integer array of size 300, with random values from 1 to 500. I need to output all the even and odd numbers in the array 10 per line.</p>\n<p>this is my code but I can't print 10 numbers per line and it doesn't print enough even and odd numbers in my array:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Array {\n\n   public static void main(String[] args)\n   { \n      Scanner keyboard=new Scanner(System.in); \n   \n      \n      int[] A = new int[300]; \n      for(int i=0;i&lt;A.length;i++)\n      {\n         A[i]=(int)(Math.random()*500+1);\n      }\n      \n      for(int i=0;i&lt;A.length;i++){\n         System.out.print(A[i]+&quot; &quot;);\n         if(((i+1) % 10) == 0){\n            System.out.println();\n         }         \n      }\n      System.out.println(&quot;Odd Numbers:&quot;); \n       \n      for(int i=0;i&lt;A.length;i++){  \n         if(A[i]%2!=0 &amp;&amp; ((i+1) % 10) == 0){\n            System.out.print(A[i]+&quot; &quot;);\n         }\n      }\n      System.out.println();\n      System.out.println(&quot;Even Numbers:&quot;); \n      for(int i=0;i&lt;A.length;i++){\n      \n         if(A[i]%2==0 &amp;&amp; ((i+1) % 10) == 0){  \n            System.out.print(A[i]+&quot; &quot;);  \n         }  \n      }\n     \n   \n      \n   }\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","criteriabuilder"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1673041347,"post_id":75036281,"comment_id":132416392,"body_markdown":"jpa works with Entities not with tables","body":"jpa works with Entities not with tables"}],"owner":{"account_id":951443,"reputation":85,"user_id":977516,"accept_rate":0,"display_name":"xibrian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673040965,"creation_date":1673040965,"question_id":75036281,"body_markdown":"I have following code\r\n\r\n```\r\nCriteriaBuilder criteriaBuilder = em.getCriteriaBuilder();\r\nCriteriaQuery&lt;AppUsage&gt; criteriaQuery = criteriaBuilder.createQuery(User.class);\r\nRoot&lt;AppUsage&gt; itemRoot = criteriaQuery.from(User.class);\r\n```\r\nUser entity class has tablename = &quot;user&quot;\r\nIs it possible to change above code so that user can be loaded from different table such as below\r\n``` \r\nString tableName = &quot;generated by logic&quot;\r\nCriteriaBuilder criteriaBuilder = em.getCriteriaBuilder();\r\nCriteriaQuery&lt;AppUsage&gt; criteriaQuery = criteriaBuilder.createQuery(User.class, tableName);\r\nRoot&lt;AppUsage&gt; itemRoot = criteriaQuery.from(User.class,tableName);\r\n``` \r\nI am trying to build the same query so that it can be used to query from different table but with data in different time range. \r\n   ","title":"JPA CriteriaBuilder build with different table name","body":"<p>I have following code</p>\n<pre><code>CriteriaBuilder criteriaBuilder = em.getCriteriaBuilder();\nCriteriaQuery&lt;AppUsage&gt; criteriaQuery = criteriaBuilder.createQuery(User.class);\nRoot&lt;AppUsage&gt; itemRoot = criteriaQuery.from(User.class);\n</code></pre>\n<p>User entity class has tablename = &quot;user&quot;\nIs it possible to change above code so that user can be loaded from different table such as below</p>\n<pre><code>String tableName = &quot;generated by logic&quot;\nCriteriaBuilder criteriaBuilder = em.getCriteriaBuilder();\nCriteriaQuery&lt;AppUsage&gt; criteriaQuery = criteriaBuilder.createQuery(User.class, tableName);\nRoot&lt;AppUsage&gt; itemRoot = criteriaQuery.from(User.class,tableName);\n</code></pre>\n<p>I am trying to build the same query so that it can be used to query from different table but with data in different time range.</p>\n"},{"tags":["java","data-structures","collections","hashmap","maps"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1670216827,"post_id":74683554,"comment_id":131816199,"body_markdown":"`map.values().stream().sorted(Comparator.reverseOrder()).limit(2).forEach(map.values()::remove)`","body":"<code>map.values().stream().sorted(Comparator.reverseOrder()).limi&zwnj;&#8203;t(2).forEach(map.val&zwnj;&#8203;ues()::remove)</code>"},{"owner":{"account_id":18937834,"reputation":151,"user_id":13818534,"display_name":"Jestin Wilson"},"score":0,"creation_date":1670219737,"post_id":74683554,"comment_id":131816690,"body_markdown":"This is more elegant solution.","body":"This is more elegant solution."},{"owner":{"account_id":27116608,"reputation":1,"user_id":20660852,"display_name":"blindflip"},"score":0,"creation_date":1670257563,"post_id":74683554,"comment_id":131829087,"body_markdown":"@shmosel \nThis worked beautifully! Thank you.\n\nAny idea why my original solution wasn&#39;t working?","body":"@shmosel  This worked beautifully! Thank you.  Any idea why my original solution wasn&#39;t working?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1670273978,"post_id":74683554,"comment_id":131834140,"body_markdown":"Your way doesn&#39;t work because you&#39;re not supposed to modify a collection while iterating it (except via the iterator). The dirty little secret is that my way also violates that rule, and only happens to work because of the [stateful](https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps) sort operation. The proper approach would be collecting the items and then removing them afterwards: `Set&lt;Integer&gt; remove = map.values().stream()...collect(toSet()); map.values().removeAll(remove);`","body":"Your way doesn&#39;t work because you&#39;re not supposed to modify a collection while iterating it (except via the iterator). The dirty little secret is that my way also violates that rule, and only happens to work because of the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps\" rel=\"nofollow noreferrer\">stateful</a> sort operation. The proper approach would be collecting the items and then removing them afterwards: <code>Set&lt;Integer&gt; remove = map.values().stream()...collect(toSet()); map.values().removeAll(remove);</code>"}],"answers":[{"tags":[],"owner":{"account_id":25332985,"reputation":9,"user_id":19152535,"display_name":"Sam Cousins"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670216927,"creation_date":1670216927,"answer_id":74683612,"question_id":74683554,"body_markdown":"Using `for(element e : list)` loops uses the iterator of the map&#39;s entry set. This iterator can only exist once at a time. The problem can be fixed by using a traditional `for` loop instead: `for (int i = 0; i &lt; myMap.entrySet().size(); i++)` or similar. ","title":"From a HashMap, how to remove k number of elements with the highest values(Java)?","body":"<p>Using <code>for(element e : list)</code> loops uses the iterator of the map's entry set. This iterator can only exist once at a time. The problem can be fixed by using a traditional <code>for</code> loop instead: <code>for (int i = 0; i &lt; myMap.entrySet().size(); i++)</code> or similar.</p>\n"},{"tags":[],"owner":{"account_id":27147415,"reputation":1,"user_id":20687389,"display_name":"cat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670219624,"creation_date":1670219433,"answer_id":74683878,"question_id":74683554,"body_markdown":"form jdk17 myMap.entrySet() -&gt; hashMap&#39;s implements it will create a new EntryIterator() object,then will use super class HashIterator&#39;s constructors without arguments,  When you use hashMap&#39;s put() or remove() method, modCount will + 1,As a result HashIterator&#39;s nextNode()\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/d6saE.png","title":"From a HashMap, how to remove k number of elements with the highest values(Java)?","body":"<p>form jdk17 myMap.entrySet() -&gt; hashMap's implements it will create a new EntryIterator() object,then will use super class HashIterator's constructors without arguments,  When you use hashMap's put() or remove() method, modCount will + 1,As a result HashIterator's nextNode()\n<a href=\"https://i.stack.imgur.com/d6saE.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":[],"owner":{"account_id":26628653,"reputation":1,"user_id":20246184,"display_name":"RajTechnorama"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673040919,"creation_date":1673040382,"answer_id":75036209,"question_id":74683554,"body_markdown":"There are multiple issues with your approach.\r\n\r\n - It is very inefficient to loop through the values and keep finding the max after each delete\r\n - You are not allowed to modify the source map by calling the remove method from within the forEach loop of it&#39;s entry set. \r\n\r\nInstead, get the keys corresponding to the top ***k*** values in your map and call the **remove** method on the map on each key, such as below..\r\n\r\n    Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;(Map.of(1, 3, 2, 2, 3, 6, 4, 8, 5, 2, 6, 1));\r\n\tint k = 3;\r\n\r\n\tmap.entrySet().stream().sorted((e1, e2) -&gt; Integer.compare(e2.getValue(), e1.getValue())).map(e -&gt; e.getKey())\r\n\t\t\t\t.limit(k).forEach(map::remove);\r\n\r\n\tSystem.out.println(map);\r\n\r\nprints: {2=2, 5=2, 6=1}","title":"From a HashMap, how to remove k number of elements with the highest values(Java)?","body":"<p>There are multiple issues with your approach.</p>\n<ul>\n<li>It is very inefficient to loop through the values and keep finding the max after each delete</li>\n<li>You are not allowed to modify the source map by calling the remove method from within the forEach loop of it's entry set.</li>\n</ul>\n<p>Instead, get the keys corresponding to the top <em><strong>k</strong></em> values in your map and call the <strong>remove</strong> method on the map on each key, such as below..</p>\n<pre><code>Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;(Map.of(1, 3, 2, 2, 3, 6, 4, 8, 5, 2, 6, 1));\nint k = 3;\n\nmap.entrySet().stream().sorted((e1, e2) -&gt; Integer.compare(e2.getValue(), e1.getValue())).map(e -&gt; e.getKey())\n            .limit(k).forEach(map::remove);\n\nSystem.out.println(map);\n</code></pre>\n<p>prints: {2=2, 5=2, 6=1}</p>\n"}],"owner":{"account_id":27116608,"reputation":1,"user_id":20660852,"display_name":"blindflip"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1673040919,"creation_date":1670216381,"question_id":74683554,"body_markdown":"`myMap = {1=3, 2=2, 3=6, 4=8, 5=2, 6=1}`\r\n\r\n`k = 3`\r\n\r\nso I&#39;ll delete the (3) highest map items with the highest values.\r\n\r\nWhat can I do in Java so the map becomes?\r\n\r\n`myMap = {2=2, 5=2, 6=1}`\r\n\r\n\r\n\r\n\r\nI tried a for loop that iterates (3) times\r\n\r\nand within it, a nested for loop that uses map.entry to get the max value and remove it. I keep getting an error.\r\n\r\n\r\n```\r\n\r\n```\r\n         int k =3; // number of large value pairs to remove\r\n\r\n\t int max = Collections.max(myMap.values()); // find max value\r\n\t   \r\n\r\n\t for(int i =0; i&lt;k ;i++) {  // iterate 3 times to delete (3) sets\r\n\r\n\t    for (Map.Entry&lt;Integer, Integer&gt; entry : myMap.entrySet()) {\r\n\t\t    Integer key = entry.getKey(); // find key associated with current largest value \r\n\t\t    Integer value = entry.getValue();// find largest value \r\n\t\t    if(value==max) { // test retrieved vale with max value \r\n\t\t    \thMap.remove(key);// remove set from HashMap\r\n\t\t    }\r\n\t\t    max = Collections.max(myMap.values()); // find new maximum\r\n\t\t}\t   \r\n\t }\r\n```\r\n\r\n```\r\n\r\nError:\r\n\r\n```\r\nException in thread &quot;main&quot; java.util.ConcurrentModificationException\r\n\tat java.base/java.util.HashMap$HashIterator.nextNode(HashMap.java:XXXX)\r\n\tat java.base/java.util.HashMap$EntryIterator.next(HashMap.java:XXXX)\r\n\tat java.base/java.util.HashMap$EntryIterator.next(HashMap.java:XXXX)\r\n```\r\n","title":"From a HashMap, how to remove k number of elements with the highest values(Java)?","body":"<p><code>myMap = {1=3, 2=2, 3=6, 4=8, 5=2, 6=1}</code></p>\n<p><code>k = 3</code></p>\n<p>so I'll delete the (3) highest map items with the highest values.</p>\n<p>What can I do in Java so the map becomes?</p>\n<p><code>myMap = {2=2, 5=2, 6=1}</code></p>\n<p>I tried a for loop that iterates (3) times</p>\n<p>and within it, a nested for loop that uses map.entry to get the max value and remove it. I keep getting an error.</p>\n<pre><code>\n</code></pre>\n<pre><code>     int k =3; // number of large value pairs to remove\n\n int max = Collections.max(myMap.values()); // find max value\n   \n\n for(int i =0; i&lt;k ;i++) {  // iterate 3 times to delete (3) sets\n\n    for (Map.Entry&lt;Integer, Integer&gt; entry : myMap.entrySet()) {\n        Integer key = entry.getKey(); // find key associated with current largest value \n        Integer value = entry.getValue();// find largest value \n        if(value==max) { // test retrieved vale with max value \n            hMap.remove(key);// remove set from HashMap\n        }\n        max = Collections.max(myMap.values()); // find new maximum\n    }      \n }\n</code></pre>\n<pre><code>\n</code></pre>\n<p>Error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.ConcurrentModificationException\n    at java.base/java.util.HashMap$HashIterator.nextNode(HashMap.java:XXXX)\n    at java.base/java.util.HashMap$EntryIterator.next(HashMap.java:XXXX)\n    at java.base/java.util.HashMap$EntryIterator.next(HashMap.java:XXXX)\n</code></pre>\n"},{"tags":["java","oracle","properties","connection"],"comments":[{"owner":{"account_id":45798,"reputation":327462,"user_id":135152,"accept_rate":100,"display_name":"OMG Ponies"},"score":0,"creation_date":1255192851,"post_id":1548400,"comment_id":1405704,"body_markdown":"You&#39;re hoping to distinguish between applications when viewing active sessions?","body":"You&#39;re hoping to distinguish between applications when viewing active sessions?"}],"answers":[{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1255192994,"creation_date":1255192994,"answer_id":1548431,"question_id":1548400,"body_markdown":"You need to define the connection property `v$session.program` in your data source, in such a way that that property will be added to each connection. How you do that depends on your data source implementation. The value you set the property to will appear in oracle&#39;s active session table.","title":"How do I make my Java application identify itself to Oracle on connection?","body":"<p>You need to define the connection property <code>v$session.program</code> in your data source, in such a way that that property will be added to each connection. How you do that depends on your data source implementation. The value you set the property to will appear in oracle's active session table.</p>\n"},{"tags":[],"owner":{"account_id":41192,"reputation":8797,"user_id":119667,"accept_rate":100,"display_name":"Rob van Laarhoven"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1430214408,"creation_date":1255204392,"answer_id":1548898,"question_id":1548400,"body_markdown":"    java.util.Properties props = new java.util.Properties();\r\n    props.setProperty(&quot;password&quot;,&quot;mypassword&quot;);\r\n    props.setProperty(&quot;user&quot;,&quot;myusername&quot;);\r\n    props.put(&quot;v$session.osuser&quot;, System.getProperty(&quot;user.name&quot;).toString());\r\n    props.put(&quot;v$session.machine&quot;, InetAddress.getLocalHost().getCanonicalHostName());\r\n    props.put(&quot;v$session.program&quot;, &quot;My Program Name&quot;);\r\n    DriverManager.registerDriver (new oracle.jdbc.OracleDriver());\r\n    Connection conn=\r\n        DriverManager.getConnection(&quot;jdbc:oracle:thin:@myhostname:1521:mysid&quot;, props);\r\n\r\n&lt;foo&gt;\r\n\r\n    SQL&gt;select username,osuser,program,machine\r\n    from v$session\r\n    where username = &#39;ROB&#39;; \r\n     \r\n    USERNAME  OSUSER       PROGRAM             MACHINE\r\n    --------- -----------  ------------------  -----------\r\n    ROB       rmerkw       My Program Name     machine\r\n\r\n\r\n  [1]: http://stackoverflow.com/questions/1548400/how-do-i-make-my-java-application-identify-itself-to-oracle-on-connection/1548898#1548898\r\n\r\n\r\nAt application level you can use the following methods to set *client_info*, *module* and *action* in *v$session*:\r\n\r\n    dbms_application_info.set_client_info\r\n    dbms_application_info.set_module\r\n    dbms_application_info.set_action","title":"How do I make my Java application identify itself to Oracle on connection?","body":"<pre><code>java.util.Properties props = new java.util.Properties();\nprops.setProperty(\"password\",\"mypassword\");\nprops.setProperty(\"user\",\"myusername\");\nprops.put(\"v$session.osuser\", System.getProperty(\"user.name\").toString());\nprops.put(\"v$session.machine\", InetAddress.getLocalHost().getCanonicalHostName());\nprops.put(\"v$session.program\", \"My Program Name\");\nDriverManager.registerDriver (new oracle.jdbc.OracleDriver());\nConnection conn=\n    DriverManager.getConnection(\"jdbc:oracle:thin:@myhostname:1521:mysid\", props);\n</code></pre>\n\n<p></p>\n\n<pre><code>SQL&gt;select username,osuser,program,machine\nfrom v$session\nwhere username = 'ROB'; \n\nUSERNAME  OSUSER       PROGRAM             MACHINE\n--------- -----------  ------------------  -----------\nROB       rmerkw       My Program Name     machine\n</code></pre>\n\n<p>At application level you can use the following methods to set <em>client_info</em>, <em>module</em> and <em>action</em> in <em>v$session</em>:</p>\n\n<pre><code>dbms_application_info.set_client_info\ndbms_application_info.set_module\ndbms_application_info.set_action\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9608,"reputation":17506,"user_id":17832,"display_name":"JeeBee"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1256296478,"creation_date":1256296478,"answer_id":1612773,"question_id":1548400,"body_markdown":"There is also an Oracle function:\r\n\r\n    dbms_application_info.set_client_info(&#39;Client Info&#39;);\r\n\r\nwhich sets the ClientInfo column in v$session.\r\n\r\nThis might be useful if you only have access to the Connection rather than the underlying DataSource or DriverManager.","title":"How do I make my Java application identify itself to Oracle on connection?","body":"<p>There is also an Oracle function:</p>\n\n<pre><code>dbms_application_info.set_client_info('Client Info');\n</code></pre>\n\n<p>which sets the ClientInfo column in v$session.</p>\n\n<p>This might be useful if you only have access to the Connection rather than the underlying DataSource or DriverManager.</p>\n"},{"tags":[],"owner":{"account_id":8434780,"reputation":669,"user_id":6329250,"display_name":"Manuel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1509969266,"creation_date":1509968324,"answer_id":47136132,"question_id":1548400,"body_markdown":"Since oracle jdbc 12.1 you can set some client-info values via jdbc api, i.e. you can do\r\n\r\n    connection.setClientInfo(&quot;OCSID.CLIENTID&quot;, &quot;MyClientId&quot;);\r\nfor properties OCSID...\r\n\r\nACTION, CLIENTID, ECID, MODULE, SEQUENCE_NUMBER and DBOP\r\n\r\nSee https://docs.oracle.com/database/121/JJDBC/jdbcvers.htm#JJDBC29006\r\n\r\nSetting PROGRAM doesn&#39;t work this way, you can do that as described in the accepted answer or somewhat easier by setting the System property &quot;oracle.jdbc.v$session.program&quot;.","title":"How do I make my Java application identify itself to Oracle on connection?","body":"<p>Since oracle jdbc 12.1 you can set some client-info values via jdbc api, i.e. you can do</p>\n\n<pre><code>connection.setClientInfo(\"OCSID.CLIENTID\", \"MyClientId\");\n</code></pre>\n\n<p>for properties OCSID...</p>\n\n<p>ACTION, CLIENTID, ECID, MODULE, SEQUENCE_NUMBER and DBOP</p>\n\n<p>See <a href=\"https://docs.oracle.com/database/121/JJDBC/jdbcvers.htm#JJDBC29006\" rel=\"nofollow noreferrer\">https://docs.oracle.com/database/121/JJDBC/jdbcvers.htm#JJDBC29006</a></p>\n\n<p>Setting PROGRAM doesn't work this way, you can do that as described in the accepted answer or somewhat easier by setting the System property \"oracle.jdbc.v$session.program\".</p>\n"},{"tags":[],"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1568108389,"creation_date":1568108389,"answer_id":57868031,"question_id":1548400,"body_markdown":"Starting with 12.1 the  `setEndToEndMetrics` is deprecated, you may use  `setClientInfo`\r\nsee the documentation for 12.2 [here][1]\r\n\r\n\r\nHere a snippet of the usage\r\n\r\n    // &quot;conn&quot; is an instance of java.sql.Connection:\r\n    conn.setClientInfo(&quot;OCSID.CLIENTID&quot;, &quot;clientID&quot;);\r\n    conn.setClientInfo(&quot;OCSID.MODULE&quot;, &quot;myModule&quot;);\r\n    conn.setClientInfo(&quot;OCSID.ACTION&quot;, &quot;myAction&quot;);\r\n\r\nYou may see the setting in `V$SESSION` with this query of the relevant session\r\n\r\n     select MODULE, ACTION, CLIENT_IDENTIFIER from v$session where ...\r\n\r\n**but only after a next statement is executed with this connection**. The call of `setClientInfo` triggers no extra roundtrip this information is passed whit the next call.\r\n\r\nNote also that you must use the Oracle (unwrapped) conenction - Check [this][2] for reference. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/database/oracle/oracle-database/19/jjdbc/JDBC-standards-support.html#GUID-1987FAC4-E93A-49A5-9EB4-A78B465E6938\r\n  [2]: https://stackoverflow.com/q/15483356/4808122","title":"How do I make my Java application identify itself to Oracle on connection?","body":"<p>Starting with 12.1 the  <code>setEndToEndMetrics</code> is deprecated, you may use  <code>setClientInfo</code>\nsee the documentation for 12.2 <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/jjdbc/JDBC-standards-support.html#GUID-1987FAC4-E93A-49A5-9EB4-A78B465E6938\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Here a snippet of the usage</p>\n\n<pre><code>// \"conn\" is an instance of java.sql.Connection:\nconn.setClientInfo(\"OCSID.CLIENTID\", \"clientID\");\nconn.setClientInfo(\"OCSID.MODULE\", \"myModule\");\nconn.setClientInfo(\"OCSID.ACTION\", \"myAction\");\n</code></pre>\n\n<p>You may see the setting in <code>V$SESSION</code> with this query of the relevant session</p>\n\n<pre><code> select MODULE, ACTION, CLIENT_IDENTIFIER from v$session where ...\n</code></pre>\n\n<p><strong>but only after a next statement is executed with this connection</strong>. The call of <code>setClientInfo</code> triggers no extra roundtrip this information is passed whit the next call.</p>\n\n<p>Note also that you must use the Oracle (unwrapped) conenction - Check <a href=\"https://stackoverflow.com/q/15483356/4808122\">this</a> for reference. </p>\n"}],"owner":{"account_id":790,"reputation":23125,"user_id":1030,"accept_rate":98,"display_name":"ninesided"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10280,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":1548898,"answer_count":5,"score":12,"last_activity_date":1673040719,"creation_date":1255192369,"question_id":1548400,"body_markdown":"When my application connects to an Oracle database I want to be able to see by looking at the active sessions in the database that it is connected. Currently it identifies itself as &quot;JDBC Thin Client&quot; because that&#39;s the driver that I&#39;m using, but other Java based applications that I have are somehow able to set this value to something more meaningful, like &quot;SQL Developer&quot;. I thought it was a property of the `Connection` or the `OracleDataSource`, but I&#39;ve not managed to find one that does the trick. Is this possible? In case it matters, I&#39;m using Java 1.5, with Oracle 10g and the 10g thin driver.","title":"How do I make my Java application identify itself to Oracle on connection?","body":"<p>When my application connects to an Oracle database I want to be able to see by looking at the active sessions in the database that it is connected. Currently it identifies itself as \"JDBC Thin Client\" because that's the driver that I'm using, but other Java based applications that I have are somehow able to set this value to something more meaningful, like \"SQL Developer\". I thought it was a property of the <code>Connection</code> or the <code>OracleDataSource</code>, but I've not managed to find one that does the trick. Is this possible? In case it matters, I'm using Java 1.5, with Oracle 10g and the 10g thin driver.</p>\n"},{"tags":["java","android","android-fusedlocation"],"answers":[{"tags":[],"owner":{"account_id":6914700,"reputation":4797,"user_id":5309419,"display_name":"DmitryArc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673040328,"creation_date":1673040328,"answer_id":75036200,"question_id":75028605,"body_markdown":"In this line\r\n```\r\nTextView text_longitude = findViewById(R.id.text_longitude);\r\n```\r\nYou are trying to assign the variables to the widgets from the layout with `findViewById()` before actually inflating the Activity&#39;s UI.\r\n\r\nThe proper way is firstly to declare them\r\n```\r\nprivate TextView textLongitude;\r\nprivate TextView textAccuracy;\r\nprivate TextView textAddress;\r\n```\r\nand assign later in `onCreate()` after `setContentView(R.layout.activity_main);` instruction.\r\n```\r\n@Override\r\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n\r\n    textLongitude = findViewById(R.id.text_longitude);\r\n    textAccuracy = findViewById(R.id.text_accuracy);\r\n    textAddress = findViewById(R.id.text_address);\r\n }\r\n```","title":"Problem: Attempt to invoke virtual method &#39;android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()&#39; on a null object reference","body":"<p>In this line</p>\n<pre><code>TextView text_longitude = findViewById(R.id.text_longitude);\n</code></pre>\n<p>You are trying to assign the variables to the widgets from the layout with <code>findViewById()</code> before actually inflating the Activity's UI.</p>\n<p>The proper way is firstly to declare them</p>\n<pre><code>private TextView textLongitude;\nprivate TextView textAccuracy;\nprivate TextView textAddress;\n</code></pre>\n<p>and assign later in <code>onCreate()</code> after <code>setContentView(R.layout.activity_main);</code> instruction.</p>\n<pre><code>@Override\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    textLongitude = findViewById(R.id.text_longitude);\n    textAccuracy = findViewById(R.id.text_accuracy);\n    textAddress = findViewById(R.id.text_address);\n }\n</code></pre>\n"}],"owner":{"account_id":27451158,"reputation":3,"user_id":20943388,"display_name":"Foogles super"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75036200,"answer_count":1,"score":0,"last_activity_date":1673040328,"creation_date":1672994014,"question_id":75028605,"body_markdown":"Process crashed while executing mainTest(ru.myitschool.lab23.InstrumentedTestGeo):\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()&#39; on a null object reference\r\n\tat android.content.ContextWrapper.getApplicationInfo(ContextWrapper.java:190)\r\n\tat android.view.ContextThemeWrapper.getTheme(ContextThemeWrapper.java:174)\r\n\tat android.content.Context.obtainStyledAttributes(Context.java:809)\r\n\tat androidx.appcompat.app.AppCompatDelegateImpl.createSubDecor(AppCompatDelegateImpl.java:852)\r\n\tat androidx.appcompat.app.AppCompatDelegateImpl.ensureSubDecor(AppCompatDelegateImpl.java:819)\r\n\tat androidx.appcompat.app.AppCompatDelegateImpl.findViewById(AppCompatDelegateImpl.java:640)\r\n\tat androidx.appcompat.app.AppCompatActivity.findViewById(AppCompatActivity.java:261)\r\n\tat ru.myitschool.lab23.MainActivity.(MainActivity.java:26)\r\n\tat java.lang.Class.newInstance(Native Method)\r\n\tat android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95)\r\n\tat androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45)\r\n\tat android.app.Instrumentation.newActivity(Instrumentation.java:1273)\r\n\tat androidx.test.runner.MonitoringInstrumentation.newActivity(MonitoringInstrumentation.java:866)\r\n\tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3901)\r\n\tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4201)\r\n\tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\r\n\tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n\tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n\tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2438)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n\tat android.os.Looper.loopOnce(Looper.java:226)\r\n\tat android.os.Looper.loop(Looper.java:313)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:8669)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\r\n\r\n\r\n\r\n\r\nIt is my &quot;homework&quot; and I should to do location provider, but I have minimum 1 problem and my teacher is at \r\nholidays(\r\n\r\n\r\n\r\nMainActivity:\r\n\r\n    import android.annotation.SuppressLint;\r\n    import android.content.pm.PackageManager;\r\n    import android.location.Address;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.TextView;\r\n    import android.location.Geocoder;\r\n\r\n    import androidx.annotation.Nullable;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.core.app.ActivityCompat;\r\n\r\n    import com.google.android.gms.location.FusedLocationProviderClient;\r\n    import com.google.android.gms.location.LocationServices;\r\n\r\n    import java.io.IOException;\r\n    import java.util.List;\r\n    import java.util.Locale;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    private FusedLocationProviderClient mFusedLocationClient;\r\n\r\n    TextView text_longitude = findViewById(R.id.text_longitude),\r\n            text_accuracy = findViewById(R.id.text_accuracy), text_address = findViewById(R.id.text_address);\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n     }\r\n     @SuppressLint(&quot;Range&quot;)\r\n     public void getLoc(View v) {\r\n\r\n\r\n        if (ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_FINE_LOCATION) !=                PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            // TODO: Consider calling\r\n            //    ActivityCompat#requestPermissions\r\n            // here to request the missing permissions, and then overriding\r\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n            //                                          int[] grantResults)\r\n            // to handle the case where the user grants the permission. See the documentation\r\n            // for ActivityCompat#requestPermissions for more details.\r\n            return;\r\n        }\r\n              mFusedLocationClient.getLastLocation().addOnSuccessListener(this, location -&gt; {\r\n            if (location != null) {\r\n                text_longitude.setText(String.valueOf(location.getLatitude()));\r\n                text_accuracy.setText(String.valueOf(location.getAccuracy()));\r\n                Geocoder geocoder = new Geocoder(this, Locale.getDefault());\r\n                try {\r\n                    text_address.setText((CharSequence) geocoder.getFromLocation(location.getLatitude(),  location.getAccuracy(), 1));\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n\r\n          }\r\n\r\n\r\n\r\n       }\r\n\r\n\r\n","title":"Problem: Attempt to invoke virtual method &#39;android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()&#39; on a null object reference","body":"<p>Process crashed while executing mainTest(ru.myitschool.lab23.InstrumentedTestGeo):\njava.lang.NullPointerException: Attempt to invoke virtual method 'android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()' on a null object reference\nat android.content.ContextWrapper.getApplicationInfo(ContextWrapper.java:190)\nat android.view.ContextThemeWrapper.getTheme(ContextThemeWrapper.java:174)\nat android.content.Context.obtainStyledAttributes(Context.java:809)\nat androidx.appcompat.app.AppCompatDelegateImpl.createSubDecor(AppCompatDelegateImpl.java:852)\nat androidx.appcompat.app.AppCompatDelegateImpl.ensureSubDecor(AppCompatDelegateImpl.java:819)\nat androidx.appcompat.app.AppCompatDelegateImpl.findViewById(AppCompatDelegateImpl.java:640)\nat androidx.appcompat.app.AppCompatActivity.findViewById(AppCompatActivity.java:261)\nat ru.myitschool.lab23.MainActivity.(MainActivity.java:26)\nat java.lang.Class.newInstance(Native Method)\nat android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95)\nat androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45)\nat android.app.Instrumentation.newActivity(Instrumentation.java:1273)\nat androidx.test.runner.MonitoringInstrumentation.newActivity(MonitoringInstrumentation.java:866)\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3901)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4201)\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2438)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loopOnce(Looper.java:226)\nat android.os.Looper.loop(Looper.java:313)\nat android.app.ActivityThread.main(ActivityThread.java:8669)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)</p>\n<p>It is my &quot;homework&quot; and I should to do location provider, but I have minimum 1 problem and my teacher is at\nholidays(</p>\n<p>MainActivity:</p>\n<pre><code>import android.annotation.SuppressLint;\nimport android.content.pm.PackageManager;\nimport android.location.Address;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.TextView;\nimport android.location.Geocoder;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\n\nimport com.google.android.gms.location.FusedLocationProviderClient;\nimport com.google.android.gms.location.LocationServices;\n\nimport java.io.IOException;\nimport java.util.List;\nimport java.util.Locale;\n\npublic class MainActivity extends AppCompatActivity {\n\nprivate FusedLocationProviderClient mFusedLocationClient;\n\nTextView text_longitude = findViewById(R.id.text_longitude),\n        text_accuracy = findViewById(R.id.text_accuracy), text_address = findViewById(R.id.text_address);\n\n@Override\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n\n }\n @SuppressLint(&quot;Range&quot;)\n public void getLoc(View v) {\n\n\n    if (ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_FINE_LOCATION) !=                PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n        // TODO: Consider calling\n        //    ActivityCompat#requestPermissions\n        // here to request the missing permissions, and then overriding\n        //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n        //                                          int[] grantResults)\n        // to handle the case where the user grants the permission. See the documentation\n        // for ActivityCompat#requestPermissions for more details.\n        return;\n    }\n          mFusedLocationClient.getLastLocation().addOnSuccessListener(this, location -&gt; {\n        if (location != null) {\n            text_longitude.setText(String.valueOf(location.getLatitude()));\n            text_accuracy.setText(String.valueOf(location.getAccuracy()));\n            Geocoder geocoder = new Geocoder(this, Locale.getDefault());\n            try {\n                text_address.setText((CharSequence) geocoder.getFromLocation(location.getLatitude(),  location.getAccuracy(), 1));\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n        }\n    });\n\n\n      }\n\n\n\n   }\n</code></pre>\n"},{"tags":["java","spring-boot","keycloak","spring-cloud","spring-cloud-gateway"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673040110,"creation_date":1672942034,"answer_id":75022627,"question_id":75022084,"body_markdown":"I wouldn&#39;t configure the gateway as OAuth2 client: I see gateway as a layer abstracting REST APIs which are resource-servers, not clients.\r\n\r\nConfiguring gateway as OAuth2 client can be handy with browser clients which don&#39;t know anything about OAuth2 but has following implications:\r\n- request between browser and gateway **is not OAuth2**: it is secured with sessions, not with an access-token set as Bearer authorization header. As the request is secured with sessions CSRF protection must be enabled. \r\n- gateway links this session to an access-token. You can configure it to set this token as Authorization header before forwarding request to resource-server micro services. But what it expects from incoming requests is a session not an access token. \r\n\r\nIn your case I&#39;d leave gateway transparent to security (nothing related to OAuth2, sessions or login): clients handle login and requests authorization by themself (with the help of [certified client libs][1]) and micro-services are configured as resource-server. In this scenario, two cases for inter micro-services calls:\r\n- request is done without the context of the user who originated the request: serviceA calls serviceB in its own name, then serviceA uses client credentials to get a new access token\r\n- sub-request to serciceB is made on behalf of the user who originated the request, then serviceA just forwards incoming access-token as Authorization header. \r\n\r\n\r\n  [1]: https://openid.net/developers/certified/","title":"How to use Keycloak token between Microservices?","body":"<p>I wouldn't configure the gateway as OAuth2 client: I see gateway as a layer abstracting REST APIs which are resource-servers, not clients.</p>\n<p>Configuring gateway as OAuth2 client can be handy with browser clients which don't know anything about OAuth2 but has following implications:</p>\n<ul>\n<li>request between browser and gateway <strong>is not OAuth2</strong>: it is secured with sessions, not with an access-token set as Bearer authorization header. As the request is secured with sessions CSRF protection must be enabled.</li>\n<li>gateway links this session to an access-token. You can configure it to set this token as Authorization header before forwarding request to resource-server micro services. But what it expects from incoming requests is a session not an access token.</li>\n</ul>\n<p>In your case I'd leave gateway transparent to security (nothing related to OAuth2, sessions or login): clients handle login and requests authorization by themself (with the help of <a href=\"https://openid.net/developers/certified/\" rel=\"nofollow noreferrer\">certified client libs</a>) and micro-services are configured as resource-server. In this scenario, two cases for inter micro-services calls:</p>\n<ul>\n<li>request is done without the context of the user who originated the request: serviceA calls serviceB in its own name, then serviceA uses client credentials to get a new access token</li>\n<li>sub-request to serciceB is made on behalf of the user who originated the request, then serviceA just forwards incoming access-token as Authorization header.</li>\n</ul>\n"}],"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1710,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673040110,"creation_date":1672938897,"question_id":75022084,"body_markdown":"I am building a application which works on microservices and I am authenticating my Gateway using Keycloak my authentication is working fine Gateway is redirecting me to Keycloak login page and login done successfully and I am able to get token Id and I am passing this Id to other Microservices but when I am making rest request to Gateway again from any other Microservice it is getting failed but I am sending token in &quot;Authorization&quot; in Gateway but it is not working. So how to communicate between Microservices once login done?\r\n\r\nThis is My Gateway in which I am getting token in controller:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/aiv&quot;)\r\n    public class UserController {\r\n    \r\n        @Autowired\r\n        DataSource dataSource;\r\n    \r\n        @PostMapping(path = &quot;/authenticate&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        public String getAuth(@RequestBody Map&lt;String, Object&gt; data, Authentication authentication) {\r\n           // Here it is passing to Other Microservice\r\n            data.put(&quot;Authorization&quot;,((DefaultOidcUser) authentication.getPrincipal()).getIdToken().getTokenValue());\r\n           String responseData = new DefaultAuthenticateImpl().authenticateByPassword(data,dataSource);\r\n           return responseData;\r\n        }\r\n\r\nGateway Security Service:\r\n\r\n    @Configuration\r\n    @EnableWebFluxSecurity\r\n    public class SecurityConfig {\r\n    \r\n        @Bean\r\n        public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http,\r\n                                                                ReactiveClientRegistrationRepository clientRegistrationRepository) {\r\n            // Authenticate through configured OpenID Provider\r\n            http.authorizeExchange()\r\n                    .pathMatchers(&quot;/app/&quot;).authenticated().and().cors().and().oauth2Login();\r\n    \r\n            // Also logout at the OpenID Connect provider\r\n            http.logout(logout -&gt; logout.logoutSuccessHandler(\r\n                    new OidcClientInitiatedServerLogoutSuccessHandler(clientRegistrationRepository)));\r\n    \r\n            // Require authentication for all requests\r\n            http.authorizeExchange().anyExchange().authenticated();\r\n    \r\n            // Allow showing /home within a frame\r\n            http.headers().frameOptions().mode(XFrameOptionsServerHttpHeadersWriter.Mode.SAMEORIGIN);\r\n    \r\n            // Disable CSRF in the gateway to prevent conflicts with proxied service CSRF\r\n            http.csrf().disable();\r\n            return http.build();\r\n        }\r\n    \r\n    }\r\n\r\nAnd yml file configuration is as follow:\r\n\r\n    spring:\r\n      security:\r\n        oauth2:\r\n          client:\r\n            provider:\r\n              keycloak:\r\n                issuer-uri: http://localhost:8280/auth/realms/Default\r\n                user-name-attribute: preferred_username\r\n                user-info-authentication-method: header\r\n            registration:\r\n              keycloak:\r\n                client-id: Default\r\n                client-secret: 8ZRUH62PxicdfsdfsasD82VzWhvqWt03K6\r\n                redirect-uri: http://localhost:9000/login/oauth2/code/keycloak\r\n                scope: openid\r\n\r\nAnd now from another microservice when I am calling again it to Gateway using below rest request:\r\n\r\n      public String getRequest(String stUrl, Map&lt;String, Object&gt; data) {\r\n        try {\r\n            HttpClient httpclient = HttpClients.createDefault();\r\n\r\n            HttpGet httpget = null;\r\n            //Calling again Gateway to get user additional information.\r\n            httpget = new HttpGet(&lt;&lt;Gateway Url&gt;&gt;);\r\n\r\n            Iterator&lt;Map.Entry&lt;String, Object&gt;&gt; entries = data.entrySet().iterator();\r\n            while (entries.hasNext()) {\r\n                Map.Entry&lt;String, Object&gt; entry = entries.next();\r\n                httpget.addHeader(entry.getKey(), entry.getValue().toString());\r\n            }\r\n\r\n           // Here passing Authorization token\r\n            httpget.setHeader(&quot;Authorization&quot;, &lt;&lt;AuthToken&gt;&gt;);\r\n\r\n            ResponseHandler&lt;String&gt; responseHandler = new BasicResponseHandler();\r\n            String resp = httpclient.execute(httpget, responseHandler);\r\n\r\n            return resp;\r\n        } catch (Exception e) {\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\n\r\nBut this rest request getting failed I am not sure why it is getting failes even after passing &quot;Authorization&quot;. Please help how can we communicate between microservices. ","title":"How to use Keycloak token between Microservices?","body":"<p>I am building a application which works on microservices and I am authenticating my Gateway using Keycloak my authentication is working fine Gateway is redirecting me to Keycloak login page and login done successfully and I am able to get token Id and I am passing this Id to other Microservices but when I am making rest request to Gateway again from any other Microservice it is getting failed but I am sending token in &quot;Authorization&quot; in Gateway but it is not working. So how to communicate between Microservices once login done?</p>\n<p>This is My Gateway in which I am getting token in controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/aiv&quot;)\npublic class UserController {\n\n    @Autowired\n    DataSource dataSource;\n\n    @PostMapping(path = &quot;/authenticate&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public String getAuth(@RequestBody Map&lt;String, Object&gt; data, Authentication authentication) {\n       // Here it is passing to Other Microservice\n        data.put(&quot;Authorization&quot;,((DefaultOidcUser) authentication.getPrincipal()).getIdToken().getTokenValue());\n       String responseData = new DefaultAuthenticateImpl().authenticateByPassword(data,dataSource);\n       return responseData;\n    }\n</code></pre>\n<p>Gateway Security Service:</p>\n<pre><code>@Configuration\n@EnableWebFluxSecurity\npublic class SecurityConfig {\n\n    @Bean\n    public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http,\n                                                            ReactiveClientRegistrationRepository clientRegistrationRepository) {\n        // Authenticate through configured OpenID Provider\n        http.authorizeExchange()\n                .pathMatchers(&quot;/app/&quot;).authenticated().and().cors().and().oauth2Login();\n\n        // Also logout at the OpenID Connect provider\n        http.logout(logout -&gt; logout.logoutSuccessHandler(\n                new OidcClientInitiatedServerLogoutSuccessHandler(clientRegistrationRepository)));\n\n        // Require authentication for all requests\n        http.authorizeExchange().anyExchange().authenticated();\n\n        // Allow showing /home within a frame\n        http.headers().frameOptions().mode(XFrameOptionsServerHttpHeadersWriter.Mode.SAMEORIGIN);\n\n        // Disable CSRF in the gateway to prevent conflicts with proxied service CSRF\n        http.csrf().disable();\n        return http.build();\n    }\n\n}\n</code></pre>\n<p>And yml file configuration is as follow:</p>\n<pre><code>spring:\n  security:\n    oauth2:\n      client:\n        provider:\n          keycloak:\n            issuer-uri: http://localhost:8280/auth/realms/Default\n            user-name-attribute: preferred_username\n            user-info-authentication-method: header\n        registration:\n          keycloak:\n            client-id: Default\n            client-secret: 8ZRUH62PxicdfsdfsasD82VzWhvqWt03K6\n            redirect-uri: http://localhost:9000/login/oauth2/code/keycloak\n            scope: openid\n</code></pre>\n<p>And now from another microservice when I am calling again it to Gateway using below rest request:</p>\n<pre><code>  public String getRequest(String stUrl, Map&lt;String, Object&gt; data) {\n    try {\n        HttpClient httpclient = HttpClients.createDefault();\n\n        HttpGet httpget = null;\n        //Calling again Gateway to get user additional information.\n        httpget = new HttpGet(&lt;&lt;Gateway Url&gt;&gt;);\n\n        Iterator&lt;Map.Entry&lt;String, Object&gt;&gt; entries = data.entrySet().iterator();\n        while (entries.hasNext()) {\n            Map.Entry&lt;String, Object&gt; entry = entries.next();\n            httpget.addHeader(entry.getKey(), entry.getValue().toString());\n        }\n\n       // Here passing Authorization token\n        httpget.setHeader(&quot;Authorization&quot;, &lt;&lt;AuthToken&gt;&gt;);\n\n        ResponseHandler&lt;String&gt; responseHandler = new BasicResponseHandler();\n        String resp = httpclient.execute(httpget, responseHandler);\n\n        return resp;\n    } catch (Exception e) {\n        return null;\n    }\n}\n</code></pre>\n<p>But this rest request getting failed I am not sure why it is getting failes even after passing &quot;Authorization&quot;. Please help how can we communicate between microservices.</p>\n"},{"tags":["java","android","sql","android-room","android-viewmodel"],"comments":[{"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"score":0,"creation_date":1673046510,"post_id":75036149,"comment_id":132417544,"body_markdown":"I would suggest first negating the WHERE clause so it will definitely select rows e.g. `@Query(&quot;SELECT * FROM payment WHERE payment_date = :date AND teacher_name = :teacherName OR 1&quot;)`. Do you get results now? If not then the issue could be with the view model. If you do get results then issue is with the query in which case you need to edit your question to include the ACTUAL stored data (App Inspection could be used) and the arguments (most likely is the date stored and passed not matching/compatitable).","body":"I would suggest first negating the WHERE clause so it will definitely select rows e.g. <code>@Query(&quot;SELECT * FROM payment WHERE payment_date = :date AND teacher_name = :teacherName OR 1&quot;)</code>. Do you get results now? If not then the issue could be with the view model. If you do get results then issue is with the query in which case you need to edit your question to include the ACTUAL stored data (App Inspection could be used) and the arguments (most likely is the date stored and passed not matching/compatitable)."}],"owner":{"account_id":24274748,"reputation":1,"user_id":18222209,"display_name":"sidali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673039891,"creation_date":1673039891,"question_id":75036149,"body_markdown":"I have a POJO that am using as an entity that looks like this:\r\n\r\n    public class Payment {\r\n    @PrimaryKey(autoGenerate = true)\r\n    @ColumnInfo(name = &quot;id_payment&quot;)\r\n    int paymentID;\r\n    @Embedded\r\n    @NonNull\r\n    SubjectTeacherCrossRef subjectTeacherCrossRef;\r\n    @NonNull\r\n    @ColumnInfo(name = &quot;teacher_name&quot;)\r\n    String teacherName;\r\n    @NonNull\r\n    @ColumnInfo(name = &quot;payment_date&quot;)\r\n    String paymentDate;\r\n    @NonNull\r\n    @ColumnInfo(name = &quot;hours_teached&quot;)\r\n    int hoursTeached;\r\n    @NonNull\r\n    @ColumnInfo(name = &quot;payment_total&quot;)\r\n    int paymentTotal;\r\n\r\nAnd inside my Dao i have a query that look like this:\r\n\r\n        @Query(&quot;SELECT * FROM payment WHERE payment_date = :date AND teacher_name = :teacherName&quot;)\r\n    public LiveData&lt;Payment&gt; getPaymentByTeacherAndDate(String date,String teacherName);\r\n\r\nI am using a repository and a viewModel in this app as proposed by [official documentation][1] but i don&#39;t think the code there is relevant.\r\n\r\nHere is the class where am calling for the method that&#39;s responsible of fetching the data from the database:\r\n\r\n    public class ReceiptFragment extends Fragment {\r\n    private TextView teacherName, total;\r\n    private RecyclerView recyclerView;\r\n    private ReceiptDetailsAdapter adapter;\r\n    private SchoolViewModel viewModel;\r\n    private int id;\r\n    private List&lt;String&gt; dates;\r\n    private long start, end;\r\n    private SimpleDateFormat simpleDateFormat;\r\n    private List&lt;Payment&gt; payments;\r\n    private String test;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View v = inflater.inflate(R.layout.fragment_receipt, container, false);\r\n        teacherName = v.findViewById(R.id.tv_receipt_teacher_name);\r\n        recyclerView = v.findViewById(R.id.rv_payment_details);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\r\n        recyclerView.setHasFixedSize(true);\r\n        total = v.findViewById(R.id.tv_total_payment);\r\n        adapter = new ReceiptDetailsAdapter();\r\n        recyclerView.setAdapter(adapter);\r\n        test = new String();\r\n        viewModel = new ViewModelProvider(this).get(SchoolViewModel.class);\r\n        payments = new ArrayList&lt;&gt;();\r\n        simpleDateFormat = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n        id = getArguments().getInt(&quot;id&quot;);\r\n        start = getArguments().getLong(&quot;start date&quot;);\r\n        end = getArguments().getLong(&quot;end date&quot;);\r\n        List&lt;Payment&gt; datesTest = new ArrayList&lt;&gt;();\r\n\r\n\r\n\r\n        //Setting the Teacher Name\r\n        viewModel.getTeacherByID(id).observe(getViewLifecycleOwner(), new Observer&lt;Teacher&gt;() {\r\n            @Override\r\n            public void onChanged(Teacher teacher) {\r\n                teacherName.setText(teacher.getTeacherName());\r\n            }\r\n        });\r\n\r\n        viewModel.getTeacherByID(id).observe(getViewLifecycleOwner(), new Observer&lt;Teacher&gt;() {\r\n            @Override\r\n            public void onChanged(Teacher teacher) {\r\n                for (long i = start; i &lt;= end; i += 86400000) {\r\n                    String date = simpleDateFormat.format(i);\r\n                    viewModel.getPaymentByTeacherAndDate(date.trim(), teacher.getTeacherName())\r\n                            .observe(getViewLifecycleOwner(), new Observer&lt;Payment&gt;() {\r\n                                @Override\r\n                                public void onChanged(Payment payment) {\r\n                                    if (!(payment == null)) {\r\n                                        payments.add(payment);\r\n                                        adapter.setPaymentsDetails(payments);\r\n                                        adapter.notifyDataSetChanged();\r\n                                    }\r\n                                }\r\n                            });\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n        return v;\r\n    }\r\nBoth the parameters that am passing to the method are valid as i have checked if that might be the problem.\r\n\r\nAnd i have already tested the recyclerView using a dummy set and it worked just fine.\r\n\r\nI suppose that the payment object received by the viewModel in some cases can be null because there will be some dates between the first and last dates that has no payments in them, that&#39;s why i created the &quot;null check&quot; before adding it to the list, BUT non of the payment object that i am receiving are valid!\r\n\r\n\r\n  [1]: https://developer.android.com/codelabs/android-room-with-a-view#1","title":"Why is it when i query an object from ROOM database using 2 clauses but it keeps coming up empty?","body":"<p>I have a POJO that am using as an entity that looks like this:</p>\n<pre><code>public class Payment {\n@PrimaryKey(autoGenerate = true)\n@ColumnInfo(name = &quot;id_payment&quot;)\nint paymentID;\n@Embedded\n@NonNull\nSubjectTeacherCrossRef subjectTeacherCrossRef;\n@NonNull\n@ColumnInfo(name = &quot;teacher_name&quot;)\nString teacherName;\n@NonNull\n@ColumnInfo(name = &quot;payment_date&quot;)\nString paymentDate;\n@NonNull\n@ColumnInfo(name = &quot;hours_teached&quot;)\nint hoursTeached;\n@NonNull\n@ColumnInfo(name = &quot;payment_total&quot;)\nint paymentTotal;\n</code></pre>\n<p>And inside my Dao i have a query that look like this:</p>\n<pre><code>    @Query(&quot;SELECT * FROM payment WHERE payment_date = :date AND teacher_name = :teacherName&quot;)\npublic LiveData&lt;Payment&gt; getPaymentByTeacherAndDate(String date,String teacherName);\n</code></pre>\n<p>I am using a repository and a viewModel in this app as proposed by <a href=\"https://developer.android.com/codelabs/android-room-with-a-view#1\" rel=\"nofollow noreferrer\">official documentation</a> but i don't think the code there is relevant.</p>\n<p>Here is the class where am calling for the method that's responsible of fetching the data from the database:</p>\n<pre><code>public class ReceiptFragment extends Fragment {\nprivate TextView teacherName, total;\nprivate RecyclerView recyclerView;\nprivate ReceiptDetailsAdapter adapter;\nprivate SchoolViewModel viewModel;\nprivate int id;\nprivate List&lt;String&gt; dates;\nprivate long start, end;\nprivate SimpleDateFormat simpleDateFormat;\nprivate List&lt;Payment&gt; payments;\nprivate String test;\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    // Inflate the layout for this fragment\n    View v = inflater.inflate(R.layout.fragment_receipt, container, false);\n    teacherName = v.findViewById(R.id.tv_receipt_teacher_name);\n    recyclerView = v.findViewById(R.id.rv_payment_details);\n    recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\n    recyclerView.setHasFixedSize(true);\n    total = v.findViewById(R.id.tv_total_payment);\n    adapter = new ReceiptDetailsAdapter();\n    recyclerView.setAdapter(adapter);\n    test = new String();\n    viewModel = new ViewModelProvider(this).get(SchoolViewModel.class);\n    payments = new ArrayList&lt;&gt;();\n    simpleDateFormat = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n    id = getArguments().getInt(&quot;id&quot;);\n    start = getArguments().getLong(&quot;start date&quot;);\n    end = getArguments().getLong(&quot;end date&quot;);\n    List&lt;Payment&gt; datesTest = new ArrayList&lt;&gt;();\n\n\n\n    //Setting the Teacher Name\n    viewModel.getTeacherByID(id).observe(getViewLifecycleOwner(), new Observer&lt;Teacher&gt;() {\n        @Override\n        public void onChanged(Teacher teacher) {\n            teacherName.setText(teacher.getTeacherName());\n        }\n    });\n\n    viewModel.getTeacherByID(id).observe(getViewLifecycleOwner(), new Observer&lt;Teacher&gt;() {\n        @Override\n        public void onChanged(Teacher teacher) {\n            for (long i = start; i &lt;= end; i += 86400000) {\n                String date = simpleDateFormat.format(i);\n                viewModel.getPaymentByTeacherAndDate(date.trim(), teacher.getTeacherName())\n                        .observe(getViewLifecycleOwner(), new Observer&lt;Payment&gt;() {\n                            @Override\n                            public void onChanged(Payment payment) {\n                                if (!(payment == null)) {\n                                    payments.add(payment);\n                                    adapter.setPaymentsDetails(payments);\n                                    adapter.notifyDataSetChanged();\n                                }\n                            }\n                        });\n            }\n        }\n    });\n\n\n    return v;\n}\n</code></pre>\n<p>Both the parameters that am passing to the method are valid as i have checked if that might be the problem.</p>\n<p>And i have already tested the recyclerView using a dummy set and it worked just fine.</p>\n<p>I suppose that the payment object received by the viewModel in some cases can be null because there will be some dates between the first and last dates that has no payments in them, that's why i created the &quot;null check&quot; before adding it to the list, BUT non of the payment object that i am receiving are valid!</p>\n"},{"tags":["java","postgresql","syntax-error"],"comments":[{"owner":{"display_name":"user330315"},"score":1,"creation_date":1673039231,"post_id":75036022,"comment_id":132415876,"body_markdown":"It&#39;s **position** 13, not &quot;line 13&quot;. And the position 1 is the first character of your SQL statement (_not_ your Java code - Postgres doesn&#39;t even see that). But without showing us the actual SQL query, this is impossible to answer.","body":"It&#39;s <b>position</b> 13, not &quot;line 13&quot;. And the position 1 is the first character of your SQL statement (<i>not</i> your Java code - Postgres doesn&#39;t even see that). But without showing us the actual SQL query, this is impossible to answer."}],"owner":{"account_id":18298057,"reputation":11,"user_id":20726620,"display_name":"Elephants unite"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":811,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673039700,"creation_date":1673038675,"question_id":75036022,"body_markdown":"I am using Postgres for sql within eclipse and i ran my code and it gave me an error\r\n\r\n```\r\nsyntax error at end of input position 13\r\n```\r\n\r\nhowever, I&#39;m a bit confused as to find position 13 because I am using eclipse and I have written about 200 lines of code and I don&#39;t think it is line 13..\r\n\r\nI don&#39;t know if I&#39;m being stupid but I don&#39;t know how to find the error at the said position because I don&#39;t know how to find the position!\r\n\r\n    String query = &quot;SELECT * FROM BRANCH&quot;;\r\n        ResultSet rs = executeQuery(connection, query);\r\n        try {\r\n       \r\n          while (rs.next()) {\r\n            System.out.println(&quot;Column 1 returned&quot;);\r\n            System.out.println(rs.getString(1));\r\n          }\r\n           \r\n        } catch (SQLException e) {\r\n          e.printStackTrace();\r\n        }\r\n        rs.close();\r\n       \r\n        dropTable(connection, &quot; delayedFlights&quot;);\r\n        createTable(connection,&quot; delayedFlights( ID_of_Delayed_Flight int pr&quot;\r\n            + &quot;imary key, month int, dayOfMonth int, dayOfWeek int, depTime int, scheduledDeptTime int, arrTime int, &quot;\r\n            + &quot;scheduledArrTime int, uniqueCarrier varchar(5), flightNum int, actualFlightTime int, scheduledFlightTime int,&quot;\r\n            + &quot;airTime int, arrDelay int, depDelay int, orig varchar(5), dest varchar(5), distance int);&quot;);\r\n        int rows = insertIntoTableFromFile(connection, &quot;delayedFlights&quot;, &quot;src/delayedFlights.txt&quot;);\r\n        System.out.println(rows + &quot; rows inserted.&quot;);\r\n       \r\n        dropTable(connection, &quot; airport&quot;);\r\n        createTable(connection, &quot; airport( airportCode int primary key, airportName varchar(20), city varchar(25),&quot;\r\n            + &quot;state varchar(25));&quot;);\r\n        int rows2 = insertIntoTableFromFile(connection, &quot;airport&quot;, &quot;src/airport.txt&quot;);\r\n        System.out.println(rows2 + &quot; rows inserted.&quot;);","title":"how to find postgresql syntax error at position (using eclipse)","body":"<p>I am using Postgres for sql within eclipse and i ran my code and it gave me an error</p>\n<pre><code>syntax error at end of input position 13\n</code></pre>\n<p>however, I'm a bit confused as to find position 13 because I am using eclipse and I have written about 200 lines of code and I don't think it is line 13..</p>\n<p>I don't know if I'm being stupid but I don't know how to find the error at the said position because I don't know how to find the position!</p>\n<pre><code>String query = &quot;SELECT * FROM BRANCH&quot;;\n    ResultSet rs = executeQuery(connection, query);\n    try {\n   \n      while (rs.next()) {\n        System.out.println(&quot;Column 1 returned&quot;);\n        System.out.println(rs.getString(1));\n      }\n       \n    } catch (SQLException e) {\n      e.printStackTrace();\n    }\n    rs.close();\n   \n    dropTable(connection, &quot; delayedFlights&quot;);\n    createTable(connection,&quot; delayedFlights( ID_of_Delayed_Flight int pr&quot;\n        + &quot;imary key, month int, dayOfMonth int, dayOfWeek int, depTime int, scheduledDeptTime int, arrTime int, &quot;\n        + &quot;scheduledArrTime int, uniqueCarrier varchar(5), flightNum int, actualFlightTime int, scheduledFlightTime int,&quot;\n        + &quot;airTime int, arrDelay int, depDelay int, orig varchar(5), dest varchar(5), distance int);&quot;);\n    int rows = insertIntoTableFromFile(connection, &quot;delayedFlights&quot;, &quot;src/delayedFlights.txt&quot;);\n    System.out.println(rows + &quot; rows inserted.&quot;);\n   \n    dropTable(connection, &quot; airport&quot;);\n    createTable(connection, &quot; airport( airportCode int primary key, airportName varchar(20), city varchar(25),&quot;\n        + &quot;state varchar(25));&quot;);\n    int rows2 = insertIntoTableFromFile(connection, &quot;airport&quot;, &quot;src/airport.txt&quot;);\n    System.out.println(rows2 + &quot; rows inserted.&quot;);\n</code></pre>\n"},{"tags":["java","string","list","loops","split"],"answers":[{"tags":[],"owner":{"account_id":552826,"reputation":93460,"user_id":916657,"accept_rate":95,"display_name":"Niklas B."},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1350228664,"creation_date":1350228664,"answer_id":12883666,"question_id":12883618,"body_markdown":"Why not do it the naive way?\r\n\r\n    bool matchesAlmost(String str1, String str2) {\r\n        if (str1.length != str2.length)\r\n            return false;\r\n        int same = 0;\r\n        for (int i = 0; i &lt; str1.length; ++i) {\r\n            if (str1.charAt(i) == str2.charAt(i))\r\n                same++;\r\n        }\r\n        return same == str1.length - 1;\r\n    }\r\n\r\nNow you can just use a quadratic algorithm to check every string against every other.","title":"Checking if a string matches all characters but one of another string","body":"<p>Why not do it the naive way?</p>\n\n<pre><code>bool matchesAlmost(String str1, String str2) {\n    if (str1.length != str2.length)\n        return false;\n    int same = 0;\n    for (int i = 0; i &lt; str1.length; ++i) {\n        if (str1.charAt(i) == str2.charAt(i))\n            same++;\n    }\n    return same == str1.length - 1;\n}\n</code></pre>\n\n<p>Now you can just use a quadratic algorithm to check every string against every other.</p>\n"},{"tags":[],"owner":{"account_id":1282249,"reputation":3856,"user_id":1236099,"accept_rate":51,"display_name":"madhairsilence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1350228929,"creation_date":1350228929,"answer_id":12883713,"question_id":12883618,"body_markdown":"Assuming the length of two strings are equal\r\n\r\n    String str1 = &quot;rock&quot;;\r\n    \t\tString str2 = &quot;lick&quot;;\r\n    \r\n    \t\tif( str1.length() != str2.length() )\r\n    \t\t\tSystem.out.println( &quot;failed&quot;);\r\n    \r\n    \t\telse{\r\n    \t\t\tif( str2.contains( str1.substring( 0, str1.length()-1)) || str2.contains(  str1.substring(1, str1.length() )) ){\r\n    \t\t\t\tSystem.out.println( &quot;Success &quot;);\r\n    \t\t\t}\r\n    \r\n    \t\t\telse{\r\n    \t\t\t\tSystem.out.println( &quot;Failed&quot;);\r\n    \t\t\t}\r\n    \t\t}","title":"Checking if a string matches all characters but one of another string","body":"<p>Assuming the length of two strings are equal</p>\n\n<pre><code>String str1 = \"rock\";\n        String str2 = \"lick\";\n\n        if( str1.length() != str2.length() )\n            System.out.println( \"failed\");\n\n        else{\n            if( str2.contains( str1.substring( 0, str1.length()-1)) || str2.contains(  str1.substring(1, str1.length() )) ){\n                System.out.println( \"Success \");\n            }\n\n            else{\n                System.out.println( \"Failed\");\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1461978,"reputation":1,"user_id":1376042,"display_name":"Bishal Acharya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382493227,"creation_date":1382493227,"answer_id":19531417,"question_id":12883618,"body_markdown":"  Not sure if this is the best approach but this one works even when two strings are not of same length. For example : cat &amp; cattp They differ by one character p and t is repeated. Looks like O(n) time solution using additional space for hashmap &amp; character arrays.\r\n\r\n    /**\r\n\t * Returns true if two strings differ by one character\r\n\t * @param s1 input string1\r\n\t * @param s2 input string2\r\n\t * @return true if strings differ by one character \r\n\t */\r\n\tboolean checkIfTwoStringDifferByOne(String s1, String s2) {\r\n\t\tchar[] c1, c2;\r\n\t\t\r\n\t\tif(s1.length() &lt; s2.length()){\r\n\t\t\tc1 = s1.toCharArray();\r\n\t\t\tc2 = s2.toCharArray();\r\n\t\t}else{\r\n\t\t\tc1 = s2.toCharArray();\r\n\t\t\tc2 = s1.toCharArray();\r\n\t\t}\r\n\t\t\r\n\t\tHashSet&lt;Character&gt; hs = new HashSet&lt;Character&gt;();\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; c1.length; i++) {\r\n\t\t\ths.add(c1[i]);\r\n\t\t}\r\n\t\tint count = 0;\r\n\t\tfor (int j = 0; j &lt; c2.length; j++) {\r\n\t\t\tif (! hs.contains(c2[j])) {\r\n\t\t\t\tcount = count +1;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif(count == 1)\r\n\t\t\treturn true;\r\n\t\treturn false;\r\n\t}","title":"Checking if a string matches all characters but one of another string","body":"<p>Not sure if this is the best approach but this one works even when two strings are not of same length. For example : cat &amp; cattp They differ by one character p and t is repeated. Looks like O(n) time solution using additional space for hashmap &amp; character arrays.</p>\n\n<pre><code>/**\n * Returns true if two strings differ by one character\n * @param s1 input string1\n * @param s2 input string2\n * @return true if strings differ by one character \n */\nboolean checkIfTwoStringDifferByOne(String s1, String s2) {\n    char[] c1, c2;\n\n    if(s1.length() &lt; s2.length()){\n        c1 = s1.toCharArray();\n        c2 = s2.toCharArray();\n    }else{\n        c1 = s2.toCharArray();\n        c2 = s1.toCharArray();\n    }\n\n    HashSet&lt;Character&gt; hs = new HashSet&lt;Character&gt;();\n\n    for (int i = 0; i &lt; c1.length; i++) {\n        hs.add(c1[i]);\n    }\n    int count = 0;\n    for (int j = 0; j &lt; c2.length; j++) {\n        if (! hs.contains(c2[j])) {\n            count = count +1;\n        }\n    }\n\n    if(count == 1)\n        return true;\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3328351,"reputation":434,"user_id":2797802,"display_name":"Akshay Anand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673039335,"creation_date":1442382521,"answer_id":32600676,"question_id":12883618,"body_markdown":"Best way is to concatenate strings together one forward and other one in reverse order. Then check in single loop for both ends matching chars and also start from middle towards ends matching char. If more than 2 chars mismatch break.\r\n\r\nIf one mismatch stop and wait for the next one to complete if it reaches the same position then it matches otherwise just return false. \r\n    \r\n    public static void main(String[] args) {\r\n        New1 x = new New1();\r\n        x.setFunc();\r\n    }\r\n\r\n    static void setFunc() {\r\n        Set s = new HashSet &lt; Character &gt; ();\r\n        String input = &quot; aecd&quot;;\r\n        String input2 = &quot;abcd&quot;;\r\n        String input3 = new StringBuilder(input2).reverse().toString();\r\n        String input4 = input.concat(input3);\r\n        int length = input4.length();\r\n\r\n        System.out.println(input4);\r\n        int flag = 0;\r\n\r\n        for (int i = 1, j = length - 1; j &gt; i - 1; i++, j--) {\r\n\r\n            if (input4.charAt(i) != input4.charAt(j)) {\r\n\r\n                System.out.println(input4.charAt(i) + &quot; doesnt match with &quot; + input4.charAt(j));\r\n                if (input4.charAt(i + 1) != input4.charAt(j)) {\r\n                    System.out.println(input4.charAt(i + 1) + &quot; doesnt match  with &quot; + input4.charAt(j));\r\n                    flag = 1;\r\n                    continue;\r\n                } else if (input4.charAt(i) != input4.charAt(j - 1)) {\r\n                    System.out.println(input4.charAt(i) + &quot; doesnt match with &quot; + input4.charAt(j - 1));\r\n                    flag = 1;\r\n                    break;\r\n                } else if (input4.charAt(i + 1) != input4.charAt(j - 1) &amp;&amp; i + 1 &lt;= j - 1) {\r\n                    System.out.println(input4.charAt(i + 1) + &quot; doesnt match with xxx &quot; + input4.charAt(j - 1));\r\n                    flag = 1;\r\n                    break;\r\n                }\r\n            } else {\r\n                continue;\r\n            }\r\n        }\r\n\r\n        if (flag == 0) {\r\n            System.out.println(&quot;Strings differ by one place&quot;);\r\n        } else {\r\n            System.out.println(&quot;Strings does not match&quot;);\r\n        }\r\n    }","title":"Checking if a string matches all characters but one of another string","body":"<p>Best way is to concatenate strings together one forward and other one in reverse order. Then check in single loop for both ends matching chars and also start from middle towards ends matching char. If more than 2 chars mismatch break.</p>\n<p>If one mismatch stop and wait for the next one to complete if it reaches the same position then it matches otherwise just return false.</p>\n<pre><code>public static void main(String[] args) {\n    New1 x = new New1();\n    x.setFunc();\n}\n\nstatic void setFunc() {\n    Set s = new HashSet &lt; Character &gt; ();\n    String input = &quot; aecd&quot;;\n    String input2 = &quot;abcd&quot;;\n    String input3 = new StringBuilder(input2).reverse().toString();\n    String input4 = input.concat(input3);\n    int length = input4.length();\n\n    System.out.println(input4);\n    int flag = 0;\n\n    for (int i = 1, j = length - 1; j &gt; i - 1; i++, j--) {\n\n        if (input4.charAt(i) != input4.charAt(j)) {\n\n            System.out.println(input4.charAt(i) + &quot; doesnt match with &quot; + input4.charAt(j));\n            if (input4.charAt(i + 1) != input4.charAt(j)) {\n                System.out.println(input4.charAt(i + 1) + &quot; doesnt match  with &quot; + input4.charAt(j));\n                flag = 1;\n                continue;\n            } else if (input4.charAt(i) != input4.charAt(j - 1)) {\n                System.out.println(input4.charAt(i) + &quot; doesnt match with &quot; + input4.charAt(j - 1));\n                flag = 1;\n                break;\n            } else if (input4.charAt(i + 1) != input4.charAt(j - 1) &amp;&amp; i + 1 &lt;= j - 1) {\n                System.out.println(input4.charAt(i + 1) + &quot; doesnt match with xxx &quot; + input4.charAt(j - 1));\n                flag = 1;\n                break;\n            }\n        } else {\n            continue;\n        }\n    }\n\n    if (flag == 0) {\n        System.out.println(&quot;Strings differ by one place&quot;);\n    } else {\n        System.out.println(&quot;Strings does not match&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6924913,"reputation":41,"user_id":5316257,"display_name":"H&#252;seyin Burhan &#214;ZKAN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468875881,"creation_date":1468875881,"answer_id":38445965,"question_id":12883618,"body_markdown":"Assuming that all the strings have the same length, I think this would help:\r\n\r\n    public boolean differByOne(String source, String destination)\r\n    {\r\n        int difference = 0;\r\n        \r\n        for(int i=0;i&lt;source.length();i++)\r\n        {\r\n            if(source.charAt(i)!=destination.charAt(i))\r\n            {\r\n                difference++;\r\n                \r\n                if(difference&gt;1)\r\n                {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        \r\n        return difference == 1;\r\n    }","title":"Checking if a string matches all characters but one of another string","body":"<p>Assuming that all the strings have the same length, I think this would help:</p>\n\n<pre><code>public boolean differByOne(String source, String destination)\n{\n    int difference = 0;\n\n    for(int i=0;i&lt;source.length();i++)\n    {\n        if(source.charAt(i)!=destination.charAt(i))\n        {\n            difference++;\n\n            if(difference&gt;1)\n            {\n                return false;\n            }\n        }\n    }\n\n    return difference == 1;\n}\n</code></pre>\n"}],"owner":{"account_id":1057969,"reputation":848,"user_id":1060262,"accept_rate":93,"display_name":"DanMc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9685,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":12883666,"answer_count":5,"score":3,"last_activity_date":1673039335,"creation_date":1350228412,"question_id":12883618,"body_markdown":"I have a list of strings and with each string I want to check it&#39;s characters against every other string to see if all it&#39;s characters are identical except for one.\r\n\r\nFor instance a check that would return true would be checking\r\n\r\nrock against lock\r\n\r\nclock and flock have one character that is different, no more no less.\r\n\r\nrock against dent will obviously return false.\r\n\r\n\r\nI have been thinking about first looping through the list and then having a secondary loop within that one to check the first string against the second.\r\n\r\nAnd then using `split(&quot;&quot;);` to create two arrays containing the characters of each string and then checking the array elements against each other (i.e. comparing each string with the same position in the other array 1-1 2-2 etc...) and so long as only one character comparison fails then the check for those two strings is true.\r\n\r\nAnyway I have a lot of strings (4029) and considering what I am thinking of implementing at the moment would contain 3 loops each within the other that would result in a cubic loop(?) which would take a long long time with that many elements wouldn&#39;t it?\r\n\r\nIs there an easier way to do this? Or will this method actually work okay? Or -hopefully not- but is there some sort of potential logical flaw in the solution I have proposed?\r\n\r\nThanks a lot!","title":"Checking if a string matches all characters but one of another string","body":"<p>I have a list of strings and with each string I want to check it's characters against every other string to see if all it's characters are identical except for one.</p>\n\n<p>For instance a check that would return true would be checking</p>\n\n<p>rock against lock</p>\n\n<p>clock and flock have one character that is different, no more no less.</p>\n\n<p>rock against dent will obviously return false.</p>\n\n<p>I have been thinking about first looping through the list and then having a secondary loop within that one to check the first string against the second.</p>\n\n<p>And then using <code>split(\"\");</code> to create two arrays containing the characters of each string and then checking the array elements against each other (i.e. comparing each string with the same position in the other array 1-1 2-2 etc...) and so long as only one character comparison fails then the check for those two strings is true.</p>\n\n<p>Anyway I have a lot of strings (4029) and considering what I am thinking of implementing at the moment would contain 3 loops each within the other that would result in a cubic loop(?) which would take a long long time with that many elements wouldn't it?</p>\n\n<p>Is there an easier way to do this? Or will this method actually work okay? Or -hopefully not- but is there some sort of potential logical flaw in the solution I have proposed?</p>\n\n<p>Thanks a lot!</p>\n"},{"tags":["java","string","arraylist"],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672994181,"creation_date":1672994181,"answer_id":75028637,"question_id":75028595,"body_markdown":"I suggest just taking advantage of the built-in `Arrays#toString()` method here:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String words = input.nextLine();\r\n    String output = Arrays.toString(words.split(&quot; &quot;)).replace(&quot; &quot;, &quot;&quot;);\r\n    System.out.println(output);  // [I,walked,my,dog]","title":"How do I remove the whitespace after each comma in an ArrayList?","body":"<p>I suggest just taking advantage of the built-in <code>Arrays#toString()</code> method here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String words = input.nextLine();\nString output = Arrays.toString(words.split(&quot; &quot;)).replace(&quot; &quot;, &quot;&quot;);\nSystem.out.println(output);  // [I,walked,my,dog]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6403618,"reputation":76,"user_id":4965547,"display_name":"Alexis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672994551,"creation_date":1672994551,"answer_id":75028677,"question_id":75028595,"body_markdown":"When you are writing `System.out.println(SplituserWords);`, you are implicitly calling `ArrayList#toString()` which generates the list&#39;s string and that includes spaces after commas.\r\n\r\nYou can instead generates your own string output, for example with:\r\n```\r\nSystem.out.println(&quot;[&quot; + String.join(&quot;,&quot;, SplituserWords) + &quot;]&quot;);\r\n```","title":"How do I remove the whitespace after each comma in an ArrayList?","body":"<p>When you are writing <code>System.out.println(SplituserWords);</code>, you are implicitly calling <code>ArrayList#toString()</code> which generates the list's string and that includes spaces after commas.</p>\n<p>You can instead generates your own string output, for example with:</p>\n<pre><code>System.out.println(&quot;[&quot; + String.join(&quot;,&quot;, SplituserWords) + &quot;]&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27217158,"reputation":36,"user_id":20747024,"display_name":"Kevin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673011090,"creation_date":1673011090,"answer_id":75031459,"question_id":75028595,"body_markdown":"If you insist on using `List`, it will do it for you.\r\n```java\r\nString input = &quot;I walked my dog&quot;;\r\nList&lt;String&gt; SplitUserWords = Arrays.asList(input.split(&quot; &quot;));\r\nString output = SplitUserWords.toString().replace(&quot; &quot;, &quot;&quot;);\r\nSystem.out.println(output); //[I,walked,my,dog]\r\n```","title":"How do I remove the whitespace after each comma in an ArrayList?","body":"<p>If you insist on using <code>List</code>, it will do it for you.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;I walked my dog&quot;;\nList&lt;String&gt; SplitUserWords = Arrays.asList(input.split(&quot; &quot;));\nString output = SplitUserWords.toString().replace(&quot; &quot;, &quot;&quot;);\nSystem.out.println(output); //[I,walked,my,dog]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673038560,"creation_date":1673017713,"answer_id":75032671,"question_id":75028595,"body_markdown":"&gt; I tried to remove whitespace on each individual string before I add it to the arrayList, but the output still has the spaces.\r\n\r\nThat won&#39;t work because that isn&#39;t the problem.  The issue is that it is the `list implementation` that formats the output for you inserts a space after each comma. It does this in the `toString()` method.  To avoid having to explicitly call `replace` each time you can also do it like this by overidding `toString()` when you create your List.\r\n\r\n```\r\nList&lt;String&gt; myList = new ArrayList&lt;&gt;(List.of(&quot;I&quot;,&quot;walked&quot;,&quot;my&quot;, &quot;dog&quot;)) {\r\n     @Override\r\n     public String toString() {\r\n        // use super to call the overidden method to format the string\r\n        // then remove the spaces and return the new String\r\n        return super.toString().replace(&quot; &quot;, &quot;&quot;);\r\n     }\r\n };\r\n\r\nSystem.out.println(myList);\r\nmyList.addAll(List.of(&quot;and&quot;, &quot;then&quot;,&quot;fed&quot;, &quot;my&quot;, &quot;cat&quot;));\r\nSystem.out.println(myList);\r\n```\r\nprints\r\n```\r\n[I,walked,my,dog]\r\n[I,walked,my,dog,and,then,fed,my,cat]\r\n\r\n```\r\nYou can also subclass `ArrayList` as follows.  Here I have added the three constructors that `ArrayList` implements.  **Note** that is is a somewhat *extreme solution* and may not be worth it for occasionally reformatting of the output.  I included it for your consideration.\r\n```\r\nclass MyArrayList&lt;E&gt; extends ArrayList&lt;E&gt; {\r\n    public MyArrayList() {\r\n        super();\r\n    }\r\n    public MyArrayList(int capacity) {\r\n        super(capacity);\r\n    }\r\n    \r\n    public MyArrayList(Collection&lt;? extends E&gt; c) {\r\n        super(c);\r\n    }\r\n    \r\n    @Override\r\n    public String toString() {\r\n         return super.toString().replace(&quot; &quot;, &quot;&quot;);\r\n    }\r\n} \r\n```\r\nAnd it would work like so.\r\n```\r\nMyArrayList&lt;String&gt; myList = new MyArrayList&lt;&gt;(List.of(&quot;This&quot;, &quot;is&quot;, &quot;a&quot;,&quot;test.&quot;));\r\nSystem.out.println(myList);\r\n```\r\nprints\r\n```\r\n[This,is,a,test.]\r\n\r\n","title":"How do I remove the whitespace after each comma in an ArrayList?","body":"<blockquote>\n<p>I tried to remove whitespace on each individual string before I add it to the arrayList, but the output still has the spaces.</p>\n</blockquote>\n<p>That won't work because that isn't the problem.  The issue is that it is the <code>list implementation</code> that formats the output for you inserts a space after each comma. It does this in the <code>toString()</code> method.  To avoid having to explicitly call <code>replace</code> each time you can also do it like this by overidding <code>toString()</code> when you create your List.</p>\n<pre><code>List&lt;String&gt; myList = new ArrayList&lt;&gt;(List.of(&quot;I&quot;,&quot;walked&quot;,&quot;my&quot;, &quot;dog&quot;)) {\n     @Override\n     public String toString() {\n        // use super to call the overidden method to format the string\n        // then remove the spaces and return the new String\n        return super.toString().replace(&quot; &quot;, &quot;&quot;);\n     }\n };\n\nSystem.out.println(myList);\nmyList.addAll(List.of(&quot;and&quot;, &quot;then&quot;,&quot;fed&quot;, &quot;my&quot;, &quot;cat&quot;));\nSystem.out.println(myList);\n</code></pre>\n<p>prints</p>\n<pre><code>[I,walked,my,dog]\n[I,walked,my,dog,and,then,fed,my,cat]\n\n</code></pre>\n<p>You can also subclass <code>ArrayList</code> as follows.  Here I have added the three constructors that <code>ArrayList</code> implements.  <strong>Note</strong> that is is a somewhat <em>extreme solution</em> and may not be worth it for occasionally reformatting of the output.  I included it for your consideration.</p>\n<pre><code>class MyArrayList&lt;E&gt; extends ArrayList&lt;E&gt; {\n    public MyArrayList() {\n        super();\n    }\n    public MyArrayList(int capacity) {\n        super(capacity);\n    }\n    \n    public MyArrayList(Collection&lt;? extends E&gt; c) {\n        super(c);\n    }\n    \n    @Override\n    public String toString() {\n         return super.toString().replace(&quot; &quot;, &quot;&quot;);\n    }\n} \n</code></pre>\n<p>And it would work like so.</p>\n<pre><code>MyArrayList&lt;String&gt; myList = new MyArrayList&lt;&gt;(List.of(&quot;This&quot;, &quot;is&quot;, &quot;a&quot;,&quot;test.&quot;));\nSystem.out.println(myList);\n</code></pre>\n<p>prints</p>\n<pre><code>[This,is,a,test.]\n\n</code></pre>\n"}],"owner":{"account_id":27451114,"reputation":1,"user_id":20943349,"display_name":"Alexia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1673038560,"creation_date":1672993951,"question_id":75028595,"body_markdown":"I am struggling with removing spaces in an arraylist of strings.\r\n\r\nSay the user input is as follows: &quot;I walked my dog&quot;, my code outputs this:\r\n\r\n\r\n```\r\n[I, walked, my, dog]\r\n```\r\nI want it to have no spaces as such:\r\n\r\n```\r\n[I,walked,my,dog]\r\n```\r\n\r\n\r\nI tried to remove whitespace on each individual string before I add it to the arrayList, but the output still has the spaces.\r\n\r\n```\r\nScanner input = new Scanner(System.in);\r\n    ArrayList&lt;String&gt; userWords = new ArrayList&lt;String&gt;();\r\n    ArrayList&lt;String&gt; SplituserWords = new ArrayList&lt;String&gt;();\r\n    System.out.println(&quot;Please enter your phrase: &quot;);\r\n    userWords.add(input.nextLine());\r\n    \r\n    for (int index = 0; index &lt; userWords.size(); index++) {\r\n      String[] split = userWords.get(index).split(&quot;\\\\s+&quot;);\r\n      for (String word : split) {\r\n        word.replaceAll(&quot;\\\\s+&quot;,&quot;&quot;);\r\n        SplituserWords.add(word);\r\n      }\r\n      System.out.println(SplituserWords);\r\n```\r\n","title":"How do I remove the whitespace after each comma in an ArrayList?","body":"<p>I am struggling with removing spaces in an arraylist of strings.</p>\n<p>Say the user input is as follows: &quot;I walked my dog&quot;, my code outputs this:</p>\n<pre><code>[I, walked, my, dog]\n</code></pre>\n<p>I want it to have no spaces as such:</p>\n<pre><code>[I,walked,my,dog]\n</code></pre>\n<p>I tried to remove whitespace on each individual string before I add it to the arrayList, but the output still has the spaces.</p>\n<pre><code>Scanner input = new Scanner(System.in);\n    ArrayList&lt;String&gt; userWords = new ArrayList&lt;String&gt;();\n    ArrayList&lt;String&gt; SplituserWords = new ArrayList&lt;String&gt;();\n    System.out.println(&quot;Please enter your phrase: &quot;);\n    userWords.add(input.nextLine());\n    \n    for (int index = 0; index &lt; userWords.size(); index++) {\n      String[] split = userWords.get(index).split(&quot;\\\\s+&quot;);\n      for (String word : split) {\n        word.replaceAll(&quot;\\\\s+&quot;,&quot;&quot;);\n        SplituserWords.add(word);\n      }\n      System.out.println(SplituserWords);\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","caching"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673033014,"post_id":75034909,"comment_id":132414221,"body_markdown":"You cannot as both datastructures that are being stored are different.","body":"You cannot as both datastructures that are being stored are different."},{"owner":{"account_id":2531827,"reputation":13,"user_id":2199973,"display_name":"user2199973"},"score":0,"creation_date":1673042019,"post_id":75034909,"comment_id":132416587,"body_markdown":"I am sorry but I did not get it ?","body":"I am sorry but I did not get it ?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673080169,"post_id":75034909,"comment_id":132421004,"body_markdown":"It caches the results of the method as is. So a full `List` of users and a single user. It doesn&#39;t store the individual users.","body":"It caches the results of the method as is. So a full <code>List</code> of users and a single user. It doesn&#39;t store the individual users."},{"owner":{"account_id":2531827,"reputation":13,"user_id":2199973,"display_name":"user2199973"},"score":0,"creation_date":1673290782,"post_id":75034909,"comment_id":132461492,"body_markdown":"In that case what should be a good design - when we want to cache all entries using one getAll method?","body":"In that case what should be a good design - when we want to cache all entries using one getAll method?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673331267,"post_id":75034909,"comment_id":132468727,"body_markdown":"YOu would need to do programmatical caching, which is generally a bad idea. Depending on which data access technology you are using (assuming JPA) look into the integration possibilities of your data access technology and don&#39;t shoehorn Spring Cache into that.","body":"YOu would need to do programmatical caching, which is generally a bad idea. Depending on which data access technology you are using (assuming JPA) look into the integration possibilities of your data access technology and don&#39;t shoehorn Spring Cache into that."}],"owner":{"account_id":2531827,"reputation":13,"user_id":2199973,"display_name":"user2199973"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673038552,"creation_date":1673030274,"question_id":75034909,"body_markdown":"I have a scenario where I have two external APIs \r\n+ List of Users (/users)\r\n+ User based on ID ( /users/{id} )\r\n\r\nThe APIs are expensive operations as it&#39;s been called from a 3rd Party Service.\r\n\r\nI want to build a cache using Spring Boot Cache\r\n\r\n```java\r\n@Cachable(&quot;users&quot;)\r\npublic List&lt;Users&gt; getUsers(){}\r\n\r\n@Cachable(&quot;users&quot;, key=&quot;#id&quot;)\r\npublic User getUser(){}\r\n```\r\n\r\nI want to build a cache such that when we call `getUsers()` the first time it will build a cache for subsequent `getUser(1)` methods. \r\n\r\n\r\nHow can I achieve this using Spring Boot ( Default implementation of Cache )?\r\n\r\n\r\nI already tried to do the below:\r\n\r\n```java\r\n@Cachable(&quot;users&quot;)\r\npublic List&lt;Users&gt; getUsers(){}\r\n\r\n@Cachable(&quot;users&quot;, key=&quot;#id&quot;)\r\npublic User getUser(){}\r\n```\r\n\r\nIt creates different keys in the cache so even though I have called `getUsers()` the `getUser()` method calls the API. \r\n","title":"Spring Boot @Cachable ( Default Implementation ) List&lt;Object&gt;","body":"<p>I have a scenario where I have two external APIs</p>\n<ul>\n<li>List of Users (/users)</li>\n<li>User based on ID ( /users/{id} )</li>\n</ul>\n<p>The APIs are expensive operations as it's been called from a 3rd Party Service.</p>\n<p>I want to build a cache using Spring Boot Cache</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Cachable(&quot;users&quot;)\npublic List&lt;Users&gt; getUsers(){}\n\n@Cachable(&quot;users&quot;, key=&quot;#id&quot;)\npublic User getUser(){}\n</code></pre>\n<p>I want to build a cache such that when we call <code>getUsers()</code> the first time it will build a cache for subsequent <code>getUser(1)</code> methods.</p>\n<p>How can I achieve this using Spring Boot ( Default implementation of Cache )?</p>\n<p>I already tried to do the below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Cachable(&quot;users&quot;)\npublic List&lt;Users&gt; getUsers(){}\n\n@Cachable(&quot;users&quot;, key=&quot;#id&quot;)\npublic User getUser(){}\n</code></pre>\n<p>It creates different keys in the cache so even though I have called <code>getUsers()</code> the <code>getUser()</code> method calls the API.</p>\n"},{"tags":["java","assertion"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1418349984,"post_id":27435729,"comment_id":43312312,"body_markdown":"How are you running your program?","body":"How are you running your program?"},{"owner":{"account_id":2915696,"reputation":12460,"user_id":2498956,"accept_rate":71,"display_name":"August"},"score":5,"creation_date":1418350003,"post_id":27435729,"comment_id":43312318,"body_markdown":"If it&#39;s from the command line, pass the `-ea` flag.","body":"If it&#39;s from the command line, pass the <code>-ea</code> flag."},{"owner":{"account_id":5473768,"reputation":155,"user_id":4352328,"accept_rate":20,"display_name":"randomguy537"},"score":0,"creation_date":1418350009,"post_id":27435729,"comment_id":43312323,"body_markdown":"with command prompt on windows","body":"with command prompt on windows"},{"owner":{"account_id":5473768,"reputation":155,"user_id":4352328,"accept_rate":20,"display_name":"randomguy537"},"score":0,"creation_date":1418350024,"post_id":27435729,"comment_id":43312328,"body_markdown":"what does &quot;pass the -ea flag&quot; mean","body":"what does &quot;pass the -ea flag&quot; mean"},{"owner":{"account_id":2915696,"reputation":12460,"user_id":2498956,"accept_rate":71,"display_name":"August"},"score":2,"creation_date":1418350085,"post_id":27435729,"comment_id":43312345,"body_markdown":"Something like `java -ea Foo`","body":"Something like <code>java -ea Foo</code>"},{"owner":{"account_id":1136523,"reputation":11039,"user_id":1121497,"accept_rate":42,"display_name":"Ferran Maylinch"},"score":0,"creation_date":1580673673,"post_id":27435729,"comment_id":106165205,"body_markdown":"In IntelliJ put `-ea` in the VM options of the run configuration.","body":"In IntelliJ put <code>-ea</code> in the VM options of the run configuration."}],"answers":[{"tags":[],"owner":{"account_id":1753492,"reputation":9138,"user_id":1602049,"accept_rate":40,"display_name":"nitishagar"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1418350048,"creation_date":1418350048,"answer_id":27435742,"question_id":27435729,"body_markdown":"`java -ea &lt;program_name&gt;` should do it on the command prompt.\r\n\r\nYou can try the following for [intellJ][1] and [eclipse][2] respectively.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18168257/where-to-add-compiler-options-like-ea-in-intellij-idea\r\n  [2]: https://stackoverflow.com/questions/5509082/eclipse-enable-assertions","title":"How to enable assertions?","body":"<p><code>java -ea &lt;program_name&gt;</code> should do it on the command prompt.</p>\n\n<p>You can try the following for <a href=\"https://stackoverflow.com/questions/18168257/where-to-add-compiler-options-like-ea-in-intellij-idea\">intellJ</a> and <a href=\"https://stackoverflow.com/questions/5509082/eclipse-enable-assertions\">eclipse</a> respectively.</p>\n"},{"tags":[],"owner":{"account_id":18059678,"reputation":11,"user_id":13127084,"display_name":"Grotders"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615833296,"creation_date":1615833296,"answer_id":66643682,"question_id":27435729,"body_markdown":"`run`&gt; `edit configurations` &gt; `modify options` &gt; `Add VM options`: input `-ea` to VM options","title":"How to enable assertions?","body":"<p><code>run</code>&gt; <code>edit configurations</code> &gt; <code>modify options</code> &gt; <code>Add VM options</code>: input <code>-ea</code> to VM options</p>\n"},{"tags":[],"owner":{"account_id":1911430,"reputation":2483,"user_id":1725151,"accept_rate":67,"display_name":"Guildenstern"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673038094,"creation_date":1673038094,"answer_id":75035956,"question_id":27435729,"body_markdown":"&gt; In my online Java programming class I have to write a program where the user enters their age, and checks if it&#39;s between 0 and 125 - if it isn&#39;t, it shows an error code, and I need to use assertions to do that.\r\n\r\nThe exercise is misguided.\r\n\r\nJava assertions should [never][1] be used to implement error checking control flow.\r\n\r\n&gt; Do not use assertions to do any work that your application requires for correct operation.  \r\n&gt; Because assertions may be disabled, programs must not assume that the boolean expression contained in an assertion will be evaluated. Violating this rule has dire consequences. For example, suppose you wanted to remove all of the null elements from a list names, and knew that the list contained one or more nulls. []\r\n\r\nA failed assertion should indicate a bug in your code. Supplying the wrong argument to a program is not a bug; its just a regular error.\r\n\r\nAssertions are not needed to implement this kind of thing. Use some kind of exception if you want to crash the application on such a user error.\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class eproject1 {\r\n\r\n       public static void main(String args[]) {\r\n\r\n          Scanner input = new Scanner(System.in);\r\n\r\n          System.out.print(&quot;What is your age? &quot;);\r\n\r\n          int num = input.nextInt();\r\n      \r\n          System.out.println(num);\r\n\r\n          if (!(num &gt;= 1 &amp;&amp; num &lt; 125)) {\r\n              throw new RuntimeException(&quot;Argument out of range&quot;);\r\n          }\r\n\r\n          System.out.printf(&quot;You entered %d\\n&quot;, num);\r\n       }\r\n\r\n    }\r\n\r\n[1]: https://docs.oracle.com/javase/7/docs/technotes/guides/language/assert.html","title":"How to enable assertions?","body":"<blockquote>\n<p>In my online Java programming class I have to write a program where the user enters their age, and checks if it's between 0 and 125 - if it isn't, it shows an error code, and I need to use assertions to do that.</p>\n</blockquote>\n<p>The exercise is misguided.</p>\n<p>Java assertions should <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/language/assert.html\" rel=\"nofollow noreferrer\">never</a> be used to implement error checking control flow.</p>\n<blockquote>\n<p>Do not use assertions to do any work that your application requires for correct operation.<br />\nBecause assertions may be disabled, programs must not assume that the boolean expression contained in an assertion will be evaluated. Violating this rule has dire consequences. For example, suppose you wanted to remove all of the null elements from a list names, and knew that the list contained one or more nulls. []</p>\n</blockquote>\n<p>A failed assertion should indicate a bug in your code. Supplying the wrong argument to a program is not a bug; its just a regular error.</p>\n<p>Assertions are not needed to implement this kind of thing. Use some kind of exception if you want to crash the application on such a user error.</p>\n<pre><code>import java.util.Scanner;\n\npublic class eproject1 {\n\n   public static void main(String args[]) {\n\n      Scanner input = new Scanner(System.in);\n\n      System.out.print(&quot;What is your age? &quot;);\n\n      int num = input.nextInt();\n  \n      System.out.println(num);\n\n      if (!(num &gt;= 1 &amp;&amp; num &lt; 125)) {\n          throw new RuntimeException(&quot;Argument out of range&quot;);\n      }\n\n      System.out.printf(&quot;You entered %d\\n&quot;, num);\n   }\n\n}\n</code></pre>\n"}],"owner":{"account_id":5473768,"reputation":155,"user_id":4352328,"accept_rate":20,"display_name":"randomguy537"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15559,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"answer_count":3,"score":10,"last_activity_date":1673038094,"creation_date":1418349946,"question_id":27435729,"body_markdown":"In my online Java programming class I have to write a program where the user enters their age, and checks if it&#39;s between 0 and 125 - if it isn&#39;t, it shows an error code, and I need to use assertions to do that. Here is my code:\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class eproject1 {\r\n\r\n       public static void main(String args[]) {\r\n\r\n          Scanner input = new Scanner(System.in);\r\n\r\n          System.out.print(&quot;What is your age? &quot;);\r\n\r\n          int num = input.nextInt();\r\n      \r\n          System.out.println(num);\r\n\r\n          assert(num &gt;= 1 &amp;&amp; num &lt; 125);\r\n\r\n          System.out.printf(&quot;You entered %d\\n&quot;, num); // NEED TO FIX, SOMETHING ISN&#39;T RIGHT\r\n\r\n       }\r\n\r\n    }\r\n\r\nThe problem is that it tells you what age you entered, even if it&#39;s out of the range 1 to 124. Research says that I need to actually enable assertions, but the results I found online were very unhelpful as they involved some Eclipse stuff - I&#39;m sure it&#39;s some kind of rookie mistake, since i&#39;m not very good at programming. \r\n\r\nSo ... how do you get the assertion stuff to work?","title":"How to enable assertions?","body":"<p>In my online Java programming class I have to write a program where the user enters their age, and checks if it's between 0 and 125 - if it isn't, it shows an error code, and I need to use assertions to do that. Here is my code:</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class eproject1 {\n\n   public static void main(String args[]) {\n\n      Scanner input = new Scanner(System.in);\n\n      System.out.print(\"What is your age? \");\n\n      int num = input.nextInt();\n\n      System.out.println(num);\n\n      assert(num &gt;= 1 &amp;&amp; num &lt; 125);\n\n      System.out.printf(\"You entered %d\\n\", num); // NEED TO FIX, SOMETHING ISN'T RIGHT\n\n   }\n\n}\n</code></pre>\n\n<p>The problem is that it tells you what age you entered, even if it's out of the range 1 to 124. Research says that I need to actually enable assertions, but the results I found online were very unhelpful as they involved some Eclipse stuff - I'm sure it's some kind of rookie mistake, since i'm not very good at programming. </p>\n\n<p>So ... how do you get the assertion stuff to work?</p>\n"},{"tags":["java","scala","date"],"comments":[{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1673035742,"post_id":75035513,"comment_id":132414947,"body_markdown":"`val allPossibleDates = Stream.iterate(Instant.now(), (date: Instant) =&gt; date.minus(1, ChronoUnit.DAYS))\n                .limit(15).collect(Collectors.toSet());\nprintln(allPossibleDates)`. Check [here](https://scastie.scala-lang.org/6cv8TodOQvejHYaODCNMLg).","body":"<code>val allPossibleDates = Stream.iterate(Instant.now(), (date: Instant) =&gt; date.minus(1, ChronoUnit.DAYS))                 .limit(15).collect(Collectors.toSet()); println(allPossibleDates)</code>. Check <a href=\"https://scastie.scala-lang.org/6cv8TodOQvejHYaODCNMLg\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":10919474,"reputation":319,"user_id":8026274,"accept_rate":80,"display_name":"Mikasa"},"score":0,"creation_date":1673037521,"post_id":75035513,"comment_id":132415421,"body_markdown":"Stream is deprecated in Scala","body":"Stream is deprecated in Scala"},{"owner":{"account_id":279575,"reputation":13685,"user_id":574815,"accept_rate":82,"display_name":"Dylan"},"score":0,"creation_date":1673037562,"post_id":75035513,"comment_id":132415433,"body_markdown":"What Arvind posted is just Scala syntax around java methods. But yes, Scala&#39;s `Stream` was renamed to `LazyList` in Scala 2.13","body":"What Arvind posted is just Scala syntax around java methods. But yes, Scala&#39;s <code>Stream</code> was renamed to <code>LazyList</code> in Scala 2.13"}],"answers":[{"tags":[],"owner":{"account_id":279575,"reputation":13685,"user_id":574815,"accept_rate":82,"display_name":"Dylan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1673037631,"creation_date":1673036463,"answer_id":75035731,"question_id":75035513,"body_markdown":"The `LazyList` companion object defines an `iterate` method that lets you define a sequence in terms of a starting point and a step operation (Note: `Iterator`&#39;s companion defines a similar method):\r\n\r\n```scala\r\ndef iterate[A](start: =&gt; A)(f: (A) =&gt; A): LazyList[A]\r\n```\r\n\r\nIn fact it looks essentially the same as the Java version except that the `start` and `f` arguments appear in separate parameter lists. Pepper in Scala&#39;s syntax sugar for anonymous functions (using `_` to represent the function argument), you can do\r\n\r\n```scala\r\nval today = Instant.now() // or whatever\r\nLazyList\r\n  .iterate(today) { _.minus(1, ChronoUnit.DAYS) }\r\n  .take(15) // equivalent to `limit` in Java\r\n  .to(Set) // equivalent to `collect(...)`\r\n```\r\n\r\nAlso note that LazyList defines an overload of `iterate` which takes a limit, which would replace the `.take`:\r\n\r\n```scala\r\nLazyList\r\n  .iterate(today, 15) { _.minus(1, ChronoUnit.DAYS) }\r\n  .to(Set)\r\n```\r\n\r\nNote that you could do `.foreach { instant =&gt; /* ... */ }` instead of `.to(SomeCollectionCompanion)` to iterate the contents without allocating the memory for a collection.","title":"Get list of all instants between 2 instants in Scala","body":"<p>The <code>LazyList</code> companion object defines an <code>iterate</code> method that lets you define a sequence in terms of a starting point and a step operation (Note: <code>Iterator</code>'s companion defines a similar method):</p>\n<pre class=\"lang-scala prettyprint-override\"><code>def iterate[A](start: =&gt; A)(f: (A) =&gt; A): LazyList[A]\n</code></pre>\n<p>In fact it looks essentially the same as the Java version except that the <code>start</code> and <code>f</code> arguments appear in separate parameter lists. Pepper in Scala's syntax sugar for anonymous functions (using <code>_</code> to represent the function argument), you can do</p>\n<pre class=\"lang-scala prettyprint-override\"><code>val today = Instant.now() // or whatever\nLazyList\n  .iterate(today) { _.minus(1, ChronoUnit.DAYS) }\n  .take(15) // equivalent to `limit` in Java\n  .to(Set) // equivalent to `collect(...)`\n</code></pre>\n<p>Also note that LazyList defines an overload of <code>iterate</code> which takes a limit, which would replace the <code>.take</code>:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>LazyList\n  .iterate(today, 15) { _.minus(1, ChronoUnit.DAYS) }\n  .to(Set)\n</code></pre>\n<p>Note that you could do <code>.foreach { instant =&gt; /* ... */ }</code> instead of <code>.to(SomeCollectionCompanion)</code> to iterate the contents without allocating the memory for a collection.</p>\n"}],"owner":{"account_id":10919474,"reputation":319,"user_id":8026274,"accept_rate":80,"display_name":"Mikasa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75035731,"answer_count":1,"score":0,"last_activity_date":1673037631,"creation_date":1673034790,"question_id":75035513,"body_markdown":"I want to get a list of all instants between today and (today - 15) days. \r\n\r\nI am understanding I might need to you use LazyList if scala, but I am not so familiar with the syntax since I am new. The java equivalent seems to be \r\n\r\n```\r\n  Set &lt;Instant&gt; allPossibleDates =\r\n    Stream.iterate(today, date -&gt; date.minus(1, ChronoUnit.DAYS))\r\n      .limit(numDates)\r\n      .collect(Collectors.toSet());\r\n```\r\n\r\nWhat is the equivalent for this in Scala? ","title":"Get list of all instants between 2 instants in Scala","body":"<p>I want to get a list of all instants between today and (today - 15) days.</p>\n<p>I am understanding I might need to you use LazyList if scala, but I am not so familiar with the syntax since I am new. The java equivalent seems to be</p>\n<pre><code>  Set &lt;Instant&gt; allPossibleDates =\n    Stream.iterate(today, date -&gt; date.minus(1, ChronoUnit.DAYS))\n      .limit(numDates)\n      .collect(Collectors.toSet());\n</code></pre>\n<p>What is the equivalent for this in Scala?</p>\n"},{"tags":["java","eclipse","spring-boot"],"comments":[{"owner":{"account_id":10533883,"reputation":700,"user_id":7762393,"display_name":"Balasubramanian"},"score":0,"creation_date":1519825345,"post_id":49030958,"comment_id":85066352,"body_markdown":"please share any errors?","body":"please share any errors?"},{"owner":{"account_id":7893242,"reputation":8350,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"score":0,"creation_date":1519825368,"post_id":49030958,"comment_id":85066372,"body_markdown":"There are no errors in console.","body":"There are no errors in console."},{"owner":{"account_id":10533883,"reputation":700,"user_id":7762393,"display_name":"Balasubramanian"},"score":0,"creation_date":1519825516,"post_id":49030958,"comment_id":85066474,"body_markdown":"check main class configured following annotations,  @SpringBootApplication,@EnableAutoConfiguration","body":"check main class configured following annotations,  @SpringBootApplication,@EnableAutoConfiguration"},{"owner":{"account_id":7893242,"reputation":8350,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"score":0,"creation_date":1519825568,"post_id":49030958,"comment_id":85066514,"body_markdown":"Yes, they are. As I mentioned, it works well from cmd.","body":"Yes, they are. As I mentioned, it works well from cmd."},{"owner":{"account_id":10533883,"reputation":700,"user_id":7762393,"display_name":"Balasubramanian"},"score":0,"creation_date":1519825764,"post_id":49030958,"comment_id":85066670,"body_markdown":"oh okey. but without error, without knowing rootcause we cant find solution","body":"oh okey. but without error, without knowing rootcause we cant find solution"},{"owner":{"account_id":218123,"reputation":15258,"user_id":474287,"accept_rate":100,"display_name":"Morfic"},"score":0,"creation_date":1519826077,"post_id":49030958,"comment_id":85066879,"body_markdown":"if you set the [log level to DEBUG](https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html#boot-features-logging-console-output), can you spot anything funny?","body":"if you set the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html#boot-features-logging-console-output\" rel=\"nofollow noreferrer\">log level to DEBUG</a>, can you spot anything funny?"},{"owner":{"account_id":7893242,"reputation":8350,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"score":0,"creation_date":1519826535,"post_id":49030958,"comment_id":85067161,"body_markdown":"No, as I mentioned before - it runs well from cmd.","body":"No, as I mentioned before - it runs well from cmd."},{"owner":{"account_id":218123,"reputation":15258,"user_id":474287,"accept_rate":100,"display_name":"Morfic"},"score":0,"creation_date":1519828030,"post_id":49030958,"comment_id":85068245,"body_markdown":"Well if you set the root logger to DEBUG level, you should see waaaaay a lot more stuff. What you pasted there is just the banner so I&#39;d try to figure out why there&#39;s nothing else in there. Perhaps you don&#39;t have any console appender and everything is written to a file?","body":"Well if you set the root logger to DEBUG level, you should see waaaaay a lot more stuff. What you pasted there is just the banner so I&#39;d try to figure out why there&#39;s nothing else in there. Perhaps you don&#39;t have any console appender and everything is written to a file?"},{"owner":{"account_id":7893242,"reputation":8350,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"score":0,"creation_date":1519829273,"post_id":49030958,"comment_id":85069133,"body_markdown":"If I set &#39;debug: true&#39; in application.yml, I see extended logs when I run from cmd but not from Eclipse.","body":"If I set &#39;debug: true&#39; in application.yml, I see extended logs when I run from cmd but not from Eclipse."},{"owner":{"account_id":7893242,"reputation":8350,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"score":0,"creation_date":1519829487,"post_id":49030958,"comment_id":85069275,"body_markdown":"There is no other property for logging.","body":"There is no other property for logging."},{"owner":{"account_id":218123,"reputation":15258,"user_id":474287,"accept_rate":100,"display_name":"Morfic"},"score":0,"creation_date":1519829794,"post_id":49030958,"comment_id":85069488,"body_markdown":"How did you configure your app&#39;s logging? Can you please share its configuration?","body":"How did you configure your app&#39;s logging? Can you please share its configuration?"},{"owner":{"account_id":7893242,"reputation":8350,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"score":0,"creation_date":1519830533,"post_id":49030958,"comment_id":85069996,"body_markdown":"Found the problem - deleted logback.xml from src/main/resources and logback-test.xml from src/test/resources and it worked - strange why.","body":"Found the problem - deleted logback.xml from src/main/resources and logback-test.xml from src/test/resources and it worked - strange why."},{"owner":{"account_id":218123,"reputation":15258,"user_id":474287,"accept_rate":100,"display_name":"Morfic"},"score":0,"creation_date":1519830912,"post_id":49030958,"comment_id":85070262,"body_markdown":"Probably because there were only files appenders defined, thus nothing was being directed to the console.","body":"Probably because there were only files appenders defined, thus nothing was being directed to the console."}],"answers":[{"tags":[],"owner":{"account_id":7893242,"reputation":8350,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1519830905,"creation_date":1519830905,"answer_id":49032836,"question_id":49030958,"body_markdown":"Deleted `logback.xml` from `src/main/resources` and `logback-test.xml` from `src/test/resources` and it worked.","title":"Spring Boot application suddenly stops after outputing logo and version on Eclipse","body":"<p>Deleted <code>logback.xml</code> from <code>src/main/resources</code> and <code>logback-test.xml</code> from <code>src/test/resources</code> and it worked.</p>\n"},{"tags":[],"owner":{"account_id":2653203,"reputation":4029,"user_id":2306839,"display_name":"Patrik Bego"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530129764,"creation_date":1530129764,"answer_id":51070570,"question_id":49030958,"body_markdown":"Spring Boot is still working, just there is no output in the console after logo. Server will startup if there are no other issues. \r\n\r\nIn my case Spring Boot console stopped logging after i renamed application.properties into core.properties (that file is referred in logback.xml)\r\n\r\n    &lt;define name=&quot;internalFile&quot; class=&quot;ch.qos.logback.core.property.ResourceExistsPropertyDefiner&quot;&gt;\r\n\t    &lt;resource&gt;application.properties&lt;/resource&gt;\r\n    &lt;/define&gt;\r\n\r\nAfter updating the resource tag, console output was back. ","title":"Spring Boot application suddenly stops after outputing logo and version on Eclipse","body":"<p>Spring Boot is still working, just there is no output in the console after logo. Server will startup if there are no other issues. </p>\n\n<p>In my case Spring Boot console stopped logging after i renamed application.properties into core.properties (that file is referred in logback.xml)</p>\n\n<pre><code>&lt;define name=\"internalFile\" class=\"ch.qos.logback.core.property.ResourceExistsPropertyDefiner\"&gt;\n    &lt;resource&gt;application.properties&lt;/resource&gt;\n&lt;/define&gt;\n</code></pre>\n\n<p>After updating the resource tag, console output was back. </p>\n"},{"tags":[],"owner":{"account_id":10253326,"reputation":1143,"user_id":7566812,"display_name":"Sajeer Babu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1567403341,"creation_date":1567403341,"answer_id":57751966,"question_id":49030958,"body_markdown":"In my case It was fixed when added the spring boot web dependency\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"Spring Boot application suddenly stops after outputing logo and version on Eclipse","body":"<p>In my case It was fixed when added the spring boot web dependency</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2324653,"reputation":2869,"user_id":2039455,"display_name":"Laura Liparulo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575988826,"creation_date":1575988826,"answer_id":59269697,"question_id":49030958,"body_markdown":"in my case the reason was that I was using an alpha release of sl4j. When i replaced it with an older one I was able to start the spring boot application.","title":"Spring Boot application suddenly stops after outputing logo and version on Eclipse","body":"<p>in my case the reason was that I was using an alpha release of sl4j. When i replaced it with an older one I was able to start the spring boot application.</p>\n"},{"tags":[],"owner":{"account_id":1587827,"reputation":931,"user_id":1471785,"display_name":"rapasoft"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601289985,"creation_date":1601289985,"answer_id":64100685,"question_id":49030958,"body_markdown":"If the answers above are not satisfactory the issue in my case was that I was including dependency with its own slf4j setup, that got in clash with Spring Boot&#39;s one (old vs. new). \r\n\r\nThe problem was that the dependency was accidentally built as fat-jar. ","title":"Spring Boot application suddenly stops after outputing logo and version on Eclipse","body":"<p>If the answers above are not satisfactory the issue in my case was that I was including dependency with its own slf4j setup, that got in clash with Spring Boot's one (old vs. new).</p>\n<p>The problem was that the dependency was accidentally built as fat-jar.</p>\n"},{"tags":[],"owner":{"account_id":6109155,"reputation":89,"user_id":5474264,"display_name":"tschuy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673036672,"creation_date":1673036672,"answer_id":75035762,"question_id":49030958,"body_markdown":"I had this issue from upgrading the `slf4j-api` dependency from `1.X` to `2.0.6`.  We were able to resolve by adding `slf4j-simple:2.0.6` dependency as well. The slf4j patch notes for version `2.0` go over this topic [here](https://www.slf4j.org/faq.html#changesInVersion200). Spring hanging on the logo appears to be an additional side effect.\r\n\r\n|slf4j-api version | slf4j-simple version | Result | Explanation |\r\n| ---------------- | -------------------- | ------ | ----------- |\r\n| 2.0.x\t| 2.0.x\t| OK |Same version for slf4j-api and provider |\r\n|1.7.x\t| 2.0.x\t| no bindings can be found warning message | 2.0.x providers do not act as 1.7.x/1.6.x compatible bindings |\r\n| 2.0.x\t| 1.7.x\t| no providers can be found warning message\t| slf4j-api 2.0.x will no longer search for StaticLoggerBinding |\r\n","title":"Spring Boot application suddenly stops after outputing logo and version on Eclipse","body":"<p>I had this issue from upgrading the <code>slf4j-api</code> dependency from <code>1.X</code> to <code>2.0.6</code>.  We were able to resolve by adding <code>slf4j-simple:2.0.6</code> dependency as well. The slf4j patch notes for version <code>2.0</code> go over this topic <a href=\"https://www.slf4j.org/faq.html#changesInVersion200\" rel=\"nofollow noreferrer\">here</a>. Spring hanging on the logo appears to be an additional side effect.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>slf4j-api version</th>\n<th>slf4j-simple version</th>\n<th>Result</th>\n<th>Explanation</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2.0.x</td>\n<td>2.0.x</td>\n<td>OK</td>\n<td>Same version for slf4j-api and provider</td>\n</tr>\n<tr>\n<td>1.7.x</td>\n<td>2.0.x</td>\n<td>no bindings can be found warning message</td>\n<td>2.0.x providers do not act as 1.7.x/1.6.x compatible bindings</td>\n</tr>\n<tr>\n<td>2.0.x</td>\n<td>1.7.x</td>\n<td>no providers can be found warning message</td>\n<td>slf4j-api 2.0.x will no longer search for StaticLoggerBinding</td>\n</tr>\n</tbody>\n</table>\n</div>"}],"owner":{"account_id":7893242,"reputation":8350,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10568,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":49032836,"answer_count":6,"score":4,"last_activity_date":1673036672,"creation_date":1519825246,"question_id":49030958,"body_markdown":"When I execute Run As -&gt; Java application my Spring Boot application class on Eclipse, I get Spring Boot logo and version in logs but it halts and stops after few seconds:\r\n\r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n    \r\n    Spring version: 1.5.9.RELEASE\r\n\r\nThere are no errors in console.\r\n\r\nTried but didn&#39;t help:\r\n \r\n - Project -&gt; Clean, project refresh on Eclipse \r\n - `gradle clean`, `build`, `eclipse` from command line\r\n - Deleted and imported project from git again\r\n - Restart Eclipse\r\n\r\nTried solutions from related SO threads:\r\n\r\n - https://stackoverflow.com/questions/45919310/spring-boot-1-5-2-web-application-stops-after-loading-logo\r\n - https://stackoverflow.com/questions/45776035/spring-boot-server-stops-after-main-method-execution?noredirect=1&amp;lq=1\r\n\r\nAlso:\r\n\r\n - If I run tests from Eclipse, they pass successfully.\r\n - Other Spring Boot apps run well on Eclipse.\r\n - When I try to run application from command line with `gradle bootRun`, it runs smoothly.\r\n\r\n\r\nWhy does it happen? How to solve it?","title":"Spring Boot application suddenly stops after outputing logo and version on Eclipse","body":"<p>When I execute Run As -> Java application my Spring Boot application class on Eclipse, I get Spring Boot logo and version in logs but it halts and stops after few seconds:</p>\n\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n\nSpring version: 1.5.9.RELEASE\n</code></pre>\n\n<p>There are no errors in console.</p>\n\n<p>Tried but didn't help:</p>\n\n<ul>\n<li>Project -> Clean, project refresh on Eclipse </li>\n<li><code>gradle clean</code>, <code>build</code>, <code>eclipse</code> from command line</li>\n<li>Deleted and imported project from git again</li>\n<li>Restart Eclipse</li>\n</ul>\n\n<p>Tried solutions from related SO threads:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/45919310/spring-boot-1-5-2-web-application-stops-after-loading-logo\">Spring boot 1.5.2 - web application stops after loading logo?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/45776035/spring-boot-server-stops-after-main-method-execution?noredirect=1&amp;lq=1\">spring boot server stops after main method execution</a></li>\n</ul>\n\n<p>Also:</p>\n\n<ul>\n<li>If I run tests from Eclipse, they pass successfully.</li>\n<li>Other Spring Boot apps run well on Eclipse.</li>\n<li>When I try to run application from command line with <code>gradle bootRun</code>, it runs smoothly.</li>\n</ul>\n\n<p>Why does it happen? How to solve it?</p>\n"},{"tags":["java","android","api","kotlin","retrofit2"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1673035723,"post_id":75035630,"comment_id":132414943,"body_markdown":"Welcome here! To allow users understand and test your code; it&#39;s required to post it as text not image","body":"Welcome here! To allow users understand and test your code; it&#39;s required to post it as text not image"},{"owner":{"account_id":19137403,"reputation":23,"user_id":13978119,"display_name":"Luca Strambeanu"},"score":0,"creation_date":1673035944,"post_id":75035630,"comment_id":132414994,"body_markdown":"Hello! is it ok if i edit the question and add the code snippets?","body":"Hello! is it ok if i edit the question and add the code snippets?"},{"owner":{"account_id":19137403,"reputation":23,"user_id":13978119,"display_name":"Luca Strambeanu"},"score":0,"creation_date":1673036615,"post_id":75035630,"comment_id":132415158,"body_markdown":"@Zain I have edited it. May you help me please?","body":"@Zain I have edited it. May you help me please?"},{"owner":{"account_id":18956649,"reputation":519,"user_id":13833108,"display_name":"devmuaz"},"score":0,"creation_date":1673037069,"post_id":75035630,"comment_id":132415275,"body_markdown":"I believe you should remove the &quot;apihandle.getQuoteRaw()&quot; in the &quot;Greeting&quot; function because it could be causing the repetitive rebuilding the UI due to state changes, try to add it in a button instead or call it in the &quot;onCreate&quot; when the app launches, I&#39;m quite sure but try it!","body":"I believe you should remove the &quot;apihandle.getQuoteRaw()&quot; in the &quot;Greeting&quot; function because it could be causing the repetitive rebuilding the UI due to state changes, try to add it in a button instead or call it in the &quot;onCreate&quot; when the app launches, I&#39;m quite sure but try it!"},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1673037405,"post_id":75035630,"comment_id":132415379,"body_markdown":"devmuaz is right; Greeting should only update the UI","body":"devmuaz is right; Greeting should only update the UI"},{"owner":{"account_id":19137403,"reputation":23,"user_id":13978119,"display_name":"Luca Strambeanu"},"score":0,"creation_date":1673037891,"post_id":75035630,"comment_id":132415516,"body_markdown":"Thanks to @Zain, too. I could not mention you both in a comment.","body":"Thanks to @Zain, too. I could not mention you both in a comment."}],"owner":{"account_id":19137403,"reputation":23,"user_id":13978119,"display_name":"Luca Strambeanu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673036556,"creation_date":1673035617,"question_id":75035630,"body_markdown":"I am trying to make an API call with Retrofit 2.9.0 and use the response in a Jetpack Compose activity. The problem is that the call repeats to infinite and updates the UI on every frame. I have never used the retrofit library before so I&#39;m sorry if the code is messy. I will attach a GIF with how the app behaves and code snippets for everything. Thanks for reading this and wanting to help. \\&lt;3\r\n\r\n[What is happening in the app](https://i.stack.imgur.com/jazAr.gif)\r\n\r\nHere is the class that makes the call to the API:\r\n\r\n    public class ApiHandler {\r\n\r\n    Retrofit retrofit = new Retrofit.Builder().baseUrl(&quot;https://api.quotable.io/&quot;).build();\r\n    ApiInterface apiInterface = retrofit.create(ApiInterface.class);\r\n    Call&lt;ResponseBody&gt; call = apiInterface.getData();\r\n\r\n    public void getQuoteRaw()\r\n    {\r\n        call.enqueue(new Callback&lt;ResponseBody&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;ResponseBody&gt; call, Response&lt;ResponseBody&gt; response) {\r\n                 try {\r\n                     MainActivityKt.getModel().setQuoteInfo(response.body().string());\r\n\r\n               } catch (IOException e)\r\n                {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;ResponseBody&gt; call, Throwable t) {\r\n                System.out.println(&quot;ERROR&quot;);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\nThe Interface I use to define the getData() method:\r\n\r\n    public interface ApiInterface {\r\n\r\n    @GET(&quot;random&quot;)\r\n    Call&lt;ResponseBody&gt; getData();\r\n\r\n\r\n\r\nThe ViewModel class for the Compose Activity:\r\n\r\n    class MainViewModel: ViewModel() {\r\n    var quoteInfo by mutableStateOf(&quot;&quot;)\r\n\r\n\r\nThe Jetpack Compose activity:\r\n\r\n    val model = MainViewModel()\r\n    class MainActivity : ComponentActivity() {\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContent {\r\n            QuoteappTheme {\r\n\r\n                Surface(\r\n                    modifier = Modifier.fillMaxSize(),\r\n                    color = MaterialTheme.colors.background\r\n                ) {\r\n                    Greeting()\r\n                }\r\n            }\r\n        }\r\n    }\r\n    }\r\n\r\n    @Composable\r\n    fun Greeting(viewModel: MainViewModel = model) {\r\n\r\n    val apihandle = ApiHandler()\r\n    apihandle.getQuoteRaw()\r\n    Text(text = viewModel.quoteInfo)\r\n    }\r\n\r\n    @Preview(showBackground = true)\r\n    @Composable\r\n    fun DefaultPreview() {\r\n    QuoteappTheme {\r\n        Greeting()\r\n    }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Retrofit call repeats to infinite and doesn&#39;t stop","body":"<p>I am trying to make an API call with Retrofit 2.9.0 and use the response in a Jetpack Compose activity. The problem is that the call repeats to infinite and updates the UI on every frame. I have never used the retrofit library before so I'm sorry if the code is messy. I will attach a GIF with how the app behaves and code snippets for everything. Thanks for reading this and wanting to help. &lt;3</p>\n<p><a href=\"https://i.stack.imgur.com/jazAr.gif\" rel=\"nofollow noreferrer\">What is happening in the app</a></p>\n<p>Here is the class that makes the call to the API:</p>\n<pre><code>public class ApiHandler {\n\nRetrofit retrofit = new Retrofit.Builder().baseUrl(&quot;https://api.quotable.io/&quot;).build();\nApiInterface apiInterface = retrofit.create(ApiInterface.class);\nCall&lt;ResponseBody&gt; call = apiInterface.getData();\n\npublic void getQuoteRaw()\n{\n    call.enqueue(new Callback&lt;ResponseBody&gt;() {\n        @Override\n        public void onResponse(Call&lt;ResponseBody&gt; call, Response&lt;ResponseBody&gt; response) {\n             try {\n                 MainActivityKt.getModel().setQuoteInfo(response.body().string());\n\n           } catch (IOException e)\n            {\n                e.printStackTrace();\n            }\n        }\n\n        @Override\n        public void onFailure(Call&lt;ResponseBody&gt; call, Throwable t) {\n            System.out.println(&quot;ERROR&quot;);\n        }\n    });\n}\n</code></pre>\n<p>The Interface I use to define the getData() method:</p>\n<pre><code>public interface ApiInterface {\n\n@GET(&quot;random&quot;)\nCall&lt;ResponseBody&gt; getData();\n</code></pre>\n<p>The ViewModel class for the Compose Activity:</p>\n<pre><code>class MainViewModel: ViewModel() {\nvar quoteInfo by mutableStateOf(&quot;&quot;)\n</code></pre>\n<p>The Jetpack Compose activity:</p>\n<pre><code>val model = MainViewModel()\nclass MainActivity : ComponentActivity() {\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContent {\n        QuoteappTheme {\n\n            Surface(\n                modifier = Modifier.fillMaxSize(),\n                color = MaterialTheme.colors.background\n            ) {\n                Greeting()\n            }\n        }\n    }\n}\n}\n\n@Composable\nfun Greeting(viewModel: MainViewModel = model) {\n\nval apihandle = ApiHandler()\napihandle.getQuoteRaw()\nText(text = viewModel.quoteInfo)\n}\n\n@Preview(showBackground = true)\n@Composable\nfun DefaultPreview() {\nQuoteappTheme {\n    Greeting()\n}\n}\n</code></pre>\n"},{"tags":["java","email","encoding","sender"],"comments":[{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":0,"creation_date":1511345035,"post_id":47431691,"comment_id":81817817,"body_markdown":"Try looking for some hidden default encodings in some methods like encode, decode","body":"Try looking for some hidden default encodings in some methods like encode, decode"},{"owner":{"account_id":556766,"reputation":130900,"user_id":918959,"accept_rate":89,"display_name":"Antti Haapala --  "},"score":0,"creation_date":1511345129,"post_id":47431691,"comment_id":81817875,"body_markdown":"The addresses must be encoded I believe.","body":"The addresses must be encoded I believe."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1511345204,"post_id":47431691,"comment_id":81817923,"body_markdown":"This may help: https://stackoverflow.com/a/19458635/829571","body":"This may help: <a href=\"https://stackoverflow.com/a/19458635/829571\">stackoverflow.com/a/19458635/829571</a>"}],"answers":[{"tags":[],"owner":{"account_id":1322466,"reputation":793,"user_id":1267975,"display_name":"Ashish Mathew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1511345336,"creation_date":1511345336,"answer_id":47431841,"question_id":47431691,"body_markdown":"You will have to specify the charset - UTF-8 in the InternetAddress constructor. \r\n\r\n    from = new InternetAddress(email, sender, &quot;UTF-8&quot;)\r\n\r\nThe constructor from JavaMail for the above code is as below. \r\n\r\n         /**\r\n         * Construct an InternetAddress given the address and personal name.\r\n         * The address is assumed to be a syntactically valid RFC822 address.\r\n         *\r\n         * @param address\tthe address in RFC822 format\r\n         * @param personal\tthe personal name\r\n         * @param charset\tthe MIME charset for the name\r\n         * @exception\tUnsupportedEncodingException if the personal name\r\n         *\t\t\tcan&#39;t be encoded in the given charset\r\n         */\r\n        public InternetAddress(String address, String personal, String charset)\r\n    \t\t\t\tthrows UnsupportedEncodingException {\r\n    \tthis.address = address;\r\n    \tsetPersonal(personal, charset);\r\n        }","title":"Java Mail &quot;From&quot; sender name bad character &#195;&#195;&#195;&#195;&#195;","body":"<p>You will have to specify the charset - UTF-8 in the InternetAddress constructor. </p>\n\n<pre><code>from = new InternetAddress(email, sender, \"UTF-8\")\n</code></pre>\n\n<p>The constructor from JavaMail for the above code is as below. </p>\n\n<pre><code>     /**\n     * Construct an InternetAddress given the address and personal name.\n     * The address is assumed to be a syntactically valid RFC822 address.\n     *\n     * @param address   the address in RFC822 format\n     * @param personal  the personal name\n     * @param charset   the MIME charset for the name\n     * @exception   UnsupportedEncodingException if the personal name\n     *          can't be encoded in the given charset\n     */\n    public InternetAddress(String address, String personal, String charset)\n                throws UnsupportedEncodingException {\n    this.address = address;\n    setPersonal(personal, charset);\n    }\n</code></pre>\n"}],"owner":{"account_id":5406100,"reputation":195,"user_id":4304575,"display_name":"Adrien Ruffie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":530,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":47431841,"answer_count":1,"score":3,"last_activity_date":1673035685,"creation_date":1511344900,"question_id":47431691,"body_markdown":"I try to send a mail with following code snippet:\r\n\r\n \r\n\t\tmessage = new MimeMessage(mailSession);\r\n\t\t\r\n\t\tmessage.setFrom(from);\r\n\r\n\t\tmessage.setRecipients(Message.RecipientType.TO, to);\r\n\t\tif(cc != null &amp;&amp; cc.length &gt; 0){\r\n\t\t\tmessage.setRecipients(Message.RecipientType.CC, cc);\r\n\t\t}\r\n\t\tif(bcc != null &amp;&amp; bcc.length &gt; 0){\r\n\t\t\tmessage.setRecipients(Message.RecipientType.BCC, bcc);\r\n\t\t}\r\n\t\tif(replyTo != null &amp;&amp; replyTo.length &gt; 0){\r\n\t\t\tmessage.setReplyTo(replyTo);\r\n\t\t}\r\n\t\tmessage.setSubject(subject, &quot;utf-8&quot;);\r\n\t\tmessage.setSentDate(new java.util.Date());\r\n\r\n\t\tif (headers != null &amp;&amp; !headers.isEmpty()) {\r\n\t\t\tfor (String headName : headers.keySet()) {\r\n\t\t\t\tmessage.addHeader(headName, headers.get(headName));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (Utils.isEmpty(bodyText)) {\r\n\t\t\tbodyText = HTMLHelper.html2text(body);\r\n\t\t}\r\n\t\tmessage.setContent(this.buildMessageBody(body, bodyText));\r\n\r\n\t\ttransporter = mailSession.getTransport();\r\n\t\ttransporter.connect();\r\n\t\ttransporter.sendMessage(message, message.getAllRecipients());\r\n\r\nBellow following additional methods:\r\n\r\n    private Multipart buildMessageBody(String body, String bodyText) throws MessagingException {\r\n\t\tif(attachments == null || attachments.isEmpty()){\r\n\t\t\treturn getAlternativeBodyMimeMultipart(body, bodyText);\r\n\t\t}\r\n\r\n\t\tMimeMultipart multipartRoot = new MimeMultipart(&quot;mixed&quot;);\r\n\r\n\t\tBodyPart contentBodyPart = buildContentBodyPart(body, bodyText);\r\n\t\tmultipartRoot.addBodyPart(contentBodyPart);\r\n\r\n\t\tList&lt;BodyPart&gt; attachmentParts = buildAttachmentParts();\r\n\t\tfor(BodyPart singleAttachmentPart : attachmentParts){\r\n\t\t\tmultipartRoot.addBodyPart(singleAttachmentPart);\r\n\t\t}\r\n\t\treturn multipartRoot;\r\n\t}\r\n\r\n\tprivate List&lt;BodyPart&gt; buildAttachmentParts() {\r\n\t\tList&lt;BodyPart&gt; attachmentsParts = new ArrayList&lt;BodyPart&gt;();\r\n\t\tfor (int i = 0; i &lt; attachments.size(); i++) {\r\n\t\t\tBinaryAttachment attach = attachments.get(i);\r\n\t\t\tMimeBodyPart mbp = new MimeBodyPart();\r\n\t\t\tSystem.setProperty(&quot;mail.mime.encodefilename&quot;, &quot;true&quot;);\r\n\t\t\ttry {\r\n\t\t\t\tmbp.setDataHandler(new DataHandler(attach));\r\n\t\t\t\tmbp.setFileName(MimeUtility.encodeText(attach.getName()));\r\n\t\t\t\tattachmentsParts.add(mbp);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tlogger.error(&quot;buildBodyWithAttachment&quot;,e);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn attachmentsParts;\r\n\t}\r\n\r\n\tprivate BodyPart buildContentBodyPart(String body, String bodyText) throws MessagingException {\r\n\t\tMimeMultipart alternativePart = getAlternativeBodyMimeMultipart(body, bodyText);\r\n\t\tBodyPart content = new MimeBodyPart();\r\n\t\tcontent.setContent(alternativePart);\r\n\t\treturn content;\r\n\t}\r\n\r\nFor exemple my sender in &quot;from&quot; variable when I call `messages.setFrom(from)` have following value:\r\n\r\n&quot;M. Test ADMINISTRATEUR&#200;&#193;&#205; &lt;admin@demo.onmicrosoft.com&gt;&quot;\r\n\r\nBut when I receive my mail in my mailbox, the send have the following name ...\r\nM. Test ADMINISTRATEUR&#195;&#195;&#195;\r\n\r\nFrom: &quot;M. Test ADMINISTRATEUR???&quot; &lt;admin@demo.onmicrosoft.com&gt;\r\n\r\n\r\nI think the problem come from the encoding of &quot;from&quot; which create by:\r\n`from = new InternetAddress(sender)` and sender is &quot;M. Test ADMINISTRATEUR&#200;&#193;&#205; &lt;admin@demo.onmicrosoft.com&gt;&quot;.\r\n\r\nHow can I solve this?\r\n","title":"Java Mail &quot;From&quot; sender name bad character &#195;&#195;&#195;&#195;&#195;","body":"<p>I try to send a mail with following code snippet:</p>\n<pre><code>    message = new MimeMessage(mailSession);\n    \n    message.setFrom(from);\n\n    message.setRecipients(Message.RecipientType.TO, to);\n    if(cc != null &amp;&amp; cc.length &gt; 0){\n        message.setRecipients(Message.RecipientType.CC, cc);\n    }\n    if(bcc != null &amp;&amp; bcc.length &gt; 0){\n        message.setRecipients(Message.RecipientType.BCC, bcc);\n    }\n    if(replyTo != null &amp;&amp; replyTo.length &gt; 0){\n        message.setReplyTo(replyTo);\n    }\n    message.setSubject(subject, &quot;utf-8&quot;);\n    message.setSentDate(new java.util.Date());\n\n    if (headers != null &amp;&amp; !headers.isEmpty()) {\n        for (String headName : headers.keySet()) {\n            message.addHeader(headName, headers.get(headName));\n        }\n    }\n\n    if (Utils.isEmpty(bodyText)) {\n        bodyText = HTMLHelper.html2text(body);\n    }\n    message.setContent(this.buildMessageBody(body, bodyText));\n\n    transporter = mailSession.getTransport();\n    transporter.connect();\n    transporter.sendMessage(message, message.getAllRecipients());\n</code></pre>\n<p>Bellow following additional methods:</p>\n<pre><code>private Multipart buildMessageBody(String body, String bodyText) throws MessagingException {\n    if(attachments == null || attachments.isEmpty()){\n        return getAlternativeBodyMimeMultipart(body, bodyText);\n    }\n\n    MimeMultipart multipartRoot = new MimeMultipart(&quot;mixed&quot;);\n\n    BodyPart contentBodyPart = buildContentBodyPart(body, bodyText);\n    multipartRoot.addBodyPart(contentBodyPart);\n\n    List&lt;BodyPart&gt; attachmentParts = buildAttachmentParts();\n    for(BodyPart singleAttachmentPart : attachmentParts){\n        multipartRoot.addBodyPart(singleAttachmentPart);\n    }\n    return multipartRoot;\n}\n\nprivate List&lt;BodyPart&gt; buildAttachmentParts() {\n    List&lt;BodyPart&gt; attachmentsParts = new ArrayList&lt;BodyPart&gt;();\n    for (int i = 0; i &lt; attachments.size(); i++) {\n        BinaryAttachment attach = attachments.get(i);\n        MimeBodyPart mbp = new MimeBodyPart();\n        System.setProperty(&quot;mail.mime.encodefilename&quot;, &quot;true&quot;);\n        try {\n            mbp.setDataHandler(new DataHandler(attach));\n            mbp.setFileName(MimeUtility.encodeText(attach.getName()));\n            attachmentsParts.add(mbp);\n        } catch (Exception e) {\n            logger.error(&quot;buildBodyWithAttachment&quot;,e);\n        }\n    }\n    return attachmentsParts;\n}\n\nprivate BodyPart buildContentBodyPart(String body, String bodyText) throws MessagingException {\n    MimeMultipart alternativePart = getAlternativeBodyMimeMultipart(body, bodyText);\n    BodyPart content = new MimeBodyPart();\n    content.setContent(alternativePart);\n    return content;\n}\n</code></pre>\n<p>For exemple my sender in &quot;from&quot; variable when I call <code>messages.setFrom(from)</code> have following value:</p>\n<p>&quot;M. Test ADMINISTRATEUR admin@demo.onmicrosoft.com&quot;</p>\n<p>But when I receive my mail in my mailbox, the send have the following name ...\nM. Test ADMINISTRATEUR</p>\n<p>From: &quot;M. Test ADMINISTRATEUR???&quot; admin@demo.onmicrosoft.com</p>\n<p>I think the problem come from the encoding of &quot;from&quot; which create by:\n<code>from = new InternetAddress(sender)</code> and sender is &quot;M. Test ADMINISTRATEUR admin@demo.onmicrosoft.com&quot;.</p>\n<p>How can I solve this?</p>\n"},{"tags":["java","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1673038222,"post_id":75035025,"comment_id":132415608,"body_markdown":"If it does not rotate every two hours, how often does it rotate? What version for Log4j2 Core are you using?","body":"If it does not rotate every two hours, how often does it rotate? What version for Log4j2 Core are you using?"},{"owner":{"account_id":2636141,"reputation":315,"user_id":2280760,"accept_rate":62,"display_name":"Configueroa"},"score":0,"creation_date":1673038529,"post_id":75035025,"comment_id":132415693,"body_markdown":"It&#39;s not rotating at all - I&#39;ve installed log4j-jcl-2.17.1.  Does the figleaf logger to complex with multiple packages?   open to suggestions on how to troubleshoot by process of eliminating complexity if that&#39;s an issue.","body":"It&#39;s not rotating at all - I&#39;ve installed log4j-jcl-2.17.1.  Does the figleaf logger to complex with multiple packages?   open to suggestions on how to troubleshoot by process of eliminating complexity if that&#39;s an issue."},{"owner":{"account_id":2636141,"reputation":315,"user_id":2280760,"accept_rate":62,"display_name":"Configueroa"},"score":0,"creation_date":1673038565,"post_id":75035025,"comment_id":132415698,"body_markdown":"also - is the rootLogger.appenderRef.root config correct ?","body":"also - is the rootLogger.appenderRef.root config correct ?"}],"owner":{"account_id":2636141,"reputation":315,"user_id":2280760,"accept_rate":62,"display_name":"Configueroa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673035342,"creation_date":1673031040,"question_id":75035025,"body_markdown":"In the Log4J2 FileNamePattern that specifies Hours(HH) for the second logfile called figleaf- it is not creating a new file every two hours?  Also - I noticed that the logs/LOGFILE1.log is created, but it is not getting the year-month-day and hour extension it its naming.  The file is created without the extensions after the application is restarted. \r\n\r\nDo you see anything wrong with the logfile properties preventing the figleaf log file from being created every two hours?\r\n\r\n``` \r\nstatus = info\r\n\r\nproperty.Default.Pattern = [%d{MM-dd-yyyy HH:mm:ss,SSS}] %X{context} %X{tenant} %-5p [%t] [%c] %m%n\r\nproperty.Default.Level = info\r\nappender.LOGFILE1.type = RollingFile\r\nappender.LOGFILE1.name = LOGFILE1\r\nappender.LOGFILE1.fileName = logs/LOGFILE1.log\r\nappender.LOGFILE1.filePattern = logs/LOGFILE1-%d{yyyy-MM-dd}.log.%i\r\nappender.LOGFILE1.layout.type = PatternLayout\r\nappender.LOGFILE1.layout.pattern = ${Default.Pattern}\r\nappender.LOGFILE1.policies.type = Policies\r\n# To rollover the log file LOGFILE1 daily testing\r\nappender.LOGFILE1.policies.time.type = TimeBasedTriggeringPolicy\r\nappender.LOGFILE1.policies.time.interval = 1\r\nappender.LOGFILE1.policies.time.modulate = true\r\n# To change log file after 50mb size\r\nappender.LOGFILE1.policies.size.type = SizeBasedTriggeringPolicy\r\nappender.LOGFILE1.policies.size.size = 50mb\r\nappender.LOGFILE1.strategy.type = DefaultRolloverStrategy\r\nappender.LOGFILE1.strategy.max = 31\r\nrootLogger.level = info\r\nrootLogger.appenderRefs = root\r\nrootLogger.appenderRef.root.ref = LOGFILE1\r\n\r\n#------ Configuration for Inbound Logging for figleaf ------\r\nappender.figleaf_inboundevent.type = RollingFile\r\nappender.figleaf_inboundevent.name = figleaf_inboundevent\r\nappender.figleaf_inboundevent.fileName = logs/figleaf_inboundevent.log\r\n# To rollover the log file every two hours testing using HH in filePattern\r\nappender.figleaf_inboundevent.filePattern = logs/figleaf_inboundevent-%d{yyyy-MM-dd HH}.log.%i\r\nappender.figleaf_inboundevent.layout.type = PatternLayout\r\nappender.figleaf_inboundevent.layout.pattern = ${Default.Pattern}\r\nappender.figleaf_inboundevent.policies.type = Policies\r\n# To rollover the log file every two hours testing\r\nappender.figleaf_inboundevent.policies.time.type = TimeBasedTriggeringPolicy\r\nappender.figleaf_inboundevent.policies.time.interval = 2\r\nappender.figleaf_inboundevent.policies.time.modulate = true\r\nappender.figleaf_inboundevent.policies.size.type = SizeBasedTriggeringPolicy\r\nappender.figleaf_inboundevent.policies.size.size = 50mb\r\nappender.figleaf_inboundevent.strategy.type = DefaultRolloverStrategy\r\nappender.figleaf_inboundevent.strategy.max = 31\r\n\r\nlogger.figleaf_inbound_InboundSchedulable.name = com.lawson.ma.sdi.figleaf.adapter.InboundSchedulable\r\nlogger.figleaf_inbound_InboundSchedulable.level = INFO\r\n\r\nlogger.figleaf_inbound_InboundSchedulable.additivity = false\r\nlogger.figleaf_inbound_InboundSchedulable.appenderRef.figleaf_inboundevent.ref = figleaf_inboundevent\r\n\r\nlogger.figleaf_inbound_ProcessInbound.name = com.lawson.ma.sdi.figleaf.inbound.ProcessInbound\r\nlogger.figleaf_inbound_ProcessInbound.level = INFO\r\nlogger.figleaf_inbound_ProcessInbound.additivity = false\r\nlogger.figleaf_inbound_ProcessInbound.appenderRef.figleaf_inboundevent.ref = figleaf_inboundevent\r\n\r\nlogger.figleaf_inbound_ProcessADT.name = com.lawson.ma.sdi.figleaf.inbound.ProcessADT\r\nlogger.figleaf_inbound_ProcessADT.level = INFO\r\nlogger.figleaf_inbound_ProcessADT.additivity = false\r\nlogger.figleaf_inbound_ProcessADT.appenderRef.figleaf_inboundevent.ref = figleaf_inboundevent\r\n\r\nlogger.figleaf_inbound_ProcessSIU.name = com.lawson.ma.sdi.figleaf.inbound.ProcessSIU\r\nlogger.figleaf_inbound_ProcessSIU.level = INFO\r\nlogger.figleaf_inbound_ProcessSIU.additivity = false\r\nlogger.figleaf_inbound_ProcessSIU.appenderRef.figleaf_inboundevent.ref = figleaf_inboundevent\r\n\r\nlogger.figleaf_inbound_ProcessCSU.name = com.lawson.ma.sdi.figleaf.inbound.ProcessCSU\r\nlogger.figleaf_inbound_ProcessCSU.level = INFO\r\nlogger.figleaf_inbound_ProcessCSU.additivity = false\r\nlogger.figleaf_inbound_ProcessCSU.appenderRef.figleaf_inboundevent.ref = figleaf_inboundevent\r\n\r\nlogger.figleaf_inbound_InboundManager.name = com.lawson.ma.sdi.figleaf.inbound.data.InboundManager\r\nlogger.figleaf_inbound_InboundManager.level = INFO\r\nlogger.figleaf_inbound_InboundManager.additivity = false\r\nlogger.figleaf_inbound_InboundManager.appenderRef.figleaf_inboundevent.ref = figleaf_inboundevent\r\n\r\nlogger.figleaf_inbound_InboundManagerImpl.name = com.lawson.ma.sdi.figleaf.inbound.data.InboundManagerImpl\r\nlogger.figleaf_inbound_InboundManagerImpl.level = INFO\r\nlogger.figleaf_inbound_InboundManagerImpl.additivity = false\r\nlogger.figleaf_inbound_InboundManagerImpl.appenderRef.figleaf_inboundevent.ref = figleaf_inboundevent\r\n\r\nlogger.figleaf_inbound_ADTManager.name = com.lawson.ma.sdi.figleaf.inbound.data.ADTManager\r\nlogger.figleaf_inbound_ADTManager.level = INFO\r\nlogger.figleaf_inbound_ADTManager.additivity = false\r\nlogger.figleaf_inbound_ADTManager.appenderRef.figleaf_inboundevent.ref = figleaf_inboundevent\r\n\r\nlogger.figleaf_inbound_ADTManagerImpl.name = com.lawson.ma.sdi.figleaf.inbound.data.ADTManagerImpl\r\nlogger.figleaf_inbound_ADTManagerImpl.level = INFO\r\nlogger.figleaf_inbound_ADTManagerImpl.additivity = false\r\nlogger.figleaf_inbound_ADTManagerImpl.appenderRef.figleaf_inboundevent.ref = figleaf_inboundevent\r\n\r\nlogger.figleaf_inbound_CSUManager.name = com.lawson.ma.sdi.figleaf.inbound.data.CSUManager\r\nlogger.figleaf_inbound_CSUManager.level = INFO\r\nlogger.figleaf_inbound_CSUManager.additivity = false\r\nlogger.figleaf_inbound_CSUManager.appenderRef.figleaf_inboundevent.ref = figleaf_inboundevent\r\n\r\nlogger.figleaf_inbound_CSUManagerImpl.name = com.lawson.ma.sdi.figleaf.inbound.data.CSUManagerImpl\r\nlogger.figleaf_inbound_CSUManagerImpl.level = INFO\r\nlogger.figleaf_inbound_CSUManagerImpl.additivity = false\r\nlogger.figleaf_inbound_CSUManagerImpl.appenderRef.figleaf_inboundevent.ref = figleaf_inboundevent\r\n\r\nlogger.figleaf_inbound_SIUManager.name = com.lawson.ma.sdi.figleaf.inbound.data.SIUManager\r\nlogger.figleaf_inbound_SIUManager.level = INFO\r\nlogger.figleaf_inbound_SIUManager.additivity = false\r\nlogger.figleaf_inbound_SIUManager.appenderRef.figleaf_inboundevent.ref = figleaf_inboundevent\r\n\r\nlogger.figleaf_inbound_SIUManagerImpl.name = com.lawson.ma.sdi.figleaf.inbound.data.SIUManagerImpl\r\nlogger.figleaf_inbound_SIUManagerImpl.level = INFO\r\nlogger.figleaf_inbound_SIUManagerImpl.additivity = false\r\nlogger.figleaf_inbound_SIUManagerImpl.appenderRef.figleaf_inboundevent.ref = figleaf_inboundevent\r\n\r\nlogger.figleaf_inbound_InboundException.name = com.lawson.ma.sdi.figleaf.exception.InboundException\r\nlogger.figleaf_inbound_InboundException.level = INFO\r\nlogger.figleaf_inbound_InboundException.additivity = false\r\nlogger.figleaf_inbound_InboundException.appenderRef.figleaf_inboundevent.ref = figleaf_inboundevent \r\n\r\n```\r\n","title":"Not Rolling the log figleaf_inboundevent.log every two hours testing using HH in filePattern","body":"<p>In the Log4J2 FileNamePattern that specifies Hours(HH) for the second logfile called figleaf- it is not creating a new file every two hours?  Also - I noticed that the logs/LOGFILE1.log is created, but it is not getting the year-month-day and hour extension it its naming.  The file is created without the extensions after the application is restarted.</p>\n<p>Do you see anything wrong with the logfile properties preventing the figleaf log file from being created every two hours?</p>\n<pre><code>status = info\n\nproperty.Default.Pattern = [%d{MM-dd-yyyy HH:mm:ss,SSS}] %X{context} %X{tenant} %-5p [%t] [%c] %m%n\nproperty.Default.Level = info\nappender.LOGFILE1.type = RollingFile\nappender.LOGFILE1.name = LOGFILE1\nappender.LOGFILE1.fileName = logs/LOGFILE1.log\nappender.LOGFILE1.filePattern = logs/LOGFILE1-%d{yyyy-MM-dd}.log.%i\nappender.LOGFILE1.layout.type = PatternLayout\nappender.LOGFILE1.layout.pattern = ${Default.Pattern}\nappender.LOGFILE1.policies.type = Policies\n# To rollover the log file LOGFILE1 daily testing\nappender.LOGFILE1.policies.time.type = TimeBasedTriggeringPolicy\nappender.LOGFILE1.policies.time.interval = 1\nappender.LOGFILE1.policies.time.modulate = true\n# To change log file after 50mb size\nappender.LOGFILE1.policies.size.type = SizeBasedTriggeringPolicy\nappender.LOGFILE1.policies.size.size = 50mb\nappender.LOGFILE1.strategy.type = DefaultRolloverStrategy\nappender.LOGFILE1.strategy.max = 31\nrootLogger.level = info\nrootLogger.appenderRefs = root\nrootLogger.appenderRef.root.ref = LOGFILE1\n\n#------ Configuration for Inbound Logging for figleaf ------\nappender.figleaf_inboundevent.type = RollingFile\nappender.figleaf_inboundevent.name = figleaf_inboundevent\nappender.figleaf_inboundevent.fileName = logs/figleaf_inboundevent.log\n# To rollover the log file every two hours testing using HH in filePattern\nappender.figleaf_inboundevent.filePattern = logs/figleaf_inboundevent-%d{yyyy-MM-dd HH}.log.%i\nappender.figleaf_inboundevent.layout.type = PatternLayout\nappender.figleaf_inboundevent.layout.pattern = ${Default.Pattern}\nappender.figleaf_inboundevent.policies.type = Policies\n# To rollover the log file every two hours testing\nappender.figleaf_inboundevent.policies.time.type = TimeBasedTriggeringPolicy\nappender.figleaf_inboundevent.policies.time.interval = 2\nappender.figleaf_inboundevent.policies.time.modulate = true\nappender.figleaf_inboundevent.policies.size.type = SizeBasedTriggeringPolicy\nappender.figleaf_inboundevent.policies.size.size = 50mb\nappender.figleaf_inboundevent.strategy.type = DefaultRolloverStrategy\nappender.figleaf_inboundevent.strategy.max = 31\n\nlogger.figleaf_inbound_InboundSchedulable.name = com.lawson.ma.sdi.figleaf.adapter.InboundSchedulable\nlogger.figleaf_inbound_InboundSchedulable.level = INFO\n\nlogger.figleaf_inbound_InboundSchedulable.additivity = false\nlogger.figleaf_inbound_InboundSchedulable.appenderRef.figleaf_inboundevent.ref = figleaf_inboundevent\n\nlogger.figleaf_inbound_ProcessInbound.name = com.lawson.ma.sdi.figleaf.inbound.ProcessInbound\nlogger.figleaf_inbound_ProcessInbound.level = INFO\nlogger.figleaf_inbound_ProcessInbound.additivity = false\nlogger.figleaf_inbound_ProcessInbound.appenderRef.figleaf_inboundevent.ref = figleaf_inboundevent\n\nlogger.figleaf_inbound_ProcessADT.name = com.lawson.ma.sdi.figleaf.inbound.ProcessADT\nlogger.figleaf_inbound_ProcessADT.level = INFO\nlogger.figleaf_inbound_ProcessADT.additivity = false\nlogger.figleaf_inbound_ProcessADT.appenderRef.figleaf_inboundevent.ref = figleaf_inboundevent\n\nlogger.figleaf_inbound_ProcessSIU.name = com.lawson.ma.sdi.figleaf.inbound.ProcessSIU\nlogger.figleaf_inbound_ProcessSIU.level = INFO\nlogger.figleaf_inbound_ProcessSIU.additivity = false\nlogger.figleaf_inbound_ProcessSIU.appenderRef.figleaf_inboundevent.ref = figleaf_inboundevent\n\nlogger.figleaf_inbound_ProcessCSU.name = com.lawson.ma.sdi.figleaf.inbound.ProcessCSU\nlogger.figleaf_inbound_ProcessCSU.level = INFO\nlogger.figleaf_inbound_ProcessCSU.additivity = false\nlogger.figleaf_inbound_ProcessCSU.appenderRef.figleaf_inboundevent.ref = figleaf_inboundevent\n\nlogger.figleaf_inbound_InboundManager.name = com.lawson.ma.sdi.figleaf.inbound.data.InboundManager\nlogger.figleaf_inbound_InboundManager.level = INFO\nlogger.figleaf_inbound_InboundManager.additivity = false\nlogger.figleaf_inbound_InboundManager.appenderRef.figleaf_inboundevent.ref = figleaf_inboundevent\n\nlogger.figleaf_inbound_InboundManagerImpl.name = com.lawson.ma.sdi.figleaf.inbound.data.InboundManagerImpl\nlogger.figleaf_inbound_InboundManagerImpl.level = INFO\nlogger.figleaf_inbound_InboundManagerImpl.additivity = false\nlogger.figleaf_inbound_InboundManagerImpl.appenderRef.figleaf_inboundevent.ref = figleaf_inboundevent\n\nlogger.figleaf_inbound_ADTManager.name = com.lawson.ma.sdi.figleaf.inbound.data.ADTManager\nlogger.figleaf_inbound_ADTManager.level = INFO\nlogger.figleaf_inbound_ADTManager.additivity = false\nlogger.figleaf_inbound_ADTManager.appenderRef.figleaf_inboundevent.ref = figleaf_inboundevent\n\nlogger.figleaf_inbound_ADTManagerImpl.name = com.lawson.ma.sdi.figleaf.inbound.data.ADTManagerImpl\nlogger.figleaf_inbound_ADTManagerImpl.level = INFO\nlogger.figleaf_inbound_ADTManagerImpl.additivity = false\nlogger.figleaf_inbound_ADTManagerImpl.appenderRef.figleaf_inboundevent.ref = figleaf_inboundevent\n\nlogger.figleaf_inbound_CSUManager.name = com.lawson.ma.sdi.figleaf.inbound.data.CSUManager\nlogger.figleaf_inbound_CSUManager.level = INFO\nlogger.figleaf_inbound_CSUManager.additivity = false\nlogger.figleaf_inbound_CSUManager.appenderRef.figleaf_inboundevent.ref = figleaf_inboundevent\n\nlogger.figleaf_inbound_CSUManagerImpl.name = com.lawson.ma.sdi.figleaf.inbound.data.CSUManagerImpl\nlogger.figleaf_inbound_CSUManagerImpl.level = INFO\nlogger.figleaf_inbound_CSUManagerImpl.additivity = false\nlogger.figleaf_inbound_CSUManagerImpl.appenderRef.figleaf_inboundevent.ref = figleaf_inboundevent\n\nlogger.figleaf_inbound_SIUManager.name = com.lawson.ma.sdi.figleaf.inbound.data.SIUManager\nlogger.figleaf_inbound_SIUManager.level = INFO\nlogger.figleaf_inbound_SIUManager.additivity = false\nlogger.figleaf_inbound_SIUManager.appenderRef.figleaf_inboundevent.ref = figleaf_inboundevent\n\nlogger.figleaf_inbound_SIUManagerImpl.name = com.lawson.ma.sdi.figleaf.inbound.data.SIUManagerImpl\nlogger.figleaf_inbound_SIUManagerImpl.level = INFO\nlogger.figleaf_inbound_SIUManagerImpl.additivity = false\nlogger.figleaf_inbound_SIUManagerImpl.appenderRef.figleaf_inboundevent.ref = figleaf_inboundevent\n\nlogger.figleaf_inbound_InboundException.name = com.lawson.ma.sdi.figleaf.exception.InboundException\nlogger.figleaf_inbound_InboundException.level = INFO\nlogger.figleaf_inbound_InboundException.additivity = false\nlogger.figleaf_inbound_InboundException.appenderRef.figleaf_inboundevent.ref = figleaf_inboundevent \n\n</code></pre>\n"},{"tags":["java","elasticsearch"],"comments":[{"owner":{"account_id":8098023,"reputation":326,"user_id":6101900,"display_name":"Ayush"},"score":0,"creation_date":1673019368,"post_id":75032651,"comment_id":132409895,"body_markdown":"Is there any specific reason why you need 1024 clauses for your query, may be try to optimize your search/ filter criteria instead of piling up more resources to avoid such scenarios. ES recommends max upto 64G of memory which means 32G of heap size. Although its enough for all your cases, but recommendation would still be search optimization.","body":"Is there any specific reason why you need 1024 clauses for your query, may be try to optimize your search/ filter criteria instead of piling up more resources to avoid such scenarios. ES recommends max upto 64G of memory which means 32G of heap size. Although its enough for all your cases, but recommendation would still be search optimization."}],"owner":{"account_id":11901167,"reputation":381,"user_id":8709124,"display_name":"Madhu Reddy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673034569,"creation_date":1673017585,"question_id":75032651,"body_markdown":"I have been getting this error when running an elastic query against and index for a search. i was not getting this error in my earlier version of elastic, but after migrating to 8.3 i am getting this error. i see that in earlier versions of elastic we were able to set the max clause count using the field &quot;indices.query.bool.max_clause_count&quot; in the elaaticsearch.yml file but since 8.0 this has been deprecated and will have no impact even if the property is set.\r\nAccording to the elastic documentation i see that now the max clause count is dynamically calculated based on the heap size of the JVM and few other parameters as mentioned in this documentation.\r\n\r\nhttps://www.elastic.co/guide/en/elasticsearch/reference/current/search-settings.html\r\n\r\nI am looking to see if we can any we have to capability of figuring out what heap size of JVM would give me the desired clause count?   or what cluster specifications should i use for me to get the desired clause count??\r\n \r\nThis is the sample query i have been using.\r\n\r\n    {\r\n                &quot;query&quot;: {\r\n                    &quot;bool&quot;: {\r\n                        &quot;must&quot;: [\r\n                            {\r\n                                &quot;multi_match&quot;: {\r\n                                    &quot;query&quot;: &quot;this is search and test&quot;\r\n                                }\r\n                            }\r\n                        ],\r\n                        &quot;must_not&quot;: [\r\n                            {\r\n                                &quot;match&quot;: {\r\n                                    &quot;hideFromSearch&quot;: &quot;true&quot;\r\n                                }\r\n                            }\r\n                        ],\r\n                        &quot;should&quot;: [\r\n                            {\r\n                                &quot;multi_match&quot;: {\r\n                                    &quot;query&quot;: &quot;this is search and test&quot;,\r\n                                    &quot;type&quot;: &quot;phrase&quot;\r\n                                }\r\n                            },\r\n                            {\r\n                                &quot;multi_match&quot;: {\r\n                                    &quot;query&quot;: &quot;this is search and test&quot;,\r\n                                    &quot;operator&quot;: &quot;and&quot;\r\n                                }\r\n                            }\r\n                        ]\r\n                    }\r\n                }\r\n            }\r\n\r\nif the search keyword is anything more than 1 word.. then the search is giving the error.\r\n\r\nAny help would be appreciated. thanks in advance guys.\r\n","title":"Query contains too many nested clauses; maxClauseCount is set to 1024","body":"<p>I have been getting this error when running an elastic query against and index for a search. i was not getting this error in my earlier version of elastic, but after migrating to 8.3 i am getting this error. i see that in earlier versions of elastic we were able to set the max clause count using the field &quot;indices.query.bool.max_clause_count&quot; in the elaaticsearch.yml file but since 8.0 this has been deprecated and will have no impact even if the property is set.\nAccording to the elastic documentation i see that now the max clause count is dynamically calculated based on the heap size of the JVM and few other parameters as mentioned in this documentation.</p>\n<p><a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/search-settings.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/current/search-settings.html</a></p>\n<p>I am looking to see if we can any we have to capability of figuring out what heap size of JVM would give me the desired clause count?   or what cluster specifications should i use for me to get the desired clause count??</p>\n<p>This is the sample query i have been using.</p>\n<pre><code>{\n            &quot;query&quot;: {\n                &quot;bool&quot;: {\n                    &quot;must&quot;: [\n                        {\n                            &quot;multi_match&quot;: {\n                                &quot;query&quot;: &quot;this is search and test&quot;\n                            }\n                        }\n                    ],\n                    &quot;must_not&quot;: [\n                        {\n                            &quot;match&quot;: {\n                                &quot;hideFromSearch&quot;: &quot;true&quot;\n                            }\n                        }\n                    ],\n                    &quot;should&quot;: [\n                        {\n                            &quot;multi_match&quot;: {\n                                &quot;query&quot;: &quot;this is search and test&quot;,\n                                &quot;type&quot;: &quot;phrase&quot;\n                            }\n                        },\n                        {\n                            &quot;multi_match&quot;: {\n                                &quot;query&quot;: &quot;this is search and test&quot;,\n                                &quot;operator&quot;: &quot;and&quot;\n                            }\n                        }\n                    ]\n                }\n            }\n        }\n</code></pre>\n<p>if the search keyword is anything more than 1 word.. then the search is giving the error.</p>\n<p>Any help would be appreciated. thanks in advance guys.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1673033100,"post_id":75035237,"comment_id":132414240,"body_markdown":"Ultimately you&#39;re running into an issue that would cross programming language boundaries - you are dependent on another library.  I&#39;d strongly encourage you to start with an IDE such as [IntelliJ](https://www.jetbrains.com/idea/) that can help you with errors in your code and help you with dependencies.  For Java, you&#39;ll need to somehow get the &quot;jar&quot; file that contains the POI libraries.  This will get you started.  From there you&#39;ll need a build environment tool but you&#39;ll get there.","body":"Ultimately you&#39;re running into an issue that would cross programming language boundaries - you are dependent on another library.  I&#39;d strongly encourage you to start with an IDE such as <a href=\"https://www.jetbrains.com/idea/\" rel=\"nofollow noreferrer\">IntelliJ</a> that can help you with errors in your code and help you with dependencies.  For Java, you&#39;ll need to somehow get the &quot;jar&quot; file that contains the POI libraries.  This will get you started.  From there you&#39;ll need a build environment tool but you&#39;ll get there."},{"owner":{"account_id":23563559,"reputation":1,"user_id":20947616,"display_name":"Jonathan -"},"score":0,"creation_date":1673097242,"post_id":75035237,"comment_id":132423568,"body_markdown":"I programmed already a bit in python, and also came to the thought, that I need the proper libraries. I have VS Code, but it&#39;s not so easy to set it up. But I&#39;ll manage somehow. Thanks for your help.","body":"I programmed already a bit in python, and also came to the thought, that I need the proper libraries. I have VS Code, but it&#39;s not so easy to set it up. But I&#39;ll manage somehow. Thanks for your help."}],"owner":{"account_id":23563559,"reputation":1,"user_id":20947616,"display_name":"Jonathan -"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673032571,"creation_date":1673032571,"question_id":75035237,"body_markdown":"I am sorry, I am absolutely new to JAVA and no (until now) nothing about JAVA, and only little to coding. I wanted to learn simple document creation with the XWPFDocument Library. I got a sample code from https://www.geeksforgeeks.org/java-program-to-write-a-paragraph-in-a-word-document/ but the code does not work.\r\nI am also sorry for not being able to format the code as a code. I made spaces with my hand, but not everywhere. I know it&#39;s horrible, but I don&#39;t know how to do to properly.  A have a brand new Mac and a microsoft keyboard which drives me crazy + I also do not know how to do it the advice strg + k\r\n\r\nI get the error:\r\n\r\n        at GFG.main(docgen_V0.1.java:17)\r\n\r\njs@MacBook-Pro-von-Jonathan \\~ %  /usr/bin/env /Library/Java/JavaVirtualMachines/jdk-19.jdk/Contents/Home/bin/java --enable-preview -XX:+Show\r\nCodeDetailsInExceptionMessages -cp /private/var/folders/fq/f_v1db_d17qc749gnnmrbch00000gn/T/vscodesws_2d1b0/jdt_ws/jdt.ls-java-project/bin G\r\nFG\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems:\r\nXWPFDocument cannot be resolved to a type\r\nXWPFDocument cannot be resolved to a type\r\nXWPFParagraph cannot be resolved to a type\r\nXWPFRun cannot be resolved to a type\r\nXWPFRun cannot be resolved to a type\r\nXWPFRun cannot be resolved to a type\r\n\r\nThe Code is:\r\n\r\n    \r\n        public class docgen_V0.2 {\r\n            // Java Programming to Write a paragraph in a Word Document\r\n    \r\n        // Importing required packages\r\n        import java.io.File;\r\n        import java.io.FileOutputStream;\r\n        import org.apache.poi.xwpf.usermodel.XWPFDocument;\r\n        import org.apache.poi.xwpf.usermodel.XWPFParagraph;\r\n        import org.apache.poi.xwpf.usermodel.XWPFRun;\r\n    \r\n        public class GFG {\r\n    \r\n            // Main driver method\r\n            public static void main(String[] args) throws Exception\r\n            {\r\n    \r\n                // Create a blank document\r\n                XWPFDocument xwpfdocument = new XWPFDocument();\r\n    \r\n                // Create a blank file at C:\r\n                File file = new File(&quot;/Users/Shared/Arbeit/Codes/Speachdoc/addParagraph.docx&quot;);\r\n    \r\n                // Create a file output stream connection\r\n                FileOutputStream ostream\r\n                    = new FileOutputStream(file);\r\n    \r\n                /* Create a new paragraph using the document */\r\n    \r\n                // CreateParagraph() method is used\r\n                // to instantiate a new paragraph\r\n                XWPFParagraph para = xwpfdocument.createParagraph();\r\n    \r\n                // CreateRun method appends a new run to the\r\n                // paragraph created\r\n                XWPFRun xwpfrun = para.createRun();\r\n    \r\n                // SetText sets the text to the run\r\n                // created using XWPF run\r\n                xwpfrun.setText(\r\n                    &quot;Geeks for Geeks is a computer science portal which aims &quot;\r\n                    + &quot;to provide all in one platform for learning and &quot;\r\n                    + &quot;practicing.We can learn multiple programming languages here. &quot;);\r\n    \r\n                // Write content set using XWPF classes available\r\n                xwpfdocument.write(ostream);\r\n    \r\n                // Close connection\r\n                ostream.close();\r\n        }\r\n        }\r\n    \r\n        }\r\n\r\nI just tried to run it. I expect to create a document with a little paragraph that says:\r\n&quot; Geeks for Geeks is a computer science portal which aims to provide all in one platform for learning and practicing.We can learn multiple programming languages here.&quot;","title":"JAVA XWPFDocument script gives java.lang.Error","body":"<p>I am sorry, I am absolutely new to JAVA and no (until now) nothing about JAVA, and only little to coding. I wanted to learn simple document creation with the XWPFDocument Library. I got a sample code from <a href=\"https://www.geeksforgeeks.org/java-program-to-write-a-paragraph-in-a-word-document/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/java-program-to-write-a-paragraph-in-a-word-document/</a> but the code does not work.\nI am also sorry for not being able to format the code as a code. I made spaces with my hand, but not everywhere. I know it's horrible, but I don't know how to do to properly.  A have a brand new Mac and a microsoft keyboard which drives me crazy + I also do not know how to do it the advice strg + k</p>\n<p>I get the error:</p>\n<pre><code>    at GFG.main(docgen_V0.1.java:17)\n</code></pre>\n<p>js@MacBook-Pro-von-Jonathan ~ %  /usr/bin/env /Library/Java/JavaVirtualMachines/jdk-19.jdk/Contents/Home/bin/java --enable-preview -XX:+Show\nCodeDetailsInExceptionMessages -cp /private/var/folders/fq/f_v1db_d17qc749gnnmrbch00000gn/T/vscodesws_2d1b0/jdt_ws/jdt.ls-java-project/bin G\nFG\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems:\nXWPFDocument cannot be resolved to a type\nXWPFDocument cannot be resolved to a type\nXWPFParagraph cannot be resolved to a type\nXWPFRun cannot be resolved to a type\nXWPFRun cannot be resolved to a type\nXWPFRun cannot be resolved to a type</p>\n<p>The Code is:</p>\n<pre><code>    public class docgen_V0.2 {\n        // Java Programming to Write a paragraph in a Word Document\n\n    // Importing required packages\n    import java.io.File;\n    import java.io.FileOutputStream;\n    import org.apache.poi.xwpf.usermodel.XWPFDocument;\n    import org.apache.poi.xwpf.usermodel.XWPFParagraph;\n    import org.apache.poi.xwpf.usermodel.XWPFRun;\n\n    public class GFG {\n\n        // Main driver method\n        public static void main(String[] args) throws Exception\n        {\n\n            // Create a blank document\n            XWPFDocument xwpfdocument = new XWPFDocument();\n\n            // Create a blank file at C:\n            File file = new File(&quot;/Users/Shared/Arbeit/Codes/Speachdoc/addParagraph.docx&quot;);\n\n            // Create a file output stream connection\n            FileOutputStream ostream\n                = new FileOutputStream(file);\n\n            /* Create a new paragraph using the document */\n\n            // CreateParagraph() method is used\n            // to instantiate a new paragraph\n            XWPFParagraph para = xwpfdocument.createParagraph();\n\n            // CreateRun method appends a new run to the\n            // paragraph created\n            XWPFRun xwpfrun = para.createRun();\n\n            // SetText sets the text to the run\n            // created using XWPF run\n            xwpfrun.setText(\n                &quot;Geeks for Geeks is a computer science portal which aims &quot;\n                + &quot;to provide all in one platform for learning and &quot;\n                + &quot;practicing.We can learn multiple programming languages here. &quot;);\n\n            // Write content set using XWPF classes available\n            xwpfdocument.write(ostream);\n\n            // Close connection\n            ostream.close();\n    }\n    }\n\n    }\n</code></pre>\n<p>I just tried to run it. I expect to create a document with a little paragraph that says:\n&quot; Geeks for Geeks is a computer science portal which aims to provide all in one platform for learning and practicing.We can learn multiple programming languages here.&quot;</p>\n"},{"tags":["java","math","matlab","programming-languages"],"answers":[{"tags":[],"owner":{"account_id":10930,"reputation":781791,"user_id":20862,"accept_rate":50,"display_name":"Ignacio Vazquez-Abrams"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1673031908,"creation_date":1264586965,"answer_id":2145950,"question_id":2145934,"body_markdown":"Python has several decent GUI toolkits as well as &lt;a href=&quot;https://numpy.org/&quot;&gt;NumPy&lt;/a&gt;, and is easy and fun to write in.","title":"Choose a language to write technical engineering maths (can I use Java?)","body":"<p>Python has several decent GUI toolkits as well as <a href=\"https://numpy.org/\" rel=\"nofollow noreferrer\">NumPy</a>, and is easy and fun to write in.</p>\n"},{"tags":[],"owner":{"account_id":32277,"reputation":183150,"user_id":89391,"accept_rate":79,"display_name":"miku"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1308796013,"creation_date":1264587300,"answer_id":2145973,"question_id":2145934,"body_markdown":"I guess that Java would be a good choice, even though it is not considered a typical language for rapid application development. \r\n\r\nPros:\r\n\r\n* versatile GUI toolkit for desktop applications in standard library (Swing),\r\n* (relatively) cross-platform,\r\n* great libraries, e.g. from [Apache][1]; a great math library to look at would be [colt][2]; for charts and diagrams, you may like [jfreechart][3] ..\r\n\r\nCons:\r\n\r\n* &quot;not so rapid&quot; prototyping capabilities\r\n\r\nFurther reading:\r\n\r\n* [Technical Java: Applications for Science and Engineering][4]\r\n\r\n\r\n  [1]: http://projects.apache.org/\r\n  [2]: http://acs.lbl.gov/~hoschek/colt/\r\n  [3]: http://www.jfree.org/jfreechart/\r\n  [4]: http://www.amazon.com/Technical-Java-Applications-Science-Engineering/dp/0131018159","title":"Choose a language to write technical engineering maths (can I use Java?)","body":"<p>I guess that Java would be a good choice, even though it is not considered a typical language for rapid application development. </p>\n\n<p>Pros:</p>\n\n<ul>\n<li>versatile GUI toolkit for desktop applications in standard library (Swing),</li>\n<li>(relatively) cross-platform,</li>\n<li>great libraries, e.g. from <a href=\"http://projects.apache.org/\" rel=\"nofollow noreferrer\">Apache</a>; a great math library to look at would be <a href=\"http://acs.lbl.gov/~hoschek/colt/\" rel=\"nofollow noreferrer\">colt</a>; for charts and diagrams, you may like <a href=\"http://www.jfree.org/jfreechart/\" rel=\"nofollow noreferrer\">jfreechart</a> ..</li>\n</ul>\n\n<p>Cons:</p>\n\n<ul>\n<li>\"not so rapid\" prototyping capabilities</li>\n</ul>\n\n<p>Further reading:</p>\n\n<ul>\n<li><a href=\"https://rads.stackoverflow.com/amzn/click/com/0131018159\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">Technical Java: Applications for Science and Engineering</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":12262,"reputation":103374,"user_id":24054,"accept_rate":86,"display_name":"kgiannakakis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1264587375,"creation_date":1264587375,"answer_id":2145979,"question_id":2145934,"body_markdown":"You may also want to consider [R language][1].\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/R_%28programming_language%29","title":"Choose a language to write technical engineering maths (can I use Java?)","body":"<p>You may also want to consider <a href=\"http://en.wikipedia.org/wiki/R_%28programming_language%29\" rel=\"nofollow noreferrer\">R language</a>.</p>\n"},{"tags":[],"owner":{"account_id":27004,"reputation":28823,"user_id":70795,"accept_rate":56,"display_name":"Mark"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1264587379,"creation_date":1264587379,"answer_id":2145980,"question_id":2145934,"body_markdown":"I have done some work where I had to reimplement Matlab code in Java so it is certainly possible. The Java code can end up being quite verbose compared to the Matlab original due to Matlab being able to operate directly on matrices/arrays etc.\r\n\r\nSome math libraries that you might want to look at to see if they support the functionality you are looking for:\r\n\r\n - [Commons Math][1]\r\n - [Colt][2]\r\n - [JSci][3]\r\n\r\n\r\n  [1]: http://commons.apache.org/math/\r\n  [2]: http://dsd.lbl.gov/~hoschek/colt/index.html\r\n  [3]: http://jsci.sourceforge.net/","title":"Choose a language to write technical engineering maths (can I use Java?)","body":"<p>I have done some work where I had to reimplement Matlab code in Java so it is certainly possible. The Java code can end up being quite verbose compared to the Matlab original due to Matlab being able to operate directly on matrices/arrays etc.</p>\n\n<p>Some math libraries that you might want to look at to see if they support the functionality you are looking for:</p>\n\n<ul>\n<li><a href=\"http://commons.apache.org/math/\" rel=\"nofollow noreferrer\">Commons Math</a></li>\n<li><a href=\"http://dsd.lbl.gov/~hoschek/colt/index.html\" rel=\"nofollow noreferrer\">Colt</a></li>\n<li><a href=\"http://jsci.sourceforge.net/\" rel=\"nofollow noreferrer\">JSci</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":78244,"reputation":11719,"user_id":222815,"accept_rate":92,"display_name":"Charles Stewart"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1274712267,"creation_date":1264587407,"answer_id":2145985,"question_id":2145934,"body_markdown":"This sounds like a job for Matlab: you don&#39;t give any reason not to use it.  There&#39;s some code for evaluating Matlab expressions from Java: http://www.cs.virginia.edu/~whitehouse/matlab/JavaMatlab.html","title":"Choose a language to write technical engineering maths (can I use Java?)","body":"<p>This sounds like a job for Matlab: you don't give any reason not to use it.  There's some code for evaluating Matlab expressions from Java: <a href=\"http://www.cs.virginia.edu/~whitehouse/matlab/JavaMatlab.html\" rel=\"nofollow noreferrer\">http://www.cs.virginia.edu/~whitehouse/matlab/JavaMatlab.html</a></p>\n"},{"tags":[],"owner":{"account_id":75286,"reputation":2896,"user_id":216011,"accept_rate":67,"display_name":"bertolami"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1264588557,"creation_date":1264588557,"answer_id":2146100,"question_id":2145934,"body_markdown":"This depends mainly on how easy it will be in your environment to include the mathlab or other math engine in your product. If this is easy, I would suggest to use mathlab, but if not, e.g. you have licensing issues or deployment issues, you are probably better of just using plain Java code.","title":"Choose a language to write technical engineering maths (can I use Java?)","body":"<p>This depends mainly on how easy it will be in your environment to include the mathlab or other math engine in your product. If this is easy, I would suggest to use mathlab, but if not, e.g. you have licensing issues or deployment issues, you are probably better of just using plain Java code.</p>\n"},{"tags":[],"owner":{"account_id":19055,"reputation":77531,"user_id":44309,"display_name":"High Performance Mark"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1349886680,"creation_date":1264590783,"answer_id":2146325,"question_id":2145934,"body_markdown":"I have some experience of both Matlab and of Java for scientific/engineering type codes. Yes, Java is used for real-world scientific and engineering codes, and yes there are libraries available. You can certainly do what you want using either so I&#39;m not sure that you could sensibly distinguish between the two on the sole basis of your current requirements. I&#39;d ask myself the following questions:\r\n\r\n 1. How good am I at programming advanced mathematical operations? Operations such as function minimisation, differential equation solvers, matrix algebra. If the answer is *not very* then lean towards Matlab which will provide all of these out-of-the-box (though you may need additional toolboxes). If you opt for Java, make sure you are very comfortable with floating-point arithmetic and dealing with the sorts of errors which occur when you use it.\r\n 2. Do I want to code everything in Java, everything in Matlab, or am I happy to use both and to wrestle with, say, a Java GUI on a Matlab engine ? I think you can do much better (in a vague sense) GUIs with Java than with Matlab, but Matlab&#39;s GUI facilities are good enough for most of its users that the added complexity of integrating Matlab with Java is not worth tackling. But then many Matlab users are not software engineers.\r\n 3. What speed of development do I need for the prototype work ? If you were equally skilled in Java and in Matlab then I&#39;d guess that you could do it quicker in Matlab, because the numeric stuff is already provided, you could concentrate on the GUI. But if you are a skilled Java programmer coming newly to Matlab you might decide to stick with what you know.\r\n 4. How will I develop and deploy the production app if the prototype is successful ? If Matlab doesn&#39;t fit your deployment ideas then learning it and forgetting it may not be rewarding.\r\n\r\nFinally, since you solicit other language recommendations: forget Java, forget Matlab, forget Python, forget R, use Mathematica, it&#39;s way more fun and very powerful.\r\n","title":"Choose a language to write technical engineering maths (can I use Java?)","body":"<p>I have some experience of both Matlab and of Java for scientific/engineering type codes. Yes, Java is used for real-world scientific and engineering codes, and yes there are libraries available. You can certainly do what you want using either so I'm not sure that you could sensibly distinguish between the two on the sole basis of your current requirements. I'd ask myself the following questions:</p>\n\n<ol>\n<li>How good am I at programming advanced mathematical operations? Operations such as function minimisation, differential equation solvers, matrix algebra. If the answer is <em>not very</em> then lean towards Matlab which will provide all of these out-of-the-box (though you may need additional toolboxes). If you opt for Java, make sure you are very comfortable with floating-point arithmetic and dealing with the sorts of errors which occur when you use it.</li>\n<li>Do I want to code everything in Java, everything in Matlab, or am I happy to use both and to wrestle with, say, a Java GUI on a Matlab engine ? I think you can do much better (in a vague sense) GUIs with Java than with Matlab, but Matlab's GUI facilities are good enough for most of its users that the added complexity of integrating Matlab with Java is not worth tackling. But then many Matlab users are not software engineers.</li>\n<li>What speed of development do I need for the prototype work ? If you were equally skilled in Java and in Matlab then I'd guess that you could do it quicker in Matlab, because the numeric stuff is already provided, you could concentrate on the GUI. But if you are a skilled Java programmer coming newly to Matlab you might decide to stick with what you know.</li>\n<li>How will I develop and deploy the production app if the prototype is successful ? If Matlab doesn't fit your deployment ideas then learning it and forgetting it may not be rewarding.</li>\n</ol>\n\n<p>Finally, since you solicit other language recommendations: forget Java, forget Matlab, forget Python, forget R, use Mathematica, it's way more fun and very powerful.</p>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1264590802,"creation_date":1264590802,"answer_id":2146328,"question_id":2145934,"body_markdown":"I would do a search for software that&#39;s written to do piping calculations.  This problem has been done.  (As you&#39;ve noted, the calculations need not be difficult.)  At a minimum I&#39;d recommend that you know what&#39;s available to you, how much it would cost, and where the break even point was for development costs.\r\n\r\nA commercial product will have one huge advantage over anything you&#39;ll write: It will have a larger user community that&#39;s been banging on it and finding bugs for a longer period of time than your prototype.  That&#39;s worth something as well.\r\n\r\nWhat&#39;s your opportunity cost?  What else could you have done with the development time that would drive more revenue?","title":"Choose a language to write technical engineering maths (can I use Java?)","body":"<p>I would do a search for software that's written to do piping calculations.  This problem has been done.  (As you've noted, the calculations need not be difficult.)  At a minimum I'd recommend that you know what's available to you, how much it would cost, and where the break even point was for development costs.</p>\n\n<p>A commercial product will have one huge advantage over anything you'll write: It will have a larger user community that's been banging on it and finding bugs for a longer period of time than your prototype.  That's worth something as well.</p>\n\n<p>What's your opportunity cost?  What else could you have done with the development time that would drive more revenue?</p>\n"},{"tags":[],"owner":{"account_id":2884610,"reputation":3555,"user_id":2474792,"accept_rate":67,"display_name":"Demi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385014335,"creation_date":1385014335,"answer_id":20113764,"question_id":2145934,"body_markdown":"Don&#39;t forget numpy or scipy. Both allow you to call fast matrix libraries from Python.","title":"Choose a language to write technical engineering maths (can I use Java?)","body":"<p>Don't forget numpy or scipy. Both allow you to call fast matrix libraries from Python.</p>\n"}],"owner":{"account_id":48079,"reputation":5470,"user_id":142668,"accept_rate":77,"display_name":"geejay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":515,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"closed_date":1479328752,"answer_count":9,"score":4,"last_activity_date":1673031908,"creation_date":1264586834,"question_id":2145934,"body_markdown":"I have to write a prototype app for an engineering company. Most of the work is calculating various engineering properties (I&#39;m talking pipes and real things here, not software engineering). \r\n\r\nHowever, there will also have to be a GUI for: \r\n&lt;li&gt;parameter entry&lt;/li&gt;\r\n&lt;li&gt;displaying results&lt;/li&gt;\r\n&lt;li&gt;some basic diagramming&lt;/li&gt;\r\n&lt;br/&gt;\r\nThe calculation work at the moment doesn&#39;t involve complex math elements (no matrices at the moment), just logs, square roots, relatively simple formulae. Later I will have to do some:\r\n\r\n&lt;li&gt;curve fitting&lt;/li&gt;\r\n&lt;li&gt;numerical approximation&lt;/li&gt;\r\n&lt;br/&gt;\r\nI was wondering if Java has been used for real world engineering apps?\r\n\r\nAre there libraries available for this sort of thing?\r\n\r\nOr am I better off writing in MatLab and then connecting to the code through Java?\r\n\r\nAlso open to other languages (although we are a Java shop).","title":"Choose a language to write technical engineering maths (can I use Java?)","body":"<p>I have to write a prototype app for an engineering company. Most of the work is calculating various engineering properties (I'm talking pipes and real things here, not software engineering). </p>\n\n<p>However, there will also have to be a GUI for: \n<li>parameter entry</li>\n<li>displaying results</li>\n<li>some basic diagramming</li>\n<br/>\nThe calculation work at the moment doesn't involve complex math elements (no matrices at the moment), just logs, square roots, relatively simple formulae. Later I will have to do some:</p>\n\n<p><li>curve fitting</li>\n<li>numerical approximation</li>\n<br/>\nI was wondering if Java has been used for real world engineering apps?</p>\n\n<p>Are there libraries available for this sort of thing?</p>\n\n<p>Or am I better off writing in MatLab and then connecting to the code through Java?</p>\n\n<p>Also open to other languages (although we are a Java shop).</p>\n"},{"tags":["java","spring-boot","maven","artifactory"],"comments":[{"owner":{"account_id":1600162,"reputation":1885,"user_id":1481345,"display_name":"Ale Zalazar"},"score":0,"creation_date":1673032210,"post_id":75027845,"comment_id":132414001,"body_markdown":"In your import statement `import com.testartifactory.example;` aren&#39;t you missing either a class name or a star/asterisk (to import many classes) as in `import com.testartifactory.example.ClassName;` or `import com.testartifactory.example.*;`","body":"In your import statement <code>import com.testartifactory.example;</code> aren&#39;t you missing either a class name or a star/asterisk (to import many classes) as in <code>import com.testartifactory.example.ClassName;</code> or <code>import com.testartifactory.example.*;</code>"}],"answers":[{"tags":[],"owner":{"account_id":4172811,"reputation":5337,"user_id":4233342,"display_name":"yahavi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673031881,"creation_date":1673008770,"answer_id":75031055,"question_id":75027845,"body_markdown":"The repository URL should correspond to the repository in JFrog Artifactory. In your case: `https://myjfrogurl/artifactory/libs-release-local`\r\n\r\nIn the pom.xml:\r\n```xml\r\n&lt;repositories&gt;\r\n    &lt;repository&gt;\r\n      &lt;id&gt;testartifactory&lt;/id&gt;\r\n      &lt;name&gt;com.testartifactory.example&lt;/name&gt;\r\n      &lt;url&gt;https://myjfrogurl/artifactory/libs-release-local&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n&lt;/repositories&gt;\r\n```\r\n\r\nOther options to use Artifactory for Maven builds are to use the [Artifactory Maven plugin][1] or the [JFrog CLI][2]. With these integrations, you&#39;ll get some more benefits such as build-info, Xray scanning, better performance and more.\r\n\r\nRead more about Maven and Artifactory:\r\n* [Maven Repositories][3] in JFrog Artifactory\r\n* [QuickStart Guide: Maven and Gradle][4]\r\n* [Running Maven Builds][5] using the JFrog CLI\r\n\r\n\r\n  [1]: https://www.jfrog.com/confluence/display/JFROG/Maven+Artifactory+Plugin\r\n  [2]: https://www.jfrog.com/confluence/display/CLI/JFrog+CLI\r\n  [3]: https://www.jfrog.com/confluence/display/JFROG/Maven+Repository\r\n  [4]: https://www.jfrog.com/confluence/display/JFROG/QuickStart+Guide%3A+Maven+and+Gradle\r\n  [5]: https://www.jfrog.com/confluence/display/CLI/CLI+for+JFrog+Artifactory#CLIforJFrogArtifactory-RunningMavenBuilds","title":"How to consume a jfrog artifactory in a maven project","body":"<p>The repository URL should correspond to the repository in JFrog Artifactory. In your case: <code>https://myjfrogurl/artifactory/libs-release-local</code></p>\n<p>In the pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;repositories&gt;\n    &lt;repository&gt;\n      &lt;id&gt;testartifactory&lt;/id&gt;\n      &lt;name&gt;com.testartifactory.example&lt;/name&gt;\n      &lt;url&gt;https://myjfrogurl/artifactory/libs-release-local&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n<p>Other options to use Artifactory for Maven builds are to use the <a href=\"https://www.jfrog.com/confluence/display/JFROG/Maven+Artifactory+Plugin\" rel=\"nofollow noreferrer\">Artifactory Maven plugin</a> or the <a href=\"https://www.jfrog.com/confluence/display/CLI/JFrog+CLI\" rel=\"nofollow noreferrer\">JFrog CLI</a>. With these integrations, you'll get some more benefits such as build-info, Xray scanning, better performance and more.</p>\n<p>Read more about Maven and Artifactory:</p>\n<ul>\n<li><a href=\"https://www.jfrog.com/confluence/display/JFROG/Maven+Repository\" rel=\"nofollow noreferrer\">Maven Repositories</a> in JFrog Artifactory</li>\n<li><a href=\"https://www.jfrog.com/confluence/display/JFROG/QuickStart+Guide%3A+Maven+and+Gradle\" rel=\"nofollow noreferrer\">QuickStart Guide: Maven and Gradle</a></li>\n<li><a href=\"https://www.jfrog.com/confluence/display/CLI/CLI+for+JFrog+Artifactory#CLIforJFrogArtifactory-RunningMavenBuilds\" rel=\"nofollow noreferrer\">Running Maven Builds</a> using the JFrog CLI</li>\n</ul>\n"}],"owner":{"account_id":6409004,"reputation":1067,"user_id":5624398,"accept_rate":44,"display_name":"Sachin Parashar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":643,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673031881,"creation_date":1672988048,"question_id":75027845,"body_markdown":"I created a sample project A and pushed it to my jfrog artifactory. Now, I want to use this in another maven project B.\r\n\r\nTo achieve this, I added this dependency declaration (copied from jfrog) in B&#39;s pom.xml:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.testartifactory.example&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testartifactory&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n          &lt;id&gt;testartifactory&lt;/id&gt;\r\n          &lt;name&gt;com.testartifactory.example&lt;/name&gt;\r\n          &lt;url&gt;https://myjfrogurl/artifactory/libs-release-local/com/testartifactory/example/testartifactory/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n\r\nBut when I import this `import com.testartifactory.example;`, I get error that `package com.testartifactory does not exist`.\r\n\r\nEven though I can see the project downloaded in repositories under .m2 folder:\r\n[![enter image description here][1]][1]\r\n\r\nHere is how my project A is structured:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nI am new to this so I may be doing something wrong and would appreciate any help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/B9AOR.png\r\n  [2]: https://i.stack.imgur.com/XIHF0.png","title":"How to consume a jfrog artifactory in a maven project","body":"<p>I created a sample project A and pushed it to my jfrog artifactory. Now, I want to use this in another maven project B.</p>\n<p>To achieve this, I added this dependency declaration (copied from jfrog) in B's pom.xml:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.testartifactory.example&lt;/groupId&gt;\n        &lt;artifactId&gt;testartifactory&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;repositories&gt;\n    &lt;repository&gt;\n      &lt;id&gt;testartifactory&lt;/id&gt;\n      &lt;name&gt;com.testartifactory.example&lt;/name&gt;\n      &lt;url&gt;https://myjfrogurl/artifactory/libs-release-local/com/testartifactory/example/testartifactory/&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n<p>But when I import this <code>import com.testartifactory.example;</code>, I get error that <code>package com.testartifactory does not exist</code>.</p>\n<p>Even though I can see the project downloaded in repositories under .m2 folder:\n<a href=\"https://i.stack.imgur.com/B9AOR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B9AOR.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is how my project A is structured:</p>\n<p><a href=\"https://i.stack.imgur.com/XIHF0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XIHF0.png\" alt=\"enter image description here\" /></a></p>\n<p>I am new to this so I may be doing something wrong and would appreciate any help.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":4344113,"reputation":66,"user_id":3546596,"display_name":"Marcin Koziarz"},"score":0,"creation_date":1673009908,"post_id":75031069,"comment_id":132406795,"body_markdown":"See https://www.baeldung.com/configuration-properties-in-spring-boot - you most likely need `@Configuration` instead of `@Component`.","body":"See <a href=\"https://www.baeldung.com/configuration-properties-in-spring-boot\" rel=\"nofollow noreferrer\">baeldung.com/configuration-properties-in-spring-boot</a> - you most likely need <code>@Configuration</code> instead of <code>@Component</code>."},{"owner":{"account_id":16100082,"reputation":37,"user_id":11621104,"display_name":"Gourav"},"score":0,"creation_date":1673010933,"post_id":75031069,"comment_id":132407073,"body_markdown":"Followed the same article. Tried the @Configuration also but the same result(child is null).","body":"Followed the same article. Tried the @Configuration also but the same result(child is null)."},{"owner":{"account_id":1604712,"reputation":452,"user_id":1485030,"display_name":"Amal Gupta"},"score":0,"creation_date":1673013473,"post_id":75031069,"comment_id":132407909,"body_markdown":"Check this out. https://stackoverflow.com/questions/56939406/spring-boot-read-properties-from-yml-file","body":"Check this out. <a href=\"https://stackoverflow.com/questions/56939406/spring-boot-read-properties-from-yml-file\" title=\"spring boot read properties from yml file\">stackoverflow.com/questions/56939406/&hellip;</a>"},{"owner":{"account_id":16100082,"reputation":37,"user_id":11621104,"display_name":"Gourav"},"score":0,"creation_date":1673016086,"post_id":75031069,"comment_id":132408818,"body_markdown":"This link is more on the side where we have yaml and properties file. I am using the yaml and am able to load the partial data. Issue is when i am trying to inject same class object to itself.","body":"This link is more on the side where we have yaml and properties file. I am using the yaml and am able to load the partial data. Issue is when i am trying to inject same class object to itself."}],"answers":[{"tags":[],"owner":{"account_id":27452613,"reputation":11,"user_id":20944594,"display_name":"MalaLednica"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673011215,"creation_date":1673011215,"answer_id":75031479,"question_id":75031069,"body_markdown":"It seems like your child definition in config file doesn&#180;t represent the Person class structure, it is missing child attribute. Try this: \r\nconfig:\r\n  person:\r\n    name: &quot;my name&quot;\r\n    age: 40\r\n    child:\r\n      name: &quot;child1&quot;\r\n      age: 14\r\n      child: null","title":"Spring Bean Self autowiring via ConfigurationProperties","body":"<p>It seems like your child definition in config file doesnt represent the Person class structure, it is missing child attribute. Try this:\nconfig:\nperson:\nname: &quot;my name&quot;\nage: 40\nchild:\nname: &quot;child1&quot;\nage: 14\nchild: null</p>\n"},{"tags":[],"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673031756,"creation_date":1673031756,"answer_id":75035129,"question_id":75031069,"body_markdown":"You should not need `PersonConfiguration`\r\n\r\nThis will work:\r\n```java\r\n@Configuration\r\n@ConfigurationProperties(&quot;config.person&quot;)\r\npublic class Person {\r\n    private String name;\r\n    private int age;\r\n    private Person child;\r\n   \r\n    //setter and getters\r\n}\r\n```","title":"Spring Bean Self autowiring via ConfigurationProperties","body":"<p>You should not need <code>PersonConfiguration</code></p>\n<p>This will work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@ConfigurationProperties(&quot;config.person&quot;)\npublic class Person {\n    private String name;\n    private int age;\n    private Person child;\n   \n    //setter and getters\n}\n</code></pre>\n"}],"owner":{"account_id":16100082,"reputation":37,"user_id":11621104,"display_name":"Gourav"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75035129,"answer_count":2,"score":0,"last_activity_date":1673031756,"creation_date":1673008873,"question_id":75031069,"body_markdown":"I am trying to directly populate the configuration object from the YAML file using @ConfigurationProperties. But when I checked the person&#39;s object, name and age got populated but the child is null. I am using the spring boot 2.7.4 version. Is this not supported by spring or any other way to handle such a situation? \r\n\r\n```\r\n@ConfigurationProperties(&quot;config&quot;)\r\n@Component\r\npublic class PersonConfiguration {\r\n\r\n    private Person person;\r\n\r\n    //setter getters\r\n}\r\n\r\npublic class Person {\r\n    private String name;\r\n    private int age;\r\n    @NestedConfigurationProperty\r\n    private Person child;\r\n\r\n//setter getters of all 3 \r\n}\r\n\r\nconfig:\r\n  person:\r\n    name: &quot;my name&quot;\r\n    age: 40\r\n    child:\r\n      name: &quot;child1&quot;\r\n      age: 14\r\n```","title":"Spring Bean Self autowiring via ConfigurationProperties","body":"<p>I am trying to directly populate the configuration object from the YAML file using @ConfigurationProperties. But when I checked the person's object, name and age got populated but the child is null. I am using the spring boot 2.7.4 version. Is this not supported by spring or any other way to handle such a situation?</p>\n<pre><code>@ConfigurationProperties(&quot;config&quot;)\n@Component\npublic class PersonConfiguration {\n\n    private Person person;\n\n    //setter getters\n}\n\npublic class Person {\n    private String name;\n    private int age;\n    @NestedConfigurationProperty\n    private Person child;\n\n//setter getters of all 3 \n}\n\nconfig:\n  person:\n    name: &quot;my name&quot;\n    age: 40\n    child:\n      name: &quot;child1&quot;\n      age: 14\n</code></pre>\n"},{"tags":["java","spring-boot","selenium"],"owner":{"account_id":15019788,"reputation":151,"user_id":10841577,"display_name":"xs w"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673031670,"creation_date":1673031670,"question_id":75035118,"body_markdown":"I&#39;m writing a web page in Spring Boot and using Selenium to get data from another website based on user&#39;s action, which means Selenium will get data **on the fly**. The website will require **login** to get the data. So the website will first need to initiate the webDriver and log in (I&#39;m using user-data attribute but sometimes the login will expire so need to check every time). I&#39;m trying to find the best approach for using Selenium to get data on the fly. From what I have experienced, if I use something like this to initialize Selenium driver:\r\n```\r\ntry {\r\n            webDriver.get(url);\r\n            WebDriverWait wait = new WebDriverWait(webDriver, Duration.ofSeconds(TIME_OUT));\r\n            wait.until(ExpectedConditions.presenceOfElementLocated(By.cssSelector(&quot;button&quot;)));\r\n            logger.info(&quot;Already logged in&quot;);\r\n        } catch (TimeoutException e) {\r\n            logger.error(&quot;Not logged in yet&quot;);\r\n            login(webDriver);\r\n        }\r\n``` \r\nThe &quot;button&quot; here will only be present if it is logged in. I added a log above and after this line and found out it will take about 8 seconds to finish this part, which is too long. I initially added this when user triggers the action, but this will obviously be too long. \r\nMy thought to overcome this is: for each connection, once user hits the website main page (does not need Selenium at main page) then start creating a new instance of webDriver and the login process and hold the webDriver for each of the connections. But how should I approach in such a way? Should I use Spring boot HttpSession and do something like:\r\n```\r\nsession.setAttribute(&quot;driver&quot;, webDriver);\r\n```\r\nAnd then later if user actually makes the request that needs Selenium, then it can retrieve the webDriver using \r\n```\r\nsession.getAttribute(&quot;driver&quot;);\r\n```\r\nIs this something that is reliable to use? \r\nOr could anyone please enlighten me on how should I optimize this?\r\n\r\nThanks a lot!","title":"Selenium in production Spring boot","body":"<p>I'm writing a web page in Spring Boot and using Selenium to get data from another website based on user's action, which means Selenium will get data <strong>on the fly</strong>. The website will require <strong>login</strong> to get the data. So the website will first need to initiate the webDriver and log in (I'm using user-data attribute but sometimes the login will expire so need to check every time). I'm trying to find the best approach for using Selenium to get data on the fly. From what I have experienced, if I use something like this to initialize Selenium driver:</p>\n<pre><code>try {\n            webDriver.get(url);\n            WebDriverWait wait = new WebDriverWait(webDriver, Duration.ofSeconds(TIME_OUT));\n            wait.until(ExpectedConditions.presenceOfElementLocated(By.cssSelector(&quot;button&quot;)));\n            logger.info(&quot;Already logged in&quot;);\n        } catch (TimeoutException e) {\n            logger.error(&quot;Not logged in yet&quot;);\n            login(webDriver);\n        }\n</code></pre>\n<p>The &quot;button&quot; here will only be present if it is logged in. I added a log above and after this line and found out it will take about 8 seconds to finish this part, which is too long. I initially added this when user triggers the action, but this will obviously be too long.\nMy thought to overcome this is: for each connection, once user hits the website main page (does not need Selenium at main page) then start creating a new instance of webDriver and the login process and hold the webDriver for each of the connections. But how should I approach in such a way? Should I use Spring boot HttpSession and do something like:</p>\n<pre><code>session.setAttribute(&quot;driver&quot;, webDriver);\n</code></pre>\n<p>And then later if user actually makes the request that needs Selenium, then it can retrieve the webDriver using</p>\n<pre><code>session.getAttribute(&quot;driver&quot;);\n</code></pre>\n<p>Is this something that is reliable to use?\nOr could anyone please enlighten me on how should I optimize this?</p>\n<p>Thanks a lot!</p>\n"},{"tags":["java","rx-java","rx-java2"],"answers":[{"tags":[],"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673030805,"creation_date":1673030805,"answer_id":75034989,"question_id":75032792,"body_markdown":"If you don&#39;t want the UI update to run concurrently with the second call, just use `observeOn(mainThread()).doOnNext(article -&gt; updateUI(article)).flatMap`.\r\n\r\nIf you want to update the UI and fire off the second call, flatMap onto a merge of the UI update and the network call:\r\n\r\n```java\r\nobs.flatMap(article -&gt; Observable.merge(\r\n    Observable.fromAction(() -&gt; updateUI(article))\r\n       .subscribeOn(mainThread()),\r\n    myservice.getCelebrityNamesFromArticle(article.id)\r\n       .subscribeOn(Schedulers.io())\r\n))\r\n.observeOn(mainThread());\r\n```\r\n\r\nTo get both the article and the result of the second call, you can just map over it after the second call, for a pair, etc:\r\n\r\n```java\r\nobs.flatMap(article -&gt; Observable.merge(\r\n    Observable.fromAction(() -&gt; updateUI(article))\r\n       .subscribeOn(mainThread()),\r\n    myservice.getCelebrityNamesFromArticle(article.id)\r\n       .subscribeOn(Schedulers.io())\r\n       .map(celebrityNames -&gt; Pair(article, celebrityNames))\r\n))\r\n.observeOn(mainThread());\r\n```\r\n","title":"rxjava - how to switch to previous stream but also do some work on main thread once first observable is ready?","body":"<p>If you don't want the UI update to run concurrently with the second call, just use <code>observeOn(mainThread()).doOnNext(article -&gt; updateUI(article)).flatMap</code>.</p>\n<p>If you want to update the UI and fire off the second call, flatMap onto a merge of the UI update and the network call:</p>\n<pre class=\"lang-java prettyprint-override\"><code>obs.flatMap(article -&gt; Observable.merge(\n    Observable.fromAction(() -&gt; updateUI(article))\n       .subscribeOn(mainThread()),\n    myservice.getCelebrityNamesFromArticle(article.id)\n       .subscribeOn(Schedulers.io())\n))\n.observeOn(mainThread());\n</code></pre>\n<p>To get both the article and the result of the second call, you can just map over it after the second call, for a pair, etc:</p>\n<pre class=\"lang-java prettyprint-override\"><code>obs.flatMap(article -&gt; Observable.merge(\n    Observable.fromAction(() -&gt; updateUI(article))\n       .subscribeOn(mainThread()),\n    myservice.getCelebrityNamesFromArticle(article.id)\n       .subscribeOn(Schedulers.io())\n       .map(celebrityNames -&gt; Pair(article, celebrityNames))\n))\n.observeOn(mainThread());\n</code></pre>\n"}],"owner":{"account_id":444211,"reputation":61229,"user_id":835883,"accept_rate":81,"display_name":"j2emanue"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75034989,"answer_count":1,"score":0,"last_activity_date":1673031648,"creation_date":1673018372,"question_id":75032792,"body_markdown":"I have two observables that both make network calls but they depend on each other:\r\n\r\n    val ob1 = Observable.just(myservice.getNewsArticles())\r\n\r\n    ob1.flatMap{ newsArticle -&gt; myservice.getCelebrityNamesFromArticle(newsArticle.id)} \r\n    .subscribeOn(Schedulers.io())\r\n    .observeOn(AndroidSchedulers.mainThread())\r\n\r\nthis is what i have so far, but the issue is when ob1 completes i need to immediately update the UI while ob2(thats gets celebrity names)  is running. also at the end i need the chain to return ob1 (like a switchMap etc).... \r\nso it seems somehow i need to call onNext with a scheduler or something before invoking the flatMap right ? \r\n\r\n\r\nps.i noticed that flatMap has a biFunction mapper but i could not get it to work. ","title":"rxjava - how to switch to previous stream but also do some work on main thread once first observable is ready?","body":"<p>I have two observables that both make network calls but they depend on each other:</p>\n<pre><code>val ob1 = Observable.just(myservice.getNewsArticles())\n\nob1.flatMap{ newsArticle -&gt; myservice.getCelebrityNamesFromArticle(newsArticle.id)} \n.subscribeOn(Schedulers.io())\n.observeOn(AndroidSchedulers.mainThread())\n</code></pre>\n<p>this is what i have so far, but the issue is when ob1 completes i need to immediately update the UI while ob2(thats gets celebrity names)  is running. also at the end i need the chain to return ob1 (like a switchMap etc)....\nso it seems somehow i need to call onNext with a scheduler or something before invoking the flatMap right ?</p>\n<p>ps.i noticed that flatMap has a biFunction mapper but i could not get it to work.</p>\n"},{"tags":["java","oracle","jpa","persistence.xml","hibernate-5.x"],"answers":[{"tags":[],"owner":{"account_id":11279590,"reputation":26,"user_id":8272547,"display_name":"Filipe Macharett Alves"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1499454389,"creation_date":1499453984,"answer_id":44977943,"question_id":34274117,"body_markdown":"The properties hibernate.connection.X are the connection properties passed to JDBC. The property that you are using is also a JDBC one, so you should try to set as below. It worked for me.\r\n\r\n\r\n&gt; ## code ##\r\n&gt; \r\n&gt;&amp;lt;property name=&amp;quot;hibernate.connection.v$session.program&amp;quot; value=&amp;quot;MYPROGRAM&amp;quot; /&amp;gt;\r\n","title":"Setting vsession.program in java app using hibernate 5 and c3po connection pool","body":"<p>The properties hibernate.connection.X are the connection properties passed to JDBC. The property that you are using is also a JDBC one, so you should try to set as below. It worked for me.</p>\n\n<blockquote>\n  <h2>code</h2>\n  \n  <p>&lt;property name=&quot;hibernate.connection.v$session.program&quot; value=&quot;MYPROGRAM&quot; /&gt;</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13295192,"reputation":144,"user_id":9598447,"display_name":"Brian Akumah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673031421,"creation_date":1673031421,"answer_id":75035086,"question_id":34274117,"body_markdown":"You can also set it like this\r\nConfigure the application.yml like this:\r\n```\r\nspring:\r\n     datasource:\r\n          url: jdbc:oracle:thin:db\r\n          username: foo\r\n          password: bar\r\n          type: com.zaxxer.hikari.HikariDataSource\r\n          hikari:\r\n               jdbcUrl: ${spring.datasource.url}\r\n               minimumIdle: 3\r\n               maximumPoolSize: 15\r\n               connectionTimeout: 10000\r\n               validationTimeout: 3000\r\n               poolName: ${spring.application.name:unknown}-gen-pool\r\n               connection-init-sql: |-\r\n                    BEGIN\r\n                         DBMS_APPLICATION_INFO.SET_MODULE(&#39;module-info&#39;, &#39;action-info&#39;);\r\n                    END;\r\n          driver-class-name: oracle.jdbc.OracleDriver\r\n```\r\nThis will only work if your datasource is being autoconfigured and not manually creating the datasource bean. my datasource config looked something like this\r\n```\r\n@Configuration\r\n@EntityScan(basePackages = {&quot;com.this.way.*&quot;, &quot;com.that.way.*&quot;})\r\n@EnableJpaRepositories(\r\n        entityManagerFactoryRef = &quot;customNameEntityManagerFactory&quot;,\r\n        basePackages = {&quot;com.this.way.*&quot;, &quot;com.that.way.*&quot;}\r\n)\r\n@EnableTransactionManagement\r\npublic class DataSourceConfig {\r\n\r\n    @Primary\r\n    @Bean(name = {&quot;entityManagerFactory&quot;, &quot;customNameEntityManagerFactory&quot;})\r\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(final EntityManagerFactoryBuilder builder,\r\n                                                                       final DataSource dataSource) {\r\n        return builder.dataSource(dataSource)\r\n                .packages(&quot;com.this.way.*&quot;, &quot;com.that.way.*&quot;)\r\n                .persistenceUnit(&quot;PERSISTENCE_UNIT&quot;)\r\n                .build();\r\n\r\n    }\r\n}\r\n```","title":"Setting vsession.program in java app using hibernate 5 and c3po connection pool","body":"<p>You can also set it like this\nConfigure the application.yml like this:</p>\n<pre><code>spring:\n     datasource:\n          url: jdbc:oracle:thin:db\n          username: foo\n          password: bar\n          type: com.zaxxer.hikari.HikariDataSource\n          hikari:\n               jdbcUrl: ${spring.datasource.url}\n               minimumIdle: 3\n               maximumPoolSize: 15\n               connectionTimeout: 10000\n               validationTimeout: 3000\n               poolName: ${spring.application.name:unknown}-gen-pool\n               connection-init-sql: |-\n                    BEGIN\n                         DBMS_APPLICATION_INFO.SET_MODULE('module-info', 'action-info');\n                    END;\n          driver-class-name: oracle.jdbc.OracleDriver\n</code></pre>\n<p>This will only work if your datasource is being autoconfigured and not manually creating the datasource bean. my datasource config looked something like this</p>\n<pre><code>@Configuration\n@EntityScan(basePackages = {&quot;com.this.way.*&quot;, &quot;com.that.way.*&quot;})\n@EnableJpaRepositories(\n        entityManagerFactoryRef = &quot;customNameEntityManagerFactory&quot;,\n        basePackages = {&quot;com.this.way.*&quot;, &quot;com.that.way.*&quot;}\n)\n@EnableTransactionManagement\npublic class DataSourceConfig {\n\n    @Primary\n    @Bean(name = {&quot;entityManagerFactory&quot;, &quot;customNameEntityManagerFactory&quot;})\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(final EntityManagerFactoryBuilder builder,\n                                                                       final DataSource dataSource) {\n        return builder.dataSource(dataSource)\n                .packages(&quot;com.this.way.*&quot;, &quot;com.that.way.*&quot;)\n                .persistenceUnit(&quot;PERSISTENCE_UNIT&quot;)\n                .build();\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":308412,"reputation":97,"user_id":620268,"accept_rate":50,"display_name":"speedos82"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":954,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44977943,"answer_count":2,"score":1,"last_activity_date":1673031421,"creation_date":1450117894,"question_id":34274117,"body_markdown":"I&#39;m trying to set the session program name from my java app.\r\nI&#39;m using an entity manager passing the connection credentials from user input.\r\n\r\nI need to be able to set the program name in the oracle session when connected. Right now it only appears as &quot;JDBC Thin Client&quot;. I&#39;ve attempted setting the entity manager properties in java and tried numerous variations in my persistence.xml.\r\n\r\n**Java snippet**\r\n\r\n                props.put( hibernate.connection.url, &quot;jdbc:oracle:thin:@localhost:1521:XE&quot;);\r\n                props.put( &quot;hibernate.connection.username&quot;, username );\r\n                props.put( &quot;hibernate.connection.password&quot;, password );\r\n                props.put( &quot;v$session.program&quot;, &quot;MYPROGRAM&quot; );\r\n\r\n                emf = Persistence.createEntityManagerFactory( &quot;MYDB&quot;, props );\r\n\r\n                em = emf.createEntityManager();\r\n\r\n**Persistence.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;persistence version=&quot;1.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd&quot;&gt;\r\n    &lt;persistence-unit name=&quot;MYDB&quot;&gt;\r\n        &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\r\n        &lt;properties&gt;\r\n            &lt;!-- Hibernate properties --&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.Oracle10gDialect&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;oracle.jdbc.OracleDriver&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;false&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.cache.use_second_level_cache&quot; value=&quot;false&quot;/&gt;\r\n            &lt;!-- Connection Pool --&gt;\r\n            &lt;property name=&quot;hibernate.connection.provider_class&quot; value=&quot;org.hibernate.connection.C3P0ConnectionProvider&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.c3p0.max_size&quot; value=&quot;20&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.c3p0.min_size&quot; value=&quot;5&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.c3p0.acquire_increment&quot; value=&quot;5&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.c3p0.idle_test_period&quot; value=&quot;300&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.c3p0.max_statements&quot; value=&quot;0&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.c3p0.timeout&quot; value=&quot;100&quot; /&gt;\r\n            &lt;property name=&quot;connectionProperties&quot; value=&quot;v$session.program:MYPROGRAM&quot; /&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n\r\n\r\nI&#39;m limited in what techonologies to use, so I cannot use EclipseLink as suggested [here][1]\r\n\r\nIs there any other way to set this either in the java app or in the persistence.xml file?\r\n\r\n  [1]: https://stackoverflow.com/questions/5977930/setting-vsession-program-property-on-glassfish-jdbc-connection-pool","title":"Setting vsession.program in java app using hibernate 5 and c3po connection pool","body":"<p>I'm trying to set the session program name from my java app.\nI'm using an entity manager passing the connection credentials from user input.</p>\n\n<p>I need to be able to set the program name in the oracle session when connected. Right now it only appears as \"JDBC Thin Client\". I've attempted setting the entity manager properties in java and tried numerous variations in my persistence.xml.</p>\n\n<p><strong>Java snippet</strong></p>\n\n<pre><code>            props.put( hibernate.connection.url, \"jdbc:oracle:thin:@localhost:1521:XE\");\n            props.put( \"hibernate.connection.username\", username );\n            props.put( \"hibernate.connection.password\", password );\n            props.put( \"v$session.program\", \"MYPROGRAM\" );\n\n            emf = Persistence.createEntityManagerFactory( \"MYDB\", props );\n\n            em = emf.createEntityManager();\n</code></pre>\n\n<p><strong>Persistence.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;persistence version=\"1.0\" xmlns=\"http://java.sun.com/xml/ns/persistence\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd\"&gt;\n&lt;persistence-unit name=\"MYDB\"&gt;\n    &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\n    &lt;properties&gt;\n        &lt;!-- Hibernate properties --&gt;\n        &lt;property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.Oracle10gDialect\"/&gt;\n        &lt;property name=\"hibernate.connection.driver_class\" value=\"oracle.jdbc.OracleDriver\"/&gt;\n        &lt;property name=\"hibernate.show_sql\" value=\"false\"/&gt;\n        &lt;property name=\"hibernate.cache.use_second_level_cache\" value=\"false\"/&gt;\n        &lt;!-- Connection Pool --&gt;\n        &lt;property name=\"hibernate.connection.provider_class\" value=\"org.hibernate.connection.C3P0ConnectionProvider\" /&gt;\n        &lt;property name=\"hibernate.c3p0.max_size\" value=\"20\" /&gt;\n        &lt;property name=\"hibernate.c3p0.min_size\" value=\"5\" /&gt;\n        &lt;property name=\"hibernate.c3p0.acquire_increment\" value=\"5\" /&gt;\n        &lt;property name=\"hibernate.c3p0.idle_test_period\" value=\"300\" /&gt;\n        &lt;property name=\"hibernate.c3p0.max_statements\" value=\"0\" /&gt;\n        &lt;property name=\"hibernate.c3p0.timeout\" value=\"100\" /&gt;\n        &lt;property name=\"connectionProperties\" value=\"v$session.program:MYPROGRAM\" /&gt;\n    &lt;/properties&gt;\n&lt;/persistence-unit&gt;\n</code></pre>\n\n<p></p>\n\n<p>I'm limited in what techonologies to use, so I cannot use EclipseLink as suggested <a href=\"https://stackoverflow.com/questions/5977930/setting-vsession-program-property-on-glassfish-jdbc-connection-pool\">here</a></p>\n\n<p>Is there any other way to set this either in the java app or in the persistence.xml file?</p>\n"},{"tags":["java","date","gregorian-calendar"],"comments":[{"owner":{"account_id":121912,"reputation":3960,"user_id":315364,"display_name":"samlewis"},"score":0,"creation_date":1333874024,"post_id":10061477,"comment_id":12876722,"body_markdown":"Set hours, minutes, seconds and milliseconds to zero on your calendar. An example is here: http://stackoverflow.com/questions/6850874/how-to-create-a-java-date-object-of-midnight-today-and-midnight-tomorrow","body":"Set hours, minutes, seconds and milliseconds to zero on your calendar. An example is here: <a href=\"http://stackoverflow.com/questions/6850874/how-to-create-a-java-date-object-of-midnight-today-and-midnight-tomorrow\" title=\"how to create a java date object of midnight today and midnight tomorrow\">stackoverflow.com/questions/6850874/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":202653,"reputation":54444,"user_id":449856,"accept_rate":88,"display_name":"Codemwnci"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1333874182,"creation_date":1333874182,"answer_id":10061514,"question_id":10061477,"body_markdown":"set the hours, minutes and seconds in your calendar object to zero.\r\n\r\n    gc.set(GregorianCalendar.HOUR_OF_DAY, 0);\r\n    gc.set(GregorianCalendar.MINUTE, 0);\r\n    gc.set(GregorianCalendar.SECOND, 0);\r\n    gc.set(GregorianCalendar.MILLISECOND,0);\r\n\r\nRemember to do this AFTER you have called `gc.add`.","title":"how to get the beginning of a day using Gregorian Calendar and Date in java","body":"<p>set the hours, minutes and seconds in your calendar object to zero.</p>\n\n<pre><code>gc.set(GregorianCalendar.HOUR_OF_DAY, 0);\ngc.set(GregorianCalendar.MINUTE, 0);\ngc.set(GregorianCalendar.SECOND, 0);\ngc.set(GregorianCalendar.MILLISECOND,0);\n</code></pre>\n\n<p>Remember to do this AFTER you have called <code>gc.add</code>.</p>\n"},{"tags":[],"owner":{"account_id":1375604,"reputation":7717,"user_id":1309650,"accept_rate":33,"display_name":"dash1e"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1333874306,"creation_date":1333874306,"answer_id":10061519,"question_id":10061477,"body_markdown":"try with\r\n\r\n    gc.set(GregorianCalendar.HOUR_OF_DAY,0);\r\n    gc.set(GregorianCalendar.MINUTE,0);\r\n    gc.set(GregorianCalendar.SECOND,0);\r\n    gc.set(GregorianCalendar.MILLISECOND,0);","title":"how to get the beginning of a day using Gregorian Calendar and Date in java","body":"<p>try with</p>\n\n<pre><code>gc.set(GregorianCalendar.HOUR_OF_DAY,0);\ngc.set(GregorianCalendar.MINUTE,0);\ngc.set(GregorianCalendar.SECOND,0);\ngc.set(GregorianCalendar.MILLISECOND,0);\n</code></pre>\n"}],"owner":{"account_id":1217129,"reputation":4979,"user_id":1184481,"accept_rate":80,"display_name":"Ofer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2958,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":10061514,"answer_count":2,"score":1,"last_activity_date":1673031386,"creation_date":1333873787,"question_id":10061477,"body_markdown":"i am trying to mark date if the data created in the past 3 days. I want to take the last 3 days , from the beginning (00:00).\r\n\r\ni have this code :\r\n\r\n\t\tint days = 3 \r\n\t\tGregorianCalendar gc=new GregorianCalendar();\r\n\t\tgc.add(GregorianCalendar.DAY_OF_MONTH, -days);\r\n\t\tif (timeCreated.before(gc.getTime())) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\r\nif the current time is 16:00 clock i get the past 3 days , from 16:00 clock to now.\r\nI want to get from 00:00 3 days ago till now.","title":"how to get the beginning of a day using Gregorian Calendar and Date in java","body":"<p>i am trying to mark date if the data created in the past 3 days. I want to take the last 3 days , from the beginning (00:00).</p>\n<p>i have this code :</p>\n<pre><code>    int days = 3 \n    GregorianCalendar gc=new GregorianCalendar();\n    gc.add(GregorianCalendar.DAY_OF_MONTH, -days);\n    if (timeCreated.before(gc.getTime())) {\n        return true;\n    }\n    return false;\n</code></pre>\n<p>if the current time is 16:00 clock i get the past 3 days , from 16:00 clock to now.\nI want to get from 00:00 3 days ago till now.</p>\n"},{"tags":["java","jpa","persistence","toplink"],"comments":[{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":1,"creation_date":1376311313,"post_id":220374,"comment_id":26649864,"body_markdown":"See also [Should the JPA entity manager be closed?](http://stackoverflow.com/q/10762974/697630)","body":"See also <a href=\"http://stackoverflow.com/q/10762974/697630\">Should the JPA entity manager be closed?</a>"}],"answers":[{"tags":[],"owner":{"account_id":11055,"reputation":18190,"user_id":1163802,"accept_rate":83,"display_name":"Vladimir Dyuzhev"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1224552718,"creation_date":1224552718,"answer_id":220501,"question_id":220374,"body_markdown":"You should. \r\n\r\nFrameworks have no idea how you intend to use the EM, so they cannot close it (except, may be, on finalization, which is not guaranteed). Yes, not closing them would create a resource leak.\r\n\r\nThe idea is the same as &quot;always close java.sql.Connection&quot; (despite some data sources have settings to close them automatically by inactivity) or &quot;always close Hibernate session&quot;.\r\n\r\nBesides, if you plan to write portable code, you shouldn&#39;t rely on specific JPA provider &quot;being smart&quot; -- other may fail to close the EM in time.","title":"Do I have to close() every EntityManager?","body":"<p>You should. </p>\n\n<p>Frameworks have no idea how you intend to use the EM, so they cannot close it (except, may be, on finalization, which is not guaranteed). Yes, not closing them would create a resource leak.</p>\n\n<p>The idea is the same as \"always close java.sql.Connection\" (despite some data sources have settings to close them automatically by inactivity) or \"always close Hibernate session\".</p>\n\n<p>Besides, if you plan to write portable code, you shouldn't rely on specific JPA provider \"being smart\" -- other may fail to close the EM in time.</p>\n"},{"tags":[],"owner":{"account_id":5049,"reputation":23450,"user_id":7918,"accept_rate":99,"display_name":"jb."},"down_vote_count":0,"up_vote_count":97,"is_accepted":true,"score":97,"last_activity_date":1673031321,"creation_date":1224577390,"answer_id":221145,"question_id":220374,"body_markdown":"It depends how you obtained it. \r\n\r\nIf you created it using EntityManagerFactory you will have to close it no matter what framework you use. \r\n\r\nIf you obtained it using dependency injection (eg using EJB and [@PersistenceContext][1] annotation) you should not close it by hand (AFAIK it will cause RuntimeException). \r\n\r\n[1]: https://docs.oracle.com/javaee/7/api/javax/persistence/PersistenceContext.html","title":"Do I have to close() every EntityManager?","body":"<p>It depends how you obtained it.</p>\n<p>If you created it using EntityManagerFactory you will have to close it no matter what framework you use.</p>\n<p>If you obtained it using dependency injection (eg using EJB and <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/PersistenceContext.html\" rel=\"nofollow noreferrer\">@PersistenceContext</a> annotation) you should not close it by hand (AFAIK it will cause RuntimeException).</p>\n"},{"tags":[],"owner":{"account_id":1448892,"reputation":91,"user_id":1366477,"display_name":"Puneet"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1348469783,"creation_date":1347961320,"answer_id":12474357,"question_id":220374,"body_markdown":"I have obtained `EntityManager` using `@PersistenceContext` annotation in my repository. I can see that after the connectionpools reaches its `maxPoolSize` it does not get cleaned up. \r\n\r\nHowever if I create `EntityManager` using `EntityManagerFactory` and call `entitymanager.close()` then connections are getting cleaned up. I am using `c3p0` as connectionpool library.","title":"Do I have to close() every EntityManager?","body":"<p>I have obtained <code>EntityManager</code> using <code>@PersistenceContext</code> annotation in my repository. I can see that after the connectionpools reaches its <code>maxPoolSize</code> it does not get cleaned up. </p>\n\n<p>However if I create <code>EntityManager</code> using <code>EntityManagerFactory</code> and call <code>entitymanager.close()</code> then connections are getting cleaned up. I am using <code>c3p0</code> as connectionpool library.</p>\n"},{"tags":[],"owner":{"account_id":4601854,"reputation":71,"user_id":3732357,"display_name":"redbaron-ar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653074858,"creation_date":1653074858,"answer_id":72323947,"question_id":220374,"body_markdown":"Justo to give my 5 cents you must remember to close your EntityManagerFactory.\r\nI was just using it to create my EntityManager and it opened and kept opend a new conection pool every time.","title":"Do I have to close() every EntityManager?","body":"<p>Justo to give my 5 cents you must remember to close your EntityManagerFactory.\nI was just using it to create my EntityManager and it opened and kept opend a new conection pool every time.</p>\n"}],"owner":{"account_id":10623,"reputation":2534,"user_id":20150,"accept_rate":92,"display_name":"stevemac"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64987,"favorite_count":0,"down_vote_count":0,"up_vote_count":78,"accepted_answer_id":221145,"answer_count":4,"score":78,"last_activity_date":1673031321,"creation_date":1224547700,"question_id":220374,"body_markdown":"I have just started migrating my homegrown persistence framework to JPA.\r\n\r\nGiven that the persistence frameworks hide a lot of the plumbing, I&#39;m interested in knowing if NOT closing EntityManagers will create a resource leak, or if the frameworks will collect and close them for me.\r\n\r\nI intend in all places to close them, but do I HAVE to?\r\n\r\nAt the moment using TopLink, just because it works with NetBeans easily, but am happy to investigate other JPA providers.","title":"Do I have to close() every EntityManager?","body":"<p>I have just started migrating my homegrown persistence framework to JPA.</p>\n\n<p>Given that the persistence frameworks hide a lot of the plumbing, I'm interested in knowing if NOT closing EntityManagers will create a resource leak, or if the frameworks will collect and close them for me.</p>\n\n<p>I intend in all places to close them, but do I HAVE to?</p>\n\n<p>At the moment using TopLink, just because it works with NetBeans easily, but am happy to investigate other JPA providers.</p>\n"},{"tags":["java","spring","spring-boot","thymeleaf","image-upload"],"comments":[{"owner":{"account_id":8493479,"reputation":7117,"user_id":6381711,"display_name":"nyedidikeke"},"score":0,"creation_date":1482765059,"post_id":41333013,"comment_id":69868768,"body_markdown":"Your post looks not only too clumsy but not clear; you should consider editing it.","body":"Your post looks not only too clumsy but not clear; you should consider editing it."}],"answers":[{"tags":[],"owner":{"account_id":3569709,"reputation":3532,"user_id":2980345,"accept_rate":75,"display_name":"ndrone"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1482868870,"creation_date":1482868870,"answer_id":41351474,"question_id":41333013,"body_markdown":"The problem is the `static` directory is loaded at startup. So any changes files added after the `ApplicationContext` is finished. You probably would be interested in this post: https://stackoverflow.com/questions/24762657/refreshing-static-content-with-spring-mvc-and-boot I would look past Dave Syer&#39;s post as he is talking about the IDE only, but the answer below that by Steve should help you.","title":"Spring-boot, thymeleaf load uploaded image without application server restart","body":"<p>The problem is the <code>static</code> directory is loaded at startup. So any changes files added after the <code>ApplicationContext</code> is finished. You probably would be interested in this post: <a href=\"https://stackoverflow.com/questions/24762657/refreshing-static-content-with-spring-mvc-and-boot\">Refreshing static content with Spring MVC and Boot</a> I would look past Dave Syer's post as he is talking about the IDE only, but the answer below that by Steve should help you.</p>\n"}],"owner":{"account_id":5761051,"reputation":3,"user_id":4547473,"display_name":"Hydro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2367,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":41351474,"answer_count":1,"score":0,"last_activity_date":1673031250,"creation_date":1482764656,"question_id":41333013,"body_markdown":"My question is, what is the best practice to store images with spring boot and thymeleaf, if I want to load the image without the restart of the application. At the moment I&#39;m able to upload the image so I see it in the uploaded folder and in the database I&#39;ve stored It&#39;s name, But then when I refresh the page the Image is not loaded. I&#39;m retrieving the image standard way in thymeleaf `&lt;img th:src=&quot;@{&#39;../images/&#39;+${product.image}}&quot;`. The path is correct because after restart of the server the image is loaded.I guess there is a problem with static folder that It&#39;s included in jar and couldn&#39;t be changed. But what is the best practice to solve this kind of problem in spring boot. Thanks","title":"Spring-boot, thymeleaf load uploaded image without application server restart","body":"<p>My question is, what is the best practice to store images with spring boot and thymeleaf, if I want to load the image without the restart of the application. At the moment I'm able to upload the image so I see it in the uploaded folder and in the database I've stored It's name, But then when I refresh the page the Image is not loaded. I'm retrieving the image standard way in thymeleaf <code>&lt;img th:src=\"@{'../images/'+${product.image}}\"</code>. The path is correct because after restart of the server the image is loaded.I guess there is a problem with static folder that It's included in jar and couldn't be changed. But what is the best practice to solve this kind of problem in spring boot. Thanks</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673033207,"post_id":75035059,"comment_id":132414269,"body_markdown":"Export in VSCOde? That doesn&#39;t sound right... You need to use Maven or Gradle to build the jar not the export jar function of your IDE.","body":"Export in VSCOde? That doesn&#39;t sound right... You need to use Maven or Gradle to build the jar not the export jar function of your IDE."},{"owner":{"account_id":22246447,"reputation":17,"user_id":16480070,"display_name":"Sizor"},"score":0,"creation_date":1673040357,"post_id":75035059,"comment_id":132416134,"body_markdown":"Yeah, i thought that could be problem, so you think, that my properties are not included?","body":"Yeah, i thought that could be problem, so you think, that my properties are not included?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673080142,"post_id":75035059,"comment_id":132421000,"body_markdown":"It is the problem, not only your properties nor the jars that are needed. Spring Boot creates a special jar file and not a regular jar file (it has all the dependencies in it and some metadata) if you just export from your IDE that isn&#39;t there nor does the structure match.","body":"It is the problem, not only your properties nor the jars that are needed. Spring Boot creates a special jar file and not a regular jar file (it has all the dependencies in it and some metadata) if you just export from your IDE that isn&#39;t there nor does the structure match."}],"owner":{"account_id":22246447,"reputation":17,"user_id":16480070,"display_name":"Sizor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673031243,"creation_date":1673031243,"question_id":75035059,"body_markdown":"I have Springboot app, which can run on localhost, but when i export it in VSCode and try it run on vps, i get this error:\r\n\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception with message: Failed to determine a suitable driver class\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324)\r\n\r\nMy application.properties is:\r\n\r\n    spring.main.banner-mode=off\r\n    logging.level.org.springframework=ERROR\r\n    \r\n    spring.jpa.hibernate.ddl-auto=none\r\n    \r\n    spring.datasource.initialization-mode=always\r\n    spring.datasource.platform=postgres\r\n    spring.datasource.url=jdbc:postgresql://myurl\r\n    spring.datasource.username=myuser\r\n    spring.datasource.password=mypass\r\n    \r\n    spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\r\n    \r\n    spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\r\n    \r\n    spring.servlet.multipart.maxFileSize=10MB\r\n    spring.servlet.multipart.maxRequestSize=10MB\r\n    \r\n    #spring.servlet.multipart.location=\r\n\r\nCan anyone help, thanks!","title":"Springboot app cant lunch on vps, just on localhost","body":"<p>I have Springboot app, which can run on localhost, but when i export it in VSCode and try it run on vps, i get this error:</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324)\n</code></pre>\n<p>My application.properties is:</p>\n<pre><code>spring.main.banner-mode=off\nlogging.level.org.springframework=ERROR\n\nspring.jpa.hibernate.ddl-auto=none\n\nspring.datasource.initialization-mode=always\nspring.datasource.platform=postgres\nspring.datasource.url=jdbc:postgresql://myurl\nspring.datasource.username=myuser\nspring.datasource.password=mypass\n\nspring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\n\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\n\nspring.servlet.multipart.maxFileSize=10MB\nspring.servlet.multipart.maxRequestSize=10MB\n\n#spring.servlet.multipart.location=\n</code></pre>\n<p>Can anyone help, thanks!</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":169767,"reputation":2742,"user_id":396033,"accept_rate":89,"display_name":"Kamil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673031215,"creation_date":1521142681,"answer_id":49307903,"question_id":49307700,"body_markdown":"Errors do say a lot about the problem you have. \r\n\r\nThe first error is caused by ``protected`` access modifier on the onStart() method, while it should be ``public``. \r\nIt should be \r\n\r\n    \r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        // rest of the code\r\n    }\r\n\r\ninstead of \r\n\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        // rest of the code\r\n    }\r\n\r\nYou can find some more information about the error reason in [docs available on Oracle site][1].\r\n\r\nThe second problem is related to the definition of FirebaseRecyclerAdapter. Looks like there is no method like \r\n   \r\n    protected void populateViewHolder(FriendsViewHolder friendsViewHolder, Friends friends, int position).\r\n\r\nI&#39;d suggest checking docs/sources of this class to get info about how the override method should look for the version of Firebase you are using in your project. \r\n\r\nAlso, as I can see you are using IntelliJ IDEA or some similar IDE, so you can use [built-in feature to implement/override the correct method][2].\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.4.8.3\r\n  [2]: https://www.jetbrains.com/help/idea/overriding-methods-of-a-superclass.html","title":"onStart and Override Error in android studio","body":"<p>Errors do say a lot about the problem you have.</p>\n<p>The first error is caused by <code>protected</code> access modifier on the onStart() method, while it should be <code>public</code>.\nIt should be</p>\n<pre><code>@Override\npublic void onStart() {\n    super.onStart();\n    // rest of the code\n}\n</code></pre>\n<p>instead of</p>\n<pre><code>@Override\nprotected void onStart() {\n    super.onStart();\n    // rest of the code\n}\n</code></pre>\n<p>You can find some more information about the error reason in <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.4.8.3\" rel=\"nofollow noreferrer\">docs available on Oracle site</a>.</p>\n<p>The second problem is related to the definition of FirebaseRecyclerAdapter. Looks like there is no method like</p>\n<pre><code>protected void populateViewHolder(FriendsViewHolder friendsViewHolder, Friends friends, int position).\n</code></pre>\n<p>I'd suggest checking docs/sources of this class to get info about how the override method should look for the version of Firebase you are using in your project.</p>\n<p>Also, as I can see you are using IntelliJ IDEA or some similar IDE, so you can use <a href=\"https://www.jetbrains.com/help/idea/overriding-methods-of-a-superclass.html\" rel=\"nofollow noreferrer\">built-in feature to implement/override the correct method</a>.</p>\n"},{"tags":[],"owner":{"account_id":4394935,"reputation":5865,"user_id":3582305,"accept_rate":61,"display_name":"Kushan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521142804,"creation_date":1521142804,"answer_id":49307934,"question_id":49307700,"body_markdown":"Change your protected modifier to public and it&#39;ll go away.\n\nIn Java, the overriding method can have the same or weaker access compared to the parent method... Here the parent class declares the method as public so you have no other choice but to override it with a public access modifier as it&#39;s the weakest access possible.\n","title":"onStart and Override Error in android studio","body":"<p>Change your protected modifier to public and it'll go away.</p>\n\n<p>In Java, the overriding method can have the same or weaker access compared to the parent method... Here the parent class declares the method as public so you have no other choice but to override it with a public access modifier as it's the weakest access possible.</p>\n"}],"owner":{"display_name":"user5670198"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2488,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49307903,"answer_count":2,"score":0,"last_activity_date":1673031215,"creation_date":1521141830,"question_id":49307700,"body_markdown":"I wrote some code to get data from Firebase, but it shows some errors. I will explain the errors below and attach a picture.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/unqs6.png\r\n\r\n\r\n**First error when I put the mouse on it, message show:**\r\n&#39;onStart()&#39; in &#39;com.abdullrahman.eng.myapp.FriendsFragment&#39; clashes with &#39;onStart()&#39; in &#39;android.app.Fragment&#39;; attempting to assign weaker access privileges (&#39;protected&#39;); was &#39;public&#39;\r\n\r\n**Second error when I put the mouse on it, message show:**\r\nMethod does not override method from its superclass\r\n\r\nCan anyone solve these problems and help me?\r\n\r\nThe code:\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n\r\n        FirebaseRecyclerAdapter&lt;Friends, FriendsViewHolder&gt; firebaseRecyclerAdapter = new FirebaseRecyclerAdapter&lt;Friends, FriendsViewHolder&gt;(\r\n\r\n                Friends.class,\r\n                R.layout.users_single_layout,\r\n                FriendsViewHolder.class,\r\n                mUsersDatabase\r\n\r\n        ) {\r\n            @Override\r\n            protected void populateViewHolder(FriendsViewHolder friendsViewHolder, Friends friends, int position) {\r\n\r\n                friendsViewHolder.setDisplayName(friends.getName());\r\n                friendsViewHolder.setUserStatus(friends.getStatus());\r\n                friendsViewHolder.setUserImage(friends.getThumb_image(), mMainView.getContext());\r\n\r\n                final String user_id = getRef(position).getKey();\r\n\r\n                friendsViewHolder.mView.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n\r\n                        Intent profileIntent = new Intent(getActivity(), UserProfile.class);\r\n                        profileIntent.putExtra(&quot;user_id&quot;, user_id);\r\n                        startActivity(profileIntent);\r\n\r\n                    }\r\n                });\r\n            }\r\n        };\r\n\r\n        mUsersList.setAdapter(firebaseRecyclerAdapter);\r\n\r\n    }\r\n\r\n\r\n","title":"onStart and Override Error in android studio","body":"<p>I wrote some code to get data from Firebase, but it shows some errors. I will explain the errors below and attach a picture.</p>\n\n<p><img src=\"https://i.stack.imgur.com/unqs6.png\" alt=\"enter image description here\"></p>\n\n<p><strong>First error when I put the mouse on it, message show:</strong>\n'onStart()' in 'com.abdullrahman.eng.myapp.FriendsFragment' clashes with 'onStart()' in 'android.app.Fragment'; attempting to assign weaker access privileges ('protected'); was 'public'</p>\n\n<p><strong>Second error when I put the mouse on it, message show:</strong>\nMethod does not override method from its superclass</p>\n\n<p>Can anyone solve these problems and help me?</p>\n\n<p>The code:</p>\n\n<pre><code>@Override\nprotected void onStart() {\n    super.onStart();\n\n    FirebaseRecyclerAdapter&lt;Friends, FriendsViewHolder&gt; firebaseRecyclerAdapter = new FirebaseRecyclerAdapter&lt;Friends, FriendsViewHolder&gt;(\n\n            Friends.class,\n            R.layout.users_single_layout,\n            FriendsViewHolder.class,\n            mUsersDatabase\n\n    ) {\n        @Override\n        protected void populateViewHolder(FriendsViewHolder friendsViewHolder, Friends friends, int position) {\n\n            friendsViewHolder.setDisplayName(friends.getName());\n            friendsViewHolder.setUserStatus(friends.getStatus());\n            friendsViewHolder.setUserImage(friends.getThumb_image(), mMainView.getContext());\n\n            final String user_id = getRef(position).getKey();\n\n            friendsViewHolder.mView.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n\n                    Intent profileIntent = new Intent(getActivity(), UserProfile.class);\n                    profileIntent.putExtra(\"user_id\", user_id);\n                    startActivity(profileIntent);\n\n                }\n            });\n        }\n    };\n\n    mUsersList.setAdapter(firebaseRecyclerAdapter);\n\n}\n</code></pre>\n"},{"tags":["java","apache-flink"],"owner":{"account_id":159200,"reputation":667,"user_id":378341,"accept_rate":83,"display_name":"YCN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673031202,"creation_date":1672996872,"question_id":75029014,"body_markdown":"Flink Version: 1.13.5 &lt;br /&gt;\r\nJDK version: 11 &lt;br /&gt;\r\nJackson version: 2.13.1 &lt;br /&gt;\r\nAvro Serializer version: 6.1.1 &lt;br /&gt;\r\nKafka Clients version: 3.1.0 &lt;br /&gt;\r\nHighAvailability: Enabled &lt;br /&gt;\r\n\r\nDeployed on Kubernetes. Deleted all previous checkpoints.\r\n\r\nThe application runs fine on Flink 1.12.4 with both JDK 8 and 11. However, once I upgrade to 1.13.5 on JDK 11, I encounter this error. Not sure how to fix it. Any help is appreciated. Thank you. \r\n\r\n    switched from INITIALIZING to FAILED with failure cause: org.apache.flink.streaming.runtime.tasks.StreamTaskException: Could not deserialize inputs\r\n\tat org.apache.flink.streaming.api.graph.StreamConfig.getInputs(StreamConfig.java:274)\r\n\tat org.apache.flink.streaming.api.graph.StreamConfig.getTypeSerializerIn(StreamConfig.java:289)\r\n\tat org.apache.flink.streaming.api.graph.StreamConfig.getTypeSerializerIn1(StreamConfig.java:280)\r\n\tat org.apache.flink.streaming.runtime.tasks.OperatorChain.wrapOperatorIntoOutput(OperatorChain.java:691)\r\n\tat org.apache.flink.streaming.runtime.tasks.OperatorChain.createOperatorChain(OperatorChain.java:637)\r\n\tat org.apache.flink.streaming.runtime.tasks.OperatorChain.createOutputCollector(OperatorChain.java:569)\r\n\tat org.apache.flink.streaming.runtime.tasks.OperatorChain.createOperatorChain(OperatorChain.java:619)\r\n\tat org.apache.flink.streaming.runtime.tasks.OperatorChain.createOutputCollector(OperatorChain.java:569)\r\n\tat org.apache.flink.streaming.runtime.tasks.OperatorChain.createOperatorChain(OperatorChain.java:619)\r\n\tat org.apache.flink.streaming.runtime.tasks.OperatorChain.createOutputCollector(OperatorChain.java:569)\r\n\tat org.apache.flink.streaming.runtime.tasks.OperatorChain.createOperatorChain(OperatorChain.java:619)\r\n\tat org.apache.flink.streaming.runtime.tasks.OperatorChain.createOutputCollector(OperatorChain.java:569)\r\n\tat org.apache.flink.streaming.runtime.tasks.OperatorChain.createOperatorChain(OperatorChain.java:619)\r\n\tat org.apache.flink.streaming.runtime.tasks.OperatorChain.createOutputCollector(OperatorChain.java:569)\r\n\tat org.apache.flink.streaming.runtime.tasks.OperatorChain.createOperatorChain(OperatorChain.java:619)\r\n\tat org.apache.flink.streaming.runtime.tasks.OperatorChain.createOutputCollector(OperatorChain.java:569)\r\n\tat org.apache.flink.streaming.runtime.tasks.OperatorChain.createOperatorChain(OperatorChain.java:619)\r\n\tat org.apache.flink.streaming.runtime.tasks.OperatorChain.createOutputCollector(OperatorChain.java:569)\r\n\tat org.apache.flink.streaming.runtime.tasks.OperatorChain.createOperatorChain(OperatorChain.java:619)\r\n\tat org.apache.flink.streaming.runtime.tasks.OperatorChain.createOutputCollector(OperatorChain.java:569)\r\n\tat org.apache.flink.streaming.runtime.tasks.OperatorChain.createOperatorChain(OperatorChain.java:619)\r\n\tat org.apache.flink.streaming.runtime.tasks.OperatorChain.createOutputCollector(OperatorChain.java:569)\r\n\tat org.apache.flink.streaming.runtime.tasks.OperatorChain.&lt;init&gt;(OperatorChain.java:186)\r\n\tat org.apache.flink.streaming.runtime.tasks.StreamTask.executeRestore(StreamTask.java:551)\r\n\tat org.apache.flink.streaming.runtime.tasks.StreamTask.runWithCleanUpOnFail(StreamTask.java:650)\r\n\tat org.apache.flink.streaming.runtime.tasks.StreamTask.restore(StreamTask.java:540)\r\n\tat org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:759)\r\n\tat org.apache.flink.runtime.taskmanager.Task.run(Task.java:566)\r\n\tat java.base/java.lang.Thread.run(Unknown Source)\r\n    Caused by: java.io.InvalidClassException: org.apache.flink.streaming.api.graph.StreamConfig$NetworkInputConfig; local class incompatible: stream classdesc serialVersionUID = 3698633776553163849, local class serialVersionUID = 1038018964081769817\r\n\tat java.base/java.io.ObjectStreamClass.initNonProxy(Unknown Source)\r\n\tat java.base/java.io.ObjectInputStream.readNonProxyDesc(Unknown Source)\r\n\tat java.base/java.io.ObjectInputStream.readClassDesc(Unknown Source)\r\n\tat java.base/java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)\r\n\tat java.base/java.io.ObjectInputStream.readObject0(Unknown Source)\r\n\tat java.base/java.io.ObjectInputStream.readArray(Unknown Source)\r\n\tat java.base/java.io.ObjectInputStream.readObject0(Unknown Source)\r\n\tat java.base/java.io.ObjectInputStream.readObject(Unknown Source)\r\n\tat java.base/java.io.ObjectInputStream.readObject(Unknown Source)\r\n\tat org.apache.flink.util.InstantiationUtil.deserializeObject(InstantiationUtil.java:615)\r\n\tat org.apache.flink.util.InstantiationUtil.deserializeObject(InstantiationUtil.java:600)\r\n\tat org.apache.flink.util.InstantiationUtil.deserializeObject(InstantiationUtil.java:587)\r\n\tat org.apache.flink.util.InstantiationUtil.readObjectFromConfig(InstantiationUtil.java:541)\r\n\tat org.apache.flink.streaming.api.graph.StreamConfig.getInputs(StreamConfig.java:268)\r\n\t... 28 more\r\n\r\n\r\n","title":"Apache Flink 1.13.5 and JDK11 : Could not deserialize inputs error","body":"<p>Flink Version: 1.13.5 <br />\nJDK version: 11 <br />\nJackson version: 2.13.1 <br />\nAvro Serializer version: 6.1.1 <br />\nKafka Clients version: 3.1.0 <br />\nHighAvailability: Enabled <br /></p>\n<p>Deployed on Kubernetes. Deleted all previous checkpoints.</p>\n<p>The application runs fine on Flink 1.12.4 with both JDK 8 and 11. However, once I upgrade to 1.13.5 on JDK 11, I encounter this error. Not sure how to fix it. Any help is appreciated. Thank you.</p>\n<pre><code>switched from INITIALIZING to FAILED with failure cause: org.apache.flink.streaming.runtime.tasks.StreamTaskException: Could not deserialize inputs\nat org.apache.flink.streaming.api.graph.StreamConfig.getInputs(StreamConfig.java:274)\nat org.apache.flink.streaming.api.graph.StreamConfig.getTypeSerializerIn(StreamConfig.java:289)\nat org.apache.flink.streaming.api.graph.StreamConfig.getTypeSerializerIn1(StreamConfig.java:280)\nat org.apache.flink.streaming.runtime.tasks.OperatorChain.wrapOperatorIntoOutput(OperatorChain.java:691)\nat org.apache.flink.streaming.runtime.tasks.OperatorChain.createOperatorChain(OperatorChain.java:637)\nat org.apache.flink.streaming.runtime.tasks.OperatorChain.createOutputCollector(OperatorChain.java:569)\nat org.apache.flink.streaming.runtime.tasks.OperatorChain.createOperatorChain(OperatorChain.java:619)\nat org.apache.flink.streaming.runtime.tasks.OperatorChain.createOutputCollector(OperatorChain.java:569)\nat org.apache.flink.streaming.runtime.tasks.OperatorChain.createOperatorChain(OperatorChain.java:619)\nat org.apache.flink.streaming.runtime.tasks.OperatorChain.createOutputCollector(OperatorChain.java:569)\nat org.apache.flink.streaming.runtime.tasks.OperatorChain.createOperatorChain(OperatorChain.java:619)\nat org.apache.flink.streaming.runtime.tasks.OperatorChain.createOutputCollector(OperatorChain.java:569)\nat org.apache.flink.streaming.runtime.tasks.OperatorChain.createOperatorChain(OperatorChain.java:619)\nat org.apache.flink.streaming.runtime.tasks.OperatorChain.createOutputCollector(OperatorChain.java:569)\nat org.apache.flink.streaming.runtime.tasks.OperatorChain.createOperatorChain(OperatorChain.java:619)\nat org.apache.flink.streaming.runtime.tasks.OperatorChain.createOutputCollector(OperatorChain.java:569)\nat org.apache.flink.streaming.runtime.tasks.OperatorChain.createOperatorChain(OperatorChain.java:619)\nat org.apache.flink.streaming.runtime.tasks.OperatorChain.createOutputCollector(OperatorChain.java:569)\nat org.apache.flink.streaming.runtime.tasks.OperatorChain.createOperatorChain(OperatorChain.java:619)\nat org.apache.flink.streaming.runtime.tasks.OperatorChain.createOutputCollector(OperatorChain.java:569)\nat org.apache.flink.streaming.runtime.tasks.OperatorChain.createOperatorChain(OperatorChain.java:619)\nat org.apache.flink.streaming.runtime.tasks.OperatorChain.createOutputCollector(OperatorChain.java:569)\nat org.apache.flink.streaming.runtime.tasks.OperatorChain.&lt;init&gt;(OperatorChain.java:186)\nat org.apache.flink.streaming.runtime.tasks.StreamTask.executeRestore(StreamTask.java:551)\nat org.apache.flink.streaming.runtime.tasks.StreamTask.runWithCleanUpOnFail(StreamTask.java:650)\nat org.apache.flink.streaming.runtime.tasks.StreamTask.restore(StreamTask.java:540)\nat org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:759)\nat org.apache.flink.runtime.taskmanager.Task.run(Task.java:566)\nat java.base/java.lang.Thread.run(Unknown Source)\nCaused by: java.io.InvalidClassException: org.apache.flink.streaming.api.graph.StreamConfig$NetworkInputConfig; local class incompatible: stream classdesc serialVersionUID = 3698633776553163849, local class serialVersionUID = 1038018964081769817\nat java.base/java.io.ObjectStreamClass.initNonProxy(Unknown Source)\nat java.base/java.io.ObjectInputStream.readNonProxyDesc(Unknown Source)\nat java.base/java.io.ObjectInputStream.readClassDesc(Unknown Source)\nat java.base/java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)\nat java.base/java.io.ObjectInputStream.readObject0(Unknown Source)\nat java.base/java.io.ObjectInputStream.readArray(Unknown Source)\nat java.base/java.io.ObjectInputStream.readObject0(Unknown Source)\nat java.base/java.io.ObjectInputStream.readObject(Unknown Source)\nat java.base/java.io.ObjectInputStream.readObject(Unknown Source)\nat org.apache.flink.util.InstantiationUtil.deserializeObject(InstantiationUtil.java:615)\nat org.apache.flink.util.InstantiationUtil.deserializeObject(InstantiationUtil.java:600)\nat org.apache.flink.util.InstantiationUtil.deserializeObject(InstantiationUtil.java:587)\nat org.apache.flink.util.InstantiationUtil.readObjectFromConfig(InstantiationUtil.java:541)\nat org.apache.flink.streaming.api.graph.StreamConfig.getInputs(StreamConfig.java:268)\n... 28 more\n</code></pre>\n"},{"tags":["java","jpa","querydsl"],"answers":[{"tags":[],"owner":{"account_id":19987292,"reputation":424,"user_id":14649181,"display_name":"Oskar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673031097,"creation_date":1672954957,"answer_id":75024664,"question_id":75023441,"body_markdown":"You can simply use coalesce that is supported by QueryDSL and will work same as `ISNULL`\r\n\r\nFor example:\r\n```java\r\nnew Coalesce&lt;&gt;(Date.class)\r\n   .add(qEntity.firstOptional)\r\n   .add(qEntity.secondOptional)\r\n```","title":"QueryDSL implementation of SQL&#39;s ISNULL function","body":"<p>You can simply use coalesce that is supported by QueryDSL and will work same as <code>ISNULL</code></p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new Coalesce&lt;&gt;(Date.class)\n   .add(qEntity.firstOptional)\n   .add(qEntity.secondOptional)\n</code></pre>\n"}],"owner":{"account_id":4196154,"reputation":815,"user_id":4339010,"display_name":"DFW"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75024664,"answer_count":1,"score":0,"last_activity_date":1673031097,"creation_date":1672946772,"question_id":75023441,"body_markdown":"Is there a way to write the SQL function `ISNULL` in a JPAQuery using QueryDSL when it&#39;s part of the selected data? For example, I have the native SQL query:\r\n\r\n    SELECT ISNULL(date1, date2) AS date_field FROM TABLE..\r\n\r\nCurrently, the only option I see is to return both date1 and date2 in my JPAQuery, and then do my own check in Java code to know which one to access. But it would be nice to have to return multiple fields when I don&#39;t need to.\r\n\r\nI think it would look like this:\r\n\r\n    return new JPAQuery&lt;ResponseObject&gt;(entityManager)\r\n         .select(Projections.bean(ResponseObject.class, \r\n                 table.date1,\r\n                 table.date2))\r\n         .from(table)\r\n         .fetch();\r\nSorry if I&#39;ve confused some areas of JPA with QueryDSL or vice versa.","title":"QueryDSL implementation of SQL&#39;s ISNULL function","body":"<p>Is there a way to write the SQL function <code>ISNULL</code> in a JPAQuery using QueryDSL when it's part of the selected data? For example, I have the native SQL query:</p>\n<pre><code>SELECT ISNULL(date1, date2) AS date_field FROM TABLE..\n</code></pre>\n<p>Currently, the only option I see is to return both date1 and date2 in my JPAQuery, and then do my own check in Java code to know which one to access. But it would be nice to have to return multiple fields when I don't need to.</p>\n<p>I think it would look like this:</p>\n<pre><code>return new JPAQuery&lt;ResponseObject&gt;(entityManager)\n     .select(Projections.bean(ResponseObject.class, \n             table.date1,\n             table.date2))\n     .from(table)\n     .fetch();\n</code></pre>\n<p>Sorry if I've confused some areas of JPA with QueryDSL or vice versa.</p>\n"},{"tags":["java","spring-boot","vaadin","hilla"],"comments":[{"owner":{"account_id":7510409,"reputation":1883,"user_id":5705554,"display_name":"Marcus Hellberg"},"score":1,"creation_date":1667844691,"post_id":74350806,"comment_id":131260036,"body_markdown":"Try re-running the app, it sounds like something in the frontend compilation hasn&#39;t worked the way it should","body":"Try re-running the app, it sounds like something in the frontend compilation hasn&#39;t worked the way it should"}],"owner":{"account_id":3135571,"reputation":23,"user_id":2652139,"display_name":"anoop"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673030932,"creation_date":1667843304,"question_id":74350806,"body_markdown":"I was trying to create a vaadin hilla application, trying to save a person&#39;s details. Created endpoint and the person object as well, but in generated files, the error is showing as below.\r\n\r\n&gt;[TypeScript]&#160;Property &#39;call&#39; does not exist on type &#39;PersonDetails&#39;.\r\n\r\nThe application is running, pages also came up but with error.\r\n\r\n```\r\n@Endpoint\r\n@AnonymousAllowed\r\npublic class PersonEndpoint {\r\n\r\n\tprivate InterPersonService personService;\r\n\r\n\t@Autowired\r\n\tpublic PersonEndpoint(InterPersonService personService) {\r\n\t\tthis.personService = personService;\r\n\t}\r\n\r\n\t@Nonnull\r\n\tpublic String savePerson(PersonDetails person) {\r\n\t\treturn this.personService.savePerson(person);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nVaadin hilla application to save a person&#39;s details. Expected to set the value from the textbox to the generated object and the data will be available in the endpoint save method.","title":"Vaadin hilla property call does not exist","body":"<p>I was trying to create a vaadin hilla application, trying to save a person's details. Created endpoint and the person object as well, but in generated files, the error is showing as below.</p>\n<blockquote>\n<p>[TypeScript]Property 'call' does not exist on type 'PersonDetails'.</p>\n</blockquote>\n<p>The application is running, pages also came up but with error.</p>\n<pre><code>@Endpoint\n@AnonymousAllowed\npublic class PersonEndpoint {\n\n    private InterPersonService personService;\n\n    @Autowired\n    public PersonEndpoint(InterPersonService personService) {\n        this.personService = personService;\n    }\n\n    @Nonnull\n    public String savePerson(PersonDetails person) {\n        return this.personService.savePerson(person);\n    }\n\n}\n</code></pre>\n<p>Vaadin hilla application to save a person's details. Expected to set the value from the textbox to the generated object and the data will be available in the endpoint save method.</p>\n"},{"tags":["java","stream","java-stream","collectors"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1673006916,"post_id":75030687,"comment_id":132405993,"body_markdown":"It would be easier to help you if you&#39;d provide a [mcve], ideally including any progress you&#39;ve already made. Concrete examples (with sample data and expected outputs) are *much* easier to work with than somewhat vague descriptions.","body":"It would be easier to help you if you&#39;d provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, ideally including any progress you&#39;ve already made. Concrete examples (with sample data and expected outputs) are <i>much</i> easier to work with than somewhat vague descriptions."},{"owner":{"account_id":16760288,"reputation":41,"user_id":12115215,"display_name":"Bedirhan G&#246;kce"},"score":0,"creation_date":1673007295,"post_id":75030687,"comment_id":132406083,"body_markdown":"@JonSkeet Thanks for advice. In that case, I have to provide 4 classes and tons of functions. I just want to learn how could it be possible to get sum of 2 functions and divide them in single line.","body":"@JonSkeet Thanks for advice. In that case, I have to provide 4 classes and tons of functions. I just want to learn how could it be possible to get sum of 2 functions and divide them in single line."},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":1,"creation_date":1673007376,"post_id":75030687,"comment_id":132406107,"body_markdown":"No you don&#39;t. You just have to provide info on the model of TrainConnection class and with an example.","body":"No you don&#39;t. You just have to provide info on the model of TrainConnection class and with an example."},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1673007635,"post_id":75030687,"comment_id":132406165,"body_markdown":"It is not clear if you want to first sum the values the function returns and then finally divide or divide the return value of the two functions and sum them. I think it is the former one","body":"It is not clear if you want to first sum the values the function returns and then finally divide or divide the return value of the two functions and sum them. I think it is the former one"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1673007874,"post_id":75030687,"comment_id":132406225,"body_markdown":"&quot;In that case, I have to provide 4 classes and tons of functions.&quot; Is it really impossible to demonstrate what you want without all those classes and functions? We don&#39;t need to see your *actual* code - we need to see a minimal representative example which is *just* enough to demonstrate what you&#39;re trying to do.","body":"&quot;In that case, I have to provide 4 classes and tons of functions.&quot; Is it really impossible to demonstrate what you want without all those classes and functions? We don&#39;t need to see your <i>actual</i> code - we need to see a minimal representative example which is <i>just</i> enough to demonstrate what you&#39;re trying to do."},{"owner":{"account_id":16760288,"reputation":41,"user_id":12115215,"display_name":"Bedirhan G&#246;kce"},"score":0,"creation_date":1673008974,"post_id":75030687,"comment_id":132406531,"body_markdown":"Sorry my mistake. I provide a sample class and sample data for my problem. I hope it is clear now.","body":"Sorry my mistake. I provide a sample class and sample data for my problem. I hope it is clear now."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1673025276,"post_id":75030687,"comment_id":132411961,"body_markdown":"FYI, in case you didn&#39;t know the record keyword automatically creates both a getter and a field of the same names as the arguments.  In your case, `a`, `a()`, `b`, `b()`, `type`,and `type()` would be created, along with your explicit getters of `getA()` and `getB()`.","body":"FYI, in case you didn&#39;t know the record keyword automatically creates both a getter and a field of the same names as the arguments.  In your case, <code>a</code>, <code>a()</code>, <code>b</code>, <code>b()</code>, <code>type</code>,and <code>type()</code> would be created, along with your explicit getters of <code>getA()</code> and <code>getB()</code>."}],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673030641,"creation_date":1673009825,"answer_id":75031225,"question_id":75030687,"body_markdown":"## 1. Using Collectors.teeing\r\nIf you are using Java 12+ you can use `Collectors.teeing` to solve this.\r\n\r\nWe pass two *Collectors* to `Collectors.teeing`; the first one sums the return values of function `a()` and the second for function `b()`. In the `merger` function of teeing, we divide the summed values.\r\n\r\n```\r\npublic static Map&lt;String, Double&gt; myFunction(Stream&lt;TestRecord&gt; testRecordStream) {\r\n    return testRecordStream\r\n            .collect(Collectors.groupingBy(TestRecord::type,\r\n                    Collectors.teeing(\r\n                            Collectors.summingDouble(TestRecord::a),\r\n                            Collectors.summingDouble(TestRecord::b),\r\n                            (a, b) -&gt; a / b)\r\n            ));\r\n}\r\n```\r\n\r\n## 2 Using Collectors.reducing + Collectors.collectingAndThen\r\nIn case, you are using Java version &lt; 12, then you can use *reduction* mechanism to reduce (here it is sum) the values for a given type. But this would require a simple auxiliary class.\r\n\r\n```\r\nprivate class Pair {\r\n    private final int l;\r\n    private final int r;\r\n    //Constructors, getters skipped\r\n}\r\n\r\n```\r\n\r\n\r\nThe *reducing* Collector is used from within a *collectingAndThen* Collector.  \r\n* The first argument of the reducing collector is the *identity value* (`new Pair(0, 0)`).\r\n* The second argument maps an instance of `TestRecord` to a `Pair`.\r\n* The final argument merges two Pair instances by summing the left and right value (which is `l` and `r` here).\r\n\r\nFinally, after reducing, we would have a single `Pair` instance whose `l` is equal to the sum of all `a()` function values and `r` is the sum of all `b()` function values (for a given `type`). We divide these two in the *finisher* of the `collectingAndThen` Collector.\r\n\r\n```\r\npublic static Map&lt;String, Double&gt; myFunction(Stream&lt;TestRecord&gt; testRecordStream) {\r\n    return testRecordStream\r\n            .collect(Collectors.groupingBy(TestRecord::type,\r\n                    Collectors.collectingAndThen(\r\n                            Collectors.reducing(new Pair(0, 0),\r\n                                    testRecord -&gt; new Pair(testRecord.a(), testRecord.b()),\r\n                                    (p1, p2) -&gt; new Pair(p1.l + p2.l, p1.r + p2.r)),\r\n                            pair -&gt; (double) pair.l / pair.r\r\n                    )));\r\n}\r\n```","title":"Division in Java Streams","body":"<h2>1. Using Collectors.teeing</h2>\n<p>If you are using Java 12+ you can use <code>Collectors.teeing</code> to solve this.</p>\n<p>We pass two <em>Collectors</em> to <code>Collectors.teeing</code>; the first one sums the return values of function <code>a()</code> and the second for function <code>b()</code>. In the <code>merger</code> function of teeing, we divide the summed values.</p>\n<pre><code>public static Map&lt;String, Double&gt; myFunction(Stream&lt;TestRecord&gt; testRecordStream) {\n    return testRecordStream\n            .collect(Collectors.groupingBy(TestRecord::type,\n                    Collectors.teeing(\n                            Collectors.summingDouble(TestRecord::a),\n                            Collectors.summingDouble(TestRecord::b),\n                            (a, b) -&gt; a / b)\n            ));\n}\n</code></pre>\n<h2>2 Using Collectors.reducing + Collectors.collectingAndThen</h2>\n<p>In case, you are using Java version &lt; 12, then you can use <em>reduction</em> mechanism to reduce (here it is sum) the values for a given type. But this would require a simple auxiliary class.</p>\n<pre><code>private class Pair {\n    private final int l;\n    private final int r;\n    //Constructors, getters skipped\n}\n\n</code></pre>\n<p>The <em>reducing</em> Collector is used from within a <em>collectingAndThen</em> Collector.</p>\n<ul>\n<li>The first argument of the reducing collector is the <em>identity value</em> (<code>new Pair(0, 0)</code>).</li>\n<li>The second argument maps an instance of <code>TestRecord</code> to a <code>Pair</code>.</li>\n<li>The final argument merges two Pair instances by summing the left and right value (which is <code>l</code> and <code>r</code> here).</li>\n</ul>\n<p>Finally, after reducing, we would have a single <code>Pair</code> instance whose <code>l</code> is equal to the sum of all <code>a()</code> function values and <code>r</code> is the sum of all <code>b()</code> function values (for a given <code>type</code>). We divide these two in the <em>finisher</em> of the <code>collectingAndThen</code> Collector.</p>\n<pre><code>public static Map&lt;String, Double&gt; myFunction(Stream&lt;TestRecord&gt; testRecordStream) {\n    return testRecordStream\n            .collect(Collectors.groupingBy(TestRecord::type,\n                    Collectors.collectingAndThen(\n                            Collectors.reducing(new Pair(0, 0),\n                                    testRecord -&gt; new Pair(testRecord.a(), testRecord.b()),\n                                    (p1, p2) -&gt; new Pair(p1.l + p2.l, p1.r + p2.r)),\n                            pair -&gt; (double) pair.l / pair.r\n                    )));\n}\n</code></pre>\n"}],"owner":{"account_id":16760288,"reputation":41,"user_id":12115215,"display_name":"Bedirhan G&#246;kce"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75031225,"answer_count":1,"score":0,"last_activity_date":1673030641,"creation_date":1673006560,"question_id":75030687,"body_markdown":"I have stream of objects. I want to group them and calculate the division of sum of values I get from object functions.\r\n\r\n```java\r\nimport java.util.Map;\r\nimport java.util.stream.Stream;\r\n\r\nrecord TestRecord(String type, int a, int b) {\r\n    public int getA() { return a; }\r\n    public int getB() { return b; }\r\n}\r\n    \r\npublic class Test {    \r\n    public static void main(String[] args) {\r\n        Stream&lt;TestRecord&gt; testRecords = Stream.of(\r\n            new TestRecord(&quot;TYPE1&quot;, 1, 2),\r\n            new TestRecord(&quot;TYPE1&quot;, 3, 4),\r\n            new TestRecord(&quot;TYPE2&quot;, 5, 6),\r\n            new TestRecord(&quot;TYPE2&quot;, 7, 8),\r\n            new TestRecord(&quot;TYPE2&quot;, 9, 10)\r\n        );\r\n    }\r\n    \r\n    //It should return {TYPE1= (4/6), TYPE2 = (21 / 24)}\r\n    //TYPE1= (1+3 / 2+4), TYPE2 = ((5+7+9) / (6+8+10))\r\n    public static Map&lt;String, Double&gt; myFunction(Stream&lt;TestRecord&gt; testRecordStream) {\r\n        //TODO\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nI want to return map like {TYPE1= (0.66), TYPE2 = (0.875)}, in above example. I cannot use for loops or forEach function in stream.\r\n\r\n\r\n\r\n\r\n","title":"Division in Java Streams","body":"<p>I have stream of objects. I want to group them and calculate the division of sum of values I get from object functions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Map;\nimport java.util.stream.Stream;\n\nrecord TestRecord(String type, int a, int b) {\n    public int getA() { return a; }\n    public int getB() { return b; }\n}\n    \npublic class Test {    \n    public static void main(String[] args) {\n        Stream&lt;TestRecord&gt; testRecords = Stream.of(\n            new TestRecord(&quot;TYPE1&quot;, 1, 2),\n            new TestRecord(&quot;TYPE1&quot;, 3, 4),\n            new TestRecord(&quot;TYPE2&quot;, 5, 6),\n            new TestRecord(&quot;TYPE2&quot;, 7, 8),\n            new TestRecord(&quot;TYPE2&quot;, 9, 10)\n        );\n    }\n    \n    //It should return {TYPE1= (4/6), TYPE2 = (21 / 24)}\n    //TYPE1= (1+3 / 2+4), TYPE2 = ((5+7+9) / (6+8+10))\n    public static Map&lt;String, Double&gt; myFunction(Stream&lt;TestRecord&gt; testRecordStream) {\n        //TODO\n        return null;\n    }\n}\n</code></pre>\n<p>I want to return map like {TYPE1= (0.66), TYPE2 = (0.875)}, in above example. I cannot use for loops or forEach function in stream.</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":14608678,"reputation":3385,"user_id":10550738,"display_name":"H.&#199;.T"},"score":0,"creation_date":1584103998,"post_id":60669598,"comment_id":107341042,"body_markdown":"Why do you think it is not a good solution?","body":"Why do you think it is not a good solution?"},{"owner":{"account_id":3029291,"reputation":1704,"user_id":2568649,"display_name":"Chris"},"score":0,"creation_date":1584170392,"post_id":60669598,"comment_id":107359493,"body_markdown":"It is a good solution as far as I can see, and in your Spring Listener you can then use overloaded methods for the different types which keeps your code nice and clean","body":"It is a good solution as far as I can see, and in your Spring Listener you can then use overloaded methods for the different types which keeps your code nice and clean"},{"owner":{"account_id":15741600,"reputation":37,"user_id":11358850,"display_name":"Sanjeet Mehta"},"score":0,"creation_date":1584362275,"post_id":60669598,"comment_id":107405502,"body_markdown":"I was just hoping that there might be some Spring way to cleanly handle it.","body":"I was just hoping that there might be some Spring way to cleanly handle it."}],"answers":[{"tags":[],"owner":{"account_id":16723554,"reputation":36,"user_id":12322967,"display_name":"Mahesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584101151,"creation_date":1584101151,"answer_id":60670189,"question_id":60669598,"body_markdown":"You can add header to kafka message while sending the msg &amp; based on header value you can cast it to desired Object while receiving it..","title":"Is there a way in Java Spring boot where I can use a single kafka queue for different Java object?","body":"<p>You can add header to kafka message while sending the msg &amp; based on header value you can cast it to desired Object while receiving it..</p>\n"},{"tags":[],"owner":{"account_id":4487116,"reputation":429,"user_id":3649352,"accept_rate":67,"display_name":"Kunal Varpe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673030277,"creation_date":1673030277,"answer_id":75034910,"question_id":60669598,"body_markdown":"You might be use a custom `BatchToRecordAdapter` to call the record level listener, and set some flag in the message from batch to signal that it is the last\r\n\r\nSee [this](https://docs.spring.io/spring-kafka/docs/current/reference/html/#transactions-batch)","title":"Is there a way in Java Spring boot where I can use a single kafka queue for different Java object?","body":"<p>You might be use a custom <code>BatchToRecordAdapter</code> to call the record level listener, and set some flag in the message from batch to signal that it is the last</p>\n<p>See <a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#transactions-batch\" rel=\"nofollow noreferrer\">this</a></p>\n"}],"owner":{"account_id":15741600,"reputation":37,"user_id":11358850,"display_name":"Sanjeet Mehta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673030277,"creation_date":1584098653,"question_id":60669598,"body_markdown":"I want to use a single kafka queue for different Java objects. How can I achieve that?\r\n\r\nPS: One of the way is to convert the JavaObject to JSON string and on receiving end convert it to desired object and if this conversion operation fails we can handle it gracefully. But I think its not a good solution.","title":"Is there a way in Java Spring boot where I can use a single kafka queue for different Java object?","body":"<p>I want to use a single kafka queue for different Java objects. How can I achieve that?</p>\n\n<p>PS: One of the way is to convert the JavaObject to JSON string and on receiving end convert it to desired object and if this conversion operation fails we can handle it gracefully. But I think its not a good solution.</p>\n"},{"tags":["java","android","hex","bluetooth-lowenergy","esp32"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673021942,"post_id":75031910,"comment_id":132410880,"body_markdown":"Your formatting is off. But actually your code doesn&#39;t really tell us anything as the actual implementation of your file to byte array code is not shown","body":"Your formatting is off. But actually your code doesn&#39;t really tell us anything as the actual implementation of your file to byte array code is not shown"}],"owner":{"account_id":1159880,"reputation":196,"user_id":1139624,"accept_rate":73,"display_name":"Spriggsy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673030272,"creation_date":1673013568,"question_id":75031910,"body_markdown":"edited for code formatting \r\n\r\nI&#39;m trying to implement a Ble OTA system with a Esp32\r\n\r\nI need to read a binary file into a Hex array and pass this over Ble to my Esp32 characteristic\r\nThe Esp32 works fine, and accepts an update from a simple Python3 script\r\n\r\nthe basics are below\r\n`\r\n        # compute the packet size\r\n        packet_size = (512)\r\n  \r\n        # split the firmware into packets\r\n        with open(file_path, &quot;rb&quot;) as file:\r\n            while chunk := file.read(packet_size):\r\n                firmware.append(chunk)\r\n \r\n        # sequentially write all packets to OTA data\r\n        for i, pkg in enumerate(firmware):\r\n            print(f&quot;Sending packet {i}/{len(firmware)-1}&quot;)\r\n  \r\n            await client.write_gatt_char(\r\n                OTA_DATA_UUID,\r\n                pkg,\r\n                response=True\r\n            )`\r\n\r\n\r\nTrying the same in Android java produces an array of unsigned ints, this does not seem to be compatible with the type of bytes that the Esp32 is expecting\r\n\r\nheres a cut down example of what im trying\r\n\r\n         String path = \r\n        ContentUriUtils.INSTANCE.getFilePath(firmwareSelectActivity.this, \r\n        chosenFile);\r\n     \r\n        File file = new File(path); \r\n        byte[] fileByteArray =  readFile(file);\r\n    \r\n        byte[][] test =   splitArray(fileByteArray,512);\r\n    \r\n        for(int i = 0;i &lt;  test.length;i++)\r\n    { mBluetoothLeService.addBleOtaWriteByteCommandToQueue(BluetoothLeService \r\n       .getOtaTXcharacteristic(),  test[i]);\r\n            }\r\n        \r\n\r\nThe ESP32 OTA library is expecting the first byte to be 0xE9 to start the upgrade process. But I seem to be sending 0x13","title":"Android Java readFile to hex byte array","body":"<p>edited for code formatting</p>\n<p>I'm trying to implement a Ble OTA system with a Esp32</p>\n<p>I need to read a binary file into a Hex array and pass this over Ble to my Esp32 characteristic\nThe Esp32 works fine, and accepts an update from a simple Python3 script</p>\n<p>the basics are below\n`\n# compute the packet size\npacket_size = (512)</p>\n<pre><code>    # split the firmware into packets\n    with open(file_path, &quot;rb&quot;) as file:\n        while chunk := file.read(packet_size):\n            firmware.append(chunk)\n\n    # sequentially write all packets to OTA data\n    for i, pkg in enumerate(firmware):\n        print(f&quot;Sending packet {i}/{len(firmware)-1}&quot;)\n\n        await client.write_gatt_char(\n            OTA_DATA_UUID,\n            pkg,\n            response=True\n        )`\n</code></pre>\n<p>Trying the same in Android java produces an array of unsigned ints, this does not seem to be compatible with the type of bytes that the Esp32 is expecting</p>\n<p>heres a cut down example of what im trying</p>\n<pre><code>     String path = \n    ContentUriUtils.INSTANCE.getFilePath(firmwareSelectActivity.this, \n    chosenFile);\n \n    File file = new File(path); \n    byte[] fileByteArray =  readFile(file);\n\n    byte[][] test =   splitArray(fileByteArray,512);\n\n    for(int i = 0;i &lt;  test.length;i++)\n{ mBluetoothLeService.addBleOtaWriteByteCommandToQueue(BluetoothLeService \n   .getOtaTXcharacteristic(),  test[i]);\n        }\n    \n</code></pre>\n<p>The ESP32 OTA library is expecting the first byte to be 0xE9 to start the upgrade process. But I seem to be sending 0x13</p>\n"},{"tags":["java","selenium","window","alert"],"comments":[{"owner":{"account_id":7876987,"reputation":121,"user_id":5952448,"accept_rate":91,"display_name":"todivefor"},"score":0,"creation_date":1673112671,"post_id":75034885,"comment_id":132426872,"body_markdown":"@AbiSaran Unfortunately, no.","body":"@AbiSaran Unfortunately, no."},{"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"score":0,"creation_date":1673149977,"post_id":75034885,"comment_id":132432297,"body_markdown":"&#39;driver.switchTo().alert();&#39; statement should switch the focus to alert window, in your case it is not, so this is not the normal scenario. So without checking the website, we cannot debug, can&#39;t suggest you a solution.","body":"&#39;driver.switchTo().alert();&#39; statement should switch the focus to alert window, in your case it is not, so this is not the normal scenario. So without checking the website, we cannot debug, can&#39;t suggest you a solution."}],"owner":{"account_id":7876987,"reputation":121,"user_id":5952448,"accept_rate":91,"display_name":"todivefor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673030111,"creation_date":1673030111,"question_id":75034885,"body_markdown":"I am using selenium, java app to navigate a web page. I get to a point where if I hover over an area, I see a + magnifying glass. When I click here, it brings up a new window. This window contains the information I am after. On MacOS, this window only contains the information and a close X in upper right corner see attached. \r\n\r\nIve tried  to treat this window as an alert (ie driver.switchTo().alert(); and get Exception in thread &quot;main&quot; org.openqa.selenium.NoAlertPresentException: no such alert.  \r\n\r\nIve tried treating as a window (ie  boolean isChildWindowOpen = wait.until(ExpectedConditions.\r\nNumberOfWindowsToBe(2)); and get Exception in thread &quot;main&quot; org.openqa.selenium.TimeoutException: Expected condition failed: waiting for number of open windows to be 2 (tried for 10 second(s) with 500 milliseconds interval). I only get 1 window.\r\n\r\nThe HTML code I am clicking on is &lt;td&gt; == $0. Im guessing this is related to JS doing something?\r\n\r\nAttached is the parent window with the child overlayed and inspect data for the parent window.\r\n\r\n[![Parent/child with parent inspect][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xOAuL.jpg","title":"Selenium, cant access child window / alert /?","body":"<p>I am using selenium, java app to navigate a web page. I get to a point where if I hover over an area, I see a + magnifying glass. When I click here, it brings up a new window. This window contains the information I am after. On MacOS, this window only contains the information and a close X in upper right corner see attached.</p>\n<p>Ive tried  to treat this window as an alert (ie driver.switchTo().alert(); and get Exception in thread &quot;main&quot; org.openqa.selenium.NoAlertPresentException: no such alert.</p>\n<p>Ive tried treating as a window (ie  boolean isChildWindowOpen = wait.until(ExpectedConditions.\nNumberOfWindowsToBe(2)); and get Exception in thread &quot;main&quot; org.openqa.selenium.TimeoutException: Expected condition failed: waiting for number of open windows to be 2 (tried for 10 second(s) with 500 milliseconds interval). I only get 1 window.</p>\n<p>The HTML code I am clicking on is  == $0. Im guessing this is related to JS doing something?</p>\n<p>Attached is the parent window with the child overlayed and inspect data for the parent window.</p>\n<p><a href=\"https://i.stack.imgur.com/xOAuL.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xOAuL.jpg\" alt=\"Parent/child with parent inspect\" /></a></p>\n"},{"tags":["java","android-studio","google-cloud-vision","google-cloud-vertex-ai","google-ai-platform"],"comments":[{"owner":{"account_id":4487116,"reputation":429,"user_id":3649352,"accept_rate":67,"display_name":"Kunal Varpe"},"score":0,"creation_date":1673078743,"post_id":75034881,"comment_id":132420848,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27456034,"reputation":1,"user_id":20947467,"display_name":"P&#233;rez Rojas Sa&#250;l Eduardo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673030087,"creation_date":1673030087,"question_id":75034881,"body_markdown":"I am developing an app on Android Studio using the Cloud Vision APIs from Google, and I have already made the label detection from a picture taken with the smartphone, but I would like to make a second version with a pre-trained model by me with the API Vertex AI since the general label detection is not pretty specific for what I want.\r\n\r\nI already know how to train the model in the web, but I have been looking for an example of how to implement the Vertex API on Android Studio (Java), does anybody have an example? or could help me? the documentation is not full since it is a &quot;new&quot; API.\r\n\r\nThanks.","title":"Vertex AI project on Android Studio","body":"<p>I am developing an app on Android Studio using the Cloud Vision APIs from Google, and I have already made the label detection from a picture taken with the smartphone, but I would like to make a second version with a pre-trained model by me with the API Vertex AI since the general label detection is not pretty specific for what I want.</p>\n<p>I already know how to train the model in the web, but I have been looking for an example of how to implement the Vertex API on Android Studio (Java), does anybody have an example? or could help me? the documentation is not full since it is a &quot;new&quot; API.</p>\n<p>Thanks.</p>\n"},{"tags":["java","eclipse","docusignapi","electronic-signature"],"comments":[{"owner":{"account_id":3941825,"reputation":12902,"user_id":3255871,"display_name":"Inbar Gazit"},"score":0,"creation_date":1656356306,"post_id":72777060,"comment_id":128547466,"body_markdown":"What version of Java do you use?\nDid you try to download a quickstart?","body":"What version of Java do you use? Did you try to download a quickstart?"},{"owner":{"account_id":25570787,"reputation":1,"user_id":19351187,"display_name":"Salma Louhaichy"},"score":0,"creation_date":1656415037,"post_id":72777060,"comment_id":128561427,"body_markdown":"i am using java 15, the quickstart does not run because of missing methods in the DSConfiguration class","body":"i am using java 15, the quickstart does not run because of missing methods in the DSConfiguration class"}],"answers":[{"tags":[],"owner":{"account_id":25664310,"reputation":21,"user_id":19429594,"display_name":"Docusign Dev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656358962,"creation_date":1656358962,"answer_id":72777548,"question_id":72777060,"body_markdown":"I&#39;m guessing that this is due to multiple versions of jersey-client in your codebase. Docusign&#39;s current jersey-client version is 2.29.1. Are you able to update your other versions to at least that, or you can add dependencies in your pom.xml for specific versions like so here: https://www.tutorialspoint.com/maven/maven_external_dependencies.htm. Please try that and let us know.","title":"java.lang.NoSuchMethodError: &#39;void org.glassfish.jersey.model.internal.CommonConfig.&lt;init&gt;(javax.ws.rs.RuntimeType, java.util.function.Predicate)&#39;","body":"<p>I'm guessing that this is due to multiple versions of jersey-client in your codebase. Docusign's current jersey-client version is 2.29.1. Are you able to update your other versions to at least that, or you can add dependencies in your pom.xml for specific versions like so here: <a href=\"https://www.tutorialspoint.com/maven/maven_external_dependencies.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/maven/maven_external_dependencies.htm</a>. Please try that and let us know.</p>\n"},{"tags":[],"owner":{"account_id":445017,"reputation":1103,"user_id":837189,"display_name":"scott"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673029480,"creation_date":1673029480,"answer_id":75034787,"question_id":72777060,"body_markdown":"I ran into the same exception, although in a slightly different context, when trying to set up a jersey-server, and looks like you are encountering this in the setup of jersey-client, but I suspect the issue is the same.\r\n\r\nIn my case, I was using jersey-server 2.28 (org.glassfish.jersey.core:jersey-server:2.28), and tracked down that the class: `org.glassfish.jersey.model.internal.CommonConfig` comes from the jersey-common.jar (org.glassfish.jersey.core:jersey-common). \r\n\r\nLooking at the jars in my classpath I noticed that a `jersey-common-3.1.0.jar` had made it&#39;s way into the classpath and believe that was causing the issue. After removing the offending dependency that was causing jersey-common 3.1.0 to be pulled into the classpath, the exception went away.\r\n\r\nI suspect you are using jersey-client version: 2.x but have a jersey-common 3.x jar in the classpath","title":"java.lang.NoSuchMethodError: &#39;void org.glassfish.jersey.model.internal.CommonConfig.&lt;init&gt;(javax.ws.rs.RuntimeType, java.util.function.Predicate)&#39;","body":"<p>I ran into the same exception, although in a slightly different context, when trying to set up a jersey-server, and looks like you are encountering this in the setup of jersey-client, but I suspect the issue is the same.</p>\n<p>In my case, I was using jersey-server 2.28 (org.glassfish.jersey.core:jersey-server:2.28), and tracked down that the class: <code>org.glassfish.jersey.model.internal.CommonConfig</code> comes from the jersey-common.jar (org.glassfish.jersey.core:jersey-common).</p>\n<p>Looking at the jars in my classpath I noticed that a <code>jersey-common-3.1.0.jar</code> had made it's way into the classpath and believe that was causing the issue. After removing the offending dependency that was causing jersey-common 3.1.0 to be pulled into the classpath, the exception went away.</p>\n<p>I suspect you are using jersey-client version: 2.x but have a jersey-common 3.x jar in the classpath</p>\n"}],"owner":{"account_id":25570787,"reputation":1,"user_id":19351187,"display_name":"Salma Louhaichy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673029480,"creation_date":1656355892,"question_id":72777060,"body_markdown":"I am working on use the embedded e-signature in my web app ( java eclipse) i get this error and i do not understand what it means ?:\r\n```none\r\n    java.lang.NoSuchMethodError: &#39;void org.glassfish.jersey.model.internal.CommonConfig.&lt;init&gt; \r\n    (javax.ws.rs.RuntimeType, java.util.function.Predicate)&#39;\r\n\torg.glassfish.jersey.client.ClientConfig$State.&lt;init&gt;(ClientConfig.java:140)\r\n\torg.glassfish.jersey.client.ClientConfig.&lt;init&gt;(ClientConfig.java:496)\r\n\tcom.docusign.esign.client.ApiClient.buildHttpClient(ApiClient.java:1753)\r\n\tcom.docusign.esign.client.ApiClient.&lt;init&gt;(ApiClient.java:77)\r\n\tcom.docusign.esign.client.Configuration.&lt;clinit&gt;(Configuration.java:5)\r\n\tcom.docusign.esign.api.EnvelopesApi.&lt;init&gt;(EnvelopesApi.java:16)\r\n\tcom.uniquedeveloper.registration.test2.EmbeddedSigningTest(test2.java:141)\r\n\tcom.uniquedeveloper.registration.test2.doPost(test2.java:64)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n```\r\nHere is my updated pom file , i am still trying to work through the different versions of jersey but none of them have worked so far.\r\n\r\n```\r\n    &lt;project xmlns=&quot;https://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;Trial1&lt;/groupId&gt;\r\n      &lt;artifactId&gt;Trial1&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;release&gt;15&lt;/release&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.3&lt;/version&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n       &lt;properties&gt;\r\n            &lt;java.version&gt;11&lt;/java.version&gt;\r\n            &lt;oauth2.version&gt;2.5.6&lt;/oauth2.version&gt;\r\n            &lt;commonsio.version&gt;2.11.0&lt;/commonsio.version&gt;\r\n            &lt;docusign.version&gt;3.18.0&lt;/docusign.version&gt;\r\n            &lt;rooms.version&gt;1.1.0&lt;/rooms.version&gt;\r\n            &lt;click.version&gt;1.0.0&lt;/click.version&gt;\r\n            &lt;monitor.version&gt;1.1.0&lt;/monitor.version&gt;\r\n            &lt;admin.version&gt;1.0.0-BETA&lt;/admin.version&gt;\r\n        &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n     &lt;dependency&gt;\r\n```","title":"java.lang.NoSuchMethodError: &#39;void org.glassfish.jersey.model.internal.CommonConfig.&lt;init&gt;(javax.ws.rs.RuntimeType, java.util.function.Predicate)&#39;","body":"<p>I am working on use the embedded e-signature in my web app ( java eclipse) i get this error and i do not understand what it means ?:</p>\n<pre class=\"lang-none prettyprint-override\"><code>    java.lang.NoSuchMethodError: 'void org.glassfish.jersey.model.internal.CommonConfig.&lt;init&gt; \n    (javax.ws.rs.RuntimeType, java.util.function.Predicate)'\n    org.glassfish.jersey.client.ClientConfig$State.&lt;init&gt;(ClientConfig.java:140)\n    org.glassfish.jersey.client.ClientConfig.&lt;init&gt;(ClientConfig.java:496)\n    com.docusign.esign.client.ApiClient.buildHttpClient(ApiClient.java:1753)\n    com.docusign.esign.client.ApiClient.&lt;init&gt;(ApiClient.java:77)\n    com.docusign.esign.client.Configuration.&lt;clinit&gt;(Configuration.java:5)\n    com.docusign.esign.api.EnvelopesApi.&lt;init&gt;(EnvelopesApi.java:16)\n    com.uniquedeveloper.registration.test2.EmbeddedSigningTest(test2.java:141)\n    com.uniquedeveloper.registration.test2.doPost(test2.java:64)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n</code></pre>\n<p>Here is my updated pom file , i am still trying to work through the different versions of jersey but none of them have worked so far.</p>\n<pre><code>    &lt;project xmlns=&quot;https://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n      &lt;groupId&gt;Trial1&lt;/groupId&gt;\n      &lt;artifactId&gt;Trial1&lt;/artifactId&gt;\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n      &lt;packaging&gt;war&lt;/packaging&gt;\n      &lt;build&gt;\n        &lt;plugins&gt;\n          &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n              &lt;release&gt;15&lt;/release&gt;\n            &lt;/configuration&gt;\n          &lt;/plugin&gt;\n          &lt;plugin&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.3&lt;/version&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n       &lt;properties&gt;\n            &lt;java.version&gt;11&lt;/java.version&gt;\n            &lt;oauth2.version&gt;2.5.6&lt;/oauth2.version&gt;\n            &lt;commonsio.version&gt;2.11.0&lt;/commonsio.version&gt;\n            &lt;docusign.version&gt;3.18.0&lt;/docusign.version&gt;\n            &lt;rooms.version&gt;1.1.0&lt;/rooms.version&gt;\n            &lt;click.version&gt;1.0.0&lt;/click.version&gt;\n            &lt;monitor.version&gt;1.1.0&lt;/monitor.version&gt;\n            &lt;admin.version&gt;1.0.0-BETA&lt;/admin.version&gt;\n        &lt;/properties&gt;\n    &lt;dependencies&gt;\n     &lt;dependency&gt;\n</code></pre>\n"},{"tags":["java","design-patterns","project-reactor","reactor"],"comments":[{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":1,"creation_date":1672432647,"post_id":74965386,"comment_id":132290593,"body_markdown":"There is a more general question on difference between reactor pattern and reactive steams  (which project reactor is one of the implementations) here https://stackoverflow.com/questions/69479765/reactive-streams-vs-reactor-pattern","body":"There is a more general question on difference between reactor pattern and reactive steams  (which project reactor is one of the implementations) here <a href=\"https://stackoverflow.com/questions/69479765/reactive-streams-vs-reactor-pattern\" title=\"reactive streams vs reactor pattern\">stackoverflow.com/questions/69479765/&hellip;</a>"},{"owner":{"account_id":2757427,"reputation":2709,"user_id":2375105,"accept_rate":62,"display_name":"traveh"},"score":1,"creation_date":1672432849,"post_id":74965386,"comment_id":132290625,"body_markdown":"Thanks. So according to that answer, the author of &quot;java-design-patterns&quot; indeed just pulled that &quot;fact&quot; out of thin air.","body":"Thanks. So according to that answer, the author of &quot;java-design-patterns&quot; indeed just pulled that &quot;fact&quot; out of thin air."}],"answers":[{"tags":[],"owner":{"account_id":27455820,"reputation":21,"user_id":20947291,"display_name":"Beddan Brek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673029222,"creation_date":1673029222,"answer_id":75034738,"question_id":74965386,"body_markdown":"Project reactor is directed towards building non-blocking applications. It&#39;s threading model does allow using small number of threads. \r\n\r\nFrom reading the docs still still seems to consider themselves as based on the Reactor design pattern (although it is supposed to be for single threads) because \r\nit&#39;s possible to run it in a single-thread environment.\r\n\r\nAccording to the [docs][1]:\r\n \r\n&gt; Obtaining a Flux or a Mono does not necessarily mean that it runs in a dedicated Thread. Instead, most operators continue working in the Thread on which the previous operator executed.\r\n\r\nHowever, you can use an `ExecutorService` with multiple threads (see [this post][2]  for instructions).\r\n\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/reference/#schedulers\r\n  [2]: https://stackoverflow.com/questions/30023582/increase-thread-count-in-spring-reactor-asynctaskexecutor","title":"Is there actually relation between project-reactor and the Reactor design pattern?","body":"<p>Project reactor is directed towards building non-blocking applications. It's threading model does allow using small number of threads.</p>\n<p>From reading the docs still still seems to consider themselves as based on the Reactor design pattern (although it is supposed to be for single threads) because\nit's possible to run it in a single-thread environment.</p>\n<p>According to the <a href=\"https://projectreactor.io/docs/core/release/reference/#schedulers\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<blockquote>\n<p>Obtaining a Flux or a Mono does not necessarily mean that it runs in a dedicated Thread. Instead, most operators continue working in the Thread on which the previous operator executed.</p>\n</blockquote>\n<p>However, you can use an <code>ExecutorService</code> with multiple threads (see <a href=\"https://stackoverflow.com/questions/30023582/increase-thread-count-in-spring-reactor-asynctaskexecutor\">this post</a>  for instructions).</p>\n"}],"owner":{"account_id":2757427,"reputation":2709,"user_id":2375105,"accept_rate":62,"display_name":"traveh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1673029222,"creation_date":1672430422,"question_id":74965386,"body_markdown":"I&#39;ve been reading on the Reactor design pattern [here][1], and it mentions [project-reactor][2] as a &quot;Real world example&quot; of this design pattern. However, I couldn&#39;t find any mention or even a hint in project-reactor of the Reactor design pattern other than using the word &quot;reactor&quot; in the name.\r\n\r\nI&#39;m wondering the author of java-design-patterns just pulled that &quot;fact&quot; out of thin air or not.\r\n\r\n\r\n  [1]: https://java-design-patterns.com/patterns/reactor/\r\n  [2]: https://projectreactor.io/","title":"Is there actually relation between project-reactor and the Reactor design pattern?","body":"<p>I've been reading on the Reactor design pattern <a href=\"https://java-design-patterns.com/patterns/reactor/\" rel=\"nofollow noreferrer\">here</a>, and it mentions <a href=\"https://projectreactor.io/\" rel=\"nofollow noreferrer\">project-reactor</a> as a &quot;Real world example&quot; of this design pattern. However, I couldn't find any mention or even a hint in project-reactor of the Reactor design pattern other than using the word &quot;reactor&quot; in the name.</p>\n<p>I'm wondering the author of java-design-patterns just pulled that &quot;fact&quot; out of thin air or not.</p>\n"},{"tags":["java","apache-kafka","avro","kafka-consumer-api","kafka-producer-api"],"answers":[{"tags":[],"owner":{"account_id":3708451,"reputation":1331,"user_id":3086378,"accept_rate":67,"display_name":"Javier Holguera"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1486987893,"creation_date":1486979556,"answer_id":42201111,"question_id":42200875,"body_markdown":"This is the final code that would work, after discussing with @harmeen\r\n\r\n    static { \r\n        kafkaProps.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;smallest&quot;); \r\n        kafkaProps.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;CustomerCountryGroup1&quot;); \r\n        kafkaProps.put(&quot;zookeeper.connect&quot;, &quot;localhost:2181&quot;); \r\n        kafkaProps.put(&quot;schema.registry.url&quot;, &quot;http://localhost:8081&quot;); \r\n        kafkaProps.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, true); \r\n    }\r\n  \r\n    public static void infiniteConsumer() throws IOException { \r\n\r\n    VerifiableProperties properties = new VerifiableProperties(kafkaProps); \r\n    StringDecoder keyDecoder = new StringDecoder(properties); \r\n    KafkaAvroDecoder valueDecoder = new KafkaAvroDecoder(properties); \r\n\r\n    Map&lt;String, Integer&gt; topicCountMap = new HashMap&lt;&gt;(); \r\n    topicCountMap.put(&quot;BrandNewTopics&quot;, 1); \r\n\r\n    ConsumerConnector consumer = createJavaConsumerConnector(new kafka.consumer.ConsumerConfig(kafkaProps)); \r\n    Map&lt;String, List&lt;KafkaStream&lt;String, Object&gt;&gt;&gt; consumerMap = consumer.createMessageStreams(topicCountMap, keyDecoder, valueDecoder); \r\n\r\n    KafkaStream stream = consumerMap.get(&quot;BrandNewTopics&quot;).get(0); \r\n    ConsumerIterator it = stream.iterator(); \r\n\r\n    while (it.hasNext()) { \r\n        MessageAndMetadata messageAndMetadata = it.next(); \r\n        String key = (String) messageAndMetadata.key(); \r\n        GenericRecord record = (GenericRecord) messageAndMetadata.message(); \r\n        Customer customer = (Customer) SpecificData.get().deepCopy(Customer.SCHEMA$, record); \r\n        System.out.println(&quot;Key: &quot; + key); \r\n        System.out.println(&quot;Value: &quot; + customer); \r\n    } \r\n\r\nThings that got change:\r\n\r\n - Adding `SPECIFIC_AVRO_READER_CONFIG` property to true.\r\n - Using _smallest_ to start from the beginning of the topic.\r\n - Using `StringSerializer` and `StringDeserializer` for keys.\r\n - Change both producer and consumer to reflect the previous change\r\n - Adjust the namespace for the `Customer` class that represents the Avro record.","title":"Apache Kafka and Avro: org.apache.avro.generic.GenericData$Record cannot be cast to com.harmeetsingh13.java.Customer","body":"<p>This is the final code that would work, after discussing with @harmeen</p>\n\n<pre><code>static { \n    kafkaProps.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, \"smallest\"); \n    kafkaProps.put(ConsumerConfig.GROUP_ID_CONFIG, \"CustomerCountryGroup1\"); \n    kafkaProps.put(\"zookeeper.connect\", \"localhost:2181\"); \n    kafkaProps.put(\"schema.registry.url\", \"http://localhost:8081\"); \n    kafkaProps.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, true); \n}\n\npublic static void infiniteConsumer() throws IOException { \n\nVerifiableProperties properties = new VerifiableProperties(kafkaProps); \nStringDecoder keyDecoder = new StringDecoder(properties); \nKafkaAvroDecoder valueDecoder = new KafkaAvroDecoder(properties); \n\nMap&lt;String, Integer&gt; topicCountMap = new HashMap&lt;&gt;(); \ntopicCountMap.put(\"BrandNewTopics\", 1); \n\nConsumerConnector consumer = createJavaConsumerConnector(new kafka.consumer.ConsumerConfig(kafkaProps)); \nMap&lt;String, List&lt;KafkaStream&lt;String, Object&gt;&gt;&gt; consumerMap = consumer.createMessageStreams(topicCountMap, keyDecoder, valueDecoder); \n\nKafkaStream stream = consumerMap.get(\"BrandNewTopics\").get(0); \nConsumerIterator it = stream.iterator(); \n\nwhile (it.hasNext()) { \n    MessageAndMetadata messageAndMetadata = it.next(); \n    String key = (String) messageAndMetadata.key(); \n    GenericRecord record = (GenericRecord) messageAndMetadata.message(); \n    Customer customer = (Customer) SpecificData.get().deepCopy(Customer.SCHEMA$, record); \n    System.out.println(\"Key: \" + key); \n    System.out.println(\"Value: \" + customer); \n} \n</code></pre>\n\n<p>Things that got change:</p>\n\n<ul>\n<li>Adding <code>SPECIFIC_AVRO_READER_CONFIG</code> property to true.</li>\n<li>Using <em>smallest</em> to start from the beginning of the topic.</li>\n<li>Using <code>StringSerializer</code> and <code>StringDeserializer</code> for keys.</li>\n<li>Change both producer and consumer to reflect the previous change</li>\n<li>Adjust the namespace for the <code>Customer</code> class that represents the Avro record.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":464955,"reputation":21,"user_id":7234451,"display_name":"Prakhya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657081450,"creation_date":1657081450,"answer_id":72877940,"question_id":42200875,"body_markdown":"I did get the issue. The root cause is Avro deserializer expect the class also should be in the same package as serializer. For example if in your producer you used a.b.c.AvroSerializer and a.b.c.AvroDeserializer in your consumer you should use the same package structure. Just keeping the same package structure resolved the issue for me.","title":"Apache Kafka and Avro: org.apache.avro.generic.GenericData$Record cannot be cast to com.harmeetsingh13.java.Customer","body":"<p>I did get the issue. The root cause is Avro deserializer expect the class also should be in the same package as serializer. For example if in your producer you used a.b.c.AvroSerializer and a.b.c.AvroDeserializer in your consumer you should use the same package structure. Just keeping the same package structure resolved the issue for me.</p>\n"},{"tags":[],"owner":{"account_id":4518934,"reputation":3509,"user_id":7764014,"accept_rate":47,"display_name":"Yassine CHABLI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673029156,"creation_date":1673029156,"answer_id":75034730,"question_id":42200875,"body_markdown":"Facing the same issue was resolved to put this two configurations within the consumer factory config: \r\n\r\n    config.put(AbstractKafkaAvroSerDeConfig.AUTO_REGISTER_SCHEMAS, false);\r\n    config.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, true);","title":"Apache Kafka and Avro: org.apache.avro.generic.GenericData$Record cannot be cast to com.harmeetsingh13.java.Customer","body":"<p>Facing the same issue was resolved to put this two configurations within the consumer factory config:</p>\n<pre><code>config.put(AbstractKafkaAvroSerDeConfig.AUTO_REGISTER_SCHEMAS, false);\nconfig.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, true);\n</code></pre>\n"}],"owner":{"account_id":1141338,"reputation":6503,"user_id":1125151,"accept_rate":34,"display_name":"Harmeet Singh Taara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28806,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":42201111,"answer_count":3,"score":7,"last_activity_date":1673029156,"creation_date":1486978707,"question_id":42200875,"body_markdown":"Whenever I am trying to read the message from kafka queue, I am getting following exception : \r\n\r\n    [error] (run-main-0) java.lang.ClassCastException: org.apache.avro.generic.GenericData$Record cannot be cast to com.harmeetsingh13.java.Customer\r\n    java.lang.ClassCastException: org.apache.avro.generic.GenericData$Record cannot be cast to com.harmeetsingh13.java.Customer\r\n            at com.harmeetsingh13.java.consumers.avrodesrializer.AvroSpecificDeserializer.infiniteConsumer(AvroSpecificDeserializer.java:79)\r\n            at com.harmeetsingh13.java.consumers.avrodesrializer.AvroSpecificDeserializer.main(AvroSpecificDeserializer.java:87)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n\r\nKafka Producer Code: \r\n\r\n    public class AvroSpecificProducer {\r\n        private static Properties kafkaProps = new Properties();\r\n        private static KafkaProducer&lt;String, Customer&gt; kafkaProducer;\r\n    \r\n        static {\r\n            kafkaProps.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\r\n            kafkaProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, KafkaAvroSerializer.class);\r\n            kafkaProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, KafkaAvroSerializer.class);\r\n            kafkaProps.put(&quot;schema.registry.url&quot;, &quot;http://localhost:8081&quot;);\r\n            kafkaProducer = new KafkaProducer&lt;&gt;(kafkaProps);\r\n        }\r\n    \r\n        public static void fireAndForget(ProducerRecord&lt;String, Customer&gt; record) {\r\n            kafkaProducer.send(record);\r\n        }\r\n    \r\n        public static void asyncSend(ProducerRecord&lt;String, Customer&gt; record) {\r\n            kafkaProducer.send(record, (recordMetaData, ex) -&gt; {\r\n                System.out.println(&quot;Offset: &quot;+ recordMetaData.offset());\r\n                System.out.println(&quot;Topic: &quot;+ recordMetaData.topic());\r\n                System.out.println(&quot;Partition: &quot;+ recordMetaData.partition());\r\n                System.out.println(&quot;Timestamp: &quot;+ recordMetaData.timestamp());\r\n            });\r\n        }\r\n    \r\n        public static void main(String[] args) throws InterruptedException, IOException {\r\n            Customer customer1 = new Customer(1002, &quot;Jimmy&quot;);\r\n            ProducerRecord&lt;String, Customer&gt; record1 = new ProducerRecord&lt;&gt;(&quot;CustomerSpecificCountry&quot;,\r\n                    &quot;Customer One 11 &quot;, customer1\r\n            );\r\n    \r\n            asyncSend(record1);\r\n    \r\n            Thread.sleep(1000);\r\n        }\r\n    }\r\n\r\nKafka Consumer Code: \r\n\r\n    public class AvroSpecificDeserializer {\r\n    \r\n        private static Properties kafkaProps = new Properties();\r\n    \r\n        static {\r\n            kafkaProps.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;CustomerCountryGroup1&quot;);\r\n            kafkaProps.put(&quot;zookeeper.connect&quot;, &quot;localhost:2181&quot;);\r\n            kafkaProps.put(&quot;schema.registry.url&quot;, &quot;http://localhost:8081&quot;);\r\n        }\r\n    \r\n        public static void infiniteConsumer() throws IOException {\r\n            VerifiableProperties properties = new VerifiableProperties(kafkaProps);\r\n            KafkaAvroDecoder keyDecoder = new KafkaAvroDecoder(properties);\r\n            KafkaAvroDecoder valueDecoder = new KafkaAvroDecoder(properties);\r\n    \r\n            Map&lt;String, Integer&gt; topicCountMap = new HashMap&lt;&gt;();\r\n            topicCountMap.put(&quot;NewTopic&quot;, 1);\r\n    \r\n            ConsumerConnector consumer = createJavaConsumerConnector(new kafka.consumer.ConsumerConfig(kafkaProps));\r\n            Map&lt;String, List&lt;KafkaStream&lt;Object, Object&gt;&gt;&gt; consumerMap = consumer.createMessageStreams(topicCountMap, keyDecoder, valueDecoder);\r\n    \r\n            KafkaStream stream = consumerMap.get(&quot;NewTopic&quot;).get(0);\r\n            ConsumerIterator it = stream.iterator();\r\n    \r\n            System.out.println(&quot;???????????????????????????????????????????????? &quot;);\r\n            while (it.hasNext()) {\r\n                System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; &quot;);\r\n                MessageAndMetadata messageAndMetadata = it.next();\r\n                String key = (String) messageAndMetadata.key();\r\n                GenericRecord record = (GenericRecord) messageAndMetadata.message();\r\n                Customer customer = (Customer) SpecificData.get().deepCopy(Customer.SCHEMA$, record);\r\n                System.out.println(&quot;Key: &quot; + key);\r\n                System.out.println(&quot;Value: &quot; + customer);\r\n            }\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            infiniteConsumer();\r\n        }\r\n    }\r\n\r\nI am following, These examples: \r\n\r\n 1. https://github.com/confluentinc/examples/blob/3.1.x/kafka-clients/specific-avro-producer/src/main/java/io/confluent/examples/producer/AvroClicksProducer.java\r\n 2. https://github.com/confluentinc/examples/blob/3.1.x/kafka-clients/specific-avro-consumer/src/main/java/io/confluent/examples/consumer/AvroClicksSessionizer.java\r\n\r\n","title":"Apache Kafka and Avro: org.apache.avro.generic.GenericData$Record cannot be cast to com.harmeetsingh13.java.Customer","body":"<p>Whenever I am trying to read the message from kafka queue, I am getting following exception : </p>\n\n<pre><code>[error] (run-main-0) java.lang.ClassCastException: org.apache.avro.generic.GenericData$Record cannot be cast to com.harmeetsingh13.java.Customer\njava.lang.ClassCastException: org.apache.avro.generic.GenericData$Record cannot be cast to com.harmeetsingh13.java.Customer\n        at com.harmeetsingh13.java.consumers.avrodesrializer.AvroSpecificDeserializer.infiniteConsumer(AvroSpecificDeserializer.java:79)\n        at com.harmeetsingh13.java.consumers.avrodesrializer.AvroSpecificDeserializer.main(AvroSpecificDeserializer.java:87)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n</code></pre>\n\n<p>Kafka Producer Code: </p>\n\n<pre><code>public class AvroSpecificProducer {\n    private static Properties kafkaProps = new Properties();\n    private static KafkaProducer&lt;String, Customer&gt; kafkaProducer;\n\n    static {\n        kafkaProps.put(\"bootstrap.servers\", \"localhost:9092\");\n        kafkaProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, KafkaAvroSerializer.class);\n        kafkaProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, KafkaAvroSerializer.class);\n        kafkaProps.put(\"schema.registry.url\", \"http://localhost:8081\");\n        kafkaProducer = new KafkaProducer&lt;&gt;(kafkaProps);\n    }\n\n    public static void fireAndForget(ProducerRecord&lt;String, Customer&gt; record) {\n        kafkaProducer.send(record);\n    }\n\n    public static void asyncSend(ProducerRecord&lt;String, Customer&gt; record) {\n        kafkaProducer.send(record, (recordMetaData, ex) -&gt; {\n            System.out.println(\"Offset: \"+ recordMetaData.offset());\n            System.out.println(\"Topic: \"+ recordMetaData.topic());\n            System.out.println(\"Partition: \"+ recordMetaData.partition());\n            System.out.println(\"Timestamp: \"+ recordMetaData.timestamp());\n        });\n    }\n\n    public static void main(String[] args) throws InterruptedException, IOException {\n        Customer customer1 = new Customer(1002, \"Jimmy\");\n        ProducerRecord&lt;String, Customer&gt; record1 = new ProducerRecord&lt;&gt;(\"CustomerSpecificCountry\",\n                \"Customer One 11 \", customer1\n        );\n\n        asyncSend(record1);\n\n        Thread.sleep(1000);\n    }\n}\n</code></pre>\n\n<p>Kafka Consumer Code: </p>\n\n<pre><code>public class AvroSpecificDeserializer {\n\n    private static Properties kafkaProps = new Properties();\n\n    static {\n        kafkaProps.put(ConsumerConfig.GROUP_ID_CONFIG, \"CustomerCountryGroup1\");\n        kafkaProps.put(\"zookeeper.connect\", \"localhost:2181\");\n        kafkaProps.put(\"schema.registry.url\", \"http://localhost:8081\");\n    }\n\n    public static void infiniteConsumer() throws IOException {\n        VerifiableProperties properties = new VerifiableProperties(kafkaProps);\n        KafkaAvroDecoder keyDecoder = new KafkaAvroDecoder(properties);\n        KafkaAvroDecoder valueDecoder = new KafkaAvroDecoder(properties);\n\n        Map&lt;String, Integer&gt; topicCountMap = new HashMap&lt;&gt;();\n        topicCountMap.put(\"NewTopic\", 1);\n\n        ConsumerConnector consumer = createJavaConsumerConnector(new kafka.consumer.ConsumerConfig(kafkaProps));\n        Map&lt;String, List&lt;KafkaStream&lt;Object, Object&gt;&gt;&gt; consumerMap = consumer.createMessageStreams(topicCountMap, keyDecoder, valueDecoder);\n\n        KafkaStream stream = consumerMap.get(\"NewTopic\").get(0);\n        ConsumerIterator it = stream.iterator();\n\n        System.out.println(\"???????????????????????????????????????????????? \");\n        while (it.hasNext()) {\n            System.out.println(\"&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; \");\n            MessageAndMetadata messageAndMetadata = it.next();\n            String key = (String) messageAndMetadata.key();\n            GenericRecord record = (GenericRecord) messageAndMetadata.message();\n            Customer customer = (Customer) SpecificData.get().deepCopy(Customer.SCHEMA$, record);\n            System.out.println(\"Key: \" + key);\n            System.out.println(\"Value: \" + customer);\n        }\n\n    }\n\n    public static void main(String[] args) throws IOException {\n        infiniteConsumer();\n    }\n}\n</code></pre>\n\n<p>I am following, These examples: </p>\n\n<ol>\n<li><a href=\"https://github.com/confluentinc/examples/blob/3.1.x/kafka-clients/specific-avro-producer/src/main/java/io/confluent/examples/producer/AvroClicksProducer.java\" rel=\"noreferrer\">https://github.com/confluentinc/examples/blob/3.1.x/kafka-clients/specific-avro-producer/src/main/java/io/confluent/examples/producer/AvroClicksProducer.java</a></li>\n<li><a href=\"https://github.com/confluentinc/examples/blob/3.1.x/kafka-clients/specific-avro-consumer/src/main/java/io/confluent/examples/consumer/AvroClicksSessionizer.java\" rel=\"noreferrer\">https://github.com/confluentinc/examples/blob/3.1.x/kafka-clients/specific-avro-consumer/src/main/java/io/confluent/examples/consumer/AvroClicksSessionizer.java</a></li>\n</ol>\n"},{"tags":["java","string","comparison"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":4,"creation_date":1673027578,"post_id":75034425,"comment_id":132412683,"body_markdown":"Use loop to iterate over corresponding characters, compare them, if they are not the same increase counter.","body":"Use loop to iterate over corresponding characters, compare them, if they are not the same increase counter."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299848,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673028171,"creation_date":1673028171,"answer_id":75034546,"question_id":75034425,"body_markdown":"You could iterate up to the length of the strings and increment a counter for each different character:\r\n\r\n```java\r\nint numDiffs = 0;\r\nfor (int i = 0; i &lt; s1.length(); ++i) {\r\n    if (s1.charAt(i) != s2.charAt(i)) {\r\n        ++numDiffs;\r\n    }\r\n}\r\n```\r\n\r\nOr you could stream this length for an arguably more elegant one-liner:\r\n```java\r\nlong numDiffs = \r\n    IntStream.range(0, s1.length()).filter(i -&gt; s1.charAt(i) != s2.charAt(i)).count();\r\n```","title":"Counting differences in 2 strings which have the same length","body":"<p>You could iterate up to the length of the strings and increment a counter for each different character:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int numDiffs = 0;\nfor (int i = 0; i &lt; s1.length(); ++i) {\n    if (s1.charAt(i) != s2.charAt(i)) {\n        ++numDiffs;\n    }\n}\n</code></pre>\n<p>Or you could stream this length for an arguably more elegant one-liner:</p>\n<pre class=\"lang-java prettyprint-override\"><code>long numDiffs = \n    IntStream.range(0, s1.length()).filter(i -&gt; s1.charAt(i) != s2.charAt(i)).count();\n</code></pre>\n"}],"owner":{"account_id":22102258,"reputation":61,"user_id":20848772,"display_name":"Some Ace"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":75034546,"answer_count":1,"score":-1,"last_activity_date":1673028872,"creation_date":1673027464,"question_id":75034425,"body_markdown":"Let&#39;s say I have two strings with the same character length. They look something like this.\r\n\r\n```\r\nString s1 = &quot;R20k20r20&quot;;\r\nString s2 = &quot;R21k20r20&quot;;\r\n```\r\n\r\nI don&#39;t really care about **where** the differences are, but I want to be able to count how many differences they have between them. In this case, it should be just 1. What would be the easiest way to accomplish this given the circumstances? ","title":"Counting differences in 2 strings which have the same length","body":"<p>Let's say I have two strings with the same character length. They look something like this.</p>\n<pre><code>String s1 = &quot;R20k20r20&quot;;\nString s2 = &quot;R21k20r20&quot;;\n</code></pre>\n<p>I don't really care about <strong>where</strong> the differences are, but I want to be able to count how many differences they have between them. In this case, it should be just 1. What would be the easiest way to accomplish this given the circumstances?</p>\n"},{"tags":["java","groovy"],"answers":[{"tags":[],"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673028751,"creation_date":1673028751,"answer_id":75034655,"question_id":75034271,"body_markdown":"If it is not binary stream, but text this certainly seems like an encoding issue.\r\n\r\nBy using `new InputStreamReader(connection.getInputStream())` you will use the default charset - does that match what is in the stream?\r\n\r\nTry looking at what the URLConnection is reporting as the encoding/content type : https://docs.oracle.com/javase/7/docs/api/java/net/URLConnection.html\r\n\r\nThen look how a library handles the conversion, for instance:\r\nApache&#39;s HttpClient [BasicHttpClientResponseHandler][1] delegates to `EntityUtils`, have a look at how that works: [EntityUtils.java][2]\r\n\r\n\r\nBut overall, why not save yourself the pain and use a library to do this? Several are discussed here: https://www.baeldung.com/java-http-response-body-as-string\r\n\r\n  [1]: https://github.com/apache/httpcomponents-client/blob/master/httpclient5/src/main/java/org/apache/hc/client5/http/impl/classic/BasicHttpClientResponseHandler.java\r\n  [2]: http://www.javased.com/index.php?source_dir=httpcore/httpcore/src/main/java/org/apache/http/util/EntityUtils.java","title":"HttpsURLConnection strange characters","body":"<p>If it is not binary stream, but text this certainly seems like an encoding issue.</p>\n<p>By using <code>new InputStreamReader(connection.getInputStream())</code> you will use the default charset - does that match what is in the stream?</p>\n<p>Try looking at what the URLConnection is reporting as the encoding/content type : <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/URLConnection.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/net/URLConnection.html</a></p>\n<p>Then look how a library handles the conversion, for instance:\nApache's HttpClient <a href=\"https://github.com/apache/httpcomponents-client/blob/master/httpclient5/src/main/java/org/apache/hc/client5/http/impl/classic/BasicHttpClientResponseHandler.java\" rel=\"nofollow noreferrer\">BasicHttpClientResponseHandler</a> delegates to <code>EntityUtils</code>, have a look at how that works: <a href=\"http://www.javased.com/index.php?source_dir=httpcore/httpcore/src/main/java/org/apache/http/util/EntityUtils.java\" rel=\"nofollow noreferrer\">EntityUtils.java</a></p>\n<p>But overall, why not save yourself the pain and use a library to do this? Several are discussed here: <a href=\"https://www.baeldung.com/java-http-response-body-as-string\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-http-response-body-as-string</a></p>\n"}],"owner":{"account_id":27455482,"reputation":1,"user_id":20947018,"display_name":"rsando"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673028751,"creation_date":1673026530,"question_id":75034271,"body_markdown":"all.\r\n\r\nI&#39;m trying to connect with a service to get a token by HttpsURLConnection(using groovy). The connection works ok, I&#39;m getting an http code 200, but I&#39;m getting the response with all strage characters. \r\n\r\nresponseCode: 200 \r\nResponse Code : 200 \r\nResponse Msg : OK \r\n********** LINE:        -&#204;&#177; \r\n********** LINE: 0&#208;^&#240;d&#235;(&amp;&#177;&#188;\tuD0&#164;P&#255;]&#182;3&#243;&#230;_WMH&#196;)&#185;^aN&#202;n&#210;D&#194;&#210;E&#215;&#222;&#251;&#243;&#202;&#170;&#222;!&#194;&#167;&#200;B\\&gt;6&#190;&#221;1r|&#222;&#183;9rr&#243;&#253;(&#182;}&#210;D&#161;LC&#240;PW&#231;B9&#255;&#253;    \r\nResponse:        -&#204;&#177;0&#208;^&#240;d&#235;(&amp;&#177;&#188;\tuD0&#164;P&#255;]&#182;3&#243;&#230;_WMH&#196;)&#185;^aN&#202;n&#210;D&#194;&#210;E&#215;&#222;&#251;&#243;&#202;&#170;&#222;!&#194;&#167;&#200;B\\&gt;6&#190;&#221;1r|&#222;&#183;9rr&#243;&#253;(&#182;}&#210;D&#161;LC&#240;PW&#231;B9&#255;&#253;   \r\n\r\nThe charset i&#39;m using is UTF-8. I&#39;ve tried by postman and it works ok. I don&#39;t know what i&#39;m doin wrong in my code.\r\n\r\n\tconnection.setDoOutput(true);\r\n\tOutputStreamWriter outputStreamWriter = new OutputStreamWriter(connection.getOutputStream());\r\n    outputStreamWriter.write(Parameters);\r\n    outputStreamWriter.flush();\r\n\r\n\tint responseCode = connection.getResponseCode();\r\n\tString responseMessage = connection.getResponseMessage();\r\n\r\n\tlogger.debug(&quot;responseCode: &quot; + responseCode);\r\n\t\r\n\tif(responseCode == 200){\r\n\t\tlogger.debug(&quot;Response Code : &quot; + responseCode);\r\n\t\tlogger.debug(&quot;Response Msg : &quot; + responseMessage);\r\n \r\n    \t\tBufferedReader input = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n\t\tString inputLine;\r\n\t\tStringBuffer response = new StringBuffer();\r\n \r\n\t\twhile ((inputLine = input.readLine()) != null) { //In this while i&#39;m getting the response from service\r\n\t\t\tresponse.append(inputLine);\r\n\t\t\tlogger.debug(&quot;\\*\\*\\*\\*\\*\\*\\*\\*\\*\\* LINE: &quot; + inputLine);\r\n\t\t}\r\n\t\tinput.close();\r\n \r\n\t\tlogger.debug(&quot;Response: &quot; + response.toString()); //Here  i&#39;m printing the response in the log file\r\n\t\t\r\n\t\tJSONObject jsonObj = new JSONObject(response.toString());\r\n\t\ttoken = jsonObj.getString(&quot;access_token&quot;);","title":"HttpsURLConnection strange characters","body":"<p>all.</p>\n<p>I'm trying to connect with a service to get a token by HttpsURLConnection(using groovy). The connection works ok, I'm getting an http code 200, but I'm getting the response with all strage characters.</p>\n<p>responseCode: 200\nResponse Code : 200\nResponse Msg : OK\n********** LINE:        -\n********** LINE: 0^d(&amp;   uD0P]3_WMH)^aNnDE!B&gt;61r|9rr(}DLCPWB9<br />\nResponse:        -0^d(&amp;   uD0P]3_WMH)^aNnDE!B&gt;61r|9rr(}DLCPWB9</p>\n<p>The charset i'm using is UTF-8. I've tried by postman and it works ok. I don't know what i'm doin wrong in my code.</p>\n<pre><code>connection.setDoOutput(true);\nOutputStreamWriter outputStreamWriter = new OutputStreamWriter(connection.getOutputStream());\noutputStreamWriter.write(Parameters);\noutputStreamWriter.flush();\n\nint responseCode = connection.getResponseCode();\nString responseMessage = connection.getResponseMessage();\n\nlogger.debug(&quot;responseCode: &quot; + responseCode);\n\nif(responseCode == 200){\n    logger.debug(&quot;Response Code : &quot; + responseCode);\n    logger.debug(&quot;Response Msg : &quot; + responseMessage);\n\n        BufferedReader input = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n    String inputLine;\n    StringBuffer response = new StringBuffer();\n\n    while ((inputLine = input.readLine()) != null) { //In this while i'm getting the response from service\n        response.append(inputLine);\n        logger.debug(&quot;\\*\\*\\*\\*\\*\\*\\*\\*\\*\\* LINE: &quot; + inputLine);\n    }\n    input.close();\n\n    logger.debug(&quot;Response: &quot; + response.toString()); //Here  i'm printing the response in the log file\n    \n    JSONObject jsonObj = new JSONObject(response.toString());\n    token = jsonObj.getString(&quot;access_token&quot;);\n</code></pre>\n"},{"tags":["java","arrays","spring-boot","file","war"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1673029174,"post_id":75034651,"comment_id":132413158,"body_markdown":"Are you testing with the exact same war file in both cases, or are you *creating* the war file on each system before the test?","body":"Are you testing with the exact same war file in both cases, or are you <i>creating</i> the war file on each system before the test?"},{"owner":{"account_id":20811140,"reputation":51,"user_id":15285050,"display_name":"Pop Alexandru"},"score":0,"creation_date":1673029464,"post_id":75034651,"comment_id":132413225,"body_markdown":"The WAR file is generated via Maven, through `mvn install`, from the exact same source code, when the app is being deployed. The values from the example were extracted at runtime, through remote debugging.","body":"The WAR file is generated via Maven, through <code>mvn install</code>, from the exact same source code, when the app is being deployed. The values from the example were extracted at runtime, through remote debugging."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1673029649,"post_id":75034651,"comment_id":132413288,"body_markdown":"Okay, I&#39;m suspicious of that then... if you can generate the war file once and then deploy *that exact file* on multiple systems, then you remove the potential for &quot;exact same source code&quot; to actually mean &quot;modulo what a git clone might do to line endings&quot; for example.","body":"Okay, I&#39;m suspicious of that then... if you can generate the war file once and then deploy <i>that exact file</i> on multiple systems, then you remove the potential for &quot;exact same source code&quot; to actually mean &quot;modulo what a git clone might do to line endings&quot; for example."},{"owner":{"account_id":20811140,"reputation":51,"user_id":15285050,"display_name":"Pop Alexandru"},"score":0,"creation_date":1673030581,"post_id":75034651,"comment_id":132413553,"body_markdown":"The WAR file is generated on each cloud instance (*each OS*) during deployment, resulting a WAR file for each OS.\n\nBut the WAR file is generated based on the same source code. I mean, the `mvn install` command is executed on the same source code, and produces a WAR file for each OS where that command is executed.","body":"The WAR file is generated on each cloud instance (<i>each OS</i>) during deployment, resulting a WAR file for each OS.  But the WAR file is generated based on the same source code. I mean, the <code>mvn install</code> command is executed on the same source code, and produces a WAR file for each OS where that command is executed."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1673030878,"post_id":75034651,"comment_id":132413625,"body_markdown":"Are you saying you have *absolutely no way* of taking the same physical war file and deploying it on multiple systems? It doesn&#39;t matter whether that&#39;s how you *normally* deploy or not - this is for diagnostic purposes. Because I strongly suspect that if you do that, you&#39;ll see the same bytes on all OSes - but you should test it.","body":"Are you saying you have <i>absolutely no way</i> of taking the same physical war file and deploying it on multiple systems? It doesn&#39;t matter whether that&#39;s how you <i>normally</i> deploy or not - this is for diagnostic purposes. Because I strongly suspect that if you do that, you&#39;ll see the same bytes on all OSes - but you should test it."},{"owner":{"account_id":1600162,"reputation":1885,"user_id":1481345,"display_name":"Ale Zalazar"},"score":1,"creation_date":1673031905,"post_id":75034651,"comment_id":132413916,"body_markdown":"If you want to implement a solution that would work with both flavors of the WAR file you&#39;d probably need to use or implement a custom &quot;FilterReader&quot; (maybe based/extending a LineReader) that would either replace/fix the character or read &quot;lines&quot; and just skip the line separator (this is just for the case you need to continue using different WAR files)","body":"If you want to implement a solution that would work with both flavors of the WAR file you&#39;d probably need to use or implement a custom &quot;FilterReader&quot; (maybe based/extending a LineReader) that would either replace/fix the character or read &quot;lines&quot; and just skip the line separator (this is just for the case you need to continue using different WAR files)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1673091098,"post_id":75034651,"comment_id":132422524,"body_markdown":"*byte[] fileAsByteArray = IOUtils...* is a black box to us. Why not `InputStream.readAllBytes`? Varying line separators have no bearing on a binary data read","body":"<i>byte[] fileAsByteArray = IOUtils...</i> is a black box to us. Why not <code>InputStream.readAllBytes</code>? Varying line separators have no bearing on a binary data read"},{"owner":{"account_id":20811140,"reputation":51,"user_id":15285050,"display_name":"Pop Alexandru"},"score":0,"creation_date":1674053782,"post_id":75034651,"comment_id":132633243,"body_markdown":"@JonSkeet thank you for the suggestion, but we cannot deploy our app like that. But it could be a valid solution for other people.","body":"@JonSkeet thank you for the suggestion, but we cannot deploy our app like that. But it could be a valid solution for other people."},{"owner":{"account_id":20811140,"reputation":51,"user_id":15285050,"display_name":"Pop Alexandru"},"score":0,"creation_date":1674053859,"post_id":75034651,"comment_id":132633272,"body_markdown":"@AleZalazar thanks for the suggestion. This is how we will proceed.","body":"@AleZalazar thanks for the suggestion. This is how we will proceed."},{"owner":{"account_id":20811140,"reputation":51,"user_id":15285050,"display_name":"Pop Alexandru"},"score":0,"creation_date":1674053969,"post_id":75034651,"comment_id":132633318,"body_markdown":"@g00se thanks, but we use Java 8 and that method needs Java 9","body":"@g00se thanks, but we use Java 8 and that method needs Java 9"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1674053973,"post_id":75034651,"comment_id":132633320,"body_markdown":"It wasn&#39;t intended to be a solution. The point of the suggestion wasn&#39;t that that would fix the problem, and I wasn&#39;t suggesting that you do that in production - the point was *purely for diagnostics*.","body":"It wasn&#39;t intended to be a solution. The point of the suggestion wasn&#39;t that that would fix the problem, and I wasn&#39;t suggesting that you do that in production - the point was <i>purely for diagnostics</i>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1674054208,"post_id":75034651,"comment_id":132633408,"body_markdown":"OK fair enough but the point is that there should be no difference between the binary form between OSs, *unless* they are *starting out different*. Plus, for most normal purposes, i.e. text file processing, differences in line separators shouldn&#39;t really be causing a problem","body":"OK fair enough but the point is that there should be no difference between the binary form between OSs, <i>unless</i> they are <i>starting out different</i>. Plus, for most normal purposes, i.e. text file processing, differences in line separators shouldn&#39;t really be causing a problem"}],"owner":{"account_id":20811140,"reputation":51,"user_id":15285050,"display_name":"Pop Alexandru"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673028724,"creation_date":1673028724,"question_id":75034651,"body_markdown":"I have a Spring Boot app that runs from a WAR file, and I test it in different Operating Systems.\r\nIt reads a file from the &quot;*resources*&quot; directory (*this is the path within the WAR: &quot;/WEB-INF/classes/file-name&quot;*) by performing the following steps:\r\n\r\n **1.** Get the InputStream:\r\n```\r\nInputStream fileAsInputStream = new ClassPathResource(&quot;file-name&quot;).getInputStream();\r\n```\r\n\r\n **2.** Convert the InputStream to ByteArray:\r\n```\r\nbyte[] fileAsByteArray = IOUtils.toByteArray(fileAsInputStream );\r\n```\r\n\r\n---\r\n\r\nThe issue is that the content of the obtained Byte Array is different between Operating Systems, causing inconsistencies in further operations. The reason for this is that the file contains newline characters (*`&quot;\\n&quot; = 0x0A = 10` in Linux, and `&quot;\\r\\n&quot; = 0x0A 0x0D = 10 13` in Windows*). The differences across Operating Systems are explained for example in this thread: https://stackoverflow.com/questions/9260126/what-are-the-differences-between-char-literals-n-and-r-in-java6\r\n\r\n---\r\n\r\nThis is an example where the Byte Arrays have different contents:\r\n- **When app runs on Linux**: [114, 115, 97, **10**, 69, 110] =&gt; **10** is the `&quot;\\n&quot;`\r\n- **When app runs on Windows**: [114, 115, 97, **13**, **10**, 69, 110] =&gt; **13 10** is the `&quot;\\r\\n&quot;`\r\n\r\n\r\nSo between these two OSs, the `10` is the same with `13 10`. The file is always the same (*because it is a Private Key used for establishing the SFTP communication*). Differs only the Operating System from which the code is being run.\r\n\r\n---\r\n\r\n**Is there a solution to obtain the same Byte Array, regardless of the Operating System from which the code is being run?**\r\n\r\n\r\nOne working workaround would be to map the newline character to the same byte. So to iterate through the array, and to replace each `10` (*for example*) with `13 10`.\r\n\r\nAnother solution that was tried is using `StandardCharsets.UTF_8`, but the elements of the arrays are still different:\r\n```java\r\nIOUtils.toByteArray(new BufferedReader(new InputStreamReader(new ClassPathResource(&quot;file-name&quot;).getInputStream())), StandardCharsets.UTF_8)\r\n```\r\n\r\n","title":"Read file as the same Byte Array across operating systems","body":"<p>I have a Spring Boot app that runs from a WAR file, and I test it in different Operating Systems.\nIt reads a file from the &quot;<em>resources</em>&quot; directory (<em>this is the path within the WAR: &quot;/WEB-INF/classes/file-name&quot;</em>) by performing the following steps:</p>\n<p><strong>1.</strong> Get the InputStream:</p>\n<pre><code>InputStream fileAsInputStream = new ClassPathResource(&quot;file-name&quot;).getInputStream();\n</code></pre>\n<p><strong>2.</strong> Convert the InputStream to ByteArray:</p>\n<pre><code>byte[] fileAsByteArray = IOUtils.toByteArray(fileAsInputStream );\n</code></pre>\n<hr />\n<p>The issue is that the content of the obtained Byte Array is different between Operating Systems, causing inconsistencies in further operations. The reason for this is that the file contains newline characters (<em><code>&quot;\\n&quot; = 0x0A = 10</code> in Linux, and <code>&quot;\\r\\n&quot; = 0x0A 0x0D = 10 13</code> in Windows</em>). The differences across Operating Systems are explained for example in this thread: <a href=\"https://stackoverflow.com/questions/9260126/what-are-the-differences-between-char-literals-n-and-r-in-java6\">What are the differences between char literals &#39;\\n&#39; and &#39;\\r&#39; in Java?</a></p>\n<hr />\n<p>This is an example where the Byte Arrays have different contents:</p>\n<ul>\n<li><strong>When app runs on Linux</strong>: [114, 115, 97, <strong>10</strong>, 69, 110] =&gt; <strong>10</strong> is the <code>&quot;\\n&quot;</code></li>\n<li><strong>When app runs on Windows</strong>: [114, 115, 97, <strong>13</strong>, <strong>10</strong>, 69, 110] =&gt; <strong>13 10</strong> is the <code>&quot;\\r\\n&quot;</code></li>\n</ul>\n<p>So between these two OSs, the <code>10</code> is the same with <code>13 10</code>. The file is always the same (<em>because it is a Private Key used for establishing the SFTP communication</em>). Differs only the Operating System from which the code is being run.</p>\n<hr />\n<p><strong>Is there a solution to obtain the same Byte Array, regardless of the Operating System from which the code is being run?</strong></p>\n<p>One working workaround would be to map the newline character to the same byte. So to iterate through the array, and to replace each <code>10</code> (<em>for example</em>) with <code>13 10</code>.</p>\n<p>Another solution that was tried is using <code>StandardCharsets.UTF_8</code>, but the elements of the arrays are still different:</p>\n<pre class=\"lang-java prettyprint-override\"><code>IOUtils.toByteArray(new BufferedReader(new InputStreamReader(new ClassPathResource(&quot;file-name&quot;).getInputStream())), StandardCharsets.UTF_8)\n</code></pre>\n"},{"tags":["java","spring-boot","google-app-engine","spring-security"],"comments":[{"owner":{"account_id":27445765,"reputation":31,"user_id":20939581,"display_name":"Jessie"},"score":1,"creation_date":1672951379,"post_id":75023909,"comment_id":132394915,"body_markdown":"For the local test, I use http://localhost:8080. For Google cloud test, I use http://eomclubregistrationweb.ue.r.appspot.com which is generated by Google cloud. I don&#39;t know if there is any reverse proxy or not.","body":"For the local test, I use <a href=\"http://localhost:8080\" rel=\"nofollow noreferrer\">localhost:8080</a>. For Google cloud test, I use <a href=\"http://eomclubregistrationweb.ue.r.appspot.com\" rel=\"nofollow noreferrer\">eomclubregistrationweb.ue.r.appspot.com</a> which is generated by Google cloud. I don&#39;t know if there is any reverse proxy or not."},{"owner":{"account_id":27445765,"reputation":31,"user_id":20939581,"display_name":"Jessie"},"score":1,"creation_date":1672954241,"post_id":75023909,"comment_id":132395697,"body_markdown":"I am sure I am running the same Spring application code on Google. The pom.xml has some extra configuration for Google. I use Java 17 locally while Google requires to use Java 11. I added more debug logs above. Please take a look. It looks like Ant [pattern=&#39;/admin*&#39;] is missing in the log on Google.","body":"I am sure I am running the same Spring application code on Google. The pom.xml has some extra configuration for Google. I use Java 17 locally while Google requires to use Java 11. I added more debug logs above. Please take a look. It looks like Ant [pattern=&#39;/admin*&#39;] is missing in the log on Google."},{"owner":{"account_id":18740842,"reputation":3833,"user_id":13664137,"display_name":"moken"},"score":0,"creation_date":1672997829,"post_id":75023909,"comment_id":132403329,"body_markdown":"All your comments should be added to the question. Edit and rewite if necessary.","body":"All your comments should be added to the question. Edit and rewite if necessary."}],"answers":[{"tags":[],"owner":{"account_id":27445765,"reputation":31,"user_id":20939581,"display_name":"Jessie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673028483,"creation_date":1673028483,"answer_id":75034610,"question_id":75023909,"body_markdown":"I found the issue is related to the order of the security config applied to the Spring security framework.\r\n\r\nWhen running the code using localhost:8080, the admin security config is applied first and the Google oauth2 is applied later. I noticed this from the Spring security debug log. However, when running the same code on google cloud, the order of processing the security config is reversed. I don&#39;t know why. Once the google oauth2 is configured first, the admin form login is configured later, I start to see the issue.\r\n\r\nSo, a workaround fix is available. I tried to reverse the security config order in the code for my google cloud version. This did fix the issue. I was able to see the admin form login as well as Google oauth2 login.\r\n\r\nIt looks like the &quot;@Order&quot; doesn&#39;t work as expected. The actual order of processing the security config is determined by the class name alphabetically. ","title":"Spring boot mixed form login and oauth2 Google login don&#39;t work when deploying the code in Google Cloud","body":"<p>I found the issue is related to the order of the security config applied to the Spring security framework.</p>\n<p>When running the code using localhost:8080, the admin security config is applied first and the Google oauth2 is applied later. I noticed this from the Spring security debug log. However, when running the same code on google cloud, the order of processing the security config is reversed. I don't know why. Once the google oauth2 is configured first, the admin form login is configured later, I start to see the issue.</p>\n<p>So, a workaround fix is available. I tried to reverse the security config order in the code for my google cloud version. This did fix the issue. I was able to see the admin form login as well as Google oauth2 login.</p>\n<p>It looks like the &quot;@Order&quot; doesn't work as expected. The actual order of processing the security config is determined by the class name alphabetically.</p>\n"}],"owner":{"account_id":27445765,"reputation":31,"user_id":20939581,"display_name":"Jessie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673028483,"creation_date":1672949879,"question_id":75023909,"body_markdown":"I have a Spring Boot web application with two types of authentication configurations. One is form login for admin and the other is OAuth2 using Google account. \r\n\r\nThis works fine when I run it locally on Eclipse. It also works fine when I run the same using `./mvnw spring-boot:run` on cloud-shell. But when I deploy the application to Google App engine or Google Run, the form login stop working. The form login doesn&#39;t show up and the the webpage secured for admin is accessible to anyone. The Google OAuth2 login always works fine.\r\n\r\nHere is the code for security config.\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\n// Spring boot security configuration\r\npublic class SecurityConfig {\r\n\r\n\t@Bean\r\n\tpublic static PasswordEncoder encoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\r\n\t// Admin credential configuration\r\n\t@Configuration\r\n\t@Order(1)\r\n\tpublic static class AdminConfigurationAdapter {\r\n\t\t@Bean\r\n\t\tpublic UserDetailsService userDetailsServiceAdmin() {\r\n\t\t\tUserDetails user = User\r\n                    .withUsername(&quot;admin&quot;)\r\n                    .password(encoder().encode(&quot;adminPass&quot;))\r\n                    .roles(&quot;ADMIN&quot;)\r\n\t\t\t\t\t.build();\r\n\t\t\treturn new InMemoryUserDetailsManager(user);\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\tpublic SecurityFilterChain filterChainAdmin(HttpSecurity http) throws Exception {\r\n\t\t\thttp\r\n                .antMatcher(&quot;/admin*&quot;)\r\n                .authorizeRequests()\r\n                    .anyRequest().hasRole(&quot;ADMIN&quot;)\r\n\t\t\t\t\t// log in\r\n\t\t\t\t\t.and()\r\n                .formLogin()\r\n                    .loginPage(&quot;/loginAdmin&quot;)\r\n                    .loginProcessingUrl(&quot;/admin_login&quot;)\r\n\t\t\t\t\t.failureUrl(&quot;/loginAdmin?error=loginError&quot;)\r\n                    .defaultSuccessUrl(&quot;/admin_view&quot;)\r\n\t\t\t\t\t// logout\r\n\t\t\t\t\t.and()\r\n                .logout()\r\n                    .logoutUrl(&quot;/admin_logout&quot;)\r\n                    .logoutSuccessUrl(&quot;/welcome&quot;)\r\n                    .deleteCookies(&quot;JSESSIONID&quot;)\r\n\t\t\t\t\t.and()\r\n                .exceptionHandling()\r\n                    .accessDeniedPage(&quot;/403&quot;)\r\n                    .and()\r\n                .csrf().disable();\r\n\r\n\t\t\treturn http.build();\r\n\t\t}\r\n\t}\r\n\r\n\t// Google account oauth2 login configuration\r\n\t@Order(2)\r\n\t@Configuration\r\n\tpublic static class ApplicantConfiguration {\r\n\t\t@Bean\r\n\t\tpublic SecurityFilterChain filterChainApplicant(HttpSecurity http) throws Exception {\r\n\t\t\thttp\r\n                .authorizeRequests()\r\n                    .antMatchers(&quot;/applicant*&quot;).authenticated()\r\n                    .and()\r\n                .oauth2Login()\r\n                    .and()\r\n                .logout()\r\n\t\t\t\t\t.logoutSuccessUrl(&quot;/welcome&quot;)\r\n                    .deleteCookies(&quot;JSESSIONID&quot;)\r\n                    .and()\r\n                .exceptionHandling()\r\n\t\t\t\t\t.accessDeniedPage(&quot;/403&quot;);\r\n\t\t\treturn http.build();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nI found that if I create two different form login using different user/passwd, it works fine in Google Cloud App engine. Only the case that the form login mixed with Google OAuth2 login doesn&#39;t work.\r\n\r\nHere are the Spring Security debug logs for comparing. When running on Google Cloud APP, it says &quot;Authorized public object filter invocation [GET /admin_view]&quot;. When running locally, it says &quot;Redirecting to http://localhost:8080/loginAdmin&quot;. I just couldn&#39;t figure out why.\r\n\r\n**The logs for the working one on localhost:8080**\r\n\r\n    2022-12-29 22:05:08.768 DEBUG 92679 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /admin_view\r\n\r\n    2022-12-29 22:05:08.768 DEBUG 92679 --- [nio-8080-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\r\n\r\n    2022-12-29 22:05:08.768 DEBUG 92679 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n\r\n    2022-12-29 22:05:08.768 DEBUG 92679 --- [nio-8080-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0C1EB7E035C74BC01E7F8D1E706683FC\r\n\r\n    2022-12-29 22:05:08.776 DEBUG 92679 --- [nio-8080-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /admin_view] with attributes [hasRole(&#39;ROLE_ADMIN&#39;)]\r\n\r\n    2022-12-29 22:05:08.798 DEBUG 92679 --- [nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/admin_view to session\r\n\r\n    2022-12-29 22:05:08.799 DEBUG 92679 --- [nio-8080-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/loginAdmin\r\n\r\n**The logs for the application running on Google App engine.**\r\n\r\n    2022-12-30 03:07:15 default[20221230t020608]  2022-12-30 03:07:15.991 DEBUG 11 --- [0.0-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /admin_view\r\n\r\n    2022-12-30 03:07:15 default[20221230t020608]  2022-12-30 03:07:15.992 DEBUG 11 --- [0.0-8081-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\r\n\r\n    2022-12-30 03:07:15 default[20221230t020608]  2022-12-30 03:07:15.992 DEBUG 11 --- [0.0-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n\r\n    2022-12-30 03:07:15 default[20221230t020608]  2022-12-30 03:07:15.992 DEBUG 11 --- [0.0-8081-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id A7635E4C3457927648904B5BCAC69E7C\r\n\r\n    2022-12-30 03:07:15 default[20221230t020608]  2022-12-30 03:07:15.992 DEBUG 11 --- [0.0-8081-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized public object filter invocation [GET /admin_view]\r\n\r\n    2022-12-30 03:07:15 default[20221230t020608]  2022-12-30 03:07:15.993 DEBUG 11 --- [0.0-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /admin_view\r\n\r\n","title":"Spring boot mixed form login and oauth2 Google login don&#39;t work when deploying the code in Google Cloud","body":"<p>I have a Spring Boot web application with two types of authentication configurations. One is form login for admin and the other is OAuth2 using Google account.</p>\n<p>This works fine when I run it locally on Eclipse. It also works fine when I run the same using <code>./mvnw spring-boot:run</code> on cloud-shell. But when I deploy the application to Google App engine or Google Run, the form login stop working. The form login doesn't show up and the the webpage secured for admin is accessible to anyone. The Google OAuth2 login always works fine.</p>\n<p>Here is the code for security config.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n// Spring boot security configuration\npublic class SecurityConfig {\n\n    @Bean\n    public static PasswordEncoder encoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    // Admin credential configuration\n    @Configuration\n    @Order(1)\n    public static class AdminConfigurationAdapter {\n        @Bean\n        public UserDetailsService userDetailsServiceAdmin() {\n            UserDetails user = User\n                    .withUsername(&quot;admin&quot;)\n                    .password(encoder().encode(&quot;adminPass&quot;))\n                    .roles(&quot;ADMIN&quot;)\n                    .build();\n            return new InMemoryUserDetailsManager(user);\n        }\n\n        @Bean\n        public SecurityFilterChain filterChainAdmin(HttpSecurity http) throws Exception {\n            http\n                .antMatcher(&quot;/admin*&quot;)\n                .authorizeRequests()\n                    .anyRequest().hasRole(&quot;ADMIN&quot;)\n                    // log in\n                    .and()\n                .formLogin()\n                    .loginPage(&quot;/loginAdmin&quot;)\n                    .loginProcessingUrl(&quot;/admin_login&quot;)\n                    .failureUrl(&quot;/loginAdmin?error=loginError&quot;)\n                    .defaultSuccessUrl(&quot;/admin_view&quot;)\n                    // logout\n                    .and()\n                .logout()\n                    .logoutUrl(&quot;/admin_logout&quot;)\n                    .logoutSuccessUrl(&quot;/welcome&quot;)\n                    .deleteCookies(&quot;JSESSIONID&quot;)\n                    .and()\n                .exceptionHandling()\n                    .accessDeniedPage(&quot;/403&quot;)\n                    .and()\n                .csrf().disable();\n\n            return http.build();\n        }\n    }\n\n    // Google account oauth2 login configuration\n    @Order(2)\n    @Configuration\n    public static class ApplicantConfiguration {\n        @Bean\n        public SecurityFilterChain filterChainApplicant(HttpSecurity http) throws Exception {\n            http\n                .authorizeRequests()\n                    .antMatchers(&quot;/applicant*&quot;).authenticated()\n                    .and()\n                .oauth2Login()\n                    .and()\n                .logout()\n                    .logoutSuccessUrl(&quot;/welcome&quot;)\n                    .deleteCookies(&quot;JSESSIONID&quot;)\n                    .and()\n                .exceptionHandling()\n                    .accessDeniedPage(&quot;/403&quot;);\n            return http.build();\n        }\n    }\n}\n</code></pre>\n<p>I found that if I create two different form login using different user/passwd, it works fine in Google Cloud App engine. Only the case that the form login mixed with Google OAuth2 login doesn't work.</p>\n<p>Here are the Spring Security debug logs for comparing. When running on Google Cloud APP, it says &quot;Authorized public object filter invocation [GET /admin_view]&quot;. When running locally, it says &quot;Redirecting to http://localhost:8080/loginAdmin&quot;. I just couldn't figure out why.</p>\n<p><strong>The logs for the working one on localhost:8080</strong></p>\n<pre><code>2022-12-29 22:05:08.768 DEBUG 92679 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /admin_view\n\n2022-12-29 22:05:08.768 DEBUG 92679 --- [nio-8080-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\n\n2022-12-29 22:05:08.768 DEBUG 92679 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n\n2022-12-29 22:05:08.768 DEBUG 92679 --- [nio-8080-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0C1EB7E035C74BC01E7F8D1E706683FC\n\n2022-12-29 22:05:08.776 DEBUG 92679 --- [nio-8080-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /admin_view] with attributes [hasRole('ROLE_ADMIN')]\n\n2022-12-29 22:05:08.798 DEBUG 92679 --- [nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/admin_view to session\n\n2022-12-29 22:05:08.799 DEBUG 92679 --- [nio-8080-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/loginAdmin\n</code></pre>\n<p><strong>The logs for the application running on Google App engine.</strong></p>\n<pre><code>2022-12-30 03:07:15 default[20221230t020608]  2022-12-30 03:07:15.991 DEBUG 11 --- [0.0-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /admin_view\n\n2022-12-30 03:07:15 default[20221230t020608]  2022-12-30 03:07:15.992 DEBUG 11 --- [0.0-8081-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\n\n2022-12-30 03:07:15 default[20221230t020608]  2022-12-30 03:07:15.992 DEBUG 11 --- [0.0-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n\n2022-12-30 03:07:15 default[20221230t020608]  2022-12-30 03:07:15.992 DEBUG 11 --- [0.0-8081-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id A7635E4C3457927648904B5BCAC69E7C\n\n2022-12-30 03:07:15 default[20221230t020608]  2022-12-30 03:07:15.992 DEBUG 11 --- [0.0-8081-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized public object filter invocation [GET /admin_view]\n\n2022-12-30 03:07:15 default[20221230t020608]  2022-12-30 03:07:15.993 DEBUG 11 --- [0.0-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /admin_view\n</code></pre>\n"},{"tags":["java","aws-lambda"],"owner":{"account_id":1515643,"reputation":2068,"user_id":1416694,"display_name":"Prasad Karunagoda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673027915,"creation_date":1673027915,"question_id":75034503,"body_markdown":"I&#39;m trying to call an AWS Lambda function within itself (i.e. recursively). But, unless I block the thread and wait for the response using `future.get()`, the 2nd invocation does not happen.\r\n\r\nI have shown my code for the 2 approaches below. I have implemented the Lambda functions using Java (SDK Version 2).\r\n\r\nAm I missing something? Can someone explain the reason for this difference we see here? Thanks.\r\n\r\n# Non-blocking Approach - HandlerNonBlocking Lambda function (non-blocking)\r\n```\r\npublic class HandlerNonBlocking {\r\n    public void process(Map&lt;String, Object&gt; event, Context context) {\r\n        context.getLogger().log(&quot;HandlerNonBlocking.process() invoked\\n&quot;);\r\n\r\n        Object isSecond = event.get(&quot;isSecond&quot;);\r\n        if (isSecond == null) {\r\n            context.getLogger().log(&quot;First\\n&quot;);\r\n        } else {\r\n            context.getLogger().log(&quot;Second\\n&quot;);\r\n            return;\r\n        }\r\n\r\n        String json = &quot;{\\&quot;isSecond\\&quot;: \\&quot;Y\\&quot;}&quot;;\r\n        SdkBytes payload = SdkBytes.fromUtf8String(json) ;\r\n        InvokeRequest request = InvokeRequest.builder()\r\n                .functionName(&quot;recurring-function&quot;)\r\n                .invocationType(InvocationType.EVENT)\r\n                .payload(payload)\r\n                .build();\r\n\r\n        try (LambdaAsyncClient lambdaClient = LambdaAsyncClient.create()) {\r\n            context.getLogger().log(&quot;Calling again\\n&quot;);\r\n            CompletableFuture&lt;InvokeResponse&gt; future = lambdaClient.invoke(request);\r\n            // Set a callback\r\n            future.thenAccept(response -&gt; context.getLogger().log(&quot;Response status code: &quot; + response.statusCode() + &quot;\\n&quot;));\r\n        } catch (Exception ex) {\r\n            context.getLogger().log(&quot;Error when invoking Lambda function. &quot; +\r\n                    ex.getClass().getSimpleName() + &quot;: &quot; + ex.getMessage() + &quot;\\n&quot;);\r\n        }\r\n\r\n        try {\r\n            Thread.sleep(5_000);\r\n        } catch (InterruptedException ex) {\r\n            context.getLogger().log(&quot;Sleep interrupted. &quot; + ex.getMessage() + &quot;\\n&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Log - First invocation**\r\n```\r\nSTART RequestId: c44b0384-c159-4954-a241-8d14044f85db Version: $LATEST\r\nHandlerNonBlocking.process() invoked\r\nFirst\r\nCalling again\r\nEND RequestId: c44b0384-c159-4954-a241-8d14044f85db\r\n```\r\n\r\n**There is no second invocation in CloudWatch logs.**\r\n\r\n\r\n\r\n# Blocking Approach - HandlerBlocking Lambda function (block and wait for response)\r\n```\r\npublic class HandlerBlocking {\r\n    public void process(Map&lt;String, Object&gt; event, Context context) {\r\n        context.getLogger().log(&quot;HandlerBlocking.process() invoked\\n&quot;);\r\n\r\n        Object isSecond = event.get(&quot;isSecond&quot;);\r\n        if (isSecond == null) {\r\n            context.getLogger().log(&quot;First\\n&quot;);\r\n        } else {\r\n            context.getLogger().log(&quot;Second\\n&quot;);\r\n            return;\r\n        }\r\n\r\n        String json = &quot;{\\&quot;isSecond\\&quot;: \\&quot;Y\\&quot;}&quot;;\r\n        SdkBytes payload = SdkBytes.fromUtf8String(json) ;\r\n        InvokeRequest request = InvokeRequest.builder()\r\n                .functionName(&quot;recurring-function&quot;)\r\n                .invocationType(InvocationType.EVENT)\r\n                .payload(payload)\r\n                .build();\r\n\r\n        try (LambdaAsyncClient lambdaClient = LambdaAsyncClient.create()) {\r\n            context.getLogger().log(&quot;Calling again\\n&quot;);\r\n            CompletableFuture&lt;InvokeResponse&gt; future = lambdaClient.invoke(request);\r\n            // Wait for response\r\n            InvokeResponse response = future.get();\r\n            context.getLogger().log(&quot;Response status code: &quot; + response.statusCode() + &quot;\\n&quot;);\r\n        } catch (Exception ex) {\r\n            context.getLogger().log(&quot;Error when invoking Lambda function. &quot; +\r\n                    ex.getClass().getSimpleName() + &quot;: &quot; + ex.getMessage() + &quot;\\n&quot;);\r\n        }\r\n\r\n        try {\r\n            Thread.sleep(5_000);\r\n        } catch (InterruptedException ex) {\r\n            context.getLogger().log(&quot;Sleep interrupted. &quot; + ex.getMessage() + &quot;\\n&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Log - First invocation**\r\n```\r\nSTART RequestId: 1a70cb3e-6752-4427-a703-69ff6f6c404b Version: $LATEST\r\nHandlerBlocking.process() invoked\r\nFirst\r\nCalling again\r\nResponse status code: 202\r\nEND RequestId: 1a70cb3e-6752-4427-a703-69ff6f6c404b\r\n```\r\n\r\n**Log - Second invocation**\r\n```\r\nSTART RequestId: db71eb54-547a-4ee9-9e9d-0d5b689588f8 Version: $LATEST\r\nHandlerBlocking.process() invoked\r\nSecond\r\nEND RequestId: db71eb54-547a-4ee9-9e9d-0d5b689588f8\r\n```\r\n\r\n\r\nI have tried the 2 approaches shown above.","title":"Asynchronous Recursive AWS Lambda call does not work","body":"<p>I'm trying to call an AWS Lambda function within itself (i.e. recursively). But, unless I block the thread and wait for the response using <code>future.get()</code>, the 2nd invocation does not happen.</p>\n<p>I have shown my code for the 2 approaches below. I have implemented the Lambda functions using Java (SDK Version 2).</p>\n<p>Am I missing something? Can someone explain the reason for this difference we see here? Thanks.</p>\n<h1>Non-blocking Approach - HandlerNonBlocking Lambda function (non-blocking)</h1>\n<pre><code>public class HandlerNonBlocking {\n    public void process(Map&lt;String, Object&gt; event, Context context) {\n        context.getLogger().log(&quot;HandlerNonBlocking.process() invoked\\n&quot;);\n\n        Object isSecond = event.get(&quot;isSecond&quot;);\n        if (isSecond == null) {\n            context.getLogger().log(&quot;First\\n&quot;);\n        } else {\n            context.getLogger().log(&quot;Second\\n&quot;);\n            return;\n        }\n\n        String json = &quot;{\\&quot;isSecond\\&quot;: \\&quot;Y\\&quot;}&quot;;\n        SdkBytes payload = SdkBytes.fromUtf8String(json) ;\n        InvokeRequest request = InvokeRequest.builder()\n                .functionName(&quot;recurring-function&quot;)\n                .invocationType(InvocationType.EVENT)\n                .payload(payload)\n                .build();\n\n        try (LambdaAsyncClient lambdaClient = LambdaAsyncClient.create()) {\n            context.getLogger().log(&quot;Calling again\\n&quot;);\n            CompletableFuture&lt;InvokeResponse&gt; future = lambdaClient.invoke(request);\n            // Set a callback\n            future.thenAccept(response -&gt; context.getLogger().log(&quot;Response status code: &quot; + response.statusCode() + &quot;\\n&quot;));\n        } catch (Exception ex) {\n            context.getLogger().log(&quot;Error when invoking Lambda function. &quot; +\n                    ex.getClass().getSimpleName() + &quot;: &quot; + ex.getMessage() + &quot;\\n&quot;);\n        }\n\n        try {\n            Thread.sleep(5_000);\n        } catch (InterruptedException ex) {\n            context.getLogger().log(&quot;Sleep interrupted. &quot; + ex.getMessage() + &quot;\\n&quot;);\n        }\n    }\n}\n</code></pre>\n<p><strong>Log - First invocation</strong></p>\n<pre><code>START RequestId: c44b0384-c159-4954-a241-8d14044f85db Version: $LATEST\nHandlerNonBlocking.process() invoked\nFirst\nCalling again\nEND RequestId: c44b0384-c159-4954-a241-8d14044f85db\n</code></pre>\n<p><strong>There is no second invocation in CloudWatch logs.</strong></p>\n<h1>Blocking Approach - HandlerBlocking Lambda function (block and wait for response)</h1>\n<pre><code>public class HandlerBlocking {\n    public void process(Map&lt;String, Object&gt; event, Context context) {\n        context.getLogger().log(&quot;HandlerBlocking.process() invoked\\n&quot;);\n\n        Object isSecond = event.get(&quot;isSecond&quot;);\n        if (isSecond == null) {\n            context.getLogger().log(&quot;First\\n&quot;);\n        } else {\n            context.getLogger().log(&quot;Second\\n&quot;);\n            return;\n        }\n\n        String json = &quot;{\\&quot;isSecond\\&quot;: \\&quot;Y\\&quot;}&quot;;\n        SdkBytes payload = SdkBytes.fromUtf8String(json) ;\n        InvokeRequest request = InvokeRequest.builder()\n                .functionName(&quot;recurring-function&quot;)\n                .invocationType(InvocationType.EVENT)\n                .payload(payload)\n                .build();\n\n        try (LambdaAsyncClient lambdaClient = LambdaAsyncClient.create()) {\n            context.getLogger().log(&quot;Calling again\\n&quot;);\n            CompletableFuture&lt;InvokeResponse&gt; future = lambdaClient.invoke(request);\n            // Wait for response\n            InvokeResponse response = future.get();\n            context.getLogger().log(&quot;Response status code: &quot; + response.statusCode() + &quot;\\n&quot;);\n        } catch (Exception ex) {\n            context.getLogger().log(&quot;Error when invoking Lambda function. &quot; +\n                    ex.getClass().getSimpleName() + &quot;: &quot; + ex.getMessage() + &quot;\\n&quot;);\n        }\n\n        try {\n            Thread.sleep(5_000);\n        } catch (InterruptedException ex) {\n            context.getLogger().log(&quot;Sleep interrupted. &quot; + ex.getMessage() + &quot;\\n&quot;);\n        }\n    }\n}\n</code></pre>\n<p><strong>Log - First invocation</strong></p>\n<pre><code>START RequestId: 1a70cb3e-6752-4427-a703-69ff6f6c404b Version: $LATEST\nHandlerBlocking.process() invoked\nFirst\nCalling again\nResponse status code: 202\nEND RequestId: 1a70cb3e-6752-4427-a703-69ff6f6c404b\n</code></pre>\n<p><strong>Log - Second invocation</strong></p>\n<pre><code>START RequestId: db71eb54-547a-4ee9-9e9d-0d5b689588f8 Version: $LATEST\nHandlerBlocking.process() invoked\nSecond\nEND RequestId: db71eb54-547a-4ee9-9e9d-0d5b689588f8\n</code></pre>\n<p>I have tried the 2 approaches shown above.</p>\n"},{"tags":["java","linux","terminal"],"comments":[{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1672972072,"post_id":75026288,"comment_id":132398919,"body_markdown":"These packages don&#39;t exist. Would be useful to show us how you try to install Java","body":"These packages don&#39;t exist. Would be useful to show us how you try to install Java"},{"owner":{"account_id":27448211,"reputation":13,"user_id":20941187,"display_name":"SomeoneThatCodes"},"score":0,"creation_date":1672972432,"post_id":75026288,"comment_id":132398960,"body_markdown":"In the second link, I show the steps that I did to install it (or try) I&#39;ll put the translation rn","body":"In the second link, I show the steps that I did to install it (or try) I&#39;ll put the translation rn"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1672980397,"post_id":75026288,"comment_id":132399993,"body_markdown":"Try to change mirror site `How can I get apt to use a mirror close to me, or choose a faster mirror?` (https://askubuntu.com/questions/37753/how-can-i-get-apt-to-use-a-mirror-close-to-me-or-choose-a-faster-mirror)","body":"Try to change mirror site <code>How can I get apt to use a mirror close to me, or choose a faster mirror?</code> (<a href=\"https://askubuntu.com/questions/37753/how-can-i-get-apt-to-use-a-mirror-close-to-me-or-choose-a-faster-mirror\" title=\"how can i get apt to use a mirror close to me or choose a faster mirror\">askubuntu.com/questions/37753/&hellip;</a>)"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1672980528,"post_id":75026288,"comment_id":132400016,"body_markdown":"If there are no special requirements, using `sdkman` (https://sdkman.io/install) to install JDK is the easiest choice.","body":"If there are no special requirements, using <code>sdkman</code> (<a href=\"https://sdkman.io/install\" rel=\"nofollow noreferrer\">sdkman.io/install</a>) to install JDK is the easiest choice."},{"owner":{"account_id":27448211,"reputation":13,"user_id":20941187,"display_name":"SomeoneThatCodes"},"score":0,"creation_date":1673017432,"post_id":75026288,"comment_id":132409265,"body_markdown":"I tried to download any other app from the terminal like steam but I get a repository error, and if I open the software updater I can&#39;t update the system","body":"I tried to download any other app from the terminal like steam but I get a repository error, and if I open the software updater I can&#39;t update the system"},{"owner":{"account_id":27448211,"reputation":13,"user_id":20941187,"display_name":"SomeoneThatCodes"},"score":0,"creation_date":1673731629,"post_id":75026288,"comment_id":132565009,"body_markdown":"Hello everyone, installing ubuntu 22.04 was the solution for me, as the previous version didn&#39;t worked","body":"Hello everyone, installing ubuntu 22.04 was the solution for me, as the previous version didn&#39;t worked"}],"owner":{"account_id":27448211,"reputation":13,"user_id":20941187,"display_name":"SomeoneThatCodes"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673027307,"creation_date":1672971239,"question_id":75026288,"body_markdown":"I am using ubuntu 20.10 and I am trying to install java by the terminal of course. I get the error message E: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing? I tried both of the commands but they don&#39;t help in a thing. The full error message:\r\n\r\n    E: Failed to fetch http://security.ubuntu.com/ubuntu/pool/main/o/openjdk-lts/openjdk-11-jdk_11.0.11+9-0ubuntu2~20.10_amd64.deb  404  Not Found [IP: 2620:2d:4000:1::19 80]\r\n    \r\n    E: Failed to fetch http://co.archive.ubuntu.com/ubuntu/pool/main/j/java-atk-wrapper/libatk-wrapper-java_0.38.0-1_all.deb  404  Not Found [IP: 2620:2d:4000:1::19 80]\r\n    E: Failed to fetch http://co.archive.ubuntu.com/ubuntu/pool/main/j/java-atk-wrapper/libatk-wrapper-java-jni_0.38.0-1_amd64.deb  404  Not Found [IP: 2620:2d:4000:1::19 80]\r\n    E: Failed to fetch http://co.archive.ubuntu.com/ubuntu/pool/main/x/xorgproto/x11proto-dev_2020.1-1_all.deb  404  Not Found [IP: 2620:2d:4000:1::19 80]\r\n    E: Failed to fetch http://co.archive.ubuntu.com/ubuntu/pool/main/libi/libice/libice-dev_1.0.10-1_amd64.deb  404  Not Found [IP: 2620:2d:4000:1::19 80]\r\n    E: Failed to fetch http://co.archive.ubuntu.com/ubuntu/pool/main/x/xorgproto/x11proto-core-dev_2020.1-1_all.deb  404  Not Found [IP: 2620:2d:4000:1::19 80]\r\n    E: Failed to fetch http://security.ubuntu.com/ubuntu/pool/main/libx/libx11/libx11-dev_1.6.12-1ubuntu0.1_amd64.deb  404  Not Found [IP: 2620:2d:4000:1::19 80]\r\n    E: Failed to fetch http://co.archive.ubuntu.com/ubuntu/pool/main/libx/libxt/libxt-dev_1.2.0-1_amd64.deb  404  Not Found [IP: 2620:2d:4000:1::19 80]\r\n\r\nI found [this](https://askubuntu.com/questions/416930/how-do-i-solve-unable-to-fetch-some-archives-maybe-run-apt-get-update-or-try-w) post that I think everyone who had the same issue came to this post, but nothing helped me to get out of the problem, in [this](https://guatewireless.org/como-instalar-java-ubuntu-20-10/) another post (in Spanish) tells many ways to download, but nothing helps. Any help would be very appreciated.\r\n","title":"Unable to install java in ubuntu 20.10 with the error of Unable to fetch some archives","body":"<p>I am using ubuntu 20.10 and I am trying to install java by the terminal of course. I get the error message E: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing? I tried both of the commands but they don't help in a thing. The full error message:</p>\n<pre><code>E: Failed to fetch http://security.ubuntu.com/ubuntu/pool/main/o/openjdk-lts/openjdk-11-jdk_11.0.11+9-0ubuntu2~20.10_amd64.deb  404  Not Found [IP: 2620:2d:4000:1::19 80]\n\nE: Failed to fetch http://co.archive.ubuntu.com/ubuntu/pool/main/j/java-atk-wrapper/libatk-wrapper-java_0.38.0-1_all.deb  404  Not Found [IP: 2620:2d:4000:1::19 80]\nE: Failed to fetch http://co.archive.ubuntu.com/ubuntu/pool/main/j/java-atk-wrapper/libatk-wrapper-java-jni_0.38.0-1_amd64.deb  404  Not Found [IP: 2620:2d:4000:1::19 80]\nE: Failed to fetch http://co.archive.ubuntu.com/ubuntu/pool/main/x/xorgproto/x11proto-dev_2020.1-1_all.deb  404  Not Found [IP: 2620:2d:4000:1::19 80]\nE: Failed to fetch http://co.archive.ubuntu.com/ubuntu/pool/main/libi/libice/libice-dev_1.0.10-1_amd64.deb  404  Not Found [IP: 2620:2d:4000:1::19 80]\nE: Failed to fetch http://co.archive.ubuntu.com/ubuntu/pool/main/x/xorgproto/x11proto-core-dev_2020.1-1_all.deb  404  Not Found [IP: 2620:2d:4000:1::19 80]\nE: Failed to fetch http://security.ubuntu.com/ubuntu/pool/main/libx/libx11/libx11-dev_1.6.12-1ubuntu0.1_amd64.deb  404  Not Found [IP: 2620:2d:4000:1::19 80]\nE: Failed to fetch http://co.archive.ubuntu.com/ubuntu/pool/main/libx/libxt/libxt-dev_1.2.0-1_amd64.deb  404  Not Found [IP: 2620:2d:4000:1::19 80]\n</code></pre>\n<p>I found <a href=\"https://askubuntu.com/questions/416930/how-do-i-solve-unable-to-fetch-some-archives-maybe-run-apt-get-update-or-try-w\">this</a> post that I think everyone who had the same issue came to this post, but nothing helped me to get out of the problem, in <a href=\"https://guatewireless.org/como-instalar-java-ubuntu-20-10/\" rel=\"nofollow noreferrer\">this</a> another post (in Spanish) tells many ways to download, but nothing helps. Any help would be very appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673091781,"post_id":75034333,"comment_id":132422636,"body_markdown":"Not without full control of the initiating process as in &quot;Start program two and then write a file to the temporary directory saying program two has finished&quot;","body":"Not without full control of the initiating process as in &quot;Start program two and then write a file to the temporary directory saying program two has finished&quot;"}],"owner":{"account_id":25297861,"reputation":17,"user_id":19122683,"display_name":"Blrackerd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673026891,"creation_date":1673026891,"question_id":75034333,"body_markdown":"I am building a standalone program in java that launches &#39;exe&#39; or &#39;lnk&#39; and gets the execution time.\r\n\r\nIt has worked perfectly for me but with one of the programs launches a second exe and the first one closes giving me only the time of the first when I need both. \r\n\r\nThe first option that occurred to me is to launch the second directly but this gives an error if it is not launched from the first\r\n\r\nMy code is\r\n\r\n    String ruta = &quot;C:\\\\folder\\\\launch.exe&quot;;\r\n    long inicio = System.currentTimeMillis();\r\n    Process p;\r\n    try {\r\n    \tp = new ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;, &quot;\\&quot;&quot; + ruta + &quot;\\&quot;&quot;).redirectError(Redirect.INHERIT).redirectInput(Redirect.INHERIT).redirectOutput(Redirect.INHERIT).start();\r\n    \t\t\t\r\n    \tp.waitFor();\r\n    \t\r\n    } catch (IOException | InterruptedException e) {\r\n    \te.printStackTrace();\r\n    }\r\n    \t\t\r\n    long fin = System.currentTimeMillis();\r\n    long total = fin - inicio;\r\n\r\nIs there any way to do what I need?\r\n\r\nMany Thanks","title":"Detect start and end of an exe launched by another exe from java","body":"<p>I am building a standalone program in java that launches 'exe' or 'lnk' and gets the execution time.</p>\n<p>It has worked perfectly for me but with one of the programs launches a second exe and the first one closes giving me only the time of the first when I need both.</p>\n<p>The first option that occurred to me is to launch the second directly but this gives an error if it is not launched from the first</p>\n<p>My code is</p>\n<pre><code>String ruta = &quot;C:\\\\folder\\\\launch.exe&quot;;\nlong inicio = System.currentTimeMillis();\nProcess p;\ntry {\n    p = new ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;, &quot;\\&quot;&quot; + ruta + &quot;\\&quot;&quot;).redirectError(Redirect.INHERIT).redirectInput(Redirect.INHERIT).redirectOutput(Redirect.INHERIT).start();\n            \n    p.waitFor();\n    \n} catch (IOException | InterruptedException e) {\n    e.printStackTrace();\n}\n        \nlong fin = System.currentTimeMillis();\nlong total = fin - inicio;\n</code></pre>\n<p>Is there any way to do what I need?</p>\n<p>Many Thanks</p>\n"},{"tags":["java","fonts","itext","cjk"],"answers":[{"tags":[],"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673026628,"creation_date":1673026088,"answer_id":75034196,"question_id":75029883,"body_markdown":"### Creating a font by name and encoding\r\nYou called the method `BaseFont.createFont(String name, String encoding, boolean embedded)` correctly.\r\n\r\nThe `AsianFontMapper` class has those constants for 2 font names and 4 encodings:\r\n```\r\n// font names\r\n    public static final String JapaneseFont_Go = &quot;HeiseiKakuGo-W5&quot;;\r\n    public static final String JapaneseFont_Min = &quot;HeiseiMin-W3&quot;;\r\n// encodings\r\n    public static final String JapaneseEncoding_H = &quot;UniJIS-UCS2-H&quot;;\r\n    public static final String JapaneseEncoding_V = &quot;UniJIS-UCS2-V&quot;;\r\n    public static final String JapaneseEncoding_HW_H = &quot;UniJIS-UCS2-HW-H&quot;;\r\n    public static final String JapaneseEncoding_HW_V = &quot;UniJIS-UCS2-HW-V&quot;;\r\n```\r\n\r\nThe [Kanji character `&#134071;` for &quot;earth&quot;][1] should be supported by above Japanese fonts of *Heisei* family and all of those encodings.\r\n\r\n### Japanese font must be present on your system\r\n\r\nMake sure that they are available the system creating and viewing the PDF.\r\n\r\nWhen using `embedded = false` to keep the PDF-size small, they must also been present on the viewing system.\r\n\r\nSee Wikipedia article: *List of CJK fonts*, especially the table for [Japanese][2]:\r\n\r\n* Adobe provides the above named [`Heisei Mincho`][3] font-family and [`Heisei Kaku Gothic`][4].\r\n* Microsoft supports the Japanese script with font-families like [`SimHei`][5] or [`SimSun`][6].\r\n* From Google you can download [Japanese fonts, e.g. the `Noto` family](https://fonts.google.com/?subset=japanese&amp;noto.script=Jpan)\r\n\r\n\r\n  [1]: https://www.kanshudo.com/kanji/%F0%A0%AE%B7\r\n  [2]: https://en.wikipedia.org/wiki/List_of_CJK_fonts#Japanese_2\r\n  [3]: https://fonts.adobe.com/fonts/heisei-mincho-std\r\n  [4]: https://fonts.adobe.com/fonts/heisei-kaku-gothic-std\r\n  [5]: https://learn.microsoft.com/en-us/typography/font-list/simhei?source=recommendations\r\n  [6]: https://learn.microsoft.com/en-us/typography/font-list/simsun","title":"Using iTextpdf version 5.5 and itext-asian 5.2 kanji charachter &#134071; is not displaying on PDF","body":"<h3>Creating a font by name and encoding</h3>\n<p>You called the method <code>BaseFont.createFont(String name, String encoding, boolean embedded)</code> correctly.</p>\n<p>The <code>AsianFontMapper</code> class has those constants for 2 font names and 4 encodings:</p>\n<pre><code>// font names\n    public static final String JapaneseFont_Go = &quot;HeiseiKakuGo-W5&quot;;\n    public static final String JapaneseFont_Min = &quot;HeiseiMin-W3&quot;;\n// encodings\n    public static final String JapaneseEncoding_H = &quot;UniJIS-UCS2-H&quot;;\n    public static final String JapaneseEncoding_V = &quot;UniJIS-UCS2-V&quot;;\n    public static final String JapaneseEncoding_HW_H = &quot;UniJIS-UCS2-HW-H&quot;;\n    public static final String JapaneseEncoding_HW_V = &quot;UniJIS-UCS2-HW-V&quot;;\n</code></pre>\n<p>The <a href=\"https://www.kanshudo.com/kanji/%F0%A0%AE%B7\" rel=\"nofollow noreferrer\">Kanji character <code></code> for &quot;earth&quot;</a> should be supported by above Japanese fonts of <em>Heisei</em> family and all of those encodings.</p>\n<h3>Japanese font must be present on your system</h3>\n<p>Make sure that they are available the system creating and viewing the PDF.</p>\n<p>When using <code>embedded = false</code> to keep the PDF-size small, they must also been present on the viewing system.</p>\n<p>See Wikipedia article: <em>List of CJK fonts</em>, especially the table for <a href=\"https://en.wikipedia.org/wiki/List_of_CJK_fonts#Japanese_2\" rel=\"nofollow noreferrer\">Japanese</a>:</p>\n<ul>\n<li>Adobe provides the above named <a href=\"https://fonts.adobe.com/fonts/heisei-mincho-std\" rel=\"nofollow noreferrer\"><code>Heisei Mincho</code></a> font-family and <a href=\"https://fonts.adobe.com/fonts/heisei-kaku-gothic-std\" rel=\"nofollow noreferrer\"><code>Heisei Kaku Gothic</code></a>.</li>\n<li>Microsoft supports the Japanese script with font-families like <a href=\"https://learn.microsoft.com/en-us/typography/font-list/simhei?source=recommendations\" rel=\"nofollow noreferrer\"><code>SimHei</code></a> or <a href=\"https://learn.microsoft.com/en-us/typography/font-list/simsun\" rel=\"nofollow noreferrer\"><code>SimSun</code></a>.</li>\n<li>From Google you can download <a href=\"https://fonts.google.com/?subset=japanese&amp;noto.script=Jpan\" rel=\"nofollow noreferrer\">Japanese fonts, e.g. the <code>Noto</code> family</a></li>\n</ul>\n"}],"owner":{"account_id":14886649,"reputation":1,"user_id":10749635,"display_name":"Vivek Tailang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75034196,"answer_count":1,"score":-2,"last_activity_date":1673026628,"creation_date":1673001717,"question_id":75029883,"body_markdown":"Creating PDF using\r\n* iTextpdf version 5.5.13.3\r\n* itext-asian 5.2.0\r\n\r\nOnly kanji character `&#134071;` is not displayed,\r\nbut all other Japanese characters are displayed on created PDF.\r\n\r\n### Code\r\nUsed to set the BaseFont\r\n```\r\nBaseFont bfJapanese = BaseFont.createFont(\r\n  AsianFontMapper.JapaneseFont_Min,\r\n  AsianFontMapper.JapaneseEncoding_H,\r\n  BaseFont.NOT_EMBEDDED\r\n);\r\n```\r\nIs there any other way to set the Japanese fonts?","title":"Using iTextpdf version 5.5 and itext-asian 5.2 kanji charachter &#134071; is not displaying on PDF","body":"<p>Creating PDF using</p>\n<ul>\n<li>iTextpdf version 5.5.13.3</li>\n<li>itext-asian 5.2.0</li>\n</ul>\n<p>Only kanji character <code></code> is not displayed,\nbut all other Japanese characters are displayed on created PDF.</p>\n<h3>Code</h3>\n<p>Used to set the BaseFont</p>\n<pre><code>BaseFont bfJapanese = BaseFont.createFont(\n  AsianFontMapper.JapaneseFont_Min,\n  AsianFontMapper.JapaneseEncoding_H,\n  BaseFont.NOT_EMBEDDED\n);\n</code></pre>\n<p>Is there any other way to set the Japanese fonts?</p>\n"},{"tags":["java","spring-boot","jpa","java-time","localdate"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673007703,"post_id":75030785,"comment_id":132406186,"body_markdown":"1664584019 equals GMT: Saturday 1. October 2022 00:26:59. So it seems you got the correct date in this case, but where the time 18:39:59.0 comes from is a mystery to me.","body":"1664584019 equals GMT: Saturday 1. October 2022 00:26:59. So it seems you got the correct date in this case, but where the time 18:39:59.0 comes from is a mystery to me."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673007960,"post_id":75030785,"comment_id":132406261,"body_markdown":"In Java its easy enough: `Instant.ofEpochSecond(1664584019).atOffset(ZoneOffset.UTC).toLocalDate()`. How much of that works in a JOQL query I dont know. If all else fails, you may convert the first and the last timestamp of the current date to epoch timestamps and select events between them.","body":"In Java its easy enough: <code>Instant.ofEpochSecond(1664584019).atOffset(ZoneOffset.UTC).t&zwnj;&#8203;oLocalDate()</code>. How much of that works in a JOQL query I dont know. If all else fails, you may convert the first and the last timestamp of the current date to epoch timestamps and select events between them."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673008005,"post_id":75030785,"comment_id":132406271,"body_markdown":"Lesson to learn: Do not store numeric timestamps in your database. Use `timestamp with time zone` data type.","body":"Lesson to learn: Do not store numeric timestamps in your database. Use <code>timestamp with time zone</code> data type."},{"owner":{"account_id":16194832,"reputation":582,"user_id":11692715,"display_name":"Mohit Kumar"},"score":0,"creation_date":1673008381,"post_id":75030785,"comment_id":132406361,"body_markdown":"Is there sill a way that somehow I will be able to use some SQL function which just convert the epoch to UTC time. I tried everything. And I know at the end if there were now choice, I have to use startTimestamp and endtimestamp","body":"Is there sill a way that somehow I will be able to use some SQL function which just convert the epoch to UTC time. I tried everything. And I know at the end if there were now choice, I have to use startTimestamp and endtimestamp"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673017016,"post_id":75030785,"comment_id":132409146,"body_markdown":"Does this answer your question? [How to select unix timestamp as date in Jooq?](https://stackoverflow.com/questions/60848890/how-to-select-unix-timestamp-as-date-in-jooq) Does this? [PostgreSQL: how to convert from Unix epoch to date?](https://stackoverflow.com/questions/16609722/postgresql-how-to-convert-from-unix-epoch-to-date) Also see [How to Convert a Unix Timestamp to a Date/Time Value in PostgreSQL](https://database.guide/how-to-convert-a-unix-timestamp-to-a-date-time-value-in-postgresql/).","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/60848890/how-to-select-unix-timestamp-as-date-in-jooq\">How to select unix timestamp as date in Jooq?</a> Does this? <a href=\"https://stackoverflow.com/questions/16609722/postgresql-how-to-convert-from-unix-epoch-to-date\">PostgreSQL: how to convert from Unix epoch to date?</a> Also see <a href=\"https://database.guide/how-to-convert-a-unix-timestamp-to-a-date-time-value-in-postgresql/\" rel=\"nofollow noreferrer\">How to Convert a Unix Timestamp to a Date/Time Value in PostgreSQL</a>."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673026559,"creation_date":1673026559,"answer_id":75034279,"question_id":75030785,"body_markdown":"&gt; Can anybody help me regarding how to convert epoch time to LocalDate?\r\n\r\nYou can convert the epoch seconds into an `Instant` which can subsequently be converted into an `OffsetDateTime` or `ZonedDateTime` depending on your time-zone requirement. Finally, you can get the `LocalDate` out of the `OffsetDateTime` or `ZonedDateTime` using its `.toLocalDate()` function.\r\n\r\n**Note**: The following demo uses `ZoneOffset.UTC`. You can use a different offset e.g. `ZoneOffset.of(&quot;+05:30&quot;)` to get an `OffsetDateTime` at this offset or a `ZoneId` e.g. `ZoneId.of(&quot;Asia/Kolkata&quot;)` to get a `ZonedDateTime` at this time-zone.\r\n\r\n**Demo**:\r\n\r\n    import java.time.Instant;\r\n    import java.time.LocalDate;\r\n    import java.time.ZoneOffset;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            long epochSeconds = 1664584019;\r\n            Instant instant = Instant.ofEpochSecond(epochSeconds);\r\n            System.out.println(instant);\r\n    \r\n            // Get LocalDate out of Instant\r\n            LocalDate date = instant.atOffset(ZoneOffset.UTC).toLocalDate();\r\n            System.out.println(date);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2022-10-01T00:26:59Z\r\n    2022-10-01\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/fmlRXv)\r\n\r\n**Note**: Since you want to compare a `LocalDate` at UTC with `curDate`, the value of `curDate` should also be obtained at UTC i.e. `curDate = LocalDate.now(ZoneOffset.UTC)`.\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n","title":"Spring boot convert epoch timestamp to java.time.LocalDate?","body":"<blockquote>\n<p>Can anybody help me regarding how to convert epoch time to LocalDate?</p>\n</blockquote>\n<p>You can convert the epoch seconds into an <code>Instant</code> which can subsequently be converted into an <code>OffsetDateTime</code> or <code>ZonedDateTime</code> depending on your time-zone requirement. Finally, you can get the <code>LocalDate</code> out of the <code>OffsetDateTime</code> or <code>ZonedDateTime</code> using its <code>.toLocalDate()</code> function.</p>\n<p><strong>Note</strong>: The following demo uses <code>ZoneOffset.UTC</code>. You can use a different offset e.g. <code>ZoneOffset.of(&quot;+05:30&quot;)</code> to get an <code>OffsetDateTime</code> at this offset or a <code>ZoneId</code> e.g. <code>ZoneId.of(&quot;Asia/Kolkata&quot;)</code> to get a <code>ZonedDateTime</code> at this time-zone.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.Instant;\nimport java.time.LocalDate;\nimport java.time.ZoneOffset;\n\nclass Main {\n    public static void main(String[] args) {\n        long epochSeconds = 1664584019;\n        Instant instant = Instant.ofEpochSecond(epochSeconds);\n        System.out.println(instant);\n\n        // Get LocalDate out of Instant\n        LocalDate date = instant.atOffset(ZoneOffset.UTC).toLocalDate();\n        System.out.println(date);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2022-10-01T00:26:59Z\n2022-10-01\n</code></pre>\n<p><a href=\"https://ideone.com/fmlRXv\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p><strong>Note</strong>: Since you want to compare a <code>LocalDate</code> at UTC with <code>curDate</code>, the value of <code>curDate</code> should also be obtained at UTC i.e. <code>curDate = LocalDate.now(ZoneOffset.UTC)</code>.</p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":16194832,"reputation":582,"user_id":11692715,"display_name":"Mohit Kumar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":980,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673026559,"creation_date":1673007080,"question_id":75030785,"body_markdown":"I want to compare LocalDate with the timestamp in database (Postgres with UTC timezone).\r\n\r\ncode I wrote\r\n\r\n    @Query(&quot;&quot;&quot;\r\n          select eve from Events eve\r\n          where cast(to_timestamp(pe.timestamp) as LocalDate)  = :curDate\r\n       &quot;&quot;&quot;)\r\n      List&lt;Event&gt; getAllByDate(LocalDate curDate);\r\n\r\n\r\nI added both\r\n\r\n      @PostConstruct\r\n      public void init(){\r\n        // Setting Spring Boot SetTimeZone\r\n        TimeZone.setDefault(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n      }\r\n\r\n\r\nand \r\n\r\n    spring.jpa.properties.hibernate.jdbc.time_zone=UTC\r\n\r\n\r\nthen I tried to run \r\n\r\nselect to_timestamp(eve.timestamp)\r\n\r\ninside @Query where eve.timestamp was 1664584019 and it converted into 2022-10-01 18:39:59.0\r\n\r\nFirst I through it is converting into IST (Indian standard time) but I think that also wrong.\r\n\r\n\r\nSo, Can anybody help me regarding how to convert epoch time to LocalDate to compare with LocalDate?","title":"Spring boot convert epoch timestamp to java.time.LocalDate?","body":"<p>I want to compare LocalDate with the timestamp in database (Postgres with UTC timezone).</p>\n<p>code I wrote</p>\n<pre><code>@Query(&quot;&quot;&quot;\n      select eve from Events eve\n      where cast(to_timestamp(pe.timestamp) as LocalDate)  = :curDate\n   &quot;&quot;&quot;)\n  List&lt;Event&gt; getAllByDate(LocalDate curDate);\n</code></pre>\n<p>I added both</p>\n<pre><code>  @PostConstruct\n  public void init(){\n    // Setting Spring Boot SetTimeZone\n    TimeZone.setDefault(TimeZone.getTimeZone(&quot;UTC&quot;));\n  }\n</code></pre>\n<p>and</p>\n<pre><code>spring.jpa.properties.hibernate.jdbc.time_zone=UTC\n</code></pre>\n<p>then I tried to run</p>\n<p>select to_timestamp(eve.timestamp)</p>\n<p>inside @Query where eve.timestamp was 1664584019 and it converted into 2022-10-01 18:39:59.0</p>\n<p>First I through it is converting into IST (Indian standard time) but I think that also wrong.</p>\n<p>So, Can anybody help me regarding how to convert epoch time to LocalDate to compare with LocalDate?</p>\n"},{"tags":["java","jsp","ear","wildfly-18","precompiled-binaries"],"owner":{"account_id":10418608,"reputation":201,"user_id":7681907,"accept_rate":100,"display_name":"ShraddhaJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673026548,"creation_date":1673026548,"question_id":75034275,"body_markdown":"Explanation:\r\n\r\nWe are using WildFly 18.0.1 in domain mode with one master and multiple slaves with jdk1.8.0_261.\r\nApplication is deployed on WildFly Master in zipped .ear format.\r\nApplication Ear Structure\r\n\r\n   ```\r\n     application.ear \r\n     -&gt; abc.war  \r\n        -&gt; file1.html\r\n        -&gt; file2.js\r\n        -&gt; ...\r\n        -&gt;  WEB-INF\r\n            -&gt; classes\r\n                -&gt; org\r\n                  -&gt; apache\r\n                    -&gt; jsp\r\n                       -&gt; com\r\n                          -&gt;test\r\n                             -&gt; test_005_login.class\r\n            -&gt;  web.xml\r\n            -&gt;  jboss-web.xml\r\n    -&gt; pqr.jar\r\n    -&gt; lib\r\n    -&gt; xyz.war\r\n    -&gt; META-INF\r\n        -&gt; application.xml\r\n        -&gt; jboss-deployment-structure.xml  \r\n```  \r\n\r\n We want to access test_login.jsp from pqr.jar and other wars, which has code to call test_login.jsp present in com/test folder.\r\n\r\n  In domain.xml we use following configuration for JSPs.\r\n   &lt;jsp-config mapped-file=&quot;false&quot; x-powered-by=&quot;false&quot; display-source-fragment=&quot;false&quot;/&gt;  \r\n\r\n**Note:\r\n   We want to avoid JSP servlet entries in web.xml as we have more than 100 JSPs**\r\n  ","title":"How to access pre-compiled JSP&#39;s classes present in WEB-INF/classes folder, when App is bundeled in ear format and deployed in WildFly server?","body":"<p>Explanation:</p>\n<p>We are using WildFly 18.0.1 in domain mode with one master and multiple slaves with jdk1.8.0_261.\nApplication is deployed on WildFly Master in zipped .ear format.\nApplication Ear Structure</p>\n<pre><code>  application.ear \n  -&gt; abc.war  \n     -&gt; file1.html\n     -&gt; file2.js\n     -&gt; ...\n     -&gt;  WEB-INF\n         -&gt; classes\n             -&gt; org\n               -&gt; apache\n                 -&gt; jsp\n                    -&gt; com\n                       -&gt;test\n                          -&gt; test_005_login.class\n         -&gt;  web.xml\n         -&gt;  jboss-web.xml\n -&gt; pqr.jar\n -&gt; lib\n -&gt; xyz.war\n -&gt; META-INF\n     -&gt; application.xml\n     -&gt; jboss-deployment-structure.xml  \n</code></pre>\n<p>We want to access test_login.jsp from pqr.jar and other wars, which has code to call test_login.jsp present in com/test folder.</p>\n<p>In domain.xml we use following configuration for JSPs.\n</p>\n<p><strong>Note:\nWe want to avoid JSP servlet entries in web.xml as we have more than 100 JSPs</strong></p>\n"},{"tags":["java","spring-boot","java-11"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1673026187,"post_id":75034153,"comment_id":132412268,"body_markdown":"Why is `&lt;java.version&gt;17&lt;/java.version&gt;` if you&#39;re targeting JDK 11?","body":"Why is <code>&lt;java.version&gt;17&lt;&#47;java.version&gt;</code> if you&#39;re targeting JDK 11?"},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1673026253,"post_id":75034153,"comment_id":132412288,"body_markdown":"Do you want the project to use Java 11 or Java 17?","body":"Do you want the project to use Java 11 or Java 17?"},{"owner":{"account_id":11884555,"reputation":191,"user_id":8697309,"display_name":"cabronHp"},"score":0,"creation_date":1673032717,"post_id":75034153,"comment_id":132414150,"body_markdown":"@Michael automatically Sprint initializr puts it","body":"@Michael automatically Sprint initializr puts it"}],"answers":[{"tags":[],"owner":{"account_id":11884555,"reputation":191,"user_id":8697309,"display_name":"cabronHp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673025797,"creation_date":1673025797,"answer_id":75034154,"question_id":75034153,"body_markdown":"According to [this article][1] Spring Boot 3.0 will require Java 17 (jdk 17). So during project generation change Spring Boot version from 3.* to 2.7.* and solved !\r\n\r\n\r\n  [1]: https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0","title":"Language level is invalid or missing in pom.xml. Current project JDK is 11. Specify language level in project","body":"<p>According to <a href=\"https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0\" rel=\"nofollow noreferrer\">this article</a> Spring Boot 3.0 will require Java 17 (jdk 17). So during project generation change Spring Boot version from 3.* to 2.7.* and solved !</p>\n"}],"owner":{"account_id":11884555,"reputation":191,"user_id":8697309,"display_name":"cabronHp"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1089,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673025797,"creation_date":1673025797,"question_id":75034153,"body_markdown":"I am generate the following project and its dependencies with Spring Boot 3 from Spring initializr\r\n\r\n[![Spring initializr][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4F3gT.png\r\n\r\nOpening and running project in Intellij IDEA the following output is returned\r\n\r\n    error: release version 17 not supported\r\n    \r\n    Language level is invalid or missing in pom.xml. Current project JDK is 11. Specify language level in webflux-project \r\n\r\n I have jdk 11 installed on my system\r\n\r\n    &gt; java --version\r\n    java 11.0.14 2022-01-18 LTS\r\n    Java(TM) SE Runtime Environment 18.9 (build 11.0.14+8-LTS-263)\r\n    Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.14+8-LTS-263, mixed mode)\r\n\r\npom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.gamesmall&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;webflux&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;name&gt;webflux&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot with WebFlux&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n            ...\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nhow to resolved this issue ?\r\n\r\n","title":"Language level is invalid or missing in pom.xml. Current project JDK is 11. Specify language level in project","body":"<p>I am generate the following project and its dependencies with Spring Boot 3 from Spring initializr</p>\n<p><a href=\"https://i.stack.imgur.com/4F3gT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4F3gT.png\" alt=\"Spring initializr\" /></a></p>\n<p>Opening and running project in Intellij IDEA the following output is returned</p>\n<pre><code>error: release version 17 not supported\n\nLanguage level is invalid or missing in pom.xml. Current project JDK is 11. Specify language level in webflux-project \n</code></pre>\n<p>I have jdk 11 installed on my system</p>\n<pre><code>&gt; java --version\njava 11.0.14 2022-01-18 LTS\nJava(TM) SE Runtime Environment 18.9 (build 11.0.14+8-LTS-263)\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.14+8-LTS-263, mixed mode)\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.gamesmall&lt;/groupId&gt;\n    &lt;artifactId&gt;webflux&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;webflux&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot with WebFlux&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        ...\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>how to resolved this issue ?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"owner":{"account_id":13975330,"reputation":149,"user_id":10092887,"display_name":"Flinty926"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673025681,"creation_date":1673025681,"question_id":75034129,"body_markdown":"Preface:\r\n - Using Springboot with JPA (MySQL) and JsonViews\r\n - Below `Community` entity works normally on it&#39;s own.\r\n - My JsonView I&#39;m trying to use is named Social.\r\n - My ultimate question is how can I fix the code below to either Lazy Load the community tags\r\n - Additionally; is it better to have 3/4 views that are linked to their function; i.e. `Brief` for list operations, `Social` for expanded resources and `Internal` for all data, or is it better to have a view like `UserBrief`, `UserExpanded` and so on?\r\n\r\nI have an Entity named `User`, with a `Many-One` relationship called `communities`, which is a set of the `Community` entity. In the `Community` entity, it has a Set of `CommunityTag` entities as a `Many-Many` relationship. All child relationships are Lazy loaded.\r\n\r\nI get the following error: \r\n```\r\nCould not write JSON: failed to lazily initialize a collection of role: core.models.\r\nCommunity.tags:\r\n```\r\n\r\nBelow is the relevant code of both Entities and the UserRepository class\r\nUser class:\r\n```java\r\n@Entity\r\n@Table(name=&quot;users&quot;)\r\n@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\npublic class User implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\r\n    @Getter @Setter\r\n    @JsonView({Views.Brief.class})\r\n    private Integer id;\r\n    ...\r\n    @Getter @Setter\r\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\r\n    @JsonView({Views.Social.class})\r\n    Set&lt;Community&gt; communities = new HashSet&lt;&gt;();\r\n```\r\nCommunity:\r\n```java\r\n@Entity\r\n@Table(name = &quot;communities&quot;)\r\n@ToString\r\n@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\npublic class Community implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Getter @Setter\r\n    @JsonView({Views.Brief.class, Views.Internal.class, Views.Social.class})\r\n    private Integer id;\r\n    ...\r\n    @Getter @Setter\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @Nullable\r\n    @JoinTable(\r\n            name = &quot;communities_tags&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;community_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;tag_id&quot;)\r\n    )\r\n    @ToString.Exclude\r\n    @JsonView(Views.Social.class)\r\n    private Set&lt;CommunityTag&gt; tags = new HashSet&lt;&gt;();\r\n}\r\n```\r\nUserRepository, extends JpaRepository:\r\n```java\r\n    @EntityGraph(attributePaths = {&quot;avatar&quot;, &quot;banner&quot;, &quot;communities&quot;})\r\n    List&lt;User&gt; findAllWithAvatarWithBannerWithCommunitiesByIdNotNull();\r\n```\r\nThanks for any help provided!\r\n","title":"Spring Boot JPA/JsonView Grandchild relationship","body":"<p>Preface:</p>\n<ul>\n<li>Using Springboot with JPA (MySQL) and JsonViews</li>\n<li>Below <code>Community</code> entity works normally on it's own.</li>\n<li>My JsonView I'm trying to use is named Social.</li>\n<li>My ultimate question is how can I fix the code below to either Lazy Load the community tags</li>\n<li>Additionally; is it better to have 3/4 views that are linked to their function; i.e. <code>Brief</code> for list operations, <code>Social</code> for expanded resources and <code>Internal</code> for all data, or is it better to have a view like <code>UserBrief</code>, <code>UserExpanded</code> and so on?</li>\n</ul>\n<p>I have an Entity named <code>User</code>, with a <code>Many-One</code> relationship called <code>communities</code>, which is a set of the <code>Community</code> entity. In the <code>Community</code> entity, it has a Set of <code>CommunityTag</code> entities as a <code>Many-Many</code> relationship. All child relationships are Lazy loaded.</p>\n<p>I get the following error:</p>\n<pre><code>Could not write JSON: failed to lazily initialize a collection of role: core.models.\nCommunity.tags:\n</code></pre>\n<p>Below is the relevant code of both Entities and the UserRepository class\nUser class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name=&quot;users&quot;)\n@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\npublic class User implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\n    @Getter @Setter\n    @JsonView({Views.Brief.class})\n    private Integer id;\n    ...\n    @Getter @Setter\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\n    @JsonView({Views.Social.class})\n    Set&lt;Community&gt; communities = new HashSet&lt;&gt;();\n</code></pre>\n<p>Community:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;communities&quot;)\n@ToString\n@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\npublic class Community implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Getter @Setter\n    @JsonView({Views.Brief.class, Views.Internal.class, Views.Social.class})\n    private Integer id;\n    ...\n    @Getter @Setter\n    @ManyToMany(fetch = FetchType.LAZY)\n    @Nullable\n    @JoinTable(\n            name = &quot;communities_tags&quot;,\n            joinColumns = @JoinColumn(name = &quot;community_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;tag_id&quot;)\n    )\n    @ToString.Exclude\n    @JsonView(Views.Social.class)\n    private Set&lt;CommunityTag&gt; tags = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p>UserRepository, extends JpaRepository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @EntityGraph(attributePaths = {&quot;avatar&quot;, &quot;banner&quot;, &quot;communities&quot;})\n    List&lt;User&gt; findAllWithAvatarWithBannerWithCommunitiesByIdNotNull();\n</code></pre>\n<p>Thanks for any help provided!</p>\n"},{"tags":["java","linux","logging","jar","cron"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1673025355,"post_id":75034065,"comment_id":132411994,"body_markdown":"What log file? cron will email you the output of the program it runs. Did you set up the email and check what it contains?","body":"What log file? cron will email you the output of the program it runs. Did you set up the email and check what it contains?"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1673025932,"post_id":75034065,"comment_id":132412181,"body_markdown":"@Robert It&#39;s often the case that Java apps won&#39;t write much or anything to stdout. Usually it&#39;s log4j/logback writing to a file. It&#39;s unclear which they&#39;re referring to.","body":"@Robert It&#39;s often the case that Java apps won&#39;t write much or anything to stdout. Usually it&#39;s log4j/logback writing to a file. It&#39;s unclear which they&#39;re referring to."},{"owner":{"account_id":12236597,"reputation":1,"user_id":8930820,"display_name":"RRS"},"score":0,"creation_date":1673026110,"post_id":75034065,"comment_id":132412237,"body_markdown":"Configuring log4j.properties in this project using log4j api for generating tracks.log whenever chron will run , it will generate &#39;logFile/tracks.log&#39; but cron not generated ,, Using direct jar command it generates successfully but crontab it is not generated.","body":"Configuring log4j.properties in this project using log4j api for generating tracks.log whenever chron will run , it will generate &#39;logFile/tracks.log&#39; but cron not generated ,, Using direct jar command it generates successfully but crontab it is not generated."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1673026272,"post_id":75034065,"comment_id":132412298,"body_markdown":"Is the cron user the same as the user you&#39;re running manually with? Maybe it&#39;s a unix file permissions issue and the cron user can&#39;t write to that dir.","body":"Is the cron user the same as the user you&#39;re running manually with? Maybe it&#39;s a unix file permissions issue and the cron user can&#39;t write to that dir."},{"owner":{"account_id":12236597,"reputation":1,"user_id":8930820,"display_name":"RRS"},"score":0,"creation_date":1673030367,"post_id":75034065,"comment_id":132413500,"body_markdown":"Ya , Michael cron user and loging user are same and permission also granted for this location .","body":"Ya , Michael cron user and loging user are same and permission also granted for this location ."},{"owner":{"account_id":308303,"reputation":36789,"user_id":620097,"display_name":"shellter"},"score":1,"creation_date":1673048768,"post_id":75034065,"comment_id":132417919,"body_markdown":"Maybe you need to post an [MCVE] coded version of the problem. Good luck.","body":"Maybe you need to post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> coded version of the problem. Good luck."}],"owner":{"account_id":12236597,"reputation":1,"user_id":8930820,"display_name":"RRS"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673025351,"creation_date":1673025249,"question_id":75034065,"body_markdown":"I run a cron job in Linux with jar files that executed successfully but the log file is not created.\r\n\r\n```\r\n*/10 * * * * java -jar /home/rrs/app.jar\r\n```","title":"Cron job is not creating logs after running jar in Java","body":"<p>I run a cron job in Linux with jar files that executed successfully but the log file is not created.</p>\n<pre><code>*/10 * * * * java -jar /home/rrs/app.jar\n</code></pre>\n"},{"tags":["java","android","database","date","simpledateformat"],"comments":[{"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"score":0,"creation_date":1673008591,"post_id":75031001,"comment_id":132406423,"body_markdown":"what you stored in your database can you give example.?","body":"what you stored in your database can you give example.?"},{"owner":{"account_id":8247829,"reputation":291,"user_id":6203399,"accept_rate":20,"display_name":"Abm"},"score":0,"creation_date":1673009639,"post_id":75031001,"comment_id":132406721,"body_markdown":"@Urvish Shiroya - U can refer to the screenshot which I have updated","body":"@Urvish Shiroya - U can refer to the screenshot which I have updated"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1673017401,"post_id":75031001,"comment_id":132409256,"body_markdown":"First of all consider throwing away the `SimpleDateFormat` and `Date` classes since they were always troublesome and a long outdated. You want to use `YearMonth` and potentially `DateTimeFormatter`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html).","body":"First of all consider throwing away the <code>SimpleDateFormat</code> and <code>Date</code> classes since they were always troublesome and a long outdated. You want to use <code>YearMonth</code> and potentially <code>DateTimeFormatter</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1673017772,"post_id":75031001,"comment_id":132409361,"body_markdown":"After you have retrieved your strings, you get your `YearMonth` from `YearMonth gspYm = Year.parse(gspYr).atMonth(Integer.parseInt(gspMonth));`. After that you may compare it to current month using for example `gspYm.equals(YearMonth.now(ZoneId.systemDefault()))`.","body":"After you have retrieved your strings, you get your <code>YearMonth</code> from <code>YearMonth gspYm = Year.parse(gspYr).atMonth(Integer.parseInt(gspMonth));</code>. After that you may compare it to current month using for example <code>gspYm.equals(YearMonth.now(ZoneId.systemDefault()))</code>."},{"owner":{"account_id":8247829,"reputation":291,"user_id":6203399,"accept_rate":20,"display_name":"Abm"},"score":1,"creation_date":1673065035,"post_id":75031001,"comment_id":132419666,"body_markdown":"@Ole V.V.  - Thanks! works","body":"@Ole V.V.  - Thanks! works"}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673025141,"creation_date":1673025141,"answer_id":75034037,"question_id":75031001,"body_markdown":"java.time\r\n--\r\nThe `java.util` date-time API and their formatting API, `SimpleDateFormat` were supplanted by the [modern date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html) in Mar 2014. Since then, it is highly recommended to stop using the legacy date-time API.\r\n\r\n### Solution using `java.time`, the modern date-time API:\r\n\r\nThe `java.time` API provides you with [`Year`](https://docs.oracle.com/javase/8/docs/api/java/time/Year.html) that you can combine with a month using [`Year#atMonth`](https://docs.oracle.com/javase/8/docs/api/java/time/Year.html#atMonth-int-) to get a [`YearMonth`](https://docs.oracle.com/javase/8/docs/api/java/time/YearMonth.html). A `YearMonth` can be compared with another using its methods like [`YearMonth#isAfter`](https://docs.oracle.com/javase/8/docs/api/java/time/YearMonth.html#isAfter-java.time.YearMonth-), `YearMonth#isBefore` etc.\r\n\r\n**Demo**:\r\n\r\n    import java.time.Year;\r\n    import java.time.YearMonth;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            // Sample year and month strings\r\n            String strYear = &quot;2022&quot;;\r\n            String strMonth = &quot;9&quot;;\r\n            YearMonth ym = Year.of(Integer.parseInt(strYear))\r\n                               .atMonth(Integer.parseInt(strMonth));\r\n            System.out.println(ym);\r\n    \r\n            // Comparing two instances of YearMonth\r\n            YearMonth currentYm = YearMonth.now();\r\n            if (ym.isAfter(currentYm))\r\n                System.out.println(ym + &quot; is after &quot; + currentYm);\r\n            else\r\n                System.out.println(ym + &quot; is before or equal to &quot; + currentYm);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2022-09\r\n    2022-09 is before or equal to 2023-01\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/eJyVjk)\r\n\r\nHow to implement it in your code?\r\n--\r\n\r\n    List&lt;YearMonth&gt; yearMonths = new ArrayList&lt;&gt;(gspApprovedMonth.size());\r\n    \r\n    // ...\r\n    \r\n    if(gspCu.moveToFirst()){\r\n        do {\r\n            String gspMonth = gspCu.getString(gspCu.getColumnIndex(Queryclass.GSP_APPROVED_MONTH));\r\n            String gspYr = gspCu.getString(gspCu.getColumnIndex(Queryclass.GSP_APPROVED_YEAR));\r\n    \r\n            yearMonths.add(Year.of(Integer.parseInt(gspYr))\r\n                               .atMonth(Integer.parseInt(gspMonth)));\r\n            // ...\r\n        } while (gspCu.moveToNext());\r\n    }\r\n    // ...\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n\r\n","title":"Android convert numbers into date format","body":"<h2>java.time</h2>\n<p>The <code>java.util</code> date-time API and their formatting API, <code>SimpleDateFormat</code> were supplanted by the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern date-time API</a> in Mar 2014. Since then, it is highly recommended to stop using the legacy date-time API.</p>\n<h3>Solution using <code>java.time</code>, the modern date-time API:</h3>\n<p>The <code>java.time</code> API provides you with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Year.html\" rel=\"nofollow noreferrer\"><code>Year</code></a> that you can combine with a month using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Year.html#atMonth-int-\" rel=\"nofollow noreferrer\"><code>Year#atMonth</code></a> to get a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/YearMonth.html\" rel=\"nofollow noreferrer\"><code>YearMonth</code></a>. A <code>YearMonth</code> can be compared with another using its methods like <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/YearMonth.html#isAfter-java.time.YearMonth-\" rel=\"nofollow noreferrer\"><code>YearMonth#isAfter</code></a>, <code>YearMonth#isBefore</code> etc.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.Year;\nimport java.time.YearMonth;\n\nclass Main {\n    public static void main(String[] args) {\n        // Sample year and month strings\n        String strYear = &quot;2022&quot;;\n        String strMonth = &quot;9&quot;;\n        YearMonth ym = Year.of(Integer.parseInt(strYear))\n                           .atMonth(Integer.parseInt(strMonth));\n        System.out.println(ym);\n\n        // Comparing two instances of YearMonth\n        YearMonth currentYm = YearMonth.now();\n        if (ym.isAfter(currentYm))\n            System.out.println(ym + &quot; is after &quot; + currentYm);\n        else\n            System.out.println(ym + &quot; is before or equal to &quot; + currentYm);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2022-09\n2022-09 is before or equal to 2023-01\n</code></pre>\n<p><a href=\"https://ideone.com/eJyVjk\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<h2>How to implement it in your code?</h2>\n<pre><code>List&lt;YearMonth&gt; yearMonths = new ArrayList&lt;&gt;(gspApprovedMonth.size());\n\n// ...\n\nif(gspCu.moveToFirst()){\n    do {\n        String gspMonth = gspCu.getString(gspCu.getColumnIndex(Queryclass.GSP_APPROVED_MONTH));\n        String gspYr = gspCu.getString(gspCu.getColumnIndex(Queryclass.GSP_APPROVED_YEAR));\n\n        yearMonths.add(Year.of(Integer.parseInt(gspYr))\n                           .atMonth(Integer.parseInt(gspMonth)));\n        // ...\n    } while (gspCu.moveToNext());\n}\n// ...\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":8247829,"reputation":291,"user_id":6203399,"accept_rate":20,"display_name":"Abm"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75034037,"answer_count":1,"score":1,"last_activity_date":1673025141,"creation_date":1673008404,"question_id":75031001,"body_markdown":"[![database][1]][1]I am storing month and year in my android database. I want to fetch it and convert it to date format so that I can match it with current month and year present in array. Im fetching it through ArrayList&lt;String&gt; but how to convert in date format and match?\r\n\r\n    private ArrayList&lt;String&gt; getGspApprovedMonthData() {\r\n        List&lt;Date&gt; dates = new ArrayList&lt;&gt;(gspApprovedMonth.size());\r\n        gspApprovedMonth.clear();\r\n        SqlDataStore sd = new SqlDataStore(this);\r\n        sd.open();\r\n        String gspQuery = &quot; SELECT * FROM &quot;+ TABLE_GSP_APPROVED_DATA;\r\n        Cursor gspCu = sd.getData(gspQuery);\r\n        if(gspCu.moveToFirst()){\r\n            do {\r\n                String gspMonth = gspCu.getString(gspCu.getColumnIndex(Queryclass.GSP_APPROVED_MONTH));\r\n                String gspYr = gspCu.getString(gspCu.getColumnIndex(Queryclass.GSP_APPROVED_YEAR));\r\n\r\n                gspApprovedMonth.add(gspMonth+gspYr);\r\n            } while (gspCu.moveToNext());\r\n        }\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n        for (String dateString : gspApprovedMonth) {\r\n            try {\r\n                dates.add(sdf.parse(dateString));\r\n            } catch (ParseException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        gspCu.close();\r\n        sd.close();\r\n        return gspApprovedMonth;\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I8CHx.png","title":"Android convert numbers into date format","body":"<p><a href=\"https://i.stack.imgur.com/I8CHx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I8CHx.png\" alt=\"database\" /></a>I am storing month and year in my android database. I want to fetch it and convert it to date format so that I can match it with current month and year present in array. Im fetching it through ArrayList but how to convert in date format and match?</p>\n<pre><code>private ArrayList&lt;String&gt; getGspApprovedMonthData() {\n    List&lt;Date&gt; dates = new ArrayList&lt;&gt;(gspApprovedMonth.size());\n    gspApprovedMonth.clear();\n    SqlDataStore sd = new SqlDataStore(this);\n    sd.open();\n    String gspQuery = &quot; SELECT * FROM &quot;+ TABLE_GSP_APPROVED_DATA;\n    Cursor gspCu = sd.getData(gspQuery);\n    if(gspCu.moveToFirst()){\n        do {\n            String gspMonth = gspCu.getString(gspCu.getColumnIndex(Queryclass.GSP_APPROVED_MONTH));\n            String gspYr = gspCu.getString(gspCu.getColumnIndex(Queryclass.GSP_APPROVED_YEAR));\n\n            gspApprovedMonth.add(gspMonth+gspYr);\n        } while (gspCu.moveToNext());\n    }\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n    for (String dateString : gspApprovedMonth) {\n        try {\n            dates.add(sdf.parse(dateString));\n        } catch (ParseException e) {\n            e.printStackTrace();\n        }\n    }\n    gspCu.close();\n    sd.close();\n    return gspApprovedMonth;\n}\n</code></pre>\n"},{"tags":["java","json","object","gson"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1673025840,"post_id":75033978,"comment_id":132412149,"body_markdown":"You can parse any json into something generic such as a [`JsonObject`](https://www.javadoc.io/doc/com.google.code.gson/gson/2.8.5/com/google/gson/JsonObject.html) with e.g. `JsonObject convertedObject = new Gson().fromJson(json, JsonObject.class);` or if your model is static make Java classes that represent your json (can even be generated by tools like https://www.jsonschema2pojo.org/)","body":"You can parse any json into something generic such as a <a href=\"https://www.javadoc.io/doc/com.google.code.gson/gson/2.8.5/com/google/gson/JsonObject.html\" rel=\"nofollow noreferrer\"><code>JsonObject</code></a> with e.g. <code>JsonObject convertedObject = new Gson().fromJson(json, JsonObject.class);</code> or if your model is static make Java classes that represent your json (can even be generated by tools like <a href=\"https://www.jsonschema2pojo.org/\" rel=\"nofollow noreferrer\">jsonschema2pojo.org</a>)"}],"owner":{"account_id":22516755,"reputation":13,"user_id":16710861,"display_name":"Tech Info"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673024967,"creation_date":1673024741,"question_id":75033978,"body_markdown":"I want to get the value of description in Title(textview)\r\n\r\nHere is json :\r\n\r\n```json\r\n{\r\n  &quot;kind&quot;: &quot;youtube#videoListResponse&quot;,\r\n  &quot;etag&quot;: &quot;HCuE2tlv6pL-pkBXCa6_p5vmZGc&quot;,\r\n  &quot;items&quot;: [\r\n    {\r\n      &quot;kind&quot;: &quot;youtube#video&quot;,\r\n      &quot;etag&quot;: &quot;yDMBbFsSFuOYTDqCooA3YoiGb_0&quot;,\r\n      &quot;id&quot;: &quot;omHuhbtWIY0&quot;,\r\n      &quot;snippet&quot;: {\r\n        &quot;publishedAt&quot;: &quot;2022-03-11T12:40:37Z&quot;,\r\n        &quot;channelId&quot;: &quot;UCIjzLN8bj7Qv5daGJqj9rHA&quot;,\r\n        &quot;title&quot;: &quot;HTML creator master&quot;,\r\n        &quot;description&quot;: &quot;App Link - https://technical-studio-develop-7a3b1.web.app/\\n\\n00:00 Intro\\n00:08 Introducing to app\\n\\n\\n-----------------------------------------------\\nCopyright Disclaimer under Section 107 of the copyright act 1976, allowance is made for fair use for purposes such as criticism, comment, news reporting, scholarship, and research. Fair use is a use permitted by copyright statute that might otherwise be infringing. Non-profit, educational or personal use tips the balance in favour of fair use.&quot;,\r\n        &quot;thumbnails&quot;: {\r\n          &quot;default&quot;: {\r\n            &quot;url&quot;: &quot;https://i.ytimg.com/vi/omHuhbtWIY0/default.jpg&quot;,\r\n            &quot;width&quot;: 120,\r\n            &quot;height&quot;: 90\r\n          },\r\n          &quot;medium&quot;: {\r\n            &quot;url&quot;: &quot;https://i.ytimg.com/vi/omHuhbtWIY0/mqdefault.jpg&quot;,\r\n            &quot;width&quot;: 320,\r\n            &quot;height&quot;: 180\r\n          },\r\n          &quot;high&quot;: {\r\n            &quot;url&quot;: &quot;https://i.ytimg.com/vi/omHuhbtWIY0/hqdefault.jpg&quot;,\r\n            &quot;width&quot;: 480,\r\n            &quot;height&quot;: 360\r\n          },\r\n          &quot;standard&quot;: {\r\n            &quot;url&quot;: &quot;https://i.ytimg.com/vi/omHuhbtWIY0/sddefault.jpg&quot;,\r\n            &quot;width&quot;: 640,\r\n            &quot;height&quot;: 480\r\n          },\r\n          &quot;maxres&quot;: {\r\n            &quot;url&quot;: &quot;https://i.ytimg.com/vi/omHuhbtWIY0/maxresdefault.jpg&quot;,\r\n            &quot;width&quot;: 1280,\r\n            &quot;height&quot;: 720\r\n          }\r\n        },\r\n        &quot;channelTitle&quot;: &quot;Dream Programmers&quot;,\r\n        &quot;categoryId&quot;: &quot;22&quot;,\r\n        &quot;liveBroadcastContent&quot;: &quot;none&quot;,\r\n        &quot;localized&quot;: {\r\n          &quot;title&quot;: &quot;HTML creator master&quot;,\r\n          &quot;description&quot;: &quot;App Link - https://technical-studio-develop-7a3b1.web.app/\\n\\n00:00 Intro\\n00:08 Introducing to app\\n\\n\\n-----------------------------------------------\\nCopyright Disclaimer under Section 107 of the copyright act 1976, allowance is made for fair use for purposes such as criticism, comment, news reporting, scholarship, and research. Fair use is a use permitted by copyright statute that might otherwise be infringing. Non-profit, educational or personal use tips the balance in favour of fair use.&quot;\r\n        }\r\n      }\r\n    }\r\n  ],\r\n  &quot;pageInfo&quot;: {\r\n    &quot;totalResults&quot;: 1,\r\n    &quot;resultsPerPage&quot;: 1\r\n  }\r\n}\r\n```\r\n\r\nMy Java code:\r\n\r\n```\r\n_youtube_data_request_listener = new RequestNetwork.RequestListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void onResponse(String _param1, String _param2, HashMap&lt;String, Object&gt; _param3) {\r\n\t\t\t\tfinal String _tag = _param1;\r\n\t\t\t\tfinal String _response = _param2;\r\n\t\t\t\tfinal HashMap&lt;String, Object&gt; _responseHeaders = _param3;\r\n\r\n\t\t\t\t/*\r\n = new Gson().fromJson(&quot;&quot;, new TypeToken&lt;ArrayList&lt;String&gt;&gt;(){}.getType());\r\n*/\r\n\t\t\t\t_processdialog(false, &quot;&quot;);\r\n\t\t\t\tytData = new HashMap&lt;&gt;();\r\n\t\t\t\tytData = new Gson().fromJson(_response, new TypeToken&lt;HashMap&lt;String, Object&gt;&gt;(){}.getType());\r\n\t\t\t\ttitle.setText(ytData.get(&quot;items&quot;)[].snippet.title);\r\n\t\t\t\tytData.clear();\r\n\t\t\t}\r\n\r\n    \t\t@Override\r\n\t\t\tpublic void onErrorResponse(String _param1, String _param2) {\r\n\t\t\t\tfinal String _tag = _param1;\r\n\t\t\t\tfinal String _message = _param2;\r\n\t\t\t}\r\n\t\t};\r\n```\r\n\r\nI want to get the value in title and set it in title textview.","title":"How do I get value in object&gt;arrey&gt;object&gt;title","body":"<p>I want to get the value of description in Title(textview)</p>\n<p>Here is json :</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;kind&quot;: &quot;youtube#videoListResponse&quot;,\n  &quot;etag&quot;: &quot;HCuE2tlv6pL-pkBXCa6_p5vmZGc&quot;,\n  &quot;items&quot;: [\n    {\n      &quot;kind&quot;: &quot;youtube#video&quot;,\n      &quot;etag&quot;: &quot;yDMBbFsSFuOYTDqCooA3YoiGb_0&quot;,\n      &quot;id&quot;: &quot;omHuhbtWIY0&quot;,\n      &quot;snippet&quot;: {\n        &quot;publishedAt&quot;: &quot;2022-03-11T12:40:37Z&quot;,\n        &quot;channelId&quot;: &quot;UCIjzLN8bj7Qv5daGJqj9rHA&quot;,\n        &quot;title&quot;: &quot;HTML creator master&quot;,\n        &quot;description&quot;: &quot;App Link - https://technical-studio-develop-7a3b1.web.app/\\n\\n00:00 Intro\\n00:08 Introducing to app\\n\\n\\n-----------------------------------------------\\nCopyright Disclaimer under Section 107 of the copyright act 1976, allowance is made for fair use for purposes such as criticism, comment, news reporting, scholarship, and research. Fair use is a use permitted by copyright statute that might otherwise be infringing. Non-profit, educational or personal use tips the balance in favour of fair use.&quot;,\n        &quot;thumbnails&quot;: {\n          &quot;default&quot;: {\n            &quot;url&quot;: &quot;https://i.ytimg.com/vi/omHuhbtWIY0/default.jpg&quot;,\n            &quot;width&quot;: 120,\n            &quot;height&quot;: 90\n          },\n          &quot;medium&quot;: {\n            &quot;url&quot;: &quot;https://i.ytimg.com/vi/omHuhbtWIY0/mqdefault.jpg&quot;,\n            &quot;width&quot;: 320,\n            &quot;height&quot;: 180\n          },\n          &quot;high&quot;: {\n            &quot;url&quot;: &quot;https://i.ytimg.com/vi/omHuhbtWIY0/hqdefault.jpg&quot;,\n            &quot;width&quot;: 480,\n            &quot;height&quot;: 360\n          },\n          &quot;standard&quot;: {\n            &quot;url&quot;: &quot;https://i.ytimg.com/vi/omHuhbtWIY0/sddefault.jpg&quot;,\n            &quot;width&quot;: 640,\n            &quot;height&quot;: 480\n          },\n          &quot;maxres&quot;: {\n            &quot;url&quot;: &quot;https://i.ytimg.com/vi/omHuhbtWIY0/maxresdefault.jpg&quot;,\n            &quot;width&quot;: 1280,\n            &quot;height&quot;: 720\n          }\n        },\n        &quot;channelTitle&quot;: &quot;Dream Programmers&quot;,\n        &quot;categoryId&quot;: &quot;22&quot;,\n        &quot;liveBroadcastContent&quot;: &quot;none&quot;,\n        &quot;localized&quot;: {\n          &quot;title&quot;: &quot;HTML creator master&quot;,\n          &quot;description&quot;: &quot;App Link - https://technical-studio-develop-7a3b1.web.app/\\n\\n00:00 Intro\\n00:08 Introducing to app\\n\\n\\n-----------------------------------------------\\nCopyright Disclaimer under Section 107 of the copyright act 1976, allowance is made for fair use for purposes such as criticism, comment, news reporting, scholarship, and research. Fair use is a use permitted by copyright statute that might otherwise be infringing. Non-profit, educational or personal use tips the balance in favour of fair use.&quot;\n        }\n      }\n    }\n  ],\n  &quot;pageInfo&quot;: {\n    &quot;totalResults&quot;: 1,\n    &quot;resultsPerPage&quot;: 1\n  }\n}\n</code></pre>\n<p>My Java code:</p>\n<pre><code>_youtube_data_request_listener = new RequestNetwork.RequestListener() {\n            @Override\n            public void onResponse(String _param1, String _param2, HashMap&lt;String, Object&gt; _param3) {\n                final String _tag = _param1;\n                final String _response = _param2;\n                final HashMap&lt;String, Object&gt; _responseHeaders = _param3;\n\n                /*\n = new Gson().fromJson(&quot;&quot;, new TypeToken&lt;ArrayList&lt;String&gt;&gt;(){}.getType());\n*/\n                _processdialog(false, &quot;&quot;);\n                ytData = new HashMap&lt;&gt;();\n                ytData = new Gson().fromJson(_response, new TypeToken&lt;HashMap&lt;String, Object&gt;&gt;(){}.getType());\n                title.setText(ytData.get(&quot;items&quot;)[].snippet.title);\n                ytData.clear();\n            }\n\n            @Override\n            public void onErrorResponse(String _param1, String _param2) {\n                final String _tag = _param1;\n                final String _message = _param2;\n            }\n        };\n</code></pre>\n<p>I want to get the value in title and set it in title textview.</p>\n"},{"tags":["java","android","kotlin","android-intent","android-jetpack-compose"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1672969782,"post_id":75025837,"comment_id":132398601,"body_markdown":"If you override `onNewIntent` manually and add a log message, does that method actually get called at all?","body":"If you override <code>onNewIntent</code> manually and add a log message, does that method actually get called at all?"},{"owner":{"account_id":953524,"reputation":562,"user_id":979231,"accept_rate":67,"display_name":"HLB"},"score":0,"creation_date":1673012883,"post_id":75025837,"comment_id":132407685,"body_markdown":"No it does not.","body":"No it does not."},{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1673019116,"post_id":75025837,"comment_id":132409819,"body_markdown":"Then you&#39;ll need to compare the entries in your `AndroidManifest.xml` - do you see any difference in how the activity is defined there?","body":"Then you&#39;ll need to compare the entries in your <code>AndroidManifest.xml</code> - do you see any difference in how the activity is defined there?"}],"answers":[{"tags":[],"owner":{"account_id":953524,"reputation":562,"user_id":979231,"accept_rate":67,"display_name":"HLB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673024908,"creation_date":1673024908,"answer_id":75034002,"question_id":75025837,"body_markdown":"It seems it might be trying to setup the callback too early before context is available. This now works after wraping it in `peekAvailableContext()`\r\n\r\n```kotlin\r\n  DisposableEffect(key1 = result.value) {\r\n            peekAvailableContext().let {\r\n               Log.i(&quot;MainActivity&quot;,&quot;Setting up intent...&quot;)\r\n               val listener = Consumer&lt;Intent&gt;{\r\n                  Log.i(&quot;MainActivity&quot;,&quot;Receiving intent...&quot;)\r\n                  val decodedData = it?.getStringExtra(&quot;com.symbol.datawedge.data_string&quot;)\r\n                  if (decodedData!= null){\r\n                     viewModel.addBarcode(decodedData)\r\n                  }\r\n               }\r\n               addOnNewIntentListener(listener)\r\n               onDispose {\r\n                  Log.i(&quot;MainActivity&quot;,&quot;Removing intents...&quot;)\r\n                  removeOnNewIntentListener(listener)\r\n               }\r\n            }\r\n         }\r\n```","title":"How to use a broadcasted Intent with Jetpack&#39;s Compose ComponentActivity with addOnNewIntentListener callback","body":"<p>It seems it might be trying to setup the callback too early before context is available. This now works after wraping it in <code>peekAvailableContext()</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>  DisposableEffect(key1 = result.value) {\n            peekAvailableContext().let {\n               Log.i(&quot;MainActivity&quot;,&quot;Setting up intent...&quot;)\n               val listener = Consumer&lt;Intent&gt;{\n                  Log.i(&quot;MainActivity&quot;,&quot;Receiving intent...&quot;)\n                  val decodedData = it?.getStringExtra(&quot;com.symbol.datawedge.data_string&quot;)\n                  if (decodedData!= null){\n                     viewModel.addBarcode(decodedData)\n                  }\n               }\n               addOnNewIntentListener(listener)\n               onDispose {\n                  Log.i(&quot;MainActivity&quot;,&quot;Removing intents...&quot;)\n                  removeOnNewIntentListener(listener)\n               }\n            }\n         }\n</code></pre>\n"}],"owner":{"account_id":953524,"reputation":562,"user_id":979231,"accept_rate":67,"display_name":"HLB"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673024908,"creation_date":1672965483,"question_id":75025837,"body_markdown":"I am rewriting an app in Kotlin and Jetpack Compose from a React Native app I previously built and I can&#39;t seem to pick up an `Intent` being broadcasted from another application handling barcode scanning hardware. I&#39;m using the same [AndroidManifest.xml][1] that is filtering these same intents. This was working in the other app I built but I&#39;m now using  a newer SDK and library. The only main difference I see is that this is using `ComponentActivity` and the old app was using [AppCompatActivity (example here)][2]\r\n\r\nI added a some logging to see if its being called at all and I see &quot;Setting up intent..&quot; being called but the callback I add using `addOnNewIntentListener` doesn&#39;t seem to be called. \r\n\r\nIs there something I am missing or needs to be called elsewhere due to LifeCycle activity?\r\n\r\n```kotlin\r\npackage com.android.composefolderscanner\r\n import android.annotation.SuppressLint\r\n import android.content.Intent\r\n import android.os.Bundle\r\n import android.util.Log\r\n import androidx.activity.ComponentActivity\r\n import androidx.activity.compose.setContent\r\n import androidx.activity.viewModels\r\n import androidx.compose.runtime.DisposableEffect\r\n import androidx.compose.runtime.LaunchedEffect\r\n import androidx.compose.runtime.mutableStateOf\r\n import androidx.compose.runtime.remember\r\n import androidx.core.util.Consumer\r\n import com.android.composefolderscanner.services.*\r\n import com.android.composefolderscanner.ui.FolderApp\r\n import com.android.composefolderscanner.ui.screens.ScanViewModel\r\n import com.android.composefolderscanner.ui.theme.IgniteFolderScannerTheme\r\n import dagger.hilt.android.AndroidEntryPoint\r\n import javax.inject.Inject\r\n\r\n@AndroidEntryPoint\r\nclass MainActivity : ComponentActivity() {\r\n\r\n\r\n   private val viewModel: ScanViewModel by viewModels()\r\n   \r\n\r\n   @SuppressLint(&quot;MissingPermission&quot;, &quot;UnusedMaterialScaffoldPaddingParameter&quot;)\r\n   override fun onCreate(savedInstanceState: Bundle?) {\r\n      super.onCreate(savedInstanceState)\r\n      // setContent \r\n      setContent {\r\n         val resultV = remember { mutableStateOf&lt;Int?&gt;(101) }\r\n         // Use a disposable effect\r\n         DisposableEffect(key1 = resultV.value) {\r\n            Log.i(&quot;MainActivity&quot;,&quot;Setting up intent...&quot;)\r\n            val listener = Consumer&lt;Intent&gt;{\r\n               Log.i(&quot;MainActivity&quot;,&quot;Receiving intent...&quot;)\r\n               val decodedData = it?.getStringExtra(&quot;com.symbol.datawedge.data_string&quot;)\r\n               if (decodedData!= null){\r\n                  viewModel.addBarcode(decodedData)\r\n               }\r\n            }\r\n            // Hook callback\r\n            addOnNewIntentListener(listener)\r\n            onDispose {\r\n               Log.i(&quot;MainActivity&quot;,&quot;Removing intents...&quot;)\r\n               removeOnNewIntentListener(listener) }\r\n            }\r\n \r\n\r\n         IgniteFolderScannerTheme(useDarkTheme = true, content = {\r\n            FolderApp( )\r\n         })\r\n      }\r\n   }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/darryncampbell/DataWedge-GettingStarted-Samples/blob/master/Kotlin/app/src/main/AndroidManifest.xml\r\n  [2]: https://github.com/darryncampbell/DataWedge-GettingStarted-Samples/blob/master/Kotlin/app/src/main/java/com/darryncampbell/dwgettingstartedkotlin/MainActivity.kt","title":"How to use a broadcasted Intent with Jetpack&#39;s Compose ComponentActivity with addOnNewIntentListener callback","body":"<p>I am rewriting an app in Kotlin and Jetpack Compose from a React Native app I previously built and I can't seem to pick up an <code>Intent</code> being broadcasted from another application handling barcode scanning hardware. I'm using the same <a href=\"https://github.com/darryncampbell/DataWedge-GettingStarted-Samples/blob/master/Kotlin/app/src/main/AndroidManifest.xml\" rel=\"nofollow noreferrer\">AndroidManifest.xml</a> that is filtering these same intents. This was working in the other app I built but I'm now using  a newer SDK and library. The only main difference I see is that this is using <code>ComponentActivity</code> and the old app was using <a href=\"https://github.com/darryncampbell/DataWedge-GettingStarted-Samples/blob/master/Kotlin/app/src/main/java/com/darryncampbell/dwgettingstartedkotlin/MainActivity.kt\" rel=\"nofollow noreferrer\">AppCompatActivity (example here)</a></p>\n<p>I added a some logging to see if its being called at all and I see &quot;Setting up intent..&quot; being called but the callback I add using <code>addOnNewIntentListener</code> doesn't seem to be called.</p>\n<p>Is there something I am missing or needs to be called elsewhere due to LifeCycle activity?</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package com.android.composefolderscanner\n import android.annotation.SuppressLint\n import android.content.Intent\n import android.os.Bundle\n import android.util.Log\n import androidx.activity.ComponentActivity\n import androidx.activity.compose.setContent\n import androidx.activity.viewModels\n import androidx.compose.runtime.DisposableEffect\n import androidx.compose.runtime.LaunchedEffect\n import androidx.compose.runtime.mutableStateOf\n import androidx.compose.runtime.remember\n import androidx.core.util.Consumer\n import com.android.composefolderscanner.services.*\n import com.android.composefolderscanner.ui.FolderApp\n import com.android.composefolderscanner.ui.screens.ScanViewModel\n import com.android.composefolderscanner.ui.theme.IgniteFolderScannerTheme\n import dagger.hilt.android.AndroidEntryPoint\n import javax.inject.Inject\n\n@AndroidEntryPoint\nclass MainActivity : ComponentActivity() {\n\n\n   private val viewModel: ScanViewModel by viewModels()\n   \n\n   @SuppressLint(&quot;MissingPermission&quot;, &quot;UnusedMaterialScaffoldPaddingParameter&quot;)\n   override fun onCreate(savedInstanceState: Bundle?) {\n      super.onCreate(savedInstanceState)\n      // setContent \n      setContent {\n         val resultV = remember { mutableStateOf&lt;Int?&gt;(101) }\n         // Use a disposable effect\n         DisposableEffect(key1 = resultV.value) {\n            Log.i(&quot;MainActivity&quot;,&quot;Setting up intent...&quot;)\n            val listener = Consumer&lt;Intent&gt;{\n               Log.i(&quot;MainActivity&quot;,&quot;Receiving intent...&quot;)\n               val decodedData = it?.getStringExtra(&quot;com.symbol.datawedge.data_string&quot;)\n               if (decodedData!= null){\n                  viewModel.addBarcode(decodedData)\n               }\n            }\n            // Hook callback\n            addOnNewIntentListener(listener)\n            onDispose {\n               Log.i(&quot;MainActivity&quot;,&quot;Removing intents...&quot;)\n               removeOnNewIntentListener(listener) }\n            }\n \n\n         IgniteFolderScannerTheme(useDarkTheme = true, content = {\n            FolderApp( )\n         })\n      }\n   }\n}\n</code></pre>\n"},{"tags":["java","c#","libreoffice","libreoffice-calc","uno"],"answers":[{"tags":[],"owner":{"account_id":6602823,"reputation":13044,"user_id":5100564,"accept_rate":100,"display_name":"Jim K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673024803,"creation_date":1673024803,"answer_id":75033987,"question_id":75021727,"body_markdown":"Get the list of items from the row field. Here is a Basic example that checks even-numbered boxes.\r\n\r\n&lt;!-- language: vba --&gt;\r\n\r\n\toRowItem = oDPTable.getRowFields().getByIndex(0)\r\n\toItems = oRowItem.getItems()\r\n\tFor i = 0 To oItems.getCount() - 1\r\n\t    oItem = oItems.getByIndex(i)\r\n\t    If (i Mod 2 = 0) Then\r\n\t    \toItem.setPropertyValue(&quot;IsHidden&quot;, False)\r\n\t    Else\r\n\t    \toItem.setPropertyValue(&quot;IsHidden&quot;, True)\r\n\t    End If\r\n\tNext\r\n\r\nIf you haven&#39;t yet, be sure to use an introspection tool such as [MRI][1].\r\n\r\n  [1]: https://extensions.libreoffice.org/en/extensions/show/mri-uno-object-inspection-tool","title":"Programmatically check/uncheck values of a DataPilot row field with the uno library","body":"<p>Get the list of items from the row field. Here is a Basic example that checks even-numbered boxes.</p>\n<pre class=\"lang-vb prettyprint-override\"><code>oRowItem = oDPTable.getRowFields().getByIndex(0)\noItems = oRowItem.getItems()\nFor i = 0 To oItems.getCount() - 1\n    oItem = oItems.getByIndex(i)\n    If (i Mod 2 = 0) Then\n        oItem.setPropertyValue(&quot;IsHidden&quot;, False)\n    Else\n        oItem.setPropertyValue(&quot;IsHidden&quot;, True)\n    End If\nNext\n</code></pre>\n<p>If you haven't yet, be sure to use an introspection tool such as <a href=\"https://extensions.libreoffice.org/en/extensions/show/mri-uno-object-inspection-tool\" rel=\"nofollow noreferrer\">MRI</a>.</p>\n"}],"owner":{"account_id":16664646,"reputation":3,"user_id":12043697,"display_name":"Yiannis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75033987,"answer_count":1,"score":0,"last_activity_date":1673024803,"creation_date":1672937032,"question_id":75021727,"body_markdown":"I want to be able to programmatically filter a Calc DataPilot (pivot table) with C# or Java. \r\n\r\nAt the moment, I am able to do the below: \r\n1. go to the sheet that contains the DataPilot \r\n2. get a reference to the DataPilot \r\n3. Read its rowfields \r\n4. Get a reference to the rowfield of interest \r\n\r\n**Pending:** \r\n1. By default, all values under the row field are checked. From that list, I want to be uncheck all of them and keep only specific. \r\n\r\nIs this doable programmatically? If yes, what is the missing code to achieve this? \r\n\r\n**Current code**\r\n``` // get all sheets in my Calc document \r\nXSpreadsheetDocument xSpreadsheetDocument = (XSpreadsheetDocument)document; \r\nXSpreadsheets xSpreadsheets = xSpreadsheetDocument.getSheets(); \r\n\r\n//mSheetName is the name of the sheet that has the DataPilot I want to filter \r\n// get reference to the sheet that has my DataPilot \r\nXSpreadsheet sheet = (XSpreadsheet)xSpreadsheets.getByName(mSheetName).Value; \r\n\r\n//Get a reference to the DataPilot that I want to uncheck/check its row field values \r\nXDataPilotTablesSupplier xSupplier = (XDataPilotTablesSupplier)sheet; \r\nXDataPilotTables xSheetPilotTables = xSupplier.getDataPilotTables(); \r\n\r\n//mPivotTableName is the name of the DataPilot \r\nuno.Any xDPTableObj = xSheetPilotTables.getByName(mPivotTableName); \r\nXDataPilotTable xPilotTable = (XDataPilotTable)xDPTableObj.Value; \r\nXDataPilotDescriptor xDPDesc = (XDataPilotDescriptor)xPilotTable; \r\n\r\n// get available row fields\r\nXNameAccess rowFields = (XNameAccess)xDPDesc.getRowFields(); \r\n\r\n//get the row field of interest \r\n//mFieldName is the name of the row field \r\nuno.Any xRowItemObj = rowFields.getByName(mFieldName); \r\n``` \r\n\r\nExample: if we assume the xRowItemObj has 2 checked values (e.g. 1 and 2) how do I keep value 1 checked only?\r\n\r\nSo far, any research in forums and libreOffice Documentation did not return a result. I am not even sure if it is doable","title":"Programmatically check/uncheck values of a DataPilot row field with the uno library","body":"<p>I want to be able to programmatically filter a Calc DataPilot (pivot table) with C# or Java.</p>\n<p>At the moment, I am able to do the below:</p>\n<ol>\n<li>go to the sheet that contains the DataPilot</li>\n<li>get a reference to the DataPilot</li>\n<li>Read its rowfields</li>\n<li>Get a reference to the rowfield of interest</li>\n</ol>\n<p><strong>Pending:</strong></p>\n<ol>\n<li>By default, all values under the row field are checked. From that list, I want to be uncheck all of them and keep only specific.</li>\n</ol>\n<p>Is this doable programmatically? If yes, what is the missing code to achieve this?</p>\n<p><strong>Current code</strong></p>\n<pre><code>XSpreadsheetDocument xSpreadsheetDocument = (XSpreadsheetDocument)document; \nXSpreadsheets xSpreadsheets = xSpreadsheetDocument.getSheets(); \n\n//mSheetName is the name of the sheet that has the DataPilot I want to filter \n// get reference to the sheet that has my DataPilot \nXSpreadsheet sheet = (XSpreadsheet)xSpreadsheets.getByName(mSheetName).Value; \n\n//Get a reference to the DataPilot that I want to uncheck/check its row field values \nXDataPilotTablesSupplier xSupplier = (XDataPilotTablesSupplier)sheet; \nXDataPilotTables xSheetPilotTables = xSupplier.getDataPilotTables(); \n\n//mPivotTableName is the name of the DataPilot \nuno.Any xDPTableObj = xSheetPilotTables.getByName(mPivotTableName); \nXDataPilotTable xPilotTable = (XDataPilotTable)xDPTableObj.Value; \nXDataPilotDescriptor xDPDesc = (XDataPilotDescriptor)xPilotTable; \n\n// get available row fields\nXNameAccess rowFields = (XNameAccess)xDPDesc.getRowFields(); \n\n//get the row field of interest \n//mFieldName is the name of the row field \nuno.Any xRowItemObj = rowFields.getByName(mFieldName); \n</code></pre>\n<p>Example: if we assume the xRowItemObj has 2 checked values (e.g. 1 and 2) how do I keep value 1 checked only?</p>\n<p>So far, any research in forums and libreOffice Documentation did not return a result. I am not even sure if it is doable</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1519132624,"post_id":48886194,"comment_id":84777038,"body_markdown":"have you checked your settings.xml file?","body":"have you checked your settings.xml file?"},{"owner":{"account_id":3519928,"reputation":692,"user_id":2942487,"accept_rate":70,"display_name":"Mikhail Krutov"},"score":1,"creation_date":1519132989,"post_id":48886194,"comment_id":84777311,"body_markdown":"I didn&#39;t change anything there, and just removed ~/.m2 repo to be re-downloaded by mvn while building by-hand, so it should be all default. Looking into it now. Upd: yes, settings.xml just doesnt exist in ~/.m2 so all should be maven&#39;s defaults. Its not set to be overriden in IDEA as well.","body":"I didn&#39;t change anything there, and just removed ~/.m2 repo to be re-downloaded by mvn while building by-hand, so it should be all default. Looking into it now. Upd: yes, settings.xml just doesnt exist in ~/.m2 so all should be maven&#39;s defaults. Its not set to be overriden in IDEA as well."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1519134951,"post_id":48886194,"comment_id":84778546,"body_markdown":"The apache repo and sonatype snapshots are not used by default only Maven Central...nothing else if you don&#39;t have a settings.xml file...","body":"The apache repo and sonatype snapshots are not used by default only Maven Central...nothing else if you don&#39;t have a settings.xml file..."},{"owner":{"account_id":3519928,"reputation":692,"user_id":2942487,"accept_rate":70,"display_name":"Mikhail Krutov"},"score":0,"creation_date":1519137205,"post_id":48886194,"comment_id":84780035,"body_markdown":"repositories are declared in my `pom.xml` instead, not in settings.xml","body":"repositories are declared in my <code>pom.xml</code> instead, not in settings.xml"},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1519154398,"post_id":48886194,"comment_id":84790889,"body_markdown":"@MikhailKrutov Does your project build from the command line Maven? See also http://stackoverflow.com/a/42427510/104891.","body":"@MikhailKrutov Does your project build from the command line Maven? See also <a href=\"http://stackoverflow.com/a/42427510/104891\">stackoverflow.com/a/42427510/104891</a>."},{"owner":{"account_id":2339925,"reputation":15581,"user_id":2051454,"accept_rate":60,"display_name":"Software Engineer"},"score":1,"creation_date":1615500644,"post_id":48886194,"comment_id":117717746,"body_markdown":"Are you behind a proxy...?","body":"Are you behind a proxy...?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1615518336,"post_id":48886194,"comment_id":117721608,"body_markdown":"Have you tried quitting IntelliJ and rebooting the computer? Have you tried [clearing caches](https://www.jetbrains.com/help/idea/invalidate-caches.html) and restarting? What version of IntelliJ are you using? Have you tried updating to a later version of IntelliJ? For some other oddball things to try, see [this similar Question](https://stackoverflow.com/q/45365878/642706).","body":"Have you tried quitting IntelliJ and rebooting the computer? Have you tried <a href=\"https://www.jetbrains.com/help/idea/invalidate-caches.html\" rel=\"nofollow noreferrer\">clearing caches</a> and restarting? What version of IntelliJ are you using? Have you tried updating to a later version of IntelliJ? For some other oddball things to try, see <a href=\"https://stackoverflow.com/q/45365878/642706\">this similar Question</a>."}],"answers":[{"tags":[],"owner":{"account_id":12206338,"reputation":51,"user_id":8909336,"display_name":"bartoni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626791817,"creation_date":1626790821,"answer_id":68456533,"question_id":48886194,"body_markdown":"First, if you work in a big company/corporation, there&#39;s a good chance you&#39;re using a proxy, be sure to ask your coworkers about configuring your connection. Also, there is probably some Artifactory/Nexus repository in use, which also needs to be configured to allow dependencies to be downloaded. All of this information should be included in the `settings.xml` file, which should be in the Maven settings (or other build tool, but I only used Maven).\r\n\r\nThe other thing is that there are problems with the Maven bundled into Intellij. I tried configuring it in many ways inside the IDE, but unfortunately nothing helped, even though the `settings.xml` file was in the `.m2` folder.\r\n\r\nI installed a standalone Maven where I put the `settings.xml` file in the `/conf` folder. Then just point to the Maven location inside the IDE, preferably delete the contents of the `.m2` folder (this will remove both the local settings and the downloaded dependencies) and everything should work fine.\r\n\r\nAlso remember about VPN connection - sometimes downloading artifacts from repositories is only possible through it.","title":"IntelliJ idea can&#39;t update any maven repositories","body":"<p>First, if you work in a big company/corporation, there's a good chance you're using a proxy, be sure to ask your coworkers about configuring your connection. Also, there is probably some Artifactory/Nexus repository in use, which also needs to be configured to allow dependencies to be downloaded. All of this information should be included in the <code>settings.xml</code> file, which should be in the Maven settings (or other build tool, but I only used Maven).</p>\n<p>The other thing is that there are problems with the Maven bundled into Intellij. I tried configuring it in many ways inside the IDE, but unfortunately nothing helped, even though the <code>settings.xml</code> file was in the <code>.m2</code> folder.</p>\n<p>I installed a standalone Maven where I put the <code>settings.xml</code> file in the <code>/conf</code> folder. Then just point to the Maven location inside the IDE, preferably delete the contents of the <code>.m2</code> folder (this will remove both the local settings and the downloaded dependencies) and everything should work fine.</p>\n<p>Also remember about VPN connection - sometimes downloading artifacts from repositories is only possible through it.</p>\n"},{"tags":[],"owner":{"account_id":73486,"reputation":10443,"user_id":211614,"accept_rate":50,"display_name":"Michael Peterson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673024600,"creation_date":1673024600,"answer_id":75033947,"question_id":48886194,"body_markdown":"I have run into this many times also and the only solution that has worked is to restart IntelliJ which has worked every time.","title":"IntelliJ idea can&#39;t update any maven repositories","body":"<p>I have run into this many times also and the only solution that has worked is to restart IntelliJ which has worked every time.</p>\n"}],"owner":{"account_id":3519928,"reputation":692,"user_id":2942487,"accept_rate":70,"display_name":"Mikhail Krutov"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16798,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":75033947,"answer_count":2,"score":16,"last_activity_date":1673024600,"creation_date":1519132580,"question_id":48886194,"body_markdown":"Problem:\r\n\r\nI have a maven project that builds &amp; compiles fine using maven tool from command-line.\r\n\r\nThen I have IntelliJ IDEA that refuses to build said project, claiming that some of dependencies are not available.\r\n\r\nI&#39;ve found out that the root of the problem is in fact that IntelliJ can&#39;t connect to maven repositories which contain said dependencies. Of repositories, there are 3:\r\n\r\n1) apache&#39;s maven repo (https://repo.maven.apache.org/maven2)\r\n\r\n2) sonatype&#39;s oss repo (https://oss.sonatype.org/content/repositories/snapshots)\r\n\r\n3) company&#39;s internal repo (url omitted)\r\n\r\nAll three are available, accessible through browser for viewing, and dependencies from them are fetched using maven command line interface.\r\n\r\nBut, IntelliJ just says &quot;.. can&#39;t reconnect&quot; and shows errors about updating said repos. I&#39;ve tried to use different maven options (my local installation, 3.5.2; intellij&#39;s bundled maven2 and maven3), to no avail yet. \r\n\r\nAny idea why that could happened?","title":"IntelliJ idea can&#39;t update any maven repositories","body":"<p>Problem:</p>\n<p>I have a maven project that builds &amp; compiles fine using maven tool from command-line.</p>\n<p>Then I have IntelliJ IDEA that refuses to build said project, claiming that some of dependencies are not available.</p>\n<p>I've found out that the root of the problem is in fact that IntelliJ can't connect to maven repositories which contain said dependencies. Of repositories, there are 3:</p>\n<ol>\n<li><p>apache's maven repo (<a href=\"https://repo.maven.apache.org/maven2\" rel=\"noreferrer\">https://repo.maven.apache.org/maven2</a>)</p>\n</li>\n<li><p>sonatype's oss repo (<a href=\"https://oss.sonatype.org/content/repositories/snapshots\" rel=\"noreferrer\">https://oss.sonatype.org/content/repositories/snapshots</a>)</p>\n</li>\n<li><p>company's internal repo (url omitted)</p>\n</li>\n</ol>\n<p>All three are available, accessible through browser for viewing, and dependencies from them are fetched using maven command line interface.</p>\n<p>But, IntelliJ just says &quot;.. can't reconnect&quot; and shows errors about updating said repos. I've tried to use different maven options (my local installation, 3.5.2; intellij's bundled maven2 and maven3), to no avail yet.</p>\n<p>Any idea why that could happened?</p>\n"},{"tags":["java","json","spring-boot","pojo"],"comments":[{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1673024113,"post_id":75033295,"comment_id":132411611,"body_markdown":"So the code you have written is not working properly?","body":"So the code you have written is not working properly?"},{"owner":{"account_id":26662139,"reputation":45,"user_id":20274796,"display_name":"rsharma"},"score":0,"creation_date":1673170758,"post_id":75033295,"comment_id":132434407,"body_markdown":"No, this is not what i am expecting.","body":"No, this is not what i am expecting."}],"answers":[{"tags":[],"owner":{"account_id":18559672,"reputation":300,"user_id":13523946,"display_name":"notAPPP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673024190,"creation_date":1673024190,"answer_id":75033882,"question_id":75033295,"body_markdown":"You can check with: \r\nhttps://json2csharp.com/code-converters/json-to-pojo to map using ObjectMapper\r\n\r\nif your 7 rows will be always the same or just create ReportResponse with List of single entry (pojo) and map to obj e.g. ReportEntry (name, href) then just return this list as response","title":"How to convert JSON Object to JSON Array and map it to custom POJO?","body":"<p>You can check with:\n<a href=\"https://json2csharp.com/code-converters/json-to-pojo\" rel=\"nofollow noreferrer\">https://json2csharp.com/code-converters/json-to-pojo</a> to map using ObjectMapper</p>\n<p>if your 7 rows will be always the same or just create ReportResponse with List of single entry (pojo) and map to obj e.g. ReportEntry (name, href) then just return this list as response</p>\n"}],"owner":{"account_id":26662139,"reputation":45,"user_id":20274796,"display_name":"rsharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673024190,"creation_date":1673021033,"question_id":75033295,"body_markdown":"I have response like this\r\n\r\n    {\r\n    \t&quot;RCDSO - Production Environment Cost&quot;: {\r\n    \t\t&quot;href&quot;: &quot;href1&quot;\r\n    \t},\r\n    \t&quot;RCDSO - Development &amp; UAT Environment Cost&quot;: {\r\n    \t\t&quot;href&quot;: &quot;href2&quot;\r\n    \t},\r\n    \t&quot;RCDSO - Total Cost for Prod - Compugen Managed&quot;: {\r\n    \t\t&quot;href&quot;: &quot;href3&quot;\r\n    \t},\r\n    \t&quot;RCDSO - Virtual Machine Cost&quot;: {\r\n    \t\t&quot;href&quot;: &quot;href4&quot;\r\n    \t},\r\n    \t&quot;RCDSO - Azure File Storage Cost&quot;: {\r\n    \t\t&quot;href&quot;: &quot;href5&quot;\r\n    \t},\r\n    \t&quot;RCDSO - Azure Backup and Site Recovery&quot;: {\r\n    \t\t&quot;href&quot;: &quot;href6&quot;\r\n    \t},\r\n    \t&quot;RCDSO - Azure App Services Cost&quot;: {\r\n    \t\t&quot;href&quot;: &quot;href7&quot;\r\n    \t}\r\n    }\r\n\r\nI want to map above JSON into ReportResponse.java POJO class.\r\n\r\n    public class ReportResponse {\r\n    \tprivate String name;\r\n    \tprivate String href;\r\n    \t\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \tpublic String getHref() {\r\n    \t\treturn href;\r\n    \t}\r\n    \tpublic void setHref(String href) {\r\n    \t\tthis.href = href;\r\n    \t}\r\n    }\r\n\r\nSo that when I return JSON through my Rest API, response should look like as below:\r\n\r\n        {\r\n          &quot;response&quot;:[\r\n        \t{\r\n        \t\t&quot;name&quot; : &quot;RCDSO - Production Environment Cost&quot;,\r\n        \t\t&quot;href&quot; : &quot;href1&quot;\r\n        \t},\r\n        \t{\r\n        \t\t&quot;name&quot; : &quot;RCDSO - Development &amp; UAT Environment Cost&quot;,\r\n        \t\t&quot;href&quot; : &quot;href2&quot;\r\n        \t},\r\n        \t{\r\n        \t\t&quot;name&quot; : &quot;RCDSO - Total Cost for Prod - Compugen Managed&quot;,\r\n        \t\t&quot;href&quot; : &quot;href3&quot;\r\n        \t}\r\n        \t..... so on....\r\n        ]\r\n    }\r\nI have tried to get response from external API and extracted json object from it and then tried it to convert to json array.\r\n\r\n    public String getReportList(String clientApiId) {\r\n    \tString response = null;\r\n    \tResponseEntity&lt;String&gt; responseEntity = null;\r\n    \ttry {\r\n    \t\tfinal String url = &quot;https://chapi.cloudhealthtech.com/olap_reports/custom?client_api_id=&quot;+clientApiId;\r\n    \t\tRestTemplate restTemplate = new RestTemplate();\r\n    \t\tHttpHeaders header = new HttpHeaders();\r\n    \t\theader.add(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot;+apiKey);\r\n    \t\theader.add(HttpHeaders.ACCEPT, &quot;application/json&quot;);\r\n    \t\t\r\n    \t\tHttpEntity&lt;String&gt; requestEntity = new HttpEntity&lt;String&gt;(&quot;body&quot;,header);\r\n    \t\tresponseEntity = restTemplate.exchange(url, HttpMethod.GET, requestEntity, String.class);\r\n    \t\t\r\n    \t\tresponse = responseEntity.getBody();\r\n    \t\t\r\n    \t\tJSONObject obj = new JSONObject(response);\r\n    \t\tJSONObject linkJsonObj = obj.getJSONObject(&quot;links&quot;);\r\n    \t\t\r\n    \t\tIterator itr = linkJsonObj.keys();\r\n    \t\tJSONArray array = new JSONArray();\r\n    \t\twhile(itr.hasNext()) {\r\n    \t\t\tString key = (String)itr.next();\r\n    \t\t\tarray.put(linkJsonObj.get(key));\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;Json Array : &quot;+array);\r\n    \t} catch (Exception e) {\r\n    \t\tSystem.out.println(e.getMessage());\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    \treturn response;\r\n    }\r\n\r\n**Please help me to achieve expected JSON and to map to ReportResponse.java POJO class.**","title":"How to convert JSON Object to JSON Array and map it to custom POJO?","body":"<p>I have response like this</p>\n<pre><code>{\n    &quot;RCDSO - Production Environment Cost&quot;: {\n        &quot;href&quot;: &quot;href1&quot;\n    },\n    &quot;RCDSO - Development &amp; UAT Environment Cost&quot;: {\n        &quot;href&quot;: &quot;href2&quot;\n    },\n    &quot;RCDSO - Total Cost for Prod - Compugen Managed&quot;: {\n        &quot;href&quot;: &quot;href3&quot;\n    },\n    &quot;RCDSO - Virtual Machine Cost&quot;: {\n        &quot;href&quot;: &quot;href4&quot;\n    },\n    &quot;RCDSO - Azure File Storage Cost&quot;: {\n        &quot;href&quot;: &quot;href5&quot;\n    },\n    &quot;RCDSO - Azure Backup and Site Recovery&quot;: {\n        &quot;href&quot;: &quot;href6&quot;\n    },\n    &quot;RCDSO - Azure App Services Cost&quot;: {\n        &quot;href&quot;: &quot;href7&quot;\n    }\n}\n</code></pre>\n<p>I want to map above JSON into ReportResponse.java POJO class.</p>\n<pre><code>public class ReportResponse {\n    private String name;\n    private String href;\n    \n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public String getHref() {\n        return href;\n    }\n    public void setHref(String href) {\n        this.href = href;\n    }\n}\n</code></pre>\n<p>So that when I return JSON through my Rest API, response should look like as below:</p>\n<pre><code>    {\n      &quot;response&quot;:[\n        {\n            &quot;name&quot; : &quot;RCDSO - Production Environment Cost&quot;,\n            &quot;href&quot; : &quot;href1&quot;\n        },\n        {\n            &quot;name&quot; : &quot;RCDSO - Development &amp; UAT Environment Cost&quot;,\n            &quot;href&quot; : &quot;href2&quot;\n        },\n        {\n            &quot;name&quot; : &quot;RCDSO - Total Cost for Prod - Compugen Managed&quot;,\n            &quot;href&quot; : &quot;href3&quot;\n        }\n        ..... so on....\n    ]\n}\n</code></pre>\n<p>I have tried to get response from external API and extracted json object from it and then tried it to convert to json array.</p>\n<pre><code>public String getReportList(String clientApiId) {\n    String response = null;\n    ResponseEntity&lt;String&gt; responseEntity = null;\n    try {\n        final String url = &quot;https://chapi.cloudhealthtech.com/olap_reports/custom?client_api_id=&quot;+clientApiId;\n        RestTemplate restTemplate = new RestTemplate();\n        HttpHeaders header = new HttpHeaders();\n        header.add(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot;+apiKey);\n        header.add(HttpHeaders.ACCEPT, &quot;application/json&quot;);\n        \n        HttpEntity&lt;String&gt; requestEntity = new HttpEntity&lt;String&gt;(&quot;body&quot;,header);\n        responseEntity = restTemplate.exchange(url, HttpMethod.GET, requestEntity, String.class);\n        \n        response = responseEntity.getBody();\n        \n        JSONObject obj = new JSONObject(response);\n        JSONObject linkJsonObj = obj.getJSONObject(&quot;links&quot;);\n        \n        Iterator itr = linkJsonObj.keys();\n        JSONArray array = new JSONArray();\n        while(itr.hasNext()) {\n            String key = (String)itr.next();\n            array.put(linkJsonObj.get(key));\n        }\n        System.out.println(&quot;Json Array : &quot;+array);\n    } catch (Exception e) {\n        System.out.println(e.getMessage());\n        e.printStackTrace();\n    }\n    return response;\n}\n</code></pre>\n<p><strong>Please help me to achieve expected JSON and to map to ReportResponse.java POJO class.</strong></p>\n"},{"tags":["java","apache-kafka","spring-kafka","aws-glue","avro"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1672958675,"post_id":75022441,"comment_id":132396830,"body_markdown":"So the factory didn&#39;t compile, so where else is `consumerConfigs()` actually being used? In the logs, are you seeing `value.deserializer = ... StringDeserializer`, then? Why not configure deserializers [in the properties](https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.kafka)?","body":"So the factory didn&#39;t compile, so where else is <code>consumerConfigs()</code> actually being used? In the logs, are you seeing <code>value.deserializer = ... StringDeserializer</code>, then? Why not configure deserializers <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.kafka\" rel=\"nofollow noreferrer\">in the properties</a>?"},{"owner":{"account_id":13033096,"reputation":775,"user_id":9418902,"display_name":"Csisanyi"},"score":0,"creation_date":1672962991,"post_id":75022441,"comment_id":132397645,"body_markdown":"Could you please add your pom.xml (At least the dependencies concerning kafka and the schema registry). Also just as a naive question, have you generated the necessary classes from the avro schema(s)\nAnd as mentioned by @OneCricketeer what about application.properties?","body":"Could you please add your pom.xml (At least the dependencies concerning kafka and the schema registry). Also just as a naive question, have you generated the necessary classes from the avro schema(s) And as mentioned by @OneCricketeer what about application.properties?"},{"owner":{"account_id":15057950,"reputation":293,"user_id":10867687,"display_name":"Anand K"},"score":0,"creation_date":1673014777,"post_id":75022441,"comment_id":132408350,"body_markdown":"POM added @Csisanyi. Topics are written using the Kafka connect as GenericRecord., so no need for avro schema classes.","body":"POM added @Csisanyi. Topics are written using the Kafka connect as GenericRecord., so no need for avro schema classes."},{"owner":{"account_id":15057950,"reputation":293,"user_id":10867687,"display_name":"Anand K"},"score":0,"creation_date":1673014781,"post_id":75022441,"comment_id":132408351,"body_markdown":"@OneCricketeer, ConsumerConfigs() are only used in the ConsumerFactory. properties are set below, key and value are avro. And using springboot they are not deserializing key or value and it gives the above error (cant cast string to genericrecord). Works fine in regular java program.\n\n        config.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, GlueSchemaRegistryKafkaDeserializer.class.getName());\n        config.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, GlueSchemaRegistryKafkaDeserializer.class.getName());","body":"@OneCricketeer, ConsumerConfigs() are only used in the ConsumerFactory. properties are set below, key and value are avro. And using springboot they are not deserializing key or value and it gives the above error (cant cast string to genericrecord). Works fine in regular java program.          config.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, GlueSchemaRegistryKafkaDeserializer.class.getName());         config.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, GlueSchemaRegistryKafkaDeserializer.class.getName());"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673015944,"post_id":75022441,"comment_id":132408771,"body_markdown":"Spring is still a &quot;regular java program&quot;. If your method is never used, spring-kafka simply defaults to use StringDeserializer. Why not use property file?","body":"Spring is still a &quot;regular java program&quot;. If your method is never used, spring-kafka simply defaults to use StringDeserializer. Why not use property file?"},{"owner":{"account_id":15057950,"reputation":293,"user_id":10867687,"display_name":"Anand K"},"score":0,"creation_date":1673017012,"post_id":75022441,"comment_id":132409143,"body_markdown":"What I meant by regular java program is not using springboot.\nBoth consumer properties and glue configs are set in consumerConfigs() method. consumerConfigs() are used as argument in building consumerFactory(), and consumerFactory() is used as a argument in concurrentKafkaListenerContainerFactory(). So everything is set properly.","body":"What I meant by regular java program is not using springboot. Both consumer properties and glue configs are set in consumerConfigs() method. consumerConfigs() are used as argument in building consumerFactory(), and consumerFactory() is used as a argument in concurrentKafkaListenerContainerFactory(). So everything is set properly."}],"answers":[{"tags":[],"owner":{"account_id":15057950,"reputation":293,"user_id":10867687,"display_name":"Anand K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673024174,"creation_date":1673024174,"answer_id":75033878,"question_id":75022441,"body_markdown":"I figured out what the issue is. In the config class SpringBoot expects the factory bean name to be **kafkaListenerContainerFactory**. I named it **concurrentKafkaListenerContainerFactory** which is causing the issue of not loading the consumer and glue configurations properly.\r\n\r\n&gt; By default, a bean with name **kafkaListenerContainerFactory** is\r\n&gt; expected.\r\n\r\nhttps://docs.spring.io/spring-kafka/docs/current/reference/html/#kafka-listener-annotation\r\n","title":"Spring boot kafka consumer issue deserializing AVRO GENERIC_RECORD using Glue schema registry","body":"<p>I figured out what the issue is. In the config class SpringBoot expects the factory bean name to be <strong>kafkaListenerContainerFactory</strong>. I named it <strong>concurrentKafkaListenerContainerFactory</strong> which is causing the issue of not loading the consumer and glue configurations properly.</p>\n<blockquote>\n<p>By default, a bean with name <strong>kafkaListenerContainerFactory</strong> is\nexpected.</p>\n</blockquote>\n<p><a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#kafka-listener-annotation\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#kafka-listener-annotation</a></p>\n"}],"owner":{"account_id":15057950,"reputation":293,"user_id":10867687,"display_name":"Anand K"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2099,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75033878,"answer_count":1,"score":2,"last_activity_date":1673024174,"creation_date":1672940949,"question_id":75022441,"body_markdown":"I have topics written by kafka connect that are in AVRO GENERIC_RECORD format using Glue Schema Registry. I am able to consume those using the documentation using a plain java program. \r\nHowever I am having difficulty reading consuming them using spring boot application.\r\n\r\nMy simple config class\r\n \r\n```\r\n@EnableKafka\r\n@Configuration\r\n\r\npublic class KafkaAvroConsumerConfig {\r\n\r\n\t@Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\r\n\tprivate String brokers;\r\n\t@Value(&quot;${spring.kafka.consumer.group-id}&quot;)\r\n\tprivate String groupId;\r\n\r\n\t// Creating a Listener\r\n\t@Bean\r\n\tpublic ConcurrentKafkaListenerContainerFactory&lt;GenericRecord, GenericRecord&gt; concurrentKafkaListenerContainerFactory() {\r\n\t\tConcurrentKafkaListenerContainerFactory&lt;GenericRecord, GenericRecord&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n\t\tfactory.setConsumerFactory(consumerFactory());\r\n\t\treturn factory;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ConsumerFactory&lt;GenericRecord, GenericRecord&gt; consumerFactory() {\r\n\t\treturn new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs());\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Map&lt;String, Object&gt; consumerConfigs() {\r\n\t\t// Creating a Map of string-object pairs\r\n\t\tMap&lt;String, Object&gt; config = new HashMap&lt;&gt;();\r\n\r\n\t\t// Adding the Configuration\r\n\t\tconfig.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, brokers);\r\n\t\tconfig.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\r\n\r\n\t\tconfig.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, GlueSchemaRegistryKafkaDeserializer.class.getName());\r\n\t\tconfig.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, GlueSchemaRegistryKafkaDeserializer.class.getName());\r\n\r\n\t\tconfig.put(AWSSchemaRegistryConstants.AWS_REGION, region);\r\n\t\tconfig.put(AWSSchemaRegistryConstants.REGISTRY_NAME, registryName);\r\n\r\n\t\tconfig.put(AWSSchemaRegistryConstants.AVRO_RECORD_TYPE, AvroRecordType.GENERIC_RECORD.getName());\r\n\t\tconfig.put(AWSSchemaRegistryConstants.SCHEMA_NAMING_GENERATION_CLASS,\r\n\t\t\t\tMySchemaNamingStrategy.class.getName());\r\n\r\n\t\treturn config;\r\n\t}\r\n}\r\n\r\n```\r\n\r\nAnd listener class\r\n\r\n```\r\n@Component\r\n\r\npublic class KafkaAvroConsumer {\r\n\r\n\t@Autowired\r\n\tKafkaTemplate&lt;GenericRecord, GenericRecord&gt; kafkaTemplate;\r\n\r\n\t@KafkaListener(topics = &quot;gsr1.HR.DEPARTMENTS&quot;)\r\n\tpublic void listenDepartment(ConsumerRecord&lt;GenericRecord, GenericRecord&gt; record) {\r\n\r\n\t\t//System.out.println(&quot;DEPARTMENTS key   schema = &quot; + record.key().getSchema().toString());\r\n\t\tGenericRecord key = record.key();\r\n\t\tGenericRecord value = record.value();\r\n\t\tSystem.out.println(&quot;            record.key() = &quot; + key);\r\n\t\tSystem.out.println(&quot;          record.value() = &quot; + value);\r\n\t\tSystem.out.println(&quot;      Key  DEPARTMENT_ID = &quot; + key.get(&quot;DEPARTMENT_ID&quot;));\r\n\t\tSystem.out.println(&quot;         DEPARTMENT_NAME = &quot; + (String) value.get(&quot;DEPARTMENT_NAME&quot;));\r\n\t}\r\n\r\n}\r\n```\r\n\r\nThis gives me an error at &quot;GenericRecord key = record.key();&quot;, looks like they didn&#39;t get deserialized to GenericRecord, instead they are just raw bytes\r\n\r\n```\r\nCaused by: java.lang.ClassCastException: class java.lang.String cannot be cast to class org.apache.avro.generic.GenericRecord (java.lang.String is in module java.base of loader &#39;bootstrap&#39;; org.apache.avro.generic.GenericRecord is in unnamed module of loader &#39;app&#39;)\r\n```\r\n\r\nI was looking and in spring documentation the DefaultKafkaConsumerFactory method also takes key and value deserialization class also as parameters. So I tried to do this but that doesn&#39;t compile.. GlueSchemaRegistryKafkaDeserializer doesn&#39;t take type argument either \r\n```\r\n\tpublic ConsumerFactory&lt;GenericRecord, GenericRecord&gt; consumerFactory() {\r\n\t\tDeserializer&lt;GenericRecord&gt; avroDeser =  new GlueSchemaRegistryKafkaDeserializer();\r\n\t\tavroDeser.configure(consumerConfigs(), false);\r\n\t\treturn new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs(), avroDeser, avroDeser);\r\n\t}\r\n```\r\n\r\nAny help in how to get this to work.\r\nI put the question out in GSR github too https://github.com/awslabs/aws-glue-schema-registry/issues/241\r\n\r\nHere is the POM\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; \r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.test&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;SpringBootKafkaAvro&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;SpringBootKafkaAvro&lt;/name&gt;\r\n\t&lt;description&gt;Spring boot Kafka Avro using Glue Schema registry&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.glue&lt;/groupId&gt;\r\n            &lt;artifactId&gt;schema-registry-serde&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.14&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```","title":"Spring boot kafka consumer issue deserializing AVRO GENERIC_RECORD using Glue schema registry","body":"<p>I have topics written by kafka connect that are in AVRO GENERIC_RECORD format using Glue Schema Registry. I am able to consume those using the documentation using a plain java program.\nHowever I am having difficulty reading consuming them using spring boot application.</p>\n<p>My simple config class</p>\n<pre><code>@EnableKafka\n@Configuration\n\npublic class KafkaAvroConsumerConfig {\n\n    @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\n    private String brokers;\n    @Value(&quot;${spring.kafka.consumer.group-id}&quot;)\n    private String groupId;\n\n    // Creating a Listener\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;GenericRecord, GenericRecord&gt; concurrentKafkaListenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;GenericRecord, GenericRecord&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n        return factory;\n    }\n\n    @Bean\n    public ConsumerFactory&lt;GenericRecord, GenericRecord&gt; consumerFactory() {\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs());\n    }\n\n    @Bean\n    public Map&lt;String, Object&gt; consumerConfigs() {\n        // Creating a Map of string-object pairs\n        Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\n\n        // Adding the Configuration\n        config.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, brokers);\n        config.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\n\n        config.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, GlueSchemaRegistryKafkaDeserializer.class.getName());\n        config.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, GlueSchemaRegistryKafkaDeserializer.class.getName());\n\n        config.put(AWSSchemaRegistryConstants.AWS_REGION, region);\n        config.put(AWSSchemaRegistryConstants.REGISTRY_NAME, registryName);\n\n        config.put(AWSSchemaRegistryConstants.AVRO_RECORD_TYPE, AvroRecordType.GENERIC_RECORD.getName());\n        config.put(AWSSchemaRegistryConstants.SCHEMA_NAMING_GENERATION_CLASS,\n                MySchemaNamingStrategy.class.getName());\n\n        return config;\n    }\n}\n\n</code></pre>\n<p>And listener class</p>\n<pre><code>@Component\n\npublic class KafkaAvroConsumer {\n\n    @Autowired\n    KafkaTemplate&lt;GenericRecord, GenericRecord&gt; kafkaTemplate;\n\n    @KafkaListener(topics = &quot;gsr1.HR.DEPARTMENTS&quot;)\n    public void listenDepartment(ConsumerRecord&lt;GenericRecord, GenericRecord&gt; record) {\n\n        //System.out.println(&quot;DEPARTMENTS key   schema = &quot; + record.key().getSchema().toString());\n        GenericRecord key = record.key();\n        GenericRecord value = record.value();\n        System.out.println(&quot;            record.key() = &quot; + key);\n        System.out.println(&quot;          record.value() = &quot; + value);\n        System.out.println(&quot;      Key  DEPARTMENT_ID = &quot; + key.get(&quot;DEPARTMENT_ID&quot;));\n        System.out.println(&quot;         DEPARTMENT_NAME = &quot; + (String) value.get(&quot;DEPARTMENT_NAME&quot;));\n    }\n\n}\n</code></pre>\n<p>This gives me an error at &quot;GenericRecord key = record.key();&quot;, looks like they didn't get deserialized to GenericRecord, instead they are just raw bytes</p>\n<pre><code>Caused by: java.lang.ClassCastException: class java.lang.String cannot be cast to class org.apache.avro.generic.GenericRecord (java.lang.String is in module java.base of loader 'bootstrap'; org.apache.avro.generic.GenericRecord is in unnamed module of loader 'app')\n</code></pre>\n<p>I was looking and in spring documentation the DefaultKafkaConsumerFactory method also takes key and value deserialization class also as parameters. So I tried to do this but that doesn't compile.. GlueSchemaRegistryKafkaDeserializer doesn't take type argument either</p>\n<pre><code>    public ConsumerFactory&lt;GenericRecord, GenericRecord&gt; consumerFactory() {\n        Deserializer&lt;GenericRecord&gt; avroDeser =  new GlueSchemaRegistryKafkaDeserializer();\n        avroDeser.configure(consumerConfigs(), false);\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs(), avroDeser, avroDeser);\n    }\n</code></pre>\n<p>Any help in how to get this to work.\nI put the question out in GSR github too <a href=\"https://github.com/awslabs/aws-glue-schema-registry/issues/241\" rel=\"nofollow noreferrer\">https://github.com/awslabs/aws-glue-schema-registry/issues/241</a></p>\n<p>Here is the POM</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; \n    &lt;/parent&gt;\n    &lt;groupId&gt;com.test&lt;/groupId&gt;\n    &lt;artifactId&gt;SpringBootKafkaAvro&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;SpringBootKafkaAvro&lt;/name&gt;\n    &lt;description&gt;Spring boot Kafka Avro using Glue Schema registry&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.glue&lt;/groupId&gt;\n            &lt;artifactId&gt;schema-registry-serde&lt;/artifactId&gt;\n            &lt;version&gt;1.1.14&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","textures","graphics2d","affinetransform","batik"],"owner":{"account_id":22060406,"reputation":44,"user_id":16323206,"display_name":"jazznbass"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673024155,"creation_date":1673022519,"question_id":75033565,"body_markdown":"There is a simple modified version of TexturePaint that support internal transforms. This one works well, affine transforms inside contents, without altering graphics objects, only internal contents. It is being used in multi path fills.\r\nBut in order use it in Batik there must be a an extension handler that is able to reform this, I do not have the knowledge to do so, and I am looking for an alternative to just use a vanilla texturePatnt and transforms that can be recognized by Batik svg generator.\r\n\r\nIs there an alternative way to use affine transform (scale, rotate) in texturePaint contents without using the transform to the graphics2D object itself?  I mean just transform the internal fill (image, pattern etc), without applying the transform to its root shape.\r\n\r\nreferences:\r\nhttps://stackoverflow.com/questions/32572198/apply-affinetransform-to-texturepaint\r\n\r\n\r\n\r\n``` \r\n/*\r\n * @(#)TransformedTexturePaint.java\r\n *\r\n * $Date: 2011-05-02 16:01:45 -0500 (Mon, 02 May 2011) $\r\n *\r\n * Copyright (c) 2011 by Jeremy Wood.\r\n * All rights reserved.\r\n *\r\n * The copyright of this software is owned by Jeremy Wood. \r\n * You may not use, copy or modify this software, except in  \r\n * accordance with the license agreement you entered into with  \r\n * Jeremy Wood. For details see accompanying license terms.\r\n * \r\n * This software is probably, but not necessarily, discussed here:\r\n * http://javagraphics.java.net/\r\n * \r\n * That site should also contain the most recent official version\r\n * of this software.  (See the SVN repository for more details.)\r\n */\r\npackage com.bric.halftone;\r\n\r\nimport java.awt.Paint;\r\nimport java.awt.PaintContext;\r\nimport java.awt.Rectangle;\r\nimport java.awt.RenderingHints;\r\nimport java.awt.TexturePaint;\r\nimport java.awt.geom.AffineTransform;\r\nimport java.awt.geom.Rectangle2D;\r\nimport java.awt.image.BufferedImage;\r\nimport java.awt.image.ColorModel;\r\n\r\n/** This effectively extends &lt;code&gt;TexturePaint&lt;/code&gt; to support\r\n * arbitrary &lt;code&gt;AffineTransforms&lt;/code&gt; inside this paint object.\r\n * &lt;P&gt;This does not technically extend the &lt;code&gt;TexturePaint&lt;/code&gt;\r\n * class, although it does relay most calls to an internal\r\n * &lt;code&gt;TexturePaint&lt;/code&gt;.  This is because some graphics pipelines\r\n * (notably Java 1.4 on Mac) will fail to work the paint context\r\n * correctly if this class officially extends &lt;code&gt;TexturePaint&lt;/code&gt;.\r\n *\r\n */\r\npublic class TransformedTexturePaint implements Paint {\r\n\tTexturePaint texturePaint;\r\n\tAffineTransform transform;\r\n\r\n\tpublic TransformedTexturePaint(BufferedImage txtr, Rectangle2D anchor,AffineTransform transform) {\r\n\t\ttexturePaint = new TexturePaint(txtr, anchor);\r\n\t\tif(transform==null) transform = new AffineTransform();\r\n\t\t\r\n\t\tthis.transform = new AffineTransform(transform);\r\n\t}\r\n\t\r\n\tpublic AffineTransform getTransform() {\r\n\t\treturn transform;\r\n\t}\r\n\r\n\tpublic PaintContext createContext(ColorModel cm, Rectangle deviceBounds,\r\n\t\t\tRectangle2D userBounds, AffineTransform xform, RenderingHints hints) {\r\n\t\tAffineTransform newTransform = new AffineTransform(xform);\r\n\t\tnewTransform.concatenate(transform);\r\n\t\t//this is necessary on Java 1.4 toa void a NullPointerException\r\n\t\t//from: java.awt.TexturePaintContext.getContext(TexturePaintContext.java:57)\r\n\t\tif(hints==null)\r\n\t\t\thints = new RenderingHints(RenderingHints.KEY_COLOR_RENDERING, RenderingHints.VALUE_COLOR_RENDER_DEFAULT);\r\n\t\treturn texturePaint.createContext(cm, deviceBounds, userBounds, newTransform, hints);\r\n\t}\r\n\r\n\tpublic Rectangle2D getAnchorRect() {\r\n\t\treturn texturePaint.getAnchorRect();\r\n\t}\r\n\r\n\tpublic BufferedImage getImage() {\r\n\t\treturn texturePaint.getImage();\r\n\t}\r\n\r\n\tpublic int getTransparency() {\r\n\t\treturn texturePaint.getTransparency();\r\n\t}\r\n}\r\n``` ","title":"How to transform (scale, rotate) contents of a TexturePaint in java without transforming its root shape and then use it in Batik","body":"<p>There is a simple modified version of TexturePaint that support internal transforms. This one works well, affine transforms inside contents, without altering graphics objects, only internal contents. It is being used in multi path fills.\nBut in order use it in Batik there must be a an extension handler that is able to reform this, I do not have the knowledge to do so, and I am looking for an alternative to just use a vanilla texturePatnt and transforms that can be recognized by Batik svg generator.</p>\n<p>Is there an alternative way to use affine transform (scale, rotate) in texturePaint contents without using the transform to the graphics2D object itself?  I mean just transform the internal fill (image, pattern etc), without applying the transform to its root shape.</p>\n<p>references:\n<a href=\"https://stackoverflow.com/questions/32572198/apply-affinetransform-to-texturepaint\">Apply AffineTransform to TexturePaint</a></p>\n<pre><code>/*\n * @(#)TransformedTexturePaint.java\n *\n * $Date: 2011-05-02 16:01:45 -0500 (Mon, 02 May 2011) $\n *\n * Copyright (c) 2011 by Jeremy Wood.\n * All rights reserved.\n *\n * The copyright of this software is owned by Jeremy Wood. \n * You may not use, copy or modify this software, except in  \n * accordance with the license agreement you entered into with  \n * Jeremy Wood. For details see accompanying license terms.\n * \n * This software is probably, but not necessarily, discussed here:\n * http://javagraphics.java.net/\n * \n * That site should also contain the most recent official version\n * of this software.  (See the SVN repository for more details.)\n */\npackage com.bric.halftone;\n\nimport java.awt.Paint;\nimport java.awt.PaintContext;\nimport java.awt.Rectangle;\nimport java.awt.RenderingHints;\nimport java.awt.TexturePaint;\nimport java.awt.geom.AffineTransform;\nimport java.awt.geom.Rectangle2D;\nimport java.awt.image.BufferedImage;\nimport java.awt.image.ColorModel;\n\n/** This effectively extends &lt;code&gt;TexturePaint&lt;/code&gt; to support\n * arbitrary &lt;code&gt;AffineTransforms&lt;/code&gt; inside this paint object.\n * &lt;P&gt;This does not technically extend the &lt;code&gt;TexturePaint&lt;/code&gt;\n * class, although it does relay most calls to an internal\n * &lt;code&gt;TexturePaint&lt;/code&gt;.  This is because some graphics pipelines\n * (notably Java 1.4 on Mac) will fail to work the paint context\n * correctly if this class officially extends &lt;code&gt;TexturePaint&lt;/code&gt;.\n *\n */\npublic class TransformedTexturePaint implements Paint {\n    TexturePaint texturePaint;\n    AffineTransform transform;\n\n    public TransformedTexturePaint(BufferedImage txtr, Rectangle2D anchor,AffineTransform transform) {\n        texturePaint = new TexturePaint(txtr, anchor);\n        if(transform==null) transform = new AffineTransform();\n        \n        this.transform = new AffineTransform(transform);\n    }\n    \n    public AffineTransform getTransform() {\n        return transform;\n    }\n\n    public PaintContext createContext(ColorModel cm, Rectangle deviceBounds,\n            Rectangle2D userBounds, AffineTransform xform, RenderingHints hints) {\n        AffineTransform newTransform = new AffineTransform(xform);\n        newTransform.concatenate(transform);\n        //this is necessary on Java 1.4 toa void a NullPointerException\n        //from: java.awt.TexturePaintContext.getContext(TexturePaintContext.java:57)\n        if(hints==null)\n            hints = new RenderingHints(RenderingHints.KEY_COLOR_RENDERING, RenderingHints.VALUE_COLOR_RENDER_DEFAULT);\n        return texturePaint.createContext(cm, deviceBounds, userBounds, newTransform, hints);\n    }\n\n    public Rectangle2D getAnchorRect() {\n        return texturePaint.getAnchorRect();\n    }\n\n    public BufferedImage getImage() {\n        return texturePaint.getImage();\n    }\n\n    public int getTransparency() {\n        return texturePaint.getTransparency();\n    }\n}\n</code></pre>\n"},{"tags":["java","netty","graalvm-native-image"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1672886557,"post_id":75013326,"comment_id":132376130,"body_markdown":"[This netty issue](https://github.com/netty/netty/issues/10895) seems related. Anyway, seems to still be an issue. Maybe post a reproducer to this issue or create a new issue.","body":"<a href=\"https://github.com/netty/netty/issues/10895\" rel=\"nofollow noreferrer\">This netty issue</a> seems related. Anyway, seems to still be an issue. Maybe post a reproducer to this issue or create a new issue."},{"owner":{"account_id":8742474,"reputation":377,"user_id":6868978,"accept_rate":85,"display_name":"zipper"},"score":0,"creation_date":1672887999,"post_id":75013326,"comment_id":132376346,"body_markdown":"@Turing85 - thanks for the quick response. That issue was reported about a year ago and is still open. I just added a comment there.","body":"@Turing85 - thanks for the quick response. That issue was reported about a year ago and is still open. I just added a comment there."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1672889041,"post_id":75013326,"comment_id":132376491,"body_markdown":"I have seen [one comment](https://github.com/netty/netty/issues/10616#issuecomment-997282655) multiple times that adds runtime initialization configuration, but I think that this is unrelated. For a workaroudn, you could try running the compilation with the configuration suggested by GraalVM and try to figure out what gets initialized where at build time and write a corresponding configuration file.","body":"I have seen <a href=\"https://github.com/netty/netty/issues/10616#issuecomment-997282655\" rel=\"nofollow noreferrer\">one comment</a> multiple times that adds runtime initialization configuration, but I think that this is unrelated. For a workaroudn, you could try running the compilation with the configuration suggested by GraalVM and try to figure out what gets initialized where at build time and write a corresponding configuration file."},{"owner":{"account_id":8742474,"reputation":377,"user_id":6868978,"accept_rate":85,"display_name":"zipper"},"score":0,"creation_date":1672925799,"post_id":75013326,"comment_id":132385841,"body_markdown":"I tried `--initialize-at-run-time` with all possibly related classes, including class `io.netty.incubator.codec.quic.QuicheQuicChannel` following the output indications, and still got errors like: `Error encountered while parsing io.netty.incubator.codec.quic.QuicheQuicChannel.connect(java.util.function.Function, java.util.concurrent.Executor, long, int, boolean, java.nio.ByteBuffer, java.nio.ByteBuffer)\n` and `Detected an instance of Random/SplittableRandom class in the image heap`. I think the tool really needs to try resolving dependencies automatically.","body":"I tried <code>--initialize-at-run-time</code> with all possibly related classes, including class <code>io.netty.incubator.codec.quic.QuicheQuicChannel</code> following the output indications, and still got errors like: <code>Error encountered while parsing io.netty.incubator.codec.quic.QuicheQuicChannel.connect(java&zwnj;&#8203;.util.function.Funct&zwnj;&#8203;ion, java.util.concurrent.Executor, long, int, boolean, java.nio.ByteBuffer, java.nio.ByteBuffer) </code> and <code>Detected an instance of Random&#47;SplittableRandom class in the image heap</code>. I think the tool really needs to try resolving dependencies automatically."},{"owner":{"account_id":8742474,"reputation":377,"user_id":6868978,"accept_rate":85,"display_name":"zipper"},"score":0,"creation_date":1672984351,"post_id":75013326,"comment_id":132400563,"body_markdown":"Created [an issue at Netty](https://github.com/netty/netty/issues/13102).","body":"Created <a href=\"https://github.com/netty/netty/issues/13102\" rel=\"nofollow noreferrer\">an issue at Netty</a>."}],"answers":[{"tags":[],"owner":{"account_id":8742474,"reputation":377,"user_id":6868978,"accept_rate":85,"display_name":"zipper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673023982,"creation_date":1673023982,"answer_id":75033838,"question_id":75013326,"body_markdown":"I finally cracked the recipe:\r\n\r\n    native-image -jar myapp-1.0-jar-with-dependencies.jar myapp  \\\r\n     --initialize-at-build-time=org.slf4j.simple.SimpleLogger \\\r\n     --initialize-at-build-time=io.netty.util.internal.logging.Slf4JLoggerFactory \\\r\n     --initialize-at-build-time=io.netty.channel.MultithreadEventLoopGroup \\\r\n     --initialize-at-build-time=io.netty.util.internal.logging.InternalLoggerFactory \\\r\n     --initialize-at-build-time=org.slf4j.LoggerFactory \\\r\n     --initialize-at-run-time=io.netty.channel.DefaultFileRegion  \\\r\n     --initialize-at-run-time=io.netty.channel.epoll.Native  \\\r\n     --initialize-at-run-time=io.netty.channel.epoll.Epoll  \\\r\n     --initialize-at-run-time=io.netty.channel.epoll.EpollEventLoop  \\\r\n     --initialize-at-run-time=io.netty.channel.epoll.EpollEventArray  \\\r\n     --initialize-at-run-time=io.netty.channel.kqueue.KQueue  \\\r\n     --initialize-at-run-time=io.netty.channel.kqueue.KQueueEventLoop  \\\r\n     --initialize-at-run-time=io.netty.channel.kqueue.KQueueEventArray  \\\r\n     --initialize-at-run-time=io.netty.channel.kqueue.Native  \\\r\n     --initialize-at-run-time=io.netty.channel.unix.Limits  \\\r\n     --initialize-at-run-time=io.netty.channel.unix.Errors  \\\r\n     --initialize-at-run-time=io.netty.channel.unix.IovArray  \\\r\n     --initialize-at-run-time=io.netty.handler.ssl.BouncyCastleAlpnSslUtils  \\\r\n     --initialize-at-run-time=io.netty.incubator.codec.quic.InsecureQuicTokenHandler  \\\r\n     --initialize-at-run-time=io.netty.incubator.codec.quic.SecureRandomQuicConnectionIdGenerator \\\r\n     --report-unsupported-elements-at-runtime \\\r\n     -H:+ReportExceptionStackTraces\r\n\r\nNo secret but keep trying and studying the output and following the suggestions and adjusting. But it&#39;s not easy, I tried different combinations of `initialize-at-build-time` and `initialize-at-run-time` with all these classes. I think the tool may need to be improved to save this kind of try.\r\n\r\nRight now the jar file is compiled successfully (also thanks to [the help][1] from [@Karam][2]), but I am still struggling to handle some run-time exceptions prompted out from running the compiled output which never been thrown when running as a jar file.\r\n\r\n\r\n  [1]: https://github.com/quarkusio/quarkus/issues/21726\r\n  [2]: https://github.com/Karm","title":"GraalVM native image-image build error, report &#39;Error encountered while parsing io.netty.channel.nio.NioEventLoop.openSelector()&#39;","body":"<p>I finally cracked the recipe:</p>\n<pre><code>native-image -jar myapp-1.0-jar-with-dependencies.jar myapp  \\\n --initialize-at-build-time=org.slf4j.simple.SimpleLogger \\\n --initialize-at-build-time=io.netty.util.internal.logging.Slf4JLoggerFactory \\\n --initialize-at-build-time=io.netty.channel.MultithreadEventLoopGroup \\\n --initialize-at-build-time=io.netty.util.internal.logging.InternalLoggerFactory \\\n --initialize-at-build-time=org.slf4j.LoggerFactory \\\n --initialize-at-run-time=io.netty.channel.DefaultFileRegion  \\\n --initialize-at-run-time=io.netty.channel.epoll.Native  \\\n --initialize-at-run-time=io.netty.channel.epoll.Epoll  \\\n --initialize-at-run-time=io.netty.channel.epoll.EpollEventLoop  \\\n --initialize-at-run-time=io.netty.channel.epoll.EpollEventArray  \\\n --initialize-at-run-time=io.netty.channel.kqueue.KQueue  \\\n --initialize-at-run-time=io.netty.channel.kqueue.KQueueEventLoop  \\\n --initialize-at-run-time=io.netty.channel.kqueue.KQueueEventArray  \\\n --initialize-at-run-time=io.netty.channel.kqueue.Native  \\\n --initialize-at-run-time=io.netty.channel.unix.Limits  \\\n --initialize-at-run-time=io.netty.channel.unix.Errors  \\\n --initialize-at-run-time=io.netty.channel.unix.IovArray  \\\n --initialize-at-run-time=io.netty.handler.ssl.BouncyCastleAlpnSslUtils  \\\n --initialize-at-run-time=io.netty.incubator.codec.quic.InsecureQuicTokenHandler  \\\n --initialize-at-run-time=io.netty.incubator.codec.quic.SecureRandomQuicConnectionIdGenerator \\\n --report-unsupported-elements-at-runtime \\\n -H:+ReportExceptionStackTraces\n</code></pre>\n<p>No secret but keep trying and studying the output and following the suggestions and adjusting. But it's not easy, I tried different combinations of <code>initialize-at-build-time</code> and <code>initialize-at-run-time</code> with all these classes. I think the tool may need to be improved to save this kind of try.</p>\n<p>Right now the jar file is compiled successfully (also thanks to <a href=\"https://github.com/quarkusio/quarkus/issues/21726\" rel=\"nofollow noreferrer\">the help</a> from <a href=\"https://github.com/Karm\" rel=\"nofollow noreferrer\">@Karam</a>), but I am still struggling to handle some run-time exceptions prompted out from running the compiled output which never been thrown when running as a jar file.</p>\n"}],"owner":{"account_id":8742474,"reputation":377,"user_id":6868978,"accept_rate":85,"display_name":"zipper"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1997,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75033838,"answer_count":1,"score":0,"last_activity_date":1673023982,"creation_date":1672885958,"question_id":75013326,"body_markdown":"Native image building environment: `CentOS Linux release 7.9.2009 (Core)`, `graalvm-ce-java17-22.3.0`. The jar file is built by `Zulu 17.0.5+8` (also tried 1.8) with NetBeans 15 on Windows 10. Netty dependencies:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;netty-buffer&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.86.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;netty-handler&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.86.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;netty-codec-http&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.86.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.netty.incubator&lt;/groupId&gt;\r\n            &lt;artifactId&gt;netty-incubator-codec-native-quic&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.35.Final&lt;/version&gt;\r\n            &lt;classifier&gt;linux-x86_64&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n\r\nError Message:\r\n\r\n    [root@secure-baud-2 ~]# native-image -jar myapp-1.0-jar-with-dependencies.jar myapp\r\n    ========================================================================================================================\r\n    GraalVM Native Image: Generating &#39;myapp&#39; (executable)...\r\n    ========================================================================================================================\r\n    Warning: Could not register io.netty.handler.codec.compression.Lz4FrameDecoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: net/jpountz/lz4/LZ4Exception.\r\n    Warning: Could not register io.netty.handler.codec.compression.Lz4FrameEncoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: net/jpountz/lz4/LZ4Exception.\r\n    Warning: Could not register io.netty.handler.codec.marshalling.CompatibleMarshallingDecoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: org/jboss/marshalling/ByteInput.\r\n    Warning: Could not register io.netty.handler.codec.marshalling.CompatibleMarshallingEncoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: org/jboss/marshalling/ByteOutput.\r\n    Warning: Could not register io.netty.handler.codec.marshalling.MarshallingDecoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: org/jboss/marshalling/ByteInput.\r\n    Warning: Could not register io.netty.handler.codec.marshalling.MarshallingEncoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: org/jboss/marshalling/ByteOutput.\r\n    Warning: Could not register io.netty.handler.codec.protobuf.ProtobufDecoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: com/google/protobuf/ExtensionRegistryLite.\r\n    Warning: Could not register io.netty.handler.codec.compression.Lz4FrameDecoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: net/jpountz/lz4/LZ4Exception.\r\n    Warning: Could not register io.netty.handler.codec.compression.Lz4FrameEncoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: net/jpountz/lz4/LZ4Exception.\r\n    Warning: Could not register io.netty.handler.codec.marshalling.CompatibleMarshallingDecoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: org/jboss/marshalling/ByteInput.\r\n    Warning: Could not register io.netty.handler.codec.marshalling.CompatibleMarshallingEncoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: org/jboss/marshalling/ByteOutput.\r\n    Warning: Could not register io.netty.handler.codec.marshalling.MarshallingDecoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: org/jboss/marshalling/ByteInput.\r\n    Warning: Could not register io.netty.handler.codec.marshalling.MarshallingEncoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: org/jboss/marshalling/ByteOutput.\r\n    Warning: Could not register io.netty.handler.codec.protobuf.ProtobufDecoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: com/google/protobuf/ExtensionRegistryLite.\r\n    [1/7] Initializing...                                                                                   (20.5s @ 0.24GB)\r\n     Version info: &#39;GraalVM 22.3.0 Java 17 CE&#39;\r\n     Java version info: &#39;17.0.5+8-jvmci-22.3-b08&#39;\r\n     C compiler: gcc (redhat, x86_64, 4.8.5)\r\n     Garbage collector: Serial GC\r\n    [2/7] Performing analysis...  []                                                                        (20.9s @ 0.18GB)\r\n       1,273 (57.47%) of  2,215 classes reachable\r\n         836 (28.14%) of  2,971 fields reachable\r\n       3,577 (51.30%) of  6,973 methods reachable\r\n          23 classes,     0 fields, and     0 methods registered for reflection\r\n    \r\n    Fatal error: com.oracle.graal.pointsto.util.AnalysisError$ParsingError: Error encountered while parsing io.netty.channel.nio.NioEventLoop.openSelector()\r\n    Parsing context:\r\n       at io.netty.channel.nio.NioEventLoop.openSelector(NioEventLoop.java:177)\r\n       at io.netty.channel.nio.NioEventLoop.&lt;init&gt;(NioEventLoop.java:146)\r\n       at io.netty.channel.nio.NioEventLoopGroup.newChild(NioEventLoopGroup.java:183)\r\n       at io.netty.channel.nio.NioEventLoopGroup.newChild(NioEventLoopGroup.java:38)\r\n       at io.netty.util.concurrent.MultithreadEventExecutorGroup.&lt;init&gt;(MultithreadEventExecutorGroup.java:84)\r\n       at io.netty.util.concurrent.MultithreadEventExecutorGroup.&lt;init&gt;(MultithreadEventExecutorGroup.java:60)\r\n    \r\n            at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.util.AnalysisError.parsingError(AnalysisError.java:153)\r\n            at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.flow.MethodTypeFlow.createFlowsGraph(MethodTypeFlow.java:104)\r\n            at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.flow.MethodTypeFlow.ensureFlowsGraphCreated(MethodTypeFlow.java:83)\r\n            at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.flow.MethodTypeFlow.getOrCreateMethodFlowsGraph(MethodTypeFlow.java:65)\r\n            at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.typestate.DefaultSpecialInvokeTypeFlow.onObservedUpdate(DefaultSpecialInvokeTypeFlow.java:61)\r\n            at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.flow.TypeFlow.update(TypeFlow.java:562)\r\n            at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.PointsToAnalysis$1.run(PointsToAnalysis.java:488)\r\n            at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.util.CompletionExecutor.executeCommand(CompletionExecutor.java:193)\r\n            at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.util.CompletionExecutor.lambda$executeService$0(CompletionExecutor.java:177)\r\n            at java.base/java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1395)\r\n            at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\r\n            at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182)\r\n            at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655)\r\n            at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622)\r\n            at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165)\r\n    Caused by: com.oracle.graal.pointsto.constraints.UnsupportedFeatureException: No instances of org.slf4j.simple.SimpleLogger are allowed in the image heap as this class should be initialized at image runtime. To see how this object got instantiated use --trace-object-instantiation=org.slf4j.simple.SimpleLogger.\r\n            at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.classinitialization.ClassInitializationFeature.checkImageHeapInstance(ClassInitializationFeature.java:132)\r\n            at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.meta.AnalysisUniverse.replaceObject(AnalysisUniverse.java:595)\r\n            at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.ameta.AnalysisConstantReflectionProvider.replaceObject(AnalysisConstantReflectionProvider.java:177)\r\n            at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.ameta.AnalysisConstantReflectionProvider.interceptValue(AnalysisConstantReflectionProvider.java:148)\r\n            at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.ameta.AnalysisConstantReflectionProvider.readValue(AnalysisConstantReflectionProvider.java:100)\r\n            at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.ameta.AnalysisConstantReflectionProvider.readFieldValue(AnalysisConstantReflectionProvider.java:79)\r\n            at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.util.ConstantFoldUtil$1.readValue(ConstantFoldUtil.java:55)\r\n            at jdk.internal.vm.compiler/org.graalvm.compiler.core.common.spi.JavaConstantFieldProvider.readConstantField(JavaConstantFieldProvider.java:78)\r\n            at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.ameta.AnalysisConstantFieldProvider.readConstantField(AnalysisConstantFieldProvider.java:72)\r\n            at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.util.ConstantFoldUtil.tryConstantFold(ConstantFoldUtil.java:51)\r\n            at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.java.LoadFieldNode.asConstant(LoadFieldNode.java:178)\r\n            at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.java.LoadFieldNode.canonical(LoadFieldNode.java:144)\r\n            at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.java.LoadFieldNode.canonical(LoadFieldNode.java:135)\r\n            at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.java.LoadFieldNode.canonical(LoadFieldNode.java:72)\r\n            at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.spi.Canonicalizable$Unary.canonical(Canonicalizable.java:101)\r\n            at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.SimplifyingGraphDecoder.canonicalizeFixedNode(SimplifyingGraphDecoder.java:214)\r\n            at jdk.internal.vm.compiler/org.graalvm.compiler.replacements.PEGraphDecoder.canonicalizeFixedNode(PEGraphDecoder.java:1572)\r\n            at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.phases.InlineBeforeAnalysisGraphDecoder.canonicalizeFixedNode(InlineBeforeAnalysis.java:192)\r\n            at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.SimplifyingGraphDecoder.handleFixedNode(SimplifyingGraphDecoder.java:193)\r\n            at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.GraphDecoder.processNextNode(GraphDecoder.java:821)\r\n            at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.phases.InlineBeforeAnalysisGraphDecoder.processNextNode(InlineBeforeAnalysis.java:240)\r\n            at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.GraphDecoder.decode(GraphDecoder.java:548)\r\n            at jdk.internal.vm.compiler/org.graalvm.compiler.replacements.PEGraphDecoder.decode(PEGraphDecoder.java:833)\r\n            at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.phases.InlineBeforeAnalysis.decodeGraph(InlineBeforeAnalysis.java:98)\r\n            at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.flow.MethodTypeFlowBuilder.parse(MethodTypeFlowBuilder.java:179)\r\n            at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.flow.MethodTypeFlowBuilder.apply(MethodTypeFlowBuilder.java:349)\r\n            at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.flow.MethodTypeFlow.createFlowsGraph(MethodTypeFlow.java:93)\r\n            ... 13 more\r\n    ------------------------------------------------------------------------------------------------------------------------\r\n                            1.6s (3.7% of total time) in 12 GCs | Peak RSS: 0.68GB | CPU load: 1.89\r\n    ========================================================================================================================\r\n    Failed generating &#39;myapp&#39; after 42.6s.\r\n    Error: Image build request failed with exit status 1\r\n\r\nI saw there is [a similar issue at GitHub][1], it was closed in 2020, with a comment &quot;*Please use a more recent version of Netty, the latest release is recommended. It should contain all the necessary support code for building Native Image.*&quot; Now is Jan 2023 and I still got the above problem.\r\n\r\n\r\n  [1]: https://github.com/oracle/graal/issues/2643","title":"GraalVM native image-image build error, report &#39;Error encountered while parsing io.netty.channel.nio.NioEventLoop.openSelector()&#39;","body":"<p>Native image building environment: <code>CentOS Linux release 7.9.2009 (Core)</code>, <code>graalvm-ce-java17-22.3.0</code>. The jar file is built by <code>Zulu 17.0.5+8</code> (also tried 1.8) with NetBeans 15 on Windows 10. Netty dependencies:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.netty&lt;/groupId&gt;\n        &lt;artifactId&gt;netty-buffer&lt;/artifactId&gt;\n        &lt;version&gt;4.1.86.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.netty&lt;/groupId&gt;\n        &lt;artifactId&gt;netty-handler&lt;/artifactId&gt;\n        &lt;version&gt;4.1.86.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.netty&lt;/groupId&gt;\n        &lt;artifactId&gt;netty-codec-http&lt;/artifactId&gt;\n        &lt;version&gt;4.1.86.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.netty.incubator&lt;/groupId&gt;\n        &lt;artifactId&gt;netty-incubator-codec-native-quic&lt;/artifactId&gt;\n        &lt;version&gt;0.0.35.Final&lt;/version&gt;\n        &lt;classifier&gt;linux-x86_64&lt;/classifier&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Error Message:</p>\n<pre><code>[root@secure-baud-2 ~]# native-image -jar myapp-1.0-jar-with-dependencies.jar myapp\n========================================================================================================================\nGraalVM Native Image: Generating 'myapp' (executable)...\n========================================================================================================================\nWarning: Could not register io.netty.handler.codec.compression.Lz4FrameDecoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: net/jpountz/lz4/LZ4Exception.\nWarning: Could not register io.netty.handler.codec.compression.Lz4FrameEncoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: net/jpountz/lz4/LZ4Exception.\nWarning: Could not register io.netty.handler.codec.marshalling.CompatibleMarshallingDecoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: org/jboss/marshalling/ByteInput.\nWarning: Could not register io.netty.handler.codec.marshalling.CompatibleMarshallingEncoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: org/jboss/marshalling/ByteOutput.\nWarning: Could not register io.netty.handler.codec.marshalling.MarshallingDecoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: org/jboss/marshalling/ByteInput.\nWarning: Could not register io.netty.handler.codec.marshalling.MarshallingEncoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: org/jboss/marshalling/ByteOutput.\nWarning: Could not register io.netty.handler.codec.protobuf.ProtobufDecoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: com/google/protobuf/ExtensionRegistryLite.\nWarning: Could not register io.netty.handler.codec.compression.Lz4FrameDecoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: net/jpountz/lz4/LZ4Exception.\nWarning: Could not register io.netty.handler.codec.compression.Lz4FrameEncoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: net/jpountz/lz4/LZ4Exception.\nWarning: Could not register io.netty.handler.codec.marshalling.CompatibleMarshallingDecoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: org/jboss/marshalling/ByteInput.\nWarning: Could not register io.netty.handler.codec.marshalling.CompatibleMarshallingEncoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: org/jboss/marshalling/ByteOutput.\nWarning: Could not register io.netty.handler.codec.marshalling.MarshallingDecoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: org/jboss/marshalling/ByteInput.\nWarning: Could not register io.netty.handler.codec.marshalling.MarshallingEncoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: org/jboss/marshalling/ByteOutput.\nWarning: Could not register io.netty.handler.codec.protobuf.ProtobufDecoder: queryAllPublicMethods for reflection. Reason: java.lang.NoClassDefFoundError: com/google/protobuf/ExtensionRegistryLite.\n[1/7] Initializing...                                                                                   (20.5s @ 0.24GB)\n Version info: 'GraalVM 22.3.0 Java 17 CE'\n Java version info: '17.0.5+8-jvmci-22.3-b08'\n C compiler: gcc (redhat, x86_64, 4.8.5)\n Garbage collector: Serial GC\n[2/7] Performing analysis...  []                                                                        (20.9s @ 0.18GB)\n   1,273 (57.47%) of  2,215 classes reachable\n     836 (28.14%) of  2,971 fields reachable\n   3,577 (51.30%) of  6,973 methods reachable\n      23 classes,     0 fields, and     0 methods registered for reflection\n\nFatal error: com.oracle.graal.pointsto.util.AnalysisError$ParsingError: Error encountered while parsing io.netty.channel.nio.NioEventLoop.openSelector()\nParsing context:\n   at io.netty.channel.nio.NioEventLoop.openSelector(NioEventLoop.java:177)\n   at io.netty.channel.nio.NioEventLoop.&lt;init&gt;(NioEventLoop.java:146)\n   at io.netty.channel.nio.NioEventLoopGroup.newChild(NioEventLoopGroup.java:183)\n   at io.netty.channel.nio.NioEventLoopGroup.newChild(NioEventLoopGroup.java:38)\n   at io.netty.util.concurrent.MultithreadEventExecutorGroup.&lt;init&gt;(MultithreadEventExecutorGroup.java:84)\n   at io.netty.util.concurrent.MultithreadEventExecutorGroup.&lt;init&gt;(MultithreadEventExecutorGroup.java:60)\n\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.util.AnalysisError.parsingError(AnalysisError.java:153)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.flow.MethodTypeFlow.createFlowsGraph(MethodTypeFlow.java:104)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.flow.MethodTypeFlow.ensureFlowsGraphCreated(MethodTypeFlow.java:83)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.flow.MethodTypeFlow.getOrCreateMethodFlowsGraph(MethodTypeFlow.java:65)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.typestate.DefaultSpecialInvokeTypeFlow.onObservedUpdate(DefaultSpecialInvokeTypeFlow.java:61)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.flow.TypeFlow.update(TypeFlow.java:562)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.PointsToAnalysis$1.run(PointsToAnalysis.java:488)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.util.CompletionExecutor.executeCommand(CompletionExecutor.java:193)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.util.CompletionExecutor.lambda$executeService$0(CompletionExecutor.java:177)\n        at java.base/java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1395)\n        at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\n        at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182)\n        at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655)\n        at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622)\n        at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165)\nCaused by: com.oracle.graal.pointsto.constraints.UnsupportedFeatureException: No instances of org.slf4j.simple.SimpleLogger are allowed in the image heap as this class should be initialized at image runtime. To see how this object got instantiated use --trace-object-instantiation=org.slf4j.simple.SimpleLogger.\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.classinitialization.ClassInitializationFeature.checkImageHeapInstance(ClassInitializationFeature.java:132)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.meta.AnalysisUniverse.replaceObject(AnalysisUniverse.java:595)\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.ameta.AnalysisConstantReflectionProvider.replaceObject(AnalysisConstantReflectionProvider.java:177)\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.ameta.AnalysisConstantReflectionProvider.interceptValue(AnalysisConstantReflectionProvider.java:148)\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.ameta.AnalysisConstantReflectionProvider.readValue(AnalysisConstantReflectionProvider.java:100)\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.ameta.AnalysisConstantReflectionProvider.readFieldValue(AnalysisConstantReflectionProvider.java:79)\n        at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.util.ConstantFoldUtil$1.readValue(ConstantFoldUtil.java:55)\n        at jdk.internal.vm.compiler/org.graalvm.compiler.core.common.spi.JavaConstantFieldProvider.readConstantField(JavaConstantFieldProvider.java:78)\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.ameta.AnalysisConstantFieldProvider.readConstantField(AnalysisConstantFieldProvider.java:72)\n        at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.util.ConstantFoldUtil.tryConstantFold(ConstantFoldUtil.java:51)\n        at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.java.LoadFieldNode.asConstant(LoadFieldNode.java:178)\n        at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.java.LoadFieldNode.canonical(LoadFieldNode.java:144)\n        at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.java.LoadFieldNode.canonical(LoadFieldNode.java:135)\n        at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.java.LoadFieldNode.canonical(LoadFieldNode.java:72)\n        at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.spi.Canonicalizable$Unary.canonical(Canonicalizable.java:101)\n        at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.SimplifyingGraphDecoder.canonicalizeFixedNode(SimplifyingGraphDecoder.java:214)\n        at jdk.internal.vm.compiler/org.graalvm.compiler.replacements.PEGraphDecoder.canonicalizeFixedNode(PEGraphDecoder.java:1572)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.phases.InlineBeforeAnalysisGraphDecoder.canonicalizeFixedNode(InlineBeforeAnalysis.java:192)\n        at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.SimplifyingGraphDecoder.handleFixedNode(SimplifyingGraphDecoder.java:193)\n        at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.GraphDecoder.processNextNode(GraphDecoder.java:821)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.phases.InlineBeforeAnalysisGraphDecoder.processNextNode(InlineBeforeAnalysis.java:240)\n        at jdk.internal.vm.compiler/org.graalvm.compiler.nodes.GraphDecoder.decode(GraphDecoder.java:548)\n        at jdk.internal.vm.compiler/org.graalvm.compiler.replacements.PEGraphDecoder.decode(PEGraphDecoder.java:833)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.phases.InlineBeforeAnalysis.decodeGraph(InlineBeforeAnalysis.java:98)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.flow.MethodTypeFlowBuilder.parse(MethodTypeFlowBuilder.java:179)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.flow.MethodTypeFlowBuilder.apply(MethodTypeFlowBuilder.java:349)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.flow.MethodTypeFlow.createFlowsGraph(MethodTypeFlow.java:93)\n        ... 13 more\n------------------------------------------------------------------------------------------------------------------------\n                        1.6s (3.7% of total time) in 12 GCs | Peak RSS: 0.68GB | CPU load: 1.89\n========================================================================================================================\nFailed generating 'myapp' after 42.6s.\nError: Image build request failed with exit status 1\n</code></pre>\n<p>I saw there is <a href=\"https://github.com/oracle/graal/issues/2643\" rel=\"nofollow noreferrer\">a similar issue at GitHub</a>, it was closed in 2020, with a comment &quot;<em>Please use a more recent version of Netty, the latest release is recommended. It should contain all the necessary support code for building Native Image.</em>&quot; Now is Jan 2023 and I still got the above problem.</p>\n"},{"tags":["java","mysql","spring-boot","api","jpa"],"comments":[{"owner":{"account_id":18006411,"reputation":868,"user_id":13087086,"display_name":"mr.loop"},"score":0,"creation_date":1673023390,"post_id":75033446,"comment_id":132411357,"body_markdown":"Is ` if (product.isPresent()) {` working properly in orderService.java. Try logging the value before the `if` block","body":"Is ` if (product.isPresent()) {` working properly in orderService.java. Try logging the value before the <code>if</code> block"},{"owner":{"account_id":14535295,"reputation":87,"user_id":10498869,"display_name":"Dadinho2000"},"score":0,"creation_date":1673023484,"post_id":75033446,"comment_id":132411396,"body_markdown":"How ? Didn&#39;t understand, sorry","body":"How ? Didn&#39;t understand, sorry"},{"owner":{"account_id":18559672,"reputation":300,"user_id":13523946,"display_name":"notAPPP"},"score":0,"creation_date":1673023632,"post_id":75033446,"comment_id":132411445,"body_markdown":"Where you check if product exist?","body":"Where you check if product exist?"}],"answers":[{"tags":[],"owner":{"account_id":18006411,"reputation":868,"user_id":13087086,"display_name":"mr.loop"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673023739,"creation_date":1673023739,"answer_id":75033787,"question_id":75033446,"body_markdown":"The only place where you are checking (and need to check) whether the product exists or not is in this block\r\n```\r\npublic float getCartAmount(List&lt;ShoppingCart&gt; shoppingCartList) {\r\n\r\n        float totalCartAmount = 0f;\r\n        float singleCartAmount = 0f;\r\n\r\n        for (ShoppingCart cart : shoppingCartList) {\r\n\r\n            String cloudProductName = cart.getProductName();\r\n            Optional&lt;CloudProduct&gt; product = cloudProductRepository.findByProductName(cloudProductName);\r\n            if (product.isPresent()) {\r\n                CloudProduct cloudproduct = product.get();\r\n                singleCartAmount = cart.getQuantity() * cloudproduct.getpriceInEuros();\r\n                \r\n                totalCartAmount = totalCartAmount + singleCartAmount;\r\n                cart.setProductId(cloudproduct.getProductId());\r\n                cart.setAmount(singleCartAmount);\r\n                cloudProductRepository.save(cloudproduct);\r\n            }\r\n        }\r\n        return totalCartAmount;\r\n    }\r\n```\r\nHere you are fetching the `productId` and `amount` from the database.\r\n\r\nIf product doesn&#39;t exist, then `if (product.isPresent()) ` block is not executed but the function `getCartAmount` **still returns normally** i.e. `cart.setProductId` and `cart.setAmount` are not executed and hence are null in your feed.\r\n\r\nTry an else with this if block\r\n```\r\nelse {\r\n// throw error\r\n}\r\n```","title":"Order being placed with an unexistent product","body":"<p>The only place where you are checking (and need to check) whether the product exists or not is in this block</p>\n<pre><code>public float getCartAmount(List&lt;ShoppingCart&gt; shoppingCartList) {\n\n        float totalCartAmount = 0f;\n        float singleCartAmount = 0f;\n\n        for (ShoppingCart cart : shoppingCartList) {\n\n            String cloudProductName = cart.getProductName();\n            Optional&lt;CloudProduct&gt; product = cloudProductRepository.findByProductName(cloudProductName);\n            if (product.isPresent()) {\n                CloudProduct cloudproduct = product.get();\n                singleCartAmount = cart.getQuantity() * cloudproduct.getpriceInEuros();\n                \n                totalCartAmount = totalCartAmount + singleCartAmount;\n                cart.setProductId(cloudproduct.getProductId());\n                cart.setAmount(singleCartAmount);\n                cloudProductRepository.save(cloudproduct);\n            }\n        }\n        return totalCartAmount;\n    }\n</code></pre>\n<p>Here you are fetching the <code>productId</code> and <code>amount</code> from the database.</p>\n<p>If product doesn't exist, then <code>if (product.isPresent()) </code> block is not executed but the function <code>getCartAmount</code> <strong>still returns normally</strong> i.e. <code>cart.setProductId</code> and <code>cart.setAmount</code> are not executed and hence are null in your feed.</p>\n<p>Try an else with this if block</p>\n<pre><code>else {\n// throw error\n}\n</code></pre>\n"}],"owner":{"account_id":14535295,"reputation":87,"user_id":10498869,"display_name":"Dadinho2000"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75033787,"answer_count":1,"score":2,"last_activity_date":1673023825,"creation_date":1673021973,"question_id":75033446,"body_markdown":"So, my code runs just fine, but I&#39;m now aware of something that is not supposed to happen.\r\nWhenever I create an order, with an unexisting product,like this :\r\n ```\r\n{\r\n&quot;cartItems&quot;: [\r\n     {\r\n         &quot;productName&quot;: &quot;teste52&quot;,\r\n         &quot;quantity&quot;: 7\r\n     }\r\n ],\r\n &quot;userEmail&quot;: &quot;nemsei@gmail22.com&quot;\r\n}\r\n```\r\n\r\nit just creates the order like this:\r\n\r\n    {\r\n    &quot;id&quot;: 1,\r\n    &quot;user&quot;: {\r\n        &quot;userId&quot;: 1,\r\n        &quot;userName&quot;: null,\r\n        &quot;email&quot;: &quot;nemsei@gmail22.com&quot;\r\n    },\r\n    &quot;cartItems&quot;: [\r\n        {\r\n            &quot;id&quot;: 1,\r\n            &quot;productId&quot;: null,\r\n            &quot;productName&quot;: &quot;teste52&quot;,\r\n            &quot;quantity&quot;: 7,\r\n            &quot;amount&quot;: 0.0\r\n        }\r\n    ],\r\n    &quot;createdAt&quot;: &quot;2023-01-06&quot;\r\n    }\r\nIt is supposed to give an error, because the product with the name &quot;teste52&quot; doesn&#39;t exist but instead, it&#39;s creating that order, even without that product.\r\nMy order.java\r\n```\r\npackage com.proj.my.model;\r\nimport java.time.LocalDate;\r\nimport java.util.List;\r\n\r\nimport org.hibernate.annotations.CreationTimestamp;\r\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n\r\nimport jakarta.persistence.CascadeType;\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.EntityListeners;\r\nimport jakarta.persistence.FetchType;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.JoinColumn;\r\nimport jakarta.persistence.OneToMany;\r\nimport jakarta.persistence.OneToOne;\r\nimport jakarta.persistence.Table;\r\nimport lombok.ToString;\r\n\r\n@ToString\r\n@Entity\r\n@Table(name = &quot;myorder&quot;)\r\n@EntityListeners(AuditingEntityListener.class)\r\n@JsonIgnoreProperties(value = {&quot;createdAt&quot;}, \r\n    allowGetters = true)  \r\npublic class Order {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n    \r\n    @OneToOne(cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;userId&quot;)\r\n    private User user;\r\n\r\n\r\n    @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, targetEntity = ShoppingCart.class)\r\n    @JoinColumn(name = &quot;order_id&quot;)\r\n    private List&lt;ShoppingCart&gt; cartItems;\r\n    @CreationTimestamp\r\n    @Column(updatable = false, name = &quot;createdAt&quot;)\r\n    private LocalDate createdAt;\r\n\r\n    public LocalDate getCreatedAt() {\r\n        return createdAt;\r\n    }\r\n\r\n    public void setCreatedAt(LocalDate createdAt) {\r\n        this.createdAt = createdAt;\r\n    }\r\n\r\n    public Order() {\r\n    }\r\n\r\n    public Order(User user, LocalDate createdAt, List&lt;ShoppingCart&gt; cartItems) {\r\n        this.user = user;\r\n        this.cartItems = cartItems;\r\n        this.createdAt = createdAt;\r\n    }\r\n\r\n    public Order(int Id, LocalDate createdAt, List&lt;ShoppingCart&gt; cartItems) {\r\n        this.cartItems = cartItems;\r\n        this.createdAt =  createdAt;\r\n        this.id = Id;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public User getUser() {\r\n        return user;\r\n    }\r\n\r\n    public void setCustomer(User user) {\r\n        this.user = user;\r\n    }\r\n\r\n    public List&lt;ShoppingCart&gt; getCartItems() {\r\n        return cartItems;\r\n    }\r\n\r\n    public void setCartItems(List&lt;ShoppingCart&gt; cartItems) {\r\n        this.cartItems = cartItems;\r\n    }\r\n}\r\n\r\n```\r\n\r\nMy orderService.java\r\n```\r\npackage com.proj.my.service;\r\n\r\nimport com.proj.my.model.Order;\r\nimport com.proj.my.model.CloudProduct;\r\nimport com.proj.my.model.ShoppingCart;\r\nimport com.proj.my.repository.OrderRepository;\r\nimport com.proj.my.repository.CloudProductRepository;\r\n\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.time.LocalDate;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@Service\r\npublic class OrderService {\r\n\r\n    private OrderRepository orderRepository;\r\n    private CloudProductRepository cloudProductRepository;\r\n\r\n    public OrderService(OrderRepository orderRepository, CloudProductRepository cloudProductRepository) {\r\n        this.orderRepository = orderRepository;\r\n        this.cloudProductRepository = cloudProductRepository;\r\n    }\r\n\r\n    public Order getOrderDetail(int orderId) {\r\n        Optional&lt;Order&gt; order = this.orderRepository.findById(orderId);\r\n        return order.isPresent() ? order.get() : null;\r\n    }\r\n    \r\n   public List&lt;Order&gt; getAllOrderDetail(LocalDate yesterday, LocalDate today) {\r\n        today = LocalDate.now();\r\n        yesterday = today.minusDays(1);\r\n        return orderRepository.findAllByCreatedAtBetween(yesterday, today);\r\n    }\r\n\r\n    public float getCartAmount(List&lt;ShoppingCart&gt; shoppingCartList) {\r\n\r\n        float totalCartAmount = 0f;\r\n        float singleCartAmount = 0f;\r\n\r\n        for (ShoppingCart cart : shoppingCartList) {\r\n\r\n            String cloudProductName = cart.getProductName();\r\n            Optional&lt;CloudProduct&gt; product = cloudProductRepository.findByProductName(cloudProductName);\r\n            if (product.isPresent()) {\r\n                CloudProduct cloudproduct = product.get();\r\n                singleCartAmount = cart.getQuantity() * cloudproduct.getpriceInEuros();\r\n                \r\n                totalCartAmount = totalCartAmount + singleCartAmount;\r\n                cart.setProductId(cloudproduct.getProductId());\r\n                cart.setAmount(singleCartAmount);\r\n                cloudProductRepository.save(cloudproduct);\r\n            }\r\n        }\r\n        return totalCartAmount;\r\n    }\r\n\r\n    public Order saveOrder(Order order) {\r\n        return orderRepository.save(order);\r\n    }\r\n}\r\n\r\n```\r\n\r\nMy orderDTO.java\r\n```\r\npackage com.proj.my.dto;\r\n\r\nimport com.proj.my.model.ShoppingCart;\r\n\r\nimport java.util.List;\r\n\r\npublic class OrderDTO {\r\n\r\n    private List&lt;ShoppingCart&gt; cartItems;\r\n    private String userEmail;\r\n    private String userName;\r\n\r\n    public OrderDTO() {\r\n    }\r\n\r\n    public OrderDTO(List&lt;ShoppingCart&gt; cartItems, String userEmail, String userName) {\r\n        this.cartItems = cartItems;\r\n        this.userEmail = userEmail;\r\n        this.userName = userName;\r\n    }\r\n    public List&lt;ShoppingCart&gt; getCartItems() {\r\n        return cartItems;\r\n    }\r\n\r\n    public void setCartItems(List&lt;ShoppingCart&gt; cartItems) {\r\n        this.cartItems = cartItems;\r\n    }\r\n\r\n    public String getuserEmail() {\r\n        return userEmail;\r\n    }\r\n\r\n    public void setuserEmail(String userEmail) {\r\n        this.userEmail = userEmail;\r\n    }\r\n\r\n    public String getuserName() {\r\n        return userName;\r\n    }\r\n\r\n    public void setuserName(String userName) {\r\n        this.userName = userName;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;OrderDTO{&quot; +\r\n                &quot;, cartItems=&quot; + cartItems +\r\n                &quot;, userEmail=&#39;&quot; + userEmail + &#39;\\&#39;&#39; +\r\n                &quot;, userName=&#39;&quot; + userName + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n```\r\n\r\nMy orderController.java\r\n```\r\npackage com.proj.my.controller;\r\n\r\nimport java.time.LocalDate;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.proj.my.dto.OrderDTO;\r\nimport com.proj.my.dto.ResponseOrderDTO;\r\nimport com.proj.my.model.CloudProduct;\r\nimport com.proj.my.model.Order;\r\nimport com.proj.my.model.ShoppingCart;\r\nimport com.proj.my.model.User;\r\nimport com.proj.my.repository.CloudProductRepository;\r\nimport com.proj.my.service.CloudProductService;\r\nimport com.proj.my.service.OrderService;\r\nimport com.proj.my.service.UserService;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class OrderController {\r\n\r\n    private OrderService orderService;\r\n    private CloudProductService cloudProductService;\r\n    private UserService userService;\r\n    @Autowired\r\n    private CloudProductRepository cloudProductRepository;\r\n\r\n\r\n    public OrderController(OrderService orderService, CloudProductService cloudProductService, UserService userService) {\r\n        this.orderService = orderService;\r\n        this.cloudProductService = cloudProductService;\r\n        this.userService = userService;\r\n    }\r\n\r\n    @GetMapping(value = &quot;/getOrder/{orderId}&quot;)\r\n    public ResponseEntity&lt;Order&gt; getOrderDetails(@PathVariable int orderId) {\r\n\r\n        Order order = orderService.getOrderDetail(orderId);\r\n        return ResponseEntity.ok(order);\r\n    }\r\n\r\n    @GetMapping(value = &quot;/getOrders/{dataaa}&quot;)\r\n    public List&lt;Order&gt; getAllOrderDetails(@PathVariable LocalDate dataaa) {\r\n        return orderService.getAllOrderDetail(dataaa);\r\n    }\r\n\r\n    @PostMapping(&quot;/placeOrder&quot;)\r\n    public ResponseEntity&lt;String&gt; placeOrder(@RequestBody OrderDTO orderDTO) {\r\n\r\n        ResponseOrderDTO responseOrderDTO = new ResponseOrderDTO();\r\n        List&lt;ShoppingCart&gt; shoppingCartList = orderDTO.getCartItems();\r\n        ShoppingCart shoppingCart;\r\n        for (ShoppingCart cart : shoppingCartList) {\r\n            String cloudProductName = cart.getProductName();\r\n            Optional&lt;CloudProduct&gt; product = cloudProductRepository.findByProductName(cloudProductName);\r\n            if (product.isPresent()){\r\n                float amount = orderService.getCartAmount(orderDTO.getCartItems());\r\n\r\n                User user = new User(orderDTO.getuserEmail());\r\n                \r\n                Integer userIdFromDb = userService.isUserPresent(user);\r\n\r\n                if (userIdFromDb != null) {\r\n                    user.setUserId(userIdFromDb);\r\n                }else{\r\n                    user = userService.createUser(user);\r\n                }\r\n\r\n                LocalDate createdAt = LocalDate.now(); \r\n\r\n                Order order = new Order(user, createdAt, orderDTO.getCartItems());\r\n\r\n                order = orderService.saveOrder(order);\r\n\r\n                responseOrderDTO.setAmount(amount);\r\n\r\n                responseOrderDTO.setDate(com.proj.my.util.DateUtil.getCurrentDateTime());\r\n                \r\n                responseOrderDTO.setOrderId(order.getId());\r\n\r\n\r\n                return new ResponseEntity&lt;&gt;(&quot;Created&quot;, HttpStatus.OK);\r\n            }\r\n            else{\r\n                return new ResponseEntity&lt;&gt;(&quot;Can&#39;t&quot;, HttpStatus.OK);\r\n            }\r\n        }\r\n        return null;\r\n\r\n    }}\r\n```\r\n\r\nWhat can I do so that it gives an error instead of creating such order ?","title":"Order being placed with an unexistent product","body":"<p>So, my code runs just fine, but I'm now aware of something that is not supposed to happen.\nWhenever I create an order, with an unexisting product,like this :</p>\n<pre><code>{\n&quot;cartItems&quot;: [\n    {\n        &quot;productName&quot;: &quot;teste52&quot;,\n        &quot;quantity&quot;: 7\n    }\n],\n&quot;userEmail&quot;: &quot;nemsei@gmail22.com&quot;\n}\n</code></pre>\n<p>it just creates the order like this:</p>\n<pre><code>{\n&quot;id&quot;: 1,\n&quot;user&quot;: {\n    &quot;userId&quot;: 1,\n    &quot;userName&quot;: null,\n    &quot;email&quot;: &quot;nemsei@gmail22.com&quot;\n},\n&quot;cartItems&quot;: [\n    {\n        &quot;id&quot;: 1,\n        &quot;productId&quot;: null,\n        &quot;productName&quot;: &quot;teste52&quot;,\n        &quot;quantity&quot;: 7,\n        &quot;amount&quot;: 0.0\n    }\n],\n&quot;createdAt&quot;: &quot;2023-01-06&quot;\n}\n</code></pre>\n<p>It is supposed to give an error, because the product with the name &quot;teste52&quot; doesn't exist but instead, it's creating that order, even without that product.\nMy order.java</p>\n<pre><code>package com.proj.my.model;\nimport java.time.LocalDate;\nimport java.util.List;\n\nimport org.hibernate.annotations.CreationTimestamp;\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\nimport jakarta.persistence.CascadeType;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.EntityListeners;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.OneToMany;\nimport jakarta.persistence.OneToOne;\nimport jakarta.persistence.Table;\nimport lombok.ToString;\n\n@ToString\n@Entity\n@Table(name = &quot;myorder&quot;)\n@EntityListeners(AuditingEntityListener.class)\n@JsonIgnoreProperties(value = {&quot;createdAt&quot;}, \n    allowGetters = true)  \npublic class Order {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    \n    @OneToOne(cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;userId&quot;)\n    private User user;\n\n\n    @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, targetEntity = ShoppingCart.class)\n    @JoinColumn(name = &quot;order_id&quot;)\n    private List&lt;ShoppingCart&gt; cartItems;\n    @CreationTimestamp\n    @Column(updatable = false, name = &quot;createdAt&quot;)\n    private LocalDate createdAt;\n\n    public LocalDate getCreatedAt() {\n        return createdAt;\n    }\n\n    public void setCreatedAt(LocalDate createdAt) {\n        this.createdAt = createdAt;\n    }\n\n    public Order() {\n    }\n\n    public Order(User user, LocalDate createdAt, List&lt;ShoppingCart&gt; cartItems) {\n        this.user = user;\n        this.cartItems = cartItems;\n        this.createdAt = createdAt;\n    }\n\n    public Order(int Id, LocalDate createdAt, List&lt;ShoppingCart&gt; cartItems) {\n        this.cartItems = cartItems;\n        this.createdAt =  createdAt;\n        this.id = Id;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setCustomer(User user) {\n        this.user = user;\n    }\n\n    public List&lt;ShoppingCart&gt; getCartItems() {\n        return cartItems;\n    }\n\n    public void setCartItems(List&lt;ShoppingCart&gt; cartItems) {\n        this.cartItems = cartItems;\n    }\n}\n\n</code></pre>\n<p>My orderService.java</p>\n<pre><code>package com.proj.my.service;\n\nimport com.proj.my.model.Order;\nimport com.proj.my.model.CloudProduct;\nimport com.proj.my.model.ShoppingCart;\nimport com.proj.my.repository.OrderRepository;\nimport com.proj.my.repository.CloudProductRepository;\n\nimport org.springframework.stereotype.Service;\n\nimport java.time.LocalDate;\nimport java.util.List;\nimport java.util.Optional;\n\n@Service\npublic class OrderService {\n\n    private OrderRepository orderRepository;\n    private CloudProductRepository cloudProductRepository;\n\n    public OrderService(OrderRepository orderRepository, CloudProductRepository cloudProductRepository) {\n        this.orderRepository = orderRepository;\n        this.cloudProductRepository = cloudProductRepository;\n    }\n\n    public Order getOrderDetail(int orderId) {\n        Optional&lt;Order&gt; order = this.orderRepository.findById(orderId);\n        return order.isPresent() ? order.get() : null;\n    }\n    \n   public List&lt;Order&gt; getAllOrderDetail(LocalDate yesterday, LocalDate today) {\n        today = LocalDate.now();\n        yesterday = today.minusDays(1);\n        return orderRepository.findAllByCreatedAtBetween(yesterday, today);\n    }\n\n    public float getCartAmount(List&lt;ShoppingCart&gt; shoppingCartList) {\n\n        float totalCartAmount = 0f;\n        float singleCartAmount = 0f;\n\n        for (ShoppingCart cart : shoppingCartList) {\n\n            String cloudProductName = cart.getProductName();\n            Optional&lt;CloudProduct&gt; product = cloudProductRepository.findByProductName(cloudProductName);\n            if (product.isPresent()) {\n                CloudProduct cloudproduct = product.get();\n                singleCartAmount = cart.getQuantity() * cloudproduct.getpriceInEuros();\n                \n                totalCartAmount = totalCartAmount + singleCartAmount;\n                cart.setProductId(cloudproduct.getProductId());\n                cart.setAmount(singleCartAmount);\n                cloudProductRepository.save(cloudproduct);\n            }\n        }\n        return totalCartAmount;\n    }\n\n    public Order saveOrder(Order order) {\n        return orderRepository.save(order);\n    }\n}\n\n</code></pre>\n<p>My orderDTO.java</p>\n<pre><code>package com.proj.my.dto;\n\nimport com.proj.my.model.ShoppingCart;\n\nimport java.util.List;\n\npublic class OrderDTO {\n\n    private List&lt;ShoppingCart&gt; cartItems;\n    private String userEmail;\n    private String userName;\n\n    public OrderDTO() {\n    }\n\n    public OrderDTO(List&lt;ShoppingCart&gt; cartItems, String userEmail, String userName) {\n        this.cartItems = cartItems;\n        this.userEmail = userEmail;\n        this.userName = userName;\n    }\n    public List&lt;ShoppingCart&gt; getCartItems() {\n        return cartItems;\n    }\n\n    public void setCartItems(List&lt;ShoppingCart&gt; cartItems) {\n        this.cartItems = cartItems;\n    }\n\n    public String getuserEmail() {\n        return userEmail;\n    }\n\n    public void setuserEmail(String userEmail) {\n        this.userEmail = userEmail;\n    }\n\n    public String getuserName() {\n        return userName;\n    }\n\n    public void setuserName(String userName) {\n        this.userName = userName;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;OrderDTO{&quot; +\n                &quot;, cartItems=&quot; + cartItems +\n                &quot;, userEmail='&quot; + userEmail + '\\'' +\n                &quot;, userName='&quot; + userName + '\\'' +\n                '}';\n    }\n}\n\n</code></pre>\n<p>My orderController.java</p>\n<pre><code>package com.proj.my.controller;\n\nimport java.time.LocalDate;\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.proj.my.dto.OrderDTO;\nimport com.proj.my.dto.ResponseOrderDTO;\nimport com.proj.my.model.CloudProduct;\nimport com.proj.my.model.Order;\nimport com.proj.my.model.ShoppingCart;\nimport com.proj.my.model.User;\nimport com.proj.my.repository.CloudProductRepository;\nimport com.proj.my.service.CloudProductService;\nimport com.proj.my.service.OrderService;\nimport com.proj.my.service.UserService;\n\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class OrderController {\n\n    private OrderService orderService;\n    private CloudProductService cloudProductService;\n    private UserService userService;\n    @Autowired\n    private CloudProductRepository cloudProductRepository;\n\n\n    public OrderController(OrderService orderService, CloudProductService cloudProductService, UserService userService) {\n        this.orderService = orderService;\n        this.cloudProductService = cloudProductService;\n        this.userService = userService;\n    }\n\n    @GetMapping(value = &quot;/getOrder/{orderId}&quot;)\n    public ResponseEntity&lt;Order&gt; getOrderDetails(@PathVariable int orderId) {\n\n        Order order = orderService.getOrderDetail(orderId);\n        return ResponseEntity.ok(order);\n    }\n\n    @GetMapping(value = &quot;/getOrders/{dataaa}&quot;)\n    public List&lt;Order&gt; getAllOrderDetails(@PathVariable LocalDate dataaa) {\n        return orderService.getAllOrderDetail(dataaa);\n    }\n\n    @PostMapping(&quot;/placeOrder&quot;)\n    public ResponseEntity&lt;String&gt; placeOrder(@RequestBody OrderDTO orderDTO) {\n\n        ResponseOrderDTO responseOrderDTO = new ResponseOrderDTO();\n        List&lt;ShoppingCart&gt; shoppingCartList = orderDTO.getCartItems();\n        ShoppingCart shoppingCart;\n        for (ShoppingCart cart : shoppingCartList) {\n            String cloudProductName = cart.getProductName();\n            Optional&lt;CloudProduct&gt; product = cloudProductRepository.findByProductName(cloudProductName);\n            if (product.isPresent()){\n                float amount = orderService.getCartAmount(orderDTO.getCartItems());\n\n                User user = new User(orderDTO.getuserEmail());\n                \n                Integer userIdFromDb = userService.isUserPresent(user);\n\n                if (userIdFromDb != null) {\n                    user.setUserId(userIdFromDb);\n                }else{\n                    user = userService.createUser(user);\n                }\n\n                LocalDate createdAt = LocalDate.now(); \n\n                Order order = new Order(user, createdAt, orderDTO.getCartItems());\n\n                order = orderService.saveOrder(order);\n\n                responseOrderDTO.setAmount(amount);\n\n                responseOrderDTO.setDate(com.proj.my.util.DateUtil.getCurrentDateTime());\n                \n                responseOrderDTO.setOrderId(order.getId());\n\n\n                return new ResponseEntity&lt;&gt;(&quot;Created&quot;, HttpStatus.OK);\n            }\n            else{\n                return new ResponseEntity&lt;&gt;(&quot;Can't&quot;, HttpStatus.OK);\n            }\n        }\n        return null;\n\n    }}\n</code></pre>\n<p>What can I do so that it gives an error instead of creating such order ?</p>\n"},{"tags":["java","groovy","locale"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672942126,"post_id":75022318,"comment_id":132392171,"body_markdown":"Interestingly, if you copied and pasted from your terminal, Gefahrlichkeit.docx has its a umlaut as two separate characters, which can happen sometimes. What, in the terminal, is the output of `ls *rlichkeit.docx`?","body":"Interestingly, if you copied and pasted from your terminal, Gefahrlichkeit.docx has its a umlaut as two separate characters, which can happen sometimes. What, in the terminal, is the output of <code>ls *rlichkeit.docx</code>?"},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1672952173,"post_id":75022318,"comment_id":132395144,"body_markdown":"What if you print name with and without getAbsoluteFile()? 2 bytes means utf-8 but if you still see 2 bytes in terminal - it&#39;s wrong.","body":"What if you print name with and without getAbsoluteFile()? 2 bytes means utf-8 but if you still see 2 bytes in terminal - it&#39;s wrong."},{"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"score":0,"creation_date":1672960492,"post_id":75022318,"comment_id":132397176,"body_markdown":"why do you need to check for existence of files, which are returned by file iterating methods? if files are returned, they DO exist by definition...","body":"why do you need to check for existence of files, which are returned by file iterating methods? if files are returned, they DO exist by definition..."},{"owner":{"account_id":20112608,"reputation":86,"user_id":14748724,"display_name":"Dirk27"},"score":0,"creation_date":1672992666,"post_id":75022318,"comment_id":132402069,"body_markdown":"Thanks for your replies. We use UTF-8 in our dev env and in the database. The app runs in a tomcat directly on a server and in a container. g00se: With ls the file name is printed correct like in the ls -al above as &#39;Gefahrlichkeit.docx&#39;. daggett: The file name inside the app is always printed wrong like above as &#39;Gefahrlichkeit.docx&#39;. injecteer: This is only code showing the core of the problem. The app gets the file name from the database as &#39;Gefahrlichkeit.docx&#39; and java can&#39;t find the file then.","body":"Thanks for your replies. We use UTF-8 in our dev env and in the database. The app runs in a tomcat directly on a server and in a container. g00se: With ls the file name is printed correct like in the ls -al above as &#39;Gefahrlichkeit.docx&#39;. daggett: The file name inside the app is always printed wrong like above as &#39;Gefahrlichkeit.docx&#39;. injecteer: This is only code showing the core of the problem. The app gets the file name from the database as &#39;Gefahrlichkeit.docx&#39; and java can&#39;t find the file then."},{"owner":{"account_id":20112608,"reputation":86,"user_id":14748724,"display_name":"Dirk27"},"score":0,"creation_date":1672994126,"post_id":75022318,"comment_id":132402392,"body_markdown":"@g00se: With ls the file name is printed correct like in the ls -al above as &#39;Gefahrlichkeit.docx&#39;.","body":"@g00se: With ls the file name is printed correct like in the ls -al above as &#39;Gefahrlichkeit.docx&#39;."},{"owner":{"account_id":20112608,"reputation":86,"user_id":14748724,"display_name":"Dirk27"},"score":0,"creation_date":1672994149,"post_id":75022318,"comment_id":132402401,"body_markdown":"@daggett: The file name inside the app is always printed wrong like above as &#39;Gefahrlichkeit.docx&#39;.","body":"@daggett: The file name inside the app is always printed wrong like above as &#39;Gefahrlichkeit.docx&#39;."},{"owner":{"account_id":20112608,"reputation":86,"user_id":14748724,"display_name":"Dirk27"},"score":0,"creation_date":1672994171,"post_id":75022318,"comment_id":132402413,"body_markdown":"@injecteer: This is only code showing the core of the problem. The app gets the file name from the database as &#39;Gefahrlichkeit.docx&#39; and java can&#39;t find the file then.","body":"@injecteer: This is only code showing the core of the problem. The app gets the file name from the database as &#39;Gefahrlichkeit.docx&#39; and java can&#39;t find the file then."},{"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"score":0,"creation_date":1673000563,"post_id":75022318,"comment_id":132404187,"body_markdown":"if the file name comes from the DB, it should be a URI instead!","body":"if the file name comes from the DB, it should be a URI instead!"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673001909,"post_id":75022318,"comment_id":132404584,"body_markdown":"Your problem is being caused by Unicode composition. See [java.text.Normalizer](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/text/Normalizer.html) Perhaps more from me on this later","body":"Your problem is being caused by Unicode composition. See <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/text/Normalizer.html\" rel=\"nofollow noreferrer\">java.text.Normalizer</a> Perhaps more from me on this later"},{"owner":{"account_id":20112608,"reputation":86,"user_id":14748724,"display_name":"Dirk27"},"score":0,"creation_date":1673005128,"post_id":75022318,"comment_id":132405504,"body_markdown":"Thanks for your replies. So far I think I can fix the problem by setting sun.jnu.encoding to &#39;UTF-8&#39; on application startup. In the dev env it works by setting it in the grails 4 app via build.gradle in the bootRun section. I try it now in the tomcat servers and come back later.","body":"Thanks for your replies. So far I think I can fix the problem by setting sun.jnu.encoding to &#39;UTF-8&#39; on application startup. In the dev env it works by setting it in the grails 4 app via build.gradle in the bootRun section. I try it now in the tomcat servers and come back later."}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673006124,"creation_date":1673006124,"answer_id":75030615,"question_id":75022318,"body_markdown":"This is not an answer as such, but it allows me to show the problem with Unicode composition and file names. Let&#39;s create two files with the same name:\r\n\r\n    goose@t410:/tmp$ touch $(echo -e &#39;\\x61\\xCC\\x88.txt&#39;)\r\n    goose@t410:/tmp$ touch $(echo -e &#39;\\xC3\\xA4.txt&#39;)\r\n    goose@t410:/tmp$ ls *.txt\r\n    a.txt  &#228;.txt\r\n\r\nWhat!? Hang on, this is a trick isn&#39;t it? They are really the same file? Here&#39;s proof they are different:\r\n\r\n    goose@t410:/tmp$ ls -i *.txt\r\n\r\n131467 a.txt  131527 &#228;.txt\r\n","title":"File.list()*.exists() not true for files with umlauts","body":"<p>This is not an answer as such, but it allows me to show the problem with Unicode composition and file names. Let's create two files with the same name:</p>\n<pre><code>goose@t410:/tmp$ touch $(echo -e '\\x61\\xCC\\x88.txt')\ngoose@t410:/tmp$ touch $(echo -e '\\xC3\\xA4.txt')\ngoose@t410:/tmp$ ls *.txt\na.txt  .txt\n</code></pre>\n<p>What!? Hang on, this is a trick isn't it? They are really the same file? Here's proof they are different:</p>\n<pre><code>goose@t410:/tmp$ ls -i *.txt\n</code></pre>\n<p>131467 a.txt  131527 .txt</p>\n"},{"tags":[],"owner":{"account_id":20112608,"reputation":86,"user_id":14748724,"display_name":"Dirk27"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673023729,"creation_date":1673022138,"answer_id":75033482,"question_id":75022318,"body_markdown":"# Solution\r\n\r\nThe problem occured in different environments:\r\n1. development env: grails 4 application startet with gradle bootRun\r\n2. CI-stage with a tomcat 9 server\r\n3. production env: tomcat running in a docker container\r\n\r\n**Short answer:**\r\nThe problem was the wrong settings for sun.jnu.encoding. Solution was to set it in the correct way for each env.\r\n\r\n**Long answer:**\r\nWe had to set the java system property &#39;sun.jnu.encoding&#39; in the different envs :\r\n\r\n## 1. dev env\r\n\r\nSet system properties in the bootRun section in build.gradle:\r\n```\r\nbootRun {\r\n\tjvmArgs(\r\n\t\t&#39;-Dsun.jnu.encoding=UTF-8&#39;,\r\n\t\t&#39;-Dfile.encoding=UTF-8&#39;,\r\n        ...)\r\n}\r\n```\r\n\r\n## 2. tomcat 9 on server\r\n\r\nSet system properties in setenv.sh in tomcat/bin:\r\n```\r\nexport JAVA_OPTS=&quot;-Dsun.jnu.encoding=UTF-8 -Dfile.encoding=UTF-8 $JAVA_OPTS&quot;\r\n```\r\n\r\n## 3. tomcat 9 in docker container in prod env\r\n\r\nWe used this solution https://stackoverflow.com/a/28406007/14748724. We need to rebuild the container image.\r\n\r\nFinally we had to set this in the docker-compose.yaml file:\r\n```\r\ntomcat:\r\n   environment:\r\n      LC_ALL: &#39;en_US.UTF-8&#39;\r\n```\r\nBefore it was `LC_ALL: &#39;C&#39;`, which was wrong.\r\n\r\n*Note: Using the setenv.sh solution from env 2. **didn&#39;t** work in the container!*","title":"File.list()*.exists() not true for files with umlauts","body":"<h1>Solution</h1>\n<p>The problem occured in different environments:</p>\n<ol>\n<li>development env: grails 4 application startet with gradle bootRun</li>\n<li>CI-stage with a tomcat 9 server</li>\n<li>production env: tomcat running in a docker container</li>\n</ol>\n<p><strong>Short answer:</strong>\nThe problem was the wrong settings for sun.jnu.encoding. Solution was to set it in the correct way for each env.</p>\n<p><strong>Long answer:</strong>\nWe had to set the java system property 'sun.jnu.encoding' in the different envs :</p>\n<h2>1. dev env</h2>\n<p>Set system properties in the bootRun section in build.gradle:</p>\n<pre><code>bootRun {\n    jvmArgs(\n        '-Dsun.jnu.encoding=UTF-8',\n        '-Dfile.encoding=UTF-8',\n        ...)\n}\n</code></pre>\n<h2>2. tomcat 9 on server</h2>\n<p>Set system properties in setenv.sh in tomcat/bin:</p>\n<pre><code>export JAVA_OPTS=&quot;-Dsun.jnu.encoding=UTF-8 -Dfile.encoding=UTF-8 $JAVA_OPTS&quot;\n</code></pre>\n<h2>3. tomcat 9 in docker container in prod env</h2>\n<p>We used this solution <a href=\"https://stackoverflow.com/a/28406007/14748724\">https://stackoverflow.com/a/28406007/14748724</a>. We need to rebuild the container image.</p>\n<p>Finally we had to set this in the docker-compose.yaml file:</p>\n<pre><code>tomcat:\n   environment:\n      LC_ALL: 'en_US.UTF-8'\n</code></pre>\n<p>Before it was <code>LC_ALL: 'C'</code>, which was wrong.</p>\n<p><em>Note: Using the setenv.sh solution from env 2. <strong>didn't</strong> work in the container!</em></p>\n"}],"owner":{"account_id":20112608,"reputation":86,"user_id":14748724,"display_name":"Dirk27"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1673023729,"creation_date":1672940248,"question_id":75022318,"body_markdown":"Im facing a problem with umlauts in groovy/java on a ubuntu server.\r\n\r\nThis groovy code return for exists() false for files with umlauts:\r\n\r\n\r\n```\r\ndef f1 = new File(&#39;/var/lib/jenkins/test/&#39;)\r\ndef files = [:]\r\nf1.listFiles().each {\r\n  files.put(it.name, it.getAbsoluteFile().exists())\r\n}\r\nprintln files\r\nprintln &#39;file.encoding:&#39; + System.getProperty(&#39;file.encoding&#39;)\r\n```\r\n\r\nResults in:\r\n\r\n```\r\nVerderblichkeit.docx:true\r\nGefahrlichkeit.docx:false\r\nfile.encoding:&quot;iso-8859-1&quot;\r\n```\r\nSo it return false for a file it found itself with listFile(). That is wrong.\r\n\r\nls -al in the drirectory:\r\n\r\n\r\n```\r\ndrwxr-xr-x  2 jenkins jenkins   4096 Jan  5 18:17 .\r\ndrwxr-xr-x 66 jenkins jenkins  12288 Jan  5 18:16 ..\r\n-rw-r--r--  1 jenkins jenkins  98035 Jan  5 18:16 Gefahrlichkeit.docx\r\n-rw-r--r--  1 jenkins jenkins 277515 Jan  5 18:17 Verderblichkeit.docx\r\n\r\n```\r\n\r\nIn linux I can copy or mv or rename the files and see the umlauts.\r\n\r\nEnvironment:\r\n* Version of Java: Java(TM) SE Runtime Environment (build 1.8.0_131-b11)\r\n\r\nNote: The original problem is getting the file path from a database. The file can be found and served throug nginx but in the java app (grails with groovy files) I get a false result for File.exists()\r\n\r\nWhat can I do?\r\n\r\n\r\nI tried setting UTF-8 as file.encoding by setting this in the application environment or by -D param on start. I searched the web but didn&#39;t find a solution.","title":"File.list()*.exists() not true for files with umlauts","body":"<p>Im facing a problem with umlauts in groovy/java on a ubuntu server.</p>\n<p>This groovy code return for exists() false for files with umlauts:</p>\n<pre><code>def f1 = new File('/var/lib/jenkins/test/')\ndef files = [:]\nf1.listFiles().each {\n  files.put(it.name, it.getAbsoluteFile().exists())\n}\nprintln files\nprintln 'file.encoding:' + System.getProperty('file.encoding')\n</code></pre>\n<p>Results in:</p>\n<pre><code>Verderblichkeit.docx:true\nGefahrlichkeit.docx:false\nfile.encoding:&quot;iso-8859-1&quot;\n</code></pre>\n<p>So it return false for a file it found itself with listFile(). That is wrong.</p>\n<p>ls -al in the drirectory:</p>\n<pre><code>drwxr-xr-x  2 jenkins jenkins   4096 Jan  5 18:17 .\ndrwxr-xr-x 66 jenkins jenkins  12288 Jan  5 18:16 ..\n-rw-r--r--  1 jenkins jenkins  98035 Jan  5 18:16 Gefahrlichkeit.docx\n-rw-r--r--  1 jenkins jenkins 277515 Jan  5 18:17 Verderblichkeit.docx\n\n</code></pre>\n<p>In linux I can copy or mv or rename the files and see the umlauts.</p>\n<p>Environment:</p>\n<ul>\n<li>Version of Java: Java(TM) SE Runtime Environment (build 1.8.0_131-b11)</li>\n</ul>\n<p>Note: The original problem is getting the file path from a database. The file can be found and served throug nginx but in the java app (grails with groovy files) I get a false result for File.exists()</p>\n<p>What can I do?</p>\n<p>I tried setting UTF-8 as file.encoding by setting this in the application environment or by -D param on start. I searched the web but didn't find a solution.</p>\n"},{"tags":["java","javascript","jsp","checkbox","boolean"],"answers":[{"tags":[],"owner":{"account_id":1033858,"reputation":40386,"user_id":1041642,"accept_rate":50,"display_name":"Sachin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1380318206,"creation_date":1380317691,"answer_id":19060415,"question_id":19060402,"body_markdown":"try with `.prop` instead of `.attr()`\r\n\r\n    $(function (){\r\n        if($(&#39;#a_principal&#39;).val()== &quot;true&quot;){           \r\n             $(&quot;input:checkbox&quot;).prop(&#39;checked&#39;,true);\r\n        }else{\r\n            $(&quot;input:checkbox&quot;).prop(&#39;checked&#39;, false);\r\n        }\r\n    });\r\n\r\n[Js Fiddle Demo][1]\r\n\r\n\r\n  [1]: http://jsfiddle.net/dC4Zw/","title":"How to checked checkbox if boolean value is true?","body":"<p>try with <code>.prop</code> instead of <code>.attr()</code></p>\n\n<pre><code>$(function (){\n    if($('#a_principal').val()== \"true\"){           \n         $(\"input:checkbox\").prop('checked',true);\n    }else{\n        $(\"input:checkbox\").prop('checked', false);\n    }\n});\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/dC4Zw/\" rel=\"nofollow\">Js Fiddle Demo</a></p>\n"},{"tags":[],"owner":{"account_id":992844,"reputation":123404,"user_id":1009603,"accept_rate":60,"display_name":"PSL"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1380318246,"creation_date":1380317897,"answer_id":19060470,"question_id":19060402,"body_markdown":"Using `prop` to set checked property and get your if condition right. `attr` is not guaranteed to work against boolean properties of element and prop is. [See the difference here](http://api.jquery.com/prop/#prop-propertyName). Also the condition `&#39;#a_principal&#39; == true` is always true.\r\n\r\n\r\n    $(&quot;input:checkbox&quot;).prop(&#39;checked&#39;, $(&#39;#a_principal&#39;).length); \r\n    // i dont know if you meant $(&#39;#a_principal&#39;).prop(&#39;checked&#39;) then\r\n    $(&quot;input:checkbox&quot;).prop(&#39;checked&#39;, $(&#39;#a_principal&#39;).prop(&#39;checked&#39;));  \r\n    //but here :checkbx generic selector will select a_principal as well, so be specific \r\n\r\nProviding your complete html will help solving your issue in a better way however try this:\r\n   \r\n\r\n       var $principal = $(&#39;#a_principal&#39;);\r\n       $(&quot;input:checkbox&quot;).not($principal).prop(&#39;checked&#39;, $principal.prop(&#39;checked&#39;));  \r\n        \r\n\r\n","title":"How to checked checkbox if boolean value is true?","body":"<p>Using <code>prop</code> to set checked property and get your if condition right. <code>attr</code> is not guaranteed to work against boolean properties of element and prop is. <a href=\"http://api.jquery.com/prop/#prop-propertyName\" rel=\"nofollow\">See the difference here</a>. Also the condition <code>'#a_principal' == true</code> is always true.</p>\n\n<pre><code>$(\"input:checkbox\").prop('checked', $('#a_principal').length); \n// i dont know if you meant $('#a_principal').prop('checked') then\n$(\"input:checkbox\").prop('checked', $('#a_principal').prop('checked'));  \n//but here :checkbx generic selector will select a_principal as well, so be specific \n</code></pre>\n\n<p>Providing your complete html will help solving your issue in a better way however try this:</p>\n\n<pre><code>   var $principal = $('#a_principal');\n   $(\"input:checkbox\").not($principal).prop('checked', $principal.prop('checked'));  \n</code></pre>\n"}],"owner":{"account_id":1537165,"reputation":15,"user_id":1432859,"display_name":"paulinajr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16867,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":19060415,"answer_count":2,"score":1,"last_activity_date":1673023538,"creation_date":1380317629,"question_id":19060402,"body_markdown":"I&#39;m working on jsp application and I have a form that has a checkbox, I retrieve data from my database which has a bit field named &quot;principal&quot;, I can get the value of this field which is a boolean but I can&#39;t checked or unchecked the checkbox depending on the value of &quot;principal&quot;.\r\n\r\nHere&#39;s my JSP code:\r\n\r\n    &lt;tr&gt;\r\n     &lt;td&gt;Principal:&lt;/td&gt;\r\n      &lt;td colspan=&quot;2&quot;&gt;\r\n       &lt;input type=&quot;checkbox&quot; id=&quot;a_principal&quot; name=&quot;a_principal&quot; value=&quot;&lt;%=directorio.isPrincipal()%&gt;&quot;/&gt;\r\n      &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n\r\nJavascript code:\r\n\r\n    $(function (){\r\n    \tif(&#39;#a_principal&#39; == true){\r\n    \t\t $(&quot;input:checkbox&quot;).attr(&#39;checked&#39;, true);\r\n    \t}else{\r\n    \t\t$(&quot;input:checkbox&quot;).attr(&#39;checked&#39;, false);\r\n    \t}\r\n    \t\r\n    });\r\n","title":"How to checked checkbox if boolean value is true?","body":"<p>I'm working on jsp application and I have a form that has a checkbox, I retrieve data from my database which has a bit field named &quot;principal&quot;, I can get the value of this field which is a boolean but I can't checked or unchecked the checkbox depending on the value of &quot;principal&quot;.</p>\n<p>Here's my JSP code:</p>\n<pre><code>&lt;tr&gt;\n &lt;td&gt;Principal:&lt;/td&gt;\n  &lt;td colspan=&quot;2&quot;&gt;\n   &lt;input type=&quot;checkbox&quot; id=&quot;a_principal&quot; name=&quot;a_principal&quot; value=&quot;&lt;%=directorio.isPrincipal()%&gt;&quot;/&gt;\n  &lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n<p>Javascript code:</p>\n<pre><code>$(function (){\n    if('#a_principal' == true){\n         $(&quot;input:checkbox&quot;).attr('checked', true);\n    }else{\n        $(&quot;input:checkbox&quot;).attr('checked', false);\n    }\n    \n});\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","validation"],"comments":[{"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"score":0,"creation_date":1596616281,"post_id":63260043,"comment_id":111865368,"body_markdown":"Does this answer your question? [How to I get Spring-Data-MongoDB to validate my objects?](https://stackoverflow.com/questions/22568962/how-to-i-get-spring-data-mongodb-to-validate-my-objects)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/22568962/how-to-i-get-spring-data-mongodb-to-validate-my-objects\">How to I get Spring-Data-MongoDB to validate my objects?</a>"},{"owner":{"account_id":13464993,"reputation":1825,"user_id":9715631,"display_name":"Devkinandan Chauhan"},"score":0,"creation_date":1596616401,"post_id":63260043,"comment_id":111865429,"body_markdown":"no, it answers in the same way I&#39;ve already mentioned in the question","body":"no, it answers in the same way I&#39;ve already mentioned in the question"},{"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"score":0,"creation_date":1596616843,"post_id":63260043,"comment_id":111865625,"body_markdown":"I see. Take a look this: [onBeforeSave](https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/index.html#mongodb.mapping-usage.events)","body":"I see. Take a look this: <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/index.html#mongodb.mapping-usage.events\" rel=\"nofollow noreferrer\">onBeforeSave</a>"}],"answers":[{"tags":[],"owner":{"account_id":12182664,"reputation":1,"user_id":8893653,"display_name":"Jean Carlos Souza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673023061,"creation_date":1673023061,"answer_id":75033670,"question_id":63260043,"body_markdown":"i was with the same problem and found this question. Here is how i solved my problem in my application that uses Spingboot e MongoDB\r\n\r\n   this is the only dependency needed. \r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n[The DTO class with the rigth imports][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hyVtp.png\r\n\r\nAnd in the controller i used @Validated from \r\n\r\n    import org.springframework.validation.annotation.Validated;\r\n\r\n    \t@PostMapping\r\n\t@ResponseStatus(HttpStatus.CREATED)\r\n\tpublic ProdutoData inserirProduto(@RequestBody @Validated ProdutoForm produto){\r\n\t\treturn produtoServico.salvar(produto);\r\n\t}\r\n\r\nI hope this can help someone.","title":"Validate MongoDB documents through Spring boot data","body":"<p>i was with the same problem and found this question. Here is how i solved my problem in my application that uses Spingboot e MongoDB</p>\n<p>this is the only dependency needed.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/hyVtp.png\" rel=\"nofollow noreferrer\">The DTO class with the rigth imports</a></p>\n<p>And in the controller i used @Validated from</p>\n<pre><code>import org.springframework.validation.annotation.Validated;\n\n    @PostMapping\n@ResponseStatus(HttpStatus.CREATED)\npublic ProdutoData inserirProduto(@RequestBody @Validated ProdutoForm produto){\n    return produtoServico.salvar(produto);\n}\n</code></pre>\n<p>I hope this can help someone.</p>\n"}],"owner":{"account_id":13464993,"reputation":1825,"user_id":9715631,"display_name":"Devkinandan Chauhan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":937,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673023061,"creation_date":1596611146,"question_id":63260043,"body_markdown":"I&#39;m new to MongoDB. I&#39;m using Spring boot 2.1.3.RELEASE. \r\n\r\nI want to perform validation on MongoDB documents (on message as per below code), currently, it saves documents even everything passed as null.\r\n\r\nI have gone through a couple of answers like https://stackoverflow.com/questions/42292359/spring-data-mongodb-not-null-annotation-like-spring-data-jpa\r\n\r\n    \r\n  \r\n\r\n    public class Comment {\r\n    \r\n      @NotBlank(message = &quot;Comment&#39;s message can&#39;t be blank&quot;)\r\n      private String message;\r\n      \r\n      @CreatedDate\r\n      private Date createdDate;\r\n    \r\n      @CreatedBy\r\n      private String createdBy;\r\n    \r\n    }\r\n\r\nIs there any way to achieve the same without using hibernate-validator dependency?","title":"Validate MongoDB documents through Spring boot data","body":"<p>I'm new to MongoDB. I'm using Spring boot 2.1.3.RELEASE.</p>\n<p>I want to perform validation on MongoDB documents (on message as per below code), currently, it saves documents even everything passed as null.</p>\n<p>I have gone through a couple of answers like <a href=\"https://stackoverflow.com/questions/42292359/spring-data-mongodb-not-null-annotation-like-spring-data-jpa\">Spring data mongoDb not null annotation like Spring data Jpa</a></p>\n<pre><code>public class Comment {\n\n  @NotBlank(message = &quot;Comment's message can't be blank&quot;)\n  private String message;\n  \n  @CreatedDate\n  private Date createdDate;\n\n  @CreatedBy\n  private String createdBy;\n\n}\n</code></pre>\n<p>Is there any way to achieve the same without using hibernate-validator dependency?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9243,"page":749,"page_size":100}
