{"items":[{"tags":["java","spring-webflux","spring-data-r2dbc","r2dbc"],"answers":[{"tags":[],"owner":{"account_id":7018744,"reputation":484,"user_id":5379053,"display_name":"Dharmendra Vishwakarma"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1589643231,"creation_date":1589643231,"answer_id":61839256,"question_id":61839095,"body_markdown":"If you don&#39;t want to keep the field for update and insert, then mark the field with `@Transient`.\r\n\r\nFor example,\r\n\r\n    @Transient\r\n    private String companyName;\r\n\r\nhttps://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/annotation/Transient.html","title":"Ignore field for update in spring-r2dbc","body":"<p>If you don't want to keep the field for update and insert, then mark the field with <code>@Transient</code>.</p>\n\n<p>For example,</p>\n\n<pre><code>@Transient\nprivate String companyName;\n</code></pre>\n\n<p><a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/annotation/Transient.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/annotation/Transient.html</a></p>\n"},{"tags":[],"owner":{"account_id":7088270,"reputation":448,"user_id":5424502,"display_name":"Mohsen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641219878,"creation_date":1641219878,"answer_id":70567202,"question_id":61839095,"body_markdown":"Simplify use\r\n\r\n    @ReadOnlyProperty\r\n\r\nFor example,\r\n\r\n    @ReadOnlyProperty\r\n    private String companyName;\r\n\r\nhttps://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/annotation/ReadOnlyProperty.html\r\n","title":"Ignore field for update in spring-r2dbc","body":"<p>Simplify use</p>\n<pre><code>@ReadOnlyProperty\n</code></pre>\n<p>For example,</p>\n<pre><code>@ReadOnlyProperty\nprivate String companyName;\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/annotation/ReadOnlyProperty.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/annotation/ReadOnlyProperty.html</a></p>\n"}],"owner":{"account_id":9447342,"reputation":61,"user_id":7025541,"display_name":"Rachana Kulkarni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4153,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1641219878,"creation_date":1589642582,"question_id":61839095,"body_markdown":"I am using spring r2dbc and ReactiveCrudRepository, I have a field which I need to ignore for when update query is generated\r\n```\r\n@Data\r\n@Table(PRODUCT_TABLE)\r\npublic class ProductEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO) // Id generated by database\r\n    private Integer id;\r\n\r\n    private Integer companyId;\r\n\r\n    @Column(insertable=false, updatable = false)\r\n    private String companyName;\r\n\r\n    @NotBlank\r\n    private String name;\r\n\r\n    private VerificationStatus verificationStatus;\r\n}\r\n```\r\n\r\nHow can I ignore companyName in update query. I am able ignore it in insert query using @column but its not working for update\r\n\r\n\r\n\r\n\r\n","title":"Ignore field for update in spring-r2dbc","body":"<p>I am using spring r2dbc and ReactiveCrudRepository, I have a field which I need to ignore for when update query is generated</p>\n\n<pre><code>@Data\n@Table(PRODUCT_TABLE)\npublic class ProductEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO) // Id generated by database\n    private Integer id;\n\n    private Integer companyId;\n\n    @Column(insertable=false, updatable = false)\n    private String companyName;\n\n    @NotBlank\n    private String name;\n\n    private VerificationStatus verificationStatus;\n}\n</code></pre>\n\n<p>How can I ignore companyName in update query. I am able ignore it in insert query using @column but its not working for update</p>\n"},{"tags":["java","maven-2","pom.xml"],"comments":[{"owner":{"account_id":23387,"reputation":12468,"user_id":58549,"accept_rate":62,"display_name":"Zac Thompson"},"score":1,"creation_date":1239855143,"post_id":754216,"comment_id":566170,"body_markdown":"What is the &quot;particular way&quot; that you are building and deploying?  What is meant by &quot;in the course of deployment&quot;?  A sample of your current pom might help make this question clearer.","body":"What is the &quot;particular way&quot; that you are building and deploying?  What is meant by &quot;in the course of deployment&quot;?  A sample of your current pom might help make this question clearer."}],"answers":[{"tags":[],"owner":{"account_id":18028,"reputation":39206,"user_id":40933,"accept_rate":63,"display_name":"Warrior"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1239841557,"creation_date":1239841557,"answer_id":754318,"question_id":754216,"body_markdown":"You should add the corresponding dependency of the artifact in the dependencies of the pom file.\r\n\r\nEx:\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.myfaces.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;myfaces-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.2&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"Deploy additional jar file with Maven?","body":"<p>You should add the corresponding dependency of the artifact in the dependencies of the pom file.</p>\n\n<p>Ex:</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.apache.myfaces.core&lt;/groupId&gt;\n        &lt;artifactId&gt;myfaces-api&lt;/artifactId&gt;\n        &lt;version&gt;1.2.2&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27150,"reputation":11971,"user_id":71343,"display_name":"Dominic Mitchell"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1239875102,"creation_date":1239875102,"answer_id":755408,"question_id":754216,"body_markdown":"The &quot;maven way&quot; is to split out `src/main/java` into a separate module, and have the war file depend on that.\r\n\r\nIf you&#39;re absolutely resistant to that approach, you may be able to use a profile to alter the contents of the `packaging` element.  I&#39;m not sure if that&#39;s possible though.","title":"Deploy additional jar file with Maven?","body":"<p>The \"maven way\" is to split out <code>src/main/java</code> into a separate module, and have the war file depend on that.</p>\n\n<p>If you're absolutely resistant to that approach, you may be able to use a profile to alter the contents of the <code>packaging</code> element.  I'm not sure if that's possible though.</p>\n"},{"tags":[],"owner":{"account_id":28876,"reputation":6802,"user_id":77489,"display_name":"Brian Fox"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1240709015,"creation_date":1240709015,"answer_id":790073,"question_id":754216,"body_markdown":"Separating them is the right way to go. Forcing maven to produce a war and a jar in the same module is possible but will cause you problems down the road.","title":"Deploy additional jar file with Maven?","body":"<p>Separating them is the right way to go. Forcing maven to produce a war and a jar in the same module is possible but will cause you problems down the road.</p>\n"},{"tags":[],"owner":{"account_id":7835,"reputation":23463,"user_id":13753,"accept_rate":85,"display_name":"sal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1253914395,"creation_date":1253914395,"answer_id":1479696,"question_id":754216,"body_markdown":"One way to solve this is to have the module build a jar and then use the assembly plugin to build a war file with the jar in WEB-INF/lib of that war. I would strongly recommend against this. You&#39;d be better off having a jar project and a war project with a parent project building both modules.","title":"Deploy additional jar file with Maven?","body":"<p>One way to solve this is to have the module build a jar and then use the assembly plugin to build a war file with the jar in WEB-INF/lib of that war. I would strongly recommend against this. You'd be better off having a jar project and a war project with a parent project building both modules.</p>\n"},{"tags":[],"owner":{"account_id":58517,"reputation":6414,"user_id":175156,"accept_rate":78,"display_name":"yincrash"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1276122182,"creation_date":1276122182,"answer_id":3010427,"question_id":754216,"body_markdown":"This [blog post][1] and its comments have the answer.\r\n\r\nThese three plugin configurations will allow you to build/install/deploy a jar version alongside the war.\r\n\r\n    &lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;make-a-jar&lt;/id&gt;\r\n\t\t\t\t&lt;phase&gt;compile&lt;/phase&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;jar&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t&lt;/plugin&gt;\r\n\t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;phase&gt;install&lt;/phase&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;install-file&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;${project.artifactId}&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;version&gt;${project.version}&lt;/version&gt;\r\n\t\t\t\t\t&lt;file&gt;\r\n\t\t\t\t\t\t${project.build.directory}/${project.artifactId}-${project.version}.jar\r\n\t\t\t\t\t&lt;/file&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t&lt;/plugin&gt;\r\n\t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;phase&gt;deploy&lt;/phase&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;deploy-file&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t\t\t\t\t&lt;generatePom&gt;true&lt;/generatePom&gt;\r\n\t\t\t\t\t&lt;url&gt;${project.distributionManagement.repository.url}&lt;/url&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;${project.artifactId}&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;version&gt;${project.version}&lt;/version&gt;\r\n\t\t\t\t\t&lt;file&gt;${project.build.directory}/${project.artifactId}-${project.version}.jar&lt;/file&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t&lt;/plugin&gt;\r\n\r\n\r\n\r\n  [1]: http://communitygrids.blogspot.com/2007/11/maven-making-war-and-jar-at-same-time.html","title":"Deploy additional jar file with Maven?","body":"<p>This <a href=\"http://communitygrids.blogspot.com/2007/11/maven-making-war-and-jar-at-same-time.html\" rel=\"noreferrer\">blog post</a> and its comments have the answer.</p>\n\n<p>These three plugin configurations will allow you to build/install/deploy a jar version alongside the war.</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;make-a-jar&lt;/id&gt;\n            &lt;phase&gt;compile&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;jar&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;install&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;install-file&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;packaging&gt;jar&lt;/packaging&gt;\n                &lt;artifactId&gt;${project.artifactId}&lt;/artifactId&gt;\n                &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n                &lt;version&gt;${project.version}&lt;/version&gt;\n                &lt;file&gt;\n                    ${project.build.directory}/${project.artifactId}-${project.version}.jar\n                &lt;/file&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;deploy&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;deploy-file&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;packaging&gt;jar&lt;/packaging&gt;\n                &lt;generatePom&gt;true&lt;/generatePom&gt;\n                &lt;url&gt;${project.distributionManagement.repository.url}&lt;/url&gt;\n                &lt;artifactId&gt;${project.artifactId}&lt;/artifactId&gt;\n                &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n                &lt;version&gt;${project.version}&lt;/version&gt;\n                &lt;file&gt;${project.build.directory}/${project.artifactId}-${project.version}.jar&lt;/file&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":243786,"reputation":30863,"user_id":516167,"accept_rate":94,"display_name":"MariuszS"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1613393757,"creation_date":1363726067,"answer_id":15510124,"question_id":754216,"body_markdown":"Maven `deploy` means deploy artifact to a **Maven Repository**, not an application server.\r\n\r\nConfigure additional JAR artifact like this:\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;make-a-jar&lt;/id&gt;\r\n                &lt;phase&gt;compile&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;jar&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAttach this new artifact to your project:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.7&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;attach-artifacts&lt;/id&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;attach-artifact&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;artifacts&gt;\r\n                        &lt;artifact&gt;\r\n                            &lt;file&gt;${project.build.directory}/${project.artifactId}-${project.version}.jar&lt;/file&gt;\r\n                            &lt;!-- &lt;file&gt;${project.build.directory}/${project.build.finalName}.jar&lt;/file&gt; - if finalName is defined --&gt;\r\n                            &lt;type&gt;jar&lt;/type&gt;                           \r\n                        &lt;/artifact&gt;\r\n                    &lt;/artifacts&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;","title":"Deploy additional jar file with Maven?","body":"<p>Maven <code>deploy</code> means deploy artifact to a <strong>Maven Repository</strong>, not an application server.</p>\n<p>Configure additional JAR artifact like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;make-a-jar&lt;/id&gt;\n            &lt;phase&gt;compile&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;jar&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Attach this new artifact to your project:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.7&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;attach-artifacts&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;attach-artifact&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;artifacts&gt;\n                    &lt;artifact&gt;\n                        &lt;file&gt;${project.build.directory}/${project.artifactId}-${project.version}.jar&lt;/file&gt;\n                        &lt;!-- &lt;file&gt;${project.build.directory}/${project.build.finalName}.jar&lt;/file&gt; - if finalName is defined --&gt;\n                        &lt;type&gt;jar&lt;/type&gt;                           \n                    &lt;/artifact&gt;\n                &lt;/artifacts&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":8236,"reputation":3400,"user_id":14732,"accept_rate":42,"display_name":"Joshua Swink"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27981,"favorite_count":0,"down_vote_count":1,"up_vote_count":24,"answer_count":6,"score":23,"last_activity_date":1641219777,"creation_date":1239839311,"question_id":754216,"body_markdown":"I have an artifact which is being built and deployed in a particular way (not as a jar file). In the course of deployment, a war file is built.\r\n\r\nHow can I configure the pom so that the artifact is also deployed as a jar file, to a different location?","title":"Deploy additional jar file with Maven?","body":"<p>I have an artifact which is being built and deployed in a particular way (not as a jar file). In the course of deployment, a war file is built.</p>\n\n<p>How can I configure the pom so that the artifact is also deployed as a jar file, to a different location?</p>\n"},{"tags":["java","python-3.x","modulo"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1641218404,"post_id":70566876,"comment_id":124742762,"body_markdown":"They are not the same operation.","body":"They are not the same operation."},{"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"score":0,"creation_date":1641218803,"post_id":70566876,"comment_id":124742901,"body_markdown":"Furthermore what is clearly defined in a mathematical point of view is the modulus of two strictly positive integers. As soon as you use floating point or negative numbers,, different libraries are allowed to use different definitions.","body":"Furthermore what is clearly defined in a mathematical point of view is the modulus of two strictly positive integers. As soon as you use floating point or negative numbers,, different libraries are allowed to use different definitions."}],"owner":{"account_id":14220758,"reputation":163,"user_id":10273141,"display_name":"kevin godfrey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1641218725,"answer_count":0,"score":0,"last_activity_date":1641218849,"creation_date":1641218343,"question_id":70566876,"body_markdown":"So my understanding of the modulus operator is that it returns the remainder of the division, after dividing the dividend with a divisor.\r\nand of course, this dividend and divisor could be either an integer(-ve and +ve) or a decimal number.\r\n\r\nand then I discovered that this modulus operator works differently for java and python.\r\nie. when dealing with negative numbers.\r\n\r\nwhile python seems to assign the sign of denominator to its output.\r\njava seems to assign the sign of the numerator to its output.\r\nFair enough, considering that they are two different languages they can have different rules.\r\n\r\nbut then I experimented with some values and discovered that they output different values for the same operands.\r\nex - \r\n\r\n&gt; Python -\r\n\r\n    print((-4.1)%2);# outputs : 1.9000000000000004\r\n\r\n&gt; Java -\r\n\r\n     public static void main(String[] args) {\r\n            float f = -4.1f;\r\n            float b = 2f;\r\n            System.out.println(f%b); // outputs : -0.099999905\r\n     }\r\n\r\nAfter seeing the results, I just had to ask what&#39;s going on behind the scenes how are they working? and if there were to be a right answer, which one would it be?","title":"Why are python and java giving different answers for the same modulus operation?","body":"<p>So my understanding of the modulus operator is that it returns the remainder of the division, after dividing the dividend with a divisor.\nand of course, this dividend and divisor could be either an integer(-ve and +ve) or a decimal number.</p>\n<p>and then I discovered that this modulus operator works differently for java and python.\nie. when dealing with negative numbers.</p>\n<p>while python seems to assign the sign of denominator to its output.\njava seems to assign the sign of the numerator to its output.\nFair enough, considering that they are two different languages they can have different rules.</p>\n<p>but then I experimented with some values and discovered that they output different values for the same operands.\nex -</p>\n<blockquote>\n<p>Python -</p>\n</blockquote>\n<pre><code>print((-4.1)%2);# outputs : 1.9000000000000004\n</code></pre>\n<blockquote>\n<p>Java -</p>\n</blockquote>\n<pre><code> public static void main(String[] args) {\n        float f = -4.1f;\n        float b = 2f;\n        System.out.println(f%b); // outputs : -0.099999905\n }\n</code></pre>\n<p>After seeing the results, I just had to ask what's going on behind the scenes how are they working? and if there were to be a right answer, which one would it be?</p>\n"},{"tags":["java","string","search","java.util.scanner","brackets"],"answers":[{"tags":[],"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641218765,"creation_date":1641218765,"answer_id":70566970,"question_id":70565387,"body_markdown":"I believe the problem is with your final `while` loop.\r\n\r\nThe problem is that you are running through `Str` (your original string), looking for opening parentheses.  However, your original string `4 + 3 ) * 4 - 2 ) * 6 - 6 ) ) )` does not contain any opening parentheses, so `Str.charAt(j)==&#39;(&#39;` is never `true` and `temp` never gets incremented to match `pr`.  Hence the condition `temp!=pr` is always `true`, so the `while` loop keeps executing.\r\n\r\nYou probably want to change all occurrences of `Str` in this loop to `Strr`, which is the string you have been inserting opening parentheses into.\r\n\r\nYou will then reach a problem with the following line:\r\n```java\r\n                    Strr= Strr.substring(0,j-1)+&#39;(&#39;+Strr.substring(j,lent-1);\r\n```\r\nIf `j &gt; 0`, this line will exclude the character at position `j-1` in `Strr`.  If `j == 0` this will cause a `StringIndexOutOfBoundsException` to be thrown.  The second argument of the `.substring` method isn&#39;t the index of the last character to include in the substring, it&#39;s the index of the next character after that. The substring of `Strr` from the start, up to but not including the character in position `j`, is `Strr.substring(0,j)` instead of `Strr.substring(0,j-1)`.\r\n\r\nAlso, for simplicity, if you want the substring to run to the end of the string, you can omit the second parameter. In the line below I&#39;ve made this modification to your second call to `.substring`:\r\n```java\r\n                    Strr= Strr.substring(0,j)+&#39;(&#39;+Strr.substring(j);\r\n```\r\nAfter making these changes to your class, I was able to run it on your sample input `4 + 3 ) * 4 - 2 ) * 6 - 6 ) ) )` and get the output `((4 + 3 ) *(( 4 - 2 ) *( 6 - 6 ) ) )` from it.\r\n\r\n&lt;hr&gt;\r\n\r\nHowever, I then ran your code on `1 + 5 ) / 4 + 3 ) * 4 - 2 ) * 6 - 6 ) ) )`, and it hung once again.\r\n\r\nThe problem here is that by the time your code reaches the top of your `while` loop, it will have inserted four opening parentheses, leaving two still to be closed.  However, running through the `for` loop will add three opening parentheses to `str`, taking `temp` up to 7, when `pr` is 6.  7 does not equal 6, so the body of the `while` loop runs again, inserting more parentheses, and so on and so on, until the string gets too large to fit in memory and the program crashes.\r\n\r\nThe simplest fix is to add the condition `temp&lt;pr` to the line\r\n```java\r\nif(prl&gt;1&amp;&amp;Strr.charAt(j)==&#39;(&#39;){\r\n```\r\nto give you\r\n```java\r\nif(prl&gt;1&amp;&amp;Strr.charAt(j)==&#39;(&#39;&amp;&amp;temp&lt;pr){\r\n```\r\nThat way you don&#39;t end up inserting too many opening parentheses.\r\n\r\n&lt;hr&gt;\r\n\r\nFinally, for the sake of readability, I would strongly recommend that you give your variables more descriptive names.  For example, `temp` is not a great name for a variable that counts the number of opening parentheses inserted so far: a better name would be `openParenCount` or perhaps `insertedOpenParensCount`.  Similarly, `pr` would be better as `closeParenCount`.  `Str` could be renamed to `originalString` and  `Strr` to `modifiedString`.","title":"Why does my code about Bracket Fixing hangs?","body":"<p>I believe the problem is with your final <code>while</code> loop.</p>\n<p>The problem is that you are running through <code>Str</code> (your original string), looking for opening parentheses.  However, your original string <code>4 + 3 ) * 4 - 2 ) * 6 - 6 ) ) )</code> does not contain any opening parentheses, so <code>Str.charAt(j)=='('</code> is never <code>true</code> and <code>temp</code> never gets incremented to match <code>pr</code>.  Hence the condition <code>temp!=pr</code> is always <code>true</code>, so the <code>while</code> loop keeps executing.</p>\n<p>You probably want to change all occurrences of <code>Str</code> in this loop to <code>Strr</code>, which is the string you have been inserting opening parentheses into.</p>\n<p>You will then reach a problem with the following line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>                    Strr= Strr.substring(0,j-1)+'('+Strr.substring(j,lent-1);\n</code></pre>\n<p>If <code>j &gt; 0</code>, this line will exclude the character at position <code>j-1</code> in <code>Strr</code>.  If <code>j == 0</code> this will cause a <code>StringIndexOutOfBoundsException</code> to be thrown.  The second argument of the <code>.substring</code> method isn't the index of the last character to include in the substring, it's the index of the next character after that. The substring of <code>Strr</code> from the start, up to but not including the character in position <code>j</code>, is <code>Strr.substring(0,j)</code> instead of <code>Strr.substring(0,j-1)</code>.</p>\n<p>Also, for simplicity, if you want the substring to run to the end of the string, you can omit the second parameter. In the line below I've made this modification to your second call to <code>.substring</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>                    Strr= Strr.substring(0,j)+'('+Strr.substring(j);\n</code></pre>\n<p>After making these changes to your class, I was able to run it on your sample input <code>4 + 3 ) * 4 - 2 ) * 6 - 6 ) ) )</code> and get the output <code>((4 + 3 ) *(( 4 - 2 ) *( 6 - 6 ) ) )</code> from it.</p>\n<hr>\n<p>However, I then ran your code on <code>1 + 5 ) / 4 + 3 ) * 4 - 2 ) * 6 - 6 ) ) )</code>, and it hung once again.</p>\n<p>The problem here is that by the time your code reaches the top of your <code>while</code> loop, it will have inserted four opening parentheses, leaving two still to be closed.  However, running through the <code>for</code> loop will add three opening parentheses to <code>str</code>, taking <code>temp</code> up to 7, when <code>pr</code> is 6.  7 does not equal 6, so the body of the <code>while</code> loop runs again, inserting more parentheses, and so on and so on, until the string gets too large to fit in memory and the program crashes.</p>\n<p>The simplest fix is to add the condition <code>temp&lt;pr</code> to the line</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(prl&gt;1&amp;&amp;Strr.charAt(j)=='('){\n</code></pre>\n<p>to give you</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(prl&gt;1&amp;&amp;Strr.charAt(j)=='('&amp;&amp;temp&lt;pr){\n</code></pre>\n<p>That way you don't end up inserting too many opening parentheses.</p>\n<hr>\n<p>Finally, for the sake of readability, I would strongly recommend that you give your variables more descriptive names.  For example, <code>temp</code> is not a great name for a variable that counts the number of opening parentheses inserted so far: a better name would be <code>openParenCount</code> or perhaps <code>insertedOpenParensCount</code>.  Similarly, <code>pr</code> would be better as <code>closeParenCount</code>.  <code>Str</code> could be renamed to <code>originalString</code> and  <code>Strr</code> to <code>modifiedString</code>.</p>\n"},{"tags":[],"owner":{"account_id":11015929,"reputation":111,"user_id":8091785,"display_name":"Jay_Pixel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641218786,"creation_date":1641218786,"answer_id":70566971,"question_id":70565387,"body_markdown":"I&#39;m not sure what exactly your code is doing in the while loop, however one thing that i can confirm, when greater than 3 closing &quot;)&quot;brackets are input your code enters the while loop\r\n\r\n    while(temp!=pr) {   // If still not equal, I&#39;ll set an opening bracket to the second opening bracket there is, making the last two expression a priority\r\n            for(int j =lent-1; j&gt;-1;j--){\r\n                if(Str.charAt(j)==&#39;(&#39;)\r\n                    prl++;\r\n                if(prl&gt;1&amp;&amp;Str.charAt(j)==&#39;(&#39;){\r\n                    Strr= Strr.substring(0,j-1)+&#39;(&#39;+Strr.substring(j,lent-1);\r\n                    temp++;\r\n                }\r\n            }\r\n        }\r\n\r\nat this point your `while` checks if `temp!=pr` this condition will always be true if called, creating an infinite loop.","title":"Why does my code about Bracket Fixing hangs?","body":"<p>I'm not sure what exactly your code is doing in the while loop, however one thing that i can confirm, when greater than 3 closing &quot;)&quot;brackets are input your code enters the while loop</p>\n<pre><code>while(temp!=pr) {   // If still not equal, I'll set an opening bracket to the second opening bracket there is, making the last two expression a priority\n        for(int j =lent-1; j&gt;-1;j--){\n            if(Str.charAt(j)=='(')\n                prl++;\n            if(prl&gt;1&amp;&amp;Str.charAt(j)=='('){\n                Strr= Strr.substring(0,j-1)+'('+Strr.substring(j,lent-1);\n                temp++;\n            }\n        }\n    }\n</code></pre>\n<p>at this point your <code>while</code> checks if <code>temp!=pr</code> this condition will always be true if called, creating an infinite loop.</p>\n"}],"owner":{"account_id":23121783,"reputation":9,"user_id":17228216,"display_name":"fahis23"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70566970,"answer_count":2,"score":0,"last_activity_date":1641218811,"creation_date":1641210755,"question_id":70565387,"body_markdown":"My code makes an incomplete combination of expressions with closing brackets&quot;)&quot; to a complete combination of expressions with the right placement of Opening Brackets &quot;(&quot;. If closing brackets and opening brackets are still not equal, make the first expressions to the last a priority, if still not equal, make an opening bracket to the first index. Three expressions maximum (expression = digit operator digit).\r\n\r\nSample Input:\r\n4 + 3 ) * 4 - 2 ) * 6 - 6 ) ) )\r\n\r\nSample Output:\r\n((4 + 3 ) * ((4 - 2 ) * (6 - 6 ) ) )\r\n\r\n\r\n\r\nMy code works when theres only 1-2 closing brackets placed. if its more than two, the program hangs.\r\n\r\n\r\nsource code:\r\n``` \r\nimport java.util.Scanner;\r\nimport java.lang.String;\r\n\r\npublic class brackets {     //Declaration of Variables\r\n    static String Str, Strr=&quot;&quot;;\r\n    static Integer ope=0;\r\n    static int temp=0,lent,pr=0,prl=0,prr=0;   //Temp = Opening Brackets placed, lent = string length, pr=Closing Brackets, prl = number of opening brackets made from last index, prr=TBA\r\n    static  Scanner scan = new Scanner(System.in);\r\n\r\n    public static void main(String[]args){\r\n        \r\n        System.out.println(&quot;Enter the combined experessions: &quot;);  \r\n        Str = scan.nextLine();        \r\n        lent = Str.length();       //Setting the full expression to a string (Str)\r\n    \r\n\r\n        for(int i=0; i&lt;lent;i++){        //Finding how many Closing Brackets There are\r\n \r\n            if(Str.charAt(i)==&#39;)&#39;){\r\n                pr++;\r\n            }   \r\n\r\n        }\r\n        Popping(lent);                 //Method\r\n        System.out.print(Strr);          //Printing Final Ouput\r\n            \r\n\r\n        scan.close();\r\n        \r\n\r\n\r\n    }\r\n\r\n    public static void Popping(int lent){ \r\n     \r\n        for(int j =lent-1; j&gt;-1;j--){        //I set j to lent because I want to search from rightmost to leftmost\r\n            if(Str.charAt(j)==&#39;)&#39;)          //I need to find a closing bracket first before the program could start to input an opening bracket\r\n                prr++;\r\n\r\n            if(prr&gt;0){\r\n                if(Str.charAt(j)==&#39;+&#39;||Str.charAt(j)==&#39;-&#39;||Str.charAt(j)==&#39;*&#39;||Str.charAt(j)==&#39;/&#39;||(j&lt;=lent-2&amp;&amp;Character.isDigit(Str.charAt(j+1))&amp;&amp;Str.charAt(j)==&#39;)&#39;)){   //Finding an operator or finding a closing bracket which has a digit next to it \r\n                    ope++;\r\n                }\r\n                if(ope==2){  //finding two operators mean that I can now put an opening bracket\r\n                    Strr = &#39;(&#39;+Strr;\r\n                    temp++;\r\n                    ope=0;\r\n                }\r\n            }\r\n\r\n        Strr = Str.charAt(j)+Strr;  \r\n\r\n        if(prr&gt;0){                 \r\n            if(j==0&amp;&amp;temp!=pr){    //If J==0 and Closing brackets still is not equal to Opening Brackets, I&#39;ll set opening bracket to the 0 index\r\n                Strr = &#39;(&#39;+Strr;\r\n                temp++;\r\n            }\r\n        }\r\n\r\n        }\r\n\r\n        while(temp!=pr) {   // If still not equal, I&#39;ll set an opening bracket to the second opening bracket there is, making the last two expression a priority\r\n            for(int j =lent-1; j&gt;-1;j--){\r\n                if(Str.charAt(j)==&#39;(&#39;)\r\n                    prl++;\r\n                if(prl&gt;1&amp;&amp;Str.charAt(j)==&#39;(&#39;){\r\n                    Strr= Strr.substring(0,j-1)+&#39;(&#39;+Strr.substring(j,lent-1);\r\n                    temp++;\r\n                }\r\n            }\r\n        }\r\n   \r\n       \r\n    }\r\n}\r\n\r\n``` ","title":"Why does my code about Bracket Fixing hangs?","body":"<p>My code makes an incomplete combination of expressions with closing brackets&quot;)&quot; to a complete combination of expressions with the right placement of Opening Brackets &quot;(&quot;. If closing brackets and opening brackets are still not equal, make the first expressions to the last a priority, if still not equal, make an opening bracket to the first index. Three expressions maximum (expression = digit operator digit).</p>\n<p>Sample Input:\n4 + 3 ) * 4 - 2 ) * 6 - 6 ) ) )</p>\n<p>Sample Output:\n((4 + 3 ) * ((4 - 2 ) * (6 - 6 ) ) )</p>\n<p>My code works when theres only 1-2 closing brackets placed. if its more than two, the program hangs.</p>\n<p>source code:</p>\n<pre><code>import java.util.Scanner;\nimport java.lang.String;\n\npublic class brackets {     //Declaration of Variables\n    static String Str, Strr=&quot;&quot;;\n    static Integer ope=0;\n    static int temp=0,lent,pr=0,prl=0,prr=0;   //Temp = Opening Brackets placed, lent = string length, pr=Closing Brackets, prl = number of opening brackets made from last index, prr=TBA\n    static  Scanner scan = new Scanner(System.in);\n\n    public static void main(String[]args){\n        \n        System.out.println(&quot;Enter the combined experessions: &quot;);  \n        Str = scan.nextLine();        \n        lent = Str.length();       //Setting the full expression to a string (Str)\n    \n\n        for(int i=0; i&lt;lent;i++){        //Finding how many Closing Brackets There are\n \n            if(Str.charAt(i)==')'){\n                pr++;\n            }   \n\n        }\n        Popping(lent);                 //Method\n        System.out.print(Strr);          //Printing Final Ouput\n            \n\n        scan.close();\n        \n\n\n    }\n\n    public static void Popping(int lent){ \n     \n        for(int j =lent-1; j&gt;-1;j--){        //I set j to lent because I want to search from rightmost to leftmost\n            if(Str.charAt(j)==')')          //I need to find a closing bracket first before the program could start to input an opening bracket\n                prr++;\n\n            if(prr&gt;0){\n                if(Str.charAt(j)=='+'||Str.charAt(j)=='-'||Str.charAt(j)=='*'||Str.charAt(j)=='/'||(j&lt;=lent-2&amp;&amp;Character.isDigit(Str.charAt(j+1))&amp;&amp;Str.charAt(j)==')')){   //Finding an operator or finding a closing bracket which has a digit next to it \n                    ope++;\n                }\n                if(ope==2){  //finding two operators mean that I can now put an opening bracket\n                    Strr = '('+Strr;\n                    temp++;\n                    ope=0;\n                }\n            }\n\n        Strr = Str.charAt(j)+Strr;  \n\n        if(prr&gt;0){                 \n            if(j==0&amp;&amp;temp!=pr){    //If J==0 and Closing brackets still is not equal to Opening Brackets, I'll set opening bracket to the 0 index\n                Strr = '('+Strr;\n                temp++;\n            }\n        }\n\n        }\n\n        while(temp!=pr) {   // If still not equal, I'll set an opening bracket to the second opening bracket there is, making the last two expression a priority\n            for(int j =lent-1; j&gt;-1;j--){\n                if(Str.charAt(j)=='(')\n                    prl++;\n                if(prl&gt;1&amp;&amp;Str.charAt(j)=='('){\n                    Strr= Strr.substring(0,j-1)+'('+Strr.substring(j,lent-1);\n                    temp++;\n                }\n            }\n        }\n   \n       \n    }\n}\n\n</code></pre>\n"},{"tags":["java","android","android-recyclerview","nestedrecyclerview"],"answers":[{"tags":[],"owner":{"account_id":15142453,"reputation":131,"user_id":11030435,"display_name":"Kream"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641164600,"creation_date":1641164600,"answer_id":70560403,"question_id":70558851,"body_markdown":"That is because you must prefetch the child items first before you create its adapter using:\r\n\r\nlayoutManager.setInitialPrefetchItemCount(parentItem, &lt;child items list&gt;.size());\r\n\r\nyou can find a full tutorial in here\r\n\r\nhttps://www.geeksforgeeks.org/how-to-create-a-nested-recyclerview-in-android/","title":"Child RecyclerView setadapter doesn&#39;t work on my Nested RecyclerView Android","body":"<p>That is because you must prefetch the child items first before you create its adapter using:</p>\n<p>layoutManager.setInitialPrefetchItemCount(parentItem, .size());</p>\n<p>you can find a full tutorial in here</p>\n<p><a href=\"https://www.geeksforgeeks.org/how-to-create-a-nested-recyclerview-in-android/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/how-to-create-a-nested-recyclerview-in-android/</a></p>\n"},{"tags":[],"owner":{"account_id":20333857,"reputation":3,"user_id":14915105,"display_name":"houssem eddine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641218379,"creation_date":1641218379,"answer_id":70566882,"question_id":70558851,"body_markdown":"I fix it by adding Linear Layout manager like this  \r\n\r\n```\r\nholder.tasks.setHasFixedSize(true);\r\nChildAdapter childAdapter = new ChildAdapter();\r\nchildAdapter.setList(category.getLists());\r\n\r\nLinearLayoutManager layoutManager = new LinearLayoutManager(mContext);\r\nholder.tasks.setLayoutManager(layoutManager);\r\n\r\nholder.tasks.setAdapter(childAdapter);\r\nchildAdapter.notifyDataSetChanged();\r\n```","title":"Child RecyclerView setadapter doesn&#39;t work on my Nested RecyclerView Android","body":"<p>I fix it by adding Linear Layout manager like this</p>\n<pre><code>holder.tasks.setHasFixedSize(true);\nChildAdapter childAdapter = new ChildAdapter();\nchildAdapter.setList(category.getLists());\n\nLinearLayoutManager layoutManager = new LinearLayoutManager(mContext);\nholder.tasks.setLayoutManager(layoutManager);\n\nholder.tasks.setAdapter(childAdapter);\nchildAdapter.notifyDataSetChanged();\n</code></pre>\n"}],"owner":{"account_id":20333857,"reputation":3,"user_id":14915105,"display_name":"houssem eddine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":896,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70560403,"answer_count":2,"score":0,"last_activity_date":1641218379,"creation_date":1641149669,"question_id":70558851,"body_markdown":"I have two RecyclerViews. Parent RecyclerView works perfectly but the setadapter of the child&#39;s in the parent adapter does not work.\r\n\r\nI tried to make some log messages in the child adapter but they didn&#39;t even appear so the adapter is not even starting\r\n\r\nBelow is the piece of code for better understanding.\r\n\r\n**MainFragment.java**\r\n\r\n```\r\n        // Set up the RecyclerView.\r\n        recyclerview = rootView.findViewById(R.id.recycler_view);\r\n        adapter = new TodayAdapter(getContext());\r\n        recyclerview.setLayoutManager(new LinearLayoutManager(getContext()));\r\n        recyclerview.setAdapter(adapter);\r\n        taskViewModel = new ViewModelProvider(requireActivity()).get(TaskViewModel.class);\r\n\r\n        List&lt;TaskList&gt; categories = new ArrayList&lt;&gt;();\r\n\r\n        TaskList completedTasks = new TaskList(&quot;Completed Tasks&quot;,null);\r\n        TaskList incompletedTasks = new TaskList(&quot;Incompleted Tasks&quot;,null);\r\n        List&lt;Task&gt; intask = new ArrayList&lt;&gt;();\r\n        List&lt;Task&gt; comtask = new ArrayList&lt;&gt;();\r\n\r\n\r\n        // Update the cached copy of the words in the adapter.\r\n        // Get all the words from the database\r\n        // and associate them to the adapter.\r\n        taskViewModel.getAllTasks().observe( getActivity(), new Observer&lt;List&lt;Task&gt;&gt;() {\r\n            @Override\r\n            public void onChanged(List&lt;Task&gt; tasks) {\r\n                for(Task task : tasks){\r\n                    if(task.getState().equals(&quot;0&quot;)) {\r\n                        intask.add(task);\r\n                        incompletedTasks.setTasks(intask);\r\n                    } else{\r\n                        comtask.add(task);\r\n                        completedTasks.setTasks(comtask);\r\n                    }\r\n                }\r\n\r\n                categories.add(incompletedTasks);\r\n                categories.add(completedTasks);\r\n\r\n                adapter.setCategory(categories);\r\n            }\r\n        });\r\n```\r\n\r\n**ParentAdapter.java**\r\n\r\n``` \r\npublic class TodayAdapter extends RecyclerView.Adapter&lt;TodayAdapter.TodayHolder&gt;{\r\n    private List&lt;TaskList&gt; categories;\r\n\r\n    public TodayAdapter(List&lt;TaskList&gt; todayLists) {\r\n        this.categories = todayLists;\r\n    }\r\n\r\n    public TodayAdapter(Context context) {\r\n        LayoutInflater mInflater = LayoutInflater.from(context);\r\n    }\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public TodayHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View itemView = LayoutInflater.from(parent.getContext()).inflate(R.layout.list_item, parent, false);\r\n        return new TodayAdapter.TodayHolder(itemView);    }\r\n\r\n    @SuppressLint(&quot;NotifyDataSetChanged&quot;)\r\n    @Override\r\n    public void onBindViewHolder(@NonNull TodayHolder holder, int position) {\r\n        Log.d(&quot;test&quot;, Integer.toString(categories.size()));\r\n        if(categories!=null) {\r\n            TaskList category = categories.get(position);\r\n            holder.title.setText(category.getTitle());\r\n\r\n            holder.tasks.setHasFixedSize(true);\r\n            TaskAdapter taskAdapter = new TaskAdapter();\r\n            taskAdapter.setTasks(category.getTasks());\r\n            holder.tasks.setAdapter(taskAdapter);\r\n            taskAdapter.notifyDataSetChanged();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        if(categories!=null)\r\n            return categories.size();\r\n        return 0;\r\n    }\r\n\r\n    public class TodayHolder extends RecyclerView.ViewHolder {\r\n        private TextView title;\r\n        private RecyclerView tasks;\r\n        public TodayHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            title=itemView.findViewById(R.id.title);\r\n            tasks=itemView.findViewById(R.id.tasks);\r\n        }\r\n    }\r\n\r\n    //Associates a list of tasks with this adapter\r\n    public void setCategory(List&lt;TaskList&gt; categories) {\r\n        this.categories = categories;\r\n        notifyDataSetChanged();\r\n    }\r\n}\r\n\r\n```\r\n\r\n**ChildAdapter.java**\r\n\r\n```\r\n/**\r\n * Adapter for the RecyclerView that displays a list of words.\r\n */\r\n\r\npublic class TaskAdapter extends RecyclerView.Adapter&lt;TaskAdapter.TaskHolder&gt; {\r\n\r\n    private List&lt;Task&gt; tasks; // Cached copy of words\r\n    private OnItemClickListener listener;\r\n\r\n    public TaskAdapter(Context context) {\r\n        LayoutInflater mInflater = LayoutInflater.from(context);\r\n    }\r\n\r\n    public TaskAdapter() {\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public TaskHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        Log.d(&quot;test&quot;,&quot;rani fe task adapder&quot;);\r\n\r\n        View itemView = LayoutInflater.from(parent.getContext()).inflate(R.layout.task_item, parent, false);\r\n        return new TaskHolder(itemView);\r\n    }\r\n\r\n    @SuppressLint(&quot;ResourceAsColor&quot;)\r\n    @Override\r\n    public void onBindViewHolder(@NonNull TaskHolder holder, int position) {\r\n        Log.d(&quot;test&quot;,&quot;we are in =&quot; +position);\r\n        if (tasks != null) {\r\n            Task currentTask = tasks.get(position);\r\n            holder.textViewTitle.setText(currentTask.getTitle());\r\n            holder.textViewDescription.setText(currentTask.getDescription());\r\n\r\n            switch (currentTask.getCategory()) {\r\n                case &quot;1&quot;:\r\n                    holder.layout.setBackgroundResource(R.color.button_beige);\r\n                    if (currentTask.getState().equals(&quot;0&quot;)){\r\n                        holder.view.setBackgroundResource(R.drawable.uncheck_beige);\r\n                    holder.textViewTitle.setPaintFlags(0);\r\n                    holder.textViewDescription.setPaintFlags(0);\r\n                    }else{\r\n                        holder.view.setBackgroundResource(R.drawable.check_beige);\r\n                        holder.textViewTitle.setPaintFlags(holder.textViewTitle.getPaintFlags()\r\n                                | Paint.STRIKE_THRU_TEXT_FLAG);\r\n                        holder.textViewDescription.setPaintFlags(holder.textViewDescription.getPaintFlags()\r\n                                | Paint.STRIKE_THRU_TEXT_FLAG);\r\n                    }\r\n                    break;\r\n                case &quot;2&quot;:\r\n                    holder.layout.setBackgroundResource(R.color.button_blue);\r\n\r\n                    if(currentTask.getState().equals(&quot;0&quot;)){\r\n                        holder.view.setBackgroundResource(R.drawable.uncheck_blue);\r\n                        holder.textViewTitle.setPaintFlags(0);\r\n                        holder.textViewDescription.setPaintFlags(0);\r\n                    }\r\n                    else{\r\n                        holder.view.setBackgroundResource(R.drawable.check_blue);\r\n                        holder.textViewTitle.setPaintFlags(holder.textViewTitle.getPaintFlags()\r\n                                | Paint.STRIKE_THRU_TEXT_FLAG);\r\n                        holder.textViewDescription.setPaintFlags(holder.textViewDescription.getPaintFlags()\r\n                                | Paint.STRIKE_THRU_TEXT_FLAG);\r\n                    }\r\n                    break;\r\n                case &quot;3&quot;:\r\n                    holder.layout.setBackgroundResource(R.color.button_green);\r\n                    if(currentTask.getState().equals(&quot;0&quot;)){\r\n                        holder.view.setBackgroundResource(R.drawable.uncheck_green);\r\n                        holder.textViewTitle.setPaintFlags(0);\r\n                        holder.textViewDescription.setPaintFlags(0);\r\n                    }\r\n                    else{\r\n                        holder.view.setBackgroundResource(R.drawable.check_green);\r\n                        holder.textViewTitle.setPaintFlags(holder.textViewTitle.getPaintFlags()\r\n                                | Paint.STRIKE_THRU_TEXT_FLAG);\r\n                        holder.textViewDescription.setPaintFlags(holder.textViewDescription.getPaintFlags()\r\n                                | Paint.STRIKE_THRU_TEXT_FLAG);\r\n                    }                    break;\r\n                case &quot;4&quot;:\r\n                    holder.layout.setBackgroundResource(R.color.button_pink);\r\n                    if(currentTask.getState().equals(&quot;0&quot;)){\r\n                        holder.view.setBackgroundResource(R.drawable.uncheck_pink);\r\n                        holder.textViewTitle.setPaintFlags(0);\r\n                        holder.textViewDescription.setPaintFlags(0);\r\n                    }\r\n                    else{\r\n                        holder.view.setBackgroundResource(R.drawable.check_pink);\r\n                        holder.textViewTitle.setPaintFlags(holder.textViewTitle.getPaintFlags()\r\n                                | Paint.STRIKE_THRU_TEXT_FLAG);\r\n                        holder.textViewDescription.setPaintFlags(holder.textViewDescription.getPaintFlags()\r\n                                | Paint.STRIKE_THRU_TEXT_FLAG);\r\n                    }\r\n                    break;\r\n                case &quot;5&quot;:\r\n                    holder.layout.setBackgroundResource(R.color.button_purple);\r\n                    if(currentTask.getState().equals(&quot;0&quot;)){\r\n                        holder.view.setBackgroundResource(R.drawable.uncheck_purple);\r\n                        holder.textViewTitle.setPaintFlags(0);\r\n                        holder.textViewDescription.setPaintFlags(0);\r\n                    }\r\n                    else{\r\n                        holder.view.setBackgroundResource(R.drawable.check_purple);\r\n                        holder.textViewTitle.setPaintFlags(holder.textViewTitle.getPaintFlags()\r\n                                | Paint.STRIKE_THRU_TEXT_FLAG);\r\n                        holder.textViewDescription.setPaintFlags(holder.textViewDescription.getPaintFlags()\r\n                                | Paint.STRIKE_THRU_TEXT_FLAG);\r\n                    }\r\n                    break;\r\n                default:\r\n                    holder.layout.setBackgroundResource(R.color.black);\r\n                    if(currentTask.getState().equals(&quot;0&quot;)){\r\n                        holder.view.setBackgroundResource(R.drawable.uncheck_black);\r\n                        holder.textViewTitle.setPaintFlags(0);\r\n                        holder.textViewDescription.setPaintFlags(0);\r\n                    }\r\n                    else{\r\n                        holder.view.setBackgroundResource(R.drawable.check_black);\r\n                        holder.textViewTitle.setPaintFlags(holder.textViewTitle.getPaintFlags()\r\n                                | Paint.STRIKE_THRU_TEXT_FLAG);\r\n                        holder.textViewDescription.setPaintFlags(holder.textViewDescription.getPaintFlags()\r\n                                | Paint.STRIKE_THRU_TEXT_FLAG);\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n    //getItemCount() is called many times, and when it is first called,\r\n    //mWords has not been updated (means initially, it&#39;s null, and we can&#39;t return null).\r\n    @Override\r\n    public int getItemCount() {\r\n        if (tasks != null)\r\n            return tasks.size();\r\n        return 0;\r\n    }\r\n\r\n    //Associates a list of tasks with this adapter\r\n    public void setTasks(List&lt;Task&gt; tasks) {\r\n        this.tasks = tasks;\r\n        notifyDataSetChanged();\r\n        if(tasks != null){\r\n            Log.d(&quot;test&quot;,&quot;task size =&quot; +this.tasks.size());\r\n        }else Log.d(&quot;test&quot;,&quot;task size =&quot; +0);\r\n    }\r\n\r\n    //to get the item from the id\r\n    public Task getTaskAt(int position) {\r\n        return tasks.get(position);\r\n    }\r\n\r\n    class TaskHolder extends RecyclerView.ViewHolder {\r\n        private TextView textViewTitle;\r\n        private TextView textViewDescription;\r\n        private View view;\r\n        private LinearLayout layout;\r\n        private RelativeLayout EditLayout;\r\n\r\n        public TaskHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            textViewTitle = itemView.findViewById(R.id.text_view_title);\r\n            textViewDescription = itemView.findViewById(R.id.text_view_description);\r\n            layout = itemView.findViewById(R.id.color);\r\n            view = itemView.findViewById(R.id.image);\r\n            EditLayout = itemView.findViewById(R.id.EditLayout);\r\n\r\n            EditLayout.setOnClickListener(v -&gt; {\r\n                int position = getAdapterPosition();\r\n                listener.onItemClick(tasks.get(position));\r\n            });\r\n\r\n            view.setOnClickListener(v -&gt; {\r\n                int position = getAdapterPosition();\r\n                listener.onDoneClick(tasks.get(position));\r\n            });\r\n        }\r\n    }\r\n\r\n    public interface OnItemClickListener {\r\n        void onItemClick(Task task);\r\n        void onDoneClick(Task task);\r\n    }\r\n\r\n    public void setOnItemClickListener(OnItemClickListener listener) {\r\n        this.listener = listener;\r\n    }\r\n}\r\n``` ","title":"Child RecyclerView setadapter doesn&#39;t work on my Nested RecyclerView Android","body":"<p>I have two RecyclerViews. Parent RecyclerView works perfectly but the setadapter of the child's in the parent adapter does not work.</p>\n<p>I tried to make some log messages in the child adapter but they didn't even appear so the adapter is not even starting</p>\n<p>Below is the piece of code for better understanding.</p>\n<p><strong>MainFragment.java</strong></p>\n<pre><code>        // Set up the RecyclerView.\n        recyclerview = rootView.findViewById(R.id.recycler_view);\n        adapter = new TodayAdapter(getContext());\n        recyclerview.setLayoutManager(new LinearLayoutManager(getContext()));\n        recyclerview.setAdapter(adapter);\n        taskViewModel = new ViewModelProvider(requireActivity()).get(TaskViewModel.class);\n\n        List&lt;TaskList&gt; categories = new ArrayList&lt;&gt;();\n\n        TaskList completedTasks = new TaskList(&quot;Completed Tasks&quot;,null);\n        TaskList incompletedTasks = new TaskList(&quot;Incompleted Tasks&quot;,null);\n        List&lt;Task&gt; intask = new ArrayList&lt;&gt;();\n        List&lt;Task&gt; comtask = new ArrayList&lt;&gt;();\n\n\n        // Update the cached copy of the words in the adapter.\n        // Get all the words from the database\n        // and associate them to the adapter.\n        taskViewModel.getAllTasks().observe( getActivity(), new Observer&lt;List&lt;Task&gt;&gt;() {\n            @Override\n            public void onChanged(List&lt;Task&gt; tasks) {\n                for(Task task : tasks){\n                    if(task.getState().equals(&quot;0&quot;)) {\n                        intask.add(task);\n                        incompletedTasks.setTasks(intask);\n                    } else{\n                        comtask.add(task);\n                        completedTasks.setTasks(comtask);\n                    }\n                }\n\n                categories.add(incompletedTasks);\n                categories.add(completedTasks);\n\n                adapter.setCategory(categories);\n            }\n        });\n</code></pre>\n<p><strong>ParentAdapter.java</strong></p>\n<pre><code>public class TodayAdapter extends RecyclerView.Adapter&lt;TodayAdapter.TodayHolder&gt;{\n    private List&lt;TaskList&gt; categories;\n\n    public TodayAdapter(List&lt;TaskList&gt; todayLists) {\n        this.categories = todayLists;\n    }\n\n    public TodayAdapter(Context context) {\n        LayoutInflater mInflater = LayoutInflater.from(context);\n    }\n\n\n    @NonNull\n    @Override\n    public TodayHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View itemView = LayoutInflater.from(parent.getContext()).inflate(R.layout.list_item, parent, false);\n        return new TodayAdapter.TodayHolder(itemView);    }\n\n    @SuppressLint(&quot;NotifyDataSetChanged&quot;)\n    @Override\n    public void onBindViewHolder(@NonNull TodayHolder holder, int position) {\n        Log.d(&quot;test&quot;, Integer.toString(categories.size()));\n        if(categories!=null) {\n            TaskList category = categories.get(position);\n            holder.title.setText(category.getTitle());\n\n            holder.tasks.setHasFixedSize(true);\n            TaskAdapter taskAdapter = new TaskAdapter();\n            taskAdapter.setTasks(category.getTasks());\n            holder.tasks.setAdapter(taskAdapter);\n            taskAdapter.notifyDataSetChanged();\n        }\n    }\n\n    @Override\n    public int getItemCount() {\n        if(categories!=null)\n            return categories.size();\n        return 0;\n    }\n\n    public class TodayHolder extends RecyclerView.ViewHolder {\n        private TextView title;\n        private RecyclerView tasks;\n        public TodayHolder(@NonNull View itemView) {\n            super(itemView);\n            title=itemView.findViewById(R.id.title);\n            tasks=itemView.findViewById(R.id.tasks);\n        }\n    }\n\n    //Associates a list of tasks with this adapter\n    public void setCategory(List&lt;TaskList&gt; categories) {\n        this.categories = categories;\n        notifyDataSetChanged();\n    }\n}\n\n</code></pre>\n<p><strong>ChildAdapter.java</strong></p>\n<pre><code>/**\n * Adapter for the RecyclerView that displays a list of words.\n */\n\npublic class TaskAdapter extends RecyclerView.Adapter&lt;TaskAdapter.TaskHolder&gt; {\n\n    private List&lt;Task&gt; tasks; // Cached copy of words\n    private OnItemClickListener listener;\n\n    public TaskAdapter(Context context) {\n        LayoutInflater mInflater = LayoutInflater.from(context);\n    }\n\n    public TaskAdapter() {\n    }\n\n    @NonNull\n    @Override\n    public TaskHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        Log.d(&quot;test&quot;,&quot;rani fe task adapder&quot;);\n\n        View itemView = LayoutInflater.from(parent.getContext()).inflate(R.layout.task_item, parent, false);\n        return new TaskHolder(itemView);\n    }\n\n    @SuppressLint(&quot;ResourceAsColor&quot;)\n    @Override\n    public void onBindViewHolder(@NonNull TaskHolder holder, int position) {\n        Log.d(&quot;test&quot;,&quot;we are in =&quot; +position);\n        if (tasks != null) {\n            Task currentTask = tasks.get(position);\n            holder.textViewTitle.setText(currentTask.getTitle());\n            holder.textViewDescription.setText(currentTask.getDescription());\n\n            switch (currentTask.getCategory()) {\n                case &quot;1&quot;:\n                    holder.layout.setBackgroundResource(R.color.button_beige);\n                    if (currentTask.getState().equals(&quot;0&quot;)){\n                        holder.view.setBackgroundResource(R.drawable.uncheck_beige);\n                    holder.textViewTitle.setPaintFlags(0);\n                    holder.textViewDescription.setPaintFlags(0);\n                    }else{\n                        holder.view.setBackgroundResource(R.drawable.check_beige);\n                        holder.textViewTitle.setPaintFlags(holder.textViewTitle.getPaintFlags()\n                                | Paint.STRIKE_THRU_TEXT_FLAG);\n                        holder.textViewDescription.setPaintFlags(holder.textViewDescription.getPaintFlags()\n                                | Paint.STRIKE_THRU_TEXT_FLAG);\n                    }\n                    break;\n                case &quot;2&quot;:\n                    holder.layout.setBackgroundResource(R.color.button_blue);\n\n                    if(currentTask.getState().equals(&quot;0&quot;)){\n                        holder.view.setBackgroundResource(R.drawable.uncheck_blue);\n                        holder.textViewTitle.setPaintFlags(0);\n                        holder.textViewDescription.setPaintFlags(0);\n                    }\n                    else{\n                        holder.view.setBackgroundResource(R.drawable.check_blue);\n                        holder.textViewTitle.setPaintFlags(holder.textViewTitle.getPaintFlags()\n                                | Paint.STRIKE_THRU_TEXT_FLAG);\n                        holder.textViewDescription.setPaintFlags(holder.textViewDescription.getPaintFlags()\n                                | Paint.STRIKE_THRU_TEXT_FLAG);\n                    }\n                    break;\n                case &quot;3&quot;:\n                    holder.layout.setBackgroundResource(R.color.button_green);\n                    if(currentTask.getState().equals(&quot;0&quot;)){\n                        holder.view.setBackgroundResource(R.drawable.uncheck_green);\n                        holder.textViewTitle.setPaintFlags(0);\n                        holder.textViewDescription.setPaintFlags(0);\n                    }\n                    else{\n                        holder.view.setBackgroundResource(R.drawable.check_green);\n                        holder.textViewTitle.setPaintFlags(holder.textViewTitle.getPaintFlags()\n                                | Paint.STRIKE_THRU_TEXT_FLAG);\n                        holder.textViewDescription.setPaintFlags(holder.textViewDescription.getPaintFlags()\n                                | Paint.STRIKE_THRU_TEXT_FLAG);\n                    }                    break;\n                case &quot;4&quot;:\n                    holder.layout.setBackgroundResource(R.color.button_pink);\n                    if(currentTask.getState().equals(&quot;0&quot;)){\n                        holder.view.setBackgroundResource(R.drawable.uncheck_pink);\n                        holder.textViewTitle.setPaintFlags(0);\n                        holder.textViewDescription.setPaintFlags(0);\n                    }\n                    else{\n                        holder.view.setBackgroundResource(R.drawable.check_pink);\n                        holder.textViewTitle.setPaintFlags(holder.textViewTitle.getPaintFlags()\n                                | Paint.STRIKE_THRU_TEXT_FLAG);\n                        holder.textViewDescription.setPaintFlags(holder.textViewDescription.getPaintFlags()\n                                | Paint.STRIKE_THRU_TEXT_FLAG);\n                    }\n                    break;\n                case &quot;5&quot;:\n                    holder.layout.setBackgroundResource(R.color.button_purple);\n                    if(currentTask.getState().equals(&quot;0&quot;)){\n                        holder.view.setBackgroundResource(R.drawable.uncheck_purple);\n                        holder.textViewTitle.setPaintFlags(0);\n                        holder.textViewDescription.setPaintFlags(0);\n                    }\n                    else{\n                        holder.view.setBackgroundResource(R.drawable.check_purple);\n                        holder.textViewTitle.setPaintFlags(holder.textViewTitle.getPaintFlags()\n                                | Paint.STRIKE_THRU_TEXT_FLAG);\n                        holder.textViewDescription.setPaintFlags(holder.textViewDescription.getPaintFlags()\n                                | Paint.STRIKE_THRU_TEXT_FLAG);\n                    }\n                    break;\n                default:\n                    holder.layout.setBackgroundResource(R.color.black);\n                    if(currentTask.getState().equals(&quot;0&quot;)){\n                        holder.view.setBackgroundResource(R.drawable.uncheck_black);\n                        holder.textViewTitle.setPaintFlags(0);\n                        holder.textViewDescription.setPaintFlags(0);\n                    }\n                    else{\n                        holder.view.setBackgroundResource(R.drawable.check_black);\n                        holder.textViewTitle.setPaintFlags(holder.textViewTitle.getPaintFlags()\n                                | Paint.STRIKE_THRU_TEXT_FLAG);\n                        holder.textViewDescription.setPaintFlags(holder.textViewDescription.getPaintFlags()\n                                | Paint.STRIKE_THRU_TEXT_FLAG);\n                    }\n                    break;\n            }\n        }\n    }\n\n    //getItemCount() is called many times, and when it is first called,\n    //mWords has not been updated (means initially, it's null, and we can't return null).\n    @Override\n    public int getItemCount() {\n        if (tasks != null)\n            return tasks.size();\n        return 0;\n    }\n\n    //Associates a list of tasks with this adapter\n    public void setTasks(List&lt;Task&gt; tasks) {\n        this.tasks = tasks;\n        notifyDataSetChanged();\n        if(tasks != null){\n            Log.d(&quot;test&quot;,&quot;task size =&quot; +this.tasks.size());\n        }else Log.d(&quot;test&quot;,&quot;task size =&quot; +0);\n    }\n\n    //to get the item from the id\n    public Task getTaskAt(int position) {\n        return tasks.get(position);\n    }\n\n    class TaskHolder extends RecyclerView.ViewHolder {\n        private TextView textViewTitle;\n        private TextView textViewDescription;\n        private View view;\n        private LinearLayout layout;\n        private RelativeLayout EditLayout;\n\n        public TaskHolder(@NonNull View itemView) {\n            super(itemView);\n            textViewTitle = itemView.findViewById(R.id.text_view_title);\n            textViewDescription = itemView.findViewById(R.id.text_view_description);\n            layout = itemView.findViewById(R.id.color);\n            view = itemView.findViewById(R.id.image);\n            EditLayout = itemView.findViewById(R.id.EditLayout);\n\n            EditLayout.setOnClickListener(v -&gt; {\n                int position = getAdapterPosition();\n                listener.onItemClick(tasks.get(position));\n            });\n\n            view.setOnClickListener(v -&gt; {\n                int position = getAdapterPosition();\n                listener.onDoneClick(tasks.get(position));\n            });\n        }\n    }\n\n    public interface OnItemClickListener {\n        void onItemClick(Task task);\n        void onDoneClick(Task task);\n    }\n\n    public void setOnItemClickListener(OnItemClickListener listener) {\n        this.listener = listener;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","jpa","one-to-many"],"answers":[{"tags":[],"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640977365,"creation_date":1640977365,"answer_id":70545031,"question_id":70544345,"body_markdown":"This is circular dependency issue you are facing.\r\n\r\nUse  the @JsonManagedReference and @JsonBackReference annotations to fix this issue.\r\n\r\nRefer https://stackoverflow.com/a/47715121/6572971 for how to use this.","title":"Java JPA SpringBoot","body":"<p>This is circular dependency issue you are facing.</p>\n<p>Use  the @JsonManagedReference and @JsonBackReference annotations to fix this issue.</p>\n<p>Refer <a href=\"https://stackoverflow.com/a/47715121/6572971\">https://stackoverflow.com/a/47715121/6572971</a> for how to use this.</p>\n"},{"tags":[],"owner":{"account_id":12657811,"reputation":27,"user_id":9199774,"display_name":"Marcos Oleiro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641218116,"creation_date":1640981585,"answer_id":70545407,"question_id":70544345,"body_markdown":"I&#39;ve solved the problem using unidirectional relationship. Used this on my EntityA and erase the property entityA on EntityB.\r\n    \r\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\r\n\t@JoinColumn(name = &quot;id_nfs&quot;)\r\n\tprivate Set&lt;EntityB&gt; entityBList\r\n\r\n\r\nThe @JsonManagedReference and @JsonBackReference annotations didnt fix my problem, probably i used wrong.","title":"Java JPA SpringBoot","body":"<p>I've solved the problem using unidirectional relationship. Used this on my EntityA and erase the property entityA on EntityB.</p>\n<pre><code>@OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\n@JoinColumn(name = &quot;id_nfs&quot;)\nprivate Set&lt;EntityB&gt; entityBList\n</code></pre>\n<p>The @JsonManagedReference and @JsonBackReference annotations didnt fix my problem, probably i used wrong.</p>\n"}],"owner":{"account_id":12657811,"reputation":27,"user_id":9199774,"display_name":"Marcos Oleiro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70545407,"answer_count":2,"score":0,"last_activity_date":1641218116,"creation_date":1640970936,"question_id":70544345,"body_markdown":"I have table A and table B, table B have a fk that rererences to table A.\r\n\r\nclass EntityA\r\n\r\n    @Entity\r\n    @Table(name = &quot;tableA&quot;)\r\n    public class EntityA {\r\n\r\n\t\r\n\t... ... ...\r\n\r\n\t   @OneToMany(mappedBy=&quot;entityA&quot;)\r\n\t   private Set&lt;EntityB&gt; entityBList; \r\n\t\t\r\n    }\r\n\r\nclass EntityB\r\n\r\n    @Entity\r\n    @Table(name = &quot;tableB&quot;)\r\n    public class EntityB{\r\n\r\n\t\r\n\t... ... ...\r\n\r\n       @ManyToOne\r\n       @JoinColumn(name=&quot;id_entityA&quot;, nullable=false)\r\n\t   private EntityA entityA;\r\n\t\t\r\n    }\r\n\r\nBut when i try to call findAll method from repository (from EntityA) i get:\r\n\r\nCould not write JSON: Infinite recursion ","title":"Java JPA SpringBoot","body":"<p>I have table A and table B, table B have a fk that rererences to table A.</p>\n<p>class EntityA</p>\n<pre><code>@Entity\n@Table(name = &quot;tableA&quot;)\npublic class EntityA {\n\n\n... ... ...\n\n   @OneToMany(mappedBy=&quot;entityA&quot;)\n   private Set&lt;EntityB&gt; entityBList; \n    \n}\n</code></pre>\n<p>class EntityB</p>\n<pre><code>@Entity\n@Table(name = &quot;tableB&quot;)\npublic class EntityB{\n\n\n... ... ...\n\n   @ManyToOne\n   @JoinColumn(name=&quot;id_entityA&quot;, nullable=false)\n   private EntityA entityA;\n    \n}\n</code></pre>\n<p>But when i try to call findAll method from repository (from EntityA) i get:</p>\n<p>Could not write JSON: Infinite recursion</p>\n"},{"tags":["java","swagger","swagger-ui"],"comments":[{"owner":{"account_id":120502,"reputation":2412,"user_id":312990,"accept_rate":100,"display_name":"Nick DeFazio"},"score":0,"creation_date":1641221899,"post_id":70566768,"comment_id":124744059,"body_markdown":"I think there&#39;s a relevant github issue with a workaround - https://github.com/springfox/springfox/issues/1944. Does using &quot;void.class&quot; instead of &quot;Void.class&quot; work?","body":"I think there&#39;s a relevant github issue with a workaround - <a href=\"https://github.com/springfox/springfox/issues/1944\" rel=\"nofollow noreferrer\">github.com/springfox/springfox/issues/1944</a>. Does using &quot;void.class&quot; instead of &quot;Void.class&quot; work?"},{"owner":{"account_id":1122429,"reputation":1578,"user_id":1110503,"accept_rate":67,"display_name":"Alexei Vinogradov"},"score":0,"creation_date":1641228394,"post_id":70566768,"comment_id":124746598,"body_markdown":"nope, the void.class and Void.class -&gt; the same default model.","body":"nope, the void.class and Void.class -&gt; the same default model."}],"owner":{"account_id":1122429,"reputation":1578,"user_id":1110503,"accept_rate":67,"display_name":"Alexei Vinogradov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641217863,"creation_date":1641217863,"question_id":70566768,"body_markdown":"In Swagger 2.0 in Java (io.springfox springfox-swagger-ui 2.9.2)\r\n\r\n      @ApiResponse(code = 204, message = &quot;No data found for given key&quot;, response = Void.class) \r\n\r\n(Void.class is also default, same result if ommited) this code generates standard response model (string in my case) in schema field.\r\n\r\nWhereas \r\n\r\n      @ApiResponse(code = 404, message = &quot;No key found&quot;, response = Void.class) \r\n\r\nworks as expected (no schema field) - empty body.\r\n\r\nHow do I document empty body response with 2xx codes?","title":"How to document the empty body for 2xx response code with Swagger-UI","body":"<p>In Swagger 2.0 in Java (io.springfox springfox-swagger-ui 2.9.2)</p>\n<pre><code>  @ApiResponse(code = 204, message = &quot;No data found for given key&quot;, response = Void.class) \n</code></pre>\n<p>(Void.class is also default, same result if ommited) this code generates standard response model (string in my case) in schema field.</p>\n<p>Whereas</p>\n<pre><code>  @ApiResponse(code = 404, message = &quot;No key found&quot;, response = Void.class) \n</code></pre>\n<p>works as expected (no schema field) - empty body.</p>\n<p>How do I document empty body response with 2xx codes?</p>\n"},{"tags":["java","java-stream","yearmonth"],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641119131,"creation_date":1641119131,"answer_id":70555218,"question_id":70553519,"body_markdown":"I would suggest to create a `Map&lt;YearMonth, List&lt;LocalDate&gt;` and parse all your dates and fill your map. After that you sort all your lists and your last (or firstdepending on sorting order) value in each list will be your desired value","title":"Java - Stream Filter to get Last Day of several months in a list of dates (not calendar last day)","body":"<p>I would suggest to create a <code>Map&lt;YearMonth, List&lt;LocalDate&gt;</code> and parse all your dates and fill your map. After that you sort all your lists and your last (or firstdepending on sorting order) value in each list will be your desired value</p>\n"},{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641216916,"creation_date":1641136782,"answer_id":70557176,"question_id":70553519,"body_markdown":"Well, a combination of `groupingBy` and `maxBy` will probably do.\r\n\r\nI assume each record of the table to be of type `Event`:\r\n\r\n```java\r\nrecord Event(LocalDate date, String model, int start, int end) { }\r\n```\r\n\r\nTo get the last days of the month which are within the table, we could utilize `groupingBy`. In order to group this, we could first create a grouping type. Below, I created an `EventGrouping` record&lt;sup&gt;1&lt;/sup&gt;, with a `static` method to convert an `Event` to an `EventGrouping`. Your desired output suggests that you want to group by each year-month-model combination, so we just picked those two properties:\r\n\r\n```java\r\npublic record EventGrouping(YearMonth yearMonth, String model) {\r\n        \r\n    public static EventGrouping fromEvent(Event event) {\r\n        return new EventGrouping(YearMonth.from(event.date()), event.model());\r\n    }\r\n}\r\n```\r\n\r\nThen, we could get our desired result like this:\r\n\r\n```java\r\nevents.stream()\r\n    .collect(Collectors.groupingBy(\r\n        EventGrouping::fromEvent,\r\n        Collectors.maxBy(Comparator.comparing(Event::date))\r\n    ));\r\n```\r\n\r\nWhat happens here is that all stream elements are grouped by our `EventGrouping`, and then the &quot;maximum value&quot; of each of the event groups is picked. The maximum value is, of course, the most recent date of that certain month.\r\n\r\nNote that `maxBy` returns an `Optional`, for the case when a group is empty. Also note that the resulting `Map` is unordered.\r\n\r\nWe could fix both of these issues by using `collectingAndThen` and a *map factory* respectively:\r\n\r\n```java\r\nMap&lt;EventGrouping, Event&gt; map = events.stream()\r\n    .collect(groupingBy(\r\n        EventGrouping::fromEvent,\r\n        () -&gt; new TreeMap&lt;&gt;(Comparator.comparing(EventGrouping::yearMonth)\r\n            .thenComparing(EventGrouping::model)),\r\n        collectingAndThen(maxBy(Comparator.comparing(Event::date)), Optional::get)\r\n    ));\r\n```\r\n\r\n&lt;sup&gt;Note: `groupingBy`, `collectingAndThen` and `maxBy` are all static imports from `java.util.stream.Collectors`.&lt;/sup&gt;\r\n\r\n* We added a `Supplier` of a `TreeMap`. A `TreeMap` is a `Map` implementation with a predictable order by a given comparator. This allows us to iterate over the resulting entries ordered by year–month–model.\r\n* `collectingAndThen` allows us to apply a function to the result of the given `Collector`. As already mentioned, `maxBy` returns an `Optional`, because `maxBy` is not applicable if there are no elements in the source stream. However, in our case, this can never happen. So we can safely map the `Optional` to its contained value.\r\n\r\n---\r\n\r\n&lt;sup&gt;1&lt;/sup&gt; Instead of writing a custom type, you could also use an existing class holding two arbitrary values, such as a `Map.Entry`, a `Pair` or even a `List&lt;Object&gt;`.","title":"Java - Stream Filter to get Last Day of several months in a list of dates (not calendar last day)","body":"<p>Well, a combination of <code>groupingBy</code> and <code>maxBy</code> will probably do.</p>\n<p>I assume each record of the table to be of type <code>Event</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Event(LocalDate date, String model, int start, int end) { }\n</code></pre>\n<p>To get the last days of the month which are within the table, we could utilize <code>groupingBy</code>. In order to group this, we could first create a grouping type. Below, I created an <code>EventGrouping</code> record<sup>1</sup>, with a <code>static</code> method to convert an <code>Event</code> to an <code>EventGrouping</code>. Your desired output suggests that you want to group by each year-month-model combination, so we just picked those two properties:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record EventGrouping(YearMonth yearMonth, String model) {\n        \n    public static EventGrouping fromEvent(Event event) {\n        return new EventGrouping(YearMonth.from(event.date()), event.model());\n    }\n}\n</code></pre>\n<p>Then, we could get our desired result like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>events.stream()\n    .collect(Collectors.groupingBy(\n        EventGrouping::fromEvent,\n        Collectors.maxBy(Comparator.comparing(Event::date))\n    ));\n</code></pre>\n<p>What happens here is that all stream elements are grouped by our <code>EventGrouping</code>, and then the &quot;maximum value&quot; of each of the event groups is picked. The maximum value is, of course, the most recent date of that certain month.</p>\n<p>Note that <code>maxBy</code> returns an <code>Optional</code>, for the case when a group is empty. Also note that the resulting <code>Map</code> is unordered.</p>\n<p>We could fix both of these issues by using <code>collectingAndThen</code> and a <em>map factory</em> respectively:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;EventGrouping, Event&gt; map = events.stream()\n    .collect(groupingBy(\n        EventGrouping::fromEvent,\n        () -&gt; new TreeMap&lt;&gt;(Comparator.comparing(EventGrouping::yearMonth)\n            .thenComparing(EventGrouping::model)),\n        collectingAndThen(maxBy(Comparator.comparing(Event::date)), Optional::get)\n    ));\n</code></pre>\n<p><sup>Note: <code>groupingBy</code>, <code>collectingAndThen</code> and <code>maxBy</code> are all static imports from <code>java.util.stream.Collectors</code>.</sup></p>\n<ul>\n<li>We added a <code>Supplier</code> of a <code>TreeMap</code>. A <code>TreeMap</code> is a <code>Map</code> implementation with a predictable order by a given comparator. This allows us to iterate over the resulting entries ordered by year–month–model.</li>\n<li><code>collectingAndThen</code> allows us to apply a function to the result of the given <code>Collector</code>. As already mentioned, <code>maxBy</code> returns an <code>Optional</code>, because <code>maxBy</code> is not applicable if there are no elements in the source stream. However, in our case, this can never happen. So we can safely map the <code>Optional</code> to its contained value.</li>\n</ul>\n<hr />\n<p><sup>1</sup> Instead of writing a custom type, you could also use an existing class holding two arbitrary values, such as a <code>Map.Entry</code>, a <code>Pair</code> or even a <code>List&lt;Object&gt;</code>.</p>\n"}],"owner":{"account_id":3762699,"reputation":1446,"user_id":3127144,"accept_rate":56,"display_name":"iCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70557176,"answer_count":2,"score":0,"last_activity_date":1641216916,"creation_date":1641095870,"question_id":70553519,"body_markdown":"**Query:**\r\nTo filter the data below to find the last date of each month in the list. Note that in this context,\r\nthe last date of month in the data may or\r\nmay not match with the last date of the calendar month.\r\nThe expected output is shown in second list.\r\n\r\n**Research:** \r\n\r\n* I believe `TemporalAdjusters.lastDayOfMonth()` will not help in this case as the last date in the list may or may not match with calendar month&#39;s last date.\r\n* I checked several questions on Stack Overflow and I Googled as well,\r\nbut I was unable to find something similar to my need.\r\n\r\nI hope the issue is clear and points me in the direction on how this can be done with streams,\r\nas I don&#39;t want to use a `for` loop.\r\n\r\n**Sample Data:**\r\n\r\n| Date       | Model | Start | End\r\n|------------|-------|-------|-----\r\n| 27-11-1995 | ABC   |   241 |  621\r\n| 27-11-1995 | XYZ   |  3456 | 7878\r\n| 28-11-1995 | ABC   |   242 |  624\r\n| 28-11-1995 | XYZ   |  3457 | 7879\r\n| 29-11-1995 | ABC   |   243 |  627\r\n| 29-11-1995 | XYZ   |  3458 | 7880\r\n| 30-11-1995 | ABC   |   244 |  630\r\n| 30-11-1995 | XYZ   |  3459 | 7881\r\n| 01-12-1995 | ABC   |   245 |  633\r\n| 01-12-1995 | XYZ   |  3460 | 7882\r\n| 04-12-1995 | ABC   |   246 |  636\r\n| 04-12-1995 | XYZ   |  3461 | 7883\r\n| 27-12-1995 | ABC   |   247 |  639\r\n| 27-12-1995 | XYZ   |  3462 | 7884\r\n| 28-12-1995 | ABC   |   248 |  642\r\n| 28-12-1995 | XYZ   |  3463 | 7885\r\n| 29-12-1995 | ABC   |   249 |  645\r\n| 29-12-1995 | XYZ   |  3464 | 7886\r\n| 01-01-1996 | ABC   |   250 |  648\r\n| 01-01-1996 | XYZ   |  3465 | 7887\r\n| 02-01-1996 | ABC   |   251 |  651\r\n| 02-01-1996 | XYZ   |  3466 | 7888\r\n| 29-01-1996 | ABC   |   252 |  654\r\n| 29-01-1996 | XYZ   |  3467 | 7889\r\n| 30-01-1996 | ABC   |   253 |  657\r\n| 30-01-1996 | XYZ   |  3468 | 7890\r\n| 31-01-1996 | ABC   |   254 |  660\r\n| 31-01-1996 | XYZ   |  3469 | 7891\r\n\r\n&lt;sup&gt;[Screenshot][1]&lt;/sup&gt;\r\n\r\n**Output required:**\r\n\r\n| Date       | Model | Start | End\r\n|------------|-------|-------|-----\r\n| 30-11-1995 | ABC   |   244 |  630\r\n| 30-11-1995 | XYZ   |  3459 | 7881\r\n| 29-12-1995 | ABC   |   249 |  645\r\n| 29-12-1995 | XYZ   |  3464 | 7886\r\n| 31-01-1996 | ABC   |   254 |  660\r\n| 31-01-1996 | XYZ   |  3469 | 7891\r\n\r\n&lt;sup&gt;[Screenshot][2]&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cvVa9.png\r\n  [2]: https://i.stack.imgur.com/Aeo60.png","title":"Java - Stream Filter to get Last Day of several months in a list of dates (not calendar last day)","body":"<p><strong>Query:</strong>\nTo filter the data below to find the last date of each month in the list. Note that in this context,\nthe last date of month in the data may or\nmay not match with the last date of the calendar month.\nThe expected output is shown in second list.</p>\n<p><strong>Research:</strong></p>\n<ul>\n<li>I believe <code>TemporalAdjusters.lastDayOfMonth()</code> will not help in this case as the last date in the list may or may not match with calendar month's last date.</li>\n<li>I checked several questions on Stack Overflow and I Googled as well,\nbut I was unable to find something similar to my need.</li>\n</ul>\n<p>I hope the issue is clear and points me in the direction on how this can be done with streams,\nas I don't want to use a <code>for</code> loop.</p>\n<p><strong>Sample Data:</strong></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Date</th>\n<th>Model</th>\n<th>Start</th>\n<th>End</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>27-11-1995</td>\n<td>ABC</td>\n<td>241</td>\n<td>621</td>\n</tr>\n<tr>\n<td>27-11-1995</td>\n<td>XYZ</td>\n<td>3456</td>\n<td>7878</td>\n</tr>\n<tr>\n<td>28-11-1995</td>\n<td>ABC</td>\n<td>242</td>\n<td>624</td>\n</tr>\n<tr>\n<td>28-11-1995</td>\n<td>XYZ</td>\n<td>3457</td>\n<td>7879</td>\n</tr>\n<tr>\n<td>29-11-1995</td>\n<td>ABC</td>\n<td>243</td>\n<td>627</td>\n</tr>\n<tr>\n<td>29-11-1995</td>\n<td>XYZ</td>\n<td>3458</td>\n<td>7880</td>\n</tr>\n<tr>\n<td>30-11-1995</td>\n<td>ABC</td>\n<td>244</td>\n<td>630</td>\n</tr>\n<tr>\n<td>30-11-1995</td>\n<td>XYZ</td>\n<td>3459</td>\n<td>7881</td>\n</tr>\n<tr>\n<td>01-12-1995</td>\n<td>ABC</td>\n<td>245</td>\n<td>633</td>\n</tr>\n<tr>\n<td>01-12-1995</td>\n<td>XYZ</td>\n<td>3460</td>\n<td>7882</td>\n</tr>\n<tr>\n<td>04-12-1995</td>\n<td>ABC</td>\n<td>246</td>\n<td>636</td>\n</tr>\n<tr>\n<td>04-12-1995</td>\n<td>XYZ</td>\n<td>3461</td>\n<td>7883</td>\n</tr>\n<tr>\n<td>27-12-1995</td>\n<td>ABC</td>\n<td>247</td>\n<td>639</td>\n</tr>\n<tr>\n<td>27-12-1995</td>\n<td>XYZ</td>\n<td>3462</td>\n<td>7884</td>\n</tr>\n<tr>\n<td>28-12-1995</td>\n<td>ABC</td>\n<td>248</td>\n<td>642</td>\n</tr>\n<tr>\n<td>28-12-1995</td>\n<td>XYZ</td>\n<td>3463</td>\n<td>7885</td>\n</tr>\n<tr>\n<td>29-12-1995</td>\n<td>ABC</td>\n<td>249</td>\n<td>645</td>\n</tr>\n<tr>\n<td>29-12-1995</td>\n<td>XYZ</td>\n<td>3464</td>\n<td>7886</td>\n</tr>\n<tr>\n<td>01-01-1996</td>\n<td>ABC</td>\n<td>250</td>\n<td>648</td>\n</tr>\n<tr>\n<td>01-01-1996</td>\n<td>XYZ</td>\n<td>3465</td>\n<td>7887</td>\n</tr>\n<tr>\n<td>02-01-1996</td>\n<td>ABC</td>\n<td>251</td>\n<td>651</td>\n</tr>\n<tr>\n<td>02-01-1996</td>\n<td>XYZ</td>\n<td>3466</td>\n<td>7888</td>\n</tr>\n<tr>\n<td>29-01-1996</td>\n<td>ABC</td>\n<td>252</td>\n<td>654</td>\n</tr>\n<tr>\n<td>29-01-1996</td>\n<td>XYZ</td>\n<td>3467</td>\n<td>7889</td>\n</tr>\n<tr>\n<td>30-01-1996</td>\n<td>ABC</td>\n<td>253</td>\n<td>657</td>\n</tr>\n<tr>\n<td>30-01-1996</td>\n<td>XYZ</td>\n<td>3468</td>\n<td>7890</td>\n</tr>\n<tr>\n<td>31-01-1996</td>\n<td>ABC</td>\n<td>254</td>\n<td>660</td>\n</tr>\n<tr>\n<td>31-01-1996</td>\n<td>XYZ</td>\n<td>3469</td>\n<td>7891</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><sup><a href=\"https://i.stack.imgur.com/cvVa9.png\" rel=\"nofollow noreferrer\">Screenshot</a></sup></p>\n<p><strong>Output required:</strong></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Date</th>\n<th>Model</th>\n<th>Start</th>\n<th>End</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>30-11-1995</td>\n<td>ABC</td>\n<td>244</td>\n<td>630</td>\n</tr>\n<tr>\n<td>30-11-1995</td>\n<td>XYZ</td>\n<td>3459</td>\n<td>7881</td>\n</tr>\n<tr>\n<td>29-12-1995</td>\n<td>ABC</td>\n<td>249</td>\n<td>645</td>\n</tr>\n<tr>\n<td>29-12-1995</td>\n<td>XYZ</td>\n<td>3464</td>\n<td>7886</td>\n</tr>\n<tr>\n<td>31-01-1996</td>\n<td>ABC</td>\n<td>254</td>\n<td>660</td>\n</tr>\n<tr>\n<td>31-01-1996</td>\n<td>XYZ</td>\n<td>3469</td>\n<td>7891</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><sup><a href=\"https://i.stack.imgur.com/Aeo60.png\" rel=\"nofollow noreferrer\">Screenshot</a></sup></p>\n"},{"tags":["java","maven","dependencies","conflict"],"answers":[{"tags":[],"owner":{"account_id":333187,"reputation":6777,"user_id":658907,"accept_rate":67,"display_name":"matts"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1383058720,"creation_date":1383058720,"answer_id":19661765,"question_id":19659425,"body_markdown":"You can use the [`tree` goal][1] of the Maven dependency plugin to display all transitive dependencies in your project and look for dependencies that say &quot;omitted for conflict&quot;.[&lt;sup&gt;1&lt;/sup&gt;][2]\r\n\r\n    mvn dependency:tree -Dverbose\r\n    mvn dependency:tree -Dverbose | grep &#39;omitted for conflict&#39;\r\n\r\nOnce you know which dependency has version conflicts, you can use the `includes` parameter to show just dependencies that lead to that one to see how a particular dependency is being pulled in.  For example, a project where different versions of C are pulled in by A and B:\r\n\r\n    mvn dependency:tree -Dverbose -Dincludes=project-c\r\n\r\n    [INFO] com.my-company:my-project:jar:1.0-SNAPSHOT\r\n    [INFO] +- project-a:project-a:jar:0.1:compile\r\n    [INFO] |  \\- project-c:project-c:jar:1.0:compile\r\n    [INFO] \\- project-b:project-b:jar:0.2:compile\r\n    [INFO]    \\- project-x:project-x:jar:0.1:compile\r\n    [INFO]       \\- (project-c:project-c:jar:2.0:compile - omitted for conflict)\r\n\r\nTo actually resolve the conflict, in some cases it may be possible to find a version of the transitive dependency that both of your primary dependencies will work with.  Add the transitive dependency to the `dependencyManagement` section of your pom and try changing the version until one works.\r\n\r\nHowever, in other cases it may not be possible to find a version of the dependency that works for everyone.  In these cases, you may have to step back the version on one of the primary dependencies in order to make it use a version of the transitive dependency that works for everybody.  For instance, in the example above, A 0.1 uses C 1.0 and B 0.2 uses C 2.0.  Assume C 1.0 and 2.0 are completely incompatible.  But maybe it is possible for your project to use B 0.1 instead, which happens to depend on C 1.5, which is compatible with C 1.0.\r\n\r\nOf course these two strategies will not always work, but I have found success with them before.  Other more drastic options include packaging your own version of the dependency that fixes the incompatibility or trying to isolate the two dependencies in separate classloaders.\r\n\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-dependency-plugin/tree-mojo.html\r\n  [2]: http://maven.apache.org/plugins/maven-dependency-plugin/examples/resolving-conflicts-using-the-dependency-tree.html","title":"Conflicting library version in a Java Maven project","body":"<p>You can use the <a href=\"http://maven.apache.org/plugins/maven-dependency-plugin/tree-mojo.html\" rel=\"noreferrer\"><code>tree</code> goal</a> of the Maven dependency plugin to display all transitive dependencies in your project and look for dependencies that say \"omitted for conflict\".<a href=\"http://maven.apache.org/plugins/maven-dependency-plugin/examples/resolving-conflicts-using-the-dependency-tree.html\" rel=\"noreferrer\"><sup>1</sup></a></p>\n\n<pre><code>mvn dependency:tree -Dverbose\nmvn dependency:tree -Dverbose | grep 'omitted for conflict'\n</code></pre>\n\n<p>Once you know which dependency has version conflicts, you can use the <code>includes</code> parameter to show just dependencies that lead to that one to see how a particular dependency is being pulled in.  For example, a project where different versions of C are pulled in by A and B:</p>\n\n<pre><code>mvn dependency:tree -Dverbose -Dincludes=project-c\n\n[INFO] com.my-company:my-project:jar:1.0-SNAPSHOT\n[INFO] +- project-a:project-a:jar:0.1:compile\n[INFO] |  \\- project-c:project-c:jar:1.0:compile\n[INFO] \\- project-b:project-b:jar:0.2:compile\n[INFO]    \\- project-x:project-x:jar:0.1:compile\n[INFO]       \\- (project-c:project-c:jar:2.0:compile - omitted for conflict)\n</code></pre>\n\n<p>To actually resolve the conflict, in some cases it may be possible to find a version of the transitive dependency that both of your primary dependencies will work with.  Add the transitive dependency to the <code>dependencyManagement</code> section of your pom and try changing the version until one works.</p>\n\n<p>However, in other cases it may not be possible to find a version of the dependency that works for everyone.  In these cases, you may have to step back the version on one of the primary dependencies in order to make it use a version of the transitive dependency that works for everybody.  For instance, in the example above, A 0.1 uses C 1.0 and B 0.2 uses C 2.0.  Assume C 1.0 and 2.0 are completely incompatible.  But maybe it is possible for your project to use B 0.1 instead, which happens to depend on C 1.5, which is compatible with C 1.0.</p>\n\n<p>Of course these two strategies will not always work, but I have found success with them before.  Other more drastic options include packaging your own version of the dependency that fixes the incompatibility or trying to isolate the two dependencies in separate classloaders.</p>\n"},{"tags":[],"owner":{"account_id":3427598,"reputation":352,"user_id":2872957,"display_name":"Todd Patterson"},"down_vote_count":1,"up_vote_count":30,"is_accepted":true,"score":29,"last_activity_date":1383201924,"creation_date":1383201924,"answer_id":19700003,"question_id":19659425,"body_markdown":"Welcome to [maven dependency hell][1], as it&#39;s fondly known. This is a somewhat common problem as projects grow and more external dependencies are introduced.\r\n\r\nBesides Apache Commons (mentioned in your original question), logging frameworks (log4j, slf4j) are another frequent culprit.\r\n\r\nI agree with the advice given by &quot;matts&quot; on how to resolve conflicts once they are identified. In terms of catching these version conflicts early, you can also use the maven &quot;enforcer&quot; plugin. Refer to the [&quot;dependencyConvergence&quot; config][2]. Also see [this SO post][3].\r\n\r\nUsing the enforcer plugin will fail the build immediately on version conflict, which saves you from the manual checks. This is an aggressive strategy, but prevents the type of run-time problems that prompted your question/post. Like anything, the enforcer plugin has pros and cons. We started using it within the last year, but then discovered it can be a blessing and a curse. Many versions of libs/frameworks are backwards compatible, and so depending (whether directly or indirectly) on both version 1.2.3 and 1.2.4 is often fine at both compile-time and run-time. However, the enforcer plugin will flag this conflict and require you to declare exactly which version you want. Assuming the number of dependency-conflicts is small, this does not require much work. However, once you introduce a large framework (e.g. Spring MVC) it can get nasty.\r\n\r\nHopefully that&#39;s useful information.\r\n\r\n\r\n  [1]: https://www.google.com/search?q=maven%20dependency%20hell\r\n  [2]: http://maven.apache.org/enforcer/enforcer-rules/dependencyConvergence.html\r\n  [3]: https://stackoverflow.com/questions/4513090/how-to-break-a-maven-build-when-there-is-a-dependency-conflict","title":"Conflicting library version in a Java Maven project","body":"<p>Welcome to <a href=\"https://www.google.com/search?q=maven%20dependency%20hell\" rel=\"noreferrer\">maven dependency hell</a>, as it's fondly known. This is a somewhat common problem as projects grow and more external dependencies are introduced.</p>\n\n<p>Besides Apache Commons (mentioned in your original question), logging frameworks (log4j, slf4j) are another frequent culprit.</p>\n\n<p>I agree with the advice given by \"matts\" on how to resolve conflicts once they are identified. In terms of catching these version conflicts early, you can also use the maven \"enforcer\" plugin. Refer to the <a href=\"http://maven.apache.org/enforcer/enforcer-rules/dependencyConvergence.html\" rel=\"noreferrer\">\"dependencyConvergence\" config</a>. Also see <a href=\"https://stackoverflow.com/questions/4513090/how-to-break-a-maven-build-when-there-is-a-dependency-conflict\">this SO post</a>.</p>\n\n<p>Using the enforcer plugin will fail the build immediately on version conflict, which saves you from the manual checks. This is an aggressive strategy, but prevents the type of run-time problems that prompted your question/post. Like anything, the enforcer plugin has pros and cons. We started using it within the last year, but then discovered it can be a blessing and a curse. Many versions of libs/frameworks are backwards compatible, and so depending (whether directly or indirectly) on both version 1.2.3 and 1.2.4 is often fine at both compile-time and run-time. However, the enforcer plugin will flag this conflict and require you to declare exactly which version you want. Assuming the number of dependency-conflicts is small, this does not require much work. However, once you introduce a large framework (e.g. Spring MVC) it can get nasty.</p>\n\n<p>Hopefully that's useful information.</p>\n"},{"tags":[],"owner":{"account_id":405356,"reputation":31601,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1383214340,"creation_date":1383214340,"answer_id":19703632,"question_id":19659425,"body_markdown":"I would like to extend Todd&#39;s and Matts&#39; answers with the fact that you can:\r\n\r\n- `mvn dependency:tree -Dverbose -Dincludes=project-c`\r\n\r\n- Add an `&lt;exclusions/&gt;` tag for all your dependencies which have a transitive dependency of `project-c`.\r\n\r\n- Or, alternatively, inside your project, define explicitly `project-c` as a dependency in order to override the transitive ones and avoid conflict. (This will still show in your tree when using `-Dverbose).\r\n\r\nAlternatively, if those projects are under your control, you can simply upgrade the version of `project-c`.","title":"Conflicting library version in a Java Maven project","body":"<p>I would like to extend Todd's and Matts' answers with the fact that you can:</p>\n\n<ul>\n<li><p><code>mvn dependency:tree -Dverbose -Dincludes=project-c</code></p></li>\n<li><p>Add an <code>&lt;exclusions/&gt;</code> tag for all your dependencies which have a transitive dependency of <code>project-c</code>.</p></li>\n<li><p>Or, alternatively, inside your project, define explicitly <code>project-c</code> as a dependency in order to override the transitive ones and avoid conflict. (This will still show in your tree when using `-Dverbose).</p></li>\n</ul>\n\n<p>Alternatively, if those projects are under your control, you can simply upgrade the version of <code>project-c</code>.</p>\n"},{"tags":[],"owner":{"account_id":982989,"reputation":4440,"user_id":1002222,"accept_rate":96,"display_name":"Gaʀʀʏ"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1425659677,"creation_date":1425654819,"answer_id":28901747,"question_id":19659425,"body_markdown":"You could use the maven-enforcer-plugin in your pom to force specific versions of the transitive dependencies. This would help you prevent omissions by the pom configuration when there are conflicts.\r\n\r\n\r\nThis is what worked for me, and I was able to change the versions to match. If you are unable to change versions, then this won&#39;t be very helpful.\r\n\r\n[Dependency Convergence][1]\r\n\r\n    &lt;project&gt;\r\n    ...\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          ...\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;enforce&lt;/id&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;rules&gt;\r\n                    &lt;dependencyConvergence/&gt;\r\n                  &lt;/rules&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;enforce&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n          ...\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n      ...\r\n    &lt;/project&gt;\r\n\r\nForce a version on the dependency using brackets:\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;version&gt;[1.0.0]&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  [1]: http://maven.apache.org/enforcer/enforcer-rules/dependencyConvergence.html","title":"Conflicting library version in a Java Maven project","body":"<p>You could use the maven-enforcer-plugin in your pom to force specific versions of the transitive dependencies. This would help you prevent omissions by the pom configuration when there are conflicts.</p>\n\n<p>This is what worked for me, and I was able to change the versions to match. If you are unable to change versions, then this won't be very helpful.</p>\n\n<p><a href=\"http://maven.apache.org/enforcer/enforcer-rules/dependencyConvergence.html\" rel=\"nofollow\">Dependency Convergence</a></p>\n\n<pre><code>&lt;project&gt;\n...\n  &lt;build&gt;\n    &lt;plugins&gt;\n      ...\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.4&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;enforce&lt;/id&gt;\n            &lt;configuration&gt;\n              &lt;rules&gt;\n                &lt;dependencyConvergence/&gt;\n              &lt;/rules&gt;\n            &lt;/configuration&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;enforce&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      ...\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  ...\n&lt;/project&gt;\n</code></pre>\n\n<p>Force a version on the dependency using brackets:</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;version&gt;[1.0.0]&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":473168,"reputation":1009,"user_id":882114,"accept_rate":30,"display_name":"John Papastergiou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29038,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":19700003,"answer_count":4,"score":45,"last_activity_date":1641216672,"creation_date":1383052905,"question_id":19659425,"body_markdown":"When building a Maven project that has many dependencies, some of those dependencies depend on the same library but use a different version which is causing errors when running an application.\r\n\r\nFor example, if I add two different project dependencies, A and B that both depend on Apache Commons HTTP client but each one on a different version, once the class-loader loads A&#39;s Apache commons http client classes, B will try to use them since they are already loaded by the class loader.\r\n\r\nBut B&#39;s bytecode depends on a different version of the loaded classes causing multiple problems when running the application. A common one is method-not-found exception (since A&#39;s version of http client doesn&#39;t use a specific method any more).\r\n\r\nWhat is the general strategy when building to avoid such conflicts? Does one have to manually check the dependency tree to figure out which common libraries collide with each other?\r\n","title":"Conflicting library version in a Java Maven project","body":"<p>When building a Maven project that has many dependencies, some of those dependencies depend on the same library but use a different version which is causing errors when running an application.</p>\n<p>For example, if I add two different project dependencies, A and B that both depend on Apache Commons HTTP client but each one on a different version, once the class-loader loads A's Apache commons http client classes, B will try to use them since they are already loaded by the class loader.</p>\n<p>But B's bytecode depends on a different version of the loaded classes causing multiple problems when running the application. A common one is method-not-found exception (since A's version of http client doesn't use a specific method any more).</p>\n<p>What is the general strategy when building to avoid such conflicts? Does one have to manually check the dependency tree to figure out which common libraries collide with each other?</p>\n"},{"tags":["java","maven","spring-boot","deployment","wildfly"],"comments":[{"owner":{"account_id":7395051,"reputation":1919,"user_id":5627271,"display_name":"R&#233;mi Bantos"},"score":2,"creation_date":1506082359,"post_id":46360906,"comment_id":79688241,"body_markdown":"Just curious. Why would you like to do that? With Wildfly (or even Wildfly Swarm which is, for some aspects, equivalent to Spring Boot), you do not need Spring or even more Spring Boot as you can use Java EE specifications (CDI, JAX-RS, ...). Then, not a Spring Boot expert, but it allows to package uber jars with everything inside including Servlet Container, Web server.... So deploying a Spring Boot app to a JEE App Server seems not to have much sense?","body":"Just curious. Why would you like to do that? With Wildfly (or even Wildfly Swarm which is, for some aspects, equivalent to Spring Boot), you do not need Spring or even more Spring Boot as you can use Java EE specifications (CDI, JAX-RS, ...). Then, not a Spring Boot expert, but it allows to package uber jars with everything inside including Servlet Container, Web server.... So deploying a Spring Boot app to a JEE App Server seems not to have much sense?"},{"owner":{"account_id":6671551,"reputation":1151,"user_id":5147553,"accept_rate":52,"display_name":"Phoste"},"score":0,"creation_date":1506321060,"post_id":46360906,"comment_id":79754784,"body_markdown":"I would like to centralize all my applications into one container. For now, I have to launch the spring boot with a command line. It&#39;s my company request, maybe there are easier way to do that but I can&#39;t...","body":"I would like to centralize all my applications into one container. For now, I have to launch the spring boot with a command line. It&#39;s my company request, maybe there are easier way to do that but I can&#39;t..."},{"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"score":0,"creation_date":1506326181,"post_id":46360906,"comment_id":79757449,"body_markdown":"You are encapsulating Java EE API jars in your uberjar. I &#39;m no Spring boot expert but there is a task to build a war file, remove all javaee jars from it and you should be good to go","body":"You are encapsulating Java EE API jars in your uberjar. I &#39;m no Spring boot expert but there is a task to build a war file, remove all javaee jars from it and you should be good to go"},{"owner":{"account_id":2365684,"reputation":339,"user_id":2071402,"display_name":"Mišo Stankay"},"score":1,"creation_date":1506415646,"post_id":46360906,"comment_id":79800761,"body_markdown":"Either your company is asking you for nonsense or there is a misunderstanding. You probably want to deploy your Spring app to Wildfly, for which Spring Boot is not necessary and is done quite often. If this is the case, replace Spring Boot deps and plugins in POM with plain Spring deps and you should be good to go.","body":"Either your company is asking you for nonsense or there is a misunderstanding. You probably want to deploy your Spring app to Wildfly, for which Spring Boot is not necessary and is done quite often. If this is the case, replace Spring Boot deps and plugins in POM with plain Spring deps and you should be good to go."}],"owner":{"account_id":6671551,"reputation":1151,"user_id":5147553,"accept_rate":52,"display_name":"Phoste"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1011,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641215811,"creation_date":1506071210,"question_id":46360906,"body_markdown":"I have made a Spring Boot application that runs fine with embedded tomcat.\r\nI&#39;m now trying to deploy it on Wildfly 10 but I&#39;m getting an Exception and I can&#39;t figure out what to do...\r\n\r\nThe exception : \r\n\r\n    2017-09-22 10:46:20,053 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 313) MSC000001: Failed to start service jboss.undertow.deployment.default-server.default-host.&quot;/co2-device-manager-0.0.1-SNAPSHOT&quot;: org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host.&quot;/co2-device-manager-0.0.1-SNAPSHOT&quot;: java.lang.NoSuchMethodError: org.apache.tomcat.util.descriptor.DigesterFactory.newDigester(ZZLorg/apache/tomcat/util/digester/RuleSet;Z)Lorg/apache/tomcat/util/digester/Digester;\r\n    \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:85)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    \tat org.jboss.threads.JBossThread.run(JBossThread.java:320)\r\n    Caused by: java.lang.NoSuchMethodError: org.apache.tomcat.util.descriptor.DigesterFactory.newDigester(ZZLorg/apache/tomcat/util/digester/RuleSet;Z)Lorg/apache/tomcat/util/digester/Digester;\r\n    \tat org.apache.tomcat.util.descriptor.tld.TldParser.&lt;init&gt;(TldParser.java:49)\r\n    \tat org.apache.tomcat.util.descriptor.tld.TldParser.&lt;init&gt;(TldParser.java:44)\r\n    \tat org.apache.jasper.servlet.TldScanner.&lt;init&gt;(TldScanner.java:84)\r\n    \tat org.apache.jasper.servlet.JasperInitializer.newTldScanner(JasperInitializer.java:118)\r\n    \tat org.apache.jasper.servlet.JasperInitializer.onStartup(JasperInitializer.java:99)\r\n    \tat io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:186)\r\n    \tat io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:171)\r\n    \tat io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\r\n    \tat io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n    \tat io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)\r\n    \tat io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)\r\n    \tat io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)\r\n    \tat io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)\r\n    \tat io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)\r\n    \tat io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:234)\r\n    \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:100)\r\n    \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:82)\r\n    \t... 6 more\r\n    \r\nI don&#39;t understand why it mentions org.apache.tomcat since it&#39;s not even in the pom.xml anymore...\r\n\r\nHere is my pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.test&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;app&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;test&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.5.6.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!--&lt;dependency&gt;--&gt;\r\n    \t\t\t&lt;!--&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;--&gt;\r\n    \t\t\t&lt;!--&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;--&gt;\r\n    \t\t&lt;!--&lt;/dependency&gt;--&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nI have tried various of solutions I found on google, but none of them are working... ","title":"How can I deploy a Spring Boot application on Wildfly 10?","body":"<p>I have made a Spring Boot application that runs fine with embedded tomcat.\nI'm now trying to deploy it on Wildfly 10 but I'm getting an Exception and I can't figure out what to do...</p>\n\n<p>The exception : </p>\n\n<pre><code>2017-09-22 10:46:20,053 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 313) MSC000001: Failed to start service jboss.undertow.deployment.default-server.default-host.\"/co2-device-manager-0.0.1-SNAPSHOT\": org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host.\"/co2-device-manager-0.0.1-SNAPSHOT\": java.lang.NoSuchMethodError: org.apache.tomcat.util.descriptor.DigesterFactory.newDigester(ZZLorg/apache/tomcat/util/digester/RuleSet;Z)Lorg/apache/tomcat/util/digester/Digester;\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:85)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n    at org.jboss.threads.JBossThread.run(JBossThread.java:320)\nCaused by: java.lang.NoSuchMethodError: org.apache.tomcat.util.descriptor.DigesterFactory.newDigester(ZZLorg/apache/tomcat/util/digester/RuleSet;Z)Lorg/apache/tomcat/util/digester/Digester;\n    at org.apache.tomcat.util.descriptor.tld.TldParser.&lt;init&gt;(TldParser.java:49)\n    at org.apache.tomcat.util.descriptor.tld.TldParser.&lt;init&gt;(TldParser.java:44)\n    at org.apache.jasper.servlet.TldScanner.&lt;init&gt;(TldScanner.java:84)\n    at org.apache.jasper.servlet.JasperInitializer.newTldScanner(JasperInitializer.java:118)\n    at org.apache.jasper.servlet.JasperInitializer.onStartup(JasperInitializer.java:99)\n    at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:186)\n    at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:171)\n    at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\n    at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n    at io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)\n    at io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)\n    at io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)\n    at io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)\n    at io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)\n    at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:234)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:100)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:82)\n    ... 6 more\n</code></pre>\n\n<p>I don't understand why it mentions org.apache.tomcat since it's not even in the pom.xml anymore...</p>\n\n<p>Here is my pom.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.test&lt;/groupId&gt;\n    &lt;artifactId&gt;app&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;name&gt;test&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.6.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;!--&lt;dependency&gt;--&gt;\n            &lt;!--&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;--&gt;\n            &lt;!--&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;--&gt;\n        &lt;!--&lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>I have tried various of solutions I found on google, but none of them are working... </p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1476634,"reputation":5571,"user_id":1386873,"accept_rate":90,"display_name":"puelo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641215455,"creation_date":1641215455,"answer_id":70566269,"question_id":70566071,"body_markdown":"It is not clear what you are trying to accomplish, but the output matches your code.\r\nYour regex matches the occurrences of any of the following: \\\\, p, {, P, u, n, c, t, }, &#171;, &#187;, any whitespace, any digit, „, “, …, ), –.\r\n\r\nThus your line is split at a lot of places. The extra commas are because of how `toString` of `Arrays` is implemented. \r\n\r\nHere is a helpful resource to check what your regex is actually matching: https://regex101.com/r/bHP5lu/1","title":"Why does p{Punct} regex leave commas in this example","body":"<p>It is not clear what you are trying to accomplish, but the output matches your code.\nYour regex matches the occurrences of any of the following: \\, p, {, P, u, n, c, t, }, «, », any whitespace, any digit, „, “, …, ), –.</p>\n<p>Thus your line is split at a lot of places. The extra commas are because of how <code>toString</code> of <code>Arrays</code> is implemented.</p>\n<p>Here is a helpful resource to check what your regex is actually matching: <a href=\"https://regex101.com/r/bHP5lu/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/bHP5lu/1</a></p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641215722,"creation_date":1641215722,"answer_id":70566331,"question_id":70566071,"body_markdown":"Unescaping the Java string literal `&quot;\\\\\\\\p{Punct}&quot;`, we get:\r\n\r\n    \\\\p{Punct}\r\n\r\nIn a character class, this is understood as a backslash character, and the characters `p`, `{`, `P`, `u`, `n`, `c`, `t`, `}`, clearly not what you want.\r\n\r\nYou have added an extra backslash in the regex. Just like `\\d` or `\\s`, `\\p{XXX}` only needs one backslash as the prefix, even when it is used in a character class. So you should remove two backslashes from your Java string literal:\r\n\r\n    &quot;[\\\\p{Punct}&#171;&#187;\\\\s\\\\d„“…)–]+&quot;\r\n","title":"Why does p{Punct} regex leave commas in this example","body":"<p>Unescaping the Java string literal <code>&quot;\\\\\\\\p{Punct}&quot;</code>, we get:</p>\n<pre><code>\\\\p{Punct}\n</code></pre>\n<p>In a character class, this is understood as a backslash character, and the characters <code>p</code>, <code>{</code>, <code>P</code>, <code>u</code>, <code>n</code>, <code>c</code>, <code>t</code>, <code>}</code>, clearly not what you want.</p>\n<p>You have added an extra backslash in the regex. Just like <code>\\d</code> or <code>\\s</code>, <code>\\p{XXX}</code> only needs one backslash as the prefix, even when it is used in a character class. So you should remove two backslashes from your Java string literal:</p>\n<pre><code>&quot;[\\\\p{Punct}«»\\\\s\\\\d„“…)–]+&quot;\n</code></pre>\n"}],"owner":{"display_name":"user15599360"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70566331,"answer_count":2,"score":0,"last_activity_date":1641215722,"creation_date":1641214422,"question_id":70566071,"body_markdown":"I need regex to seperate words in lines, here is what I have   \r\n\r\n     public class Example {\r\n        public static void main(String[] args) {\r\n    countWords(List.of(&quot;Some random stuff, another stuff, words in quotes „Example“, Oops!&quot;));\r\n\r\n        }\r\n        public static void countWords(List&lt;String&gt; lines) {\r\n            lines.\r\n                    stream().map(line -&gt; line.split(&quot;[\\\\\\\\p{Punct}&#171;&#187;\\\\s\\\\d„“…)–]+&quot;)).forEach(e -&gt; System.out.println(Arrays.toString(e)));\r\n     }\r\n        }\r\n\r\nBut the result is\r\n\r\n&gt; [Some, ra, dom, s, ff,, a, o, her, s, ff,, words, i, q, o, es, Exam,\r\n&gt; le, ,, Oo, s!]\r\n\r\n\r\nAs you can see we have words split up, extra commas and exclamation mark left ( I thought p{Punct} includes exclamation marks )\r\n","title":"Why does p{Punct} regex leave commas in this example","body":"<p>I need regex to seperate words in lines, here is what I have</p>\n<pre><code> public class Example {\n    public static void main(String[] args) {\ncountWords(List.of(&quot;Some random stuff, another stuff, words in quotes „Example“, Oops!&quot;));\n\n    }\n    public static void countWords(List&lt;String&gt; lines) {\n        lines.\n                stream().map(line -&gt; line.split(&quot;[\\\\\\\\p{Punct}«»\\\\s\\\\d„“…)–]+&quot;)).forEach(e -&gt; System.out.println(Arrays.toString(e)));\n }\n    }\n</code></pre>\n<p>But the result is</p>\n<blockquote>\n<p>[Some, ra, dom, s, ff,, a, o, her, s, ff,, words, i, q, o, es, Exam,\nle, ,, Oo, s!]</p>\n</blockquote>\n<p>As you can see we have words split up, extra commas and exclamation mark left ( I thought p{Punct} includes exclamation marks )</p>\n"},{"tags":["java","logging","log4j","akka","logback"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":3,"creation_date":1641158539,"post_id":70559843,"comment_id":124730497,"body_markdown":"Your configuration file looks like a mixup of Log4j and Logback syntax (i.e. is not valid). Did you try adapting the configuration from the question you cite? Besides you use the `slf4j-simple` binding, which does not use Logback. On the other hand `logback-classic` (which contains Logback&#39;s SLF4J binding) is missing.","body":"Your configuration file looks like a mixup of Log4j and Logback syntax (i.e. is not valid). Did you try adapting the configuration from the question you cite? Besides you use the <code>slf4j-simple</code> binding, which does not use Logback. On the other hand <code>logback-classic</code> (which contains Logback&#39;s SLF4J binding) is missing."},{"owner":{"account_id":430698,"reputation":7180,"user_id":4803842,"display_name":"Ivan Stanislavciuc"},"score":1,"creation_date":1641158660,"post_id":70559843,"comment_id":124730523,"body_markdown":"Enable logback [debug](https://stackoverflow.com/a/3802093/4803842) option to see how logback is loading","body":"Enable logback <a href=\"https://stackoverflow.com/a/3802093/4803842\">debug</a> option to see how logback is loading"}],"answers":[{"tags":[],"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1641163787,"creation_date":1641163787,"answer_id":70560334,"question_id":70559843,"body_markdown":"This [result](https://www.baeldung.com/logback) from [Google](https://www.google.com/) has answers to all your questions...\r\n\r\nI&#39;d expect, that you know, that `&lt;Configuration&gt;` and `&lt;configuration&gt;` is not the same thing as well as console output is somehow unrelated, when you are logging into file(s)...","title":"Using logback to log to two different log files","body":"<p>This <a href=\"https://www.baeldung.com/logback\" rel=\"nofollow noreferrer\">result</a> from <a href=\"https://www.google.com/\" rel=\"nofollow noreferrer\">Google</a> has answers to all your questions...</p>\n<p>I'd expect, that you know, that <code>&lt;Configuration&gt;</code> and <code>&lt;configuration&gt;</code> is not the same thing as well as console output is somehow unrelated, when you are logging into file(s)...</p>\n"},{"tags":[],"owner":{"account_id":215504,"reputation":52472,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641215678,"creation_date":1641215678,"answer_id":70566317,"question_id":70559843,"body_markdown":"This logback.xml splits the logging into two separate files : \r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;configuration&gt;\r\n    \r\n        &lt;appender name=&quot;logger1appender&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\r\n            &lt;file&gt;logfile1.log&lt;/file&gt;\r\n            &lt;append&gt;false&lt;/append&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n        &lt;appender name=&quot;logger2appender&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\r\n            &lt;file&gt;logfile2.log&lt;/file&gt;\r\n            &lt;append&gt;false&lt;/append&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n    \r\n        &lt;property name=&quot;pattern&quot; value=&quot;%date{HH:mm:ss.SSS} %-5p %logger{36}\r\n    %X{akkaSource} [%file:%line] - %m%n&quot;/&gt;\r\n    \r\n        &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%date{HH:mm:ss.SSS} %-5p %logger{36} %X{akkaSource} [%file:%line] - %m%n&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;logger name=&quot;logger1name&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;logger1appender&quot;/&gt;\r\n        &lt;/logger&gt;\r\n        &lt;logger name=&quot;logger2name&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;logger2appender&quot;/&gt;\r\n        &lt;/logger&gt;\r\n    \r\n        &lt;root level=&quot;INFO&quot;&gt;\r\n            &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\r\n        &lt;/root&gt;\r\n\r\n&lt;/configuration&gt;\r\n\r\nwith dependencies : \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.10&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        &lt;version&gt;1.7.32&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.10&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nusing code : \r\n\r\n    private static final Logger log1 = LoggerFactory.getLogger(&quot;logger1name&quot;);\r\n    private static final Logger log2 = LoggerFactory.getLogger(&quot;logger2name&quot;);","title":"Using logback to log to two different log files","body":"<p>This logback.xml splits the logging into two separate files :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;configuration&gt;\n\n    &lt;appender name=&quot;logger1appender&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\n        &lt;file&gt;logfile1.log&lt;/file&gt;\n        &lt;append&gt;false&lt;/append&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;appender name=&quot;logger2appender&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\n        &lt;file&gt;logfile2.log&lt;/file&gt;\n        &lt;append&gt;false&lt;/append&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n\n    &lt;property name=&quot;pattern&quot; value=&quot;%date{HH:mm:ss.SSS} %-5p %logger{36}\n%X{akkaSource} [%file:%line] - %m%n&quot;/&gt;\n\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%date{HH:mm:ss.SSS} %-5p %logger{36} %X{akkaSource} [%file:%line] - %m%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;logger name=&quot;logger1name&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\n        &lt;appender-ref ref=&quot;logger1appender&quot;/&gt;\n    &lt;/logger&gt;\n    &lt;logger name=&quot;logger2name&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\n        &lt;appender-ref ref=&quot;logger2appender&quot;/&gt;\n    &lt;/logger&gt;\n\n    &lt;root level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\n    &lt;/root&gt;\n</code></pre>\n\n<p>with dependencies :</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n    &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n    &lt;version&gt;1.2.10&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;version&gt;1.7.32&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n    &lt;version&gt;1.2.10&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>using code :</p>\n<pre><code>private static final Logger log1 = LoggerFactory.getLogger(&quot;logger1name&quot;);\nprivate static final Logger log2 = LoggerFactory.getLogger(&quot;logger2name&quot;);\n</code></pre>\n"}],"owner":{"account_id":215504,"reputation":52472,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2448,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70566317,"answer_count":2,"score":0,"last_activity_date":1641215678,"creation_date":1641158277,"question_id":70559843,"body_markdown":"Using below logback.xml  :\r\n\r\n    &lt;Configuration status=&quot;INFO&quot;&gt;\r\n        &lt;Appenders&gt;\r\n    \r\n            &lt;appender name=&quot;log1&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n                &lt;file&gt;log1.log&lt;/file&gt;\r\n                &lt;append&gt;true&lt;/append&gt;\r\n            &lt;/appender&gt;\r\n    \r\n            &lt;appender name=&quot;log2&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n                &lt;file&gt;log2.log&lt;/file&gt;\r\n                &lt;append&gt;true&lt;/append&gt;\r\n            &lt;/appender&gt;\r\n    \r\n            &lt;logger name=&quot;logger1&quot; level=&quot;INFO&quot; additivity=&quot;true&quot;&gt;\r\n                &lt;appender-ref ref=&quot;log1&quot;/&gt;\r\n            &lt;/logger&gt;\r\n            &lt;logger name=&quot;logger2&quot; level=&quot;INFO&quot; additivity=&quot;true&quot;&gt;\r\n                &lt;appender-ref ref=&quot;log2&quot;/&gt;\r\n            &lt;/logger&gt;\r\n    \r\n        &lt;/Appenders&gt;\r\n    \r\n        &lt;root level=&quot;info&quot;&gt;\r\n            &lt;appender-ref ref=&quot;logger1&quot;/&gt;\r\n            &lt;appender-ref ref=&quot;logger2&quot;/&gt;\r\n        &lt;/root&gt;\r\n    \r\n    &lt;/Configuration&gt;\r\n\r\nwith dependencies :\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.10&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        &lt;version&gt;1.7.32&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n        &lt;version&gt;1.7.32&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI&#39;m attempting to log message to two different files using code : \r\n\r\n    Logger log1 = LoggerFactory.getLogger(&quot;logger1&quot;);\r\n    Logger log2 = LoggerFactory.getLogger(&quot;logger2&quot;);\r\n\r\n    log1.info(&quot;test1&quot;);\r\n    log2.info(&quot;test2&quot;);\r\n\r\nBut the files, log1.log and log2.log are not being created.\r\n\r\nHere is the console output : \r\n\r\n    [as-akka.actor.default-dispatcher-3] INFO akka.event.slf4j.Slf4jLogger - Slf4jLogger started\r\n    [main] INFO logger1 - test1\r\n    [main] INFO logger2 - test2\r\n\r\nI&#39;m unsure why the message `[as-akka.actor.default-dispatcher-3] INFO akka.event.slf4j.Slf4jLogger - Slf4jLogger started` is being printed, perhaps because as I&#39;m using Akka in the project ?\r\n\r\nHave I setup `logback.xml` correctly to enable logging to two separate log files ?\r\n\r\nI have reviewed question https://stackoverflow.com/questions/2488558/logback-to-log-different-messages-to-two-files and it does not answer this question as the configuration differs in this question.","title":"Using logback to log to two different log files","body":"<p>Using below logback.xml  :</p>\n<pre><code>&lt;Configuration status=&quot;INFO&quot;&gt;\n    &lt;Appenders&gt;\n\n        &lt;appender name=&quot;log1&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n            &lt;file&gt;log1.log&lt;/file&gt;\n            &lt;append&gt;true&lt;/append&gt;\n        &lt;/appender&gt;\n\n        &lt;appender name=&quot;log2&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n            &lt;file&gt;log2.log&lt;/file&gt;\n            &lt;append&gt;true&lt;/append&gt;\n        &lt;/appender&gt;\n\n        &lt;logger name=&quot;logger1&quot; level=&quot;INFO&quot; additivity=&quot;true&quot;&gt;\n            &lt;appender-ref ref=&quot;log1&quot;/&gt;\n        &lt;/logger&gt;\n        &lt;logger name=&quot;logger2&quot; level=&quot;INFO&quot; additivity=&quot;true&quot;&gt;\n            &lt;appender-ref ref=&quot;log2&quot;/&gt;\n        &lt;/logger&gt;\n\n    &lt;/Appenders&gt;\n\n    &lt;root level=&quot;info&quot;&gt;\n        &lt;appender-ref ref=&quot;logger1&quot;/&gt;\n        &lt;appender-ref ref=&quot;logger2&quot;/&gt;\n    &lt;/root&gt;\n\n&lt;/Configuration&gt;\n</code></pre>\n<p>with dependencies :</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n    &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n    &lt;version&gt;1.2.10&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;version&gt;1.7.32&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n    &lt;version&gt;1.7.32&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I'm attempting to log message to two different files using code :</p>\n<pre><code>Logger log1 = LoggerFactory.getLogger(&quot;logger1&quot;);\nLogger log2 = LoggerFactory.getLogger(&quot;logger2&quot;);\n\nlog1.info(&quot;test1&quot;);\nlog2.info(&quot;test2&quot;);\n</code></pre>\n<p>But the files, log1.log and log2.log are not being created.</p>\n<p>Here is the console output :</p>\n<pre><code>[as-akka.actor.default-dispatcher-3] INFO akka.event.slf4j.Slf4jLogger - Slf4jLogger started\n[main] INFO logger1 - test1\n[main] INFO logger2 - test2\n</code></pre>\n<p>I'm unsure why the message <code>[as-akka.actor.default-dispatcher-3] INFO akka.event.slf4j.Slf4jLogger - Slf4jLogger started</code> is being printed, perhaps because as I'm using Akka in the project ?</p>\n<p>Have I setup <code>logback.xml</code> correctly to enable logging to two separate log files ?</p>\n<p>I have reviewed question <a href=\"https://stackoverflow.com/questions/2488558/logback-to-log-different-messages-to-two-files\">Logback to log different messages to two files</a> and it does not answer this question as the configuration differs in this question.</p>\n"},{"tags":["java","spring","spring-boot","guava","spring-el"],"answers":[{"tags":[],"owner":{"account_id":10333135,"reputation":34,"user_id":7622250,"display_name":"Sachin Pawar"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1560323166,"creation_date":1560186182,"answer_id":56530602,"question_id":56527050,"body_markdown":"       /*\r\n        list=[&#39;a&#39;,&#39;b&#39;]\r\n        list=[]\r\n        list=&quot;&quot;\r\n       */\r\n       ${empty list}//false\r\n       ${empty list1}//true\r\n       ${empty list2}//true","title":"Spring Expression Language (SpEL): check empty string?","body":"<pre><code>   /*\n    list=['a','b']\n    list=[]\n    list=\"\"\n   */\n   ${empty list}//false\n   ${empty list1}//true\n   ${empty list2}//true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8538666,"reputation":151,"user_id":6399488,"display_name":"Soner Koksal"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1571299498,"creation_date":1571298818,"answer_id":58427587,"question_id":56527050,"body_markdown":"This is how it&#39;s done according to latest documentation: \r\n\r\nnot null or empty `#myString &gt; &#39;&#39;`\r\n\r\nnull or empty `#myString &lt;= &#39;&#39;`\r\n\r\nnot null or blank `#myString?.trim() &gt; &#39;&#39;`\r\n\r\nnull or blank `#myString?.trim() &lt;= &#39;&#39;`\r\n","title":"Spring Expression Language (SpEL): check empty string?","body":"<p>This is how it's done according to latest documentation: </p>\n\n<p>not null or empty <code>#myString &gt; ''</code></p>\n\n<p>null or empty <code>#myString &lt;= ''</code></p>\n\n<p>not null or blank <code>#myString?.trim() &gt; ''</code></p>\n\n<p>null or blank <code>#myString?.trim() &lt;= ''</code></p>\n"},{"tags":[],"owner":{"account_id":173186,"reputation":4270,"user_id":401712,"display_name":"Dario Seidl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641215243,"creation_date":1641215243,"answer_id":70566227,"question_id":56527050,"body_markdown":"You can call any Java method on an object, e.g. `#myString.length()`, `#myString.isEmpty()` or `#myString.isBlank()`. I&#39;d say, that would be the canonical way to check whether a string is empty or blank.\r\n\r\nFor null or empty: `#myString == null || #myString.isEmpty()`\r\n\r\nFor null or blank: `#myString == null || #myString.isBlank()`\r\n\r\nYou can test this with:\r\n\r\n```\r\nSystem.out.println(new SpelExpressionParser().parseExpression(&quot;#root?.isEmpty()&quot;).getValue(&quot;x&quot;)); // false\r\nSystem.out.println(new SpelExpressionParser().parseExpression(&quot;#root?.isEmpty()&quot;).getValue(&quot;&quot;)); // true\r\nSystem.out.println(new SpelExpressionParser().parseExpression(&quot;#root?.isEmpty()&quot;).getValue((Object) null)); // null\r\nSystem.out.println(new SpelExpressionParser().parseExpression(&quot;#root == null || #root.isEmpty()&quot;).getValue(&quot;x&quot;)); // false\r\nSystem.out.println(new SpelExpressionParser().parseExpression(&quot;#root == null || #root.isEmpty()&quot;).getValue(&quot;&quot;)); // true\r\nSystem.out.println(new SpelExpressionParser().parseExpression(&quot;#root == null || #root.isEmpty()&quot;).getValue((Object) null)); // true\r\n```","title":"Spring Expression Language (SpEL): check empty string?","body":"<p>You can call any Java method on an object, e.g. <code>#myString.length()</code>, <code>#myString.isEmpty()</code> or <code>#myString.isBlank()</code>. I'd say, that would be the canonical way to check whether a string is empty or blank.</p>\n<p>For null or empty: <code>#myString == null || #myString.isEmpty()</code></p>\n<p>For null or blank: <code>#myString == null || #myString.isBlank()</code></p>\n<p>You can test this with:</p>\n<pre><code>System.out.println(new SpelExpressionParser().parseExpression(&quot;#root?.isEmpty()&quot;).getValue(&quot;x&quot;)); // false\nSystem.out.println(new SpelExpressionParser().parseExpression(&quot;#root?.isEmpty()&quot;).getValue(&quot;&quot;)); // true\nSystem.out.println(new SpelExpressionParser().parseExpression(&quot;#root?.isEmpty()&quot;).getValue((Object) null)); // null\nSystem.out.println(new SpelExpressionParser().parseExpression(&quot;#root == null || #root.isEmpty()&quot;).getValue(&quot;x&quot;)); // false\nSystem.out.println(new SpelExpressionParser().parseExpression(&quot;#root == null || #root.isEmpty()&quot;).getValue(&quot;&quot;)); // true\nSystem.out.println(new SpelExpressionParser().parseExpression(&quot;#root == null || #root.isEmpty()&quot;).getValue((Object) null)); // true\n</code></pre>\n"}],"owner":{"account_id":4198802,"reputation":1765,"user_id":3439496,"accept_rate":43,"display_name":"Dzmitry Bahdanovich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10626,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":3,"score":7,"last_activity_date":1641215243,"creation_date":1560172089,"question_id":56527050,"body_markdown":"What is a canonical way to check if the String is null or empty using SpEL?\r\nI would like to achieve the same result as `Strings.isNullOrEmpty(myString)` from Guava does. \r\n\r\n\r\nMy candidates:\r\n\r\n1. `&quot;#myString.?length=0&quot;`\r\n\r\n2. `&quot;#myString = &#39;&#39;&quot;`\r\n\r\n\r\nNot sure if any is canonical, and the documentation is pretty vague (https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#expressions-operators)\r\n\r\n","title":"Spring Expression Language (SpEL): check empty string?","body":"<p>What is a canonical way to check if the String is null or empty using SpEL?\nI would like to achieve the same result as <code>Strings.isNullOrEmpty(myString)</code> from Guava does. </p>\n\n<p>My candidates:</p>\n\n<ol>\n<li><p><code>\"#myString.?length=0\"</code></p></li>\n<li><p><code>\"#myString = ''\"</code></p></li>\n</ol>\n\n<p>Not sure if any is canonical, and the documentation is pretty vague (<a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#expressions-operators\" rel=\"noreferrer\">https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#expressions-operators</a>)</p>\n"},{"tags":["java","android","random"],"comments":[{"owner":{"account_id":1051236,"reputation":18972,"user_id":1055118,"accept_rate":100,"display_name":"doctorlove"},"score":1,"creation_date":1641212919,"post_id":70565769,"comment_id":124740966,"body_markdown":"Would a random shuffle help? https://stackoverflow.com/questions/1519736/random-shuffling-of-an-array","body":"Would a random shuffle help? <a href=\"https://stackoverflow.com/questions/1519736/random-shuffling-of-an-array\" title=\"random shuffling of an array\">stackoverflow.com/questions/1519736/&hellip;</a>"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":3,"creation_date":1641212921,"post_id":70565769,"comment_id":124740968,"body_markdown":"In order to prevent questions to show up mutliple times, you need to track which questions already have been seen.","body":"In order to prevent questions to show up mutliple times, you need to track which questions already have been seen."}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1641214717,"creation_date":1641213338,"answer_id":70565867,"question_id":70565769,"body_markdown":"You have to rethink your approach. The easiest solution: you define the complete random order upfront. Meaning: you first load all your questions into your base list, in whatever order. Then you create a copy of that list, and **shuffle** that copy (using that built in function: [Collections.shuffle(List)][1]. And that shuffled list copy is what your user gets to see. And then you just iterate that list bottom to top.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/util/Collections.html#shuffle(java.util.List)","title":"How to make my random questions not repeat?","body":"<p>You have to rethink your approach. The easiest solution: you define the complete random order upfront. Meaning: you first load all your questions into your base list, in whatever order. Then you create a copy of that list, and <strong>shuffle</strong> that copy (using that built in function: <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Collections.html#shuffle(java.util.List)\" rel=\"nofollow noreferrer\">Collections.shuffle(List)</a>. And that shuffled list copy is what your user gets to see. And then you just iterate that list bottom to top.</p>\n"}],"owner":{"account_id":23813640,"reputation":13,"user_id":17822167,"display_name":"Haldane Padilha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70565867,"answer_count":1,"score":1,"last_activity_date":1641214717,"creation_date":1641212730,"question_id":70565769,"body_markdown":"I&#39;m learning to program, i need my quiz random questions not to be repeated.\r\n Java - Android Studio\r\n\r\n##my code:\r\n\r\n    quizModalArrayList = new ArrayList&lt;&gt;();\r\n    random = new Random();\r\n        \r\n    getQuizQuestion(quizModalArrayList);\r\n    currentPos = random.nextInt(quizModalArrayList.size());\r\n        \r\n    private void getQuizQuestion(ArrayList&lt;QuizModal&gt; quizModalArrayList) {\r\n        \r\n    quizModalArrayList.add(new QuizModal(R.drawable.prolinfocitos, &quot;b&quot;, &quot;b&quot;, &quot;c&quot;, &quot;dd&quot;,&quot;b&quot;));\r\n    quizModalArrayList.add(new QuizModal(R.drawable.prolinfocitos, &quot;b&quot;, &quot;b&quot;, &quot;c&quot;, &quot;dd&quot;,&quot;b&quot;));\r\n   \r\n[quizModal][1]\r\nthere are more lines of code, but I believe they are unrelated to the problem.\r\n\r\n\r\n\r\nany help?\r\nThanks\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/d4ekK.png","title":"How to make my random questions not repeat?","body":"<p>I'm learning to program, i need my quiz random questions not to be repeated.\nJava - Android Studio</p>\n<p>##my code:</p>\n<pre><code>quizModalArrayList = new ArrayList&lt;&gt;();\nrandom = new Random();\n    \ngetQuizQuestion(quizModalArrayList);\ncurrentPos = random.nextInt(quizModalArrayList.size());\n    \nprivate void getQuizQuestion(ArrayList&lt;QuizModal&gt; quizModalArrayList) {\n    \nquizModalArrayList.add(new QuizModal(R.drawable.prolinfocitos, &quot;b&quot;, &quot;b&quot;, &quot;c&quot;, &quot;dd&quot;,&quot;b&quot;));\nquizModalArrayList.add(new QuizModal(R.drawable.prolinfocitos, &quot;b&quot;, &quot;b&quot;, &quot;c&quot;, &quot;dd&quot;,&quot;b&quot;));\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/d4ekK.png\" rel=\"nofollow noreferrer\">quizModal</a>\nthere are more lines of code, but I believe they are unrelated to the problem.</p>\n<p>any help?\nThanks</p>\n"},{"tags":["java","android","libgdx","storage","scoped-storage"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1641217572,"post_id":70565499,"comment_id":124742474,"body_markdown":"You can solve your problem with MANAGE_EXTERNAL_STORAGE permission. But probably you do not want that.","body":"You can solve your problem with MANAGE_EXTERNAL_STORAGE permission. But probably you do not want that."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1641217678,"post_id":70565499,"comment_id":124742513,"body_markdown":"`don’t want the files to be deleted automatically if the app is uninstalled` Did you try `android:hasFragileUserData=&quot;true&quot;` in application tag of manifest?","body":"<code>don’t want the files to be deleted automatically if the app is uninstalled</code> Did you try <code>android:hasFragileUserData=&quot;true&quot;</code> in application tag of manifest?"},{"owner":{"account_id":4579791,"reputation":1487,"user_id":3717168,"accept_rate":55,"display_name":"Tekkerue"},"score":1,"creation_date":1641219113,"post_id":70565499,"comment_id":124743004,"body_markdown":"I&#39;ve read that Google Play is strict with MANAGE_EXTERNAL_STORAGE and will reject apps they don&#39;t think need it. I&#39;m not sure if my app would qualify for this. I&#39;ve also posted on the LibGDX discord and the hasFragileUserData was mentioned but was told that it doesn&#39;t work well at the time being. Plus, the Documents folder is much more convenient to access than the Android/data (I don&#39;t use my phone for that much, but I have over 180 other folders there). This is not really relevant for this particular task (managing presets), but it will be in the future with other features I plan on adding.","body":"I&#39;ve read that Google Play is strict with MANAGE_EXTERNAL_STORAGE and will reject apps they don&#39;t think need it. I&#39;m not sure if my app would qualify for this. I&#39;ve also posted on the LibGDX discord and the hasFragileUserData was mentioned but was told that it doesn&#39;t work well at the time being. Plus, the Documents folder is much more convenient to access than the Android/data (I don&#39;t use my phone for that much, but I have over 180 other folders there). This is not really relevant for this particular task (managing presets), but it will be in the future with other features I plan on adding."},{"owner":{"account_id":4579791,"reputation":1487,"user_id":3717168,"accept_rate":55,"display_name":"Tekkerue"},"score":1,"creation_date":1641219671,"post_id":70565499,"comment_id":124743213,"body_markdown":"It seems like it would be simple enough to merely ask the user for permission to access a specific directory (which I could prompt for when launching the app), then once they give permission I can get the file path (absolute file path in this case) to use with the LibGDX FileHandle to access anything inside that directory. Before accessing a file Android could simply check to make sure permission was given for that directory (or even a specific file) and then allow access or deny it. I don&#39;t understand why Android had to make this so difficult, but it is very frustrating!","body":"It seems like it would be simple enough to merely ask the user for permission to access a specific directory (which I could prompt for when launching the app), then once they give permission I can get the file path (absolute file path in this case) to use with the LibGDX FileHandle to access anything inside that directory. Before accessing a file Android could simply check to make sure permission was given for that directory (or even a specific file) and then allow access or deny it. I don&#39;t understand why Android had to make this so difficult, but it is very frustrating!"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1641227199,"post_id":70565499,"comment_id":124746162,"body_markdown":"You cannot ask for permission. You can only ask the user if he will select a specific directory using ACTION_OPEN_DOCUMENT_TREE. But after that you will only have uries for the files. And even if you manage to decode a file path from those uries you cannot use those paths as you have no access rights then.","body":"You cannot ask for permission. You can only ask the user if he will select a specific directory using ACTION_OPEN_DOCUMENT_TREE. But after that you will only have uries for the files. And even if you manage to decode a file path from those uries you cannot use those paths as you have no access rights then."},{"owner":{"account_id":4579791,"reputation":1487,"user_id":3717168,"accept_rate":55,"display_name":"Tekkerue"},"score":1,"creation_date":1641232316,"post_id":70565499,"comment_id":124747965,"body_markdown":"So there is no possible way to make it work with LibGDX FileHandle then? This is frustrating as I put a lot of work into the preset manager and it has been working perfectly. What are my options to be able to use the Documents folder? Seems like I&#39;d have to scrap LibGDX FileHandle entirely, create a new interface for accessing files to call from the LibGDX core and write the entire Android backend using the SAF. I&#39;ve done very little native Android programming, I&#39;m not sure I can do that. I was hoping to release before the end of the year (that didn&#39;t happen) and now this is a major setback.","body":"So there is no possible way to make it work with LibGDX FileHandle then? This is frustrating as I put a lot of work into the preset manager and it has been working perfectly. What are my options to be able to use the Documents folder? Seems like I&#39;d have to scrap LibGDX FileHandle entirely, create a new interface for accessing files to call from the LibGDX core and write the entire Android backend using the SAF. I&#39;ve done very little native Android programming, I&#39;m not sure I can do that. I was hoping to release before the end of the year (that didn&#39;t happen) and now this is a major setback."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1641233969,"post_id":70565499,"comment_id":124748505,"body_markdown":"You can always make a copy of a file if you have an uri for it. Copy to file system then use the path of the copy.","body":"You can always make a copy of a file if you have an uri for it. Copy to file system then use the path of the copy."},{"owner":{"account_id":4579791,"reputation":1487,"user_id":3717168,"accept_rate":55,"display_name":"Tekkerue"},"score":0,"creation_date":1641272946,"post_id":70565499,"comment_id":124756520,"body_markdown":"Making copies was mentioned in the LibGDX discord too. In the future I am planning on adding functionality to work with audio files and I had hoped there was a better way, I&#39;d like to avoid making copies of potentially large audio files on mobile devices with limited storage. But for the moment with small text files, this is much simpler than re-writing LibGDX&#39;s FileHandle. Maybe by the time I get to implementing audio files Android will change everything again. (probably for the worse given how things are going *sigh*) I did find one more thing while watching a video on scoped storage...","body":"Making copies was mentioned in the LibGDX discord too. In the future I am planning on adding functionality to work with audio files and I had hoped there was a better way, I&#39;d like to avoid making copies of potentially large audio files on mobile devices with limited storage. But for the moment with small text files, this is much simpler than re-writing LibGDX&#39;s FileHandle. Maybe by the time I get to implementing audio files Android will change everything again. (probably for the worse given how things are going <i>sigh</i>) I did find one more thing while watching a video on scoped storage..."},{"owner":{"account_id":4579791,"reputation":1487,"user_id":3717168,"accept_rate":55,"display_name":"Tekkerue"},"score":0,"creation_date":1641273429,"post_id":70565499,"comment_id":124756606,"body_markdown":"Are you familiar with Filesystem in Userspace (FUSE)? According to this video FUSE was implemented to allow API&#39;s that use file paths instead of URI&#39;s (like LibGDX FileHandle?), but not a lot of specifics was provided: https://www.youtube.com/watch?v=RjyYCUW-9tY&amp;t=256s Googling this did not turn up much info, I can&#39;t find a tutorials or even an API for how to actually implement it. The section called &quot;Filesystem in Userspace (FUSE)&quot; mentions it, but not a lot of details: https://source.android.com/devices/storage/scoped This sounds promising, but I&#39;m still not sure if it is a viable option.","body":"Are you familiar with Filesystem in Userspace (FUSE)? According to this video FUSE was implemented to allow API&#39;s that use file paths instead of URI&#39;s (like LibGDX FileHandle?), but not a lot of specifics was provided: <a href=\"https://www.youtube.com/watch?v=RjyYCUW-9tY&amp;t=256s\" rel=\"nofollow noreferrer\">youtube.com/watch?v=RjyYCUW-9tY&amp;t=256s</a> Googling this did not turn up much info, I can&#39;t find a tutorials or even an API for how to actually implement it. The section called &quot;Filesystem in Userspace (FUSE)&quot; mentions it, but not a lot of details: <a href=\"https://source.android.com/devices/storage/scoped\" rel=\"nofollow noreferrer\">source.android.com/devices/storage/scoped</a> This sounds promising, but I&#39;m still not sure if it is a viable option."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1641286094,"post_id":70565499,"comment_id":124759422,"body_markdown":"Sorry, i will not follow your links. You stand alone..;-)","body":"Sorry, i will not follow your links. You stand alone..;-)"},{"owner":{"account_id":4579791,"reputation":1487,"user_id":3717168,"accept_rate":55,"display_name":"Tekkerue"},"score":0,"creation_date":1641287835,"post_id":70565499,"comment_id":124760046,"body_markdown":"If you are worried that I&#39;m providing questionable links, you don&#39;t have to click them if you are concerned. The first one is a YouTube video called &quot;Storage access with Android 11&quot; uploaded by Android Developers (an official Android developers channel), the part about FUSE starts at 4:16. The second one is on Source.Android.com and the article is titled &quot;Scoped Storage&quot;, see the section called &quot;Using scoped storage with FUSE&quot;. That should be enough info to find these if you don&#39;t want to click the links. I&#39;m just trying to understand it and see if it will work for what I need. That is all. :)","body":"If you are worried that I&#39;m providing questionable links, you don&#39;t have to click them if you are concerned. The first one is a YouTube video called &quot;Storage access with Android 11&quot; uploaded by Android Developers (an official Android developers channel), the part about FUSE starts at 4:16. The second one is on Source.Android.com and the article is titled &quot;Scoped Storage&quot;, see the section called &quot;Using scoped storage with FUSE&quot;. That should be enough info to find these if you don&#39;t want to click the links. I&#39;m just trying to understand it and see if it will work for what I need. That is all. :)"},{"owner":{"account_id":4579791,"reputation":1487,"user_id":3717168,"accept_rate":55,"display_name":"Tekkerue"},"score":0,"creation_date":1641288406,"post_id":70565499,"comment_id":124760262,"body_markdown":"Those are the best sources I&#39;ve found on Filesystem in Userspace (FUSE) so far, but they didn&#39;t provide much info on it. It sounds promising, but I&#39;m still not sure if it will actually work with LibGDX or not. I can&#39;t find any specific API that I can look at to figure out what it does. The sources I found gave fairly vague descriptions, but did not mention where to go to find out more info or tutorials on how to use it. I&#39;m usually pretty good at researching information, but there doesn&#39;t seem to be a lot of info on this. Where can I go to find out more about it?","body":"Those are the best sources I&#39;ve found on Filesystem in Userspace (FUSE) so far, but they didn&#39;t provide much info on it. It sounds promising, but I&#39;m still not sure if it will actually work with LibGDX or not. I can&#39;t find any specific API that I can look at to figure out what it does. The sources I found gave fairly vague descriptions, but did not mention where to go to find out more info or tutorials on how to use it. I&#39;m usually pretty good at researching information, but there doesn&#39;t seem to be a lot of info on this. Where can I go to find out more about it?"},{"owner":{"account_id":4579791,"reputation":1487,"user_id":3717168,"accept_rate":55,"display_name":"Tekkerue"},"score":0,"creation_date":1641300450,"post_id":70565499,"comment_id":124764642,"body_markdown":"Ok, I wasn&#39;t sure what you meant by your comment, but thank you for the help you&#39;ve provided thus far. I might remove this question and ask a new one about FUSE instead. I don&#39;t want to spam Stack Overflow with multiple questions on this same problem. Thanks again.","body":"Ok, I wasn&#39;t sure what you meant by your comment, but thank you for the help you&#39;ve provided thus far. I might remove this question and ask a new one about FUSE instead. I don&#39;t want to spam Stack Overflow with multiple questions on this same problem. Thanks again."},{"owner":{"account_id":22622433,"reputation":115,"user_id":16800976,"display_name":"J. M."},"score":0,"creation_date":1644120725,"post_id":70565499,"comment_id":125519725,"body_markdown":"Yea, google messed up and im sure pissed off a lot of developers. You can however use manage external storage on amazon. They should let the user decide if we can use it, it shouldnt be a rejectable permission.","body":"Yea, google messed up and im sure pissed off a lot of developers. You can however use manage external storage on amazon. They should let the user decide if we can use it, it shouldnt be a rejectable permission."},{"owner":{"account_id":4579791,"reputation":1487,"user_id":3717168,"accept_rate":55,"display_name":"Tekkerue"},"score":0,"creation_date":1644239533,"post_id":70565499,"comment_id":125544340,"body_markdown":"I&#39;m planning on releasing on Google Play because that&#39;s the default app store, which rules out manage external storage unfortunately. I&#39;ve created a feature request to use the new Android file system on the LibGDX Github, but no response from the devs. I&#39;ve asked on the LibGDX Discord, but no solution to this yet. At this point, it appears I&#39;m going to have to learn Storage Access Framework (I think this is best for my needs) and code the backend myself. I&#39;m not an Android programmer so it&#39;ll be time consuming to get up to speed and fix something I&#39;ve had working. It is extremely frustrating!","body":"I&#39;m planning on releasing on Google Play because that&#39;s the default app store, which rules out manage external storage unfortunately. I&#39;ve created a feature request to use the new Android file system on the LibGDX Github, but no response from the devs. I&#39;ve asked on the LibGDX Discord, but no solution to this yet. At this point, it appears I&#39;m going to have to learn Storage Access Framework (I think this is best for my needs) and code the backend myself. I&#39;m not an Android programmer so it&#39;ll be time consuming to get up to speed and fix something I&#39;ve had working. It is extremely frustrating!"}],"owner":{"account_id":4579791,"reputation":1487,"user_id":3717168,"accept_rate":55,"display_name":"Tekkerue"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":493,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1641214039,"creation_date":1641211410,"question_id":70565499,"body_markdown":"I am using LibGDX to develop a music app with a preset manager that uses LibGDX’s FileHandle to manage the files and directories. This has been working great until I updated to Android 11 (API 30), now I’m running into problems accessing files due to the limitations from Android’s new scoped storage.\r\n\r\nI am trying to use Android’s public Documents directory to store and manage my preset files. I access the Documents directory by getting its absolute path with:\r\n\r\n    Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS).getAbsolutePath()\r\n\r\nAnd then I use that path to instantiate LibGDX’s Absolute FileHandle to manage my directories and files.\r\n\r\nMy problem is that if I uninstall the app and reinstall it, I no longer have access to the old files since Android treats the new installation like a completely separate app. This is explained here:\r\nhttps://commonsware.com/blog/2021/11/06/about-environment-undeprecations.html \r\n\r\nIn the sample code below, I create the following directory:\r\n\r\n    Documents/TestDir/\r\n\r\nIs there a way I can get permission from the user to modify files in that specific directory (even after the app is reinstalled) and then use its absolute path to manage it via LibGDX’s FileHandle? Can I prompt the user myself or use one of the existing Android storage access systems (like Storage Access Framework) to accomplish this?\r\n\r\n**Additional Points:** I want to avoid using the `Android/data` folder to store the preset files because I don’t want the files to be deleted automatically if the app is uninstalled (these are user created files so they can be deleted separately if the user wants to). I do want to continue using LibGDX’s FileHandle because it provides a lot of methods that I depend on for my preset manager. I also plan on creating an iOS version in the future and LibGDX is cross-platform. \r\n\r\nHere is the API for LibGDX’s FileHandle (in case this might be useful):\r\nhttps://libgdx.badlogicgames.com/ci/nightlies/docs/api/com/badlogic/gdx/files/FileHandle.html \r\n\r\nHere is the code for my short test program. Thank you!\r\n\r\n**[core] FileTest.java**\r\n\r\n    package com.mygdx.filetest;\r\n    \r\n    import com.badlogic.gdx.ApplicationListener;\r\n    import com.badlogic.gdx.Files;\r\n    import com.badlogic.gdx.Gdx;\r\n    import com.badlogic.gdx.files.FileHandle;\r\n    import com.badlogic.gdx.utils.ScreenUtils;\r\n    \r\n    public class FileTest implements ApplicationListener {\r\n        private FileAccess fileAccess;\r\n        private String directoryName = &quot;TestDir/&quot;;\r\n        private String fileName = &quot;text.txt&quot;;\r\n        \r\n        public FileTest(final FileAccess fileAccess){\t\t\r\n            this.fileAccess = fileAccess;\r\n        }\r\n        \r\n        @Override\r\n        public void create(){\r\n            // get absolute path to Android Documents directory\r\n            String documentsPath = fileAccess.getDocumentsAbsolutePath() + &quot;/&quot;;\r\n            \r\n            // FILE HANDLING: with LibGDX FileHandle\r\n            FileHandle file = Gdx.files.getFileHandle(documentsPath+directoryName+fileName, Files.FileType.Absolute);\r\n            file.writeString(&quot;test&quot;, false);\r\n        }\r\n        \r\n        @Override public void render(){ ScreenUtils.clear(0.4f, 0.4f, 0.4f, 1); }\r\n        @Override public void resize(int width, int height) {}\r\n        @Override public void pause(){}\r\n        @Override public void resume(){}\r\n        @Override public void dispose (){}\r\n    }\r\n\r\n**[android] AndroidLauncher.java**\r\n\r\n    package com.mygdx.filetest;\r\n    \r\n    import android.os.Bundle;\r\n    \r\n    import com.badlogic.gdx.backends.android.AndroidApplication;\r\n    import com.badlogic.gdx.backends.android.AndroidApplicationConfiguration;\r\n    \r\n    public class AndroidLauncher extends AndroidApplication {\r\n        private final FileTest application;\r\n        \r\n        public AndroidLauncher(){\r\n            application = new FileTest(new AndroidFileAccess());\r\n        }\r\n        \r\n        @Override\r\n        protected void onCreate (Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            AndroidApplicationConfiguration config = new AndroidApplicationConfiguration();\r\n            initialize(application, config);\r\n        }\r\n    }\r\n\r\n**[core] FileAccess.java**\r\n\r\n    package com.mygdx.filetest;\r\n    \r\n    public interface FileAccess {\r\n        String getDocumentsAbsolutePath();\r\n    }\r\n\r\n**[android] AndroidFileAccess.java**\r\n\r\n    package com.mygdx.filetest;\r\n    \r\n    import android.os.Environment;\r\n    \r\n    public class AndroidFileAccess implements FileAccess {\r\n        @Override\r\n        public String getDocumentsAbsolutePath() {\r\n            // get absolute path to Android&#39;s public Documents directory\r\n            return Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS).getAbsolutePath();\r\n        }\r\n    }\r\n\r\n**[android] AndroidManifest.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.mygdx.filetest&quot;&gt;\r\n        \r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n        \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@drawable/ic_launcher&quot;\r\n            android:isGame=&quot;true&quot;\r\n            android:appCategory=&quot;game&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:theme=&quot;@style/GdxTheme&quot; &gt;\r\n            &lt;activity\r\n                android:name=&quot;com.mygdx.filetest.AndroidLauncher&quot;\r\n                android:label=&quot;@string/app_name&quot; \r\n                android:screenOrientation=&quot;fullUser&quot;\r\n                android:configChanges=&quot;keyboard|keyboardHidden|navigation|orientation|screenSize|screenLayout&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n","title":"Accessing Files Created by Previous Installation on Android - Scoped Storage Android 11","body":"<p>I am using LibGDX to develop a music app with a preset manager that uses LibGDX’s FileHandle to manage the files and directories. This has been working great until I updated to Android 11 (API 30), now I’m running into problems accessing files due to the limitations from Android’s new scoped storage.</p>\n<p>I am trying to use Android’s public Documents directory to store and manage my preset files. I access the Documents directory by getting its absolute path with:</p>\n<pre><code>Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS).getAbsolutePath()\n</code></pre>\n<p>And then I use that path to instantiate LibGDX’s Absolute FileHandle to manage my directories and files.</p>\n<p>My problem is that if I uninstall the app and reinstall it, I no longer have access to the old files since Android treats the new installation like a completely separate app. This is explained here:\n<a href=\"https://commonsware.com/blog/2021/11/06/about-environment-undeprecations.html\" rel=\"nofollow noreferrer\">https://commonsware.com/blog/2021/11/06/about-environment-undeprecations.html</a></p>\n<p>In the sample code below, I create the following directory:</p>\n<pre><code>Documents/TestDir/\n</code></pre>\n<p>Is there a way I can get permission from the user to modify files in that specific directory (even after the app is reinstalled) and then use its absolute path to manage it via LibGDX’s FileHandle? Can I prompt the user myself or use one of the existing Android storage access systems (like Storage Access Framework) to accomplish this?</p>\n<p><strong>Additional Points:</strong> I want to avoid using the <code>Android/data</code> folder to store the preset files because I don’t want the files to be deleted automatically if the app is uninstalled (these are user created files so they can be deleted separately if the user wants to). I do want to continue using LibGDX’s FileHandle because it provides a lot of methods that I depend on for my preset manager. I also plan on creating an iOS version in the future and LibGDX is cross-platform.</p>\n<p>Here is the API for LibGDX’s FileHandle (in case this might be useful):\n<a href=\"https://libgdx.badlogicgames.com/ci/nightlies/docs/api/com/badlogic/gdx/files/FileHandle.html\" rel=\"nofollow noreferrer\">https://libgdx.badlogicgames.com/ci/nightlies/docs/api/com/badlogic/gdx/files/FileHandle.html</a></p>\n<p>Here is the code for my short test program. Thank you!</p>\n<p><strong>[core] FileTest.java</strong></p>\n<pre><code>package com.mygdx.filetest;\n\nimport com.badlogic.gdx.ApplicationListener;\nimport com.badlogic.gdx.Files;\nimport com.badlogic.gdx.Gdx;\nimport com.badlogic.gdx.files.FileHandle;\nimport com.badlogic.gdx.utils.ScreenUtils;\n\npublic class FileTest implements ApplicationListener {\n    private FileAccess fileAccess;\n    private String directoryName = &quot;TestDir/&quot;;\n    private String fileName = &quot;text.txt&quot;;\n    \n    public FileTest(final FileAccess fileAccess){       \n        this.fileAccess = fileAccess;\n    }\n    \n    @Override\n    public void create(){\n        // get absolute path to Android Documents directory\n        String documentsPath = fileAccess.getDocumentsAbsolutePath() + &quot;/&quot;;\n        \n        // FILE HANDLING: with LibGDX FileHandle\n        FileHandle file = Gdx.files.getFileHandle(documentsPath+directoryName+fileName, Files.FileType.Absolute);\n        file.writeString(&quot;test&quot;, false);\n    }\n    \n    @Override public void render(){ ScreenUtils.clear(0.4f, 0.4f, 0.4f, 1); }\n    @Override public void resize(int width, int height) {}\n    @Override public void pause(){}\n    @Override public void resume(){}\n    @Override public void dispose (){}\n}\n</code></pre>\n<p><strong>[android] AndroidLauncher.java</strong></p>\n<pre><code>package com.mygdx.filetest;\n\nimport android.os.Bundle;\n\nimport com.badlogic.gdx.backends.android.AndroidApplication;\nimport com.badlogic.gdx.backends.android.AndroidApplicationConfiguration;\n\npublic class AndroidLauncher extends AndroidApplication {\n    private final FileTest application;\n    \n    public AndroidLauncher(){\n        application = new FileTest(new AndroidFileAccess());\n    }\n    \n    @Override\n    protected void onCreate (Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        AndroidApplicationConfiguration config = new AndroidApplicationConfiguration();\n        initialize(application, config);\n    }\n}\n</code></pre>\n<p><strong>[core] FileAccess.java</strong></p>\n<pre><code>package com.mygdx.filetest;\n\npublic interface FileAccess {\n    String getDocumentsAbsolutePath();\n}\n</code></pre>\n<p><strong>[android] AndroidFileAccess.java</strong></p>\n<pre><code>package com.mygdx.filetest;\n\nimport android.os.Environment;\n\npublic class AndroidFileAccess implements FileAccess {\n    @Override\n    public String getDocumentsAbsolutePath() {\n        // get absolute path to Android's public Documents directory\n        return Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS).getAbsolutePath();\n    }\n}\n</code></pre>\n<p><strong>[android] AndroidManifest.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.mygdx.filetest&quot;&gt;\n    \n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n    \n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@drawable/ic_launcher&quot;\n        android:isGame=&quot;true&quot;\n        android:appCategory=&quot;game&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:theme=&quot;@style/GdxTheme&quot; &gt;\n        &lt;activity\n            android:name=&quot;com.mygdx.filetest.AndroidLauncher&quot;\n            android:label=&quot;@string/app_name&quot; \n            android:screenOrientation=&quot;fullUser&quot;\n            android:configChanges=&quot;keyboard|keyboardHidden|navigation|orientation|screenSize|screenLayout&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","sockets"],"comments":[{"owner":{"account_id":4096887,"reputation":826,"user_id":3363386,"display_name":"polo-language"},"score":1,"creation_date":1641213749,"post_id":70565819,"comment_id":124741207,"body_markdown":"Keep a reference to the `ServerThread` object and change the visibility of `sendMessage` to `public`.  Then it can be called from anywhere. Aside: since `ServerThread extends Thread`, you don&#39;t need to wrap it in a new `Thread` like this `new Thread(new ServerThread(clientSocket))`.","body":"Keep a reference to the <code>ServerThread</code> object and change the visibility of <code>sendMessage</code> to <code>public</code>.  Then it can be called from anywhere. Aside: since <code>ServerThread extends Thread</code>, you don&#39;t need to wrap it in a new <code>Thread</code> like this <code>new Thread(new ServerThread(clientSocket))</code>."},{"owner":{"account_id":19670587,"reputation":1197,"user_id":17274803,"display_name":"Octavian Niculescu"},"score":0,"creation_date":1641213881,"post_id":70565819,"comment_id":124741248,"body_markdown":"@polo-language thanks. Add your comment as an answer, I will accept it asap :)","body":"@polo-language thanks. Add your comment as an answer, I will accept it asap :)"}],"answers":[{"tags":[],"owner":{"account_id":4096887,"reputation":826,"user_id":3363386,"display_name":"polo-language"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641214013,"creation_date":1641214013,"answer_id":70566001,"question_id":70565819,"body_markdown":"Keep a reference to the `ServerThread` object and change the visibility of `sendMessage` to `public`. Then it can be called from anywhere.\r\n\r\nAside: Since `ServerThread extends Thread`, you don&#39;t need to wrap it in a new `Thread` like this `new Thread(new ServerThread(clientSocket))`.","title":"Sending data through sockets in Java from different locations in code","body":"<p>Keep a reference to the <code>ServerThread</code> object and change the visibility of <code>sendMessage</code> to <code>public</code>. Then it can be called from anywhere.</p>\n<p>Aside: Since <code>ServerThread extends Thread</code>, you don't need to wrap it in a new <code>Thread</code> like this <code>new Thread(new ServerThread(clientSocket))</code>.</p>\n"}],"owner":{"account_id":19670587,"reputation":1197,"user_id":17274803,"display_name":"Octavian Niculescu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641214013,"creation_date":1641213037,"question_id":70565819,"body_markdown":"This is my first time using Sockets in any programming language (I&#39;m not familiar with the subject at all) and I&#39;m having a hard time understanding how to send data from different places of code.\r\n\r\nOkay I&#39;m running a ServerSocket, and I want to send data from another place in my code rather than the ServerSockets class. How can I do that?\r\n\r\nHere&#39;s my code:\r\n\r\nServer.java\r\n````\r\npackage socket;\r\n\r\nimport database.models.PersoanaEntity;\r\n\r\nimport java.io.IOException;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\n\r\npublic class Server {\r\n    public static final int PORT = 27015;\r\n\r\n    public void start() {\r\n        new Thread(() -&gt; {\r\n            try {\r\n                ServerSocket serverSocket = new ServerSocket(PORT);\r\n                Socket clientSocket = null;\r\n                PersoanaEntity loggedInPerson = new PersoanaEntity();\r\n                boolean isClose = false;\r\n\r\n                System.out.println(&quot;Server is running&quot;);\r\n                while (!isClose) {\r\n                    clientSocket = serverSocket.accept();\r\n                    new Thread(new ServerThread(clientSocket)).start();\r\n                }\r\n                serverSocket.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }).start();\r\n    }\r\n}\r\n````\r\n\r\nServerThread.java\r\n````\r\npackage socket;\r\n\r\nimport org.json.JSONObject;\r\n\r\nimport java.io.IOException;\r\nimport java.io.ObjectInputStream;\r\nimport java.io.ObjectOutputStream;\r\nimport java.net.Socket;\r\n\r\npublic class ServerThread extends Thread{\r\n    private Socket socket = null;\r\n    private ObjectInputStream in = null;\r\n    private ObjectOutputStream out = null;\r\n\r\n    public ServerThread(Socket socket) {\r\n        this.socket = socket;\r\n        try {\r\n            //For receiving and sending data\r\n            this.in = new ObjectInputStream(socket.getInputStream());\r\n            this.out = new ObjectOutputStream(socket.getOutputStream());\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public void run() {\r\n        try {\r\n            String recievedData = this.in.readObject().toString();\r\n            JSONObject jsonObject = new JSONObject(recievedData);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } catch (ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void sendMessage(String message) {\r\n        try {\r\n            this.out.writeObject(message);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n````\r\n\r\nLet&#39;s say I want to call sendMessage from other classes inside my project. Is there any way to do that?\r\n\r\nThanks!","title":"Sending data through sockets in Java from different locations in code","body":"<p>This is my first time using Sockets in any programming language (I'm not familiar with the subject at all) and I'm having a hard time understanding how to send data from different places of code.</p>\n<p>Okay I'm running a ServerSocket, and I want to send data from another place in my code rather than the ServerSockets class. How can I do that?</p>\n<p>Here's my code:</p>\n<p>Server.java</p>\n<pre><code>package socket;\n\nimport database.models.PersoanaEntity;\n\nimport java.io.IOException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\npublic class Server {\n    public static final int PORT = 27015;\n\n    public void start() {\n        new Thread(() -&gt; {\n            try {\n                ServerSocket serverSocket = new ServerSocket(PORT);\n                Socket clientSocket = null;\n                PersoanaEntity loggedInPerson = new PersoanaEntity();\n                boolean isClose = false;\n\n                System.out.println(&quot;Server is running&quot;);\n                while (!isClose) {\n                    clientSocket = serverSocket.accept();\n                    new Thread(new ServerThread(clientSocket)).start();\n                }\n                serverSocket.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }).start();\n    }\n}\n</code></pre>\n<p>ServerThread.java</p>\n<pre><code>package socket;\n\nimport org.json.JSONObject;\n\nimport java.io.IOException;\nimport java.io.ObjectInputStream;\nimport java.io.ObjectOutputStream;\nimport java.net.Socket;\n\npublic class ServerThread extends Thread{\n    private Socket socket = null;\n    private ObjectInputStream in = null;\n    private ObjectOutputStream out = null;\n\n    public ServerThread(Socket socket) {\n        this.socket = socket;\n        try {\n            //For receiving and sending data\n            this.in = new ObjectInputStream(socket.getInputStream());\n            this.out = new ObjectOutputStream(socket.getOutputStream());\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public void run() {\n        try {\n            String recievedData = this.in.readObject().toString();\n            JSONObject jsonObject = new JSONObject(recievedData);\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void sendMessage(String message) {\n        try {\n            this.out.writeObject(message);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Let's say I want to call sendMessage from other classes inside my project. Is there any way to do that?</p>\n<p>Thanks!</p>\n"},{"tags":["java","android","image","png"],"answers":[{"tags":[],"owner":{"account_id":16549589,"reputation":177,"user_id":11958275,"display_name":"Ghazanfar Ateeb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641208410,"creation_date":1641208410,"answer_id":70564921,"question_id":70563856,"body_markdown":"I faced the same problem I did this in the following way and I saved the copy of Image by creating an internal folder in the package as follows\r\n```\r\nFileOutputStream fos;\r\n                    // Create imageDir\r\n                    String FILENAME = new SimpleDateFormat(&quot;yyyy.MM.dd.HH.mm.ss&quot;).format(new Date()) + &quot;.jpeg&quot;;\r\n                    File f = new File(new ContextWrapper(getApplicationContext()).getDir(&quot;images&quot;, Context.MODE_PRIVATE), FILENAME);\r\n                    fos = new FileOutputStream(f);\r\n                    if (bitmap != null) {\r\n                        bitmap.compress(Bitmap.CompressFormat.JPEG, 100, fos);\r\n                    } else {\r\n                        Toast.makeText(AddProductActivity.this, &quot;Field should not be empty&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n                    }\r\n                    fos.close();\r\n```\r\nIn this way to create Uri you can use ```Uri.parse(f.getPath())```.\r\nIn this way, I didn&#39;t face any issues.\r\nExtra tip: Using Glide will help to load images relatively faster.\r\n\r\n    implementation &#39;com.github.bumptech.glide:glide:3.8.0&#39;\r\nJust add this into your Gradle (Module Level)","title":"sharing Png image as a file in android application","body":"<p>I faced the same problem I did this in the following way and I saved the copy of Image by creating an internal folder in the package as follows</p>\n<pre><code>FileOutputStream fos;\n                    // Create imageDir\n                    String FILENAME = new SimpleDateFormat(&quot;yyyy.MM.dd.HH.mm.ss&quot;).format(new Date()) + &quot;.jpeg&quot;;\n                    File f = new File(new ContextWrapper(getApplicationContext()).getDir(&quot;images&quot;, Context.MODE_PRIVATE), FILENAME);\n                    fos = new FileOutputStream(f);\n                    if (bitmap != null) {\n                        bitmap.compress(Bitmap.CompressFormat.JPEG, 100, fos);\n                    } else {\n                        Toast.makeText(AddProductActivity.this, &quot;Field should not be empty&quot;, Toast.LENGTH_SHORT).show();\n    \n                    }\n                    fos.close();\n</code></pre>\n<p>In this way to create Uri you can use <code>Uri.parse(f.getPath())</code>.\nIn this way, I didn't face any issues.\nExtra tip: Using Glide will help to load images relatively faster.</p>\n<pre><code>implementation 'com.github.bumptech.glide:glide:3.8.0'\n</code></pre>\n<p>Just add this into your Gradle (Module Level)</p>\n"}],"owner":{"account_id":1370622,"reputation":297,"user_id":1305925,"accept_rate":100,"display_name":"Saeedeh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":485,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641213740,"creation_date":1641202800,"question_id":70563856,"body_markdown":"using this function I try to share PNG file. But when it makes a PNG file and I share it through for example whatsUp application,  it changes it to jpg and make its background black. how can I share it in way that its transparency be saved? I try to remove the extension of file from \r\n\r\n      newFile = new File(cachePath, &quot;image.png&quot;);\r\n\r\nto \r\n\r\n      newFile = new File(cachePath, &quot;image&quot;);\r\n\r\nin this way its transparency is preserved. I send it whatsup and I can download it to pc and then change its extension to PNG again.\r\nis there any other way?\r\n        \r\n    public void shareImage(Bitmap bitmap) {\r\n                    \r\n              File f = new File(new ContextWrapper(getApplicationContext()).getDir(&quot;images&quot;, Context.MODE_PRIVATE),\r\n                 &quot;image.jpeg&quot;);\r\n        f.mkdir();\r\n        \r\n        \r\n        \r\n            try {\r\n                 FileOutputStream out = new FileOutputStream(newFile);\r\n            bitmap.compress(Bitmap.CompressFormat.JPEG, 100, out);\r\n        \r\n                out.flush();\r\n                out.close();\r\n        \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        \r\n          //  Uri contentUri = FileProvider.getUriForFile(this, &quot;activity.yyy.xxx.provider&quot;, newFile);\r\n                 Uri contentUri=    Uri.parse(f.getPath());\r\n\r\n            if (contentUri != null) {\r\n                Intent shareIntent = new Intent();\r\n                shareIntent.setAction(Intent.ACTION_SEND);\r\n                shareIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION); // temp permission for receiving app to read this file\r\n                shareIntent.setDataAndType(contentUri, getContentResolver().getType(contentUri));\r\n                shareIntent.putExtra(Intent.EXTRA_STREAM, contentUri);\r\n                shareIntent.setType(&quot;image/*&quot;);\r\n        \r\n                startActivity(Intent.createChooser(shareIntent, &quot;choose&quot;));\r\n        \r\n            }\r\n        \r\n        \r\n        }\r\n\r\nstacktrace:\r\n\r\n   \r\n\r\n     W/System.err: java.io.FileNotFoundException: /data/user/0/activity.yyy.xxx/app_nn_images/image.jpeg: open failed: EISDIR (Is a directory)\r\n            at libcore.io.IoBridge.open(IoBridge.java:496)\r\n    W/System.err:     at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:235)\r\n            at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:186)\r\n            at activity.yyy.xxx.EditImageActivity.shareImage(EditImageActivity.java:1389)\r\n            at activity.yyy.xxx.EditImageActivity$buttonClickAsync.doInBackground(EditImageActivity.java:1351)\r\n            at activity.yyy.xxx.EditImageActivity$buttonClickAsync.doInBackground(EditImageActivity.java:1332)\r\n            at android.os.AsyncTask$3.call(AsyncTask.java:378)\r\n            at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n            at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:289)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n            at java.lang.Thread.run(Thread.java:919)\r\n        Caused by: android.system.ErrnoException: open failed: EISDIR (Is a directory)\r\n            at libcore.io.Linux.open(Native Method)\r\n            at libcore.io.ForwardingOs.open(ForwardingOs.java:167)\r\n            at libcore.io.BlockGuardOs.open(BlockGuardOs.java:252)\r\n            at libcore.io.ForwardingOs.open(ForwardingOs.java:167)\r\n            at android.app.ActivityThread$AndroidOs.open(ActivityThread.java:7490)\r\n            at libcore.io.IoBridge.open(IoBridge.java:482)\r\n        \t... 11 more\r\n\r\n","title":"sharing Png image as a file in android application","body":"<p>using this function I try to share PNG file. But when it makes a PNG file and I share it through for example whatsUp application,  it changes it to jpg and make its background black. how can I share it in way that its transparency be saved? I try to remove the extension of file from</p>\n<pre><code>  newFile = new File(cachePath, &quot;image.png&quot;);\n</code></pre>\n<p>to</p>\n<pre><code>  newFile = new File(cachePath, &quot;image&quot;);\n</code></pre>\n<p>in this way its transparency is preserved. I send it whatsup and I can download it to pc and then change its extension to PNG again.\nis there any other way?</p>\n<pre><code>public void shareImage(Bitmap bitmap) {\n                \n          File f = new File(new ContextWrapper(getApplicationContext()).getDir(&quot;images&quot;, Context.MODE_PRIVATE),\n             &quot;image.jpeg&quot;);\n    f.mkdir();\n    \n    \n    \n        try {\n             FileOutputStream out = new FileOutputStream(newFile);\n        bitmap.compress(Bitmap.CompressFormat.JPEG, 100, out);\n    \n            out.flush();\n            out.close();\n    \n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    \n      //  Uri contentUri = FileProvider.getUriForFile(this, &quot;activity.yyy.xxx.provider&quot;, newFile);\n             Uri contentUri=    Uri.parse(f.getPath());\n\n        if (contentUri != null) {\n            Intent shareIntent = new Intent();\n            shareIntent.setAction(Intent.ACTION_SEND);\n            shareIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION); // temp permission for receiving app to read this file\n            shareIntent.setDataAndType(contentUri, getContentResolver().getType(contentUri));\n            shareIntent.putExtra(Intent.EXTRA_STREAM, contentUri);\n            shareIntent.setType(&quot;image/*&quot;);\n    \n            startActivity(Intent.createChooser(shareIntent, &quot;choose&quot;));\n    \n        }\n    \n    \n    }\n</code></pre>\n<p>stacktrace:</p>\n<pre><code> W/System.err: java.io.FileNotFoundException: /data/user/0/activity.yyy.xxx/app_nn_images/image.jpeg: open failed: EISDIR (Is a directory)\n        at libcore.io.IoBridge.open(IoBridge.java:496)\nW/System.err:     at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:235)\n        at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:186)\n        at activity.yyy.xxx.EditImageActivity.shareImage(EditImageActivity.java:1389)\n        at activity.yyy.xxx.EditImageActivity$buttonClickAsync.doInBackground(EditImageActivity.java:1351)\n        at activity.yyy.xxx.EditImageActivity$buttonClickAsync.doInBackground(EditImageActivity.java:1332)\n        at android.os.AsyncTask$3.call(AsyncTask.java:378)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:289)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at java.lang.Thread.run(Thread.java:919)\n    Caused by: android.system.ErrnoException: open failed: EISDIR (Is a directory)\n        at libcore.io.Linux.open(Native Method)\n        at libcore.io.ForwardingOs.open(ForwardingOs.java:167)\n        at libcore.io.BlockGuardOs.open(BlockGuardOs.java:252)\n        at libcore.io.ForwardingOs.open(ForwardingOs.java:167)\n        at android.app.ActivityThread$AndroidOs.open(ActivityThread.java:7490)\n        at libcore.io.IoBridge.open(IoBridge.java:482)\n        ... 11 more\n</code></pre>\n"},{"tags":["java","android","camera"],"answers":[{"tags":[],"owner":{"account_id":14023319,"reputation":78,"user_id":10139414,"display_name":"Frank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572363904,"creation_date":1572363904,"answer_id":58610860,"question_id":58610396,"body_markdown":"Have you implemented the permit request in the manifest? It is important to place them besides the code in run time:\r\n\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;","title":"Camera not working on first app run after install","body":"<p>Have you implemented the permit request in the manifest? It is important to place them besides the code in run time:</p>\n\n<pre><code>&lt;uses-feature android:name=\"android.hardware.camera\" /&gt;\n&lt;uses-permission android:name=\"android.permission.CAMERA\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9591600,"reputation":2173,"user_id":7122274,"display_name":"r2rek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572364605,"creation_date":1572364605,"answer_id":58611075,"question_id":58610396,"body_markdown":"It&#39;s simple. First time you&#39;re asking for the permission, but not reacting to user allowing it. The second time around, the permission is already granted. You need to implement onRequestPermissionResult as per the below documentation:\r\n\r\nhttps://developer.android.com/training/permissions/requesting#handle-response\r\n\r\nBasically, when user allows you to use camera, you need to `initQr()`","title":"Camera not working on first app run after install","body":"<p>It's simple. First time you're asking for the permission, but not reacting to user allowing it. The second time around, the permission is already granted. You need to implement onRequestPermissionResult as per the below documentation:</p>\n\n<p><a href=\"https://developer.android.com/training/permissions/requesting#handle-response\" rel=\"nofollow noreferrer\">https://developer.android.com/training/permissions/requesting#handle-response</a></p>\n\n<p>Basically, when user allows you to use camera, you need to <code>initQr()</code></p>\n"},{"tags":[],"owner":{"account_id":13136076,"reputation":288,"user_id":9489014,"display_name":"Manu Sisko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1572628879,"creation_date":1572628879,"answer_id":58663317,"question_id":58610396,"body_markdown":"The only solution ended up being to ask for the permissions in a separate activity.\r\nAs I wanted the camera activity to be the first, I had to implement a new blank activity, entirely for asking the permissions and then continuing to the camera activity.","title":"Camera not working on first app run after install","body":"<p>The only solution ended up being to ask for the permissions in a separate activity.\nAs I wanted the camera activity to be the first, I had to implement a new blank activity, entirely for asking the permissions and then continuing to the camera activity.</p>\n"},{"tags":[],"owner":{"account_id":14447918,"reputation":64,"user_id":10436446,"display_name":"Peter Malcovsky"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641213670,"creation_date":1641213670,"answer_id":70565945,"question_id":58610396,"body_markdown":"Wrestling with the same problem here. \r\nProblem is that `surfaceCreated` callback is not called again when you re-create scanner via `initQR()` after permissions dialog. So `cameraSource.start` is not invoked and you face black screen.\r\n\r\nSame problem occurs in other situations - e.g. when you connect phone to laptop via usb cable, security dialog pops up and cripples camera source as well.\r\n\r\nObservation - `onPause()` and `onResume()` are always invoked in these situations. Sometimes the scanner gets recovered (after flip, sleep), sometimes not. \r\n\r\nMy solution (hack) is to put delayed recovery logic to `onPause()` and `onResume()` methods:\r\n\r\n```\r\n@Override\r\nprotected void onPause() {\r\n\tsuper.onPause();\r\n\tcameraSource.release();\r\n\tcameraSourceStarted = false;\r\n}\r\n\r\n@Override\r\nprotected void onResume() {\r\n\tsuper.onResume();\r\n\tinitialiseDetectorsAndSources();\r\n\r\n\tfinal Handler handler = new Handler(Looper.getMainLooper());\r\n\thandler.postDelayed(new Runnable() {\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\tif (!cameraSourceStarted) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED) {\r\n\t\t\t\t\t\tcameraSource.start(surfaceView.getHolder());\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tActivityCompat.requestPermissions(MainActivity.this, new\r\n\t\t\t\t\t\t\t\tString[]{Manifest.permission.CAMERA}, REQUEST_CAMERA_PERMISSION);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}, 500);\r\n}\r\n\r\n```\r\nI also set my boolean variable `cameraSourceStarted = true` in the `surfaceCreated`, when cameraSource is started normally - so the recovery does nothing then. \r\n","title":"Camera not working on first app run after install","body":"<p>Wrestling with the same problem here.\nProblem is that <code>surfaceCreated</code> callback is not called again when you re-create scanner via <code>initQR()</code> after permissions dialog. So <code>cameraSource.start</code> is not invoked and you face black screen.</p>\n<p>Same problem occurs in other situations - e.g. when you connect phone to laptop via usb cable, security dialog pops up and cripples camera source as well.</p>\n<p>Observation - <code>onPause()</code> and <code>onResume()</code> are always invoked in these situations. Sometimes the scanner gets recovered (after flip, sleep), sometimes not.</p>\n<p>My solution (hack) is to put delayed recovery logic to <code>onPause()</code> and <code>onResume()</code> methods:</p>\n<pre><code>@Override\nprotected void onPause() {\n    super.onPause();\n    cameraSource.release();\n    cameraSourceStarted = false;\n}\n\n@Override\nprotected void onResume() {\n    super.onResume();\n    initialiseDetectorsAndSources();\n\n    final Handler handler = new Handler(Looper.getMainLooper());\n    handler.postDelayed(new Runnable() {\n        @Override\n        public void run() {\n            if (!cameraSourceStarted) {\n                try {\n                    if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED) {\n                        cameraSource.start(surfaceView.getHolder());\n                    } else {\n                        ActivityCompat.requestPermissions(MainActivity.this, new\n                                String[]{Manifest.permission.CAMERA}, REQUEST_CAMERA_PERMISSION);\n                    }\n\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }, 500);\n}\n\n</code></pre>\n<p>I also set my boolean variable <code>cameraSourceStarted = true</code> in the <code>surfaceCreated</code>, when cameraSource is started normally - so the recovery does nothing then.</p>\n"}],"owner":{"account_id":13136076,"reputation":288,"user_id":9489014,"display_name":"Manu Sisko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":739,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58663317,"answer_count":4,"score":1,"last_activity_date":1641213670,"creation_date":1572362365,"question_id":58610396,"body_markdown":"I&#39;ve implemented a simple QR Scanner code in my Android App. The code seems to work fine but for some reason, upon installation, the first time you open the app, the *CameraView* remains black. It is only after the second time I start the app that it works (after closing, *onResume* won&#39;t change anything)\r\n\r\nHere&#39;s my code:\r\n\r\n    private static Context context;\r\n\r\n    private CameraSource cameraSource;\r\n    private SurfaceView cameraView;\r\n    private final int MY_PERMISSIONS_REQUEST_CAMERA = 1;\r\n    private String token = &quot;&quot;;\r\n    private String tokenanterior = &quot;&quot;;\r\n    private static Activity mActivity;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        context = this;\r\n        mActivity = this;\r\n\r\n        // verifico si el usuario dio los permisos para la camara\r\n        if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.CAMERA)\r\n                != PackageManager.PERMISSION_GRANTED) {\r\n\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                // verificamos la version de ANdroid que sea al menos la M para mostrar\r\n                // el dialog de la solicitud de la camara\r\n                if (shouldShowRequestPermissionRationale(\r\n                        Manifest.permission.CAMERA)) ;\r\n                requestPermissions(new String[]{Manifest.permission.CAMERA},\r\n                        MY_PERMISSIONS_REQUEST_CAMERA);\r\n            }\r\n        }\r\n\r\n        cameraView = (SurfaceView) findViewById(R.id.camera_view);\r\n        initQR();\r\n        \r\n    }\r\n\r\n    public void initQR() {\r\n\r\n        // creo el detector qr\r\n        BarcodeDetector barcodeDetector =\r\n                new BarcodeDetector.Builder(this)\r\n                        .setBarcodeFormats(Barcode.ALL_FORMATS)\r\n                        .build();\r\n\r\n        // creo la camara\r\n        cameraSource = new CameraSource\r\n                .Builder(this, barcodeDetector)\r\n                .setRequestedPreviewSize(1600, 1024)\r\n                .setAutoFocusEnabled(true) //you should add this feature\r\n                .build();\r\n\r\n        // listener de ciclo de vida de la camara\r\n        cameraView.getHolder().addCallback(new SurfaceHolder.Callback() {\r\n            @Override\r\n            public void surfaceCreated(SurfaceHolder holder) {\r\n\r\n                // verifico si el usuario dio los permisos para la camara\r\n                if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.CAMERA)\r\n                        != PackageManager.PERMISSION_GRANTED) {\r\n\r\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                        // verificamos la version de ANdroid que sea al menos la M para mostrar\r\n                        // el dialog de la solicitud de la camara\r\n                        if (shouldShowRequestPermissionRationale(\r\n                                Manifest.permission.CAMERA)) ;\r\n                        requestPermissions(new String[]{Manifest.permission.CAMERA},\r\n                                MY_PERMISSIONS_REQUEST_CAMERA);\r\n                    }\r\n                    return;\r\n                }else {\r\n                    try {\r\n                        cameraSource.start(cameraView.getHolder());\r\n                    } catch (IOException ie) {\r\n                        Log.e(&quot;CAMERA SOURCE&quot;, ie.getMessage());\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void surfaceChanged(SurfaceHolder holder, int format, int width, int height) {\r\n            }\r\n\r\n            @Override\r\n            public void surfaceDestroyed(SurfaceHolder holder) {\r\n                cameraSource.stop();\r\n            }\r\n        });\r\n\r\n        // preparo el detector de QR\r\n        barcodeDetector.setProcessor(new Detector.Processor&lt;Barcode&gt;() {\r\n            @Override\r\n            public void release() {\r\n            }\r\n    }\r\n\r\n\r\nAny ideas?\r\n\r\nEDIT: Following @r2rek&#39;s answer, I implemented the *onRequestPermissionResult()* function in the class as follows:\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode,\r\n                                           String[] permissions, int[] grantResults) {\r\n        switch (requestCode) {\r\n            case MY_PERMISSIONS_REQUEST_CAMERA: {\r\n                // If request is cancelled, the result arrays are empty.\r\n                if (grantResults.length &gt; 0\r\n                        &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    // permission was granted, yay! Do the\r\n                    // contacts-related task you need to do.\r\n                    Log.i(&quot;Results:&quot;, &quot;HE GAVE EM&quot;);\r\n                    initQR();\r\n                } else {\r\n                    // permission denied, boo! Disable the\r\n                    // functionality that depends on this permission.\r\n                }\r\n                return;\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nBut this didn&#39;t not fix the issue, initQR gets executed twice (as I get asked for permission to film video and to take pictures). But still, on first install it won&#39;t properly show the camera stream on the SurfaceView.\r\n\r\n","title":"Camera not working on first app run after install","body":"<p>I've implemented a simple QR Scanner code in my Android App. The code seems to work fine but for some reason, upon installation, the first time you open the app, the <em>CameraView</em> remains black. It is only after the second time I start the app that it works (after closing, <em>onResume</em> won't change anything)</p>\n\n<p>Here's my code:</p>\n\n<pre><code>private static Context context;\n\nprivate CameraSource cameraSource;\nprivate SurfaceView cameraView;\nprivate final int MY_PERMISSIONS_REQUEST_CAMERA = 1;\nprivate String token = \"\";\nprivate String tokenanterior = \"\";\nprivate static Activity mActivity;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    context = this;\n    mActivity = this;\n\n    // verifico si el usuario dio los permisos para la camara\n    if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.CAMERA)\n            != PackageManager.PERMISSION_GRANTED) {\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            // verificamos la version de ANdroid que sea al menos la M para mostrar\n            // el dialog de la solicitud de la camara\n            if (shouldShowRequestPermissionRationale(\n                    Manifest.permission.CAMERA)) ;\n            requestPermissions(new String[]{Manifest.permission.CAMERA},\n                    MY_PERMISSIONS_REQUEST_CAMERA);\n        }\n    }\n\n    cameraView = (SurfaceView) findViewById(R.id.camera_view);\n    initQR();\n\n}\n\npublic void initQR() {\n\n    // creo el detector qr\n    BarcodeDetector barcodeDetector =\n            new BarcodeDetector.Builder(this)\n                    .setBarcodeFormats(Barcode.ALL_FORMATS)\n                    .build();\n\n    // creo la camara\n    cameraSource = new CameraSource\n            .Builder(this, barcodeDetector)\n            .setRequestedPreviewSize(1600, 1024)\n            .setAutoFocusEnabled(true) //you should add this feature\n            .build();\n\n    // listener de ciclo de vida de la camara\n    cameraView.getHolder().addCallback(new SurfaceHolder.Callback() {\n        @Override\n        public void surfaceCreated(SurfaceHolder holder) {\n\n            // verifico si el usuario dio los permisos para la camara\n            if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.CAMERA)\n                    != PackageManager.PERMISSION_GRANTED) {\n\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                    // verificamos la version de ANdroid que sea al menos la M para mostrar\n                    // el dialog de la solicitud de la camara\n                    if (shouldShowRequestPermissionRationale(\n                            Manifest.permission.CAMERA)) ;\n                    requestPermissions(new String[]{Manifest.permission.CAMERA},\n                            MY_PERMISSIONS_REQUEST_CAMERA);\n                }\n                return;\n            }else {\n                try {\n                    cameraSource.start(cameraView.getHolder());\n                } catch (IOException ie) {\n                    Log.e(\"CAMERA SOURCE\", ie.getMessage());\n                }\n            }\n        }\n\n        @Override\n        public void surfaceChanged(SurfaceHolder holder, int format, int width, int height) {\n        }\n\n        @Override\n        public void surfaceDestroyed(SurfaceHolder holder) {\n            cameraSource.stop();\n        }\n    });\n\n    // preparo el detector de QR\n    barcodeDetector.setProcessor(new Detector.Processor&lt;Barcode&gt;() {\n        @Override\n        public void release() {\n        }\n}\n</code></pre>\n\n<p>Any ideas?</p>\n\n<p>EDIT: Following @r2rek's answer, I implemented the <em>onRequestPermissionResult()</em> function in the class as follows:</p>\n\n<pre><code>@Override\npublic void onRequestPermissionsResult(int requestCode,\n                                       String[] permissions, int[] grantResults) {\n    switch (requestCode) {\n        case MY_PERMISSIONS_REQUEST_CAMERA: {\n            // If request is cancelled, the result arrays are empty.\n            if (grantResults.length &gt; 0\n                    &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                // permission was granted, yay! Do the\n                // contacts-related task you need to do.\n                Log.i(\"Results:\", \"HE GAVE EM\");\n                initQR();\n            } else {\n                // permission denied, boo! Disable the\n                // functionality that depends on this permission.\n            }\n            return;\n        }\n\n    }\n}\n</code></pre>\n\n<p>But this didn't not fix the issue, initQR gets executed twice (as I get asked for permission to film video and to take pictures). But still, on first install it won't properly show the camera stream on the SurfaceView.</p>\n"},{"tags":["java","optaplanner"],"answers":[{"tags":[],"owner":{"account_id":4777867,"reputation":360,"user_id":3860494,"accept_rate":60,"display_name":"Cromm"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641213561,"creation_date":1641213561,"answer_id":70565922,"question_id":70565582,"body_markdown":"This is due to an older version of spring dependency-management plugin used. \r\n\r\nEither upgrade the plugin to last version or add this to build.gradle :\r\n\r\n```ext[&#39;freemarker.version&#39;] = &#39;2.3.31&#39;```","title":"Optaplanner benchmark : NoSuchFieldError Exception (VERSION_2_3_31)","body":"<p>This is due to an older version of spring dependency-management plugin used.</p>\n<p>Either upgrade the plugin to last version or add this to build.gradle :</p>\n<p><code>ext['freemarker.version'] = '2.3.31'</code></p>\n"}],"owner":{"account_id":4777867,"reputation":360,"user_id":3860494,"accept_rate":60,"display_name":"Cromm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70565922,"answer_count":1,"score":0,"last_activity_date":1641213561,"creation_date":1641211804,"question_id":70565582,"body_markdown":"After calling the following code\r\n\r\n```\r\n@SpringBootTest(classes = MyApplication.class)\r\n@EnableConfigurationProperties({ApplicationProperties.class, MyRosterProperties.class})\r\npublic class SolverBenchmarkTest {\r\n\r\n    private PlannerBenchmarkFactory benchmarkFactory = PlannerBenchmarkFactory.createFromXmlResource(\r\n            &quot;myrostering/benchmark/benchmarkSolverConfig.xml&quot;);\r\n\r\n    @Autowired\r\n    MyRosterGenerator myRosterGenerator;\r\n\r\n    @Test\r\n    public void benchmarkBasicRostering() {\r\n        MyRoster mr = myRosterGenerator.createMyRoster();\r\n        PlannerBenchmark benchmark = benchmarkFactory.buildPlannerBenchmark(mr);\r\n        benchmark.benchmarkAndShowReportInBrowser();    \r\n    }\r\n\r\n}\r\n```\r\n\r\nWhen the termination is being hit (600 seconds), the following error occurs :\r\n \r\n```\r\nVERSION_2_3_31\r\njava.lang.NoSuchFieldError: VERSION_2_3_31\r\n\tat org.optaplanner.benchmark.impl.report.BenchmarkReport.writeHtmlOverviewFile(BenchmarkReport.java:828)\r\n\tat org.optaplanner.benchmark.impl.report.BenchmarkReport.writeReport(BenchmarkReport.java:318)\r\n\tat org.optaplanner.benchmark.impl.DefaultPlannerBenchmark.benchmarkingEnded(DefaultPlannerBenchmark.java:311)\r\n\tat org.optaplanner.benchmark.impl.DefaultPlannerBenchmark.benchmark(DefaultPlannerBenchmark.java:100)\r\n\tat org.optaplanner.benchmark.impl.DefaultPlannerBenchmark.benchmarkAndShowReportInBrowser(DefaultPlannerBenchmark.java:424)\r\n\tat solver.SolverBenchmarkTest.benchmarkBasicPharmacyRostering(SolverBenchmarkTest.java:35)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:532)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:171)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:167)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:114)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:59)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:108)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:248)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$5(DefaultLauncher.java:211)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:226)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:199)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:132)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat com.sun.proxy.$Proxy2.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:133)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\tat java.base/java.lang.Thread.run(Thread.java:832)\r\n\r\n```\r\n\r\nAnd indeed the BenchmarkReport.java contains the following line (828) - which is marked as &quot;cannot resolved&quot; for the field &quot;VERSION_2_3_31&quot; :\r\n\r\n```\r\nConfiguration freemarkerCfg = new Configuration(Configuration.VERSION_2_3_31);\r\n```\r\n\r\nOptaplanner version used: 8.14.0.Final\r\n\r\nThe freemarker dependency used by Optaplanner seems to be 2.3.28... Which would explain the error.  Any workaround until this issue is resolved ?","title":"Optaplanner benchmark : NoSuchFieldError Exception (VERSION_2_3_31)","body":"<p>After calling the following code</p>\n<pre><code>@SpringBootTest(classes = MyApplication.class)\n@EnableConfigurationProperties({ApplicationProperties.class, MyRosterProperties.class})\npublic class SolverBenchmarkTest {\n\n    private PlannerBenchmarkFactory benchmarkFactory = PlannerBenchmarkFactory.createFromXmlResource(\n            &quot;myrostering/benchmark/benchmarkSolverConfig.xml&quot;);\n\n    @Autowired\n    MyRosterGenerator myRosterGenerator;\n\n    @Test\n    public void benchmarkBasicRostering() {\n        MyRoster mr = myRosterGenerator.createMyRoster();\n        PlannerBenchmark benchmark = benchmarkFactory.buildPlannerBenchmark(mr);\n        benchmark.benchmarkAndShowReportInBrowser();    \n    }\n\n}\n</code></pre>\n<p>When the termination is being hit (600 seconds), the following error occurs :</p>\n<pre><code>VERSION_2_3_31\njava.lang.NoSuchFieldError: VERSION_2_3_31\n    at org.optaplanner.benchmark.impl.report.BenchmarkReport.writeHtmlOverviewFile(BenchmarkReport.java:828)\n    at org.optaplanner.benchmark.impl.report.BenchmarkReport.writeReport(BenchmarkReport.java:318)\n    at org.optaplanner.benchmark.impl.DefaultPlannerBenchmark.benchmarkingEnded(DefaultPlannerBenchmark.java:311)\n    at org.optaplanner.benchmark.impl.DefaultPlannerBenchmark.benchmark(DefaultPlannerBenchmark.java:100)\n    at org.optaplanner.benchmark.impl.DefaultPlannerBenchmark.benchmarkAndShowReportInBrowser(DefaultPlannerBenchmark.java:424)\n    at solver.SolverBenchmarkTest.benchmarkBasicPharmacyRostering(SolverBenchmarkTest.java:35)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:532)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:171)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:167)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:114)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:59)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:108)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:248)\n    at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$5(DefaultLauncher.java:211)\n    at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:226)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:199)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:132)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy2.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:133)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\n    at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n    at java.base/java.lang.Thread.run(Thread.java:832)\n\n</code></pre>\n<p>And indeed the BenchmarkReport.java contains the following line (828) - which is marked as &quot;cannot resolved&quot; for the field &quot;VERSION_2_3_31&quot; :</p>\n<pre><code>Configuration freemarkerCfg = new Configuration(Configuration.VERSION_2_3_31);\n</code></pre>\n<p>Optaplanner version used: 8.14.0.Final</p>\n<p>The freemarker dependency used by Optaplanner seems to be 2.3.28... Which would explain the error.  Any workaround until this issue is resolved ?</p>\n"},{"tags":["java","bytecode","classnotfoundexception"],"owner":{"account_id":23813985,"reputation":11,"user_id":17822476,"display_name":"tomsaywerhu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":500,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641213186,"creation_date":1641213186,"question_id":70565838,"body_markdown":"here is my question:\r\nI have a maven project and already have it packaged,it provides some api on modifying java bytecode(using asm).\r\nHowever,when I added it to another gradle project&#39;s dependency,it went wrong.\r\nit says:\r\n\r\n&gt; Caused by: java.lang.ClassNotFoundException:\r\n&gt; com.sun.xml.internal.ws.org.objectweb.asm.ClassVisitor\r\n&gt; PluginClassLoader(plugin=PluginDescriptor(name=Jacoconut,\r\n&gt; id=org.njuse.testPlugin, descriptorPath=plugin.xml,\r\n&gt; path=~\\Desktop\\testPlugin\\build\\idea-sandbox\\plugins\\testPlugin,\r\n&gt; version=1.0-SNAPSHOT, package=null), packagePrefix=null,\r\n&gt; instanceId=61, state=active)\r\n\r\nThe target gradle project intends to develop a intellij plugin, concerning code coverage.\r\nbuild.gradle looks like this:\r\n\r\n    plugins {\r\n        id &#39;org.jetbrains.intellij&#39; version &#39;1.3.0&#39;\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    group &#39;org.njuse&#39;\r\n    version &#39;1.0-SNAPSHOT&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation group: &#39;com.github.javaparser&#39;, name: &#39;javaparser-core&#39;, version: &#39;3.23.1&#39;\r\n        implementation group: &#39;org.apache.maven.shared&#39;, name:&#39;maven-verifier&#39;,version: &#39;1.6&#39;\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.2&#39;\r\n        testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.2&#39;\r\n    \r\n        implementation fileTree(dir: &#39;lib&#39;,includes: [&#39;*.jar&#39;])\r\n    }\r\n    \r\n    // See https://github.com/JetBrains/gradle-intellij-plugin/\r\n    intellij {\r\n        version = &#39;2021.2.2&#39;\r\n        plugins=[&#39;java&#39;]\r\n    \r\n    }\r\n    patchPluginXml {\r\n        changeNotes = &quot;&quot;&quot;\r\n          Add change notes here.&lt;br&gt;\r\n          &lt;em&gt;most HTML tags may be used&lt;/em&gt;&quot;&quot;&quot;\r\n    }\r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n    \r\n    tasks.withType(JavaCompile){\r\n        options.encoding=&quot;UTF-8&quot;\r\n    }\r\n    \r\n    jar {\r\n        enabled = true\r\n    }\r\n\r\nand pom.xml looks like this\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jacoconut&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n            &lt;asm.version&gt;9.2&lt;/asm.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                        &lt;compilerArguments&gt;\r\n                            &lt;bootclasspath&gt;${JAVA_HOME}/jre/lib/rt.jar&lt;/bootclasspath&gt;\r\n                        &lt;/compilerArguments&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.ow2.asm/asm --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\r\n                &lt;artifactId&gt;asm&lt;/artifactId&gt;\r\n                &lt;version&gt;${asm.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.ow2.asm/asm-commons --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\r\n                &lt;artifactId&gt;asm-commons&lt;/artifactId&gt;\r\n                &lt;version&gt;${asm.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.ow2.asm/asm-util --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\r\n                &lt;artifactId&gt;asm-util&lt;/artifactId&gt;\r\n                &lt;version&gt;${asm.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.ow2.asm/asm-tree --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\r\n                &lt;artifactId&gt;asm-tree&lt;/artifactId&gt;\r\n                &lt;version&gt;${asm.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.ow2.asm/asm-analysis --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\r\n                &lt;artifactId&gt;asm-analysis&lt;/artifactId&gt;\r\n                &lt;version&gt;${asm.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.17&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n                &lt;artifactId&gt;rt&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"Caused by: java.lang.ClassNotFoundException: com.sun.xml.internal.ws.org.objectweb.asm.ClassVisitor","body":"<p>here is my question:\nI have a maven project and already have it packaged,it provides some api on modifying java bytecode(using asm).\nHowever,when I added it to another gradle project's dependency,it went wrong.\nit says:</p>\n<blockquote>\n<p>Caused by: java.lang.ClassNotFoundException:\ncom.sun.xml.internal.ws.org.objectweb.asm.ClassVisitor\nPluginClassLoader(plugin=PluginDescriptor(name=Jacoconut,\nid=org.njuse.testPlugin, descriptorPath=plugin.xml,\npath=~\\Desktop\\testPlugin\\build\\idea-sandbox\\plugins\\testPlugin,\nversion=1.0-SNAPSHOT, package=null), packagePrefix=null,\ninstanceId=61, state=active)</p>\n</blockquote>\n<p>The target gradle project intends to develop a intellij plugin, concerning code coverage.\nbuild.gradle looks like this:</p>\n<pre><code>plugins {\n    id 'org.jetbrains.intellij' version '1.3.0'\n    id 'java'\n}\n\ngroup 'org.njuse'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation group: 'com.github.javaparser', name: 'javaparser-core', version: '3.23.1'\n    implementation group: 'org.apache.maven.shared', name:'maven-verifier',version: '1.6'\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.2'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.2'\n\n    implementation fileTree(dir: 'lib',includes: ['*.jar'])\n}\n\n// See https://github.com/JetBrains/gradle-intellij-plugin/\nintellij {\n    version = '2021.2.2'\n    plugins=['java']\n\n}\npatchPluginXml {\n    changeNotes = &quot;&quot;&quot;\n      Add change notes here.&lt;br&gt;\n      &lt;em&gt;most HTML tags may be used&lt;/em&gt;&quot;&quot;&quot;\n}\ntest {\n    useJUnitPlatform()\n}\n\ntasks.withType(JavaCompile){\n    options.encoding=&quot;UTF-8&quot;\n}\n\njar {\n    enabled = true\n}\n</code></pre>\n<p>and pom.xml looks like this</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoconut&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n        &lt;asm.version&gt;9.2&lt;/asm.version&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;compilerArguments&gt;\n                        &lt;bootclasspath&gt;${JAVA_HOME}/jre/lib/rt.jar&lt;/bootclasspath&gt;\n                    &lt;/compilerArguments&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.ow2.asm/asm --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\n            &lt;artifactId&gt;asm&lt;/artifactId&gt;\n            &lt;version&gt;${asm.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.ow2.asm/asm-commons --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\n            &lt;artifactId&gt;asm-commons&lt;/artifactId&gt;\n            &lt;version&gt;${asm.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.ow2.asm/asm-util --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\n            &lt;artifactId&gt;asm-util&lt;/artifactId&gt;\n            &lt;version&gt;${asm.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.ow2.asm/asm-tree --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\n            &lt;artifactId&gt;asm-tree&lt;/artifactId&gt;\n            &lt;version&gt;${asm.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.ow2.asm/asm-analysis --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\n            &lt;artifactId&gt;asm-analysis&lt;/artifactId&gt;\n            &lt;version&gt;${asm.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;rt&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","appium","appium-ios","anyline"],"answers":[{"tags":[],"owner":{"account_id":21520453,"reputation":56,"user_id":15861672,"display_name":"Lukas Windner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641213135,"creation_date":1641213135,"answer_id":70565831,"question_id":70463337,"body_markdown":"The iOS bug you mentioned has been fixed in Appium 1.22.1 and 2.0.0-beta. Be sure you are running one of those versions and you should be fine.","title":"WebDriverException when clicking the OK button on a Anyline dialog","body":"<p>The iOS bug you mentioned has been fixed in Appium 1.22.1 and 2.0.0-beta. Be sure you are running one of those versions and you should be fine.</p>\n"}],"owner":{"account_id":18106035,"reputation":395,"user_id":13163366,"display_name":"Schmebi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70565831,"answer_count":1,"score":0,"last_activity_date":1641213135,"creation_date":1640268980,"question_id":70463337,"body_markdown":"So all I want to do is clicking on dialog that only pops up on the iOS Simulator (iOS 14.5, Appium Java-Client 7.3.0).\r\n\r\nThe dialog comes from Anyline because of course I have no camera on the simulator.\r\nIf there is any way to hide this dialog it would solve my problem too, I tried this with capabilities but it doesn&#39;t worked.\r\n\r\n    cap.setCapability(&quot;autoAcceptAlerts&quot;, false);\r\n    cap.setCapability(&quot;autoDismissAlerts&quot;, false);\r\n\r\nSelecting the dialog is no problem, i can check that the Dialog is here:\r\n\r\n    @iOSXCUITFindBy(accessibility = &quot;Anyline SDK cutout UI&quot;)\r\n    public IOSElement anylineDialog;\r\n\r\nThis is how it looks like:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo the next step would be to just click the ok button it worked at the beginning but now I can&#39;t even select it in the Appium Inspector anymore. Before I just used this:\r\n\r\n    @iOSXCUITFindBy(accessibility = &quot;OK&quot;)\r\n    public IOSElement okButton;\r\n\r\nI don&#39;t know why it doens&#39;t work anymore, but I can still select it with the help of TestProject.\r\nI tested a lot of different selectors but it doesn&#39;t worked. (the one with accessibility = &quot;OK&quot; is also recommended in this tool)\r\n\r\nI always get this exception and I don&#39;t know how to fix it, try catch also doesn&#39;t work:\r\n\r\n    org.openqa.selenium.WebDriverException: An unknown server-side error occurred while processing the command. Original error: *** -[__NSArrayM insertObject:atIndex:]: object cannot be nil\r\n\r\nI tried out the stuff [on this page][2] and I also get the OK button as the only button as this code snippet shows.\r\n\r\n    HashMap&lt;String, String&gt; args = new HashMap&lt;&gt;();\r\n    args.put(&quot;action&quot;, &quot;getButtons&quot;);\r\n    List&lt;String&gt; buttons = (List&lt;String&gt;)driver.executeScript(&quot;mobile: alert&quot;, args);\r\n\r\nAlso from the same site, I tried this with the same result.\r\n\r\n    args.put(&quot;action&quot;, &quot;accept&quot;);\r\n    args.put(&quot;buttonLabel&quot;, &quot;OK&quot;);\r\n    driver.executeScript(&quot;mobile: alert&quot;, args);\r\n\r\nMaybe this is to specific but if someone has an idea how I could solve it, I would be very thankful.\r\n\r\n  [1]: https://i.stack.imgur.com/949mM.png\r\n  [2]: https://appiumpro.com/editions/31-automating-custom-alert-buttons-on-ios","title":"WebDriverException when clicking the OK button on a Anyline dialog","body":"<p>So all I want to do is clicking on dialog that only pops up on the iOS Simulator (iOS 14.5, Appium Java-Client 7.3.0).</p>\n<p>The dialog comes from Anyline because of course I have no camera on the simulator.\nIf there is any way to hide this dialog it would solve my problem too, I tried this with capabilities but it doesn't worked.</p>\n<pre><code>cap.setCapability(&quot;autoAcceptAlerts&quot;, false);\ncap.setCapability(&quot;autoDismissAlerts&quot;, false);\n</code></pre>\n<p>Selecting the dialog is no problem, i can check that the Dialog is here:</p>\n<pre><code>@iOSXCUITFindBy(accessibility = &quot;Anyline SDK cutout UI&quot;)\npublic IOSElement anylineDialog;\n</code></pre>\n<p>This is how it looks like:</p>\n<p><a href=\"https://i.stack.imgur.com/949mM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/949mM.png\" alt=\"enter image description here\" /></a></p>\n<p>So the next step would be to just click the ok button it worked at the beginning but now I can't even select it in the Appium Inspector anymore. Before I just used this:</p>\n<pre><code>@iOSXCUITFindBy(accessibility = &quot;OK&quot;)\npublic IOSElement okButton;\n</code></pre>\n<p>I don't know why it doens't work anymore, but I can still select it with the help of TestProject.\nI tested a lot of different selectors but it doesn't worked. (the one with accessibility = &quot;OK&quot; is also recommended in this tool)</p>\n<p>I always get this exception and I don't know how to fix it, try catch also doesn't work:</p>\n<pre><code>org.openqa.selenium.WebDriverException: An unknown server-side error occurred while processing the command. Original error: *** -[__NSArrayM insertObject:atIndex:]: object cannot be nil\n</code></pre>\n<p>I tried out the stuff <a href=\"https://appiumpro.com/editions/31-automating-custom-alert-buttons-on-ios\" rel=\"nofollow noreferrer\">on this page</a> and I also get the OK button as the only button as this code snippet shows.</p>\n<pre><code>HashMap&lt;String, String&gt; args = new HashMap&lt;&gt;();\nargs.put(&quot;action&quot;, &quot;getButtons&quot;);\nList&lt;String&gt; buttons = (List&lt;String&gt;)driver.executeScript(&quot;mobile: alert&quot;, args);\n</code></pre>\n<p>Also from the same site, I tried this with the same result.</p>\n<pre><code>args.put(&quot;action&quot;, &quot;accept&quot;);\nargs.put(&quot;buttonLabel&quot;, &quot;OK&quot;);\ndriver.executeScript(&quot;mobile: alert&quot;, args);\n</code></pre>\n<p>Maybe this is to specific but if someone has an idea how I could solve it, I would be very thankful.</p>\n"},{"tags":["java","youtube-api","youtube-data-api","google-oauth"],"answers":[{"tags":[],"owner":{"account_id":18365288,"reputation":9,"user_id":13376477,"display_name":"Jerson Viveros"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587517398,"creation_date":1587517398,"answer_id":61355649,"question_id":38282778,"body_markdown":"I found a workaround:\r\nI authenticated locally, generated the token and copy the file to the server, and it works, although not sure if the refresh process it will work.","title":"GoogleOAuth redirect URL, LocalServerReceiver port number","body":"<p>I found a workaround:\nI authenticated locally, generated the token and copy the file to the server, and it works, although not sure if the refresh process it will work.</p>\n"},{"tags":[],"owner":{"account_id":4425071,"reputation":307,"user_id":3603757,"display_name":"adoalonso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641213053,"creation_date":1641213053,"answer_id":70565823,"question_id":38282778,"body_markdown":"Have you tried using setHost? \r\n\r\n    new LocalServerReceiver.Builder().setHost(&quot;myelasticbeanch.com&quot;).setPort(15555).build();","title":"GoogleOAuth redirect URL, LocalServerReceiver port number","body":"<p>Have you tried using setHost?</p>\n<pre><code>new LocalServerReceiver.Builder().setHost(&quot;myelasticbeanch.com&quot;).setPort(15555).build();\n</code></pre>\n"}],"owner":{"account_id":296410,"reputation":4650,"user_id":601357,"accept_rate":58,"display_name":"samsamara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1643,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1641213053,"creation_date":1468074086,"question_id":38282778,"body_markdown":"I have a java based web app which downloads youtube comments for a given video. It works all fine locally but when i deploy it to amazon clound stated giving me all the erros in the authentication process due to callback url issues.\r\n\r\n\r\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n                HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, scopes).setCredentialDataStore(datastore)\r\n                .build();\r\n        \r\n        // Build the local server and bind it to port xxxxx\r\n        LocalServerReceiver localReceiver = new LocalServerReceiver.Builder().setPort( 15555 ).build(); \r\n        // Authorize.\r\n        Credential credential = new AuthorizationCodeInstalledApp(flow, localReceiver).authorize(&quot;user&quot;);\r\n       );\r\n        return credential;\r\n\r\nAbove   code snippet was taken from the youtube dev website. \r\n\r\nMy question is since the `localReciver` which gets the access token from the youtube, runs on port 15555, there&#39;s no way`localReceiver` is gonna get the response from youtube as only port 80 acessible from outside given my site is on amazon cloud..right?\r\n\r\nSo in other words if i had my redirect_uri as `redirect_uri=http://mysite.elasticbeanstalk.com:15555/Callback&amp;response_type=code&amp;scope=https://www.googleapis.com/auth/youtube.force-ssl\r\n`, is not going to work since it&#39;s on port 15555. I&#39;m trying to wrap my head over this to find a solutin. How do you do this? \r\n","title":"GoogleOAuth redirect URL, LocalServerReceiver port number","body":"<p>I have a java based web app which downloads youtube comments for a given video. It works all fine locally but when i deploy it to amazon clound stated giving me all the erros in the authentication process due to callback url issues.</p>\n\n<pre><code>    GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n            HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, scopes).setCredentialDataStore(datastore)\n            .build();\n\n    // Build the local server and bind it to port xxxxx\n    LocalServerReceiver localReceiver = new LocalServerReceiver.Builder().setPort( 15555 ).build(); \n    // Authorize.\n    Credential credential = new AuthorizationCodeInstalledApp(flow, localReceiver).authorize(\"user\");\n   );\n    return credential;\n</code></pre>\n\n<p>Above   code snippet was taken from the youtube dev website. </p>\n\n<p>My question is since the <code>localReciver</code> which gets the access token from the youtube, runs on port 15555, there's no way<code>localReceiver</code> is gonna get the response from youtube as only port 80 acessible from outside given my site is on amazon cloud..right?</p>\n\n<p>So in other words if i had my redirect_uri as <code>redirect_uri=http://mysite.elasticbeanstalk.com:15555/Callback&amp;response_type=code&amp;scope=https://www.googleapis.com/auth/youtube.force-ssl\n</code>, is not going to work since it's on port 15555. I'm trying to wrap my head over this to find a solutin. How do you do this? </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1641206171,"post_id":70564447,"comment_id":124738762,"body_markdown":"Which &quot;linked list&quot; are you talking about? What is the purpose of your `courseList` class? It makes no sense.","body":"Which &quot;linked list&quot; are you talking about? What is the purpose of your <code>courseList</code> class? It makes no sense."},{"owner":{"account_id":23524305,"reputation":1,"user_id":17571046,"display_name":"YouQuan2007"},"score":0,"creation_date":1641206540,"post_id":70564447,"comment_id":124738873,"body_markdown":"the &quot;linked list&quot; is provided as above, its purpose is to allow the students to search for a particular course in the registration system, and the purpose of the courseList class is to get the name of the courses...and then for the interface you can see the image description,it is okay i will try to work on it first","body":"the &quot;linked list&quot; is provided as above, its purpose is to allow the students to search for a particular course in the registration system, and the purpose of the courseList class is to get the name of the courses...and then for the interface you can see the image description,it is okay i will try to work on it first"}],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641206386,"creation_date":1641206386,"answer_id":70564524,"question_id":70564447,"body_markdown":"First I would suggest that you follow Java naming conventions (Class names are capitalized).\r\n\r\nA fxml file is used only to display the data and is more or less static. The controller that you appoint to this `Stage` (fxml) is responsible for DB calls or other changes.\r\n\r\nWhat you are trying to do is display the data from your DB on your UI and it is pretty straightforward.\r\n\r\nFirst start by implementing a class that takes care of your DB calls. It should contain (at least) two functions. One to fetch all courses that returns a `List&lt;Course&gt;` so that you can use directly that on your UI. And another one that fetches courses based on a `keyword` that a user gives.\r\n\r\nAt the moment that your stage is initialized in your controller you should fetch all your courses and display them like this:\r\n\r\n```java\r\n@FXML\r\npublic void initialize()\r\n{\r\n    YourDatabaseHandler dbHandler = new YourDatabaseHandler();\r\n\t\r\n\tList&lt;Course&gt; courses = dbHandler.getAllCourses();\r\n\t\r\n\tlistViewOfCourses.getItems().addAll(courses); // ListViewOfCourses should be the listview that you have on your fxml file or controller.\r\n}\r\n```\r\n\r\nThen you should add a listener to your search button. Every time the button is clicke, you fetch the filtered content from your DB through the keyword. Here is an example:\r\n\r\n```java\r\n@FXML\r\npublic void onSearchButtonClicked()// Here either ActionEvent or ClickEvent\r\n{\r\n    YourDatabaseHandler dbHandler = new YourDatabaseHandler();\r\n    String keyword = yourTextField.getText(); // yourTextField should be the search text field\r\n\t\r\n\tList&lt;Course&gt; courses = dbHandler.getFilteredCourses(keyword);\r\n\t\r\n    listViewOfCourses.getItems().clear(); // Remove already added courses\r\n\tlistViewOfCourses.getItems().addAll(courses); // ListViewOfCourses should be the listview that you have on your fxml file or controller.\r\n}\r\n```\r\n\r\n","title":"How to display the list of courses in this interface?","body":"<p>First I would suggest that you follow Java naming conventions (Class names are capitalized).</p>\n<p>A fxml file is used only to display the data and is more or less static. The controller that you appoint to this <code>Stage</code> (fxml) is responsible for DB calls or other changes.</p>\n<p>What you are trying to do is display the data from your DB on your UI and it is pretty straightforward.</p>\n<p>First start by implementing a class that takes care of your DB calls. It should contain (at least) two functions. One to fetch all courses that returns a <code>List&lt;Course&gt;</code> so that you can use directly that on your UI. And another one that fetches courses based on a <code>keyword</code> that a user gives.</p>\n<p>At the moment that your stage is initialized in your controller you should fetch all your courses and display them like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FXML\npublic void initialize()\n{\n    YourDatabaseHandler dbHandler = new YourDatabaseHandler();\n    \n    List&lt;Course&gt; courses = dbHandler.getAllCourses();\n    \n    listViewOfCourses.getItems().addAll(courses); // ListViewOfCourses should be the listview that you have on your fxml file or controller.\n}\n</code></pre>\n<p>Then you should add a listener to your search button. Every time the button is clicke, you fetch the filtered content from your DB through the keyword. Here is an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FXML\npublic void onSearchButtonClicked()// Here either ActionEvent or ClickEvent\n{\n    YourDatabaseHandler dbHandler = new YourDatabaseHandler();\n    String keyword = yourTextField.getText(); // yourTextField should be the search text field\n    \n    List&lt;Course&gt; courses = dbHandler.getFilteredCourses(keyword);\n    \n    listViewOfCourses.getItems().clear(); // Remove already added courses\n    listViewOfCourses.getItems().addAll(courses); // ListViewOfCourses should be the listview that you have on your fxml file or controller.\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user15660680"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641212866,"creation_date":1641212866,"answer_id":70565794,"question_id":70564447,"body_markdown":"One more thing you can do just use a SQL quarry\r\n````\r\nSELECT * FROM courses WHERE Course_name LIKE search_keyward%\r\n````\r\nAnd show the selected data in recycelview.","title":"How to display the list of courses in this interface?","body":"<p>One more thing you can do just use a SQL quarry</p>\n<pre><code>SELECT * FROM courses WHERE Course_name LIKE search_keyward%\n</code></pre>\n<p>And show the selected data in recycelview.</p>\n"}],"owner":{"account_id":23524305,"reputation":1,"user_id":17571046,"display_name":"YouQuan2007"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":70564524,"answer_count":2,"score":-4,"last_activity_date":1641212866,"creation_date":1641205936,"question_id":70564447,"body_markdown":"I am currently developing a Java application that allows student to register for courses.\r\nI wanna ask that how should I display the list of courses in the following interface?\r\nShould I connect the fxml file with my database?\r\nAnd also I wish to use linked list to allow the students in searching the courses,may i ask how to do it? shall i also connect the database with the linked list?If yes, how should I connect?\r\n\r\nThe code of linked list is given as below:\r\n\r\n    import java.util.*;\r\n    public class searchCourseTesting\r\n    { \r\n        public static void main( String [] args ) \r\n        { \r\n            List&lt;courseList&gt; list = Arrays.asList\r\n            (\r\n        try\r\n            {\r\n                Class.forName(&quot;oracle.jdbc.OracleDriver&quot;);\r\n                Connection conn=DriverManager.getConnection(&quot;jdbc:oracle:thin:@localhost:1521:XE&quot;,&quot;SYSTEM&quot;,&quot;12345&quot;);\r\n                Statement stmt= conn.createStatement();\r\n                ResultSet rs=stmt.executeQuery(&quot;select STUDENT_NAME from STUDENT where STUDENT_YEAR_ENROLLED=2019&quot;);\r\n                while(rs.next())\r\n                {\r\n                    System.out.println(rs.getString(1));\r\n                }\r\n                conn.close();\r\n            }\r\n            catch(Exception e)\r\n            {\r\n                System.out.println(e);\r\n            }\r\n        }\r\n            );\r\n    \r\n            List&lt;courseList&gt; result = searchIn\r\n            ( list, \r\n                new Matcher&lt;courseList&gt;() \r\n                { \r\n                    public boolean matches( courseList c ) \r\n                    { \r\n                        return c.getCourse().toLowerCase().contains(&quot;of&quot;.toLowerCase());\r\n                    }\r\n                }\r\n            );\r\n    \r\n          System.out.println( result );\r\n        }\r\n    \r\n        public static &lt;T&gt; List&lt;T&gt; searchIn( List&lt;T&gt; list , Matcher&lt;T&gt; m ) \r\n        { \r\n            List&lt;T&gt; r = new ArrayList&lt;T&gt;();\r\n            for( T t : list ) \r\n            { \r\n                if( m.matches( t ) ) \r\n                { \r\n                    r.add( t );\r\n                }\r\n            }\r\n            return r;\r\n        }\r\n    }\r\n    \r\n    class courseList \r\n    { \r\n        String course;\r\n    \r\n        String getCourse()\r\n        { \r\n            return course;\r\n        }\r\n    \r\n        static courseList add( String course ) \r\n        { \r\n            courseList c = new courseList();\r\n            c.course = course;\r\n            return c;\r\n        }\r\n        public String toString() \r\n        { \r\n            return String.format(&quot;%s&quot;, course);\r\n            //String = String.replaceAll(&quot;, $&quot;, &quot;&quot;);\r\n        }    \r\n    }\r\n    \r\n    interface Matcher&lt;T&gt; \r\n    { \r\n        public boolean matches( T t );\r\n    }\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0gILW.png","title":"How to display the list of courses in this interface?","body":"<p>I am currently developing a Java application that allows student to register for courses.\nI wanna ask that how should I display the list of courses in the following interface?\nShould I connect the fxml file with my database?\nAnd also I wish to use linked list to allow the students in searching the courses,may i ask how to do it? shall i also connect the database with the linked list?If yes, how should I connect?</p>\n<p>The code of linked list is given as below:</p>\n<pre><code>import java.util.*;\npublic class searchCourseTesting\n{ \n    public static void main( String [] args ) \n    { \n        List&lt;courseList&gt; list = Arrays.asList\n        (\n    try\n        {\n            Class.forName(&quot;oracle.jdbc.OracleDriver&quot;);\n            Connection conn=DriverManager.getConnection(&quot;jdbc:oracle:thin:@localhost:1521:XE&quot;,&quot;SYSTEM&quot;,&quot;12345&quot;);\n            Statement stmt= conn.createStatement();\n            ResultSet rs=stmt.executeQuery(&quot;select STUDENT_NAME from STUDENT where STUDENT_YEAR_ENROLLED=2019&quot;);\n            while(rs.next())\n            {\n                System.out.println(rs.getString(1));\n            }\n            conn.close();\n        }\n        catch(Exception e)\n        {\n            System.out.println(e);\n        }\n    }\n        );\n\n        List&lt;courseList&gt; result = searchIn\n        ( list, \n            new Matcher&lt;courseList&gt;() \n            { \n                public boolean matches( courseList c ) \n                { \n                    return c.getCourse().toLowerCase().contains(&quot;of&quot;.toLowerCase());\n                }\n            }\n        );\n\n      System.out.println( result );\n    }\n\n    public static &lt;T&gt; List&lt;T&gt; searchIn( List&lt;T&gt; list , Matcher&lt;T&gt; m ) \n    { \n        List&lt;T&gt; r = new ArrayList&lt;T&gt;();\n        for( T t : list ) \n        { \n            if( m.matches( t ) ) \n            { \n                r.add( t );\n            }\n        }\n        return r;\n    }\n}\n\nclass courseList \n{ \n    String course;\n\n    String getCourse()\n    { \n        return course;\n    }\n\n    static courseList add( String course ) \n    { \n        courseList c = new courseList();\n        c.course = course;\n        return c;\n    }\n    public String toString() \n    { \n        return String.format(&quot;%s&quot;, course);\n        //String = String.replaceAll(&quot;, $&quot;, &quot;&quot;);\n    }    \n}\n\ninterface Matcher&lt;T&gt; \n{ \n    public boolean matches( T t );\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0gILW.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-data"],"answers":[{"tags":[],"owner":{"account_id":9767945,"reputation":1563,"user_id":7240806,"display_name":"Stephan Hogenboom"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1641207576,"creation_date":1641206505,"answer_id":70564552,"question_id":70564484,"body_markdown":"If you want to use the  `@PathVariable` as an optional be sure to bind both paths: `@PostMapping(value = {&quot;/upload/{taskId}&quot;, &quot;/upload&quot;})`.\r\n\r\nIf you don&#39;t post the `taskId` spring will look for a controller that handles `&quot;/upload&quot;` instead of `&quot;/upload/{taskId}&quot;`\r\n\r\nPersonally i would use `RequestParam` instead of `PathVariable` for optional parameters\r\n","title":"Java can&#39;t upload file with @Pathvariable optional","body":"<p>If you want to use the  <code>@PathVariable</code> as an optional be sure to bind both paths: <code>@PostMapping(value = {&quot;/upload/{taskId}&quot;, &quot;/upload&quot;})</code>.</p>\n<p>If you don't post the <code>taskId</code> spring will look for a controller that handles <code>&quot;/upload&quot;</code> instead of <code>&quot;/upload/{taskId}&quot;</code></p>\n<p>Personally i would use <code>RequestParam</code> instead of <code>PathVariable</code> for optional parameters</p>\n"}],"owner":{"account_id":14424843,"reputation":57,"user_id":13955451,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70564552,"answer_count":1,"score":3,"last_activity_date":1641212820,"creation_date":1641206139,"question_id":70564484,"body_markdown":"I try to build a todoapp with the function to upload files. Now i want to can upload files on a task or simply upload files without tasks. For that i need the @PathVariable Annotation to be optional.\r\n\r\nThis is my Controller:\r\n\r\n\r\n    @PostMapping(&quot;/upload/{taskId}&quot;)\r\n    private ResponseEntity&lt;String&gt; uploadFile(@CurrentUser UserPrincipal userPrincipal, @RequestParam(&quot;file&quot;) MultipartFile[] file, @PathVariable(required = false) String taskId) {\r\n        fileService.upload(userPrincipal.getUser(), file, taskId);\r\n        return new ResponseEntity&lt;&gt;(&quot;File uploaded&quot;, HttpStatus.OK);\r\n    }\r\n\r\nIf i try it to upload with a TaskId it works. But when i try it to upload without a taskId it doesnt work. I got the error:\r\n\r\n&quot;405  Method not allowed&quot;\r\n\r\nScreenshot:\r\n[![enter image description here][1]][1]\r\n\r\nDoes somebody know how to fix this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KVsba.png","title":"Java can&#39;t upload file with @Pathvariable optional","body":"<p>I try to build a todoapp with the function to upload files. Now i want to can upload files on a task or simply upload files without tasks. For that i need the @PathVariable Annotation to be optional.</p>\n<p>This is my Controller:</p>\n<pre><code>@PostMapping(&quot;/upload/{taskId}&quot;)\nprivate ResponseEntity&lt;String&gt; uploadFile(@CurrentUser UserPrincipal userPrincipal, @RequestParam(&quot;file&quot;) MultipartFile[] file, @PathVariable(required = false) String taskId) {\n    fileService.upload(userPrincipal.getUser(), file, taskId);\n    return new ResponseEntity&lt;&gt;(&quot;File uploaded&quot;, HttpStatus.OK);\n}\n</code></pre>\n<p>If i try it to upload with a TaskId it works. But when i try it to upload without a taskId it doesnt work. I got the error:</p>\n<p>&quot;405  Method not allowed&quot;</p>\n<p>Screenshot:\n<a href=\"https://i.stack.imgur.com/KVsba.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KVsba.png\" alt=\"enter image description here\" /></a></p>\n<p>Does somebody know how to fix this?</p>\n"},{"tags":["java","log4j2"],"answers":[{"tags":[],"owner":{"account_id":1260099,"reputation":18217,"user_id":1218618,"accept_rate":100,"display_name":"albciff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641212624,"creation_date":1641212624,"answer_id":70565744,"question_id":70565602,"body_markdown":"Log4j2 version 2.17 which solves the vulnerability [CVE-2021-44228][1] is included in Elasticserach version 6.8.22 or in 7.16.2 as you can read on respective release-notes:\r\n\r\nhttps://www.elastic.co/guide/en/elasticsearch/reference/7.16/release-notes-7.16.2.html\r\n\r\nhttps://www.elastic.co/guide/en/elasticsearch/reference/6.8/release-notes-6.8.22.html\r\n\r\n&gt; Upgrade to log4j 2.17.0 #81902\r\n\r\nThe specific upgrade for log4j2 version in Elasticsearch [is on #81902][2]\r\n\r\n\r\n\r\n  [1]: https://nvd.nist.gov/vuln/detail/CVE-2021-44228\r\n  [2]: https://github.com/elastic/elasticsearch/pull/81902","title":"check log4j vulnerability for Elasticsearch","body":"<p>Log4j2 version 2.17 which solves the vulnerability <a href=\"https://nvd.nist.gov/vuln/detail/CVE-2021-44228\" rel=\"nofollow noreferrer\">CVE-2021-44228</a> is included in Elasticserach version 6.8.22 or in 7.16.2 as you can read on respective release-notes:</p>\n<p><a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/7.16/release-notes-7.16.2.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/7.16/release-notes-7.16.2.html</a></p>\n<p><a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/6.8/release-notes-6.8.22.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/6.8/release-notes-6.8.22.html</a></p>\n<blockquote>\n<p>Upgrade to log4j 2.17.0 #81902</p>\n</blockquote>\n<p>The specific upgrade for log4j2 version in Elasticsearch <a href=\"https://github.com/elastic/elasticsearch/pull/81902\" rel=\"nofollow noreferrer\">is on #81902</a></p>\n"}],"owner":{"account_id":3999480,"reputation":341,"user_id":3295881,"accept_rate":67,"display_name":"Pankaj K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2106,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70565744,"answer_count":1,"score":-1,"last_activity_date":1641212624,"creation_date":1641211907,"question_id":70565602,"body_markdown":"how to confirm if elasticsearch version is exposed to log4j vulnerability? My elasticsearch version is 6.8.4","title":"check log4j vulnerability for Elasticsearch","body":"<p>how to confirm if elasticsearch version is exposed to log4j vulnerability? My elasticsearch version is 6.8.4</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":19859976,"reputation":39,"user_id":14548514,"display_name":"bavithiran hardy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641212346,"creation_date":1641212346,"answer_id":70565694,"question_id":70565665,"body_markdown":"Solution :\r\n\r\n   \r\n\r\n    StringSelection stringSelection = new StringSelection(textValue);\r\n        Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\r\n        clipboard.setContents(stringSelection, null);\r\n        fxDriver.findElement(textmessageplace).sendKeys(Keys.SHIFT, Keys.INSERT);","title":"In java selenium, can we paste a string using clipboard action","body":"<p>Solution :</p>\n<pre><code>StringSelection stringSelection = new StringSelection(textValue);\n    Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\n    clipboard.setContents(stringSelection, null);\n    fxDriver.findElement(textmessageplace).sendKeys(Keys.SHIFT, Keys.INSERT);\n</code></pre>\n"}],"owner":{"account_id":19859976,"reputation":39,"user_id":14548514,"display_name":"bavithiran hardy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641212346,"creation_date":1641212194,"question_id":70565665,"body_markdown":"Need to paste a string value to a WebElement using Clipboard action\r\n\r\n ","title":"In java selenium, can we paste a string using clipboard action","body":"<p>Need to paste a string value to a WebElement using Clipboard action</p>\n"},{"tags":["java","treemap","groupingby"],"comments":[{"owner":{"account_id":11884699,"reputation":497,"user_id":8697412,"display_name":"Barracuda"},"score":2,"creation_date":1641211849,"post_id":70565497,"comment_id":124740572,"body_markdown":"Have you read the documentation on oracle&#39;s site? They have javadocs that explain them.","body":"Have you read the documentation on oracle&#39;s site? They have javadocs that explain them."}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641212086,"creation_date":1641212086,"answer_id":70565640,"question_id":70565497,"body_markdown":"The second argument is a `Supplier&lt;M&gt;`, which is used to produce a `Map` instance.\r\n\r\nThe third argument is a downstream `Collector`, which specifies what to do with the `Bier` elements which belong to a single group.\r\n\r\nIf you run the single argument variant: \r\n\r\n    return bieren.stream().collect(Collectors.groupingBy(Bier::getSoort));\r\n\r\nIt will still collect the elements of each group into a `List` (that&#39;s the default behavior), but you don&#39;t have control over the type of `Map` that will map the `String` keys into the corresponding `List`s.\r\n\r\nIn your 3 argument example, you request that the `Map` will be a `TreeMap`, which means the keys will be sorted.\r\n\r\nThe current implementation of the single argument variant:\r\n\r\n    return bieren.stream().collect(Collectors.groupingBy(Bier::getSoort));\r\n\r\nis equivalent to:\r\n\r\n    return bieren.stream().collect(Collectors.groupingBy(Bier::getSoort, HashMap::new, Collectors.toList()));\r\n\r\nwhich means the keys of the `Map` will not be sorted.","title":"stream of list groupinngBy to map","body":"<p>The second argument is a <code>Supplier&lt;M&gt;</code>, which is used to produce a <code>Map</code> instance.</p>\n<p>The third argument is a downstream <code>Collector</code>, which specifies what to do with the <code>Bier</code> elements which belong to a single group.</p>\n<p>If you run the single argument variant:</p>\n<pre><code>return bieren.stream().collect(Collectors.groupingBy(Bier::getSoort));\n</code></pre>\n<p>It will still collect the elements of each group into a <code>List</code> (that's the default behavior), but you don't have control over the type of <code>Map</code> that will map the <code>String</code> keys into the corresponding <code>List</code>s.</p>\n<p>In your 3 argument example, you request that the <code>Map</code> will be a <code>TreeMap</code>, which means the keys will be sorted.</p>\n<p>The current implementation of the single argument variant:</p>\n<pre><code>return bieren.stream().collect(Collectors.groupingBy(Bier::getSoort));\n</code></pre>\n<p>is equivalent to:</p>\n<pre><code>return bieren.stream().collect(Collectors.groupingBy(Bier::getSoort, HashMap::new, Collectors.toList()));\n</code></pre>\n<p>which means the keys of the <code>Map</code> will not be sorted.</p>\n"}],"owner":{"account_id":21390758,"reputation":71,"user_id":15754859,"display_name":"JoshuaBrown"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70565640,"answer_count":1,"score":0,"last_activity_date":1641212086,"creation_date":1641211409,"question_id":70565497,"body_markdown":"the example code I&#39;ve been given is \r\n\r\n    public Map&lt;String, List&lt;Bier&gt;&gt; opzettenOverzichtBierenPerSoort() {\r\n       //TODO\r\n    \t\r\n    \treturn bieren.stream().collect(Collectors.groupingBy(Bier::getSoort, TreeMap::new, Collectors.toList()));\r\n    }\r\n\r\ninput is a list of beer objects and it return a map of the kind of beer with all the beers in it.\r\n\r\nnow my question. wat are the second and third arguments in the groupingBy? I get the first one which states what it&#39;s grouped by...but the second and third seem a bit random.","title":"stream of list groupinngBy to map","body":"<p>the example code I've been given is</p>\n<pre><code>public Map&lt;String, List&lt;Bier&gt;&gt; opzettenOverzichtBierenPerSoort() {\n   //TODO\n    \n    return bieren.stream().collect(Collectors.groupingBy(Bier::getSoort, TreeMap::new, Collectors.toList()));\n}\n</code></pre>\n<p>input is a list of beer objects and it return a map of the kind of beer with all the beers in it.</p>\n<p>now my question. wat are the second and third arguments in the groupingBy? I get the first one which states what it's grouped by...but the second and third seem a bit random.</p>\n"},{"tags":["java","rest","tomcat","jax-rs","jersey-2.0"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1641208473,"post_id":70564906,"comment_id":124739467,"body_markdown":"Maybe it is some cache from the browser  ?","body":"Maybe it is some cache from the browser  ?"},{"owner":{"account_id":6090751,"reputation":756,"user_id":4753084,"accept_rate":75,"display_name":"Prince Vijay Pratap"},"score":0,"creation_date":1641209048,"post_id":70564906,"comment_id":124739699,"body_markdown":"@Arnaud l am using inbuilt eclipse browser . How to fix this?","body":"@Arnaud l am using inbuilt eclipse browser . How to fix this?"}],"owner":{"account_id":6090751,"reputation":756,"user_id":4753084,"accept_rate":75,"display_name":"Prince Vijay Pratap"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641211508,"creation_date":1641208328,"question_id":70564906,"body_markdown":"I am just starting up with rest web services and using jersey to create one.\r\n\r\nThis is probably a lame question but kindly help as I am stuck. I have written a simple HelloWorld.java as given below.  This issue is I am updating the response string to &quot;New Response&quot; but it is keep showing the &quot;Old Response&quot; string value in browser. I have restarted the tomcat server after updating the string but keep getting the older response.\r\n\r\nNot sure why it is not getting updated.\r\n\r\n**HelloWorld.java**\r\n\r\n    package com.test;\r\n\r\n    import javax.ws.rs.GET;\r\n    import javax.ws.rs.Path;\r\n    import javax.ws.rs.Produces;\r\n    import javax.ws.rs.core.MediaType;\r\n\r\n\r\n    @Path(&quot;/hello&quot;)\r\n    public class HelloWorld\r\n    {\r\n\t  @GET\r\n\t  @Produces(MediaType.TEXT_HTML)\r\n\t  public String sayHelloXML()\r\n\t  {\r\n\t\tString resource = &quot;&lt;h3&gt; Old response&lt;/h3&gt; &quot;;\r\n\t\treturn resource;\r\n\t\t\r\n\t  }\r\n\t\r\n\t  @GET\r\n\t  @Produces(MediaType.APPLICATION_JSON)\r\n\t  public String sayHelloJSONEX()\r\n\t  {\r\n\t\tString resource = null;\r\n\t\treturn resource;\r\n\t\t\r\n\t  }\r\n    }\r\n\r\n**web.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n     &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n    xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; \r\n     xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee \r\n     http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.1&quot;&gt;\r\n      &lt;display-name&gt;JerseyDemoWork&lt;/display-name&gt;\r\n      &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n       &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\r\n       &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n       &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\r\n       &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\r\n       &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\r\n     &lt;/welcome-file-list&gt; \r\n     &lt;servlet&gt;\r\n\t    &lt;servlet-name&gt;JerseyDemoWork&lt;/servlet-name&gt;\r\n\t    &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n\t    &lt;init-param&gt;\r\n\t\t    &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n\t\t    &lt;param-value&gt;com.test&lt;/param-value&gt;\r\n\t   &lt;/init-param&gt;\r\n\t   &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n\t    &lt;servlet-name&gt;JerseyDemoWork&lt;/servlet-name&gt;\r\n\t    &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;","title":"Why I am not getting updated response in jersey 2 even after restarting tomcat server?","body":"<p>I am just starting up with rest web services and using jersey to create one.</p>\n<p>This is probably a lame question but kindly help as I am stuck. I have written a simple HelloWorld.java as given below.  This issue is I am updating the response string to &quot;New Response&quot; but it is keep showing the &quot;Old Response&quot; string value in browser. I have restarted the tomcat server after updating the string but keep getting the older response.</p>\n<p>Not sure why it is not getting updated.</p>\n<p><strong>HelloWorld.java</strong></p>\n<pre><code>package com.test;\n\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.MediaType;\n\n\n@Path(&quot;/hello&quot;)\npublic class HelloWorld\n{\n  @GET\n  @Produces(MediaType.TEXT_HTML)\n  public String sayHelloXML()\n  {\n    String resource = &quot;&lt;h3&gt; Old response&lt;/h3&gt; &quot;;\n    return resource;\n    \n  }\n\n  @GET\n  @Produces(MediaType.APPLICATION_JSON)\n  public String sayHelloJSONEX()\n  {\n    String resource = null;\n    return resource;\n    \n  }\n}\n</code></pre>\n<p><strong>web.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \nxmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; \n xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee \n http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.1&quot;&gt;\n  &lt;display-name&gt;JerseyDemoWork&lt;/display-name&gt;\n  &lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n   &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\n   &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n   &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\n   &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\n   &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\n &lt;/welcome-file-list&gt; \n &lt;servlet&gt;\n    &lt;servlet-name&gt;JerseyDemoWork&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n        &lt;param-value&gt;com.test&lt;/param-value&gt;\n   &lt;/init-param&gt;\n   &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;JerseyDemoWork&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":["java","jquery","selenium","firefox"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1641254714,"post_id":70565490,"comment_id":124753889,"body_markdown":"sounds like some scripts are being loaded before jQuery... why that is I&#39;m not sure, but the middleware may be doing something funny... try adding the scripts right before the &lt;/HTML&gt; tag.  Ex: &lt;script src=&quot;/js/jquery.min.js&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;&lt;/html&gt;","body":"sounds like some scripts are being loaded before jQuery... why that is I&#39;m not sure, but the middleware may be doing something funny... try adding the scripts right before the &lt;/HTML&gt; tag.  Ex: &lt;script src=&quot;/js/jquery.min.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;&lt;/html&gt;"},{"owner":{"account_id":3156854,"reputation":614,"user_id":2669075,"accept_rate":38,"display_name":"Goldfish"},"score":0,"creation_date":1641276432,"post_id":70565490,"comment_id":124757073,"body_markdown":"I already tried this too but it did not change the results.","body":"I already tried this too but it did not change the results."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1641321900,"post_id":70565490,"comment_id":124773792,"body_markdown":"You&#39;ll want to do some debugging... view the page source in the browser and double-click on the jquery link... make sure it appears.  Also right-click and inspect... check for any duplicates... (might be some header or footer that&#39;s also loading scripts...)  You may also be able to check the load order in the browser&#39;s dev tools...","body":"You&#39;ll want to do some debugging... view the page source in the browser and double-click on the jquery link... make sure it appears.  Also right-click and inspect... check for any duplicates... (might be some header or footer that&#39;s also loading scripts...)  You may also be able to check the load order in the browser&#39;s dev tools..."}],"owner":{"account_id":3156854,"reputation":614,"user_id":2669075,"accept_rate":38,"display_name":"Goldfish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641211366,"creation_date":1641211366,"question_id":70565490,"body_markdown":"Hi we are getting the following error if our page is loaded. This occurs with firefox only and is not always reproducable but it still occurs regularly:\r\n\r\n    JavaScript error: https://localhost:60663/consent-ui/js/bootstrap.min.js, line 6: TypeError: Bootstrap&#39;s JavaScript requires jQuery. jQuery must be included before Bootstrap&#39;s JavaScript.\r\n    JavaScript error: https://localhost:60663/consent-ui/js/show-session-timeout-warning.js, line 5: ReferenceError: $ is not defined\r\n    JavaScript error: https://localhost:60663/consent-ui/js/accept-documents.js, line 1: ReferenceError: $ is not defined\r\n    JavaScript error: https://localhost:60663/consent-ui/js/disable-process-buttons.js, line 1: ReferenceError: $ is not defined\r\n\r\nWe are using the Thymeleaf Framework to generate our HTML and the main-template looks like this:\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;de&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;link data-th-href=&quot;@{/css/bootstrap.min.css}&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;\r\n        &lt;link data-th-href=&quot;@{/css/default-style.css}&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;\r\n    \r\n        &lt;script data-th-src=&quot;@{/js/jquery.min.js}&quot;&gt;&lt;/script&gt;\r\n        &lt;script data-th-src=&quot;@{/js/bootstrap.min.js}&quot;&gt;&lt;/script&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;div class=&quot;container&quot;&gt;\r\n        &lt;section data-layout-fragment=&quot;content&quot;&gt;&lt;/section&gt;\r\n    &lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nNow we created the following unit-test class:\r\n\r\n    import java.io.IOException;\r\n    import java.time.Duration;\r\n    \r\n    import org.junit.jupiter.api.AfterEach;\r\n    import org.junit.jupiter.api.Assertions;\r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    import org.openqa.selenium.firefox.FirefoxOptions;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.MessageSource;\r\n    import org.springframework.test.context.ActiveProfiles;\r\n    import org.springframework.test.context.TestPropertySource;\r\n    \r\n    import de.governikus.autent.consent.ui.setup.ConsentUiTest;\r\n    \r\n    @ActiveProfiles({&quot;auto-generate-database&quot;})\r\n    @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT,\r\n                classes = {SpringBootInitializer.class, WebAppConfig.class})\r\n    @TestPropertySource(properties = {// TODO comment\r\n                                      &quot;server.servlet.session.timeout=65&quot;,\r\n                                      // TODO comment\r\n                                      &quot;session.timeout.warning.threshold=49&quot;}\r\n                        locations = {&quot;classpath:application.properties&quot;, &quot;classpath:application-test.properties&quot;})\r\n    public class SessionTimeoutWarningTest extends AbstractUiTest\r\n    {\r\n    \r\n      private static final String CUSTOM_CONTROLLER_PATH = &quot;/custom-controller&quot;;\r\n    \r\n      /**\r\n       * context path to overview endpoint on helper controller\r\n       * {@link de.governikus.autent.consent.ui.projectconfig.MessageSourceTest.CustomController#loadOverviewPage(boolean, boolean, String, String)}\r\n       */\r\n      private static final String OVERVIEW_PATH = CUSTOM_CONTROLLER_PATH + &quot;/custom-overview&quot;;\r\n    \r\n      private final String PATH_OF_FIREFOX_DRIVER = &quot;D:\\\\Konfigurationen\\\\geckodriver.exe&quot;;\r\n      private final String PATH_OF_CHROME_DRIVER = &quot;D:\\\\Konfigurationen\\\\chromedriver_96.exe&quot;;\r\n    \r\n      /**\r\n       * used to read the keys from the resource bundles\r\n       */\r\n      @Autowired\r\n      private MessageSource messageSource;\r\n    \r\n      private WebDriver driver;\r\n    \r\n      @BeforeEach\r\n      public void init()\r\n      {\r\n        System.setProperty(&quot;webdriver.gecko.driver&quot;, PATH_OF_FIREFOX_DRIVER);\r\n    //    System.setProperty(&quot;webdriver.chrome.driver&quot;, PATH_OF_CHROME_DRIVER);\r\n        FirefoxOptions options = new FirefoxOptions();\r\n         options.setHeadless(true);\r\n    \r\n        driver = new FirefoxDriver(options);\r\n    \r\n    //    ChromeOptions options = new ChromeOptions();\r\n    //    options.addArguments(&quot;--allow-insecure-localhost&quot;);\r\n    //    driver = new ChromeDriver(options);\r\n      }\r\n    \r\n    \r\n      @AfterEach\r\n      public void tearDown()\r\n      {\r\n        driver.quit();\r\n      }\r\n    \r\n      @Test\r\n      void TestSessionTimeoutWarningDialog() throws IOException, InterruptedException\r\n      {\r\n        driver.get(getApplicationUrl(OVERVIEW_PATH));\r\n        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(15));\r\n    \r\n        {\r\n          final WebElement timerFragment = wait.until(webDriver -&gt; webDriver.findElement(By.id(&quot;timer&quot;)));\r\n          Assertions.assertFalse(timerFragment.isDisplayed());\r\n    \r\n          wait.until(webDriver -&gt; timerFragment.isDisplayed());\r\n    \r\n          Assertions.assertTrue(timerFragment.isDisplayed());\r\n    \r\n          WebElement renewSessionButton = driver.findElement(By.name(&quot;dialog-accept-button&quot;));\r\n          renewSessionButton.click();\r\n        }\r\n    \r\n        {\r\n          final WebElement timerFragment = driver.findElement(By.id(&quot;timer&quot;));\r\n          Assertions.assertFalse(timerFragment.isDisplayed());\r\n    \r\n          wait.until(webDriver -&gt; timerFragment.isDisplayed());\r\n    \r\n          WebElement abortButton = driver.findElement(By.name(&quot;dialog-decline-button&quot;));\r\n          abortButton.click();\r\n        }\r\n      }\r\n    \r\n    }\r\n\r\n\r\nwith Chrome anything works fine and we never get any problems. The problem occurs with firefox only. We are not able to figure out what is causing this problem. The problem does not only occur if selenium is used. It also happens in on rare occasions in production environment...","title":"TypeError: Bootstrap&#39;s JavaScript requires jQuery. [Selenium and Firefox only]","body":"<p>Hi we are getting the following error if our page is loaded. This occurs with firefox only and is not always reproducable but it still occurs regularly:</p>\n<pre><code>JavaScript error: https://localhost:60663/consent-ui/js/bootstrap.min.js, line 6: TypeError: Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.\nJavaScript error: https://localhost:60663/consent-ui/js/show-session-timeout-warning.js, line 5: ReferenceError: $ is not defined\nJavaScript error: https://localhost:60663/consent-ui/js/accept-documents.js, line 1: ReferenceError: $ is not defined\nJavaScript error: https://localhost:60663/consent-ui/js/disable-process-buttons.js, line 1: ReferenceError: $ is not defined\n</code></pre>\n<p>We are using the Thymeleaf Framework to generate our HTML and the main-template looks like this:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;de&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;link data-th-href=&quot;@{/css/bootstrap.min.css}&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;\n    &lt;link data-th-href=&quot;@{/css/default-style.css}&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;\n\n    &lt;script data-th-src=&quot;@{/js/jquery.min.js}&quot;&gt;&lt;/script&gt;\n    &lt;script data-th-src=&quot;@{/js/bootstrap.min.js}&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div class=&quot;container&quot;&gt;\n    &lt;section data-layout-fragment=&quot;content&quot;&gt;&lt;/section&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Now we created the following unit-test class:</p>\n<pre><code>import java.io.IOException;\nimport java.time.Duration;\n\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.firefox.FirefoxOptions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.MessageSource;\nimport org.springframework.test.context.ActiveProfiles;\nimport org.springframework.test.context.TestPropertySource;\n\nimport de.governikus.autent.consent.ui.setup.ConsentUiTest;\n\n@ActiveProfiles({&quot;auto-generate-database&quot;})\n@ExtendWith(SpringExtension.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT,\n            classes = {SpringBootInitializer.class, WebAppConfig.class})\n@TestPropertySource(properties = {// TODO comment\n                                  &quot;server.servlet.session.timeout=65&quot;,\n                                  // TODO comment\n                                  &quot;session.timeout.warning.threshold=49&quot;}\n                    locations = {&quot;classpath:application.properties&quot;, &quot;classpath:application-test.properties&quot;})\npublic class SessionTimeoutWarningTest extends AbstractUiTest\n{\n\n  private static final String CUSTOM_CONTROLLER_PATH = &quot;/custom-controller&quot;;\n\n  /**\n   * context path to overview endpoint on helper controller\n   * {@link de.governikus.autent.consent.ui.projectconfig.MessageSourceTest.CustomController#loadOverviewPage(boolean, boolean, String, String)}\n   */\n  private static final String OVERVIEW_PATH = CUSTOM_CONTROLLER_PATH + &quot;/custom-overview&quot;;\n\n  private final String PATH_OF_FIREFOX_DRIVER = &quot;D:\\\\Konfigurationen\\\\geckodriver.exe&quot;;\n  private final String PATH_OF_CHROME_DRIVER = &quot;D:\\\\Konfigurationen\\\\chromedriver_96.exe&quot;;\n\n  /**\n   * used to read the keys from the resource bundles\n   */\n  @Autowired\n  private MessageSource messageSource;\n\n  private WebDriver driver;\n\n  @BeforeEach\n  public void init()\n  {\n    System.setProperty(&quot;webdriver.gecko.driver&quot;, PATH_OF_FIREFOX_DRIVER);\n//    System.setProperty(&quot;webdriver.chrome.driver&quot;, PATH_OF_CHROME_DRIVER);\n    FirefoxOptions options = new FirefoxOptions();\n     options.setHeadless(true);\n\n    driver = new FirefoxDriver(options);\n\n//    ChromeOptions options = new ChromeOptions();\n//    options.addArguments(&quot;--allow-insecure-localhost&quot;);\n//    driver = new ChromeDriver(options);\n  }\n\n\n  @AfterEach\n  public void tearDown()\n  {\n    driver.quit();\n  }\n\n  @Test\n  void TestSessionTimeoutWarningDialog() throws IOException, InterruptedException\n  {\n    driver.get(getApplicationUrl(OVERVIEW_PATH));\n    WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(15));\n\n    {\n      final WebElement timerFragment = wait.until(webDriver -&gt; webDriver.findElement(By.id(&quot;timer&quot;)));\n      Assertions.assertFalse(timerFragment.isDisplayed());\n\n      wait.until(webDriver -&gt; timerFragment.isDisplayed());\n\n      Assertions.assertTrue(timerFragment.isDisplayed());\n\n      WebElement renewSessionButton = driver.findElement(By.name(&quot;dialog-accept-button&quot;));\n      renewSessionButton.click();\n    }\n\n    {\n      final WebElement timerFragment = driver.findElement(By.id(&quot;timer&quot;));\n      Assertions.assertFalse(timerFragment.isDisplayed());\n\n      wait.until(webDriver -&gt; timerFragment.isDisplayed());\n\n      WebElement abortButton = driver.findElement(By.name(&quot;dialog-decline-button&quot;));\n      abortButton.click();\n    }\n  }\n\n}\n</code></pre>\n<p>with Chrome anything works fine and we never get any problems. The problem occurs with firefox only. We are not able to figure out what is causing this problem. The problem does not only occur if selenium is used. It also happens in on rare occasions in production environment...</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":10598022,"reputation":66,"user_id":14634910,"display_name":"alexxarisis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640250616,"creation_date":1640250616,"answer_id":70459864,"question_id":70459627,"body_markdown":"By doing `stringList.get(i).toString()` you get the `String[][]` object cast `toString()`.\r\nThat only returns something like this `[[Ljava.lang.String;@762efe5d`. \r\n\r\nSo comparing this to the `value` is wrong. Look up what `stringList.get(i)[0][0]` and `stringList.get(i)[0][1]` is, to figure out yourself what to compare and what you need.\r\n\r\nBy what I&#39;m given i don&#39;t know which value exactly you are looking for, but it should be pretty easy to figure that out yourself.\r\n\r\nYou can name `y` as `row` or `column` to make it more readable.\r\n\r\nAlso instead of String[][] you can maybe use a HashMap&lt;String, String&gt; to make things easier.\r\n","title":"How to check a String value with a name of specific data in Arraylist&lt;String[][]&gt;?","body":"<p>By doing <code>stringList.get(i).toString()</code> you get the <code>String[][]</code> object cast <code>toString()</code>.\nThat only returns something like this <code>[[Ljava.lang.String;@762efe5d</code>.</p>\n<p>So comparing this to the <code>value</code> is wrong. Look up what <code>stringList.get(i)[0][0]</code> and <code>stringList.get(i)[0][1]</code> is, to figure out yourself what to compare and what you need.</p>\n<p>By what I'm given i don't know which value exactly you are looking for, but it should be pretty easy to figure that out yourself.</p>\n<p>You can name <code>y</code> as <code>row</code> or <code>column</code> to make it more readable.</p>\n<p>Also instead of String[][] you can maybe use a HashMap&lt;String, String&gt; to make things easier.</p>\n"},{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641211352,"creation_date":1640252415,"answer_id":70460213,"question_id":70459627,"body_markdown":"This really seems to be a scenario where you could use `HashMap&lt;String, Double&gt;`. It keeps the values in this form: `key (of type String) -&gt; value (of type Double)`. So you could completely remove your whole `String[][]` complication.\r\n\r\nHere is an example:\r\n\r\n```java\r\nString value = getArguments().getString(&quot;choices&quot;);\r\n\r\n//HashMaps\r\n\r\nHashMap&lt;String, Double&gt; map = new HashMap&lt;&gt;();\r\nmap.put(&quot;(pascal)&quot;, 1d);\r\nmap.put(&quot;(kilopascal)&quot;, 0.001);\r\n// and so on\r\n\r\n// You should add everything here though and remove the need for an ArrayList. that just complicates things\r\n\r\nmap.get(value); // Returns the double value\r\n\r\n```\r\n\r\nI cannot understand exactly what you want to do and what is supposed to be in the `value` variable. When you need to differentiate the map types (volume, length etc..) add yet another map that as key has `String` and as value another `HashMap&lt;String, Double&gt;`.\r\n\r\nP.S: Try to log everything when you don&#39;t understand what is happening, some of your `toString()` functions, return the reference of the object and not what you (most likely) expect. \r\n\r\nOr even better, use a debugger.","title":"How to check a String value with a name of specific data in Arraylist&lt;String[][]&gt;?","body":"<p>This really seems to be a scenario where you could use <code>HashMap&lt;String, Double&gt;</code>. It keeps the values in this form: <code>key (of type String) -&gt; value (of type Double)</code>. So you could completely remove your whole <code>String[][]</code> complication.</p>\n<p>Here is an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String value = getArguments().getString(&quot;choices&quot;);\n\n//HashMaps\n\nHashMap&lt;String, Double&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;(pascal)&quot;, 1d);\nmap.put(&quot;(kilopascal)&quot;, 0.001);\n// and so on\n\n// You should add everything here though and remove the need for an ArrayList. that just complicates things\n\nmap.get(value); // Returns the double value\n\n</code></pre>\n<p>I cannot understand exactly what you want to do and what is supposed to be in the <code>value</code> variable. When you need to differentiate the map types (volume, length etc..) add yet another map that as key has <code>String</code> and as value another <code>HashMap&lt;String, Double&gt;</code>.</p>\n<p>P.S: Try to log everything when you don't understand what is happening, some of your <code>toString()</code> functions, return the reference of the object and not what you (most likely) expect.</p>\n<p>Or even better, use a debugger.</p>\n"}],"owner":{"account_id":11610580,"reputation":129,"user_id":8504919,"display_name":"Daniel Mohajer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70460213,"answer_count":2,"score":0,"last_activity_date":1641211352,"creation_date":1640249175,"question_id":70459627,"body_markdown":"I have an `ArrrayList&lt;String[][]&gt;` with a couple of `String[][]` in it. I want to extract out the 2D array that have same name as my `String` value.\r\n\r\nI have tried the method below and it end up with errors like:\r\n\r\n    java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n\r\nCode in my fragment:\r\n\r\n    //String value\r\n\r\n    String value = getArguments().getString(&quot;choices&quot;);\r\n\r\n    //2D arrays\r\n\r\n    String[][] volume = {\r\n            {&quot;(pascal)&quot;, &quot;1&quot;},\r\n            {&quot;(kilopascal)&quot;, &quot;0.001&quot;},\r\n            {&quot;(bar)&quot;, &quot;0.00001&quot;}}\r\n    String[][] length = {\r\n            {&quot;(Meter)&quot;, &quot;1&quot;},\r\n            {&quot;(Centimeter)&quot;, &quot;100&quot;},\r\n            {&quot;(Kilometer)&quot;, &quot;0.001&quot;}}\r\n    String[][] weight = {\r\n            {&quot;(kilometer per hour)&quot;, &quot;1&quot;},\r\n            {&quot;(mile per hour)&quot;, &quot;0.6213711922&quot;},\r\n            {&quot;(yard per hour)&quot;, &quot;1093.6132983333&quot;}}\r\n\r\n    //Array List\r\n\r\n    ArrayList&lt;String[][]&gt; stringList = new ArrayList&lt;&gt;();\r\n    stringList.add(weight);\r\n    stringList.add(length);\r\n    stringList.add(volume);\r\n\r\n    //Code for extracting the String[][] from arraylist\r\n\r\n        ArrayList&lt;String&gt; data = new ArrayList&lt;&gt;();\r\n\r\n        try {\r\n            for (int i = 0; i &lt; stringList.size(); i++) {\r\n                if(stringList.get(i).toString().equals(value)){\r\n                    for (int y = 0; y &lt; stringList.get(i).length;) {\r\n                        data.add(stringList.get(i)[y][0]);\r\n                        y++;\r\n                    }\r\n                }\r\n            }\r\n        }catch (Exception e){\r\n            Log.e(TAG, &quot;onViewCreated: &quot; + e );\r\n        }\r\n\r\n","title":"How to check a String value with a name of specific data in Arraylist&lt;String[][]&gt;?","body":"<p>I have an <code>ArrrayList&lt;String[][]&gt;</code> with a couple of <code>String[][]</code> in it. I want to extract out the 2D array that have same name as my <code>String</code> value.</p>\n<p>I have tried the method below and it end up with errors like:</p>\n<pre><code>java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\n</code></pre>\n<p>Code in my fragment:</p>\n<pre><code>//String value\n\nString value = getArguments().getString(&quot;choices&quot;);\n\n//2D arrays\n\nString[][] volume = {\n        {&quot;(pascal)&quot;, &quot;1&quot;},\n        {&quot;(kilopascal)&quot;, &quot;0.001&quot;},\n        {&quot;(bar)&quot;, &quot;0.00001&quot;}}\nString[][] length = {\n        {&quot;(Meter)&quot;, &quot;1&quot;},\n        {&quot;(Centimeter)&quot;, &quot;100&quot;},\n        {&quot;(Kilometer)&quot;, &quot;0.001&quot;}}\nString[][] weight = {\n        {&quot;(kilometer per hour)&quot;, &quot;1&quot;},\n        {&quot;(mile per hour)&quot;, &quot;0.6213711922&quot;},\n        {&quot;(yard per hour)&quot;, &quot;1093.6132983333&quot;}}\n\n//Array List\n\nArrayList&lt;String[][]&gt; stringList = new ArrayList&lt;&gt;();\nstringList.add(weight);\nstringList.add(length);\nstringList.add(volume);\n\n//Code for extracting the String[][] from arraylist\n\n    ArrayList&lt;String&gt; data = new ArrayList&lt;&gt;();\n\n    try {\n        for (int i = 0; i &lt; stringList.size(); i++) {\n            if(stringList.get(i).toString().equals(value)){\n                for (int y = 0; y &lt; stringList.get(i).length;) {\n                    data.add(stringList.get(i)[y][0]);\n                    y++;\n                }\n            }\n        }\n    }catch (Exception e){\n        Log.e(TAG, &quot;onViewCreated: &quot; + e );\n    }\n</code></pre>\n"},{"tags":["java","android","firebase","authentication","sharedpreferences"],"comments":[{"owner":{"account_id":22616962,"reputation":3155,"user_id":16796366,"display_name":"Nitish"},"score":0,"creation_date":1641210425,"post_id":70565267,"comment_id":124740123,"body_markdown":"Your method `checkSharedPreferences` is only called on `loginBtn` clicked. You need to call is outside to check if data is in shared Preferences on relaunch of app","body":"Your method <code>checkSharedPreferences</code> is only called on <code>loginBtn</code> clicked. You need to call is outside to check if data is in shared Preferences on relaunch of app"}],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641210493,"creation_date":1641210493,"answer_id":70565344,"question_id":70565267,"body_markdown":"`checkSharedPreferences()` method shouldn&#39;t be called inside `onClick`, it&#39;s for restoring data, so it should be called at the beginning, so in `onCreate` after taking references to `View`s (`findViewById`) and preferences (`mPreferences`, `mEditor`)","title":"Error Using SharedPreferences() Method In Android Studio (Login Activity) After Adding Firebase Authentication","body":"<p><code>checkSharedPreferences()</code> method shouldn't be called inside <code>onClick</code>, it's for restoring data, so it should be called at the beginning, so in <code>onCreate</code> after taking references to <code>View</code>s (<code>findViewById</code>) and preferences (<code>mPreferences</code>, <code>mEditor</code>)</p>\n"},{"tags":[],"owner":{"account_id":22149056,"reputation":1,"user_id":16397870,"display_name":"Pavi guru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641211173,"creation_date":1641211173,"answer_id":70565464,"question_id":70565267,"body_markdown":"Use shared preference to store username and password after successful login.\r\n\r\n          mAuth.signInWithEmailAndPassword(email, pass)\r\n                            .addOnCompleteListener(Login.this, new\r\n                                    OnCompleteListener&lt;AuthResult&gt;() {\r\n                                        @Override\r\n                                        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                                            if (task.isSuccessful()) {\r\n                                                // Sign in success, update UI with the signed-in user&#39;s information\r\n                                                Log.d(TAG, &quot;signInWithEmail:success&quot;);\r\n                                                FirebaseUser user = mAuth.getCurrentUser();\r\n                                                mEditor.putString(&quot;Useranme&quot;, stName);\r\n\r\n                                                mEditor.putString(&quot;Password&quot;, stPassword);\r\n                                                        mEditor.commit();\r\n                                                startActivity(new Intent(Login.this, MainPage.class));\r\n                                            } else {\r\n                                                // If sign in fails, display a message to the user.\r\n                                                Log.w(TAG, &quot;signInWithEmail:failure&quot;, task.getException());\r\n                                                Toast.makeText(Login.this, &quot;Authentication failed.&quot;,\r\n                                                        Toast.LENGTH_SHORT).show();\r\n                                            }\r\n                                        }\r\n                                    });\r\n                }\r\n            });         \r\n","title":"Error Using SharedPreferences() Method In Android Studio (Login Activity) After Adding Firebase Authentication","body":"<p>Use shared preference to store username and password after successful login.</p>\n<pre><code>      mAuth.signInWithEmailAndPassword(email, pass)\n                        .addOnCompleteListener(Login.this, new\n                                OnCompleteListener&lt;AuthResult&gt;() {\n                                    @Override\n                                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                                        if (task.isSuccessful()) {\n                                            // Sign in success, update UI with the signed-in user's information\n                                            Log.d(TAG, &quot;signInWithEmail:success&quot;);\n                                            FirebaseUser user = mAuth.getCurrentUser();\n                                            mEditor.putString(&quot;Useranme&quot;, stName);\n\n                                            mEditor.putString(&quot;Password&quot;, stPassword);\n                                                    mEditor.commit();\n                                            startActivity(new Intent(Login.this, MainPage.class));\n                                        } else {\n                                            // If sign in fails, display a message to the user.\n                                            Log.w(TAG, &quot;signInWithEmail:failure&quot;, task.getException());\n                                            Toast.makeText(Login.this, &quot;Authentication failed.&quot;,\n                                                    Toast.LENGTH_SHORT).show();\n                                        }\n                                    }\n                                });\n            }\n        });         \n</code></pre>\n"}],"owner":{"account_id":23813600,"reputation":1,"user_id":17822131,"display_name":"Michael S."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641211173,"creation_date":1641210053,"question_id":70565267,"body_markdown":"My code worked until I added Firebase to it. \r\nThis is my login page, and the SharedPreferences don&#39;t work.\r\nWhen I click on the login button, the password pops up as the username and the password - and then when I re-run the emulator - the username and the password are null.\r\nPlease help me find the error:\r\n\r\n```package com.example.tomatotime;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.preference.PreferenceManager;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\n\r\npublic class Login extends AppCompatActivity {\r\n    EditText username;\r\n    EditText etPassword;\r\n    Button loginBtn;\r\n    Button registerBtn;\r\n    private SharedPreferences mPreferences;\r\n    private SharedPreferences.Editor mEditor;\r\n    private static String TAG = &quot;Michael&#39;s Tracking --&gt; &quot;;\r\n    private FirebaseAuth mAuth;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_login);\r\n\r\n        Log.d(TAG, &quot;Start onCreate&quot;);\r\n\r\n        username = findViewById(R.id.username);\r\n        etPassword = findViewById(R.id.etPassword);\r\n        loginBtn = findViewById(R.id.registerBtn);\r\n        registerBtn = findViewById(R.id.toLoginBtn);\r\n\r\n        mPreferences = PreferenceManager.getDefaultSharedPreferences(this);\r\n        mEditor = mPreferences.edit();\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n            super.onStart();\r\n            // Check if user is signed in (non-null) and update UI accordingly.\r\n            FirebaseUser currentUser = mAuth.getCurrentUser();\r\n            if(currentUser != null){\r\n                currentUser.reload();\r\n            }\r\n\r\n        loginBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                String email = username.getText().toString();\r\n                String pass = etPassword.getText().toString();\r\n\r\n                String stName = email;\r\n                mEditor.putString(getString(R.string.name), stName);\r\n                mEditor.commit();\r\n\r\n                String stPassword = pass;\r\n                mEditor.putString(getString(R.string.password), stPassword);\r\n                mEditor.commit();\r\n\r\n                checkSharedPreferences();\r\n\r\n                mAuth.signInWithEmailAndPassword(email, pass)\r\n                        .addOnCompleteListener(Login.this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                            @Override\r\n                            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                                if (task.isSuccessful()) {\r\n                                    // Sign in success, update UI with the signed-in user&#39;s information\r\n                                    Log.d(TAG, &quot;signInWithEmail:success&quot;);\r\n                                    FirebaseUser user = mAuth.getCurrentUser();\r\n                                    startActivity(new Intent(Login.this, MainPage.class));\r\n                                } else {\r\n                                    // If sign in fails, display a message to the user.\r\n                                    Log.w(TAG, &quot;signInWithEmail:failure&quot;, task.getException());\r\n                                    Toast.makeText(Login.this, &quot;Authentication failed.&quot;,\r\n                                            Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            }\r\n                        });\r\n            }\r\n        });\r\n\r\n        registerBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                Intent registerPage = new Intent(Login.this, Register.class);\r\n                startActivity(registerPage);\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    private void checkSharedPreferences() {\r\n        String stName, stPassword;\r\n        stName = mPreferences.getString(getString(R.string.name), &quot;&quot;);\r\n        stPassword = mPreferences.getString(getString(R.string.password), &quot;&quot;);\r\n        username.setText(stName);\r\n        etPassword.setText(stPassword);\r\n    }\r\n\r\n}```\r\n\r\nThank you very much!","title":"Error Using SharedPreferences() Method In Android Studio (Login Activity) After Adding Firebase Authentication","body":"<p>My code worked until I added Firebase to it.\nThis is my login page, and the SharedPreferences don't work.\nWhen I click on the login button, the password pops up as the username and the password - and then when I re-run the emulator - the username and the password are null.\nPlease help me find the error:</p>\n<pre><code>\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.os.Bundle;\nimport android.preference.PreferenceManager;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.auth.AuthResult;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\n\npublic class Login extends AppCompatActivity {\n    EditText username;\n    EditText etPassword;\n    Button loginBtn;\n    Button registerBtn;\n    private SharedPreferences mPreferences;\n    private SharedPreferences.Editor mEditor;\n    private static String TAG = &quot;Michael's Tracking --&gt; &quot;;\n    private FirebaseAuth mAuth;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_login);\n\n        Log.d(TAG, &quot;Start onCreate&quot;);\n\n        username = findViewById(R.id.username);\n        etPassword = findViewById(R.id.etPassword);\n        loginBtn = findViewById(R.id.registerBtn);\n        registerBtn = findViewById(R.id.toLoginBtn);\n\n        mPreferences = PreferenceManager.getDefaultSharedPreferences(this);\n        mEditor = mPreferences.edit();\n\n        mAuth = FirebaseAuth.getInstance();\n\n            super.onStart();\n            // Check if user is signed in (non-null) and update UI accordingly.\n            FirebaseUser currentUser = mAuth.getCurrentUser();\n            if(currentUser != null){\n                currentUser.reload();\n            }\n\n        loginBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                String email = username.getText().toString();\n                String pass = etPassword.getText().toString();\n\n                String stName = email;\n                mEditor.putString(getString(R.string.name), stName);\n                mEditor.commit();\n\n                String stPassword = pass;\n                mEditor.putString(getString(R.string.password), stPassword);\n                mEditor.commit();\n\n                checkSharedPreferences();\n\n                mAuth.signInWithEmailAndPassword(email, pass)\n                        .addOnCompleteListener(Login.this, new OnCompleteListener&lt;AuthResult&gt;() {\n                            @Override\n                            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                                if (task.isSuccessful()) {\n                                    // Sign in success, update UI with the signed-in user's information\n                                    Log.d(TAG, &quot;signInWithEmail:success&quot;);\n                                    FirebaseUser user = mAuth.getCurrentUser();\n                                    startActivity(new Intent(Login.this, MainPage.class));\n                                } else {\n                                    // If sign in fails, display a message to the user.\n                                    Log.w(TAG, &quot;signInWithEmail:failure&quot;, task.getException());\n                                    Toast.makeText(Login.this, &quot;Authentication failed.&quot;,\n                                            Toast.LENGTH_SHORT).show();\n                                }\n                            }\n                        });\n            }\n        });\n\n        registerBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                Intent registerPage = new Intent(Login.this, Register.class);\n                startActivity(registerPage);\n\n            }\n        });\n    }\n\n    private void checkSharedPreferences() {\n        String stName, stPassword;\n        stName = mPreferences.getString(getString(R.string.name), &quot;&quot;);\n        stPassword = mPreferences.getString(getString(R.string.password), &quot;&quot;);\n        username.setText(stName);\n        etPassword.setText(stPassword);\n    }\n\n}```\n\nThank you very much!\n</code></pre>\n"},{"tags":["java","encryption","aes","aes-gcm"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1641212046,"post_id":70565456,"comment_id":124740647,"body_markdown":"The hex decoding of key and IV is missing, e.g. https://stackoverflow.com/a/140861/9014097","body":"The hex decoding of key and IV is missing, e.g. <a href=\"https://stackoverflow.com/a/140861/9014097\">stackoverflow.com/a/140861/9014097</a>"},{"owner":{"account_id":20280810,"reputation":27,"user_id":14874626,"display_name":"darwin"},"score":0,"creation_date":1641216590,"post_id":70565456,"comment_id":124742096,"body_markdown":"@Topaco You made my day, thank you","body":"@Topaco You made my day, thank you"}],"owner":{"account_id":20280810,"reputation":27,"user_id":14874626,"display_name":"darwin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":641,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641211137,"creation_date":1641211137,"question_id":70565456,"body_markdown":"I got an encrypting key in HEX format and its intialization vector (HEX), the length of both of them is 32, I got an encrypted phone number from the client side, and I should decrypt it using the same encryption key.\r\nHere is the method: \r\n\r\n```\r\n\tprivate static final String key = &quot;*&quot;;\r\n\tprivate static final String initVector = &quot;*&quot;;\r\n    private static final String characterEncoding       = &quot;UTF-8&quot;;\r\n    private static final String cipherTransformation    = &quot;AES/CBC/PKCS5PADDING&quot;;\r\n    private static final String aesEncryptionAlgorithem = &quot;AES&quot;;\r\n public static String decrypt(String encryptedText) {\r\n        String decryptedText = &quot;&quot;;\r\n        try {\r\n            Cipher cipher = Cipher.getInstance(cipherTransformation);\r\n            byte[] keyByte = key..getBytes(characterEncoding);\r\n            SecretKeySpec secretKey = new SecretKeySpec(keyByte, aesEncryptionAlgorithem);\r\n            IvParameterSpec ivparameterspec = new IvParameterSpec(initVector.getBytes());\r\n            cipher.init(Cipher.DECRYPT_MODE, secretKey, ivparameterspec);\r\n            Base64.Decoder decoder = Base64.getDecoder();\r\n            byte[] cipherText = decoder.decode(encryptedText.getBytes(&quot;UTF8&quot;));\r\n            decryptedText = new String(cipher.doFinal(cipherText), &quot;UTF-8&quot;);\r\n\r\n        } catch (Exception E) {\r\n            System.err.println(&quot;decrypt Exception : &quot;+E.getMessage());\r\n        }\r\n        return decryptedText;\r\n    }\r\n```\r\nthe length of the given key and Iv is 32, I got this exception: \r\n***Encrypt Exception : Wrong IV length: must be 16 bytes long***\r\nI think I should convert the key and the Iv to another format in order to have the wanted length.\r\n","title":"Encryption and decryption using an excisting key and Iv","body":"<p>I got an encrypting key in HEX format and its intialization vector (HEX), the length of both of them is 32, I got an encrypted phone number from the client side, and I should decrypt it using the same encryption key.\nHere is the method:</p>\n<pre><code>    private static final String key = &quot;*&quot;;\n    private static final String initVector = &quot;*&quot;;\n    private static final String characterEncoding       = &quot;UTF-8&quot;;\n    private static final String cipherTransformation    = &quot;AES/CBC/PKCS5PADDING&quot;;\n    private static final String aesEncryptionAlgorithem = &quot;AES&quot;;\n public static String decrypt(String encryptedText) {\n        String decryptedText = &quot;&quot;;\n        try {\n            Cipher cipher = Cipher.getInstance(cipherTransformation);\n            byte[] keyByte = key..getBytes(characterEncoding);\n            SecretKeySpec secretKey = new SecretKeySpec(keyByte, aesEncryptionAlgorithem);\n            IvParameterSpec ivparameterspec = new IvParameterSpec(initVector.getBytes());\n            cipher.init(Cipher.DECRYPT_MODE, secretKey, ivparameterspec);\n            Base64.Decoder decoder = Base64.getDecoder();\n            byte[] cipherText = decoder.decode(encryptedText.getBytes(&quot;UTF8&quot;));\n            decryptedText = new String(cipher.doFinal(cipherText), &quot;UTF-8&quot;);\n\n        } catch (Exception E) {\n            System.err.println(&quot;decrypt Exception : &quot;+E.getMessage());\n        }\n        return decryptedText;\n    }\n</code></pre>\n<p>the length of the given key and Iv is 32, I got this exception:\n<em><strong>Encrypt Exception : Wrong IV length: must be 16 bytes long</strong></em>\nI think I should convert the key and the Iv to another format in order to have the wanted length.</p>\n"},{"tags":["java","android","wear-os","android-wear-2.0","wear-os-tiles"],"answers":[{"tags":[],"owner":{"account_id":1481915,"reputation":12601,"user_id":1542667,"accept_rate":75,"display_name":"Yuri Schimke"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1641211064,"creation_date":1641211064,"answer_id":70565444,"question_id":70551668,"body_markdown":"There is a minimum time of 20 seconds.\r\n\r\nSee https://cs.android.com/androidx/platform/frameworks/support/+/androidx-main:wear/tiles/tiles-renderer/src/main/java/androidx/wear/tiles/manager/UpdateScheduler.java;l=31?q=20%20f:androidx%2Fwear%2Ftiles&amp;start=51\r\n\r\n```\r\n    @VisibleForTesting static final long MIN_INTER_UPDATE_INTERVAL_MILLIS = SECONDS.toMillis(20);\r\n```","title":"How do Wear OS Tiles update themselve every second?","body":"<p>There is a minimum time of 20 seconds.</p>\n<p>See <a href=\"https://cs.android.com/androidx/platform/frameworks/support/+/androidx-main:wear/tiles/tiles-renderer/src/main/java/androidx/wear/tiles/manager/UpdateScheduler.java;l=31?q=20%20f:androidx%2Fwear%2Ftiles&amp;start=51\" rel=\"nofollow noreferrer\">https://cs.android.com/androidx/platform/frameworks/support/+/androidx-main:wear/tiles/tiles-renderer/src/main/java/androidx/wear/tiles/manager/UpdateScheduler.java;l=31?q=20%20f:androidx%2Fwear%2Ftiles&amp;start=51</a></p>\n<pre><code>    @VisibleForTesting static final long MIN_INTER_UPDATE_INTERVAL_MILLIS = SECONDS.toMillis(20);\n</code></pre>\n"}],"owner":{"account_id":11451021,"reputation":269,"user_id":8393413,"display_name":"Pezcraft"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1140,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70565444,"answer_count":1,"score":1,"last_activity_date":1641211064,"creation_date":1641068873,"question_id":70551668,"body_markdown":"I have made a tile that should show the current heart rate. The tile gets the heart rate from shared preferences and it works perfectly but I need to refresh it like every second. Currently, I can only refresh it every minute using `.setFreshnessIntervalMillis(1000*60)`\r\n\r\nThe documentation says that I can update my tile from any place in my application using this...\r\n\r\n    TileService.getUpdater(context)\r\n           .requestUpdate(HeartRateTileService.class);\r\nBut this does nothing. I tried it in several locations like in onItemSelected inside my MainActivity, inside a BroadcastReceiver and inside a foreground service. Is this a context problem or something? I also tried\r\n\r\n    HeartRateTileService.getUpdater(this/getApplicationContext())\r\n           .requestUpdate(HeartRateTileService.class);\r\n\r\nThis is my tile...\r\n```java\r\npublic class HeartRateTileService extends TileService {\r\n    private static final String RESOURCES_VERSION = &quot;1&quot;;\r\n\r\n    private String currentHeartrate = &quot;0&quot;;\r\n    private PrefManager prefManager;\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        int i = super.onStartCommand(intent, flags, startId);\r\n\r\n        Log.d(&quot;HeartRate&quot;, &quot;onStartCommand &quot; + prefManager.getHeartrate());\r\n\r\n        return i;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        prefManager = new PrefManager(this);\r\n        Log.d(&quot;HeartRate&quot;, &quot;onCreate &quot; + prefManager.getHeartrate());\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    protected ListenableFuture&lt;TileBuilders.Tile&gt; onTileRequest(\r\n            @NonNull RequestBuilders.TileRequest requestParams\r\n    ) {\r\n        Log.d(&quot;HeartRate&quot;, &quot;onTileRequest &quot; + prefManager.getHeartrate());\r\n        return Futures.immediateFuture(new TileBuilders.Tile.Builder()\r\n                .setResourcesVersion(RESOURCES_VERSION)\r\n                .setFreshnessIntervalMillis(1000*60)\r\n                .setTimeline(new TimelineBuilders.Timeline.Builder()\r\n                        .addTimelineEntry(new TimelineBuilders.TimelineEntry.Builder()\r\n                                .setLayout(new LayoutElementBuilders.Layout.Builder()\r\n                                        .setRoot(\r\n                                                layoutHeartRate()\r\n                                        ).build()\r\n                                ).build()\r\n                        ).build()\r\n                ).build()\r\n        );\r\n    }\r\n\r\n    private LayoutElementBuilders.LayoutElement layoutPlay() {\r\n        return new LayoutElementBuilders.Box.Builder()\r\n                .setWidth(wrap())\r\n                .setHeight(expand())\r\n                .setVerticalAlignment(LayoutElementBuilders.VERTICAL_ALIGN_CENTER)\r\n                .addContent(new LayoutElementBuilders.Row.Builder()\r\n                        .addContent(\r\n                                IconButton.buildIconButton(\r\n                                        this,\r\n                                        &quot;ic_play&quot;,\r\n                                        R.color.colorAccent,\r\n                                        &quot;start measuring heart rate&quot;,\r\n                                        new ModifiersBuilders.Clickable.Builder()\r\n                                                .setOnClick(new ActionBuilders.LaunchAction.Builder()\r\n                                                        .setAndroidActivity(new ActionBuilders.AndroidActivity.Builder()\r\n                                                                .setClassName(MainActivity.class.getName())\r\n                                                                .setPackageName(this.getPackageName())\r\n                                                                .build()\r\n                                                        ).build()\r\n                                                )\r\n                                                .build()\r\n                                )\r\n                        ).build()\r\n                )\r\n                .build();\r\n    }\r\n\r\n    private LayoutElementBuilders.LayoutElement layoutHeartRate() {\r\n        prefManager = new PrefManager(this);\r\n        currentHeartrate = prefManager.getHeartrate();\r\n        return new LayoutElementBuilders.Box.Builder()\r\n                .setWidth(wrap())\r\n                .setHeight(expand())\r\n                .setVerticalAlignment(LayoutElementBuilders.VERTICAL_ALIGN_CENTER)\r\n                .addContent(new LayoutElementBuilders.Row.Builder()\r\n                        .addContent(\r\n                                IconButton.buildIconButton(\r\n                                        this,\r\n                                        &quot;&quot;,\r\n                                        R.color.colorAccent,\r\n                                        &quot;start measuring heart rate&quot;,\r\n                                        new ModifiersBuilders.Clickable.Builder()\r\n                                                .setOnClick(new ActionBuilders.LaunchAction.Builder()\r\n                                                        .setAndroidActivity(new ActionBuilders.AndroidActivity.Builder()\r\n                                                                .setClassName(MainActivity.class.getName())\r\n                                                                .setPackageName(this.getPackageName())\r\n                                                                .build()\r\n                                                        ).build()\r\n                                                )\r\n                                                .build()\r\n                                )\r\n                        ).build()\r\n                )\r\n                .addContent(new LayoutElementBuilders.Text.Builder()\r\n                        .setText(prefManager.getHeartrate())\r\n                        .build()\r\n                )\r\n                .build();\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    protected ListenableFuture&lt;ResourceBuilders.Resources&gt; onResourcesRequest(\r\n            @NonNull RequestBuilders.ResourcesRequest requestParams\r\n    ) {\r\n        Log.d(&quot;HeartRate&quot;, &quot;onResourcesRequest &quot; + prefManager.getHeartrate());\r\n        return Futures.immediateFuture(new ResourceBuilders.Resources.Builder()\r\n                .setVersion(RESOURCES_VERSION)\r\n                .addIdToImageMapping(&quot;ic_play&quot;, new ResourceBuilders.ImageResource.Builder()\r\n                        .setAndroidResourceByResId(new ResourceBuilders.AndroidImageResourceByResId.Builder()\r\n                                .setResourceId(R.drawable.ic_play)\r\n                                .build()\r\n                        ).build()\r\n                )\r\n                .build()\r\n        );\r\n    }\r\n\r\n}\r\n```","title":"How do Wear OS Tiles update themselve every second?","body":"<p>I have made a tile that should show the current heart rate. The tile gets the heart rate from shared preferences and it works perfectly but I need to refresh it like every second. Currently, I can only refresh it every minute using <code>.setFreshnessIntervalMillis(1000*60)</code></p>\n<p>The documentation says that I can update my tile from any place in my application using this...</p>\n<pre><code>TileService.getUpdater(context)\n       .requestUpdate(HeartRateTileService.class);\n</code></pre>\n<p>But this does nothing. I tried it in several locations like in onItemSelected inside my MainActivity, inside a BroadcastReceiver and inside a foreground service. Is this a context problem or something? I also tried</p>\n<pre><code>HeartRateTileService.getUpdater(this/getApplicationContext())\n       .requestUpdate(HeartRateTileService.class);\n</code></pre>\n<p>This is my tile...</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HeartRateTileService extends TileService {\n    private static final String RESOURCES_VERSION = &quot;1&quot;;\n\n    private String currentHeartrate = &quot;0&quot;;\n    private PrefManager prefManager;\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        int i = super.onStartCommand(intent, flags, startId);\n\n        Log.d(&quot;HeartRate&quot;, &quot;onStartCommand &quot; + prefManager.getHeartrate());\n\n        return i;\n    }\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        prefManager = new PrefManager(this);\n        Log.d(&quot;HeartRate&quot;, &quot;onCreate &quot; + prefManager.getHeartrate());\n    }\n\n    @NonNull\n    @Override\n    protected ListenableFuture&lt;TileBuilders.Tile&gt; onTileRequest(\n            @NonNull RequestBuilders.TileRequest requestParams\n    ) {\n        Log.d(&quot;HeartRate&quot;, &quot;onTileRequest &quot; + prefManager.getHeartrate());\n        return Futures.immediateFuture(new TileBuilders.Tile.Builder()\n                .setResourcesVersion(RESOURCES_VERSION)\n                .setFreshnessIntervalMillis(1000*60)\n                .setTimeline(new TimelineBuilders.Timeline.Builder()\n                        .addTimelineEntry(new TimelineBuilders.TimelineEntry.Builder()\n                                .setLayout(new LayoutElementBuilders.Layout.Builder()\n                                        .setRoot(\n                                                layoutHeartRate()\n                                        ).build()\n                                ).build()\n                        ).build()\n                ).build()\n        );\n    }\n\n    private LayoutElementBuilders.LayoutElement layoutPlay() {\n        return new LayoutElementBuilders.Box.Builder()\n                .setWidth(wrap())\n                .setHeight(expand())\n                .setVerticalAlignment(LayoutElementBuilders.VERTICAL_ALIGN_CENTER)\n                .addContent(new LayoutElementBuilders.Row.Builder()\n                        .addContent(\n                                IconButton.buildIconButton(\n                                        this,\n                                        &quot;ic_play&quot;,\n                                        R.color.colorAccent,\n                                        &quot;start measuring heart rate&quot;,\n                                        new ModifiersBuilders.Clickable.Builder()\n                                                .setOnClick(new ActionBuilders.LaunchAction.Builder()\n                                                        .setAndroidActivity(new ActionBuilders.AndroidActivity.Builder()\n                                                                .setClassName(MainActivity.class.getName())\n                                                                .setPackageName(this.getPackageName())\n                                                                .build()\n                                                        ).build()\n                                                )\n                                                .build()\n                                )\n                        ).build()\n                )\n                .build();\n    }\n\n    private LayoutElementBuilders.LayoutElement layoutHeartRate() {\n        prefManager = new PrefManager(this);\n        currentHeartrate = prefManager.getHeartrate();\n        return new LayoutElementBuilders.Box.Builder()\n                .setWidth(wrap())\n                .setHeight(expand())\n                .setVerticalAlignment(LayoutElementBuilders.VERTICAL_ALIGN_CENTER)\n                .addContent(new LayoutElementBuilders.Row.Builder()\n                        .addContent(\n                                IconButton.buildIconButton(\n                                        this,\n                                        &quot;&quot;,\n                                        R.color.colorAccent,\n                                        &quot;start measuring heart rate&quot;,\n                                        new ModifiersBuilders.Clickable.Builder()\n                                                .setOnClick(new ActionBuilders.LaunchAction.Builder()\n                                                        .setAndroidActivity(new ActionBuilders.AndroidActivity.Builder()\n                                                                .setClassName(MainActivity.class.getName())\n                                                                .setPackageName(this.getPackageName())\n                                                                .build()\n                                                        ).build()\n                                                )\n                                                .build()\n                                )\n                        ).build()\n                )\n                .addContent(new LayoutElementBuilders.Text.Builder()\n                        .setText(prefManager.getHeartrate())\n                        .build()\n                )\n                .build();\n    }\n\n    @NonNull\n    @Override\n    protected ListenableFuture&lt;ResourceBuilders.Resources&gt; onResourcesRequest(\n            @NonNull RequestBuilders.ResourcesRequest requestParams\n    ) {\n        Log.d(&quot;HeartRate&quot;, &quot;onResourcesRequest &quot; + prefManager.getHeartrate());\n        return Futures.immediateFuture(new ResourceBuilders.Resources.Builder()\n                .setVersion(RESOURCES_VERSION)\n                .addIdToImageMapping(&quot;ic_play&quot;, new ResourceBuilders.ImageResource.Builder()\n                        .setAndroidResourceByResId(new ResourceBuilders.AndroidImageResourceByResId.Builder()\n                                .setResourceId(R.drawable.ic_play)\n                                .build()\n                        ).build()\n                )\n                .build()\n        );\n    }\n\n}\n</code></pre>\n"},{"tags":["java","event-handling","reactive-programming","project-reactor","reactive-streams"],"answers":[{"tags":[],"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641210781,"creation_date":1641210781,"answer_id":70565396,"question_id":70564590,"body_markdown":"You can use [`mergeComparingWith`][1] operator and provide a `Comparator`  like this:\r\n\r\n```java\r\nFlux.fromIterable(source1)\r\n         .mergeComparingWith(Flux.fromIterable(source2), Comparator.comparing(Event::time, Instant::compareTo))\r\n         .subscribe(e -&gt; System.out.println(e.id));\r\n```\r\n\r\nIt produces a reordered merge sequence, by picking the smallest value from each sequence.\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#mergeComparingWith-org.reactivestreams.Publisher-java.util.Comparator-","title":"How to process historical data using Reactor?","body":"<p>You can use <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#mergeComparingWith-org.reactivestreams.Publisher-java.util.Comparator-\" rel=\"nofollow noreferrer\"><code>mergeComparingWith</code></a> operator and provide a <code>Comparator</code>  like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux.fromIterable(source1)\n         .mergeComparingWith(Flux.fromIterable(source2), Comparator.comparing(Event::time, Instant::compareTo))\n         .subscribe(e -&gt; System.out.println(e.id));\n</code></pre>\n<p>It produces a reordered merge sequence, by picking the smallest value from each sequence.</p>\n"}],"owner":{"account_id":18179968,"reputation":157,"user_id":13227948,"display_name":"jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641210781,"creation_date":1641206723,"question_id":70564590,"body_markdown":"Suppose I have two sources of historical events, and that the events of each source are in chronological order.\r\n\r\nHow can I merge these sources using Reactor so that the events in merged Flux are emitted in chronological order?\r\n\r\nIn RxNET, a combination of `Observable.Generate()` and `HistoricalScheduler` can be used to create an `Observable` from a source of historical events such that the emissions are scheduled according to times of the events (as detailed [here][1]), but I cannot figure out an equivalent way in Reactor. \r\n\r\nMaybe I could somehow use `Flux.generate()` with [`VirtualTimeScheduler`][2]?\r\n\r\nBelow is a toy example:\r\n\r\n```\r\npublic class Program {\r\n\r\n  public record Event(Instant time, String id) {}\r\n\r\n  public static void main(String[] args) {\r\n\r\n    var source1 = Arrays.asList(\r\n        new Event(Instant.ofEpochMilli(10), &quot;a&quot;),\r\n        new Event(Instant.ofEpochMilli(30), &quot;c&quot;),\r\n        new Event(Instant.ofEpochMilli(50), &quot;e&quot;)\r\n    );\r\n\r\n    var source2 = Arrays.asList(\r\n        new Event(Instant.ofEpochMilli(20), &quot;b&quot;),\r\n        new Event(Instant.ofEpochMilli(40), &quot;d&quot;),\r\n        new Event(Instant.ofEpochMilli(60), &quot;f&quot;)\r\n    );\r\n\r\n    Flux.fromIterable(source1)\r\n        .mergeWith(Flux.fromIterable(source2))\r\n        .subscribe(e -&gt; System.out.println(e.id));\r\n\r\n    // current output:\r\n    // a\r\n    // c\r\n    // e\r\n    // b\r\n    // d\r\n    // f\r\n\r\n    // desired output:\r\n    // a\r\n    // b\r\n    // c\r\n    // d\r\n    // e\r\n    // f\r\n   \r\n  }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/20975724/13227948\r\n  [2]: https://javadoc.io/doc/io.projectreactor.addons/reactor-test/latest/reactor/test/scheduler/VirtualTimeScheduler.html","title":"How to process historical data using Reactor?","body":"<p>Suppose I have two sources of historical events, and that the events of each source are in chronological order.</p>\n<p>How can I merge these sources using Reactor so that the events in merged Flux are emitted in chronological order?</p>\n<p>In RxNET, a combination of <code>Observable.Generate()</code> and <code>HistoricalScheduler</code> can be used to create an <code>Observable</code> from a source of historical events such that the emissions are scheduled according to times of the events (as detailed <a href=\"https://stackoverflow.com/a/20975724/13227948\">here</a>), but I cannot figure out an equivalent way in Reactor.</p>\n<p>Maybe I could somehow use <code>Flux.generate()</code> with <a href=\"https://javadoc.io/doc/io.projectreactor.addons/reactor-test/latest/reactor/test/scheduler/VirtualTimeScheduler.html\" rel=\"nofollow noreferrer\"><code>VirtualTimeScheduler</code></a>?</p>\n<p>Below is a toy example:</p>\n<pre><code>public class Program {\n\n  public record Event(Instant time, String id) {}\n\n  public static void main(String[] args) {\n\n    var source1 = Arrays.asList(\n        new Event(Instant.ofEpochMilli(10), &quot;a&quot;),\n        new Event(Instant.ofEpochMilli(30), &quot;c&quot;),\n        new Event(Instant.ofEpochMilli(50), &quot;e&quot;)\n    );\n\n    var source2 = Arrays.asList(\n        new Event(Instant.ofEpochMilli(20), &quot;b&quot;),\n        new Event(Instant.ofEpochMilli(40), &quot;d&quot;),\n        new Event(Instant.ofEpochMilli(60), &quot;f&quot;)\n    );\n\n    Flux.fromIterable(source1)\n        .mergeWith(Flux.fromIterable(source2))\n        .subscribe(e -&gt; System.out.println(e.id));\n\n    // current output:\n    // a\n    // c\n    // e\n    // b\n    // d\n    // f\n\n    // desired output:\n    // a\n    // b\n    // c\n    // d\n    // e\n    // f\n   \n  }\n}\n</code></pre>\n"},{"tags":["java","generics","primitive"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1641204749,"post_id":70564161,"comment_id":124738354,"body_markdown":"You&#39;d need to define a generic type for the buffered elements as well, e.g. `GLSubBuffer&lt;E, T extends Buffer&lt;E&gt;)` and then you&#39;d be able to use `E` like `update(E[] values)`. However, this means that you can&#39;t use primitive types like `int` and `float` but rather their wrapper counterparts `Integer` and `Float`.","body":"You&#39;d need to define a generic type for the buffered elements as well, e.g. <code>GLSubBuffer&lt;E, T extends Buffer&lt;E&gt;)</code> and then you&#39;d be able to use <code>E</code> like <code>update(E[] values)</code>. However, this means that you can&#39;t use primitive types like <code>int</code> and <code>float</code> but rather their wrapper counterparts <code>Integer</code> and <code>Float</code>."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1641205181,"post_id":70564161,"comment_id":124738473,"body_markdown":"Note that if `IntBuffer` is defined as `extends Buffer&lt;Integer&gt;` this could still use `int[]` internally. The generic interface would just have to use `Integer` and box/unbox (i.e. convert between `Integer` and `int`).","body":"Note that if <code>IntBuffer</code> is defined as <code>extends Buffer&lt;Integer&gt;</code> this could still use <code>int[]</code> internally. The generic interface would just have to use <code>Integer</code> and box/unbox (i.e. convert between <code>Integer</code> and <code>int</code>)."},{"owner":{"account_id":1710753,"reputation":993,"user_id":1568881,"accept_rate":40,"display_name":"Aguid"},"score":0,"creation_date":1641205910,"post_id":70564161,"comment_id":124738676,"body_markdown":"@Thomas Using this I will loose performance because I have always to box the array of primitives and then unbox it. I think in this case it  is better to keep as it is now","body":"@Thomas Using this I will loose performance because I have always to box the array of primitives and then unbox it. I think in this case it  is better to keep as it is now"},{"owner":{"account_id":1866073,"reputation":448,"user_id":1689608,"display_name":"dshelya"},"score":0,"creation_date":1641246416,"post_id":70564161,"comment_id":124752072,"body_markdown":"@Aguid based on the code above I can guess the `Buffer` declares a method `put` similar to `put(int position, T value)` that is then overridden in both `FloatBuffer` and `IntBuffer`, right? If that&#39;s the case how do you deal with boxing/unboxing there?","body":"@Aguid based on the code above I can guess the <code>Buffer</code> declares a method <code>put</code> similar to <code>put(int position, T value)</code> that is then overridden in both <code>FloatBuffer</code> and <code>IntBuffer</code>, right? If that&#39;s the case how do you deal with boxing/unboxing there?"}],"owner":{"account_id":1710753,"reputation":993,"user_id":1568881,"accept_rate":40,"display_name":"Aguid"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641210408,"creation_date":1641204341,"question_id":70564161,"body_markdown":"I have the main abstract class GLSubBuffer to model a subpart of a buffer : \r\n``` \r\n@Getter(value = AccessLevel.PROTECTED)\r\npublic abstract class GLSubBuffer&lt;T extends Buffer&gt; {\r\n\r\n  private final T buffer;\r\n  private final int position;\r\n  private final int capacity;\r\n\r\n  public GLSubBuffer(T buffer, int position, int capacity) {\r\n    this.buffer = buffer;\r\n    this.position = position;\r\n    this.capacity = capacity;\r\n  }\r\n\r\n}\r\n``` \r\n\r\nHere the class for a subpart of FloatBuffer \r\n\r\n``` \r\npublic class GLSubFloatBuffer extends GLSubBuffer&lt;FloatBuffer&gt; {\r\n\r\n  public GLSubFloatBuffer(FloatBuffer buffer, int position, int capacity) {\r\n    super(buffer, position, capacity);\r\n  }\r\n\r\n  public void update(float[] values) {\r\n\r\n    int min = Math.min(values.length, getCapacity());\r\n    for (int i = 0; i &lt; min; i++) {\r\n      getBuffer().put(i + getPosition(), values[i]);\r\n    }\r\n  }\r\n}\r\n```\r\nAnd the class for a subpart of IntBuffer\r\n\r\n```\r\npublic class GLSubIntBuffer extends GLSubBuffer&lt;IntBuffer&gt; {\r\n\r\n  public GLSubFloatBuffer(IntBuffer buffer, int position, int capacity) {\r\n    super(buffer, position, capacity);\r\n  }\r\n\r\n  public void update(int[] values) {\r\n\r\n    int min = Math.min(values.length, getCapacity());\r\n    for (int i = 0; i &lt; min; i++) {\r\n      getBuffer().put(i + getPosition(), values[i]);\r\n    }\r\n  }\r\n}\r\n``` \r\nHow to refactor the method update() to be able to move it to the main class and remove the two child classes ? ","title":"How to refactor to reduce the duplicated code?","body":"<p>I have the main abstract class GLSubBuffer to model a subpart of a buffer :</p>\n<pre><code>@Getter(value = AccessLevel.PROTECTED)\npublic abstract class GLSubBuffer&lt;T extends Buffer&gt; {\n\n  private final T buffer;\n  private final int position;\n  private final int capacity;\n\n  public GLSubBuffer(T buffer, int position, int capacity) {\n    this.buffer = buffer;\n    this.position = position;\n    this.capacity = capacity;\n  }\n\n}\n</code></pre>\n<p>Here the class for a subpart of FloatBuffer</p>\n<pre><code>public class GLSubFloatBuffer extends GLSubBuffer&lt;FloatBuffer&gt; {\n\n  public GLSubFloatBuffer(FloatBuffer buffer, int position, int capacity) {\n    super(buffer, position, capacity);\n  }\n\n  public void update(float[] values) {\n\n    int min = Math.min(values.length, getCapacity());\n    for (int i = 0; i &lt; min; i++) {\n      getBuffer().put(i + getPosition(), values[i]);\n    }\n  }\n}\n</code></pre>\n<p>And the class for a subpart of IntBuffer</p>\n<pre><code>public class GLSubIntBuffer extends GLSubBuffer&lt;IntBuffer&gt; {\n\n  public GLSubFloatBuffer(IntBuffer buffer, int position, int capacity) {\n    super(buffer, position, capacity);\n  }\n\n  public void update(int[] values) {\n\n    int min = Math.min(values.length, getCapacity());\n    for (int i = 0; i &lt; min; i++) {\n      getBuffer().put(i + getPosition(), values[i]);\n    }\n  }\n}\n</code></pre>\n<p>How to refactor the method update() to be able to move it to the main class and remove the two child classes ?</p>\n"},{"tags":["java","primefaces"],"answers":[{"tags":[],"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641210280,"creation_date":1641210280,"answer_id":70565311,"question_id":70558997,"body_markdown":"I got very confused by debugger...\r\n\r\nThe simplest solution is to add `label` like this:\r\n\r\n```xml\r\n&lt;p:inputText id=&quot;val1&quot; value=&quot;#{cc.attrs.data.val1}&quot; label=&quot;someLabel1&quot; /&gt;\r\n```\r\n\r\n...what I missed earlier is, that `label` is not a field therefor it was difficult to find it, it is available under `stateHelper`:\r\n\r\n[![debug in IDEA for InputText - stateHelper][1]][1]\r\n\r\nProbably better solution (despite `label` I cannot see in generated HTML) is to use custom attribute like this (I&#39;d bet I tried that as well, apparently not):\r\n\r\n```xml\r\n                &lt;p:inputText id=&quot;val2&quot; readonly=&quot;true&quot; value=&quot;#{cc.attrs.data.val2}&quot;&gt;\r\n                    &lt;f:attribute name=&quot;someAttribute&quot; value=&quot;value2&quot; /&gt;\r\n                &lt;/p:inputText&gt;\r\n```\r\n\r\nand it&#39;s easily accessible:\r\n\r\n[![debug in IDEA for InputText attributes][2]][2]\r\n\r\n  [1]: https://i.stack.imgur.com/jfmWx.png\r\n  [2]: https://i.stack.imgur.com/w7AMq.png","title":"FindComponent + set invalid challenge","body":"<p>I got very confused by debugger...</p>\n<p>The simplest solution is to add <code>label</code> like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;p:inputText id=&quot;val1&quot; value=&quot;#{cc.attrs.data.val1}&quot; label=&quot;someLabel1&quot; /&gt;\n</code></pre>\n<p>...what I missed earlier is, that <code>label</code> is not a field therefor it was difficult to find it, it is available under <code>stateHelper</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/jfmWx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jfmWx.png\" alt=\"debug in IDEA for InputText - stateHelper\" /></a></p>\n<p>Probably better solution (despite <code>label</code> I cannot see in generated HTML) is to use custom attribute like this (I'd bet I tried that as well, apparently not):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>                &lt;p:inputText id=&quot;val2&quot; readonly=&quot;true&quot; value=&quot;#{cc.attrs.data.val2}&quot;&gt;\n                    &lt;f:attribute name=&quot;someAttribute&quot; value=&quot;value2&quot; /&gt;\n                &lt;/p:inputText&gt;\n</code></pre>\n<p>and it's easily accessible:</p>\n<p><a href=\"https://i.stack.imgur.com/w7AMq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w7AMq.png\" alt=\"debug in IDEA for InputText attributes\" /></a></p>\n"}],"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641210280,"creation_date":1641150812,"question_id":70558997,"body_markdown":"I have a this simplified form to show the challenge:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIt is a form with multiple tabs (2 in this MVCE).\r\n\r\nMy goal is to highlight both fields in case of validation failure (but only for tab it is failing for).\r\n\r\nTabView (backing bean)\r\n----------------------\r\n\r\n```java\r\npackage betlista.so.pf.findComponent;\r\n\r\nimport com.sun.faces.component.visit.FullVisitContext;\r\nimport org.primefaces.PrimeFaces;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport javax.faces.application.FacesMessage;\r\nimport javax.faces.component.UIComponent;\r\nimport javax.faces.component.UIInput;\r\nimport javax.faces.component.UIViewRoot;\r\nimport javax.faces.component.visit.VisitCallback;\r\nimport javax.faces.component.visit.VisitContext;\r\nimport javax.faces.component.visit.VisitResult;\r\nimport javax.faces.context.FacesContext;\r\nimport java.util.LinkedList;\r\nimport java.util.List;\r\n\r\n@Component\r\npublic class TabView {\r\n\r\n    List&lt;TabData&gt; tabData = new LinkedList&lt;&gt;();\r\n\r\n    {\r\n        tabData.add(new TabData(&quot;name 1&quot;, &quot;val1-a&quot;, null));\r\n        tabData.add(new TabData(&quot;name b&quot;, &quot;val1-b&quot;, &quot;val2-b&quot;));\r\n    }\r\n\r\n    public List&lt;TabData&gt; getTabsData() {\r\n        return tabData;\r\n    }\r\n\r\n    public void save() {\r\n        boolean isValid = isValid();\r\n        if (isValid) {\r\n            // continue ...\r\n        }\r\n    }\r\n\r\n    private boolean isValid() {\r\n        boolean isOk = isOk();\r\n        if (isOk) {\r\n            return true;\r\n        }\r\n\t\tFacesMessage message = new FacesMessage(&quot;Not saved!&quot;);\r\n\t\tmessage.setSeverity(FacesMessage.SEVERITY_ERROR);\r\n\t\tFacesContext context = FacesContext.getCurrentInstance();\r\n\t\tcontext.addMessage(null, message);\r\n\r\n\t\tfinal UIViewRoot viewRoot = context.getViewRoot();\r\n\t\tList&lt;UIInput&gt; componentList = new LinkedList&lt;&gt;();\r\n\t\tviewRoot.visitTree(new FullVisitContext(context), new VisitCallback() {\r\n\t\t\t@Override\r\n\t\t\tpublic VisitResult visit(VisitContext context, UIComponent target) {\r\n\t\t\t\tif (target != null) {\r\n                    final String id = target.getId();\r\n                    if (&quot;val1&quot;.equals(id) || &quot;val2&quot;.equals(id)) {\r\n                        if (target instanceof UIInput) {\r\n                            componentList.add((UIInput) target);\r\n                        }\r\n                    }\r\n\t\t\t\t}\r\n\t\t\t\treturn VisitResult.ACCEPT;\r\n\t\t\t}\r\n\t\t});\r\n\t\tfor (UIInput uiInput: componentList) {\r\n\t\t\tuiInput.setValid(false);\r\n\t\t}\r\n\t\tcontext.validationFailed();\r\n        PrimeFaces.current().ajax().update(&quot;form&quot;);\r\n        final UIComponent val1 = context.getViewRoot().findComponent(&quot;val1&quot;);\r\n        return false;\r\n    }\r\n\r\n    private boolean isOk() {\r\n        return false;\r\n    }\r\n\r\n}\r\n```\r\n\r\nin this simplified version `isOk()` returns `false`.\r\n\r\nIn a validation I know whether data for 1st or second tab is not ok and I&#39;m trying to find a way how to highlight those two fields in tab.\r\n\r\nI tried initially `context.getViewRoot().findComponent(...)`, but I&#39;m not able to &quot;find it&quot; (returns  `null`). So to have access to the components I used this:\r\n\r\n```java\r\n\t\tList&lt;UIInput&gt; componentList = new LinkedList&lt;&gt;();\r\n\t\tviewRoot.visitTree(new FullVisitContext(context), new VisitCallback() {\r\n\t\t\t@Override\r\n\t\t\tpublic VisitResult visit(VisitContext context, UIComponent target) {\r\n\t\t\t\tif (target != null) {\r\n                    final String id = target.getId();\r\n                    if (&quot;val1&quot;.equals(id) || &quot;val2&quot;.equals(id)) {\r\n                        if (target instanceof UIInput) {\r\n                            componentList.add((UIInput) target);\r\n                        }\r\n                    }\r\n\t\t\t\t}\r\n\t\t\t\treturn VisitResult.ACCEPT;\r\n\t\t\t}\r\n\t\t});\r\n```\r\nso I have (in this case) all 4 components (but let say only those for first tab are invalid).\r\n\r\nI&#39;m trying to find a way how to identified which component belong to which tab (not sure whether to rely on a an order in list).\r\n\r\nI was trying dynamic ID&#39;s, but it&#39;s not working, e.g. I added tab name (`tabName`)as attribute and used\r\n\r\n```xml\r\n&lt;p:inputText id=&quot;#{cc.attr.tabName}-val2&quot; ... /&gt;\r\n```\r\n\r\nI found no way how to add some custom flag/attribute whatever to be able to link component to a tab.\r\n\r\nI was reading that ID can be dynamic once I&#39;d use EL custom function (I mean I can use concatenation), but I was not able to find a resource describing it (I have no `web.xml`).\r\n\r\nCode is available in [GitHub](https://github.com/Betlista/SO-FindComponent).\r\n\r\nmyTab.xhtml (custom component)\r\n------------------------------\r\n\r\n```xml\r\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:f=&quot;http://java.sun.com/jsf/core&quot; xmlns:p=&quot;http://primefaces.org/ui&quot;\r\n\txmlns:composite=&quot;http://java.sun.com/jsf/composite&quot;&gt;\r\n\r\n&lt;composite:interface&gt;\r\n    &lt;composite:attribute name=&quot;data&quot; required=&quot;true&quot; type=&quot;betlista.so.pf.findComponent.TabData&quot; /&gt;\r\n&lt;/composite:interface&gt;\r\n\r\n&lt;composite:implementation&gt;\r\n\r\n    &lt;div class=&quot;ui-g&quot;&gt;\r\n        &lt;div class=&quot;ui-g-12&quot;&gt;\r\n            &lt;div class=&quot;ui-g-6&quot;&gt;\r\n                &lt;p:outputLabel value=&quot;Val 1:&quot;/&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;ui-g-6&quot;&gt;\r\n                &lt;p:inputText id=&quot;val1&quot; value=&quot;#{cc.attrs.data.val1}&quot; widgetVar=&quot;#{cc.attrs.data.tabName}-val1&quot;/&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div class=&quot;ui-g-12&quot;&gt;\r\n            &lt;div class=&quot;ui-g-6&quot;&gt;\r\n                &lt;p:outputLabel value=&quot;Val 2:&quot;/&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;ui-g-6&quot;&gt;\r\n                &lt;p:inputText id=&quot;val2&quot; readonly=&quot;true&quot; value=&quot;#{cc.attrs.data.val2}&quot; widgetVar=&quot;#{cc.attrs.data.tabName}-val2&quot;/&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n&lt;/composite:implementation&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\npage.xhtml\r\n----------\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;\r\n        &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\r\n\r\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n      xmlns:p=&quot;http://primefaces.org/ui&quot;\r\n      xmlns:h=&quot;http://java.sun.com/jsf/html&quot;\r\n      xmlns:comp=&quot;http://xmlns.jcp.org/jsf/composite/comp&quot;&gt;\r\n\r\n&lt;h:head&gt;\r\n    &lt;h:outputScript library=&quot;webjars&quot; name=&quot;font-awesome/5.5.0/js/all.js&quot;/&gt;\r\n&lt;/h:head&gt;\r\n\r\n&lt;h:body styleClass=&quot;mainBody&quot;&gt;\r\n\r\n    &lt;h:form id=&quot;form&quot;&gt;\r\n        &lt;p:tabView id=&quot;tabView&quot; value=&quot;#{tabView.tabsData}&quot; var=&quot;tabVar&quot;&gt;\r\n            &lt;p:tab id=&quot;tab&quot; title=&quot;#{tabVar.tabName}&quot;&gt;\r\n                &lt;comp:myTab data=&quot;#{tabVar}&quot; /&gt;\r\n            &lt;/p:tab&gt;\r\n        &lt;/p:tabView&gt;\r\n        &lt;p:commandButton value=&quot;Save&quot; action=&quot;#{tabView.save()}&quot; process=&quot;@form&quot; update=&quot;@form&quot; /&gt;\r\n\r\n        &lt;p:growl id=&quot;growl&quot; life=&quot;3000&quot;/&gt;\r\n    &lt;/h:form&gt;\r\n\r\n&lt;/h:body&gt;\r\n\r\n&lt;/html&gt;\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/pPn9L.png","title":"FindComponent + set invalid challenge","body":"<p>I have a this simplified form to show the challenge:</p>\n<p><a href=\"https://i.stack.imgur.com/pPn9L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pPn9L.png\" alt=\"enter image description here\" /></a></p>\n<p>It is a form with multiple tabs (2 in this MVCE).</p>\n<p>My goal is to highlight both fields in case of validation failure (but only for tab it is failing for).</p>\n<h2>TabView (backing bean)</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package betlista.so.pf.findComponent;\n\nimport com.sun.faces.component.visit.FullVisitContext;\nimport org.primefaces.PrimeFaces;\nimport org.springframework.stereotype.Component;\n\nimport javax.faces.application.FacesMessage;\nimport javax.faces.component.UIComponent;\nimport javax.faces.component.UIInput;\nimport javax.faces.component.UIViewRoot;\nimport javax.faces.component.visit.VisitCallback;\nimport javax.faces.component.visit.VisitContext;\nimport javax.faces.component.visit.VisitResult;\nimport javax.faces.context.FacesContext;\nimport java.util.LinkedList;\nimport java.util.List;\n\n@Component\npublic class TabView {\n\n    List&lt;TabData&gt; tabData = new LinkedList&lt;&gt;();\n\n    {\n        tabData.add(new TabData(&quot;name 1&quot;, &quot;val1-a&quot;, null));\n        tabData.add(new TabData(&quot;name b&quot;, &quot;val1-b&quot;, &quot;val2-b&quot;));\n    }\n\n    public List&lt;TabData&gt; getTabsData() {\n        return tabData;\n    }\n\n    public void save() {\n        boolean isValid = isValid();\n        if (isValid) {\n            // continue ...\n        }\n    }\n\n    private boolean isValid() {\n        boolean isOk = isOk();\n        if (isOk) {\n            return true;\n        }\n        FacesMessage message = new FacesMessage(&quot;Not saved!&quot;);\n        message.setSeverity(FacesMessage.SEVERITY_ERROR);\n        FacesContext context = FacesContext.getCurrentInstance();\n        context.addMessage(null, message);\n\n        final UIViewRoot viewRoot = context.getViewRoot();\n        List&lt;UIInput&gt; componentList = new LinkedList&lt;&gt;();\n        viewRoot.visitTree(new FullVisitContext(context), new VisitCallback() {\n            @Override\n            public VisitResult visit(VisitContext context, UIComponent target) {\n                if (target != null) {\n                    final String id = target.getId();\n                    if (&quot;val1&quot;.equals(id) || &quot;val2&quot;.equals(id)) {\n                        if (target instanceof UIInput) {\n                            componentList.add((UIInput) target);\n                        }\n                    }\n                }\n                return VisitResult.ACCEPT;\n            }\n        });\n        for (UIInput uiInput: componentList) {\n            uiInput.setValid(false);\n        }\n        context.validationFailed();\n        PrimeFaces.current().ajax().update(&quot;form&quot;);\n        final UIComponent val1 = context.getViewRoot().findComponent(&quot;val1&quot;);\n        return false;\n    }\n\n    private boolean isOk() {\n        return false;\n    }\n\n}\n</code></pre>\n<p>in this simplified version <code>isOk()</code> returns <code>false</code>.</p>\n<p>In a validation I know whether data for 1st or second tab is not ok and I'm trying to find a way how to highlight those two fields in tab.</p>\n<p>I tried initially <code>context.getViewRoot().findComponent(...)</code>, but I'm not able to &quot;find it&quot; (returns  <code>null</code>). So to have access to the components I used this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        List&lt;UIInput&gt; componentList = new LinkedList&lt;&gt;();\n        viewRoot.visitTree(new FullVisitContext(context), new VisitCallback() {\n            @Override\n            public VisitResult visit(VisitContext context, UIComponent target) {\n                if (target != null) {\n                    final String id = target.getId();\n                    if (&quot;val1&quot;.equals(id) || &quot;val2&quot;.equals(id)) {\n                        if (target instanceof UIInput) {\n                            componentList.add((UIInput) target);\n                        }\n                    }\n                }\n                return VisitResult.ACCEPT;\n            }\n        });\n</code></pre>\n<p>so I have (in this case) all 4 components (but let say only those for first tab are invalid).</p>\n<p>I'm trying to find a way how to identified which component belong to which tab (not sure whether to rely on a an order in list).</p>\n<p>I was trying dynamic ID's, but it's not working, e.g. I added tab name (<code>tabName</code>)as attribute and used</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;p:inputText id=&quot;#{cc.attr.tabName}-val2&quot; ... /&gt;\n</code></pre>\n<p>I found no way how to add some custom flag/attribute whatever to be able to link component to a tab.</p>\n<p>I was reading that ID can be dynamic once I'd use EL custom function (I mean I can use concatenation), but I was not able to find a resource describing it (I have no <code>web.xml</code>).</p>\n<p>Code is available in <a href=\"https://github.com/Betlista/SO-FindComponent\" rel=\"nofollow noreferrer\">GitHub</a>.</p>\n<h2>myTab.xhtml (custom component)</h2>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:f=&quot;http://java.sun.com/jsf/core&quot; xmlns:p=&quot;http://primefaces.org/ui&quot;\n    xmlns:composite=&quot;http://java.sun.com/jsf/composite&quot;&gt;\n\n&lt;composite:interface&gt;\n    &lt;composite:attribute name=&quot;data&quot; required=&quot;true&quot; type=&quot;betlista.so.pf.findComponent.TabData&quot; /&gt;\n&lt;/composite:interface&gt;\n\n&lt;composite:implementation&gt;\n\n    &lt;div class=&quot;ui-g&quot;&gt;\n        &lt;div class=&quot;ui-g-12&quot;&gt;\n            &lt;div class=&quot;ui-g-6&quot;&gt;\n                &lt;p:outputLabel value=&quot;Val 1:&quot;/&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;ui-g-6&quot;&gt;\n                &lt;p:inputText id=&quot;val1&quot; value=&quot;#{cc.attrs.data.val1}&quot; widgetVar=&quot;#{cc.attrs.data.tabName}-val1&quot;/&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=&quot;ui-g-12&quot;&gt;\n            &lt;div class=&quot;ui-g-6&quot;&gt;\n                &lt;p:outputLabel value=&quot;Val 2:&quot;/&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;ui-g-6&quot;&gt;\n                &lt;p:inputText id=&quot;val2&quot; readonly=&quot;true&quot; value=&quot;#{cc.attrs.data.val2}&quot; widgetVar=&quot;#{cc.attrs.data.tabName}-val2&quot;/&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n&lt;/composite:implementation&gt;\n&lt;/html&gt;\n</code></pre>\n<h2>page.xhtml</h2>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;\n        &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\n\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n      xmlns:p=&quot;http://primefaces.org/ui&quot;\n      xmlns:h=&quot;http://java.sun.com/jsf/html&quot;\n      xmlns:comp=&quot;http://xmlns.jcp.org/jsf/composite/comp&quot;&gt;\n\n&lt;h:head&gt;\n    &lt;h:outputScript library=&quot;webjars&quot; name=&quot;font-awesome/5.5.0/js/all.js&quot;/&gt;\n&lt;/h:head&gt;\n\n&lt;h:body styleClass=&quot;mainBody&quot;&gt;\n\n    &lt;h:form id=&quot;form&quot;&gt;\n        &lt;p:tabView id=&quot;tabView&quot; value=&quot;#{tabView.tabsData}&quot; var=&quot;tabVar&quot;&gt;\n            &lt;p:tab id=&quot;tab&quot; title=&quot;#{tabVar.tabName}&quot;&gt;\n                &lt;comp:myTab data=&quot;#{tabVar}&quot; /&gt;\n            &lt;/p:tab&gt;\n        &lt;/p:tabView&gt;\n        &lt;p:commandButton value=&quot;Save&quot; action=&quot;#{tabView.save()}&quot; process=&quot;@form&quot; update=&quot;@form&quot; /&gt;\n\n        &lt;p:growl id=&quot;growl&quot; life=&quot;3000&quot;/&gt;\n    &lt;/h:form&gt;\n\n&lt;/h:body&gt;\n\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","c","sorting","optimization","benchmarking"],"comments":[{"owner":{"account_id":5175721,"reputation":34195,"user_id":4142924,"display_name":"Weather Vane"},"score":8,"creation_date":1639397863,"post_id":70334436,"comment_id":124330309,"body_markdown":"Do they sort the same data or is it a knock-on of the PRNG implementation? Try loading the same data from a prepared file (and check that the sorting worked too). More seriously, you seem to be including the array allocation and generation in the timing.","body":"Do they sort the same data or is it a knock-on of the PRNG implementation? Try loading the same data from a prepared file (and check that the sorting worked too). More seriously, you seem to be including the array allocation and generation in the timing."},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":0,"creation_date":1639398385,"post_id":70334436,"comment_id":124330487,"body_markdown":"You&#39;re likely benchmarking the RNG instead of your implementation.","body":"You&#39;re likely benchmarking the RNG instead of your implementation."},{"owner":{"account_id":6438860,"reputation":13771,"user_id":4989451,"display_name":"tstanisl"},"score":0,"creation_date":1639402715,"post_id":70334436,"comment_id":124332071,"body_markdown":"please add implementation of `genRandArray` for both C and Java","body":"please add implementation of <code>genRandArray</code> for both C and Java"},{"owner":{"account_id":6438860,"reputation":13771,"user_id":4989451,"display_name":"tstanisl"},"score":2,"creation_date":1639402900,"post_id":70334436,"comment_id":124332137,"body_markdown":"@AndrewHenle, the timing scales with O(N^2), therefore the execution time is likely dominated by sorting (at least for Selection and Insertion sort).","body":"@AndrewHenle, the timing scales with O(N^2), therefore the execution time is likely dominated by sorting (at least for Selection and Insertion sort)."},{"owner":{"account_id":6438860,"reputation":13771,"user_id":4989451,"display_name":"tstanisl"},"score":1,"creation_date":1639403410,"post_id":70334436,"comment_id":124332358,"body_markdown":"don&#39;t use `*(arr + i)` in C. Simply use `arr[i]` as in Java","body":"don&#39;t use <code>*(arr + i)</code> in C. Simply use <code>arr[i]</code> as in Java"},{"owner":{"account_id":12776,"reputation":107137,"user_id":25324,"accept_rate":100,"display_name":"pmg"},"score":0,"creation_date":1639415799,"post_id":70334436,"comment_id":124337549,"body_markdown":"Use `size_t` for array indexes (and associated variables) in the C version?","body":"Use <code>size_t</code> for array indexes (and associated variables) in the C version?"},{"owner":{"account_id":12145,"reputation":40207,"user_id":23771,"accept_rate":60,"display_name":"Mike Dunlavey"},"score":1,"creation_date":1639416770,"post_id":70334436,"comment_id":124337905,"body_markdown":"Don&#39;t just time it until you know the code is optimal. The way you make it optimal is to remove activities that unnecessarily and unpredictably cost a large fraction of time. You don&#39;t do that by eyeballing the code or counting on the compiler optimizer. You do it by randomly halting it under the debugger to see what it&#39;s doing. Do this on *unoptimized* code. After you&#39;ve made the unoptimized code as fast as possible, then turn on the compiler&#39;s optimizer.","body":"Don&#39;t just time it until you know the code is optimal. The way you make it optimal is to remove activities that unnecessarily and unpredictably cost a large fraction of time. You don&#39;t do that by eyeballing the code or counting on the compiler optimizer. You do it by randomly halting it under the debugger to see what it&#39;s doing. Do this on <i>unoptimized</i> code. After you&#39;ve made the unoptimized code as fast as possible, then turn on the compiler&#39;s optimizer."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1639416936,"post_id":70334436,"comment_id":124337982,"body_markdown":"**Memory allocation and free of C is slower than java&#39;s garbage collection** (though java uses threads!).  And different algorithms for random number generation is a large unknown.","body":"<b>Memory allocation and free of C is slower than java&#39;s garbage collection</b> (though java uses threads!).  And different algorithms for random number generation is a large unknown."},{"owner":{"account_id":4460083,"reputation":16468,"user_id":3629249,"display_name":"user3629249"},"score":0,"creation_date":1639426720,"post_id":70334436,"comment_id":124341170,"body_markdown":"The &#39;slow&#39; c code is actually C++, which is NOT fast","body":"The &#39;slow&#39; c code is actually C++, which is NOT fast"},{"owner":{"account_id":433754,"reputation":38773,"user_id":995714,"accept_rate":56,"display_name":"phuclv"},"score":1,"creation_date":1639457709,"post_id":70334436,"comment_id":124347322,"body_markdown":"and you also need to do a proper Java microbenchmark which is difficult: [How do I write a correct micro-benchmark in Java?](https://stackoverflow.com/q/504103/995714)","body":"and you also need to do a proper Java microbenchmark which is difficult: <a href=\"https://stackoverflow.com/q/504103/995714\">How do I write a correct micro-benchmark in Java?</a>"},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1639558555,"post_id":70334436,"comment_id":124376701,"body_markdown":"What CPU exactly?  What version of what C compiler?  What JVM version?","body":"What CPU exactly?  What version of what C compiler?  What JVM version?"},{"owner":{"account_id":285695,"reputation":198878,"user_id":584518,"accept_rate":96,"display_name":"Lundin"},"score":0,"creation_date":1639570938,"post_id":70334436,"comment_id":124381351,"body_markdown":"Sigh... not this again. Post what system, CPU, compiler, compiler options and so on that you are using.","body":"Sigh... not this again. Post what system, CPU, compiler, compiler options and so on that you are using."}],"answers":[{"tags":[],"owner":{"account_id":4060173,"reputation":30602,"user_id":6699433,"accept_rate":67,"display_name":"klutt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641209934,"creation_date":1639397945,"answer_id":70334562,"question_id":70334436,"body_markdown":"### TL;DR\r\n\r\nIn general, short snippets like this are not a fair way to compare languages. There are a lot of factors that comes into play. Code does not automatically get faster when you write it in C instead of Java. If that were the case, you could just write a Java2C converter. Compiler flags matters a lot, but also the skill of the programmer.\r\n\r\n### Longer explanation\r\n\r\nI cannot say for sure, but this:\r\n\r\n```lang-C\r\nfor (j = i - 1; j &gt;= 0 &amp;&amp; arr[j] &gt; temp; j--) {\r\n  arr[j + 1] = arr[j];\r\n}\r\n```\r\n\r\nis not very cache friendly, because you&#39;re traversing the list backwards. I would try changing the loop so that the outer loop do the backwards traversing instead of the inner loop.\r\n\r\nBut I&#39;d say that your question is fundamentally flawed. Code does not automatically get a performance boost just because you rewrite it from Java to C. In the same way, C programs does not automatically get faster because you rewrite them to assembly. One could say that C *allows* you to write faster programs than Java, but in the end, the result depend on the programmer.\r\n\r\nOne thing that can speed up Java programs is the JIT compiler, which can do statistics to optimize the code during runtime for the specific conditions right there and then. While it is possible to make a C compiler to optimize for *typical* workload, it cannot optimize for *current* workload.\r\n\r\nYou said that you used `-O3` for the C code. But what target did you use? Did you optimize for your machine or a general one? The JIT compiler knows the target to optimize for. Try using `-march=native`\r\n\r\nAre you sure that you&#39;re using the same size for `int`? It&#39;s 32 bit in Java, but might be 64 in C. It might speed up the C code if you switch to `int32_t` instead. But it might also slow it down. (Very unlikely that this is the cause, but I just wanted to mention it as a possibility)\r\n\r\nC usually shines when it comes to very low level stuff. \r\n\r\nAnd if we look in your Java code:\r\n\r\n    for (int i = 1; i &lt; array.length; i ++) {\r\n          int temp = array[i];\r\n\r\nIn this example, a smart compiler can easily see that `array` will never be accessed out of bounds. But what if we instead would have something like:\r\n\r\n    while(&lt;condition&gt;) {\r\n          int temp = array[foo()];\r\n\r\nwhere it cannot be determined beforehand that `array` will not go out of bounds? Then Java is forced to do constant boundary checking to be able to throw exceptions. The code would be translated to something like:\r\n\r\n    while(&lt;condition&gt;) {\r\n          int i = foo();\r\n          if(i &gt;= array.length)\r\n               throw exception;\r\n          int temp = array[i];\r\n\r\nThis gives security, but costs performance. C would simply allow you to access out of bounds, which is faster but may cause bugs that are hard to find.\r\n\r\nI found a nice question with more info: [Why would it ever be possible for Java to be faster than C++?](https://softwareengineering.stackexchange.com/q/110634/283695) \r\n\r\nApart from that, I can see that you&#39;re including the data generation in the benchmark. That&#39;s very bad. Generate the data before starting the timer. Like this:\r\n\r\n    int *arrs[num_times];\r\n\r\n    for (int i = 0; i &lt; num_times; i++) \r\n        arrs[i] = gen_rand_arr(arr_size);\r\n    \r\n    gettimeofday(&amp;start, NULL);\r\n\r\n    for (int i = 0; i &lt; num_times; i++) \r\n        f(arrs[i], arr_size);\r\n\r\n    gettimeofday(&amp;end, NULL);\r\n","title":"Is there any reason why Java would be performing faster than C for sorting int arrays with manual Insertion / Selection / Radix sorts?","body":"<h3>TL;DR</h3>\n<p>In general, short snippets like this are not a fair way to compare languages. There are a lot of factors that comes into play. Code does not automatically get faster when you write it in C instead of Java. If that were the case, you could just write a Java2C converter. Compiler flags matters a lot, but also the skill of the programmer.</p>\n<h3>Longer explanation</h3>\n<p>I cannot say for sure, but this:</p>\n<pre class=\"lang-C prettyprint-override\"><code>for (j = i - 1; j &gt;= 0 &amp;&amp; arr[j] &gt; temp; j--) {\n  arr[j + 1] = arr[j];\n}\n</code></pre>\n<p>is not very cache friendly, because you're traversing the list backwards. I would try changing the loop so that the outer loop do the backwards traversing instead of the inner loop.</p>\n<p>But I'd say that your question is fundamentally flawed. Code does not automatically get a performance boost just because you rewrite it from Java to C. In the same way, C programs does not automatically get faster because you rewrite them to assembly. One could say that C <em>allows</em> you to write faster programs than Java, but in the end, the result depend on the programmer.</p>\n<p>One thing that can speed up Java programs is the JIT compiler, which can do statistics to optimize the code during runtime for the specific conditions right there and then. While it is possible to make a C compiler to optimize for <em>typical</em> workload, it cannot optimize for <em>current</em> workload.</p>\n<p>You said that you used <code>-O3</code> for the C code. But what target did you use? Did you optimize for your machine or a general one? The JIT compiler knows the target to optimize for. Try using <code>-march=native</code></p>\n<p>Are you sure that you're using the same size for <code>int</code>? It's 32 bit in Java, but might be 64 in C. It might speed up the C code if you switch to <code>int32_t</code> instead. But it might also slow it down. (Very unlikely that this is the cause, but I just wanted to mention it as a possibility)</p>\n<p>C usually shines when it comes to very low level stuff.</p>\n<p>And if we look in your Java code:</p>\n<pre><code>for (int i = 1; i &lt; array.length; i ++) {\n      int temp = array[i];\n</code></pre>\n<p>In this example, a smart compiler can easily see that <code>array</code> will never be accessed out of bounds. But what if we instead would have something like:</p>\n<pre><code>while(&lt;condition&gt;) {\n      int temp = array[foo()];\n</code></pre>\n<p>where it cannot be determined beforehand that <code>array</code> will not go out of bounds? Then Java is forced to do constant boundary checking to be able to throw exceptions. The code would be translated to something like:</p>\n<pre><code>while(&lt;condition&gt;) {\n      int i = foo();\n      if(i &gt;= array.length)\n           throw exception;\n      int temp = array[i];\n</code></pre>\n<p>This gives security, but costs performance. C would simply allow you to access out of bounds, which is faster but may cause bugs that are hard to find.</p>\n<p>I found a nice question with more info: <a href=\"https://softwareengineering.stackexchange.com/q/110634/283695\">Why would it ever be possible for Java to be faster than C++?</a></p>\n<p>Apart from that, I can see that you're including the data generation in the benchmark. That's very bad. Generate the data before starting the timer. Like this:</p>\n<pre><code>int *arrs[num_times];\n\nfor (int i = 0; i &lt; num_times; i++) \n    arrs[i] = gen_rand_arr(arr_size);\n\ngettimeofday(&amp;start, NULL);\n\nfor (int i = 0; i &lt; num_times; i++) \n    f(arrs[i], arr_size);\n\ngettimeofday(&amp;end, NULL);\n</code></pre>\n"}],"owner":{"account_id":23633398,"reputation":21,"user_id":17664805,"display_name":"lightningx10"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":70334562,"answer_count":1,"score":0,"last_activity_date":1641209934,"creation_date":1639397360,"question_id":70334436,"body_markdown":"Platform: OpenBSD, compiler: gcc, javac (OpenJDK version 17)\r\n\r\nI have made a few sorting benchmarks in various languages, and I&#39;m rather surprised by the performance of the Java program over the C program.\r\n\r\nI have programmed the exact same sorting algorithms in both languages, and the Java program finishes almost twice as fast, all other languages are slower than the C implementation except the Java one.\r\n\r\nThe benchmarks involve running the sorting algorithm on a random array of numbers a set number of times.\r\n\r\nI am compiling the program with `-O3` and `-Ofast`, so I cannot apply any more compiler optimizations.\r\n\r\nThe exact code can be found [here](https://gitlab.com/lightningx10/sorting), but here is an excerpt from it:\r\n\r\n**Java:**\r\n```\r\npublic static void benchmark(SortingFunction func, int arraySize, int numTimes, String name, BufferedOutputStream bo) throws IOException {\r\n    int[][] arrs = new int[numTimes][arraySize];\r\n    for (int i = 0; i &lt; numTimes; i ++) {\r\n      arrs[i] = genRandArray(arraySize);\r\n    }\r\n    long start = System.nanoTime();\r\n    for (int i = 0; i &lt; numTimes; i ++) {\r\n      func.sort(arrs[i]);\r\n    }\r\n    long end = System.nanoTime();\r\n    double time = (double)(end - start) / 1e9;\r\n    System.out.println(&quot;It took &quot; + time + &quot; seconds to do &quot; + name + &quot; sort &quot; +\r\n            numTimes + &quot; times on arrays of size &quot; + arraySize\r\n    );\r\n    String out = name+&quot;,&quot;+numTimes+&quot;,&quot;+arraySize+&quot;,&quot;+time;\r\n    for (char c : out.toCharArray()) {\r\n      bo.write(c);\r\n    }\r\n    bo.write(&#39;\\n&#39;);\r\n  }\r\n```\r\n```\r\npublic static void insertionSort(int[] array) {\r\n    for (int i = 1; i &lt; array.length; i ++) {\r\n      int temp = array[i];\r\n      int j;\r\n      for (j = i - 1; j &gt;= 0 &amp;&amp; array[j] &gt; temp; j --) {\r\n        array[j+1] = array[j];\r\n      }\r\n      array[j+1] = temp;\r\n    }\r\n  }\r\n```\r\n\r\n**C:**\r\n```\r\nvoid benchmark(void (*f)(int *, int), int arr_size, int num_times, char *name,\r\n               FILE *fp) {\r\n  int *arrs[num_times];\r\n  struct timeval start, end;\r\n  double t;\r\n  for (int i = 0; i &lt; num_times; i++) {\r\n    arrs[i] = gen_rand_arr(arr_size);\r\n  }\r\n  gettimeofday(&amp;start, NULL);\r\n  for (int i = 0; i &lt; num_times; i++) {\r\n    f(arrs[i], arr_size);\r\n  }\r\n  gettimeofday(&amp;end, NULL);\r\n  for (int i = 0; i &lt; num_times; i++) {\r\n    free(arrs[i]);\r\n  }\r\n  t = ((double)(end.tv_sec * 1000000 + end.tv_usec -\r\n                (start.tv_sec * 1000000 + start.tv_usec))) /\r\n      1000000;\r\n  printf(&quot;It took %f seconds to do %s sort %d times on arrays of size %d\\n&quot;, t,\r\n         name, num_times, arr_size);\r\n\r\n  if (fp != NULL) {\r\n    fprintf(fp, &quot;%s,%d,%d,%f\\n&quot;, name, num_times, arr_size, t);\r\n  }\r\n}\r\n```\r\n```\r\nvoid insertion_sort(int *arr, int arr_size) {\r\n  for (int i = 1; i &lt; arr_size; i++) {\r\n    int temp = arr[i];\r\n    int j;\r\n    for (j = i - 1; j &gt;= 0 &amp;&amp; *(arr + j) &gt; temp; j--) {\r\n      arr[j + 1] = arr[j];\r\n    }\r\n    arr[j + 1] = temp;\r\n  }\r\n  return;\r\n}\r\n```\r\n\r\nAre there some optimizations that Java is making to run faster that somehow change the algorithm? What is going on here?\r\n\r\nAny explanations would be appreciated.\r\n\r\nHere is a table of results that might help explain the difference:\r\n\r\n**Java:**\r\n\r\n|name|rep|size|time|\r\n|----|---|----|----|\r\n|Insertion|10000|1200|1.033|\r\n|Insertion|10000|5000|15.677|\r\n|Insertion|10000|12000|88.190|\r\n|Selection|10000|1200|3.118|\r\n|Selection|10000|5000|48.377|\r\n|Selection|10000|12000|268.608|\r\n|Radix|10000|1200|0.385|\r\n|Radix|10000|5000|1.491|\r\n|Radix|10000|12000|3.563|\r\n|Bogo|1|11|1.330|\r\n|Bogo|1|12|0.572|\r\n|Bogo|1|13|122.777|\r\n\r\n**C:**\r\n\r\n|name|rep|size|time|\r\n|----|---|----|----|\r\n|Insertion|10000|1200|1.766|\r\n|Insertion|10000|5000|26.106|\r\n|Insertion|10000|12000|140.582|\r\n|Selection|10000|1200|4.011|\r\n|Selection|10000|5000|60.442|\r\n|Selection|10000|12000|340.608|\r\n|Radix|10000|1200|0.430|\r\n|Radix|10000|5000|1.788|\r\n|Radix|10000|12000|4.295|\r\n|Bogo|1|11|1.378|\r\n|Bogo|1|12|2.296|\r\n|Bogo|1|13|1586.73|\r\n\r\n**Edit:**\r\n\r\nI modified the benchmarking function to generate the arrays beforehand, in Java it overflows the heap, and in C it makes it not much faster (around 25%, but Java is still faster).\r\n\r\nfwiw I also changed how I indexed things in C from `*(arr + i)` to `arr[i]`.\r\n\r\nHere&#39;s the implementation for the random array generator in Java and C:\r\n\r\n**Java:**\r\n```\r\n  public static int[] genRandArray(int arraySize) {\r\n    int[] ret = new int[arraySize];\r\n    Random rand = new Random();\r\n    for (int i = 0; i &lt; ret.length; i ++) {\r\n      ret[i] = rand.nextInt(100);\r\n    }\r\n    return ret;\r\n  }\r\n```\r\n**C:**\r\n```\r\nint *gen_rand_arr(int arr_size) {\r\n  int *arr;\r\n  if ((arr = malloc(arr_size * sizeof(int))) == NULL) {\r\n    exit(1);\r\n  }\r\n  for (int i = 0; i &lt; arr_size; i++) {\r\n    arr[i] = arc4random_uniform(100);\r\n  }\r\n  return arr;\r\n}\r\n```","title":"Is there any reason why Java would be performing faster than C for sorting int arrays with manual Insertion / Selection / Radix sorts?","body":"<p>Platform: OpenBSD, compiler: gcc, javac (OpenJDK version 17)</p>\n<p>I have made a few sorting benchmarks in various languages, and I'm rather surprised by the performance of the Java program over the C program.</p>\n<p>I have programmed the exact same sorting algorithms in both languages, and the Java program finishes almost twice as fast, all other languages are slower than the C implementation except the Java one.</p>\n<p>The benchmarks involve running the sorting algorithm on a random array of numbers a set number of times.</p>\n<p>I am compiling the program with <code>-O3</code> and <code>-Ofast</code>, so I cannot apply any more compiler optimizations.</p>\n<p>The exact code can be found <a href=\"https://gitlab.com/lightningx10/sorting\" rel=\"nofollow noreferrer\">here</a>, but here is an excerpt from it:</p>\n<p><strong>Java:</strong></p>\n<pre><code>public static void benchmark(SortingFunction func, int arraySize, int numTimes, String name, BufferedOutputStream bo) throws IOException {\n    int[][] arrs = new int[numTimes][arraySize];\n    for (int i = 0; i &lt; numTimes; i ++) {\n      arrs[i] = genRandArray(arraySize);\n    }\n    long start = System.nanoTime();\n    for (int i = 0; i &lt; numTimes; i ++) {\n      func.sort(arrs[i]);\n    }\n    long end = System.nanoTime();\n    double time = (double)(end - start) / 1e9;\n    System.out.println(&quot;It took &quot; + time + &quot; seconds to do &quot; + name + &quot; sort &quot; +\n            numTimes + &quot; times on arrays of size &quot; + arraySize\n    );\n    String out = name+&quot;,&quot;+numTimes+&quot;,&quot;+arraySize+&quot;,&quot;+time;\n    for (char c : out.toCharArray()) {\n      bo.write(c);\n    }\n    bo.write('\\n');\n  }\n</code></pre>\n<pre><code>public static void insertionSort(int[] array) {\n    for (int i = 1; i &lt; array.length; i ++) {\n      int temp = array[i];\n      int j;\n      for (j = i - 1; j &gt;= 0 &amp;&amp; array[j] &gt; temp; j --) {\n        array[j+1] = array[j];\n      }\n      array[j+1] = temp;\n    }\n  }\n</code></pre>\n<p><strong>C:</strong></p>\n<pre><code>void benchmark(void (*f)(int *, int), int arr_size, int num_times, char *name,\n               FILE *fp) {\n  int *arrs[num_times];\n  struct timeval start, end;\n  double t;\n  for (int i = 0; i &lt; num_times; i++) {\n    arrs[i] = gen_rand_arr(arr_size);\n  }\n  gettimeofday(&amp;start, NULL);\n  for (int i = 0; i &lt; num_times; i++) {\n    f(arrs[i], arr_size);\n  }\n  gettimeofday(&amp;end, NULL);\n  for (int i = 0; i &lt; num_times; i++) {\n    free(arrs[i]);\n  }\n  t = ((double)(end.tv_sec * 1000000 + end.tv_usec -\n                (start.tv_sec * 1000000 + start.tv_usec))) /\n      1000000;\n  printf(&quot;It took %f seconds to do %s sort %d times on arrays of size %d\\n&quot;, t,\n         name, num_times, arr_size);\n\n  if (fp != NULL) {\n    fprintf(fp, &quot;%s,%d,%d,%f\\n&quot;, name, num_times, arr_size, t);\n  }\n}\n</code></pre>\n<pre><code>void insertion_sort(int *arr, int arr_size) {\n  for (int i = 1; i &lt; arr_size; i++) {\n    int temp = arr[i];\n    int j;\n    for (j = i - 1; j &gt;= 0 &amp;&amp; *(arr + j) &gt; temp; j--) {\n      arr[j + 1] = arr[j];\n    }\n    arr[j + 1] = temp;\n  }\n  return;\n}\n</code></pre>\n<p>Are there some optimizations that Java is making to run faster that somehow change the algorithm? What is going on here?</p>\n<p>Any explanations would be appreciated.</p>\n<p>Here is a table of results that might help explain the difference:</p>\n<p><strong>Java:</strong></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>name</th>\n<th>rep</th>\n<th>size</th>\n<th>time</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Insertion</td>\n<td>10000</td>\n<td>1200</td>\n<td>1.033</td>\n</tr>\n<tr>\n<td>Insertion</td>\n<td>10000</td>\n<td>5000</td>\n<td>15.677</td>\n</tr>\n<tr>\n<td>Insertion</td>\n<td>10000</td>\n<td>12000</td>\n<td>88.190</td>\n</tr>\n<tr>\n<td>Selection</td>\n<td>10000</td>\n<td>1200</td>\n<td>3.118</td>\n</tr>\n<tr>\n<td>Selection</td>\n<td>10000</td>\n<td>5000</td>\n<td>48.377</td>\n</tr>\n<tr>\n<td>Selection</td>\n<td>10000</td>\n<td>12000</td>\n<td>268.608</td>\n</tr>\n<tr>\n<td>Radix</td>\n<td>10000</td>\n<td>1200</td>\n<td>0.385</td>\n</tr>\n<tr>\n<td>Radix</td>\n<td>10000</td>\n<td>5000</td>\n<td>1.491</td>\n</tr>\n<tr>\n<td>Radix</td>\n<td>10000</td>\n<td>12000</td>\n<td>3.563</td>\n</tr>\n<tr>\n<td>Bogo</td>\n<td>1</td>\n<td>11</td>\n<td>1.330</td>\n</tr>\n<tr>\n<td>Bogo</td>\n<td>1</td>\n<td>12</td>\n<td>0.572</td>\n</tr>\n<tr>\n<td>Bogo</td>\n<td>1</td>\n<td>13</td>\n<td>122.777</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><strong>C:</strong></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>name</th>\n<th>rep</th>\n<th>size</th>\n<th>time</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Insertion</td>\n<td>10000</td>\n<td>1200</td>\n<td>1.766</td>\n</tr>\n<tr>\n<td>Insertion</td>\n<td>10000</td>\n<td>5000</td>\n<td>26.106</td>\n</tr>\n<tr>\n<td>Insertion</td>\n<td>10000</td>\n<td>12000</td>\n<td>140.582</td>\n</tr>\n<tr>\n<td>Selection</td>\n<td>10000</td>\n<td>1200</td>\n<td>4.011</td>\n</tr>\n<tr>\n<td>Selection</td>\n<td>10000</td>\n<td>5000</td>\n<td>60.442</td>\n</tr>\n<tr>\n<td>Selection</td>\n<td>10000</td>\n<td>12000</td>\n<td>340.608</td>\n</tr>\n<tr>\n<td>Radix</td>\n<td>10000</td>\n<td>1200</td>\n<td>0.430</td>\n</tr>\n<tr>\n<td>Radix</td>\n<td>10000</td>\n<td>5000</td>\n<td>1.788</td>\n</tr>\n<tr>\n<td>Radix</td>\n<td>10000</td>\n<td>12000</td>\n<td>4.295</td>\n</tr>\n<tr>\n<td>Bogo</td>\n<td>1</td>\n<td>11</td>\n<td>1.378</td>\n</tr>\n<tr>\n<td>Bogo</td>\n<td>1</td>\n<td>12</td>\n<td>2.296</td>\n</tr>\n<tr>\n<td>Bogo</td>\n<td>1</td>\n<td>13</td>\n<td>1586.73</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><strong>Edit:</strong></p>\n<p>I modified the benchmarking function to generate the arrays beforehand, in Java it overflows the heap, and in C it makes it not much faster (around 25%, but Java is still faster).</p>\n<p>fwiw I also changed how I indexed things in C from <code>*(arr + i)</code> to <code>arr[i]</code>.</p>\n<p>Here's the implementation for the random array generator in Java and C:</p>\n<p><strong>Java:</strong></p>\n<pre><code>  public static int[] genRandArray(int arraySize) {\n    int[] ret = new int[arraySize];\n    Random rand = new Random();\n    for (int i = 0; i &lt; ret.length; i ++) {\n      ret[i] = rand.nextInt(100);\n    }\n    return ret;\n  }\n</code></pre>\n<p><strong>C:</strong></p>\n<pre><code>int *gen_rand_arr(int arr_size) {\n  int *arr;\n  if ((arr = malloc(arr_size * sizeof(int))) == NULL) {\n    exit(1);\n  }\n  for (int i = 0; i &lt; arr_size; i++) {\n    arr[i] = arc4random_uniform(100);\n  }\n  return arr;\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":7,"creation_date":1482580210,"post_id":41312244,"comment_id":69829221,"body_markdown":"`Result of &#39;File.mkdirs()&#39; is ignored`. Yes. By YOU! You are not looking at the return value.","body":"<code>Result of &#39;File.mkdirs()&#39; is ignored</code>. Yes. By YOU! You are not looking at the return value."},{"owner":{"account_id":3629850,"reputation":3395,"user_id":3026347,"accept_rate":61,"display_name":"Noorul"},"score":0,"creation_date":1482581332,"post_id":41312244,"comment_id":69829495,"body_markdown":"Docs says,\n&gt;You may mentioning deeper path of the file, but, there is no need all the parent directories need to be created. Because, some may created already. some is not. So, even it fails to create already existence directory, it will create non existence directory which will give success result. it will give true result when all necessary directory created. So, there is a need to check the boolean condition in this scenario.","body":"Docs says, &gt;You may mentioning deeper path of the file, but, there is no need all the parent directories need to be created. Because, some may created already. some is not. So, even it fails to create already existence directory, it will create non existence directory which will give success result. it will give true result when all necessary directory created. So, there is a need to check the boolean condition in this scenario."}],"answers":[{"tags":[],"owner":{"account_id":8067843,"reputation":3948,"user_id":6081445,"accept_rate":100,"display_name":"wake-0"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1512574455,"creation_date":1482573778,"answer_id":41312262,"question_id":41312244,"body_markdown":"The method `mkdirs` has a `boolean` return value, which you didn&#39;t use.\r\n\r\n     boolean wasSuccessful = myDir.mkdirs();\r\n\r\nThe create operation returns a value, which indicates if the creation of the directory was successful. For example, the result value `wasSuccessful` can be used to display an error when it is false. \r\n    \r\n    if (!wasSuccessful) { \r\n        System.out.println(&quot;was not successful.&quot;); \r\n    }\r\n\r\nFrom the [Java docs][1] about the `boolean` return value:\r\n\r\n&gt; true if and only if the directory was created, along with all\r\n&gt; necessary parent directories; false otherwise\r\n\r\n\t\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/io/File.html#mkdirs()","title":"Result of &#39;File.mkdirs()&#39; is ignored","body":"<p>The method <code>mkdirs</code> has a <code>boolean</code> return value, which you didn't use.</p>\n\n<pre><code> boolean wasSuccessful = myDir.mkdirs();\n</code></pre>\n\n<p>The create operation returns a value, which indicates if the creation of the directory was successful. For example, the result value <code>wasSuccessful</code> can be used to display an error when it is false. </p>\n\n<pre><code>if (!wasSuccessful) { \n    System.out.println(\"was not successful.\"); \n}\n</code></pre>\n\n<p>From the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/File.html#mkdirs()\" rel=\"noreferrer\">Java docs</a> about the <code>boolean</code> return value:</p>\n\n<blockquote>\n  <p>true if and only if the directory was created, along with all\n  necessary parent directories; false otherwise</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5537669,"reputation":149,"user_id":4395396,"display_name":"Chirag Sheta"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1482580582,"creation_date":1482574089,"answer_id":41312296,"question_id":41312244,"body_markdown":"Just put this code: \r\n\r\n    File myDirectory = new File(Environment.getExternalStorageDirectory(),&quot;NewyearGIF&quot;);\r\n    if(!myDirectory.exists()) {\r\n       myDirectory.mkdirs(); \r\n    }else{\n       // Directory already exist\n    }\r\n\r\nIf application running in above `Lollipop`, then you need to add runtime permission for storage.","title":"Result of &#39;File.mkdirs()&#39; is ignored","body":"<p>Just put this code: </p>\n\n<pre><code>File myDirectory = new File(Environment.getExternalStorageDirectory(),\"NewyearGIF\");\nif(!myDirectory.exists()) {\n   myDirectory.mkdirs(); \n}else{\n   // Directory already exist\n}\n</code></pre>\n\n<p>If application running in above <code>Lollipop</code>, then you need to add runtime permission for storage.</p>\n"},{"tags":[],"owner":{"account_id":8900126,"reputation":1612,"user_id":6643833,"display_name":"Tobias Otto"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1482574481,"creation_date":1482574481,"answer_id":41312349,"question_id":41312244,"body_markdown":"The idea behind the return-value of mkdir is, that every IO-Operation could fail and your program should react to this situation. ","title":"Result of &#39;File.mkdirs()&#39; is ignored","body":"<p>The idea behind the return-value of mkdir is, that every IO-Operation could fail and your program should react to this situation. </p>\n"},{"tags":[],"owner":{"account_id":13142123,"reputation":149,"user_id":9493358,"display_name":"Muhammad Hassan"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1521074607,"creation_date":1521062782,"answer_id":49287876,"question_id":41312244,"body_markdown":"\r\n    File myDirectory = new File(Environment.getExternalStorageDirectory(),&quot;NewyearGIF&quot;);\r\n    if(!myDirectory.exists()) {\r\n       myDirectory.mkdirs(); \r\n    }else{\r\n       // Directory already exist\r\n    }\r\n\r\n\r\n","title":"Result of &#39;File.mkdirs()&#39; is ignored","body":"<pre><code>File myDirectory = new File(Environment.getExternalStorageDirectory(),\"NewyearGIF\");\nif(!myDirectory.exists()) {\n   myDirectory.mkdirs(); \n}else{\n   // Directory already exist\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10875141,"reputation":2530,"user_id":8199772,"accept_rate":55,"display_name":"ClassA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538124731,"creation_date":1538124731,"answer_id":52551669,"question_id":41312244,"body_markdown":"This is a old question but still, the simplest way I&#39;ve found is:\r\n\r\n    File imageThumbsDirectory = getBaseContext.getExternalFilesDir(&quot;ThumbTemp&quot;);\r\n\r\n    if(imageThumbsDirectory != null) {\r\n        if (!imageThumbsDirectory.exists()) {\r\n            if (imageThumbsDirectory.mkdir()) ; //directory is created;\r\n        }\r\n    }","title":"Result of &#39;File.mkdirs()&#39; is ignored","body":"<p>This is a old question but still, the simplest way I've found is:</p>\n\n<pre><code>File imageThumbsDirectory = getBaseContext.getExternalFilesDir(\"ThumbTemp\");\n\nif(imageThumbsDirectory != null) {\n    if (!imageThumbsDirectory.exists()) {\n        if (imageThumbsDirectory.mkdir()) ; //directory is created;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6209330,"reputation":81,"user_id":4836085,"display_name":"riju"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1544516860,"creation_date":1544516860,"answer_id":53720100,"question_id":41312244,"body_markdown":"    File CDir = new File(Environment.getExternalStorageDirectory(), IMPORT_DIRECTORY);\r\n    if (!CDir.exists()) {\r\n        boolean mkdir = CDir.mkdir();\r\n        if (!mkdir) {\r\n            Log.e(TAG, &quot;Directory creation failed.&quot;);\r\n        }\r\n    }\r\n\r\nmkdir return a Boolean value. we need to catch the return value from mkdir .Replace your code with this and check  (warning of Result of File.mkdirs() is ignored.)  will be gone","title":"Result of &#39;File.mkdirs()&#39; is ignored","body":"<pre><code>File CDir = new File(Environment.getExternalStorageDirectory(), IMPORT_DIRECTORY);\nif (!CDir.exists()) {\n    boolean mkdir = CDir.mkdir();\n    if (!mkdir) {\n        Log.e(TAG, \"Directory creation failed.\");\n    }\n}\n</code></pre>\n\n<p>mkdir return a Boolean value. we need to catch the return value from mkdir .Replace your code with this and check  (warning of Result of File.mkdirs() is ignored.)  will be gone</p>\n"},{"tags":[],"owner":{"account_id":23247379,"reputation":337,"user_id":17335765,"display_name":"Marina"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1641209870,"creation_date":1641209870,"answer_id":70565224,"question_id":41312244,"body_markdown":"You can do:\r\n\r\n    if(myDirectory.exists() || myDirectory.mkdirs()) {\r\n       // Directory was created, can do anything you want\r\n    }\r\n\r\nor you can just remove the warning using:\r\n\r\n    @SuppressWarnings(&quot;ResultOfMethodCallIgnored&quot;)\r\nThe `mkdirs` method checks if file exists but returns false if the directory was already created so you should check one more time using first method.","title":"Result of &#39;File.mkdirs()&#39; is ignored","body":"<p>You can do:</p>\n<pre><code>if(myDirectory.exists() || myDirectory.mkdirs()) {\n   // Directory was created, can do anything you want\n}\n</code></pre>\n<p>or you can just remove the warning using:</p>\n<pre><code>@SuppressWarnings(&quot;ResultOfMethodCallIgnored&quot;)\n</code></pre>\n<p>The <code>mkdirs</code> method checks if file exists but returns false if the directory was already created so you should check one more time using first method.</p>\n"}],"owner":{"account_id":9126598,"reputation":878,"user_id":6790019,"accept_rate":67,"display_name":"Jaymin Bhadani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23865,"favorite_count":0,"down_vote_count":2,"up_vote_count":20,"answer_count":7,"score":18,"last_activity_date":1641209870,"creation_date":1482573608,"question_id":41312244,"body_markdown":"This is my Code inside `myDir.mkdirs();` this code show me that warning of Result of `File.mkdirs()` is ignored.\r\n  \r\nI try to fix this Warning but I failed.\r\n\r\n       private void saveGIF() {\r\n                Toast.makeText(getApplicationContext(), &quot;Gif Save&quot;, Toast.LENGTH_LONG).show();\r\n                String filepath123 = BuildConfig.VERSION_NAME;\r\n                try {\r\n                    File myDir = new File(String.valueOf(Environment.getExternalStorageDirectory().toString()) + &quot;/&quot; + &quot;NewyearGIF&quot;);enter code here\r\n                    \r\n        //My Statement Code This Line Show Me that Warning\r\n   \r\n     myDir.mkdirs();\r\n        \r\n                    File file = new File(myDir, &quot;NewyearGif_&quot; + System.currentTimeMillis() + &quot;.gif&quot;);\r\n                    filepath123 = file.getPath();\r\n                    InputStream is = getResources().openRawResource(this.ivDrawable);\r\n                    BufferedInputStream bis = new BufferedInputStream(is);\r\n                    ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n                    byte[] img = new byte[AccessibilityNodeInfoCompat.ACTION_NEXT_HTML_ELEMENT];\r\n                    while (true) {\r\n                        int current = bis.read();\r\n                        if (current == -1) {\r\n                            break;\r\n                        }\r\n                        baos.write(current);\r\n                    }\r\n                    FileOutputStream fos = new FileOutputStream(file);\r\n                    fos.write(baos.toByteArray());\r\n                    fos.flush();\r\n                    fos.close();\r\n                    is.close();\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n                Intent mediaScanIntent = new Intent(&quot;android.intent.action.MEDIA_SCANNER_SCAN_FILE&quot;);\r\n                mediaScanIntent.setData(Uri.fromFile(new File(filepath123)));\r\n                sendBroadcast(mediaScanIntent);\r\n            }","title":"Result of &#39;File.mkdirs()&#39; is ignored","body":"<p>This is my Code inside <code>myDir.mkdirs();</code> this code show me that warning of Result of <code>File.mkdirs()</code> is ignored.</p>\n\n<p>I try to fix this Warning but I failed.</p>\n\n<pre><code>   private void saveGIF() {\n            Toast.makeText(getApplicationContext(), \"Gif Save\", Toast.LENGTH_LONG).show();\n            String filepath123 = BuildConfig.VERSION_NAME;\n            try {\n                File myDir = new File(String.valueOf(Environment.getExternalStorageDirectory().toString()) + \"/\" + \"NewyearGIF\");enter code here\n\n    //My Statement Code This Line Show Me that Warning\n\n myDir.mkdirs();\n\n                File file = new File(myDir, \"NewyearGif_\" + System.currentTimeMillis() + \".gif\");\n                filepath123 = file.getPath();\n                InputStream is = getResources().openRawResource(this.ivDrawable);\n                BufferedInputStream bis = new BufferedInputStream(is);\n                ByteArrayOutputStream baos = new ByteArrayOutputStream();\n                byte[] img = new byte[AccessibilityNodeInfoCompat.ACTION_NEXT_HTML_ELEMENT];\n                while (true) {\n                    int current = bis.read();\n                    if (current == -1) {\n                        break;\n                    }\n                    baos.write(current);\n                }\n                FileOutputStream fos = new FileOutputStream(file);\n                fos.write(baos.toByteArray());\n                fos.flush();\n                fos.close();\n                is.close();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n            Intent mediaScanIntent = new Intent(\"android.intent.action.MEDIA_SCANNER_SCAN_FILE\");\n            mediaScanIntent.setData(Uri.fromFile(new File(filepath123)));\n            sendBroadcast(mediaScanIntent);\n        }\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","spring-data-jpa","mongotemplate"],"owner":{"account_id":22965605,"reputation":29,"user_id":17094703,"display_name":"JavaGuy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641209332,"creation_date":1640886768,"question_id":70535086,"body_markdown":"This is my method in which I am using mongoTemplate , now my requirement is to paginate it but even though I am using following it is not getting paginated , I simply want to return 10 records but I am getting all , can someone pls help me with it .. , \r\n\r\n\r\n\r\n           Query query = new Query().with(pageable);\r\n        MongoCursor&lt;String&gt; cursor = mongoTemplate.getCollection(collection).distinct(fieldName, query.getQueryObject(), String.class).iterator();\r\n        long count = mongoTemplate.getCollection(collection).countDocuments(query.getQueryObject());\r\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n        while (cursor.hasNext()) {\r\n            list.add(cursor.next());\r\n        }\r\n        return PageableExecutionUtils.getPage(list, pageable, () -&gt; count);\r\n\r\n    }\r\n\r\n           ","title":"How to paginate mongoTemplate query in springBoot?","body":"<p>This is my method in which I am using mongoTemplate , now my requirement is to paginate it but even though I am using following it is not getting paginated , I simply want to return 10 records but I am getting all , can someone pls help me with it .. ,</p>\n<pre><code>       Query query = new Query().with(pageable);\n    MongoCursor&lt;String&gt; cursor = mongoTemplate.getCollection(collection).distinct(fieldName, query.getQueryObject(), String.class).iterator();\n    long count = mongoTemplate.getCollection(collection).countDocuments(query.getQueryObject());\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n    while (cursor.hasNext()) {\n        list.add(cursor.next());\n    }\n    return PageableExecutionUtils.getPage(list, pageable, () -&gt; count);\n\n}\n\n       \n</code></pre>\n"},{"tags":["java","spring-boot","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640892169,"creation_date":1640892169,"answer_id":70535860,"question_id":70535806,"body_markdown":"The answer to this question is the same as the answer to the question &quot;Why we use a single int if an int array can deal with arbitrary amount of ints&quot;.\r\n\r\n(That is, it can, but you don&#39;t want to.)","title":"If flux can deal with 0-N elements then why there is mono in project reactor?","body":"<p>The answer to this question is the same as the answer to the question &quot;Why we use a single int if an int array can deal with arbitrary amount of ints&quot;.</p>\n<p>(That is, it can, but you don't want to.)</p>\n"}],"owner":{"account_id":16509210,"reputation":564,"user_id":11928455,"display_name":"Amimul Ehsan Rahi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1640892230,"accepted_answer_id":70535860,"answer_count":1,"score":0,"last_activity_date":1641209234,"creation_date":1640891845,"question_id":70535806,"body_markdown":"Pardon my silly question. I am very new to project reactor. And this question is bugging me a lot.\r\n\r\nIf flux can deal with 0....N elements and Mono can deal with 0....1 element, then why there is mono? Isn&#39;t flux dealing with 0....1 element also? So what is the requirement for mono? Can we not do the work of mono with just flux?\r\n\r\nI tried to find the question on the internet. But could not find it. If you can elaborate a little bit I will be very grateful.","title":"If flux can deal with 0-N elements then why there is mono in project reactor?","body":"<p>Pardon my silly question. I am very new to project reactor. And this question is bugging me a lot.</p>\n<p>If flux can deal with 0....N elements and Mono can deal with 0....1 element, then why there is mono? Isn't flux dealing with 0....1 element also? So what is the requirement for mono? Can we not do the work of mono with just flux?</p>\n<p>I tried to find the question on the internet. But could not find it. If you can elaborate a little bit I will be very grateful.</p>\n"},{"tags":["java","gradle","visual-studio-code","artifactory"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1604248312,"post_id":64634154,"comment_id":114282836,"body_markdown":"Does it _literally_ say `Unresolved dependency: com.redacted:some-library:0.1.2` or did you change that name? Because if the package name itself already &quot;tells people too much&quot; about your code, then as part of [asking a good question](/help/how-to-ask), create a [mcve] that *can* be shown off without redacting. We don&#39;t care about your code, we just care about helping you fix a problem. If you can&#39;t show your real code, reduce your code to a toy implementation that you verified still shows off the problem, and then just show that.","body":"Does it <i>literally</i> say <code>Unresolved dependency: com.redacted:some-library:0.1.2</code> or did you change that name? Because if the package name itself already &quot;tells people too much&quot; about your code, then as part of <a href=\"/help/how-to-ask\">asking a good question</a>, create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that <i>can</i> be shown off without redacting. We don&#39;t care about your code, we just care about helping you fix a problem. If you can&#39;t show your real code, reduce your code to a toy implementation that you verified still shows off the problem, and then just show that."},{"owner":{"account_id":4413584,"reputation":96,"user_id":11229376,"display_name":"Konrad Komorowski"},"score":0,"creation_date":1604253961,"post_id":64634154,"comment_id":114284664,"body_markdown":"Thanks for the feedback @Mike&#39;Pomax&#39;Kamermans, very fair point. As you can imagine, creating a minimal reproducible example would take days in this. Would you say it&#39;s clear after my last edit?","body":"Thanks for the feedback @Mike&#39;Pomax&#39;Kamermans, very fair point. As you can imagine, creating a minimal reproducible example would take days in this. Would you say it&#39;s clear after my last edit?"},{"owner":{"account_id":4413584,"reputation":96,"user_id":11229376,"display_name":"Konrad Komorowski"},"score":0,"creation_date":1604259902,"post_id":64634154,"comment_id":114286353,"body_markdown":"Actually I think there is more I can do / share here. On it.","body":"Actually I think there is more I can do / share here. On it."},{"owner":{"account_id":4413584,"reputation":96,"user_id":11229376,"display_name":"Konrad Komorowski"},"score":2,"creation_date":1604261793,"post_id":64634154,"comment_id":114286870,"body_markdown":"Ok, done - I think this should be pretty decent. Thank you for the feedback @Mike&#39;Pomax&#39;Kamermans","body":"Ok, done - I think this should be pretty decent. Thank you for the feedback @Mike&#39;Pomax&#39;Kamermans"},{"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1604393766,"post_id":64634154,"comment_id":114327225,"body_markdown":"You can add the other dependency which is also under com.mycompany:core-observability-spring:0.0.37&#39;s repository to check if you connect to it successfully. If successful connection, Check if there&#39;s something wrong with dependency&#39;s name and version number. More even, Is it possible that the dependency itself has something wrong?","body":"You can add the other dependency which is also under com.mycompany:core-observability-spring:0.0.37&#39;s repository to check if you connect to it successfully. If successful connection, Check if there&#39;s something wrong with dependency&#39;s name and version number. More even, Is it possible that the dependency itself has something wrong?"}],"answers":[{"tags":[],"owner":{"account_id":2560816,"reputation":169,"user_id":2221821,"display_name":"GryzLi"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1641209068,"creation_date":1641209068,"answer_id":70565045,"question_id":64634154,"body_markdown":"I had the same issue and what helped me was running \r\n\r\n`Java: Clean Java Language Server Workspace` from `Command Palette`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIt seems like Java Language Server is holding to old version.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RjjdW.png","title":"&quot;Unresolved dependency&quot; / &quot;import cannot be resolved&quot; in VS Code Java language support when working with Artifactory dependecies","body":"<p>I had the same issue and what helped me was running</p>\n<p><code>Java: Clean Java Language Server Workspace</code> from <code>Command Palette</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/RjjdW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/RjjdW.png\" alt=\"enter image description here\" /></a></p>\n<p>It seems like Java Language Server is holding to old version.</p>\n"}],"owner":{"account_id":4413584,"reputation":96,"user_id":11229376,"display_name":"Konrad Komorowski"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6412,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1641209068,"creation_date":1604247987,"question_id":64634154,"body_markdown":"We have a bunch of private Java dependencies published to Artifactory. We are using Gradle to build our project.\r\n\r\nThe issue is that VSCode Language Support for Java does not recognize the dependencies / imports in `build.gradle` or in our Java source code.\r\n\r\n*Note: All the snippets below were copy-pasted exactly from the source code / VS Code messages, with the exception of the company domain being replaced with mycompany.com and the Artifactory credentials redacted.*\r\n\r\nThe errors I&#39;m seeing in the Java source code are:\r\n\r\n```\r\nThe import com.mycompany.observability cannot be resolved\r\n```\r\n\r\n```\r\nMycompanyLogger cannot be resolved\r\n```\r\n\r\n\r\nHere is the Java file with the errors:\r\n\r\n```\r\npackage com.mycompany.sample;\r\n\r\nimport com.mycompany.observability.logging.MycompanyLogger;\r\n\r\npublic class SampleApplication {\r\n\r\n  public static void main(String[] args) {\r\n    MycompanyLogger.setServiceName(&quot;SERVICE_NAME&quot;);\r\n  }\r\n}\r\n```\r\n\r\nAnd the errors in `build.gradle`:\r\n\r\n```\r\nUnresolved dependency: com.mycompany:core-observability-spring:0.0.37\r\n```\r\n\r\nHere is the `build.gradle` file:\r\n\r\n```\r\nplugins {\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.9.RELEASE&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.3.4.RELEASE&#39;\r\n\tid &#39;java-library&#39;\r\n\tid &#39;application&#39;\r\n\tid &#39;checkstyle&#39;\r\n\tid &#39;pmd&#39;\r\n\tid &#39;jacoco&#39;\r\n\tid &#39;com.jfrog.artifactory&#39; version &quot;4.17.2&quot;\r\n\tid &quot;org.sonarqube&quot; version &quot;3.0&quot;\r\n}\r\n\r\ngroup = &#39;com.mycompany&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\n\r\njava {\r\n\tsourceCompatibility = JavaVersion.VERSION_11\r\n\ttargetCompatibility = JavaVersion.VERSION_11\r\n}\r\n\r\nrepositories {\r\n\tmavenLocal()\r\n\tmavenCentral()\r\n}\r\n\r\njar.archiveBaseName = &quot;sample-service&quot;\r\nmainClassName = &#39;com.mycompany.sample.SampleApplication&#39;\r\n\r\napply plugin: &#39;com.jfrog.artifactory&#39;\r\napply plugin: &quot;java&quot;\r\n\r\nartifactory {\r\n\tcontextUrl = &quot;https://artifactory.mycompany.com/artifactory/&quot;\r\n\tresolve {\r\n\t\trepository {\r\n\t\t\trepoKey = &#39;gradle-release&#39;\r\n\t\t\tusername = project.findProperty(&#39;artifactory_user&#39;)\r\n\t\t\tpassword = project.findProperty(&#39;artifactory_key&#39;)\r\n\t\t\tmaven = true\r\n\t\t}\r\n\t}\r\n}\r\n\r\ndependencies {\r\n\timplementation(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n\timplementation(&#39;org.springframework.boot:spring-boot-starter-aop&#39;)\r\n\timplementation(&#39;org.codehaus.janino:commons-compiler:3.1.0&#39;) // Conditional expressions in logback\r\n\timplementation(&#39;org.codehaus.janino:janino:3.1.0&#39;) // Conditional expressions in logback\r\n    implementation(&quot;ch.qos.logback:logback-classic:1.2.3&quot;)\r\n\timplementation(&#39;net.logstash.logback:logstash-logback-encoder:6.3&#39;)\r\n\timplementation(&#39;com.datadoghq:dd-java-agent:0.51.0&#39;)\r\n\r\n\timplementation(&#39;com.mycompany:core-observability-spring:0.0.37&#39;)\r\n}\r\n\r\ncheckstyle {\r\n\ttoolVersion &quot;8.29&quot;\r\n\tconfigFile = file(&quot;${rootDir}/config/checkstyle/google_checks.xml&quot;)\r\n}\r\n\r\njar {\r\n\tenabled = true\r\n}\r\n\r\npmd {\r\n    ignoreFailures = false\r\n\truleSetFiles = files(&quot;config/pmd/mycompany_custom_ruleset.xml&quot;)\r\n    ruleSets = []\r\n\tsourceSets = []\r\n}\r\n```\r\n\r\nand here are the relevant files in my `~/.gradle/` directory:\r\n\r\n```\r\n➜  .gradle cat gradle.properties\r\nartifactory_user=&lt;redacted&gt;\r\nartifactory_key=&lt;redacted&gt;\r\n```\r\n\r\n```\r\n➜  .gradle cat init.gradle.kts  \r\nsettingsEvaluated {\r\n    pluginManagement {\r\n        val artifactory_user: String? by settings\r\n        val artifactory_password: String? by settings\r\n        val artifactory_key: String? by settings\r\n\r\n        repositories {\r\n            maven(url = &quot;https://artifactory.mycompany.com/artifactory/gradle-release&quot;) {\r\n                credentials {\r\n                    username = artifactory_user\r\n                    password = artifactory_password ?: artifactory_key\r\n                }\r\n            }\r\n            gradlePluginPortal()\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nLastly, here are my `.vscode` config files for this project:\r\n\r\n```\r\n➜  .vscode git:(vscode-settings) cat settings.json \r\n{\r\n    &quot;[java]&quot;: {\r\n        &quot;editor.formatOnSave&quot;: false,\r\n    },\r\n    &quot;editor.formatOnSave&quot;: true,\r\n    &quot;files.insertFinalNewline&quot;: true,\r\n    &quot;files.trimFinalNewlines&quot;: true,\r\n    &quot;files.trimTrailingWhitespace&quot;: true,\r\n    &quot;terminal.integrated.scrollback&quot;: 10000,\r\n    &quot;java.configuration.updateBuildConfiguration&quot;: &quot;automatic&quot;,\r\n    &quot;java.import.gradle.enabled&quot;: true,\r\n    &quot;java.import.gradle.wrapper.enabled&quot;: true,\r\n    &quot;java.import.maven.enabled&quot;: false,\r\n}\r\n```\r\n\r\n```\r\n➜  .vscode git:(vscode-settings) cat extensions.json \r\n{\r\n    &quot;recommendations&quot;: [\r\n        &quot;gabrielbb.vscode-lombok&quot;,\r\n        &quot;pivotal.vscode-spring-boot&quot;,\r\n        &quot;richardwillis.vscode-gradle-extension-pack&quot;,\r\n        &quot;vscjava.vscode-java-pack&quot;\r\n    ]\r\n}\r\n```\r\n\r\nEverything works fine when compiling the app using `./gradlew build`:\r\n\r\n```\r\n➜  sample-service git:(master) ✗ ./gradlew build\r\n\r\nBUILD SUCCESSFUL in 5s\r\n11 actionable tasks: 8 executed, 3 up-to-date\r\n```\r\n\r\nAny ideas on what should be my next steps in debugging this?","title":"&quot;Unresolved dependency&quot; / &quot;import cannot be resolved&quot; in VS Code Java language support when working with Artifactory dependecies","body":"<p>We have a bunch of private Java dependencies published to Artifactory. We are using Gradle to build our project.</p>\n<p>The issue is that VSCode Language Support for Java does not recognize the dependencies / imports in <code>build.gradle</code> or in our Java source code.</p>\n<p><em>Note: All the snippets below were copy-pasted exactly from the source code / VS Code messages, with the exception of the company domain being replaced with mycompany.com and the Artifactory credentials redacted.</em></p>\n<p>The errors I'm seeing in the Java source code are:</p>\n<pre><code>The import com.mycompany.observability cannot be resolved\n</code></pre>\n<pre><code>MycompanyLogger cannot be resolved\n</code></pre>\n<p>Here is the Java file with the errors:</p>\n<pre><code>package com.mycompany.sample;\n\nimport com.mycompany.observability.logging.MycompanyLogger;\n\npublic class SampleApplication {\n\n  public static void main(String[] args) {\n    MycompanyLogger.setServiceName(&quot;SERVICE_NAME&quot;);\n  }\n}\n</code></pre>\n<p>And the errors in <code>build.gradle</code>:</p>\n<pre><code>Unresolved dependency: com.mycompany:core-observability-spring:0.0.37\n</code></pre>\n<p>Here is the <code>build.gradle</code> file:</p>\n<pre><code>plugins {\n    id 'io.spring.dependency-management' version '1.0.9.RELEASE'\n    id 'org.springframework.boot' version '2.3.4.RELEASE'\n    id 'java-library'\n    id 'application'\n    id 'checkstyle'\n    id 'pmd'\n    id 'jacoco'\n    id 'com.jfrog.artifactory' version &quot;4.17.2&quot;\n    id &quot;org.sonarqube&quot; version &quot;3.0&quot;\n}\n\ngroup = 'com.mycompany'\nversion = '0.0.1-SNAPSHOT'\n\njava {\n    sourceCompatibility = JavaVersion.VERSION_11\n    targetCompatibility = JavaVersion.VERSION_11\n}\n\nrepositories {\n    mavenLocal()\n    mavenCentral()\n}\n\njar.archiveBaseName = &quot;sample-service&quot;\nmainClassName = 'com.mycompany.sample.SampleApplication'\n\napply plugin: 'com.jfrog.artifactory'\napply plugin: &quot;java&quot;\n\nartifactory {\n    contextUrl = &quot;https://artifactory.mycompany.com/artifactory/&quot;\n    resolve {\n        repository {\n            repoKey = 'gradle-release'\n            username = project.findProperty('artifactory_user')\n            password = project.findProperty('artifactory_key')\n            maven = true\n        }\n    }\n}\n\ndependencies {\n    implementation('org.springframework.boot:spring-boot-starter-web')\n    implementation('org.springframework.boot:spring-boot-starter-aop')\n    implementation('org.codehaus.janino:commons-compiler:3.1.0') // Conditional expressions in logback\n    implementation('org.codehaus.janino:janino:3.1.0') // Conditional expressions in logback\n    implementation(&quot;ch.qos.logback:logback-classic:1.2.3&quot;)\n    implementation('net.logstash.logback:logstash-logback-encoder:6.3')\n    implementation('com.datadoghq:dd-java-agent:0.51.0')\n\n    implementation('com.mycompany:core-observability-spring:0.0.37')\n}\n\ncheckstyle {\n    toolVersion &quot;8.29&quot;\n    configFile = file(&quot;${rootDir}/config/checkstyle/google_checks.xml&quot;)\n}\n\njar {\n    enabled = true\n}\n\npmd {\n    ignoreFailures = false\n    ruleSetFiles = files(&quot;config/pmd/mycompany_custom_ruleset.xml&quot;)\n    ruleSets = []\n    sourceSets = []\n}\n</code></pre>\n<p>and here are the relevant files in my <code>~/.gradle/</code> directory:</p>\n<pre><code>➜  .gradle cat gradle.properties\nartifactory_user=&lt;redacted&gt;\nartifactory_key=&lt;redacted&gt;\n</code></pre>\n<pre><code>➜  .gradle cat init.gradle.kts  \nsettingsEvaluated {\n    pluginManagement {\n        val artifactory_user: String? by settings\n        val artifactory_password: String? by settings\n        val artifactory_key: String? by settings\n\n        repositories {\n            maven(url = &quot;https://artifactory.mycompany.com/artifactory/gradle-release&quot;) {\n                credentials {\n                    username = artifactory_user\n                    password = artifactory_password ?: artifactory_key\n                }\n            }\n            gradlePluginPortal()\n        }\n    }\n}\n</code></pre>\n<p>Lastly, here are my <code>.vscode</code> config files for this project:</p>\n<pre><code>➜  .vscode git:(vscode-settings) cat settings.json \n{\n    &quot;[java]&quot;: {\n        &quot;editor.formatOnSave&quot;: false,\n    },\n    &quot;editor.formatOnSave&quot;: true,\n    &quot;files.insertFinalNewline&quot;: true,\n    &quot;files.trimFinalNewlines&quot;: true,\n    &quot;files.trimTrailingWhitespace&quot;: true,\n    &quot;terminal.integrated.scrollback&quot;: 10000,\n    &quot;java.configuration.updateBuildConfiguration&quot;: &quot;automatic&quot;,\n    &quot;java.import.gradle.enabled&quot;: true,\n    &quot;java.import.gradle.wrapper.enabled&quot;: true,\n    &quot;java.import.maven.enabled&quot;: false,\n}\n</code></pre>\n<pre><code>➜  .vscode git:(vscode-settings) cat extensions.json \n{\n    &quot;recommendations&quot;: [\n        &quot;gabrielbb.vscode-lombok&quot;,\n        &quot;pivotal.vscode-spring-boot&quot;,\n        &quot;richardwillis.vscode-gradle-extension-pack&quot;,\n        &quot;vscjava.vscode-java-pack&quot;\n    ]\n}\n</code></pre>\n<p>Everything works fine when compiling the app using <code>./gradlew build</code>:</p>\n<pre><code>➜  sample-service git:(master) ✗ ./gradlew build\n\nBUILD SUCCESSFUL in 5s\n11 actionable tasks: 8 executed, 3 up-to-date\n</code></pre>\n<p>Any ideas on what should be my next steps in debugging this?</p>\n"},{"tags":["java","intellij-idea","code-hinting"],"answers":[{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1433866028,"creation_date":1433849990,"answer_id":30730959,"question_id":30730914,"body_markdown":"&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;P&lt;/kbd&gt; will give you a pop-up with the method parameters. Usefully, the parameter corresponding to your cursor position will be highlighted and will change as you move back and forth through the parameters.\r\n\r\nIntellij provides a lot of assistance. See [here][1] for a summary of what&#39;s available.\r\n\r\n\r\n  [1]: https://www.jetbrains.com/idea/features/code_assistance.html","title":"How to invoke method/constructor parameter hint in IntelliJ?","body":"<p><kbd>Ctrl</kbd>+<kbd>P</kbd> will give you a pop-up with the method parameters. Usefully, the parameter corresponding to your cursor position will be highlighted and will change as you move back and forth through the parameters.</p>\n\n<p>Intellij provides a lot of assistance. See <a href=\"https://www.jetbrains.com/idea/features/code_assistance.html\" rel=\"nofollow\">here</a> for a summary of what's available.</p>\n"},{"tags":[],"owner":{"account_id":4006849,"reputation":3048,"user_id":3301316,"accept_rate":58,"display_name":"Jet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433855114,"creation_date":1433855114,"answer_id":30732869,"question_id":30730914,"body_markdown":"I faced the same condition in the earlier days.\r\nNo need to retype the complete code but just retype the comma(,) intellij is intelligent enough to guess the next variable value and suggest you better. I used this many times so far and made me to save my time in all instances.\r\nHope i was useful.","title":"How to invoke method/constructor parameter hint in IntelliJ?","body":"<p>I faced the same condition in the earlier days.\nNo need to retype the complete code but just retype the comma(,) intellij is intelligent enough to guess the next variable value and suggest you better. I used this many times so far and made me to save my time in all instances.\nHope i was useful.</p>\n"},{"tags":[],"owner":{"account_id":20876947,"reputation":51,"user_id":15989588,"display_name":"MacGregor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641209038,"creation_date":1641209038,"answer_id":70565035,"question_id":30730914,"body_markdown":"On Mac the shortcut is &lt;kbd&gt;⌘ (Command)&lt;/kbd&gt; + &lt;kbd&gt;P&lt;/kbd&gt;.\r\nIt works fine.","title":"How to invoke method/constructor parameter hint in IntelliJ?","body":"<p>On Mac the shortcut is <kbd>⌘ (Command)</kbd> + <kbd>P</kbd>.\nIt works fine.</p>\n"}],"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":621,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1641209038,"creation_date":1433849871,"question_id":30730914,"body_markdown":"If I write code sequentially, then after I enter some method call and opening parenthesis, I get a hint after delay:\r\n\r\n![enter image description here][1]\r\n\r\nif I discard it or return to the place later, I see no any hint:\r\n\r\n![enter image description here][2]\r\n\r\nHow to invoke it without retyping the code?\r\n\r\n  [1]: http://i.stack.imgur.com/G5yOi.png\r\n  [2]: http://i.stack.imgur.com/u9h8Q.png","title":"How to invoke method/constructor parameter hint in IntelliJ?","body":"<p>If I write code sequentially, then after I enter some method call and opening parenthesis, I get a hint after delay:</p>\n\n<p><img src=\"https://i.stack.imgur.com/G5yOi.png\" alt=\"enter image description here\"></p>\n\n<p>if I discard it or return to the place later, I see no any hint:</p>\n\n<p><img src=\"https://i.stack.imgur.com/u9h8Q.png\" alt=\"enter image description here\"></p>\n\n<p>How to invoke it without retyping the code?</p>\n"},{"tags":["java","spring","netty","webfiltering"],"answers":[{"tags":[],"owner":{"account_id":8043174,"reputation":17,"user_id":6064168,"display_name":"user6064168"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640866841,"creation_date":1640866841,"answer_id":70531605,"question_id":70531287,"body_markdown":"you should add @Order and specify correct order, and then set debug = true to see the filter execution.\r\nsee also [spring webflux webfilters][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/web.html#web.reactive.webflux.web-filters","title":"How to send a portion of the requests to another url","body":"<p>you should add @Order and specify correct order, and then set debug = true to see the filter execution.\nsee also <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/web.html#web.reactive.webflux.web-filters\" rel=\"nofollow noreferrer\">spring webflux webfilters</a></p>\n"},{"tags":[],"owner":{"account_id":10847880,"reputation":31,"user_id":7976725,"display_name":"Eilon Benami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641209020,"creation_date":1641209020,"answer_id":70565033,"question_id":70531287,"body_markdown":"Eventually I solved this by using Spring&#39;s WebClient (https://www.baeldung.com/spring-5-webclient) in order to resend the request to the external service. \r\n\r\n```\r\n @Override\r\n    public Mono&lt;Void&gt; filter(ServerWebExchange serverWebExchange, WebFilterChain webFilterChain) {\r\n        HttpHeaders headers = serverWebExchange.getRequest().getHeaders();\r\n        if (headers.containsKey(&quot;someHeader&quot;)) {\r\n            if (someService.askSomething(Objects.requireNonNull(headers.get(&quot;someHeader&quot;)))) {\r\n                URI originalUri = serverWebExchange.getRequest().getURI();\r\n                log.info(&quot;Redirecting a {} HTTP request with path {} to some service&quot;,serverWebExchange.getRequest().getMethod(), originalUri.getPath());\r\n                return sendToSomeService(serverWebExchange.getRequest(), originalUri.getPath()).flatMap(body -&gt; writeResponse(serverWebExchange, body));\r\n\r\n            }\r\n        }\r\n        return webFilterChain.filter(serverWebExchange);\r\n    }\r\n\r\n    public Mono&lt;String&gt; sendToSomeService(ServerHttpRequest request, String path) {\r\n        return this.webClient.method(Objects.requireNonNull(request.getMethod())).uri(path)\r\n                .body(BodyInserters.fromDataBuffers(request.getBody()))\r\n                .headers(getHttpHeadersConsumer(request))\r\n                .retrieve()\r\n                .bodyToMono(String.class);\r\n    }\r\n\r\n    @NotNull\r\n    private Consumer&lt;HttpHeaders&gt; getHttpHeadersConsumer(ServerHttpRequest request) {\r\n        return new Consumer&lt;HttpHeaders&gt;() {\r\n            @Override\r\n            public void accept(HttpHeaders httpHeaders) {\r\n                for (Map.Entry&lt;String, List&lt;String&gt;&gt; header : request.getHeaders().entrySet()) {\r\n                    httpHeaders.set(header.getKey(), header.getValue().get(0));\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n\r\n    private Mono&lt;Void&gt; writeResponse(ServerWebExchange exchange, String message) {\r\n        exchange.getResponse().getHeaders().add(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n        return exchange\r\n                .getResponse()\r\n                .writeWith(\r\n                        Flux.just(\r\n                                exchange.getResponse().bufferFactory().wrap(message.getBytes(StandardCharsets.UTF_8))));\r\n    }","title":"How to send a portion of the requests to another url","body":"<p>Eventually I solved this by using Spring's WebClient (<a href=\"https://www.baeldung.com/spring-5-webclient\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-5-webclient</a>) in order to resend the request to the external service.</p>\n<pre><code> @Override\n    public Mono&lt;Void&gt; filter(ServerWebExchange serverWebExchange, WebFilterChain webFilterChain) {\n        HttpHeaders headers = serverWebExchange.getRequest().getHeaders();\n        if (headers.containsKey(&quot;someHeader&quot;)) {\n            if (someService.askSomething(Objects.requireNonNull(headers.get(&quot;someHeader&quot;)))) {\n                URI originalUri = serverWebExchange.getRequest().getURI();\n                log.info(&quot;Redirecting a {} HTTP request with path {} to some service&quot;,serverWebExchange.getRequest().getMethod(), originalUri.getPath());\n                return sendToSomeService(serverWebExchange.getRequest(), originalUri.getPath()).flatMap(body -&gt; writeResponse(serverWebExchange, body));\n\n            }\n        }\n        return webFilterChain.filter(serverWebExchange);\n    }\n\n    public Mono&lt;String&gt; sendToSomeService(ServerHttpRequest request, String path) {\n        return this.webClient.method(Objects.requireNonNull(request.getMethod())).uri(path)\n                .body(BodyInserters.fromDataBuffers(request.getBody()))\n                .headers(getHttpHeadersConsumer(request))\n                .retrieve()\n                .bodyToMono(String.class);\n    }\n\n    @NotNull\n    private Consumer&lt;HttpHeaders&gt; getHttpHeadersConsumer(ServerHttpRequest request) {\n        return new Consumer&lt;HttpHeaders&gt;() {\n            @Override\n            public void accept(HttpHeaders httpHeaders) {\n                for (Map.Entry&lt;String, List&lt;String&gt;&gt; header : request.getHeaders().entrySet()) {\n                    httpHeaders.set(header.getKey(), header.getValue().get(0));\n                }\n            }\n        };\n    }\n\n\n    private Mono&lt;Void&gt; writeResponse(ServerWebExchange exchange, String message) {\n        exchange.getResponse().getHeaders().add(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        return exchange\n                .getResponse()\n                .writeWith(\n                        Flux.just(\n                                exchange.getResponse().bufferFactory().wrap(message.getBytes(StandardCharsets.UTF_8))));\n    }\n</code></pre>\n"}],"owner":{"account_id":10847880,"reputation":31,"user_id":7976725,"display_name":"Eilon Benami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":569,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70565033,"answer_count":2,"score":0,"last_activity_date":1641209020,"creation_date":1640865222,"question_id":70531287,"body_markdown":"I have a web service which handles GET/POST/PUT HTTP requests using a Spring Rest Controller (using Netty and not Apache Tomcat). I wish to filter all the requests coming in my service, and when a request has a certain header configured, I want to send this specific request to a whole different URL, while returning the response to the same entity which sent the original request.\r\n\r\nHere is my code:\r\n\r\n```java\r\n@Component\r\npublic class MyWebFilter implements WebFilter {\r\n\r\n    @Autowired\r\n    private SomeService someService;\r\n    private final Logger log = LoggerFactory.getLogger(MyWebFilter.class);\r\n\r\n    @Override\r\n    public Mono&lt;Void&gt; filter(ServerWebExchange serverWebExchange, WebFilterChain webFilterChain) {\r\n        HttpHeaders headers = serverWebExchange.getRequest().getHeaders();\r\n        if (headers.containsKey(&quot;someHeader&quot;)) {\r\n            if (someService.askSomething(Objects.requireNonNull(headers.get(&quot;someHeader&quot;)))) {\r\n                URI originalUri = serverWebExchange.getRequest().getURI();\r\n                log.info(&quot;Redirecting request with URI {} to some service&quot;, originalUri.getPath());\r\n                try {\r\n                    URI someUri = new URI(&quot;http&quot;,\r\n                            originalUri.getUserInfo(),\r\n                            someService.getHost(),\r\n                            someService.getPort(),\r\n                            originalUri.getPath(),\r\n                            originalUri.getQuery(),\r\n                            originalUri.getFragment());\r\n                    ServerHttpRequest newRequest =  serverWebExchange.getRequest().mutate().uri(someUri).build();\r\n                    ServerWebExchange newExchange = serverWebExchange.mutate().request(newRequest).build();\r\n                    return webFilterChain.filter(newExchange);\r\n                } catch (URISyntaxException e) {\r\n                    throw new IllegalStateException(e.getMessage(), e);\r\n                }\r\n            }\r\n        }\r\n        return webFilterChain.filter(serverWebExchange);\r\n    }\r\n}\r\n```\r\n\r\nWith this implementation the request is simply passed through to my normal rest controller and does not reach the other service. What am I missing here?","title":"How to send a portion of the requests to another url","body":"<p>I have a web service which handles GET/POST/PUT HTTP requests using a Spring Rest Controller (using Netty and not Apache Tomcat). I wish to filter all the requests coming in my service, and when a request has a certain header configured, I want to send this specific request to a whole different URL, while returning the response to the same entity which sent the original request.</p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class MyWebFilter implements WebFilter {\n\n    @Autowired\n    private SomeService someService;\n    private final Logger log = LoggerFactory.getLogger(MyWebFilter.class);\n\n    @Override\n    public Mono&lt;Void&gt; filter(ServerWebExchange serverWebExchange, WebFilterChain webFilterChain) {\n        HttpHeaders headers = serverWebExchange.getRequest().getHeaders();\n        if (headers.containsKey(&quot;someHeader&quot;)) {\n            if (someService.askSomething(Objects.requireNonNull(headers.get(&quot;someHeader&quot;)))) {\n                URI originalUri = serverWebExchange.getRequest().getURI();\n                log.info(&quot;Redirecting request with URI {} to some service&quot;, originalUri.getPath());\n                try {\n                    URI someUri = new URI(&quot;http&quot;,\n                            originalUri.getUserInfo(),\n                            someService.getHost(),\n                            someService.getPort(),\n                            originalUri.getPath(),\n                            originalUri.getQuery(),\n                            originalUri.getFragment());\n                    ServerHttpRequest newRequest =  serverWebExchange.getRequest().mutate().uri(someUri).build();\n                    ServerWebExchange newExchange = serverWebExchange.mutate().request(newRequest).build();\n                    return webFilterChain.filter(newExchange);\n                } catch (URISyntaxException e) {\n                    throw new IllegalStateException(e.getMessage(), e);\n                }\n            }\n        }\n        return webFilterChain.filter(serverWebExchange);\n    }\n}\n</code></pre>\n<p>With this implementation the request is simply passed through to my normal rest controller and does not reach the other service. What am I missing here?</p>\n"},{"tags":["java","vaadin14"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1641159588,"post_id":70559855,"comment_id":124730699,"body_markdown":"Sure, this is possible, but nobody won&#39;t write your code. You should post some of your code so far that others can see what components you (want to) use, etc.","body":"Sure, this is possible, but nobody won&#39;t write your code. You should post some of your code so far that others can see what components you (want to) use, etc."}],"answers":[{"tags":[],"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641178475,"creation_date":1641172307,"answer_id":70560894,"question_id":70559855,"body_markdown":"&gt; Observer Pattern or something...\r\n\r\nYes, that is a solution. It is a lot of work and has been done before.\r\n\r\nOne such library is [Beanbag](https://github.com/oliveryasuna/beanbag).\r\n\r\nNote: I wrote this (or rather, I started writing it a day ago).\r\n\r\n**EDIT:**\r\n\r\nAs of this edit, we have the `ObservableCollection` interface. You can use it like so:\r\n\r\n```java\r\n// You have a collection called &quot;strings&quot;.\r\n\r\n// Wrap it in an ObservableCollection.\r\nfinal ObservableCollection&lt;String, Collection&lt;String&gt;, BasicObservableCollection.Default&lt;String, Collection&lt;String&gt;&gt;&gt; observableStrings = ObservableCollections.observableCollection(strings);\r\n\r\n// Add a removed observer.\r\nobservableStrings.addElementRemovedObserver(observation -&gt; System.out.println(&quot;\\&quot;&quot; + observation.getValue() + &quot;\\&quot; was removed.&quot;);\r\n\r\n// Remove an element.\r\nobservableStrings.remove(&quot;hello&quot;);\r\n```\r\n\r\nIf you need the wrapper to have `List` methods, just wait until tomorrow evening EST. I&#39;ll have the code up by then and will update this post accordingly.","title":"Vaadin change value from nested Layout","body":"<blockquote>\n<p>Observer Pattern or something...</p>\n</blockquote>\n<p>Yes, that is a solution. It is a lot of work and has been done before.</p>\n<p>One such library is <a href=\"https://github.com/oliveryasuna/beanbag\" rel=\"nofollow noreferrer\">Beanbag</a>.</p>\n<p>Note: I wrote this (or rather, I started writing it a day ago).</p>\n<p><strong>EDIT:</strong></p>\n<p>As of this edit, we have the <code>ObservableCollection</code> interface. You can use it like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// You have a collection called &quot;strings&quot;.\n\n// Wrap it in an ObservableCollection.\nfinal ObservableCollection&lt;String, Collection&lt;String&gt;, BasicObservableCollection.Default&lt;String, Collection&lt;String&gt;&gt;&gt; observableStrings = ObservableCollections.observableCollection(strings);\n\n// Add a removed observer.\nobservableStrings.addElementRemovedObserver(observation -&gt; System.out.println(&quot;\\&quot;&quot; + observation.getValue() + &quot;\\&quot; was removed.&quot;);\n\n// Remove an element.\nobservableStrings.remove(&quot;hello&quot;);\n</code></pre>\n<p>If you need the wrapper to have <code>List</code> methods, just wait until tomorrow evening EST. I'll have the code up by then and will update this post accordingly.</p>\n"},{"tags":[],"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641208760,"creation_date":1641190989,"answer_id":70562288,"question_id":70559855,"body_markdown":"In Vaadin there is an utility class [Binder][1] which is used to bind data to forms. If your use case is related to this, i.e. your so called nested layout is in fact a form and objects you refer to are data beans you want bind into that form. I recommend to study that first.\r\n\r\nIf you have list editor, I would also investigate if it fits your application to implement it with `Grid` or `IronList`/`VirtualList`, which is backed by `DataProvider`. Say you edit one item, and after saving the item, you can call `dataProvider.refreshItem(item)` to update the view. \r\n\r\n  [1]: https://vaadin.com/docs/latest/flow/binding-data/components-binder","title":"Vaadin change value from nested Layout","body":"<p>In Vaadin there is an utility class <a href=\"https://vaadin.com/docs/latest/flow/binding-data/components-binder\" rel=\"nofollow noreferrer\">Binder</a> which is used to bind data to forms. If your use case is related to this, i.e. your so called nested layout is in fact a form and objects you refer to are data beans you want bind into that form. I recommend to study that first.</p>\n<p>If you have list editor, I would also investigate if it fits your application to implement it with <code>Grid</code> or <code>IronList</code>/<code>VirtualList</code>, which is backed by <code>DataProvider</code>. Say you edit one item, and after saving the item, you can call <code>dataProvider.refreshItem(item)</code> to update the view.</p>\n"}],"owner":{"account_id":23808479,"reputation":3,"user_id":17817624,"display_name":"Tosun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641208760,"creation_date":1641158359,"question_id":70559855,"body_markdown":"I use Vaadin 14 and would know whether it is possible to report changes in the nested list to objects in the main view.\r\n\r\nA rough example is shown in the picture. Above you can see the sum as size (here 2), if I press Delete it should change to 1.\r\nIs that possible and how?\r\n\r\n[concept][1]\r\n\r\nI don&#39;t have any code yet, it&#39;s a thought where I would like to have a hint about what would be possible, e.g. Observer Pattern or something, but code could look something like this\r\ncode:\r\n\r\n```\r\n@Rout(&quot;&quot;)\r\npublic class MainView extends VerticalLayout {\r\n\r\n private List&lt;CustomDetails&gt; customDetails = new ArrayList&lt;&gt;();\r\n\r\n public MainView(){\r\n  final var form = new FormLayout();\r\n  customDetails.forEach(form::add);\r\n  add(H1(&quot;Header&quot;), form)\r\n }\r\n}\r\n\r\npublic class CustomDetails extends Details{\r\n private CustomForm customForm;\r\n private final Service service;\r\n public CustomDetails(){\r\n  customForms = new CustomForm(service.getListOfObjects());\r\n  this.setContent(customForms)\r\n }\r\n}\r\n\r\npublic class CustomForm extend FormLayout{\r\n\r\n private FormLayout formLayout = new FormLayout();\r\n private List&lt;Object&gt; objects = new LinkedList&lt;&gt;();\r\n public CustomForm(List&lt;Object&gt; list){\r\n \r\n  this.objects = list;\r\n  setUp();\r\n  add(new Paragraph(&quot;SUM: &quot;+ list.size()), layout);\r\n }\r\n\r\n private void setUp(){\r\n  objects.forEarch(o-&gt;{\r\n   ....\r\n   layout.add(...)\r\n  })\r\n }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HyMfB.jpg","title":"Vaadin change value from nested Layout","body":"<p>I use Vaadin 14 and would know whether it is possible to report changes in the nested list to objects in the main view.</p>\n<p>A rough example is shown in the picture. Above you can see the sum as size (here 2), if I press Delete it should change to 1.\nIs that possible and how?</p>\n<p><a href=\"https://i.stack.imgur.com/HyMfB.jpg\" rel=\"nofollow noreferrer\">concept</a></p>\n<p>I don't have any code yet, it's a thought where I would like to have a hint about what would be possible, e.g. Observer Pattern or something, but code could look something like this\ncode:</p>\n<pre><code>@Rout(&quot;&quot;)\npublic class MainView extends VerticalLayout {\n\n private List&lt;CustomDetails&gt; customDetails = new ArrayList&lt;&gt;();\n\n public MainView(){\n  final var form = new FormLayout();\n  customDetails.forEach(form::add);\n  add(H1(&quot;Header&quot;), form)\n }\n}\n\npublic class CustomDetails extends Details{\n private CustomForm customForm;\n private final Service service;\n public CustomDetails(){\n  customForms = new CustomForm(service.getListOfObjects());\n  this.setContent(customForms)\n }\n}\n\npublic class CustomForm extend FormLayout{\n\n private FormLayout formLayout = new FormLayout();\n private List&lt;Object&gt; objects = new LinkedList&lt;&gt;();\n public CustomForm(List&lt;Object&gt; list){\n \n  this.objects = list;\n  setUp();\n  add(new Paragraph(&quot;SUM: &quot;+ list.size()), layout);\n }\n\n private void setUp(){\n  objects.forEarch(o-&gt;{\n   ....\n   layout.add(...)\n  })\n }\n}\n</code></pre>\n"},{"tags":["java","itext","cve"],"comments":[{"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"score":0,"creation_date":1640003748,"post_id":70420106,"comment_id":124484095,"body_markdown":"look at the expanded pom to see what else is pulling it in and add more exclusions or library upgrades...","body":"look at the expanded pom to see what else is pulling it in and add more exclusions or library upgrades..."},{"owner":{"account_id":5244922,"reputation":129,"user_id":4190958,"display_name":"Armando Prieto"},"score":0,"creation_date":1640281860,"post_id":70420106,"comment_id":124562296,"body_markdown":"Facing the same issue. GhostscriptHelper.java is not part of iText5. It seems the CVE description is misleading or iText5 is not affected at all.","body":"Facing the same issue. GhostscriptHelper.java is not part of iText5. It seems the CVE description is misleading or iText5 is not affected at all."},{"owner":{"account_id":1851020,"reputation":4117,"user_id":1677594,"display_name":"Guillaume Husta"},"score":0,"creation_date":1641204752,"post_id":70420106,"comment_id":124738356,"body_markdown":"If you use the **Dependency-Check** plugin and you think it is a _false positive_ report, you can try to submit an issue at : https://github.com/jeremylong/DependencyCheck/issues/new/choose","body":"If you use the <b>Dependency-Check</b> plugin and you think it is a <i>false positive</i> report, you can try to submit an issue at : <a href=\"https://github.com/jeremylong/DependencyCheck/issues/new/choose\" rel=\"nofollow noreferrer\">github.com/jeremylong/DependencyCheck/issues/new/choose</a>"},{"owner":{"account_id":1851020,"reputation":4117,"user_id":1677594,"display_name":"Guillaume Husta"},"score":0,"creation_date":1641206566,"post_id":70420106,"comment_id":124738880,"body_markdown":"See also : https://github.com/jeremylong/DependencyCheck/issues/3762#issuecomment-1003739968","body":"See also : <a href=\"https://github.com/jeremylong/DependencyCheck/issues/3762#issuecomment-1003739968\" rel=\"nofollow noreferrer\">github.com/jeremylong/DependencyCheck/issues/&hellip;</a>"},{"owner":{"account_id":1851020,"reputation":4117,"user_id":1677594,"display_name":"Guillaume Husta"},"score":0,"creation_date":1641206575,"post_id":70420106,"comment_id":124738885,"body_markdown":"See also : https://github.com/LibrePDF/OpenPDF/issues/639","body":"See also : <a href=\"https://github.com/LibrePDF/OpenPDF/issues/639\" rel=\"nofollow noreferrer\">github.com/LibrePDF/OpenPDF/issues/639</a>"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1641248389,"post_id":70420106,"comment_id":124752619,"body_markdown":"Are you using the compare tool of itext? If i read the issue correctly, it is about the itext compare tool (which IIRC is only used for tests when _building_ itext, not for _running_ itext functions). So if you don&#39;t use that compare tool, the CVE does not apply.","body":"Are you using the compare tool of itext? If i read the issue correctly, it is about the itext compare tool (which IIRC is only used for tests when <i>building</i> itext, not for <i>running</i> itext functions). So if you don&#39;t use that compare tool, the CVE does not apply."},{"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"score":0,"creation_date":1642027484,"post_id":70420106,"comment_id":124966772,"body_markdown":"The fix from iText 7 will also be backported to iText 5 but no commitments on timelines yet. Most likely you are not using `CompareTool` if you are using `flying-saucer-pdf` so this alert is a false positive for you","body":"The fix from iText 7 will also be backported to iText 5 but no commitments on timelines yet. Most likely you are not using <code>CompareTool</code> if you are using <code>flying-saucer-pdf</code> so this alert is a false positive for you"}],"owner":{"account_id":7055162,"reputation":870,"user_id":5517820,"accept_rate":68,"display_name":"MehdiB"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":779,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1641207807,"creation_date":1639994123,"question_id":70420106,"body_markdown":"In our project pom.xml we use flying-saucer-pdf-itext5 version 9.1.22, which has a dependency on itextpdf version 5.5.12. Our pipeline fails due to OWASP step complaining about itextpdf related to this security issue:\r\nhttps://nvd.nist.gov/vuln/detail/CVE-2021-43113\r\n\r\nhowever this issue mentions that\r\n\r\n&gt; iTextPDF in iText before 7.1.17 allows command injection via a CompareTool filename that is mishandled on the gs (aka Ghostscript) command line in GhostscriptHelper.java.\r\n\r\nwhich I guess is related to this dependency: itext7-core\r\n\r\nWe don&#39;t use this dependency directly and I also can&#39;t find it in dependencies of itextpdf. \r\n\r\nI excluded the itextpdf 5.5.12 from flying-saucer-pdf-itext5 and added the newest version 5.5.13.2 but the issue still exists. \r\n\r\nAny idea where I should look for this dependency and how to resolve this security issue?\r\n","title":"OWASP step fails due to itextpdf-5.5.12 dependency (CVE-2021-43113)","body":"<p>In our project pom.xml we use flying-saucer-pdf-itext5 version 9.1.22, which has a dependency on itextpdf version 5.5.12. Our pipeline fails due to OWASP step complaining about itextpdf related to this security issue:\n<a href=\"https://nvd.nist.gov/vuln/detail/CVE-2021-43113\" rel=\"nofollow noreferrer\">https://nvd.nist.gov/vuln/detail/CVE-2021-43113</a></p>\n<p>however this issue mentions that</p>\n<blockquote>\n<p>iTextPDF in iText before 7.1.17 allows command injection via a CompareTool filename that is mishandled on the gs (aka Ghostscript) command line in GhostscriptHelper.java.</p>\n</blockquote>\n<p>which I guess is related to this dependency: itext7-core</p>\n<p>We don't use this dependency directly and I also can't find it in dependencies of itextpdf.</p>\n<p>I excluded the itextpdf 5.5.12 from flying-saucer-pdf-itext5 and added the newest version 5.5.13.2 but the issue still exists.</p>\n<p>Any idea where I should look for this dependency and how to resolve this security issue?</p>\n"},{"tags":["java","rest","rest-assured","web-api-testing","rest-assured-jsonpath"],"comments":[{"owner":{"account_id":4475914,"reputation":14400,"user_id":3641067,"accept_rate":73,"display_name":"bur&#230;quete"},"score":0,"creation_date":1561682426,"post_id":56799752,"comment_id":100154247,"body_markdown":"Can you show the said `PUT` endpoint, and its definition? How is it declared in the controller maybe? It seems there is a `List` definition in its RQ body, but you are not sending one, your RQ body in test must be incorrect. Maybe rather than `{}`, you have to send `[ {} ]`, so a list in the root?","body":"Can you show the said <code>PUT</code> endpoint, and its definition? How is it declared in the controller maybe? It seems there is a <code>List</code> definition in its RQ body, but you are not sending one, your RQ body in test must be incorrect. Maybe rather than <code>{}</code>, you have to send <code>[ {} ]</code>, so a list in the root?"},{"owner":{"account_id":10357710,"reputation":73,"user_id":7639077,"display_name":"Ricky"},"score":0,"creation_date":1561692308,"post_id":56799752,"comment_id":100155652,"body_markdown":"endpoint is http://localhost:8080/users/variable1/preferences?type=somevariable\n\nrequest = given().pathParam(&quot;variable1&quot;, variabble1).queryParam(&quot;somepara&quot;, parameter);","body":"endpoint is <a href=\"http://localhost:8080/users/variable1/preferences?type=somevariable\" rel=\"nofollow noreferrer\">localhost:8080/users/variable1/preferences?type=somevariable</a>  request = given().pathParam(&quot;variable1&quot;, variabble1).queryParam(&quot;somepara&quot;, parameter);"},{"owner":{"account_id":10357710,"reputation":73,"user_id":7639077,"display_name":"Ricky"},"score":0,"creation_date":1561692624,"post_id":56799752,"comment_id":100155709,"body_markdown":"[\n    {\n        &quot;displayText&quot;: &quot;&quot;,\n        &quot;preferences&quot;: [\n            {\n                &quot;category&quot;: &quot;&quot;,\n                &quot;displaytext&quot;: &quot;&quot;,\n\n            }\n        ],\n        &quot;priority&quot;: &quot;20&quot;\n    },\n    {\n        &quot;mandatory&quot;:,\n        &quot;name&quot;: &quot;&quot;,\n        “preferences”: [\n            {\n                &quot;category&quot;: &quot;&quot;,\n                &quot;displaytext&quot;: &quot;&quot;,\n\n            },\n            {\n                &quot;category&quot;: &quot;&quot;,\n                &quot;value&quot;:\n            }, ],\n        &quot;priority&quot;: &quot;30&quot;\n    }\n]","body":"[     {         &quot;displayText&quot;: &quot;&quot;,         &quot;preferences&quot;: [             {                 &quot;category&quot;: &quot;&quot;,                 &quot;displaytext&quot;: &quot;&quot;,              }         ],         &quot;priority&quot;: &quot;20&quot;     },     {         &quot;mandatory&quot;:,         &quot;name&quot;: &quot;&quot;,         “preferences”: [             {                 &quot;category&quot;: &quot;&quot;,                 &quot;displaytext&quot;: &quot;&quot;,              },             {                 &quot;category&quot;: &quot;&quot;,                 &quot;value&quot;:             }, ],         &quot;priority&quot;: &quot;30&quot;     } ]"}],"answers":[{"tags":[],"owner":{"account_id":4475914,"reputation":14400,"user_id":3641067,"accept_rate":73,"display_name":"bur&#230;quete"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1561695870,"creation_date":1561694460,"answer_id":56800748,"question_id":56799752,"body_markdown":"As you have shared in your comment there, the endpoint is expecting a list of objects, not a singular object as you are sending... Just try wrapping that with a list, and you&#39;d get past 400 error.\r\n\r\nWhat you are sending;\r\n\r\n    {\r\n        &quot;displayText&quot;: &quot;Warrants&quot;, \r\n        &quot;value&quot;: &quot;true&quot;  // I don&#39;t know about this value field here\r\n    }\r\n\r\nWhat is expected, as you&#39;ve shared;\r\n\r\n    [ \r\n        {\r\n            &quot;displayText&quot;: &quot;&quot;, \r\n            &quot;preferences&quot;: [ { &quot;category&quot;: &quot;&quot;, &quot;displaytext&quot;: &quot;&quot;, } ], \r\n            &quot;priority&quot;: &quot;20&quot; \r\n        }\r\n    ] \r\n\r\nOne issue is that you have to send the object in a list, also passing objects as map is also somewhat counter productive, better to use the same object used in the RQ.\r\n\r\n    public class Request {\r\n\r\n        private String displayText;\r\n        private List&lt;Preference&gt; preferences;\r\n        private Integer priority;\r\n\r\n        //getter, setter,etc\r\n    }\r\n\r\n&amp; use it in your body in the rest assured test;\r\n\r\n    List&lt;Request&gt; requestList = new ArrayList&lt;&gt;();\r\n    Request request = new Request();\r\n    request.setDisplayText(&quot;etc&quot;);\r\n    ... // set other stuff\r\n    requestList.add(request);\r\n    response = request.contentType(&quot;application/json&quot;).accept(&quot;*/*&quot;).body(requestList).put(ENDPOINT_GET_USER_BY_ID);","title":"Bad Request 400 and deserialization error while testing api using rest assured put method","body":"<p>As you have shared in your comment there, the endpoint is expecting a list of objects, not a singular object as you are sending... Just try wrapping that with a list, and you'd get past 400 error.</p>\n\n<p>What you are sending;</p>\n\n<pre><code>{\n    \"displayText\": \"Warrants\", \n    \"value\": \"true\"  // I don't know about this value field here\n}\n</code></pre>\n\n<p>What is expected, as you've shared;</p>\n\n<pre><code>[ \n    {\n        \"displayText\": \"\", \n        \"preferences\": [ { \"category\": \"\", \"displaytext\": \"\", } ], \n        \"priority\": \"20\" \n    }\n] \n</code></pre>\n\n<p>One issue is that you have to send the object in a list, also passing objects as map is also somewhat counter productive, better to use the same object used in the RQ.</p>\n\n<pre><code>public class Request {\n\n    private String displayText;\n    private List&lt;Preference&gt; preferences;\n    private Integer priority;\n\n    //getter, setter,etc\n}\n</code></pre>\n\n<p>&amp; use it in your body in the rest assured test;</p>\n\n<pre><code>List&lt;Request&gt; requestList = new ArrayList&lt;&gt;();\nRequest request = new Request();\nrequest.setDisplayText(\"etc\");\n... // set other stuff\nrequestList.add(request);\nresponse = request.contentType(\"application/json\").accept(\"*/*\").body(requestList).put(ENDPOINT_GET_USER_BY_ID);\n</code></pre>\n"}],"owner":{"account_id":10357710,"reputation":73,"user_id":7639077,"display_name":"Ricky"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5232,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56800748,"answer_count":1,"score":1,"last_activity_date":1641207778,"creation_date":1561682091,"question_id":56799752,"body_markdown":"I am testing endpoint with path para and query para and updating the request with some parameters. When I send the request content type is json \r\nand request looks good with the data that i am trying to change however when response is received \r\n\r\n**content type is text \r\nand i get 400 error bad request as status code \r\nand error message** \r\n\r\njavax.ws.rs.ProcessingException: RESTEASY008200: JSON Binding deserialization error: javax.json.bind.JsonbException: Can&amp;#x27;t infer a type for unmarshalling into: java.util.List\r\n\r\nmy code \r\n\r\n    @Given(&quot;^api is set up with required details$&quot;)\r\n    public void api_is_set_up_with_user_data() throws Throwable {\r\n        loadProp();\r\n        base_url = prop.getProperty(&quot;baseurl&quot;);\r\n        RestAssured.baseURI = base_url;\r\n\r\n    }\r\n\r\n    @When(&quot;^a user retrieves the preferences by userid \\&quot;([^\\&quot;]*)\\&quot; and type \\&quot;([^\\&quot;]*)\\&quot;$&quot;)\r\n    public void a_user_retrieves_the_preferences_by_userid_and_type(String userid, String parameter) throws Throwable {\r\n        request = given().pathParam(&quot;user_id&quot;, userid).queryParam(&quot;type&quot;, parameter);\r\n        System.out.println(request);\r\n        ENDPOINT_GET_USER_BY_ID = base_url + &quot;{user_id}/preferences&quot;;\r\n        response = request.when().get(ENDPOINT_GET_USER_BY_ID);\r\n        System.out.println(&quot;response: &quot; + response.prettyPrint());\r\n    }\r\n\r\n    @Then(&quot;^updates the value \\&quot;([^\\&quot;]*)\\&quot; of name \\&quot;([^\\&quot;]*)\\&quot;$&quot;)\r\n    public void updates_the_value_of_name(String value, String displaytext) throws Throwable {\r\n        HashMap&lt;String,String&gt; post = new HashMap&lt;String,String&gt;();\r\n        post.put(&quot;displaytext&quot;,displaytext);\r\n        post.put(&quot;value&quot;,value);\r\n        response = request.contentType(&quot;application/json&quot;).accept(&quot;*/*&quot;).body(post).put(ENDPOINT_GET_USER_BY_ID);\r\n    //        response = request.header(&quot;Content-Type&quot;, &quot;application/json&quot;).body(post).put(ENDPOINT_GET_USER_BY_ID);\r\n\r\n        System.out.println(&quot;Response : &quot; + response.asString());\r\n        System.out.println(&quot;Statuscode : &quot; +response.getStatusCode());\r\n\r\n    }\r\n\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QgAYU.png\r\n  [2]: https://i.stack.imgur.com/Nsp9e.png","title":"Bad Request 400 and deserialization error while testing api using rest assured put method","body":"<p>I am testing endpoint with path para and query para and updating the request with some parameters. When I send the request content type is json \nand request looks good with the data that i am trying to change however when response is received </p>\n\n<p><strong>content type is text \nand i get 400 error bad request as status code \nand error message</strong> </p>\n\n<p>javax.ws.rs.ProcessingException: RESTEASY008200: JSON Binding deserialization error: javax.json.bind.JsonbException: Can&#x27;t infer a type for unmarshalling into: java.util.List</p>\n\n<p>my code </p>\n\n<pre><code>@Given(\"^api is set up with required details$\")\npublic void api_is_set_up_with_user_data() throws Throwable {\n    loadProp();\n    base_url = prop.getProperty(\"baseurl\");\n    RestAssured.baseURI = base_url;\n\n}\n\n@When(\"^a user retrieves the preferences by userid \\\"([^\\\"]*)\\\" and type \\\"([^\\\"]*)\\\"$\")\npublic void a_user_retrieves_the_preferences_by_userid_and_type(String userid, String parameter) throws Throwable {\n    request = given().pathParam(\"user_id\", userid).queryParam(\"type\", parameter);\n    System.out.println(request);\n    ENDPOINT_GET_USER_BY_ID = base_url + \"{user_id}/preferences\";\n    response = request.when().get(ENDPOINT_GET_USER_BY_ID);\n    System.out.println(\"response: \" + response.prettyPrint());\n}\n\n@Then(\"^updates the value \\\"([^\\\"]*)\\\" of name \\\"([^\\\"]*)\\\"$\")\npublic void updates_the_value_of_name(String value, String displaytext) throws Throwable {\n    HashMap&lt;String,String&gt; post = new HashMap&lt;String,String&gt;();\n    post.put(\"displaytext\",displaytext);\n    post.put(\"value\",value);\n    response = request.contentType(\"application/json\").accept(\"*/*\").body(post).put(ENDPOINT_GET_USER_BY_ID);\n//        response = request.header(\"Content-Type\", \"application/json\").body(post).put(ENDPOINT_GET_USER_BY_ID);\n\n    System.out.println(\"Response : \" + response.asString());\n    System.out.println(\"Statuscode : \" +response.getStatusCode());\n\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/QgAYU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QgAYU.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/Nsp9e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nsp9e.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","model","getter-setter"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1640861518,"post_id":70530577,"comment_id":124676740,"body_markdown":"The method should not be there because what happens if someone calls `getSentiment` before calling `setSentiment`!? Either put the logic in the getter or put it into the setter of `sentimentScore`.","body":"The method should not be there because what happens if someone calls <code>getSentiment</code> before calling <code>setSentiment</code>!? Either put the logic in the getter or put it into the setter of <code>sentimentScore</code>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1640861526,"post_id":70530577,"comment_id":124676746,"body_markdown":"If the value of a field depends on the value of some other field, I would suggest to either calculate the value on-the-fly in the getter or calculate the value when the value of the depending field is set.","body":"If the value of a field depends on the value of some other field, I would suggest to either calculate the value on-the-fly in the getter or calculate the value when the value of the depending field is set."},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":3,"creation_date":1640861660,"post_id":70530577,"comment_id":124676793,"body_markdown":"I&#39;d say no field `String sentiment`, just a gettre with the logic returning a String","body":"I&#39;d say no field <code>String sentiment</code>, just a gettre with the logic returning a String"},{"owner":{"account_id":14993871,"reputation":33,"user_id":10823979,"display_name":"Ahmad Nasser"},"score":0,"creation_date":1640863244,"post_id":70530577,"comment_id":124677336,"body_markdown":"@azro My main goal is to have sentiment value stored in it, so I need it to exist as the front-end will be using it, I&#39;m trying to avoid setting the value in it&#39;s getter method, I don&#39;t think that&#39;s a good practice!","body":"@azro My main goal is to have sentiment value stored in it, so I need it to exist as the front-end will be using it, I&#39;m trying to avoid setting the value in it&#39;s getter method, I don&#39;t think that&#39;s a good practice!"},{"owner":{"account_id":14993871,"reputation":33,"user_id":10823979,"display_name":"Ahmad Nasser"},"score":0,"creation_date":1640863414,"post_id":70530577,"comment_id":124677382,"body_markdown":"@luk2302 Would that be a bad practice to set a value inside the getter method?\nAlso what if the `sentimentScore` is coming from the database? in that case the setter method of it won&#39;t be called, so I won&#39;t get use of having that functionality inside the `sentimentScore` setter.","body":"@luk2302 Would that be a bad practice to set a value inside the getter method? Also what if the <code>sentimentScore</code> is coming from the database? in that case the setter method of it won&#39;t be called, so I won&#39;t get use of having that functionality inside the <code>sentimentScore</code> setter."}],"answers":[{"tags":[],"owner":{"account_id":14993871,"reputation":33,"user_id":10823979,"display_name":"Ahmad Nasser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641207446,"creation_date":1640868004,"answer_id":70531827,"question_id":70530577,"body_markdown":"Thanks for the suggestions, adding only a getter for the new field solved it, after getting the model from the database, the mapper looks for all the setters &amp; getters of the model.\r\n\r\n```\t\r\nabstract public class BaseContent {\r\n\r\n\tprotected Double sentimentScore;\r\n\r\n\t/**\r\n\t * Get sentiment value depending on sentimentScore value:\r\n\t * If less than 0, set sentiment as negative.\r\n\t * If higher than 0, set sentiment as positive.\r\n\t * If equals to 0, set sentiment as neutral.\r\n\t */\r\n\tpublic String getSentiment() {\r\n\t\tString sentiment = null;\r\n\t\tif (sentimentScore != null) {\r\n\t\t\tif (sentimentScore &lt; 0) {\r\n\t\t\t\tsentiment = &quot;negative&quot;;\r\n\t\t\t} else if (sentimentScore &gt; 0) {\r\n\t\t\t\tsentiment = &quot;positive&quot;;\r\n\t\t\t} else {\r\n\t\t\t\tsentiment = &quot;neutral&quot;;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn sentiment;\r\n\t}\r\n}\r\n    ","title":"Is it a must to pass a parameter to a set method? In this case setting the value is depending on another field in the same object","body":"<p>Thanks for the suggestions, adding only a getter for the new field solved it, after getting the model from the database, the mapper looks for all the setters &amp; getters of the model.</p>\n<pre><code>abstract public class BaseContent {\n\n    protected Double sentimentScore;\n\n    /**\n     * Get sentiment value depending on sentimentScore value:\n     * If less than 0, set sentiment as negative.\n     * If higher than 0, set sentiment as positive.\n     * If equals to 0, set sentiment as neutral.\n     */\n    public String getSentiment() {\n        String sentiment = null;\n        if (sentimentScore != null) {\n            if (sentimentScore &lt; 0) {\n                sentiment = &quot;negative&quot;;\n            } else if (sentimentScore &gt; 0) {\n                sentiment = &quot;positive&quot;;\n            } else {\n                sentiment = &quot;neutral&quot;;\n            }\n        }\n        return sentiment;\n    }\n}\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1640869084,"creation_date":1640869084,"answer_id":70532021,"question_id":70530577,"body_markdown":"If String `sentiment` field is transient, then it may be just removed and computed in the getter as suggested in the comments:\r\n```java\r\npublic abstract class BaseContent {\r\n\r\n    protected Double sentimentScore;\r\n\r\n     /**\r\n     * Return sentiment value depending on sentimentScore value\r\n     * If less than 0, set sentiment as negative.\r\n     * If more than 0, set sentiment as positive.\r\n     * If equals to 0, set sentiment as neutral.\r\n     */\r\n    public String getSentiment() {\r\n        return Optional.ofNullable(sentimentScore)\r\n            .map(sc -&gt; switch((int)Math.signum(sc)) {\r\n                case -1 -&gt; &quot;negative&quot;;\r\n                case  0 -&gt; &quot;neutral&quot;;\r\n                case  1 -&gt; &quot;positive&quot;;\r\n                default -&gt; &quot;unknown&quot;;\r\n            })\r\n            .orElse(&quot;unknown&quot;);\r\n    }\r\n    \r\n    public void setSentiment(Double score) {\r\n        this.sentimentScore = score;\r\n    }\r\n}\r\n```\r\n","title":"Is it a must to pass a parameter to a set method? In this case setting the value is depending on another field in the same object","body":"<p>If String <code>sentiment</code> field is transient, then it may be just removed and computed in the getter as suggested in the comments:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class BaseContent {\n\n    protected Double sentimentScore;\n\n     /**\n     * Return sentiment value depending on sentimentScore value\n     * If less than 0, set sentiment as negative.\n     * If more than 0, set sentiment as positive.\n     * If equals to 0, set sentiment as neutral.\n     */\n    public String getSentiment() {\n        return Optional.ofNullable(sentimentScore)\n            .map(sc -&gt; switch((int)Math.signum(sc)) {\n                case -1 -&gt; &quot;negative&quot;;\n                case  0 -&gt; &quot;neutral&quot;;\n                case  1 -&gt; &quot;positive&quot;;\n                default -&gt; &quot;unknown&quot;;\n            })\n            .orElse(&quot;unknown&quot;);\n    }\n    \n    public void setSentiment(Double score) {\n        this.sentimentScore = score;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14993871,"reputation":33,"user_id":10823979,"display_name":"Ahmad Nasser"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641207446,"creation_date":1640861449,"question_id":70530577,"body_markdown":"I know it&#39;s the common thing and maybe the best practice to pass a parameter to a set method, but in this case the new field I&#39;m adding is depending on the value of another field in the same object, here is an example of code:\r\n```\t\r\n\tabstract public class BaseContent {\r\n\r\n\tprotected String sentiment;\r\n\tprotected Double sentimentScore;\r\n\r\n\r\n\tpublic String getSentiment() {\r\n\t\treturn sentiment;\r\n\t}\r\n    \r\n\t /**\r\n\t * Set sentiment value depending on sentimentScore value:\r\n\t * If less than 0, set sentiment as negative.\r\n\t * If more than 0, set sentiment as positive.\r\n\t * If equals to 0, set sentiment as neutral.\r\n\t */\r\n\tpublic void setSentiment() {\r\n\t\tif (sentimentScore != null) {\r\n\t\t\tif (sentimentScore &lt; 0) {\r\n\t\t\t\tsentiment = &quot;negative&quot;;\r\n\t\t\t} else if (sentimentScore &gt; 0) {\r\n\t\t\t\tsentiment = &quot;positive&quot;;\r\n\t\t\t} else {\r\n\t\t\t\tsentiment = &quot;neutral&quot;;\r\n\t\t\t}\r\n\t\t}\r\n\t} \r\n```\r\n\r\nI thought about creating only a getter method and have this functionality there, but that will force me to update the value of the new field in the same getter method, also I don&#39;t care about saving the new value in the database if that helps.\r\n\r\nI might be having wrong thoughts so please give me your opinion on this!    \r\n","title":"Is it a must to pass a parameter to a set method? In this case setting the value is depending on another field in the same object","body":"<p>I know it's the common thing and maybe the best practice to pass a parameter to a set method, but in this case the new field I'm adding is depending on the value of another field in the same object, here is an example of code:</p>\n<pre><code>    abstract public class BaseContent {\n\n    protected String sentiment;\n    protected Double sentimentScore;\n\n\n    public String getSentiment() {\n        return sentiment;\n    }\n    \n     /**\n     * Set sentiment value depending on sentimentScore value:\n     * If less than 0, set sentiment as negative.\n     * If more than 0, set sentiment as positive.\n     * If equals to 0, set sentiment as neutral.\n     */\n    public void setSentiment() {\n        if (sentimentScore != null) {\n            if (sentimentScore &lt; 0) {\n                sentiment = &quot;negative&quot;;\n            } else if (sentimentScore &gt; 0) {\n                sentiment = &quot;positive&quot;;\n            } else {\n                sentiment = &quot;neutral&quot;;\n            }\n        }\n    } \n</code></pre>\n<p>I thought about creating only a getter method and have this functionality there, but that will force me to update the value of the new field in the same getter method, also I don't care about saving the new value in the database if that helps.</p>\n<p>I might be having wrong thoughts so please give me your opinion on this!</p>\n"},{"tags":["java","jmeter"],"comments":[{"owner":{"account_id":4226606,"reputation":2607,"user_id":3459987,"accept_rate":76,"display_name":"n34_panda"},"score":0,"creation_date":1427276843,"post_id":29252088,"comment_id":46708111,"body_markdown":"My guess is your webserver/ip path within your (I am assuming) HTTP Request Default/sample element has a problem?  .If you copy the webserver path to your browser does your application open?  Make sure the path is set to &quot;/&quot;  under the sampler as well.","body":"My guess is your webserver/ip path within your (I am assuming) HTTP Request Default/sample element has a problem?  .If you copy the webserver path to your browser does your application open?  Make sure the path is set to &quot;/&quot;  under the sampler as well."},{"owner":{"account_id":108390,"reputation":5268,"user_id":287732,"accept_rate":68,"display_name":"Biscuit128"},"score":0,"creation_date":1427277131,"post_id":29252088,"comment_id":46708310,"body_markdown":"its my jar that makes a zero mq call to my java middleware application on localhost requester.connect(&quot;tcp://localhost:5555&quot;);","body":"its my jar that makes a zero mq call to my java middleware application on localhost requester.connect(&quot;tcp://localhost:5555&quot;);"},{"owner":{"account_id":4226606,"reputation":2607,"user_id":3459987,"accept_rate":76,"display_name":"n34_panda"},"score":0,"creation_date":1427277406,"post_id":29252088,"comment_id":46708482,"body_markdown":"Use a listener (the table as suggested below), it won&#39;t fix your problem but it will indicate on the success/failures on each thread.  Try removing tcp:// if that&#39;s included in the servername/ip box (the http element handles the protocol)...I imagine the TCP Sampler is the same (What sampler are you using? ( I imagine the TCP Sampler? ))","body":"Use a listener (the table as suggested below), it won&#39;t fix your problem but it will indicate on the success/failures on each thread.  Try removing tcp:// if that&#39;s included in the servername/ip box (the http element handles the protocol)...I imagine the TCP Sampler is the same (What sampler are you using? ( I imagine the TCP Sampler? ))"},{"owner":{"account_id":108390,"reputation":5268,"user_id":287732,"accept_rate":68,"display_name":"Biscuit128"},"score":0,"creation_date":1427277994,"post_id":29252088,"comment_id":46708845,"body_markdown":"hi thanks for the advice  - yes a tcp sampler","body":"hi thanks for the advice  - yes a tcp sampler"}],"answers":[{"tags":[],"owner":{"account_id":1521409,"reputation":6658,"user_id":1420941,"display_name":"stringy05"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1427276976,"creation_date":1427276976,"answer_id":29252280,"question_id":29252088,"body_markdown":"Add a &#39;View results in a table&#39; Listener to your Thread Group. This will show you each request and the result - eg if it&#39;s HTTP you will get URL, status code etc.\r\n\r\nHave a look at the doco [here][1]\r\n\r\n\r\n  [1]: http://jmeter.apache.org/usermanual/component_reference.html#View_Results_in_Table","title":"JMeter test not running","body":"<p>Add a 'View results in a table' Listener to your Thread Group. This will show you each request and the result - eg if it's HTTP you will get URL, status code etc.</p>\n\n<p>Have a look at the doco <a href=\"http://jmeter.apache.org/usermanual/component_reference.html#View_Results_in_Table\" rel=\"nofollow\">here</a></p>\n"},{"tags":[],"owner":{"account_id":8777318,"reputation":11,"user_id":6562146,"display_name":"Pavan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467915522,"creation_date":1467915522,"answer_id":38252652,"question_id":29252088,"body_markdown":"Do you have any regular expression extractors or CSV Data set config files empty? No data or capturing anything? If so, please toggle them off (Ctrl+T) or Cmmnd+T - OSX, Linux. Should fix that\r\n","title":"JMeter test not running","body":"<p>Do you have any regular expression extractors or CSV Data set config files empty? No data or capturing anything? If so, please toggle them off (Ctrl+T) or Cmmnd+T - OSX, Linux. Should fix that</p>\n"},{"tags":[],"owner":{"account_id":15607600,"reputation":39,"user_id":11259931,"display_name":"Mad Einsy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1641206687,"creation_date":1554723684,"answer_id":55572647,"question_id":29252088,"body_markdown":"You need to check below things before hitting the run button:\r\n\r\n1. Make Sure the &quot;Thread Group&quot; is Enabled (Not sure but for me it was disabled when I open my .JMX file from recent files), If you have Login parameter added then make sure it is enabled as well.\r\n\r\n2. Go to the location where you kept the .CSV file and double check the path in Jmeter as well. Because without the csv data it will stop the Thread at 1-1. (Above Error)\r\n\r\n3. Make Sure the Results (Listeners) are merged with the Thread and are Enabled.","title":"JMeter test not running","body":"<p>You need to check below things before hitting the run button:</p>\n<ol>\n<li><p>Make Sure the &quot;Thread Group&quot; is Enabled (Not sure but for me it was disabled when I open my .JMX file from recent files), If you have Login parameter added then make sure it is enabled as well.</p>\n</li>\n<li><p>Go to the location where you kept the .CSV file and double check the path in Jmeter as well. Because without the csv data it will stop the Thread at 1-1. (Above Error)</p>\n</li>\n<li><p>Make Sure the Results (Listeners) are merged with the Thread and are Enabled.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2298483,"reputation":1,"user_id":9633328,"display_name":"Nikhita Amin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601418933,"creation_date":1601418620,"answer_id":64128522,"question_id":29252088,"body_markdown":"I kept getting the same error\r\nscreenshot of error log:  \r\n[![screenshot of error log][1]][1]\r\n\r\nHowever, removed the HTTP part from the IP address and it worked fine.\r\nscreenshot of the http request page:  \r\n[![screenshot of the http request page][2]][2]\r\n\r\n  [1]: https://i.stack.imgur.com/aSnbv.png\r\n  [2]: https://i.stack.imgur.com/k6vrw.png","title":"JMeter test not running","body":"<p>I kept getting the same error\nscreenshot of error log:<br />\n<a href=\"https://i.stack.imgur.com/aSnbv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aSnbv.png\" alt=\"screenshot of error log\" /></a></p>\n<p>However, removed the HTTP part from the IP address and it worked fine.\nscreenshot of the http request page:<br />\n<a href=\"https://i.stack.imgur.com/k6vrw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k6vrw.png\" alt=\"screenshot of the http request page\" /></a></p>\n"},{"tags":[],"owner":{"account_id":16973366,"reputation":1,"user_id":12277384,"display_name":"Shaimaa Atef"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641205249,"creation_date":1641205249,"answer_id":70564320,"question_id":29252088,"body_markdown":"i tried to put the full link in the path field and it worked successfully","title":"JMeter test not running","body":"<p>i tried to put the full link in the path field and it worked successfully</p>\n"}],"owner":{"account_id":108390,"reputation":5268,"user_id":287732,"accept_rate":68,"display_name":"Biscuit128"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25216,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":29252280,"answer_count":5,"score":5,"last_activity_date":1641206687,"creation_date":1427276472,"question_id":29252088,"body_markdown":"    5/03/25 09:36:45 INFO  - jmeter.engine.StandardJMeterEngine: Running the test! \r\n    2015/03/25 09:36:45 INFO  - jmeter.samplers.SampleEvent: List of sample_variables: [] \r\n    2015/03/25 09:36:45 INFO  - jmeter.gui.util.JMeterMenuBar: setRunning(true,*local*) \r\n    2015/03/25 09:36:45 INFO  - jmeter.engine.StandardJMeterEngine: Starting ThreadGroup: 1 : Thread Group \r\n    2015/03/25 09:36:45 INFO  - jmeter.engine.StandardJMeterEngine: Starting 1 threads for group Thread Group. \r\n    2015/03/25 09:36:45 INFO  - jmeter.engine.StandardJMeterEngine: Thread will continue on error \r\n    2015/03/25 09:36:45 INFO  - jmeter.threads.ThreadGroup: Starting thread group number 1 threads 1 ramp-up 1 perThread 1000.0 delayedStart=false \r\n    2015/03/25 09:36:45 INFO  - jmeter.threads.ThreadGroup: Started thread group number 1 \r\n    2015/03/25 09:36:45 INFO  - jmeter.engine.StandardJMeterEngine: All thread groups have been started \r\n    2015/03/25 09:36:45 INFO  - jmeter.threads.JMeterThread: Thread started: Thread Group 1-1 \r\n    2015/03/25 09:36:45 INFO  - jmeter.threads.JMeterThread: Thread is done: Thread Group 1-1 \r\n    2015/03/25 09:36:45 INFO  - jmeter.threads.JMeterThread: Thread finished: Thread Group 1-1 \r\n    2015/03/25 09:36:45 INFO  - jmeter.engine.StandardJMeterEngine: Notifying test listeners of end of test \r\n    2015/03/25 09:36:45 INFO  - jmeter.gui.util.JMeterMenuBar: setRunning(false,*local*) \r\n\r\nI am trying to load test my application with JMeter but it doesnt seem as though it is running my test correctly, the log file for the application shows no signs of incoming messages but my test log output from JMeter shows the above - it appears as though the test is running from this - can anyone shed some clarity on what might be going wrong or what I might have not done?","title":"JMeter test not running","body":"<pre><code>5/03/25 09:36:45 INFO  - jmeter.engine.StandardJMeterEngine: Running the test! \n2015/03/25 09:36:45 INFO  - jmeter.samplers.SampleEvent: List of sample_variables: [] \n2015/03/25 09:36:45 INFO  - jmeter.gui.util.JMeterMenuBar: setRunning(true,*local*) \n2015/03/25 09:36:45 INFO  - jmeter.engine.StandardJMeterEngine: Starting ThreadGroup: 1 : Thread Group \n2015/03/25 09:36:45 INFO  - jmeter.engine.StandardJMeterEngine: Starting 1 threads for group Thread Group. \n2015/03/25 09:36:45 INFO  - jmeter.engine.StandardJMeterEngine: Thread will continue on error \n2015/03/25 09:36:45 INFO  - jmeter.threads.ThreadGroup: Starting thread group number 1 threads 1 ramp-up 1 perThread 1000.0 delayedStart=false \n2015/03/25 09:36:45 INFO  - jmeter.threads.ThreadGroup: Started thread group number 1 \n2015/03/25 09:36:45 INFO  - jmeter.engine.StandardJMeterEngine: All thread groups have been started \n2015/03/25 09:36:45 INFO  - jmeter.threads.JMeterThread: Thread started: Thread Group 1-1 \n2015/03/25 09:36:45 INFO  - jmeter.threads.JMeterThread: Thread is done: Thread Group 1-1 \n2015/03/25 09:36:45 INFO  - jmeter.threads.JMeterThread: Thread finished: Thread Group 1-1 \n2015/03/25 09:36:45 INFO  - jmeter.engine.StandardJMeterEngine: Notifying test listeners of end of test \n2015/03/25 09:36:45 INFO  - jmeter.gui.util.JMeterMenuBar: setRunning(false,*local*) \n</code></pre>\n<p>I am trying to load test my application with JMeter but it doesnt seem as though it is running my test correctly, the log file for the application shows no signs of incoming messages but my test log output from JMeter shows the above - it appears as though the test is running from this - can anyone shed some clarity on what might be going wrong or what I might have not done?</p>\n"},{"tags":["java","android","video","jwplayer"],"comments":[{"owner":{"account_id":352992,"reputation":22062,"user_id":690430,"accept_rate":100,"display_name":"Kamil Sindi"},"score":1,"creation_date":1575253253,"post_id":59108454,"comment_id":104491706,"body_markdown":"JW Player only exposes the SDK license key for non-free accounts","body":"JW Player only exposes the SDK license key for non-free accounts"},{"owner":{"account_id":13923140,"reputation":447,"user_id":10053092,"display_name":"vicky keshri"},"score":0,"creation_date":1580375239,"post_id":59108454,"comment_id":106078904,"body_markdown":"Even I am stuck with the same, according to the document this error only appears when Licence key is invalid. However I am using the same key for iOS which is working. If anyone is solved this issue please ping here.","body":"Even I am stuck with the same, according to the document this error only appears when Licence key is invalid. However I am using the same key for iOS which is working. If anyone is solved this issue please ping here."}],"answers":[{"tags":[],"owner":{"account_id":167599,"reputation":2053,"user_id":392506,"accept_rate":75,"display_name":"Nishant Rajput"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641206542,"creation_date":1641206542,"answer_id":70564558,"question_id":59108454,"body_markdown":"Add inside your `Application` class `onCreate` method\r\n\r\n    LicenseUtil.setLicenseKey(this, &quot;YOUR_LICENSE_KEY&quot;)","title":"JWPlayer invalid license key error code (100012)","body":"<p>Add inside your <code>Application</code> class <code>onCreate</code> method</p>\n<pre><code>LicenseUtil.setLicenseKey(this, &quot;YOUR_LICENSE_KEY&quot;)\n</code></pre>\n"}],"owner":{"account_id":5740049,"reputation":3312,"user_id":4533037,"accept_rate":29,"display_name":"Garima Mathur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1880,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641206542,"creation_date":1575045739,"question_id":59108454,"body_markdown":"I am trying to play a Video using JWPlayer and getting **invalid license key error code (100012)** after player setup.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pX8Gb.png\r\n\r\nUsing free developer account on JWplayer dashboard and got license key from dashboard -&gt; players -&gt; Downloads &amp; Keys section.\r\n \r\n**JW player Android Sdk version: 3.0.0** \r\n\r\nIntegration Steps: \r\n\r\n&gt; 1. Downloaded Android JW Player SDK\r\n&gt; 2. Added dependency in android studio as .aar\r\n&gt; 3. Configured the license key in manifest file\r\n&gt; 4. Added a player to an adapter using recycler view.\r\n&gt; 5. Run the app and got the invalid license key error in JWplayer view.\r\n\r\n \r\n\r\n**We can find license key from dashboard -&gt; tools section but I could not see tools in dashboard for free account. So, tools section enabled for paid account only?**","title":"JWPlayer invalid license key error code (100012)","body":"<p>I am trying to play a Video using JWPlayer and getting <strong>invalid license key error code (100012)</strong> after player setup.</p>\n\n<p><a href=\"https://i.stack.imgur.com/pX8Gb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pX8Gb.png\" alt=\"enter image description here\"></a></p>\n\n<p>Using free developer account on JWplayer dashboard and got license key from dashboard -> players -> Downloads &amp; Keys section.</p>\n\n<p><strong>JW player Android Sdk version: 3.0.0</strong> </p>\n\n<p>Integration Steps: </p>\n\n<blockquote>\n  <ol>\n  <li>Downloaded Android JW Player SDK</li>\n  <li>Added dependency in android studio as .aar</li>\n  <li>Configured the license key in manifest file</li>\n  <li>Added a player to an adapter using recycler view.</li>\n  <li>Run the app and got the invalid license key error in JWplayer view.</li>\n  </ol>\n</blockquote>\n\n<p><strong>We can find license key from dashboard -> tools section but I could not see tools in dashboard for free account. So, tools section enabled for paid account only?</strong></p>\n"},{"tags":["java","constructor","abstract","final"],"comments":[{"owner":{"account_id":427606,"reputation":2452,"user_id":809455,"accept_rate":70,"display_name":"aps"},"score":1,"creation_date":1309620001,"post_id":6557800,"comment_id":7728463,"body_markdown":"why do you think that it should &quot;scream&quot; in the first place?","body":"why do you think that it should &quot;scream&quot; in the first place?"},{"owner":{"account_id":434090,"reputation":1713,"user_id":819822,"accept_rate":86,"display_name":"imacake"},"score":0,"creation_date":1309620202,"post_id":6557800,"comment_id":7728489,"body_markdown":"@aps red lines below the critical place (the assignment in the constructor, or constructor itself)","body":"@aps red lines below the critical place (the assignment in the constructor, or constructor itself)"}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1309619957,"creation_date":1309619957,"answer_id":6557821,"question_id":6557800,"body_markdown":"You can create concrete sub-classes of FooType and they will all have a final field called myvar.\r\n\r\nBTW: A `public` constructor in an abstract class is the same as a `protected` one as it can only be called from a sub-class.\r\n\r\nWhat is your doubt?","title":"Final variables in abstract classes","body":"<p>You can create concrete sub-classes of FooType and they will all have a final field called myvar.</p>\n\n<p>BTW: A <code>public</code> constructor in an abstract class is the same as a <code>protected</code> one as it can only be called from a sub-class.</p>\n\n<p>What is your doubt?</p>\n"},{"tags":[],"owner":{"account_id":59387,"reputation":8242,"user_id":177701,"accept_rate":70,"display_name":"Hendrik Brummermann"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1309620328,"creation_date":1309619964,"answer_id":6557822,"question_id":6557800,"body_markdown":"The code is fine, the final variable is initialized in the constructor of `FooType`. \r\n\r\nYou cannot instantiate `FooType` because of it being abstract. But if you create a non abstract subclass of `FooType`, the constructor will be called.\r\n\r\nIf you do not have an explicit call to `super(...)` in a constructor, the Java Compiler will add it automatically. Therefore it is ensured that a constructor of every class in the inheritance chain is called.","title":"Final variables in abstract classes","body":"<p>The code is fine, the final variable is initialized in the constructor of <code>FooType</code>. </p>\n\n<p>You cannot instantiate <code>FooType</code> because of it being abstract. But if you create a non abstract subclass of <code>FooType</code>, the constructor will be called.</p>\n\n<p>If you do not have an explicit call to <code>super(...)</code> in a constructor, the Java Compiler will add it automatically. Therefore it is ensured that a constructor of every class in the inheritance chain is called.</p>\n"},{"tags":[],"owner":{"account_id":129028,"reputation":39302,"user_id":327301,"accept_rate":66,"display_name":"yankee"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1309619979,"creation_date":1309619979,"answer_id":6557828,"question_id":6557800,"body_markdown":"You can have constructors, methods, properties, everything in abstract classes that you can have in non-abstract classes as well. You just can&#39;t instantiate the class. So there is nothing wrong with this code.\r\n\r\nIn a deriving class you can call the constructor and set the final property:\r\n\r\n    public class Foo extends FooType\r\n    {\r\n      public Foo()\r\n      {\r\n        super(); // &lt;-- Call constructor of FooType\r\n      }\r\n    }\r\n\r\nif you don&#39;t specify a call to super(), it will be inserted anyway by the compiler.","title":"Final variables in abstract classes","body":"<p>You can have constructors, methods, properties, everything in abstract classes that you can have in non-abstract classes as well. You just can't instantiate the class. So there is nothing wrong with this code.</p>\n\n<p>In a deriving class you can call the constructor and set the final property:</p>\n\n<pre><code>public class Foo extends FooType\n{\n  public Foo()\n  {\n    super(); // &lt;-- Call constructor of FooType\n  }\n}\n</code></pre>\n\n<p>if you don't specify a call to super(), it will be inserted anyway by the compiler.</p>\n"},{"tags":[],"owner":{"account_id":427606,"reputation":2452,"user_id":809455,"accept_rate":70,"display_name":"aps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1309620693,"creation_date":1309620693,"answer_id":6557894,"question_id":6557800,"body_markdown":"Ok. See, an abstract class can have a constructor. It&#39;s always there-implicit or explicit. In fact when you create an object of a subclass of an abstract class, the first thing that the constructor of the subclass does is call the constructor of its abstract superclass by using super(). It is just understood, that&#39;s why you don&#39;t have to write `super()` explicitly unless you use parameterized constructors. Every class even if it is abstract, has an implicit constructor which you cannot see. It is called unless you create some constructor of your own. so long you created abstract classes without creating any custom constructor in it, so you didn&#39;t know about the existence of the implicit constructor.","title":"Final variables in abstract classes","body":"<p>Ok. See, an abstract class can have a constructor. It's always there-implicit or explicit. In fact when you create an object of a subclass of an abstract class, the first thing that the constructor of the subclass does is call the constructor of its abstract superclass by using super(). It is just understood, that's why you don't have to write <code>super()</code> explicitly unless you use parameterized constructors. Every class even if it is abstract, has an implicit constructor which you cannot see. It is called unless you create some constructor of your own. so long you created abstract classes without creating any custom constructor in it, so you didn't know about the existence of the implicit constructor.</p>\n"},{"tags":[],"owner":{"account_id":7922657,"reputation":647,"user_id":5983136,"accept_rate":80,"display_name":"chamzz.dot"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1505546354,"creation_date":1505546354,"answer_id":46251300,"question_id":6557800,"body_markdown":"No you can&#39;t declare final variables inside an Abstract class.\r\nCheck Below example.\r\n\r\n    public abstract class AbstractEx {\r\n        final int x=10;\r\n        public abstract void AbstractEx();\r\n    }\r\n\r\n    public class newClass extends AbstractEx{\r\n    \r\n        public void AbstractEx(){\r\n            System.out.println(&quot;abc&quot;);\r\n            }\r\n        }  \r\n\r\n    public class declareClass{\r\n       public static void main(String[] args) {\r\n           AbstractEx obj = new newClass ();\r\n           obj.AbstractEx();\r\n          // System.out.println(x);\r\n        }\r\n    }\r\n\r\nThis code runs correct and produce output as \r\n\r\n&gt; abc\r\n\r\nBut if we remove comment symbol of  \r\n\r\n&gt; System.out.println(x);\r\n\r\n it will produce error.\r\n\r\n","title":"Final variables in abstract classes","body":"<p>No you can't declare final variables inside an Abstract class.\nCheck Below example.</p>\n\n<pre><code>public abstract class AbstractEx {\n    final int x=10;\n    public abstract void AbstractEx();\n}\n\npublic class newClass extends AbstractEx{\n\n    public void AbstractEx(){\n        System.out.println(\"abc\");\n        }\n    }  \n\npublic class declareClass{\n   public static void main(String[] args) {\n       AbstractEx obj = new newClass ();\n       obj.AbstractEx();\n      // System.out.println(x);\n    }\n}\n</code></pre>\n\n<p>This code runs correct and produce output as </p>\n\n<blockquote>\n  <p>abc</p>\n</blockquote>\n\n<p>But if we remove comment symbol of  </p>\n\n<blockquote>\n  <p>System.out.println(x);</p>\n</blockquote>\n\n<p>it will produce error.</p>\n"},{"tags":[],"owner":{"account_id":18266093,"reputation":57,"user_id":13297779,"display_name":"die"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641206520,"creation_date":1641185790,"answer_id":70561815,"question_id":6557800,"body_markdown":"You definitely can declare final variable in abstract class as long as you assign value to it either in the constructor or in declaration. The example that guy gave makes no sense. ","title":"Final variables in abstract classes","body":"<p>You definitely can declare final variable in abstract class as long as you assign value to it either in the constructor or in declaration. The example that guy gave makes no sense.</p>\n"}],"owner":{"account_id":434090,"reputation":1713,"user_id":819822,"accept_rate":86,"display_name":"imacake"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17813,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":6557822,"answer_count":6,"score":15,"last_activity_date":1641206520,"creation_date":1309619692,"question_id":6557800,"body_markdown":"In Java, I can&#39;t create instances of abstract classes. So why doesn&#39;t eclipse scream about the following code?\r\n\r\n    public abstract class FooType {\r\n        private final int myvar;\r\n        \r\n        public FooType() {\r\n            myvar = 1;\r\n        }\r\n    }\r\n\r\n","title":"Final variables in abstract classes","body":"<p>In Java, I can't create instances of abstract classes. So why doesn't eclipse scream about the following code?</p>\n\n<pre><code>public abstract class FooType {\n    private final int myvar;\n\n    public FooType() {\n        myvar = 1;\n    }\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","aws-lambda","command-line-interface","serverless"],"answers":[{"tags":[],"owner":{"account_id":16482688,"reputation":51,"user_id":11909008,"display_name":"Guram Kankava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640632846,"creation_date":1640632846,"answer_id":70499569,"question_id":70499568,"body_markdown":"function name is declared in serverless.yml file \r\nfunctions:\r\n  ${&quot;name-of-function&quot;}","title":"serverless function name declaration location or how to invoke java function via serverless","body":"<p>function name is declared in serverless.yml file\nfunctions:\n${&quot;name-of-function&quot;}</p>\n"}],"owner":{"account_id":16482688,"reputation":51,"user_id":11909008,"display_name":"Guram Kankava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641206358,"creation_date":1640632846,"question_id":70499568,"body_markdown":"Created project via command:\r\n```\r\nserverless create --template aws-java-maven --path hello-aws-lambda-java\r\n```\r\ndeployed to aws via command: \r\n```\r\nserverless deploy\r\n```\r\nwant to call function via command:\r\n```\r\nserverless invoke -f ${&quot;name-of-function&quot;}\r\n```\r\n\r\nWhere do I find function name, if I try class name method name get error.","title":"serverless function name declaration location or how to invoke java function via serverless","body":"<p>Created project via command:</p>\n<pre><code>serverless create --template aws-java-maven --path hello-aws-lambda-java\n</code></pre>\n<p>deployed to aws via command:</p>\n<pre><code>serverless deploy\n</code></pre>\n<p>want to call function via command:</p>\n<pre><code>serverless invoke -f ${&quot;name-of-function&quot;}\n</code></pre>\n<p>Where do I find function name, if I try class name method name get error.</p>\n"},{"tags":["java","android","android-studio","audio","mobile"],"comments":[{"owner":{"account_id":12157861,"reputation":1714,"user_id":8876321,"display_name":"fdcpp"},"score":0,"creation_date":1641210653,"post_id":70564512,"comment_id":124740188,"body_markdown":"Welcome to Stack overflow! It  might be worth having a check of existing answers first to see if they help. If they don&#39;t, it would definitely be beneficial to elaborate on why.","body":"Welcome to Stack overflow! It  might be worth having a check of existing answers first to see if they help. If they don&#39;t, it would definitely be beneficial to elaborate on why."},{"owner":{"account_id":12157861,"reputation":1714,"user_id":8876321,"display_name":"fdcpp"},"score":0,"creation_date":1641210656,"post_id":70564512,"comment_id":124740190,"body_markdown":"[1](https://stackoverflow.com/questions/11094377/android-how-to-change-playback-rate-of-music-using-opensl-es), [2](https://stackoverflow.com/questions/13527134/audiotrack-soundpool-or-mediaplayer-which-should-i-use/62081133#62081133), [3](https://stackoverflow.com/questions/14892420/how-to-speed-up-music-playing-in-real-time-in-android-without-changing-the-pitch), [4](https://stackoverflow.com/questions/5149050/modifying-the-speed-of-music-playback-in-android)","body":"<a href=\"https://stackoverflow.com/questions/11094377/android-how-to-change-playback-rate-of-music-using-opensl-es\">1</a>, <a href=\"https://stackoverflow.com/questions/13527134/audiotrack-soundpool-or-mediaplayer-which-should-i-use/62081133#62081133\">2</a>, <a href=\"https://stackoverflow.com/questions/14892420/how-to-speed-up-music-playing-in-real-time-in-android-without-changing-the-pitch\">3</a>, <a href=\"https://stackoverflow.com/questions/5149050/modifying-the-speed-of-music-playback-in-android\">4</a>"}],"owner":{"account_id":23812743,"reputation":1,"user_id":17821359,"display_name":"Sharkman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":488,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641206311,"creation_date":1641206311,"question_id":70564512,"body_markdown":"I am currently looking to create something similar to the following apps on the play store which focuses on time / tempo stretching the audio for musicians to add something to my development portfolio. I previously have created an android app in android studio using java for a semester project in univeristy, but still very much a beginner to mobile development.\r\n\r\n*Music Speed Changer*\r\n\r\nhttps://play.google.com/store/apps/details?id=com.smp.musicspeed&amp;hl=en_CA&amp;gl=US\r\n\r\n*Tempo SlowMo - BPM Slow Downer*\r\n\r\nhttps://play.google.com/store/apps/details?id=com.martianstorm.temposlowmo&amp;hl=en_CA&amp;gl=US\r\n\r\nI have spent many days trying to figure out how to implement this feature, but I can&#39;t seem to find anything that works the way I want it to.\r\n\r\nI first ruled out SoundPool because to my understanding, it is only used for short audio clips rather than a full length audio track. So far I have tried implementing this slowdown feature using MediaPlayer and Exoplayer by giving them a PlayerParamerters object with different playback speed, but both end up giving the same result of increased or decreased pitch with increased or decreased speed respectively. Another thing to point out is that the audio quality seems significantly lower when playback speed is adjusted. This is somewhat expected, but compared to the same audio played in these apps, it is a significant downgrade. \r\n\r\nI have also looked at Oboe C++ library for Android as I thought this might help, but I think it focuses on audio latency rather than actually altering audio. There is also the Superpowered library, but I believe that requires a paid license which may be a problem if I ever want to release the app on the playstore commercially.\r\n\r\nI&#39;ve seen some open source projects like VLC player for android has a variable playback speed without pitch changes, but the app is so large it is hard to follow it.\r\n\r\nI would like to know if anyone else has run into this problem, and if so, how or what did you do to go about solving this problem?\r\n\r\nThank you very much :)","title":"How to increase/decrease audio playback speed (tempo) without changing pitch - Android Mobile Development","body":"<p>I am currently looking to create something similar to the following apps on the play store which focuses on time / tempo stretching the audio for musicians to add something to my development portfolio. I previously have created an android app in android studio using java for a semester project in univeristy, but still very much a beginner to mobile development.</p>\n<p><em>Music Speed Changer</em></p>\n<p><a href=\"https://play.google.com/store/apps/details?id=com.smp.musicspeed&amp;hl=en_CA&amp;gl=US\" rel=\"nofollow noreferrer\">https://play.google.com/store/apps/details?id=com.smp.musicspeed&amp;hl=en_CA&amp;gl=US</a></p>\n<p><em>Tempo SlowMo - BPM Slow Downer</em></p>\n<p><a href=\"https://play.google.com/store/apps/details?id=com.martianstorm.temposlowmo&amp;hl=en_CA&amp;gl=US\" rel=\"nofollow noreferrer\">https://play.google.com/store/apps/details?id=com.martianstorm.temposlowmo&amp;hl=en_CA&amp;gl=US</a></p>\n<p>I have spent many days trying to figure out how to implement this feature, but I can't seem to find anything that works the way I want it to.</p>\n<p>I first ruled out SoundPool because to my understanding, it is only used for short audio clips rather than a full length audio track. So far I have tried implementing this slowdown feature using MediaPlayer and Exoplayer by giving them a PlayerParamerters object with different playback speed, but both end up giving the same result of increased or decreased pitch with increased or decreased speed respectively. Another thing to point out is that the audio quality seems significantly lower when playback speed is adjusted. This is somewhat expected, but compared to the same audio played in these apps, it is a significant downgrade.</p>\n<p>I have also looked at Oboe C++ library for Android as I thought this might help, but I think it focuses on audio latency rather than actually altering audio. There is also the Superpowered library, but I believe that requires a paid license which may be a problem if I ever want to release the app on the playstore commercially.</p>\n<p>I've seen some open source projects like VLC player for android has a variable playback speed without pitch changes, but the app is so large it is hard to follow it.</p>\n<p>I would like to know if anyone else has run into this problem, and if so, how or what did you do to go about solving this problem?</p>\n<p>Thank you very much :)</p>\n"},{"tags":["java","log4j","log4j2","system-properties"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1641215319,"post_id":70564479,"comment_id":124741699,"body_markdown":"The syntax is correct and should work. Do you have `log4j-1.2-api` in your classpath?","body":"The syntax is correct and should work. Do you have <code>log4j-1.2-api</code> in your classpath?"},{"owner":{"account_id":8038911,"reputation":61,"user_id":6061223,"display_name":"jmonroe"},"score":0,"creation_date":1641286913,"post_id":70564479,"comment_id":124759712,"body_markdown":"yes i have added the dependency","body":"yes i have added the dependency"}],"owner":{"account_id":8038911,"reputation":61,"user_id":6061223,"display_name":"jmonroe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2683,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1641206128,"creation_date":1641206128,"question_id":70564479,"body_markdown":"How to set the system property “log4j1.compatibility” to a value of “true” and How to set the Log4j 1 system property “log4j.configuration” to the location of the log4j 1 configuration file. I have tried through command line prompt the following command \r\n\r\n*java -Dlog4j1.compatibility=&quot;true&quot;* and\r\n*java -Dlog4j.configuration=&quot;file:C:Users\\Public\\log4j.xml&quot;*\r\n\r\n\r\n","title":"Enabling the Log4j 1.x bridge","body":"<p>How to set the system property “log4j1.compatibility” to a value of “true” and How to set the Log4j 1 system property “log4j.configuration” to the location of the log4j 1 configuration file. I have tried through command line prompt the following command</p>\n<p><em>java -Dlog4j1.compatibility=&quot;true&quot;</em> and\n<em>java -Dlog4j.configuration=&quot;file:C:Users\\Public\\log4j.xml&quot;</em></p>\n"},{"tags":["java","javafx","java-native-interface","overloading","keyboard-events"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1519399977,"post_id":48951220,"comment_id":84909079,"body_markdown":"Why would you want to do this? Imagine your user is using your app, and receives an email that needs an immediate reply. Do you really want your app to do stuff in response to arbitrary key presses they make while - just for example - typing an email?","body":"Why would you want to do this? Imagine your user is using your app, and receives an email that needs an immediate reply. Do you really want your app to do stuff in response to arbitrary key presses they make while - just for example - typing an email?"},{"owner":{"account_id":13004754,"reputation":21,"user_id":9399647,"display_name":"themaal"},"score":0,"creation_date":1519400485,"post_id":48951220,"comment_id":84909407,"body_markdown":"Its not really for users, i need it for a research project where i run a simulator and this application side by side so i need the key presses to be registered by this application while the user goes up and down a list and makes selections. So i only need to register 3 keys, a key that makes it go up the list, another key that makes it go down the list and another to make a selection.","body":"Its not really for users, i need it for a research project where i run a simulator and this application side by side so i need the key presses to be registered by this application while the user goes up and down a list and makes selections. So i only need to register 3 keys, a key that makes it go up the list, another key that makes it go down the list and another to make a selection."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1519401093,"post_id":48951220,"comment_id":84909805,"body_markdown":"There is Robot, and the java.awt key events. Stealing key presses from an other application would be a serious security flaw. Things like Selenium exist that do remote control. So you either have to wrap the simulator, which is when it is a java app relatively easy.","body":"There is Robot, and the java.awt key events. Stealing key presses from an other application would be a serious security flaw. Things like Selenium exist that do remote control. So you either have to wrap the simulator, which is when it is a java app relatively easy."},{"owner":{"account_id":13004754,"reputation":21,"user_id":9399647,"display_name":"themaal"},"score":0,"creation_date":1519403706,"post_id":48951220,"comment_id":84911435,"body_markdown":"The experiment will be done in a controlled environment, where only two applications will be running, the simulator and this custom app. Whatever keys i decide to use for traversing the list, i will make sure they will be binded in the simulator to do nothing. I don&#39;t really understand what you mean by &#39;stealing&#39; keys, think of it more like using the input for two applications at the same time.","body":"The experiment will be done in a controlled environment, where only two applications will be running, the simulator and this custom app. Whatever keys i decide to use for traversing the list, i will make sure they will be binded in the simulator to do nothing. I don&#39;t really understand what you mean by &#39;stealing&#39; keys, think of it more like using the input for two applications at the same time."}],"answers":[{"tags":[],"owner":{"account_id":405138,"reputation":4326,"user_id":773849,"accept_rate":100,"display_name":"Alex Barker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521578620,"creation_date":1521571474,"answer_id":49391975,"question_id":48951220,"body_markdown":"First, let&#39;s talk about event delivery and UI threading as it is important that you understand the context switching that is going behind the scenes with the threads and the memory being shared between them.\r\n\r\nJava like just about every other application ever designed uses a single thread for all UI events.  The reason for this has been [well documented][1] all over the internet. So if you are using AWT/Swing or Java FX, your events are dispatched on the AWT/Swing or Java FX platform thread respectively and no other threads should be interacting or expecting these events.\r\n\r\nJNativeHook uses its own dispatch thread that is completely independent of Java&#39;s UI. This was primarily done for compatibility reasons, as I did not want to force a particular UI API on the implementing user.  Because of this, if you would like to use AWT/Swing, Java FX or something else, you must dispatch the native event on the thread context that is responsible for your UI.  There is a spring dispatcher built into the library, and a Java FX dispatcher I have posted [here][2] that allow for very simple context switching via the default dispatch method by registering the dispatcher with the GlobalScreen.  \r\n\r\nYou maybe asking yourself, &quot;what if I want to modify the event before it is dispatched?&quot;  This should also be possible, but requires a little more effort that registering a dispatch class.  You should be able to extend the GlobalScreen class and its anonymous inner classes to accomplish anything else you need.  For example, if you want to dispatch Swing InputEvents instead of NativeInputEvents you could do the following:\r\n\r\n    public class CustomScreen extends GlobalScreen {\r\n\t\r\n\t\t// Static blocks are run when the class is loaded.\r\n\t\tstatic {\r\n\t\t\t// Add adaptors to the listener to convert the events.\r\n\t\t\taddNativeKeyListener(new KeyAdapter());\r\n\t\t\taddNativeMouseListener(new MouseAdapter());\r\n\t\r\n\t\t\tsetEventDispatcher(new SwingDispatchService());\r\n\t\t}\r\n\t\r\n\t\tprivate static class KeyAdapter extends SwingKeyAdapter {\r\n\t\t\tpublic void keyTyped(KeyEvent keyEvent) {\r\n\t\t\t\tKeyListener[] listeners = eventListeners.getListeners(KeyListener.class);\r\n\t\r\n\t\t\t\tfor (int i = 0; i &lt; listeners.length; i++) {\r\n\t\t\t\t\tlisteners[i].keyTyped(keyEvent);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\tpublic void keyPressed(KeyEvent keyEvent) {\r\n\t\t\t\tKeyListener[] listeners = eventListeners.getListeners(KeyListener.class);\r\n\t\r\n\t\t\t\tfor (int i = 0; i &lt; listeners.length; i++) {\r\n\t\t\t\t\tlisteners[i].keyPressed(keyEvent);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\tpublic void keyReleased(KeyEvent keyEvent) {\r\n\t\t\t\tKeyListener[] listeners = eventListeners.getListeners(KeyListener.class);\r\n\t\r\n\t\t\t\tfor (int i = 0; i &lt; listeners.length; i++) {\r\n\t\t\t\t\tlisteners[i].keyReleased(keyEvent);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tprivate static class MouseAdapter extends SwingMouseAdapter {\r\n\t\t\tpublic void mouseClicked(MouseEvent mouseEvent) {\r\n\t\t\t\tMouseListener[] listeners = eventListeners.getListeners(MouseListener.class);\r\n\t\r\n\t\t\t\tfor (int i = 0; i &lt; listeners.length; i++) {\r\n\t\t\t\t\tlisteners[i].mouseClicked(mouseEvent);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\tpublic void mousePressed(MouseEvent mouseEvent) {\r\n\t\t\t\tMouseListener[] listeners = eventListeners.getListeners(MouseListener.class);\r\n\t\r\n\t\t\t\tfor (int i = 0; i &lt; listeners.length; i++) {\r\n\t\t\t\t\tlisteners[i].mousePressed(mouseEvent);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\tpublic void mouseReleased(MouseEvent mouseEvent) {\r\n\t\t\t\tMouseListener[] listeners = eventListeners.getListeners(MouseListener.class);\r\n\t\r\n\t\t\t\tfor (int i = 0; i &lt; listeners.length; i++) {\r\n\t\t\t\t\tlisteners[i].mouseReleased(mouseEvent);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\tpublic void mouseEntered(MouseEvent mouseEvent) {\r\n\t\t\t\tMouseListener[] listeners = eventListeners.getListeners(MouseListener.class);\r\n\t\r\n\t\t\t\tfor (int i = 0; i &lt; listeners.length; i++) {\r\n\t\t\t\t\tlisteners[i].mouseEntered(mouseEvent);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\tpublic void mouseExited(MouseEvent mouseEvent) {\r\n\t\t\t\tMouseListener[] listeners = eventListeners.getListeners(MouseListener.class);\r\n\t\r\n\t\t\t\tfor (int i = 0; i &lt; listeners.length; i++) {\r\n\t\t\t\t\tlisteners[i].mouseExited(mouseEvent);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tpublic static void addSwingKeyListener(KeyListener listener) {\r\n\t\t\tif (listener != null) {\r\n\t\t\t\teventListeners.add(KeyListener.class, listener);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tpublic static void removeKeyListener(KeyListener listener) {\r\n\t\t\tif (listener != null) {\r\n\t\t\t\teventListeners.remove(KeyListener.class, listener);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tpublic static void addMouseListener(MouseListener listener) {\r\n\t\t\tif (listener != null) {\r\n\t\t\t\teventListeners.add(MouseListener.class, listener);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tpublic static void removeMouseListener(MouseListener listener) {\r\n\t\t\tif (listener != null) {\r\n\t\t\t\teventListeners.remove(MouseListener.class, listener);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nAll this does is register a couple adaptor classes included with the library with the parent global screen and dispatches to the swing listeners in the adaptors.  There are other ways to do this that may be more powerful like extending the [GlobalScreen.NativeHookThread][3] anonymous inner class, but that will take significantly more code on your part.\r\n\r\nDealing with Java FX is very similar to swing, you can find an example dispatcher at my previous post: https://stackoverflow.com/a/45423466/773849\r\n\r\nAs far as the `.consume()` goes, yes that is unsupported but still possible on some platforms.  If you are using Windows or OS X, you can stop event propagation with some clever code as outlined in the [wiki][4].  This will require that you override the aforementioned NativeHookThread inner class and you must be fast with your events as the NativeHookThread is not really a not a thread in this case and will block the operating system. This method is not available on Linux, because linux has no way to perform this function at this point in time.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/31820336/why-must-should-ui-frameworks-be-single-threaded\r\n  [2]: https://stackoverflow.com/a/45423466/773849\r\n  [3]: https://github.com/kwhat/jnativehook/blob/2.1/src/java/org/jnativehook//GlobalScreen.java#L307\r\n  [4]: https://github.com/kwhat/jnativehook/wiki/ConsumingEvents\r\n  [5]: https://github.com/kwhat/jnativehook/blob/2.1/src/java/org/jnativehook/GlobalScreen.java#L307","title":"Implementing a global key press for javafx methods","body":"<p>First, let's talk about event delivery and UI threading as it is important that you understand the context switching that is going behind the scenes with the threads and the memory being shared between them.</p>\n\n<p>Java like just about every other application ever designed uses a single thread for all UI events.  The reason for this has been <a href=\"https://stackoverflow.com/questions/31820336/why-must-should-ui-frameworks-be-single-threaded\">well documented</a> all over the internet. So if you are using AWT/Swing or Java FX, your events are dispatched on the AWT/Swing or Java FX platform thread respectively and no other threads should be interacting or expecting these events.</p>\n\n<p>JNativeHook uses its own dispatch thread that is completely independent of Java's UI. This was primarily done for compatibility reasons, as I did not want to force a particular UI API on the implementing user.  Because of this, if you would like to use AWT/Swing, Java FX or something else, you must dispatch the native event on the thread context that is responsible for your UI.  There is a spring dispatcher built into the library, and a Java FX dispatcher I have posted <a href=\"https://stackoverflow.com/a/45423466/773849\">here</a> that allow for very simple context switching via the default dispatch method by registering the dispatcher with the GlobalScreen.  </p>\n\n<p>You maybe asking yourself, \"what if I want to modify the event before it is dispatched?\"  This should also be possible, but requires a little more effort that registering a dispatch class.  You should be able to extend the GlobalScreen class and its anonymous inner classes to accomplish anything else you need.  For example, if you want to dispatch Swing InputEvents instead of NativeInputEvents you could do the following:</p>\n\n<pre><code>public class CustomScreen extends GlobalScreen {\n\n    // Static blocks are run when the class is loaded.\n    static {\n        // Add adaptors to the listener to convert the events.\n        addNativeKeyListener(new KeyAdapter());\n        addNativeMouseListener(new MouseAdapter());\n\n        setEventDispatcher(new SwingDispatchService());\n    }\n\n    private static class KeyAdapter extends SwingKeyAdapter {\n        public void keyTyped(KeyEvent keyEvent) {\n            KeyListener[] listeners = eventListeners.getListeners(KeyListener.class);\n\n            for (int i = 0; i &lt; listeners.length; i++) {\n                listeners[i].keyTyped(keyEvent);\n            }\n        }\n\n        public void keyPressed(KeyEvent keyEvent) {\n            KeyListener[] listeners = eventListeners.getListeners(KeyListener.class);\n\n            for (int i = 0; i &lt; listeners.length; i++) {\n                listeners[i].keyPressed(keyEvent);\n            }\n        }\n\n        public void keyReleased(KeyEvent keyEvent) {\n            KeyListener[] listeners = eventListeners.getListeners(KeyListener.class);\n\n            for (int i = 0; i &lt; listeners.length; i++) {\n                listeners[i].keyReleased(keyEvent);\n            }\n        }\n    }\n\n    private static class MouseAdapter extends SwingMouseAdapter {\n        public void mouseClicked(MouseEvent mouseEvent) {\n            MouseListener[] listeners = eventListeners.getListeners(MouseListener.class);\n\n            for (int i = 0; i &lt; listeners.length; i++) {\n                listeners[i].mouseClicked(mouseEvent);\n            }\n        }\n\n        public void mousePressed(MouseEvent mouseEvent) {\n            MouseListener[] listeners = eventListeners.getListeners(MouseListener.class);\n\n            for (int i = 0; i &lt; listeners.length; i++) {\n                listeners[i].mousePressed(mouseEvent);\n            }\n        }\n\n        public void mouseReleased(MouseEvent mouseEvent) {\n            MouseListener[] listeners = eventListeners.getListeners(MouseListener.class);\n\n            for (int i = 0; i &lt; listeners.length; i++) {\n                listeners[i].mouseReleased(mouseEvent);\n            }\n        }\n\n        public void mouseEntered(MouseEvent mouseEvent) {\n            MouseListener[] listeners = eventListeners.getListeners(MouseListener.class);\n\n            for (int i = 0; i &lt; listeners.length; i++) {\n                listeners[i].mouseEntered(mouseEvent);\n            }\n        }\n\n        public void mouseExited(MouseEvent mouseEvent) {\n            MouseListener[] listeners = eventListeners.getListeners(MouseListener.class);\n\n            for (int i = 0; i &lt; listeners.length; i++) {\n                listeners[i].mouseExited(mouseEvent);\n            }\n        }\n    }\n\n    public static void addSwingKeyListener(KeyListener listener) {\n        if (listener != null) {\n            eventListeners.add(KeyListener.class, listener);\n        }\n    }\n\n    public static void removeKeyListener(KeyListener listener) {\n        if (listener != null) {\n            eventListeners.remove(KeyListener.class, listener);\n        }\n    }\n\n    public static void addMouseListener(MouseListener listener) {\n        if (listener != null) {\n            eventListeners.add(MouseListener.class, listener);\n        }\n    }\n\n    public static void removeMouseListener(MouseListener listener) {\n        if (listener != null) {\n            eventListeners.remove(MouseListener.class, listener);\n        }\n    }\n}\n</code></pre>\n\n<p>All this does is register a couple adaptor classes included with the library with the parent global screen and dispatches to the swing listeners in the adaptors.  There are other ways to do this that may be more powerful like extending the <a href=\"https://github.com/kwhat/jnativehook/blob/2.1/src/java/org/jnativehook//GlobalScreen.java#L307\" rel=\"nofollow noreferrer\">GlobalScreen.NativeHookThread</a> anonymous inner class, but that will take significantly more code on your part.</p>\n\n<p>Dealing with Java FX is very similar to swing, you can find an example dispatcher at my previous post: <a href=\"https://stackoverflow.com/a/45423466/773849\">https://stackoverflow.com/a/45423466/773849</a></p>\n\n<p>As far as the <code>.consume()</code> goes, yes that is unsupported but still possible on some platforms.  If you are using Windows or OS X, you can stop event propagation with some clever code as outlined in the <a href=\"https://github.com/kwhat/jnativehook/wiki/ConsumingEvents\" rel=\"nofollow noreferrer\">wiki</a>.  This will require that you override the aforementioned NativeHookThread inner class and you must be fast with your events as the NativeHookThread is not really a not a thread in this case and will block the operating system. This method is not available on Linux, because linux has no way to perform this function at this point in time.</p>\n"},{"tags":[],"owner":{"account_id":324230,"reputation":6336,"user_id":644686,"accept_rate":60,"display_name":"victorio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641206090,"creation_date":1641206090,"answer_id":70564472,"question_id":48951220,"body_markdown":"Try with `addEventFilter` to the `Scene`:\r\n\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n    \tVBox root = new VBox();\r\n    \tScene scene = new Scene(root);\r\n    \tscene.addEventFilter(KeyEvent.KEY_PRESSED, (KeyEvent event) -&gt; {\r\n    \t\tSystem.out.println(&quot;Key pressed&quot;);\r\n    \t\tif (event.getCode() == KeyCode.F1) {\r\n    \t\t\tSystem.out.println(&quot;F1 pressed&quot;);\r\n    \t\t}\r\n    \t\tevent.consume();\r\n    \t});\r\n    \tstage.setScene(scene);\r\n    \tstage.show();\r\n    }","title":"Implementing a global key press for javafx methods","body":"<p>Try with <code>addEventFilter</code> to the <code>Scene</code>:</p>\n<pre><code>@Override\npublic void start(Stage stage) throws Exception {\n    VBox root = new VBox();\n    Scene scene = new Scene(root);\n    scene.addEventFilter(KeyEvent.KEY_PRESSED, (KeyEvent event) -&gt; {\n        System.out.println(&quot;Key pressed&quot;);\n        if (event.getCode() == KeyCode.F1) {\n            System.out.println(&quot;F1 pressed&quot;);\n        }\n        event.consume();\n    });\n    stage.setScene(scene);\n    stage.show();\n}\n</code></pre>\n"}],"owner":{"account_id":13004754,"reputation":21,"user_id":9399647,"display_name":"themaal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1595,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1641206090,"creation_date":1519399777,"question_id":48951220,"body_markdown":"Is it possible to implement jnativehook with the javafx method .setOnKeyPressed() ?\r\n\r\nFor example this is how it listens to key presses while the application is focused:\r\n\r\n    ListView&lt;String&gt; list = new ListView&lt;String&gt;();\r\n\r\n    list.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {\r\n    \r\n        @override\r\n        public void handle(KeyEvent event){\r\n\r\n            if (event.getCode() == KeyCode.U) {\r\n\r\n                //Go Up list..\r\n\r\n             }\r\n\r\n             event.consume();\r\n\r\n         }\r\n\r\n    });\r\n\r\nBut i want it to listen to global key presses while the focus is on another application, so ideally i want it to look like this:\r\n\r\n\r\n    list.setOnKeyPressed(new EventHandler&lt;NativeKeyEvent&gt;() {\r\n    \r\n        @override\r\n        public void handle(NativeKeyEvent event){\r\n\r\n            if (event.getKeyCode() == NativeKeyEvent.VC_U) {\r\n\r\n                //Go Up list..\r\n\r\n             }\r\n\r\n             event.consume();\r\n\r\n         }\r\n\r\n    });\r\n\r\nHowever the first line flags the errors: \r\n\r\n    1. The method setOnKeyPressed(EventHandler &lt;? super KeyEvent&gt;) in the type Node is not applicable for the arguments (new EventHandler&lt;NativeKeyEvent&gt;(){})\r\n\r\n    2. Bound mismatch: The type NativeKeyEvent is not a valid substitute for the bounded parameter &lt;T extends Event&gt; of the type EventHandler&lt;T&gt;\r\n\r\nI&#39;m sure i need to overload the method to take into account these parameters however i am not sure how to go about it and how to deal with the second error.\r\n\r\nAlso the method .consume() is &lt;a href=&quot;https://github.com/kwhat/jnativehook/wiki/ConsumingEvents&quot;&gt;unsupported&lt;/a&gt; for jnativehook.\r\n\r\nOr is there another way to go up and down a listview in javafx without using these methods and is compatible with jnativehook?\r\n    ","title":"Implementing a global key press for javafx methods","body":"<p>Is it possible to implement jnativehook with the javafx method .setOnKeyPressed() ?</p>\n\n<p>For example this is how it listens to key presses while the application is focused:</p>\n\n<pre><code>ListView&lt;String&gt; list = new ListView&lt;String&gt;();\n\nlist.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {\n\n    @override\n    public void handle(KeyEvent event){\n\n        if (event.getCode() == KeyCode.U) {\n\n            //Go Up list..\n\n         }\n\n         event.consume();\n\n     }\n\n});\n</code></pre>\n\n<p>But i want it to listen to global key presses while the focus is on another application, so ideally i want it to look like this:</p>\n\n<pre><code>list.setOnKeyPressed(new EventHandler&lt;NativeKeyEvent&gt;() {\n\n    @override\n    public void handle(NativeKeyEvent event){\n\n        if (event.getKeyCode() == NativeKeyEvent.VC_U) {\n\n            //Go Up list..\n\n         }\n\n         event.consume();\n\n     }\n\n});\n</code></pre>\n\n<p>However the first line flags the errors: </p>\n\n<pre><code>1. The method setOnKeyPressed(EventHandler &lt;? super KeyEvent&gt;) in the type Node is not applicable for the arguments (new EventHandler&lt;NativeKeyEvent&gt;(){})\n\n2. Bound mismatch: The type NativeKeyEvent is not a valid substitute for the bounded parameter &lt;T extends Event&gt; of the type EventHandler&lt;T&gt;\n</code></pre>\n\n<p>I'm sure i need to overload the method to take into account these parameters however i am not sure how to go about it and how to deal with the second error.</p>\n\n<p>Also the method .consume() is <a href=\"https://github.com/kwhat/jnativehook/wiki/ConsumingEvents\" rel=\"nofollow noreferrer\">unsupported</a> for jnativehook.</p>\n\n<p>Or is there another way to go up and down a listview in javafx without using these methods and is compatible with jnativehook?</p>\n"},{"tags":["java","maven","cmd"],"comments":[{"owner":{"account_id":10171078,"reputation":301,"user_id":7511358,"display_name":"p_efros"},"score":2,"creation_date":1641198476,"post_id":70563153,"comment_id":124736512,"body_markdown":"check out this question: https://stackoverflow.com/questions/49454672/curl-with-maven-exec-plugin-not-working-because-of-cant-handle-single-and-doub. It looks like it&#39;s possible to run curl directly instead of using cmd.exe.","body":"check out this question: <a href=\"https://stackoverflow.com/questions/49454672/curl-with-maven-exec-plugin-not-working-because-of-cant-handle-single-and-doub\" title=\"curl with maven exec plugin not working because of cant handle single and doub\">stackoverflow.com/questions/49454672/&hellip;</a>. It looks like it&#39;s possible to run curl directly instead of using cmd.exe."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1641199955,"post_id":70563153,"comment_id":124736888,"body_markdown":"First question: Why do you need to run curl during a Maven build ? Furthermore Why are you using such an old version of Maven and also old version of maven-antrun-plugin (even it&#39;s questionable)... ?","body":"First question: Why do you need to run curl during a Maven build ? Furthermore Why are you using such an old version of Maven and also old version of maven-antrun-plugin (even it&#39;s questionable)... ?"},{"owner":{"account_id":16718664,"reputation":140,"user_id":12084130,"display_name":"pacataque"},"score":0,"creation_date":1641283684,"post_id":70563153,"comment_id":124758689,"body_markdown":"Thank you Bobinoux, it looks like what I was looking for, I still have some issues to solve but it seems to behave well.\n\nI have to run curl to send my exe to a server for antivirus control.\nI just didn&#39;t take time to update this version but I can if it could help.","body":"Thank you Bobinoux, it looks like what I was looking for, I still have some issues to solve but it seems to behave well.  I have to run curl to send my exe to a server for antivirus control. I just didn&#39;t take time to update this version but I can if it could help."}],"owner":{"account_id":16718664,"reputation":140,"user_id":12084130,"display_name":"pacataque"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1641206017,"creation_date":1641198066,"question_id":70563153,"body_markdown":"I would like to run cmd with args from `maven.verify`\r\nIs it possible to do it?\r\n\r\nI&#39;m using `maven 3.5.3`.\r\n\r\nI already tried this:\r\n\r\n                &lt;plugin&gt;\r\n    \t\t\t   &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n    \t\t\t    &lt;version&gt;1.7&lt;/version&gt;\r\n    \t\t\t    &lt;executions&gt;\r\n    \t\t\t        &lt;execution&gt;\r\n    \t\t\t            &lt;phase&gt;verify&lt;/phase&gt;\r\n    \t\t\t            &lt;goals&gt;\r\n    \t\t\t                &lt;goal&gt;run&lt;/goal&gt;\r\n    \t\t\t            &lt;/goals&gt;\r\n    \t\t\t            &lt;configuration&gt;\r\n    \t\t\t                &lt;target&gt;\r\n    \t\t\t                    &lt;exec executable=&quot;cmd.exe&quot; spawn=&quot;true&quot;&gt;\r\n    \t\t\t\t\t                &lt;arg value=&quot;curl&quot;/&gt;\r\n    \t\t\t\t\t                &lt;arg value=&quot;arg1&quot;/&gt;\r\n    \t\t\t\t\t                &lt;arg value=&quot;arg2&quot;/&gt;\r\n    \t\t\t\t\t                &lt;arg value=&quot;arg3&quot;/&gt;\r\n    \t\t\t\t\t           &lt;/exec&gt;\r\n    \t\t\t                &lt;/target&gt;\r\n    \t\t\t            &lt;/configuration&gt;\r\n    \t\t\t       &lt;/execution&gt;\r\n    \t\t\t   &lt;/executions&gt;      \r\n    \t\t\t&lt;/plugin&gt;\r\n\r\nBut Nothing happens.\r\n\r\nWhat should I do if it&#39;s possible.\r\nThanks in advance !","title":"Can we run cmd from maven?","body":"<p>I would like to run cmd with args from <code>maven.verify</code>\nIs it possible to do it?</p>\n<p>I'm using <code>maven 3.5.3</code>.</p>\n<p>I already tried this:</p>\n<pre><code>            &lt;plugin&gt;\n               &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.7&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;verify&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;run&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;target&gt;\n                                &lt;exec executable=&quot;cmd.exe&quot; spawn=&quot;true&quot;&gt;\n                                    &lt;arg value=&quot;curl&quot;/&gt;\n                                    &lt;arg value=&quot;arg1&quot;/&gt;\n                                    &lt;arg value=&quot;arg2&quot;/&gt;\n                                    &lt;arg value=&quot;arg3&quot;/&gt;\n                               &lt;/exec&gt;\n                            &lt;/target&gt;\n                        &lt;/configuration&gt;\n                   &lt;/execution&gt;\n               &lt;/executions&gt;      \n            &lt;/plugin&gt;\n</code></pre>\n<p>But Nothing happens.</p>\n<p>What should I do if it's possible.\nThanks in advance !</p>\n"},{"tags":["java","apache-spark","apache-spark-sql","apache-spark-dataset","apache-spark-2.0"],"answers":[{"tags":[],"owner":{"account_id":2323577,"reputation":377,"user_id":2038576,"accept_rate":60,"display_name":"Souvik"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1492508805,"creation_date":1492508805,"answer_id":43468807,"question_id":42645836,"body_markdown":"You have two choice in this case:\r\n\r\n 1. **First you have to collect unique manufacturer values and then map\r\n    over resulting array:**\r\n\r\n        val df = Seq((&quot;HP&quot;, 1), (&quot;Brother&quot;, 2), (&quot;Canon&quot;, 3), (&quot;HP&quot;, 5)).toDF(&quot;k&quot;, &quot;v&quot;)    \r\n        val brands = df.select(&quot;k&quot;).distinct.collect.flatMap(_.toSeq)\r\n        val BrandArray = brands.map(brand =&gt; df.where($&quot;k&quot; &lt;=&gt; brand))\r\n        BrandArray.foreach { x =&gt;\r\n        x.show()\r\n        println(&quot;---------------------------------------&quot;)\r\n        }\r\n\r\n 2. **You can also save the data frame based on manufacturer.**\r\n\r\n   `df.write.partitionBy(&quot;hour&quot;).saveAsTable(&quot;parquet&quot;)`","title":"Split dataset based on column values in spark","body":"<p>You have two choice in this case:</p>\n\n<ol>\n<li><p><strong>First you have to collect unique manufacturer values and then map\nover resulting array:</strong></p>\n\n<pre><code>val df = Seq((\"HP\", 1), (\"Brother\", 2), (\"Canon\", 3), (\"HP\", 5)).toDF(\"k\", \"v\")    \nval brands = df.select(\"k\").distinct.collect.flatMap(_.toSeq)\nval BrandArray = brands.map(brand =&gt; df.where($\"k\" &lt;=&gt; brand))\nBrandArray.foreach { x =&gt;\nx.show()\nprintln(\"---------------------------------------\")\n}\n</code></pre></li>\n<li><p><strong>You can also save the data frame based on manufacturer.</strong></p>\n\n<p><code>df.write.partitionBy(\"hour\").saveAsTable(\"parquet\")</code></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7774878,"reputation":508,"user_id":5883310,"display_name":"pprasad009"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579762218,"creation_date":1579762218,"answer_id":59872975,"question_id":42645836,"body_markdown":"Instead of splitting the dataset/dataframe by manufacturers it might be optimal to write the dataframe using manufacturer as the partition key if you need to query based on manufacturer frequently\r\n\r\nIncase you still want separate dataframes based on one of the column values one of the approaches using pyspark and spark 2.0+ could be-\r\n\r\n```\r\nfrom pyspark.sql import functions as F\r\n\r\ndf = spark.read.csv(&quot;sample.csv&quot;,header=True)\r\n\r\n# collect list of manufacturers\r\nmanufacturers = df.select(&#39;manufacturer&#39;).distinct().collect()\r\n\r\n# loop through manufacturers to filter df by manufacturers and write it separately \r\nfor m in manufacturers:\r\n    df1 = df.where(F.col(&#39;manufacturers&#39;)==m[0])\r\n    df1[.repartition(repartition_col)].write.parquet(&lt;write_path&gt;,[write_mode])\r\n","title":"Split dataset based on column values in spark","body":"<p>Instead of splitting the dataset/dataframe by manufacturers it might be optimal to write the dataframe using manufacturer as the partition key if you need to query based on manufacturer frequently</p>\n\n<p>Incase you still want separate dataframes based on one of the column values one of the approaches using pyspark and spark 2.0+ could be-</p>\n\n<pre><code>from pyspark.sql import functions as F\n\ndf = spark.read.csv(\"sample.csv\",header=True)\n\n# collect list of manufacturers\nmanufacturers = df.select('manufacturer').distinct().collect()\n\n# loop through manufacturers to filter df by manufacturers and write it separately \nfor m in manufacturers:\n    df1 = df.where(F.col('manufacturers')==m[0])\n    df1[.repartition(repartition_col)].write.parquet(&lt;write_path&gt;,[write_mode])\n\n</code></pre>\n"}],"owner":{"account_id":10272413,"reputation":914,"user_id":7580398,"accept_rate":50,"display_name":"Shreeharsha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7865,"favorite_count":0,"down_vote_count":2,"up_vote_count":11,"answer_count":2,"score":9,"last_activity_date":1641205865,"creation_date":1488882643,"question_id":42645836,"body_markdown":"I am trying to split the Dataset into different Datasets based on Manufacturer column contents. It is very slow &lt;br&gt;Please suggest a way to improve the code, so that it can execute faster and reduce the usage of Java code.&lt;br&gt;\r\n\r\n```java\r\nList&lt;Row&gt; lsts= countsByAge.collectAsList();\r\n\t\t\t\t\t\t\t\t\r\nfor(Row lst:lsts) {\r\n\t String man = lst.toString();\r\n\t man = man.replaceAll(&quot;[\\\\p{Ps}\\\\p{Pe}]&quot;, &quot;&quot;);\r\n\t Dataset&lt;Row&gt; DF = src.filter(&quot;Manufacturer=&#39;&quot; + man + &quot;&#39;&quot;);\r\n\t DF.show();\t\t\t\t\t\t\t\t\t\t \r\n}\r\n```\r\n\r\nThe Code, Input and Output Datasets are as shown below.\r\n\r\n```java\t\t\r\npackage org.sparkexample;\r\n\r\nimport org.apache.parquet.filter2.predicate.Operators.Column;\r\nimport org.apache.spark.SparkConf;\r\nimport org.apache.spark.api.java.JavaSparkContext;\r\nimport org.apache.spark.sql.Dataset;\r\nimport org.apache.spark.sql.RelationalGroupedDataset;\r\nimport org.apache.spark.sql.Row;\r\nimport org.apache.spark.sql.SQLContext;\r\nimport org.apache.spark.sql.SparkSession;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\nimport org.apache.spark.api.java.JavaPairRDD;\r\nimport org.apache.spark.api.java.JavaRDD;\r\n\r\npublic class GroupBy {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.setProperty(&quot;hadoop.home.dir&quot;, &quot;C:\\\\winutils&quot;);\r\n\t\tJavaSparkContext sc = new JavaSparkContext(new SparkConf().setAppName(&quot;SparkJdbcDs&quot;).setMaster(&quot;local[*]&quot;));\r\n\t\tSQLContext sqlContext = new SQLContext(sc);\r\n\t\tSparkSession spark = SparkSession.builder().appName(&quot;split datasets&quot;).getOrCreate();\r\n\t\tsc.setLogLevel(&quot;ERROR&quot;);\r\n\t\t\t\t\t\t\r\n\t\tDataset&lt;Row&gt; src= sqlContext.read()\r\n\t\t\t\t\t.format(&quot;com.databricks.spark.csv&quot;)\r\n\t\t\t\t\t.option(&quot;header&quot;, &quot;true&quot;)\r\n\t\t\t\t\t.load(&quot;sample.csv&quot;);\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t  \r\n\t\tDataset&lt;Row&gt; unq_manf=src.select(&quot;Manufacturer&quot;).distinct();\r\n\t\tList&lt;Row&gt; lsts= unq_manf.collectAsList();\r\n\t\t\t\t\t\t\r\n\t\tfor(Row lst:lsts) {\r\n\t\t\t String man = lst.toString();\r\n\t\t\t man = man.replaceAll(&quot;[\\\\p{Ps}\\\\p{Pe}]&quot;, &quot;&quot;);\r\n\t\t\t Dataset&lt;Row&gt; DF = src.filter(&quot;Manufacturer=&#39;&quot; + man + &quot;&#39;&quot;);\r\n\t\t\t DF.show();\t\t\t \r\n\t    }\r\n    }\r\n\r\n}\r\n```\r\n\r\n#### Input Table\r\n\r\n```\r\n+------+------------+--------------------+---+\r\n|ItemID|Manufacturer|       Category name|UPC|\r\n+------+------------+--------------------+---+\r\n|   804|         ael|Brush &amp; Broom Han...|123|\r\n|   805|         ael|Wheel Brush Parts...|124|\r\n|   813|         ael|      Drivers Gloves|125|\r\n|   632|        west|       Pipe Wrenches|126|\r\n|   804|         bil|     Masonry Brushes|127|\r\n|   497|        west|   Power Tools Other|128|\r\n|   496|        west|   Power Tools Other|129|\r\n|   495|         bil|           Hole Saws|130|\r\n|   499|         bil|    Battery Chargers|131|\r\n|   497|        west|   Power Tools Other|132|\r\n+------+------------+--------------------+---+\r\n```\r\n\r\n#### Output\r\n\r\n```\r\n+------------+\r\n|Manufacturer|\r\n+------------+\r\n|         ael|\r\n|        west|\r\n|         bil|\r\n+------------+\r\n\r\n+------+------------+--------------------+---+\r\n|ItemID|Manufacturer|       Category name|UPC|\r\n+------+------------+--------------------+---+\r\n|   804|         ael|Brush &amp; Broom Han...|123|\r\n|   805|         ael|Wheel Brush Parts...|124|\r\n|   813|         ael|      Drivers Gloves|125|\r\n+------+------------+--------------------+---+\r\n\r\n+------+------------+-----------------+---+\r\n|ItemID|Manufacturer|    Category name|UPC|\r\n+------+------------+-----------------+---+\r\n|   632|        west|    Pipe Wrenches|126|\r\n|   497|        west|Power Tools Other|128|\r\n|   496|        west|Power Tools Other|129|\r\n|   497|        west|Power Tools Other|132|\r\n+------+------------+-----------------+---+\r\n\r\n+------+------------+----------------+---+\r\n|ItemID|Manufacturer|   Category name|UPC|\r\n+------+------------+----------------+---+\r\n|   804|         bil| Masonry Brushes|127|\r\n|   495|         bil|       Hole Saws|130|\r\n|   499|         bil|Battery Chargers|131|\r\n+------+------------+----------------+---+\r\n```","title":"Split dataset based on column values in spark","body":"<p>I am trying to split the Dataset into different Datasets based on Manufacturer column contents. It is very slow <br>Please suggest a way to improve the code, so that it can execute faster and reduce the usage of Java code.<br></p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Row&gt; lsts= countsByAge.collectAsList();\n                                \nfor(Row lst:lsts) {\n     String man = lst.toString();\n     man = man.replaceAll(&quot;[\\\\p{Ps}\\\\p{Pe}]&quot;, &quot;&quot;);\n     Dataset&lt;Row&gt; DF = src.filter(&quot;Manufacturer='&quot; + man + &quot;'&quot;);\n     DF.show();                                      \n}\n</code></pre>\n<p>The Code, Input and Output Datasets are as shown below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.sparkexample;\n\nimport org.apache.parquet.filter2.predicate.Operators.Column;\nimport org.apache.spark.SparkConf;\nimport org.apache.spark.api.java.JavaSparkContext;\nimport org.apache.spark.sql.Dataset;\nimport org.apache.spark.sql.RelationalGroupedDataset;\nimport org.apache.spark.sql.Row;\nimport org.apache.spark.sql.SQLContext;\nimport org.apache.spark.sql.SparkSession;\n\nimport java.util.Arrays;\nimport java.util.List;\n\nimport org.apache.spark.api.java.JavaPairRDD;\nimport org.apache.spark.api.java.JavaRDD;\n\npublic class GroupBy {\n\n    public static void main(String[] args) {\n        System.setProperty(&quot;hadoop.home.dir&quot;, &quot;C:\\\\winutils&quot;);\n        JavaSparkContext sc = new JavaSparkContext(new SparkConf().setAppName(&quot;SparkJdbcDs&quot;).setMaster(&quot;local[*]&quot;));\n        SQLContext sqlContext = new SQLContext(sc);\n        SparkSession spark = SparkSession.builder().appName(&quot;split datasets&quot;).getOrCreate();\n        sc.setLogLevel(&quot;ERROR&quot;);\n                        \n        Dataset&lt;Row&gt; src= sqlContext.read()\n                    .format(&quot;com.databricks.spark.csv&quot;)\n                    .option(&quot;header&quot;, &quot;true&quot;)\n                    .load(&quot;sample.csv&quot;);\n                                    \n                          \n        Dataset&lt;Row&gt; unq_manf=src.select(&quot;Manufacturer&quot;).distinct();\n        List&lt;Row&gt; lsts= unq_manf.collectAsList();\n                        \n        for(Row lst:lsts) {\n             String man = lst.toString();\n             man = man.replaceAll(&quot;[\\\\p{Ps}\\\\p{Pe}]&quot;, &quot;&quot;);\n             Dataset&lt;Row&gt; DF = src.filter(&quot;Manufacturer='&quot; + man + &quot;'&quot;);\n             DF.show();          \n        }\n    }\n\n}\n</code></pre>\n<h4>Input Table</h4>\n<pre><code>+------+------------+--------------------+---+\n|ItemID|Manufacturer|       Category name|UPC|\n+------+------------+--------------------+---+\n|   804|         ael|Brush &amp; Broom Han...|123|\n|   805|         ael|Wheel Brush Parts...|124|\n|   813|         ael|      Drivers Gloves|125|\n|   632|        west|       Pipe Wrenches|126|\n|   804|         bil|     Masonry Brushes|127|\n|   497|        west|   Power Tools Other|128|\n|   496|        west|   Power Tools Other|129|\n|   495|         bil|           Hole Saws|130|\n|   499|         bil|    Battery Chargers|131|\n|   497|        west|   Power Tools Other|132|\n+------+------------+--------------------+---+\n</code></pre>\n<h4>Output</h4>\n<pre><code>+------------+\n|Manufacturer|\n+------------+\n|         ael|\n|        west|\n|         bil|\n+------------+\n\n+------+------------+--------------------+---+\n|ItemID|Manufacturer|       Category name|UPC|\n+------+------------+--------------------+---+\n|   804|         ael|Brush &amp; Broom Han...|123|\n|   805|         ael|Wheel Brush Parts...|124|\n|   813|         ael|      Drivers Gloves|125|\n+------+------------+--------------------+---+\n\n+------+------------+-----------------+---+\n|ItemID|Manufacturer|    Category name|UPC|\n+------+------------+-----------------+---+\n|   632|        west|    Pipe Wrenches|126|\n|   497|        west|Power Tools Other|128|\n|   496|        west|Power Tools Other|129|\n|   497|        west|Power Tools Other|132|\n+------+------------+-----------------+---+\n\n+------+------------+----------------+---+\n|ItemID|Manufacturer|   Category name|UPC|\n+------+------------+----------------+---+\n|   804|         bil| Masonry Brushes|127|\n|   495|         bil|       Hole Saws|130|\n|   499|         bil|Battery Chargers|131|\n+------+------------+----------------+---+\n</code></pre>\n"},{"tags":["java","scala","seq","scala-java-interop"],"comments":[{"owner":{"account_id":475201,"reputation":37562,"user_id":5344058,"display_name":"Tzach Zohar"},"score":7,"creation_date":1457960691,"post_id":35988315,"comment_id":59629042,"body_markdown":"Possible duplicate of [Converting a Java collection into a Scala collection](http://stackoverflow.com/questions/674713/converting-a-java-collection-into-a-scala-collection)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/674713/converting-a-java-collection-into-a-scala-collection\">Converting a Java collection into a Scala collection</a>"},{"owner":{"account_id":402910,"reputation":50810,"user_id":770361,"accept_rate":90,"display_name":"Luigi Plinge"},"score":1,"creation_date":1457961351,"post_id":35988315,"comment_id":59629532,"body_markdown":"You&#39;re asking for trouble if you try to do anything with Scala collections in Java. Write a bit of Scala code which does the conversion using scala.collection.JavaConverters.","body":"You&#39;re asking for trouble if you try to do anything with Scala collections in Java. Write a bit of Scala code which does the conversion using scala.collection.JavaConverters."},{"owner":{"account_id":5992306,"reputation":3409,"user_id":4708077,"accept_rate":60,"display_name":"Fundhor"},"score":0,"creation_date":1457961637,"post_id":35988315,"comment_id":59629756,"body_markdown":"@TzachZohar most of the answer are done is scala. My code is Java, it&#39;s part of a huge program, I can&#39;t externalize this treatment...","body":"@TzachZohar most of the answer are done is scala. My code is Java, it&#39;s part of a huge program, I can&#39;t externalize this treatment..."},{"owner":{"account_id":75676,"reputation":15039,"user_id":217019,"accept_rate":89,"display_name":"Mateusz Dymczyk"},"score":0,"creation_date":1457962288,"post_id":35988315,"comment_id":59630241,"body_markdown":"As @LuigiPlinge mentioned this is not a good idea! You&#39;ll probably have a lot of problems trying to invoke method on this sequence, god forbid you try invoking anything that requires implicits","body":"As @LuigiPlinge mentioned this is not a good idea! You&#39;ll probably have a lot of problems trying to invoke method on this sequence, god forbid you try invoking anything that requires implicits"},{"owner":{"account_id":5335286,"reputation":39826,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":0,"creation_date":1494939878,"post_id":35988315,"comment_id":75032870,"body_markdown":"&quot;they can result in unexpected behavior and performance&quot; in the docs doesn&#39;t sound very convincing ... especially, since the very next sentence suggests `JavaConverters` that &quot;offer the _same_ conversions&quot;. :)","body":"&quot;they can result in unexpected behavior and performance&quot; in the docs doesn&#39;t sound very convincing ... especially, since the very next sentence suggests <code>JavaConverters</code> that &quot;offer the <i>same</i> conversions&quot;. :)"}],"answers":[{"tags":[],"owner":{"account_id":5992306,"reputation":3409,"user_id":4708077,"accept_rate":60,"display_name":"Fundhor"},"down_vote_count":3,"up_vote_count":56,"is_accepted":true,"score":53,"last_activity_date":1540538883,"creation_date":1457962182,"answer_id":35988913,"question_id":35988315,"body_markdown":"JavaConverters is what I needed to solve this.\r\n\r\n    import scala.collection.JavaConverters;\r\n\r\n\tpublic Seq&lt;String&gt; convertListToSeq(List&lt;String&gt; inputList) {\r\n\t\treturn JavaConverters.asScalaIteratorConverter(inputList.iterator()).asScala().toSeq();\r\n\t}","title":"Convert Java List to Scala Seq","body":"<p>JavaConverters is what I needed to solve this.</p>\n\n<pre><code>import scala.collection.JavaConverters;\n\npublic Seq&lt;String&gt; convertListToSeq(List&lt;String&gt; inputList) {\n    return JavaConverters.asScalaIteratorConverter(inputList.iterator()).asScala().toSeq();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5335286,"reputation":39826,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1457963313,"creation_date":1457963313,"answer_id":35989315,"question_id":35988315,"body_markdown":"`JavaConversions` should work. I think, you are looking for something like this: `JavaConversions.asScalaBuffer(a).toSeq()`","title":"Convert Java List to Scala Seq","body":"<p><code>JavaConversions</code> should work. I think, you are looking for something like this: <code>JavaConversions.asScalaBuffer(a).toSeq()</code></p>\n"},{"tags":[],"owner":{"account_id":4091426,"reputation":746,"user_id":3359310,"accept_rate":50,"display_name":"Neeleshkumar S"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1477301450,"creation_date":1477301450,"answer_id":40215026,"question_id":35988315,"body_markdown":"@&lt;a href=&quot;https://stackoverflow.com/users/4708077/fundhor&quot;&gt;Fundhor&lt;/a&gt;, the method `asScalaIterableConverter` was not showing up in the IDE. It may be due to a difference in the versions of Scala. I am using Scala 2.11. Instead, it showed up `asScalaIteratorConverter`. I made a slight change to your final snippet and it worked fine for me.&lt;br&gt;&lt;br&gt;\r\n`scala.collection.JavaConverters.asScalaIteratorConverter(columnNames.iterator()).asScala().toSeq()` where `columnNames` is a `java.util.List`.\r\n\r\nthanks !","title":"Convert Java List to Scala Seq","body":"<p>@<a href=\"https://stackoverflow.com/users/4708077/fundhor\">Fundhor</a>, the method <code>asScalaIterableConverter</code> was not showing up in the IDE. It may be due to a difference in the versions of Scala. I am using Scala 2.11. Instead, it showed up <code>asScalaIteratorConverter</code>. I made a slight change to your final snippet and it worked fine for me.<br><br>\n<code>scala.collection.JavaConverters.asScalaIteratorConverter(columnNames.iterator()).asScala().toSeq()</code> where <code>columnNames</code> is a <code>java.util.List</code>.</p>\n\n<p>thanks !</p>\n"},{"tags":[],"owner":{"account_id":4424946,"reputation":5229,"user_id":3603660,"accept_rate":75,"display_name":"loicmathieu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1489418261,"creation_date":1489418261,"answer_id":42767172,"question_id":35988315,"body_markdown":"Up to 4 elements, you can simply use the factory method of the Seq class like this : \r\n\r\n    Seq&lt;String&gt; seq1 =  new Set.Set1&lt;&gt;(&quot;s1&quot;).toSeq();\r\n    Seq&lt;String&gt; seq2 =  new Set.Set2&lt;&gt;(&quot;s1&quot;, &quot;s2&quot;).toSeq();\r\n    Seq&lt;String&gt; seq3 =  new Set.Set3&lt;&gt;(&quot;s1&quot;, &quot;s2&quot;, &quot;s3&quot;).toSeq();\r\n    Seq&lt;String&gt; seq4 =  new Set.Set4&lt;&gt;(&quot;s1&quot;, &quot;s2&quot;, &quot;s3&quot;, &quot;s4&quot;).toSeq();\r\n","title":"Convert Java List to Scala Seq","body":"<p>Up to 4 elements, you can simply use the factory method of the Seq class like this : </p>\n\n<pre><code>Seq&lt;String&gt; seq1 =  new Set.Set1&lt;&gt;(\"s1\").toSeq();\nSeq&lt;String&gt; seq2 =  new Set.Set2&lt;&gt;(\"s1\", \"s2\").toSeq();\nSeq&lt;String&gt; seq3 =  new Set.Set3&lt;&gt;(\"s1\", \"s2\", \"s3\").toSeq();\nSeq&lt;String&gt; seq4 =  new Set.Set4&lt;&gt;(\"s1\", \"s2\", \"s3\", \"s4\").toSeq();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4132257,"reputation":1146,"user_id":3389828,"display_name":"Nikhil"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1500988440,"creation_date":1500988440,"answer_id":45304475,"question_id":35988315,"body_markdown":"This worked for me! (Java 8, Spark 2.0.0)\r\n\r\n    \r\n    import java.util.ArrayList;\r\n\r\n    import scala.collection.JavaConverters;\r\n    import scala.collection.Seq;\r\n\r\n    public class Java2Scala\r\n\t{\r\n\r\n\t\tpublic Seq&lt;String&gt; getSeqString(ArrayList&lt;String&gt; list)\r\n\t\t\t{\r\n\t\t\t\treturn JavaConverters.asScalaIterableConverter(list).asScala().toSeq();\r\n\t\t\t}\r\n\r\n\t}","title":"Convert Java List to Scala Seq","body":"<p>This worked for me! (Java 8, Spark 2.0.0)</p>\n\n<pre><code>import java.util.ArrayList;\n\nimport scala.collection.JavaConverters;\nimport scala.collection.Seq;\n\npublic class Java2Scala\n{\n\n    public Seq&lt;String&gt; getSeqString(ArrayList&lt;String&gt; list)\n        {\n            return JavaConverters.asScalaIterableConverter(list).asScala().toSeq();\n        }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12852886,"reputation":56795,"user_id":9297144,"display_name":"Xavier Guihot"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1641205804,"creation_date":1553895578,"answer_id":55425783,"question_id":35988315,"body_markdown":"Starting `Scala 2.13`, package [`scala.jdk.javaapi.CollectionConverters`](https://www.scala-lang.org/files/archive/api/2.13.x/scala/jdk/javaapi/CollectionConverters$.html) replaces deprecated packages `scala.collection.JavaConverters/JavaConversions`:\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n    import scala.jdk.javaapi.CollectionConverters;\r\n\r\n    // List&lt;String&gt; javaList = Arrays.asList(&quot;a&quot;, &quot;b&quot;);\r\n    CollectionConverters.asScala(javaList).toSeq();\r\n    // Seq[String] = List(a, b)\r\n","title":"Convert Java List to Scala Seq","body":"<p>Starting <code>Scala 2.13</code>, package <a href=\"https://www.scala-lang.org/files/archive/api/2.13.x/scala/jdk/javaapi/CollectionConverters$.html\" rel=\"noreferrer\"><code>scala.jdk.javaapi.CollectionConverters</code></a> replaces deprecated packages <code>scala.collection.JavaConverters/JavaConversions</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import scala.jdk.javaapi.CollectionConverters;\n\n// List&lt;String&gt; javaList = Arrays.asList(&quot;a&quot;, &quot;b&quot;);\nCollectionConverters.asScala(javaList).toSeq();\n// Seq[String] = List(a, b)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1811316,"reputation":9110,"user_id":1647320,"accept_rate":85,"display_name":"sapy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1579191471,"creation_date":1579191471,"answer_id":59773809,"question_id":35988315,"body_markdown":"    import scala.collection.JavaConverters;\r\n    import scala.collection.Seq;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public class Helpers {\r\n        public Seq&lt;String&gt; convertListToSeq(ArrayList&lt;String&gt; inputList) {\r\n            return JavaConverters.collectionAsScalaIterableConverter(inputList).asScala().toSeq();\r\n        }\r\n    }\r\n\r\n\r\nVersions -\r\n\r\n    compile &#39;org.apache.spark:spark-core_2.11:2.3.1&#39;\r\n    compile &#39;org.apache.spark:spark-sql_2.11:2.3.1&#39;\r\n    compile group: &#39;commons-io&#39;, name: &#39;commons-io&#39;, version: &#39;2.6&#39;\r\n    compile &quot;com.fasterxml.jackson.module:jackson-module-scala_2.11:2.8.8&quot;\r\n","title":"Convert Java List to Scala Seq","body":"<pre><code>import scala.collection.JavaConverters;\nimport scala.collection.Seq;\n\nimport java.util.ArrayList;\n\npublic class Helpers {\n    public Seq&lt;String&gt; convertListToSeq(ArrayList&lt;String&gt; inputList) {\n        return JavaConverters.collectionAsScalaIterableConverter(inputList).asScala().toSeq();\n    }\n}\n</code></pre>\n\n<p>Versions -</p>\n\n<pre><code>compile 'org.apache.spark:spark-core_2.11:2.3.1'\ncompile 'org.apache.spark:spark-sql_2.11:2.3.1'\ncompile group: 'commons-io', name: 'commons-io', version: '2.6'\ncompile \"com.fasterxml.jackson.module:jackson-module-scala_2.11:2.8.8\"\n</code></pre>\n"}],"owner":{"account_id":5992306,"reputation":3409,"user_id":4708077,"accept_rate":60,"display_name":"Fundhor"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77831,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":35988913,"answer_count":7,"score":46,"last_activity_date":1641205804,"creation_date":1457960524,"question_id":35988315,"body_markdown":"I need to implement a method that returns a Scala `Seq`, in Java.\r\n\r\nBut I encounter this error:\r\n\r\n    java.util.ArrayList cannot be cast to scala.collection.Seq\r\n\r\nHere is my code so far:\r\n\r\n    @Override\r\n\tpublic Seq&lt;String&gt; columnNames() {\r\n\t\tList&lt;String&gt; a = new ArrayList&lt;String&gt;();\r\n\t\ta.add(&quot;john&quot;);\r\n\t\ta.add(&quot;mary&quot;);\r\n\t\tSeq&lt;String&gt; b = (scala.collection.Seq&lt;String&gt;) a;\r\n\t\treturn b;\r\n\t}\r\n\r\nBut `scala.collection.JavaConverters` doesn&#39;t seem to offer the possibility to convert as a `Seq`.\r\n","title":"Convert Java List to Scala Seq","body":"<p>I need to implement a method that returns a Scala <code>Seq</code>, in Java.</p>\n\n<p>But I encounter this error:</p>\n\n<pre><code>java.util.ArrayList cannot be cast to scala.collection.Seq\n</code></pre>\n\n<p>Here is my code so far:</p>\n\n<pre><code>@Override\npublic Seq&lt;String&gt; columnNames() {\n    List&lt;String&gt; a = new ArrayList&lt;String&gt;();\n    a.add(\"john\");\n    a.add(\"mary\");\n    Seq&lt;String&gt; b = (scala.collection.Seq&lt;String&gt;) a;\n    return b;\n}\n</code></pre>\n\n<p>But <code>scala.collection.JavaConverters</code> doesn't seem to offer the possibility to convert as a <code>Seq</code>.</p>\n"},{"tags":["java","classpath","java-9","bootclasspath"],"comments":[{"owner":{"account_id":10098519,"reputation":5323,"user_id":7463126,"display_name":"Alan Bateman"},"score":4,"creation_date":1515408784,"post_id":48148607,"comment_id":83275761,"body_markdown":"`javac -bootclasspath` works as before when targeting JDK 8 or older .`java -Xbootclasspath/a` to append to the boot class path works as before.","body":"<code>javac -bootclasspath</code> works as before when targeting JDK 8 or older .<code>java -Xbootclasspath&#47;a</code> to append to the boot class path works as before."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":3,"creation_date":1515408959,"post_id":48148607,"comment_id":83275841,"body_markdown":"I guess you mean `-Xbootclasspath/a` JVM option which I could confirm is still present in the java options of 9.0.1. Or maybe i misunderstood the question?","body":"I guess you mean <code>-Xbootclasspath&#47;a</code> JVM option which I could confirm is still present in the java options of 9.0.1. Or maybe i misunderstood the question?"}],"answers":[{"tags":[],"owner":{"account_id":6586035,"reputation":873,"user_id":5426341,"accept_rate":80,"display_name":"Anjana"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1515422038,"creation_date":1515409162,"answer_id":48148901,"question_id":48148607,"body_markdown":"You may use `-Xbootclasspath/a`. Please refer to the [release notes](http://www.oracle.com/technetwork/java/javase/9-relnote-issues-3704069.html) which states:- \r\n\r\n&gt; The boot class path has been mostly removed in this release. The java\r\n&gt; `-Xbootclasspath`  and `-Xbootclasspath/p` options have been removed. \r\n\r\n&gt; The `javac -bootclaspath` option can only be used when compiling to JDK 8 or\r\n&gt; older. The system property `sun.boot.class.path` has been removed.\r\n\r\n\r\n&gt; Deployments that rely on overriding platform classes for testing\r\n&gt; purposes with `-Xbootclasspath/p` will need to changed to use the\r\n&gt; `--patch-module` option that is documented in [JEP 261](http://openjdk.java.net/jeps/261). \r\n\r\n&gt; The `-Xbootclasspath/a` option is unchanged.\r\n","title":"How to add a jar to the boot classpath in java 9","body":"<p>You may use <code>-Xbootclasspath/a</code>. Please refer to the <a href=\"http://www.oracle.com/technetwork/java/javase/9-relnote-issues-3704069.html\" rel=\"noreferrer\">release notes</a> which states:- </p>\n\n<blockquote>\n  <p>The boot class path has been mostly removed in this release. The java\n  <code>-Xbootclasspath</code>  and <code>-Xbootclasspath/p</code> options have been removed. </p>\n  \n  <p>The <code>javac -bootclaspath</code> option can only be used when compiling to JDK 8 or\n  older. The system property <code>sun.boot.class.path</code> has been removed.</p>\n  \n  <p>Deployments that rely on overriding platform classes for testing\n  purposes with <code>-Xbootclasspath/p</code> will need to changed to use the\n  <code>--patch-module</code> option that is documented in <a href=\"http://openjdk.java.net/jeps/261\" rel=\"noreferrer\">JEP 261</a>. </p>\n  \n  <p>The <code>-Xbootclasspath/a</code> option is unchanged.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":10853331,"reputation":327,"user_id":7980462,"display_name":"Дима Годиков"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641205601,"creation_date":1641205601,"answer_id":70564389,"question_id":48148607,"body_markdown":"`-bootclasspath:p` add classes from jar to the begin of default bootstrap class path (prepended). It isn&#39;t longer supported in JVM 9 or greater.\r\n\r\n`-bootclasspath:a` add classes from jar to the end of default bootstrap class path (appended). This option is supported in JVM 9 or greater.\r\nhttps://docs.oracle.com/cd/E15289_01/JRCLR/optionx.htm#i1021218\r\n\r\nIn my case when I declare variables in this order: \r\n\r\n&gt; JAVA_OPTS=&quot;$SOME_OPT&quot;\r\n&gt; \r\n&gt; JAVA_OPTS=&quot;-javaagent:../agent.jar -Xbootclasspath/a:../agent-boot.jar $JAVA_OPTS&quot;\r\n\r\nI catch classNotFoundException. And when I reverse order:\r\n\r\n&gt; JAVA_OPTS=&quot;-javaagent:../agent.jar -Xbootclasspath/a:../agent-boot.jar $JAVA_OPTS&quot;\r\n&gt; \r\n&gt; JAVA_OPTS=&quot;$SOME_OPT&quot;\r\n\r\nClassNotFound exception disappear.\r\n","title":"How to add a jar to the boot classpath in java 9","body":"<p><code>-bootclasspath:p</code> add classes from jar to the begin of default bootstrap class path (prepended). It isn't longer supported in JVM 9 or greater.</p>\n<p><code>-bootclasspath:a</code> add classes from jar to the end of default bootstrap class path (appended). This option is supported in JVM 9 or greater.\n<a href=\"https://docs.oracle.com/cd/E15289_01/JRCLR/optionx.htm#i1021218\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E15289_01/JRCLR/optionx.htm#i1021218</a></p>\n<p>In my case when I declare variables in this order:</p>\n<blockquote>\n<p>JAVA_OPTS=&quot;$SOME_OPT&quot;</p>\n<p>JAVA_OPTS=&quot;-javaagent:../agent.jar -Xbootclasspath/a:../agent-boot.jar $JAVA_OPTS&quot;</p>\n</blockquote>\n<p>I catch classNotFoundException. And when I reverse order:</p>\n<blockquote>\n<p>JAVA_OPTS=&quot;-javaagent:../agent.jar -Xbootclasspath/a:../agent-boot.jar $JAVA_OPTS&quot;</p>\n<p>JAVA_OPTS=&quot;$SOME_OPT&quot;</p>\n</blockquote>\n<p>ClassNotFound exception disappear.</p>\n"}],"owner":{"account_id":12639481,"reputation":93,"user_id":9187528,"display_name":"Qwerty"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8639,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":48148901,"answer_count":2,"score":9,"last_activity_date":1641205601,"creation_date":1515408090,"question_id":48148607,"body_markdown":"In my application that runs on java 8, I am using `-bootclasspath:p` to add a jar to the boot classpath. In java 9, the option is removed. What is the alternative to do the same in java 9? ","title":"How to add a jar to the boot classpath in java 9","body":"<p>In my application that runs on java 8, I am using <code>-bootclasspath:p</code> to add a jar to the boot classpath. In java 9, the option is removed. What is the alternative to do the same in java 9? </p>\n"},{"tags":["java","xml"],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1469963835,"creation_date":1469963835,"answer_id":38683400,"question_id":38683358,"body_markdown":"I recommend you to use [JAXB][1] to map XML file into POJO objects.\r\n\r\n\r\n  [1]: https://www.mkyong.com/java/jaxb-hello-world-example/","title":"how should I store xml data in a java class","body":"<p>I recommend you to use <a href=\"https://www.mkyong.com/java/jaxb-hello-world-example/\" rel=\"nofollow\">JAXB</a> to map XML file into POJO objects.</p>\n"},{"tags":[],"owner":{"account_id":2183640,"reputation":5967,"user_id":1932557,"accept_rate":45,"display_name":"Bahramdun Adil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469964524,"creation_date":1469964524,"answer_id":38683491,"question_id":38683358,"body_markdown":"First create a Student bean class as below:\r\n\r\n    public class Student {\r\n        private int id;\r\n        private String firstName;\r\n        private String lastName;\r\n        private String nickName;\r\n        private int marks;\r\n        \r\n        // getters and setters\r\n    }\r\n\r\nThen you can use [DOM][1] parser or [SAX][2] parser util populate the data.\r\n\r\n\r\n  [1]: http://www.tutorialspoint.com/java_xml/java_dom_parser.htm\r\n  [2]: http://www.tutorialspoint.com/java_xml/java_sax_parser.htm","title":"how should I store xml data in a java class","body":"<p>First create a Student bean class as below:</p>\n\n<pre><code>public class Student {\n    private int id;\n    private String firstName;\n    private String lastName;\n    private String nickName;\n    private int marks;\n\n    // getters and setters\n}\n</code></pre>\n\n<p>Then you can use <a href=\"http://www.tutorialspoint.com/java_xml/java_dom_parser.htm\" rel=\"nofollow\">DOM</a> parser or <a href=\"http://www.tutorialspoint.com/java_xml/java_sax_parser.htm\" rel=\"nofollow\">SAX</a> parser util populate the data.</p>\n"},{"tags":[],"owner":{"account_id":23553613,"reputation":1,"user_id":17703968,"display_name":"DBG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641205596,"creation_date":1641203936,"answer_id":70564073,"question_id":38683358,"body_markdown":"You should use the TransformerFactory class as shown:\r\n\r\n```\r\ntry {\r\n            \r\n    Document document = null;\r\n    TransformerFactory tf = TransformerFactory.newInstance();\r\n    Transformer transformer = tf.newTransformer();\r\n    DOMSource source = new DOMSource(document);\r\n    File f = new File(fileName + &quot;.xml&quot;);\r\n    StreamResult result = new StreamResult(f);\r\n    transformer.transform(source, result);\r\n    \r\n} catch (TransformerException e) {\r\n    throw e;\r\n}\r\n```\r\n\r\nRemember that you have to add TransformerException to the method signature.","title":"how should I store xml data in a java class","body":"<p>You should use the TransformerFactory class as shown:</p>\n<pre><code>try {\n            \n    Document document = null;\n    TransformerFactory tf = TransformerFactory.newInstance();\n    Transformer transformer = tf.newTransformer();\n    DOMSource source = new DOMSource(document);\n    File f = new File(fileName + &quot;.xml&quot;);\n    StreamResult result = new StreamResult(f);\n    transformer.transform(source, result);\n    \n} catch (TransformerException e) {\n    throw e;\n}\n</code></pre>\n<p>Remember that you have to add TransformerException to the method signature.</p>\n"}],"owner":{"account_id":3980828,"reputation":1401,"user_id":3282758,"accept_rate":52,"display_name":"user3282758"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1992,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1641205596,"creation_date":1469963574,"question_id":38683358,"body_markdown":"I am just beginning to learn to read xml in java. My question is very basic. How do I store attributes and sub-elements of an xml element in a java class.\r\n\r\nThus if I have a simple xml file as follows :\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;class&gt;\r\n       &lt;student rollno=&quot;393&quot;&gt;\r\n          &lt;firstname&gt;dinkar&lt;/firstname&gt;\r\n          &lt;lastname&gt;kad&lt;/lastname&gt;\r\n          &lt;nickname&gt;dinkar&lt;/nickname&gt;\r\n          &lt;marks&gt;85&lt;/marks&gt;\r\n       &lt;/student&gt;\r\n       &lt;student rollno=&quot;493&quot;&gt;\r\n          &lt;firstname&gt;Vaneet&lt;/firstname&gt;\r\n          &lt;lastname&gt;Gupta&lt;/lastname&gt;\r\n          &lt;nickname&gt;vinni&lt;/nickname&gt;\r\n          &lt;marks&gt;95&lt;/marks&gt;\r\n       &lt;/student&gt;\r\n       &lt;student rollno=&quot;593&quot;&gt;\r\n          &lt;firstname&gt;jasvir&lt;/firstname&gt;\r\n          &lt;lastname&gt;singn&lt;/lastname&gt;\r\n          &lt;nickname&gt;jazz&lt;/nickname&gt;\r\n          &lt;marks&gt;90&lt;/marks&gt;\r\n       &lt;/student&gt;\r\n    &lt;/class&gt;\r\n\r\nHow do I design a java class to store `student` data. If sub-elements are stored as data members then how should I store the attribute `rollno`","title":"how should I store xml data in a java class","body":"<p>I am just beginning to learn to read xml in java. My question is very basic. How do I store attributes and sub-elements of an xml element in a java class.</p>\n\n<p>Thus if I have a simple xml file as follows :</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;class&gt;\n   &lt;student rollno=\"393\"&gt;\n      &lt;firstname&gt;dinkar&lt;/firstname&gt;\n      &lt;lastname&gt;kad&lt;/lastname&gt;\n      &lt;nickname&gt;dinkar&lt;/nickname&gt;\n      &lt;marks&gt;85&lt;/marks&gt;\n   &lt;/student&gt;\n   &lt;student rollno=\"493\"&gt;\n      &lt;firstname&gt;Vaneet&lt;/firstname&gt;\n      &lt;lastname&gt;Gupta&lt;/lastname&gt;\n      &lt;nickname&gt;vinni&lt;/nickname&gt;\n      &lt;marks&gt;95&lt;/marks&gt;\n   &lt;/student&gt;\n   &lt;student rollno=\"593\"&gt;\n      &lt;firstname&gt;jasvir&lt;/firstname&gt;\n      &lt;lastname&gt;singn&lt;/lastname&gt;\n      &lt;nickname&gt;jazz&lt;/nickname&gt;\n      &lt;marks&gt;90&lt;/marks&gt;\n   &lt;/student&gt;\n&lt;/class&gt;\n</code></pre>\n\n<p>How do I design a java class to store <code>student</code> data. If sub-elements are stored as data members then how should I store the attribute <code>rollno</code></p>\n"},{"tags":["java","annotations"],"comments":[{"owner":{"account_id":43112,"reputation":58953,"user_id":125844,"accept_rate":85,"display_name":"notnoop"},"score":1,"creation_date":1255349243,"post_id":1554112,"comment_id":1412301,"body_markdown":"There is an effort to have this duplicate rule relax to permit your program in Java 7.  Can you describe your use case please?","body":"There is an effort to have this duplicate rule relax to permit your program in Java 7.  Can you describe your use case please?"},{"owner":{"account_id":51108,"reputation":4852,"user_id":152619,"accept_rate":92,"display_name":"Max A."},"score":0,"creation_date":1255355168,"post_id":1554112,"comment_id":1412796,"body_markdown":"I&#39;ve edited my question with a description of why I want to do this. Thanks.","body":"I&#39;ve edited my question with a description of why I want to do this. Thanks."},{"owner":{"account_id":401474,"reputation":717,"user_id":768050,"accept_rate":100,"display_name":"Richard Corfield"},"score":0,"creation_date":1330946018,"post_id":1554112,"comment_id":12126308,"body_markdown":"It could be handy in CDI to allow a bean to be provided for multiple qualifiers. For example I&#39;ve just tried to reuse a bean in two places by qualifying it &quot;@Produces @PackageName(&quot;test1&quot;) @PackageName(&quot;test2&quot;)&quot;","body":"It could be handy in CDI to allow a bean to be provided for multiple qualifiers. For example I&#39;ve just tried to reuse a bean in two places by qualifying it &quot;@Produces @PackageName(&quot;test1&quot;) @PackageName(&quot;test2&quot;)&quot;"},{"owner":{"account_id":401474,"reputation":717,"user_id":768050,"accept_rate":100,"display_name":"Richard Corfield"},"score":0,"creation_date":1330946477,"post_id":1554112,"comment_id":12126434,"body_markdown":"Further: The answer below does not solve that problem because CDI would see the composite as one Qualifier.","body":"Further: The answer below does not solve that problem because CDI would see the composite as one Qualifier."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1604186541,"post_id":1554112,"comment_id":114271028,"body_markdown":"@MaxA. Please change your &quot;green check&quot; acceptance to [the correct Answer](https://stackoverflow.com/a/12394501/642706) by mernst. Java 8 added the ability to repeat annotations.","body":"@MaxA. Please change your &quot;green check&quot; acceptance to <a href=\"https://stackoverflow.com/a/12394501/642706\">the correct Answer</a> by mernst. Java 8 added the ability to repeat annotations."}],"answers":[{"tags":[],"owner":{"account_id":59692,"reputation":35753,"user_id":178526,"accept_rate":85,"display_name":"sfussenegger"},"down_vote_count":1,"up_vote_count":148,"is_accepted":true,"score":147,"last_activity_date":1641205517,"creation_date":1255348570,"answer_id":1554144,"question_id":1554112,"body_markdown":"*Note: This answer is partially outdated since Java 8 introduced the `@Repeatable` annotation (see answer by @mernst). The need for a `@Foos` container annotation and dedicated handling still remain though.*\r\n\r\nTwo or more annotations of same type aren&#39;t allowed. However, you could do something like this:\r\n\r\n    public @interface Foos {\r\n        Foo[] value();\r\n    }\r\n\r\n    // pre Java 8\r\n    @Foos({@Foo(bar=&quot;one&quot;), @Foo(bar=&quot;two&quot;)})\r\n    public void haha() {}\r\n\r\n    // post Java 8 with @Repeatable(Foos.class) on @Foo\r\n    @Foo(bar=&quot;one&quot;) @Foo(bar=&quot;two&quot;)\r\n    public void haha() {}\r\n\r\nYou&#39;ll need dedicated handling of `Foos` annotation in code though.\r\n","title":"Multiple annotations of the same type on one element?","body":"<p><em>Note: This answer is partially outdated since Java 8 introduced the <code>@Repeatable</code> annotation (see answer by @mernst). The need for a <code>@Foos</code> container annotation and dedicated handling still remain though.</em></p>\n<p>Two or more annotations of same type aren't allowed. However, you could do something like this:</p>\n<pre><code>public @interface Foos {\n    Foo[] value();\n}\n\n// pre Java 8\n@Foos({@Foo(bar=&quot;one&quot;), @Foo(bar=&quot;two&quot;)})\npublic void haha() {}\n\n// post Java 8 with @Repeatable(Foos.class) on @Foo\n@Foo(bar=&quot;one&quot;) @Foo(bar=&quot;two&quot;)\npublic void haha() {}\n</code></pre>\n<p>You'll need dedicated handling of <code>Foos</code> annotation in code though.</p>\n"},{"tags":[],"owner":{"account_id":49175,"reputation":23807,"user_id":146347,"accept_rate":100,"display_name":"KLE"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1255348981,"creation_date":1255348981,"answer_id":1554175,"question_id":1554112,"body_markdown":"As said by sfussenegger, this isn&#39;t possible.\r\n\r\nThe usual solution is to **build an &quot;multiple&quot; annotation**, that handles an array of the previous annotation. It is typically named the same, with an &#39;s&#39; suffix.\r\n\r\nBy the way, this is very used in big public projects (Hibernate for example), so it shouldn&#39;t be considered as a hack, but rather a correct solution for this need.\r\n\r\n-------------------\r\n\r\nDepending on your needs, it could be better to **allow your earlier annotation to handle multiple values**.\r\n\r\nExample:\r\n\r\n        public @interface Foo {\r\n          String[] bars();\r\n        }\r\n","title":"Multiple annotations of the same type on one element?","body":"<p>As said by sfussenegger, this isn't possible.</p>\n\n<p>The usual solution is to <strong>build an \"multiple\" annotation</strong>, that handles an array of the previous annotation. It is typically named the same, with an 's' suffix.</p>\n\n<p>By the way, this is very used in big public projects (Hibernate for example), so it shouldn't be considered as a hack, but rather a correct solution for this need.</p>\n\n<hr>\n\n<p>Depending on your needs, it could be better to <strong>allow your earlier annotation to handle multiple values</strong>.</p>\n\n<p>Example:</p>\n\n<pre><code>    public @interface Foo {\n      String[] bars();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":238529,"reputation":109,"user_id":507481,"display_name":"golwig"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1334587381,"creation_date":1334587381,"answer_id":10176302,"question_id":1554112,"body_markdown":"If you have only 1 parameter &quot;bar&quot; you can name it as &quot;value&quot;. In this case you wont have to write the parameter name at all when you use it like this:\r\n\r\n    @Foos({@Foo(&quot;one&quot;), @Foo(&quot;two&quot;)})\r\n    public void haha() {}\r\n\r\na bit shorter and neater, imho..","title":"Multiple annotations of the same type on one element?","body":"<p>If you have only 1 parameter \"bar\" you can name it as \"value\". In this case you wont have to write the parameter name at all when you use it like this:</p>\n\n<pre><code>@Foos({@Foo(\"one\"), @Foo(\"two\")})\npublic void haha() {}\n</code></pre>\n\n<p>a bit shorter and neater, imho..</p>\n"},{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"down_vote_count":1,"up_vote_count":75,"is_accepted":false,"score":74,"last_activity_date":1604186771,"creation_date":1347475910,"answer_id":12394501,"question_id":1554112,"body_markdown":"# Repeating annotations in Java 8\r\n\r\nIn [Java 8][1] (released in March 2014), it is possible to write repeated/duplicate annotations.  \r\n\r\nSee tutorial, [*Repeating Annotations*](http://docs.oracle.com/javase/tutorial/java/annotations/repeating.html).\r\n\r\nSee specification, [*JEP 120: Repeating Annotations*](http://openjdk.java.net/jeps/120).\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8","title":"Multiple annotations of the same type on one element?","body":"<h1>Repeating annotations in Java 8</h1>\n<p>In <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\">Java 8</a> (released in March 2014), it is possible to write repeated/duplicate annotations.</p>\n<p>See tutorial, <a href=\"http://docs.oracle.com/javase/tutorial/java/annotations/repeating.html\" rel=\"noreferrer\"><em>Repeating Annotations</em></a>.</p>\n<p>See specification, <a href=\"http://openjdk.java.net/jeps/120\" rel=\"noreferrer\"><em>JEP 120: Repeating Annotations</em></a>.</p>\n"},{"tags":[],"owner":{"account_id":2752041,"reputation":443,"user_id":2371207,"display_name":"matt1616"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1384997569,"creation_date":1384997569,"answer_id":20110777,"question_id":1554112,"body_markdown":"combining the other answers into the simplest form ... an annotation with a simple list of values ...\r\n\r\n    @Foos({&quot;one&quot;,&quot;two&quot;})\r\n    private String awk;\r\n\r\n    //...\r\n\r\n    public @interface Foos{\r\n    \tString[] value();\r\n    }\r\n\r\n","title":"Multiple annotations of the same type on one element?","body":"<p>combining the other answers into the simplest form ... an annotation with a simple list of values ...</p>\n\n<pre><code>@Foos({\"one\",\"two\"})\nprivate String awk;\n\n//...\n\npublic @interface Foos{\n    String[] value();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1907270,"reputation":516,"user_id":1721870,"display_name":"Sergei Pikalev"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1395246880,"creation_date":1395246880,"answer_id":22512372,"question_id":1554112,"body_markdown":"[http://docs.oracle.com/javase/tutorial/java/annotations/repeating.html][1]\r\n\r\nStarting from Java8 you can describe repeatable annotations:\r\n\r\n    @Repeatable(FooValues.class)\r\n    public @interface Foo {\r\n        String bar();\r\n    }\r\n    \r\n    public @interface FooValues {\r\n        Foo[] value();\r\n    }\r\n\r\nNote, `value` is required field for values list.\r\n\r\nNow you can use annotations repeating them instead of filling the array:\r\n\r\n    @Foo(bar=&quot;one&quot;)\r\n    @Foo(bar=&quot;two&quot;)\r\n    public void haha() {}\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/annotations/repeating.html","title":"Multiple annotations of the same type on one element?","body":"<p><a href=\"http://docs.oracle.com/javase/tutorial/java/annotations/repeating.html\">http://docs.oracle.com/javase/tutorial/java/annotations/repeating.html</a></p>\n\n<p>Starting from Java8 you can describe repeatable annotations:</p>\n\n<pre><code>@Repeatable(FooValues.class)\npublic @interface Foo {\n    String bar();\n}\n\npublic @interface FooValues {\n    Foo[] value();\n}\n</code></pre>\n\n<p>Note, <code>value</code> is required field for values list.</p>\n\n<p>Now you can use annotations repeating them instead of filling the array:</p>\n\n<pre><code>@Foo(bar=\"one\")\n@Foo(bar=\"two\")\npublic void haha() {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":481006,"reputation":31216,"user_id":894565,"accept_rate":76,"display_name":"Jatin"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1443981856,"creation_date":1424627659,"answer_id":28661180,"question_id":1554112,"body_markdown":"Apart from the other ways mentioned, there is one more less verbose way in Java8:\n\n    @Target(ElementType.TYPE)\n    @Repeatable(FooContainer.class)\n    @Retention(RetentionPolicy.RUNTIME)\n    @interface Foo {\n        String value();\n    \n    }\n    \n    @Target(ElementType.TYPE)\n    @Retention(RetentionPolicy.RUNTIME)\n    @interface FooContainer {\n            Foo[] value();\n            }\n    \n    @Foo(&quot;1&quot;) @Foo(&quot;2&quot;) @Foo(&quot;3&quot;)\n    class Example{\n    \n    }\n\nExample by default gets, `FooContainer` as an Annotation\n\n        Arrays.stream(Example.class.getDeclaredAnnotations()).forEach(System.out::println);\n        System.out.println(Example.class.getAnnotation(FooContainer.class));\n\n Both the above print:\n\n&gt; @com.FooContainer(value=[@com.Foo(value=1), @com.Foo(value=2),\n&gt; @com.Foo(value=3)]) \n&gt;\n&gt; @com.FooContainer(value=[@com.Foo(value=1), @com.Foo(value=2), @com.Foo(value=3)])","title":"Multiple annotations of the same type on one element?","body":"<p>Apart from the other ways mentioned, there is one more less verbose way in Java8:</p>\n<pre><code>@Target(ElementType.TYPE)\n@Repeatable(FooContainer.class)\n@Retention(RetentionPolicy.RUNTIME)\n@interface Foo {\n    String value();\n\n}\n\n@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@interface FooContainer {\n        Foo[] value();\n        }\n\n@Foo(&quot;1&quot;) @Foo(&quot;2&quot;) @Foo(&quot;3&quot;)\nclass Example{\n\n}\n</code></pre>\n<p>Example by default gets, <code>FooContainer</code> as an Annotation</p>\n<pre><code>    Arrays.stream(Example.class.getDeclaredAnnotations()).forEach(System.out::println);\n    System.out.println(Example.class.getAnnotation(FooContainer.class));\n</code></pre>\n<p>Both the above print:</p>\n<blockquote>\n<p>@com.FooContainer(value=[@com.Foo(value=1), @com.Foo(value=2),\n@com.Foo(value=3)])</p>\n<p>@com.FooContainer(value=[@com.Foo(value=1), @com.Foo(value=2), @com.Foo(value=3)])</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":12615695,"reputation":11,"user_id":9173245,"display_name":"Eduardo Alexandre de Souza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543327192,"creation_date":1543327192,"answer_id":53501388,"question_id":1554112,"body_markdown":"In the current version of Java, I was able to resolve this issue with the following annotation:\r\n\r\n    @Foo({&quot;one&quot;, &quot;two&quot;})","title":"Multiple annotations of the same type on one element?","body":"<p>In the current version of Java, I was able to resolve this issue with the following annotation:</p>\n\n<pre><code>@Foo({\"one\", \"two\"})\n</code></pre>\n"}],"owner":{"account_id":51108,"reputation":4852,"user_id":152619,"accept_rate":92,"display_name":"Max A."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97427,"favorite_count":0,"down_vote_count":0,"up_vote_count":101,"accepted_answer_id":1554144,"answer_count":8,"score":101,"last_activity_date":1641205517,"creation_date":1255348145,"question_id":1554112,"body_markdown":"I&#39;m attempting to slap two or more annotations of the same type on a single element, in this case, a method. Here&#39;s the approximate code that I&#39;m working with:\r\n\r\n    public class Dupe {\r\n        public @interface Foo {\r\n          String bar();\r\n        }\r\n\r\n        @Foo(bar=&quot;one&quot;)\r\n        @Foo(bar=&quot;two&quot;)\r\n        public void haha() {}\r\n    }\r\n\r\nWhen compiling the above, javac complains about a duplicate annotation:\r\n\r\n&lt;pre&gt;\r\nmax@upsight:~/work/daybreak$ javac Dupe.java \r\nDupe.java:5: duplicate annotation\r\n&lt;/pre&gt;\r\n\r\nIs it simply not possible to repeat annotations like this? Pedantically speaking, aren&#39;t the two instances of @Foo above different due to their contents being different?\r\n\r\nIf the above isn&#39;t possible, what are some potential workarounds?\r\n\r\nUPDATE: I&#39;ve been asked to describe my use case. Here goes.\r\n\r\nI&#39;m building a syntax sugarish mechanism to &quot;map&quot; POJOs to document stores such as MongoDB. I want to allow indexes to be specified as annotations on the getters or setters. Here&#39;s a contrived example:\r\n\r\n    public class Employee {\r\n        private List&lt;Project&gt; projects;\r\n\r\n        @Index(expr = &quot;project.client_id&quot;)\r\n        @Index(expr = &quot;project.start_date&quot;)\r\n        public List&lt;Project&gt; getProjects() { return projects; }\r\n    }\r\n\r\nObviously, I want to be able to quickly find instances of Employee by various properties of Project. I can either specify @Index twice with different expr() values, or take the approach specified in the accepted answer. Even though Hibernate does this and it&#39;s not considered a hack, I think it still makes sense to at least allow having multiple annotations of the same type on a single element.","title":"Multiple annotations of the same type on one element?","body":"<p>I'm attempting to slap two or more annotations of the same type on a single element, in this case, a method. Here's the approximate code that I'm working with:</p>\n\n<pre><code>public class Dupe {\n    public @interface Foo {\n      String bar();\n    }\n\n    @Foo(bar=\"one\")\n    @Foo(bar=\"two\")\n    public void haha() {}\n}\n</code></pre>\n\n<p>When compiling the above, javac complains about a duplicate annotation:</p>\n\n<pre>\nmax@upsight:~/work/daybreak$ javac Dupe.java \nDupe.java:5: duplicate annotation\n</pre>\n\n<p>Is it simply not possible to repeat annotations like this? Pedantically speaking, aren't the two instances of @Foo above different due to their contents being different?</p>\n\n<p>If the above isn't possible, what are some potential workarounds?</p>\n\n<p>UPDATE: I've been asked to describe my use case. Here goes.</p>\n\n<p>I'm building a syntax sugarish mechanism to \"map\" POJOs to document stores such as MongoDB. I want to allow indexes to be specified as annotations on the getters or setters. Here's a contrived example:</p>\n\n<pre><code>public class Employee {\n    private List&lt;Project&gt; projects;\n\n    @Index(expr = \"project.client_id\")\n    @Index(expr = \"project.start_date\")\n    public List&lt;Project&gt; getProjects() { return projects; }\n}\n</code></pre>\n\n<p>Obviously, I want to be able to quickly find instances of Employee by various properties of Project. I can either specify @Index twice with different expr() values, or take the approach specified in the accepted answer. Even though Hibernate does this and it's not considered a hack, I think it still makes sense to at least allow having multiple annotations of the same type on a single element.</p>\n"},{"tags":["java","testing","jbehave","jbehave-plugin","jbehave-maven-plugin"],"owner":{"account_id":17511076,"reputation":452,"user_id":12699161,"display_name":"undertale"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1641205377,"creation_date":1641203872,"question_id":70564060,"body_markdown":"I have story something like this:\r\n\r\n    Scenario: Go to screen Configuration-&gt;Setup-&gt;Device Operation Mode , Set Device mode to IP if not matched\r\n    Given I am on page Configuration-&gt;Setup-&gt;Device Operation Mode\r\n    When I choose &quot;IP&quot; if not matched from &quot;Operation Mode&quot; dropdown\r\n\r\nSo _&quot; When I choose &quot;IP&quot; if not matched...&quot;_ keyword is clicking on button and change my mode to IP.\r\n\r\nMy question is: if I want in the end of the test to add Scenario that returns the origin Device mode if it has changed.\r\n\r\nSomething like:\r\n\r\n    Scenario: Go to screen Configuration-&gt;Setup-&gt;Device Operation Mode , return device to origin mode\r\n    Given I am on page Configuration-&gt;Setup-&gt;Device Operation Mode\r\n    Then I  return device operation mode to origin mode\r\n\r\n\r\nHow can I know what the origin mode was? \r\n\r\nDoes jbehave have a way to share variables between keywords?","title":"Does jbehave have a way to share variables between keywords?","body":"<p>I have story something like this:</p>\n<pre><code>Scenario: Go to screen Configuration-&gt;Setup-&gt;Device Operation Mode , Set Device mode to IP if not matched\nGiven I am on page Configuration-&gt;Setup-&gt;Device Operation Mode\nWhen I choose &quot;IP&quot; if not matched from &quot;Operation Mode&quot; dropdown\n</code></pre>\n<p>So <em>&quot; When I choose &quot;IP&quot; if not matched...&quot;</em> keyword is clicking on button and change my mode to IP.</p>\n<p>My question is: if I want in the end of the test to add Scenario that returns the origin Device mode if it has changed.</p>\n<p>Something like:</p>\n<pre><code>Scenario: Go to screen Configuration-&gt;Setup-&gt;Device Operation Mode , return device to origin mode\nGiven I am on page Configuration-&gt;Setup-&gt;Device Operation Mode\nThen I  return device operation mode to origin mode\n</code></pre>\n<p>How can I know what the origin mode was?</p>\n<p>Does jbehave have a way to share variables between keywords?</p>\n"},{"tags":["java","google-cloud-dataflow","apache-beam"],"comments":[{"owner":{"account_id":19863790,"reputation":1361,"user_id":14551567,"display_name":"Betjens"},"score":0,"creation_date":1639731565,"post_id":70377946,"comment_id":124428607,"body_markdown":"Hello, that issue you are getting may be due to an increase size on your project after the update. On the [official documentation](https://cloud.google.com/dataflow/docs/guides/common-errors#job-graph-too-large) it points that `graph size must not exceed 10 MB`. Have you try shorting the code and running the update with a shorted version?","body":"Hello, that issue you are getting may be due to an increase size on your project after the update. On the <a href=\"https://cloud.google.com/dataflow/docs/guides/common-errors#job-graph-too-large\" rel=\"nofollow noreferrer\">official documentation</a> it points that <code>graph size must not exceed 10 MB</code>. Have you try shorting the code and running the update with a shorted version?"}],"answers":[{"tags":[],"owner":{"account_id":1183747,"reputation":81,"user_id":1158117,"display_name":"lagunaloire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641205338,"creation_date":1641205338,"answer_id":70564342,"question_id":70377946,"body_markdown":"apparently, the above issue was solved by just adding the below flag, no codes were tuned/modified. I have no other words to say... \r\n\r\n    --experiments=use_runner_v2\r\n\r\nlink as reference:\r\n[https://cloud.google.com/dataflow/docs/guides/deploying-a-pipeline#dataflow-runner-v2][1]\r\n\r\n\r\n  [1]: https://cloud.google.com/dataflow/docs/guides/deploying-a-pipeline#dataflow-runner-v2","title":"Apache Beam upgrade issue","body":"<p>apparently, the above issue was solved by just adding the below flag, no codes were tuned/modified. I have no other words to say...</p>\n<pre><code>--experiments=use_runner_v2\n</code></pre>\n<p>link as reference:\n<a href=\"https://cloud.google.com/dataflow/docs/guides/deploying-a-pipeline#dataflow-runner-v2\" rel=\"nofollow noreferrer\">https://cloud.google.com/dataflow/docs/guides/deploying-a-pipeline#dataflow-runner-v2</a></p>\n"}],"owner":{"account_id":1183747,"reputation":81,"user_id":1158117,"display_name":"lagunaloire"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":545,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641205338,"creation_date":1639652885,"question_id":70377946,"body_markdown":"I recently upgraded my project&#39;s apache &lt;beam.version&gt; from 2.19 to 2.34.\r\n\r\nwith current maven configuration as below:\r\n\r\n    ...\r\n    &lt;build&gt;\r\n    &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.2.0&lt;/version&gt;\r\n      &lt;configuration&gt;\r\n        &lt;source&gt;1.8&lt;/source&gt;\r\n        &lt;target&gt;1.8&lt;/target&gt;\r\n    ...\r\n    &lt;plugin&gt;\r\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.8.0&lt;/version&gt;\r\n    &lt;/plugin&gt;\r\n    ...\r\n    &lt;properties&gt;\r\n          &lt;beam.version&gt;2.34.0&lt;/beam.version&gt;\r\n          &lt;hbase.version&gt;1.2.0-cdh5.8.2&lt;/hbase.version&gt;\r\n    \t  &lt;guava.version&gt;31.0.1-jre&lt;/guava.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;24.0.0&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n    ...\r\n\r\narguments as follow:\r\n\r\n    --project=*masked* \\\r\n    --environment=*masked* \\\r\n    --tableName=*masked* \\\r\n    --outputFolder=gs://*masked* \\\r\n    --stagingLocation=gs://*masked* \\\r\n    --tempLocation=gs://*masked* \\\r\n    --serviceAccount=dataflow-instance@*masked* \\\r\n    --region=asia-southeast1 \\\r\n    --flexRSGoal=COST_OPTIMIZED \\\r\n    --maxNumWorkers=50 \\\r\n    --workerMachineType=n1-standard-2 \\\r\n    --startDate=${start_date}&quot; 00:00&quot; \\\r\n    --endDate=${end_date}&quot; 00:00&quot; \\\r\n    --jobName=*masked*-${start_date_no_dash}\r\n\r\nHowever, it gave me a lot of warnings and ended with errors when I trigger the job.\r\n\r\n    2021-12-14T17:29:01.589ZCan&#39;t verify serialized elements of type SerializableConfiguration have well defined equals method. This may produce incorrect results on some PipelineRunner\r\n    \r\n    2021-12-14T17:29:02.192ZUnable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\n    \r\n    2021-12-14T17:31:01.970ZSplitting source org.apache.beam.sdk.io.hbase.HBaseIO$HBaseSource@1469295f into bundles of estimated size 939979010211 bytes produced 12180 bundles, which have total serialized size 500898593 bytes. As this is too large for the Google Cloud Dataflow API, retrying splitting once with increased desiredBundleSizeBytes 44902244917318 to reduce the number of splits.\r\n    \r\n    2021-12-14T17:32:54.037ZSplitting source org.apache.beam.sdk.io.hbase.HBaseIO$HBaseSource@1469295f into bundles of estimated size 44902244917318 bytes produced 12181 bundles. Rebundling into 100 bundles.\r\n    \r\n    2021-12-14T17:34:01.513ZOperation ongoing in step Read from HBase/Read(HBaseSource) for at least 05m00s without outputting or completing in state split at org.xerial.snappy.SnappyNative.rawCompress(Native Method) at org.xerial.snappy.Snappy.rawCompress(Snappy.java:450) at org.xerial.snappy.Snappy.compress(Snappy.java:123) at org.xerial.snappy.SnappyOutputStream.compressInput(SnappyOutputStream.java:380) at org.xerial.snappy.SnappyOutputStream.write(SnappyOutputStream.java:130) at java.io.ObjectOutputStream$BlockDataOutputStream.drain(ObjectOutputStream.java:1877) at java.io.ObjectOutputStream$BlockDataOutputStream.write(ObjectOutputStream.java:1848) at java.io.ObjectOutputStream.write(ObjectOutputStream.java:709) at java.io.ObjectOutputStream$BlockDataOutputStream.drain(ObjectOutputStream.java:1877) at java.io.ObjectOutputStream$BlockDataOutputStream.write(ObjectOutputStream.java:1848) at java.io.ObjectOutputStream.write(ObjectOutputStream.java:709) at org.apache.hadoop.io.WritableUtils.writeCompressedByteArray(WritableUtils.java:75) at org.apache.hadoop.io.WritableUtils.writeCompressedString(WritableUtils.java:94) at org.apache.hadoop.io.WritableUtils.writeCompressedStringArray(WritableUtils.java:155) at org.apache.hadoop.conf.Configuration.write(Configuration.java:2974) at org.apache.beam.sdk.io.hadoop.SerializableConfiguration.writeExternal(SerializableConfiguration.java:58) at java.io.ObjectOutputStream.writeExternalData(ObjectOutputStream.java:1459) at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1430) at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178) at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:348) at org.apache.beam.sdk.coders.SerializableCoder.encode(SerializableCoder.java:189) at org.apache.beam.sdk.io.hbase.HBaseIO$Read$SerializationProxy.writeObject(HBaseIO.java:317) at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:498) at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1128) at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1496) at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432) at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178) at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1548) at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1509) at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432) at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178) at java.io.ObjectOutputStream.writeArray(ObjectOutputStream.java:1378) at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1174) at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1548) at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1509) at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432) at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178) at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1548) at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1509) at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432) at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178) at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:348) at org.apache.beam.sdk.util.SerializableUtils.serializeToByteArray(SerializableUtils.java:55) at org.apache.beam.runners.dataflow.worker.WorkerCustomSources.serializeSplitToCloudSource(WorkerCustomSources.java:151) at org.apache.beam.runners.dataflow.worker.WorkerCustomSources.wrapIntoSourceSplitResponse(WorkerCustomSources.java:320) at org.apache.beam.runners.dataflow.worker.WorkerCustomSources.performSplitTyped(WorkerCustomSources.java:265) at org.apache.beam.runners.dataflow.worker.WorkerCustomSources.performSplitWithApiLimit(WorkerCustomSources.java:201) at org.apache.beam.runners.dataflow.worker.WorkerCustomSources.performSplit(WorkerCustomSources.java:180) at org.apache.beam.runners.dataflow.worker.WorkerCustomSourceOperationExecutor.execute(WorkerCustomSourceOperationExecutor.java:82) at org.apache.beam.runners.dataflow.worker.BatchDataflowWorker.executeWork(BatchDataflowWorker.java:420) at org.apache.beam.runners.dataflow.worker.BatchDataflowWorker.doWork(BatchDataflowWorker.java:389) at org.apache.beam.runners.dataflow.worker.BatchDataflowWorker.getAndPerformWork(BatchDataflowWorker.java:314) at org.apache.beam.runners.dataflow.worker.DataflowBatchWorkerHarness$WorkerThread.doWork(DataflowBatchWorkerHarness.java:140) at org.apache.beam.runners.dataflow.worker.DataflowBatchWorkerHarness$WorkerThread.call(DataflowBatchWorkerHarness.java:120) at org.apache.beam.runners.dataflow.worker.DataflowBatchWorkerHarness$WorkerThread.call(DataflowBatchWorkerHarness.java:107) at java.util.concurrent.FutureTask.run(FutureTask.java:266) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) at java.lang.Thread.run(Thread.java:748)\r\n    \r\n    2021-12-14T17:34:29.778517630ZError message from worker: java.lang.IllegalArgumentException: Total size of the BoundedSource objects generated by split() operation is larger than the allowable limit. When splitting org.apache.beam.sdk.io.hbase.HBaseIO$HBaseSource@1469295f into bundles of 44902244917318 bytes it generated 12181 BoundedSource objects with total serialized size of 493647801 bytes which is larger than the limit 20971520. For more information, please check the corresponding FAQ entry at https://cloud.google.com/dataflow/pipelines/troubleshooting-your-pipeline org.apache.beam.runners.dataflow.worker.WorkerCustomSources.performSplitTyped(WorkerCustomSources.java:286) org.apache.beam.runners.dataflow.worker.WorkerCustomSources.performSplitWithApiLimit(WorkerCustomSources.java:201) org.apache.beam.runners.dataflow.worker.WorkerCustomSources.performSplit(WorkerCustomSources.java:180) org.apache.beam.runners.dataflow.worker.WorkerCustomSourceOperationExecutor.execute(WorkerCustomSourceOperationExecutor.java:82) org.apache.beam.runners.dataflow.worker.BatchDataflowWorker.executeWork(BatchDataflowWorker.java:420) org.apache.beam.runners.dataflow.worker.BatchDataflowWorker.doWork(BatchDataflowWorker.java:389) org.apache.beam.runners.dataflow.worker.BatchDataflowWorker.getAndPerformWork(BatchDataflowWorker.java:314) org.apache.beam.runners.dataflow.worker.DataflowBatchWorkerHarness$WorkerThread.doWork(DataflowBatchWorkerHarness.java:140) org.apache.beam.runners.dataflow.worker.DataflowBatchWorkerHarness$WorkerThread.call(DataflowBatchWorkerHarness.java:120) org.apache.beam.runners.dataflow.worker.DataflowBatchWorkerHarness$WorkerThread.call(DataflowBatchWorkerHarness.java:107) java.util.concurrent.FutureTask.run(FutureTask.java:266) java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) java.lang.Thread.run(Thread.java:748)\r\n    \r\n    2021-12-14T17:50:04.082759654ZWorkflow failed. Causes: S03:Read from HBase/Read(HBaseSource)+Map Result to Record+Save To Parquet/WriteFiles/WriteUnshardedBundlesToTempFiles/WriteUnshardedBundles+Save To Parquet/WriteFiles/GatherTempFileResults/Add void key/AddKeys/Map+Save To Parquet/WriteFiles/GatherTempFileResults/Reshuffle/Window.Into()/Window.Assign+Save To Parquet/WriteFiles/GatherTempFileResults/Reshuffle/GroupByKey/Reify+Save To Parquet/WriteFiles/GatherTempFileResults/Reshuffle/GroupByKey/Write+Save To Parquet/WriteFiles/WriteUnshardedBundlesToTempFiles/GroupUnwritten/Reify+Save To Parquet/WriteFiles/WriteUnshardedBundlesToTempFiles/GroupUnwritten/Write failed., Internal Issue (b1d798680dfd97cb): 63963027:24514\r\n\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: Failed to create a workflow job: The size of the serialized JSON representation of the pipeline exceeds the allowable limit. For more information, please see the documentation on job submission:\r\n    https://cloud.google.com/dataflow/docs/guides/deploying-a-pipeline#jobs\r\n            at org.apache.beam.runners.dataflow.DataflowRunner.run(DataflowRunner.java:1241)\r\n            at org.apache.beam.runners.dataflow.DataflowRunner.run(DataflowRunner.java:197)\r\n            at org.apache.beam.sdk.Pipeline.run(Pipeline.java:323)\r\n            at org.apache.beam.sdk.Pipeline.run(Pipeline.java:309)\r\n            at *masked*.App.run(App.java:233)\r\n            at *masked*.App.main(App.java:240)\r\n    Caused by: com.google.api.client.googleapis.json.GoogleJsonResponseException: 400 Bad Request\r\n    POST https://dataflow.googleapis.com/*masked*\r\n    {\r\n      &quot;code&quot; : 400,\r\n      &quot;errors&quot; : [ {\r\n        &quot;domain&quot; : &quot;global&quot;,\r\n        &quot;message&quot; : &quot;(288bc232db1093b3): The job graph is too large. Please try again with a smaller job graph, or split your job into two or more smaller jobs.&quot;,\r\n        &quot;reason&quot; : &quot;badRequest&quot;\r\n      } ],\r\n      &quot;message&quot; : &quot;(288bc232db1093b3): The job graph is too large. Please try again with a smaller job graph, or split your job into two or more smaller jobs.&quot;,\r\n      &quot;status&quot; : &quot;INVALID_ARGUMENT&quot;\r\n    }\r\n            at com.google.api.client.googleapis.json.GoogleJsonResponseException.from(GoogleJsonResponseException.java:146)\r\n            at com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:118)\r\n            at com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:37)\r\n            at com.google.api.client.googleapis.services.AbstractGoogleClientRequest$1.interceptResponse(AbstractGoogleClientRequest.java:428)\r\n            at com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1111)\r\n            at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:514)\r\n            at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:455)\r\n            at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:565)\r\n            at org.apache.beam.runners.dataflow.DataflowClient.createJob(DataflowClient.java:64)\r\n            at org.apache.beam.runners.dataflow.DataflowRunner.run(DataflowRunner.java:1227)\r\n            ... 5 more\r\n\r\nDue to this error during run, I still maintain the beam.version on 2.19. Anyone have any idea how to fix this, please?","title":"Apache Beam upgrade issue","body":"<p>I recently upgraded my project's apache &lt;beam.version&gt; from 2.19 to 2.34.</p>\n<p>with current maven configuration as below:</p>\n<pre><code>...\n&lt;build&gt;\n&lt;plugins&gt;\n&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.2.0&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;source&gt;1.8&lt;/source&gt;\n    &lt;target&gt;1.8&lt;/target&gt;\n...\n&lt;plugin&gt;\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.8.0&lt;/version&gt;\n&lt;/plugin&gt;\n...\n&lt;properties&gt;\n      &lt;beam.version&gt;2.34.0&lt;/beam.version&gt;\n      &lt;hbase.version&gt;1.2.0-cdh5.8.2&lt;/hbase.version&gt;\n      &lt;guava.version&gt;31.0.1-jre&lt;/guava.version&gt;\n&lt;/properties&gt;\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\n            &lt;version&gt;24.0.0&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n...\n</code></pre>\n<p>arguments as follow:</p>\n<pre><code>--project=*masked* \\\n--environment=*masked* \\\n--tableName=*masked* \\\n--outputFolder=gs://*masked* \\\n--stagingLocation=gs://*masked* \\\n--tempLocation=gs://*masked* \\\n--serviceAccount=dataflow-instance@*masked* \\\n--region=asia-southeast1 \\\n--flexRSGoal=COST_OPTIMIZED \\\n--maxNumWorkers=50 \\\n--workerMachineType=n1-standard-2 \\\n--startDate=${start_date}&quot; 00:00&quot; \\\n--endDate=${end_date}&quot; 00:00&quot; \\\n--jobName=*masked*-${start_date_no_dash}\n</code></pre>\n<p>However, it gave me a lot of warnings and ended with errors when I trigger the job.</p>\n<pre><code>2021-12-14T17:29:01.589ZCan't verify serialized elements of type SerializableConfiguration have well defined equals method. This may produce incorrect results on some PipelineRunner\n\n2021-12-14T17:29:02.192ZUnable to load native-hadoop library for your platform... using builtin-java classes where applicable\n\n2021-12-14T17:31:01.970ZSplitting source org.apache.beam.sdk.io.hbase.HBaseIO$HBaseSource@1469295f into bundles of estimated size 939979010211 bytes produced 12180 bundles, which have total serialized size 500898593 bytes. As this is too large for the Google Cloud Dataflow API, retrying splitting once with increased desiredBundleSizeBytes 44902244917318 to reduce the number of splits.\n\n2021-12-14T17:32:54.037ZSplitting source org.apache.beam.sdk.io.hbase.HBaseIO$HBaseSource@1469295f into bundles of estimated size 44902244917318 bytes produced 12181 bundles. Rebundling into 100 bundles.\n\n2021-12-14T17:34:01.513ZOperation ongoing in step Read from HBase/Read(HBaseSource) for at least 05m00s without outputting or completing in state split at org.xerial.snappy.SnappyNative.rawCompress(Native Method) at org.xerial.snappy.Snappy.rawCompress(Snappy.java:450) at org.xerial.snappy.Snappy.compress(Snappy.java:123) at org.xerial.snappy.SnappyOutputStream.compressInput(SnappyOutputStream.java:380) at org.xerial.snappy.SnappyOutputStream.write(SnappyOutputStream.java:130) at java.io.ObjectOutputStream$BlockDataOutputStream.drain(ObjectOutputStream.java:1877) at java.io.ObjectOutputStream$BlockDataOutputStream.write(ObjectOutputStream.java:1848) at java.io.ObjectOutputStream.write(ObjectOutputStream.java:709) at java.io.ObjectOutputStream$BlockDataOutputStream.drain(ObjectOutputStream.java:1877) at java.io.ObjectOutputStream$BlockDataOutputStream.write(ObjectOutputStream.java:1848) at java.io.ObjectOutputStream.write(ObjectOutputStream.java:709) at org.apache.hadoop.io.WritableUtils.writeCompressedByteArray(WritableUtils.java:75) at org.apache.hadoop.io.WritableUtils.writeCompressedString(WritableUtils.java:94) at org.apache.hadoop.io.WritableUtils.writeCompressedStringArray(WritableUtils.java:155) at org.apache.hadoop.conf.Configuration.write(Configuration.java:2974) at org.apache.beam.sdk.io.hadoop.SerializableConfiguration.writeExternal(SerializableConfiguration.java:58) at java.io.ObjectOutputStream.writeExternalData(ObjectOutputStream.java:1459) at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1430) at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178) at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:348) at org.apache.beam.sdk.coders.SerializableCoder.encode(SerializableCoder.java:189) at org.apache.beam.sdk.io.hbase.HBaseIO$Read$SerializationProxy.writeObject(HBaseIO.java:317) at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:498) at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1128) at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1496) at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432) at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178) at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1548) at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1509) at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432) at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178) at java.io.ObjectOutputStream.writeArray(ObjectOutputStream.java:1378) at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1174) at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1548) at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1509) at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432) at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178) at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1548) at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1509) at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432) at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178) at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:348) at org.apache.beam.sdk.util.SerializableUtils.serializeToByteArray(SerializableUtils.java:55) at org.apache.beam.runners.dataflow.worker.WorkerCustomSources.serializeSplitToCloudSource(WorkerCustomSources.java:151) at org.apache.beam.runners.dataflow.worker.WorkerCustomSources.wrapIntoSourceSplitResponse(WorkerCustomSources.java:320) at org.apache.beam.runners.dataflow.worker.WorkerCustomSources.performSplitTyped(WorkerCustomSources.java:265) at org.apache.beam.runners.dataflow.worker.WorkerCustomSources.performSplitWithApiLimit(WorkerCustomSources.java:201) at org.apache.beam.runners.dataflow.worker.WorkerCustomSources.performSplit(WorkerCustomSources.java:180) at org.apache.beam.runners.dataflow.worker.WorkerCustomSourceOperationExecutor.execute(WorkerCustomSourceOperationExecutor.java:82) at org.apache.beam.runners.dataflow.worker.BatchDataflowWorker.executeWork(BatchDataflowWorker.java:420) at org.apache.beam.runners.dataflow.worker.BatchDataflowWorker.doWork(BatchDataflowWorker.java:389) at org.apache.beam.runners.dataflow.worker.BatchDataflowWorker.getAndPerformWork(BatchDataflowWorker.java:314) at org.apache.beam.runners.dataflow.worker.DataflowBatchWorkerHarness$WorkerThread.doWork(DataflowBatchWorkerHarness.java:140) at org.apache.beam.runners.dataflow.worker.DataflowBatchWorkerHarness$WorkerThread.call(DataflowBatchWorkerHarness.java:120) at org.apache.beam.runners.dataflow.worker.DataflowBatchWorkerHarness$WorkerThread.call(DataflowBatchWorkerHarness.java:107) at java.util.concurrent.FutureTask.run(FutureTask.java:266) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) at java.lang.Thread.run(Thread.java:748)\n\n2021-12-14T17:34:29.778517630ZError message from worker: java.lang.IllegalArgumentException: Total size of the BoundedSource objects generated by split() operation is larger than the allowable limit. When splitting org.apache.beam.sdk.io.hbase.HBaseIO$HBaseSource@1469295f into bundles of 44902244917318 bytes it generated 12181 BoundedSource objects with total serialized size of 493647801 bytes which is larger than the limit 20971520. For more information, please check the corresponding FAQ entry at https://cloud.google.com/dataflow/pipelines/troubleshooting-your-pipeline org.apache.beam.runners.dataflow.worker.WorkerCustomSources.performSplitTyped(WorkerCustomSources.java:286) org.apache.beam.runners.dataflow.worker.WorkerCustomSources.performSplitWithApiLimit(WorkerCustomSources.java:201) org.apache.beam.runners.dataflow.worker.WorkerCustomSources.performSplit(WorkerCustomSources.java:180) org.apache.beam.runners.dataflow.worker.WorkerCustomSourceOperationExecutor.execute(WorkerCustomSourceOperationExecutor.java:82) org.apache.beam.runners.dataflow.worker.BatchDataflowWorker.executeWork(BatchDataflowWorker.java:420) org.apache.beam.runners.dataflow.worker.BatchDataflowWorker.doWork(BatchDataflowWorker.java:389) org.apache.beam.runners.dataflow.worker.BatchDataflowWorker.getAndPerformWork(BatchDataflowWorker.java:314) org.apache.beam.runners.dataflow.worker.DataflowBatchWorkerHarness$WorkerThread.doWork(DataflowBatchWorkerHarness.java:140) org.apache.beam.runners.dataflow.worker.DataflowBatchWorkerHarness$WorkerThread.call(DataflowBatchWorkerHarness.java:120) org.apache.beam.runners.dataflow.worker.DataflowBatchWorkerHarness$WorkerThread.call(DataflowBatchWorkerHarness.java:107) java.util.concurrent.FutureTask.run(FutureTask.java:266) java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) java.lang.Thread.run(Thread.java:748)\n\n2021-12-14T17:50:04.082759654ZWorkflow failed. Causes: S03:Read from HBase/Read(HBaseSource)+Map Result to Record+Save To Parquet/WriteFiles/WriteUnshardedBundlesToTempFiles/WriteUnshardedBundles+Save To Parquet/WriteFiles/GatherTempFileResults/Add void key/AddKeys/Map+Save To Parquet/WriteFiles/GatherTempFileResults/Reshuffle/Window.Into()/Window.Assign+Save To Parquet/WriteFiles/GatherTempFileResults/Reshuffle/GroupByKey/Reify+Save To Parquet/WriteFiles/GatherTempFileResults/Reshuffle/GroupByKey/Write+Save To Parquet/WriteFiles/WriteUnshardedBundlesToTempFiles/GroupUnwritten/Reify+Save To Parquet/WriteFiles/WriteUnshardedBundlesToTempFiles/GroupUnwritten/Write failed., Internal Issue (b1d798680dfd97cb): 63963027:24514\n\nException in thread &quot;main&quot; java.lang.RuntimeException: Failed to create a workflow job: The size of the serialized JSON representation of the pipeline exceeds the allowable limit. For more information, please see the documentation on job submission:\nhttps://cloud.google.com/dataflow/docs/guides/deploying-a-pipeline#jobs\n        at org.apache.beam.runners.dataflow.DataflowRunner.run(DataflowRunner.java:1241)\n        at org.apache.beam.runners.dataflow.DataflowRunner.run(DataflowRunner.java:197)\n        at org.apache.beam.sdk.Pipeline.run(Pipeline.java:323)\n        at org.apache.beam.sdk.Pipeline.run(Pipeline.java:309)\n        at *masked*.App.run(App.java:233)\n        at *masked*.App.main(App.java:240)\nCaused by: com.google.api.client.googleapis.json.GoogleJsonResponseException: 400 Bad Request\nPOST https://dataflow.googleapis.com/*masked*\n{\n  &quot;code&quot; : 400,\n  &quot;errors&quot; : [ {\n    &quot;domain&quot; : &quot;global&quot;,\n    &quot;message&quot; : &quot;(288bc232db1093b3): The job graph is too large. Please try again with a smaller job graph, or split your job into two or more smaller jobs.&quot;,\n    &quot;reason&quot; : &quot;badRequest&quot;\n  } ],\n  &quot;message&quot; : &quot;(288bc232db1093b3): The job graph is too large. Please try again with a smaller job graph, or split your job into two or more smaller jobs.&quot;,\n  &quot;status&quot; : &quot;INVALID_ARGUMENT&quot;\n}\n        at com.google.api.client.googleapis.json.GoogleJsonResponseException.from(GoogleJsonResponseException.java:146)\n        at com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:118)\n        at com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:37)\n        at com.google.api.client.googleapis.services.AbstractGoogleClientRequest$1.interceptResponse(AbstractGoogleClientRequest.java:428)\n        at com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1111)\n        at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:514)\n        at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:455)\n        at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:565)\n        at org.apache.beam.runners.dataflow.DataflowClient.createJob(DataflowClient.java:64)\n        at org.apache.beam.runners.dataflow.DataflowRunner.run(DataflowRunner.java:1227)\n        ... 5 more\n</code></pre>\n<p>Due to this error during run, I still maintain the beam.version on 2.19. Anyone have any idea how to fix this, please?</p>\n"},{"tags":["java","file","sockets","inputstream","outputstream"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1641188120,"post_id":70562015,"comment_id":124734390,"body_markdown":"Flush your streams.","body":"Flush your streams."},{"owner":{"account_id":17030316,"reputation":1,"user_id":12320618,"display_name":"Nihal Shahria"},"score":0,"creation_date":1641189014,"post_id":70562015,"comment_id":124734514,"body_markdown":"@JohannesKuhn didn&#39;t work after flushing","body":"@JohannesKuhn didn&#39;t work after flushing"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1641201441,"post_id":70562015,"comment_id":124737346,"body_markdown":"The client and server both close the stream at the end of the file handling. You’ll need to leave the streams open and use some other way to indicate the end of the file.","body":"The client and server both close the stream at the end of the file handling. You’ll need to leave the streams open and use some other way to indicate the end of the file."}],"owner":{"account_id":17030316,"reputation":1,"user_id":12320618,"display_name":"Nihal Shahria"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641205243,"creation_date":1641188012,"question_id":70562015,"body_markdown":"Here server and client can initially send and receive messages from each other. However, when the server sends a file, the client does not receive any message from the server after receiving the file. So at first, I tried to close the streams after sending and receiving file and reset those streams, but that doesn&#39;t work. I think maybe my stream declarations have a problem.\r\n\r\nNote: server and client both send messages via terminal/console.\r\n\r\nServer code:\r\n```\r\nimport java.io.*;\r\nimport java.net.*;\r\n\r\n/**\r\n *\r\n * @author nihalshahria\r\n */\r\npublic class ServerNoUi {\r\n\r\n    ServerSocket server;\r\n    Socket socket;\r\n    final int port = 6666;\r\n    DataInputStream in;\r\n    BufferedReader inConsole;\r\n    DataOutputStream out;\r\n\r\n    public void start() throws IOException {\r\n        server = new ServerSocket(port);\r\n        socket = server.accept();\r\n        String userName = System.getProperty(&quot;user.name&quot;);\r\n        String folderPath = &quot;/home/&quot; + userName + &quot;/SocketApp/Server/&quot;; //folderPath to save incoming files\r\n        mkDir(folderPath);  //create new folder according to folder path\r\n        \r\n        // streams initializations\r\n        in = new DataInputStream(socket.getInputStream());\r\n        out = new DataOutputStream(socket.getOutputStream());\r\n        inConsole = new BufferedReader(new InputStreamReader(System.in));\r\n        /////////////////////////\r\n        \r\n        // Message send\r\n        new Thread(() -&gt; {\r\n            while (true) {\r\n                try {\r\n                    String msgOut = inConsole.readLine();   //read input from terminal\r\n                    String[] args = msgOut.split(&quot; &quot;, 2);\r\n                    // if(msgOut starts with &quot;-f &quot;, that means next part of the msg will contain path of the file)\r\n                    \r\n                    if (&quot;-f&quot;.equals(args[0]) &amp;&amp; args.length == 2) { \r\n                        String path = args[1];\r\n                        System.out.println(path);\r\n                        File file = new File(path);\r\n                        if (file.exists()) {\r\n                            System.out.println(&quot;Sent &quot; + file.getPath());\r\n                            out.writeUTF(&quot;-f &quot; + file.getName());\r\n                            \r\n                            // send file\r\n                            int count;\r\n                            byte[] buffer = new byte[65536];\r\n                            InputStream fileIn;\r\n                            try {\r\n                                fileIn = new FileInputStream(file);\r\n                                OutputStream fileOut = socket.getOutputStream();\r\n                                while ((count = fileIn.read(buffer)) &gt; 0) {\r\n                                    fileOut.write(buffer, 0, count);\r\n                                }\r\n                                System.out.println(&quot;file sent&quot;);\r\n//                                    fileOut.close();\r\n//                                    fileIn.close();\r\n//                                    restStreams();\r\n                                try {\r\n                                    out = new DataOutputStream(socket.getOutputStream());\r\n                                } catch (IOException e) {\r\n                                    System.out.println(e.getMessage());\r\n                                }\r\n                            } catch (IOException e) {\r\n                                System.out.println(e.getMessage());\r\n                            }\r\n                            //////////////////////////\r\n                            \r\n                        } else {\r\n                            System.out.println(&quot;File doesn&#39;t exist&quot;);\r\n                        }\r\n                    } else {\r\n                        \r\n                        // send message\r\n                        System.out.println(&quot;From Server: &quot; + msgOut);\r\n                        out.writeUTF(msgOut);\r\n                        ///////////////////\r\n                        \r\n                    }\r\n\r\n                } catch (IOException ex) {\r\n                    System.out.println(ex.getMessage());\r\n                }\r\n            }\r\n        }).start();\r\n\r\n        // Message receive\r\n        new Thread(() -&gt; {\r\n            while (true) {\r\n                try {\r\n                    String msgIn = in.readUTF();\r\n                    System.out.println(&quot;From Client: &quot; + msgIn);\r\n                    \r\n                } catch (IOException ex) {\r\n                    System.out.println(ex.getMessage());\r\n                }\r\n            }\r\n        }).start();\r\n        /////////////////////\r\n\r\n    }\r\n\r\n    private static boolean mkDir(String name) {\r\n        File dir = new File(name);\r\n        if (dir.exists()) {\r\n            return false;\r\n        }\r\n        if (dir.mkdirs()) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        new ServerNoUi().start();\r\n    }\r\n}\r\n\r\n```\r\nClient code:\r\n```\r\nimport java.io.*;\r\nimport java.net.*;\r\n\r\n/**\r\n *\r\n * @author nihalshahria\r\n */\r\npublic class ClientNoUi {\r\n\r\n    Socket socket;\r\n    DataInputStream in;\r\n    BufferedReader inConsole;\r\n    DataOutputStream out;\r\n    final int port = 6666;\r\n    String folderPath;\r\n\r\n    public void start() throws IOException {\r\n        socket = new Socket(&quot;localhost&quot;, port);\r\n        String userName = System.getProperty(&quot;user.name&quot;);\r\n        folderPath = &quot;/home/&quot; + userName + &quot;/SocketApp/Client/&quot;; //folderPath to save incoming files\r\n        mkDir(folderPath);   //create new folder according to folder path\r\n\r\n        // streams initializations\r\n        in = new DataInputStream(socket.getInputStream());\r\n        out = new DataOutputStream(socket.getOutputStream());\r\n        inConsole = new BufferedReader(new InputStreamReader(System.in));\r\n        /////////////////////////\r\n\r\n        // Message send\r\n        new Thread(() -&gt; {\r\n            while (true) {\r\n                try {\r\n                    String msgOut = inConsole.readLine();   //read input from terminal\r\n                    String[] args = msgOut.split(&quot; &quot;, 2);\r\n                    // if(msgOut starts with &quot;-f &quot;, that means next part of the msg will contain path of the file)\r\n\r\n                    if (&quot;-f&quot;.equals(args[0]) &amp;&amp; args.length == 2) {\r\n                        String path = args[1];\r\n                        System.out.println(path);\r\n                        File file = new File(path);\r\n                        if (file.exists()) {\r\n                            System.out.println(&quot;Sent &quot; + file.getPath());\r\n                            out.writeUTF(&quot;-f &quot; + file.getName());\r\n\r\n                        } else {\r\n                            System.out.println(&quot;File doesn&#39;t exist&quot;);\r\n                        }\r\n                    } else {\r\n                        System.out.println(&quot;From Client: &quot; + msgOut);\r\n                        out.writeUTF(msgOut);\r\n                    }\r\n\r\n                } catch (Exception ex) {\r\n                    System.out.println(ex.getMessage());\r\n                }\r\n            }\r\n        }).start();\r\n\r\n        // receive\r\n        new Thread(() -&gt; {\r\n            while (true) {\r\n                try {\r\n\r\n                    String msgIn = in.readUTF();\r\n                    String[] args = msgIn.split(&quot; &quot;, 2);\r\n                    // if(msgIn starts with &quot;-f &quot;, that means next part of the msg will contain name of the file)\r\n                    if (&quot;-f&quot;.equals(args[0]) &amp;&amp; args.length == 2) {\r\n\r\n                        //file receive\r\n                        InputStream fileIn = null;\r\n                        OutputStream fileOut = null;\r\n                        File file = new File(folderPath + args[1]);\r\n                        try {\r\n                            fileIn = socket.getInputStream();\r\n                            fileOut = new FileOutputStream(file);\r\n                            int count;\r\n                            byte[] buffer = new byte[65536];\r\n                            while ((count = fileIn.read(buffer)) &gt; 0) {\r\n                                fileOut.write(buffer, 0, count);\r\n                            }\r\n//                            fileIn.close();\r\n//                            fileOut.close();\r\n//                            System.out.println(file.getName() + &quot; received&quot;);\r\n//                            System.out.println(&quot;file saved in &quot; + file.getAbsolutePath());\r\n                            try {\r\n                                in = new DataInputStream(socket.getInputStream());\r\n\r\n                            } catch (Exception e) {\r\n                                System.out.println(&quot;in &quot; + e.getMessage());\r\n                            }\r\n//                            restStreams();            F\r\n                            continue;\r\n                            //////////////////////\r\n\r\n                        } catch (Exception e) {\r\n                            System.out.println(e.getMessage());\r\n                        }\r\n                    }\r\n                    System.out.println(&quot;From Server: &quot; + msgIn);\r\n\r\n                } catch (Exception ex) {\r\n                    System.out.println(ex.getMessage());\r\n                }\r\n            }\r\n        }).start();\r\n\r\n    }\r\n\r\n    private static boolean mkDir(String name) {\r\n        File dir = new File(name);\r\n        if (dir.exists()) {\r\n            return false;\r\n        }\r\n        if (dir.mkdirs()) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        new ClientNoUi().start();\r\n    }\r\n\r\n}\r\n```","title":"Client does not receive message after receiving file from server via Socket","body":"<p>Here server and client can initially send and receive messages from each other. However, when the server sends a file, the client does not receive any message from the server after receiving the file. So at first, I tried to close the streams after sending and receiving file and reset those streams, but that doesn't work. I think maybe my stream declarations have a problem.</p>\n<p>Note: server and client both send messages via terminal/console.</p>\n<p>Server code:</p>\n<pre><code>import java.io.*;\nimport java.net.*;\n\n/**\n *\n * @author nihalshahria\n */\npublic class ServerNoUi {\n\n    ServerSocket server;\n    Socket socket;\n    final int port = 6666;\n    DataInputStream in;\n    BufferedReader inConsole;\n    DataOutputStream out;\n\n    public void start() throws IOException {\n        server = new ServerSocket(port);\n        socket = server.accept();\n        String userName = System.getProperty(&quot;user.name&quot;);\n        String folderPath = &quot;/home/&quot; + userName + &quot;/SocketApp/Server/&quot;; //folderPath to save incoming files\n        mkDir(folderPath);  //create new folder according to folder path\n        \n        // streams initializations\n        in = new DataInputStream(socket.getInputStream());\n        out = new DataOutputStream(socket.getOutputStream());\n        inConsole = new BufferedReader(new InputStreamReader(System.in));\n        /////////////////////////\n        \n        // Message send\n        new Thread(() -&gt; {\n            while (true) {\n                try {\n                    String msgOut = inConsole.readLine();   //read input from terminal\n                    String[] args = msgOut.split(&quot; &quot;, 2);\n                    // if(msgOut starts with &quot;-f &quot;, that means next part of the msg will contain path of the file)\n                    \n                    if (&quot;-f&quot;.equals(args[0]) &amp;&amp; args.length == 2) { \n                        String path = args[1];\n                        System.out.println(path);\n                        File file = new File(path);\n                        if (file.exists()) {\n                            System.out.println(&quot;Sent &quot; + file.getPath());\n                            out.writeUTF(&quot;-f &quot; + file.getName());\n                            \n                            // send file\n                            int count;\n                            byte[] buffer = new byte[65536];\n                            InputStream fileIn;\n                            try {\n                                fileIn = new FileInputStream(file);\n                                OutputStream fileOut = socket.getOutputStream();\n                                while ((count = fileIn.read(buffer)) &gt; 0) {\n                                    fileOut.write(buffer, 0, count);\n                                }\n                                System.out.println(&quot;file sent&quot;);\n//                                    fileOut.close();\n//                                    fileIn.close();\n//                                    restStreams();\n                                try {\n                                    out = new DataOutputStream(socket.getOutputStream());\n                                } catch (IOException e) {\n                                    System.out.println(e.getMessage());\n                                }\n                            } catch (IOException e) {\n                                System.out.println(e.getMessage());\n                            }\n                            //////////////////////////\n                            \n                        } else {\n                            System.out.println(&quot;File doesn't exist&quot;);\n                        }\n                    } else {\n                        \n                        // send message\n                        System.out.println(&quot;From Server: &quot; + msgOut);\n                        out.writeUTF(msgOut);\n                        ///////////////////\n                        \n                    }\n\n                } catch (IOException ex) {\n                    System.out.println(ex.getMessage());\n                }\n            }\n        }).start();\n\n        // Message receive\n        new Thread(() -&gt; {\n            while (true) {\n                try {\n                    String msgIn = in.readUTF();\n                    System.out.println(&quot;From Client: &quot; + msgIn);\n                    \n                } catch (IOException ex) {\n                    System.out.println(ex.getMessage());\n                }\n            }\n        }).start();\n        /////////////////////\n\n    }\n\n    private static boolean mkDir(String name) {\n        File dir = new File(name);\n        if (dir.exists()) {\n            return false;\n        }\n        if (dir.mkdirs()) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    public static void main(String[] args) throws IOException {\n        new ServerNoUi().start();\n    }\n}\n\n</code></pre>\n<p>Client code:</p>\n<pre><code>import java.io.*;\nimport java.net.*;\n\n/**\n *\n * @author nihalshahria\n */\npublic class ClientNoUi {\n\n    Socket socket;\n    DataInputStream in;\n    BufferedReader inConsole;\n    DataOutputStream out;\n    final int port = 6666;\n    String folderPath;\n\n    public void start() throws IOException {\n        socket = new Socket(&quot;localhost&quot;, port);\n        String userName = System.getProperty(&quot;user.name&quot;);\n        folderPath = &quot;/home/&quot; + userName + &quot;/SocketApp/Client/&quot;; //folderPath to save incoming files\n        mkDir(folderPath);   //create new folder according to folder path\n\n        // streams initializations\n        in = new DataInputStream(socket.getInputStream());\n        out = new DataOutputStream(socket.getOutputStream());\n        inConsole = new BufferedReader(new InputStreamReader(System.in));\n        /////////////////////////\n\n        // Message send\n        new Thread(() -&gt; {\n            while (true) {\n                try {\n                    String msgOut = inConsole.readLine();   //read input from terminal\n                    String[] args = msgOut.split(&quot; &quot;, 2);\n                    // if(msgOut starts with &quot;-f &quot;, that means next part of the msg will contain path of the file)\n\n                    if (&quot;-f&quot;.equals(args[0]) &amp;&amp; args.length == 2) {\n                        String path = args[1];\n                        System.out.println(path);\n                        File file = new File(path);\n                        if (file.exists()) {\n                            System.out.println(&quot;Sent &quot; + file.getPath());\n                            out.writeUTF(&quot;-f &quot; + file.getName());\n\n                        } else {\n                            System.out.println(&quot;File doesn't exist&quot;);\n                        }\n                    } else {\n                        System.out.println(&quot;From Client: &quot; + msgOut);\n                        out.writeUTF(msgOut);\n                    }\n\n                } catch (Exception ex) {\n                    System.out.println(ex.getMessage());\n                }\n            }\n        }).start();\n\n        // receive\n        new Thread(() -&gt; {\n            while (true) {\n                try {\n\n                    String msgIn = in.readUTF();\n                    String[] args = msgIn.split(&quot; &quot;, 2);\n                    // if(msgIn starts with &quot;-f &quot;, that means next part of the msg will contain name of the file)\n                    if (&quot;-f&quot;.equals(args[0]) &amp;&amp; args.length == 2) {\n\n                        //file receive\n                        InputStream fileIn = null;\n                        OutputStream fileOut = null;\n                        File file = new File(folderPath + args[1]);\n                        try {\n                            fileIn = socket.getInputStream();\n                            fileOut = new FileOutputStream(file);\n                            int count;\n                            byte[] buffer = new byte[65536];\n                            while ((count = fileIn.read(buffer)) &gt; 0) {\n                                fileOut.write(buffer, 0, count);\n                            }\n//                            fileIn.close();\n//                            fileOut.close();\n//                            System.out.println(file.getName() + &quot; received&quot;);\n//                            System.out.println(&quot;file saved in &quot; + file.getAbsolutePath());\n                            try {\n                                in = new DataInputStream(socket.getInputStream());\n\n                            } catch (Exception e) {\n                                System.out.println(&quot;in &quot; + e.getMessage());\n                            }\n//                            restStreams();            F\n                            continue;\n                            //////////////////////\n\n                        } catch (Exception e) {\n                            System.out.println(e.getMessage());\n                        }\n                    }\n                    System.out.println(&quot;From Server: &quot; + msgIn);\n\n                } catch (Exception ex) {\n                    System.out.println(ex.getMessage());\n                }\n            }\n        }).start();\n\n    }\n\n    private static boolean mkDir(String name) {\n        File dir = new File(name);\n        if (dir.exists()) {\n            return false;\n        }\n        if (dir.mkdirs()) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    public static void main(String[] args) throws IOException {\n        new ClientNoUi().start();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","xml","android-studio","android-layout"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1641200862,"post_id":70563466,"comment_id":124737176,"body_markdown":"What about the code?","body":"What about the code?"},{"owner":{"account_id":16089511,"reputation":111,"user_id":11660908,"display_name":"Bhaskar Jha"},"score":0,"creation_date":1641201168,"post_id":70563466,"comment_id":124737254,"body_markdown":"It&#39;s working perfectly on other devices, but some devices have this issue. also i&#39;m getting multiple repeated logs in logcat for ex- libPowerHal: [perfScnDumpAll] scn:76 user_name:mtkpower@1.0-se pid:675 tid:0 state:0 type:1 hdl:136 hint:0","body":"It&#39;s working perfectly on other devices, but some devices have this issue. also i&#39;m getting multiple repeated logs in logcat for ex- libPowerHal: [perfScnDumpAll] scn:76 user_name:mtkpower@1.0-se pid:675 tid:0 state:0 type:1 hdl:136 hint:0"}],"owner":{"account_id":16089511,"reputation":111,"user_id":11660908,"display_name":"Bhaskar Jha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1641204689,"creation_date":1641200364,"question_id":70563466,"body_markdown":"I am facing the following issue and am unable to find the solution to it.\r\n\r\nAll the activities/fragments have UI glitches only on specific devices(android version &lt;Android Version 9 (Mi A1)&gt;).\r\n\r\nWhenever a UI is scrolled or navigated to a different screen, patchy UI glitches will be leftover on the screen.\r\n\r\nAdding screenshot and video for reference.\r\n\r\n\r\n\r\nAny help would be appriciated!\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[Screen recording for full detail][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ezdLx.jpg\r\n  [2]: https://drive.google.com/file/d/1ByRm2kCBTeAD4WRSVLDkELT6I_dqvIQ5/view?usp=sharing","title":"Android App showing multiple screen and lagging activity","body":"<p>I am facing the following issue and am unable to find the solution to it.</p>\n<p>All the activities/fragments have UI glitches only on specific devices(android version &lt;Android Version 9 (Mi A1)&gt;).</p>\n<p>Whenever a UI is scrolled or navigated to a different screen, patchy UI glitches will be leftover on the screen.</p>\n<p>Adding screenshot and video for reference.</p>\n<p>Any help would be appriciated!</p>\n<p><a href=\"https://i.stack.imgur.com/ezdLx.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ezdLx.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://drive.google.com/file/d/1ByRm2kCBTeAD4WRSVLDkELT6I_dqvIQ5/view?usp=sharing\" rel=\"nofollow noreferrer\">Screen recording for full detail</a></p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1641203786,"post_id":70564018,"comment_id":124738029,"body_markdown":"what does the rest of the stacktrace say?","body":"what does the rest of the stacktrace say?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1641203839,"post_id":70564018,"comment_id":124738055,"body_markdown":"The stack trace you&#39;ve posted ends at &quot;nested exception&quot; but that nested exception is most likely the relevant portion. Most likely you&#39;re getting some constraint validation that the validator didn&#39;t catch.","body":"The stack trace you&#39;ve posted ends at &quot;nested exception&quot; but that nested exception is most likely the relevant portion. Most likely you&#39;re getting some constraint validation that the validator didn&#39;t catch."},{"owner":{"account_id":23137728,"reputation":33,"user_id":17241732,"display_name":"Alex "},"score":0,"creation_date":1641204043,"post_id":70564018,"comment_id":124738118,"body_markdown":"@Stultuske sorry didnt captured  nested exception is org.hibernate.exception.GenericJDBCException: could not\n\t\tinsert: [com.hramyko.finalapp.entity.User]","body":"@Stultuske sorry didnt captured  nested exception is org.hibernate.exception.GenericJDBCException: could not \t\tinsert: [com.hramyko.finalapp.entity.User]"}],"answers":[{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641204445,"creation_date":1641204445,"answer_id":70564182,"question_id":70564018,"body_markdown":"Your inheritance is funky. You have annotations from conflicting inheritance strategies:\r\n\r\n- Joined table: `@Inheritance(strategy = InheritanceType.JOINED)`\r\n- Single table with discriminator `@DiscriminatorColumn(name = &quot;role_&quot;)`\r\n\r\nSee [Hibernate Inheritance Mapping](https://www.baeldung.com/hibernate-inheritance)\r\n\r\nOn top of that, you are trying to insert the instance from the root of the inheritance hierarchy: `User` while you should be inserting a subclass instead.\r\n","title":"Can&#39;t save entity to databse","body":"<p>Your inheritance is funky. You have annotations from conflicting inheritance strategies:</p>\n<ul>\n<li>Joined table: <code>@Inheritance(strategy = InheritanceType.JOINED)</code></li>\n<li>Single table with discriminator <code>@DiscriminatorColumn(name = &quot;role_&quot;)</code></li>\n</ul>\n<p>See <a href=\"https://www.baeldung.com/hibernate-inheritance\" rel=\"nofollow noreferrer\">Hibernate Inheritance Mapping</a></p>\n<p>On top of that, you are trying to insert the instance from the root of the inheritance hierarchy: <code>User</code> while you should be inserting a subclass instead.</p>\n"}],"owner":{"account_id":23137728,"reputation":33,"user_id":17241732,"display_name":"Alex "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70564182,"answer_count":1,"score":0,"last_activity_date":1641204445,"creation_date":1641203671,"question_id":70564018,"body_markdown":"When I try to save user object to db, i get\r\n\r\n \r\n\r\n    Request processing failed; nested exception is\r\n    \t\torg.springframework.orm.hibernate5.HibernateJdbcException: JDBC exception on Hibernate data access: SQLException\r\n    \t\tfor SQL [insert into users (created_at, email, first_name, last_name, password, role_, status) values (?, ?, ?,\r\n    \t\t?, ?, &amp;#39;User&amp;#39;, ?)]; SQL state [S1009]; error code [0]; could not insert:\r\n    \t\t[com.hramyko.finalapp.entity.User]; nested exception\r\n\r\nBut when i use method save to update existing user all works correctly\r\n\r\nMy User entity\r\n\r\n       package com.hramyko.finalapp.entity;\r\n    \r\n    import org.springframework.format.annotation.DateTimeFormat;\r\n    \r\n    import javax.persistence.*;\r\n    import java.util.Date;\r\n    import java.util.Objects;\r\n    \r\n    @Entity\r\n    @Inheritance(strategy = InheritanceType.JOINED)\r\n    @DiscriminatorColumn(name = &quot;role_&quot;)\r\n    @Table(name = &quot;users&quot;)\r\n    public class User {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        protected int id;\r\n        protected String email;\r\n        protected String password;\r\n        @Column(name = &quot;first_name&quot;)\r\n        protected String firstName;\r\n        @Column(name = &quot;last_name&quot;)\r\n        protected String lastName;\r\n        @DateTimeFormat\r\n        @Column(name = &quot;created_at&quot;)\r\n        protected Date createdAt;\r\n        @Column(name = &quot;role_&quot;)\r\n        @Enumerated(EnumType.STRING)\r\n        protected Role role;\r\n        @Enumerated(EnumType.STRING)\r\n        protected Status status;\r\n\r\n    }\r\n\r\nMy service method\r\n\r\n   \r\n\r\n    @Transactional\r\n        @Override\r\n        public User saveUser(User user) {\r\n            userValidator.validate(user);\r\n            user = userRepository.save(user);\r\n            return user;\r\n        }\r\n\r\nMy repository \r\n\r\n    package com.hramyko.finalapp.repository;\r\n    \r\n    import com.hramyko.finalapp.entity.User;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\r\n        User findUserByEmail(String email);\r\n    }\r\n\r\nDid anyone have a similar problem? I&#39;ve tried everything already. ","title":"Can&#39;t save entity to databse","body":"<p>When I try to save user object to db, i get</p>\n<pre><code>Request processing failed; nested exception is\n        org.springframework.orm.hibernate5.HibernateJdbcException: JDBC exception on Hibernate data access: SQLException\n        for SQL [insert into users (created_at, email, first_name, last_name, password, role_, status) values (?, ?, ?,\n        ?, ?, &amp;#39;User&amp;#39;, ?)]; SQL state [S1009]; error code [0]; could not insert:\n        [com.hramyko.finalapp.entity.User]; nested exception\n</code></pre>\n<p>But when i use method save to update existing user all works correctly</p>\n<p>My User entity</p>\n<pre><code>   package com.hramyko.finalapp.entity;\n\nimport org.springframework.format.annotation.DateTimeFormat;\n\nimport javax.persistence.*;\nimport java.util.Date;\nimport java.util.Objects;\n\n@Entity\n@Inheritance(strategy = InheritanceType.JOINED)\n@DiscriminatorColumn(name = &quot;role_&quot;)\n@Table(name = &quot;users&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    protected int id;\n    protected String email;\n    protected String password;\n    @Column(name = &quot;first_name&quot;)\n    protected String firstName;\n    @Column(name = &quot;last_name&quot;)\n    protected String lastName;\n    @DateTimeFormat\n    @Column(name = &quot;created_at&quot;)\n    protected Date createdAt;\n    @Column(name = &quot;role_&quot;)\n    @Enumerated(EnumType.STRING)\n    protected Role role;\n    @Enumerated(EnumType.STRING)\n    protected Status status;\n\n}\n</code></pre>\n<p>My service method</p>\n<pre><code>@Transactional\n    @Override\n    public User saveUser(User user) {\n        userValidator.validate(user);\n        user = userRepository.save(user);\n        return user;\n    }\n</code></pre>\n<p>My repository</p>\n<pre><code>package com.hramyko.finalapp.repository;\n\nimport com.hramyko.finalapp.entity.User;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\n    User findUserByEmail(String email);\n}\n</code></pre>\n<p>Did anyone have a similar problem? I've tried everything already.</p>\n"},{"tags":["python","java","beautifulsoup","python-requests","jsoup"],"comments":[{"owner":{"account_id":255909,"reputation":2939,"user_id":536262,"accept_rate":58,"display_name":"MortenB"},"score":0,"creation_date":1640637059,"post_id":70500064,"comment_id":124622906,"body_markdown":"`curl.exe &quot;https://cdn.mangaeden.com/mangasimg/d0/d08f07d762acda8a1f004677ab2414b9766a616e20bd92de4e2e44f1.jpg&quot;` gives\nerror code: 1020 (access denied by cloudflare), so probably some caching or cookie token protection in place","body":"<code>curl.exe &quot;https:&#47;&#47;cdn.mangaeden.com&#47;mangasimg&#47;d0&#47;d08f07d762acda8a1f00&zwnj;&#8203;4677ab2414b9766a616e&zwnj;&#8203;20bd92de4e2e44f1.jpg&zwnj;&#8203;&quot;</code> gives error code: 1020 (access denied by cloudflare), so probably some caching or cookie token protection in place"},{"owner":{"account_id":23753392,"reputation":18261,"user_id":17769815,"display_name":"BrokenBenchmark"},"score":0,"creation_date":1640637122,"post_id":70500064,"comment_id":124622917,"body_markdown":"Pasting the URL directly into the browser gives a 403 as well (both using Chrome and using Postman).","body":"Pasting the URL directly into the browser gives a 403 as well (both using Chrome and using Postman)."},{"owner":{"account_id":17167094,"reputation":114,"user_id":12425142,"display_name":"Stefano"},"score":0,"creation_date":1640637325,"post_id":70500064,"comment_id":124622973,"body_markdown":"Well I think is normal Postman/curl doesn&#39;t work, they are exactly the same as request library when the configuration is the same.  My question is: why the browser can display the image? Does it have some different configuration? @BrokenBenchmark","body":"Well I think is normal Postman/curl doesn&#39;t work, they are exactly the same as request library when the configuration is the same.  My question is: why the browser can display the image? Does it have some different configuration? @BrokenBenchmark"},{"owner":{"account_id":23753392,"reputation":18261,"user_id":17769815,"display_name":"BrokenBenchmark"},"score":0,"creation_date":1640637378,"post_id":70500064,"comment_id":124622989,"body_markdown":"Sorry, I should have clarified that I used both Chrome and Postman.","body":"Sorry, I should have clarified that I used both Chrome and Postman."},{"owner":{"account_id":17167094,"reputation":114,"user_id":12425142,"display_name":"Stefano"},"score":0,"creation_date":1640637637,"post_id":70500064,"comment_id":124623048,"body_markdown":"Oh... That was unexpected, so why am I seeing this image? I&#39;ve tried to open the link with different browsers and also devices and it works perfectly. I.e. i sent the same link to my phone and then clicked it","body":"Oh... That was unexpected, so why am I seeing this image? I&#39;ve tried to open the link with different browsers and also devices and it works perfectly. I.e. i sent the same link to my phone and then clicked it"}],"answers":[{"tags":[],"owner":{"account_id":19749081,"reputation":22917,"user_id":14460824,"display_name":"HedgeHog"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640639890,"creation_date":1640638291,"answer_id":70500310,"question_id":70500064,"body_markdown":"### How to fix?\r\n\r\nAdd some &quot;headers&quot; to your request to show that you might be a &quot;browser&quot;, this will give you a `200` as response and you can save the file.\r\n\r\n**Note** *This will also work for postman, just overwrite the hidden user agent and you will get the image as response*\r\n\r\n### Example (python)\r\n\r\n    import requests\r\n    headers ={\r\n        &#39;User-Agent&#39;:&#39;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.114 Safari/537.36&#39;\r\n    }\r\n    url = &quot;https://cdn.mangaeden.com/mangasimg/d0/d08f07d762acda8a1f004677ab2414b9766a616e20bd92de4e2e44f1.jpg&quot;\r\n    res = requests.get(url,headers=headers)\r\n    with open(&quot;image.jpg&quot;, &#39;wb&#39;) as f:\r\n            f.write(res.content)","title":"Retrieving an image gives 403 error while it works with browser","body":"<h3>How to fix?</h3>\n<p>Add some &quot;headers&quot; to your request to show that you might be a &quot;browser&quot;, this will give you a <code>200</code> as response and you can save the file.</p>\n<p><strong>Note</strong> <em>This will also work for postman, just overwrite the hidden user agent and you will get the image as response</em></p>\n<h3>Example (python)</h3>\n<pre><code>import requests\nheaders ={\n    'User-Agent':'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.114 Safari/537.36'\n}\nurl = &quot;https://cdn.mangaeden.com/mangasimg/d0/d08f07d762acda8a1f004677ab2414b9766a616e20bd92de4e2e44f1.jpg&quot;\nres = requests.get(url,headers=headers)\nwith open(&quot;image.jpg&quot;, 'wb') as f:\n        f.write(res.content)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17167094,"reputation":114,"user_id":12425142,"display_name":"Stefano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641204198,"creation_date":1641204198,"answer_id":70564127,"question_id":70500064,"body_markdown":"Someone wrote this answer, but later deleted it, so I will copy the answer in case it can be useful.\r\n\r\n&gt; AFAIK, you can&#39;t download anything else apart from HTML Documents\r\n&gt; using jsoup.\r\n&gt; \r\n&gt; If you open up Developer Tools on your browser, you can get the exact\r\n&gt; request the browser has made. With Chrome, it&#39;s something like this.\r\n&gt; \r\n&gt; The minimal cURL request would in your case be:\r\n&gt; \r\n&gt; ```curl\r\n&gt; &#39;https://cdn.mangaeden.com/mangasimg/aa/aa75d306397d1d11d07d66746dae78a36dc78672ae9e97a08cb7abb4.jpg&#39;\r\n&gt; \\   -H &#39;user-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/535.21\r\n&gt; (KHTML, like Gecko) Chrome/19.0.1042.0 Safari/535.21&#39; \\   --output\r\n&gt; image.jpg;\r\n&gt; ```\r\n\r\n\r\n&gt; You can refer to HedgeHog&#39;s answer for a sample Python\r\n&gt; solution; here&#39;s how to achieve the same in Java using the new HTTP\r\n&gt; Client:\r\n&gt; \r\n&gt; ```\r\n&gt; import java.net.URI; import java.net.http.HttpClient; import\r\n&gt; java.net.http.HttpRequest; import\r\n&gt; java.net.http.HttpResponse.BodyHandlers; import java.nio.file.Path;\r\n&gt; import java.nio.file.Paths;\r\n&gt; \r\n&gt; public class ImageDownload {\r\n&gt;     public static void main(String[] args) throws Exception {\r\n&gt;         HttpClient client = HttpClient.newHttpClient();\r\n&gt;         HttpRequest request = HttpRequest.newBuilder()\r\n&gt;             .uri(URI.create(&quot;https://cdn.mangaeden.com/mangasimg/aa/aa75d306397d1d11d07d66746dae78a36dc78672ae9e97a08cb7abb4.jpg&quot;))\r\n&gt;             .header(&quot;user-agent&quot;, &quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/535.21 (KHTML, like Gecko) Chrome/19.0.1042.0\r\n&gt; Safari/535.21&quot;)\r\n&gt;             .build();\r\n&gt;         client.send(request, BodyHandlers.ofFile(Paths.get(&quot;image.jpg&quot;)));\r\n&gt;     } }\r\n\r\nI adopted this solution in my java code.\r\nAlso, one last bit, if the image is downloaded but you can&#39;t open it, it is probably due to a 503 error code in the request, in this case you will just have to perform the request again. You can recognize broken images because the image reader will say something like \r\n\r\n&gt; Not a JPEG file: starts with ```0x3c 0x68```\r\n\r\nwhich is ```&lt;h```, an HTML error page instead of the image","title":"Retrieving an image gives 403 error while it works with browser","body":"<p>Someone wrote this answer, but later deleted it, so I will copy the answer in case it can be useful.</p>\n<blockquote>\n<p>AFAIK, you can't download anything else apart from HTML Documents\nusing jsoup.</p>\n<p>If you open up Developer Tools on your browser, you can get the exact\nrequest the browser has made. With Chrome, it's something like this.</p>\n<p>The minimal cURL request would in your case be:</p>\n<pre><code>'https://cdn.mangaeden.com/mangasimg/aa/aa75d306397d1d11d07d66746dae78a36dc78672ae9e97a08cb7abb4.jpg'\n\\   -H 'user-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/535.21\n(KHTML, like Gecko) Chrome/19.0.1042.0 Safari/535.21' \\   --output\nimage.jpg;\n</code></pre>\n</blockquote>\n<blockquote>\n<p>You can refer to HedgeHog's answer for a sample Python\nsolution; here's how to achieve the same in Java using the new HTTP\nClient:</p>\n<pre><code>import java.net.URI; import java.net.http.HttpClient; import\njava.net.http.HttpRequest; import\njava.net.http.HttpResponse.BodyHandlers; import java.nio.file.Path;\nimport java.nio.file.Paths;\n\npublic class ImageDownload {\n    public static void main(String[] args) throws Exception {\n        HttpClient client = HttpClient.newHttpClient();\n        HttpRequest request = HttpRequest.newBuilder()\n            .uri(URI.create(&quot;https://cdn.mangaeden.com/mangasimg/aa/aa75d306397d1d11d07d66746dae78a36dc78672ae9e97a08cb7abb4.jpg&quot;))\n            .header(&quot;user-agent&quot;, &quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/535.21 (KHTML, like Gecko) Chrome/19.0.1042.0\nSafari/535.21&quot;)\n            .build();\n        client.send(request, BodyHandlers.ofFile(Paths.get(&quot;image.jpg&quot;)));\n    } }\n</code></pre>\n</blockquote>\n<p>I adopted this solution in my java code.\nAlso, one last bit, if the image is downloaded but you can't open it, it is probably due to a 503 error code in the request, in this case you will just have to perform the request again. You can recognize broken images because the image reader will say something like</p>\n<blockquote>\n<p>Not a JPEG file: starts with <code>0x3c 0x68</code></p>\n</blockquote>\n<p>which is <code>&lt;h</code>, an HTML error page instead of the image</p>\n"}],"owner":{"account_id":17167094,"reputation":114,"user_id":12425142,"display_name":"Stefano"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1687,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70500310,"answer_count":2,"score":0,"last_activity_date":1641204198,"creation_date":1640636554,"question_id":70500064,"body_markdown":"Hi i&#39;m trying to build a manga downloader app, for this reason I&#39;m scraping several sites, however I have a problem once I get the image URL.\r\nI can see the image using my browser (chrome), I can also download it, however I can&#39;t do the same using any popular scripting library.\r\n\r\nHere is what I&#39;ve tried:\r\n\r\n```\r\nString imgSrc = &quot;https://cdn.mangaeden.com/mangasimg/aa/aa75d306397d1d11d07d66746dae78a36dc78672ae9e97a08cb7abb4.jpg&quot;\r\nConnection.Response resultImageResponse = Jsoup.connect(imgSrc)\r\n                    .userAgent(\r\n                            &quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/535.21 (KHTML, like Gecko) Chrome/19.0.1042.0 Safari/535.21&quot;)\r\n                    .referrer(&quot;none&quot;).execute();\r\n\r\n// output here\r\nOutputStreamWriter out = new OutputStreamWriter(new FileOutputStream(new java.io.File(String.valueOf(imgPath))));\r\nout.write(resultImageResponse.body());          // resultImageResponse.body() is where the image&#39;s contents are.\r\nout.close();\r\n```\r\n\r\nI&#39;ve also tried this:\r\n```\r\nURL imgUrl = new URL(imgSrc);\r\nFiles.copy(imgUrl.openStream(), imgPath);\r\n```\r\n\r\nLastly, since I was sure the link works I&#39;ve tried to download the image using python, but also in this case I get a 403 error\r\n```\r\nimport requests\r\nbase_url = &quot;https://cdn.mangaeden.com/mangasimg/d0/d08f07d762acda8a1f004677ab2414b9766a616e20bd92de4e2e44f1.jpg&quot;\r\nres = requests.get(url)\r\n```\r\n\r\ngoogling I found this &lt;https://stackoverflow.com/questions/52377765/unable-to-get-image-url-in-mangaeden-api-angular-6&gt; which seems really close to my problem, however I don&#39;t understand if I&#39;m setting wrong the referrer or it doesn&#39;t work at all...\r\n\r\nDo you have any tips? \r\nThank you!","title":"Retrieving an image gives 403 error while it works with browser","body":"<p>Hi i'm trying to build a manga downloader app, for this reason I'm scraping several sites, however I have a problem once I get the image URL.\nI can see the image using my browser (chrome), I can also download it, however I can't do the same using any popular scripting library.</p>\n<p>Here is what I've tried:</p>\n<pre><code>String imgSrc = &quot;https://cdn.mangaeden.com/mangasimg/aa/aa75d306397d1d11d07d66746dae78a36dc78672ae9e97a08cb7abb4.jpg&quot;\nConnection.Response resultImageResponse = Jsoup.connect(imgSrc)\n                    .userAgent(\n                            &quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/535.21 (KHTML, like Gecko) Chrome/19.0.1042.0 Safari/535.21&quot;)\n                    .referrer(&quot;none&quot;).execute();\n\n// output here\nOutputStreamWriter out = new OutputStreamWriter(new FileOutputStream(new java.io.File(String.valueOf(imgPath))));\nout.write(resultImageResponse.body());          // resultImageResponse.body() is where the image's contents are.\nout.close();\n</code></pre>\n<p>I've also tried this:</p>\n<pre><code>URL imgUrl = new URL(imgSrc);\nFiles.copy(imgUrl.openStream(), imgPath);\n</code></pre>\n<p>Lastly, since I was sure the link works I've tried to download the image using python, but also in this case I get a 403 error</p>\n<pre><code>import requests\nbase_url = &quot;https://cdn.mangaeden.com/mangasimg/d0/d08f07d762acda8a1f004677ab2414b9766a616e20bd92de4e2e44f1.jpg&quot;\nres = requests.get(url)\n</code></pre>\n<p>googling I found this <a href=\"https://stackoverflow.com/questions/52377765/unable-to-get-image-url-in-mangaeden-api-angular-6\">Unable to get image url in Mangaeden API Angular 6</a> which seems really close to my problem, however I don't understand if I'm setting wrong the referrer or it doesn't work at all...</p>\n<p>Do you have any tips?\nThank you!</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1641203627,"post_id":70563969,"comment_id":124737975,"body_markdown":"See this question : https://stackoverflow.com/questions/32587551/how-to-make-requestparam-configurable-through-properties-file","body":"See this question : <a href=\"https://stackoverflow.com/questions/32587551/how-to-make-requestparam-configurable-through-properties-file\" title=\"how to make requestparam configurable through properties file\">stackoverflow.com/questions/32587551/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":19455899,"reputation":4325,"user_id":14231239,"display_name":"dm_tr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641204075,"creation_date":1641204075,"answer_id":70564102,"question_id":70563969,"body_markdown":"Declare your `defaultValue` as a controller variable like this  \r\n\r\n```\r\n@Value(&quot;${variable.name.in.app.properties}&quot;)\r\nprivate String myDefaultValue;\r\n```\r\n\r\nThen, in your controller action, assign it like this  \r\n\r\n```\r\n@ResponseBody\r\npublic void test(@RequestParam(name=&quot;testValue&quot;, defaultValue = myDefaultValue))\r\n```","title":"Spring Boot: Set defaultValue in RequestParam to a value in application.properties?","body":"<p>Declare your <code>defaultValue</code> as a controller variable like this</p>\n<pre><code>@Value(&quot;${variable.name.in.app.properties}&quot;)\nprivate String myDefaultValue;\n</code></pre>\n<p>Then, in your controller action, assign it like this</p>\n<pre><code>@ResponseBody\npublic void test(@RequestParam(name=&quot;testValue&quot;, defaultValue = myDefaultValue))\n</code></pre>\n"}],"owner":{"account_id":22259865,"reputation":139,"user_id":16491467,"display_name":"Akcore"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1423,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"closed_date":1641204389,"answer_count":1,"score":5,"last_activity_date":1641204075,"creation_date":1641203418,"question_id":70563969,"body_markdown":"Is there a way to set the defaultValue to a value from the application.properties file?\r\n\r\n    @ResponseBody\r\n    public void test(@RequestParam(name=&quot;testValue&quot;, defaultValue = &lt;something from application.properties&gt;))","title":"Spring Boot: Set defaultValue in RequestParam to a value in application.properties?","body":"<p>Is there a way to set the defaultValue to a value from the application.properties file?</p>\n<pre><code>@ResponseBody\npublic void test(@RequestParam(name=&quot;testValue&quot;, defaultValue = &lt;something from application.properties&gt;))\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":20303661,"reputation":455,"user_id":14992173,"display_name":"Qbi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641203759,"creation_date":1641203759,"question_id":70564036,"body_markdown":"Very strange thing. I found out that when I do `spEditor.putBoolean(&quot;closePxCmInfo&quot;, false).apply();` then an error occurs like that:\r\n\r\n    2022-01-03 10:47:39.761 3821-3917/? E/ViewRootImpl@6827b15[mierzenieopencv]: Surface is not valid.\r\n    2022-01-03 10:47:39.774 3821-3917/? E/ViewRootImpl@f395385[mierzenieopencv]: Surface is not valid.\r\n    2022-01-03 10:47:39.792 3821-3917/? E/ViewRootImpl@24f27f5[mierzenieopencv]: Surface is not valid.\r\n    2022-01-03 10:47:39.820 13383-13710/pl.jawegiel.mierzenieopencv E/OpenCV/StaticHelper: OpenCV error: Cannot load info library for OpenCV\r\n    2022-01-03 10:47:39.824 3335-3449/? E/BufferQueueProducer: [Splash Screen pl.jawegiel.mierzenieopencv[13383]#0] connect: BufferQueue has been abandoned\r\n    2022-01-03 10:47:39.824 3821-3917/? E/ViewRootImpl@4fd5d5c[mierzenieopencv]: Could not lock surface\r\n        java.lang.IllegalArgumentException\r\n            at android.view.Surface.nativeLockCanvas(Native Method)\r\n            at android.view.Surface.lockCanvas(Surface.java:345)\r\n            at android.view.ViewRootImpl.drawSoftware(ViewRootImpl.java:4018)\r\n            at android.view.ViewRootImpl.draw(ViewRootImpl.java:3979)\r\n            at android.view.ViewRootImpl.performDraw(ViewRootImpl.java:3721)\r\n            at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:3029)\r\n            at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1888)\r\n            at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:8511)\r\n            at android.view.Choreographer$CallbackRecord.run(Choreographer.java:949)\r\n            at android.view.Choreographer.doCallbacks(Choreographer.java:761)\r\n            at android.view.Choreographer.doFrame(Choreographer.java:696)\r\n            at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:935)\r\n            at android.os.Handler.handleCallback(Handler.java:873)\r\n            at android.os.Handler.dispatchMessage(Handler.java:99)\r\n            at android.os.Looper.loop(Looper.java:214)\r\n            at android.os.HandlerThread.run(HandlerThread.java:65)\r\n            at com.android.server.ServiceThread.run(Unknown Source:12)\r\n\r\nIt has nothing to do with my lauout I tested it out. The problem is with this line that I mentioned about putting shared preference.\r\n\r\nHere is my code:\r\n\r\nStages.java\r\n\r\n    public class Stages extends BaseActivity {\r\n\r\n    private final Stage0StageFragment stageZeroFragment = new Stage0StageFragment();\r\n    private final Stage1StageFragment stageOneFragment = new Stage1StageFragment();\r\n    private final Stage2StageFragment stageTwoFragment = new Stage2StageFragment();\r\n    private final Stage3StageFragment stageThreeFragment = new Stage3StageFragment();\r\n\r\n    private BottomNavigationView bottomNavView;\r\n    private int startingPosition, newPosition;\r\n    OnSwitchFragmentFromStageTwo onSwitchFragmentFromStageTwo;\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        Util.setThemeBasedOnPrefs(this);\r\n        setContentView(R.layout.stages);\r\n\r\n        spEditor.putBoolean(&quot;closePxCmInfo&quot;, false).apply();          // HERE IS THE PROBLEM\r\n\r\n        bottomNavView = findViewById(R.id.bottom_navigation);\r\n        bottomNavView.setItemIconTintList(null);\r\n        bottomNavView.setOnNavigationItemSelectedListener(item -&gt; {\r\n\r\n            if (bottomNavView.getSelectedItemId() == R.id.navigation_stage_zero) {\r\n                if (!sp.getBoolean(&quot;correctionDone&quot;, false)) {\r\n                    AlertDialog alertDialog = Util.createAlertDialog(Stages.this, android.R.drawable.ic_dialog_info, R.string.hide_dialog_title, getString(R.string.stage_zero_confirmation), (dialog, which) -&gt; {\r\n                        spEditor.putBoolean(&quot;correctionDone&quot;, true).apply();\r\n                        bottomNavView.setSelectedItemId(item.getItemId());\r\n                        showFragment(item.getItemId());\r\n                    });\r\n                    alertDialog.setOnShowListener(arg0 -&gt; setAlertDialogButtonsAttributes(alertDialog));\r\n                    alertDialog.show();\r\n                    return false;\r\n                } else {\r\n                    showFragment(item.getItemId());\r\n                    return true;\r\n                }\r\n            } else if (bottomNavView.getSelectedItemId() == R.id.navigation_stage_two) {\r\n                try {\r\n                    if (onSwitchFragmentFromStageTwo.onSwitchFragmentFromFragmentTwo() &lt;= 0.5 &amp;&amp; !sp.contains(&quot;closePxCmInfo&quot;)) {\r\n                        AlertDialog ad = Util.createAlertDialog(Stages.this, android.R.drawable.ic_dialog_alert, R.string.hide_dialog_title_alert, getResources().getString(R.string.benchmark_not_drawn), (dialog, which) -&gt; {\r\n                            spEditor.putBoolean(&quot;closePxCmInfo&quot;, true).apply();\r\n                            bottomNavView.setSelectedItemId(item.getItemId());\r\n\r\n                            showFragment(item.getItemId());\r\n                        });\r\n                        ad.setOnShowListener(arg0 -&gt; setAlertDialogButtonsAttributes(ad));\r\n                        ad.show();\r\n\r\n                        return false;\r\n                    } else {\r\n                        showFragment(item.getItemId());\r\n                        return true;\r\n                    }\r\n                } catch (PackageManager.NameNotFoundException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            } else {\r\n                showFragment(item.getItemId());\r\n            }\r\n            return true;\r\n        });\r\n        FragmentTransaction ft = getSupportFragmentManager().beginTransaction();\r\n        if (!sp.getBoolean(&quot;correctionDone&quot;, false))\r\n            ft.replace(R.id.content_frame, stageZeroFragment);\r\n        else {\r\n            ft.replace(R.id.content_frame, stageOneFragment);\r\n            bottomNavView.setSelectedItemId(R.id.navigation_stage_one);\r\n        }\r\n        ft.commit();\r\n    }\r\n\r\n    @Override\r\n    BaseActivity getActivity() {\r\n        return this;\r\n    }\r\n\r\n    private void setAlertDialogButtonsAttributes(AlertDialog alertDialog2) {\r\n        alertDialog2.getButton(DialogInterface.BUTTON_NEGATIVE).setBackground(AppCompatResources.getDrawable(this, R.drawable.button_selector));\r\n        alertDialog2.getButton(DialogInterface.BUTTON_POSITIVE).setBackground(AppCompatResources.getDrawable(this, R.drawable.button_selector));\r\n        LayoutParams params = new LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.WRAP_CONTENT, 1.0f);\r\n        params.setMargins(10, 0, 10, 0);\r\n        alertDialog2.getButton(DialogInterface.BUTTON_NEGATIVE).setLayoutParams(params);\r\n        alertDialog2.getButton(DialogInterface.BUTTON_POSITIVE).setLayoutParams(params);\r\n    }\r\n\r\n    public void showFragment(int viewId) {\r\n        Fragment fragment = null;\r\n\r\n        switch (viewId) {\r\n            case R.id.navigation_stage_zero:\r\n                if (bottomNavView.getSelectedItemId() != R.id.navigation_stage_zero) {\r\n                    fragment = stageZeroFragment;\r\n                    newPosition = 0;\r\n                }\r\n                break;\r\n            case R.id.navigation_stage_one:\r\n                if (bottomNavView.getSelectedItemId() != R.id.navigation_stage_one) {\r\n                    fragment = stageOneFragment;\r\n                    newPosition = 1;\r\n                }\r\n                break;\r\n            case R.id.navigation_stage_two:\r\n                if (bottomNavView.getSelectedItemId() != R.id.navigation_stage_two) {\r\n                    fragment = stageTwoFragment;\r\n                    newPosition = 2;\r\n                }\r\n                break;\r\n            case R.id.navigation_stage_three:\r\n                if (bottomNavView.getSelectedItemId() != R.id.navigation_stage_three) {\r\n                    fragment = stageThreeFragment;\r\n                    newPosition = 3;\r\n                }\r\n                break;\r\n        }\r\n\r\n        if (fragment != null) {\r\n            if (startingPosition &gt; newPosition) {\r\n                getSupportFragmentManager()\r\n                        .beginTransaction()\r\n                        .setCustomAnimations(R.anim.slide_in_left, R.anim.slide_out_right)\r\n                        .replace(R.id.content_frame, fragment).commit();\r\n            }\r\n            if (startingPosition &lt; newPosition) {\r\n                getSupportFragmentManager()\r\n                        .beginTransaction()\r\n                        .setCustomAnimations(R.anim.slide_in_right, R.anim.slide_out_left)\r\n                        .replace(R.id.content_frame, fragment).commit();\r\n            }\r\n\r\n            startingPosition = newPosition;\r\n        }\r\n    }\r\n    }\r\n\r\n\r\nBaseActivity.java\r\n\r\n    public abstract class BaseActivity extends AppCompatActivity {\r\n\r\n    SharedPreferences sp;\r\n    SharedPreferences.Editor spEditor;\r\n    BaseActivity childActivity;\r\n\r\n    @Override\r\n    @SuppressWarnings(&quot;CommitPrefEdits&quot;)\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        sp = PreferenceManager.getDefaultSharedPreferences(BaseActivity.this);\r\n        spEditor = sp.edit();\r\n        childActivity = getActivity();\r\n\r\n        if(childActivity instanceof MainActivity)\r\n            MobileAds.initialize(this, initializationStatus -&gt; {});\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        if (childActivity instanceof Stages) {\r\n            spEditor.putFloat(&quot;px_cm&quot;, 0f);\r\n            spEditor.putFloat(&quot;rozmiar_px&quot;, 0f);\r\n            spEditor.putFloat(&quot;rozmiar_px_x&quot;, (float) 0f);\r\n            spEditor.putFloat(&quot;rozmiar_px_y&quot;, (float) 0f);\r\n            spEditor.apply();\r\n        }\r\n        super.onPause();\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        if (childActivity instanceof Stages) {\r\n            getMenuInflater().inflate(R.menu.main, menu);\r\n        }\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n        if (childActivity instanceof Stages)\r\n            return Util.onOptionsItemSelected(this, item);\r\n        else\r\n            return false;\r\n    }\r\n\r\n        @Override\r\n        public void onBackPressed() {\r\n            if (childActivity instanceof Stages) {\r\n                Intent intent = new Intent(childActivity, MainActivity.class);\r\n    //            intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n                intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n                startActivity(intent);\r\n            }\r\n            super.onBackPressed();\r\n        }\r\n\r\n    abstract BaseActivity getActivity();\r\n    }\r\n\r\nHelp me please!","title":"Android could not lock surface when puting shared preferences","body":"<p>Very strange thing. I found out that when I do <code>spEditor.putBoolean(&quot;closePxCmInfo&quot;, false).apply();</code> then an error occurs like that:</p>\n<pre><code>2022-01-03 10:47:39.761 3821-3917/? E/ViewRootImpl@6827b15[mierzenieopencv]: Surface is not valid.\n2022-01-03 10:47:39.774 3821-3917/? E/ViewRootImpl@f395385[mierzenieopencv]: Surface is not valid.\n2022-01-03 10:47:39.792 3821-3917/? E/ViewRootImpl@24f27f5[mierzenieopencv]: Surface is not valid.\n2022-01-03 10:47:39.820 13383-13710/pl.jawegiel.mierzenieopencv E/OpenCV/StaticHelper: OpenCV error: Cannot load info library for OpenCV\n2022-01-03 10:47:39.824 3335-3449/? E/BufferQueueProducer: [Splash Screen pl.jawegiel.mierzenieopencv[13383]#0] connect: BufferQueue has been abandoned\n2022-01-03 10:47:39.824 3821-3917/? E/ViewRootImpl@4fd5d5c[mierzenieopencv]: Could not lock surface\n    java.lang.IllegalArgumentException\n        at android.view.Surface.nativeLockCanvas(Native Method)\n        at android.view.Surface.lockCanvas(Surface.java:345)\n        at android.view.ViewRootImpl.drawSoftware(ViewRootImpl.java:4018)\n        at android.view.ViewRootImpl.draw(ViewRootImpl.java:3979)\n        at android.view.ViewRootImpl.performDraw(ViewRootImpl.java:3721)\n        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:3029)\n        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1888)\n        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:8511)\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:949)\n        at android.view.Choreographer.doCallbacks(Choreographer.java:761)\n        at android.view.Choreographer.doFrame(Choreographer.java:696)\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:935)\n        at android.os.Handler.handleCallback(Handler.java:873)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.os.HandlerThread.run(HandlerThread.java:65)\n        at com.android.server.ServiceThread.run(Unknown Source:12)\n</code></pre>\n<p>It has nothing to do with my lauout I tested it out. The problem is with this line that I mentioned about putting shared preference.</p>\n<p>Here is my code:</p>\n<p>Stages.java</p>\n<pre><code>public class Stages extends BaseActivity {\n\nprivate final Stage0StageFragment stageZeroFragment = new Stage0StageFragment();\nprivate final Stage1StageFragment stageOneFragment = new Stage1StageFragment();\nprivate final Stage2StageFragment stageTwoFragment = new Stage2StageFragment();\nprivate final Stage3StageFragment stageThreeFragment = new Stage3StageFragment();\n\nprivate BottomNavigationView bottomNavView;\nprivate int startingPosition, newPosition;\nOnSwitchFragmentFromStageTwo onSwitchFragmentFromStageTwo;\n\n@Override\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    Util.setThemeBasedOnPrefs(this);\n    setContentView(R.layout.stages);\n\n    spEditor.putBoolean(&quot;closePxCmInfo&quot;, false).apply();          // HERE IS THE PROBLEM\n\n    bottomNavView = findViewById(R.id.bottom_navigation);\n    bottomNavView.setItemIconTintList(null);\n    bottomNavView.setOnNavigationItemSelectedListener(item -&gt; {\n\n        if (bottomNavView.getSelectedItemId() == R.id.navigation_stage_zero) {\n            if (!sp.getBoolean(&quot;correctionDone&quot;, false)) {\n                AlertDialog alertDialog = Util.createAlertDialog(Stages.this, android.R.drawable.ic_dialog_info, R.string.hide_dialog_title, getString(R.string.stage_zero_confirmation), (dialog, which) -&gt; {\n                    spEditor.putBoolean(&quot;correctionDone&quot;, true).apply();\n                    bottomNavView.setSelectedItemId(item.getItemId());\n                    showFragment(item.getItemId());\n                });\n                alertDialog.setOnShowListener(arg0 -&gt; setAlertDialogButtonsAttributes(alertDialog));\n                alertDialog.show();\n                return false;\n            } else {\n                showFragment(item.getItemId());\n                return true;\n            }\n        } else if (bottomNavView.getSelectedItemId() == R.id.navigation_stage_two) {\n            try {\n                if (onSwitchFragmentFromStageTwo.onSwitchFragmentFromFragmentTwo() &lt;= 0.5 &amp;&amp; !sp.contains(&quot;closePxCmInfo&quot;)) {\n                    AlertDialog ad = Util.createAlertDialog(Stages.this, android.R.drawable.ic_dialog_alert, R.string.hide_dialog_title_alert, getResources().getString(R.string.benchmark_not_drawn), (dialog, which) -&gt; {\n                        spEditor.putBoolean(&quot;closePxCmInfo&quot;, true).apply();\n                        bottomNavView.setSelectedItemId(item.getItemId());\n\n                        showFragment(item.getItemId());\n                    });\n                    ad.setOnShowListener(arg0 -&gt; setAlertDialogButtonsAttributes(ad));\n                    ad.show();\n\n                    return false;\n                } else {\n                    showFragment(item.getItemId());\n                    return true;\n                }\n            } catch (PackageManager.NameNotFoundException e) {\n                e.printStackTrace();\n            }\n        } else {\n            showFragment(item.getItemId());\n        }\n        return true;\n    });\n    FragmentTransaction ft = getSupportFragmentManager().beginTransaction();\n    if (!sp.getBoolean(&quot;correctionDone&quot;, false))\n        ft.replace(R.id.content_frame, stageZeroFragment);\n    else {\n        ft.replace(R.id.content_frame, stageOneFragment);\n        bottomNavView.setSelectedItemId(R.id.navigation_stage_one);\n    }\n    ft.commit();\n}\n\n@Override\nBaseActivity getActivity() {\n    return this;\n}\n\nprivate void setAlertDialogButtonsAttributes(AlertDialog alertDialog2) {\n    alertDialog2.getButton(DialogInterface.BUTTON_NEGATIVE).setBackground(AppCompatResources.getDrawable(this, R.drawable.button_selector));\n    alertDialog2.getButton(DialogInterface.BUTTON_POSITIVE).setBackground(AppCompatResources.getDrawable(this, R.drawable.button_selector));\n    LayoutParams params = new LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.WRAP_CONTENT, 1.0f);\n    params.setMargins(10, 0, 10, 0);\n    alertDialog2.getButton(DialogInterface.BUTTON_NEGATIVE).setLayoutParams(params);\n    alertDialog2.getButton(DialogInterface.BUTTON_POSITIVE).setLayoutParams(params);\n}\n\npublic void showFragment(int viewId) {\n    Fragment fragment = null;\n\n    switch (viewId) {\n        case R.id.navigation_stage_zero:\n            if (bottomNavView.getSelectedItemId() != R.id.navigation_stage_zero) {\n                fragment = stageZeroFragment;\n                newPosition = 0;\n            }\n            break;\n        case R.id.navigation_stage_one:\n            if (bottomNavView.getSelectedItemId() != R.id.navigation_stage_one) {\n                fragment = stageOneFragment;\n                newPosition = 1;\n            }\n            break;\n        case R.id.navigation_stage_two:\n            if (bottomNavView.getSelectedItemId() != R.id.navigation_stage_two) {\n                fragment = stageTwoFragment;\n                newPosition = 2;\n            }\n            break;\n        case R.id.navigation_stage_three:\n            if (bottomNavView.getSelectedItemId() != R.id.navigation_stage_three) {\n                fragment = stageThreeFragment;\n                newPosition = 3;\n            }\n            break;\n    }\n\n    if (fragment != null) {\n        if (startingPosition &gt; newPosition) {\n            getSupportFragmentManager()\n                    .beginTransaction()\n                    .setCustomAnimations(R.anim.slide_in_left, R.anim.slide_out_right)\n                    .replace(R.id.content_frame, fragment).commit();\n        }\n        if (startingPosition &lt; newPosition) {\n            getSupportFragmentManager()\n                    .beginTransaction()\n                    .setCustomAnimations(R.anim.slide_in_right, R.anim.slide_out_left)\n                    .replace(R.id.content_frame, fragment).commit();\n        }\n\n        startingPosition = newPosition;\n    }\n}\n}\n</code></pre>\n<p>BaseActivity.java</p>\n<pre><code>public abstract class BaseActivity extends AppCompatActivity {\n\nSharedPreferences sp;\nSharedPreferences.Editor spEditor;\nBaseActivity childActivity;\n\n@Override\n@SuppressWarnings(&quot;CommitPrefEdits&quot;)\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    sp = PreferenceManager.getDefaultSharedPreferences(BaseActivity.this);\n    spEditor = sp.edit();\n    childActivity = getActivity();\n\n    if(childActivity instanceof MainActivity)\n        MobileAds.initialize(this, initializationStatus -&gt; {});\n}\n\n@Override\nprotected void onPause() {\n    if (childActivity instanceof Stages) {\n        spEditor.putFloat(&quot;px_cm&quot;, 0f);\n        spEditor.putFloat(&quot;rozmiar_px&quot;, 0f);\n        spEditor.putFloat(&quot;rozmiar_px_x&quot;, (float) 0f);\n        spEditor.putFloat(&quot;rozmiar_px_y&quot;, (float) 0f);\n        spEditor.apply();\n    }\n    super.onPause();\n}\n\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    if (childActivity instanceof Stages) {\n        getMenuInflater().inflate(R.menu.main, menu);\n    }\n    return true;\n}\n\n@Override\npublic boolean onOptionsItemSelected(@NonNull MenuItem item) {\n    if (childActivity instanceof Stages)\n        return Util.onOptionsItemSelected(this, item);\n    else\n        return false;\n}\n\n    @Override\n    public void onBackPressed() {\n        if (childActivity instanceof Stages) {\n            Intent intent = new Intent(childActivity, MainActivity.class);\n//            intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n            intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n            intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK);\n            startActivity(intent);\n        }\n        super.onBackPressed();\n    }\n\nabstract BaseActivity getActivity();\n}\n</code></pre>\n<p>Help me please!</p>\n"},{"tags":["java","spring-boot","jakarta-mail"],"comments":[{"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"score":1,"creation_date":1641199998,"post_id":70563335,"comment_id":124736899,"body_markdown":"Does this answer your question? [sender&#39;s address displayed rather than his name while sending with SimpleMailMessage in java](https://stackoverflow.com/questions/32941673/senders-address-displayed-rather-than-his-name-while-sending-with-simplemailmes)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/32941673/senders-address-displayed-rather-than-his-name-while-sending-with-simplemailmes\">sender&#39;s address displayed rather than his name while sending with SimpleMailMessage in java</a>"}],"answers":[{"tags":[],"owner":{"account_id":5777609,"reputation":70,"user_id":4559261,"display_name":"Jmartnz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641200093,"creation_date":1641200093,"answer_id":70563420,"question_id":70563335,"body_markdown":"As you can read on the [API docs from Spring][1], you should use a different class:\r\n&quot;Consider JavaMailSender and JavaMail MimeMessages for creating more sophisticated messages, for example messages with attachments, special character encodings, or **personal names that accompany mail addresses**.&quot;\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/mail/SimpleMailMessage.html","title":"Need to show a specific name instead of username as display name to mail send via Spring boot smtp?","body":"<p>As you can read on the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/mail/SimpleMailMessage.html\" rel=\"nofollow noreferrer\">API docs from Spring</a>, you should use a different class:\n&quot;Consider JavaMailSender and JavaMail MimeMessages for creating more sophisticated messages, for example messages with attachments, special character encodings, or <strong>personal names that accompany mail addresses</strong>.&quot;</p>\n"},{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1641203549,"creation_date":1641203226,"answer_id":70563936,"question_id":70563335,"body_markdown":"`SimpleMailMessage` does not support that function. You have to use another class that does. A good alternative would be [`MimeMessageHelper`][1]. It is pretty straightforward to use and supports more functionalities.\r\n\r\nHere is a simple example\r\n\r\nFirst of all, a `MailSender` object is required. You could create one or create a bean out of it:\r\n\r\n```java\r\nJavaMailSenderImpl mailSender = new JavaMailSenderImpl();\r\nmailSender.setHost(&quot;smtp.gmail.com&quot;);\r\nmailSender.setPort(587);\r\n\r\nmailSender.setUsername(&quot;my.gmail@gmail.com&quot;);\r\nmailSender.setPassword(&quot;password&quot;);\r\n\r\nProperties props = mailSender.getJavaMailProperties();\r\nprops.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\nprops.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\nprops.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\nprops.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n\r\n```\r\n\r\nThen send the message:\r\n\r\n```java\r\nMimeMessagePreparator mailMessage = mimeMessage -&gt; {\r\n\r\n\tMimeMessageHelper message = new MimeMessageHelper(\r\n\t\t\tmimeMessage, true, StandardCharsets.UTF_8);\r\n\ttry {\r\n\t\tmessage.setFrom(senderEmail, senderName); // Here comes your name\r\n\t\t\r\n\t\tmessage.addTo(recipientEmail);\t\r\n\r\n\t\t\r\n\t\tmessage.setReplyTo(senderEmail);\r\n\t\tmessage.setSubject(subject);\r\n\t\tmessage.setText(fallbackTextContent, htmlContent);\r\n\t\t\r\n\t} catch (Exception e) {\r\n\t\tthrow new MailDeliveryServiceException(recipientEmail, e);\r\n\t}\r\n};\r\n\r\nmailSender.send(mailMessage);\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/mail/javamail/MimeMessageHelper.html","title":"Need to show a specific name instead of username as display name to mail send via Spring boot smtp?","body":"<p><code>SimpleMailMessage</code> does not support that function. You have to use another class that does. A good alternative would be <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/mail/javamail/MimeMessageHelper.html\" rel=\"nofollow noreferrer\"><code>MimeMessageHelper</code></a>. It is pretty straightforward to use and supports more functionalities.</p>\n<p>Here is a simple example</p>\n<p>First of all, a <code>MailSender</code> object is required. You could create one or create a bean out of it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\nmailSender.setHost(&quot;smtp.gmail.com&quot;);\nmailSender.setPort(587);\n\nmailSender.setUsername(&quot;my.gmail@gmail.com&quot;);\nmailSender.setPassword(&quot;password&quot;);\n\nProperties props = mailSender.getJavaMailProperties();\nprops.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\nprops.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\nprops.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\nprops.put(&quot;mail.debug&quot;, &quot;true&quot;);\n\n</code></pre>\n<p>Then send the message:</p>\n<pre class=\"lang-java prettyprint-override\"><code>MimeMessagePreparator mailMessage = mimeMessage -&gt; {\n\n    MimeMessageHelper message = new MimeMessageHelper(\n            mimeMessage, true, StandardCharsets.UTF_8);\n    try {\n        message.setFrom(senderEmail, senderName); // Here comes your name\n        \n        message.addTo(recipientEmail);  \n\n        \n        message.setReplyTo(senderEmail);\n        message.setSubject(subject);\n        message.setText(fallbackTextContent, htmlContent);\n        \n    } catch (Exception e) {\n        throw new MailDeliveryServiceException(recipientEmail, e);\n    }\n};\n\nmailSender.send(mailMessage);\n</code></pre>\n"}],"owner":{"account_id":16046331,"reputation":31,"user_id":11581348,"display_name":"Maheen N"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1150,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70563936,"answer_count":2,"score":2,"last_activity_date":1641203549,"creation_date":1641199569,"question_id":70563335,"body_markdown":"     SimpleMailMessage message = new SimpleMailMessage();\r\n            message.setFrom(&quot;abcd@gmail.com&quot;);\r\n            message.setTo(recipients);\r\n            message.setSubject(&quot;SERVICE DOWN&quot;);\r\n            message.setText(&quot;.............&quot;);\r\n            mailSender.send(message);\r\n\r\nWhen using this, username is showing as display name. I want custom name like &quot;SUPPORT&quot;?","title":"Need to show a specific name instead of username as display name to mail send via Spring boot smtp?","body":"<pre><code> SimpleMailMessage message = new SimpleMailMessage();\n        message.setFrom(&quot;abcd@gmail.com&quot;);\n        message.setTo(recipients);\n        message.setSubject(&quot;SERVICE DOWN&quot;);\n        message.setText(&quot;.............&quot;);\n        mailSender.send(message);\n</code></pre>\n<p>When using this, username is showing as display name. I want custom name like &quot;SUPPORT&quot;?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1641154341,"post_id":70557632,"comment_id":124729550,"body_markdown":"Can you add your main Spring Boot class?","body":"Can you add your main Spring Boot class?"},{"owner":{"account_id":19120818,"reputation":3,"user_id":13964818,"display_name":"ToKa"},"score":0,"creation_date":1641205799,"post_id":70557632,"comment_id":124738651,"body_markdown":"@Jo&#227;o Dias - main Spring Boot class added","body":"@Jo&#227;o Dias - main Spring Boot class added"}],"answers":[{"tags":[],"owner":{"account_id":20706020,"reputation":16,"user_id":15203875,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641141889,"creation_date":1641141889,"answer_id":70557821,"question_id":70557632,"body_markdown":"Try to do mvn clean install. Mapstruct generates the implementation class at compile time. Also make sure your pom.xml (or build.gradle) looks something like this:\r\n\r\n       &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.7.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;source&gt;1.8&lt;/source&gt;\r\n            &lt;target&gt;1.8&lt;/target&gt;\r\n            &lt;annotationProcessorPaths&gt;\r\n                &lt;path&gt;\r\n                    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                    &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n                &lt;/path&gt;\r\n            &lt;/annotationProcessorPaths&gt;\r\n            &lt;compilerArgs&gt;\r\n                &lt;compilerArg&gt;\r\n                       -Amapstruct.defaultComponentModel=spring\r\n                &lt;/compilerArg&gt;\r\n            &lt;/compilerArgs&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"Parameter 1 of constructor in service.BuildingService required a bean of type &#39;persistence.BuildingDboMapper&#39; that could not be found","body":"<p>Try to do mvn clean install. Mapstruct generates the implementation class at compile time. Also make sure your pom.xml (or build.gradle) looks something like this:</p>\n<pre><code>   &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.7.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;1.8&lt;/source&gt;\n        &lt;target&gt;1.8&lt;/target&gt;\n        &lt;annotationProcessorPaths&gt;\n            &lt;path&gt;\n                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n            &lt;/path&gt;\n        &lt;/annotationProcessorPaths&gt;\n        &lt;compilerArgs&gt;\n            &lt;compilerArg&gt;\n                   -Amapstruct.defaultComponentModel=spring\n            &lt;/compilerArg&gt;\n        &lt;/compilerArgs&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":19120818,"reputation":3,"user_id":13964818,"display_name":"ToKa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":759,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641203523,"creation_date":1641140358,"question_id":70557632,"body_markdown":"I’m learning Spring boot, now I am working on spring boot application. While running the application it fails. Maybe you have any ideas and see where I am wrong or miss something and can help solve my problem.\r\n\r\nusing Eclipse IDE\r\n\r\nthis is a gradle project\r\n\r\n```` \r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 1 of constructor in service.BuildingService required a bean of type &#39;persistence.BuildingDboMapper&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;persistence.BuildingDboMapper&#39; in your configuration.\r\n````\r\n\r\n**BuildingService class**\r\n````\r\n@Service\r\n@AllArgsConstructor\r\npublic class BuildingService {\r\n\r\n\t\r\n    private final BuildingRepository buildingRepository;\r\n    private final BuildingDboMapper buildingDboMapper;\r\n\r\n    public List&lt;Building&gt; findAll() {\r\n        return buildingRepository.findAll().stream().map(buildingDboMapper::map).collect(Collectors.toList());\r\n    }\r\n\r\n    public Building findBuildingById(Long id) {\r\n        return buildingDboMapper.map(buildingRepository.findById(id).orElseThrow());\r\n    }\r\n\r\n    public void save(Building building) {\r\n    }\r\n}\r\n````\r\n\r\n\r\n**BuildingDboMapper interface**\r\n````\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface BuildingDboMapper {\r\n    \r\n\tBuilding map(BuildingDbo dbo);\r\n\r\n    BuildingDbo map(Building building);\r\n}\r\n````\r\n**Main class**\r\n````\r\n@AllArgsConstructor\r\n@SpringBootApplication\r\npublic class Main {\r\n\r\n    private final BuildingRepository buildingRepository;\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Main.class, args);\r\n    }\r\n\r\n    @EventListener(ApplicationReadyEvent.class)\r\n    public void fillDb() {\r\n        BuildingDbo building0 = new BuildingDbo().setId(1L).setName(&quot;Big Building&quot;).setAddress(&quot;Highway 420&quot;).setIndex(&quot;NO600&quot;).setEnergyUnits(400).setEnergyUnitMax(500).setSectorCode(&quot;CX60&quot;);\r\n        BuildingDbo building1 = new BuildingDbo().setId(2L).setName(&quot;Small Building&quot;).setAddress(&quot;Highway 1200&quot;).setIndex(&quot;NO90000&quot;).setEnergyUnits(20).setEnergyUnitMax(100).setSectorCode(&quot;CX12&quot;);\r\n\r\n        buildingRepository.saveAll(Arrays.asList(building0, building1));\r\n    }\r\n}\r\n````","title":"Parameter 1 of constructor in service.BuildingService required a bean of type &#39;persistence.BuildingDboMapper&#39; that could not be found","body":"<p>I’m learning Spring boot, now I am working on spring boot application. While running the application it fails. Maybe you have any ideas and see where I am wrong or miss something and can help solve my problem.</p>\n<p>using Eclipse IDE</p>\n<p>this is a gradle project</p>\n<pre><code>APPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 1 of constructor in service.BuildingService required a bean of type 'persistence.BuildingDboMapper' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'persistence.BuildingDboMapper' in your configuration.\n</code></pre>\n<p><strong>BuildingService class</strong></p>\n<pre><code>@Service\n@AllArgsConstructor\npublic class BuildingService {\n\n    \n    private final BuildingRepository buildingRepository;\n    private final BuildingDboMapper buildingDboMapper;\n\n    public List&lt;Building&gt; findAll() {\n        return buildingRepository.findAll().stream().map(buildingDboMapper::map).collect(Collectors.toList());\n    }\n\n    public Building findBuildingById(Long id) {\n        return buildingDboMapper.map(buildingRepository.findById(id).orElseThrow());\n    }\n\n    public void save(Building building) {\n    }\n}\n</code></pre>\n<p><strong>BuildingDboMapper interface</strong></p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface BuildingDboMapper {\n    \n    Building map(BuildingDbo dbo);\n\n    BuildingDbo map(Building building);\n}\n</code></pre>\n<p><strong>Main class</strong></p>\n<pre><code>@AllArgsConstructor\n@SpringBootApplication\npublic class Main {\n\n    private final BuildingRepository buildingRepository;\n\n    public static void main(String[] args) {\n        SpringApplication.run(Main.class, args);\n    }\n\n    @EventListener(ApplicationReadyEvent.class)\n    public void fillDb() {\n        BuildingDbo building0 = new BuildingDbo().setId(1L).setName(&quot;Big Building&quot;).setAddress(&quot;Highway 420&quot;).setIndex(&quot;NO600&quot;).setEnergyUnits(400).setEnergyUnitMax(500).setSectorCode(&quot;CX60&quot;);\n        BuildingDbo building1 = new BuildingDbo().setId(2L).setName(&quot;Small Building&quot;).setAddress(&quot;Highway 1200&quot;).setIndex(&quot;NO90000&quot;).setEnergyUnits(20).setEnergyUnitMax(100).setSectorCode(&quot;CX12&quot;);\n\n        buildingRepository.saveAll(Arrays.asList(building0, building1));\n    }\n}\n</code></pre>\n"},{"tags":["java","javafx","flicker"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1640280445,"post_id":70464630,"comment_id":124561835,"body_markdown":"If you are updating the scene graph from a background thread; see [*Concurrency in JavaFX*](https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/concurrency.htm) and this related [examle](https://stackoverflow.com/a/38031826/230513) that moves a `Circle`.","body":"If you are updating the scene graph from a background thread; see <a href=\"https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/concurrency.htm\" rel=\"nofollow noreferrer\"><i>Concurrency in JavaFX</i></a> and this related <a href=\"https://stackoverflow.com/a/38031826/230513\">examle</a> that moves a <code>Circle</code>."}],"owner":{"account_id":194740,"reputation":899,"user_id":437260,"accept_rate":85,"display_name":"Antonin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641203232,"creation_date":1640275532,"question_id":70464630,"body_markdown":"Hi I am a beginner using javaFX.\r\n\r\nI displayed some tiles on a pane to represent a map.\r\n\r\nI added some circles on the map, and with an asynchronous update function, I update the circle position.\r\n\r\nOn circles position updates I see a white flicker in the area which is redrawn I suppose.\r\n\r\nHere is an illustration of the phenomenon : [video of javaFx circle position update flicker][1]\r\n\r\n\r\nHere is the positionTicker (white circles) :\r\n\r\n```java\r\npublic class Ticker {\r\n\r\n    Position position;\r\n    Circle tickerCircle;\r\n\r\n    public Ticker(Position position) {\r\n        this.tickerCircle = new Circle(position.xPos, position.yPos, 5);\r\n        this.tickerCircle.setFill(Color.LIGHTGRAY);\r\n\r\n        this.position = position;\r\n        position.SetOnChangeFunction((int newX, int newY) -&gt; {\r\n            this.tickerCircle.setCenterX(newX);\r\n            this.tickerCircle.setCenterY(newY);\r\n        });\r\n    }\r\n\r\n    public Circle getTickerNode() {\r\n        return tickerCircle;\r\n    }\r\n}\r\n```\r\n\r\nHere is the code to update these tickers :\r\n\r\n```java\r\n    private void startRegularUpdates() {\r\n        final Runnable positionUpdater = new Runnable() {\r\n            public void run() {\r\n                logger.trace(&quot;position updater received fake update&quot;);\r\n                Optional&lt;Position&gt; posToUpdate = getRandomPosition();\r\n                posToUpdate.ifPresent(pos -&gt; updatePosition(pos));\r\n            }\r\n        };\r\n        positionUpdaterHandle = scheduler.scheduleAtFixedRate(positionUpdater, 1, 10, MILLISECONDS);\r\n    }\r\n```\r\n\r\nAnd finally the code to add these tickers to a display pane (I execute this statement on all :\r\n\r\n```java\r\n    public void AddShapeOnMap(Node shape) {\r\n        this.tileMap.getChildren().add(shape);\r\n    }\r\n\r\n```\r\n\r\nDisclaimer :  This question may need some work do not hesitate to help me get it right.\r\n\r\n\r\nDoes someone know what may cause that white flicker around the circles when they change position ?\r\n\r\nThanks in advance for your help.\r\n\r\n\r\n  [1]: https://youtu.be/VM27y0k0naU","title":"White flicker when moving nodes position modification with JavaFx","body":"<p>Hi I am a beginner using javaFX.</p>\n<p>I displayed some tiles on a pane to represent a map.</p>\n<p>I added some circles on the map, and with an asynchronous update function, I update the circle position.</p>\n<p>On circles position updates I see a white flicker in the area which is redrawn I suppose.</p>\n<p>Here is an illustration of the phenomenon : <a href=\"https://youtu.be/VM27y0k0naU\" rel=\"nofollow noreferrer\">video of javaFx circle position update flicker</a></p>\n<p>Here is the positionTicker (white circles) :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Ticker {\n\n    Position position;\n    Circle tickerCircle;\n\n    public Ticker(Position position) {\n        this.tickerCircle = new Circle(position.xPos, position.yPos, 5);\n        this.tickerCircle.setFill(Color.LIGHTGRAY);\n\n        this.position = position;\n        position.SetOnChangeFunction((int newX, int newY) -&gt; {\n            this.tickerCircle.setCenterX(newX);\n            this.tickerCircle.setCenterY(newY);\n        });\n    }\n\n    public Circle getTickerNode() {\n        return tickerCircle;\n    }\n}\n</code></pre>\n<p>Here is the code to update these tickers :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void startRegularUpdates() {\n        final Runnable positionUpdater = new Runnable() {\n            public void run() {\n                logger.trace(&quot;position updater received fake update&quot;);\n                Optional&lt;Position&gt; posToUpdate = getRandomPosition();\n                posToUpdate.ifPresent(pos -&gt; updatePosition(pos));\n            }\n        };\n        positionUpdaterHandle = scheduler.scheduleAtFixedRate(positionUpdater, 1, 10, MILLISECONDS);\n    }\n</code></pre>\n<p>And finally the code to add these tickers to a display pane (I execute this statement on all :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public void AddShapeOnMap(Node shape) {\n        this.tileMap.getChildren().add(shape);\n    }\n\n</code></pre>\n<p>Disclaimer :  This question may need some work do not hesitate to help me get it right.</p>\n<p>Does someone know what may cause that white flicker around the circles when they change position ?</p>\n<p>Thanks in advance for your help.</p>\n"},{"tags":["java","sockets"],"answers":[{"tags":[],"owner":{"account_id":10279839,"reputation":370,"user_id":8914666,"display_name":"cediwelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641193659,"creation_date":1641193659,"answer_id":70562589,"question_id":70562531,"body_markdown":"To set a Timeout on any Socket, you can use `socket.setSoTimeout(MILLISECONDS)` as specified [here][1].\r\n\r\n\r\nThis will cause any read() on the socket to only last the given milliseconds.\r\nNote that you have to use the function before executing the blocking operation. A SocketTimeoutExeception will be thrown when the time is over.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/net/Socket.html#setSoTimeout(int)","title":"How to create a timeout while reading from a Socket InputStream","body":"<p>To set a Timeout on any Socket, you can use <code>socket.setSoTimeout(MILLISECONDS)</code> as specified <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/Socket.html#setSoTimeout(int)\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>This will cause any read() on the socket to only last the given milliseconds.\nNote that you have to use the function before executing the blocking operation. A SocketTimeoutExeception will be thrown when the time is over.</p>\n"}],"owner":{"account_id":1456511,"reputation":703,"user_id":1371947,"accept_rate":44,"display_name":"Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1641202860,"answer_count":1,"score":0,"last_activity_date":1641202832,"creation_date":1641193138,"question_id":70562531,"body_markdown":"I am reading some values from a solar converter. My code runs endlessly if the solar converter powers off during transmission.\r\n\r\n    if (ping(ip)){\r\n        socket = new Socket(ip, port);\r\n        fromServer = socket.getInputStream();\r\n        toServer = socket.getOutputStream();\r\n        try {\r\n            System.out.println(&quot;SEND MESSAGE&quot;);\r\n            toServer.write(message.getBytes(Charset.forName(ANSI_CODE)));\r\n        } catch (IOException e) {\r\n           e.printStackTrace();\t\t\t\r\n        }\r\n        \t\t\t\t\t\t\t\t  \r\n        message = &quot;&quot;;\r\n        while((i=fromServer.read())!=-1){\r\n            // converts integer to character\r\n            if (i == 0){\r\n            }else{\r\n                message += (char)i;\r\n            }\r\n        }\r\n        System.out.println(&quot;MESSAGE RECEIVED&quot;);\r\n    }\r\n\r\nIf the solar converter is running, the code works great, but if the converter powers off because the sun is down, it runs in a loop. It only displays this on the console, no Exception will be thrown.\r\n\r\n    PING ... OK\r\n    SEND MESSAGE\r\n\r\nHow can I create a kind of timeout?","title":"How to create a timeout while reading from a Socket InputStream","body":"<p>I am reading some values from a solar converter. My code runs endlessly if the solar converter powers off during transmission.</p>\n<pre><code>if (ping(ip)){\n    socket = new Socket(ip, port);\n    fromServer = socket.getInputStream();\n    toServer = socket.getOutputStream();\n    try {\n        System.out.println(&quot;SEND MESSAGE&quot;);\n        toServer.write(message.getBytes(Charset.forName(ANSI_CODE)));\n    } catch (IOException e) {\n       e.printStackTrace();         \n    }\n                                      \n    message = &quot;&quot;;\n    while((i=fromServer.read())!=-1){\n        // converts integer to character\n        if (i == 0){\n        }else{\n            message += (char)i;\n        }\n    }\n    System.out.println(&quot;MESSAGE RECEIVED&quot;);\n}\n</code></pre>\n<p>If the solar converter is running, the code works great, but if the converter powers off because the sun is down, it runs in a loop. It only displays this on the console, no Exception will be thrown.</p>\n<pre><code>PING ... OK\nSEND MESSAGE\n</code></pre>\n<p>How can I create a kind of timeout?</p>\n"},{"tags":["java","unit-testing","swing","events","junit"],"answers":[{"tags":[],"owner":{"account_id":11042,"reputation":7158,"user_id":3540161,"accept_rate":56,"display_name":"Rolf"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1228078549,"creation_date":1228078549,"answer_id":329353,"question_id":329264,"body_markdown":"Maybe you can use easymock to isolate the classes you want to test, and have the mock objects receive the events and check that they&#39;re fired.\r\n\r\nI&#39;d recommend EasyMock: http://www.easymock.org/\r\n\r\nFrom your story it feels that your unittests are more integration tests, and very intricate. If that&#39;s the case, try to simplify and isolate. You&#39;ve probably read http://junit.sourceforge.net/doc/testinfected/testing.htm\r\n\r\nI hope this helps.\r\n\r\n","title":"Handle Swing events in JUnit test","body":"<p>Maybe you can use easymock to isolate the classes you want to test, and have the mock objects receive the events and check that they're fired.</p>\n\n<p>I'd recommend EasyMock: <a href=\"http://www.easymock.org/\" rel=\"nofollow noreferrer\">http://www.easymock.org/</a></p>\n\n<p>From your story it feels that your unittests are more integration tests, and very intricate. If that's the case, try to simplify and isolate. You've probably read <a href=\"http://junit.sourceforge.net/doc/testinfected/testing.htm\" rel=\"nofollow noreferrer\">http://junit.sourceforge.net/doc/testinfected/testing.htm</a></p>\n\n<p>I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1641202109,"creation_date":1228080210,"answer_id":329387,"question_id":329264,"body_markdown":"When I&#39;ve done JUnit testing with `EventQueue.invokeLater`, I&#39;ve decoupled myself from that evil static. Create an interface with `invokeLater` and `isDispatchThread` methods. For production the implementation should just forward to `EventQueue`. For testing, use your own thread (which can be set up and torn down for each test).\r\n\r\nSome other random advice:\r\n\r\n  - Keep the GUI as thin as possible.\r\n  - Keep threading out of everything else, and everything else out of threading.\r\n  - Be suspicious of anything claiming to be thread-safe.","title":"Handle Swing events in JUnit test","body":"<p>When I've done JUnit testing with <code>EventQueue.invokeLater</code>, I've decoupled myself from that evil static. Create an interface with <code>invokeLater</code> and <code>isDispatchThread</code> methods. For production the implementation should just forward to <code>EventQueue</code>. For testing, use your own thread (which can be set up and torn down for each test).</p>\n<p>Some other random advice:</p>\n<ul>\n<li>Keep the GUI as thin as possible.</li>\n<li>Keep threading out of everything else, and everything else out of threading.</li>\n<li>Be suspicious of anything claiming to be thread-safe.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16468,"reputation":4493,"user_id":35894,"display_name":"Jeffrey Fredrick"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1228082746,"creation_date":1228082746,"answer_id":329475,"question_id":329264,"body_markdown":"&gt; A solution that comes to mind is to\r\n&gt; introduce an extra object on top of\r\n&gt; Team that does the thread switch and\r\n&gt; keep the original unit test intact,\r\n&gt; but I do not like the idea of\r\n&gt; introducing complexity in production\r\n&gt; code just to make a unit test succeed.\r\n\r\nI don&#39;t know if this is the case here but I often find that the &quot;complexity&quot; that I&#39;m adding is actually a higher level of abstraction that improves the code.\r\n\r\nThe original idea behind mock objects wasn&#39;t to make unit testing easier but rather &quot;interface discovery&quot;, to create interfaces that represent the abstractions in your ubiquitous language rather than working at the level of the API.","title":"Handle Swing events in JUnit test","body":"<blockquote>\n  <p>A solution that comes to mind is to\n  introduce an extra object on top of\n  Team that does the thread switch and\n  keep the original unit test intact,\n  but I do not like the idea of\n  introducing complexity in production\n  code just to make a unit test succeed.</p>\n</blockquote>\n\n<p>I don't know if this is the case here but I often find that the \"complexity\" that I'm adding is actually a higher level of abstraction that improves the code.</p>\n\n<p>The original idea behind mock objects wasn't to make unit testing easier but rather \"interface discovery\", to create interfaces that represent the abstractions in your ubiquitous language rather than working at the level of the API.</p>\n"}],"owner":{"account_id":10023,"reputation":2200,"user_id":18756,"accept_rate":82,"display_name":"Emile"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3203,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1641202109,"creation_date":1228075539,"question_id":329264,"body_markdown":"\r\nI have Swing java application with network communications to several &quot;Players&quot; that are represented as player objects, each with their own communication thread. The app has a &quot;Team&quot; object managing all player objects. Several UI components listen to events passed from the players through the Team object. \r\n\r\nIn my design, the team object fires all events on the Swing thread using invokeLater, so that the rest of my application does not need to bother with threading issues. However, I don&#39;t know how I can test the Team class in a JUnit test.\r\n\r\nA little more background. At first I had the Team object fire its events on the player object threads (no thread switching at all). The Team unit test succeeded, but I got into many threading issues in my UI with invokeLaters and synchronized all over the place. I then decided to simplify the threading model by having the Team object fire events on the Swing thread, but now the Team unit test fails because it does not receive the events. What to do?\r\n\r\nA solution that comes to mind is to introduce an extra object on top of Team that does the thread switch and keep the original unit test intact, but I do not like the idea of introducing complexity in production code just to make a unit test succeed.\r\n","title":"Handle Swing events in JUnit test","body":"<p>I have Swing java application with network communications to several \"Players\" that are represented as player objects, each with their own communication thread. The app has a \"Team\" object managing all player objects. Several UI components listen to events passed from the players through the Team object. </p>\n\n<p>In my design, the team object fires all events on the Swing thread using invokeLater, so that the rest of my application does not need to bother with threading issues. However, I don't know how I can test the Team class in a JUnit test.</p>\n\n<p>A little more background. At first I had the Team object fire its events on the player object threads (no thread switching at all). The Team unit test succeeded, but I got into many threading issues in my UI with invokeLaters and synchronized all over the place. I then decided to simplify the threading model by having the Team object fire events on the Swing thread, but now the Team unit test fails because it does not receive the events. What to do?</p>\n\n<p>A solution that comes to mind is to introduce an extra object on top of Team that does the thread switch and keep the original unit test intact, but I do not like the idea of introducing complexity in production code just to make a unit test succeed.</p>\n"},{"tags":["java","android","android-studio","android-recyclerview","android-adapter"],"answers":[{"tags":[],"owner":{"account_id":18108097,"reputation":170,"user_id":13165317,"display_name":"Priyansh Kedia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641202058,"creation_date":1641202058,"answer_id":70563739,"question_id":70560128,"body_markdown":"You are controlling the text style under this condition, `inbox.getRead().equals(&quot;read&quot;)`, but you are not actually changing the value of your `read` value in the inbox object. \r\n\r\nWhat you should do is, you should change the value of `read` property of your `inbox` object at the particular position, and then call `notifyItemChanged(position);`.\r\n\r\nYou should do something like this, \r\n\r\n    public void Unread(int position) {\r\n        this.list.get(position).setRead(&quot;unread&quot;);\r\n        notifyItemChanged(position);\r\n    }\r\n\r\nThis should change the `read` in your `inbox` object, and should work for you.","title":"Change the font from normal to bold using recyclerview position","body":"<p>You are controlling the text style under this condition, <code>inbox.getRead().equals(&quot;read&quot;)</code>, but you are not actually changing the value of your <code>read</code> value in the inbox object.</p>\n<p>What you should do is, you should change the value of <code>read</code> property of your <code>inbox</code> object at the particular position, and then call <code>notifyItemChanged(position);</code>.</p>\n<p>You should do something like this,</p>\n<pre><code>public void Unread(int position) {\n    this.list.get(position).setRead(&quot;unread&quot;);\n    notifyItemChanged(position);\n}\n</code></pre>\n<p>This should change the <code>read</code> in your <code>inbox</code> object, and should work for you.</p>\n"}],"owner":{"account_id":16093327,"reputation":300,"user_id":12632670,"display_name":"chris oojer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70563739,"answer_count":1,"score":0,"last_activity_date":1641202058,"creation_date":1641161406,"question_id":70560128,"body_markdown":"I am working on my java code as I want to change the font from normal to bold when I click on the unread button in the toolbar in the mainactivity.\r\n\r\nWhen I try this:\r\n\r\n    public void Unread(int position) {\r\n    \r\n        notifyItemChanged(position);\r\n    }\r\n\r\n\r\nIt will not change the font from normal to bold in the recyclerview for the adapter.\r\n\r\nHere is the code for Adapter:\r\n\r\n    public class InboxAdapter extends RecyclerView.Adapter&lt;InboxAdapter.ViewHolder&gt; {\r\n    \r\n        public InboxAdapter adapter;\r\n        public Fragment _fragment;\r\n        public RecyclerView recyclerView;\r\n    \r\n    \r\n        @Override\r\n        public void onBindViewHolder(ViewHolder holder, final int position) {\r\n            // change the font style depending on message read status\r\n            applyReadStatus(holder, inbox);\r\n    \r\n            holder.actionView.setOnClickListener(new View.OnClickListener() {\r\n                @RequiresApi(api = Build.VERSION_CODES.N)\r\n                @Override\r\n                public void onClick(View v) {\r\n                    /*GradientDrawable gd = new GradientDrawable();\r\n                    gd.setColor(Color.parseColor(&quot;#e8f0fd&quot;));\r\n                    gd.setCornerRadius(40);\r\n                    gd.setStroke(40, Color.parseColor(&quot;#e8f0fd&quot;));\r\n                    holder.layout1.setBackgroundColor(Color.parseColor(&quot;#e8f0fd&quot;));\r\n                    holder.layout1.setBackgroundDrawable(gd);*/\r\n                    int idx = holder.getAdapterPosition();\r\n                    String id = mInboxes.get(idx).getId();\r\n    \r\n                    String short_name = holder.tvIcon.getText().toString();\r\n                    String subject1 = mInboxes.get(idx).getSubject();\r\n                    String from = mInboxes.get(idx).getFrom();\r\n                    String from_email = mInboxes.get(idx).getEmail();\r\n                    String datetime = mInboxes.get(idx).getDate();\r\n                    String isRead = mInboxes.get(idx).getRead();\r\n                    String isImportant = mInboxes.get(idx).isImportant();\r\n    \r\n                    // set the read status\r\n                    setReadStatus(holder, isRead);\r\n    \r\n                    openEmailActivity(mailbox, id, idx, color, short_name, subject1, from, from_email, datetime, isImportant);\r\n                   /* gd.setColor(Color.parseColor(&quot;#FFFFFF&quot;));\r\n                    gd.setCornerRadius(40);\r\n                    gd.setStroke(40, Color.parseColor(&quot;#FFFFFF&quot;));\r\n                    holder.layout1.setBackgroundColor(Color.parseColor(&quot;#FFFFFF&quot;));\r\n                    holder.layout1.setBackgroundDrawable(gd);*/\r\n                }\r\n            });\r\n        }\r\n    \r\n    \r\n        public void applyReadStatus(ViewHolder holder, inbox inbox) {\r\n            if (inbox.getRead().equals(&quot;read&quot;)) {\r\n                holder.from.setTypeface(null, Typeface.NORMAL);\r\n                holder.subject.setTypeface(null, Typeface.NORMAL);\r\n                holder.from.setTextColor(ContextCompat.getColor(mContext, R.color.subject));\r\n                holder.subject.setTextColor(ContextCompat.getColor(mContext, R.color.message));\r\n                holder.time.setTextColor(ContextCompat.getColor(mContext, R.color.timestamp));\r\n                holder.time.setTypeface(null, Typeface.NORMAL);\r\n            } else {\r\n                holder.from.setTypeface(null, Typeface.BOLD);\r\n                holder.subject.setTypeface(null, Typeface.BOLD);\r\n                holder.from.setTextColor(ContextCompat.getColor(mContext, R.color.from));\r\n                holder.subject.setTextColor(ContextCompat.getColor(mContext, R.color.subject));\r\n                holder.time.setTextColor(ContextCompat.getColor(mContext, R.color.timestamp));\r\n                holder.time.setTypeface(null, Typeface.BOLD);\r\n            }\r\n        }\r\n    \r\n    \r\n        public void Unread(int position) {\r\n    \r\n            notifyItemChanged(position);\r\n        }\r\n\r\n\r\n    public void openEmailActivity(String mailbox, String id, int idx, int color, String short_name, String subject1, String from, String from_email, String datetime, String isImportant) {\r\n            Intent intent = new Intent(mContext, MainActivity5.class);\r\n            intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_SINGLE_TOP);\r\n            intent.putExtra(&quot;mailbox&quot;, mailbox);\r\n            intent.putExtra(&quot;id&quot;, id);\r\n            intent.putExtra(&quot;idx&quot;, idx);\r\n            intent.putExtra(&quot;bg_color&quot;, color);\r\n            intent.putExtra(&quot;short_name&quot;, short_name);\r\n            intent.putExtra(&quot;subject&quot;, subject1);\r\n            intent.putExtra(&quot;from_sender&quot;, from);\r\n            intent.putExtra(&quot;from_email&quot;, from_email);\r\n            intent.putExtra(&quot;datetime&quot;, datetime);\r\n            intent.putExtra(&quot;is_important&quot;, isImportant);\r\n            _fragment.startActivityForResult(intent, MainActivity2.REQ_EMAIL_OPEN);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\nHere is the code for InboxFragment:\r\n\r\n    public class InboxFragment extends Fragment {\r\n    \r\n        public static final int REQ_EMAIL_OPEN = 3456;\r\n        private RecyclerView mRecyclerView;\r\n        private SwipeRefreshLayout mSwipeLayout;\r\n        private InboxAdapter mInboxAdapter;\r\n        private List&lt;inbox&gt; mInbox = new ArrayList&lt;&gt;();\r\n        private inbox Inbox;\r\n        private Call&lt;List&lt;inbox&gt;&gt; call;\r\n        private Window window;\r\n        private Toolbar toolbar;\r\n        private FloatingActionButton fab;\r\n        private FloatingActionButton fab1;\r\n        private String contacts = null;\r\n        private String mailbox = null;\r\n    \r\n    \r\n        public View onCreateView(@NonNull LayoutInflater inflater,\r\n                                 ViewGroup container, Bundle savedInstanceState) {\r\n    \r\n            View root = inflater.inflate(R.layout.fragment_inbox, container, false);\r\n            mRecyclerView = (RecyclerView) root.findViewById(R.id.recyclerView);\r\n        }\r\n    \r\n        @Override\r\n        public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n    \r\n            if(requestCode == REQ_EMAIL_OPEN){\r\n                if(resultCode == Activity.RESULT_OK &amp;&amp; data!= null){\r\n                    boolean isEmailDeleted = data.getBooleanExtra(&quot;isEmailDeleted&quot;,false);\r\n                    boolean isEmailUnread = data.getBooleanExtra(&quot;isEmailUnread&quot;,false);\r\n                    boolean isEmailRead = data.getBooleanExtra(&quot;isEmailRead&quot;,false);\r\n                    int emailId = data.getIntExtra(&quot;emailId&quot;,-1);\r\n    \r\n                    if (isEmailDeleted &amp;&amp; emailId != -1) {\r\n                        mInboxAdapter.removeItem(emailId);\r\n                    }\r\n                    else if (isEmailUnread &amp;&amp; emailId != -1) {\r\n                        mInboxAdapter.Unread(emailId);\r\n                    }\r\n                    else if (isEmailRead &amp;&amp; emailId != -1) {\r\n    \r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\nCan you please show me an example how I can change the font from normal to bold for these textview of `from`, `subject` and `time`??","title":"Change the font from normal to bold using recyclerview position","body":"<p>I am working on my java code as I want to change the font from normal to bold when I click on the unread button in the toolbar in the mainactivity.</p>\n<p>When I try this:</p>\n<pre><code>public void Unread(int position) {\n\n    notifyItemChanged(position);\n}\n</code></pre>\n<p>It will not change the font from normal to bold in the recyclerview for the adapter.</p>\n<p>Here is the code for Adapter:</p>\n<pre><code>public class InboxAdapter extends RecyclerView.Adapter&lt;InboxAdapter.ViewHolder&gt; {\n\n    public InboxAdapter adapter;\n    public Fragment _fragment;\n    public RecyclerView recyclerView;\n\n\n    @Override\n    public void onBindViewHolder(ViewHolder holder, final int position) {\n        // change the font style depending on message read status\n        applyReadStatus(holder, inbox);\n\n        holder.actionView.setOnClickListener(new View.OnClickListener() {\n            @RequiresApi(api = Build.VERSION_CODES.N)\n            @Override\n            public void onClick(View v) {\n                /*GradientDrawable gd = new GradientDrawable();\n                gd.setColor(Color.parseColor(&quot;#e8f0fd&quot;));\n                gd.setCornerRadius(40);\n                gd.setStroke(40, Color.parseColor(&quot;#e8f0fd&quot;));\n                holder.layout1.setBackgroundColor(Color.parseColor(&quot;#e8f0fd&quot;));\n                holder.layout1.setBackgroundDrawable(gd);*/\n                int idx = holder.getAdapterPosition();\n                String id = mInboxes.get(idx).getId();\n\n                String short_name = holder.tvIcon.getText().toString();\n                String subject1 = mInboxes.get(idx).getSubject();\n                String from = mInboxes.get(idx).getFrom();\n                String from_email = mInboxes.get(idx).getEmail();\n                String datetime = mInboxes.get(idx).getDate();\n                String isRead = mInboxes.get(idx).getRead();\n                String isImportant = mInboxes.get(idx).isImportant();\n\n                // set the read status\n                setReadStatus(holder, isRead);\n\n                openEmailActivity(mailbox, id, idx, color, short_name, subject1, from, from_email, datetime, isImportant);\n               /* gd.setColor(Color.parseColor(&quot;#FFFFFF&quot;));\n                gd.setCornerRadius(40);\n                gd.setStroke(40, Color.parseColor(&quot;#FFFFFF&quot;));\n                holder.layout1.setBackgroundColor(Color.parseColor(&quot;#FFFFFF&quot;));\n                holder.layout1.setBackgroundDrawable(gd);*/\n            }\n        });\n    }\n\n\n    public void applyReadStatus(ViewHolder holder, inbox inbox) {\n        if (inbox.getRead().equals(&quot;read&quot;)) {\n            holder.from.setTypeface(null, Typeface.NORMAL);\n            holder.subject.setTypeface(null, Typeface.NORMAL);\n            holder.from.setTextColor(ContextCompat.getColor(mContext, R.color.subject));\n            holder.subject.setTextColor(ContextCompat.getColor(mContext, R.color.message));\n            holder.time.setTextColor(ContextCompat.getColor(mContext, R.color.timestamp));\n            holder.time.setTypeface(null, Typeface.NORMAL);\n        } else {\n            holder.from.setTypeface(null, Typeface.BOLD);\n            holder.subject.setTypeface(null, Typeface.BOLD);\n            holder.from.setTextColor(ContextCompat.getColor(mContext, R.color.from));\n            holder.subject.setTextColor(ContextCompat.getColor(mContext, R.color.subject));\n            holder.time.setTextColor(ContextCompat.getColor(mContext, R.color.timestamp));\n            holder.time.setTypeface(null, Typeface.BOLD);\n        }\n    }\n\n\n    public void Unread(int position) {\n\n        notifyItemChanged(position);\n    }\n\n\npublic void openEmailActivity(String mailbox, String id, int idx, int color, String short_name, String subject1, String from, String from_email, String datetime, String isImportant) {\n        Intent intent = new Intent(mContext, MainActivity5.class);\n        intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_SINGLE_TOP);\n        intent.putExtra(&quot;mailbox&quot;, mailbox);\n        intent.putExtra(&quot;id&quot;, id);\n        intent.putExtra(&quot;idx&quot;, idx);\n        intent.putExtra(&quot;bg_color&quot;, color);\n        intent.putExtra(&quot;short_name&quot;, short_name);\n        intent.putExtra(&quot;subject&quot;, subject1);\n        intent.putExtra(&quot;from_sender&quot;, from);\n        intent.putExtra(&quot;from_email&quot;, from_email);\n        intent.putExtra(&quot;datetime&quot;, datetime);\n        intent.putExtra(&quot;is_important&quot;, isImportant);\n        _fragment.startActivityForResult(intent, MainActivity2.REQ_EMAIL_OPEN);\n    }\n}\n</code></pre>\n<p>Here is the code for InboxFragment:</p>\n<pre><code>public class InboxFragment extends Fragment {\n\n    public static final int REQ_EMAIL_OPEN = 3456;\n    private RecyclerView mRecyclerView;\n    private SwipeRefreshLayout mSwipeLayout;\n    private InboxAdapter mInboxAdapter;\n    private List&lt;inbox&gt; mInbox = new ArrayList&lt;&gt;();\n    private inbox Inbox;\n    private Call&lt;List&lt;inbox&gt;&gt; call;\n    private Window window;\n    private Toolbar toolbar;\n    private FloatingActionButton fab;\n    private FloatingActionButton fab1;\n    private String contacts = null;\n    private String mailbox = null;\n\n\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n\n        View root = inflater.inflate(R.layout.fragment_inbox, container, false);\n        mRecyclerView = (RecyclerView) root.findViewById(R.id.recyclerView);\n    }\n\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if(requestCode == REQ_EMAIL_OPEN){\n            if(resultCode == Activity.RESULT_OK &amp;&amp; data!= null){\n                boolean isEmailDeleted = data.getBooleanExtra(&quot;isEmailDeleted&quot;,false);\n                boolean isEmailUnread = data.getBooleanExtra(&quot;isEmailUnread&quot;,false);\n                boolean isEmailRead = data.getBooleanExtra(&quot;isEmailRead&quot;,false);\n                int emailId = data.getIntExtra(&quot;emailId&quot;,-1);\n\n                if (isEmailDeleted &amp;&amp; emailId != -1) {\n                    mInboxAdapter.removeItem(emailId);\n                }\n                else if (isEmailUnread &amp;&amp; emailId != -1) {\n                    mInboxAdapter.Unread(emailId);\n                }\n                else if (isEmailRead &amp;&amp; emailId != -1) {\n\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>Can you please show me an example how I can change the font from normal to bold for these textview of <code>from</code>, <code>subject</code> and <code>time</code>??</p>\n"},{"tags":["java","sql"],"comments":[{"owner":{"account_id":465422,"reputation":3287,"user_id":869488,"accept_rate":32,"display_name":"rajesh"},"score":0,"creation_date":1363327823,"post_id":15425869,"comment_id":21815778,"body_markdown":"always try to execute the query once in a client before putting it to code","body":"always try to execute the query once in a client before putting it to code"}],"answers":[{"tags":[],"owner":{"account_id":407240,"reputation":780,"user_id":777203,"display_name":"Asaf"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1641201920,"creation_date":1363327736,"answer_id":15425884,"question_id":15425869,"body_markdown":"You were not closing the VALUES parenthesis:\r\n \r\n\r\n     String sql = &quot;INSERT INTO `tutors`.`appointments`&quot;\r\n                + &quot; (`tutorID`, `tuteeName`, `tuteeEmail`, `time`, `date`)&quot;\r\n                +  (&quot;VALUES(?, ?, ?, ?, ?)&quot;);","title":"What is causing this SQLException?","body":"<p>You were not closing the VALUES parenthesis:</p>\n<pre><code> String sql = &quot;INSERT INTO `tutors`.`appointments`&quot;\n            + &quot; (`tutorID`, `tuteeName`, `tuteeEmail`, `time`, `date`)&quot;\n            +  (&quot;VALUES(?, ?, ?, ?, ?)&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2492505,"reputation":10493,"user_id":2169693,"accept_rate":74,"display_name":"G.S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1363329673,"creation_date":1363328106,"answer_id":15425949,"question_id":15425869,"body_markdown":"Problem with your sql string. It should be \r\n\r\n    &quot;INSERT INTO `tutors`.`appointments`&quot;\r\n                + &quot;(`tutorID`, `tuteeName`, `tuteeEmail`, `time`, `date`)&quot;\r\n                + &quot;VALUES(?, ?, ?, ?, ?)&quot;;","title":"What is causing this SQLException?","body":"<p>Problem with your sql string. It should be </p>\n\n<pre><code>\"INSERT INTO `tutors`.`appointments`\"\n            + \"(`tutorID`, `tuteeName`, `tuteeEmail`, `time`, `date`)\"\n            + \"VALUES(?, ?, ?, ?, ?)\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1399036,"reputation":1100,"user_id":1328150,"accept_rate":89,"display_name":"Daniel Robertus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363328231,"creation_date":1363328231,"answer_id":15425969,"question_id":15425869,"body_markdown":"may be in your first &#39;(&#39; in third line.\r\n\r\n    String sql = &quot;INSERT INTO `tutors`.`appointments`&quot;\r\n        + &quot;(`tutorID`, `tuteeName`, `tuteeEmail`, `time`, `date`)&quot;\r\n        + (&quot;VALUES(?, ?, ?, ?, ?&quot;);\r\n\r\nit should be \r\n\r\n    String sql = &quot;INSERT INTO `tutors`.`appointments`&quot;\r\n        + &quot; (`tutorID`, `tuteeName`, `tuteeEmail`, `time`, `date`)&quot;\r\n        + &quot; VALUES(?, ?, ?, ?, ?&quot;);\r\n\r\nadd some space in begining of second and third line also. ","title":"What is causing this SQLException?","body":"<p>may be in your first '(' in third line.</p>\n\n<pre><code>String sql = \"INSERT INTO `tutors`.`appointments`\"\n    + \"(`tutorID`, `tuteeName`, `tuteeEmail`, `time`, `date`)\"\n    + (\"VALUES(?, ?, ?, ?, ?\");\n</code></pre>\n\n<p>it should be </p>\n\n<pre><code>String sql = \"INSERT INTO `tutors`.`appointments`\"\n    + \" (`tutorID`, `tuteeName`, `tuteeEmail`, `time`, `date`)\"\n    + \" VALUES(?, ?, ?, ?, ?\");\n</code></pre>\n\n<p>add some space in begining of second and third line also. </p>\n"}],"owner":{"account_id":2257919,"reputation":31815,"user_id":1988693,"accept_rate":76,"display_name":"drew moore"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":15425884,"answer_count":3,"score":0,"last_activity_date":1641201920,"creation_date":1363327614,"question_id":15425869,"body_markdown":"I&#39;m getting the following error : \r\n\r\n&gt; com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an\r\n&gt; error in your SQL syntax; check the manual that corresponds to your\r\n&gt; MySQL server version for the right syntax to use near &#39;&#39; at line 1.\r\n\r\nWhile trying to run the following code: \r\n\r\n\r\n    String sql = &quot;INSERT INTO `tutors`.`appointments`&quot;\r\n            + &quot;(`tutorID`, `tuteeName`, `tuteeEmail`, `time`, `date`)&quot;\r\n            + (&quot;VALUES(?, ?, ?, ?, ?&quot;);\r\n     try {\r\n         PreparedStatement ps = conn.prepareStatement(sql);\r\n         ps.setInt(1, working.get(0).getTutorID());\r\n         ps.setString(2, tuteeName);\r\n         ps.setString(3, tuteeEmail);\r\n         ps.setDate(4, date);\r\n         ps.setTime(5, time);\r\n         ps.executeUpdate();\r\n\r\nWhat is it producing the `&#39; &#39; ` that the exception is referring to? I&#39;m just learning to work with SQL in java, so I&#39;m sure this is just a silly syntactical error...\r\n","title":"What is causing this SQLException?","body":"<p>I'm getting the following error : </p>\n\n<blockquote>\n  <p>com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an\n  error in your SQL syntax; check the manual that corresponds to your\n  MySQL server version for the right syntax to use near '' at line 1.</p>\n</blockquote>\n\n<p>While trying to run the following code: </p>\n\n<pre><code>String sql = \"INSERT INTO `tutors`.`appointments`\"\n        + \"(`tutorID`, `tuteeName`, `tuteeEmail`, `time`, `date`)\"\n        + (\"VALUES(?, ?, ?, ?, ?\");\n try {\n     PreparedStatement ps = conn.prepareStatement(sql);\n     ps.setInt(1, working.get(0).getTutorID());\n     ps.setString(2, tuteeName);\n     ps.setString(3, tuteeEmail);\n     ps.setDate(4, date);\n     ps.setTime(5, time);\n     ps.executeUpdate();\n</code></pre>\n\n<p>What is it producing the <code>' '</code> that the exception is referring to? I'm just learning to work with SQL in java, so I'm sure this is just a silly syntactical error...</p>\n"},{"tags":["java","spring","rabbitmq","spring-cloud-stream"],"answers":[{"tags":[],"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641201752,"creation_date":1641201752,"answer_id":70563688,"question_id":70543231,"body_markdown":"You need to set `republishToDlq: false` on the rabbit consumer properties.\r\nIn the `RabbitExchangeQueueProvisioner` you can see the following code (see the comment_\r\n```\r\nif (properties instanceof RabbitConsumerProperties\r\n\t\t\t\t\t&amp;&amp; ((RabbitConsumerProperties) properties).isRepublishToDlq()) {\r\n\t/*\r\n\t * Also bind with the base queue name when republishToDlq is used, which\r\n\t * does not know about partitioning\r\n\t */\r\n\tdeclareBinding(dlqName, new Binding(dlq.getName(), DestinationType.QUEUE,\r\n\t\t\t\t\t\tdlxName, baseQueueName, arguments));\r\n}\r\n```\r\nYou can also get more details [here](https://docs.spring.io/spring-cloud-stream-binder-rabbit/docs/3.2.1/reference/html/spring-cloud-stream-binder-rabbit.html#_partitioned_destinations) as to why.\r\n\r\nAlso, I see you are using \r\n```\r\nspring:\r\n  cloud:\r\n    stream:\r\n      function:\r\n        definition: consumeFunction\r\n```\r\nPlease change it to \r\n```\r\nspring:\r\n  cloud:\r\n    function:\r\n      definition: consumeFunction\r\n```\r\nas the other property is deprecated and is already removed in 3.2 version.","title":"Spring cloud stream RabbitMQ - bind DLQ with an exchange using one routing key","body":"<p>You need to set <code>republishToDlq: false</code> on the rabbit consumer properties.\nIn the <code>RabbitExchangeQueueProvisioner</code> you can see the following code (see the comment_</p>\n<pre><code>if (properties instanceof RabbitConsumerProperties\n                    &amp;&amp; ((RabbitConsumerProperties) properties).isRepublishToDlq()) {\n    /*\n     * Also bind with the base queue name when republishToDlq is used, which\n     * does not know about partitioning\n     */\n    declareBinding(dlqName, new Binding(dlq.getName(), DestinationType.QUEUE,\n                        dlxName, baseQueueName, arguments));\n}\n</code></pre>\n<p>You can also get more details <a href=\"https://docs.spring.io/spring-cloud-stream-binder-rabbit/docs/3.2.1/reference/html/spring-cloud-stream-binder-rabbit.html#_partitioned_destinations\" rel=\"nofollow noreferrer\">here</a> as to why.</p>\n<p>Also, I see you are using</p>\n<pre><code>spring:\n  cloud:\n    stream:\n      function:\n        definition: consumeFunction\n</code></pre>\n<p>Please change it to</p>\n<pre><code>spring:\n  cloud:\n    function:\n      definition: consumeFunction\n</code></pre>\n<p>as the other property is deprecated and is already removed in 3.2 version.</p>\n"}],"owner":{"account_id":13866737,"reputation":654,"user_id":10540846,"display_name":"Thanos M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":654,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70563688,"answer_count":1,"score":1,"last_activity_date":1641201752,"creation_date":1640961080,"question_id":70543231,"body_markdown":"I am using Spring Cloud Stream version `3.0.6.RELEASE`.\r\n\r\nI have an existing exchange called `my.queue.exchange`. My application contains one consumer, I want to create a queue called `MY_QUEUE` and bind that queue to `my.queue.exchange` exchange. Additionally, I want to republish failed messages to a DLQ called `MY_QUEUE_DLQ`. \r\n\r\nMy problem is that the dead letter queue called `MY_QUEUE_DLQ` is bound to `my.queue.exchange.dlx` exchange with two routing keys instead of one, the first one with routing key `my.queue.rkey.dlx` and the second one with routing key `MY_QUEUE`\r\n\r\nMy consumer bean:\r\n\r\n    @Bean\r\n    public Consumer&lt;Dto&gt; consumeFunction() {\r\n    \r\n        return dto -&gt; {\r\n           // do stuff\r\n        };\r\n    }\r\n\r\nmy `application.yml`:\r\n\r\n    spring:\r\n      cloud:\r\n        stream:\r\n          function:\r\n            definition: consumeFunction\r\n          rabbit:\r\n            bindings:\r\n              consumeFunction-in-0:\r\n                consumer:\r\n                  autoBindDlq: true\r\n                  deadLetterQueueName: MY_QUEUE_DLQ\r\n                  deadLetterExchange: my.queue.exchange.dlx\r\n                  deadLetterRoutingKey: my.queue.rkey.dlx\r\n                  deadLetterExchangeType: topic\r\n                  declareExchange: false\r\n                  bindQueue: true\r\n                  queueNameGroupOnly: true\r\n                  bindingRoutingKey: &#39;my.queue.rkey&#39;\r\n          bindings:\r\n            consumeFunction-in-0:\r\n              destination: my.queue.exchange\r\n              group: MY_QUEUE\r\n\r\n ","title":"Spring cloud stream RabbitMQ - bind DLQ with an exchange using one routing key","body":"<p>I am using Spring Cloud Stream version <code>3.0.6.RELEASE</code>.</p>\n<p>I have an existing exchange called <code>my.queue.exchange</code>. My application contains one consumer, I want to create a queue called <code>MY_QUEUE</code> and bind that queue to <code>my.queue.exchange</code> exchange. Additionally, I want to republish failed messages to a DLQ called <code>MY_QUEUE_DLQ</code>.</p>\n<p>My problem is that the dead letter queue called <code>MY_QUEUE_DLQ</code> is bound to <code>my.queue.exchange.dlx</code> exchange with two routing keys instead of one, the first one with routing key <code>my.queue.rkey.dlx</code> and the second one with routing key <code>MY_QUEUE</code></p>\n<p>My consumer bean:</p>\n<pre><code>@Bean\npublic Consumer&lt;Dto&gt; consumeFunction() {\n\n    return dto -&gt; {\n       // do stuff\n    };\n}\n</code></pre>\n<p>my <code>application.yml</code>:</p>\n<pre><code>spring:\n  cloud:\n    stream:\n      function:\n        definition: consumeFunction\n      rabbit:\n        bindings:\n          consumeFunction-in-0:\n            consumer:\n              autoBindDlq: true\n              deadLetterQueueName: MY_QUEUE_DLQ\n              deadLetterExchange: my.queue.exchange.dlx\n              deadLetterRoutingKey: my.queue.rkey.dlx\n              deadLetterExchangeType: topic\n              declareExchange: false\n              bindQueue: true\n              queueNameGroupOnly: true\n              bindingRoutingKey: 'my.queue.rkey'\n      bindings:\n        consumeFunction-in-0:\n          destination: my.queue.exchange\n          group: MY_QUEUE\n</code></pre>\n"},{"tags":["java","google-cloud-platform","google-bigquery"],"answers":[{"tags":[],"owner":{"account_id":18205236,"reputation":1825,"user_id":13248738,"display_name":"ewertonvsilva"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640878300,"creation_date":1640878300,"answer_id":70533635,"question_id":70517255,"body_markdown":"There is no `LAST_INDEX` method you can you for the pagination, as you can check in the [documentation](https://javadoc.io/static/com.google.cloud/google-cloud-bigquery/1.54.0/com/google/cloud/bigquery/BigQuery.TableDataListOption.html). \r\n\r\nAbout your request:\r\n\r\n&gt;  I want to read data in chunks like the first 10 records in one process, then the next 20 records in another process and etc.,\r\n\r\nUsing python you can use some parameters as `max_results` and `start_index` to perform it, but in java the only way will be paginating on your query, and change it for each process. So for each process in parallel you will have a different query.\r\n\r\nSo, each process will have to:\r\n1. Order by some field (or by all the fields) to guarantee every query will return the data in the same order\r\n2. Paginate using `limit` and `offset`:\r\n\r\ni.e:\r\n\r\n```java\r\nString query = &quot;SELECT id, qtr, sales, year FROM `gcs.mydataset.mytable` &quot; +\r\n               &quot;ORDER BY id, qtr, sales, year &quot; +\r\n               &quot;LIMIT 10 &quot; +\r\n               &quot;OFFSET &quot; + String.valueOf(process_number * 10)\r\n;\r\n```\r\nProcess 0 will have lines 0-9 (limit 10 offset 0); &lt;br&gt;\r\nProcess 1 will have lines 10-19 (limit 10 offset 10)\r\n \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KbY8T.png\r\n","title":"BigQuery Select data based on Start Index and Last Index","body":"<p>There is no <code>LAST_INDEX</code> method you can you for the pagination, as you can check in the <a href=\"https://javadoc.io/static/com.google.cloud/google-cloud-bigquery/1.54.0/com/google/cloud/bigquery/BigQuery.TableDataListOption.html\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<p>About your request:</p>\n<blockquote>\n<p>I want to read data in chunks like the first 10 records in one process, then the next 20 records in another process and etc.,</p>\n</blockquote>\n<p>Using python you can use some parameters as <code>max_results</code> and <code>start_index</code> to perform it, but in java the only way will be paginating on your query, and change it for each process. So for each process in parallel you will have a different query.</p>\n<p>So, each process will have to:</p>\n<ol>\n<li>Order by some field (or by all the fields) to guarantee every query will return the data in the same order</li>\n<li>Paginate using <code>limit</code> and <code>offset</code>:</li>\n</ol>\n<p>i.e:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String query = &quot;SELECT id, qtr, sales, year FROM `gcs.mydataset.mytable` &quot; +\n               &quot;ORDER BY id, qtr, sales, year &quot; +\n               &quot;LIMIT 10 &quot; +\n               &quot;OFFSET &quot; + String.valueOf(process_number * 10)\n;\n</code></pre>\n<p>Process 0 will have lines 0-9 (limit 10 offset 0); <br>\nProcess 1 will have lines 10-19 (limit 10 offset 10)</p>\n<p><a href=\"https://i.stack.imgur.com/KbY8T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KbY8T.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":7267060,"reputation":239,"user_id":5541338,"display_name":"1stenjoydmoment"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":827,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70533635,"answer_count":1,"score":3,"last_activity_date":1641201582,"creation_date":1640768720,"question_id":70517255,"body_markdown":"I am using below code to get the data from BigQuery.\r\n\r\n    public class BQTEST {\r\n        public static void main(String... args) throws Exception {\r\n            String datasetName = &quot;mydataset&quot;;\r\n            String tableName = &quot;mytable&quot;;\r\n            String projectId = &quot;gcs&quot;;\r\n            String query =\r\n                    &quot;SELECT id, &quot; +\r\n                            &quot;qtr, &quot; +\r\n                            &quot;sales, &quot; +\r\n                            &quot;year &quot; +\r\n                            &quot;FROM `gcs.mydataset.mytable` &quot; +\r\n                            ;\r\n            BigQuery bigquery = BigQueryOptions.newBuilder().setProjectId(projectId)\r\n                    .setCredentials(\r\n                            ServiceAccountCredentials.fromStream(new\r\n                                    FileInputStream(&quot;20a3c78f8388.json&quot;))\r\n                    )\r\n                    .build().getService();\r\n            TableId tableId = TableId.of(projectId, datasetName, tableName);\r\n            QueryJobConfiguration queryConfig = QueryJobConfiguration\r\n                    .newBuilder(query)\r\n                    .build();\r\n            try {\r\n                bigquery.query(queryConfig);\r\n    \r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n                throw new RuntimeException(e.getMessage());\r\n            }\r\n            TableResult results = bigquery.listTableData(\r\n                    tableId,\r\n                    BigQuery.TableDataListOption.pageSize(1),\r\n                    BigQuery.TableDataListOption.startIndex(5)\r\n            );\r\n    \r\n            for (FieldValueList row : results.iterateAll()) {\r\n                System.out.printf(\r\n                        &quot;ID: %s qtr: %s sales: %s year: %s\\n&quot;, row.get(0).getValue(), row.get(1).getValue(), row.get(2).getValue(), row.get(3).getValue());\r\n            }\r\n    \r\n    \r\n        }\r\n    }\r\n\r\n\r\n`BigQuery.TableDataListOption.startIndex(5)` -- This will help to read data from 5th index, index starts from 0.\r\n\r\nBut I want to read data in chunks like the first 10 records in one process, then the next 20 records in another process and etc.\r\n\r\nTrying to read data from a very big table in a parallel process. It&#39;s a Truncate/Load table. So no partitions and date range to read data.\r\n\r\nI am not able to find a way to give `LAST_INDEX` value in any of the BigQuery Methods.\r\n\r\nCould someone help with this?\r\n\r\n\r\n","title":"BigQuery Select data based on Start Index and Last Index","body":"<p>I am using below code to get the data from BigQuery.</p>\n<pre><code>public class BQTEST {\n    public static void main(String... args) throws Exception {\n        String datasetName = &quot;mydataset&quot;;\n        String tableName = &quot;mytable&quot;;\n        String projectId = &quot;gcs&quot;;\n        String query =\n                &quot;SELECT id, &quot; +\n                        &quot;qtr, &quot; +\n                        &quot;sales, &quot; +\n                        &quot;year &quot; +\n                        &quot;FROM `gcs.mydataset.mytable` &quot; +\n                        ;\n        BigQuery bigquery = BigQueryOptions.newBuilder().setProjectId(projectId)\n                .setCredentials(\n                        ServiceAccountCredentials.fromStream(new\n                                FileInputStream(&quot;20a3c78f8388.json&quot;))\n                )\n                .build().getService();\n        TableId tableId = TableId.of(projectId, datasetName, tableName);\n        QueryJobConfiguration queryConfig = QueryJobConfiguration\n                .newBuilder(query)\n                .build();\n        try {\n            bigquery.query(queryConfig);\n\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n            throw new RuntimeException(e.getMessage());\n        }\n        TableResult results = bigquery.listTableData(\n                tableId,\n                BigQuery.TableDataListOption.pageSize(1),\n                BigQuery.TableDataListOption.startIndex(5)\n        );\n\n        for (FieldValueList row : results.iterateAll()) {\n            System.out.printf(\n                    &quot;ID: %s qtr: %s sales: %s year: %s\\n&quot;, row.get(0).getValue(), row.get(1).getValue(), row.get(2).getValue(), row.get(3).getValue());\n        }\n\n\n    }\n}\n</code></pre>\n<p><code>BigQuery.TableDataListOption.startIndex(5)</code> -- This will help to read data from 5th index, index starts from 0.</p>\n<p>But I want to read data in chunks like the first 10 records in one process, then the next 20 records in another process and etc.</p>\n<p>Trying to read data from a very big table in a parallel process. It's a Truncate/Load table. So no partitions and date range to read data.</p>\n<p>I am not able to find a way to give <code>LAST_INDEX</code> value in any of the BigQuery Methods.</p>\n<p>Could someone help with this?</p>\n"},{"tags":["java","spring-boot","hibernate","annotations","audit"],"comments":[{"owner":{"account_id":15958696,"reputation":1080,"user_id":11516350,"display_name":"UrbanoJVR"},"score":0,"creation_date":1615422177,"post_id":66574436,"comment_id":117688958,"body_markdown":"Check de documentation deeply, but Im 99% sure that is not posible. When you are saving, really it is a type of update. If you have, for example, 2 columns: one for update time stamp and another for insert time stamp, when you save an object and no update it after, both will have same value,","body":"Check de documentation deeply, but Im 99% sure that is not posible. When you are saving, really it is a type of update. If you have, for example, 2 columns: one for update time stamp and another for insert time stamp, when you save an object and no update it after, both will have same value,"},{"owner":{"account_id":7754530,"reputation":2019,"user_id":5869384,"display_name":"David Jesus"},"score":0,"creation_date":1615422714,"post_id":66574436,"comment_id":117689088,"body_markdown":"Is exactly what is happening, `createdAt` and `updatedAt` have the same value after entity creation. `createdAt` have the `@CreationTimestamp` annotation.","body":"Is exactly what is happening, <code>createdAt</code> and <code>updatedAt</code> have the same value after entity creation. <code>createdAt</code> have the <code>@CreationTimestamp</code> annotation."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":3,"creation_date":1615423379,"post_id":66574436,"comment_id":117689236,"body_markdown":"`@UpdateTimestamp` uses `GenerationTiming.ALWAYS` so a value is always generated (either INSERT or UPDATE).  Not sure if will work, but perhaps try `@Column(... insertable = false)`.","body":"<code>@UpdateTimestamp</code> uses <code>GenerationTiming.ALWAYS</code> so a value is always generated (either INSERT or UPDATE).  Not sure if will work, but perhaps try <code>@Column(... insertable = false)</code>."},{"owner":{"account_id":15958696,"reputation":1080,"user_id":11516350,"display_name":"UrbanoJVR"},"score":0,"creation_date":1615424690,"post_id":66574436,"comment_id":117689530,"body_markdown":"Is not bad behavior. If you have same value in both columns (insert and update timestamp) it means that user hasn&#39;t edited anything (yeah, thats obvious). Usually, the insert time stamp is marked as not updateable. So, you have an easy way to audit, &#191;why do you need the update field as null? it my help","body":"Is not bad behavior. If you have same value in both columns (insert and update timestamp) it means that user hasn&#39;t edited anything (yeah, thats obvious). Usually, the insert time stamp is marked as not updateable. So, you have an easy way to audit, &#191;why do you need the update field as null? it my help"},{"owner":{"account_id":7754530,"reputation":2019,"user_id":5869384,"display_name":"David Jesus"},"score":0,"creation_date":1615425259,"post_id":66574436,"comment_id":117689657,"body_markdown":"I need to return the list of objects that are not updated then I think that can be reached whit that field. Meanwhile, I will remove the annotation and handle the date manually.","body":"I need to return the list of objects that are not updated then I think that can be reached whit that field. Meanwhile, I will remove the annotation and handle the date manually."},{"owner":{"account_id":11653603,"reputation":2210,"user_id":8534088,"display_name":"Dmitriy Popov"},"score":0,"creation_date":1624011849,"post_id":66574436,"comment_id":120246889,"body_markdown":"This is actually a nice behaviour, but the worst thing is that it actually does not always set exactly the same value, as a result the tests are flakily failing when comparing these fields:  `expected: 2021-06-18T12:20:36.492604+02:00[Europe/Berlin] (java.time.ZonedDateTime)\nbut was : 2021-06-18T12:20:36.492092+02:00[Europe/Berlin] (java.time.ZonedDateTime)`","body":"This is actually a nice behaviour, but the worst thing is that it actually does not always set exactly the same value, as a result the tests are flakily failing when comparing these fields:  <code>expected: 2021-06-18T12:20:36.492604+02:00[Europe&#47;Berlin] (java.time.ZonedDateTime) but was : 2021-06-18T12:20:36.492092+02:00[Europe&#47;Berlin] (java.time.ZonedDateTime)</code>"}],"answers":[{"tags":[],"owner":{"account_id":13413154,"reputation":106,"user_id":9678756,"display_name":"Daniel Szuta"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1641201541,"creation_date":1641196088,"answer_id":70562903,"question_id":66574436,"body_markdown":"As [Andrew S][1] suggested [in a comment][2], a combination of `@UpdateTimestamp` and `@Column(... insertable = false)` did the trick form me.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/6650475/andrew-s\r\n  [2]: https://stackoverflow.com/questions/66574436/why-updatetimestamp-is-setting-a-value-by-default-on-entity-creation/70562903#comment117689236_66574436","title":"Why @UpdateTimestamp is setting a value by default on entity creation?","body":"<p>As <a href=\"https://stackoverflow.com/users/6650475/andrew-s\">Andrew S</a> suggested <a href=\"https://stackoverflow.com/questions/66574436/why-updatetimestamp-is-setting-a-value-by-default-on-entity-creation/70562903#comment117689236_66574436\">in a comment</a>, a combination of <code>@UpdateTimestamp</code> and <code>@Column(... insertable = false)</code> did the trick form me.</p>\n"}],"owner":{"account_id":7754530,"reputation":2019,"user_id":5869384,"display_name":"David Jesus"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1362,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1641201541,"creation_date":1615419424,"question_id":66574436,"body_markdown":"I have an entity with a field to save the date when the entity was updated. I&#39;m using the annotations below:\r\n\r\n```\r\n@Temporal(TemporalType.TIMESTAMP)\r\n@UpdateTimestamp\r\n@Column(name = &quot;updated_at&quot;, nullable = true)\r\nprivate Date updatedAt;\r\n```\r\n\r\nI want `updatedAt` in `null` as default value but I have as default value the same date when the entity was created.\r\n\r\nIn my `@Service` class I save the entity like this:\r\n\r\n```\r\nvisitorRepository.saveAndFlush(visitor)\r\n```\r\n\r\nThere is a way to save my updatedAt in null as default value using @UpdateTimestamp?","title":"Why @UpdateTimestamp is setting a value by default on entity creation?","body":"<p>I have an entity with a field to save the date when the entity was updated. I'm using the annotations below:</p>\n<pre><code>@Temporal(TemporalType.TIMESTAMP)\n@UpdateTimestamp\n@Column(name = &quot;updated_at&quot;, nullable = true)\nprivate Date updatedAt;\n</code></pre>\n<p>I want <code>updatedAt</code> in <code>null</code> as default value but I have as default value the same date when the entity was created.</p>\n<p>In my <code>@Service</code> class I save the entity like this:</p>\n<pre><code>visitorRepository.saveAndFlush(visitor)\n</code></pre>\n<p>There is a way to save my updatedAt in null as default value using @UpdateTimestamp?</p>\n"},{"tags":["java","android","android-layout"],"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":1,"creation_date":1641201454,"post_id":70563612,"comment_id":124737350,"body_markdown":"all of your code seems very outdated, not sure why you would still be using linear and relative layout, but that&#39;s fine, but i don&#39;t understand why you&#39;re going about doing this manually, why not just use a recyclerview for this, instead of creating views yourself ?","body":"all of your code seems very outdated, not sure why you would still be using linear and relative layout, but that&#39;s fine, but i don&#39;t understand why you&#39;re going about doing this manually, why not just use a recyclerview for this, instead of creating views yourself ?"},{"owner":{"account_id":14102283,"reputation":337,"user_id":10187359,"display_name":"fathi93"},"score":0,"creation_date":1641204366,"post_id":70563612,"comment_id":124738218,"body_markdown":"I don&#39;t get it. How can i use recycler view to create multiple Text Fields without knowing the needs of the user?","body":"I don&#39;t get it. How can i use recycler view to create multiple Text Fields without knowing the needs of the user?"},{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1641205251,"post_id":70563612,"comment_id":124738505,"body_markdown":"why wouldn&#39;t it work ? user presses a button, you add a new model to your recycler adapter, the recycler will show a new item in the list for the user to input items to.","body":"why wouldn&#39;t it work ? user presses a button, you add a new model to your recycler adapter, the recycler will show a new item in the list for the user to input items to."},{"owner":{"account_id":14102283,"reputation":337,"user_id":10187359,"display_name":"fathi93"},"score":0,"creation_date":1641206293,"post_id":70563612,"comment_id":124738798,"body_markdown":"Can you show me an example please?","body":"Can you show me an example please?"}],"owner":{"account_id":14102283,"reputation":337,"user_id":10187359,"display_name":"fathi93"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641201389,"creation_date":1641201257,"question_id":70563612,"body_markdown":"i am creating an app for someone. In that app, there is an activity where he can save his charge fees by entering the name and the amount.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nFor that i&#39;m using two TextInputLayouts. The first TextInputLayout has an inputType value that is &quot;text&quot; and imeOptions is &quot;actionNext&quot;. The second one has an inputType value that is &quot;number&quot; and imeOptions is &quot;actionDone&quot;.\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/nom&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/toolbar&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:layout_marginHorizontal=&quot;30dp&quot;\r\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\r\n        app:boxCornerRadiusTopStart=&quot;7dp&quot;\r\n        app:endIconMode=&quot;clear_text&quot;\r\n        app:boxStrokeColor=&quot;#25B1EF&quot;\r\n        app:hintTextColor=&quot;#25B1EF&quot;\r\n        app:errorEnabled=&quot;true&quot;&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputEditText\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:hint=&quot;Nom&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        android:inputType=&quot;text&quot;\r\n        android:imeOptions=&quot;actionNext&quot;/&gt;\r\n\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/argent&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/nom&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:layout_marginHorizontal=&quot;30dp&quot;\r\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\r\n        app:boxCornerRadiusTopStart=&quot;7dp&quot;\r\n        app:endIconMode=&quot;clear_text&quot;\r\n        app:boxStrokeColor=&quot;#25B1EF&quot;\r\n        app:hintTextColor=&quot;#25B1EF&quot;\r\n        app:errorEnabled=&quot;true&quot;&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputEditText\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:hint=&quot;prix total&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        android:inputType=&quot;number&quot;\r\n        android:imeOptions=&quot;actionDone&quot;/&gt;\r\n\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\nSo, when he wants to add a charge fee, it will be like this :\r\n\r\n[![enter image description here][2]][2]\r\n\r\nSometimes, he might need to save more than one charge. In that case, I prepared 2 more TextInputLayout Fields (new_depense_row.xml) that will be created programmatically whenever imeOptions is &quot;actionDone&quot;. A function called `addView()` is responsible of creating the views.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:id=&quot;@+id/nom&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;\r\n            android:layout_marginHorizontal=&quot;30dp&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\r\n            app:boxCornerRadiusTopStart=&quot;7dp&quot;\r\n            app:endIconMode=&quot;clear_text&quot;\r\n            app:boxStrokeColor=&quot;#25B1EF&quot;\r\n            app:hintTextColor=&quot;#25B1EF&quot;\r\n            app:errorEnabled=&quot;true&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Nom&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            android:inputType=&quot;text&quot;\r\n            android:imeOptions=&quot;actionNext&quot;/&gt;\r\n\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:id=&quot;@+id/argent&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@+id/nom&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;\r\n            android:layout_marginHorizontal=&quot;30dp&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\r\n            app:boxCornerRadiusTopStart=&quot;7dp&quot;\r\n            app:endIconMode=&quot;clear_text&quot;\r\n            app:boxStrokeColor=&quot;#25B1EF&quot;\r\n            app:hintTextColor=&quot;#25B1EF&quot;\r\n            app:errorEnabled=&quot;true&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;prix total&quot;            \r\n            android:textSize=&quot;20sp&quot;\r\n            android:inputType=&quot;number&quot;\r\n            android:imeOptions=&quot;actionDone&quot;/&gt;\r\n\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\n    nameInputLayout = findViewById(R.id.nom);\r\n    argentInputLayout = findViewById(R.id.argent);\r\n    LinearLayout layoutNewDepenses = findViewById(R.id.layout_new_depenses);\r\n\r\n    EditText editText = argentInputLayout.getEditText();\r\n    editText.setOnEditorActionListener((v, actionId, event) -&gt; {\r\n        boolean handled = false;\r\n        if (actionId == EditorInfo.IME_ACTION_DONE) {\r\n            addView();\r\n            handled = true;\r\n        }\r\n        return handled;\r\n    });\r\n        \r\n\r\n    private void addView() {\r\n\r\n        final View cricketerView = getLayoutInflater().inflate(R.layout.new_depense_row,null,false);\r\n        TextInputLayout nameInputLayout = findViewById(R.id.nom);\r\n        TextInputLayout argentInputLayout = findViewById(R.id.argent);\r\n\r\n        nameInputLayout.requestFocus();\r\n\r\n        editText = argentInputLayout.getEditText();\r\n        editText.setOnEditorActionListener((v, actionId, event) -&gt; {\r\n            boolean handled = false;\r\n            if (actionId == EditorInfo.IME_ACTION_DONE) {\r\n                this.addView();\r\n                handled = true;\r\n            }\r\n            return handled;\r\n        });\r\n\r\n        layoutNewDepenses.addView(cricketerView);\r\n\r\n    }\r\n\r\n\r\n\r\n\r\nWhen the second TextInputLayout Field for entering the amount has the focus, instead of clicking the save button (Enregistrer), he has to click on the carriage return button of the keyboard (it&#39;s the arrow that&#39;s under the delete arrow). After clicking, two Text Fields will be added like this :\r\n\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\nI forgot to mention something. Only the first two TextInputLayout Fields are in the layout of the activity. The other TextInputLayout Fields that are created programmatically are in another file named new_depense_row.xml. Whenever imeOptions is &quot;actionDone&quot;, that file is deserialized and it&#39;s added to a LinearLayout view that&#39;s part of the layout of activity :\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/layout_new_depenses&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:layout_below=&quot;@id/argent&quot;\r\n        android:layout_marginTop=&quot;25dp&quot;/&gt;\r\n\r\nI met two problems :\r\nFirst, the Text Field for the name has the focus when it&#39;s created programmatically even when i requested it.\r\n\r\nThe second one is that the views are created only once. After the first two TextInputLayout Fields are created programmatically, it stopps there. It means that for now on, i can add only 2 charge fees and i can not add more. But i don&#39;t want that.\r\n\r\nI hope i make my self clear. Can somebody help me ?\r\n\r\nHere is the code for all the files.\r\n\r\nLayout activity : activity_add_argent.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/rootView&quot;\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@android:color/holo_blue_bright&quot;\r\n        tools:context=&quot;.Controllers.Activities.AddChargeActivity&quot;&gt;\r\n\r\n    &lt;!-- Toolbar --&gt;\r\n    &lt;include\r\n        layout=&quot;@layout/toolbar_layout&quot; /&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/nom&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/toolbar&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:layout_marginHorizontal=&quot;30dp&quot;\r\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\r\n        app:boxCornerRadiusTopStart=&quot;7dp&quot;\r\n        app:endIconMode=&quot;clear_text&quot;\r\n        app:boxStrokeColor=&quot;#25B1EF&quot;\r\n        app:hintTextColor=&quot;#25B1EF&quot;\r\n        app:errorEnabled=&quot;true&quot;&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputEditText\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:hint=&quot;Nom&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        android:inputType=&quot;text&quot;\r\n        android:imeOptions=&quot;actionNext&quot;/&gt;\r\n\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/argent&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/nom&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:layout_marginHorizontal=&quot;30dp&quot;\r\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\r\n        app:boxCornerRadiusTopStart=&quot;7dp&quot;\r\n        app:endIconMode=&quot;clear_text&quot;\r\n        app:boxStrokeColor=&quot;#25B1EF&quot;\r\n        app:hintTextColor=&quot;#25B1EF&quot;\r\n        app:errorEnabled=&quot;true&quot;&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputEditText\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:hint=&quot;prix total&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        android:inputType=&quot;number&quot;\r\n        android:imeOptions=&quot;actionDone&quot;/&gt;\r\n\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/layout_new_depenses&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:layout_below=&quot;@id/argent&quot;\r\n        android:layout_marginTop=&quot;25dp&quot;/&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/save_argent&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginHorizontal=&quot;30dp&quot;\r\n        android:layout_marginTop=&quot;@android:dimen/app_icon_size&quot;\r\n        android:text=&quot;Enregistrer&quot;\r\n        android:layout_below=&quot;@+id/layout_new_depenses&quot; /&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\nActivity File : AddChargeActivity\r\n\r\n    public class AddChargeActivity extends AppCompatActivity {\r\n\r\n        EditText editText;\r\n        TextInputLayout nameInputLayout, argentInputLayout;\r\n        RelativeLayout rootView;\r\n        LinearLayout layoutNewDepenses;\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_add_argent);\r\n\r\n            rootView = findViewById(R.id.rootView);\r\n            nameInputLayout = findViewById(R.id.nom);\r\n            argentInputLayout = findViewById(R.id.argent);\r\n            layoutNewDepenses = findViewById(R.id.layout_new_depenses);\r\n\r\n            editText = argentInputLayout.getEditText();\r\n            editText.setOnEditorActionListener((v, actionId, event) -&gt; {\r\n                boolean handled = false;\r\n                if (actionId == EditorInfo.IME_ACTION_DONE) {\r\n                    addView();\r\n                    handled = true;\r\n                }\r\n                return handled;\r\n            });\r\n\r\n            Button saveKhatBtn = findViewById(R.id.save_argent);\r\n            saveKhatBtn.setOnClickListener(v -&gt; startProcess());\r\n        }\r\n\r\n        private void addView() {\r\n\r\n            final View cricketerView = getLayoutInflater().inflate(R.layout.new_depense_row,null,false);\r\n            TextInputLayout nameInputLayout = findViewById(R.id.nom);\r\n            TextInputLayout argentInputLayout = findViewById(R.id.argent);\r\n\r\n            nameInputLayout.requestFocus();\r\n\r\n            editText = argentInputLayout.getEditText();\r\n            editText.setOnEditorActionListener((v, actionId, event) -&gt; {\r\n                boolean handled = false;\r\n                if (actionId == EditorInfo.IME_ACTION_DONE) {\r\n                    this.addView();\r\n                    handled = true;\r\n                }\r\n                return handled;\r\n            });\r\n\r\n            layoutNewDepenses.addView(cricketerView);\r\n\r\n        }\r\n\r\n        private void startProcess() {\r\n            if (!validateString(nameInputLayout, &quot;Renseignez le nom&quot;) | !validateString(argentInputLayout, &quot;Renseignez l&#39;argent pris&quot;))\r\n                return;\r\n\r\n            ProgressDialog progressDialog = configureProgression(this);\r\n\r\n            String nameClient = getInputs(nameInputLayout);\r\n            String argent = getInputs(argentInputLayout);\r\n\r\n            Map argentMap = new HashMap();\r\n            argentMap.put(&quot;name&quot;, nameClient);\r\n            argentMap.put(&quot;argent&quot;, argent);\r\n\r\n            String id = nameClient + &quot;-&quot; + argent;\r\n\r\n            getDayOnlyDocumentReference(choosenYear, choosenMonth, choosenDay).get().addOnCompleteListener(task -&gt; {\r\n                Total totaux = task.getResult().toObject(Total.class);\r\n\r\n                if (totaux != null) {\r\n                    getDateCollectionReference(choosenDate).document(CHARGES)\r\n                        .collection(CHARGES).document(id).set(argentMap)\r\n                        .addOnSuccessListener(unused -&gt; {\r\n\r\n                        int nouvelleDepense = Integer.parseInt(totaux.getTotal_charge());\r\n                        nouvelleDepense += Integer.parseInt(argent);\r\n\r\n                        int resultat_1 = Integer.parseInt(totaux.getResultat_1());\r\n                        resultat_1 -= Integer.parseInt(argent);\r\n\r\n                        int resultat_final = Integer.parseInt(totaux.getResultat_final());\r\n                        resultat_final -= Integer.parseInt(argent);\r\n\r\n                        Map updateMap = new HashMap();\r\n                        updateMap.put(TOTAL_CHARGE, String.valueOf(nouvelleDepense));\r\n                        updateMap.put(RESULTAT_1, String.valueOf(resultat_1));\r\n                        updateMap.put(RESULTAT_FINAL, String.valueOf(resultat_final));\r\n\r\n                        getDayOnlyDocumentReference(choosenYear, choosenMonth, choosenDay).update(updateMap).addOnSuccessListener(o -&gt; {\r\n                            nameInputLayout.getEditText().setText(&quot;&quot;);\r\n                            argentInputLayout.getEditText().setText(&quot;&quot;);\r\n                            progressDialog.dismiss();\r\n                            showDoneSnackbar(this, rootView);\r\n                        });\r\n                    }).addOnFailureListener(e -&gt; {\r\n                        progressDialog.dismiss();\r\n                        showProblemSnackbar(this, rootView);\r\n                    });\r\n                } else {\r\n                    progressDialog.dismiss();\r\n                    Snackbar.make(this, rootView, &quot;Vous devez d&#39;abord ajouter le stock de khat de la journ&#233;e !&quot;, Snackbar.LENGTH_LONG)\r\n                    .setBackgroundTint(Color.RED).show();\r\n                }\r\n            }).addOnFailureListener(e -&gt; {\r\n                progressDialog.dismiss();\r\n                showProblemSnackbar(this, rootView);\r\n            });\r\n        }\r\n    }\r\n\r\nLayout for The two TextInputLayout Fields : new_depense_row.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:id=&quot;@+id/nom&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;\r\n            android:layout_marginHorizontal=&quot;30dp&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\r\n            app:boxCornerRadiusTopStart=&quot;7dp&quot;\r\n            app:endIconMode=&quot;clear_text&quot;\r\n            app:boxStrokeColor=&quot;#25B1EF&quot;\r\n            app:hintTextColor=&quot;#25B1EF&quot;\r\n            app:errorEnabled=&quot;true&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Nom&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            android:inputType=&quot;text&quot;\r\n            android:imeOptions=&quot;actionNext&quot;/&gt;\r\n\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:id=&quot;@+id/argent&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@+id/nom&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;\r\n            android:layout_marginHorizontal=&quot;30dp&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\r\n            app:boxCornerRadiusTopStart=&quot;7dp&quot;\r\n            app:endIconMode=&quot;clear_text&quot;\r\n            app:boxStrokeColor=&quot;#25B1EF&quot;\r\n            app:hintTextColor=&quot;#25B1EF&quot;\r\n            app:errorEnabled=&quot;true&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;prix total&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            android:inputType=&quot;number&quot;\r\n            android:imeOptions=&quot;actionDone&quot;/&gt;\r\n\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wrCjS.jpg\r\n  [2]: https://i.stack.imgur.com/WJti7.jpg\r\n  [3]: https://i.stack.imgur.com/ucVu6.jpg\r\n  [4]: https://i.stack.imgur.com/QERF1.jpg","title":"My recursive function is not creating TextInputLayouts","body":"<p>i am creating an app for someone. In that app, there is an activity where he can save his charge fees by entering the name and the amount.</p>\n<p><a href=\"https://i.stack.imgur.com/wrCjS.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wrCjS.jpg\" alt=\"enter image description here\" /></a></p>\n<p>For that i'm using two TextInputLayouts. The first TextInputLayout has an inputType value that is &quot;text&quot; and imeOptions is &quot;actionNext&quot;. The second one has an inputType value that is &quot;number&quot; and imeOptions is &quot;actionDone&quot;.</p>\n<pre><code>&lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/nom&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_below=&quot;@+id/toolbar&quot;\n    android:layout_marginTop=&quot;20dp&quot;\n    android:layout_marginHorizontal=&quot;30dp&quot;\n    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\n    app:boxCornerRadiusTopStart=&quot;7dp&quot;\n    app:endIconMode=&quot;clear_text&quot;\n    app:boxStrokeColor=&quot;#25B1EF&quot;\n    app:hintTextColor=&quot;#25B1EF&quot;\n    app:errorEnabled=&quot;true&quot;&gt;\n\n&lt;com.google.android.material.textfield.TextInputEditText\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:hint=&quot;Nom&quot;\n    android:textSize=&quot;20sp&quot;\n    android:inputType=&quot;text&quot;\n    android:imeOptions=&quot;actionNext&quot;/&gt;\n\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n&lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/argent&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_below=&quot;@+id/nom&quot;\n    android:layout_marginTop=&quot;20dp&quot;\n    android:layout_marginHorizontal=&quot;30dp&quot;\n    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\n    app:boxCornerRadiusTopStart=&quot;7dp&quot;\n    app:endIconMode=&quot;clear_text&quot;\n    app:boxStrokeColor=&quot;#25B1EF&quot;\n    app:hintTextColor=&quot;#25B1EF&quot;\n    app:errorEnabled=&quot;true&quot;&gt;\n\n&lt;com.google.android.material.textfield.TextInputEditText\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:hint=&quot;prix total&quot;\n    android:textSize=&quot;20sp&quot;\n    android:inputType=&quot;number&quot;\n    android:imeOptions=&quot;actionDone&quot;/&gt;\n\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n<p>So, when he wants to add a charge fee, it will be like this :</p>\n<p><a href=\"https://i.stack.imgur.com/WJti7.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WJti7.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Sometimes, he might need to save more than one charge. In that case, I prepared 2 more TextInputLayout Fields (new_depense_row.xml) that will be created programmatically whenever imeOptions is &quot;actionDone&quot;. A function called <code>addView()</code> is responsible of creating the views.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/nom&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;20dp&quot;\n        android:layout_marginHorizontal=&quot;30dp&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\n        app:boxCornerRadiusTopStart=&quot;7dp&quot;\n        app:endIconMode=&quot;clear_text&quot;\n        app:boxStrokeColor=&quot;#25B1EF&quot;\n        app:hintTextColor=&quot;#25B1EF&quot;\n        app:errorEnabled=&quot;true&quot;&gt;\n\n    &lt;com.google.android.material.textfield.TextInputEditText\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Nom&quot;\n        android:textSize=&quot;20sp&quot;\n        android:inputType=&quot;text&quot;\n        android:imeOptions=&quot;actionNext&quot;/&gt;\n\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/argent&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@+id/nom&quot;\n        android:layout_marginTop=&quot;20dp&quot;\n        android:layout_marginHorizontal=&quot;30dp&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\n        app:boxCornerRadiusTopStart=&quot;7dp&quot;\n        app:endIconMode=&quot;clear_text&quot;\n        app:boxStrokeColor=&quot;#25B1EF&quot;\n        app:hintTextColor=&quot;#25B1EF&quot;\n        app:errorEnabled=&quot;true&quot;&gt;\n\n    &lt;com.google.android.material.textfield.TextInputEditText\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;prix total&quot;            \n        android:textSize=&quot;20sp&quot;\n        android:inputType=&quot;number&quot;\n        android:imeOptions=&quot;actionDone&quot;/&gt;\n\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n&lt;/RelativeLayout&gt;\n\n\nnameInputLayout = findViewById(R.id.nom);\nargentInputLayout = findViewById(R.id.argent);\nLinearLayout layoutNewDepenses = findViewById(R.id.layout_new_depenses);\n\nEditText editText = argentInputLayout.getEditText();\neditText.setOnEditorActionListener((v, actionId, event) -&gt; {\n    boolean handled = false;\n    if (actionId == EditorInfo.IME_ACTION_DONE) {\n        addView();\n        handled = true;\n    }\n    return handled;\n});\n    \n\nprivate void addView() {\n\n    final View cricketerView = getLayoutInflater().inflate(R.layout.new_depense_row,null,false);\n    TextInputLayout nameInputLayout = findViewById(R.id.nom);\n    TextInputLayout argentInputLayout = findViewById(R.id.argent);\n\n    nameInputLayout.requestFocus();\n\n    editText = argentInputLayout.getEditText();\n    editText.setOnEditorActionListener((v, actionId, event) -&gt; {\n        boolean handled = false;\n        if (actionId == EditorInfo.IME_ACTION_DONE) {\n            this.addView();\n            handled = true;\n        }\n        return handled;\n    });\n\n    layoutNewDepenses.addView(cricketerView);\n\n}\n</code></pre>\n<p>When the second TextInputLayout Field for entering the amount has the focus, instead of clicking the save button (Enregistrer), he has to click on the carriage return button of the keyboard (it's the arrow that's under the delete arrow). After clicking, two Text Fields will be added like this :</p>\n<p><a href=\"https://i.stack.imgur.com/ucVu6.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ucVu6.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/QERF1.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QERF1.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I forgot to mention something. Only the first two TextInputLayout Fields are in the layout of the activity. The other TextInputLayout Fields that are created programmatically are in another file named new_depense_row.xml. Whenever imeOptions is &quot;actionDone&quot;, that file is deserialized and it's added to a LinearLayout view that's part of the layout of activity :</p>\n<pre><code>&lt;LinearLayout\n    android:id=&quot;@+id/layout_new_depenses&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_below=&quot;@id/argent&quot;\n    android:layout_marginTop=&quot;25dp&quot;/&gt;\n</code></pre>\n<p>I met two problems :\nFirst, the Text Field for the name has the focus when it's created programmatically even when i requested it.</p>\n<p>The second one is that the views are created only once. After the first two TextInputLayout Fields are created programmatically, it stopps there. It means that for now on, i can add only 2 charge fees and i can not add more. But i don't want that.</p>\n<p>I hope i make my self clear. Can somebody help me ?</p>\n<p>Here is the code for all the files.</p>\n<p>Layout activity : activity_add_argent.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout\n    android:id=&quot;@+id/rootView&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@android:color/holo_blue_bright&quot;\n    tools:context=&quot;.Controllers.Activities.AddChargeActivity&quot;&gt;\n\n&lt;!-- Toolbar --&gt;\n&lt;include\n    layout=&quot;@layout/toolbar_layout&quot; /&gt;\n\n&lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/nom&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_below=&quot;@+id/toolbar&quot;\n    android:layout_marginTop=&quot;20dp&quot;\n    android:layout_marginHorizontal=&quot;30dp&quot;\n    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\n    app:boxCornerRadiusTopStart=&quot;7dp&quot;\n    app:endIconMode=&quot;clear_text&quot;\n    app:boxStrokeColor=&quot;#25B1EF&quot;\n    app:hintTextColor=&quot;#25B1EF&quot;\n    app:errorEnabled=&quot;true&quot;&gt;\n\n&lt;com.google.android.material.textfield.TextInputEditText\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:hint=&quot;Nom&quot;\n    android:textSize=&quot;20sp&quot;\n    android:inputType=&quot;text&quot;\n    android:imeOptions=&quot;actionNext&quot;/&gt;\n\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n&lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/argent&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_below=&quot;@+id/nom&quot;\n    android:layout_marginTop=&quot;20dp&quot;\n    android:layout_marginHorizontal=&quot;30dp&quot;\n    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\n    app:boxCornerRadiusTopStart=&quot;7dp&quot;\n    app:endIconMode=&quot;clear_text&quot;\n    app:boxStrokeColor=&quot;#25B1EF&quot;\n    app:hintTextColor=&quot;#25B1EF&quot;\n    app:errorEnabled=&quot;true&quot;&gt;\n\n&lt;com.google.android.material.textfield.TextInputEditText\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:hint=&quot;prix total&quot;\n    android:textSize=&quot;20sp&quot;\n    android:inputType=&quot;number&quot;\n    android:imeOptions=&quot;actionDone&quot;/&gt;\n\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n&lt;LinearLayout\n    android:id=&quot;@+id/layout_new_depenses&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_below=&quot;@id/argent&quot;\n    android:layout_marginTop=&quot;25dp&quot;/&gt;\n\n&lt;Button\n    android:id=&quot;@+id/save_argent&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginHorizontal=&quot;30dp&quot;\n    android:layout_marginTop=&quot;@android:dimen/app_icon_size&quot;\n    android:text=&quot;Enregistrer&quot;\n    android:layout_below=&quot;@+id/layout_new_depenses&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>Activity File : AddChargeActivity</p>\n<pre><code>public class AddChargeActivity extends AppCompatActivity {\n\n    EditText editText;\n    TextInputLayout nameInputLayout, argentInputLayout;\n    RelativeLayout rootView;\n    LinearLayout layoutNewDepenses;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_add_argent);\n\n        rootView = findViewById(R.id.rootView);\n        nameInputLayout = findViewById(R.id.nom);\n        argentInputLayout = findViewById(R.id.argent);\n        layoutNewDepenses = findViewById(R.id.layout_new_depenses);\n\n        editText = argentInputLayout.getEditText();\n        editText.setOnEditorActionListener((v, actionId, event) -&gt; {\n            boolean handled = false;\n            if (actionId == EditorInfo.IME_ACTION_DONE) {\n                addView();\n                handled = true;\n            }\n            return handled;\n        });\n\n        Button saveKhatBtn = findViewById(R.id.save_argent);\n        saveKhatBtn.setOnClickListener(v -&gt; startProcess());\n    }\n\n    private void addView() {\n\n        final View cricketerView = getLayoutInflater().inflate(R.layout.new_depense_row,null,false);\n        TextInputLayout nameInputLayout = findViewById(R.id.nom);\n        TextInputLayout argentInputLayout = findViewById(R.id.argent);\n\n        nameInputLayout.requestFocus();\n\n        editText = argentInputLayout.getEditText();\n        editText.setOnEditorActionListener((v, actionId, event) -&gt; {\n            boolean handled = false;\n            if (actionId == EditorInfo.IME_ACTION_DONE) {\n                this.addView();\n                handled = true;\n            }\n            return handled;\n        });\n\n        layoutNewDepenses.addView(cricketerView);\n\n    }\n\n    private void startProcess() {\n        if (!validateString(nameInputLayout, &quot;Renseignez le nom&quot;) | !validateString(argentInputLayout, &quot;Renseignez l'argent pris&quot;))\n            return;\n\n        ProgressDialog progressDialog = configureProgression(this);\n\n        String nameClient = getInputs(nameInputLayout);\n        String argent = getInputs(argentInputLayout);\n\n        Map argentMap = new HashMap();\n        argentMap.put(&quot;name&quot;, nameClient);\n        argentMap.put(&quot;argent&quot;, argent);\n\n        String id = nameClient + &quot;-&quot; + argent;\n\n        getDayOnlyDocumentReference(choosenYear, choosenMonth, choosenDay).get().addOnCompleteListener(task -&gt; {\n            Total totaux = task.getResult().toObject(Total.class);\n\n            if (totaux != null) {\n                getDateCollectionReference(choosenDate).document(CHARGES)\n                    .collection(CHARGES).document(id).set(argentMap)\n                    .addOnSuccessListener(unused -&gt; {\n\n                    int nouvelleDepense = Integer.parseInt(totaux.getTotal_charge());\n                    nouvelleDepense += Integer.parseInt(argent);\n\n                    int resultat_1 = Integer.parseInt(totaux.getResultat_1());\n                    resultat_1 -= Integer.parseInt(argent);\n\n                    int resultat_final = Integer.parseInt(totaux.getResultat_final());\n                    resultat_final -= Integer.parseInt(argent);\n\n                    Map updateMap = new HashMap();\n                    updateMap.put(TOTAL_CHARGE, String.valueOf(nouvelleDepense));\n                    updateMap.put(RESULTAT_1, String.valueOf(resultat_1));\n                    updateMap.put(RESULTAT_FINAL, String.valueOf(resultat_final));\n\n                    getDayOnlyDocumentReference(choosenYear, choosenMonth, choosenDay).update(updateMap).addOnSuccessListener(o -&gt; {\n                        nameInputLayout.getEditText().setText(&quot;&quot;);\n                        argentInputLayout.getEditText().setText(&quot;&quot;);\n                        progressDialog.dismiss();\n                        showDoneSnackbar(this, rootView);\n                    });\n                }).addOnFailureListener(e -&gt; {\n                    progressDialog.dismiss();\n                    showProblemSnackbar(this, rootView);\n                });\n            } else {\n                progressDialog.dismiss();\n                Snackbar.make(this, rootView, &quot;Vous devez d'abord ajouter le stock de khat de la journée !&quot;, Snackbar.LENGTH_LONG)\n                .setBackgroundTint(Color.RED).show();\n            }\n        }).addOnFailureListener(e -&gt; {\n            progressDialog.dismiss();\n            showProblemSnackbar(this, rootView);\n        });\n    }\n}\n</code></pre>\n<p>Layout for The two TextInputLayout Fields : new_depense_row.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/nom&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;20dp&quot;\n        android:layout_marginHorizontal=&quot;30dp&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\n        app:boxCornerRadiusTopStart=&quot;7dp&quot;\n        app:endIconMode=&quot;clear_text&quot;\n        app:boxStrokeColor=&quot;#25B1EF&quot;\n        app:hintTextColor=&quot;#25B1EF&quot;\n        app:errorEnabled=&quot;true&quot;&gt;\n\n    &lt;com.google.android.material.textfield.TextInputEditText\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Nom&quot;\n        android:textSize=&quot;20sp&quot;\n        android:inputType=&quot;text&quot;\n        android:imeOptions=&quot;actionNext&quot;/&gt;\n\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/argent&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@+id/nom&quot;\n        android:layout_marginTop=&quot;20dp&quot;\n        android:layout_marginHorizontal=&quot;30dp&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\n        app:boxCornerRadiusTopStart=&quot;7dp&quot;\n        app:endIconMode=&quot;clear_text&quot;\n        app:boxStrokeColor=&quot;#25B1EF&quot;\n        app:hintTextColor=&quot;#25B1EF&quot;\n        app:errorEnabled=&quot;true&quot;&gt;\n\n    &lt;com.google.android.material.textfield.TextInputEditText\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;prix total&quot;\n        android:textSize=&quot;20sp&quot;\n        android:inputType=&quot;number&quot;\n        android:imeOptions=&quot;actionDone&quot;/&gt;\n\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","outputstream","printstream"],"comments":[{"owner":{"account_id":11147483,"reputation":1772,"user_id":8181750,"display_name":"L.Spillner"},"score":3,"creation_date":1533102185,"post_id":51625966,"comment_id":90216625,"body_markdown":"Sidenote: By definition `System.out` (stdout / Standard Outputstream) already is a `PrintStream`.","body":"Sidenote: By definition <code>System.out</code> (stdout / Standard Outputstream) already is a <code>PrintStream</code>."}],"answers":[{"tags":[],"owner":{"account_id":11097371,"reputation":375,"user_id":8147043,"display_name":"Nin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1533102641,"creation_date":1533102024,"answer_id":51625998,"question_id":51625966,"body_markdown":"    output = new PrintStream(System.out);\r\n\r\nor actually,\r\n\r\n    output = System.out;\r\n\r\nSimilarly, you can do the same with `System.err`\r\n... So why don&#39;t we just simply use System.out and System.err directly? _sout + tab_ is quite fast to type in IntelliJ","title":"Java - How to use PrintStream/OutputStream to print to the Command Line","body":"<pre><code>output = new PrintStream(System.out);\n</code></pre>\n\n<p>or actually,</p>\n\n<pre><code>output = System.out;\n</code></pre>\n\n<p>Similarly, you can do the same with <code>System.err</code>\n... So why don't we just simply use System.out and System.err directly? <em>sout + tab</em> is quite fast to type in IntelliJ</p>\n"},{"tags":[],"owner":{"account_id":1833629,"reputation":3580,"user_id":1664430,"accept_rate":42,"display_name":"Ashishkumar Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641200830,"creation_date":1533102447,"answer_id":51626082,"question_id":51625966,"body_markdown":"`System.out` or `System.error` are already `PrintStream` and we can use them to print the output to command line without creating a new `PrintStream` object that you are doing. \r\n\r\nAdvantage of using this printStream is that you can use `System.setOut()` or `System.setErr()` to set the printSteam of your choice\r\n\r\n    PrintStream output = new PrintStream(&quot;./temp.txt&quot;);\r\n    System.setOut(output); \r\n\r\nAbove will override the default Printstream of printing to command line and now calling `System.out.println()` will print everything in given file(temp.txt)","title":"Java - How to use PrintStream/OutputStream to print to the Command Line","body":"<p><code>System.out</code> or <code>System.error</code> are already <code>PrintStream</code> and we can use them to print the output to command line without creating a new <code>PrintStream</code> object that you are doing.</p>\n<p>Advantage of using this printStream is that you can use <code>System.setOut()</code> or <code>System.setErr()</code> to set the printSteam of your choice</p>\n<pre><code>PrintStream output = new PrintStream(&quot;./temp.txt&quot;);\nSystem.setOut(output); \n</code></pre>\n<p>Above will override the default Printstream of printing to command line and now calling <code>System.out.println()</code> will print everything in given file(temp.txt)</p>\n"},{"tags":[],"owner":{"account_id":11363114,"reputation":270,"user_id":8330772,"display_name":"bhavna garg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533103037,"creation_date":1533103037,"answer_id":51626225,"question_id":51625966,"body_markdown":"The PrintStream class provides methods to write data to another stream. To print to command line you can use `System.out` as out is an object of `PrintStream` class.\r\n\r\n    import java.io.*;  \r\n    class PrintStreamTest{  \r\n      public static void main(String args[])throws Exception{  \r\n        PrintStream pout=new PrintStream(System.out);  \r\n        pout.println(1900);  \r\n        pout.println(&quot;Hello Java&quot;);  \r\n        pout.println(&quot;Welcome to Java&quot;);  \r\n        pout.close();  \r\n      }  \r\n    } \r\n\r\n\r\nThis will give output on command line as:\r\n\r\n  1900\r\n\r\n Hello Java\r\n\r\n  Welcome to Java","title":"Java - How to use PrintStream/OutputStream to print to the Command Line","body":"<p>The PrintStream class provides methods to write data to another stream. To print to command line you can use <code>System.out</code> as out is an object of <code>PrintStream</code> class.</p>\n\n<pre><code>import java.io.*;  \nclass PrintStreamTest{  \n  public static void main(String args[])throws Exception{  \n    PrintStream pout=new PrintStream(System.out);  \n    pout.println(1900);  \n    pout.println(\"Hello Java\");  \n    pout.println(\"Welcome to Java\");  \n    pout.close();  \n  }  \n} \n</code></pre>\n\n<p>This will give output on command line as:</p>\n\n<p>1900</p>\n\n<p>Hello Java</p>\n\n<p>Welcome to Java</p>\n"}],"owner":{"account_id":3877838,"reputation":388,"user_id":3211306,"display_name":"user3211306"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14050,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":51625998,"answer_count":3,"score":2,"last_activity_date":1641200830,"creation_date":1533101828,"question_id":51625966,"body_markdown":"\r\n\r\nI know we can use PrintStream to print lines to a given file: \r\n\r\n        PrintStream output;\r\n\t\toutput = new PrintStream(&quot;./temp.txt&quot;);\r\n\t\toutput .println(&quot;some output text&quot;); \r\n\r\nHowever, can we use PrintStream to print lines to the **command line**?\r\n\r\nI&#39;ve looked through the Java docs and it seems PrintStream constructor can take a file path or an OutputStream (is there a OutputStream subclass that would print to command line?)","title":"Java - How to use PrintStream/OutputStream to print to the Command Line","body":"<p>I know we can use PrintStream to print lines to a given file: </p>\n\n<pre><code>    PrintStream output;\n    output = new PrintStream(\"./temp.txt\");\n    output .println(\"some output text\"); \n</code></pre>\n\n<p>However, can we use PrintStream to print lines to the <strong>command line</strong>?</p>\n\n<p>I've looked through the Java docs and it seems PrintStream constructor can take a file path or an OutputStream (is there a OutputStream subclass that would print to command line?)</p>\n"},{"tags":["java","sorting"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1641198539,"post_id":70562966,"comment_id":124736529,"body_markdown":"Can&#39;t you use a `Set&lt;Data&gt;`, maybe even a `SortedSet&lt;Data&gt;`, make your `class Data implements Comparable&lt;Data&gt;` (including `equals()` and `hashCode()`) and use a `LocalDateTime` for comparison? You can parse the first `&quot;created_date&quot;` to a `LocalDate.atStartOfDay()` and the second one directly to a `LocalDateTime` providing the format pattern via a `DateTimeFormatter`.","body":"Can&#39;t you use a <code>Set&lt;Data&gt;</code>, maybe even a <code>SortedSet&lt;Data&gt;</code>, make your <code>class Data implements Comparable&lt;Data&gt;</code> (including <code>equals()</code> and <code>hashCode()</code>) and use a <code>LocalDateTime</code> for comparison? You can parse the first <code>&quot;created_date&quot;</code> to a <code>LocalDate.atStartOfDay()</code> and the second one directly to a <code>LocalDateTime</code> providing the format pattern via a <code>DateTimeFormatter</code>."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1641208182,"post_id":70562966,"comment_id":124739387,"body_markdown":"I would suggest to fix this problem at the time of *deserializing* these data. Depending on which parser you use (Jackson or Gson perhaps), you could probably instruct the parser to use a custom deserializer for those fields, and make sure they both map to a `LocalDateTime`.","body":"I would suggest to fix this problem at the time of <i>deserializing</i> these data. Depending on which parser you use (Jackson or Gson perhaps), you could probably instruct the parser to use a custom deserializer for those fields, and make sure they both map to a <code>LocalDateTime</code>."}],"answers":[{"tags":[],"owner":{"account_id":18975310,"reputation":68,"user_id":13847924,"display_name":"Mohan k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641200799,"creation_date":1641200087,"answer_id":70563419,"question_id":70562966,"body_markdown":"        You can try using List&lt;Data&gt; as below java code also,\r\n        public class SortDates {\r\n            public void sortByDate(List&lt;Data&gt; datas) {\r\n                Comparator&lt;Data&gt; comp = (Data o1, Data o2) -&gt; o1.getCreatedDate().compareTo(o2.getCreatedDate());\r\n                datas.sort(comp);\r\n            }\r\n        \r\n            static class Data {\r\n                private String createdDate;\r\n                private String name;\r\n        \r\n                public Data(String createdDate, String name) {\r\n                    this.createdDate = createdDate;\r\n                    this.name = name;\r\n                }\r\n        \r\n                public Date getCreatedDate() throws ParseException {\r\n                    SimpleDateFormat format = new SimpleDateFormat(&quot;dd-M-yyyy hh:mm:ss&quot;);\r\n                    return format.parse(createdDate);\r\n                }\r\n        \r\n                public String getName() {\r\n                    return name;\r\n                }\r\n            }\r\n        }\r\n    \r\n    // Test case\r\n    @Test\r\n        public void sortDates(){\r\n            SortDates.Data d4 = new SortDates.Data(&quot;21-11-2021&quot;,&quot;test4&quot;);\r\n            SortDates.Data d3 = new SortDates.Data(&quot;21-10-2021 10:21:37&quot;,&quot;test3&quot;);\r\n            SortDates.Data d1 = new SortDates.Data(&quot;21-08-2021 08:21:37&quot;,&quot;test1&quot;);\r\n            SortDates.Data d2 = new SortDates.Data(&quot;21-09-2021 09:21:37&quot;,&quot;test2&quot;);\r\n            List&lt;SortDates.Data&gt; data = new ArrayList&lt;&gt;();\r\n            data.add(d4);\r\n            data.add(d3);\r\n            data.add(d1);\r\n            data.add(d2);\r\n            SortDates sortDates = new SortDates();\r\n            sortDates.sortByDate(data);\r\n            data.stream().forEach(d -&gt; {\r\n                System.out.println(d.getName());\r\n            });\r\n        }","title":"How to sort List of Maps based on the date string inside the map with different date formats in java?","body":"<pre><code>    You can try using List&lt;Data&gt; as below java code also,\n    public class SortDates {\n        public void sortByDate(List&lt;Data&gt; datas) {\n            Comparator&lt;Data&gt; comp = (Data o1, Data o2) -&gt; o1.getCreatedDate().compareTo(o2.getCreatedDate());\n            datas.sort(comp);\n        }\n    \n        static class Data {\n            private String createdDate;\n            private String name;\n    \n            public Data(String createdDate, String name) {\n                this.createdDate = createdDate;\n                this.name = name;\n            }\n    \n            public Date getCreatedDate() throws ParseException {\n                SimpleDateFormat format = new SimpleDateFormat(&quot;dd-M-yyyy hh:mm:ss&quot;);\n                return format.parse(createdDate);\n            }\n    \n            public String getName() {\n                return name;\n            }\n        }\n    }\n\n// Test case\n@Test\n    public void sortDates(){\n        SortDates.Data d4 = new SortDates.Data(&quot;21-11-2021&quot;,&quot;test4&quot;);\n        SortDates.Data d3 = new SortDates.Data(&quot;21-10-2021 10:21:37&quot;,&quot;test3&quot;);\n        SortDates.Data d1 = new SortDates.Data(&quot;21-08-2021 08:21:37&quot;,&quot;test1&quot;);\n        SortDates.Data d2 = new SortDates.Data(&quot;21-09-2021 09:21:37&quot;,&quot;test2&quot;);\n        List&lt;SortDates.Data&gt; data = new ArrayList&lt;&gt;();\n        data.add(d4);\n        data.add(d3);\n        data.add(d1);\n        data.add(d2);\n        SortDates sortDates = new SortDates();\n        sortDates.sortByDate(data);\n        data.stream().forEach(d -&gt; {\n            System.out.println(d.getName());\n        });\n    }\n</code></pre>\n"}],"owner":{"account_id":19965141,"reputation":1690,"user_id":14631885,"display_name":"Dhana D."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641200799,"creation_date":1641196515,"question_id":70562966,"body_markdown":"I am currently creating an API that combines outputs from 2 APIs (which are already immutable/impossible to change). I need to get their data and then sort them based on the attribute `created_date`.\r\n\r\nThis is the output format from the 1st API:\r\n```json\r\n{\r\n  &quot;data&quot; : [\r\n    {\r\n      &quot;created_date&quot;: &quot;2021-11-21&quot;,\r\n      &quot;name&quot;: &quot;test 1&quot;\r\n    }\r\n  ]\r\n...\r\n```\r\n\r\nAnd this is the output format from the 2nd API:\r\n```json\r\n{\r\n  &quot;data&quot; : [\r\n    {\r\n      &quot;created_date&quot;: &quot;21-10-2021 09:21:37&quot;,\r\n      &quot;name&quot;: &quot;test 1&quot;\r\n    }\r\n  ]\r\n...\r\n```\r\n\r\nThen I combined them into an array, but I wonder how to do the sorting based on the `created_date` in efficient way? Because, if I use loops to sort one-by-one, it would be highly inefficient in my case where the data already hundreds of records on both APIs. Any help is greatly appreciated. Thank you in advance.\r\n","title":"How to sort List of Maps based on the date string inside the map with different date formats in java?","body":"<p>I am currently creating an API that combines outputs from 2 APIs (which are already immutable/impossible to change). I need to get their data and then sort them based on the attribute <code>created_date</code>.</p>\n<p>This is the output format from the 1st API:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;data&quot; : [\n    {\n      &quot;created_date&quot;: &quot;2021-11-21&quot;,\n      &quot;name&quot;: &quot;test 1&quot;\n    }\n  ]\n...\n</code></pre>\n<p>And this is the output format from the 2nd API:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;data&quot; : [\n    {\n      &quot;created_date&quot;: &quot;21-10-2021 09:21:37&quot;,\n      &quot;name&quot;: &quot;test 1&quot;\n    }\n  ]\n...\n</code></pre>\n<p>Then I combined them into an array, but I wonder how to do the sorting based on the <code>created_date</code> in efficient way? Because, if I use loops to sort one-by-one, it would be highly inefficient in my case where the data already hundreds of records on both APIs. Any help is greatly appreciated. Thank you in advance.</p>\n"},{"tags":["java","maven"],"answers":[{"tags":[],"owner":{"account_id":23739775,"reputation":66,"user_id":17757960,"display_name":"Tobias Cremer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640384864,"creation_date":1640384864,"answer_id":70476867,"question_id":70476860,"body_markdown":"You can relocate classes in maven:\r\n[maven class relocation][1]\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-shade-plugin/examples/class-relocation.html","title":"I am using two libraries in one project and some of the jar files are conflicting.How do I resolve?","body":"<p>You can relocate classes in maven:\n<a href=\"https://maven.apache.org/plugins/maven-shade-plugin/examples/class-relocation.html\" rel=\"nofollow noreferrer\">maven class relocation</a></p>\n"},{"tags":[],"owner":{"account_id":3558487,"reputation":1004,"user_id":2971549,"display_name":"Saman Salehi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641199878,"creation_date":1641199878,"answer_id":70563390,"question_id":70476860,"body_markdown":"The best way for finding conflict in your pom file is using:\r\n\r\n    mvn dependency:tree &gt; somefile.txt\r\nor \r\n\r\n     mvn dependency:tree -DoutputFile=myFile.dot -DoutputType=dot\r\n\r\nthen you can search for a specific library and you will be able to find out if there is any duplicate library with a different version in your dependency. \r\nAlso, The `verbose` mode tells the tree plugin to show dependencies that are duplicates of another or in conflict with another’s version. \r\n\r\n    mvn dependency:tree -Dverbose\r\n\r\n","title":"I am using two libraries in one project and some of the jar files are conflicting.How do I resolve?","body":"<p>The best way for finding conflict in your pom file is using:</p>\n<pre><code>mvn dependency:tree &gt; somefile.txt\n</code></pre>\n<p>or</p>\n<pre><code> mvn dependency:tree -DoutputFile=myFile.dot -DoutputType=dot\n</code></pre>\n<p>then you can search for a specific library and you will be able to find out if there is any duplicate library with a different version in your dependency.\nAlso, The <code>verbose</code> mode tells the tree plugin to show dependencies that are duplicates of another or in conflict with another’s version.</p>\n<pre><code>mvn dependency:tree -Dverbose\n</code></pre>\n"}],"owner":{"account_id":23739823,"reputation":1,"user_id":17758001,"display_name":"soumya kamath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1641199878,"creation_date":1640384757,"question_id":70476860,"body_markdown":"    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;org.aksw.deer.plugin&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;plugin-starter&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.0.0&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \t&lt;!-- @todo Customize this value &#128071; --&gt;\r\n    \t&lt;name&gt; Simple Example Plugin&lt;/name&gt;\r\n    \t&lt;!-- @todo Customize this value &#128071; --&gt;\r\n    \t&lt;description&gt; Plugin Starter&lt;/description&gt;\r\n    \t&lt;!-- @todo Customize this value &#128071; --&gt;\r\n    \t\r\n    \r\n    \t&lt;scm&gt;\r\n    \t\t&lt;!-- @todo Customize this value &#128071; --&gt;\r\n    \t\t&lt;url&gt;https://github.com/abc&lt;/url&gt;\r\n    \t\t&lt;!-- @todo Customize this value &#128071; --&gt;\r\n    \t\t&lt;connection&gt;scm:git:https://github.com/abc.git&lt;/connection&gt;\r\n    \t\t&lt;tag&gt;HEAD&lt;/tag&gt;\r\n    \t&lt;/scm&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;!-- @todo Customize this value &#128071; --&gt;\r\n    \t\t&lt;plugin.id&gt;OntologyMatchingPlugin&lt;/plugin.id&gt;\r\n    \t\t&lt;!-- @todo Customize this value &#128071; --&gt;\r\n    \t\t&lt;plugin.class&gt;org.aksw.deer.plugin.example.OntologyMatchingPlugin&lt;/plugin.class&gt;\r\n    \t\t&lt;!-- @todo Customize this value &#128071; --&gt;\r\n    \t\t&lt;plugin.version&gt;1.0.0&lt;/plugin.version&gt;\r\n    \t\t&lt;!-- @todo Customize this value &#128071; --&gt;\r\n    \t\t\r\n    \t\t&lt;plugin.dependencies /&gt;\r\n    \r\n    \t\t&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;deer.version&gt;2.3.0&lt;/deer.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;data-local&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;data&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;file://${project.basedir}/repo&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;sonatype-nexus-snapshots&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;https://oss.sonatype.org/content/repositories/snapshots&lt;/url&gt;\r\n    \t\t\t&lt;releases&gt;\r\n    \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t&lt;/releases&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;maven.aksw.internal&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;abcs&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://maven.aksw.org/repository/internal/&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;maven.aksw.snapshots&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;University , AKSW Maven2 Snapshot Repository&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://maven.aksw.org/repository/snapshots/&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;maven2-repository.java.net&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Java.net Repository for Maven&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://download.java.net/maven/2/&lt;/url&gt;\r\n    \t\t\t&lt;layout&gt;default&lt;/layout&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;jcenter&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;https://jcenter.bintray.com&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;jitpack.io&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;https://jitpack.io&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \r\n    \t&lt;/repositories&gt;\r\n    \r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;release&gt;${maven.compiler.source}&lt;/release&gt;\r\n    \t\t\t\t\t&lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\r\n    \t\t\t\t\t&lt;annotationProcessorPaths&gt;\r\n    \t\t\t\t\t\t&lt;annotationProcessorPath&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.pf4j&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;pf4j&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n    \t\t\t\t\t\t&lt;/annotationProcessorPath&gt;\r\n    \t\t\t\t\t&lt;/annotationProcessorPaths&gt;\r\n    \t\t\t\t\t&lt;annotationProcessors&gt;\r\n    \t\t\t\t\t\t&lt;annotationProcessor&gt;org.pf4j.processor.ExtensionAnnotationProcessor\r\n    \t\t\t\t\t\t&lt;/annotationProcessor&gt;\r\n    \t\t\t\t\t&lt;/annotationProcessors&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;dependencies&gt;\r\n    \t\t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;asm&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;7.1&lt;/version&gt;\r\n    \t\t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t&lt;/dependencies&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;attach-sources&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;verify&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;jar-no-fork&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;aggregate&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;aggregate-jar&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;includeDependencySources&gt;true&lt;/includeDependencySources&gt;\r\n    \t\t\t\t\t&lt;dependencySourceIncludes&gt;\r\n    \t\t\t\t\t\t&lt;dependencySourceInclude&gt;org.aksw.deer:*&lt;/dependencySourceInclude&gt;\r\n    \t\t\t\t\t\t&lt;dependencySourceInclude&gt;org.aksw.faraday_cage:*&lt;/dependencySourceInclude&gt;\r\n    \t\t\t\t\t&lt;/dependencySourceIncludes&gt;\r\n    \t\t\t\t\t&lt;links&gt;\r\n    \t\t\t\t\t\t&lt;link&gt;https://jena.apache.org/documentation/javadoc/jena&lt;/link&gt;\r\n    \t\t\t\t\t&lt;/links&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.22.2&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;forkCount&gt;0&lt;/forkCount&gt;\r\n    \t\t\t\t\t&lt;argLine&gt;-Xms256m -Xmx8G&lt;/argLine&gt;\r\n    \t\t\t\t\t&lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\r\n    \t\t\t\t\t&lt;skipTests&gt;false&lt;/skipTests&gt;\r\n    \t\t\t\t\t&lt;useManifestOnlyJar&gt;false&lt;/useManifestOnlyJar&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;descriptorRefs&gt;\r\n    \t\t\t\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n    \t\t\t\t\t&lt;/descriptorRefs&gt;\r\n    \t\t\t\t\t&lt;finalName&gt;${project.artifactId}-${project.version}-plugin&lt;/finalName&gt;\r\n    \t\t\t\t\t&lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n    \t\t\t\t\t&lt;attach&gt;false&lt;/attach&gt;\r\n    \t\t\t\t\t&lt;archive&gt;\r\n    \t\t\t\t\t\t&lt;manifest&gt;\r\n    \t\t\t\t\t\t\t&lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\r\n    \t\t\t\t\t\t\t&lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt;\r\n    \t\t\t\t\t\t&lt;/manifest&gt;\r\n    \t\t\t\t\t\t&lt;manifestEntries&gt;\r\n    \t\t\t\t\t\t\t&lt;Plugin-Id&gt;${plugin.id}&lt;/Plugin-Id&gt;\r\n    \t\t\t\t\t\t\t&lt;Plugin-Version&gt;${plugin.version}&lt;/Plugin-Version&gt;\r\n    \t\t\t\t\t\t\t&lt;Plugin-Provider&gt;${plugin.provider}&lt;/Plugin-Provider&gt;\r\n    \t\t\t\t\t\t\t&lt;Plugin-Class&gt;${plugin.class}&lt;/Plugin-Class&gt;\r\n    \t\t\t\t\t\t\t&lt;Plugin-Dependencies&gt;${plugin.dependencies}&lt;/Plugin-Dependencies&gt;\r\n    \t\t\t\t\t\t&lt;/manifestEntries&gt;\r\n    \t\t\t\t\t&lt;/archive&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;make-assembly&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;skip&gt;true&lt;/skip&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;version&gt;2.8.2&lt;/version&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;!-- For depending of Logmap --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;uk.ox.logmap&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;logmap-matcher&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt; &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt; \r\n    \t\t\t&lt;version&gt;2.7&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; --&gt;\r\n    \t\t\r\n    \t\t&lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt; \r\n    \t\t\t&lt;version&gt;1.6.4&lt;/version&gt; &lt;/dependency&gt; --&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/net.sourceforge.owlapi/owlapi-distribution --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.sourceforge.owlapi&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;owlapi-distribution&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.1.19&lt;/version&gt;\r\n    \t\t\t\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt; &lt;artifactId&gt;log4j-api&lt;/artifactId&gt; \r\n    \t\t\t&lt;version&gt;2.7&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt; \r\n    \t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt; &lt;version&gt;2.7&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; \r\n    \t\t\t&lt;/dependency&gt; --&gt;\r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.aksw.deer&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;deer-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${deer.version}&lt;/version&gt;\r\n    \t\t\t&lt;!-- !!! VERY IMPORTANT --&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;httpclient&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;httpclient&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;httpclient-cache&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;httpclient&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;httpclient-core&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;slf4j-log4j-impl&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\nI&#39;m getting error as:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.ja\r\nva:45)\r\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n        at org.pf4j.DefaultPluginFactory.create(DefaultPluginFactory.java:64)\r\n        at org.pf4j.PluginWrapper.getPlugin(PluginWrapper.java:79)\r\n        at org.pf4j.AbstractPluginManager.startPlugins(AbstractPluginManager.java:331)\r\n        at org.aksw.deer.DeerController.&lt;clinit&gt;(DeerController.java:98)\r\nCaused by: java.lang.ClassCastException: class org.apache.xerces.jaxp.DocumentBuilderFactoryImpl cannot be cast to class jav\r\nax.xml.parsers.DocumentBuilderFactory (org.apache.xerces.jaxp.DocumentBuilderFactoryImpl is in unnamed module of loader &#39;app\r\n&#39;; javax.xml.parsers.DocumentBuilderFactory is in unnamed module of loader org.pf4j.PluginClassLoader @332796d3)\r\n        at javax.xml.parsers.DocumentBuilderFactory.newInstance(Unknown Source)\r\n        at org.apache.logging.log4j.core.config.xml.XmlConfiguration.newDocumentBuilder(XmlConfiguration.java:191)\r\n        at org.apache.logging.log4j.core.config.xml.XmlConfiguration.&lt;init&gt;(XmlConfiguration.java:92)\r\n        at org.apache.logging.log4j.core.config.xml.XmlConfigurationFactory.getConfiguration(XmlConfigurationFactory.java:44\r\n)\r\n        at org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:510)\r\n\r\n        at org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:450)\r\n\r\n        at org.apache.logging.log4j.core.config.ConfigurationFactory.getConfiguration(ConfigurationFactory.java:257)\r\n        at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:560)\r\n        at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:577)\r\n        at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:212)\r\n        at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:152)\r\n        at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:45)\r\n        at org.apache.logging.log4j.LogManager.getContext(LogManager.java:194)\r\n        at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:103)\r\n        at org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:43)\r\n        at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:42)\r\n        at org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:29)\r\n        at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:358)\r\n        at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:383)\r\n        at org.aksw.deer.plugin.example.KGMatchingPlugin.&lt;clinit&gt;(KGMatchingPlugin.java:10)\r\n        ... 8 more\r\n```","title":"I am using two libraries in one project and some of the jar files are conflicting.How do I resolve?","body":"<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.aksw.deer.plugin&lt;/groupId&gt;\n    &lt;artifactId&gt;plugin-starter&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;!-- @todo Customize this value 👇 --&gt;\n    &lt;name&gt; Simple Example Plugin&lt;/name&gt;\n    &lt;!-- @todo Customize this value 👇 --&gt;\n    &lt;description&gt; Plugin Starter&lt;/description&gt;\n    &lt;!-- @todo Customize this value 👇 --&gt;\n    \n\n    &lt;scm&gt;\n        &lt;!-- @todo Customize this value 👇 --&gt;\n        &lt;url&gt;https://github.com/abc&lt;/url&gt;\n        &lt;!-- @todo Customize this value 👇 --&gt;\n        &lt;connection&gt;scm:git:https://github.com/abc.git&lt;/connection&gt;\n        &lt;tag&gt;HEAD&lt;/tag&gt;\n    &lt;/scm&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;!-- @todo Customize this value 👇 --&gt;\n        &lt;plugin.id&gt;OntologyMatchingPlugin&lt;/plugin.id&gt;\n        &lt;!-- @todo Customize this value 👇 --&gt;\n        &lt;plugin.class&gt;org.aksw.deer.plugin.example.OntologyMatchingPlugin&lt;/plugin.class&gt;\n        &lt;!-- @todo Customize this value 👇 --&gt;\n        &lt;plugin.version&gt;1.0.0&lt;/plugin.version&gt;\n        &lt;!-- @todo Customize this value 👇 --&gt;\n        \n        &lt;plugin.dependencies /&gt;\n\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;deer.version&gt;2.3.0&lt;/deer.version&gt;\n    &lt;/properties&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;data-local&lt;/id&gt;\n            &lt;name&gt;data&lt;/name&gt;\n            &lt;url&gt;file://${project.basedir}/repo&lt;/url&gt;\n        &lt;/repository&gt;\n\n        &lt;repository&gt;\n            &lt;id&gt;sonatype-nexus-snapshots&lt;/id&gt;\n            &lt;url&gt;https://oss.sonatype.org/content/repositories/snapshots&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/releases&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n\n        &lt;repository&gt;\n            &lt;id&gt;maven.aksw.internal&lt;/id&gt;\n            &lt;name&gt;abcs&lt;/name&gt;\n            &lt;url&gt;https://maven.aksw.org/repository/internal/&lt;/url&gt;\n        &lt;/repository&gt;\n\n        &lt;repository&gt;\n            &lt;id&gt;maven.aksw.snapshots&lt;/id&gt;\n            &lt;name&gt;University , AKSW Maven2 Snapshot Repository&lt;/name&gt;\n            &lt;url&gt;https://maven.aksw.org/repository/snapshots/&lt;/url&gt;\n        &lt;/repository&gt;\n\n        &lt;repository&gt;\n            &lt;id&gt;maven2-repository.java.net&lt;/id&gt;\n            &lt;name&gt;Java.net Repository for Maven&lt;/name&gt;\n            &lt;url&gt;https://download.java.net/maven/2/&lt;/url&gt;\n            &lt;layout&gt;default&lt;/layout&gt;\n        &lt;/repository&gt;\n\n        &lt;repository&gt;\n            &lt;id&gt;jcenter&lt;/id&gt;\n            &lt;url&gt;https://jcenter.bintray.com&lt;/url&gt;\n        &lt;/repository&gt;\n\n        &lt;repository&gt;\n            &lt;id&gt;jitpack.io&lt;/id&gt;\n            &lt;url&gt;https://jitpack.io&lt;/url&gt;\n        &lt;/repository&gt;\n\n    &lt;/repositories&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;${maven.compiler.source}&lt;/release&gt;\n                    &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;annotationProcessorPath&gt;\n                            &lt;groupId&gt;org.pf4j&lt;/groupId&gt;\n                            &lt;artifactId&gt;pf4j&lt;/artifactId&gt;\n                            &lt;version&gt;3.0.1&lt;/version&gt;\n                        &lt;/annotationProcessorPath&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                    &lt;annotationProcessors&gt;\n                        &lt;annotationProcessor&gt;org.pf4j.processor.ExtensionAnnotationProcessor\n                        &lt;/annotationProcessor&gt;\n                    &lt;/annotationProcessors&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\n                        &lt;artifactId&gt;asm&lt;/artifactId&gt;\n                        &lt;version&gt;7.1&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;attach-sources&lt;/id&gt;\n                        &lt;phase&gt;verify&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar-no-fork&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;aggregate&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;aggregate-jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;includeDependencySources&gt;true&lt;/includeDependencySources&gt;\n                    &lt;dependencySourceIncludes&gt;\n                        &lt;dependencySourceInclude&gt;org.aksw.deer:*&lt;/dependencySourceInclude&gt;\n                        &lt;dependencySourceInclude&gt;org.aksw.faraday_cage:*&lt;/dependencySourceInclude&gt;\n                    &lt;/dependencySourceIncludes&gt;\n                    &lt;links&gt;\n                        &lt;link&gt;https://jena.apache.org/documentation/javadoc/jena&lt;/link&gt;\n                    &lt;/links&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;forkCount&gt;0&lt;/forkCount&gt;\n                    &lt;argLine&gt;-Xms256m -Xmx8G&lt;/argLine&gt;\n                    &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\n                    &lt;skipTests&gt;false&lt;/skipTests&gt;\n                    &lt;useManifestOnlyJar&gt;false&lt;/useManifestOnlyJar&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                    &lt;finalName&gt;${project.artifactId}-${project.version}-plugin&lt;/finalName&gt;\n                    &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n                    &lt;attach&gt;false&lt;/attach&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\n                            &lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt;\n                        &lt;/manifest&gt;\n                        &lt;manifestEntries&gt;\n                            &lt;Plugin-Id&gt;${plugin.id}&lt;/Plugin-Id&gt;\n                            &lt;Plugin-Version&gt;${plugin.version}&lt;/Plugin-Version&gt;\n                            &lt;Plugin-Provider&gt;${plugin.provider}&lt;/Plugin-Provider&gt;\n                            &lt;Plugin-Class&gt;${plugin.class}&lt;/Plugin-Class&gt;\n                            &lt;Plugin-Dependencies&gt;${plugin.dependencies}&lt;/Plugin-Dependencies&gt;\n                        &lt;/manifestEntries&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;skip&gt;true&lt;/skip&gt;\n                &lt;/configuration&gt;\n                &lt;version&gt;2.8.2&lt;/version&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- For depending of Logmap --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;uk.ox.logmap&lt;/groupId&gt;\n            &lt;artifactId&gt;logmap-matcher&lt;/artifactId&gt;\n            &lt;version&gt;4.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt; &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt; \n            &lt;version&gt;2.7&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; --&gt;\n        \n        &lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt; \n            &lt;version&gt;1.6.4&lt;/version&gt; &lt;/dependency&gt; --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/net.sourceforge.owlapi/owlapi-distribution --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sourceforge.owlapi&lt;/groupId&gt;\n            &lt;artifactId&gt;owlapi-distribution&lt;/artifactId&gt;\n            &lt;version&gt;5.1.19&lt;/version&gt;\n            \n        &lt;/dependency&gt;\n\n\n        &lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt; &lt;artifactId&gt;log4j-api&lt;/artifactId&gt; \n            &lt;version&gt;2.7&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt; \n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt; &lt;version&gt;2.7&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; \n            &lt;/dependency&gt; --&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aksw.deer&lt;/groupId&gt;\n            &lt;artifactId&gt;deer-core&lt;/artifactId&gt;\n            &lt;version&gt;${deer.version}&lt;/version&gt;\n            &lt;!-- !!! VERY IMPORTANT --&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;httpclient&lt;/groupId&gt;\n                    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;httpclient&lt;/groupId&gt;\n                    &lt;artifactId&gt;httpclient-cache&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;httpclient&lt;/groupId&gt;\n                    &lt;artifactId&gt;httpclient-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-log4j-impl&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I'm getting error as:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.ja\nva:45)\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n        at org.pf4j.DefaultPluginFactory.create(DefaultPluginFactory.java:64)\n        at org.pf4j.PluginWrapper.getPlugin(PluginWrapper.java:79)\n        at org.pf4j.AbstractPluginManager.startPlugins(AbstractPluginManager.java:331)\n        at org.aksw.deer.DeerController.&lt;clinit&gt;(DeerController.java:98)\nCaused by: java.lang.ClassCastException: class org.apache.xerces.jaxp.DocumentBuilderFactoryImpl cannot be cast to class jav\nax.xml.parsers.DocumentBuilderFactory (org.apache.xerces.jaxp.DocumentBuilderFactoryImpl is in unnamed module of loader 'app\n'; javax.xml.parsers.DocumentBuilderFactory is in unnamed module of loader org.pf4j.PluginClassLoader @332796d3)\n        at javax.xml.parsers.DocumentBuilderFactory.newInstance(Unknown Source)\n        at org.apache.logging.log4j.core.config.xml.XmlConfiguration.newDocumentBuilder(XmlConfiguration.java:191)\n        at org.apache.logging.log4j.core.config.xml.XmlConfiguration.&lt;init&gt;(XmlConfiguration.java:92)\n        at org.apache.logging.log4j.core.config.xml.XmlConfigurationFactory.getConfiguration(XmlConfigurationFactory.java:44\n)\n        at org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:510)\n\n        at org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:450)\n\n        at org.apache.logging.log4j.core.config.ConfigurationFactory.getConfiguration(ConfigurationFactory.java:257)\n        at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:560)\n        at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:577)\n        at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:212)\n        at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:152)\n        at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:45)\n        at org.apache.logging.log4j.LogManager.getContext(LogManager.java:194)\n        at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:103)\n        at org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:43)\n        at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:42)\n        at org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:29)\n        at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:358)\n        at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:383)\n        at org.aksw.deer.plugin.example.KGMatchingPlugin.&lt;clinit&gt;(KGMatchingPlugin.java:10)\n        ... 8 more\n</code></pre>\n"},{"tags":["java","jersey-test-framework"],"comments":[{"owner":{"account_id":5777609,"reputation":70,"user_id":4559261,"display_name":"Jmartnz"},"score":0,"creation_date":1641199550,"post_id":70562990,"comment_id":124736795,"body_markdown":"Have you tried debugging with a breakpoint on the throw exception statement? It looks like your Jersey config or your mapping for &quot;path...&quot; is not taking into account your code.","body":"Have you tried debugging with a breakpoint on the throw exception statement? It looks like your Jersey config or your mapping for &quot;path...&quot; is not taking into account your code."},{"owner":{"account_id":1458162,"reputation":848,"user_id":1373232,"accept_rate":53,"display_name":"Nom1fan"},"score":0,"creation_date":1641199826,"post_id":70562990,"comment_id":124736855,"body_markdown":"Please see the answer I posted.","body":"Please see the answer I posted."}],"answers":[{"tags":[],"owner":{"account_id":1458162,"reputation":848,"user_id":1373232,"accept_rate":53,"display_name":"Nom1fan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641199807,"creation_date":1641199807,"answer_id":70563375,"question_id":70562990,"body_markdown":"After further investigation I realized my custom exception is mapped by an exception mapper:\r\n\r\n```\r\n@Component\r\n@Provider\r\npublic class NotFoundExceptionMapper implements ExceptionMapper&lt;NotFoundException&gt; {\r\n\r\n    @Override\r\n    public Response toResponse(NotFoundException exception) {\r\n        ErrorResponse errorResponse = new ErrorResponse(Response.Status.NOT_FOUND.getStatusCode(),\r\n                exception.getMessage());\r\n        return Response.status(Response.Status.NOT_FOUND).type(MediaType.APPLICATION_JSON).entity(errorResponse)\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\nI simply needed to register this mapper on `ResourceConfig`:\r\n```\r\n@Override\r\nprotected Application configure() {\r\nResourceConfig application = new ResourceConfig();\r\napplication.register(NotFoundExceptionMapper.class);\r\nreturn application;\r\n```\r\n\r\nAnd now it works as expected.","title":"Testing expected exception with JerseyTest - Test container returns 500","body":"<p>After further investigation I realized my custom exception is mapped by an exception mapper:</p>\n<pre><code>@Component\n@Provider\npublic class NotFoundExceptionMapper implements ExceptionMapper&lt;NotFoundException&gt; {\n\n    @Override\n    public Response toResponse(NotFoundException exception) {\n        ErrorResponse errorResponse = new ErrorResponse(Response.Status.NOT_FOUND.getStatusCode(),\n                exception.getMessage());\n        return Response.status(Response.Status.NOT_FOUND).type(MediaType.APPLICATION_JSON).entity(errorResponse)\n                .build();\n    }\n}\n</code></pre>\n<p>I simply needed to register this mapper on <code>ResourceConfig</code>:</p>\n<pre><code>@Override\nprotected Application configure() {\nResourceConfig application = new ResourceConfig();\napplication.register(NotFoundExceptionMapper.class);\nreturn application;\n</code></pre>\n<p>And now it works as expected.</p>\n"}],"owner":{"account_id":1458162,"reputation":848,"user_id":1373232,"accept_rate":53,"display_name":"Nom1fan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641199807,"creation_date":1641196704,"question_id":70562990,"body_markdown":"I am using: \r\n```\r\n&lt;groupId&gt;org.glassfish.jersey.test-framework.providers&lt;/groupId&gt;\r\n&lt;artifactId&gt;jersey-test-framework-provider-grizzly2&lt;/artifactId&gt;\r\n&lt;version&gt;2.27&lt;/version&gt;\r\n```\r\nFor REST testing of my resources. While everything works well on the positive side, when my resource throws a custom exception it is always discarded, and a 500 exception is returned by the test container. \r\n\r\nFor example:\r\n\r\n```\r\n//Omitting all annotations for brevity\r\nimport org.rest.exception.NotFoundException;\r\n\r\npublic class MyResource {\r\n  \r\n   \r\n   public void myAPI() {\r\n     throw new NotFoundException(&quot;Alarm! Not Found!&quot;);\r\n   }\r\n}\r\n```\r\n\r\nWhen I want to test it:\r\n```\r\nimport javax.ws.rs.core.Response;\r\n\r\npublic class MyJerseyTest extends JerseyTest {\r\n   \r\n   public void myTest() {\r\n      Response response = target(&quot;path...&quot;).request().get();\r\n      assertEquals(response.getStatus(), HttpStatus.SC_NOT_FOUND);\r\n   }\r\n}\r\n```\r\n\r\nActual response returned:\r\n```\r\nInboundJaxrsResponse{context=ClientResponse{method=GET, uri=http://localhost:9998/path, status=500, reason=Request failed.}}\r\n```\r\n\r\nHow can I fix this in order to test the logic throwing expected exceptions by my resources?","title":"Testing expected exception with JerseyTest - Test container returns 500","body":"<p>I am using:</p>\n<pre><code>&lt;groupId&gt;org.glassfish.jersey.test-framework.providers&lt;/groupId&gt;\n&lt;artifactId&gt;jersey-test-framework-provider-grizzly2&lt;/artifactId&gt;\n&lt;version&gt;2.27&lt;/version&gt;\n</code></pre>\n<p>For REST testing of my resources. While everything works well on the positive side, when my resource throws a custom exception it is always discarded, and a 500 exception is returned by the test container.</p>\n<p>For example:</p>\n<pre><code>//Omitting all annotations for brevity\nimport org.rest.exception.NotFoundException;\n\npublic class MyResource {\n  \n   \n   public void myAPI() {\n     throw new NotFoundException(&quot;Alarm! Not Found!&quot;);\n   }\n}\n</code></pre>\n<p>When I want to test it:</p>\n<pre><code>import javax.ws.rs.core.Response;\n\npublic class MyJerseyTest extends JerseyTest {\n   \n   public void myTest() {\n      Response response = target(&quot;path...&quot;).request().get();\n      assertEquals(response.getStatus(), HttpStatus.SC_NOT_FOUND);\n   }\n}\n</code></pre>\n<p>Actual response returned:</p>\n<pre><code>InboundJaxrsResponse{context=ClientResponse{method=GET, uri=http://localhost:9998/path, status=500, reason=Request failed.}}\n</code></pre>\n<p>How can I fix this in order to test the logic throwing expected exceptions by my resources?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":2509230,"reputation":1396,"user_id":4576274,"display_name":"Pramod"},"score":0,"creation_date":1641194860,"post_id":70562548,"comment_id":124735534,"body_markdown":"Please take a look at this https://stackoverflow.com/questions/30337582/spring-boot-configure-and-use-two-datasources","body":"Please take a look at this <a href=\"https://stackoverflow.com/questions/30337582/spring-boot-configure-and-use-two-datasources\" title=\"spring boot configure and use two datasources\">stackoverflow.com/questions/30337582/&hellip;</a>"},{"owner":{"account_id":7227680,"reputation":356,"user_id":5515691,"accept_rate":80,"display_name":"Gitesh"},"score":0,"creation_date":1641195375,"post_id":70562548,"comment_id":124735684,"body_markdown":"I don&#39;t see a way to use entity manager,  i want to inject entity manager.This link only shows the creation of datasource","body":"I don&#39;t see a way to use entity manager,  i want to inject entity manager.This link only shows the creation of datasource"}],"owner":{"account_id":7227680,"reputation":356,"user_id":5515691,"accept_rate":80,"display_name":"Gitesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641199388,"creation_date":1641193263,"question_id":70562548,"body_markdown":"I have different database for different projects but all those database has same table names .I am creating a analytics service for all these projects, i don&#39;t want to create separate analytics service for all these projects since the database sql queries are the same.I want to have one service for all these projects with different controllers with base url remaining the same. For e.g baserl/foo/getuserDetails , baseurl/bar/getuserDetails.\r\n\r\nHow can I interact with multiple database based on the request recieved.For e.g if request comes with url /foo/getuserDetails , services should fetch data from user table of foo database, if request comes with url /bar/getuserDetails , services should fetch data from user table of bar database.\r\n\r\n\r\napplication.properties file\r\n\r\n    spring.datasource.url=jdbc:sqlserver://..;databaseName=foo\r\n    spring.datasource.username=user1\r\n    spring.datasource.password=Password1\r\n    spring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n    spring.jpa.hibernate.dialect=org.hibernate.dialect.SQLServer2012Dialect\r\n\r\n    spring.datasource.url=jdbc:sqlserver://..;databaseName=bar\r\n    spring.datasource.username=user2\r\n    spring.datasource.password=Password2\r\n    spring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n    spring.jpa.hibernate.dialect=org.hibernate.dialect.SQLServer2012Dialect\r\n\r\n\r\n    @Service(&quot;analyticsService&quot;)\r\n    public class AnalyticsServiceImpl implements AnalyticsService {\r\n    \t\r\n    \r\n        @PersistenceContext\r\n        private EntityManager entityManager;\r\n\r\n\r\nI want to have this one single method called when the request is received either with baseurl/foo or baseurl/bar since the Query(GET_USER_DETAILS) is the same. All I want is when request is received with url baseurl/foo , usertable of foo database is called, if request is received with url baseurl/bar , usertable of bar database is called, similarly if request is received with url baseurl/test , usertable of test database is called \r\n\t\r\n\r\n    public int countReqRaisedWithinDateRange(Date fromDate,Date toDate) {\r\n    \t\tQuery query = entityManager.createNativeQuery(GET_USER_DETAILS);\r\n    \t\tquery.setParameter(&quot;fromDate&quot;, fromDate);\r\n    \t\tquery.setParameter(&quot;toDate&quot;,toDate);\r\n    \t\tint count = ((Number) query.getSingleResult()).intValue();\r\n    \t\treturn count;\r\n    \t}","title":"Interact with Multiple DataSource Based on RequestMapping URL","body":"<p>I have different database for different projects but all those database has same table names .I am creating a analytics service for all these projects, i don't want to create separate analytics service for all these projects since the database sql queries are the same.I want to have one service for all these projects with different controllers with base url remaining the same. For e.g baserl/foo/getuserDetails , baseurl/bar/getuserDetails.</p>\n<p>How can I interact with multiple database based on the request recieved.For e.g if request comes with url /foo/getuserDetails , services should fetch data from user table of foo database, if request comes with url /bar/getuserDetails , services should fetch data from user table of bar database.</p>\n<p>application.properties file</p>\n<pre><code>spring.datasource.url=jdbc:sqlserver://..;databaseName=foo\nspring.datasource.username=user1\nspring.datasource.password=Password1\nspring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\nspring.jpa.hibernate.dialect=org.hibernate.dialect.SQLServer2012Dialect\n\nspring.datasource.url=jdbc:sqlserver://..;databaseName=bar\nspring.datasource.username=user2\nspring.datasource.password=Password2\nspring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\nspring.jpa.hibernate.dialect=org.hibernate.dialect.SQLServer2012Dialect\n\n\n@Service(&quot;analyticsService&quot;)\npublic class AnalyticsServiceImpl implements AnalyticsService {\n    \n\n    @PersistenceContext\n    private EntityManager entityManager;\n</code></pre>\n<p>I want to have this one single method called when the request is received either with baseurl/foo or baseurl/bar since the Query(GET_USER_DETAILS) is the same. All I want is when request is received with url baseurl/foo , usertable of foo database is called, if request is received with url baseurl/bar , usertable of bar database is called, similarly if request is received with url baseurl/test , usertable of test database is called</p>\n<pre><code>public int countReqRaisedWithinDateRange(Date fromDate,Date toDate) {\n        Query query = entityManager.createNativeQuery(GET_USER_DETAILS);\n        query.setParameter(&quot;fromDate&quot;, fromDate);\n        query.setParameter(&quot;toDate&quot;,toDate);\n        int count = ((Number) query.getSingleResult()).intValue();\n        return count;\n    }\n</code></pre>\n"},{"tags":["java","eclipse","logging","error-handling","eclipse-plugin"],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1641198104,"creation_date":1423757447,"answer_id":28482271,"question_id":28481943,"body_markdown":"Printing the stack trace will not go in the error log, it will just be lost (except when running from within Eclipse or with a console).\r\n\r\nThe `Activator` based logging is the usual way to log. The code logging provided by the `Plugin` or `AbstractUIPlugin` class is:\r\n\r\n    ILog log = Activator.getDefault().getLog();\r\n\r\n    log.log(new Status(....));\r\n\r\n`Status` has a number of different constructors depending on exactly what you want to log. For example:\r\n\r\n    new Status(IStatus.ERROR, ID, errorNumber, message, exception);\r\n\r\n    new Status(IStatus.ERROR, message, exception);\r\n\r\n`Activator` is the class defined as the plug-in activator in the `Bundle-Activator` in the plug-in&#39;s MANIFEST.MF.\r\n\r\nIf the plug-in does not have an activator you can get get the `ILog` using:\r\n\r\n    ILog log = Platform.getLog(getClass());\r\n\r\nor\r\n\r\n    ILog log = Platform.getLog(bundle);\r\n\r\nwhere `bundle` is the `Bundle` for the plug-in.\r\n\r\n","title":"Proper Logging for Eclipse plug-in development","body":"<p>Printing the stack trace will not go in the error log, it will just be lost (except when running from within Eclipse or with a console).</p>\n<p>The <code>Activator</code> based logging is the usual way to log. The code logging provided by the <code>Plugin</code> or <code>AbstractUIPlugin</code> class is:</p>\n<pre><code>ILog log = Activator.getDefault().getLog();\n\nlog.log(new Status(....));\n</code></pre>\n<p><code>Status</code> has a number of different constructors depending on exactly what you want to log. For example:</p>\n<pre><code>new Status(IStatus.ERROR, ID, errorNumber, message, exception);\n\nnew Status(IStatus.ERROR, message, exception);\n</code></pre>\n<p><code>Activator</code> is the class defined as the plug-in activator in the <code>Bundle-Activator</code> in the plug-in's MANIFEST.MF.</p>\n<p>If the plug-in does not have an activator you can get get the <code>ILog</code> using:</p>\n<pre><code>ILog log = Platform.getLog(getClass());\n</code></pre>\n<p>or</p>\n<pre><code>ILog log = Platform.getLog(bundle);\n</code></pre>\n<p>where <code>bundle</code> is the <code>Bundle</code> for the plug-in.</p>\n"}],"owner":{"account_id":4828049,"reputation":2202,"user_id":3896997,"accept_rate":74,"display_name":"Chris Bolton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3555,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":28482271,"answer_count":1,"score":6,"last_activity_date":1641198104,"creation_date":1423756541,"question_id":28481943,"body_markdown":"When I am catching an exception that I have thrown, what is the proper logging of that exception? I know the user can see the &quot;error log&quot; view in eclipse. \r\n\r\nHere are a couple different ways that I can log... Not sure which is the best and what exactly the user will see when I log it this way.\r\n\r\n 1. Simply print the stack trace. Will this show in the &quot;error log&quot; view? \r\n 2. `Activator.getDefault().log(e.getMessage(), e);` In each catch clause, \r\n       I can log the information with the Activator that is associated with\r\n       the plug-ins ID. \r\n\r\nAre there betters way to log the error in eclipse?\r\n","title":"Proper Logging for Eclipse plug-in development","body":"<p>When I am catching an exception that I have thrown, what is the proper logging of that exception? I know the user can see the \"error log\" view in eclipse. </p>\n\n<p>Here are a couple different ways that I can log... Not sure which is the best and what exactly the user will see when I log it this way.</p>\n\n<ol>\n<li>Simply print the stack trace. Will this show in the \"error log\" view? </li>\n<li><code>Activator.getDefault().log(e.getMessage(), e);</code> In each catch clause, \n   I can log the information with the Activator that is associated with\n   the plug-ins ID. </li>\n</ol>\n\n<p>Are there betters way to log the error in eclipse?</p>\n"},{"tags":["java","response","rest-assured"],"comments":[{"owner":{"account_id":21431541,"reputation":3,"user_id":15787855,"display_name":"Mariusz"},"score":0,"creation_date":1641197453,"post_id":70536047,"comment_id":125130672,"body_markdown":"It&#39;s much better. Now I can store value of body to variable but I don&#39;t have response body in my console logs.","body":"It&#39;s much better. Now I can store value of body to variable but I don&#39;t have response body in my console logs."}],"answers":[{"tags":[],"owner":{"account_id":16557745,"reputation":527,"user_id":11964458,"display_name":"Villa_7"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641070789,"creation_date":1641070789,"answer_id":70551837,"question_id":70536047,"body_markdown":"Try this: \r\n\r\n    RestAssured.given()\r\n                .log().uri()\r\n                .baseUri(&quot;https://uri:8080/&quot;)\r\n                .relaxedHTTPSValidation()\r\n                .get(&quot;getVer&quot;)\r\n                .then()\r\n                .log().all()\r\n                .extract()\r\n                .response();","title":"REST Assured don&#39;t log response body","body":"<p>Try this:</p>\n<pre><code>RestAssured.given()\n            .log().uri()\n            .baseUri(&quot;https://uri:8080/&quot;)\n            .relaxedHTTPSValidation()\n            .get(&quot;getVer&quot;)\n            .then()\n            .log().all()\n            .extract()\n            .response();\n</code></pre>\n"}],"owner":{"account_id":21431541,"reputation":3,"user_id":15787855,"display_name":"Mariusz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1543,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70551837,"answer_count":1,"score":0,"last_activity_date":1641197453,"creation_date":1640893642,"question_id":70536047,"body_markdown":"I have method:\r\n\r\n    &lt;https://uri:8080/getVer&gt;\r\n\r\nThis method returns info about version of app. Like that:\r\n\r\n    1.39.1\r\n\r\nIt is text- not xml, not json, not html.\r\n\r\nWhen I try to use this method in REST Assured:\r\n\r\n            RestAssured.given()\r\n                .log().uri()\r\n                .baseUri(&quot;https://uri:8080/&quot;)\r\n                .relaxedHTTPSValidation()\r\n                .get(&quot;getVer&quot;)\r\n                .then()\r\n                .log().all();\r\n\r\nI do not recived a response body:\r\n\r\n**Logs from process:**\r\n\r\n&gt;     Request URI:\thttps://uri:8080/getVer\r\n&gt;     \r\n&gt;     HTTP/1.1 200 \r\n&gt;     Content-Length: 6\r\n&gt;     X-Flow-Trace-Id: someTraceId\r\n&gt;     Content-Type: application/json;charset=UTF-8\r\n&gt;     Date: Thu, 30 Dec 2021 19:27:03 GMT\r\n&gt;     Set-Cookie: some_cookie; path=/; Httponly; Secure\r\n&gt;     Server: some app server\r\n&gt;     \r\n&gt;     Process finished with exit code 0\r\n\r\n\r\nWhy i am not received response body? When I try to go to this link on my browser, I recieved a value.\r\n\r\n[It is an example from Postman][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6GXwi.png","title":"REST Assured don&#39;t log response body","body":"<p>I have method:</p>\n<pre><code>&lt;https://uri:8080/getVer&gt;\n</code></pre>\n<p>This method returns info about version of app. Like that:</p>\n<pre><code>1.39.1\n</code></pre>\n<p>It is text- not xml, not json, not html.</p>\n<p>When I try to use this method in REST Assured:</p>\n<pre><code>        RestAssured.given()\n            .log().uri()\n            .baseUri(&quot;https://uri:8080/&quot;)\n            .relaxedHTTPSValidation()\n            .get(&quot;getVer&quot;)\n            .then()\n            .log().all();\n</code></pre>\n<p>I do not recived a response body:</p>\n<p><strong>Logs from process:</strong></p>\n<blockquote>\n<pre><code>Request URI:  https://uri:8080/getVer\n\nHTTP/1.1 200 \nContent-Length: 6\nX-Flow-Trace-Id: someTraceId\nContent-Type: application/json;charset=UTF-8\nDate: Thu, 30 Dec 2021 19:27:03 GMT\nSet-Cookie: some_cookie; path=/; Httponly; Secure\nServer: some app server\n\nProcess finished with exit code 0\n</code></pre>\n</blockquote>\n<p>Why i am not received response body? When I try to go to this link on my browser, I recieved a value.</p>\n<p><a href=\"https://i.stack.imgur.com/6GXwi.png\" rel=\"nofollow noreferrer\">It is an example from Postman</a></p>\n"},{"tags":["java","android","android-7.0-nougat"],"comments":[{"owner":{"account_id":921556,"reputation":1861,"user_id":953178,"display_name":"Metwalli"},"score":6,"creation_date":1478855574,"post_id":39705739,"comment_id":68330407,"body_markdown":"I filed a bug to Android team and here the answer: https://code.google.com/p/android/issues/detail?id=225679","body":"I filed a bug to Android team and here the answer: <a href=\"https://code.google.com/p/android/issues/detail?id=225679\" rel=\"nofollow noreferrer\">code.google.com/p/android/issues/detail?id=225679</a>"}],"answers":[{"tags":[],"owner":{"account_id":8319299,"reputation":2387,"user_id":6251577,"accept_rate":50,"display_name":"Kuva"},"down_vote_count":1,"up_vote_count":118,"is_accepted":true,"score":117,"last_activity_date":1561963336,"creation_date":1480350594,"answer_id":40849142,"question_id":39705739,"body_markdown":"Ok. Finally i managed to find a solution. \r\n\r\nFirst you should know that in 25 API `Resources.updateConfiguration(...)` is deprecated. So instead you can do something like this:\r\n\r\n1) You need to create your own ContextWrapper that will override all configuration params in baseContext. For example this is mine ContextWrapper that changes Locale correctly. Pay attention on `context.createConfigurationContext(configuration)` method.\r\n\r\n    public class ContextWrapper extends android.content.ContextWrapper {\r\n\r\n        public ContextWrapper(Context base) {\r\n            super(base);\r\n        }\r\n\r\n        public static ContextWrapper wrap(Context context, Locale newLocale) {\r\n            Resources res = context.getResources();\r\n            Configuration configuration = res.getConfiguration();\r\n\r\n            if (BuildUtils.isAtLeast24Api()) {\r\n                configuration.setLocale(newLocale);\r\n\r\n                LocaleList localeList = new LocaleList(newLocale);\r\n                LocaleList.setDefault(localeList);\r\n                configuration.setLocales(localeList);\r\n\r\n                context = context.createConfigurationContext(configuration);\r\n\r\n            } else if (BuildUtils.isAtLeast17Api()) {\r\n                configuration.setLocale(newLocale);\r\n                context = context.createConfigurationContext(configuration);\r\n\r\n            } else {\r\n                configuration.locale = newLocale;\r\n                res.updateConfiguration(configuration, res.getDisplayMetrics());\r\n            }\r\n\r\n            return new ContextWrapper(context);\r\n        }\r\n    }\r\n\r\n2) Here&#39;s what you should do in your BaseActivity:\r\n\r\n    @Override\r\n    protected void attachBaseContext(Context newBase) {\r\n        \r\n        Locale newLocale;\r\n        // .. create or get your new Locale object here.\r\n\r\n        Context context = ContextWrapper.wrap(newBase, newLocale);\r\n        super.attachBaseContext(context);\r\n    }\r\n\r\n**Note:**\r\n\r\n&gt; Remember to recreate your activity if you want to change Locale in\r\n&gt; your App somewhere. You can override any configuration you want using\r\n&gt; this solution.\r\n\r\n ","title":"Android N change language programmatically","body":"<p>Ok. Finally i managed to find a solution. </p>\n\n<p>First you should know that in 25 API <code>Resources.updateConfiguration(...)</code> is deprecated. So instead you can do something like this:</p>\n\n<p>1) You need to create your own ContextWrapper that will override all configuration params in baseContext. For example this is mine ContextWrapper that changes Locale correctly. Pay attention on <code>context.createConfigurationContext(configuration)</code> method.</p>\n\n<pre><code>public class ContextWrapper extends android.content.ContextWrapper {\n\n    public ContextWrapper(Context base) {\n        super(base);\n    }\n\n    public static ContextWrapper wrap(Context context, Locale newLocale) {\n        Resources res = context.getResources();\n        Configuration configuration = res.getConfiguration();\n\n        if (BuildUtils.isAtLeast24Api()) {\n            configuration.setLocale(newLocale);\n\n            LocaleList localeList = new LocaleList(newLocale);\n            LocaleList.setDefault(localeList);\n            configuration.setLocales(localeList);\n\n            context = context.createConfigurationContext(configuration);\n\n        } else if (BuildUtils.isAtLeast17Api()) {\n            configuration.setLocale(newLocale);\n            context = context.createConfigurationContext(configuration);\n\n        } else {\n            configuration.locale = newLocale;\n            res.updateConfiguration(configuration, res.getDisplayMetrics());\n        }\n\n        return new ContextWrapper(context);\n    }\n}\n</code></pre>\n\n<p>2) Here's what you should do in your BaseActivity:</p>\n\n<pre><code>@Override\nprotected void attachBaseContext(Context newBase) {\n\n    Locale newLocale;\n    // .. create or get your new Locale object here.\n\n    Context context = ContextWrapper.wrap(newBase, newLocale);\n    super.attachBaseContext(context);\n}\n</code></pre>\n\n<p><strong>Note:</strong></p>\n\n<blockquote>\n  <p>Remember to recreate your activity if you want to change Locale in\n  your App somewhere. You can override any configuration you want using\n  this solution.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2666878,"reputation":693,"user_id":2305119,"display_name":"thyzz"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1553474042,"creation_date":1508954146,"answer_id":46939076,"question_id":39705739,"body_markdown":"Inspired by various codes (i.e: our Stackoverflow team (shout out people)), I had produced a much simpler version. The `ContextWrapper` extension is unnecessary.\r\n\r\nFirst let&#39;s say you have 2 buttons for 2 languages, EN and KH. In the onClick for the buttons save the language code into `SharedPreferences`, then call the activity `recreate()` method.\r\n\r\nExample:\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n    \tswitch(v.getId()) {\r\n    \t\tcase R.id.btn_lang_en:\r\n    \t\t\t//save &quot;en&quot; to SharedPref here\r\n    \t\t\tbreak;\r\n    \t\tcase R.id.btn_lang_kh:\r\n    \t\t\t//save &quot;kh&quot; to SharedPref here\r\n    \t\t\tbreak;\r\n    \r\n    \t\tdefault:\r\n    \t\tbreak;\r\n    \t}\r\n    \tgetActivity().recreate();\r\n    }\r\n\r\nThen create a static method that returns `ContextWrapper`, perhaps in a Utils class (coz that&#39;s what I did, lul).\r\n\r\n    public static ContextWrapper changeLang(Context context, String lang_code){\r\n    \tLocale sysLocale;\r\n    \r\n    \tResources rs = context.getResources();\r\n    \tConfiguration config = rs.getConfiguration();\r\n    \r\n    \tif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n    \t\tsysLocale = config.getLocales().get(0);\r\n    \t} else {\r\n    \t\tsysLocale = config.locale;\r\n    \t}\r\n    \tif (!lang_code.equals(&quot;&quot;) &amp;&amp; !sysLocale.getLanguage().equals(lang_code)) {\r\n    \t\tLocale locale = new Locale(lang_code);\r\n    \t\tLocale.setDefault(locale);\r\n    \t\tif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n    \t\t\tconfig.setLocale(locale);\r\n    \t\t} else {\r\n    \t\t\tconfig.locale = locale;\r\n    \t\t}\r\n    \t\tif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN_MR1) {\r\n    \t\t\tcontext = context.createConfigurationContext(config);\r\n    \t\t} else {\r\n    \t\t\tcontext.getResources().updateConfiguration(config, context.getResources().getDisplayMetrics());\r\n    \t\t}\r\n    \t}\r\n    \r\n    \treturn new ContextWrapper(context);\r\n    }\r\n\r\nFinally, load the language code from `SharedPreferences` in **ALL ACTIVITY&#39;S** `attachBaseContext(Context newBase)` method.\r\n\r\n    @Override\r\n    protected void attachBaseContext(Context newBase) {\r\n    \tString lang_code = &quot;en&quot;; //load it from SharedPref\r\n    \tContext context = Utils.changeLang(newBase, lang_code);\r\n    \tsuper.attachBaseContext(context);\r\n    }\r\n\r\nBONUS: To save palm sweat on keyboard, I created a `LangSupportBaseActivity` class that extends the `Activity` and use the last chunk of code there. And I have all other activities extends `LangSupportBaseActivity`.\r\n\r\nExample:\r\n\r\n    public class LangSupportBaseActivity extends Activity{\r\n    \t...blab blab blab so on and so forth lines of neccessary code\r\n    \r\n    \t@Override\r\n    \tprotected void attachBaseContext(Context newBase) {\r\n    \t\tString lang_code = &quot;en&quot;; //load it from SharedPref\r\n    \t\tContext context = Utils.changeLang(newBase, lang_code);\r\n    \t\tsuper.attachBaseContext(context);\r\n    \t}\r\n    }\r\n\r\n    public class HomeActivity extends LangSupportBaseActivity{\r\n    \t...blab blab blab\r\n    }","title":"Android N change language programmatically","body":"<p>Inspired by various codes (i.e: our Stackoverflow team (shout out people)), I had produced a much simpler version. The <code>ContextWrapper</code> extension is unnecessary.</p>\n\n<p>First let's say you have 2 buttons for 2 languages, EN and KH. In the onClick for the buttons save the language code into <code>SharedPreferences</code>, then call the activity <code>recreate()</code> method.</p>\n\n<p>Example:</p>\n\n<pre><code>@Override\npublic void onClick(View v) {\n    switch(v.getId()) {\n        case R.id.btn_lang_en:\n            //save \"en\" to SharedPref here\n            break;\n        case R.id.btn_lang_kh:\n            //save \"kh\" to SharedPref here\n            break;\n\n        default:\n        break;\n    }\n    getActivity().recreate();\n}\n</code></pre>\n\n<p>Then create a static method that returns <code>ContextWrapper</code>, perhaps in a Utils class (coz that's what I did, lul).</p>\n\n<pre><code>public static ContextWrapper changeLang(Context context, String lang_code){\n    Locale sysLocale;\n\n    Resources rs = context.getResources();\n    Configuration config = rs.getConfiguration();\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n        sysLocale = config.getLocales().get(0);\n    } else {\n        sysLocale = config.locale;\n    }\n    if (!lang_code.equals(\"\") &amp;&amp; !sysLocale.getLanguage().equals(lang_code)) {\n        Locale locale = new Locale(lang_code);\n        Locale.setDefault(locale);\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n            config.setLocale(locale);\n        } else {\n            config.locale = locale;\n        }\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN_MR1) {\n            context = context.createConfigurationContext(config);\n        } else {\n            context.getResources().updateConfiguration(config, context.getResources().getDisplayMetrics());\n        }\n    }\n\n    return new ContextWrapper(context);\n}\n</code></pre>\n\n<p>Finally, load the language code from <code>SharedPreferences</code> in <strong>ALL ACTIVITY'S</strong> <code>attachBaseContext(Context newBase)</code> method.</p>\n\n<pre><code>@Override\nprotected void attachBaseContext(Context newBase) {\n    String lang_code = \"en\"; //load it from SharedPref\n    Context context = Utils.changeLang(newBase, lang_code);\n    super.attachBaseContext(context);\n}\n</code></pre>\n\n<p>BONUS: To save palm sweat on keyboard, I created a <code>LangSupportBaseActivity</code> class that extends the <code>Activity</code> and use the last chunk of code there. And I have all other activities extends <code>LangSupportBaseActivity</code>.</p>\n\n<p>Example:</p>\n\n<pre><code>public class LangSupportBaseActivity extends Activity{\n    ...blab blab blab so on and so forth lines of neccessary code\n\n    @Override\n    protected void attachBaseContext(Context newBase) {\n        String lang_code = \"en\"; //load it from SharedPref\n        Context context = Utils.changeLang(newBase, lang_code);\n        super.attachBaseContext(context);\n    }\n}\n\npublic class HomeActivity extends LangSupportBaseActivity{\n    ...blab blab blab\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":207728,"reputation":970,"user_id":4285278,"accept_rate":43,"display_name":"QuantumTiger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1569853308,"creation_date":1537642620,"answer_id":52459885,"question_id":39705739,"body_markdown":"The above answers set me on the right track but left a couple of issues\r\n\r\n 1. On android 7 and 9 I could happily change to any language other than the app default. When I changed back to the app default language it showed the last language selected - not surprising as this has overridden the default (although interestingly this wasn&#39;t an issue on Android 8!).\r\n 2. For RTL languages it didn&#39;t update the  layouts to RTL\r\n\r\nTo fix the first item I stored the default locale on app start. \r\n\r\n**Note** If your default language is set to &quot;en&quot; then locales of &quot;enGB&quot; or &quot;enUS&quot; both need to match the default locale (unless you provide seperate localisations for them). Similarly in the example below if the user&#39;s phone locale is arEG (Arabic Egypt) then the defLanguage needs to be &quot;ar&quot; not &quot;arEG&quot;\r\n\r\n    private Locale defLocale = Locale.getDefault();\r\n    private Locale locale = Locale.getDefault();\r\n    public static myApplication myApp;\r\n    public static Resources res;\r\n    private static String defLanguage = Locale.getDefault().getLanguage() + Locale.getDefault().getCountry();\r\n    private static sLanguage = &quot;en&quot;;\r\n    private static final Set&lt;String&gt; SUPPORTEDLANGUAGES = new HashSet&lt;&gt;(Arrays.asList(new String[]{&quot;en&quot;, &quot;ar&quot;, &quot;arEG&quot;})); \r\n \r\n    @Override\r\n    protected void attachBaseContext(Context base) {\r\n      if (myApp == null) myApp = this;\r\n\t  if (base == null) super.attachBaseContext(this);\r\n      else super.attachBaseContext(setLocale(base));\r\n    }\r\n\r\n\t@Override\r\n\tpublic void onCreate() {\r\n      myApp = this;\r\n\r\n      if (!SUPPORTEDLANGUAGES.contains(test)) {\r\n        // The default locale (eg enUS) is not in the supported list - lets see if the language is\r\n        if (SUPPORTEDLANGUAGES.contains(defLanguage.substring(0,2))) {\r\n          defLanguage = defLanguage.substring(0,2);\r\n        }\r\n      }\r\n    }\r\n\r\n    private static void setLanguage(String sLang) {\r\n      Configuration baseCfg = myApp.getBaseContext().getResources().getConfiguration();\r\n      if ( sLang.length() &gt; 2 ) {\r\n        String s[] = sLang.split(&quot;_&quot;);\r\n        myApp.locale = new Locale(s[0],s[1]);\r\n        sLanguage = s[0] + s[1];\r\n      }\r\n      else {\r\n        myApp.locale = new Locale(sLang);\r\n        sLanguage = sLang;\r\n      }\r\n    }\r\n\r\n    public static Context setLocale(Context ctx) {\r\n      Locale.setDefault(myApp.locale);\r\n      Resources tempRes = ctx.getResources();\r\n      Configuration config = tempRes.getConfiguration();\r\n\r\n      if (Build.VERSION.SDK_INT &gt;= 24) {\r\n        // If changing to the app default language, set locale to the default locale\r\n        if (sLanguage.equals(myApp.defLanguage)) {\r\n          config.setLocale(myApp.defLocale);\r\n          // restored the default locale as well\r\n          Locale.setDefault(myApp.defLocale);\r\n        }\r\n        else config.setLocale(myApp.locale);\r\n\r\n        ctx = ctx.createConfigurationContext(config);\r\n\r\n        // update the resources object to point to the current localisation\r\n        res = ctx.getResources();\r\n      } else {\r\n        config.locale = myApp.locale;\r\n        tempRes.updateConfiguration(config, tempRes.getDisplayMetrics());\r\n      }\r\n\r\n      return ctx;\r\n    }\r\n\r\nTo fix the RTL issues I extended AppCompatActivity as per Fragments comments in this [answer][1] \r\n\r\n    public class myCompatActivity extends AppCompatActivity {\r\n      @Override\r\n      protected void attachBaseContext(Context base) {\r\n        super.attachBaseContext(myApplication.setLocale(base));\r\n      }\r\n    \r\n      @Override\r\n      protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (Build.VERSION.SDK_INT &gt;= 17) {\r\n          getWindow().getDecorView().setLayoutDirection(myApplication.isRTL() ?\r\n                  View.LAYOUT_DIRECTION_RTL : View.LAYOUT_DIRECTION_LTR);\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/44663899/4285278","title":"Android N change language programmatically","body":"<p>The above answers set me on the right track but left a couple of issues</p>\n\n<ol>\n<li>On android 7 and 9 I could happily change to any language other than the app default. When I changed back to the app default language it showed the last language selected - not surprising as this has overridden the default (although interestingly this wasn't an issue on Android 8!).</li>\n<li>For RTL languages it didn't update the  layouts to RTL</li>\n</ol>\n\n<p>To fix the first item I stored the default locale on app start. </p>\n\n<p><strong>Note</strong> If your default language is set to \"en\" then locales of \"enGB\" or \"enUS\" both need to match the default locale (unless you provide seperate localisations for them). Similarly in the example below if the user's phone locale is arEG (Arabic Egypt) then the defLanguage needs to be \"ar\" not \"arEG\"</p>\n\n<pre><code>private Locale defLocale = Locale.getDefault();\nprivate Locale locale = Locale.getDefault();\npublic static myApplication myApp;\npublic static Resources res;\nprivate static String defLanguage = Locale.getDefault().getLanguage() + Locale.getDefault().getCountry();\nprivate static sLanguage = \"en\";\nprivate static final Set&lt;String&gt; SUPPORTEDLANGUAGES = new HashSet&lt;&gt;(Arrays.asList(new String[]{\"en\", \"ar\", \"arEG\"})); \n\n@Override\nprotected void attachBaseContext(Context base) {\n  if (myApp == null) myApp = this;\n  if (base == null) super.attachBaseContext(this);\n  else super.attachBaseContext(setLocale(base));\n}\n\n@Override\npublic void onCreate() {\n  myApp = this;\n\n  if (!SUPPORTEDLANGUAGES.contains(test)) {\n    // The default locale (eg enUS) is not in the supported list - lets see if the language is\n    if (SUPPORTEDLANGUAGES.contains(defLanguage.substring(0,2))) {\n      defLanguage = defLanguage.substring(0,2);\n    }\n  }\n}\n\nprivate static void setLanguage(String sLang) {\n  Configuration baseCfg = myApp.getBaseContext().getResources().getConfiguration();\n  if ( sLang.length() &gt; 2 ) {\n    String s[] = sLang.split(\"_\");\n    myApp.locale = new Locale(s[0],s[1]);\n    sLanguage = s[0] + s[1];\n  }\n  else {\n    myApp.locale = new Locale(sLang);\n    sLanguage = sLang;\n  }\n}\n\npublic static Context setLocale(Context ctx) {\n  Locale.setDefault(myApp.locale);\n  Resources tempRes = ctx.getResources();\n  Configuration config = tempRes.getConfiguration();\n\n  if (Build.VERSION.SDK_INT &gt;= 24) {\n    // If changing to the app default language, set locale to the default locale\n    if (sLanguage.equals(myApp.defLanguage)) {\n      config.setLocale(myApp.defLocale);\n      // restored the default locale as well\n      Locale.setDefault(myApp.defLocale);\n    }\n    else config.setLocale(myApp.locale);\n\n    ctx = ctx.createConfigurationContext(config);\n\n    // update the resources object to point to the current localisation\n    res = ctx.getResources();\n  } else {\n    config.locale = myApp.locale;\n    tempRes.updateConfiguration(config, tempRes.getDisplayMetrics());\n  }\n\n  return ctx;\n}\n</code></pre>\n\n<p>To fix the RTL issues I extended AppCompatActivity as per Fragments comments in this <a href=\"https://stackoverflow.com/a/44663899/4285278\">answer</a> </p>\n\n<pre><code>public class myCompatActivity extends AppCompatActivity {\n  @Override\n  protected void attachBaseContext(Context base) {\n    super.attachBaseContext(myApplication.setLocale(base));\n  }\n\n  @Override\n  protected void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    if (Build.VERSION.SDK_INT &gt;= 17) {\n      getWindow().getDecorView().setLayoutDirection(myApplication.isRTL() ?\n              View.LAYOUT_DIRECTION_RTL : View.LAYOUT_DIRECTION_LTR);\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":83247,"reputation":2756,"user_id":233535,"accept_rate":75,"display_name":"Ali Nadalizadeh"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1569759939,"creation_date":1569759939,"answer_id":58155189,"question_id":39705739,"body_markdown":"Since Android 7.0+ some parts of my app didn&#39;t change their language anymore. Even with the new methods proposed above. Updating of both application and activity context helped me. Here is a Kotlin example of Activity subclass overrides:\r\n\r\n    private fun setApplicationLanguage(newLanguage: String) {\r\n        val activityRes = resources\r\n        val activityConf = activityRes.configuration\r\n        val newLocale = Locale(newLanguage)\r\n        activityConf.setLocale(newLocale)\r\n        activityRes.updateConfiguration(activityConf, activityRes.displayMetrics)\r\n\r\n        val applicationRes = applicationContext.resources\r\n        val applicationConf = applicationRes.configuration\r\n        applicationConf.setLocale(newLocale)\r\n        applicationRes.updateConfiguration(applicationConf,\r\n                applicationRes.displayMetrics)\r\n    }\r\n\r\n    override fun attachBaseContext(newBase: Context?) {\r\n        super.attachBaseContext(newBase)\r\n\r\n        setApplicationLanguage(&quot;fa&quot;);\r\n    }\r\n\r\nNote: updateConfiguration is deprecated but anyway, createConfigurationContext for each Activity, left some strings unchanged.","title":"Android N change language programmatically","body":"<p>Since Android 7.0+ some parts of my app didn't change their language anymore. Even with the new methods proposed above. Updating of both application and activity context helped me. Here is a Kotlin example of Activity subclass overrides:</p>\n\n<pre><code>private fun setApplicationLanguage(newLanguage: String) {\n    val activityRes = resources\n    val activityConf = activityRes.configuration\n    val newLocale = Locale(newLanguage)\n    activityConf.setLocale(newLocale)\n    activityRes.updateConfiguration(activityConf, activityRes.displayMetrics)\n\n    val applicationRes = applicationContext.resources\n    val applicationConf = applicationRes.configuration\n    applicationConf.setLocale(newLocale)\n    applicationRes.updateConfiguration(applicationConf,\n            applicationRes.displayMetrics)\n}\n\noverride fun attachBaseContext(newBase: Context?) {\n    super.attachBaseContext(newBase)\n\n    setApplicationLanguage(\"fa\");\n}\n</code></pre>\n\n<p>Note: updateConfiguration is deprecated but anyway, createConfigurationContext for each Activity, left some strings unchanged.</p>\n"},{"tags":[],"owner":{"account_id":5383386,"reputation":1641,"user_id":4288054,"display_name":"Oleksandr Albul"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1586182687,"creation_date":1586182687,"answer_id":61061918,"question_id":39705739,"body_markdown":"Changing locale programatically in Android app is quite a pain. I have spent lot of time to find working solution, that currently works in production.\r\n\r\nYou need to override context in every `Activity` but also in your `Application` class, otherwise you will end up with mixed languages in ui. \r\n\r\nSo here is mine solution which works up to API 29:\r\n\r\nSubclass your `MainApplication` class from:\r\n```\r\nabstract class LocalApplication : Application() {\r\n    \r\n    override fun attachBaseContext(base: Context) {\r\n        super.attachBaseContext(\r\n            base.toLangIfDiff(\r\n                PreferenceManager\r\n                    .getDefaultSharedPreferences(base)\r\n                    .getString(&quot;langPref&quot;, &quot;sys&quot;)!!\r\n             )\r\n        )\r\n    }\r\n}\r\n```\r\n\r\nAlso every `Activity` from:\r\n```\r\nabstract class LocalActivity : AppCompatActivity() {\r\n\r\n    override fun attachBaseContext(newBase: Context) {\r\n        super.attachBaseContext(            \r\n            PreferenceManager\r\n                .getDefaultSharedPreferences(base)\r\n                    .getString(&quot;langPref&quot;, &quot;sys&quot;)!!\r\n        )\r\n    }\r\n\r\n    override fun applyOverrideConfiguration(overrideConfiguration: Configuration) {\r\n        super.applyOverrideConfiguration(baseContext.resources.configuration)\r\n    }\r\n}\r\n```\r\n\r\nAdd `LocaleExt.kt` with next extension functions:\r\n```\r\nconst val SYSTEM_LANG = &quot;sys&quot;\r\nconst val ZH_LANG = &quot;zh&quot;\r\nconst val SIMPLIFIED_CHINESE_SUFFIX = &quot;rCN&quot;\r\n\r\n\r\nprivate fun Context.isAppLangDiff(prefLang: String): Boolean {\r\n    val appConfig: Configuration = this.resources.configuration\r\n    val sysConfig: Configuration = Resources.getSystem().configuration\r\n\r\n    val appLang: String = appConfig.localeCompat.language\r\n    val sysLang: String = sysConfig.localeCompat.language\r\n\r\n    return if (SYSTEM_LANG == prefLang) {\r\n        appLang != sysLang\r\n    } else {\r\n        appLang != prefLang\r\n                || ZH_LANG == prefLang\r\n    }\r\n}\r\n\r\nfun Context.toLangIfDiff(lang: String): Context =\r\n    if (this.isAppLangDiff(lang)) {\r\n        this.toLang(lang)\r\n    } else {\r\n        this\r\n    }\r\n\r\n@Suppress(&quot;DEPRECATION&quot;)\r\nfun Context.toLang(toLang: String): Context {\r\n    val config = Configuration()\r\n\r\n    val toLocale = langToLocale(toLang)\r\n\r\n    Locale.setDefault(toLocale)\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n        config.setLocale(toLocale)\r\n\r\n        val localeList = LocaleList(toLocale)\r\n        LocaleList.setDefault(localeList)\r\n        config.setLocales(localeList)\r\n    } else {\r\n        config.locale = toLocale\r\n    }\r\n\r\n    return if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN_MR1) {\r\n        config.setLayoutDirection(toLocale)\r\n        this.createConfigurationContext(config)\r\n    } else {\r\n        this.resources.updateConfiguration(config, this.resources.displayMetrics)\r\n        this\r\n    }\r\n}\r\n\r\n/**\r\n * @param toLang - two character representation of language, could be &quot;sys&quot; - which represents system&#39;s locale\r\n */\r\nfun langToLocale(toLang: String): Locale =\r\n    when {\r\n        toLang == SYSTEM_LANG -&gt;\r\n            Resources.getSystem().configuration.localeCompat\r\n\r\n        toLang.contains(ZH_LANG) -&gt; when {\r\n            toLang.contains(SIMPLIFIED_CHINESE_SUFFIX) -&gt;\r\n                Locale.SIMPLIFIED_CHINESE\r\n            Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N -&gt;\r\n                Locale(ZH_LANG, &quot;Hant&quot;)\r\n            else -&gt;\r\n                Locale.TRADITIONAL_CHINESE\r\n        }\r\n\r\n        else -&gt; Locale(toLang)\r\n    }\r\n\r\n@Suppress(&quot;DEPRECATION&quot;)\r\nprivate val Configuration.localeCompat: Locale\r\n    get() = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n        this.locales.get(0)\r\n    } else {\r\n        this.locale\r\n    }\r\n```\r\nAdd to your `res/values/arrays.xml` your supported languages in array:\r\n```\r\n&lt;string-array name=&quot;lang_values&quot; translatable=&quot;false&quot;&gt;\r\n    &lt;item&gt;sys&lt;/item&gt; &lt;!-- System default --&gt;\r\n    &lt;item&gt;ar&lt;/item&gt;\r\n    &lt;item&gt;de&lt;/item&gt;\r\n    &lt;item&gt;en&lt;/item&gt;\r\n    &lt;item&gt;es&lt;/item&gt;\r\n    &lt;item&gt;fa&lt;/item&gt;\r\n    ...\r\n    &lt;item&gt;zh&lt;/item&gt; &lt;!-- Traditional Chinese --&gt;\r\n    &lt;item&gt;zh-rCN&lt;/item&gt; &lt;!-- Simplified Chinese --&gt;\r\n&lt;/string-array&gt;\r\n```\r\nHere is key points:\r\n\r\n - Use `config.setLayoutDirection(toLocale);` to change layout direction\r\n   when you use RTL locales like Arabic, Persian, etc.\r\n - `&quot;sys&quot;` in the code is a value that means &quot;inherit system default language&quot;.\r\n - Here &quot;langPref&quot; is a key of preference where you put user current language.\r\n - There is no need to recreate the context if it already uses needed\r\n   locale.\r\n - There is no need for `ContextWraper` as posted here, just set new context returned from `createConfigurationContext` as baseContext\r\n - This is very important! When you call `createConfigurationContext` you should pass configuration **crated from scratch** and only with `Locale` property set. There shouldn&#39;t be any other property set to this configuration. Because if we set some other properties for this config (*orientation* for example), we override that property forever, and our context no longer change this *orientation* property even if we rotate the screen.\r\n - It is not enough only to `recreate` activity when user selects a different language, because applicationContext will remain with old locale and it could provide unexpected behaviour. So listen to preference change and restart whole application task instead:\r\n\r\n----------\r\n```\r\nfun Context.recreateTask() {\r\n    this.packageManager\r\n        .getLaunchIntentForPackage(context.packageName)\r\n        ?.let { intent -&gt;\r\n            val restartIntent = Intent.makeRestartActivityTask(intent.component)\r\n            this.startActivity(restartIntent)\r\n            Runtime.getRuntime().exit(0)\r\n         }\r\n}\r\n```","title":"Android N change language programmatically","body":"<p>Changing locale programatically in Android app is quite a pain. I have spent lot of time to find working solution, that currently works in production.</p>\n\n<p>You need to override context in every <code>Activity</code> but also in your <code>Application</code> class, otherwise you will end up with mixed languages in ui. </p>\n\n<p>So here is mine solution which works up to API 29:</p>\n\n<p>Subclass your <code>MainApplication</code> class from:</p>\n\n<pre><code>abstract class LocalApplication : Application() {\n\n    override fun attachBaseContext(base: Context) {\n        super.attachBaseContext(\n            base.toLangIfDiff(\n                PreferenceManager\n                    .getDefaultSharedPreferences(base)\n                    .getString(\"langPref\", \"sys\")!!\n             )\n        )\n    }\n}\n</code></pre>\n\n<p>Also every <code>Activity</code> from:</p>\n\n<pre><code>abstract class LocalActivity : AppCompatActivity() {\n\n    override fun attachBaseContext(newBase: Context) {\n        super.attachBaseContext(            \n            PreferenceManager\n                .getDefaultSharedPreferences(base)\n                    .getString(\"langPref\", \"sys\")!!\n        )\n    }\n\n    override fun applyOverrideConfiguration(overrideConfiguration: Configuration) {\n        super.applyOverrideConfiguration(baseContext.resources.configuration)\n    }\n}\n</code></pre>\n\n<p>Add <code>LocaleExt.kt</code> with next extension functions:</p>\n\n<pre><code>const val SYSTEM_LANG = \"sys\"\nconst val ZH_LANG = \"zh\"\nconst val SIMPLIFIED_CHINESE_SUFFIX = \"rCN\"\n\n\nprivate fun Context.isAppLangDiff(prefLang: String): Boolean {\n    val appConfig: Configuration = this.resources.configuration\n    val sysConfig: Configuration = Resources.getSystem().configuration\n\n    val appLang: String = appConfig.localeCompat.language\n    val sysLang: String = sysConfig.localeCompat.language\n\n    return if (SYSTEM_LANG == prefLang) {\n        appLang != sysLang\n    } else {\n        appLang != prefLang\n                || ZH_LANG == prefLang\n    }\n}\n\nfun Context.toLangIfDiff(lang: String): Context =\n    if (this.isAppLangDiff(lang)) {\n        this.toLang(lang)\n    } else {\n        this\n    }\n\n@Suppress(\"DEPRECATION\")\nfun Context.toLang(toLang: String): Context {\n    val config = Configuration()\n\n    val toLocale = langToLocale(toLang)\n\n    Locale.setDefault(toLocale)\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n        config.setLocale(toLocale)\n\n        val localeList = LocaleList(toLocale)\n        LocaleList.setDefault(localeList)\n        config.setLocales(localeList)\n    } else {\n        config.locale = toLocale\n    }\n\n    return if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN_MR1) {\n        config.setLayoutDirection(toLocale)\n        this.createConfigurationContext(config)\n    } else {\n        this.resources.updateConfiguration(config, this.resources.displayMetrics)\n        this\n    }\n}\n\n/**\n * @param toLang - two character representation of language, could be \"sys\" - which represents system's locale\n */\nfun langToLocale(toLang: String): Locale =\n    when {\n        toLang == SYSTEM_LANG -&gt;\n            Resources.getSystem().configuration.localeCompat\n\n        toLang.contains(ZH_LANG) -&gt; when {\n            toLang.contains(SIMPLIFIED_CHINESE_SUFFIX) -&gt;\n                Locale.SIMPLIFIED_CHINESE\n            Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N -&gt;\n                Locale(ZH_LANG, \"Hant\")\n            else -&gt;\n                Locale.TRADITIONAL_CHINESE\n        }\n\n        else -&gt; Locale(toLang)\n    }\n\n@Suppress(\"DEPRECATION\")\nprivate val Configuration.localeCompat: Locale\n    get() = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n        this.locales.get(0)\n    } else {\n        this.locale\n    }\n</code></pre>\n\n<p>Add to your <code>res/values/arrays.xml</code> your supported languages in array:</p>\n\n<pre><code>&lt;string-array name=\"lang_values\" translatable=\"false\"&gt;\n    &lt;item&gt;sys&lt;/item&gt; &lt;!-- System default --&gt;\n    &lt;item&gt;ar&lt;/item&gt;\n    &lt;item&gt;de&lt;/item&gt;\n    &lt;item&gt;en&lt;/item&gt;\n    &lt;item&gt;es&lt;/item&gt;\n    &lt;item&gt;fa&lt;/item&gt;\n    ...\n    &lt;item&gt;zh&lt;/item&gt; &lt;!-- Traditional Chinese --&gt;\n    &lt;item&gt;zh-rCN&lt;/item&gt; &lt;!-- Simplified Chinese --&gt;\n&lt;/string-array&gt;\n</code></pre>\n\n<p>Here is key points:</p>\n\n<ul>\n<li>Use <code>config.setLayoutDirection(toLocale);</code> to change layout direction\nwhen you use RTL locales like Arabic, Persian, etc.</li>\n<li><code>\"sys\"</code> in the code is a value that means \"inherit system default language\".</li>\n<li>Here \"langPref\" is a key of preference where you put user current language.</li>\n<li>There is no need to recreate the context if it already uses needed\nlocale.</li>\n<li>There is no need for <code>ContextWraper</code> as posted here, just set new context returned from <code>createConfigurationContext</code> as baseContext</li>\n<li>This is very important! When you call <code>createConfigurationContext</code> you should pass configuration <strong>crated from scratch</strong> and only with <code>Locale</code> property set. There shouldn't be any other property set to this configuration. Because if we set some other properties for this config (<em>orientation</em> for example), we override that property forever, and our context no longer change this <em>orientation</em> property even if we rotate the screen.</li>\n<li>It is not enough only to <code>recreate</code> activity when user selects a different language, because applicationContext will remain with old locale and it could provide unexpected behaviour. So listen to preference change and restart whole application task instead:</li>\n</ul>\n\n<hr>\n\n<pre><code>fun Context.recreateTask() {\n    this.packageManager\n        .getLaunchIntentForPackage(context.packageName)\n        ?.let { intent -&gt;\n            val restartIntent = Intent.makeRestartActivityTask(intent.component)\n            this.startActivity(restartIntent)\n            Runtime.getRuntime().exit(0)\n         }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3937454,"reputation":21,"user_id":3253332,"display_name":"MrRackoon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1591429843,"creation_date":1591429843,"answer_id":62228866,"question_id":39705739,"body_markdown":"This is my code and it works!\r\nPlease let me know, if there are problems:\r\n\r\n    protected void attachBaseContext(Context newBase) {\r\n        String lang = &quot;en&quot;; // your language or load from SharedPref\r\n        Locale locale = new Locale(lang);\r\n        Configuration config = new Configuration(newBase.getResources().getConfiguration());\r\n        Locale.setDefault(locale);\r\n        config.setLocale(locale);\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN_MR1) {\r\n            newBase = newBase.createConfigurationContext(config);\r\n        } else {\r\n            newBase.getResources().updateConfiguration(config, newBase.getResources().getDisplayMetrics());\r\n        }\r\n        super.attachBaseContext(newBase);\r\n    }","title":"Android N change language programmatically","body":"<p>This is my code and it works!\nPlease let me know, if there are problems:</p>\n\n<pre><code>protected void attachBaseContext(Context newBase) {\n    String lang = \"en\"; // your language or load from SharedPref\n    Locale locale = new Locale(lang);\n    Configuration config = new Configuration(newBase.getResources().getConfiguration());\n    Locale.setDefault(locale);\n    config.setLocale(locale);\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN_MR1) {\n        newBase = newBase.createConfigurationContext(config);\n    } else {\n        newBase.getResources().updateConfiguration(config, newBase.getResources().getDisplayMetrics());\n    }\n    super.attachBaseContext(newBase);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1146625,"reputation":3917,"user_id":1129205,"accept_rate":71,"display_name":"Jackson Chengalai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613020602,"creation_date":1600331163,"answer_id":63934111,"question_id":39705739,"body_markdown":"**UPDATE SEP 2020**\r\n\r\nFor Latest Androidx Appcombat Stable version 1.2.0, remove all the work arounds for 1.1.0 and add this \r\n\r\n    package androidx.appcompat.app\r\n\r\n    import android.content.Context\r\n    import android.content.res.Configuration\r\n    import android.os.Bundle\r\n    import android.util.AttributeSet\r\n    import android.view.MenuInflater\r\n    import android.view.View\r\n    import android.view.ViewGroup\r\n    import androidx.appcompat.view.ActionMode\r\n    import androidx.appcompat.widget.Toolbar\r\n\r\n    class BaseContextWrappingDelegate(private val superDelegate: \r\n    AppCompatDelegate) : AppCompatDelegate() {\r\n\r\n    override fun getSupportActionBar() = superDelegate.supportActionBar\r\n\r\n    override fun setSupportActionBar(toolbar: Toolbar?) = superDelegate.setSupportActionBar(toolbar)\r\n\r\n    override fun getMenuInflater(): MenuInflater? = superDelegate.menuInflater\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        superDelegate.onCreate(savedInstanceState)\r\n        removeActivityDelegate(superDelegate)\r\n        addActiveDelegate(this)\r\n    }\r\n\r\n    override fun onPostCreate(savedInstanceState: Bundle?) = superDelegate.onPostCreate(savedInstanceState)\r\n\r\n    override fun onConfigurationChanged(newConfig: Configuration?) = superDelegate.onConfigurationChanged(newConfig)\r\n\r\n    override fun onStart() = superDelegate.onStart()\r\n\r\n    override fun onStop() = superDelegate.onStop()\r\n\r\n    override fun onPostResume() = superDelegate.onPostResume()\r\n\r\n    override fun setTheme(themeResId: Int) = superDelegate.setTheme(themeResId)\r\n\r\n    override fun &lt;T : View?&gt; findViewById(id: Int) = superDelegate.findViewById&lt;T&gt;(id)\r\n\r\n    override fun setContentView(v: View?) = superDelegate.setContentView(v)\r\n\r\n    override fun setContentView(resId: Int) = superDelegate.setContentView(resId)\r\n\r\n    override fun setContentView(v: View?, lp: ViewGroup.LayoutParams?) = superDelegate.setContentView(v, lp)\r\n\r\n    override fun addContentView(v: View?, lp: ViewGroup.LayoutParams?) = superDelegate.addContentView(v, lp)\r\n\r\n    override fun attachBaseContext2(context: Context) = wrap(superDelegate.attachBaseContext2(super.attachBaseContext2(context)))\r\n\r\n    override fun setTitle(title: CharSequence?) = superDelegate.setTitle(title)\r\n\r\n    override fun invalidateOptionsMenu() = superDelegate.invalidateOptionsMenu()\r\n\r\n    override fun onDestroy() {\r\n        superDelegate.onDestroy()\r\n        removeActivityDelegate(this)\r\n    }\r\n\r\n    override fun getDrawerToggleDelegate() = superDelegate.drawerToggleDelegate\r\n\r\n    override fun requestWindowFeature(featureId: Int) = superDelegate.requestWindowFeature(featureId)\r\n\r\n    override fun hasWindowFeature(featureId: Int) = superDelegate.hasWindowFeature(featureId)\r\n\r\n    override fun startSupportActionMode(callback: ActionMode.Callback) = superDelegate.startSupportActionMode(callback)\r\n\r\n    override fun installViewFactory() = superDelegate.installViewFactory()\r\n\r\n    override fun createView(parent: View?, name: String?, context: Context, attrs: AttributeSet): View? = superDelegate.createView(parent, name, context, attrs)\r\n\r\n    override fun setHandleNativeActionModesEnabled(enabled: Boolean) {\r\n        superDelegate.isHandleNativeActionModesEnabled = enabled\r\n    }\r\n\r\n    override fun isHandleNativeActionModesEnabled() = superDelegate.isHandleNativeActionModesEnabled\r\n\r\n    override fun onSaveInstanceState(outState: Bundle?) = superDelegate.onSaveInstanceState(outState)\r\n\r\n    override fun applyDayNight() = superDelegate.applyDayNight()\r\n\r\n    override fun setLocalNightMode(mode: Int) {\r\n        superDelegate.localNightMode = mode\r\n    }\r\n\r\n    override fun getLocalNightMode() = superDelegate.localNightMode\r\n\r\n    private fun wrap(context: Context): Context {\r\n        TODO(&quot;your wrapping implementation here&quot;)\r\n    }\r\n    }\r\n\r\nAdd your locale logics into function wrap(you can add the ContextWrapper in Above accepted Answer). This class must be inside the androidx.appcompat.app package because the only existing AppCompatDelegate constructor is package private\r\n\r\n\r\nThen inside your base activity class you remove all your 1.1.0 workarounds and simply add this\r\n\r\n\r\n    private var baseContextWrappingDelegate: AppCompatDelegate? = null\r\n\r\n    override fun getDelegate() = baseContextWrappingDelegate ?: \r\n    BaseContextWrappingDelegate(super.getDelegate()).apply {\r\n    baseContextWrappingDelegate = this\r\n    }\r\n\r\nconfiguration changes might break locale changes. To fix that\r\n\r\n    override fun createConfigurationContext(overrideConfiguration: Configuration) \r\n    : Context {\r\n    val context = super.createConfigurationContext(overrideConfiguration)\r\n    TODO(&quot;your wrapping implementation here&quot;)\r\n    }\r\n\r\nThat&#39;s it. You are good to go with latest 1.2.0 appCombat","title":"Android N change language programmatically","body":"<p><strong>UPDATE SEP 2020</strong></p>\n<p>For Latest Androidx Appcombat Stable version 1.2.0, remove all the work arounds for 1.1.0 and add this</p>\n<pre><code>package androidx.appcompat.app\n\nimport android.content.Context\nimport android.content.res.Configuration\nimport android.os.Bundle\nimport android.util.AttributeSet\nimport android.view.MenuInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport androidx.appcompat.view.ActionMode\nimport androidx.appcompat.widget.Toolbar\n\nclass BaseContextWrappingDelegate(private val superDelegate: \nAppCompatDelegate) : AppCompatDelegate() {\n\noverride fun getSupportActionBar() = superDelegate.supportActionBar\n\noverride fun setSupportActionBar(toolbar: Toolbar?) = superDelegate.setSupportActionBar(toolbar)\n\noverride fun getMenuInflater(): MenuInflater? = superDelegate.menuInflater\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    superDelegate.onCreate(savedInstanceState)\n    removeActivityDelegate(superDelegate)\n    addActiveDelegate(this)\n}\n\noverride fun onPostCreate(savedInstanceState: Bundle?) = superDelegate.onPostCreate(savedInstanceState)\n\noverride fun onConfigurationChanged(newConfig: Configuration?) = superDelegate.onConfigurationChanged(newConfig)\n\noverride fun onStart() = superDelegate.onStart()\n\noverride fun onStop() = superDelegate.onStop()\n\noverride fun onPostResume() = superDelegate.onPostResume()\n\noverride fun setTheme(themeResId: Int) = superDelegate.setTheme(themeResId)\n\noverride fun &lt;T : View?&gt; findViewById(id: Int) = superDelegate.findViewById&lt;T&gt;(id)\n\noverride fun setContentView(v: View?) = superDelegate.setContentView(v)\n\noverride fun setContentView(resId: Int) = superDelegate.setContentView(resId)\n\noverride fun setContentView(v: View?, lp: ViewGroup.LayoutParams?) = superDelegate.setContentView(v, lp)\n\noverride fun addContentView(v: View?, lp: ViewGroup.LayoutParams?) = superDelegate.addContentView(v, lp)\n\noverride fun attachBaseContext2(context: Context) = wrap(superDelegate.attachBaseContext2(super.attachBaseContext2(context)))\n\noverride fun setTitle(title: CharSequence?) = superDelegate.setTitle(title)\n\noverride fun invalidateOptionsMenu() = superDelegate.invalidateOptionsMenu()\n\noverride fun onDestroy() {\n    superDelegate.onDestroy()\n    removeActivityDelegate(this)\n}\n\noverride fun getDrawerToggleDelegate() = superDelegate.drawerToggleDelegate\n\noverride fun requestWindowFeature(featureId: Int) = superDelegate.requestWindowFeature(featureId)\n\noverride fun hasWindowFeature(featureId: Int) = superDelegate.hasWindowFeature(featureId)\n\noverride fun startSupportActionMode(callback: ActionMode.Callback) = superDelegate.startSupportActionMode(callback)\n\noverride fun installViewFactory() = superDelegate.installViewFactory()\n\noverride fun createView(parent: View?, name: String?, context: Context, attrs: AttributeSet): View? = superDelegate.createView(parent, name, context, attrs)\n\noverride fun setHandleNativeActionModesEnabled(enabled: Boolean) {\n    superDelegate.isHandleNativeActionModesEnabled = enabled\n}\n\noverride fun isHandleNativeActionModesEnabled() = superDelegate.isHandleNativeActionModesEnabled\n\noverride fun onSaveInstanceState(outState: Bundle?) = superDelegate.onSaveInstanceState(outState)\n\noverride fun applyDayNight() = superDelegate.applyDayNight()\n\noverride fun setLocalNightMode(mode: Int) {\n    superDelegate.localNightMode = mode\n}\n\noverride fun getLocalNightMode() = superDelegate.localNightMode\n\nprivate fun wrap(context: Context): Context {\n    TODO(&quot;your wrapping implementation here&quot;)\n}\n}\n</code></pre>\n<p>Add your locale logics into function wrap(you can add the ContextWrapper in Above accepted Answer). This class must be inside the androidx.appcompat.app package because the only existing AppCompatDelegate constructor is package private</p>\n<p>Then inside your base activity class you remove all your 1.1.0 workarounds and simply add this</p>\n<pre><code>private var baseContextWrappingDelegate: AppCompatDelegate? = null\n\noverride fun getDelegate() = baseContextWrappingDelegate ?: \nBaseContextWrappingDelegate(super.getDelegate()).apply {\nbaseContextWrappingDelegate = this\n}\n</code></pre>\n<p>configuration changes might break locale changes. To fix that</p>\n<pre><code>override fun createConfigurationContext(overrideConfiguration: Configuration) \n: Context {\nval context = super.createConfigurationContext(overrideConfiguration)\nTODO(&quot;your wrapping implementation here&quot;)\n}\n</code></pre>\n<p>That's it. You are good to go with latest 1.2.0 appCombat</p>\n"},{"tags":[],"owner":{"account_id":9002837,"reputation":209,"user_id":6710818,"display_name":"Umair Mustafa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606197324,"creation_date":1606197324,"answer_id":64980948,"question_id":39705739,"body_markdown":"**UPDATE NOV 2020**\r\n\r\nHi everyone, I just want to share my experience. Couple of days ago, I started to get reports about an issue in Android N devices that language is not changing from the setting of my app. I searched a lot and after trying multiple changes in my code, I came to know that their was no issue in my code and issue was causing due to androidx constraint Layout gradle dependency version **2.0.0** and after downgrading it to **1.1.3**, language issue was resolved.\r\nI got my issue resolved using this version of ConstraintLayout library.\r\n\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;","title":"Android N change language programmatically","body":"<p><strong>UPDATE NOV 2020</strong></p>\n<p>Hi everyone, I just want to share my experience. Couple of days ago, I started to get reports about an issue in Android N devices that language is not changing from the setting of my app. I searched a lot and after trying multiple changes in my code, I came to know that their was no issue in my code and issue was causing due to androidx constraint Layout gradle dependency version <strong>2.0.0</strong> and after downgrading it to <strong>1.1.3</strong>, language issue was resolved.\nI got my issue resolved using this version of ConstraintLayout library.</p>\n<pre><code>implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18012231,"reputation":291,"user_id":13091576,"display_name":"Botond Sulyok"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610722320,"creation_date":1610722320,"answer_id":65738306,"question_id":39705739,"body_markdown":"This works for me, I&#39;m using *androidx.appcompat:appcompat:1.2.0*\r\n   \r\n\r\n     override fun attachBaseContext(newBase: Context?) {\r\n                val sp = PreferenceManager.getDefaultSharedPreferences(newBase)\r\n                val locale = when(sp.getString(&quot;app_language&quot;, &quot;&quot;)) {\r\n                    &quot;en&quot; -&gt; { Locale(&quot;en&quot;) }\r\n                    &quot;hu&quot; -&gt; { Locale(&quot;hu&quot;) }\r\n                    else -&gt; {\r\n                        if (Build.VERSION.SDK_INT &gt;= 24) {\r\n                            Resources.getSystem().configuration.locales.get(0);\r\n                        }\r\n                        else {\r\n                            Resources.getSystem().configuration.locale\r\n                        }\r\n                    }\r\n                }\r\n                if(newBase != null) {\r\n                    Locale.setDefault(locale)\r\n                    newBase.resources.configuration.setLocale(locale)\r\n                    applyOverrideConfiguration(newBase.resources.configuration)\r\n                }\r\n                super.attachBaseContext(newBase)\r\n            }","title":"Android N change language programmatically","body":"<p>This works for me, I'm using <em>androidx.appcompat:appcompat:1.2.0</em></p>\n<pre><code> override fun attachBaseContext(newBase: Context?) {\n            val sp = PreferenceManager.getDefaultSharedPreferences(newBase)\n            val locale = when(sp.getString(&quot;app_language&quot;, &quot;&quot;)) {\n                &quot;en&quot; -&gt; { Locale(&quot;en&quot;) }\n                &quot;hu&quot; -&gt; { Locale(&quot;hu&quot;) }\n                else -&gt; {\n                    if (Build.VERSION.SDK_INT &gt;= 24) {\n                        Resources.getSystem().configuration.locales.get(0);\n                    }\n                    else {\n                        Resources.getSystem().configuration.locale\n                    }\n                }\n            }\n            if(newBase != null) {\n                Locale.setDefault(locale)\n                newBase.resources.configuration.setLocale(locale)\n                applyOverrideConfiguration(newBase.resources.configuration)\n            }\n            super.attachBaseContext(newBase)\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10563376,"reputation":67,"user_id":7782424,"display_name":"Michał Schmude"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641196893,"creation_date":1641196044,"answer_id":70562895,"question_id":39705739,"body_markdown":"In my case, the Xamarin.Android:\r\n\r\nCreate ContextWrapper:\r\n\r\n\r\n     public class LanguageContextWrapper : Android.Content.ContextWrapper\r\n     {\r\n       public LanguageContextWrapper(Context @base) : base(@base)\r\n       {\r\n        \r\n       }\r\n\r\n       public static ContextWrapper Wrap(Context context, string newLocale)\r\n       {\r\n         Locale.Default = new Locale(newLocale);\r\n         Configuration config = new Configuration();\r\n         config.SetLocale(Locale.Default);\r\n         context = context.CreateConfigurationContext(config);\r\n\r\n         return new ContextWrapper(context);\r\n        }\r\n     }\r\n\r\nand use in all activity:\r\n\r\n    protected override void AttachBaseContext(Context newBase)\r\n    {                      \r\n        Context context = LanguageContextWrapper.Wrap(newBase, &quot;en&quot;); //need use short name of locale language\r\n        \r\n        base.AttachBaseContext(context);          \r\n    }\r\n\r\nAnd work in android 10,11,12 I have not checked below.","title":"Android N change language programmatically","body":"<p>In my case, the Xamarin.Android:</p>\n<p>Create ContextWrapper:</p>\n<pre><code> public class LanguageContextWrapper : Android.Content.ContextWrapper\n {\n   public LanguageContextWrapper(Context @base) : base(@base)\n   {\n    \n   }\n\n   public static ContextWrapper Wrap(Context context, string newLocale)\n   {\n     Locale.Default = new Locale(newLocale);\n     Configuration config = new Configuration();\n     config.SetLocale(Locale.Default);\n     context = context.CreateConfigurationContext(config);\n\n     return new ContextWrapper(context);\n    }\n }\n</code></pre>\n<p>and use in all activity:</p>\n<pre><code>protected override void AttachBaseContext(Context newBase)\n{                      \n    Context context = LanguageContextWrapper.Wrap(newBase, &quot;en&quot;); //need use short name of locale language\n    \n    base.AttachBaseContext(context);          \n}\n</code></pre>\n<p>And work in android 10,11,12 I have not checked below.</p>\n"}],"owner":{"account_id":8319299,"reputation":2387,"user_id":6251577,"accept_rate":50,"display_name":"Kuva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48921,"favorite_count":0,"down_vote_count":0,"up_vote_count":66,"accepted_answer_id":40849142,"answer_count":10,"score":66,"last_activity_date":1641196893,"creation_date":1474900758,"question_id":39705739,"body_markdown":"I found really weird bug that is reproduced only on Android N devices.\r\n\r\nIn tour of my app there is a possibility to change language. Here is the code that changes it. \r\n\r\n     public void update(Locale locale) {\r\n\r\n        Locale.setDefault(locale);\r\n\r\n        Configuration configuration = res.getConfiguration();\r\n\r\n        if (BuildUtils.isAtLeast24Api()) {\r\n            LocaleList localeList = new LocaleList(locale);\r\n\r\n            LocaleList.setDefault(localeList);\r\n            configuration.setLocales(localeList);\r\n            configuration.setLocale(locale);\r\n\r\n        } else if (BuildUtils.isAtLeast17Api()){\r\n            configuration.setLocale(locale);\r\n\r\n        } else {\r\n            configuration.locale = locale;\r\n        }\r\n\r\n        res.updateConfiguration(configuration, res.getDisplayMetrics());\r\n    }\r\n\r\n\r\nThis code works great in activity of my tour ( with `recreate()` call) but in all next activities all String resources are wrong. Screen rotation fixes it. What can i do with this problem? Should i change locale for Android N differently or it&#39;s just system bug?\r\n\r\nP.S. Here&#39;s what i found. At first start of MainActivity (which is after my tour) `Locale.getDefault()` is correct but resources are wrong. But in other activities it gives me wrong Locale and wrong resources from this locale. After rotation screen (or perhaps some other configuration change) `Locale.getDefault()` is correct.","title":"Android N change language programmatically","body":"<p>I found really weird bug that is reproduced only on Android N devices.</p>\n\n<p>In tour of my app there is a possibility to change language. Here is the code that changes it. </p>\n\n<pre><code> public void update(Locale locale) {\n\n    Locale.setDefault(locale);\n\n    Configuration configuration = res.getConfiguration();\n\n    if (BuildUtils.isAtLeast24Api()) {\n        LocaleList localeList = new LocaleList(locale);\n\n        LocaleList.setDefault(localeList);\n        configuration.setLocales(localeList);\n        configuration.setLocale(locale);\n\n    } else if (BuildUtils.isAtLeast17Api()){\n        configuration.setLocale(locale);\n\n    } else {\n        configuration.locale = locale;\n    }\n\n    res.updateConfiguration(configuration, res.getDisplayMetrics());\n}\n</code></pre>\n\n<p>This code works great in activity of my tour ( with <code>recreate()</code> call) but in all next activities all String resources are wrong. Screen rotation fixes it. What can i do with this problem? Should i change locale for Android N differently or it's just system bug?</p>\n\n<p>P.S. Here's what i found. At first start of MainActivity (which is after my tour) <code>Locale.getDefault()</code> is correct but resources are wrong. But in other activities it gives me wrong Locale and wrong resources from this locale. After rotation screen (or perhaps some other configuration change) <code>Locale.getDefault()</code> is correct.</p>\n"},{"tags":["java","spring-boot","vaadin","vaadin-flow","vaadin-grid"],"comments":[{"owner":{"account_id":1632225,"reputation":1661,"user_id":1506545,"display_name":"Avec"},"score":0,"creation_date":1641198640,"post_id":70562977,"comment_id":124736562,"body_markdown":"Looking at the [code base](https://github.com/alejandro-du/crudui/blob/master/add-on/src/main/java/org/vaadin/crudui/form/CrudFormFactory.java) the interface `CrudFormFactory&lt;T&gt;` gives access to `SerializableSupplier&lt;T&gt; getNewInstanceSupplier()`, so calling this method and then `get()` on that supplier should give you a new instance of `Transporter`.","body":"Looking at the <a href=\"https://github.com/alejandro-du/crudui/blob/master/add-on/src/main/java/org/vaadin/crudui/form/CrudFormFactory.java\" rel=\"nofollow noreferrer\">code base</a> the interface <code>CrudFormFactory&lt;T&gt;</code> gives access to <code>SerializableSupplier&lt;T&gt; getNewInstanceSupplier()</code>, so calling this method and then <code>get()</code> on that supplier should give you a new instance of <code>Transporter</code>."},{"owner":{"account_id":1479117,"reputation":1516,"user_id":1388852,"accept_rate":55,"display_name":"Hatim"},"score":0,"creation_date":1641199017,"post_id":70562977,"comment_id":124736639,"body_markdown":"@Avec Thanks, but that gives a &quot;new&quot; empty instance of Transporter. What I want is to get the selected instance of transporter.\n\nI can get the selected transporter inside grid.addSelectionListener.. using e.getFirstSelectedItem() ... but how can I update the listBox inside the formFactory.setFieldProvider?","body":"@Avec Thanks, but that gives a &quot;new&quot; empty instance of Transporter. What I want is to get the selected instance of transporter.  I can get the selected transporter inside grid.addSelectionListener.. using e.getFirstSelectedItem() ... but how can I update the listBox inside the formFactory.setFieldProvider?"},{"owner":{"account_id":1632225,"reputation":1661,"user_id":1506545,"display_name":"Avec"},"score":1,"creation_date":1641199499,"post_id":70562977,"comment_id":124736783,"body_markdown":"Sorry I do not know this addon. Maybe you need to ask Alejandro if nobody can give you an answer.","body":"Sorry I do not know this addon. Maybe you need to ask Alejandro if nobody can give you an answer."},{"owner":{"account_id":2718790,"reputation":1410,"user_id":2345535,"display_name":"Alejandro Duarte"},"score":0,"creation_date":1651237668,"post_id":70562977,"comment_id":127322795,"body_markdown":"I&#39;m not sure I understand your question. Maybe you want to override the `buildNewForm` method that accepts a domain object? Have you checked the archived forum thread? https://vaadin.com/forum/thread/14437640/crud-ui-add-on?page=5","body":"I&#39;m not sure I understand your question. Maybe you want to override the <code>buildNewForm</code> method that accepts a domain object? Have you checked the archived forum thread? <a href=\"https://vaadin.com/forum/thread/14437640/crud-ui-add-on?page=5\" rel=\"nofollow noreferrer\">vaadin.com/forum/thread/14437640/crud-ui-add-on?page=5</a>"}],"owner":{"account_id":1479117,"reputation":1516,"user_id":1388852,"accept_rate":55,"display_name":"Hatim"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641196607,"creation_date":1641196607,"question_id":70562977,"body_markdown":"I am using the [crud library of Aljandro][1], and Vaadin 21.0.3\r\n\r\nWhen I select a user (transporter in my example) from the crud grid table, the details show successfully.\r\nBut how can I get the selected transporter&#39;s object from inside the form itself, so I can show relations?\r\n\r\nFor example, if I have the transporter object inside the from factory, I would create a checkbox list to present the drivers [relationship is OneToMany]\r\n\r\n\r\nHere is the code\r\n\r\n```java\r\n\r\n        DefaultCrudFormFactory&lt;Transporter&gt; formFactory = new DefaultCrudFormFactory&lt;&gt;(Transporter.class) {\r\n            @Override\r\n            protected void configureForm(FormLayout formLayout, List&lt;HasValueAndElement&gt; fields) {\r\n                Component nameField = (Component) fields.get(0);\r\n                formLayout.setColspan(nameField, 2);\r\n            }\r\n        };\r\n...\r\n\r\n        formFactory.setFieldProvider(&quot;drivers&quot;,\r\n                new CheckBoxGroupProvider&lt;&gt;(&quot;Drivers&quot;,\r\n                        formFactory.getNewInstanceSupplier().get().getDrivers(),   &lt;&lt;&lt;&lt;&lt;&lt; How to get the selected Transporter object? \r\n                        Driver::getFullName));\r\n```\r\n\r\nDoes anyone have an example of crud with relation?\r\n\r\nor, How to show the selected transporter&#39;s object inside the form factory?\r\n\r\n\r\n\r\n  [1]: https://vaadin.com/directory/component/crud-ui-add-on/5.0.0","title":"How to show the selected item object inside the form factory in Vaadin Flow?","body":"<p>I am using the <a href=\"https://vaadin.com/directory/component/crud-ui-add-on/5.0.0\" rel=\"nofollow noreferrer\">crud library of Aljandro</a>, and Vaadin 21.0.3</p>\n<p>When I select a user (transporter in my example) from the crud grid table, the details show successfully.\nBut how can I get the selected transporter's object from inside the form itself, so I can show relations?</p>\n<p>For example, if I have the transporter object inside the from factory, I would create a checkbox list to present the drivers [relationship is OneToMany]</p>\n<p>Here is the code</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n        DefaultCrudFormFactory&lt;Transporter&gt; formFactory = new DefaultCrudFormFactory&lt;&gt;(Transporter.class) {\n            @Override\n            protected void configureForm(FormLayout formLayout, List&lt;HasValueAndElement&gt; fields) {\n                Component nameField = (Component) fields.get(0);\n                formLayout.setColspan(nameField, 2);\n            }\n        };\n...\n\n        formFactory.setFieldProvider(&quot;drivers&quot;,\n                new CheckBoxGroupProvider&lt;&gt;(&quot;Drivers&quot;,\n                        formFactory.getNewInstanceSupplier().get().getDrivers(),   &lt;&lt;&lt;&lt;&lt;&lt; How to get the selected Transporter object? \n                        Driver::getFullName));\n</code></pre>\n<p>Does anyone have an example of crud with relation?</p>\n<p>or, How to show the selected transporter's object inside the form factory?</p>\n"},{"tags":["java","netflix-eureka"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":1,"creation_date":1553535016,"post_id":55342713,"comment_id":97411732,"body_markdown":"Most probably you are running with wrong dependencies version. Check the error:\n\nERROR org.springframework.boot.SpringApplication - Application run failed java.lang.NoSuchMethodError: org.springframework.boot.builder.SpringApplicationBuilder.([Ljava/lang/Object;)V at org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:161) at","body":"Most probably you are running with wrong dependencies version. Check the error:  ERROR org.springframework.boot.SpringApplication - Application run failed java.lang.NoSuchMethodError: org.springframework.boot.builder.SpringApplicationBuilder.([&zwnj;&#8203;Ljava/lang/Object;)V at org.springframework.cloud.bootstrap.BootstrapApplicationList&zwnj;&#8203;ener.bootstrapServic&zwnj;&#8203;eContext(BootstrapAp&zwnj;&#8203;plicationListener.ja&zwnj;&#8203;va:161) at"},{"owner":{"account_id":15294072,"reputation":55,"user_id":11034753,"display_name":"Ben G"},"score":1,"creation_date":1553545197,"post_id":55342713,"comment_id":97416489,"body_markdown":"Thank you pringi. This worked for me after adding dependency management section for cloud. Thanks.","body":"Thank you pringi. This worked for me after adding dependency management section for cloud. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":13671308,"reputation":1299,"user_id":9863904,"display_name":"Hasan El-Hefnawy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641196164,"creation_date":1641196164,"answer_id":70562910,"question_id":55342713,"body_markdown":"In addition to the answer given by [Ben G][1], Spring Cloud and Spring Boot should have compatible versions which can be found [here][2] under *Table 1. Release train Spring Boot compatibility*.\r\n\r\nFor example: Spring Boot 2.6.1 and Spring Cloud 2021.0.0 can be used together as following:\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.1&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2021.0.0&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/55342713/error-application-run-failed-trying-to-implement-service-discovery-eureka#comment97416489_55342713\r\n  [2]: https://spring.io/projects/spring-cloud","title":"Error : Application run failed , trying to implement Service discovery Eureka","body":"<p>In addition to the answer given by <a href=\"https://stackoverflow.com/questions/55342713/error-application-run-failed-trying-to-implement-service-discovery-eureka#comment97416489_55342713\">Ben G</a>, Spring Cloud and Spring Boot should have compatible versions which can be found <a href=\"https://spring.io/projects/spring-cloud\" rel=\"nofollow noreferrer\">here</a> under <em>Table 1. Release train Spring Boot compatibility</em>.</p>\n<p>For example: Spring Boot 2.6.1 and Spring Cloud 2021.0.0 can be used together as following:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.6.1&lt;/version&gt;\n    &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;2021.0.0&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n"}],"owner":{"account_id":15294072,"reputation":55,"user_id":11034753,"display_name":"Ben G"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1811,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641196164,"creation_date":1553532456,"question_id":55342713,"body_markdown":"I have a very simple demo application which I am using to register with Eureka server. But I am getting the below error. I have been able to successfully register another demo application but this one fails:\r\n\r\nThis is the error message:\r\n\r\n&gt;12:29:07.678 [restartedMain] DEBUG org.springframework.boot.context.logging.ClasspathLoggingApplicationListener - Application failed to start with classpath: [file:/Users/test/Downloads/demorest/target/classes/]\r\n12:29:07.728 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Log4j2LoggerProvider\r\n12:29:07.729 [background-preinit] INFO org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 6.0.14.Final\r\n12:29:07.736 [background-preinit] DEBUG org.hibernate.validator.internal.engine.resolver.TraversableResolvers - Cannot find javax.persistence.Persistence on classpath. Assuming non JPA 2 environment. All properties will per default be traversable.\r\n12:29:07.741 [background-preinit] DEBUG org.hibernate.validator.internal.xml.config.ValidationXmlParser - Trying to load META-INF/validation.xml for XML based Validator configuration.\r\n12:29:07.743 [background-preinit] DEBUG org.hibernate.validator.internal.xml.config.ResourceLoaderHelper - Trying to load META-INF/validation.xml via TCCL\r\n12:29:07.744 [background-preinit] DEBUG org.hibernate.validator.internal.xml.config.ResourceLoaderHelper - Trying to load META-INF/validation.xml via Hibernate Validator&#39;s class loader\r\n12:29:07.744 [background-preinit] DEBUG org.hibernate.validator.internal.xml.config.ValidationXmlParser - No META-INF/validation.xml found. Using annotation based configuration only.\r\n12:29:07.939 [background-preinit] DEBUG org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator - Loaded expression factory via original TCCL\r\n12:29:07.944 [background-preinit] DEBUG org.hibernate.validator.internal.engine.ValidatorFactoryImpl - HV000234: Using org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator as ValidatorFactory-scoped message interpolator.\r\n12:29:07.944 [background-preinit] DEBUG org.hibernate.validator.internal.engine.ValidatorFactoryImpl - HV000234: Using org.hibernate.validator.internal.engine.resolver.TraverseAllTraversableResolver as ValidatorFactory-scoped traversable resolver.\r\n12:29:07.945 [background-preinit] DEBUG org.hibernate.validator.internal.engine.ValidatorFactoryImpl - HV000234: Using org.hibernate.validator.internal.util.ExecutableParameterNameProvider as ValidatorFactory-scoped parameter name provider.\r\n12:29:07.945 [background-preinit] DEBUG org.hibernate.validator.internal.engine.ValidatorFactoryImpl - HV000234: Using org.hibernate.validator.internal.engine.DefaultClockProvider as ValidatorFactory-scoped clock provider.\r\n12:29:07.945 [background-preinit] DEBUG org.hibernate.validator.internal.engine.ValidatorFactoryImpl - HV000234: Using org.hibernate.validator.internal.engine.scripting.DefaultScriptEvaluatorFactory as ValidatorFactory-scoped script evaluator factory.\r\n12:29:08.513 [restartedMain] ERROR org.springframework.boot.SpringApplication - Application run failed\r\njava.lang.NoSuchMethodError: org.springframework.boot.builder.SpringApplicationBuilder.&lt;init&gt;([Ljava/lang/Object;)V\r\n\tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:161)\r\n\tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:102)\r\n\tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:68)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:75)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:54)\r\n\tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:347)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:306)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)\r\n\tat com.example.rest.demorest.DemorestApplication.main(DemorestApplication.java:15)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\n\r\n\r\nThe same project can start fine without the Eureka in place.\r\n\r\n       &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0    http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example.rest&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demorest&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demorest&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.6.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n      \r\n\r\napplication.properties:\r\n\r\n        spring.application.name=demorest\r\n        eureka.client.service-url.defaultZone=http://localhost:8761/eureka\r\n\r\n\r\nApplication class:\r\n\r\n         \r\n\r\n    @EnableDiscoveryClient\r\n    @SpringBootApplication\r\n    public class DemorestApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tApplicationContext ctx = SpringApplication.run(DemorestApplication.class, args);\r\n\t\t\r\n\t\tString[] beanNames = ctx.getBeanDefinitionNames();\r\n\t\t//Arrays.sort(beanNames);\r\n\t\t\r\n\t\tfor(String name : beanNames)\r\n\t\t\tSystem.out.println(name);\r\n\t}\r\n\r\n    }","title":"Error : Application run failed , trying to implement Service discovery Eureka","body":"<p>I have a very simple demo application which I am using to register with Eureka server. But I am getting the below error. I have been able to successfully register another demo application but this one fails:</p>\n\n<p>This is the error message:</p>\n\n<blockquote>\n  <p>12:29:07.678 [restartedMain] DEBUG org.springframework.boot.context.logging.ClasspathLoggingApplicationListener - Application failed to start with classpath: [file:/Users/test/Downloads/demorest/target/classes/]\n  12:29:07.728 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Log4j2LoggerProvider\n  12:29:07.729 [background-preinit] INFO org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 6.0.14.Final\n  12:29:07.736 [background-preinit] DEBUG org.hibernate.validator.internal.engine.resolver.TraversableResolvers - Cannot find javax.persistence.Persistence on classpath. Assuming non JPA 2 environment. All properties will per default be traversable.\n  12:29:07.741 [background-preinit] DEBUG org.hibernate.validator.internal.xml.config.ValidationXmlParser - Trying to load META-INF/validation.xml for XML based Validator configuration.\n  12:29:07.743 [background-preinit] DEBUG org.hibernate.validator.internal.xml.config.ResourceLoaderHelper - Trying to load META-INF/validation.xml via TCCL\n  12:29:07.744 [background-preinit] DEBUG org.hibernate.validator.internal.xml.config.ResourceLoaderHelper - Trying to load META-INF/validation.xml via Hibernate Validator's class loader\n  12:29:07.744 [background-preinit] DEBUG org.hibernate.validator.internal.xml.config.ValidationXmlParser - No META-INF/validation.xml found. Using annotation based configuration only.\n  12:29:07.939 [background-preinit] DEBUG org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator - Loaded expression factory via original TCCL\n  12:29:07.944 [background-preinit] DEBUG org.hibernate.validator.internal.engine.ValidatorFactoryImpl - HV000234: Using org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator as ValidatorFactory-scoped message interpolator.\n  12:29:07.944 [background-preinit] DEBUG org.hibernate.validator.internal.engine.ValidatorFactoryImpl - HV000234: Using org.hibernate.validator.internal.engine.resolver.TraverseAllTraversableResolver as ValidatorFactory-scoped traversable resolver.\n  12:29:07.945 [background-preinit] DEBUG org.hibernate.validator.internal.engine.ValidatorFactoryImpl - HV000234: Using org.hibernate.validator.internal.util.ExecutableParameterNameProvider as ValidatorFactory-scoped parameter name provider.\n  12:29:07.945 [background-preinit] DEBUG org.hibernate.validator.internal.engine.ValidatorFactoryImpl - HV000234: Using org.hibernate.validator.internal.engine.DefaultClockProvider as ValidatorFactory-scoped clock provider.\n  12:29:07.945 [background-preinit] DEBUG org.hibernate.validator.internal.engine.ValidatorFactoryImpl - HV000234: Using org.hibernate.validator.internal.engine.scripting.DefaultScriptEvaluatorFactory as ValidatorFactory-scoped script evaluator factory.\n  12:29:08.513 [restartedMain] ERROR org.springframework.boot.SpringApplication - Application run failed\n  java.lang.NoSuchMethodError: org.springframework.boot.builder.SpringApplicationBuilder.([Ljava/lang/Object;)V\n      at org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:161)\n      at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:102)\n      at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:68)\n      at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\n      at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\n      at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\n      at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\n      at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:75)\n      at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:54)\n      at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:347)\n      at org.springframework.boot.SpringApplication.run(SpringApplication.java:306)\n      at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)\n      at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)\n      at com.example.rest.demorest.DemorestApplication.main(DemorestApplication.java:15)\n      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n      at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n      at java.lang.reflect.Method.invoke(Method.java:498)\n      at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)</p>\n</blockquote>\n\n<p>The same project can start fine without the Eureka in place.</p>\n\n<pre><code>   &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0    http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\n    &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.example.rest&lt;/groupId&gt;\n&lt;artifactId&gt;demorest&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;demorest&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n        &lt;version&gt;1.4.6.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n\n<p>application.properties:</p>\n\n<pre><code>    spring.application.name=demorest\n    eureka.client.service-url.defaultZone=http://localhost:8761/eureka\n</code></pre>\n\n<p>Application class:</p>\n\n<pre><code>@EnableDiscoveryClient\n@SpringBootApplication\npublic class DemorestApplication {\n\npublic static void main(String[] args) {\n    ApplicationContext ctx = SpringApplication.run(DemorestApplication.class, args);\n\n    String[] beanNames = ctx.getBeanDefinitionNames();\n    //Arrays.sort(beanNames);\n\n    for(String name : beanNames)\n        System.out.println(name);\n}\n\n}\n</code></pre>\n"},{"tags":["java","apache-flink"],"comments":[{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1641203731,"post_id":70562840,"comment_id":124738005,"body_markdown":"Perhaps https://stackoverflow.com/a/66909820/2000823 answers your question.","body":"Perhaps <a href=\"https://stackoverflow.com/a/66909820/2000823\">stackoverflow.com/a/66909820/2000823</a> answers your question."},{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1641224355,"post_id":70562840,"comment_id":124744981,"body_markdown":"See also https://stackoverflow.com/a/70273620/2000823.","body":"See also <a href=\"https://stackoverflow.com/a/70273620/2000823\">stackoverflow.com/a/70273620/2000823</a>."},{"owner":{"account_id":475069,"reputation":479,"user_id":885175,"accept_rate":50,"display_name":"ender"},"score":0,"creation_date":1648388738,"post_id":70562840,"comment_id":126606237,"body_markdown":"@DavidAnderson thanks i ended up passing the params via function constructor","body":"@DavidAnderson thanks i ended up passing the params via function constructor"}],"owner":{"account_id":475069,"reputation":479,"user_id":885175,"accept_rate":50,"display_name":"ender"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":465,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641195656,"creation_date":1641195656,"question_id":70562840,"body_markdown":"How could we utilize the configuration instance passed in by open() in AbstractRichFunction?\r\nI&#39;ve tried to add below logic to the job&#39;s main() but it said the configuration is unmodifiable (immutable as stated in javadoc)\r\n\r\n    var config = (Configuration) StreamExecutionEnvironment.getExecutionEnvironment().getConfiguration();\r\n    config.setString(/* a ConfigOption instance here */, &quot;test-config-value&quot;);\r\n\r\nI&#39;ve figured out global job parameters would work for string values, but just wonder what we could do with the config instance in open(). Thanks.\r\n\r\nFYI below works:\r\n\r\n    ParameterTool parameters = (ParameterTool)\r\n                getRuntimeContext().getExecutionConfig().getGlobalJobParameters();\r\n    var value = parameters.getRequired(&quot;test-config-key&quot;);\r\n","title":"Configuration object passed in by Flink&#39;s AbstractRichFunction&#39;s open method","body":"<p>How could we utilize the configuration instance passed in by open() in AbstractRichFunction?\nI've tried to add below logic to the job's main() but it said the configuration is unmodifiable (immutable as stated in javadoc)</p>\n<pre><code>var config = (Configuration) StreamExecutionEnvironment.getExecutionEnvironment().getConfiguration();\nconfig.setString(/* a ConfigOption instance here */, &quot;test-config-value&quot;);\n</code></pre>\n<p>I've figured out global job parameters would work for string values, but just wonder what we could do with the config instance in open(). Thanks.</p>\n<p>FYI below works:</p>\n<pre><code>ParameterTool parameters = (ParameterTool)\n            getRuntimeContext().getExecutionConfig().getGlobalJobParameters();\nvar value = parameters.getRequired(&quot;test-config-key&quot;);\n</code></pre>\n"},{"tags":["java","maven","javafx"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1641195463,"creation_date":1641195463,"answer_id":70562818,"question_id":70560279,"body_markdown":"Add this line to your `module-info.java`:\r\n\r\n    requires json;\r\n\r\nTo understand what it means, see:\r\n\r\n * [Understanding Java 9 Modules](https://www.oracle.com/corporate/features/understanding-java-9-modules.html).","title":"Package &#39;org.json&#39; is declared in module &#39;json&#39;, but module &#39;com.example.demo&#39; does not read it - JavaFX &amp; Maven","body":"<p>Add this line to your <code>module-info.java</code>:</p>\n<pre><code>requires json;\n</code></pre>\n<p>To understand what it means, see:</p>\n<ul>\n<li><a href=\"https://www.oracle.com/corporate/features/understanding-java-9-modules.html\" rel=\"nofollow noreferrer\">Understanding Java 9 Modules</a>.</li>\n</ul>\n"}],"owner":{"account_id":19670587,"reputation":1197,"user_id":17274803,"display_name":"Octavian Niculescu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1256,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70562818,"answer_count":1,"score":1,"last_activity_date":1641195463,"creation_date":1641163184,"question_id":70560279,"body_markdown":"In a project using Maven &amp; JavaFX, I&#39;m trying to add this dependency in my pom.xml\r\n````\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n    &lt;version&gt;20180130&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n````\r\n\r\nI did that - I reloaded my maven changes (using intellij), but I still can&#39;t use this package.\r\n\r\nWhen I wrote this in my code:\r\n````\r\nimport org.json.JSONObject;\r\n````\r\n\r\nI&#39;ve gotten this error\r\n````\r\nPackage &#39;org.json&#39; is declared in module &#39;json&#39;, but module &#39;com.example.demo&#39; does not read it\r\n````\r\n\r\nAnd I don&#39;t understand why. I thought I might need to add it in module-info.java, but after some googling I think that I don&#39;t, because in that file I have to specify the dependencies for the JavaFX.\r\n\r\nSo... what does that error mean?\r\n\r\nThanks.","title":"Package &#39;org.json&#39; is declared in module &#39;json&#39;, but module &#39;com.example.demo&#39; does not read it - JavaFX &amp; Maven","body":"<p>In a project using Maven &amp; JavaFX, I'm trying to add this dependency in my pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\n    &lt;version&gt;20180130&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I did that - I reloaded my maven changes (using intellij), but I still can't use this package.</p>\n<p>When I wrote this in my code:</p>\n<pre><code>import org.json.JSONObject;\n</code></pre>\n<p>I've gotten this error</p>\n<pre><code>Package 'org.json' is declared in module 'json', but module 'com.example.demo' does not read it\n</code></pre>\n<p>And I don't understand why. I thought I might need to add it in module-info.java, but after some googling I think that I don't, because in that file I have to specify the dependencies for the JavaFX.</p>\n<p>So... what does that error mean?</p>\n<p>Thanks.</p>\n"},{"tags":["java","spring-boot","hibernate","hibernate-mapping"],"comments":[{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":2,"creation_date":1640849910,"post_id":70528674,"comment_id":124673548,"body_markdown":"`its show me the error` ... what is the error?  If you want to join the two entities, you&#39;ll need some kind of relationship between them.","body":"<code>its show me the error</code> ... what is the error?  If you want to join the two entities, you&#39;ll need some kind of relationship between them."},{"owner":{"account_id":23544800,"reputation":31,"user_id":17588425,"display_name":"Harshit Gupta"},"score":0,"creation_date":1640850845,"post_id":70528674,"comment_id":124673756,"body_markdown":"yes, I implement the one to one relation between them. and I am getting the error.  &quot;Error in getting ABC list from DB : could not resolve property: BCA of&quot;","body":"yes, I implement the one to one relation between them. and I am getting the error.  &quot;Error in getting ABC list from DB : could not resolve property: BCA of&quot;"},{"owner":{"account_id":18955284,"reputation":181,"user_id":13831999,"display_name":"dhakalkumar"},"score":2,"creation_date":1640932228,"post_id":70528674,"comment_id":124693150,"body_markdown":"As the error clearly says, there is no any property BCA!","body":"As the error clearly says, there is no any property BCA!"}],"owner":{"account_id":23544800,"reputation":31,"user_id":17588425,"display_name":"Harshit Gupta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":364,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1641195390,"creation_date":1640849759,"question_id":70528674,"body_markdown":"I have just run the join query in sql and the query is \r\n\r\nSELECT t1.URL,\r\nt1.UPDATED_DATE,\r\nt1.PRIORITY,\r\nt1.NCR_ROW_ID,\r\nt1.ESTIMATED_VALUE,\r\nt1.EQUIPMENT_NAME,\r\nt1.CASE_ID,\r\nt2.CREATED_BY\r\nt2.CREATED_DATE\r\nt2.ESTIMATED_TOTAL\r\nt2.FUNDING_APPROVAL_CATEGORY\r\nt2.NCR_MAIN_CASE_ID\r\nFROM ABC t1\r\nLEFT JOIN BCA t2\r\non t1.CASE_ID = t2.NCR_MAIN_CASE_ID where t1.PROJECT_ID =1234\r\n\r\n\r\nIts working fine in SQL but when I tried to run in hibernate its show me the error.\r\nand the table relation is also one to one and there is not any primary and foreign key in both of tables. Could you please anyone help me to solve the problem.\r\n\r\nIn the ABC class, I have used\r\n\r\n     @OneToOne(cascade=CascadeType.ALL)\r\n     @JoinColumn(name=&quot;NCR_MAIN_CASE_ID&quot;) \r\n    private BCA bca;\r\n    \r\n    In the BCA class, I have used\r\n     @OneToOne(mappedBy=&quot;bca&quot;)\r\n     private ABC abc;\r\n\r\nbut I am getting error&quot;could not resolve property: BCA of&quot;","title":"join two tables without having primary key and foreign key in hibernate","body":"<p>I have just run the join query in sql and the query is</p>\n<p>SELECT t1.URL,\nt1.UPDATED_DATE,\nt1.PRIORITY,\nt1.NCR_ROW_ID,\nt1.ESTIMATED_VALUE,\nt1.EQUIPMENT_NAME,\nt1.CASE_ID,\nt2.CREATED_BY\nt2.CREATED_DATE\nt2.ESTIMATED_TOTAL\nt2.FUNDING_APPROVAL_CATEGORY\nt2.NCR_MAIN_CASE_ID\nFROM ABC t1\nLEFT JOIN BCA t2\non t1.CASE_ID = t2.NCR_MAIN_CASE_ID where t1.PROJECT_ID =1234</p>\n<p>Its working fine in SQL but when I tried to run in hibernate its show me the error.\nand the table relation is also one to one and there is not any primary and foreign key in both of tables. Could you please anyone help me to solve the problem.</p>\n<p>In the ABC class, I have used</p>\n<pre><code> @OneToOne(cascade=CascadeType.ALL)\n @JoinColumn(name=&quot;NCR_MAIN_CASE_ID&quot;) \nprivate BCA bca;\n\nIn the BCA class, I have used\n @OneToOne(mappedBy=&quot;bca&quot;)\n private ABC abc;\n</code></pre>\n<p>but I am getting error&quot;could not resolve property: BCA of&quot;</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1640950792,"post_id":70541796,"comment_id":124697103,"body_markdown":"maybe if you showed the relevant code, we might know","body":"maybe if you showed the relevant code, we might know"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1640952586,"post_id":70541796,"comment_id":124697499,"body_markdown":"The default cell renderer used by `JComboBox` (`DefaultListCellRenderer`) use `Object#toString` to set the text which is displayed.  Because the combobox also uses the result of the `ListCellRenderer` to calculate it&#39;s `preferredSize`, the `toString` method may be called multiple times even before it&#39;s displayed","body":"The default cell renderer used by <code>JComboBox</code> (<code>DefaultListCellRenderer</code>) use <code>Object#toString</code> to set the text which is displayed.  Because the combobox also uses the result of the <code>ListCellRenderer</code> to calculate it&#39;s <code>preferredSize</code>, the <code>toString</code> method may be called multiple times even before it&#39;s displayed"},{"owner":{"account_id":2817598,"reputation":6001,"user_id":2422224,"display_name":"Ma3x"},"score":1,"creation_date":1640953804,"post_id":70541796,"comment_id":124697794,"body_markdown":"An alternative, if you don&#39;t want to provide a custom renderer, you can also just wrap your Objects in a new wrapper class, do the &quot;toString&quot; computation once, keep a reference to the result and just return the result in the wrapper&#39;s toString() method. In that way, no matter how many times it is called, the string creation code will be executed only once for each item. You could also do it lazily, but no point in this case, since it seems that toString() is called right away anyway.","body":"An alternative, if you don&#39;t want to provide a custom renderer, you can also just wrap your Objects in a new wrapper class, do the &quot;toString&quot; computation once, keep a reference to the result and just return the result in the wrapper&#39;s toString() method. In that way, no matter how many times it is called, the string creation code will be executed only once for each item. You could also do it lazily, but no point in this case, since it seems that toString() is called right away anyway."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1641200655,"post_id":70541796,"comment_id":124737114,"body_markdown":"After adding the missing code, your console output only happened when you selected a text value in the `JComboBox`, not when just hovering over the `JComboBox` with the mouse.  The `toString` method should simply return a text representation of an instance of your class, and not do any additional processing.  Then it doesn&#39;t matter if it&#39;s called 100 times or more.","body":"After adding the missing code, your console output only happened when you selected a text value in the <code>JComboBox</code>, not when just hovering over the <code>JComboBox</code> with the mouse.  The <code>toString</code> method should simply return a text representation of an instance of your class, and not do any additional processing.  Then it doesn&#39;t matter if it&#39;s called 100 times or more."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640951839,"creation_date":1640951367,"answer_id":70542013,"question_id":70541796,"body_markdown":"You can&#39;t stop the `JComboBox` from calling the `toString()` method of your items.\r\n\r\nThis is because the `JComboBox` needs to know what text it has to show to the user.\r\n\r\nFor this it calls the `toString()` method of the items (of the currently shown item on mouse-over, of all items when the drop down list).\r\n\r\n----\r\nWell, you can sort of stop it by [providing a custom renderer](https://docs.oracle.com/javase/tutorial/uiswing/components/combobox.html#renderer) - a class that implements the `javax.swing.ListCellRenderer` interface.\r\n\r\nIt is the default `ListCellRenderer` that effectively calls the `toString()` method on your items. If you provide a custom `ListCellRenderer` implementation it can call any other method of your liking.\r\n\r\nBut expect as many calls to the `ListCellRenderer.getListCellRendererComponent()` method as you see calls to your items `toString()` method.","title":"Why JComboBox firing toString() on mouse hover?","body":"<p>You can't stop the <code>JComboBox</code> from calling the <code>toString()</code> method of your items.</p>\n<p>This is because the <code>JComboBox</code> needs to know what text it has to show to the user.</p>\n<p>For this it calls the <code>toString()</code> method of the items (of the currently shown item on mouse-over, of all items when the drop down list).</p>\n<hr />\n<p>Well, you can sort of stop it by <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/combobox.html#renderer\" rel=\"nofollow noreferrer\">providing a custom renderer</a> - a class that implements the <code>javax.swing.ListCellRenderer</code> interface.</p>\n<p>It is the default <code>ListCellRenderer</code> that effectively calls the <code>toString()</code> method on your items. If you provide a custom <code>ListCellRenderer</code> implementation it can call any other method of your liking.</p>\n<p>But expect as many calls to the <code>ListCellRenderer.getListCellRendererComponent()</code> method as you see calls to your items <code>toString()</code> method.</p>\n"}],"owner":{"account_id":23792339,"reputation":11,"user_id":17803636,"display_name":"Asif Ikram"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641195337,"creation_date":1640949792,"question_id":70541796,"body_markdown":"I have created a simple GUI, one JComboBox and JButton. \r\nJButton populate the JComboBox with objects of class testString. \r\nWhen mouse hover the JComboBox it fired toString() of testString class almost 25 time.  Why this happening? How we can stop it?  \r\n\r\nhere is code: \r\n\r\n    import javax.swing.DefaultComboBoxModel;\r\n\r\n    public class _NewJFrame extends javax.swing.JFrame {\r\n\r\n    public _NewJFrame() {\r\n        initComponents();\r\n    }\r\n    \r\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        \r\n        Object[] args = {new testString(&quot;ABC&quot;) , new testString(&quot;EDF&quot;) , &quot;GIH&quot;, &quot;IJK&quot;}; \r\n        jComboBox1.setModel(new DefaultComboBoxModel(args ));\r\n    }                                        \r\n    public static void main(String args[]) {\r\n            \r\n\r\n                new _NewJFrame().setVisible(true);\r\n                \r\n                 \r\n    }\r\n\r\n    private javax.swing.JButton jButton1;\r\n    private javax.swing.JComboBox&lt;String&gt; jComboBox1;\r\n    private javax.swing.JScrollPane jScrollPane1;\r\n    private javax.swing.JTextArea jTextArea1;\r\n    }\r\n\r\n\r\n\r\n    class testString {\r\n    String text; \r\n    static int i; \r\n    testString(String text){ this.text = text; }; \r\n    \r\n    \r\n    public String toString(){\r\n        System.out.println(&quot;ToSting() Called on Text &quot; + text + &quot; &quot;+ ++i);\r\n    \r\n        return text; \r\n    }\r\n\r\n\r\n    }\r\n\r\n    \r\n[GUI][1]\r\n[output][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/b0xZb.jpg\r\n  [2]: https://i.stack.imgur.com/WRO2s.jpg","title":"Why JComboBox firing toString() on mouse hover?","body":"<p>I have created a simple GUI, one JComboBox and JButton.\nJButton populate the JComboBox with objects of class testString.\nWhen mouse hover the JComboBox it fired toString() of testString class almost 25 time.  Why this happening? How we can stop it?</p>\n<p>here is code:</p>\n<pre><code>import javax.swing.DefaultComboBoxModel;\n\npublic class _NewJFrame extends javax.swing.JFrame {\n\npublic _NewJFrame() {\n    initComponents();\n}\n\nprivate void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n    \n    Object[] args = {new testString(&quot;ABC&quot;) , new testString(&quot;EDF&quot;) , &quot;GIH&quot;, &quot;IJK&quot;}; \n    jComboBox1.setModel(new DefaultComboBoxModel(args ));\n}                                        \npublic static void main(String args[]) {\n        \n\n            new _NewJFrame().setVisible(true);\n            \n             \n}\n\nprivate javax.swing.JButton jButton1;\nprivate javax.swing.JComboBox&lt;String&gt; jComboBox1;\nprivate javax.swing.JScrollPane jScrollPane1;\nprivate javax.swing.JTextArea jTextArea1;\n}\n\n\n\nclass testString {\nString text; \nstatic int i; \ntestString(String text){ this.text = text; }; \n\n\npublic String toString(){\n    System.out.println(&quot;ToSting() Called on Text &quot; + text + &quot; &quot;+ ++i);\n\n    return text; \n}\n\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/b0xZb.jpg\" rel=\"nofollow noreferrer\">GUI</a>\n<a href=\"https://i.stack.imgur.com/WRO2s.jpg\" rel=\"nofollow noreferrer\">output</a></p>\n"},{"tags":["java","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1641195163,"creation_date":1641195163,"answer_id":70562769,"question_id":70561913,"body_markdown":"It&#39;s easier when you start by discarding unneeded entries and retaining only values of `A` and `C` as key/value pairs to work with.\r\n\r\n\tMap&lt;String, Double&gt; result = res.stream()\r\n\t\t\t.map(m -&gt; Map.entry(m.get(&quot;A&quot;), \r\n\t\t\t\t                Double.parseDouble(m.get(&quot;C&quot;))))\r\n\t\t\t.collect(Collectors.groupingBy(Entry::getKey,\r\n\t\t\t\t\tCollectors.mapping(Entry::getValue, \r\n                                       Collectors.maxBy(Double::compare))))\r\n\t\t\t.entrySet().stream()\r\n\t\t\t.collect(Collectors.toMap(Entry::getKey, e -&gt; e.getValue().get()));\r\n\r\nThat produces `{ABC=0.945, XYZ=0.765}` as `result`, as required; but uses two streams to get rid of the `Optional&lt;Double&gt;` type for values.","title":"Filter List of Map Based on Key Using Java Streams","body":"<p>It's easier when you start by discarding unneeded entries and retaining only values of <code>A</code> and <code>C</code> as key/value pairs to work with.</p>\n<pre><code>Map&lt;String, Double&gt; result = res.stream()\n        .map(m -&gt; Map.entry(m.get(&quot;A&quot;), \n                            Double.parseDouble(m.get(&quot;C&quot;))))\n        .collect(Collectors.groupingBy(Entry::getKey,\n                Collectors.mapping(Entry::getValue, \n                                   Collectors.maxBy(Double::compare))))\n        .entrySet().stream()\n        .collect(Collectors.toMap(Entry::getKey, e -&gt; e.getValue().get()));\n</code></pre>\n<p>That produces <code>{ABC=0.945, XYZ=0.765}</code> as <code>result</code>, as required; but uses two streams to get rid of the <code>Optional&lt;Double&gt;</code> type for values.</p>\n"}],"owner":{"account_id":15877603,"reputation":61,"user_id":11456332,"display_name":"var.exe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":778,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1641205488,"accepted_answer_id":70562769,"answer_count":1,"score":1,"last_activity_date":1641195163,"creation_date":1641186792,"question_id":70561913,"body_markdown":"There is List&lt;Map&lt;String,String&gt;&gt;, as below:\r\n\r\n    [\r\n     {&quot;A&quot;: &quot;ABC&quot;,&quot;B&quot;: &quot;ABCD&quot;,&quot;C&quot;: &quot;0.945&quot;},\r\n     {&quot;A&quot;: &quot;ABC&quot;,&quot;B&quot;: &quot;AB&quot;,&quot;C&quot;: &quot;0.871&quot;},\r\n     {&quot;A&quot;: &quot;XYZ&quot;,&quot;B&quot;: &quot;XYZA&quot;,&quot;C&quot;: &quot;0.765&quot;},\r\n     {&quot;A&quot;: &quot;ABC&quot;,&quot;B&quot;: &quot;ABD&quot;,&quot;C&quot;: &quot;0.945&quot;},\r\n     {&quot;A&quot;: &quot;XYZ&quot;,&quot;B&quot;: &quot;XYZB&quot;,&quot;C&quot;: &quot;0.563&quot;}\r\n    ]\r\n\r\n**Question**\r\n\r\n&gt; Filter above List to get a Map where key as &#39;A&#39; and highest value of &#39;C&#39; for that &#39;A&#39;.\r\n\r\n    {&quot;ABC&quot;: &quot;0.945&quot;, &quot;XYZ&quot;: &quot;0.765&quot;}\r\n\r\nInitial Code\r\n\r\n    Map&lt;String, String&gt; m0 = new HashMap&lt;&gt;();\r\n    m0.put(&quot;A&quot;, &quot;ABC&quot;);\r\n    m0.put(&quot;B&quot;, &quot;ABCD&quot;);\r\n    m0.put(&quot;C&quot;, &quot;0.945&quot;);\r\n    \r\n    Map&lt;String, String&gt; m1 = new HashMap&lt;&gt;();\r\n    m1.put(&quot;A&quot;, &quot;ABC&quot;);\r\n    m1.put(&quot;B&quot;, &quot;AB&quot;);\r\n    m1.put(&quot;C&quot;, &quot;0.871&quot;);\r\n    \r\n    Map&lt;String, String&gt; m2 = new HashMap&lt;&gt;();\r\n    m2.put(&quot;A&quot;, &quot;XYZ&quot;);\r\n    m2.put(&quot;B&quot;, &quot;XYZA&quot;);\r\n    m2.put(&quot;C&quot;, &quot;0.765&quot;);\r\n    \r\n    Map&lt;String, String&gt; m3 = new HashMap&lt;&gt;();\r\n    m3.put(&quot;A&quot;, &quot;ABC&quot;);\r\n    m3.put(&quot;B&quot;, &quot;ABD&quot;);\r\n    m3.put(&quot;C&quot;, &quot;0.945&quot;);\r\n    \r\n    Map&lt;String, String&gt; m4 = new HashMap&lt;&gt;();\r\n    m4.put(&quot;A&quot;, &quot;XYZ&quot;);\r\n    m4.put(&quot;B&quot;, &quot;XYZB&quot;);\r\n    m4.put(&quot;C&quot;, &quot;0.563&quot;);\r\n    \r\n    List&lt;Map&lt;String,String&gt;&gt; res = Arrays.asList(m0,m1,m2,m3,m4);\r\n\r\nI am able to get:\r\n\r\n    [{A=ABC, B=ABCD, C=0.945}, {A=XYZ, B=XYZA, C=0.765}]\r\n\r\nUsing code below:\r\n\r\n    List&lt;Map&lt;String, String&gt;&gt; result = res.stream().collect(Collectors.groupingBy(map-&gt;map.get(&quot;A&quot;)))\r\n    \t\t    \t.entrySet().stream().map(m -&gt; m.getValue().stream()\r\n    \t\t    \t\t\t.max(Comparator.comparingDouble(s -&gt; Double.parseDouble(s.get(&quot;C&quot;)))).get())\r\n    \t\t    \t.collect(Collectors.toList());","title":"Filter List of Map Based on Key Using Java Streams","body":"<p>There is List&lt;Map&lt;String,String&gt;&gt;, as below:</p>\n<pre><code>[\n {&quot;A&quot;: &quot;ABC&quot;,&quot;B&quot;: &quot;ABCD&quot;,&quot;C&quot;: &quot;0.945&quot;},\n {&quot;A&quot;: &quot;ABC&quot;,&quot;B&quot;: &quot;AB&quot;,&quot;C&quot;: &quot;0.871&quot;},\n {&quot;A&quot;: &quot;XYZ&quot;,&quot;B&quot;: &quot;XYZA&quot;,&quot;C&quot;: &quot;0.765&quot;},\n {&quot;A&quot;: &quot;ABC&quot;,&quot;B&quot;: &quot;ABD&quot;,&quot;C&quot;: &quot;0.945&quot;},\n {&quot;A&quot;: &quot;XYZ&quot;,&quot;B&quot;: &quot;XYZB&quot;,&quot;C&quot;: &quot;0.563&quot;}\n]\n</code></pre>\n<p><strong>Question</strong></p>\n<blockquote>\n<p>Filter above List to get a Map where key as 'A' and highest value of 'C' for that 'A'.</p>\n</blockquote>\n<pre><code>{&quot;ABC&quot;: &quot;0.945&quot;, &quot;XYZ&quot;: &quot;0.765&quot;}\n</code></pre>\n<p>Initial Code</p>\n<pre><code>Map&lt;String, String&gt; m0 = new HashMap&lt;&gt;();\nm0.put(&quot;A&quot;, &quot;ABC&quot;);\nm0.put(&quot;B&quot;, &quot;ABCD&quot;);\nm0.put(&quot;C&quot;, &quot;0.945&quot;);\n\nMap&lt;String, String&gt; m1 = new HashMap&lt;&gt;();\nm1.put(&quot;A&quot;, &quot;ABC&quot;);\nm1.put(&quot;B&quot;, &quot;AB&quot;);\nm1.put(&quot;C&quot;, &quot;0.871&quot;);\n\nMap&lt;String, String&gt; m2 = new HashMap&lt;&gt;();\nm2.put(&quot;A&quot;, &quot;XYZ&quot;);\nm2.put(&quot;B&quot;, &quot;XYZA&quot;);\nm2.put(&quot;C&quot;, &quot;0.765&quot;);\n\nMap&lt;String, String&gt; m3 = new HashMap&lt;&gt;();\nm3.put(&quot;A&quot;, &quot;ABC&quot;);\nm3.put(&quot;B&quot;, &quot;ABD&quot;);\nm3.put(&quot;C&quot;, &quot;0.945&quot;);\n\nMap&lt;String, String&gt; m4 = new HashMap&lt;&gt;();\nm4.put(&quot;A&quot;, &quot;XYZ&quot;);\nm4.put(&quot;B&quot;, &quot;XYZB&quot;);\nm4.put(&quot;C&quot;, &quot;0.563&quot;);\n\nList&lt;Map&lt;String,String&gt;&gt; res = Arrays.asList(m0,m1,m2,m3,m4);\n</code></pre>\n<p>I am able to get:</p>\n<pre><code>[{A=ABC, B=ABCD, C=0.945}, {A=XYZ, B=XYZA, C=0.765}]\n</code></pre>\n<p>Using code below:</p>\n<pre><code>List&lt;Map&lt;String, String&gt;&gt; result = res.stream().collect(Collectors.groupingBy(map-&gt;map.get(&quot;A&quot;)))\n                .entrySet().stream().map(m -&gt; m.getValue().stream()\n                        .max(Comparator.comparingDouble(s -&gt; Double.parseDouble(s.get(&quot;C&quot;)))).get())\n                .collect(Collectors.toList());\n</code></pre>\n"},{"tags":["java","hibernate","jpa","jpql"],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1393277977,"creation_date":1393277977,"answer_id":21999596,"question_id":21999484,"body_markdown":"Your last query searches all the recipes whose name is the ingredient name passed as argument. That&#39;s not what you want. What you want is all the recipes having an ingredient whose name is the ingredient name passed as argument:\r\n\r\n    select r from Recipe r\r\n    join r.ingredientList i\r\n    where i.name = :ingredient\r\n\r\nSide note: why can&#39;t I have two recipes using the same ingredients? Quite limiting. The association should be a ManyToMany.","title":"JPQL Join on one to many database","body":"<p>Your last query searches all the recipes whose name is the ingredient name passed as argument. That's not what you want. What you want is all the recipes having an ingredient whose name is the ingredient name passed as argument:</p>\n\n<pre><code>select r from Recipe r\njoin r.ingredientList i\nwhere i.name = :ingredient\n</code></pre>\n\n<p>Side note: why can't I have two recipes using the same ingredients? Quite limiting. The association should be a ManyToMany.</p>\n"},{"tags":[],"owner":{"account_id":19088549,"reputation":75,"user_id":13939277,"display_name":"Adarsh Verma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641195089,"creation_date":1641194909,"answer_id":70562727,"question_id":21999484,"body_markdown":"Your JPQl query should look like this:-\r\n(As JPA already baked in the join metadata but for the `@OnetoMany` we can use this for JPQl)\r\n```\r\n@Query(&quot;Select r from Recipe r join Ingredient i on r.id = i.recipe.id where i.name=:ingredient)\r\n\r\nList&lt;Recipe&gt; findRecipeByIngredient(@Param(&quot;ingredient&quot;) String ingredient);\r\n```","title":"JPQL Join on one to many database","body":"<p>Your JPQl query should look like this:-\n(As JPA already baked in the join metadata but for the <code>@OnetoMany</code> we can use this for JPQl)</p>\n<pre><code>@Query(&quot;Select r from Recipe r join Ingredient i on r.id = i.recipe.id where i.name=:ingredient)\n\nList&lt;Recipe&gt; findRecipeByIngredient(@Param(&quot;ingredient&quot;) String ingredient);\n</code></pre>\n"}],"owner":{"account_id":265572,"reputation":501,"user_id":552629,"accept_rate":98,"display_name":"iie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11136,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":21999596,"answer_count":2,"score":1,"last_activity_date":1641195089,"creation_date":1393277573,"question_id":21999484,"body_markdown":"I know that it has been mentioned couple of times here before, but I really can&#39;t make it working for me,\r\n\r\nI have two entities: Recipe, Ingredient:  \r\n\r\n    @Entity\r\n    @Table(name = &quot;Recipe&quot;)\r\n    public class Recipe {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        @Column(name = &quot;Recipe_id&quot;)\r\n        private Long id;\r\n    \r\n        private String name;\r\n    \r\n        private String description;\r\n        @Lob\r\n        @Basic(fetch = FetchType.LAZY)\r\n        @Column(length = 100000)\r\n        private byte[] image;\r\n    \r\n        @OneToMany(mappedBy = &quot;recipe&quot;, fetch = FetchType.EAGER)\r\n        @Cascade({CascadeType.ALL})\r\n        private List&lt;Ingredient&gt; ingredientsList;\r\n    ....\r\n    }\r\n\r\nand Ingredient:\r\n\r\n    @Entity\r\n    @Table\r\n    public class Ingredient {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n    \r\n        private String name;\r\n    \r\n        private int cpt;\r\n    \r\n        private String cptyType;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;Recipe_id&quot;)\r\n        private Recipe recipe;\r\n\r\n    ....\r\n    }\r\n\r\nI have also set up JPA Reposiotries, I would like to create custom query which would be equivalent to:\r\n\r\n    SELECT *\r\n    FROM `Recipe`\r\n    INNER JOIN `Ingredient` ON Recipe.Recipe_id = Ingredient.Recipe_id\r\n    WHERE Ingredient.name = &quot;fancyName&quot;\r\n    LIMIT 0 , 30\r\n\r\nUntil now I&#39;ve tried with this one:\r\n\r\n    @Query(&quot;Select r from Recipe r join r.id i  where i.name = :ingredient&quot;)\r\n    List&lt;Recipe&gt; findRecipeByIngredient(@Param(&quot;ingredient&quot;) String ingredient);\r\n\r\nEnd up with expcetion:\r\n\r\n    Caused by: java.lang.NullPointerException\r\n            at org.hibernate.hql.internal.ast.HqlSqlWalker.createFromJoinElement(HqlSqlWalker.java:395)\r\n            at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.joinElement(HqlSqlBaseWalker.java:3477)\r\n            at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromElement(HqlSqlBaseWalker.java:3263)\r\n            at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromElementList(HqlSqlBaseWalker.java:3141)\r\n            at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromClause(HqlSqlBaseWalker.java:694)\r\n            at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:550)\r\n            at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:287)\r\n            at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:235)\r\n            at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:248)\r\n            at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:183)\r\n            at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:136)\r\n            at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:101)\r\n            at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:80)\r\n            at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:119)\r\n            at org.hibernate.internal.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:214)\r\n            at org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:192)\r\n\r\nI&#39;ve tried with thing such as this:\r\n\r\n    @Query(&quot;Select r from Recipe r join fetch r.ingredientsList where r.name = :ingredient&quot;)\r\n        List&lt;Recipe&gt; findRecipeByIngredient(@Param(&quot;ingredient&quot;) String ingredient);\r\n\r\nthis is not resulting in any errors, but returns empty result.\r\n\r\nIt is a trival issue, but I don&#39;t have any experience with jpql before = /\r\n\r\nEDIT:\r\n\r\nstill getting empty result:\r\n\r\n    DEBUG (SqlStatementLogger.java:104) - select recipe0_.Recipe_id as Recipe1_1_0_, ingredient1_.id as id0_1_, recipe0_.description as descript2_1_0_, recipe0_.image as image1_0_, recipe0_.name as name1_0_, ingredient1_.cpt as cpt0_1_, ingredient1_.cptyType as cptyType0_1_, ingredient1_.name as name0_1_, ingredient1_.Recipe_id as Recipe5_0_1_, ingredient1_.Recipe_id as Recipe5_1_0__, ingredient1_.id as id0__ from Recipe recipe0_ inner join Ingredient ingredient1_ on recipe0_.Recipe_id=ingredient1_.Recipe_id where ingredient1_.name=?\r\n    DEBUG (CollectionLoadContext.java:224) - No collections were found in result set for role: com.bla.model.Recipe.ingredientsList\r\n\r\nEDIT 2:\r\n\r\nafter removing fetch from statement:\r\n\r\n    DEBUG (SqlStatementLogger.java:104) - select recipe0_.Recipe_id as Recipe1_1_, recipe0_.description as descript2_1_, recipe0_.image as image1_, recipe0_.name as name1_ from Recipe recipe0_ inner join Ingredient ingredient1_ on recipe0_.Recipe_id=ingredient1_.Recipe_id where ingredient1_.name=?\r\n    DEBUG (StatefulPersistenceContext.java:899) - Initializing non-lazy collections\r\n\r\n","title":"JPQL Join on one to many database","body":"<p>I know that it has been mentioned couple of times here before, but I really can't make it working for me,</p>\n\n<p>I have two entities: Recipe, Ingredient:  </p>\n\n<pre><code>@Entity\n@Table(name = \"Recipe\")\npublic class Recipe {\n\n    @Id\n    @GeneratedValue\n    @Column(name = \"Recipe_id\")\n    private Long id;\n\n    private String name;\n\n    private String description;\n    @Lob\n    @Basic(fetch = FetchType.LAZY)\n    @Column(length = 100000)\n    private byte[] image;\n\n    @OneToMany(mappedBy = \"recipe\", fetch = FetchType.EAGER)\n    @Cascade({CascadeType.ALL})\n    private List&lt;Ingredient&gt; ingredientsList;\n....\n}\n</code></pre>\n\n<p>and Ingredient:</p>\n\n<pre><code>@Entity\n@Table\npublic class Ingredient {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    private String name;\n\n    private int cpt;\n\n    private String cptyType;\n\n    @ManyToOne\n    @JoinColumn(name = \"Recipe_id\")\n    private Recipe recipe;\n\n....\n}\n</code></pre>\n\n<p>I have also set up JPA Reposiotries, I would like to create custom query which would be equivalent to:</p>\n\n<pre><code>SELECT *\nFROM `Recipe`\nINNER JOIN `Ingredient` ON Recipe.Recipe_id = Ingredient.Recipe_id\nWHERE Ingredient.name = \"fancyName\"\nLIMIT 0 , 30\n</code></pre>\n\n<p>Until now I've tried with this one:</p>\n\n<pre><code>@Query(\"Select r from Recipe r join r.id i  where i.name = :ingredient\")\nList&lt;Recipe&gt; findRecipeByIngredient(@Param(\"ingredient\") String ingredient);\n</code></pre>\n\n<p>End up with expcetion:</p>\n\n<pre><code>Caused by: java.lang.NullPointerException\n        at org.hibernate.hql.internal.ast.HqlSqlWalker.createFromJoinElement(HqlSqlWalker.java:395)\n        at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.joinElement(HqlSqlBaseWalker.java:3477)\n        at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromElement(HqlSqlBaseWalker.java:3263)\n        at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromElementList(HqlSqlBaseWalker.java:3141)\n        at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromClause(HqlSqlBaseWalker.java:694)\n        at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:550)\n        at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:287)\n        at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:235)\n        at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:248)\n        at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:183)\n        at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:136)\n        at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:101)\n        at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:80)\n        at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:119)\n        at org.hibernate.internal.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:214)\n        at org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:192)\n</code></pre>\n\n<p>I've tried with thing such as this:</p>\n\n<pre><code>@Query(\"Select r from Recipe r join fetch r.ingredientsList where r.name = :ingredient\")\n    List&lt;Recipe&gt; findRecipeByIngredient(@Param(\"ingredient\") String ingredient);\n</code></pre>\n\n<p>this is not resulting in any errors, but returns empty result.</p>\n\n<p>It is a trival issue, but I don't have any experience with jpql before = /</p>\n\n<p>EDIT:</p>\n\n<p>still getting empty result:</p>\n\n<pre><code>DEBUG (SqlStatementLogger.java:104) - select recipe0_.Recipe_id as Recipe1_1_0_, ingredient1_.id as id0_1_, recipe0_.description as descript2_1_0_, recipe0_.image as image1_0_, recipe0_.name as name1_0_, ingredient1_.cpt as cpt0_1_, ingredient1_.cptyType as cptyType0_1_, ingredient1_.name as name0_1_, ingredient1_.Recipe_id as Recipe5_0_1_, ingredient1_.Recipe_id as Recipe5_1_0__, ingredient1_.id as id0__ from Recipe recipe0_ inner join Ingredient ingredient1_ on recipe0_.Recipe_id=ingredient1_.Recipe_id where ingredient1_.name=?\nDEBUG (CollectionLoadContext.java:224) - No collections were found in result set for role: com.bla.model.Recipe.ingredientsList\n</code></pre>\n\n<p>EDIT 2:</p>\n\n<p>after removing fetch from statement:</p>\n\n<pre><code>DEBUG (SqlStatementLogger.java:104) - select recipe0_.Recipe_id as Recipe1_1_, recipe0_.description as descript2_1_, recipe0_.image as image1_, recipe0_.name as name1_ from Recipe recipe0_ inner join Ingredient ingredient1_ on recipe0_.Recipe_id=ingredient1_.Recipe_id where ingredient1_.name=?\nDEBUG (StatefulPersistenceContext.java:899) - Initializing non-lazy collections\n</code></pre>\n"},{"tags":["java","heap"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1414791250,"post_id":14165325,"comment_id":41965937,"body_markdown":"In addition to the native `PriorityQueue`, guava provides a [`MinMaxPriorityQueue`](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/MinMaxPriorityQueue.html)","body":"In addition to the native <code>PriorityQueue</code>, guava provides a <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/MinMaxPriorityQueue.html\" rel=\"nofollow noreferrer\"><code>MinMaxPriorityQueue</code></a>"},{"owner":{"account_id":481416,"reputation":355324,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":0,"creation_date":1479325933,"post_id":14165325,"comment_id":68514114,"body_markdown":"related http://stackoverflow.com/questions/1098277/java-implementation-for-min-max-heap","body":"related <a href=\"http://stackoverflow.com/questions/1098277/java-implementation-for-min-max-heap\" title=\"java implementation for min max heap\">stackoverflow.com/questions/1098277/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1566122,"reputation":27,"user_id":1454887,"display_name":"Adriana Cosma"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1464253928,"creation_date":1464253928,"answer_id":37456435,"question_id":14165325,"body_markdown":"You can also consider [TreeSet][1], which guarantees log(n) time for basic operations (add, remove, contains).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/TreeSet.html","title":"Is there a Heap in java?","body":"<p>You can also consider <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/TreeSet.html\" rel=\"nofollow\">TreeSet</a>, which guarantees log(n) time for basic operations (add, remove, contains).</p>\n"},{"tags":[],"owner":{"account_id":10888609,"reputation":111,"user_id":8005268,"display_name":"Pete"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1494632570,"creation_date":1494632570,"answer_id":43947822,"question_id":14165325,"body_markdown":"PriorityQueue uses a heap.  Based on the oracle documentation at https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html it seems likely that it is an implementation of a binary heap.  I don&#39;t think there is an  official implementation of a fibonacci or pairing heap, though I&#39;d love to see either one of the two available.","title":"Is there a Heap in java?","body":"<p>PriorityQueue uses a heap.  Based on the oracle documentation at <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html</a> it seems likely that it is an implementation of a binary heap.  I don't think there is an  official implementation of a fibonacci or pairing heap, though I'd love to see either one of the two available.</p>\n"},{"tags":[],"owner":{"account_id":2293223,"reputation":556,"user_id":2015398,"display_name":"user2015398"},"down_vote_count":1,"up_vote_count":53,"is_accepted":false,"score":52,"last_activity_date":1590869265,"creation_date":1550045229,"answer_id":54665261,"question_id":14165325,"body_markdown":"Min heap:\r\n\r\n```java\r\nPriorityQueue&lt;Integer&gt; minHeap = new PriorityQueue&lt;Integer&gt;();\r\n```\r\n\r\nMax heap:\r\n\r\n```java\r\nPriorityQueue&lt;Integer&gt; maxHeap = new PriorityQueue&lt;Integer&gt;(new Comparator&lt;Integer&gt;() {\r\n    @Override\r\n    public int compare(Integer o1, Integer o2) {\r\n        return - Integer.compare(o1, o2);\r\n    }\r\n});\r\n```","title":"Is there a Heap in java?","body":"<p>Min heap:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>PriorityQueue&lt;Integer&gt; minHeap = new PriorityQueue&lt;Integer&gt;();\n</code></pre>\n\n<p>Max heap:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>PriorityQueue&lt;Integer&gt; maxHeap = new PriorityQueue&lt;Integer&gt;(new Comparator&lt;Integer&gt;() {\n    @Override\n    public int compare(Integer o1, Integer o2) {\n        return - Integer.compare(o1, o2);\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":124650,"reputation":2637,"user_id":319876,"display_name":"Ahmed Hamdy"},"down_vote_count":1,"up_vote_count":164,"is_accepted":false,"score":163,"last_activity_date":1618874194,"creation_date":1567860756,"answer_id":57833871,"question_id":14165325,"body_markdown":"For Java 8, updating on an existing [answer][1]:\r\n\r\nYou can use Java Priority Queue as a Heap.\r\n\r\n**Min Heap:** --&gt; to keep the min element always on top, so you can access it in O(1).\r\n\r\n    PriorityQueue&lt;Integer&gt; minHeap = new PriorityQueue&lt;Integer&gt;();\r\n\r\n**Max Heap:** --&gt; to keep the max element always on top, the same order as above.\r\n\r\n    PriorityQueue&lt;Integer&gt; maxHeap = new PriorityQueue&lt;&gt;(Comparator.reverseOrder());\r\n\r\nWhich is the same as `(Integer o1, Integer o2) -&gt; Integer.compare(o2, o1)` or `- Integer.compare(o1, o2)` as suggested from other answers.\r\n\r\nAnd you can use:   \r\n`add` --&gt; to add element to the queue. O(log n)  \r\n`remove` --&gt; to get and remove the min/max. O(log n)  \r\n`peek` --&gt; to get, but not remove the min/max. O(1)\r\n\r\n  [1]: https://stackoverflow.com/a/54665261/319876","title":"Is there a Heap in java?","body":"<p>For Java 8, updating on an existing <a href=\"https://stackoverflow.com/a/54665261/319876\">answer</a>:</p>\n<p>You can use Java Priority Queue as a Heap.</p>\n<p><strong>Min Heap:</strong> --&gt; to keep the min element always on top, so you can access it in O(1).</p>\n<pre><code>PriorityQueue&lt;Integer&gt; minHeap = new PriorityQueue&lt;Integer&gt;();\n</code></pre>\n<p><strong>Max Heap:</strong> --&gt; to keep the max element always on top, the same order as above.</p>\n<pre><code>PriorityQueue&lt;Integer&gt; maxHeap = new PriorityQueue&lt;&gt;(Comparator.reverseOrder());\n</code></pre>\n<p>Which is the same as <code>(Integer o1, Integer o2) -&gt; Integer.compare(o2, o1)</code> or <code>- Integer.compare(o1, o2)</code> as suggested from other answers.</p>\n<p>And you can use:<br />\n<code>add</code> --&gt; to add element to the queue. O(log n)<br />\n<code>remove</code> --&gt; to get and remove the min/max. O(log n)<br />\n<code>peek</code> --&gt; to get, but not remove the min/max. O(1)</p>\n"},{"tags":[],"owner":{"account_id":5576335,"reputation":1262,"user_id":4419613,"display_name":"Boaz"},"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1641194980,"creation_date":1586687258,"answer_id":61170009,"question_id":14165325,"body_markdown":"In Java [PriorityQueue][1] can be used as a Heap.\r\n\r\n**Min Heap**\r\n\r\n    PriorityQueue&lt;Integer&gt; minHeap = new PriorityQueue&lt;&gt;();\r\n\r\n\r\n**Max Heap**\r\n\r\n    PriorityQueue&lt;Integer&gt; maxHeap = new PriorityQueue&lt;&gt;(Comparator.reverseOrder());\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/PriorityQueue.html","title":"Is there a Heap in java?","body":"<p>In Java <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/PriorityQueue.html\" rel=\"noreferrer\">PriorityQueue</a> can be used as a Heap.</p>\n<p><strong>Min Heap</strong></p>\n<pre><code>PriorityQueue&lt;Integer&gt; minHeap = new PriorityQueue&lt;&gt;();\n</code></pre>\n<p><strong>Max Heap</strong></p>\n<pre><code>PriorityQueue&lt;Integer&gt; maxHeap = new PriorityQueue&lt;&gt;(Comparator.reverseOrder());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18468411,"reputation":153,"user_id":13453968,"display_name":"Anubhav Mishra"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1590869072,"creation_date":1590835431,"answer_id":62101265,"question_id":14165325,"body_markdown":"No as such there isn&#39;t but you can use Priority Queue as a Heap. Its officially told by Oracle to use Priority Queue as a Heap you can also refer to [this link](https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html) for further clarification.\r\n\r\n\r\n```\r\nPriorityQueue&lt;Integer&gt; MinHeap = new PriorityQueue&lt;&gt;();\r\n\r\nPriorityQueue&lt;Integer&gt; MaxHeap = new PriorityQueue&lt;&gt;(Comparator.reverseOrder());\r\n```","title":"Is there a Heap in java?","body":"<p>No as such there isn't but you can use Priority Queue as a Heap. Its officially told by Oracle to use Priority Queue as a Heap you can also refer to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html\" rel=\"nofollow noreferrer\">this link</a> for further clarification.</p>\n\n<pre><code>PriorityQueue&lt;Integer&gt; MinHeap = new PriorityQueue&lt;&gt;();\n\nPriorityQueue&lt;Integer&gt; MaxHeap = new PriorityQueue&lt;&gt;(Comparator.reverseOrder());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3351190,"reputation":3386,"user_id":2815227,"accept_rate":64,"display_name":"mcvkr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623869024,"creation_date":1623857239,"answer_id":68005703,"question_id":14165325,"body_markdown":"From Java docs `PriorityQueue` which is available since 1.5 is the class to use. \r\n\r\nThis code for `Min Heap` *creates a PriorityQueue with the default initial capacity (11) that orders its elements according to their [natural ordering][1]* in which the min is at the top.\r\n\r\n    //MIN HEAP\r\n    PriorityQueue&lt;Integer&gt; minHeap = new PriorityQueue&lt;&gt;();\r\n    //equivalent to \r\n    PriorityQueue&lt;Integer&gt; minHeap = new PriorityQueue&lt;&gt;(11);\r\n\r\nIf you want to implement a special ordering you need to override the comparator with this constructor \r\n\r\n    PriorityQueue​(int initialCapacity, Comparator&lt;? super E&gt; comparator);\r\n\r\nSince 1.8 we also have this version \r\n\r\n    PriorityQueue​(Comparator&lt;? super E&gt; comparator);\r\n\r\nwhich helps you create the `Max Heap` in more elegant ways such as \r\n\r\n    //MAX HEAP\r\n    PriorityQueue&lt;Integer&gt; maxHeap = \r\n    new PriorityQueue&lt;&gt;((n1,n2) -&gt; Integer.compare(n2,n1));\r\n    //equivalent to \r\n    PriorityQueue&lt;Integer&gt; maxHeap = new PriorityQueue&lt;&gt;(Comparator.reverseOrder());\r\n\r\n\r\nFor a special case check this example that shows the natural ordering for a custom object, in a scenario where we order customers based on their distance to a fictional restaurant\r\n\r\n    \r\n\r\n```\r\nimport java.util.List;\r\nimport java.util.PriorityQueue;\r\n\r\npublic class DeliveryHandler {\r\n\r\n    private static final Address restaurant = new Address(5.0, 5.0);\r\n\r\n    private static class Address implements Comparable&lt;Address&gt; {\r\n        public double x, y;\r\n\r\n        public Address(double x, double y) {\r\n            this.x = x;\r\n            this.y = y;\r\n        }\r\n\r\n        public double distanceToShop() {\r\n            return Math.pow(restaurant.x - x, 2) + Math.pow(restaurant.y - y, 2);\r\n        }\r\n\r\n        @Override\r\n        public int compareTo(Address other) {\r\n            return Double.compare(this.distanceToShop(), other.distanceToShop());\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Address {x=%s, y=%s}&quot;.formatted(x, y);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Address&gt; customers = List.of(\r\n                new Address(13, 14),\r\n                new Address(3, 1),\r\n                new Address(9, 20),\r\n                new Address(12, 4),\r\n                new Address(4, 4));\r\n\r\n        PriorityQueue&lt;Address&gt; queueServingClosest = new PriorityQueue&lt;&gt;();\r\n        queueServingClosest.addAll(customers);\r\n        while (!queueServingClosest.isEmpty()) {\r\n            System.out.println(queueServingClosest.remove());\r\n        }\r\n\r\n        /* Prints\r\n        Address {x=4.0, y=4.0}\r\n        Address {x=3.0, y=1.0}\r\n        Address {x=12.0, y=4.0}\r\n        Address {x=13.0, y=14.0}\r\n        Address {x=9.0, y=20.0}\r\n         */\r\n\r\n        PriorityQueue&lt;Address&gt; queueServingFurthest = new PriorityQueue&lt;&gt;(\r\n                (a1, a2) -&gt; Double.compare(a2.distanceToShop(), a1.distanceToShop())\r\n        );\r\n        queueServingFurthest.addAll(customers);\r\n        while (!queueServingFurthest.isEmpty()) {\r\n            System.out.println(queueServingFurthest.remove());\r\n        }\r\n\r\n        /* Prints\r\n        Address {x=9.0, y=20.0}\r\n        Address {x=13.0, y=14.0}\r\n        Address {x=12.0, y=4.0}\r\n        Address {x=3.0, y=1.0}\r\n        Address {x=4.0, y=4.0}\r\n         */\r\n    }\r\n}\r\n``` \r\n\r\n \r\nRefs \r\n\r\n1- https://docs.oracle.com/javase/7/docs/api/java/util/PriorityQueue.html \r\n\r\n2- https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/PriorityQueue.html  \r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Comparable.html\r\n","title":"Is there a Heap in java?","body":"<p>From Java docs <code>PriorityQueue</code> which is available since 1.5 is the class to use.</p>\n<p>This code for <code>Min Heap</code> <em>creates a PriorityQueue with the default initial capacity (11) that orders its elements according to their <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Comparable.html\" rel=\"nofollow noreferrer\">natural ordering</a></em> in which the min is at the top.</p>\n<pre><code>//MIN HEAP\nPriorityQueue&lt;Integer&gt; minHeap = new PriorityQueue&lt;&gt;();\n//equivalent to \nPriorityQueue&lt;Integer&gt; minHeap = new PriorityQueue&lt;&gt;(11);\n</code></pre>\n<p>If you want to implement a special ordering you need to override the comparator with this constructor</p>\n<pre><code>PriorityQueue​(int initialCapacity, Comparator&lt;? super E&gt; comparator);\n</code></pre>\n<p>Since 1.8 we also have this version</p>\n<pre><code>PriorityQueue​(Comparator&lt;? super E&gt; comparator);\n</code></pre>\n<p>which helps you create the <code>Max Heap</code> in more elegant ways such as</p>\n<pre><code>//MAX HEAP\nPriorityQueue&lt;Integer&gt; maxHeap = \nnew PriorityQueue&lt;&gt;((n1,n2) -&gt; Integer.compare(n2,n1));\n//equivalent to \nPriorityQueue&lt;Integer&gt; maxHeap = new PriorityQueue&lt;&gt;(Comparator.reverseOrder());\n</code></pre>\n<p>For a special case check this example that shows the natural ordering for a custom object, in a scenario where we order customers based on their distance to a fictional restaurant</p>\n<pre><code>import java.util.List;\nimport java.util.PriorityQueue;\n\npublic class DeliveryHandler {\n\n    private static final Address restaurant = new Address(5.0, 5.0);\n\n    private static class Address implements Comparable&lt;Address&gt; {\n        public double x, y;\n\n        public Address(double x, double y) {\n            this.x = x;\n            this.y = y;\n        }\n\n        public double distanceToShop() {\n            return Math.pow(restaurant.x - x, 2) + Math.pow(restaurant.y - y, 2);\n        }\n\n        @Override\n        public int compareTo(Address other) {\n            return Double.compare(this.distanceToShop(), other.distanceToShop());\n        }\n\n        @Override\n        public String toString() {\n            return &quot;Address {x=%s, y=%s}&quot;.formatted(x, y);\n        }\n    }\n\n    public static void main(String[] args) {\n        List&lt;Address&gt; customers = List.of(\n                new Address(13, 14),\n                new Address(3, 1),\n                new Address(9, 20),\n                new Address(12, 4),\n                new Address(4, 4));\n\n        PriorityQueue&lt;Address&gt; queueServingClosest = new PriorityQueue&lt;&gt;();\n        queueServingClosest.addAll(customers);\n        while (!queueServingClosest.isEmpty()) {\n            System.out.println(queueServingClosest.remove());\n        }\n\n        /* Prints\n        Address {x=4.0, y=4.0}\n        Address {x=3.0, y=1.0}\n        Address {x=12.0, y=4.0}\n        Address {x=13.0, y=14.0}\n        Address {x=9.0, y=20.0}\n         */\n\n        PriorityQueue&lt;Address&gt; queueServingFurthest = new PriorityQueue&lt;&gt;(\n                (a1, a2) -&gt; Double.compare(a2.distanceToShop(), a1.distanceToShop())\n        );\n        queueServingFurthest.addAll(customers);\n        while (!queueServingFurthest.isEmpty()) {\n            System.out.println(queueServingFurthest.remove());\n        }\n\n        /* Prints\n        Address {x=9.0, y=20.0}\n        Address {x=13.0, y=14.0}\n        Address {x=12.0, y=4.0}\n        Address {x=3.0, y=1.0}\n        Address {x=4.0, y=4.0}\n         */\n    }\n}\n</code></pre>\n<p>Refs</p>\n<p>1- <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/PriorityQueue.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/PriorityQueue.html</a></p>\n<p>2- <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/PriorityQueue.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/PriorityQueue.html</a></p>\n"}],"owner":{"account_id":2007479,"reputation":3298,"user_id":1796942,"accept_rate":80,"display_name":"user1796942"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146707,"favorite_count":0,"down_vote_count":7,"up_vote_count":135,"answer_count":7,"score":128,"last_activity_date":1641194980,"creation_date":1357335093,"question_id":14165325,"body_markdown":"I am porting a C++ library to Java and I need a heap data structure. Is there a standard implementation or will I need to do it myself?","title":"Is there a Heap in java?","body":"<p>I am porting a C++ library to Java and I need a heap data structure. Is there a standard implementation or will I need to do it myself?</p>\n"},{"tags":["java","minecraft","bukkit","bungeecord"],"comments":[{"owner":{"account_id":10574825,"reputation":1169,"user_id":7790438,"display_name":"Fady Saad"},"score":0,"creation_date":1498278921,"post_id":44732762,"comment_id":76447848,"body_markdown":"I think you could use tjis lines:String[] cmd = {&quot;/bin/sh&quot;, &quot;-c&quot;, &quot;stty raw &lt;/dev/tty&quot;};\nRuntime.getRuntime().exec(cmd);","body":"I think you could use tjis lines:String[] cmd = {&quot;/bin/sh&quot;, &quot;-c&quot;, &quot;stty raw &lt;/dev/tty&quot;}; Runtime.getRuntime().exec(cmd);"},{"owner":{"account_id":24564,"reputation":123812,"user_id":62576,"accept_rate":100,"display_name":"Ken White"},"score":3,"creation_date":1498278983,"post_id":44732762,"comment_id":76447856,"body_markdown":"This question makes absolutely no sense. Please take a minute to read it again. Pretend you know absolutely nothing beforehand (as we do) and ask yourself if it would make sense to you. We know nothing except what you&#39;ve explained in your post, and the information you&#39;ve provided isn&#39;t useful. See [ask].","body":"This question makes absolutely no sense. Please take a minute to read it again. Pretend you know absolutely nothing beforehand (as we do) and ask yourself if it would make sense to you. We know nothing except what you&#39;ve explained in your post, and the information you&#39;ve provided isn&#39;t useful. See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":7718919,"reputation":72,"user_id":5845719,"accept_rate":67,"display_name":"Auscyber"},"score":0,"creation_date":1498299433,"post_id":44732762,"comment_id":76452169,"body_markdown":"@KenWhite The thing is is that I am making it the best that I can when there isn&#39;t a site for what I am what to ask but this is the closest to what I want. I have made a proposal for it as Games and Programming","body":"@KenWhite The thing is is that I am making it the best that I can when there isn&#39;t a site for what I am what to ask but this is the closest to what I want. I have made a proposal for it as Games and Programming"},{"owner":{"account_id":4703887,"reputation":686,"user_id":3806683,"display_name":"MrDarkLynx"},"score":1,"creation_date":1498460733,"post_id":44732762,"comment_id":76489852,"body_markdown":"So, just to clear things up: You want to move a player to another server in your BungeeCord network. Do you want to do that via console, via an ingame command or somehow else?","body":"So, just to clear things up: You want to move a player to another server in your BungeeCord network. Do you want to do that via console, via an ingame command or somehow else?"},{"owner":{"account_id":116752,"reputation":4310,"user_id":306036,"accept_rate":85,"display_name":"Ryan Leach"},"score":1,"creation_date":1498539835,"post_id":44732762,"comment_id":76525576,"body_markdown":"@KenWhite This question is straight forward given the tag of bungeecord.","body":"@KenWhite This question is straight forward given the tag of bungeecord."},{"owner":{"account_id":7718919,"reputation":72,"user_id":5845719,"accept_rate":67,"display_name":"Auscyber"},"score":0,"creation_date":1498859647,"post_id":44732762,"comment_id":76691378,"body_markdown":"@RyanTheLeach Thank you","body":"@RyanTheLeach Thank you"}],"answers":[{"tags":[],"owner":{"account_id":116752,"reputation":4310,"user_id":306036,"accept_rate":85,"display_name":"Ryan Leach"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1605165438,"creation_date":1498539838,"answer_id":44772592,"question_id":44732762,"body_markdown":"**From Bungee Plugins:**\r\n\r\nSee https://www.spigotmc.org/wiki/sending-players-between-servers-in-bungeecord/\r\n\r\n    ServerInfo target = ProxyServer.getInstance().getServerInfo(&quot;Hub&quot;);\r\n    player.connect(target);\r\n\r\n**From Spigot Plugins:**\r\n\r\nSee https://www.spigotmc.org/wiki/bukkit-bungee-plugin-messaging-channel/#connect\r\n\r\nConnect Example to server.\r\n(Used when `Example` is a player connected to the server sending the command, e.g. &#39;kick&#39; to server)\r\n\r\n     ByteArrayDataOutput out = ByteStreams.newDataOutput();\r\n     out.writeUTF(&quot;Connect&quot;);\r\n     out.writeUTF(&quot;pvp&quot;);    \r\n     //applies to the player you send it to. aka Kick To Server.\r\n     Player player = Bukkit.getPlayerExact(&quot;Example&quot;);\r\n     player.sendPluginMessage(this, &quot;BungeeCord&quot;, out.toByteArray());\r\n\r\nConnectOther Example to server. (Used when you need to pull a player out of another server on the network, care should be used to make sure they arn&#39;t mid-minigame or something, as you won&#39;t necessarily have the server-state context of the player)\r\n\r\n\r\n     ByteArrayDataOutput out = ByteStreams.newDataOutput();\r\n     out.writeUTF(&quot;ConnectOther&quot;);\r\n     out.writeUTF(&quot;Example&quot;);\r\n     out.writeUTF(&quot;pvp&quot;);\r\n     //Any online player at all.\r\n     //Aka Pull To Server.\r\n     Player player = Iterables.getFirst(Bukkit.getOnlinePlayers(), null);\r\n     player.sendPluginMessage(this, &quot;BungeeCord&quot;, out.toByteArray());\r\n\r\nYou can not send a message to Bungee without any online players!\r\n\r\n","title":"How do I change the server of a player Bungeecord","body":"<p><strong>From Bungee Plugins:</strong></p>\n<p>See <a href=\"https://www.spigotmc.org/wiki/sending-players-between-servers-in-bungeecord/\" rel=\"nofollow noreferrer\">https://www.spigotmc.org/wiki/sending-players-between-servers-in-bungeecord/</a></p>\n<pre><code>ServerInfo target = ProxyServer.getInstance().getServerInfo(&quot;Hub&quot;);\nplayer.connect(target);\n</code></pre>\n<p><strong>From Spigot Plugins:</strong></p>\n<p>See <a href=\"https://www.spigotmc.org/wiki/bukkit-bungee-plugin-messaging-channel/#connect\" rel=\"nofollow noreferrer\">https://www.spigotmc.org/wiki/bukkit-bungee-plugin-messaging-channel/#connect</a></p>\n<p>Connect Example to server.\n(Used when <code>Example</code> is a player connected to the server sending the command, e.g. 'kick' to server)</p>\n<pre><code> ByteArrayDataOutput out = ByteStreams.newDataOutput();\n out.writeUTF(&quot;Connect&quot;);\n out.writeUTF(&quot;pvp&quot;);    \n //applies to the player you send it to. aka Kick To Server.\n Player player = Bukkit.getPlayerExact(&quot;Example&quot;);\n player.sendPluginMessage(this, &quot;BungeeCord&quot;, out.toByteArray());\n</code></pre>\n<p>ConnectOther Example to server. (Used when you need to pull a player out of another server on the network, care should be used to make sure they arn't mid-minigame or something, as you won't necessarily have the server-state context of the player)</p>\n<pre><code> ByteArrayDataOutput out = ByteStreams.newDataOutput();\n out.writeUTF(&quot;ConnectOther&quot;);\n out.writeUTF(&quot;Example&quot;);\n out.writeUTF(&quot;pvp&quot;);\n //Any online player at all.\n //Aka Pull To Server.\n Player player = Iterables.getFirst(Bukkit.getOnlinePlayers(), null);\n player.sendPluginMessage(this, &quot;BungeeCord&quot;, out.toByteArray());\n</code></pre>\n<p>You can not send a message to Bungee without any online players!</p>\n"}],"owner":{"account_id":7718919,"reputation":72,"user_id":5845719,"accept_rate":67,"display_name":"Auscyber"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12359,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":44772592,"answer_count":1,"score":-3,"last_activity_date":1641194941,"creation_date":1498278657,"question_id":44732762,"body_markdown":"I was wondering how I can move the target server of the player I dont have any code so far and I have found nothing but I am making a plugin for private use for my Minecraft server network. I do already have a plugin called [Command Sync](https://www.spigotmc.org/resources/commandsync.115/) which links my BungeeCord Server and my Spigot Servers with &lt;code&gt;sync console bungee send @p tntwars&lt;/code&gt; in vanilla where &lt;code&gt;tntwars&lt;/code&gt; is my target server.\r\nThis is all I know because the Spigot forums are terrible and useless&gt;\r\n\r\nHow do I move that player to another server?\r\n\r\n","title":"How do I change the server of a player Bungeecord","body":"<p>I was wondering how I can move the target server of the player I dont have any code so far and I have found nothing but I am making a plugin for private use for my Minecraft server network. I do already have a plugin called <a href=\"https://www.spigotmc.org/resources/commandsync.115/\" rel=\"nofollow noreferrer\">Command Sync</a> which links my BungeeCord Server and my Spigot Servers with <code>sync console bungee send @p tntwars</code> in vanilla where <code>tntwars</code> is my target server.\nThis is all I know because the Spigot forums are terrible and useless&gt;</p>\n<p>How do I move that player to another server?</p>\n"},{"tags":["java","ssh","jsch"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1517564908,"creation_date":1506018496,"answer_id":46350885,"question_id":46349113,"body_markdown":"The &quot;exec&quot; channel in the JSch (rightfully) does not allocate a pseudo terminal (PTY) for the session by default. As a consequence a different set of startup scripts is (might be) sourced. And/or different branches in the scripts are taken, based on absence/presence of the `TERM` environment variable. So the environment might differ from the interactive JSch &quot;shell&quot; session or when you use your SSH client.\r\n\r\n---\r\n\r\nWays to fix this:\r\n\r\n1. Fix your startup scripts to set the environment variables the same for both interactive and non-interactive sessions.\r\n\r\n2. Another (not recommended) approach is to force the pseudo terminal allocation for the &quot;exec&quot; channel using the `.setPty` method:\r\n\r\n        Channel channel=session.openChannel(&quot;exec&quot;);\r\n        ((ChannelExec)channel).setPty(true);\r\n\r\n    Using the pseudo terminal to automate a command execution can bring you nasty side effects. See for example \r\n\r\n    - https://stackoverflow.com/q/33291631/850848\r\n    - https://stackoverflow.com/q/44276916/850848\r\n    - https://stackoverflow.com/q/40142559/850848\r\n\r\n---\r\n\r\nFor a similar issues, see\r\n\r\n- https://stackoverflow.com/q/40021860/850848\r\n- https://stackoverflow.com/q/41985191/850848","title":"JSch: Is there a way to expose user environment variables to &quot;exec&quot; channel?","body":"<p>The \"exec\" channel in the JSch (rightfully) does not allocate a pseudo terminal (PTY) for the session by default. As a consequence a different set of startup scripts is (might be) sourced. And/or different branches in the scripts are taken, based on absence/presence of the <code>TERM</code> environment variable. So the environment might differ from the interactive JSch \"shell\" session or when you use your SSH client.</p>\n\n<hr>\n\n<p>Ways to fix this:</p>\n\n<ol>\n<li><p>Fix your startup scripts to set the environment variables the same for both interactive and non-interactive sessions.</p></li>\n<li><p>Another (not recommended) approach is to force the pseudo terminal allocation for the \"exec\" channel using the <code>.setPty</code> method:</p>\n\n<pre><code>Channel channel=session.openChannel(\"exec\");\n((ChannelExec)channel).setPty(true);\n</code></pre>\n\n<p>Using the pseudo terminal to automate a command execution can bring you nasty side effects. See for example </p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/q/33291631/850848\">Is there a simple way to get rid of junk values that come when you SSH using Python&#39;s Paramiko library and fetch output from CLI of a remote machine?</a></li>\n<li><a href=\"https://stackoverflow.com/q/44276916/850848\">Remove of unwanted characters when i am using jsch to run command</a></li>\n<li><a href=\"https://stackoverflow.com/q/40142559/850848\">Removing shell stuff (like prompts) from command output in JSch</a></li>\n</ul></li>\n</ol>\n\n<hr>\n\n<p>For a similar issues, see</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/q/40021860/850848\">Certain Unix commands fail with &quot;... not found&quot;, when executed through Java using JSch</a></li>\n<li><a href=\"https://stackoverflow.com/q/41985191/850848\">Commands executed using JSch behaves differently than in SSH terminal (bypasses confirm prompt message of &quot;yes/&quot;no&quot;)</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2575173,"reputation":152,"user_id":2233033,"display_name":"Zyxer22"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1506028112,"creation_date":1506028112,"answer_id":46353193,"question_id":46349113,"body_markdown":"Since you&#39;re not opening up an interactive shell, your environment variables won&#39;t be set. However, you can use the bash command with --login (man bash for more details) to get the results you want\r\n\r\n    bash --login -c &#39;command arg1 ...&#39;&quot;","title":"JSch: Is there a way to expose user environment variables to &quot;exec&quot; channel?","body":"<p>Since you're not opening up an interactive shell, your environment variables won't be set. However, you can use the bash command with --login (man bash for more details) to get the results you want</p>\n\n<pre><code>bash --login -c 'command arg1 ...'\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10171463,"reputation":71,"user_id":7511632,"display_name":"kkid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607334496,"creation_date":1607334496,"answer_id":65179376,"question_id":46349113,"body_markdown":"I was able to fix this issue by setting the environment variable in the .bashrc file. Setting the environment variable through setEnv method did not help me.","title":"JSch: Is there a way to expose user environment variables to &quot;exec&quot; channel?","body":"<p>I was able to fix this issue by setting the environment variable in the .bashrc file. Setting the environment variable through setEnv method did not help me.</p>\n"}],"owner":{"account_id":3891713,"reputation":41,"user_id":3221714,"display_name":"user3221714"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3131,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":46353193,"answer_count":3,"score":2,"last_activity_date":1641194858,"creation_date":1506012123,"question_id":46349113,"body_markdown":"I am trying to run commands which uses local Linux logical paths like `cat $test_dir/test.dat`, but the logical path `$test_dir` (which is a user environment variable) is not available via `ChannelExec`. But when I use interactive `ChannelShell`, I am able to see the user variables and the commands run fine on the interactive session. I can view system level environment variable only from &quot;exec&quot; session. Is that even possible using JSch library, if yes then how shall I achieve it and if not what library shall I use to achieve this?\r\n\r\nAdding my class code below:\r\n```public class SecureShell {\r\n\t\r\n\tprivate static final Logger logger = LogManager.getLogger(SecureShell.class);\r\n\t\r\n\tprivate String uName;\r\n\tprivate String pWord;\r\n\tprivate String hName;\r\n\tprivate int port;\r\n\t\r\n\tprivate Session session = null;\r\n\tprivate Channel channel = null;\r\n\t\r\n\t/**Create an instance to start and stop the remote shell and execute commands\r\n     * remotely via java.\r\n\t * \r\n\t * @param uName\r\n\t * \t\t\thost username \r\n\t * @param pWord\r\n\t * \t\t\thost password\r\n\t * @param hName\r\n\t * \t\t\thost name\r\n\t * @param port\r\n\t * \t\t\thost port number\r\n\t */\r\n\tpublic SecureShell(String uName, String pWord, String hName, int port) {\r\n\t\tthis.uName = uName;\r\n\t\tthis.pWord = pWord;\r\n\t\tthis.hName = hName;\r\n\t\tthis.port = port;\r\n\t}\r\n\t\r\n\t/**Create an instance to start and stop the remote shell and execute commands\r\n     * remotely via java.\r\n\t * \r\n\t *@param uName\r\n\t * \t\t\thost username \r\n\t * @param pWord\r\n\t * \t\t\thost password\r\n\t * @param hName\r\n\t * \t\t\thost name\r\n\t */\r\n\tpublic SecureShell(String uName, String pWord, String hName) {\r\n\t\tthis.uName = uName;\r\n\t\tthis.pWord = pWord;\r\n\t\tthis.hName = hName;\r\n\t\tthis.port = 22;\r\n\t}\r\n\t\r\n\t/**Start the session with the host.\r\n\t * @return\r\n\t * \t\ttrue if the session started successfully, false otherwise\r\n\t */\r\n\tpublic boolean startSession() {\r\n\t\tJSch jsch = new JSch();\r\n\t\ttry {\r\n\t\t\tsession = jsch.getSession(uName, hName, port);\r\n\t\t\t\r\n\t\t\tjava.util.Properties config = new java.util.Properties();\r\n\t\t\tconfig.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n\t\t\tsession.setConfig(config);\r\n\t\t\tsession.setPassword(pWord);\r\n\t\t\tsession.connect();\r\n\t\t\t\r\n\t\t} catch (JSchException jsche) {\r\n\t\t\tlogger.error(jsche.getMessage());\r\n\t\t    return false;\r\n\t\t} \r\n\t\t\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\t/** Execute commands on the host;\r\n\t * @param command\r\n\t * \t\t\tcommand to be executed on the host.\r\n\t * @return\r\n\t * \t\tstatus of the execution\r\n\t */\r\n\tpublic int execute(String command) {\r\n\t\t\r\n\t\tint status = -1;\r\n\t\tif(session != null &amp;&amp; session.isConnected()) {\r\n\t\t\ttry {\r\n\t\t\t\tchannel = session.openChannel(&quot;exec&quot;);\r\n\t\t\t\t//((ChannelExec)channel).setEnv(&quot;LC_XXX&quot;, &quot;xxxxxxx&quot;);\r\n\t\t\t\t((ChannelExec)channel).setPty(true);\r\n\t\t\t\t((ChannelExec) channel).setCommand(command);\r\n\t\t\t\t\r\n\t\t\t\tInputStream in = channel.getInputStream();\r\n\t\t\r\n\t\t\t\tchannel.connect();\r\n\t\t\t\t\r\n\t\t\t\t byte[] buffer = new byte[1024];\r\n\t\t\t     while(true){\r\n\t\t\t    \t while(in.available()&gt;0){\r\n\t\t\t    \t\t int i=in.read(buffer, 0, 1024);\r\n\t\t\t    \t\t System.out.print(new String(buffer, 0, i));\r\n\t\t\t    \t\t if(i&lt;0)\r\n\t\t\t    \t\t\t break;\r\n\t\t\t    \t}\r\n\t\t\t    \t if(channel.isClosed()){\r\n\t\t\t    \t\t if(in.available()&gt;0) \r\n\t\t\t    \t\t\t continue; \r\n\t\t\t    \t\t status = channel.getExitStatus();\r\n\t\t\t    \t\t break;\r\n\t\t\t    \t }\r\n\t\t\t    }\r\n\t\t\t} catch (JSchException jsche) {\r\n\t\t\t\tlogger.error(jsche.getMessage());\r\n\t\t\t} catch (IOException ioe) {\r\n\t\t\t\tlogger.error(ioe.getMessage());\r\n\t\t\t} finally {\r\n\t\t\t\tif(channel!=null &amp;&amp; channel.isConnected())\r\n\t\t\t\t\tchannel.disconnect();\r\n\t\t\t} \r\n\t\t}\r\n\t\t\r\n\t\treturn status;\r\n\t}\r\n\t\r\n\t/**Stop the session with the remote.\r\n\t * \r\n\t */\r\n\tpublic void stopSession() {\r\n\t\t\r\n\t\tif(session!=null &amp;&amp; session.isConnected())\r\n\t\t\tsession.disconnect();\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSecureShell ssh  = new SecureShell(&quot;user&quot;, &quot;password&quot;, &quot;hostname&quot;);\r\n\t\tssh.startSession();\r\n\t\tSystem.out.println(ssh.execute(&quot;env&quot;));\r\n\t\tssh.stopSession();\r\n\t}\r\n}\r\n```","title":"JSch: Is there a way to expose user environment variables to &quot;exec&quot; channel?","body":"<p>I am trying to run commands which uses local Linux logical paths like <code>cat $test_dir/test.dat</code>, but the logical path <code>$test_dir</code> (which is a user environment variable) is not available via <code>ChannelExec</code>. But when I use interactive <code>ChannelShell</code>, I am able to see the user variables and the commands run fine on the interactive session. I can view system level environment variable only from &quot;exec&quot; session. Is that even possible using JSch library, if yes then how shall I achieve it and if not what library shall I use to achieve this?</p>\n<p>Adding my class code below:</p>\n<pre><code>    \n    private static final Logger logger = LogManager.getLogger(SecureShell.class);\n    \n    private String uName;\n    private String pWord;\n    private String hName;\n    private int port;\n    \n    private Session session = null;\n    private Channel channel = null;\n    \n    /**Create an instance to start and stop the remote shell and execute commands\n     * remotely via java.\n     * \n     * @param uName\n     *          host username \n     * @param pWord\n     *          host password\n     * @param hName\n     *          host name\n     * @param port\n     *          host port number\n     */\n    public SecureShell(String uName, String pWord, String hName, int port) {\n        this.uName = uName;\n        this.pWord = pWord;\n        this.hName = hName;\n        this.port = port;\n    }\n    \n    /**Create an instance to start and stop the remote shell and execute commands\n     * remotely via java.\n     * \n     *@param uName\n     *          host username \n     * @param pWord\n     *          host password\n     * @param hName\n     *          host name\n     */\n    public SecureShell(String uName, String pWord, String hName) {\n        this.uName = uName;\n        this.pWord = pWord;\n        this.hName = hName;\n        this.port = 22;\n    }\n    \n    /**Start the session with the host.\n     * @return\n     *      true if the session started successfully, false otherwise\n     */\n    public boolean startSession() {\n        JSch jsch = new JSch();\n        try {\n            session = jsch.getSession(uName, hName, port);\n            \n            java.util.Properties config = new java.util.Properties();\n            config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n            session.setConfig(config);\n            session.setPassword(pWord);\n            session.connect();\n            \n        } catch (JSchException jsche) {\n            logger.error(jsche.getMessage());\n            return false;\n        } \n        \n        return true;\n    }\n    \n    /** Execute commands on the host;\n     * @param command\n     *          command to be executed on the host.\n     * @return\n     *      status of the execution\n     */\n    public int execute(String command) {\n        \n        int status = -1;\n        if(session != null &amp;&amp; session.isConnected()) {\n            try {\n                channel = session.openChannel(&quot;exec&quot;);\n                //((ChannelExec)channel).setEnv(&quot;LC_XXX&quot;, &quot;xxxxxxx&quot;);\n                ((ChannelExec)channel).setPty(true);\n                ((ChannelExec) channel).setCommand(command);\n                \n                InputStream in = channel.getInputStream();\n        \n                channel.connect();\n                \n                 byte[] buffer = new byte[1024];\n                 while(true){\n                     while(in.available()&gt;0){\n                         int i=in.read(buffer, 0, 1024);\n                         System.out.print(new String(buffer, 0, i));\n                         if(i&lt;0)\n                             break;\n                    }\n                     if(channel.isClosed()){\n                         if(in.available()&gt;0) \n                             continue; \n                         status = channel.getExitStatus();\n                         break;\n                     }\n                }\n            } catch (JSchException jsche) {\n                logger.error(jsche.getMessage());\n            } catch (IOException ioe) {\n                logger.error(ioe.getMessage());\n            } finally {\n                if(channel!=null &amp;&amp; channel.isConnected())\n                    channel.disconnect();\n            } \n        }\n        \n        return status;\n    }\n    \n    /**Stop the session with the remote.\n     * \n     */\n    public void stopSession() {\n        \n        if(session!=null &amp;&amp; session.isConnected())\n            session.disconnect();\n    }\n    \n    public static void main(String[] args) {\n        SecureShell ssh  = new SecureShell(&quot;user&quot;, &quot;password&quot;, &quot;hostname&quot;);\n        ssh.startSession();\n        System.out.println(ssh.execute(&quot;env&quot;));\n        ssh.stopSession();\n    }\n}\n</code></pre>\n"},{"tags":["java","gradle","ghidra"],"answers":[{"tags":[],"owner":{"account_id":16726121,"reputation":455,"user_id":12089702,"display_name":"Stan van der Bend"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1601548570,"creation_date":1601548570,"answer_id":64153621,"question_id":64153532,"body_markdown":"Are you using an IDE? Make sure that in your Gradle settings, Gradle is using the same java version as your project, this can be easily configured in Intellij https://www.jetbrains.com/help/idea/gradle-jvm-selection.html#jdk_existing_project ","title":"gradle Could not target platform: &#39;Java SE 11&#39; using tool chain: &#39;JDK 8 (1.8)&#39;","body":"<p>Are you using an IDE? Make sure that in your Gradle settings, Gradle is using the same java version as your project, this can be easily configured in Intellij <a href=\"https://www.jetbrains.com/help/idea/gradle-jvm-selection.html#jdk_existing_project\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/gradle-jvm-selection.html#jdk_existing_project</a></p>\n"},{"tags":[],"owner":{"account_id":1884162,"reputation":7056,"user_id":1703730,"display_name":"Bj&#248;rn Vester"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1601554899,"creation_date":1601554899,"answer_id":64155305,"question_id":64153532,"body_markdown":"Gradle uses the java distribution defined in your `JAVA_HOME` environment variable - it does not look at the java executable in your path. So make sure this variable points to a valid JDK 11 path. You can verify if it is set up correctly by running `gradle --version`, e.g.\r\n\r\n    $ echo %JAVA_HOME%\r\n    C:\\Work\\JDKs\\jdk-11.0.8+10\r\n\r\n\r\n    $ gradle --version\r\n    \r\n    ------------------------------------------------------------\r\n    Gradle 6.6\r\n    ------------------------------------------------------------\r\n    \r\n    Build time:   2020-08-10 22:06:19 UTC\r\n    Revision:     d119144684a0c301aea027b79857815659e431b9\r\n    \r\n    Kotlin:       1.3.72\r\n    Groovy:       2.5.12\r\n    Ant:          Apache Ant(TM) version 1.10.8 compiled on May 10 2020\r\n    JVM:          11.0.8 (AdoptOpenJDK 11.0.8+10)\r\n    OS:           Windows 10 10.0 amd64\r\n\r\n(Notice the JVM part above.)","title":"gradle Could not target platform: &#39;Java SE 11&#39; using tool chain: &#39;JDK 8 (1.8)&#39;","body":"<p>Gradle uses the java distribution defined in your <code>JAVA_HOME</code> environment variable - it does not look at the java executable in your path. So make sure this variable points to a valid JDK 11 path. You can verify if it is set up correctly by running <code>gradle --version</code>, e.g.</p>\n<pre><code>$ echo %JAVA_HOME%\nC:\\Work\\JDKs\\jdk-11.0.8+10\n\n\n$ gradle --version\n\n------------------------------------------------------------\nGradle 6.6\n------------------------------------------------------------\n\nBuild time:   2020-08-10 22:06:19 UTC\nRevision:     d119144684a0c301aea027b79857815659e431b9\n\nKotlin:       1.3.72\nGroovy:       2.5.12\nAnt:          Apache Ant(TM) version 1.10.8 compiled on May 10 2020\nJVM:          11.0.8 (AdoptOpenJDK 11.0.8+10)\nOS:           Windows 10 10.0 amd64\n</code></pre>\n<p>(Notice the JVM part above.)</p>\n"},{"tags":[],"owner":{"account_id":4088741,"reputation":6300,"user_id":3357352,"accept_rate":97,"display_name":"OrenIshShalom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1601615146,"creation_date":1601615146,"answer_id":64166410,"question_id":64153532,"body_markdown":" - It turns out that `gradle` *was* after all the one to blame.\r\n - Probably similar to [this post][1], I upgraded to [gradle-6.7][2].\r\n - Then, calling `gradle-6.7 --version`, **without any JAVA_HOME change whatsoever**, I got:\r\n```\r\n\r\n------------------------------------------------------------\r\nGradle 6.7-rc-3\r\n------------------------------------------------------------\r\n\r\nBuild time:   2020-09-30 19:16:51 UTC\r\nRevision:     836e96a80625c9c48b612e662e3b13bd2e2f4c3b\r\n\r\nKotlin:       1.3.72\r\nGroovy:       2.5.12\r\nAnt:          Apache Ant(TM) version 1.10.8 compiled on May 10 2020\r\nJVM:          11.0.8 (Ubuntu 11.0.8+10-post-Ubuntu-0ubuntu118.04.1)\r\nOS:           Linux 5.4.0-48-generic amd64\r\n```\r\nWhich probably &quot;proves&quot; gradle is indeed the one to blame\r\n\r\n  [1]: https://stackoverflow.com/questions/22307516/gradle-finds-wrong-java-home-even-though-its-correctly-set\r\n  [2]: https://services.gradle.org/distributions/gradle-6.7-rc-3-bin.zip","title":"gradle Could not target platform: &#39;Java SE 11&#39; using tool chain: &#39;JDK 8 (1.8)&#39;","body":"<ul>\n<li>It turns out that <code>gradle</code> <em>was</em> after all the one to blame.</li>\n<li>Probably similar to <a href=\"https://stackoverflow.com/questions/22307516/gradle-finds-wrong-java-home-even-though-its-correctly-set\">this post</a>, I upgraded to <a href=\"https://services.gradle.org/distributions/gradle-6.7-rc-3-bin.zip\" rel=\"nofollow noreferrer\">gradle-6.7</a>.</li>\n<li>Then, calling <code>gradle-6.7 --version</code>, <strong>without any JAVA_HOME change whatsoever</strong>, I got:</li>\n</ul>\n<pre><code>\n------------------------------------------------------------\nGradle 6.7-rc-3\n------------------------------------------------------------\n\nBuild time:   2020-09-30 19:16:51 UTC\nRevision:     836e96a80625c9c48b612e662e3b13bd2e2f4c3b\n\nKotlin:       1.3.72\nGroovy:       2.5.12\nAnt:          Apache Ant(TM) version 1.10.8 compiled on May 10 2020\nJVM:          11.0.8 (Ubuntu 11.0.8+10-post-Ubuntu-0ubuntu118.04.1)\nOS:           Linux 5.4.0-48-generic amd64\n</code></pre>\n<p>Which probably &quot;proves&quot; gradle is indeed the one to blame</p>\n"},{"tags":[],"owner":{"account_id":3673566,"reputation":2692,"user_id":3060133,"accept_rate":92,"display_name":"Shirishkumar Bari"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1641194623,"creation_date":1607495844,"answer_id":65211778,"question_id":64153532,"body_markdown":"I got this problem when trying to build using gradle through Intellij.\r\n\r\nIn my case I had two JDK&#39;s JDK1.8 and JDK 11 installed and configured in Intellij. \r\nFor Gradle it was taking JDK1.8 as default JVM. \r\nI solved the issue using below steps : \r\n\r\n 1. Open Intellij\r\n 2. Go to Preferences \r\n 3. Go to &quot;Build, Execution, Deployment&quot; -&gt; &quot;Build Tools&quot; -&gt; Gradle \r\n 4. Search for &quot;Gradle JVM&quot;. Change it to desired JVM \r\n 5. Try to rebuild the app \r\n\r\n\r\n\r\n ","title":"gradle Could not target platform: &#39;Java SE 11&#39; using tool chain: &#39;JDK 8 (1.8)&#39;","body":"<p>I got this problem when trying to build using gradle through Intellij.</p>\n<p>In my case I had two JDK's JDK1.8 and JDK 11 installed and configured in Intellij.\nFor Gradle it was taking JDK1.8 as default JVM.\nI solved the issue using below steps :</p>\n<ol>\n<li>Open Intellij</li>\n<li>Go to Preferences</li>\n<li>Go to &quot;Build, Execution, Deployment&quot; -&gt; &quot;Build Tools&quot; -&gt; Gradle</li>\n<li>Search for &quot;Gradle JVM&quot;. Change it to desired JVM</li>\n<li>Try to rebuild the app</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":22693395,"reputation":1,"user_id":16861958,"display_name":"bradyb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632935754,"creation_date":1632927363,"answer_id":69378789,"question_id":64153532,"body_markdown":"Changing my agent label in the `Jenkinsfile`, to `openjdk11` fixed this error for me.\r\n\r\n    agent {\r\n        label &#39;openjdk11&#39;\r\n    }\r\n\r\n","title":"gradle Could not target platform: &#39;Java SE 11&#39; using tool chain: &#39;JDK 8 (1.8)&#39;","body":"<p>Changing my agent label in the <code>Jenkinsfile</code>, to <code>openjdk11</code> fixed this error for me.</p>\n<pre><code>agent {\n    label 'openjdk11'\n}\n</code></pre>\n"}],"owner":{"account_id":4088741,"reputation":6300,"user_id":3357352,"accept_rate":97,"display_name":"OrenIshShalom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24360,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":64166410,"answer_count":5,"score":15,"last_activity_date":1641194623,"creation_date":1601548171,"question_id":64153532,"body_markdown":" - I&#39;m building ghidra according to the [installation guide][1].\r\nEverything goes fine Until I get [here][2].\r\n - Once I call `$ gradle buildGhidra` I get the following error:\r\n```\r\n&gt; Could not target platform: &#39;Java SE 11&#39; using tool chain: &#39;JDK 8 (1.8)&#39;\r\n```\r\nThis seems weird because I *do* have java 11:\r\n```\r\n$ java --version\r\nopenjdk 11.0.8 2020-07-14\r\nOpenJDK Runtime Environment (build 11.0.8+10-post-Ubuntu-0ubuntu118.04.1)\r\nOpenJDK 64-Bit Server VM (build 11.0.8+10-post-Ubuntu-0ubuntu118.04.1, mixed mode, sharing)\r\n```\r\nWhat am I missing?\r\n\r\n\r\n  [1]: https://github.com/NationalSecurityAgency/ghidra/blob/master/DevGuide.md\r\n  [2]: https://github.com/NationalSecurityAgency/ghidra/blob/master/DevGuide.md#building-ghidra","title":"gradle Could not target platform: &#39;Java SE 11&#39; using tool chain: &#39;JDK 8 (1.8)&#39;","body":"<ul>\n<li>I'm building ghidra according to the <a href=\"https://github.com/NationalSecurityAgency/ghidra/blob/master/DevGuide.md\" rel=\"noreferrer\">installation guide</a>.\nEverything goes fine Until I get <a href=\"https://github.com/NationalSecurityAgency/ghidra/blob/master/DevGuide.md#building-ghidra\" rel=\"noreferrer\">here</a>.</li>\n<li>Once I call <code>$ gradle buildGhidra</code> I get the following error:</li>\n</ul>\n<pre><code>&gt; Could not target platform: 'Java SE 11' using tool chain: 'JDK 8 (1.8)'\n</code></pre>\n<p>This seems weird because I <em>do</em> have java 11:</p>\n<pre><code>$ java --version\nopenjdk 11.0.8 2020-07-14\nOpenJDK Runtime Environment (build 11.0.8+10-post-Ubuntu-0ubuntu118.04.1)\nOpenJDK 64-Bit Server VM (build 11.0.8+10-post-Ubuntu-0ubuntu118.04.1, mixed mode, sharing)\n</code></pre>\n<p>What am I missing?</p>\n"},{"tags":["java","jar","quaternions"],"comments":[{"owner":{"account_id":45775,"reputation":12238,"user_id":135078,"accept_rate":94,"display_name":"Kelly S. French"},"score":0,"creation_date":1350314731,"post_id":12897130,"comment_id":17470614,"body_markdown":"What searches have you tried; what have you found but is inadequate?","body":"What searches have you tried; what have you found but is inadequate?"}],"answers":[{"tags":[],"owner":{"account_id":74486,"reputation":105478,"user_id":214010,"accept_rate":83,"display_name":"mikera"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1350314908,"creation_date":1350314908,"answer_id":12898908,"question_id":12897130,"body_markdown":"The [Jave3D javax.vecmath][1] package has quaternions support (`Quat4D`) and quite a lot of the most common operations are supported. It also has matrix operations that can be applied to quaternions.\r\n\r\nYou will probably find that it fits most of your needs - and it should not be too hard to add any additional operations if you need them.\r\n\r\n\r\n  [1]: http://java.net/projects/vecmath","title":"Is there a library for quaternions and matrices with all the standard operations?","body":"<p>The <a href=\"http://java.net/projects/vecmath\" rel=\"nofollow\">Jave3D javax.vecmath</a> package has quaternions support (<code>Quat4D</code>) and quite a lot of the most common operations are supported. It also has matrix operations that can be applied to quaternions.</p>\n\n<p>You will probably find that it fits most of your needs - and it should not be too hard to add any additional operations if you need them.</p>\n"},{"tags":[],"owner":{"account_id":1039514,"reputation":1970,"user_id":1045902,"accept_rate":100,"display_name":"DPM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519136445,"creation_date":1519136445,"answer_id":48887359,"question_id":12897130,"body_markdown":"There is also JME3&#39;s [Quaternion][1]. JME3 classes&#39; interface and javadoc is substandard. Also it uses float precision everywhere. I would only use it if performance is an issue, for example in a game.\r\n\r\n\r\n  [1]: http://javadoc.jmonkeyengine.org/com/jme3/math/Quaternion.html","title":"Is there a library for quaternions and matrices with all the standard operations?","body":"<p>There is also JME3's <a href=\"http://javadoc.jmonkeyengine.org/com/jme3/math/Quaternion.html\" rel=\"nofollow noreferrer\">Quaternion</a>. JME3 classes' interface and javadoc is substandard. Also it uses float precision everywhere. I would only use it if performance is an issue, for example in a game.</p>\n"},{"tags":[],"owner":{"account_id":960660,"reputation":4565,"user_id":985088,"accept_rate":90,"display_name":"Hephaestus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641194363,"creation_date":1641194363,"answer_id":70562671,"question_id":12897130,"body_markdown":"Apache has Quaternion support in [org.apache.commons.math3.complex][1].\r\nIt seems to have the usual required operations.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-math/javadocs/api-3.4/org/apache/commons/math3/complex/Quaternion.html","title":"Is there a library for quaternions and matrices with all the standard operations?","body":"<p>Apache has Quaternion support in <a href=\"https://commons.apache.org/proper/commons-math/javadocs/api-3.4/org/apache/commons/math3/complex/Quaternion.html\" rel=\"nofollow noreferrer\">org.apache.commons.math3.complex</a>.\nIt seems to have the usual required operations.</p>\n"}],"owner":{"account_id":1248853,"reputation":137,"user_id":1209700,"accept_rate":100,"display_name":"manfred reichelt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2667,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":12898908,"answer_count":3,"score":6,"last_activity_date":1641194363,"creation_date":1350309285,"question_id":12897130,"body_markdown":"is there a java library which can handle quaternions and matrices (quaternion matrix multiplication) with all the standard operations?\r\n\r\n(i searched google and here before - but didnt find any adequate solution)\r\n","title":"Is there a library for quaternions and matrices with all the standard operations?","body":"<p>is there a java library which can handle quaternions and matrices (quaternion matrix multiplication) with all the standard operations?</p>\n\n<p>(i searched google and here before - but didnt find any adequate solution)</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8278,"page":1714,"page_size":100}
