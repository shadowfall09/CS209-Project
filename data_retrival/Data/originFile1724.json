{"items":[{"tags":["java","json"],"comments":[{"owner":{"account_id":121787,"reputation":11660,"user_id":315129,"accept_rate":93,"display_name":"vbezhenar"},"score":1,"creation_date":1640851963,"post_id":70528595,"comment_id":124674025,"body_markdown":"The proper way with Java is to use object mapping, rather than dealing with raw `Map`/`List`. Write classes corresponding to your JSON structure, deserialize your JSON into those classes and code will be much easier to read and write.","body":"The proper way with Java is to use object mapping, rather than dealing with raw <code>Map</code>/<code>List</code>. Write classes corresponding to your JSON structure, deserialize your JSON into those classes and code will be much easier to read and write."},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1640852915,"post_id":70528595,"comment_id":124674279,"body_markdown":"Is it a school assignment where you are required to tinker with raw maps/lists and avoid using object-oriented approach?  The expected output seems to comply with the code as soon as all the compilation errors about missing casting are resolved.  So it is not quite clear which hypothetical map you need to flatten and which result is expected.","body":"Is it a school assignment where you are required to tinker with raw maps/lists and avoid using object-oriented approach?  The expected output seems to comply with the code as soon as all the compilation errors about missing casting are resolved.  So it is not quite clear which hypothetical map you need to flatten and which result is expected."},{"owner":{"account_id":19965141,"reputation":1690,"user_id":14631885,"display_name":"Dhana D."},"score":0,"creation_date":1640919536,"post_id":70528595,"comment_id":124691546,"body_markdown":"@AlexRudenko No. It&#39;s not school assignment. But I just don&#39;t know yet if there&#39;s another way to do this.","body":"@AlexRudenko No. It&#39;s not school assignment. But I just don&#39;t know yet if there&#39;s another way to do this."},{"owner":{"account_id":19965141,"reputation":1690,"user_id":14631885,"display_name":"Dhana D."},"score":0,"creation_date":1640919672,"post_id":70528595,"comment_id":124691565,"body_markdown":"@vbezhenar u mean making a POJO for it? I have thought about it before, but why is it necessary to create a class that is just used once? Could you please elaborate it in the answer?","body":"@vbezhenar u mean making a POJO for it? I have thought about it before, but why is it necessary to create a class that is just used once? Could you please elaborate it in the answer?"}],"owner":{"account_id":19965141,"reputation":1690,"user_id":14631885,"display_name":"Dhana D."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640849188,"creation_date":1640849188,"question_id":70528595,"body_markdown":"I have a nested map which is the result of an API like below:\r\n\r\n```json\r\n{\r\n  &quot;code&quot;: 200,\r\n  &quot;status_message&quot;: &quot;OK&quot;,\r\n  &quot;category_list&quot;: [\r\n      {\r\n        &quot;category_name&quot;: &quot;fragile&quot;,\r\n        &quot;results&quot;: [\r\n            {\r\n              &quot;item_id&quot;: &quot;001A&quot;,\r\n              &quot;item_name&quot;: &quot;glass&quot;,\r\n              &quot;certificate_id&quot;: &quot;A9812EJ0D7CBN12109&quot;\r\n            },\r\n            {\r\n              &quot;item_id&quot;: &quot;002A&quot;,\r\n              &quot;item_name&quot;: &quot;porcelain&quot;,\r\n              &quot;certificate_id&quot;: &quot;BCQ8018347503048P1&quot;\r\n            }\r\n          ]\r\n      },\r\n      {\r\n        &quot;category_name&quot;: &quot;hard&quot;,\r\n        &quot;results&quot;: [\r\n            {\r\n              &quot;item_id&quot;: &quot;001B&quot;,\r\n              &quot;item_name&quot;: &quot;rock&quot;,\r\n              &quot;certificate_id&quot;: &quot;P1024184INDHDGA831&quot;\r\n            },\r\n            {\r\n              &quot;item_id&quot;: &quot;002B&quot;,\r\n              &quot;item_name&quot;: &quot;diamond&quot;,\r\n              &quot;certificate_id&quot;: &quot;YDQI3910371H7D39ZX&quot;\r\n            }\r\n          ]\r\n      }\r\n    ]\r\n}\r\n```\r\n\r\nI just need to extract the `item_name` and the `item_id` from the `result` of the fragile items only, so the expected output would be like this:\r\n\r\n```json\r\n{\r\n  &quot;code&quot;: 200,\r\n  &quot;results&quot;: [\r\n    {\r\n      &quot;id&quot;: &quot;001A&quot;,\r\n      &quot;name&quot;: &quot;glass&quot;\r\n    },\r\n    {\r\n      &quot;id&quot;: &quot;002A&quot;,\r\n      &quot;name&quot;: &quot;porcelain&quot;\r\n    },\r\n  ]\r\n}\r\n```\r\n\r\nSuppose that I store the result of API (the first JSON) in a variable named `apiResult` which is the `Map` type. Here is what I have done to obtain the data:\r\n\r\n```java\r\nList results = ((Map) ((List) apiResult.get(&quot;category_list&quot;)).get(0)).get(&quot;results&quot;);\r\nList results = new ArrayList&lt;&gt;();\r\nfor(Object r : results) {\r\n    Map inner = new HashMap();\r\n    inner.put(&quot;name&quot;, r.get(&quot;item_name&quot;));\r\n    inner.put(&quot;id&quot;, r.get(&quot;item_id&quot;));\r\n    finalResult.add(inner);\r\n}\r\nMap result = new HashMap();\r\nresult.put(&quot;code&quot;, 200);\r\nresult.put(&quot;results&quot;, finalResult);\r\nreturn result;\r\n```\r\n\r\nIs there anyway to flatten the map or simplifying the process so when it&#39;s more nested and complicated combination of Objects and Arrays in the JSON, it can handle it a bit more efficiently?\r\n","title":"Is there any way to extract some key, value pairs from nested map that have both map and list children in Java?","body":"<p>I have a nested map which is the result of an API like below:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;code&quot;: 200,\n  &quot;status_message&quot;: &quot;OK&quot;,\n  &quot;category_list&quot;: [\n      {\n        &quot;category_name&quot;: &quot;fragile&quot;,\n        &quot;results&quot;: [\n            {\n              &quot;item_id&quot;: &quot;001A&quot;,\n              &quot;item_name&quot;: &quot;glass&quot;,\n              &quot;certificate_id&quot;: &quot;A9812EJ0D7CBN12109&quot;\n            },\n            {\n              &quot;item_id&quot;: &quot;002A&quot;,\n              &quot;item_name&quot;: &quot;porcelain&quot;,\n              &quot;certificate_id&quot;: &quot;BCQ8018347503048P1&quot;\n            }\n          ]\n      },\n      {\n        &quot;category_name&quot;: &quot;hard&quot;,\n        &quot;results&quot;: [\n            {\n              &quot;item_id&quot;: &quot;001B&quot;,\n              &quot;item_name&quot;: &quot;rock&quot;,\n              &quot;certificate_id&quot;: &quot;P1024184INDHDGA831&quot;\n            },\n            {\n              &quot;item_id&quot;: &quot;002B&quot;,\n              &quot;item_name&quot;: &quot;diamond&quot;,\n              &quot;certificate_id&quot;: &quot;YDQI3910371H7D39ZX&quot;\n            }\n          ]\n      }\n    ]\n}\n</code></pre>\n<p>I just need to extract the <code>item_name</code> and the <code>item_id</code> from the <code>result</code> of the fragile items only, so the expected output would be like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;code&quot;: 200,\n  &quot;results&quot;: [\n    {\n      &quot;id&quot;: &quot;001A&quot;,\n      &quot;name&quot;: &quot;glass&quot;\n    },\n    {\n      &quot;id&quot;: &quot;002A&quot;,\n      &quot;name&quot;: &quot;porcelain&quot;\n    },\n  ]\n}\n</code></pre>\n<p>Suppose that I store the result of API (the first JSON) in a variable named <code>apiResult</code> which is the <code>Map</code> type. Here is what I have done to obtain the data:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List results = ((Map) ((List) apiResult.get(&quot;category_list&quot;)).get(0)).get(&quot;results&quot;);\nList results = new ArrayList&lt;&gt;();\nfor(Object r : results) {\n    Map inner = new HashMap();\n    inner.put(&quot;name&quot;, r.get(&quot;item_name&quot;));\n    inner.put(&quot;id&quot;, r.get(&quot;item_id&quot;));\n    finalResult.add(inner);\n}\nMap result = new HashMap();\nresult.put(&quot;code&quot;, 200);\nresult.put(&quot;results&quot;, finalResult);\nreturn result;\n</code></pre>\n<p>Is there anyway to flatten the map or simplifying the process so when it's more nested and complicated combination of Objects and Arrays in the JSON, it can handle it a bit more efficiently?</p>\n"},{"tags":["java","websphere","ibm-mq"],"comments":[{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":2,"creation_date":1640849743,"post_id":70528578,"comment_id":124673498,"body_markdown":"This looks normal for what you described: [3065 (0BF9) (RC3065): MQRCCF_CHL_STATUS_NOT_FOUND](https://www.ibm.com/docs/en/SSFKSJ_9.2.0/com.ibm.mq.tro.doc/q046620_.html), the lack of channel status means it is INACTIVE.  Every other status would be returned,  for example RUNNING or STOPPED.","body":"This looks normal for what you described: <a href=\"https://www.ibm.com/docs/en/SSFKSJ_9.2.0/com.ibm.mq.tro.doc/q046620_.html\" rel=\"nofollow noreferrer\">3065 (0BF9) (RC3065): MQRCCF_CHL_STATUS_NOT_FOUND</a>, the lack of channel status means it is INACTIVE.  Every other status would be returned,  for example RUNNING or STOPPED."},{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1640851644,"post_id":70528578,"comment_id":124673942,"body_markdown":"Agree with @JoshMc above comment. If your channel (of any type) is inactive, this means it has no status to be returned. You will see the same behaviour if you try the `runmqsc` equivalent command, `DISPLAY CHSTATUS(*)`","body":"Agree with @JoshMc above comment. If your channel (of any type) is inactive, this means it has no status to be returned. You will see the same behaviour if you try the <code>runmqsc</code> equivalent command, <code>DISPLAY CHSTATUS(*)</code>"}],"owner":{"account_id":17617723,"reputation":105,"user_id":12823863,"display_name":"SP QRT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640849030,"creation_date":1640849030,"question_id":70528578,"body_markdown":"There are two *inactive* channels in my mq named SYS1.SC and SYS2.SC with &quot;Server-connection&quot; type, I am trying to get their status using the code below:\r\n```java\r\nqueueManage = new MQQueueManager(name);\r\nPCFMessageAgent agent = new PCFMessageAgent(queueManager);\r\nPCFMessage reqChStatus = new PCFMessage();\r\nreqChStatus.addParameter(MQConstants.MQCACH_CHANNEL_NAME, &quot;*&quot;);\r\nreqChStatus.addParameter(MQConstants.MQIACH_CHANNEL_INSTANCE_ATTRS, \r\n         new int[] {\r\n             MQConstants.MQCACH_CHANNEL_NAME,\r\n             MQConstants.MQIACH_CHANNEL_STATUS\r\n         });\r\nPCFMessage[] resp = agent.send(reqChStatus);\r\n\r\n```\r\nAnd i got exception on &quot;agent.send(msg)&quot; with message:    \r\n***PCFException: MQJE001: Completition code &#39;2&#39;, Reason &#39;3065&#39;***  \r\nI expect it returns an empty message array if channels is inactive, so can someone help me with this, please.","title":"IBM PCF agent returns 3506 error while inquiring channel status","body":"<p>There are two <em>inactive</em> channels in my mq named SYS1.SC and SYS2.SC with &quot;Server-connection&quot; type, I am trying to get their status using the code below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>queueManage = new MQQueueManager(name);\nPCFMessageAgent agent = new PCFMessageAgent(queueManager);\nPCFMessage reqChStatus = new PCFMessage();\nreqChStatus.addParameter(MQConstants.MQCACH_CHANNEL_NAME, &quot;*&quot;);\nreqChStatus.addParameter(MQConstants.MQIACH_CHANNEL_INSTANCE_ATTRS, \n         new int[] {\n             MQConstants.MQCACH_CHANNEL_NAME,\n             MQConstants.MQIACH_CHANNEL_STATUS\n         });\nPCFMessage[] resp = agent.send(reqChStatus);\n\n</code></pre>\n<p>And i got exception on &quot;agent.send(msg)&quot; with message:<br />\n<em><strong>PCFException: MQJE001: Completition code '2', Reason '3065'</strong></em><br />\nI expect it returns an empty message array if channels is inactive, so can someone help me with this, please.</p>\n"},{"tags":["java","sql","oracle","oracle11g"],"comments":[{"owner":{"account_id":7551181,"reputation":3744,"user_id":5732537,"display_name":"EdStevens"},"score":0,"creation_date":1640871642,"post_id":70528492,"comment_id":124679746,"body_markdown":"I&#39;d think the developer -- in his role as the _developer_  -- would already know that the table is not to be used, and would have been involved in removing the table from the test system, and subsequently the production system.","body":"I&#39;d think the developer -- in his role as the <i>developer</i>  -- would already know that the table is not to be used, and would have been involved in removing the table from the test system, and subsequently the production system."}],"answers":[{"tags":[],"owner":{"account_id":12498833,"reputation":135387,"user_id":9097906,"display_name":"Littlefoot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1640848453,"creation_date":1640848453,"answer_id":70528501,"question_id":70528492,"body_markdown":"Create a comment?\r\n\r\n    comment on table emp is &#39;30.12.2021, shagby: do not use that table any more&#39;;\r\n\r\n-----------\r\n\r\nOr, create a trigger:\r\n\r\n    SQL&gt; create or replace trigger trg_test\r\n      2    before insert or update or delete on test\r\n      3  begin\r\n      4    raise_application_error(-20000, &#39;30.12.2021, shagby: do not use that table any more&#39;);\r\n      5  end;\r\n      6  /\r\n    \r\n    Trigger created.\r\n    \r\n    SQL&gt; delete from test;\r\n    delete from test\r\n                *\r\n    ERROR at line 1:\r\n    ORA-20000: 30.12.2021, shagby: do not use that table any more\r\n    ORA-06512: at &quot;SCOTT.TRG_TEST&quot;, line 2\r\n    ORA-04088: error during execution of trigger &#39;SCOTT.TRG_TEST&#39;\r\n    \r\n    \r\n    SQL&gt; insert into test (col) values (&#39;x&#39;);\r\n    insert into test (col) values (&#39;x&#39;)\r\n                *\r\n    ERROR at line 1:\r\n    ORA-20000: 30.12.2021, shagby: do not use that table any more\r\n    ORA-06512: at &quot;SCOTT.TRG_TEST&quot;, line 2\r\n    ORA-04088: error during execution of trigger &#39;SCOTT.TRG_TEST&#39;\r\n    \r\n    \r\n    SQL&gt; update test set col = &#39;y&#39;;\r\n    update test set col = &#39;y&#39;\r\n           *\r\n    ERROR at line 1:\r\n    ORA-20000: 30.12.2021, shagby: do not use that table any more\r\n    ORA-06512: at &quot;SCOTT.TRG_TEST&quot;, line 2\r\n    ORA-04088: error during execution of trigger &#39;SCOTT.TRG_TEST&#39;\r\n    \r\n    \r\n    SQL&gt;","title":"is there any ORA message that table is deprecated?","body":"<p>Create a comment?</p>\n<pre><code>comment on table emp is '30.12.2021, shagby: do not use that table any more';\n</code></pre>\n<hr />\n<p>Or, create a trigger:</p>\n<pre><code>SQL&gt; create or replace trigger trg_test\n  2    before insert or update or delete on test\n  3  begin\n  4    raise_application_error(-20000, '30.12.2021, shagby: do not use that table any more');\n  5  end;\n  6  /\n\nTrigger created.\n\nSQL&gt; delete from test;\ndelete from test\n            *\nERROR at line 1:\nORA-20000: 30.12.2021, shagby: do not use that table any more\nORA-06512: at &quot;SCOTT.TRG_TEST&quot;, line 2\nORA-04088: error during execution of trigger 'SCOTT.TRG_TEST'\n\n\nSQL&gt; insert into test (col) values ('x');\ninsert into test (col) values ('x')\n            *\nERROR at line 1:\nORA-20000: 30.12.2021, shagby: do not use that table any more\nORA-06512: at &quot;SCOTT.TRG_TEST&quot;, line 2\nORA-04088: error during execution of trigger 'SCOTT.TRG_TEST'\n\n\nSQL&gt; update test set col = 'y';\nupdate test set col = 'y'\n       *\nERROR at line 1:\nORA-20000: 30.12.2021, shagby: do not use that table any more\nORA-06512: at &quot;SCOTT.TRG_TEST&quot;, line 2\nORA-04088: error during execution of trigger 'SCOTT.TRG_TEST'\n\n\nSQL&gt;\n</code></pre>\n"}],"owner":{"account_id":16501455,"reputation":11,"user_id":11922667,"display_name":"shagby"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640848453,"creation_date":1640848377,"question_id":70528492,"body_markdown":"I&#39;m looking for a way to inform that oracle table should not be used any more.\r\nIt still in use, hence I can not use the mark as UNUSED for the table columns, as it throws an exception, but only for letting the developer know that from now on he shouldn&#39;t use it.","title":"is there any ORA message that table is deprecated?","body":"<p>I'm looking for a way to inform that oracle table should not be used any more.\nIt still in use, hence I can not use the mark as UNUSED for the table columns, as it throws an exception, but only for letting the developer know that from now on he shouldn't use it.</p>\n"},{"tags":["java","java-8","bitset"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1640169366,"post_id":70444698,"comment_id":124530241,"body_markdown":"Regardless of how often you hit the same nail with the hammer, the number of nails in the wall does not change.","body":"Regardless of how often you hit the same nail with the hammer, the number of nails in the wall does not change."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640152597,"creation_date":1640152597,"answer_id":70444803,"question_id":70444698,"body_markdown":"Because.. that&#39;s what you programmed. I think I see where you&#39;re confused.\r\n\r\nThis:\r\n\r\n```java\r\nbs2.set(0);\r\nbs2.set(0);\r\nbs2.set(0);\r\nbs2.set(0);\r\nbs2.set(0);\r\nbs2.set(0);\r\n```\r\n\r\nIs 1 line that does something (the first `.set(0)` call), and then 5 lines that do nothing whatsoever. `bs2.set(0)` sets the 0th bit to 1. It doesn&#39;t set &quot;the next bit&quot;. Hence, `bs2` has a single bit that is set: The 0th bit. Hence, its cardinality, which counts the amount of bits that are set, is 1.\r\n\r\nThis:\r\n\r\n```\r\nbs1.set(0);\r\nbs1.set(1);\r\nbs1.set(2);\r\nbs1.set(4);\r\n```\r\n\r\nSimply sets the 0th, 1th, 2nd, and 4th bit. That sets a total of 4 bits, hence, cardinality of 4. The bits are, in order from low to high: 11101000.","title":"How does the cardinality work in Java BitSet?","body":"<p>Because.. that's what you programmed. I think I see where you're confused.</p>\n<p>This:</p>\n<pre class=\"lang-java prettyprint-override\"><code>bs2.set(0);\nbs2.set(0);\nbs2.set(0);\nbs2.set(0);\nbs2.set(0);\nbs2.set(0);\n</code></pre>\n<p>Is 1 line that does something (the first <code>.set(0)</code> call), and then 5 lines that do nothing whatsoever. <code>bs2.set(0)</code> sets the 0th bit to 1. It doesn't set &quot;the next bit&quot;. Hence, <code>bs2</code> has a single bit that is set: The 0th bit. Hence, its cardinality, which counts the amount of bits that are set, is 1.</p>\n<p>This:</p>\n<pre><code>bs1.set(0);\nbs1.set(1);\nbs1.set(2);\nbs1.set(4);\n</code></pre>\n<p>Simply sets the 0th, 1th, 2nd, and 4th bit. That sets a total of 4 bits, hence, cardinality of 4. The bits are, in order from low to high: 11101000.</p>\n"}],"owner":{"account_id":20830369,"reputation":11,"user_id":15299808,"display_name":"Hestia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640848157,"creation_date":1640151777,"question_id":70444698,"body_markdown":"    import java.util.*;\r\n    public class Main {\r\n    public static void main(String[] args)\r\n    {\r\n    \r\n    BitSet bs1 = new BitSet();\r\n    BitSet bs2 = new BitSet();\r\n    \r\n    \r\n    bs1.set(0);\r\n    bs1.set(1);\r\n    bs1.set(2);\r\n    bs1.set(4);\r\n    \r\n    bs2.set(0);\r\n    bs2.set(0);\r\n    bs2.set(0);\r\n    bs2.set(0);\r\n    bs2.set(0);\r\n    bs2.set(0);\r\n    \r\n    \r\n    System.out.println(&quot;bs1 : &quot; + bs1);\r\n    System.out.println(&quot;bs2 : &quot; + bs2);\r\n    \r\n    \r\n    \r\n    System.out.println(bs1.cardinality());\r\n    System.out.println(bs2.cardinality());\r\n    \r\n    }\r\n    }\r\n\r\nIn this above code, the cardinality of bitset bs1 is found to be 4 and the bs2 is found to be 1. How does the cardinality come as 1 for bs2?","title":"How does the cardinality work in Java BitSet?","body":"<pre><code>import java.util.*;\npublic class Main {\npublic static void main(String[] args)\n{\n\nBitSet bs1 = new BitSet();\nBitSet bs2 = new BitSet();\n\n\nbs1.set(0);\nbs1.set(1);\nbs1.set(2);\nbs1.set(4);\n\nbs2.set(0);\nbs2.set(0);\nbs2.set(0);\nbs2.set(0);\nbs2.set(0);\nbs2.set(0);\n\n\nSystem.out.println(&quot;bs1 : &quot; + bs1);\nSystem.out.println(&quot;bs2 : &quot; + bs2);\n\n\n\nSystem.out.println(bs1.cardinality());\nSystem.out.println(bs2.cardinality());\n\n}\n}\n</code></pre>\n<p>In this above code, the cardinality of bitset bs1 is found to be 4 and the bs2 is found to be 1. How does the cardinality come as 1 for bs2?</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":1578571,"reputation":4109,"user_id":1464455,"accept_rate":38,"display_name":"Yair Zaslavsky"},"score":0,"creation_date":1440139122,"post_id":32133655,"comment_id":52158258,"body_markdown":"The fact that you perform array.toString() looks kinda strange to me.\nI would consider to perhaps iterate on the JSONArray and transform each element to Noticia object?","body":"The fact that you perform array.toString() looks kinda strange to me. I would consider to perhaps iterate on the JSONArray and transform each element to Noticia object?"},{"owner":{"account_id":339454,"reputation":2681,"user_id":668951,"accept_rate":88,"display_name":"Atul"},"score":0,"creation_date":1440141652,"post_id":32133655,"comment_id":52159572,"body_markdown":"I don&#39;t see getJSONArray method on JsonObject (https://google-gson.googlecode.com/svn/trunk/gson/docs/javadocs/com/google/gson/JsonObject.html) Please read my answer. Hopefully it should fix the issue.","body":"I don&#39;t see getJSONArray method on JsonObject (<a href=\"https://google-gson.googlecode.com/svn/trunk/gson/docs/javadocs/com/google/gson/JsonObject.html\" rel=\"nofollow noreferrer\">google-gson.googlecode.com/svn/trunk/gson/docs/javadocs/com&zwnj;&#8203;/&hellip;</a>) Please read my answer. Hopefully it should fix the issue."}],"answers":[{"tags":[],"owner":{"account_id":3057049,"reputation":124,"user_id":2590444,"display_name":"ziviland"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1440140373,"creation_date":1440139900,"answer_id":32134107,"question_id":32133655,"body_markdown":"You parse json, that looks like \r\n\r\n    { &quot;result&quot; : [ \r\n      { \r\n            &quot;created&quot; : &quot;2015-08-20 19:58:49&quot;,\r\n            &quot;descricao&quot; : &quot;tttttt&quot;,\r\n            &quot;id&quot; : &quot;19&quot;,\r\n            &quot;image&quot; : null,\r\n            &quot;titulo&quot; : &quot;ddddd&quot;,\r\n            &quot;usuario&quot; : &quot;FERNANDO PAIVA&quot;\r\n       },\r\n      { \r\n            &quot;created&quot; : &quot;2015-08-20 19:59:57&quot;,\r\n            &quot;descricao&quot; : &quot;hhhhhhhh&quot;,\r\n            &quot;id&quot; : &quot;20&quot;,\r\n            &quot;image&quot; : &quot;logo.png&quot;,\r\n            &quot;titulo&quot; : &quot;TITULO DA NOTICIA&quot;,\r\n            &quot;usuario&quot; : &quot;FERNANDO PAIVA&quot;\r\n          }\r\n    ] }\r\n\r\nYou need to make another object Item and parse a list of them.\r\n\r\n    public class Item{\r\n        Noticia noticia; \r\n    }\r\n\r\nOr you can interate through JSONArray, get field &quot;noticia&quot; from each then parse Noticia object from given JSONObject.\r\n\r\n ","title":"Converting JSONArray to List&lt;Object&gt;?","body":"<p>You parse json, that looks like </p>\n\n<pre><code>{ \"result\" : [ \n  { \n        \"created\" : \"2015-08-20 19:58:49\",\n        \"descricao\" : \"tttttt\",\n        \"id\" : \"19\",\n        \"image\" : null,\n        \"titulo\" : \"ddddd\",\n        \"usuario\" : \"FERNANDO PAIVA\"\n   },\n  { \n        \"created\" : \"2015-08-20 19:59:57\",\n        \"descricao\" : \"hhhhhhhh\",\n        \"id\" : \"20\",\n        \"image\" : \"logo.png\",\n        \"titulo\" : \"TITULO DA NOTICIA\",\n        \"usuario\" : \"FERNANDO PAIVA\"\n      }\n] }\n</code></pre>\n\n<p>You need to make another object Item and parse a list of them.</p>\n\n<pre><code>public class Item{\n    Noticia noticia; \n}\n</code></pre>\n\n<p>Or you can interate through JSONArray, get field \"noticia\" from each then parse Noticia object from given JSONObject.</p>\n"},{"tags":[],"owner":{"account_id":339454,"reputation":2681,"user_id":668951,"accept_rate":88,"display_name":"Atul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440141289,"creation_date":1440141289,"answer_id":32134437,"question_id":32133655,"body_markdown":"I think the problem could be something to do with toString() on JSONArray. But are you using  obj.get**As**JsonArray method?\r\n\r\n\r\nTry this:\r\n\r\n    JSONArray arr = obj.getAsJsonArray(&quot;result&quot;); \r\n    \r\n                Type listType = new TypeToken&lt;List&lt;Noticia&gt;&gt;() {\r\n                }.getType();\r\n                return new Gson().fromJson(arr , listType);\r\n\r\n","title":"Converting JSONArray to List&lt;Object&gt;?","body":"<p>I think the problem could be something to do with toString() on JSONArray. But are you using  obj.get<strong>As</strong>JsonArray method?</p>\n\n<p>Try this:</p>\n\n<pre><code>JSONArray arr = obj.getAsJsonArray(\"result\"); \n\n            Type listType = new TypeToken&lt;List&lt;Noticia&gt;&gt;() {\n            }.getType();\n            return new Gson().fromJson(arr , listType);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4514344,"reputation":31626,"user_id":3669624,"accept_rate":100,"display_name":"cнŝdk"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1541244456,"creation_date":1440142536,"answer_id":32134804,"question_id":32133655,"body_markdown":"There are two problems with your code :\r\n\r\n 1. First is that you are using a `getJsonArray()` to get the array,\r\n    which isn&#39;t part of **Gson** library, you need to use\r\n    **[getAsJsonArray()][1]** method instead.\r\n 2. Second is that you are using `array.toString()` which isn&#39;t obvious\r\n    because for the `fromJson` method you need a `jsonArray` as\r\n    parameter and not `String` and that will cause you parse problems, just remove it.\r\n\r\nAnd use the following code to convert your `jsonArray` to `List&lt;Noticia&gt;` :\r\n\r\n    Type type = new TypeToken&lt;List&lt;Noticia&gt;&gt;() {}.getType();\r\n    List&lt;Noticia&gt; lista = gson.fromJson(array, type);\r\n\r\nAnd your whole code will be:\r\n\r\n    Gson gson = new Gson();\r\n    JSONArray array = obj.getAsJsonArray(&quot;result&quot;);\r\n\r\n    Type type = new TypeToken&lt;List&lt;Noticia&gt;&gt;() {}.getType();\r\n    List&lt;Noticia&gt; lista = gson.fromJson(array, type);\r\n\r\n    //testing - size = 2 but value Titulo is null\r\n    Log.i(&quot;LISTSIZE-&gt;&quot;, lista.size() +&quot;&quot;);\r\n    for(Noticia n:lista){\r\n       Log.i(&quot;TITULO&quot;, n.getTitulo());\r\n    }\r\n\r\n\r\n  [1]: https://static.javadoc.io/com.google.code.gson/gson/2.6.2/com/google/gson/JsonObject.html#getAsJsonArray-java.lang.String-","title":"Converting JSONArray to List&lt;Object&gt;?","body":"<p>There are two problems with your code :</p>\n\n<ol>\n<li>First is that you are using a <code>getJsonArray()</code> to get the array,\nwhich isn't part of <strong>Gson</strong> library, you need to use\n<strong><a href=\"https://static.javadoc.io/com.google.code.gson/gson/2.6.2/com/google/gson/JsonObject.html#getAsJsonArray-java.lang.String-\" rel=\"nofollow noreferrer\">getAsJsonArray()</a></strong> method instead.</li>\n<li>Second is that you are using <code>array.toString()</code> which isn't obvious\nbecause for the <code>fromJson</code> method you need a <code>jsonArray</code> as\nparameter and not <code>String</code> and that will cause you parse problems, just remove it.</li>\n</ol>\n\n<p>And use the following code to convert your <code>jsonArray</code> to <code>List&lt;Noticia&gt;</code> :</p>\n\n<pre><code>Type type = new TypeToken&lt;List&lt;Noticia&gt;&gt;() {}.getType();\nList&lt;Noticia&gt; lista = gson.fromJson(array, type);\n</code></pre>\n\n<p>And your whole code will be:</p>\n\n<pre><code>Gson gson = new Gson();\nJSONArray array = obj.getAsJsonArray(\"result\");\n\nType type = new TypeToken&lt;List&lt;Noticia&gt;&gt;() {}.getType();\nList&lt;Noticia&gt; lista = gson.fromJson(array, type);\n\n//testing - size = 2 but value Titulo is null\nLog.i(\"LISTSIZE-&gt;\", lista.size() +\"\");\nfor(Noticia n:lista){\n   Log.i(\"TITULO\", n.getTitulo());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":60622,"reputation":2424,"user_id":181018,"accept_rate":62,"display_name":"Saurabh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1441788418,"creation_date":1441788418,"answer_id":32474960,"question_id":32133655,"body_markdown":"**Noticia.java**\r\n\r\n    public class Noticia {\r\n    \tprivate String created;\r\n    \tprivate String descricao;\r\n    \tprivate String id;\r\n    \tprivate String image;\r\n    \tprivate String titulo;\r\n    \tprivate String usuario;\r\n    \tpublic String getCreated() {\r\n    \t\treturn created;\r\n    \t}\r\n    \tpublic void setCreated(String created) {\r\n    \t\tthis.created = created;\r\n    \t}\r\n    \tpublic String getDescricao() {\r\n    \t\treturn descricao;\r\n    \t}\r\n    \tpublic void setDescricao(String descricao) {\r\n    \t\tthis.descricao = descricao;\r\n    \t}\r\n    \tpublic String getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(String id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic String getImage() {\r\n    \t\treturn image;\r\n    \t}\r\n    \tpublic void setImage(String image) {\r\n    \t\tthis.image = image;\r\n    \t}\r\n    \tpublic String getTitulo() {\r\n    \t\treturn titulo;\r\n    \t}\r\n    \tpublic void setTitulo(String titulo) {\r\n    \t\tthis.titulo = titulo;\r\n    \t}\r\n    \tpublic String getUsuario() {\r\n    \t\treturn usuario;\r\n    \t}\r\n    \tpublic void setUsuario(String usuario) {\r\n    \t\tthis.usuario = usuario;\r\n    \t}\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Noticia [created=&quot; + created + &quot;, descricao=&quot; + descricao\r\n    \t\t\t\t+ &quot;, id=&quot; + id + &quot;, image=&quot; + image + &quot;, titulo=&quot; + titulo\r\n    \t\t\t\t+ &quot;, usuario=&quot; + usuario + &quot;]&quot;;\r\n    \t}\r\n    }\r\n\r\n**Result.java**\r\n\r\n    public class Result {\r\n    \tprivate Noticia Noticia;\r\n    \r\n    \tpublic Noticia getNoticia() {\r\n    \t\treturn Noticia;\r\n    \t}\r\n    \r\n    \tpublic void setNoticia(Noticia noticia) {\r\n    \t\tNoticia = noticia;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Result [Noticia=&quot; + Noticia + &quot;]&quot;;\r\n    \t}\r\n    \r\n    }\r\n\r\n**Item.java**\r\n\r\n    import java.util.List;\r\n    \r\n    public class Item {\r\n    \tprivate List&lt;Result&gt; result;\r\n    \r\n    \tpublic List&lt;Result&gt; getResult() {\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \tpublic void setResult(List&lt;Result&gt; result) {\r\n    \t\tthis.result = result;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Item [result=&quot; + result + &quot;]&quot;;\r\n    \t}\r\n    }\r\n\r\n**Main.java**\r\n\r\n    import com.google.gson.Gson;\r\n    import com.google.gson.GsonBuilder;\r\n    import com.testgson.beans.Item;\r\n    \r\n    public class Main {\r\n    \tprivate static Gson gson;\r\n    \t\r\n    \tstatic {\r\n    \t\tgson = new GsonBuilder().create();\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString j = &quot;{\\&quot;result\\&quot;:[{\\&quot;Noticia\\&quot;:{\\&quot;created\\&quot;:\\&quot;2015-08-20 19:58:49\\&quot;,\\&quot;descricao\\&quot;:\\&quot;tttttt\\&quot;,\\&quot;id\\&quot;:\\&quot;19\\&quot;,\\&quot;image\\&quot;:null,\\&quot;titulo\\&quot;:\\&quot;ddddd\\&quot;,\\&quot;usuario\\&quot;:\\&quot;FERNANDO PAIVA\\&quot;}},{\\&quot;Noticia\\&quot;:{\\&quot;created\\&quot;:\\&quot;2015-08-20 19:59:57\\&quot;,\\&quot;descricao\\&quot;:\\&quot;hhhhhhhh\\&quot;,\\&quot;id\\&quot;:\\&quot;20\\&quot;,\\&quot;image\\&quot;:\\&quot;logo.png\\&quot;,\\&quot;titulo\\&quot;:\\&quot;TITULO DA NOTICIA\\&quot;,\\&quot;usuario\\&quot;:\\&quot;FERNANDO PAIVA\\&quot;}}]}&quot;;\r\n    \t\tItem r = gson.fromJson(j, Item.class);\r\n    \t\tSystem.out.println(r);\r\n    \t}\r\n    }\r\n\r\n**Final result**\r\n\r\n    Item [result=[Result [Noticia=Noticia [created=2015-08-20 19:58:49, descricao=tttttt, id=19, image=null, titulo=ddddd, usuario=FERNANDO PAIVA]], Result [Noticia=Noticia [created=2015-08-20 19:59:57, descricao=hhhhhhhh, id=20, image=logo.png, titulo=TITULO DA NOTICIA, usuario=FERNANDO PAIVA]]]]\r\n\r\n","title":"Converting JSONArray to List&lt;Object&gt;?","body":"<p><strong>Noticia.java</strong></p>\n\n<pre><code>public class Noticia {\n    private String created;\n    private String descricao;\n    private String id;\n    private String image;\n    private String titulo;\n    private String usuario;\n    public String getCreated() {\n        return created;\n    }\n    public void setCreated(String created) {\n        this.created = created;\n    }\n    public String getDescricao() {\n        return descricao;\n    }\n    public void setDescricao(String descricao) {\n        this.descricao = descricao;\n    }\n    public String getId() {\n        return id;\n    }\n    public void setId(String id) {\n        this.id = id;\n    }\n    public String getImage() {\n        return image;\n    }\n    public void setImage(String image) {\n        this.image = image;\n    }\n    public String getTitulo() {\n        return titulo;\n    }\n    public void setTitulo(String titulo) {\n        this.titulo = titulo;\n    }\n    public String getUsuario() {\n        return usuario;\n    }\n    public void setUsuario(String usuario) {\n        this.usuario = usuario;\n    }\n    @Override\n    public String toString() {\n        return \"Noticia [created=\" + created + \", descricao=\" + descricao\n                + \", id=\" + id + \", image=\" + image + \", titulo=\" + titulo\n                + \", usuario=\" + usuario + \"]\";\n    }\n}\n</code></pre>\n\n<p><strong>Result.java</strong></p>\n\n<pre><code>public class Result {\n    private Noticia Noticia;\n\n    public Noticia getNoticia() {\n        return Noticia;\n    }\n\n    public void setNoticia(Noticia noticia) {\n        Noticia = noticia;\n    }\n\n    @Override\n    public String toString() {\n        return \"Result [Noticia=\" + Noticia + \"]\";\n    }\n\n}\n</code></pre>\n\n<p><strong>Item.java</strong></p>\n\n<pre><code>import java.util.List;\n\npublic class Item {\n    private List&lt;Result&gt; result;\n\n    public List&lt;Result&gt; getResult() {\n        return result;\n    }\n\n    public void setResult(List&lt;Result&gt; result) {\n        this.result = result;\n    }\n\n    @Override\n    public String toString() {\n        return \"Item [result=\" + result + \"]\";\n    }\n}\n</code></pre>\n\n<p><strong>Main.java</strong></p>\n\n<pre><code>import com.google.gson.Gson;\nimport com.google.gson.GsonBuilder;\nimport com.testgson.beans.Item;\n\npublic class Main {\n    private static Gson gson;\n\n    static {\n        gson = new GsonBuilder().create();\n    }\n\n    public static void main(String[] args) {\n        String j = \"{\\\"result\\\":[{\\\"Noticia\\\":{\\\"created\\\":\\\"2015-08-20 19:58:49\\\",\\\"descricao\\\":\\\"tttttt\\\",\\\"id\\\":\\\"19\\\",\\\"image\\\":null,\\\"titulo\\\":\\\"ddddd\\\",\\\"usuario\\\":\\\"FERNANDO PAIVA\\\"}},{\\\"Noticia\\\":{\\\"created\\\":\\\"2015-08-20 19:59:57\\\",\\\"descricao\\\":\\\"hhhhhhhh\\\",\\\"id\\\":\\\"20\\\",\\\"image\\\":\\\"logo.png\\\",\\\"titulo\\\":\\\"TITULO DA NOTICIA\\\",\\\"usuario\\\":\\\"FERNANDO PAIVA\\\"}}]}\";\n        Item r = gson.fromJson(j, Item.class);\n        System.out.println(r);\n    }\n}\n</code></pre>\n\n<p><strong>Final result</strong></p>\n\n<pre><code>Item [result=[Result [Noticia=Noticia [created=2015-08-20 19:58:49, descricao=tttttt, id=19, image=null, titulo=ddddd, usuario=FERNANDO PAIVA]], Result [Noticia=Noticia [created=2015-08-20 19:59:57, descricao=hhhhhhhh, id=20, image=logo.png, titulo=TITULO DA NOTICIA, usuario=FERNANDO PAIVA]]]]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20603717,"reputation":11,"user_id":15124463,"display_name":"M Hamza Tahir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640847809,"creation_date":1640847272,"answer_id":70528350,"question_id":32133655,"body_markdown":"**Kotlin Ex :**   \r\nwe getting response in form of JSONArry \r\n\r\n    call.enqueue(object : Callback&lt;JsonArray&gt; {\r\n            override fun onResponse(call: Call&lt;JsonArray&gt;, response: Response&lt;JsonArray&gt;) {\r\n\r\n                val list = response.body().toString()\r\n                val gson = Gson()\r\n                val obj: CitiesList? = gson.fromJson(list, CitiesList::class.java)\r\n                cityLiveData.value = obj!!\r\n               \r\n\r\n            }\r\n\r\n            override fun onFailure(call: Call&lt;JsonArray&gt;, t: Throwable) {\r\n              \r\n            }\r\n\r\n        })\r\n\r\nHere CitiesList &lt;CitiesList::class.java&gt; is the ArrayList of Cities object\r\n\r\n    class CitiesList : ArrayList&lt;CitiesListItem&gt;()\r\n\r\nBefore using **GSON** add dependancey in Gradle\r\n\r\n    dependencies {\r\n\r\n    implementation &#39;com.google.code.gson:gson:2.8.8&#39;\r\n\r\n    }\r\n\r\n\r\n","title":"Converting JSONArray to List&lt;Object&gt;?","body":"<p><strong>Kotlin Ex :</strong><br />\nwe getting response in form of JSONArry</p>\n<pre><code>call.enqueue(object : Callback&lt;JsonArray&gt; {\n        override fun onResponse(call: Call&lt;JsonArray&gt;, response: Response&lt;JsonArray&gt;) {\n\n            val list = response.body().toString()\n            val gson = Gson()\n            val obj: CitiesList? = gson.fromJson(list, CitiesList::class.java)\n            cityLiveData.value = obj!!\n           \n\n        }\n\n        override fun onFailure(call: Call&lt;JsonArray&gt;, t: Throwable) {\n          \n        }\n\n    })\n</code></pre>\n<p>Here CitiesList CitiesList::class.java is the ArrayList of Cities object</p>\n<pre><code>class CitiesList : ArrayList&lt;CitiesListItem&gt;()\n</code></pre>\n<p>Before using <strong>GSON</strong> add dependancey in Gradle</p>\n<pre><code>dependencies {\n\nimplementation 'com.google.code.gson:gson:2.8.8'\n\n}\n</code></pre>\n"}],"owner":{"account_id":1602251,"reputation":4420,"user_id":1483084,"accept_rate":81,"display_name":"FernandoPaiva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39000,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":5,"score":13,"last_activity_date":1640847809,"creation_date":1440138174,"question_id":32133655,"body_markdown":"I&#39;m trying deserializes a JSONArray to List&lt;Object&gt;. To do it I&#39;m trying use Gson but I can&#39;t understand why doesn&#39;t works and all values of JSON are null.\r\n\r\nHow could I do this ? \r\n\r\n**JSON** \r\n\r\n    { &quot;result&quot; : [ \r\n          { &quot;Noticia&quot; : { \r\n                &quot;created&quot; : &quot;2015-08-20 19:58:49&quot;,\r\n                &quot;descricao&quot; : &quot;tttttt&quot;,\r\n                &quot;id&quot; : &quot;19&quot;,\r\n                &quot;image&quot; : null,\r\n                &quot;titulo&quot; : &quot;ddddd&quot;,\r\n                &quot;usuario&quot; : &quot;FERNANDO PAIVA&quot;\r\n              } },\r\n          { &quot;Noticia&quot; : { \r\n                &quot;created&quot; : &quot;2015-08-20 19:59:57&quot;,\r\n                &quot;descricao&quot; : &quot;hhhhhhhh&quot;,\r\n                &quot;id&quot; : &quot;20&quot;,\r\n                &quot;image&quot; : &quot;logo.png&quot;,\r\n                &quot;titulo&quot; : &quot;TITULO DA NOTICIA&quot;,\r\n                &quot;usuario&quot; : &quot;FERNANDO PAIVA&quot;\r\n              } }\r\n        ] }\r\n\r\n**Deserializes** \r\n\r\n    List&lt;Noticia&gt; lista = new ArrayList&lt;Noticia&gt;();\r\n                                Gson gson = new Gson();\r\n                                JSONArray array = obj.getJSONArray(&quot;result&quot;);\r\n    \r\n                                Type listType = new TypeToken&lt;List&lt;Noticia&gt;&gt;() {}.getType();\r\n                                lista = gson.fromJson(array.toString(), listType);\r\n                                \r\n                                //testing - size = 2 but value Titulo is null\r\n                                Log.i(&quot;LISTSIZE-&gt;&quot;, lista.size() +&quot;&quot;);\r\n                                for(Noticia n:lista){\r\n                                    Log.i(&quot;TITULO&quot;, n.getTitulo());\r\n                                }\r\n    \r\n\r\n**Class Noticia**\r\n\r\n    public class Noticia implements Serializable {\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        private Integer id;\r\n        private String titulo;\r\n        private String descricao;\r\n        private String usuario;\r\n        private Date created;\r\n        private String image;","title":"Converting JSONArray to List&lt;Object&gt;?","body":"<p>I'm trying deserializes a JSONArray to List. To do it I'm trying use Gson but I can't understand why doesn't works and all values of JSON are null.</p>\n\n<p>How could I do this ? </p>\n\n<p><strong>JSON</strong> </p>\n\n<pre><code>{ \"result\" : [ \n      { \"Noticia\" : { \n            \"created\" : \"2015-08-20 19:58:49\",\n            \"descricao\" : \"tttttt\",\n            \"id\" : \"19\",\n            \"image\" : null,\n            \"titulo\" : \"ddddd\",\n            \"usuario\" : \"FERNANDO PAIVA\"\n          } },\n      { \"Noticia\" : { \n            \"created\" : \"2015-08-20 19:59:57\",\n            \"descricao\" : \"hhhhhhhh\",\n            \"id\" : \"20\",\n            \"image\" : \"logo.png\",\n            \"titulo\" : \"TITULO DA NOTICIA\",\n            \"usuario\" : \"FERNANDO PAIVA\"\n          } }\n    ] }\n</code></pre>\n\n<p><strong>Deserializes</strong> </p>\n\n<pre><code>List&lt;Noticia&gt; lista = new ArrayList&lt;Noticia&gt;();\n                            Gson gson = new Gson();\n                            JSONArray array = obj.getJSONArray(\"result\");\n\n                            Type listType = new TypeToken&lt;List&lt;Noticia&gt;&gt;() {}.getType();\n                            lista = gson.fromJson(array.toString(), listType);\n\n                            //testing - size = 2 but value Titulo is null\n                            Log.i(\"LISTSIZE-&gt;\", lista.size() +\"\");\n                            for(Noticia n:lista){\n                                Log.i(\"TITULO\", n.getTitulo());\n                            }\n</code></pre>\n\n<p><strong>Class Noticia</strong></p>\n\n<pre><code>public class Noticia implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    private Integer id;\n    private String titulo;\n    private String descricao;\n    private String usuario;\n    private Date created;\n    private String image;\n</code></pre>\n"},{"tags":["java","java-8","monads","option-type"],"comments":[{"owner":{"account_id":1307057,"reputation":5794,"user_id":1255825,"accept_rate":74,"display_name":"JasonG"},"score":1,"creation_date":1423542509,"post_id":13454347,"comment_id":45180981,"body_markdown":"I just published a Try monad for Java8. https://github.com/jasongoodwin/better-java-monads","body":"I just published a Try monad for Java8. <a href=\"https://github.com/jasongoodwin/better-java-monads\" rel=\"nofollow noreferrer\">github.com/jasongoodwin/better-java-monads</a>"},{"owner":{"account_id":1161310,"reputation":8921,"user_id":1140754,"accept_rate":70,"display_name":"Miguel Gamboa"},"score":0,"creation_date":1557483329,"post_id":13454347,"comment_id":98789279,"body_markdown":"Corresponding Stream, Optional and CompletableFuture https://gist.github.com/fmcarvalho/2be5ff6419f9d5d8df8c9c11fcd45271","body":"Corresponding Stream, Optional and CompletableFuture <a href=\"https://gist.github.com/fmcarvalho/2be5ff6419f9d5d8df8c9c11fcd45271\" rel=\"nofollow noreferrer\">gist.github.com/fmcarvalho/2be5ff6419f9d5d8df8c9c11fcd45271</a>"},{"owner":{"account_id":21180,"reputation":9893,"user_id":51292,"accept_rate":59,"display_name":"Ray Tayek"},"score":0,"creation_date":1599965370,"post_id":13454347,"comment_id":112937484,"body_markdown":"you need a ++i somewhere.","body":"you need a ++i somewhere."},{"owner":{"account_id":453089,"reputation":70352,"user_id":849891,"accept_rate":100,"display_name":"Will Ness"},"score":0,"creation_date":1603987175,"post_id":13454347,"comment_id":114215532,"body_markdown":"Monad is the Interpreter Pattern.","body":"Monad is the Interpreter Pattern."}],"answers":[{"tags":[],"owner":{"account_id":1523181,"reputation":2433,"user_id":1422297,"accept_rate":100,"display_name":"Morteza Adi"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1353331242,"creation_date":1353331242,"answer_id":13454659,"question_id":13454347,"body_markdown":"\r\nthe only way to understand monads is by writing a bunch of combinator libraries, noticing the resulting duplication, and then discovering for yourself that monads let you factor out this duplication. In discovering this, everyone builds some intuition for what a monad is… but this intuition isn’t the sort of thing that you can communicate to someone else directly – it seems everyone has to go through the same experience of generalizing to monads from some concrete examples of combinator libraries. however\r\n\r\nhere i found some materials to learn Mondas.\r\n\r\nhope to be useful for you too.\r\n\r\n[codecommit][1] \r\n\r\n[james-iry.blogspot][2] \r\n\r\n[debasishg.blogspot][3]\r\n\r\n  [1]: http://www.codecommit.com/blog/ruby/monads-are-not-metaphors\r\n  [2]: http://james-iry.blogspot.it/2007/09/monads-are-elephants-part-1.html\r\n  [3]: http://debasishg.blogspot.it/2008/03/monads-another-way-to-abstract.html","title":"Monads with Java 8","body":"<p>the only way to understand monads is by writing a bunch of combinator libraries, noticing the resulting duplication, and then discovering for yourself that monads let you factor out this duplication. In discovering this, everyone builds some intuition for what a monad is… but this intuition isn’t the sort of thing that you can communicate to someone else directly – it seems everyone has to go through the same experience of generalizing to monads from some concrete examples of combinator libraries. however</p>\n\n<p>here i found some materials to learn Mondas.</p>\n\n<p>hope to be useful for you too.</p>\n\n<p><a href=\"http://www.codecommit.com/blog/ruby/monads-are-not-metaphors\" rel=\"noreferrer\">codecommit</a> </p>\n\n<p><a href=\"http://james-iry.blogspot.it/2007/09/monads-are-elephants-part-1.html\" rel=\"noreferrer\">james-iry.blogspot</a> </p>\n\n<p><a href=\"http://debasishg.blogspot.it/2008/03/monads-another-way-to-abstract.html\" rel=\"noreferrer\">debasishg.blogspot</a></p>\n"},{"tags":[],"owner":{"account_id":1645566,"reputation":16085,"user_id":1517161,"display_name":"Faiz"},"down_vote_count":1,"up_vote_count":62,"is_accepted":false,"score":61,"last_activity_date":1353335288,"creation_date":1353334556,"answer_id":13455602,"question_id":13454347,"body_markdown":"Java 8 will have lambdas; monads are a whole different story. They are hard enough to explain in functional programming (as evidenced by the large number of tutorials on the subject in Haskell and Scala).\r\n\r\nMonads are a typical feature of statically typed functional languages. To describe them in OO-speak, you could imagine a `Monad` interface. Classes that implement ``Monad`` would then be called &#39;monadic&#39;, provided that in implementing `Monad` the implementation obeys what are known as the &#39;monad laws&#39;. The language then provides some _syntactic sugar_ that makes working with instances of the ``Monad`` class interesting.\r\n\r\nNow `Iterable` in Java has nothing to do with monads, but as a example of a type that the Java compiler treats specially (the `foreach` syntax that came with Java 5), consider this:\r\n    \r\n    Iterable&lt;Something&gt; things = getThings(..);\r\n    for (Something s: things) {  /* do something with s */ }\r\n\r\nSo while we could have used `Iterable`&#39;s `Iterator` methods (`hasNext` and company) in an old-style `for` loop, Java grants us this syntactic sugar as a _special case_.\r\n\r\nSo just as classes that implement `Iterable` and `Iterator` must obey the `Iterator` laws (Example: `hasNext` must return `false` if there is no next element) to be useful in `foreach`  syntax - there would exist several _monadic_ classes that would be useful with a corresponding `do` notation (as it is called in Haskell) or Scala&#39;s `for` notation.\r\n\r\nSo -\r\n\r\n 1. What are good examples of monadic classes?\r\n 2. What would syntactic sugar for dealing with them look like?\r\n\r\nIn Java 8, I don&#39;t know - I am aware of the lambda notation but I am not aware of other special syntactic sugar, so I&#39;ll have to give you an example in another language.\r\n\r\nMonads often serve as _container_ classes (Lists are an example). Java already has `java.util.List` which is obviously not monadic, but here is Scala&#39;s:\r\n\r\n    val nums = List(1, 2, 3, 4)\r\n    val strs = List(&quot;hello&quot;, &quot;hola&quot;)\r\n    val result = for { // Iterate both lists, return a resulting list that contains \r\n                       // pairs of (Int, String) s.t the string size is same as the num.\r\n      n &lt;- nums        \r\n      s &lt;- strs if n == s.length \r\n    } yield (n, s)\r\n    // result will be List((4, &quot;hola&quot;)) \r\n    // A list of exactly one element, the pair (4, &quot;hola&quot;)\r\n\r\nWhich is (roughly) syntactic sugar for: \r\n\r\n    val nums = List(1, 2, 3, 4)\r\n    val strs = List(&quot;hello&quot;, &quot;hola&quot;)\r\n    val results = \r\n    nums.flatMap( n =&gt;                 \r\n      strs.filter(s =&gt; s.size == n).   // same as the &#39;if&#39;\r\n           map(s =&gt; (n, s))            // Same as the &#39;yield&#39;\r\n    )\r\n    // flatMap takes a lambda as an argument, as do filter and map\r\n    // \r\n\r\nThis shows a feature of Scala where monads are exploited to provide *list comprehensions*.\r\n\r\nSo a `List` in Scala is a monad, because it obeys Scala&#39;s monad laws, which stipulate that all monad implementations must have conforming `flatMap`, `map` and `filter` methods (if you are interested in the laws, the &quot;Monads are Elephants&quot; blog entry has the best description I&#39;ve found so far). And, as you can see, lambdas (and HoF) are absolutely *necessary* but not *sufficient* to make this kind of thing useful in a practical way.\r\n\r\nThere&#39;s a bunch of useful monads besides the container-ish ones as well. They have all kinds of applications. My favorite must be the `Option` monad in Scala (the `Maybe` monad in Haskell), which is a wrapper type which brings about *null safety*: the Scala API page for the `Option` monad has a very simple example usage: http://www.scala-lang.org/api/current/scala/Option.html \r\nIn Haskell, monads are useful in representing IO, as a way of working around the fact that non-monadic Haskell code has indeterminate order of execution.\r\n\r\nHaving lambdas is a first small step into the functional programming world; monads \r\nrequire both the monad convention and a large enough set of usable monadic types, *as well as* syntactic sugar to make working with them fun and useful.\r\n\r\nSince Scala is arguably the language closest to Java that also allows (monadic) Functional Programming, do look at this Monad tutorial for Scala if you are (still) interested: \r\nhttp://james-iry.blogspot.jp/2007/09/monads-are-elephants-part-1.html\r\n\r\nA cursory googling shows that there is at least one attempt to do this in Java: https://github.com/RichardWarburton/Monads-in-Java -\r\n\r\nSadly, explaining monads in Java (even with lambdas) is as hard as explaining full-blown Object oriented  programming in ANSI C (instead of C++ or Java).\r\n","title":"Monads with Java 8","body":"<p>Java 8 will have lambdas; monads are a whole different story. They are hard enough to explain in functional programming (as evidenced by the large number of tutorials on the subject in Haskell and Scala).</p>\n\n<p>Monads are a typical feature of statically typed functional languages. To describe them in OO-speak, you could imagine a <code>Monad</code> interface. Classes that implement <code>Monad</code> would then be called 'monadic', provided that in implementing <code>Monad</code> the implementation obeys what are known as the 'monad laws'. The language then provides some <em>syntactic sugar</em> that makes working with instances of the <code>Monad</code> class interesting.</p>\n\n<p>Now <code>Iterable</code> in Java has nothing to do with monads, but as a example of a type that the Java compiler treats specially (the <code>foreach</code> syntax that came with Java 5), consider this:</p>\n\n<pre><code>Iterable&lt;Something&gt; things = getThings(..);\nfor (Something s: things) {  /* do something with s */ }\n</code></pre>\n\n<p>So while we could have used <code>Iterable</code>'s <code>Iterator</code> methods (<code>hasNext</code> and company) in an old-style <code>for</code> loop, Java grants us this syntactic sugar as a <em>special case</em>.</p>\n\n<p>So just as classes that implement <code>Iterable</code> and <code>Iterator</code> must obey the <code>Iterator</code> laws (Example: <code>hasNext</code> must return <code>false</code> if there is no next element) to be useful in <code>foreach</code>  syntax - there would exist several <em>monadic</em> classes that would be useful with a corresponding <code>do</code> notation (as it is called in Haskell) or Scala's <code>for</code> notation.</p>\n\n<p>So -</p>\n\n<ol>\n<li>What are good examples of monadic classes?</li>\n<li>What would syntactic sugar for dealing with them look like?</li>\n</ol>\n\n<p>In Java 8, I don't know - I am aware of the lambda notation but I am not aware of other special syntactic sugar, so I'll have to give you an example in another language.</p>\n\n<p>Monads often serve as <em>container</em> classes (Lists are an example). Java already has <code>java.util.List</code> which is obviously not monadic, but here is Scala's:</p>\n\n<pre><code>val nums = List(1, 2, 3, 4)\nval strs = List(\"hello\", \"hola\")\nval result = for { // Iterate both lists, return a resulting list that contains \n                   // pairs of (Int, String) s.t the string size is same as the num.\n  n &lt;- nums        \n  s &lt;- strs if n == s.length \n} yield (n, s)\n// result will be List((4, \"hola\")) \n// A list of exactly one element, the pair (4, \"hola\")\n</code></pre>\n\n<p>Which is (roughly) syntactic sugar for: </p>\n\n<pre><code>val nums = List(1, 2, 3, 4)\nval strs = List(\"hello\", \"hola\")\nval results = \nnums.flatMap( n =&gt;                 \n  strs.filter(s =&gt; s.size == n).   // same as the 'if'\n       map(s =&gt; (n, s))            // Same as the 'yield'\n)\n// flatMap takes a lambda as an argument, as do filter and map\n// \n</code></pre>\n\n<p>This shows a feature of Scala where monads are exploited to provide <em>list comprehensions</em>.</p>\n\n<p>So a <code>List</code> in Scala is a monad, because it obeys Scala's monad laws, which stipulate that all monad implementations must have conforming <code>flatMap</code>, <code>map</code> and <code>filter</code> methods (if you are interested in the laws, the \"Monads are Elephants\" blog entry has the best description I've found so far). And, as you can see, lambdas (and HoF) are absolutely <em>necessary</em> but not <em>sufficient</em> to make this kind of thing useful in a practical way.</p>\n\n<p>There's a bunch of useful monads besides the container-ish ones as well. They have all kinds of applications. My favorite must be the <code>Option</code> monad in Scala (the <code>Maybe</code> monad in Haskell), which is a wrapper type which brings about <em>null safety</em>: the Scala API page for the <code>Option</code> monad has a very simple example usage: <a href=\"http://www.scala-lang.org/api/current/scala/Option.html\" rel=\"noreferrer\">http://www.scala-lang.org/api/current/scala/Option.html</a> \nIn Haskell, monads are useful in representing IO, as a way of working around the fact that non-monadic Haskell code has indeterminate order of execution.</p>\n\n<p>Having lambdas is a first small step into the functional programming world; monads \nrequire both the monad convention and a large enough set of usable monadic types, <em>as well as</em> syntactic sugar to make working with them fun and useful.</p>\n\n<p>Since Scala is arguably the language closest to Java that also allows (monadic) Functional Programming, do look at this Monad tutorial for Scala if you are (still) interested: \n<a href=\"http://james-iry.blogspot.jp/2007/09/monads-are-elephants-part-1.html\" rel=\"noreferrer\">http://james-iry.blogspot.jp/2007/09/monads-are-elephants-part-1.html</a></p>\n\n<p>A cursory googling shows that there is at least one attempt to do this in Java: <a href=\"https://github.com/RichardWarburton/Monads-in-Java\" rel=\"noreferrer\">https://github.com/RichardWarburton/Monads-in-Java</a> -</p>\n\n<p>Sadly, explaining monads in Java (even with lambdas) is as hard as explaining full-blown Object oriented  programming in ANSI C (instead of C++ or Java).</p>\n"},{"tags":[],"owner":{"account_id":431159,"reputation":873,"user_id":815048,"display_name":"Katie J. Ots"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1355806133,"creation_date":1355806133,"answer_id":13926465,"question_id":13454347,"body_markdown":"[This blog post](http://logicaltypes.blogspot.com.au/2011/09/monads-in-java.html) gives a step-by-step example of how you might implement a Monad type (interface) in Java and then use it to define the Maybe monad, as a practical application.\r\n\r\n[This post](http://blog.tmorris.net/maybe-monad-in-java/) explains that there is one monad built into the Java language, emphasising the point that monads are more common than many programmers may think and that coders often [inadvertently reinvent them](http://blog.sigfpe.com/2006/08/you-could-have-invented-monads-and.html).","title":"Monads with Java 8","body":"<p><a href=\"http://logicaltypes.blogspot.com.au/2011/09/monads-in-java.html\" rel=\"nofollow\">This blog post</a> gives a step-by-step example of how you might implement a Monad type (interface) in Java and then use it to define the Maybe monad, as a practical application.</p>\n\n<p><a href=\"http://blog.tmorris.net/maybe-monad-in-java/\" rel=\"nofollow\">This post</a> explains that there is one monad built into the Java language, emphasising the point that monads are more common than many programmers may think and that coders often <a href=\"http://blog.sigfpe.com/2006/08/you-could-have-invented-monads-and.html\" rel=\"nofollow\">inadvertently reinvent them</a>.</p>\n"},{"tags":[],"owner":{"account_id":939543,"reputation":2698,"user_id":967863,"accept_rate":57,"display_name":"ms-tg"},"down_vote_count":0,"up_vote_count":89,"is_accepted":true,"score":89,"last_activity_date":1421077170,"creation_date":1384268125,"answer_id":19932439,"question_id":13454347,"body_markdown":"Just FYI:\r\n\r\nThe proposed [JDK8 Optional][1] class **does satisfy** the three [Monad laws][2]. Here&#39;s a [gist demonstrating][3] that.\r\n\r\nAll it takes be a Monad is to provide **two** functions which conform to **three** laws.\r\n\r\nThe two functions:\r\n\r\n1.  Place a *value into monadic context*\r\n    - Haskell&#39;s Maybe: `return` / `Just`\r\n    - Scala&#39;s Option: `Some`\r\n    - Functional Java&#39;s Option: `Option.some`\r\n    - JDK8&#39;s Optional: `Optional.of`\r\n\r\n2.  Apply a *function in monadic context*\r\n    - Haskell&#39;s Maybe: `&gt;&gt;=` (aka `bind`)\r\n    - Scala&#39;s Option: `flatMap`\r\n    - Functional Java&#39;s Option: `flatMap`\r\n    - JDK8&#39;s Optional: `flatMap`\r\n\r\nPlease see the [above gist][4] for a java demonstration of the three laws. \r\n\r\nNOTE: One of the key things to understand is the signature of the *function to apply in monadic context*: it takes the raw value type, and returns the monadic type. \r\n\r\nIn other words, if you have an instance of `Optional&lt;Integer&gt;`, the functions you can pass to its `flatMap` method will have the signature `(Integer) -&gt; Optional&lt;U&gt;`, where `U` is a value type which does not have to be `Integer`, for example `String`:\r\n\r\n    Optional&lt;Integer&gt; maybeInteger = Optional.of(1);\r\n\r\n    // Function that takes Integer and returns Optional&lt;Integer&gt;\r\n    Optional&lt;Integer&gt; maybePlusOne = maybeInteger.flatMap(n -&gt; Optional.of(n + 1));\r\n\r\n    // Function that takes Integer and returns Optional&lt;String&gt;\r\n    Optional&lt;String&gt; maybeString = maybePlusOne.flatMap(n -&gt; Optional.of(n.toString));\r\n\r\nYou don&#39;t need any sort of Monad Interface to code this way, or to think this way. In Scala, you don&#39;t code to a Monad Interface (unless you are using Scalaz library...). It appears that JDK8 will empower Java folks to use this style of *chained monadic computations* as well.\r\n\r\nHope this is helpful!\r\n\r\n**Update:** Blogged about this [here][5].\r\n\r\n\r\n  [1]: http://download.java.net/jdk8/docs/api/java/util/Optional.html\r\n  [2]: http://learnyouahaskell.com/a-fistful-of-monads#monad-laws\r\n  [3]: https://gist.github.com/ms-tg/7420496#file-jdk8_optional_monad_laws-java\r\n  [4]: https://gist.github.com/ms-tg/7420496#file-jdk8_optional_monad_laws-java\r\n  [5]: https://devblog.timgroup.com/2013/11/11/does-jdk8s-optional-class-satisfy-the-monad-laws-yes-it-does/","title":"Monads with Java 8","body":"<p>Just FYI:</p>\n\n<p>The proposed <a href=\"http://download.java.net/jdk8/docs/api/java/util/Optional.html\">JDK8 Optional</a> class <strong>does satisfy</strong> the three <a href=\"http://learnyouahaskell.com/a-fistful-of-monads#monad-laws\">Monad laws</a>. Here's a <a href=\"https://gist.github.com/ms-tg/7420496#file-jdk8_optional_monad_laws-java\">gist demonstrating</a> that.</p>\n\n<p>All it takes be a Monad is to provide <strong>two</strong> functions which conform to <strong>three</strong> laws.</p>\n\n<p>The two functions:</p>\n\n<ol>\n<li><p>Place a <em>value into monadic context</em></p>\n\n<ul>\n<li>Haskell's Maybe: <code>return</code> / <code>Just</code></li>\n<li>Scala's Option: <code>Some</code></li>\n<li>Functional Java's Option: <code>Option.some</code></li>\n<li>JDK8's Optional: <code>Optional.of</code></li>\n</ul></li>\n<li><p>Apply a <em>function in monadic context</em></p>\n\n<ul>\n<li>Haskell's Maybe: <code>&gt;&gt;=</code> (aka <code>bind</code>)</li>\n<li>Scala's Option: <code>flatMap</code></li>\n<li>Functional Java's Option: <code>flatMap</code></li>\n<li>JDK8's Optional: <code>flatMap</code></li>\n</ul></li>\n</ol>\n\n<p>Please see the <a href=\"https://gist.github.com/ms-tg/7420496#file-jdk8_optional_monad_laws-java\">above gist</a> for a java demonstration of the three laws. </p>\n\n<p>NOTE: One of the key things to understand is the signature of the <em>function to apply in monadic context</em>: it takes the raw value type, and returns the monadic type. </p>\n\n<p>In other words, if you have an instance of <code>Optional&lt;Integer&gt;</code>, the functions you can pass to its <code>flatMap</code> method will have the signature <code>(Integer) -&gt; Optional&lt;U&gt;</code>, where <code>U</code> is a value type which does not have to be <code>Integer</code>, for example <code>String</code>:</p>\n\n<pre><code>Optional&lt;Integer&gt; maybeInteger = Optional.of(1);\n\n// Function that takes Integer and returns Optional&lt;Integer&gt;\nOptional&lt;Integer&gt; maybePlusOne = maybeInteger.flatMap(n -&gt; Optional.of(n + 1));\n\n// Function that takes Integer and returns Optional&lt;String&gt;\nOptional&lt;String&gt; maybeString = maybePlusOne.flatMap(n -&gt; Optional.of(n.toString));\n</code></pre>\n\n<p>You don't need any sort of Monad Interface to code this way, or to think this way. In Scala, you don't code to a Monad Interface (unless you are using Scalaz library...). It appears that JDK8 will empower Java folks to use this style of <em>chained monadic computations</em> as well.</p>\n\n<p>Hope this is helpful!</p>\n\n<p><strong>Update:</strong> Blogged about this <a href=\"https://devblog.timgroup.com/2013/11/11/does-jdk8s-optional-class-satisfy-the-monad-laws-yes-it-does/\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":198162,"reputation":3912,"user_id":1924798,"accept_rate":95,"display_name":"Marco Faustinelli"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1486545322,"creation_date":1398584006,"answer_id":23320636,"question_id":13454347,"body_markdown":"Even though monads can be implemented in Java, any computation involving them is doomed to become a messy mix of generics and curly braces.\r\n\r\nI&#39;d say that Java is definitely **not** the language to use in order to illustrate their working or to study their meaning and essence. For this purpose it is far better to use JavaScript or to pay some extra price and learn Haskell.\r\n\r\nAnyway, I am signaling you that I just implemented a **state monad** using the new **Java 8 lambdas**. It&#39;s definitely a pet project, but it works on a non-trivial test case.\r\n\r\nYou may find it presented at [my blog](https://faustinelli.wordpress.com/2014/04/25/the-state-monad-in-java-8-eventually/), but I&#39;ll give you some details here.\r\n\r\n**A state monad is basically a function from a state to a pair (state,content)**. You usually give the state a generic type S and the content a generic type A.\r\n\r\nBecause Java does not have pairs we have to model them using a specific class, let&#39;s call it Scp (state-content pair), which in this case will have generic type `Scp&lt;S,A&gt;` and a constructor `new Scp&lt;S,A&gt;(S state,A content)`. After doing that we can say that the monadic function will have type\r\n\r\n    java.util.function.Function&lt;S,Scp&lt;S,A&gt;&gt;\r\n\r\nwhich is a `@FunctionalInterface`. That&#39;s to say that its one and only implementation method can be invoked without naming it, passing a lambda expression with the right type.\r\n\r\nThe class `StateMonad&lt;S,A&gt;` is mainly a wrapper around the function. Its constructor may be invoked e.g. with\r\n\r\n    new StateMonad&lt;Integer, String&gt;(n -&gt; new Scp&lt;Integer, String&gt;(n + 1, &quot;value&quot;));\r\n\r\nThe state monad stores the function as an instance variable. It is then necessary to provide a public method to access it and feed it the state. I decided to call it `s2scp` (&quot;state to state-content pair&quot;).\r\n\r\nTo complete the definition of the monad you have to provide a *unit* (aka *return*) and a *bind* (aka *flatMap*) method. Personally I prefer to specify unit as static, whereas bind is an instance member.\r\n\r\nIn the case of the state monad, unit gotta be the following:\r\n\r\n\tpublic static &lt;S, A&gt; StateMonad&lt;S, A&gt; unit(A a) {\r\n\t\treturn new StateMonad&lt;S, A&gt;((S s) -&gt; new Scp&lt;S, A&gt;(s, a));\r\n\t}\r\n\r\nwhile bind (as instance member) is:\r\n\r\n\tpublic &lt;B&gt; StateMonad&lt;S, B&gt; bind(final Function&lt;A, StateMonad&lt;S, B&gt;&gt; famb) {\r\n\t\treturn new StateMonad&lt;S, B&gt;((S s) -&gt; {\r\n\t\t\tScp&lt;S, A&gt; currentPair = this.s2scp(s);\r\n\t\t\treturn famb(currentPair.content).s2scp(currentPair.state);\r\n\t\t});\r\n\t}\r\n\r\nYou notice that bind must introduce a generic type B, because it is the mechanism that allows the chaining of heterogeneous state monads and gives this and any other monad the remarkable capability to move the computation from type to type.\r\n\r\nI&#39;d stop here with the Java code. The complex stuff is in the GitHub project. Compared to previous Java versions, lambdas remove a lot of curly braces, but the syntax is still pretty convoluted.\r\n\r\nJust as an aside, I&#39;m showing how similar state monad code may be written in other mainstream languages. In the case of Scala, bind (which in that case **must** be called *flatMap*) reads like \r\n\r\n    def flatMap[A, B](famb: A =&gt; State[S, B]) = new State[S, B]((s: S) =&gt; {\r\n      val (ss: S, aa: A) = this.s2scp(s)\r\n      famb(aa).s2scp(ss)\r\n    })\r\n\r\nwhereas the bind in JavaScript is my favorite; 100% functional, lean and mean but -of course- typeless:\r\n\r\n\tvar bind = function(famb){\r\n\t\treturn state(function(s) {\r\n\t\t\tvar a = this(s);\r\n\t\t\treturn famb(a.value)(a.state);\r\n\t\t});\r\n\t};\r\n\r\n&amp;lt;shameless&amp;gt;\r\nI am cutting a few corners here, but if you are interested in the details you will find them on my WP blog.&amp;lt;/shameless&amp;gt;\r\n","title":"Monads with Java 8","body":"<p>Even though monads can be implemented in Java, any computation involving them is doomed to become a messy mix of generics and curly braces.</p>\n\n<p>I'd say that Java is definitely <strong>not</strong> the language to use in order to illustrate their working or to study their meaning and essence. For this purpose it is far better to use JavaScript or to pay some extra price and learn Haskell.</p>\n\n<p>Anyway, I am signaling you that I just implemented a <strong>state monad</strong> using the new <strong>Java 8 lambdas</strong>. It's definitely a pet project, but it works on a non-trivial test case.</p>\n\n<p>You may find it presented at <a href=\"https://faustinelli.wordpress.com/2014/04/25/the-state-monad-in-java-8-eventually/\" rel=\"noreferrer\">my blog</a>, but I'll give you some details here.</p>\n\n<p><strong>A state monad is basically a function from a state to a pair (state,content)</strong>. You usually give the state a generic type S and the content a generic type A.</p>\n\n<p>Because Java does not have pairs we have to model them using a specific class, let's call it Scp (state-content pair), which in this case will have generic type <code>Scp&lt;S,A&gt;</code> and a constructor <code>new Scp&lt;S,A&gt;(S state,A content)</code>. After doing that we can say that the monadic function will have type</p>\n\n<pre><code>java.util.function.Function&lt;S,Scp&lt;S,A&gt;&gt;\n</code></pre>\n\n<p>which is a <code>@FunctionalInterface</code>. That's to say that its one and only implementation method can be invoked without naming it, passing a lambda expression with the right type.</p>\n\n<p>The class <code>StateMonad&lt;S,A&gt;</code> is mainly a wrapper around the function. Its constructor may be invoked e.g. with</p>\n\n<pre><code>new StateMonad&lt;Integer, String&gt;(n -&gt; new Scp&lt;Integer, String&gt;(n + 1, \"value\"));\n</code></pre>\n\n<p>The state monad stores the function as an instance variable. It is then necessary to provide a public method to access it and feed it the state. I decided to call it <code>s2scp</code> (\"state to state-content pair\").</p>\n\n<p>To complete the definition of the monad you have to provide a <em>unit</em> (aka <em>return</em>) and a <em>bind</em> (aka <em>flatMap</em>) method. Personally I prefer to specify unit as static, whereas bind is an instance member.</p>\n\n<p>In the case of the state monad, unit gotta be the following:</p>\n\n<pre><code>public static &lt;S, A&gt; StateMonad&lt;S, A&gt; unit(A a) {\n    return new StateMonad&lt;S, A&gt;((S s) -&gt; new Scp&lt;S, A&gt;(s, a));\n}\n</code></pre>\n\n<p>while bind (as instance member) is:</p>\n\n<pre><code>public &lt;B&gt; StateMonad&lt;S, B&gt; bind(final Function&lt;A, StateMonad&lt;S, B&gt;&gt; famb) {\n    return new StateMonad&lt;S, B&gt;((S s) -&gt; {\n        Scp&lt;S, A&gt; currentPair = this.s2scp(s);\n        return famb(currentPair.content).s2scp(currentPair.state);\n    });\n}\n</code></pre>\n\n<p>You notice that bind must introduce a generic type B, because it is the mechanism that allows the chaining of heterogeneous state monads and gives this and any other monad the remarkable capability to move the computation from type to type.</p>\n\n<p>I'd stop here with the Java code. The complex stuff is in the GitHub project. Compared to previous Java versions, lambdas remove a lot of curly braces, but the syntax is still pretty convoluted.</p>\n\n<p>Just as an aside, I'm showing how similar state monad code may be written in other mainstream languages. In the case of Scala, bind (which in that case <strong>must</strong> be called <em>flatMap</em>) reads like </p>\n\n<pre><code>def flatMap[A, B](famb: A =&gt; State[S, B]) = new State[S, B]((s: S) =&gt; {\n  val (ss: S, aa: A) = this.s2scp(s)\n  famb(aa).s2scp(ss)\n})\n</code></pre>\n\n<p>whereas the bind in JavaScript is my favorite; 100% functional, lean and mean but -of course- typeless:</p>\n\n<pre><code>var bind = function(famb){\n    return state(function(s) {\n        var a = this(s);\n        return famb(a.value)(a.state);\n    });\n};\n</code></pre>\n\n<p>&lt;shameless&gt;\nI am cutting a few corners here, but if you are interested in the details you will find them on my WP blog.&lt;/shameless&gt;</p>\n"},{"tags":[],"owner":{"account_id":2812323,"reputation":2352,"user_id":2418306,"accept_rate":80,"display_name":"user2418306"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1458040520,"creation_date":1452216525,"answer_id":34668089,"question_id":13454347,"body_markdown":"&gt; Here&#39;s the thing about monads which is hard to grasp: monads are a\r\n&gt; pattern, not a specific type. Monads are a shape, they are an abstract\r\n&gt; interface (not in the Java sense) more than they are a concrete data\r\n&gt; structure. As a result, any example-driven tutorial is doomed to\r\n&gt; incompleteness and failure.\r\n&gt; [...]\r\n&gt; The only way to understand monads is to see them for what they are: a mathematical construct.\r\n\r\n[Monads are not metaphors][1] by Daniel Spiewak\r\n\r\n----------\r\n\r\n**Monads in Java SE 8**\r\n\r\n\r\nList monad\r\n\r\n    interface Person {\r\n        List&lt;Person&gt; parents();\r\n    \r\n        default List&lt;Person&gt; greatGrandParents1() {\r\n            List&lt;Person&gt; list = new ArrayList&lt;&gt;();\r\n            for (Person p : parents()) {\r\n                for (Person gp : p.parents()) {\r\n                    for (Person ggp : p.parents()) {\r\n    \r\n                        list.add(ggp);\r\n                    }\r\n                }\r\n            }\r\n            return list;\r\n        }\r\n    \r\n        // &lt;R&gt; Stream&lt;R&gt; flatMap(Function&lt;? super T, ? extends Stream&lt;? extends R&gt;&gt; mapper)\r\n        default List&lt;Person&gt; greatGrandParents2() {\r\n            return Stream.of(parents())\r\n                    .flatMap(p -&gt; Stream.of(p.parents()))\r\n                    .flatMap(gp -&gt; Stream.of(gp.parents()))\r\n                    .collect(toList());\r\n        }\r\n    }\r\n\r\nMaybe monad\r\n\r\n    interface Person {\r\n        String firstName();\r\n        String middleName();\r\n        String lastName();\r\n    \r\n        default String fullName1() {\r\n            String fName = firstName();\r\n            if (fName != null) {\r\n                String mName = middleName();\r\n                if (mName != null) {\r\n                    String lName = lastName();\r\n                    if (lName != null) {\r\n                        return fName + &quot; &quot; + mName + &quot; &quot; + lName;\r\n                    }\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        // &lt;U&gt; Optional&lt;U&gt; flatMap(Function&lt;? super T, Optional&lt;U&gt;&gt; mapper)\r\n        default Optional&lt;String&gt; fullName2() {\r\n            return Optional.ofNullable(firstName())\r\n                    .flatMap(fName -&gt; Optional.ofNullable(middleName())\r\n                    .flatMap(mName -&gt; Optional.ofNullable(lastName())\r\n                    .flatMap(lName -&gt; Optional.of(fName + &quot; &quot; + mName + &quot; &quot; + lName))));\r\n        }\r\n    }\r\n\r\n\r\n&lt;!-- Promise (`CompletableFuture`) monad. Nested callbacks. --&gt;\r\n\r\n\r\n----------\r\n\r\nMonad is a *generic* pattern for *nested* control flow encapsulation.\r\nI.e. a way to create reusable components from nested imperative idioms.\r\n&lt;!-- (for-each *logic*, optional *logic*, deferred *logic*  etc).--&gt;\r\n\r\nImportant to understand that a monad is not just a generic wrapper class with a *flat map* operation. \r\nFor example, `ArrayList` with a `flatMap` method won&#39;t be a monad.\r\nBecause *monad laws* prohibit side effects.\r\n\r\nMonad is a *formalism*. It describes the structure, regardless of content or meaning. \r\nPeople struggle with relating to meaningless (abstract) things.\r\nSo they come up with metaphors which are not monads.\r\n\r\n*See also:*\r\n[conversation][3] between Erik Meijer and Gilad Bracha. \r\n\r\n  [1]: http://www.codecommit.com/blog/ruby/monads-are-not-metaphors\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/javax/annotation/processing/Processor.html\r\n  [3]: https://youtu.be/QNpKYypLAO8?t=34m8s\r\n  [4]: http://stackoverflow.com/questions/1132051/is-finding-the-equivalence-of-two-functions-undecidable","title":"Monads with Java 8","body":"<blockquote>\n  <p>Here's the thing about monads which is hard to grasp: monads are a\n  pattern, not a specific type. Monads are a shape, they are an abstract\n  interface (not in the Java sense) more than they are a concrete data\n  structure. As a result, any example-driven tutorial is doomed to\n  incompleteness and failure.\n  [...]\n  The only way to understand monads is to see them for what they are: a mathematical construct.</p>\n</blockquote>\n\n<p><a href=\"http://www.codecommit.com/blog/ruby/monads-are-not-metaphors\" rel=\"noreferrer\">Monads are not metaphors</a> by Daniel Spiewak</p>\n\n<hr>\n\n<p><strong>Monads in Java SE 8</strong></p>\n\n<p>List monad</p>\n\n<pre><code>interface Person {\n    List&lt;Person&gt; parents();\n\n    default List&lt;Person&gt; greatGrandParents1() {\n        List&lt;Person&gt; list = new ArrayList&lt;&gt;();\n        for (Person p : parents()) {\n            for (Person gp : p.parents()) {\n                for (Person ggp : p.parents()) {\n\n                    list.add(ggp);\n                }\n            }\n        }\n        return list;\n    }\n\n    // &lt;R&gt; Stream&lt;R&gt; flatMap(Function&lt;? super T, ? extends Stream&lt;? extends R&gt;&gt; mapper)\n    default List&lt;Person&gt; greatGrandParents2() {\n        return Stream.of(parents())\n                .flatMap(p -&gt; Stream.of(p.parents()))\n                .flatMap(gp -&gt; Stream.of(gp.parents()))\n                .collect(toList());\n    }\n}\n</code></pre>\n\n<p>Maybe monad</p>\n\n<pre><code>interface Person {\n    String firstName();\n    String middleName();\n    String lastName();\n\n    default String fullName1() {\n        String fName = firstName();\n        if (fName != null) {\n            String mName = middleName();\n            if (mName != null) {\n                String lName = lastName();\n                if (lName != null) {\n                    return fName + \" \" + mName + \" \" + lName;\n                }\n            }\n        }\n        return null;\n    }\n\n    // &lt;U&gt; Optional&lt;U&gt; flatMap(Function&lt;? super T, Optional&lt;U&gt;&gt; mapper)\n    default Optional&lt;String&gt; fullName2() {\n        return Optional.ofNullable(firstName())\n                .flatMap(fName -&gt; Optional.ofNullable(middleName())\n                .flatMap(mName -&gt; Optional.ofNullable(lastName())\n                .flatMap(lName -&gt; Optional.of(fName + \" \" + mName + \" \" + lName))));\n    }\n}\n</code></pre>\n\n\n\n<hr>\n\n<p>Monad is a <em>generic</em> pattern for <em>nested</em> control flow encapsulation.\nI.e. a way to create reusable components from nested imperative idioms.\n</p>\n\n<p>Important to understand that a monad is not just a generic wrapper class with a <em>flat map</em> operation. \nFor example, <code>ArrayList</code> with a <code>flatMap</code> method won't be a monad.\nBecause <em>monad laws</em> prohibit side effects.</p>\n\n<p>Monad is a <em>formalism</em>. It describes the structure, regardless of content or meaning. \nPeople struggle with relating to meaningless (abstract) things.\nSo they come up with metaphors which are not monads.</p>\n\n<p><em>See also:</em>\n<a href=\"https://youtu.be/QNpKYypLAO8?t=34m8s\" rel=\"noreferrer\">conversation</a> between Erik Meijer and Gilad Bracha. </p>\n"},{"tags":[],"owner":{"account_id":2959906,"reputation":475,"user_id":3146077,"accept_rate":100,"display_name":"Werner Thumann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499452910,"creation_date":1499452910,"answer_id":44977700,"question_id":13454347,"body_markdown":"I like to think of monads in slighlty more mathematical (but still informal) fashion. After that I will explain the relationship to one of Java 8&#39;s monads *CompletableFuture*.\r\n\r\nFirst of all, a monad `M` is a *functor*. That is, it transforms a type into another type: If `X` is a type (e.g. `String`) then we have another type `M&lt;X&gt;` (e.g. `List&lt;String&gt;`). Moreover, if we have a transformation/function `X -&gt; Y` of types, we should get a function `M&lt;X&gt; -&gt; M&lt;Y&gt;`.\r\n\r\nBut there is more data to such a monad. We have a so-called unit which is a function `X -&gt; M&lt;X&gt;` for each type `X`. In other words, each object of `X` can be wrapped in a natural way into the monad.\r\n\r\nThe most characteristic data of a monad, however, is it&#39;s product: a function `M&lt;M&lt;X&gt;&gt; -&gt; M&lt;X&gt;` for each type `X`.\r\n\r\nAll of these data should satisfy some axioms like functoriality, associativity, unit laws, but I won&#39;t go into detail here and it also doesn&#39;t matter for practical usage.\r\n\r\nWe can now deduce another operation for monads, which is often used as an equivalent definition for monads, the binding operation: A value/object in `M&lt;X&gt;` can be bound with a function `X -&gt; M&lt;Y&gt;` to yield another value in `M&lt;Y&gt;`. How do we achieve this? Well, first we apply functoriality to the function to obtain a function `M&lt;X&gt; -&gt; M&lt;M&lt;Y&gt;&gt;`. Next we apply the monadic product to the target to obtain a function `M&lt;X&gt; -&gt; M&lt;Y&gt;`. Now we can plug in the value of `M&lt;X&gt;` to obtain a value in `M&lt;Y&gt;` as desired. This binding operation is used to chain several monadic operations together.\r\n\r\nNow lets come to the *CompletableFuture* example, i.e. `CompletableFuture = M`. Think of an object of `CompletableFuture&lt;MyData&gt;` as some computation that&#39;s performed asynchronously and which yields an object of `MyData` as a result some time in the future. What are the monadic operations here?\r\n\r\n - functoriality is realized with the method `thenApply`: first the computation is performed and as soon as the result is available, the function which is given to `thenApply` is applied to transform the result into another type\r\n - the monadic unit is realized with the method `completedFuture`: as the documentation tells, the resulting computation is already finished and yields the given value at once\r\n - the monadic product is not realized by a function, but the binding operation below is equivalent to it (together with functoriality) and its semantic meaning is simply the following: given a computation of type `CompletableFuture&lt;CompletableFuture&lt;MyData&gt;&gt;` that computation asynchronously yields another computation in `CompletableFuture&lt;MyData&gt;` which in turn yields some value in `MyData` later on, so performing both computations on after the other yields one computation in total\r\n - the resulting binding operation is realized by the method `thenCompose`\r\n\r\nAs you see, computations can now be wrapped up in a special context, namely *asynchronicity*. The general monadic structures enable us to chain such computations in the given context. `CompletableFuture` is for example used in the *Lagom* framework to easily construct highly asynchronous request handlers which are transparently backed up by efficient thread pools (instead of handling each request by a dedicated thread).","title":"Monads with Java 8","body":"<p>I like to think of monads in slighlty more mathematical (but still informal) fashion. After that I will explain the relationship to one of Java 8's monads <em>CompletableFuture</em>.</p>\n\n<p>First of all, a monad <code>M</code> is a <em>functor</em>. That is, it transforms a type into another type: If <code>X</code> is a type (e.g. <code>String</code>) then we have another type <code>M&lt;X&gt;</code> (e.g. <code>List&lt;String&gt;</code>). Moreover, if we have a transformation/function <code>X -&gt; Y</code> of types, we should get a function <code>M&lt;X&gt; -&gt; M&lt;Y&gt;</code>.</p>\n\n<p>But there is more data to such a monad. We have a so-called unit which is a function <code>X -&gt; M&lt;X&gt;</code> for each type <code>X</code>. In other words, each object of <code>X</code> can be wrapped in a natural way into the monad.</p>\n\n<p>The most characteristic data of a monad, however, is it's product: a function <code>M&lt;M&lt;X&gt;&gt; -&gt; M&lt;X&gt;</code> for each type <code>X</code>.</p>\n\n<p>All of these data should satisfy some axioms like functoriality, associativity, unit laws, but I won't go into detail here and it also doesn't matter for practical usage.</p>\n\n<p>We can now deduce another operation for monads, which is often used as an equivalent definition for monads, the binding operation: A value/object in <code>M&lt;X&gt;</code> can be bound with a function <code>X -&gt; M&lt;Y&gt;</code> to yield another value in <code>M&lt;Y&gt;</code>. How do we achieve this? Well, first we apply functoriality to the function to obtain a function <code>M&lt;X&gt; -&gt; M&lt;M&lt;Y&gt;&gt;</code>. Next we apply the monadic product to the target to obtain a function <code>M&lt;X&gt; -&gt; M&lt;Y&gt;</code>. Now we can plug in the value of <code>M&lt;X&gt;</code> to obtain a value in <code>M&lt;Y&gt;</code> as desired. This binding operation is used to chain several monadic operations together.</p>\n\n<p>Now lets come to the <em>CompletableFuture</em> example, i.e. <code>CompletableFuture = M</code>. Think of an object of <code>CompletableFuture&lt;MyData&gt;</code> as some computation that's performed asynchronously and which yields an object of <code>MyData</code> as a result some time in the future. What are the monadic operations here?</p>\n\n<ul>\n<li>functoriality is realized with the method <code>thenApply</code>: first the computation is performed and as soon as the result is available, the function which is given to <code>thenApply</code> is applied to transform the result into another type</li>\n<li>the monadic unit is realized with the method <code>completedFuture</code>: as the documentation tells, the resulting computation is already finished and yields the given value at once</li>\n<li>the monadic product is not realized by a function, but the binding operation below is equivalent to it (together with functoriality) and its semantic meaning is simply the following: given a computation of type <code>CompletableFuture&lt;CompletableFuture&lt;MyData&gt;&gt;</code> that computation asynchronously yields another computation in <code>CompletableFuture&lt;MyData&gt;</code> which in turn yields some value in <code>MyData</code> later on, so performing both computations on after the other yields one computation in total</li>\n<li>the resulting binding operation is realized by the method <code>thenCompose</code></li>\n</ul>\n\n<p>As you see, computations can now be wrapped up in a special context, namely <em>asynchronicity</em>. The general monadic structures enable us to chain such computations in the given context. <code>CompletableFuture</code> is for example used in the <em>Lagom</em> framework to easily construct highly asynchronous request handlers which are transparently backed up by efficient thread pools (instead of handling each request by a dedicated thread).</p>\n"},{"tags":[],"owner":{"account_id":1161310,"reputation":8921,"user_id":1140754,"accept_rate":70,"display_name":"Miguel Gamboa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557488572,"creation_date":1557482136,"answer_id":56075137,"question_id":13454347,"body_markdown":"Despite all controversy about `Optional` satisfying, or not, the Monad laws, I usually like to look at `Stream`, `Optional` and `CompletableFuture` in the same way. In truth, all them provide a `flatMap()` and that is all I care and let me embrace the &quot;_the tasteful composition of side effects_&quot; (cited by Erik Meijer). So we may have corresponding `Stream`, `Optional` and `CompletableFuture` in the following way:\r\n\r\n&lt;a href=&quot;https://gist.github.com/fmcarvalho/2be5ff6419f9d5d8df8c9c11fcd45271&quot;&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/578217/57518402-d4e59f00-7310-11e9-8ae0-f41a91aafd64.png&quot;&gt;&lt;/a&gt;\r\n\r\nRegarding Monads, I usually simplify it only thinking on `flatMap()`(from &quot;_Principles of Reactive Programming_&quot; course by Erik Meijer): \r\n\r\n![Eric-Meijer-flatMap](https://user-images.githubusercontent.com/578217/57518019-06aa3600-7310-11e9-9ffc-08899e231512.png)\r\n","title":"Monads with Java 8","body":"<p>Despite all controversy about <code>Optional</code> satisfying, or not, the Monad laws, I usually like to look at <code>Stream</code>, <code>Optional</code> and <code>CompletableFuture</code> in the same way. In truth, all them provide a <code>flatMap()</code> and that is all I care and let me embrace the \"<em>the tasteful composition of side effects</em>\" (cited by Erik Meijer). So we may have corresponding <code>Stream</code>, <code>Optional</code> and <code>CompletableFuture</code> in the following way:</p>\n\n<p><a href=\"https://gist.github.com/fmcarvalho/2be5ff6419f9d5d8df8c9c11fcd45271\" rel=\"nofollow noreferrer\"><img src=\"https://user-images.githubusercontent.com/578217/57518402-d4e59f00-7310-11e9-8ae0-f41a91aafd64.png\"></a></p>\n\n<p>Regarding Monads, I usually simplify it only thinking on <code>flatMap()</code>(from \"<em>Principles of Reactive Programming</em>\" course by Erik Meijer): </p>\n\n<p><img src=\"https://user-images.githubusercontent.com/578217/57518019-06aa3600-7310-11e9-9ffc-08899e231512.png\" alt=\"Eric-Meijer-flatMap\"></p>\n"},{"tags":[],"owner":{"account_id":474651,"reputation":14676,"user_id":884463,"accept_rate":89,"display_name":"David Tonhofer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603982648,"creation_date":1603982648,"answer_id":64593416,"question_id":13454347,"body_markdown":"A diagram for the &quot;Optional&quot; Monad in Java.\r\n\r\nYour task: Perform operations on the &quot;Actuals&quot; (left side) transforming elements of type `T` _union_  `null` to type `U` _union_  `null` using the function in the light blue box (the **light blue box function**). Just one box is shown here, but there may be a chain of the light blue boxes (thus proceeding from type `U` _union_ `null` to type `V` _union `null` to type `W` _union_ `null` etc.)\r\n\r\nPractically, this will cause you to worry about `null` values appearing in the function application chain. Ugly!\r\n\r\nSolution: Wrap your `T` into an `Optional&lt;T&gt;` using the **light green box functions**, moving to the &quot;Optionals&quot; (right side). Here, transform elements of type `Optional&lt;T&gt;` to type `Optional&lt;U&gt;` using the **red box function**. Mirroring the application of functions to the &quot;Actuals&quot;, there may be several red box functions to be be chained (thus proceeding from type `Optional&lt;U&gt;` to `Optional&lt;V&gt;` then to `Optional&lt;W&gt;` etc.). In the end, move back from the &quot;Optionals&quot; to the &quot;Actuals&quot; through one of the **dark green box functions**.\r\n\r\nNo worrying about `null` values anymore. Implementationwise, there will always be an `Optional&lt;U&gt;`, which may or may not be empty. You can chain the calls to to the **red box functions** without null checks.\r\n\r\nThe key point: The **red box functions** are not implemented individually and directly. Instead, they are obtained from the **blue box functions** (whichever have been implemented and are available, generally the light blue ones) by using either the `map` or the `flatMap` higher-order functions.\r\n\r\nThe grey boxes provide additional support functionality.\r\n\r\nSimples.\r\n\r\n[![Java Optional, how to use it][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rqbRA.png","title":"Monads with Java 8","body":"<p>A diagram for the &quot;Optional&quot; Monad in Java.</p>\n<p>Your task: Perform operations on the &quot;Actuals&quot; (left side) transforming elements of type <code>T</code> <em>union</em>  <code>null</code> to type <code>U</code> <em>union</em>  <code>null</code> using the function in the light blue box (the <strong>light blue box function</strong>). Just one box is shown here, but there may be a chain of the light blue boxes (thus proceeding from type <code>U</code> <em>union</em> <code>null</code> to type <code>V</code> _union <code>null</code> to type <code>W</code> <em>union</em> <code>null</code> etc.)</p>\n<p>Practically, this will cause you to worry about <code>null</code> values appearing in the function application chain. Ugly!</p>\n<p>Solution: Wrap your <code>T</code> into an <code>Optional&lt;T&gt;</code> using the <strong>light green box functions</strong>, moving to the &quot;Optionals&quot; (right side). Here, transform elements of type <code>Optional&lt;T&gt;</code> to type <code>Optional&lt;U&gt;</code> using the <strong>red box function</strong>. Mirroring the application of functions to the &quot;Actuals&quot;, there may be several red box functions to be be chained (thus proceeding from type <code>Optional&lt;U&gt;</code> to <code>Optional&lt;V&gt;</code> then to <code>Optional&lt;W&gt;</code> etc.). In the end, move back from the &quot;Optionals&quot; to the &quot;Actuals&quot; through one of the <strong>dark green box functions</strong>.</p>\n<p>No worrying about <code>null</code> values anymore. Implementationwise, there will always be an <code>Optional&lt;U&gt;</code>, which may or may not be empty. You can chain the calls to to the <strong>red box functions</strong> without null checks.</p>\n<p>The key point: The <strong>red box functions</strong> are not implemented individually and directly. Instead, they are obtained from the <strong>blue box functions</strong> (whichever have been implemented and are available, generally the light blue ones) by using either the <code>map</code> or the <code>flatMap</code> higher-order functions.</p>\n<p>The grey boxes provide additional support functionality.</p>\n<p>Simples.</p>\n<p><a href=\"https://i.stack.imgur.com/rqbRA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rqbRA.png\" alt=\"Java Optional, how to use it\" /></a></p>\n"},{"tags":[],"owner":{"account_id":18509633,"reputation":31,"user_id":13485162,"display_name":"Chris Tsang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640847469,"creation_date":1640798231,"answer_id":70522770,"question_id":13454347,"body_markdown":"Haskell monads is an interface which specify rules to convert “datatype that is wrapped in another datatype” to another  “datatype that is wrapped in another or same datatype”; the conversion steps is specified by a function you define with a format.\r\n\r\nThe function format takes a datatype and return “datatype that is wrapped in another datatype”. You can specify operations/ calculations during conversion e.g. multiply or lookup something. \r\n\r\nIt is so difficult to understand because of the nested abstraction. It is so abstracted so that you can reuse the rules to convert datatype in a datatype without custom programming to unwrap the first “ datatype that is wrapped in another datatype” before putting the data to your specified function; Optional with some datatype is an example of “datatype in a datatype”.\r\n\r\nThe specified function is any lambda confirming the format.\r\n\r\nYou don’t need to fully understand it; you will write your own reusable interface to solve similar problem. Monad is just exist because some mathematicians already hit and resolve that problem, and create monad for you to reuse. But due to its abstraction, it is difficult to learn and reuse in the first place.  \r\n\r\nIn other words, e.g. Optional is a wrapper class, but some data is wrapped , some not, some function take wrapped data type but some don’t, return type can be of type wrapped or not. To chain calling mixture of function which may wrap or not in parameter/return types, you either do your own custom wrap/unwrap or reuse pattern of functor / applicative / monad to deal with all those wrapped/unwrapped combinations of chained function call. Every time u try to put optional to a method that only accept plain value and return optional, the steps are what monad does.","title":"Monads with Java 8","body":"<p>Haskell monads is an interface which specify rules to convert “datatype that is wrapped in another datatype” to another  “datatype that is wrapped in another or same datatype”; the conversion steps is specified by a function you define with a format.</p>\n<p>The function format takes a datatype and return “datatype that is wrapped in another datatype”. You can specify operations/ calculations during conversion e.g. multiply or lookup something.</p>\n<p>It is so difficult to understand because of the nested abstraction. It is so abstracted so that you can reuse the rules to convert datatype in a datatype without custom programming to unwrap the first “ datatype that is wrapped in another datatype” before putting the data to your specified function; Optional with some datatype is an example of “datatype in a datatype”.</p>\n<p>The specified function is any lambda confirming the format.</p>\n<p>You don’t need to fully understand it; you will write your own reusable interface to solve similar problem. Monad is just exist because some mathematicians already hit and resolve that problem, and create monad for you to reuse. But due to its abstraction, it is difficult to learn and reuse in the first place.</p>\n<p>In other words, e.g. Optional is a wrapper class, but some data is wrapped , some not, some function take wrapped data type but some don’t, return type can be of type wrapped or not. To chain calling mixture of function which may wrap or not in parameter/return types, you either do your own custom wrap/unwrap or reuse pattern of functor / applicative / monad to deal with all those wrapped/unwrapped combinations of chained function call. Every time u try to put optional to a method that only accept plain value and return optional, the steps are what monad does.</p>\n"}],"owner":{"account_id":37187,"reputation":46683,"user_id":106261,"accept_rate":87,"display_name":"NimChimpsky"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46828,"favorite_count":0,"down_vote_count":1,"up_vote_count":89,"accepted_answer_id":19932439,"answer_count":10,"score":88,"last_activity_date":1640847469,"creation_date":1353329889,"question_id":13454347,"body_markdown":"In the interests of helping to understand what a monad is, can someone provide an example using java ? Are they possible ?\r\n\r\nLambda expressions are possible using java if you download the pre-release lambda compatible JDK8   from here [http://jdk8.java.net/lambda/][1]\r\n\r\nAn example of a lambda using this JDK is shown below, can someone provide a comparably simple monad ?\r\n\r\n \r\n\r\n    public interface TransformService {\r\n            int[] transform(List&lt;Integer&gt; inputs);\r\n        }\r\n        public static void main(String ars[]) {\r\n            TransformService transformService = (inputs) -&gt; {\r\n                int[] ints = new int[inputs.size()];\r\n                int i = 0;\r\n                for (Integer element : inputs) {\r\n                    ints[i] = element;\r\n                }\r\n                return ints;\r\n            };\r\n    \r\n            List&lt;Integer&gt; inputs = new ArrayList&lt;Integer&gt;(5) {{\r\n                add(10);\r\n                add(10);\r\n            }};\r\n            int[] results = transformService.transform(inputs);\r\n        }\r\n\r\n\r\n\r\n  [1]: http://jdk8.java.net/lambda/","title":"Monads with Java 8","body":"<p>In the interests of helping to understand what a monad is, can someone provide an example using java ? Are they possible ?</p>\n\n<p>Lambda expressions are possible using java if you download the pre-release lambda compatible JDK8   from here <a href=\"http://jdk8.java.net/lambda/\" rel=\"noreferrer\">http://jdk8.java.net/lambda/</a></p>\n\n<p>An example of a lambda using this JDK is shown below, can someone provide a comparably simple monad ?</p>\n\n<pre><code>public interface TransformService {\n        int[] transform(List&lt;Integer&gt; inputs);\n    }\n    public static void main(String ars[]) {\n        TransformService transformService = (inputs) -&gt; {\n            int[] ints = new int[inputs.size()];\n            int i = 0;\n            for (Integer element : inputs) {\n                ints[i] = element;\n            }\n            return ints;\n        };\n\n        List&lt;Integer&gt; inputs = new ArrayList&lt;Integer&gt;(5) {{\n            add(10);\n            add(10);\n        }};\n        int[] results = transformService.transform(inputs);\n    }\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":4,"creation_date":1631610005,"post_id":69174843,"comment_id":122262326,"body_markdown":"&quot;Does Java will create 500 million objects&quot; It might create no objects at all, if escape analysis determines that it doesn&#39;t need to.","body":"&quot;Does Java will create 500 million objects&quot; It might create no objects at all, if escape analysis determines that it doesn&#39;t need to."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":4,"creation_date":1631610107,"post_id":69174843,"comment_id":122262369,"body_markdown":"There is something that objects have in computing which is called &quot;scope&quot;. The variable testObject is declared in the scope of the for loop, it means that once you&#39;re out of it, your variable will go straight to garbage collection. Also, Java code is compiled to byte code before being executed and when this happens, the JVM will perform many optimizations. In your specific example, the object testObject is not used so most probably the JVM wouldn&#39;t even create it at all.","body":"There is something that objects have in computing which is called &quot;scope&quot;. The variable testObject is declared in the scope of the for loop, it means that once you&#39;re out of it, your variable will go straight to garbage collection. Also, Java code is compiled to byte code before being executed and when this happens, the JVM will perform many optimizations. In your specific example, the object testObject is not used so most probably the JVM wouldn&#39;t even create it at all."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1631610276,"post_id":69174843,"comment_id":122262446,"body_markdown":"About the scope (second example), always reduce the scope as much as you can. If you leave the variable `runningServiceInfoList` outside the lambda, it will survive during the whole lifetime of the function. If you actually need that variable to be there only inside the lambda, then declare it inside the lambda so that the JVM will figure out it can go to garbage collection (even though the optimizations I was mentioning above would still make it eligible to garbage collection even if you &quot;forgot&quot; to make it cleanable explicitly)","body":"About the scope (second example), always reduce the scope as much as you can. If you leave the variable <code>runningServiceInfoList</code> outside the lambda, it will survive during the whole lifetime of the function. If you actually need that variable to be there only inside the lambda, then declare it inside the lambda so that the JVM will figure out it can go to garbage collection (even though the optimizations I was mentioning above would still make it eligible to garbage collection even if you &quot;forgot&quot; to make it cleanable explicitly)"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1631610637,"post_id":69174843,"comment_id":122262609,"body_markdown":"To conclude: most languages (including Java) have garbage collection. It means you almost never need to worry about memory because GC does that for you. At the same time, GC is a costly process (languages like C++ don&#39;t have GC, which makes them way faster than Java but leave to you the dirty job of cleaning the memory - and if you don&#39;t, you&#39;ll go quickly into memory leaks), so it&#39;s always suggested you help GC to identify potential candidates for garbage collection. Which translates into &quot;always declare variables in the minimum scope possible&quot;.","body":"To conclude: most languages (including Java) have garbage collection. It means you almost never need to worry about memory because GC does that for you. At the same time, GC is a costly process (languages like C++ don&#39;t have GC, which makes them way faster than Java but leave to you the dirty job of cleaning the memory - and if you don&#39;t, you&#39;ll go quickly into memory leaks), so it&#39;s always suggested you help GC to identify potential candidates for garbage collection. Which translates into &quot;always declare variables in the minimum scope possible&quot;."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631610201,"creation_date":1631610201,"answer_id":69174910,"question_id":69174843,"body_markdown":"The fact that you&#39;re using the same name (in example 1), or even re-assigning to the same variable (in the first snippet of example 2) is inconsequential. A new object will be created, and the old object will be eligible for garbage collection.","title":"Does Java replace an object if it was the same name?","body":"<p>The fact that you're using the same name (in example 1), or even re-assigning to the same variable (in the first snippet of example 2) is inconsequential. A new object will be created, and the old object will be eligible for garbage collection.</p>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1631610806,"creation_date":1631610257,"answer_id":69174924,"question_id":69174843,"body_markdown":"&gt; Does Java will create 500 million objects\r\n\r\nIt might create no objects at all, if escape analysis determines that it doesn&#39;t need to, since it can just work with the field values on the heap instead.\r\n\r\nWorrying about the number of objects created is worrying about things at the wrong level. Think about correctness first, speed later:\r\n\r\n* If `TestObject` is immutable, there is no reason to create it in the loop: you can create it inside the loop if you want, or move it outside and reuse the instance.\r\n\r\n* If `TestObject` is mutable, is there a risk that you will unintentionally leave state from previous iterations, which will corrupt the calculation in the current iteration? If so, unless creating a new `TestObject` is _really_ expensive, just create new instances in the loop, because it&#39;s then more obviously correct. The JVM is really good at optimizing the life cycle of short-lived objects.","title":"Does Java replace an object if it was the same name?","body":"<blockquote>\n<p>Does Java will create 500 million objects</p>\n</blockquote>\n<p>It might create no objects at all, if escape analysis determines that it doesn't need to, since it can just work with the field values on the heap instead.</p>\n<p>Worrying about the number of objects created is worrying about things at the wrong level. Think about correctness first, speed later:</p>\n<ul>\n<li><p>If <code>TestObject</code> is immutable, there is no reason to create it in the loop: you can create it inside the loop if you want, or move it outside and reuse the instance.</p>\n</li>\n<li><p>If <code>TestObject</code> is mutable, is there a risk that you will unintentionally leave state from previous iterations, which will corrupt the calculation in the current iteration? If so, unless creating a new <code>TestObject</code> is <em>really</em> expensive, just create new instances in the loop, because it's then more obviously correct. The JVM is really good at optimizing the life cycle of short-lived objects.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":69174924,"answer_count":2,"score":1,"last_activity_date":1640846851,"creation_date":1631609908,"question_id":69174843,"body_markdown":"Does Java replace an object if it was the same name? This question comes to my mind daily.\r\n\r\n**Example 1:** If I create an object 500 million times with the same object name, does Java create 500 million objects, or will it replace it and stay there in one object?\r\n\r\n    for (int x = 0; x &lt; 500000000; x++) {\r\n        TestObject testObject = new TestObject();\r\n    }\r\n\r\n**Example 2:** Which way is better to avoid creating a new object every click?\r\n    \r\n    //Using this way?\r\n    List &lt; ActivityManager.RunningServiceInfo &gt; runningServiceInfoList = getRunningService();\r\n    activityMainBinding.activityMainConstraintLayout19.setOnClickListener(v - &gt; {\r\n        runningServiceInfoList.clear();\r\n        runningServiceInfoList = getRunningService();\r\n        if (...)\r\n    });\r\n\r\n    //Or this way?\r\n    activityMainBinding.activityMainConstraintLayout19.setOnClickListener(v - &gt; {\r\n        List &lt; ActivityManager.RunningServiceInfo &gt; runningServiceInfoList = getRunningService();\r\n        if (...)\r\n    });","title":"Does Java replace an object if it was the same name?","body":"<p>Does Java replace an object if it was the same name? This question comes to my mind daily.</p>\n<p><strong>Example 1:</strong> If I create an object 500 million times with the same object name, does Java create 500 million objects, or will it replace it and stay there in one object?</p>\n<pre><code>for (int x = 0; x &lt; 500000000; x++) {\n    TestObject testObject = new TestObject();\n}\n</code></pre>\n<p><strong>Example 2:</strong> Which way is better to avoid creating a new object every click?</p>\n<pre><code>//Using this way?\nList &lt; ActivityManager.RunningServiceInfo &gt; runningServiceInfoList = getRunningService();\nactivityMainBinding.activityMainConstraintLayout19.setOnClickListener(v - &gt; {\n    runningServiceInfoList.clear();\n    runningServiceInfoList = getRunningService();\n    if (...)\n});\n\n//Or this way?\nactivityMainBinding.activityMainConstraintLayout19.setOnClickListener(v - &gt; {\n    List &lt; ActivityManager.RunningServiceInfo &gt; runningServiceInfoList = getRunningService();\n    if (...)\n});\n</code></pre>\n"},{"tags":["java","android","eclipse","android-activity"],"comments":[{"owner":{"account_id":3146783,"reputation":11131,"user_id":2661118,"display_name":"Gopal Gopi"},"score":3,"creation_date":1384264043,"post_id":19930846,"comment_id":29658563,"body_markdown":"is log cat showing any error?","body":"is log cat showing any error?"},{"owner":{"account_id":1067942,"reputation":4169,"user_id":1067946,"accept_rate":74,"display_name":"Broak"},"score":1,"creation_date":1384264195,"post_id":19930846,"comment_id":29658658,"body_markdown":"You need to post the logcat","body":"You need to post the logcat"},{"owner":{"account_id":1167649,"reputation":2530,"user_id":1145561,"accept_rate":77,"display_name":"Pradeep"},"score":0,"creation_date":1384264516,"post_id":19930846,"comment_id":29658866,"body_markdown":"Check your R.layout.printing file some view tags may be in small letter.. example instead of TextView may be written as textView","body":"Check your R.layout.printing file some view tags may be in small letter.. example instead of TextView may be written as textView"},{"owner":{"account_id":1341662,"reputation":6557,"user_id":1283215,"accept_rate":63,"display_name":"Hussain Akhtar Wahid &#39;Ghouri&#39;"},"score":0,"creation_date":1384264743,"post_id":19930846,"comment_id":29658991,"body_markdown":"post your log cat man","body":"post your log cat man"},{"owner":{"account_id":3573614,"reputation":1,"user_id":2983402,"display_name":"user2983402"},"score":0,"creation_date":1384266701,"post_id":19930846,"comment_id":29660291,"body_markdown":"Could it be because the two activities reside in different packages within the src folder?","body":"Could it be because the two activities reside in different packages within the src folder?"},{"owner":{"account_id":3573614,"reputation":1,"user_id":2983402,"display_name":"user2983402"},"score":0,"creation_date":1384268956,"post_id":19930846,"comment_id":29661908,"body_markdown":"Hi All,\n\nThanks for your help. I have found the problem. It was a typo in the android:name parameter in the manifest file.\n\nThanks again","body":"Hi All,  Thanks for your help. I have found the problem. It was a typo in the android:name parameter in the manifest file.  Thanks again"}],"answers":[{"tags":[],"owner":{"account_id":3125647,"reputation":4884,"user_id":2644553,"accept_rate":90,"display_name":"Kamlesh Meghwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384264920,"creation_date":1384264920,"answer_id":19931214,"question_id":19930846,"body_markdown":"Try this\r\n\r\n1. Window -&gt; Android SDK Manager -&gt; install &quot;Sources for Android SDK&quot; under Android 4.0\r\n\r\n2. When prompted by &quot;No sources attached...&quot;, click the button, then choose the Directory &quot;your Android SDK directory/sources/android-API level/&quot;\r\n\r\nExample: C:\\...\\android-sdk-windows\\sources\\android-16","title":"Trouble launching new Android activity","body":"<p>Try this</p>\n\n<ol>\n<li><p>Window -> Android SDK Manager -> install \"Sources for Android SDK\" under Android 4.0</p></li>\n<li><p>When prompted by \"No sources attached...\", click the button, then choose the Directory \"your Android SDK directory/sources/android-API level/\"</p></li>\n</ol>\n\n<p>Example: C:...\\android-sdk-windows\\sources\\android-16</p>\n"},{"tags":[],"owner":{"account_id":12821141,"reputation":199,"user_id":9275965,"display_name":"meysam ghorbani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640846720,"creation_date":1640846720,"answer_id":70528270,"question_id":19930846,"body_markdown":"It seems you have problem with the import section in your code. Because the log says that it couldn&#39;t find the pass directory of your activity. \r\nThis is the pass that system is trying to find `com.handpoint.headstart.sample.PrinterDriver` but what you defined in your manifest is `com.handpoint.headstart.android.PrinterDriver` which is different from the another one","title":"Trouble launching new Android activity","body":"<p>It seems you have problem with the import section in your code. Because the log says that it couldn't find the pass directory of your activity.\nThis is the pass that system is trying to find <code>com.handpoint.headstart.sample.PrinterDriver</code> but what you defined in your manifest is <code>com.handpoint.headstart.android.PrinterDriver</code> which is different from the another one</p>\n"}],"owner":{"account_id":3573614,"reputation":1,"user_id":2983402,"display_name":"user2983402"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1593,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1640846720,"creation_date":1384263924,"question_id":19930846,"body_markdown":"I&#39;m having some trouble with launching a new Android activity with code written in Eclipse. I am trying to launch my PrinterDriver activity from my main activity named HomeActivity. However, it crashes and I&#39;m not sure why.\r\n\r\nThe code in HomeActivity is\r\n\r\n\tpublic void PrintMessage(StringBuilder sb) {\r\n\t    Intent intent = new Intent(this, PrinterDriver.class);\r\n\t    String message = sb.toString();\r\n\t    intent.putExtra(&quot;PrintableString&quot;, message);\r\n\t    startActivity(intent);\r\n\t}\r\n\r\nThe code in PrinterDriver is\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n    \tsuper.onCreate(savedInstanceState);\r\n    \tsetContentView(R.layout.printing);\r\n        Intent intent = getIntent();\r\n    \tString sb = intent.getExtras().getString(&quot;PrintableString&quot;);\r\n    \tnew AlertDialog.Builder(PrinterDriver.this).setMessage(sb.toString()).show();\r\n}\r\n\r\n\r\nMy manifest file code for PrinterDriver activity is\r\n\r\n        &lt;activity android:name=&quot;com.handpoint.headstart.android.PrinterDriver&quot;\r\n                  android:theme=&quot;@android:style/Theme.Dialog&quot;\r\n                  android:screenOrientation=&quot;portrait&quot;\r\n                  &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.handpoint.headstart.android.PrinterDriver&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\nThe code never seems to get as far as the onCreate method in PrinterDriver. I&#39;ve placed a breakpoint at the startActivity function and it&#39;s getting to there OK but no further. In the Eclipse Debug environment I get the message, &quot;the jar file c:\\google android sdk\\platforms\\android-14\\android.jar has no source attachment&quot;.\r\n\r\nWhere am I going wrong here?\r\n\r\nThanks in advance for your help\r\n\r\n\r\nEdit:\r\n\r\nMy log cat error messages:\r\n\r\n    11-12 14:25:13.933: E/QcrilMsgTunnelSocket(10629): IOExceptionjava.io.IOException: No such file or directoryReason: No such file or directory\r\n    11-12 14:25:15.875: E/MP-Decision(1702): num online cores: 1 reqd : 2 available : 4 rq_depth:1.000000 hotplug_avg_load_dw: 68\r\n    11-12 14:25:15.875: E/MP-Decision(1702): UP cpu:1 core_idx:1 Nw:1.900000 Tw:140 total_time_up:0.000000\r\n    11-12 14:25:16.476: E/MP-Decision(1702): num online cores: 2 reqd : 1 available : 4 rq_depth:0.000000 hotplug_avg_load_dw: 29\r\n    11-12 14:25:16.476: E/MP-Decision(1702): DOWN cpu:1 core_idx:1 Ns:1.100000 Ts:190 total_time_down:196.000000\r\n    11-12 14:25:17.287: E/MP-Decision(1702): num online cores: 1 reqd : 2 available : 4 rq_depth:1.000000 hotplug_avg_load_dw: 62\r\n    11-12 14:25:17.287: E/MP-Decision(1702): UP cpu:1 core_idx:1 Nw:1.900000 Tw:140 total_time_up:0.000000\r\n    11-12 14:25:17.727: E/MP-Decision(1702): num online cores: 2 reqd : 1 available : 4 rq_depth:0.000000 hotplug_avg_load_dw: 11\r\n    11-12 14:25:17.727: E/MP-Decision(1702): DOWN cpu:1 core_idx:1 Ns:1.100000 Ts:190 total_time_down:196.000000\r\n    11-12 14:25:17.937: E/QcrilMsgTunnelSocket(10629): IOExceptionjava.io.IOException: No such file or directoryReason: No such file or directory\r\n    11-12 14:25:19.048: E/AndroidRuntime(11031): FATAL EXCEPTION: main\r\n    11-12 14:25:19.048: E/AndroidRuntime(11031): android.content.ActivityNotFoundException: Unable to find explicit activity class {com.handpoint.headstart.sample/com.handpoint.headstart.sample.PrinterDriver}; have you declared this activity in your AndroidManifest.xml?\r\n    11-12 14:25:19.048: E/AndroidRuntime(11031): \tat android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:1635)\r\n    11-12 14:25:19.048: E/AndroidRuntime(11031): \tat android.app.Instrumentation.execStartActivity(Instrumentation.java:1434)\r\n    11-12 14:25:19.048: E/AndroidRuntime(11031): \tat android.app.Activity.startActivityForResult(Activity.java:3430)\r\n    11-12 14:25:19.048: E/AndroidRuntime(11031): \tat android.app.Activity.startActivityForResult(Activity.java:3391)\r\n    11-12 14:25:19.048: E/AndroidRuntime(11031): \tat android.app.Activity.startActivity(Activity.java:3626)\r\n    11-12 14:25:19.048: E/AndroidRuntime(11031): \tat android.app.Activity.startActivity(Activity.java:3594)\r\n    11-12 14:25:19.048: E/AndroidRuntime(11031): \tat com.handpoint.headstart.sample.ui.HomeActivity.PrintMessage(HomeActivity.java:1100)\r\n    11-12 14:25:19.048: E/AndroidRuntime(11031): \tat com.handpoint.headstart.sample.ui.HomeActivity$10$1.onClick(HomeActivity.java:1082)\r\n    11-12 14:25:19.048: E/AndroidRuntime(11031): \tat com.android.internal.app.AlertController$AlertParams$3.onItemClick(AlertController.java:976)\r\n    11-12 14:25:19.048: E/AndroidRuntime(11031): \tat android.widget.AdapterView.performItemClick(AdapterView.java:301)\r\n    11-12 14:25:19.048: E/AndroidRuntime(11031): \tat android.widget.AbsListView.performItemClick(AbsListView.java:1519)\r\n    11-12 14:25:19.048: E/AndroidRuntime(11031): \tat android.widget.AbsListView$PerformClick.run(AbsListView.java:3291)\r\n    11-12 14:25:19.048: E/AndroidRuntime(11031): \tat android.widget.AbsListView$1.run(AbsListView.java:4340)\r\n    11-12 14:25:19.048: E/AndroidRuntime(11031): \tat android.os.Handler.handleCallback(Handler.java:725)\r\n    11-12 14:25:19.048: E/AndroidRuntime(11031): \tat android.os.Handler.dispatchMessage(Handler.java:92)\r\n    11-12 14:25:19.048: E/AndroidRuntime(11031): \tat android.os.Looper.loop(Looper.java:137)\r\n    11-12 14:25:19.048: E/AndroidRuntime(11031): \tat android.app.ActivityThread.main(ActivityThread.java:5328)\r\n    11-12 14:25:19.048: E/AndroidRuntime(11031): \tat java.lang.reflect.Method.invokeNative(Native Method)\r\n    11-12 14:25:19.048: E/AndroidRuntime(11031): \tat java.lang.reflect.Method.invoke(Method.java:511)\r\n    11-12 14:25:19.048: E/AndroidRuntime(11031): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1102)\r\n    11-12 14:25:19.048: E/AndroidRuntime(11031): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:869)\r\n    11-12 14:25:19.048: E/AndroidRuntime(11031): \tat dalvik.system.NativeStart.main(Native Method)\r\n    11-12 14:25:19.389: E/MP-Decision(1702): num online cores: 1 reqd : 2 available : 4 rq_depth:1.000000 hotplug_avg_load_dw: 53\r\n    11-12 14:25:19.389: E/MP-Decision(1702): UP cpu:1 core_idx:1 Nw:1.900000 Tw:140 total_time_up:0.000000\r\n    11-12 14:25:19.409: E/android.os.Debug(780): !@Dumpstate &gt; sdumpstate -k -t -z -d -o /data/log/dumpstate_app_error\r\n    11-12 14:25:19.789: E/MP-Decision(1702): num online cores: 2 reqd : 1 available : 4 rq_depth:1.000000 hotplug_avg_load_dw: 11\r\n    11-12 14:25:19.789: E/MP-Decision(1702): DOWN cpu:1 core_idx:1 Ns:1.100000 Ts:190 total_time_down:49.000000\r\n    11-12 14:25:20.710: E/MP-Decision(1702): num online cores: 1 reqd : 2 available : 4 rq_depth:2.500000 hotplug_avg_load_dw: 49\r\n    11-12 14:25:20.710: E/MP-Decision(1702): UP cpu:1 core_idx:1 Nw:1.900000 Tw:140 total_time_up:147.000000\r\n    11-12 14:25:20.910: E/MP-Decision(1702): num online cores: 2 reqd : 3 available : 4 rq_depth:2.700000 hotplug_avg_load_dw: 79\r\n    11-12 14:25:20.910: E/MP-Decision(1702): UP cpu:1 core_idx:1 Nw:1.900000 Tw:140 total_time_up:0.000000\r\n    11-12 14:25:20.910: E/MP-Decision(1702): UP cpu:2 core_idx:2 Nw:2.700000 Tw:90 total_time_up:137.000000\r\n    11-12 14:25:21.161: E/MP-Decision(1702): num online cores: 3 reqd : 2 available : 4 rq_depth:1.300000 hotplug_avg_load_dw: 66\r\n    11-12 14:25:21.161: E/MP-Decision(1702): DOWN cpu:2 core_idx:2 Ns:2.100000 Ts:240 total_time_down:242.000000\r\n    11-12 14:25:21.761: E/QSEECOMAPI:(11198): Error::Failed to open /dev/qseecom device\r\n    11-12 14:25:21.761: E/QSEECOMAPI:(11198): Error::Failed to open /dev/qseecom device\r\n    11-12 14:25:21.761: E/QSEECOMAPI:(11198): Error::Failed to open /dev/qseecom device\r\n    11-12 14:25:21.761: E/QSEECOMAPI:(11198): Error::Failed to open /dev/qseecom device\r\n    11-12 14:25:21.761: E/QSEECOMAPI:(11198): Error::Failed to open /dev/qseecom device\r\n    11-12 14:25:21.931: E/QcrilMsgTunnelSocket(10629): IOExceptionjava.io.IOException: No such file or directoryReason: No such file or directory\r\n    11-12 14:25:22.562: E/MP-Decision(1702): num online cores: 2 reqd : 3 available : 4 rq_depth:3.300000 hotplug_avg_load_dw: 101\r\n    11-12 14:25:22.562: E/MP-Decision(1702): UP cpu:1 core_idx:1 Nw:1.900000 Tw:140 total_time_up:0.000000\r\n    11-12 14:25:22.562: E/MP-Decision(1702): UP cpu:2 core_idx:2 Nw:2.700000 Tw:90 total_time_up:98.000000\r\n\r\n","title":"Trouble launching new Android activity","body":"<p>I'm having some trouble with launching a new Android activity with code written in Eclipse. I am trying to launch my PrinterDriver activity from my main activity named HomeActivity. However, it crashes and I'm not sure why.</p>\n\n<p>The code in HomeActivity is</p>\n\n<pre><code>public void PrintMessage(StringBuilder sb) {\n    Intent intent = new Intent(this, PrinterDriver.class);\n    String message = sb.toString();\n    intent.putExtra(\"PrintableString\", message);\n    startActivity(intent);\n}\n</code></pre>\n\n<p>The code in PrinterDriver is</p>\n\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.printing);\n    Intent intent = getIntent();\n    String sb = intent.getExtras().getString(\"PrintableString\");\n    new AlertDialog.Builder(PrinterDriver.this).setMessage(sb.toString()).show();\n</code></pre>\n\n<p>}</p>\n\n<p>My manifest file code for PrinterDriver activity is</p>\n\n<pre><code>    &lt;activity android:name=\"com.handpoint.headstart.android.PrinterDriver\"\n              android:theme=\"@android:style/Theme.Dialog\"\n              android:screenOrientation=\"portrait\"\n              &gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"com.handpoint.headstart.android.PrinterDriver\" /&gt;\n            &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n</code></pre>\n\n<p>The code never seems to get as far as the onCreate method in PrinterDriver. I've placed a breakpoint at the startActivity function and it's getting to there OK but no further. In the Eclipse Debug environment I get the message, \"the jar file c:\\google android sdk\\platforms\\android-14\\android.jar has no source attachment\".</p>\n\n<p>Where am I going wrong here?</p>\n\n<p>Thanks in advance for your help</p>\n\n<p>Edit:</p>\n\n<p>My log cat error messages:</p>\n\n<pre><code>11-12 14:25:13.933: E/QcrilMsgTunnelSocket(10629): IOExceptionjava.io.IOException: No such file or directoryReason: No such file or directory\n11-12 14:25:15.875: E/MP-Decision(1702): num online cores: 1 reqd : 2 available : 4 rq_depth:1.000000 hotplug_avg_load_dw: 68\n11-12 14:25:15.875: E/MP-Decision(1702): UP cpu:1 core_idx:1 Nw:1.900000 Tw:140 total_time_up:0.000000\n11-12 14:25:16.476: E/MP-Decision(1702): num online cores: 2 reqd : 1 available : 4 rq_depth:0.000000 hotplug_avg_load_dw: 29\n11-12 14:25:16.476: E/MP-Decision(1702): DOWN cpu:1 core_idx:1 Ns:1.100000 Ts:190 total_time_down:196.000000\n11-12 14:25:17.287: E/MP-Decision(1702): num online cores: 1 reqd : 2 available : 4 rq_depth:1.000000 hotplug_avg_load_dw: 62\n11-12 14:25:17.287: E/MP-Decision(1702): UP cpu:1 core_idx:1 Nw:1.900000 Tw:140 total_time_up:0.000000\n11-12 14:25:17.727: E/MP-Decision(1702): num online cores: 2 reqd : 1 available : 4 rq_depth:0.000000 hotplug_avg_load_dw: 11\n11-12 14:25:17.727: E/MP-Decision(1702): DOWN cpu:1 core_idx:1 Ns:1.100000 Ts:190 total_time_down:196.000000\n11-12 14:25:17.937: E/QcrilMsgTunnelSocket(10629): IOExceptionjava.io.IOException: No such file or directoryReason: No such file or directory\n11-12 14:25:19.048: E/AndroidRuntime(11031): FATAL EXCEPTION: main\n11-12 14:25:19.048: E/AndroidRuntime(11031): android.content.ActivityNotFoundException: Unable to find explicit activity class {com.handpoint.headstart.sample/com.handpoint.headstart.sample.PrinterDriver}; have you declared this activity in your AndroidManifest.xml?\n11-12 14:25:19.048: E/AndroidRuntime(11031):    at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:1635)\n11-12 14:25:19.048: E/AndroidRuntime(11031):    at android.app.Instrumentation.execStartActivity(Instrumentation.java:1434)\n11-12 14:25:19.048: E/AndroidRuntime(11031):    at android.app.Activity.startActivityForResult(Activity.java:3430)\n11-12 14:25:19.048: E/AndroidRuntime(11031):    at android.app.Activity.startActivityForResult(Activity.java:3391)\n11-12 14:25:19.048: E/AndroidRuntime(11031):    at android.app.Activity.startActivity(Activity.java:3626)\n11-12 14:25:19.048: E/AndroidRuntime(11031):    at android.app.Activity.startActivity(Activity.java:3594)\n11-12 14:25:19.048: E/AndroidRuntime(11031):    at com.handpoint.headstart.sample.ui.HomeActivity.PrintMessage(HomeActivity.java:1100)\n11-12 14:25:19.048: E/AndroidRuntime(11031):    at com.handpoint.headstart.sample.ui.HomeActivity$10$1.onClick(HomeActivity.java:1082)\n11-12 14:25:19.048: E/AndroidRuntime(11031):    at com.android.internal.app.AlertController$AlertParams$3.onItemClick(AlertController.java:976)\n11-12 14:25:19.048: E/AndroidRuntime(11031):    at android.widget.AdapterView.performItemClick(AdapterView.java:301)\n11-12 14:25:19.048: E/AndroidRuntime(11031):    at android.widget.AbsListView.performItemClick(AbsListView.java:1519)\n11-12 14:25:19.048: E/AndroidRuntime(11031):    at android.widget.AbsListView$PerformClick.run(AbsListView.java:3291)\n11-12 14:25:19.048: E/AndroidRuntime(11031):    at android.widget.AbsListView$1.run(AbsListView.java:4340)\n11-12 14:25:19.048: E/AndroidRuntime(11031):    at android.os.Handler.handleCallback(Handler.java:725)\n11-12 14:25:19.048: E/AndroidRuntime(11031):    at android.os.Handler.dispatchMessage(Handler.java:92)\n11-12 14:25:19.048: E/AndroidRuntime(11031):    at android.os.Looper.loop(Looper.java:137)\n11-12 14:25:19.048: E/AndroidRuntime(11031):    at android.app.ActivityThread.main(ActivityThread.java:5328)\n11-12 14:25:19.048: E/AndroidRuntime(11031):    at java.lang.reflect.Method.invokeNative(Native Method)\n11-12 14:25:19.048: E/AndroidRuntime(11031):    at java.lang.reflect.Method.invoke(Method.java:511)\n11-12 14:25:19.048: E/AndroidRuntime(11031):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1102)\n11-12 14:25:19.048: E/AndroidRuntime(11031):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:869)\n11-12 14:25:19.048: E/AndroidRuntime(11031):    at dalvik.system.NativeStart.main(Native Method)\n11-12 14:25:19.389: E/MP-Decision(1702): num online cores: 1 reqd : 2 available : 4 rq_depth:1.000000 hotplug_avg_load_dw: 53\n11-12 14:25:19.389: E/MP-Decision(1702): UP cpu:1 core_idx:1 Nw:1.900000 Tw:140 total_time_up:0.000000\n11-12 14:25:19.409: E/android.os.Debug(780): !@Dumpstate &gt; sdumpstate -k -t -z -d -o /data/log/dumpstate_app_error\n11-12 14:25:19.789: E/MP-Decision(1702): num online cores: 2 reqd : 1 available : 4 rq_depth:1.000000 hotplug_avg_load_dw: 11\n11-12 14:25:19.789: E/MP-Decision(1702): DOWN cpu:1 core_idx:1 Ns:1.100000 Ts:190 total_time_down:49.000000\n11-12 14:25:20.710: E/MP-Decision(1702): num online cores: 1 reqd : 2 available : 4 rq_depth:2.500000 hotplug_avg_load_dw: 49\n11-12 14:25:20.710: E/MP-Decision(1702): UP cpu:1 core_idx:1 Nw:1.900000 Tw:140 total_time_up:147.000000\n11-12 14:25:20.910: E/MP-Decision(1702): num online cores: 2 reqd : 3 available : 4 rq_depth:2.700000 hotplug_avg_load_dw: 79\n11-12 14:25:20.910: E/MP-Decision(1702): UP cpu:1 core_idx:1 Nw:1.900000 Tw:140 total_time_up:0.000000\n11-12 14:25:20.910: E/MP-Decision(1702): UP cpu:2 core_idx:2 Nw:2.700000 Tw:90 total_time_up:137.000000\n11-12 14:25:21.161: E/MP-Decision(1702): num online cores: 3 reqd : 2 available : 4 rq_depth:1.300000 hotplug_avg_load_dw: 66\n11-12 14:25:21.161: E/MP-Decision(1702): DOWN cpu:2 core_idx:2 Ns:2.100000 Ts:240 total_time_down:242.000000\n11-12 14:25:21.761: E/QSEECOMAPI:(11198): Error::Failed to open /dev/qseecom device\n11-12 14:25:21.761: E/QSEECOMAPI:(11198): Error::Failed to open /dev/qseecom device\n11-12 14:25:21.761: E/QSEECOMAPI:(11198): Error::Failed to open /dev/qseecom device\n11-12 14:25:21.761: E/QSEECOMAPI:(11198): Error::Failed to open /dev/qseecom device\n11-12 14:25:21.761: E/QSEECOMAPI:(11198): Error::Failed to open /dev/qseecom device\n11-12 14:25:21.931: E/QcrilMsgTunnelSocket(10629): IOExceptionjava.io.IOException: No such file or directoryReason: No such file or directory\n11-12 14:25:22.562: E/MP-Decision(1702): num online cores: 2 reqd : 3 available : 4 rq_depth:3.300000 hotplug_avg_load_dw: 101\n11-12 14:25:22.562: E/MP-Decision(1702): UP cpu:1 core_idx:1 Nw:1.900000 Tw:140 total_time_up:0.000000\n11-12 14:25:22.562: E/MP-Decision(1702): UP cpu:2 core_idx:2 Nw:2.700000 Tw:90 total_time_up:98.000000\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","intellij-idea"],"comments":[{"owner":{"account_id":2351678,"reputation":632,"user_id":2060322,"accept_rate":60,"display_name":"Ashu Phaugat"},"score":0,"creation_date":1640826563,"post_id":70526347,"comment_id":124669991,"body_markdown":"Check if this post help you. [java.lang.IllegalArgumentException: Unable to instantiate factory class: org.springframework.boot.env.EnvironmentPostProcessor](https://stackoverflow.com/questions/54642801/java-lang-illegalargumentexception-unable-to-instantiate-factory-class-org-spr)","body":"Check if this post help you. <a href=\"https://stackoverflow.com/questions/54642801/java-lang-illegalargumentexception-unable-to-instantiate-factory-class-org-spr\">java.lang.IllegalArgumentException: Unable to instantiate factory class: org.springframework.boot.env.EnvironmentPostProcessor</a>"},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1640857268,"post_id":70526347,"comment_id":124675504,"body_markdown":"Looks like different (not compatible) versions of the Spring libraries are used. Verify you have correct spring libraries versions set in pom.xml. Try fresh re-import project from Maven pom.xml in IDE: https://www.jetbrains.com/help/idea/maven-support.html#maven_import_project_start","body":"Looks like different (not compatible) versions of the Spring libraries are used. Verify you have correct spring libraries versions set in pom.xml. Try fresh re-import project from Maven pom.xml in IDE: <a href=\"https://www.jetbrains.com/help/idea/maven-support.html#maven_import_project_start\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1641505869,"post_id":70526347,"comment_id":124828463,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":22359857,"reputation":41,"user_id":17539030,"display_name":"Mike Liu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640846611,"creation_date":1640846611,"answer_id":70528254,"question_id":70526347,"body_markdown":"Do you have multiple JDK installed on your system? Please check the project settings in idea, select the right jdk version(SDKs in platform settings) you project use.","title":"Springboot application is not working in Intellij but works in other IDEs","body":"<p>Do you have multiple JDK installed on your system? Please check the project settings in idea, select the right jdk version(SDKs in platform settings) you project use.</p>\n"}],"owner":{"account_id":20523265,"reputation":11,"user_id":15062355,"display_name":"MHN"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":891,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1640846611,"creation_date":1640824355,"question_id":70526347,"body_markdown":"My spring boot application is working fine in IDEs like Netbeans and Eclipse but doesn&#39;t work in Intellij.\r\n\r\nIntellij is throwing this error while starting the application. I tried to clean the cache and restarted the Intellij but didn&#39;t help. Can someone please help me with this? Thanks in advance.  \r\n\r\n    2021-12-29 19:05:22,824[main] ERROR [o.s.b.SpringApplication]  Application run failed\r\n    java.lang.IllegalArgumentException: Unable to instantiate factory class [org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor] for factory type [org.springframework.boot.env.EnvironmentPostProcessor]\r\n    \tat org.springframework.core.io.support.SpringFactoriesLoader.instantiateFactory(SpringFactoriesLoader.java:168)\r\n    \tat org.springframework.core.io.support.SpringFactoriesLoader.loadFactories(SpringFactoriesLoader.java:104)\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener.loadPostProcessors(ConfigFileApplicationListener.java:205)\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEnvironmentPreparedEvent(ConfigFileApplicationListener.java:196)\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEvent(ConfigFileApplicationListener.java:188)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:80)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\r\n    \tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:345)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n    \tat org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:140)\r\n    \tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:206)\r\n    \tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:117)\r\n    \tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:74)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:80)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\r\n    \tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:345)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\r\n    \tat com.fmr.amt.AmtCdsHoldingsEventsHandlerApplication.main(AmtCdsHoldingsEventsHandlerApplication.java:26)\r\n    Caused by: java.lang.NoSuchMethodException: org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.&lt;init&gt;()\r\n    \tat java.lang.Class.getConstructor0(Class.java:3082)\r\n    \tat java.lang.Class.getDeclaredConstructor(Class.java:2178)\r\n    \tat org.springframework.util.ReflectionUtils.accessibleConstructor(ReflectionUtils.java:185)\r\n    \tat org.springframework.core.io.support.SpringFactoriesLoader.instantiateFactory(SpringFactoriesLoader.java:164)\r\n    \t... 27 common frames omitted\r\n    \r\n    Process finished with exit code 1\r\n\r\n","title":"Springboot application is not working in Intellij but works in other IDEs","body":"<p>My spring boot application is working fine in IDEs like Netbeans and Eclipse but doesn't work in Intellij.</p>\n<p>Intellij is throwing this error while starting the application. I tried to clean the cache and restarted the Intellij but didn't help. Can someone please help me with this? Thanks in advance.</p>\n<pre><code>2021-12-29 19:05:22,824[main] ERROR [o.s.b.SpringApplication]  Application run failed\njava.lang.IllegalArgumentException: Unable to instantiate factory class [org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor] for factory type [org.springframework.boot.env.EnvironmentPostProcessor]\n    at org.springframework.core.io.support.SpringFactoriesLoader.instantiateFactory(SpringFactoriesLoader.java:168)\n    at org.springframework.core.io.support.SpringFactoriesLoader.loadFactories(SpringFactoriesLoader.java:104)\n    at org.springframework.boot.context.config.ConfigFileApplicationListener.loadPostProcessors(ConfigFileApplicationListener.java:205)\n    at org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEnvironmentPreparedEvent(ConfigFileApplicationListener.java:196)\n    at org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEvent(ConfigFileApplicationListener.java:188)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:80)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:345)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:140)\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:206)\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:117)\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:74)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:80)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:345)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\n    at com.fmr.amt.AmtCdsHoldingsEventsHandlerApplication.main(AmtCdsHoldingsEventsHandlerApplication.java:26)\nCaused by: java.lang.NoSuchMethodException: org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.&lt;init&gt;()\n    at java.lang.Class.getConstructor0(Class.java:3082)\n    at java.lang.Class.getDeclaredConstructor(Class.java:2178)\n    at org.springframework.util.ReflectionUtils.accessibleConstructor(ReflectionUtils.java:185)\n    at org.springframework.core.io.support.SpringFactoriesLoader.instantiateFactory(SpringFactoriesLoader.java:164)\n    ... 27 common frames omitted\n\nProcess finished with exit code 1\n</code></pre>\n"},{"tags":["javascript","java","android"],"comments":[{"owner":{"account_id":11174172,"reputation":2786,"user_id":8200290,"accept_rate":56,"display_name":"letsCode"},"score":0,"creation_date":1515784189,"post_id":48232526,"comment_id":83447529,"body_markdown":"from a website, website? or from a webview from within your app?","body":"from a website, website? or from a webview from within your app?"},{"owner":{"account_id":12038042,"reputation":110,"user_id":8805918,"display_name":"Varun Dwarkani"},"score":0,"creation_date":1515784369,"post_id":48232526,"comment_id":83447625,"body_markdown":"the button is in my website, and I want that button to open a specific activity in my app @DroiDev . That website is loaded in a webview (different activity)","body":"the button is in my website, and I want that button to open a specific activity in my app @DroiDev . That website is loaded in a webview (different activity)"},{"owner":{"account_id":11174172,"reputation":2786,"user_id":8200290,"accept_rate":56,"display_name":"letsCode"},"score":0,"creation_date":1515788033,"post_id":48232526,"comment_id":83449249,"body_markdown":"you want to look into &quot;deeplink&quot; https://developers.tune.com/sdk/deep-linking-to-your-mobile-app-from-your-website/","body":"you want to look into &quot;deeplink&quot; <a href=\"https://developers.tune.com/sdk/deep-linking-to-your-mobile-app-from-your-website/\" rel=\"nofollow noreferrer\">developers.tune.com/sdk/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":11465957,"reputation":392,"user_id":8404135,"display_name":"Shrey Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515796920,"creation_date":1515796920,"answer_id":48235024,"question_id":48232526,"body_markdown":"This Concept Is Of Deeplinks You Can Achieve This Using \r\n&gt;Firebase&#39;s DynamicLinks \r\n\r\n","title":"How to open android activity from webiview?","body":"<p>This Concept Is Of Deeplinks You Can Achieve This Using </p>\n\n<blockquote>\n  <p>Firebase's DynamicLinks </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":12821141,"reputation":199,"user_id":9275965,"display_name":"meysam ghorbani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640846346,"creation_date":1640846346,"answer_id":70528230,"question_id":48232526,"body_markdown":"In this case you can add a java script interface to webview which is called within java script in your webview and implements some logic in your native code base. As a result you listen to some event from java script and do what you need in your activity or fragment or any component that is hosting webview in itself","title":"How to open android activity from webiview?","body":"<p>In this case you can add a java script interface to webview which is called within java script in your webview and implements some logic in your native code base. As a result you listen to some event from java script and do what you need in your activity or fragment or any component that is hosting webview in itself</p>\n"}],"owner":{"account_id":12038042,"reputation":110,"user_id":8805918,"display_name":"Varun Dwarkani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1640846346,"creation_date":1515783813,"question_id":48232526,"body_markdown":"How do I open a specific android activity from a click inside the webpage which is integrated using webview??\r\n\r\nI want to pass data through that link for that activity too..\r\n","title":"How to open android activity from webiview?","body":"<p>How do I open a specific android activity from a click inside the webpage which is integrated using webview??</p>\n\n<p>I want to pass data through that link for that activity too..</p>\n"},{"tags":["java","android","android-fragments"],"comments":[{"owner":{"account_id":1342401,"reputation":23303,"user_id":1283845,"accept_rate":65,"display_name":"BlackHatSamurai"},"score":1,"creation_date":1371077328,"post_id":17076663,"comment_id":24697736,"body_markdown":"Can you post the crash log please?","body":"Can you post the crash log please?"},{"owner":{"account_id":1342401,"reputation":23303,"user_id":1283845,"accept_rate":65,"display_name":"BlackHatSamurai"},"score":0,"creation_date":1371077520,"post_id":17076663,"comment_id":24697795,"body_markdown":"Possible duplicate: http://stackoverflow.com/questions/3275467/android-set-text-to-textview","body":"Possible duplicate: <a href=\"http://stackoverflow.com/questions/3275467/android-set-text-to-textview\" title=\"android set text to textview\">stackoverflow.com/questions/3275467/&hellip;</a>"},{"owner":{"account_id":2874185,"reputation":975,"user_id":2466763,"accept_rate":50,"display_name":"Filip Eriksson"},"score":0,"creation_date":1371078728,"post_id":17076663,"comment_id":24698111,"body_markdown":"You are right it&#39;s the same question but the &quot;answers&quot; doesn&#39;t work for me.","body":"You are right it&#39;s the same question but the &quot;answers&quot; doesn&#39;t work for me."}],"answers":[{"tags":[],"owner":{"account_id":967410,"reputation":5176,"user_id":990596,"accept_rate":71,"display_name":"neo108"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1640812756,"creation_date":1371077686,"answer_id":17076742,"question_id":17076663,"body_markdown":"If it is a fragment then you will have to inflate the layout first on `onCreateView` before accessing the elements.\r\n\r\n    LayoutInflater lf = getActivity().getLayoutInflater(); \r\n    View view =  lf.inflate(R.layout.fragment, container, false); //pass the correct layout name for the fragment\r\n\r\n    TextView text = (TextView) view.findViewById(R.id.sektion_name_detailed_view);\r\n    text.setText(&quot;Just another sample&quot;);\r\n\r\nThis should fix your problem.","title":"Problems with setText in a fragment in onCreateView(...)","body":"<p>If it is a fragment then you will have to inflate the layout first on <code>onCreateView</code> before accessing the elements.</p>\n<pre><code>LayoutInflater lf = getActivity().getLayoutInflater(); \nView view =  lf.inflate(R.layout.fragment, container, false); //pass the correct layout name for the fragment\n\nTextView text = (TextView) view.findViewById(R.id.sektion_name_detailed_view);\ntext.setText(&quot;Just another sample&quot;);\n</code></pre>\n<p>This should fix your problem.</p>\n"},{"tags":[],"owner":{"account_id":2590914,"reputation":1,"user_id":2245639,"display_name":"H&#224;n Văn Thạo"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1371078275,"creation_date":1371078275,"answer_id":17076835,"question_id":17076663,"body_markdown":"I think maybe you edit like\r\n\r\n    TextView text = (TextView) findViewById(R.id.sektion_name_detailed_view);\r\n    text.setText(&quot;test&quot;);","title":"Problems with setText in a fragment in onCreateView(...)","body":"<p>I think maybe you edit like</p>\n\n<pre><code>TextView text = (TextView) findViewById(R.id.sektion_name_detailed_view);\ntext.setText(\"test\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5296797,"reputation":664,"user_id":4227757,"display_name":"Hamza Rahman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544504582,"creation_date":1544504582,"answer_id":53717654,"question_id":17076663,"body_markdown":"&gt; My Approach is Little bit Different to set Text in Fragment. Basically I use view Object to set Text in Fragment. Because onCreateView() Return a View Every single Component using inflater Class inflate method. So I have Created a View Object Globally and assign it to inflate method and return it in onCtreateView() Method. So, As a Result TextView Component is already Inside the view So I can use it anywhere i want.\r\n\r\n    View inflatedview = null;\r\n\r\n    public CustomerOutstanding() {\r\n        // Required empty public constructor\r\n    }\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        inflatedview = inflater.inflate(R.layout.fragment_customer_outstanding, container, false);\r\n        TotalAmount = (TextView)inflatedview.findViewById(R.id.TotalAmountOutstanding);\r\n\r\n        return inflatedview;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    \r\n","title":"Problems with setText in a fragment in onCreateView(...)","body":"<blockquote>\n  <p>My Approach is Little bit Different to set Text in Fragment. Basically I use view Object to set Text in Fragment. Because onCreateView() Return a View Every single Component using inflater Class inflate method. So I have Created a View Object Globally and assign it to inflate method and return it in onCtreateView() Method. So, As a Result TextView Component is already Inside the view So I can use it anywhere i want.</p>\n</blockquote>\n\n<pre><code>View inflatedview = null;\n\npublic CustomerOutstanding() {\n    // Required empty public constructor\n}\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    inflatedview = inflater.inflate(R.layout.fragment_customer_outstanding, container, false);\n    TotalAmount = (TextView)inflatedview.findViewById(R.id.TotalAmountOutstanding);\n\n    return inflatedview;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21123712,"reputation":52,"user_id":15529296,"display_name":"Yash Shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640846262,"creation_date":1640846262,"answer_id":70528219,"question_id":17076663,"body_markdown":"if you are using databinding so,\r\n\r\n    binding.sektion_name_detailed_view.text=&quot;your_text&quot;\r\n\r\nor\r\n\r\n    binding.sektion_name_detailed_view.text= resources.getString(R.string.your_text)","title":"Problems with setText in a fragment in onCreateView(...)","body":"<p>if you are using databinding so,</p>\n<pre><code>binding.sektion_name_detailed_view.text=&quot;your_text&quot;\n</code></pre>\n<p>or</p>\n<pre><code>binding.sektion_name_detailed_view.text= resources.getString(R.string.your_text)\n</code></pre>\n"}],"owner":{"account_id":2874185,"reputation":975,"user_id":2466763,"accept_rate":50,"display_name":"Filip Eriksson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17478,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":17076742,"answer_count":4,"score":2,"last_activity_date":1640846262,"creation_date":1371077232,"question_id":17076663,"body_markdown":"I know that people has asked similar questions but I still can&#39;t manage. I have a fragment and in the `onCreateView()` I have a string that I want to set equal to the text in my textView. However I can&#39;t make it work. Can somebody please give me a code example of how to write it?\r\n\r\nI have for instance tried this which makes the app crash:\r\n\r\n    TextView text = (TextView) getActivity().findViewById(R.id.sektion_name_detailed_view);\r\n\t\ttext.setText(&quot;test&quot;);\r\n\r\nStacktrace:\r\n\r\n    06-12 23:02:59.926: W/dalvikvm(2402): threadid=1: thread exiting with uncaught exception (group=0x40a13300)\r\n    06-12 23:02:59.933: E/AndroidRuntime(2402): FATAL EXCEPTION: main\r\n    06-12 23:02:59.933: E/AndroidRuntime(2402): java.lang.NullPointerException\r\n    06-12 23:02:59.933: E/AndroidRuntime(2402): \tat se.Appsolut.student.DetailedViewSektionerFragment.onCreateView(DetailedViewSektionerFragment.java:21)\r\n    06-12 23:02:59.933: E/AndroidRuntime(2402): \tat android.support.v4.app.Fragment.performCreateView(Fragment.java:1460)\r\n    06-12 23:02:59.933: E/AndroidRuntime(2402): \tat android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:911)\r\n    06-12 23:02:59.933: E/AndroidRuntime(2402): \tat android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1088)\r\n    06-12 23:02:59.933: E/AndroidRuntime(2402): \tat android.support.v4.app.BackStackRecord.run(BackStackRecord.java:682)\r\n    06-12 23:02:59.933: E/AndroidRuntime(2402): \tat android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1444)\r\n    06-12 23:02:59.933: E/AndroidRuntime(2402): \tat android.support.v4.app.FragmentManagerImpl$1.run(FragmentManager.java:429)\r\n    06-12 23:02:59.933: E/AndroidRuntime(2402): \tat android.os.Handler.handleCallback(Handler.java:615)\r\n    06-12 23:02:59.933: E/AndroidRuntime(2402): \tat android.os.Handler.dispatchMessage(Handler.java:92)\r\n    06-12 23:02:59.933: E/AndroidRuntime(2402): \tat android.os.Looper.loop(Looper.java:137)\r\n    06-12 23:02:59.933: E/AndroidRuntime(2402): \tat android.app.ActivityThread.main(ActivityThread.java:4745)\r\n    06-12 23:02:59.933: E/AndroidRuntime(2402): \tat java.lang.reflect.Method.invokeNative(Native Method)\r\n    06-12 23:02:59.933: E/AndroidRuntime(2402): \tat java.lang.reflect.Method.invoke(Method.java:511)\r\n    06-12 23:02:59.933: E/AndroidRuntime(2402): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)\r\n    06-12 23:02:59.933: E/AndroidRuntime(2402): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)\r\n    06-12 23:02:59.933: E/AndroidRuntime(2402): \tat dalvik.system.NativeStart.main(Native Method)\r\n\r\n","title":"Problems with setText in a fragment in onCreateView(...)","body":"<p>I know that people has asked similar questions but I still can't manage. I have a fragment and in the <code>onCreateView()</code> I have a string that I want to set equal to the text in my textView. However I can't make it work. Can somebody please give me a code example of how to write it?</p>\n\n<p>I have for instance tried this which makes the app crash:</p>\n\n<pre><code>TextView text = (TextView) getActivity().findViewById(R.id.sektion_name_detailed_view);\n    text.setText(\"test\");\n</code></pre>\n\n<p>Stacktrace:</p>\n\n<pre><code>06-12 23:02:59.926: W/dalvikvm(2402): threadid=1: thread exiting with uncaught exception (group=0x40a13300)\n06-12 23:02:59.933: E/AndroidRuntime(2402): FATAL EXCEPTION: main\n06-12 23:02:59.933: E/AndroidRuntime(2402): java.lang.NullPointerException\n06-12 23:02:59.933: E/AndroidRuntime(2402):     at se.Appsolut.student.DetailedViewSektionerFragment.onCreateView(DetailedViewSektionerFragment.java:21)\n06-12 23:02:59.933: E/AndroidRuntime(2402):     at android.support.v4.app.Fragment.performCreateView(Fragment.java:1460)\n06-12 23:02:59.933: E/AndroidRuntime(2402):     at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:911)\n06-12 23:02:59.933: E/AndroidRuntime(2402):     at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1088)\n06-12 23:02:59.933: E/AndroidRuntime(2402):     at android.support.v4.app.BackStackRecord.run(BackStackRecord.java:682)\n06-12 23:02:59.933: E/AndroidRuntime(2402):     at android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1444)\n06-12 23:02:59.933: E/AndroidRuntime(2402):     at android.support.v4.app.FragmentManagerImpl$1.run(FragmentManager.java:429)\n06-12 23:02:59.933: E/AndroidRuntime(2402):     at android.os.Handler.handleCallback(Handler.java:615)\n06-12 23:02:59.933: E/AndroidRuntime(2402):     at android.os.Handler.dispatchMessage(Handler.java:92)\n06-12 23:02:59.933: E/AndroidRuntime(2402):     at android.os.Looper.loop(Looper.java:137)\n06-12 23:02:59.933: E/AndroidRuntime(2402):     at android.app.ActivityThread.main(ActivityThread.java:4745)\n06-12 23:02:59.933: E/AndroidRuntime(2402):     at java.lang.reflect.Method.invokeNative(Native Method)\n06-12 23:02:59.933: E/AndroidRuntime(2402):     at java.lang.reflect.Method.invoke(Method.java:511)\n06-12 23:02:59.933: E/AndroidRuntime(2402):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)\n06-12 23:02:59.933: E/AndroidRuntime(2402):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)\n06-12 23:02:59.933: E/AndroidRuntime(2402):     at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n"},{"tags":["java","android","android-intent","android-studio"],"comments":[{"owner":{"account_id":974927,"reputation":29470,"user_id":996493,"accept_rate":100,"display_name":"Lucifer"},"score":2,"creation_date":1441114586,"post_id":32333043,"comment_id":52540355,"body_markdown":"First of all &quot;singleTop&quot; is not a way to have an activity as Singleton. To make an activity as Singleton, you should use either &quot;singleTask&quot; or as &quot;singleInstance&quot; only this two provides Singleton instance of an activity.","body":"First of all &quot;singleTop&quot; is not a way to have an activity as Singleton. To make an activity as Singleton, you should use either &quot;singleTask&quot; or as &quot;singleInstance&quot; only this two provides Singleton instance of an activity."},{"owner":{"account_id":3021080,"reputation":523,"user_id":2562124,"display_name":"Akber"},"score":0,"creation_date":1441114639,"post_id":32333043,"comment_id":52540393,"body_markdown":"Please visit this link http://stackoverflow.com/questions/7490665/android-activity-singleton","body":"Please visit this link <a href=\"http://stackoverflow.com/questions/7490665/android-activity-singleton\" title=\"android activity singleton\">stackoverflow.com/questions/7490665/android-activity-singlet&zwnj;&#8203;on</a>"},{"owner":{"account_id":1051966,"reputation":32747,"user_id":1055664,"accept_rate":57,"display_name":"Michael"},"score":0,"creation_date":1441114640,"post_id":32333043,"comment_id":52540394,"body_markdown":"What is the difference?","body":"What is the difference?"},{"owner":{"account_id":1051966,"reputation":32747,"user_id":1055664,"accept_rate":57,"display_name":"Michael"},"score":0,"creation_date":1441114682,"post_id":32333043,"comment_id":52540431,"body_markdown":"@Akbar The link does not help at all.","body":"@Akbar The link does not help at all."},{"owner":{"account_id":3021080,"reputation":523,"user_id":2562124,"display_name":"Akber"},"score":0,"creation_date":1441114816,"post_id":32333043,"comment_id":52540527,"body_markdown":"there&#39;s never more than one instance of a &quot;singleTask&quot; or &quot;singleInstance&quot; activity, so previous instance is expected to handle all new intents.","body":"there&#39;s never more than one instance of a &quot;singleTask&quot; or &quot;singleInstance&quot; activity, so previous instance is expected to handle all new intents."},{"owner":{"account_id":1051966,"reputation":32747,"user_id":1055664,"accept_rate":57,"display_name":"Michael"},"score":0,"creation_date":1441114958,"post_id":32333043,"comment_id":52540638,"body_markdown":"This still does not answer the question.","body":"This still does not answer the question."},{"owner":{"account_id":2674098,"reputation":49601,"user_id":2310866,"display_name":"Xaver Kapeller"},"score":0,"creation_date":1441118132,"post_id":32333043,"comment_id":52542903,"body_markdown":"Short answer: What you are trying to do is impossible. But much more important: **Never ever ever** create an instance of an `Activity` directly. Kind of longer answer: Android does not work like you seem to believe. Everything that has to do with the UI is fair game for the garbage collector if the user can&#39;t see it anymore (locking the screen  or navigating to another `Activity` is more than enough). There is no such thing as a singleton `Activity`, flags like `singleTop` and `singleInstance` which by the way do two very different things just describe the behavior of the `Activity`.","body":"Short answer: What you are trying to do is impossible. But much more important: <b>Never ever ever</b> create an instance of an <code>Activity</code> directly. Kind of longer answer: Android does not work like you seem to believe. Everything that has to do with the UI is fair game for the garbage collector if the user can&#39;t see it anymore (locking the screen  or navigating to another <code>Activity</code> is more than enough). There is no such thing as a singleton <code>Activity</code>, flags like <code>singleTop</code> and <code>singleInstance</code> which by the way do two very different things just describe the behavior of the <code>Activity</code>."},{"owner":{"account_id":2674098,"reputation":49601,"user_id":2310866,"display_name":"Xaver Kapeller"},"score":0,"creation_date":1441118257,"post_id":32333043,"comment_id":52542989,"body_markdown":"And additionally if you ignore my warnings completely and start to hold a reference to an `Activity` somewhere you create two thing and twk thing only: a memory leak and an app which doesn&#39;t work. When building a mobile app think of it more like a mobile Web app. Pretty much the same philosophies apply.","body":"And additionally if you ignore my warnings completely and start to hold a reference to an <code>Activity</code> somewhere you create two thing and twk thing only: a memory leak and an app which doesn&#39;t work. When building a mobile app think of it more like a mobile Web app. Pretty much the same philosophies apply."}],"answers":[{"tags":[],"owner":{"account_id":12821141,"reputation":199,"user_id":9275965,"display_name":"meysam ghorbani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640846156,"creation_date":1640846156,"answer_id":70528211,"question_id":32333043,"body_markdown":"First you should be aware that you can not create an instance of activity by it&#39;s constructor and the only way is using intent to start it. The second point is the launch mode of activity that you should consider. `singleTop` means to bring the activity to top of the task not anymore and this doesn&#39;t mean that you have the same instance always, only if you have a created instance, android system use it instead of creating new activity in that stack. If you use `singleTask` the same instance will be used by system and the whole task containing the activity instance will be moved to top. And with a little different, the `singleInstance` launch mode means for system to use the same instance of activity in a single activity task and no other activity will be added to that task. And the default option is `standard` that after any intent to create the activity, it creates and launches a new instance of activity each time. I hope it was helpful.","title":"Get Singleton Instance of Android Activity?","body":"<p>First you should be aware that you can not create an instance of activity by it's constructor and the only way is using intent to start it. The second point is the launch mode of activity that you should consider. <code>singleTop</code> means to bring the activity to top of the task not anymore and this doesn't mean that you have the same instance always, only if you have a created instance, android system use it instead of creating new activity in that stack. If you use <code>singleTask</code> the same instance will be used by system and the whole task containing the activity instance will be moved to top. And with a little different, the <code>singleInstance</code> launch mode means for system to use the same instance of activity in a single activity task and no other activity will be added to that task. And the default option is <code>standard</code> that after any intent to create the activity, it creates and launches a new instance of activity each time. I hope it was helpful.</p>\n"}],"owner":{"account_id":1051966,"reputation":32747,"user_id":1055664,"accept_rate":57,"display_name":"Michael"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1742,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1640846156,"creation_date":1441114407,"question_id":32333043,"body_markdown":"I have an Android Activity. I want that this Activity is a Singleton. I did this by setting\r\n\r\n    android:launchMode=&quot;singleTop&quot;\r\n\r\nin my ``AndroidManifest.xml``. Now I need a reference to this single Activity without starting it with an Intent.\r\n\r\nI could create an instance like this: \r\n\r\n    MyActivity a = new MyActivity();\r\n\r\nThis would leads to a different instance than I would get when I do: \r\n\r\n    Intent intent = new Intent(context, MyActivity.class); \r\n    startActivity(intent);\r\n\r\n\r\n**How do I get the same instance of my Activity as the Android system creates?**","title":"Get Singleton Instance of Android Activity?","body":"<p>I have an Android Activity. I want that this Activity is a Singleton. I did this by setting</p>\n\n<pre><code>android:launchMode=\"singleTop\"\n</code></pre>\n\n<p>in my <code>AndroidManifest.xml</code>. Now I need a reference to this single Activity without starting it with an Intent.</p>\n\n<p>I could create an instance like this: </p>\n\n<pre><code>MyActivity a = new MyActivity();\n</code></pre>\n\n<p>This would leads to a different instance than I would get when I do: </p>\n\n<pre><code>Intent intent = new Intent(context, MyActivity.class); \nstartActivity(intent);\n</code></pre>\n\n<p><strong>How do I get the same instance of my Activity as the Android system creates?</strong></p>\n"},{"tags":["java","spring-boot","maven","maven-3"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1615929103,"post_id":66663317,"comment_id":117843771,"body_markdown":"Why are you using so much options like `-Dmaven.wagon.http.ssl.insecure=true` and `-Xmx4096m`? Furthermore have you tested on plain command not from within the terminal of the IDe ... ? Why are you using `install` and not `verify` ?","body":"Why are you using so much options like <code>-Dmaven.wagon.http.ssl.insecure=true</code> and <code>-Xmx4096m</code>? Furthermore have you tested on plain command not from within the terminal of the IDe ... ? Why are you using <code>install</code> and not <code>verify</code> ?"},{"owner":{"account_id":19812774,"reputation":83,"user_id":14511185,"display_name":"Hitesh Kirtane"},"score":0,"creation_date":1615964748,"post_id":66663317,"comment_id":117851772,"body_markdown":"These options are necessary as I am operating behind a corporate proxy which requires a secure SSL connection (so used it to bypass it) and for the second option was just added to avoid out-of-memory error as there are so many classes maven has to compile.\n\nThe reason why I am using install is that I want that artifact to be installed in the local repository. Also even if I try simple command mvn clean verify from command prompt outside the IDE, the same issue is there.","body":"These options are necessary as I am operating behind a corporate proxy which requires a secure SSL connection (so used it to bypass it) and for the second option was just added to avoid out-of-memory error as there are so many classes maven has to compile.  The reason why I am using install is that I want that artifact to be installed in the local repository. Also even if I try simple command mvn clean verify from command prompt outside the IDE, the same issue is there."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1615966155,"post_id":66663317,"comment_id":117852220,"body_markdown":"4 GiB RAM for compiling? How many class do you have? I doubt that it is related .... Just try to run without tests `mvn clean verify -Dmaven.test.skip=true -X` on plain command line ... (redirect into a file the log output)...","body":"4 GiB RAM for compiling? How many class do you have? I doubt that it is related .... Just try to run without tests <code>mvn clean verify -Dmaven.test.skip=true -X</code> on plain command line ... (redirect into a file the log output)..."},{"owner":{"account_id":19812774,"reputation":83,"user_id":14511185,"display_name":"Hitesh Kirtane"},"score":0,"creation_date":1615980817,"post_id":66663317,"comment_id":117858291,"body_markdown":"@khmarbaise Please read my comment above. The output is same even if I am running ```mvn clean verify -Dmaven.test.skip=true -X``` on plain command line. I have also observed that java.exe process gets terminated during the build process may be due to high CPU utilization, but there is no way by which I can confirm the exact issue.","body":"@khmarbaise Please read my comment above. The output is same even if I am running <code>mvn clean verify -Dmaven.test.skip=true -X</code> on plain command line. I have also observed that java.exe process gets terminated during the build process may be due to high CPU utilization, but there is no way by which I can confirm the exact issue."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1615981629,"post_id":66663317,"comment_id":117858626,"body_markdown":"Are you running a virus scanner ? My assumption is that based on the change of files etc. the virus scanner is being triggered and produces the problem..","body":"Are you running a virus scanner ? My assumption is that based on the change of files etc. the virus scanner is being triggered and produces the problem.."},{"owner":{"account_id":19812774,"reputation":83,"user_id":14511185,"display_name":"Hitesh Kirtane"},"score":0,"creation_date":1615994868,"post_id":66663317,"comment_id":117865453,"body_markdown":"Yes, but I cannot disable the antivirus as it is being managed by IT administrator of the organization, also it doesn&#39;t show any warnings or logs for threats/malicious programs detected in logs which I can show to the IT administrator and ask for disabling it temporarily.","body":"Yes, but I cannot disable the antivirus as it is being managed by IT administrator of the organization, also it doesn&#39;t show any warnings or logs for threats/malicious programs detected in logs which I can show to the IT administrator and ask for disabling it temporarily."}],"answers":[{"tags":[],"owner":{"account_id":19812774,"reputation":83,"user_id":14511185,"display_name":"Hitesh Kirtane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1630094520,"creation_date":1630094520,"answer_id":68958827,"question_id":66663317,"body_markdown":"Finally, I found the root cause of this issue.\r\n\r\nThe issue was the system files on the hard drive were corrupt causing malfunctioning of the system, and the reason for the corruption of system files was the Hard Drive on the system was failing i.e. it had too many bad sectors.\r\n\r\nThus, replaced the new hard drive in the system and reinstalled the operating system, and did all the required setup.\r\n\r\nThe issue is now resolved.","title":"Maven Build Process Gets Terminated Without Any Error","body":"<p>Finally, I found the root cause of this issue.</p>\n<p>The issue was the system files on the hard drive were corrupt causing malfunctioning of the system, and the reason for the corruption of system files was the Hard Drive on the system was failing i.e. it had too many bad sectors.</p>\n<p>Thus, replaced the new hard drive in the system and reinstalled the operating system, and did all the required setup.</p>\n<p>The issue is now resolved.</p>\n"},{"tags":[],"owner":{"account_id":10123429,"reputation":51,"user_id":7479626,"display_name":"Ihsan ALGUL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640422100,"creation_date":1640422100,"answer_id":70478911,"question_id":66663317,"body_markdown":"I encountered with the same problem but I just tried different jdk that intelliJ Idea already suggest to download i.e. [Amazon Corretto version 8][1] then I got any error and so process finished successfully.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/corretto/latest/corretto-8-ug/downloads-list.html","title":"Maven Build Process Gets Terminated Without Any Error","body":"<p>I encountered with the same problem but I just tried different jdk that intelliJ Idea already suggest to download i.e. <a href=\"https://docs.aws.amazon.com/corretto/latest/corretto-8-ug/downloads-list.html\" rel=\"nofollow noreferrer\">Amazon Corretto version 8</a> then I got any error and so process finished successfully.</p>\n"},{"tags":[],"owner":{"account_id":11574194,"reputation":4445,"user_id":8480069,"display_name":"Tasnuva Tavasum oshin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640846121,"creation_date":1640846121,"answer_id":70528203,"question_id":66663317,"body_markdown":"**Run in the same problem while migrating project from JAVA 8 to JAVA 11, upgrading jacoco-plugin from 0.8.1 to 0.8.4 did the job.\r\nAnalysing maven dependencies, seeing from where jacoco is pulled and then fixing the version should solve the issue**","title":"Maven Build Process Gets Terminated Without Any Error","body":"<p><strong>Run in the same problem while migrating project from JAVA 8 to JAVA 11, upgrading jacoco-plugin from 0.8.1 to 0.8.4 did the job.\nAnalysing maven dependencies, seeing from where jacoco is pulled and then fixing the version should solve the issue</strong></p>\n"}],"owner":{"account_id":19812774,"reputation":83,"user_id":14511185,"display_name":"Hitesh Kirtane"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1591,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68958827,"answer_count":3,"score":0,"last_activity_date":1640846121,"creation_date":1615928301,"question_id":66663317,"body_markdown":"**Hello Team,**\r\n\r\nI am running a Maven Build (mvn clean install) on my system where the Maven Build is getting terminated after the below line without any error.\r\n\r\n    [INFO] Compiling 231 source files to C:\\Users\\abc\\git\\ebiz-utils-lib\\target\\classes\r\n\r\nI am using the latest maven version 3.6.3 (with hardware configuration - Intel i5 4th Generation Processor and 16 GB RAM).\r\n\r\nBelow are the commands which I am using to perform maven build of the project.\r\n\r\n**In IntelliJ:**\r\n\r\nD:\\Software\\jdk-11.0.10+9\\bin\\java.exe -Dmaven.multiModuleProjectDirectory=C:\\Users\\abc\\git\\ebiz-utils-lib -Xms512m -Xmx1024m -Xmx4096m -XX:MaxPermSize=512m -XX:ReservedCodeCacheSize=300m -Dmaven.wagon.http.ssl.insecure=true -Dmaven.wagon.http.ssl.allowall=true -Dmaven.wagon.http.ssl.ignore.validity.dates=true -Dmaven.home=D:\\ebiz_new\\maven\\apache-maven -Dclassworlds.conf=D:\\ebiz_new\\maven\\apache-maven\\bin\\m2.conf &quot;-Dmaven.ext.class.path=C:\\Users\\abc\\AppData\\Local\\JetBrains\\IntelliJ IDEA Community Edition 2020.3.2\\plugins\\maven\\lib\\maven-event-listener.jar&quot; &quot;-javaagent:C:\\Users\\abc\\AppData\\Local\\JetBrains\\IntelliJ IDEA Community Edition 2020.3.2\\lib\\idea_rt.jar=60635:C:\\Users\\abc\\AppData\\Local\\JetBrains\\IntelliJ IDEA Community Edition 2020.3.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath D:\\ebiz_new\\maven\\apache-maven\\boot\\plexus-classworlds-2.6.0.jar;D:\\ebiz_new\\maven\\apache-maven\\boot\\plexus-classworlds.license org.codehaus.classworlds.Launcher -Didea.version=2020.3.2 --update-snapshots -X -e clean install\r\n\r\n**In Local Terminal:**\r\nmvn clean install\r\n\r\nI have tried several solutions but nothing worked for this issue.\r\n\r\nThe same issue persists in the IDE and in the console as well.\r\n\r\nI downloaded the new maven distributable also but that even didn&#39;t work for me.\r\n\r\nI have added screenshots herewith for your perusal.\r\n\r\nEdit: I have also observed that java.exe process gets terminated during the build process for maven (may be due to high CPU utilization as the CPU utilization percentage moves into range of 80% - 100%), but there is no way by which I can confirm the exact issue.\r\n\r\nRequest you to provide some solution for this issue.\r\n\r\nThanks.\r\n\r\n[![Error in IntelliJ][1]][1]\r\n\r\n[![Error in Local Terminal][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/p481u.png\r\n  [2]: https://i.stack.imgur.com/fcpiO.png","title":"Maven Build Process Gets Terminated Without Any Error","body":"<p><strong>Hello Team,</strong></p>\n<p>I am running a Maven Build (mvn clean install) on my system where the Maven Build is getting terminated after the below line without any error.</p>\n<pre><code>[INFO] Compiling 231 source files to C:\\Users\\abc\\git\\ebiz-utils-lib\\target\\classes\n</code></pre>\n<p>I am using the latest maven version 3.6.3 (with hardware configuration - Intel i5 4th Generation Processor and 16 GB RAM).</p>\n<p>Below are the commands which I am using to perform maven build of the project.</p>\n<p><strong>In IntelliJ:</strong></p>\n<p>D:\\Software\\jdk-11.0.10+9\\bin\\java.exe -Dmaven.multiModuleProjectDirectory=C:\\Users\\abc\\git\\ebiz-utils-lib -Xms512m -Xmx1024m -Xmx4096m -XX:MaxPermSize=512m -XX:ReservedCodeCacheSize=300m -Dmaven.wagon.http.ssl.insecure=true -Dmaven.wagon.http.ssl.allowall=true -Dmaven.wagon.http.ssl.ignore.validity.dates=true -Dmaven.home=D:\\ebiz_new\\maven\\apache-maven -Dclassworlds.conf=D:\\ebiz_new\\maven\\apache-maven\\bin\\m2.conf &quot;-Dmaven.ext.class.path=C:\\Users\\abc\\AppData\\Local\\JetBrains\\IntelliJ IDEA Community Edition 2020.3.2\\plugins\\maven\\lib\\maven-event-listener.jar&quot; &quot;-javaagent:C:\\Users\\abc\\AppData\\Local\\JetBrains\\IntelliJ IDEA Community Edition 2020.3.2\\lib\\idea_rt.jar=60635:C:\\Users\\abc\\AppData\\Local\\JetBrains\\IntelliJ IDEA Community Edition 2020.3.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath D:\\ebiz_new\\maven\\apache-maven\\boot\\plexus-classworlds-2.6.0.jar;D:\\ebiz_new\\maven\\apache-maven\\boot\\plexus-classworlds.license org.codehaus.classworlds.Launcher -Didea.version=2020.3.2 --update-snapshots -X -e clean install</p>\n<p><strong>In Local Terminal:</strong>\nmvn clean install</p>\n<p>I have tried several solutions but nothing worked for this issue.</p>\n<p>The same issue persists in the IDE and in the console as well.</p>\n<p>I downloaded the new maven distributable also but that even didn't work for me.</p>\n<p>I have added screenshots herewith for your perusal.</p>\n<p>Edit: I have also observed that java.exe process gets terminated during the build process for maven (may be due to high CPU utilization as the CPU utilization percentage moves into range of 80% - 100%), but there is no way by which I can confirm the exact issue.</p>\n<p>Request you to provide some solution for this issue.</p>\n<p>Thanks.</p>\n<p><a href=\"https://i.stack.imgur.com/p481u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p481u.png\" alt=\"Error in IntelliJ\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/fcpiO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fcpiO.png\" alt=\"Error in Local Terminal\" /></a></p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1520063637,"post_id":49081955,"comment_id":85169293,"body_markdown":"In a rare instance, I actually found a Code Ranch article which is an exact duplicate of your question: https://coderanch.com/mobile/t/375438/java/appendReplacement-appendTail","body":"In a rare instance, I actually found a Code Ranch article which is an exact duplicate of your question: <a href=\"https://coderanch.com/mobile/t/375438/java/appendReplacement-appendTail\" rel=\"nofollow noreferrer\">coderanch.com/mobile/t/375438/java/appendReplacement-appendT&zwnj;&#8203;ail</a>"},{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1520063651,"post_id":49081955,"comment_id":85169295,"body_markdown":"Just adapt that code sample to your problem.","body":"Just adapt that code sample to your problem."},{"owner":{"account_id":1031279,"reputation":7717,"user_id":1039555,"accept_rate":56,"display_name":"Kartik"},"score":0,"creation_date":1520066809,"post_id":49081955,"comment_id":85169970,"body_markdown":"@TimBiegeleisen It&#39;s a different problem, I don&#39;t think it can be solved simply by using `appendReplacement`, which gives the matched part of the string.","body":"@TimBiegeleisen It&#39;s a different problem, I don&#39;t think it can be solved simply by using <code>appendReplacement</code>, which gives the matched part of the string."},{"owner":{"account_id":12944998,"reputation":156,"user_id":9359607,"display_name":"Muthu"},"score":0,"creation_date":1520068203,"post_id":49081955,"comment_id":85170298,"body_markdown":"Map&lt;String, String&gt; valuesMap = new HashMap&lt;String, String&gt;();\n valuesMap.put(&quot;animal&quot;, &quot;quick brown fox&quot;);\n valuesMap.put(&quot;target&quot;, &quot;lazy dog&quot;);\n String templateString = &quot;The ${animal} jumped over the ${target}.&quot;;\n StrSubstitutor sub = new StrSubstitutor(valuesMap);\n String resolvedString = sub.replace(templateString);","body":"Map&lt;String, String&gt; valuesMap = new HashMap&lt;String, String&gt;();  valuesMap.put(&quot;animal&quot;, &quot;quick brown fox&quot;);  valuesMap.put(&quot;target&quot;, &quot;lazy dog&quot;);  String templateString = &quot;The ${animal} jumped over the ${target}.&quot;;  StrSubstitutor sub = new StrSubstitutor(valuesMap);  String resolvedString = sub.replace(templateString);"}],"answers":[{"tags":[],"owner":{"account_id":11654337,"reputation":10326,"user_id":8534588,"accept_rate":86,"display_name":"Josh Withee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1520142071,"creation_date":1520142071,"answer_id":49092373,"question_id":49081955,"body_markdown":"You can do this with named capture groups:\n\n\n    String userInput = &quot;dog loves fox.&quot;;\n\n    String types[] = {&quot;The quick brown (?&lt;animal&gt;.*?) jumped over the lazy (?&lt;target&gt;.*?).&quot;,\n                      &quot;(?&lt;target&gt;.*?) loves (?&lt;animal&gt;.*?).&quot;,\n                      &quot;(?&lt;animal&gt;.*?) became friends with (?&lt;target&gt;.*?)&quot;};\n    \n    Matcher m;\n    \n    for(int i=0; i&lt;types.length(); i++;){\n        if(userInput.matches(types[i]){\n            m = Pattern.compile(types[i]).matcher(userInput);\n            break;\n        }\n    }\n    \n    m.find();\n    \n    String animal = m.group(&quot;animal&quot;);\n    String target = m.group(&quot;target&quot;);","title":"Extract variable values from String","body":"<p>You can do this with named capture groups:</p>\n\n<pre><code>String userInput = \"dog loves fox.\";\n\nString types[] = {\"The quick brown (?&lt;animal&gt;.*?) jumped over the lazy (?&lt;target&gt;.*?).\",\n                  \"(?&lt;target&gt;.*?) loves (?&lt;animal&gt;.*?).\",\n                  \"(?&lt;animal&gt;.*?) became friends with (?&lt;target&gt;.*?)\"};\n\nMatcher m;\n\nfor(int i=0; i&lt;types.length(); i++;){\n    if(userInput.matches(types[i]){\n        m = Pattern.compile(types[i]).matcher(userInput);\n        break;\n    }\n}\n\nm.find();\n\nString animal = m.group(\"animal\");\nString target = m.group(\"target\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1031279,"reputation":7717,"user_id":1039555,"accept_rate":56,"display_name":"Kartik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568938341,"creation_date":1520150102,"answer_id":49093228,"question_id":49081955,"body_markdown":"Using @Josh Withee&#39;s [answer][1]:-\r\n\r\n    /**\r\n     * @param input         String from which values need to be extracted\r\n     * @param templates     Valid regex patterns with capturing groups\r\n     * @param variableNames Names for named capturing groups\r\n     * @return Map with variableNames as the keys and the extracted strings as map values\r\n     * OR an empty, non-null map if the input doesn&#39;t match with any template, or if there is no group with the given variableNames\r\n     */\r\n    public static Map&lt;String, String&gt; extractVariablesFromString(String input, List&lt;String&gt; templates, String... variableNames) {\r\n            Map&lt;String, String&gt; resultMap = new HashMap&lt;&gt;();\r\n            Optional&lt;String&gt; matchedTemplate = templates.stream().filter(input::matches).findFirst();\r\n            matchedTemplate.ifPresent(t -&gt; {\r\n                Matcher m = Pattern.compile(t).matcher(input);\r\n                m.find();\r\n                Arrays.stream(variableNames)\r\n                        .forEach(v -&gt; {\r\n                            try {\r\n                                resultMap.put(v, m.group(v));\r\n                            } catch (IllegalArgumentException e) {\r\n                            }\r\n                        });\r\n            });\r\n            return resultMap;\r\n        }\r\n\r\nTests:-\r\n\r\n        @Test\r\n        public void shouldExtractVariablesFromString() {\r\n            String input = &quot;The quick brown fox jumped over the lazy dog.&quot;;\r\n            String types[] = {&quot;The quick brown (?&lt;animal&gt;.*) jumped over the lazy (?&lt;target&gt;.*).&quot;,\r\n                    &quot;(?&lt;target&gt;.*) loves (?&lt;animal&gt;.*).&quot;,\r\n                    &quot;(?&lt;animal&gt;.*) became friends with (?&lt;target&gt;.*)&quot;};\r\n            Map&lt;String, String&gt; resultMap = StringUtils.extractVariablesFromString(input, Arrays.asList(types), &quot;animal&quot;, &quot;target1&quot;, &quot;target&quot;);\r\n            Assert.assertEquals(&quot;fox&quot;, resultMap.get(&quot;animal&quot;));\r\n            Assert.assertEquals(&quot;dog&quot;, resultMap.get(&quot;target&quot;));\r\n            Assert.assertFalse(resultMap.containsKey(&quot;target1&quot;));\r\n        }\r\n    \r\n        @Test\r\n        public void shouldReturnEmptyMapIfInputDoesntMatchAnyPatternForVariableExtraction() {\r\n            String input = &quot;The brown fox passed under the lazy dog.&quot;;\r\n            String types[] = {&quot;The quick brown (?&lt;animal&gt;.*) jumped over the lazy (?&lt;target&gt;.*).&quot;,\r\n                    &quot;(?&lt;animal&gt;.*) became friends with (?&lt;target&gt;.*)&quot;};\r\n            Map&lt;String, String&gt; resultMap = StringUtils.extractVariablesFromString(input, Arrays.asList(types), &quot;animal&quot;, &quot;target1&quot;, &quot;target&quot;);\r\n            Assert.assertTrue(resultMap.isEmpty());\r\n        }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/49092373/1039555","title":"Extract variable values from String","body":"<p>Using @Josh Withee's <a href=\"https://stackoverflow.com/a/49092373/1039555\">answer</a>:-</p>\n\n<pre><code>/**\n * @param input         String from which values need to be extracted\n * @param templates     Valid regex patterns with capturing groups\n * @param variableNames Names for named capturing groups\n * @return Map with variableNames as the keys and the extracted strings as map values\n * OR an empty, non-null map if the input doesn't match with any template, or if there is no group with the given variableNames\n */\npublic static Map&lt;String, String&gt; extractVariablesFromString(String input, List&lt;String&gt; templates, String... variableNames) {\n        Map&lt;String, String&gt; resultMap = new HashMap&lt;&gt;();\n        Optional&lt;String&gt; matchedTemplate = templates.stream().filter(input::matches).findFirst();\n        matchedTemplate.ifPresent(t -&gt; {\n            Matcher m = Pattern.compile(t).matcher(input);\n            m.find();\n            Arrays.stream(variableNames)\n                    .forEach(v -&gt; {\n                        try {\n                            resultMap.put(v, m.group(v));\n                        } catch (IllegalArgumentException e) {\n                        }\n                    });\n        });\n        return resultMap;\n    }\n</code></pre>\n\n<p>Tests:-</p>\n\n<pre><code>    @Test\n    public void shouldExtractVariablesFromString() {\n        String input = \"The quick brown fox jumped over the lazy dog.\";\n        String types[] = {\"The quick brown (?&lt;animal&gt;.*) jumped over the lazy (?&lt;target&gt;.*).\",\n                \"(?&lt;target&gt;.*) loves (?&lt;animal&gt;.*).\",\n                \"(?&lt;animal&gt;.*) became friends with (?&lt;target&gt;.*)\"};\n        Map&lt;String, String&gt; resultMap = StringUtils.extractVariablesFromString(input, Arrays.asList(types), \"animal\", \"target1\", \"target\");\n        Assert.assertEquals(\"fox\", resultMap.get(\"animal\"));\n        Assert.assertEquals(\"dog\", resultMap.get(\"target\"));\n        Assert.assertFalse(resultMap.containsKey(\"target1\"));\n    }\n\n    @Test\n    public void shouldReturnEmptyMapIfInputDoesntMatchAnyPatternForVariableExtraction() {\n        String input = \"The brown fox passed under the lazy dog.\";\n        String types[] = {\"The quick brown (?&lt;animal&gt;.*) jumped over the lazy (?&lt;target&gt;.*).\",\n                \"(?&lt;animal&gt;.*) became friends with (?&lt;target&gt;.*)\"};\n        Map&lt;String, String&gt; resultMap = StringUtils.extractVariablesFromString(input, Arrays.asList(types), \"animal\", \"target1\", \"target\");\n        Assert.assertTrue(resultMap.isEmpty());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21196362,"reputation":11,"user_id":16585291,"display_name":"pampus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640845120,"creation_date":1640844813,"answer_id":70528063,"question_id":49081955,"body_markdown":"\r\n```\r\n/**\r\n *\r\n * @param input /Volumes/data/tmp/send/20999999/sx/0000000110-0000000051-007-20211207-01.txt\r\n * @param template /{baseDir}/send/{yyyyMMdd}/{organization}/{sendOrganization}-{receiveOrganization}-{fileType}-{date}-{batch}.txt\r\n * @param prefix\r\n * @param suffix\r\n * @return\r\n */\r\npublic static Map&lt;String, String&gt; extractVariables(final String input, final String template, final String prefix, final String suffix) {\r\n    final HashSet&lt;String&gt; variableNames = new HashSet&lt;&gt;();\r\n    String variableNamesRegex = &quot;(&quot; + prefix + &quot;([^&quot; + prefix + suffix + &quot;]+?)&quot; + suffix + &quot;)&quot;;\r\n    Pattern variableNamesPattern = Pattern.compile(variableNamesRegex);\r\n    Matcher variableNamesMatcher = variableNamesPattern.matcher(template);\r\n    while (variableNamesMatcher.find()) {\r\n        variableNames.add(variableNamesMatcher.group(2));\r\n    }\r\n    final String regexTemplate = template.replaceAll(prefix, &quot;(?&lt;&quot;).replaceAll(suffix, &quot;&gt;.*)&quot;);\r\n    Map&lt;String, String&gt; resultMap = new HashMap&lt;&gt;();\r\n    Matcher matcher = Pattern.compile(regexTemplate).matcher(input);\r\n    matcher.find();\r\n    variableNames.forEach(v -&gt; resultMap.put(v, matcher.group(v)));\r\n    return resultMap;\r\n}\r\n```\r\nusage like\r\n\r\nextractVariables(input, template2, &quot;\\\\{&quot;, &quot;\\\\}&quot;)","title":"Extract variable values from String","body":"<pre><code>/**\n *\n * @param input /Volumes/data/tmp/send/20999999/sx/0000000110-0000000051-007-20211207-01.txt\n * @param template /{baseDir}/send/{yyyyMMdd}/{organization}/{sendOrganization}-{receiveOrganization}-{fileType}-{date}-{batch}.txt\n * @param prefix\n * @param suffix\n * @return\n */\npublic static Map&lt;String, String&gt; extractVariables(final String input, final String template, final String prefix, final String suffix) {\n    final HashSet&lt;String&gt; variableNames = new HashSet&lt;&gt;();\n    String variableNamesRegex = &quot;(&quot; + prefix + &quot;([^&quot; + prefix + suffix + &quot;]+?)&quot; + suffix + &quot;)&quot;;\n    Pattern variableNamesPattern = Pattern.compile(variableNamesRegex);\n    Matcher variableNamesMatcher = variableNamesPattern.matcher(template);\n    while (variableNamesMatcher.find()) {\n        variableNames.add(variableNamesMatcher.group(2));\n    }\n    final String regexTemplate = template.replaceAll(prefix, &quot;(?&lt;&quot;).replaceAll(suffix, &quot;&gt;.*)&quot;);\n    Map&lt;String, String&gt; resultMap = new HashMap&lt;&gt;();\n    Matcher matcher = Pattern.compile(regexTemplate).matcher(input);\n    matcher.find();\n    variableNames.forEach(v -&gt; resultMap.put(v, matcher.group(v)));\n    return resultMap;\n}\n</code></pre>\n<p>usage like</p>\n<p>extractVariables(input, template2, &quot;\\{&quot;, &quot;\\}&quot;)</p>\n"}],"owner":{"account_id":1031279,"reputation":7717,"user_id":1039555,"accept_rate":56,"display_name":"Kartik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1051,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49092373,"answer_count":3,"score":0,"last_activity_date":1640845120,"creation_date":1520063386,"question_id":49081955,"body_markdown":"Given that the user can enter values in specific formats only, I need to extract relevant sections of that string into Java variables.\r\n\r\nSay for instance acceptable formats are:-\r\n\r\n    String types[] = {&quot;The quick brown ${animal} jumped over the lazy ${target}.&quot;,\r\n                      &quot;${target} loves ${animal}.&quot;,\r\n                      &quot;${animal} became friends with ${target}&quot;};\r\n\r\nVariables:-\r\n\r\n    private String animal;\r\n    private String target;\r\n\r\nNow if the user enters `&quot;The quick brown fox jumped over the lazy dog.&quot;`, the animal variable should be set to `&quot;fox&quot;` and target variable should be set to `&quot;dog&quot;`.\r\n\r\nIf the user input matches none of the given types, it should display an error.\r\n\r\nBasically I am trying to do the inverse of what `org.apache.commons.lang.text.StrSubstitutor` does.\r\n\r\n**My approach** (looks inefficient, hence asking for help):-\r\n\r\nCreate regex patterns to find out the type of the entered string and then write different logic for each of the type. For example, for the first type, get the word after the word &quot;brown&quot; and assign it to variable `animal` and so on.","title":"Extract variable values from String","body":"<p>Given that the user can enter values in specific formats only, I need to extract relevant sections of that string into Java variables.</p>\n\n<p>Say for instance acceptable formats are:-</p>\n\n<pre><code>String types[] = {\"The quick brown ${animal} jumped over the lazy ${target}.\",\n                  \"${target} loves ${animal}.\",\n                  \"${animal} became friends with ${target}\"};\n</code></pre>\n\n<p>Variables:-</p>\n\n<pre><code>private String animal;\nprivate String target;\n</code></pre>\n\n<p>Now if the user enters <code>\"The quick brown fox jumped over the lazy dog.\"</code>, the animal variable should be set to <code>\"fox\"</code> and target variable should be set to <code>\"dog\"</code>.</p>\n\n<p>If the user input matches none of the given types, it should display an error.</p>\n\n<p>Basically I am trying to do the inverse of what <code>org.apache.commons.lang.text.StrSubstitutor</code> does.</p>\n\n<p><strong>My approach</strong> (looks inefficient, hence asking for help):-</p>\n\n<p>Create regex patterns to find out the type of the entered string and then write different logic for each of the type. For example, for the first type, get the word after the word \"brown\" and assign it to variable <code>animal</code> and so on.</p>\n"},{"tags":["java","google-cloud-platform","google-bigquery","gcs"],"comments":[{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1640712728,"post_id":70509827,"comment_id":124640750,"body_markdown":"What do you mean by filter? Is PageSize? Or other filter? Can you show an example that failed? and the error printed by the IDE?","body":"What do you mean by filter? Is PageSize? Or other filter? Can you show an example that failed? and the error printed by the IDE?"},{"owner":{"account_id":7267060,"reputation":239,"user_id":5541338,"display_name":"1stenjoydmoment"},"score":0,"creation_date":1640768041,"post_id":70509827,"comment_id":124652717,"body_markdown":"Since I am not able to add more lines of code, edited my Post. kindly check.","body":"Since I am not able to add more lines of code, edited my Post. kindly check."},{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1640773501,"post_id":70509827,"comment_id":124654340,"body_markdown":"Does it work on BigQuery console?","body":"Does it work on BigQuery console?"},{"owner":{"account_id":7267060,"reputation":239,"user_id":5541338,"display_name":"1stenjoydmoment"},"score":0,"creation_date":1640775272,"post_id":70509827,"comment_id":124654823,"body_markdown":"Yes. The query works in BigQuery Console.  &quot;Query complete (0.2 sec elapsed, 312 B processed)\n&quot;","body":"Yes. The query works in BigQuery Console.  &quot;Query complete (0.2 sec elapsed, 312 B processed) &quot;"},{"owner":{"account_id":22771851,"reputation":1650,"user_id":16929145,"display_name":"Raul Saucedo"},"score":0,"creation_date":1640807740,"post_id":70509827,"comment_id":124665503,"body_markdown":"Before executing the variable, could you print the value of the variable “query” and execute it in the BigQuery console?","body":"Before executing the variable, could you print the value of the variable “query” and execute it in the BigQuery console?"}],"answers":[{"tags":[],"owner":{"account_id":73844,"reputation":4266,"user_id":212435,"display_name":"shollyman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640843665,"creation_date":1640843665,"answer_id":70527938,"question_id":70509827,"body_markdown":"You&#39;re doing two unrelated things here: running a query, and _then_ attempting to read the rows directly from the source table you just queried.  The reason you&#39;re not getting filtered results is you&#39;re not reading rows from the query results, you&#39;re reading rows directly from the source table.\r\n\r\nUpon further review, it looks like this is based on some sample code that&#39;s misleading; I&#39;ll get that addressed.\r\n\r\nA short example that may be more illuminating: https://cloud.google.com/bigquery/docs/samples/bigquery-query#bigquery_query-java\r\n\r\nNotable, see how the result iterator is returned from `bigquery.query()`.  That&#39;s where your filtered results are available, not by iterating against the source table.\r\n\r\n","title":"BigQuery Client bigquery.listTableData with Filter condition","body":"<p>You're doing two unrelated things here: running a query, and <em>then</em> attempting to read the rows directly from the source table you just queried.  The reason you're not getting filtered results is you're not reading rows from the query results, you're reading rows directly from the source table.</p>\n<p>Upon further review, it looks like this is based on some sample code that's misleading; I'll get that addressed.</p>\n<p>A short example that may be more illuminating: <a href=\"https://cloud.google.com/bigquery/docs/samples/bigquery-query#bigquery_query-java\" rel=\"nofollow noreferrer\">https://cloud.google.com/bigquery/docs/samples/bigquery-query#bigquery_query-java</a></p>\n<p>Notable, see how the result iterator is returned from <code>bigquery.query()</code>.  That's where your filtered results are available, not by iterating against the source table.</p>\n"}],"owner":{"account_id":7267060,"reputation":239,"user_id":5541338,"display_name":"1stenjoydmoment"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":738,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70527938,"answer_count":1,"score":0,"last_activity_date":1640843665,"creation_date":1640708987,"question_id":70509827,"body_markdown":" I am using the below lines of code to fetch the data from Google Bigquery.\r\n\r\n   \r\n\r\n     public class BQTEST {\r\n            public static void main(String... args) throws Exception {\r\n                String datasetName = &quot;mydataset&quot;;\r\n                String tableName = &quot;mytable&quot;;\r\n                String projectId = &quot;id-gcs&quot;;\r\n                String query =\r\n                        &quot;SELECT id, &quot; +\r\n                                &quot;qtr, &quot; +\r\n                                &quot;sales, &quot; +\r\n                                &quot;year &quot; +\r\n                                &quot;FROM `id-gcs.mydataset.mytable` &quot; +\r\n                                &quot;where MOD(id,2) = 0&quot;;\r\n                BigQuery bigquery = BigQueryOptions.newBuilder().setProjectId(projectId)\r\n                        .setCredentials(\r\n                                ServiceAccountCredentials.fromStream(new\r\n                                        FileInputStream(&quot;gcs.json&quot;))\r\n                        )\r\n                        .build().getService();\r\n                TableId tableId = TableId.of(projectId, datasetName, tableName);\r\n                QueryJobConfiguration queryConfig = QueryJobConfiguration\r\n                        .newBuilder(query)\r\n                        .setPriority(QueryJobConfiguration.Priority.BATCH)\r\n                        .build();\r\n                try {\r\n                    bigquery.query(queryConfig);\r\n        \r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                    throw new RuntimeException(e.getMessage());\r\n                }\r\n                TableResult results = bigquery.listTableData(\r\n                        tableId,\r\n                        BigQuery.TableDataListOption.pageSize(1)\r\n                );\r\n        \r\n        \r\n                for (FieldValueList row : results.iterateAll()) {\r\n                    System.out.printf(\r\n                            &quot;ID: %s qtr: %s sales: %s year: %s\\n&quot;, row.get(0).getValue(), row.get(1).getValue(), row.get(2).getValue(), row.get(3).getValue());\r\n                }\r\n            \r\n            }\r\n        }\r\n\r\n\r\nI have 12 records in a source table starting id value from 1,2,3...12. Since I applied Mod on ID the result set should be with the id value as 2,4,6,8,10,12. \r\n\r\nInstead, it&#39;s returning the whole data as a resultset.\r\n\r\nSo, the condition in where clause is not applied.\r\n\r\nSeeking help on this .","title":"BigQuery Client bigquery.listTableData with Filter condition","body":"<p>I am using the below lines of code to fetch the data from Google Bigquery.</p>\n<pre><code> public class BQTEST {\n        public static void main(String... args) throws Exception {\n            String datasetName = &quot;mydataset&quot;;\n            String tableName = &quot;mytable&quot;;\n            String projectId = &quot;id-gcs&quot;;\n            String query =\n                    &quot;SELECT id, &quot; +\n                            &quot;qtr, &quot; +\n                            &quot;sales, &quot; +\n                            &quot;year &quot; +\n                            &quot;FROM `id-gcs.mydataset.mytable` &quot; +\n                            &quot;where MOD(id,2) = 0&quot;;\n            BigQuery bigquery = BigQueryOptions.newBuilder().setProjectId(projectId)\n                    .setCredentials(\n                            ServiceAccountCredentials.fromStream(new\n                                    FileInputStream(&quot;gcs.json&quot;))\n                    )\n                    .build().getService();\n            TableId tableId = TableId.of(projectId, datasetName, tableName);\n            QueryJobConfiguration queryConfig = QueryJobConfiguration\n                    .newBuilder(query)\n                    .setPriority(QueryJobConfiguration.Priority.BATCH)\n                    .build();\n            try {\n                bigquery.query(queryConfig);\n    \n            } catch (InterruptedException e) {\n                e.printStackTrace();\n                throw new RuntimeException(e.getMessage());\n            }\n            TableResult results = bigquery.listTableData(\n                    tableId,\n                    BigQuery.TableDataListOption.pageSize(1)\n            );\n    \n    \n            for (FieldValueList row : results.iterateAll()) {\n                System.out.printf(\n                        &quot;ID: %s qtr: %s sales: %s year: %s\\n&quot;, row.get(0).getValue(), row.get(1).getValue(), row.get(2).getValue(), row.get(3).getValue());\n            }\n        \n        }\n    }\n</code></pre>\n<p>I have 12 records in a source table starting id value from 1,2,3...12. Since I applied Mod on ID the result set should be with the id value as 2,4,6,8,10,12.</p>\n<p>Instead, it's returning the whole data as a resultset.</p>\n<p>So, the condition in where clause is not applied.</p>\n<p>Seeking help on this .</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"score":4,"creation_date":1466593571,"post_id":37966151,"comment_id":63378380,"body_markdown":"what does *useless libs* mean?","body":"what does <i>useless libs</i> mean?"},{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":0,"creation_date":1466593671,"post_id":37966151,"comment_id":63378442,"body_markdown":"You can simply delete the jar files on your file system. But be aware, that some java applications may need them!","body":"You can simply delete the jar files on your file system. But be aware, that some java applications may need them!"},{"owner":{"account_id":8628939,"reputation":742,"user_id":6461246,"accept_rate":14,"display_name":"Adizbek Ergashev"},"score":0,"creation_date":1466593676,"post_id":37966151,"comment_id":63378446,"body_markdown":"I want create custom jdk compiler for my program","body":"I want create custom jdk compiler for my program"},{"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"score":3,"creation_date":1466594766,"post_id":37966151,"comment_id":63379132,"body_markdown":"I don&#39;t advise you to delete all these `.jar` files that manually without understanding what each `.jar` does. If I got you correctly, you want to assemble your own JDK without modules which you are not using. Such feature will be presented in Java 9 ([Project Jigsaw](http://openjdk.java.net/projects/jigsaw/)).","body":"I don&#39;t advise you to delete all these <code>.jar</code> files that manually without understanding what each <code>.jar</code> does. If I got you correctly, you want to assemble your own JDK without modules which you are not using. Such feature will be presented in Java 9 (<a href=\"http://openjdk.java.net/projects/jigsaw/\" rel=\"nofollow noreferrer\">Project Jigsaw</a>)."},{"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"score":1,"creation_date":1466603596,"post_id":37966151,"comment_id":63386254,"body_markdown":"Java SE Embedded has [compact profiles](https://docs.oracle.com/javase/8/embedded/develop-apps-platforms/plat-dev-quick-start.htm)","body":"Java SE Embedded has <a href=\"https://docs.oracle.com/javase/8/embedded/develop-apps-platforms/plat-dev-quick-start.htm\" rel=\"nofollow noreferrer\">compact profiles</a>"}],"answers":[{"tags":[],"owner":{"account_id":465074,"reputation":12318,"user_id":868941,"accept_rate":75,"display_name":"rmuller"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1466594632,"creation_date":1466594632,"answer_id":37966599,"question_id":37966151,"body_markdown":"Yes, this is possible and [documented by Oracle](http://www.oracle.com/technetwork/java/javase/jre-8-readme-2095710.html).\r\n\r\nFor our project we use the following &quot;cleanup script&quot;. Yours may be different, see comments (for instance: we do not use JavaFX).\r\n\r\n    #!/bin/sh\r\n    # Remove all not-needed files, see http://www.oracle.com/technetwork/java/javase/jre-8-readme-2095710.html\r\n    # Documentation\r\n    rm -f jre/README.txt\r\n    rm -f jre/THIRDPARTYLICENSEREADME.txt\r\n    rm -f jre/THIRDPARTYLICENSEREADME-JAVAFX.txt\r\n    rm -f jre/Welcome.html\r\n    # optional files \r\n    rm -f jre/lib/ext/jfxrt.jar\r\n    rm -f jre/lib/ext/access-bridge.jar\r\n    rm -f jre/lib/ext/access-bridge-32.jar\r\n    rm -f jre/lib/ext/nashorn.jar\r\n    rm -f jre/bin/rmid.*\r\n    rm -f jre/bin/rmiregistry.*\r\n    rm -f jre/bin/tnameserv.*\r\n    rm -f jre/bin/keytool.*\r\n    rm -f jre/bin/kinit.*\r\n    rm -f jre/bin/klist.*\r\n    rm -f jre/bin/ktab.*\r\n    rm -f jre/bin/policytool.*\r\n    rm -f jre/bin/orbd.*\r\n    rm -f jre/bin/servertool.*\r\n    rm -f jre/bin/javaws.*\r\n    rm -f jre/lib/jfr.*\r\n    # can be deleted when private application runtime is used (like launch4j)\r\n    rm -f jre/bin/java.exe\r\n    # launch4j uses javaw.exe. So do NOT delete!\r\n    rm -f jre/bin/javacpl.exe\r\n    rm -f jre/bin/jabswitch.exe\r\n    rm -f jre/bin/java_crw_demo.dll\r\n    rm -f jre/bin/JavaAccessBridge-32.dll\r\n    rm -f jre/bin/JavaAccessBridge.dll\r\n    rm -f jre/bin/JAWTAccessBridge-32.dll\r\n    rm -f jre/bin/JAWTAccessBridge.dll\r\n    rm -f jre/bin/WindowsAccessBridge-32.dll\r\n    rm -f jre/bin/WindowsAccessBridge.dll\r\n    rm -f jre/bin/wsdetect.dll\r\n    rm -f jre/bin/deploy.dll\r\n    rm -f jre/bin/javacpl.cpl\r\n    rm -f jre/lib/deploy.jar\r\n    rm -f jre/lib/plugin.jar\r\n    rm -Rf /s /q jre/bin/dtplugin\r\n    rm -Rf /s /q jre/bin/plugin2\r\n    rm -Rf /s /q jre/lib/deploy\r\n    # JavaFX related\r\n    rm -f jre/lib/javafx.properties\r\n    rm -f jre/lib/jfxswt.jar\r\n    rm -f jre/bin/decora_sse.dll\r\n    rm -f jre/bin/fxplugins.dll\r\n    rm -f jre/bin/glass.dll\r\n    rm -f jre/bin/glib-lite.dll\r\n    rm -f jre/bin/gstreamer-lite.dll\r\n    rm -f jre/bin/javafx_font.dll\r\n\r\nWindows version:\r\n\r\n    :: Remove all not-needed files, see http://www.oracle.com/technetwork/java/javase/jre-8-readme-2095710.html\r\n    :: Documentation\r\n    del jre\\README.txt\r\n    del jre\\THIRDPARTYLICENSEREADME.txt\r\n    del jre\\THIRDPARTYLICENSEREADME-JAVAFX.txt\r\n    del jre\\Welcome.html\r\n    :: optional files \r\n    del jre\\lib\\ext\\jfxrt.jar\r\n    del jre\\lib\\ext\\access-bridge.jar\r\n    del jre\\lib\\ext\\access-bridge-32.jar\r\n    del jre\\lib\\ext\\nashorn.jar\r\n    del jre\\bin\\rmid.*\r\n    del jre\\bin\\rmiregistry.*\r\n    del jre\\bin\\tnameserv.*\r\n    del jre\\bin\\keytool.*\r\n    del jre\\bin\\kinit.*\r\n    del jre\\bin\\klist.*\r\n    del jre\\bin\\ktab.*\r\n    del jre\\bin\\policytool.*\r\n    del jre\\bin\\orbd.*\r\n    del jre\\bin\\servertool.*\r\n    del jre\\bin\\javaws.*\r\n    del jre\\lib\\jfr.*\r\n    :: can be deleted when private application runtime is used (like launch4j)\r\n    del jre\\bin\\java.exe\r\n    :: launch4j uses javaw.exe. So do NOT delete!\r\n    del jre\\bin\\javacpl.exe\r\n    del jre\\bin\\jabswitch.exe\r\n    del jre\\bin\\java_crw_demo.dll\r\n    del jre\\bin\\JavaAccessBridge-32.dll\r\n    del jre\\bin\\JavaAccessBridge.dll\r\n    del jre\\bin\\JAWTAccessBridge-32.dll\r\n    del jre\\bin\\JAWTAccessBridge.dll\r\n    del jre\\bin\\WindowsAccessBridge-32.dll\r\n    del jre\\bin\\WindowsAccessBridge.dll\r\n    del jre\\bin\\wsdetect.dll\r\n    del jre\\bin\\deploy.dll\r\n    del jre\\bin\\javacpl.cpl\r\n    del jre\\lib\\deploy.jar\r\n    del jre\\lib\\plugin.jar\r\n    rmdir /s /q jre\\bin\\dtplugin\r\n    rmdir /s /q jre\\bin\\plugin2\r\n    rmdir /s /q jre\\lib\\deploy\r\n    :: JavaFX related\r\n    del jre\\lib\\javafx.properties\r\n\r\n","title":"Build Custom JDK, delete useless libs","body":"<p>Yes, this is possible and <a href=\"http://www.oracle.com/technetwork/java/javase/jre-8-readme-2095710.html\">documented by Oracle</a>.</p>\n\n<p>For our project we use the following \"cleanup script\". Yours may be different, see comments (for instance: we do not use JavaFX).</p>\n\n<pre><code>#!/bin/sh\n# Remove all not-needed files, see http://www.oracle.com/technetwork/java/javase/jre-8-readme-2095710.html\n# Documentation\nrm -f jre/README.txt\nrm -f jre/THIRDPARTYLICENSEREADME.txt\nrm -f jre/THIRDPARTYLICENSEREADME-JAVAFX.txt\nrm -f jre/Welcome.html\n# optional files \nrm -f jre/lib/ext/jfxrt.jar\nrm -f jre/lib/ext/access-bridge.jar\nrm -f jre/lib/ext/access-bridge-32.jar\nrm -f jre/lib/ext/nashorn.jar\nrm -f jre/bin/rmid.*\nrm -f jre/bin/rmiregistry.*\nrm -f jre/bin/tnameserv.*\nrm -f jre/bin/keytool.*\nrm -f jre/bin/kinit.*\nrm -f jre/bin/klist.*\nrm -f jre/bin/ktab.*\nrm -f jre/bin/policytool.*\nrm -f jre/bin/orbd.*\nrm -f jre/bin/servertool.*\nrm -f jre/bin/javaws.*\nrm -f jre/lib/jfr.*\n# can be deleted when private application runtime is used (like launch4j)\nrm -f jre/bin/java.exe\n# launch4j uses javaw.exe. So do NOT delete!\nrm -f jre/bin/javacpl.exe\nrm -f jre/bin/jabswitch.exe\nrm -f jre/bin/java_crw_demo.dll\nrm -f jre/bin/JavaAccessBridge-32.dll\nrm -f jre/bin/JavaAccessBridge.dll\nrm -f jre/bin/JAWTAccessBridge-32.dll\nrm -f jre/bin/JAWTAccessBridge.dll\nrm -f jre/bin/WindowsAccessBridge-32.dll\nrm -f jre/bin/WindowsAccessBridge.dll\nrm -f jre/bin/wsdetect.dll\nrm -f jre/bin/deploy.dll\nrm -f jre/bin/javacpl.cpl\nrm -f jre/lib/deploy.jar\nrm -f jre/lib/plugin.jar\nrm -Rf /s /q jre/bin/dtplugin\nrm -Rf /s /q jre/bin/plugin2\nrm -Rf /s /q jre/lib/deploy\n# JavaFX related\nrm -f jre/lib/javafx.properties\nrm -f jre/lib/jfxswt.jar\nrm -f jre/bin/decora_sse.dll\nrm -f jre/bin/fxplugins.dll\nrm -f jre/bin/glass.dll\nrm -f jre/bin/glib-lite.dll\nrm -f jre/bin/gstreamer-lite.dll\nrm -f jre/bin/javafx_font.dll\n</code></pre>\n\n<p>Windows version:</p>\n\n<pre><code>:: Remove all not-needed files, see http://www.oracle.com/technetwork/java/javase/jre-8-readme-2095710.html\n:: Documentation\ndel jre\\README.txt\ndel jre\\THIRDPARTYLICENSEREADME.txt\ndel jre\\THIRDPARTYLICENSEREADME-JAVAFX.txt\ndel jre\\Welcome.html\n:: optional files \ndel jre\\lib\\ext\\jfxrt.jar\ndel jre\\lib\\ext\\access-bridge.jar\ndel jre\\lib\\ext\\access-bridge-32.jar\ndel jre\\lib\\ext\\nashorn.jar\ndel jre\\bin\\rmid.*\ndel jre\\bin\\rmiregistry.*\ndel jre\\bin\\tnameserv.*\ndel jre\\bin\\keytool.*\ndel jre\\bin\\kinit.*\ndel jre\\bin\\klist.*\ndel jre\\bin\\ktab.*\ndel jre\\bin\\policytool.*\ndel jre\\bin\\orbd.*\ndel jre\\bin\\servertool.*\ndel jre\\bin\\javaws.*\ndel jre\\lib\\jfr.*\n:: can be deleted when private application runtime is used (like launch4j)\ndel jre\\bin\\java.exe\n:: launch4j uses javaw.exe. So do NOT delete!\ndel jre\\bin\\javacpl.exe\ndel jre\\bin\\jabswitch.exe\ndel jre\\bin\\java_crw_demo.dll\ndel jre\\bin\\JavaAccessBridge-32.dll\ndel jre\\bin\\JavaAccessBridge.dll\ndel jre\\bin\\JAWTAccessBridge-32.dll\ndel jre\\bin\\JAWTAccessBridge.dll\ndel jre\\bin\\WindowsAccessBridge-32.dll\ndel jre\\bin\\WindowsAccessBridge.dll\ndel jre\\bin\\wsdetect.dll\ndel jre\\bin\\deploy.dll\ndel jre\\bin\\javacpl.cpl\ndel jre\\lib\\deploy.jar\ndel jre\\lib\\plugin.jar\nrmdir /s /q jre\\bin\\dtplugin\nrmdir /s /q jre\\bin\\plugin2\nrmdir /s /q jre\\lib\\deploy\n:: JavaFX related\ndel jre\\lib\\javafx.properties\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user6315137"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640842707,"creation_date":1640842707,"answer_id":70527851,"question_id":37966151,"body_markdown":"delete more jfx stuff:\r\n\r\ndel jre\\lib\\jfx*.*\r\ndel jre\\bin\\jfx*.*\r\n\r\n","title":"Build Custom JDK, delete useless libs","body":"<p>delete more jfx stuff:</p>\n<p>del jre\\lib\\jfx*.*\ndel jre\\bin\\jfx*.*</p>\n"}],"owner":{"account_id":8628939,"reputation":742,"user_id":6461246,"accept_rate":14,"display_name":"Adizbek Ergashev"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1656,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":37966599,"answer_count":2,"score":3,"last_activity_date":1640842707,"creation_date":1466593469,"question_id":37966151,"body_markdown":"How can I delete useless libraries from my JDK and it&#39;s possible?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: http://i.stack.imgur.com/pVSJd.png","title":"Build Custom JDK, delete useless libs","body":"<p>How can I delete useless libraries from my JDK and it's possible?</p>\n\n<p><a href=\"https://i.stack.imgur.com/pVSJd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pVSJd.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":280065,"reputation":1634,"user_id":575556,"accept_rate":11,"display_name":"arnabkaycee"},"score":0,"creation_date":1640674400,"post_id":70503673,"comment_id":124629100,"body_markdown":"The above code sample is in Kotlin, but I guess it is more of a Java question. :)","body":"The above code sample is in Kotlin, but I guess it is more of a Java question. :)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1640677502,"post_id":70503673,"comment_id":124629776,"body_markdown":"Please put an example in your question rather than as a link.","body":"Please put an example in your question rather than as a link."}],"answers":[{"tags":[],"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640681242,"creation_date":1640681242,"answer_id":70504676,"question_id":70503673,"body_markdown":"Here is the small code of getAndUpdate with functional interface.\r\n\r\n    public final V getAndUpdate(UnaryOperator&lt;V&gt; updateFunction) {\r\n            V prev = get(), next = null;\r\n            for (boolean haveNext = false;;) {\r\n                if (!haveNext)\r\n                    next = updateFunction.apply(prev);\r\n                if (weakCompareAndSetVolatile(prev, next))\r\n                    return prev;\r\n                haveNext = (prev == (prev = get()));\r\n            }\r\n        }\r\n\r\nVolatile help to guarantee about visibility of variables and weakCompareAndSetVolatile is make sure other thread don&#39;t change the value.\r\nThat&#39;s why functional interface still be safe when passing to AtomicReference.\r\n\r\nhttps://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/util/concurrent/atomic/AtomicReference.java","title":"Using Functional Interface inside AtomicReference","body":"<p>Here is the small code of getAndUpdate with functional interface.</p>\n<pre><code>public final V getAndUpdate(UnaryOperator&lt;V&gt; updateFunction) {\n        V prev = get(), next = null;\n        for (boolean haveNext = false;;) {\n            if (!haveNext)\n                next = updateFunction.apply(prev);\n            if (weakCompareAndSetVolatile(prev, next))\n                return prev;\n            haveNext = (prev == (prev = get()));\n        }\n    }\n</code></pre>\n<p>Volatile help to guarantee about visibility of variables and weakCompareAndSetVolatile is make sure other thread don't change the value.\nThat's why functional interface still be safe when passing to AtomicReference.</p>\n<p><a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/util/concurrent/atomic/AtomicReference.java\" rel=\"nofollow noreferrer\">https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/util/concurrent/atomic/AtomicReference.java</a></p>\n"},{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640841362,"creation_date":1640840637,"answer_id":70527658,"question_id":70503673,"body_markdown":"The key part that needs to be determined is that write and read of the shared variable should not be in a data race. You get a data race when you have 2 memory actions, to the same location,  at least one of them is a write, and the actions are not ordered by a happens-before edge.\r\n\r\nThere is a happens-before edge between a write of a volatile variable and all subsequent reads of that same variable. This edge is the result from the volatile variable rule.\r\n\r\nFor a synchronized block it is a bit more complicated.\r\n\r\nIf you would have something like this:\r\n    \r\n    int a;\r\n\r\n\r\n    // thread 1\r\n    synchronized(this){\r\n       a=1              (1)\r\n    }                   (2)\r\n\r\n    // thread 2\r\n    synchronized(this){ (3)\r\n       int b=a          (4)\r\n       ...\r\n    }\r\n\r\nIf the (2) synchronizes with (3) then the following holds:\r\n\r\n(1) happens-before (2) due to program-order rule.\r\n\r\n(2) happens-before (3) due to monitor-lock rule.\r\n\r\n(3) happens-before (4) due to program-order rule.\r\n\r\nBecause happens-before is transitive, (1) happens-before (4).\r\n\r\nSo from a memory model perspective, volatile and synchronized are very comparable.\r\n\r\nBack to the AtomicReference: is there a particular method you want to dive into?","title":"Using Functional Interface inside AtomicReference","body":"<p>The key part that needs to be determined is that write and read of the shared variable should not be in a data race. You get a data race when you have 2 memory actions, to the same location,  at least one of them is a write, and the actions are not ordered by a happens-before edge.</p>\n<p>There is a happens-before edge between a write of a volatile variable and all subsequent reads of that same variable. This edge is the result from the volatile variable rule.</p>\n<p>For a synchronized block it is a bit more complicated.</p>\n<p>If you would have something like this:</p>\n<pre><code>int a;\n\n\n// thread 1\nsynchronized(this){\n   a=1              (1)\n}                   (2)\n\n// thread 2\nsynchronized(this){ (3)\n   int b=a          (4)\n   ...\n}\n</code></pre>\n<p>If the (2) synchronizes with (3) then the following holds:</p>\n<p>(1) happens-before (2) due to program-order rule.</p>\n<p>(2) happens-before (3) due to monitor-lock rule.</p>\n<p>(3) happens-before (4) due to program-order rule.</p>\n<p>Because happens-before is transitive, (1) happens-before (4).</p>\n<p>So from a memory model perspective, volatile and synchronized are very comparable.</p>\n<p>Back to the AtomicReference: is there a particular method you want to dive into?</p>\n"}],"owner":{"account_id":280065,"reputation":1634,"user_id":575556,"accept_rate":11,"display_name":"arnabkaycee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1640841362,"creation_date":1640674345,"question_id":70503673,"body_markdown":"What could be the rationale behind using a Functional interface inside an [AtomicReference](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicReference.html)? Would it provide similar guarantees as `synchronized`? Or does it just provide visibility guarantees to the change to other threads as in `volatile`?\r\n\r\nI came across the following example of using a [Predicate](https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html) inside an `AtomicReference` that got me thinking:\r\n\r\nhttps://github.com/corda/token-sdk/blob/master/modules/selection/src/main/kotlin/com.r3.corda.lib.tokens.selection/memory/services/VaultWatcherService.kt#L240\r\n","title":"Using Functional Interface inside AtomicReference","body":"<p>What could be the rationale behind using a Functional interface inside an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicReference.html\" rel=\"nofollow noreferrer\">AtomicReference</a>? Would it provide similar guarantees as <code>synchronized</code>? Or does it just provide visibility guarantees to the change to other threads as in <code>volatile</code>?</p>\n<p>I came across the following example of using a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html\" rel=\"nofollow noreferrer\">Predicate</a> inside an <code>AtomicReference</code> that got me thinking:</p>\n<p><a href=\"https://github.com/corda/token-sdk/blob/master/modules/selection/src/main/kotlin/com.r3.corda.lib.tokens.selection/memory/services/VaultWatcherService.kt#L240\" rel=\"nofollow noreferrer\">https://github.com/corda/token-sdk/blob/master/modules/selection/src/main/kotlin/com.r3.corda.lib.tokens.selection/memory/services/VaultWatcherService.kt#L240</a></p>\n"},{"tags":["java","datetime","calendar"],"comments":[{"owner":{"account_id":234634,"reputation":11522,"user_id":500916,"accept_rate":57,"display_name":"Simone Gianni"},"score":1,"creation_date":1640839237,"post_id":70527484,"comment_id":124671755,"body_markdown":"Are you limited to legacy java.util.Date and java.util.Calendar for some reason? Or are you on a recent JDK?","body":"Are you limited to legacy java.util.Date and java.util.Calendar for some reason? Or are you on a recent JDK?"},{"owner":{"account_id":1844888,"reputation":747,"user_id":1673458,"accept_rate":62,"display_name":"Doctor Who"},"score":0,"creation_date":1640839290,"post_id":70527484,"comment_id":124671763,"body_markdown":"it can be changed","body":"it can be changed"},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1640839929,"post_id":70527484,"comment_id":124671850,"body_markdown":"Add a few examples of inputs that give wrong output.","body":"Add a few examples of inputs that give wrong output."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1640840038,"post_id":70527484,"comment_id":124671861,"body_markdown":"Maybe something like [this](https://stackoverflow.com/questions/23263490/how-to-convert-java-sql-timestamp-to-localdate-java8-java-time)","body":"Maybe something like <a href=\"https://stackoverflow.com/questions/23263490/how-to-convert-java-sql-timestamp-to-localdate-java8-java-time\">this</a>"}],"answers":[{"tags":[],"owner":{"account_id":234634,"reputation":11522,"user_id":500916,"accept_rate":57,"display_name":"Simone Gianni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640840204,"creation_date":1640840204,"answer_id":70527616,"question_id":70527484,"body_markdown":"You cannot convert a timestamp to another timezone, cause timestamps are always GMT, they are a given moment in the line of time in the universe.\r\n\r\nWe humans are used to local time on our planet, so a timestamp can be *formatted* to be more human readable, and in that context it is converted to a local timezone.\r\n\r\nUsing legacy java.util.* packages, this is done as follows: \r\n```\r\nDateFormat tzFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&quot;);\r\ntzFormat.setTimeZone(TimeZone.getTimeZone(&quot;CET&quot;)); // Use whatever timezone\r\nSystem.out.println(tzFormat.format(date));\r\n```\r\n\r\nIf you need to make &quot;math&quot; over the timestamp on local timezone (like, tomorrow at 8:00 local timezone), then the situation is more complex. \r\n\r\nTo do this you can resort to a number of hacks (like parsing or modifying the string obtained with the method above), or use the new Java date &amp; time classes that have a specific class to deal with date and time in local time zones:\r\n\r\n```\r\nInstant timestamp = Instant.ofEpochMilli(inputValue);\r\nZonedDateTime romeTime = timestamp.atZone(ZoneId.of(&quot;Europe/Rome&quot;));\r\n```\r\n\r\nNote how this second example uses &quot;Europe/Rome&quot; and not generically &quot;CET&quot;. This is very important if you&#39;re planning to deal with timezones where DST is used, cause the DST change day (or if they use DST or not) may change from country to country even if they are in the same timezone. ","title":"Convert timestamp to Date time for a particular timezone","body":"<p>You cannot convert a timestamp to another timezone, cause timestamps are always GMT, they are a given moment in the line of time in the universe.</p>\n<p>We humans are used to local time on our planet, so a timestamp can be <em>formatted</em> to be more human readable, and in that context it is converted to a local timezone.</p>\n<p>Using legacy java.util.* packages, this is done as follows:</p>\n<pre><code>DateFormat tzFormat = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS&quot;);\ntzFormat.setTimeZone(TimeZone.getTimeZone(&quot;CET&quot;)); // Use whatever timezone\nSystem.out.println(tzFormat.format(date));\n</code></pre>\n<p>If you need to make &quot;math&quot; over the timestamp on local timezone (like, tomorrow at 8:00 local timezone), then the situation is more complex.</p>\n<p>To do this you can resort to a number of hacks (like parsing or modifying the string obtained with the method above), or use the new Java date &amp; time classes that have a specific class to deal with date and time in local time zones:</p>\n<pre><code>Instant timestamp = Instant.ofEpochMilli(inputValue);\nZonedDateTime romeTime = timestamp.atZone(ZoneId.of(&quot;Europe/Rome&quot;));\n</code></pre>\n<p>Note how this second example uses &quot;Europe/Rome&quot; and not generically &quot;CET&quot;. This is very important if you're planning to deal with timezones where DST is used, cause the DST change day (or if they use DST or not) may change from country to country even if they are in the same timezone.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640841067,"creation_date":1640840214,"answer_id":70527617,"question_id":70527484,"body_markdown":"# tl;dr\r\n\r\n```java\r\nInstant\r\n.ofEpochMilli(                       // Parse a count of milliseconds since 1970-01-01T00:00Z.\r\n    1_640_812_878_000L\r\n)                                    // Returns a `Instant` object.\r\n.atZone(                             // Adjust from UTC to a time zone. Same moment, same point on the timeline, different wall-clock time.\r\n    ZoneId.of( &quot;America/Phoenix&quot; ) \r\n)                                    // Returns a `ZonedDateTime` object.\r\n.format(                             // Generat text representing the date-time value kept within that `ZonedDateTime` object.\r\n    DateTimeFormatter\r\n    .ofLocalizedDateTime( FormatStyle.MEDIUM )\r\n    .withLocale( Locale.US ) \r\n)                                    // Returns a `String` object.\r\n```\r\n\r\nSee this [code run live at IdeOne.com][1].\r\n\r\n&gt;Dec 29, 2021, 2:21:18 PM\r\n\r\n\r\n# Details\r\n\r\nYou are using terrible old date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310. Never use `Timestamp`, `Calendar`, `Date`, `SimpleDateFormat`, etc.\r\n\r\nUse the `Instant` class to represent a moment as seen in UTC, with an offset of zero hours-minutes-seconds.\r\n\r\n    long millisecondsSinceBeginningOf1970InUtc = 1_640_812_878_000L ;\r\n    Instant instant = Instant.ofEpochMilli( millisecondsSinceBeginningOf1970InUtc ) ;\r\n\r\nSpecify the time zone in which you are interested.\r\n\r\n    ZoneID z = ZoneId.of( &quot;Africa/Tunis&quot; ) ;\r\n\r\nAdjust from offset of zero to that time zone to produce a `ZonedDateTime` object.\r\n\r\n    ZonedDateTime zdt = instant.atZone( z ) ;\r\n\r\nGenerate text representing that moment by automatically localizing. Use a `Locale` to specify the human language to use in translation as well as a culture to use in deciding abbreviation, capitalization, order of elements, and so on.\r\n\r\n    Locale locale = Locale.JAPAN ; // Or Locale.US, Locale.ITALY, etc.\r\n    DateTimeFormatter f = DateTimeFormatter.ofLocalizedDateTime( FormatStyle.LONG ).withLocale( locale ) ;\r\n    String output = zdt.format( f ) ;\r\n\r\nAll of this has been addressed many times on Stack Overflow. Search to learn more.\r\n\r\n\r\n  [1]: https://ideone.com/VMBRVc","title":"Convert timestamp to Date time for a particular timezone","body":"<h1>tl;dr</h1>\n<pre class=\"lang-java prettyprint-override\"><code>Instant\n.ofEpochMilli(                       // Parse a count of milliseconds since 1970-01-01T00:00Z.\n    1_640_812_878_000L\n)                                    // Returns a `Instant` object.\n.atZone(                             // Adjust from UTC to a time zone. Same moment, same point on the timeline, different wall-clock time.\n    ZoneId.of( &quot;America/Phoenix&quot; ) \n)                                    // Returns a `ZonedDateTime` object.\n.format(                             // Generat text representing the date-time value kept within that `ZonedDateTime` object.\n    DateTimeFormatter\n    .ofLocalizedDateTime( FormatStyle.MEDIUM )\n    .withLocale( Locale.US ) \n)                                    // Returns a `String` object.\n</code></pre>\n<p>See this <a href=\"https://ideone.com/VMBRVc\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n<blockquote>\n<p>Dec 29, 2021, 2:21:18 PM</p>\n</blockquote>\n<h1>Details</h1>\n<p>You are using terrible old date-time classes that were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310. Never use <code>Timestamp</code>, <code>Calendar</code>, <code>Date</code>, <code>SimpleDateFormat</code>, etc.</p>\n<p>Use the <code>Instant</code> class to represent a moment as seen in UTC, with an offset of zero hours-minutes-seconds.</p>\n<pre><code>long millisecondsSinceBeginningOf1970InUtc = 1_640_812_878_000L ;\nInstant instant = Instant.ofEpochMilli( millisecondsSinceBeginningOf1970InUtc ) ;\n</code></pre>\n<p>Specify the time zone in which you are interested.</p>\n<pre><code>ZoneID z = ZoneId.of( &quot;Africa/Tunis&quot; ) ;\n</code></pre>\n<p>Adjust from offset of zero to that time zone to produce a <code>ZonedDateTime</code> object.</p>\n<pre><code>ZonedDateTime zdt = instant.atZone( z ) ;\n</code></pre>\n<p>Generate text representing that moment by automatically localizing. Use a <code>Locale</code> to specify the human language to use in translation as well as a culture to use in deciding abbreviation, capitalization, order of elements, and so on.</p>\n<pre><code>Locale locale = Locale.JAPAN ; // Or Locale.US, Locale.ITALY, etc.\nDateTimeFormatter f = DateTimeFormatter.ofLocalizedDateTime( FormatStyle.LONG ).withLocale( locale ) ;\nString output = zdt.format( f ) ;\n</code></pre>\n<p>All of this has been addressed many times on Stack Overflow. Search to learn more.</p>\n"}],"owner":{"account_id":1844888,"reputation":747,"user_id":1673458,"accept_rate":62,"display_name":"Doctor Who"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8046,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70527616,"answer_count":2,"score":1,"last_activity_date":1640841067,"creation_date":1640838589,"question_id":70527484,"body_markdown":"I want to convert a timestamp `(which is in GMT)` to a `local date and time`.\r\n\r\nThis is what I have implemented so far, but it is giving me wrong month\r\n\r\n    Timestamp stp = new Timestamp(1640812878000L);\r\n    Calendar convertTimestamp = convertTimeStamp(stp,&quot;America/Phoenix&quot;);\r\n    System.out.println(convertTimestamp.getTime());\r\n\t\t\r\n\r\n    public static Calendar convertTimeStamp( Timestamp p_gmtTime, String p_timeZone) throws Exception {\r\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;MMM dd, yyyy HH:MM:SS a&quot;, Locale.ENGLISH);\r\n            DateFormat formatter = DateFormat.getDateTimeInstance();\r\n            if (p_timeZone != null) {\r\n                formatter.setTimeZone(TimeZone.getTimeZone(p_timeZone));\r\n            } else {\r\n                formatter.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n            }\r\n    \r\n            String gmt_time = formatter.format(p_gmtTime);\r\n            Calendar cal = Calendar.getInstance();\r\n            cal.setTime(sdf.parse(gmt_time));\r\n            return cal;\r\n        }\r\n\r\n\r\nAny help would be appreciated.\r\n","title":"Convert timestamp to Date time for a particular timezone","body":"<p>I want to convert a timestamp <code>(which is in GMT)</code> to a <code>local date and time</code>.</p>\n<p>This is what I have implemented so far, but it is giving me wrong month</p>\n<pre><code>Timestamp stp = new Timestamp(1640812878000L);\nCalendar convertTimestamp = convertTimeStamp(stp,&quot;America/Phoenix&quot;);\nSystem.out.println(convertTimestamp.getTime());\n    \n\npublic static Calendar convertTimeStamp( Timestamp p_gmtTime, String p_timeZone) throws Exception {\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;MMM dd, yyyy HH:MM:SS a&quot;, Locale.ENGLISH);\n        DateFormat formatter = DateFormat.getDateTimeInstance();\n        if (p_timeZone != null) {\n            formatter.setTimeZone(TimeZone.getTimeZone(p_timeZone));\n        } else {\n            formatter.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\n        }\n\n        String gmt_time = formatter.format(p_gmtTime);\n        Calendar cal = Calendar.getInstance();\n        cal.setTime(sdf.parse(gmt_time));\n        return cal;\n    }\n</code></pre>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":11915782,"reputation":1135,"user_id":8719734,"display_name":"aryanknp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1597844461,"creation_date":1597844461,"answer_id":63488298,"question_id":63486057,"body_markdown":"Well very simple, you check when the dialog is opened , get the title textview and change its text programmatically just like this:\r\n\r\n    CountryCodePicker cpp;\r\n    cpp=(CountryCodePicker) findViewById(R.id.yourid);\r\n\r\n\r\n    cpp.setDialogEventsListener(new CountryCodePicker.DialogEventsListener() {\r\n                @Override\r\n                public void onCcpDialogOpen(Dialog dialog) {\r\n                    //your code\r\n                  TextView title =(TextView)  dialog.findViewById(R.id.textView_title);\r\n                  title.setText(&quot;Select Country or Region&quot;);\r\n                }\r\n    \r\n                @Override\r\n                public void onCcpDialogDismiss(DialogInterface dialogInterface) {\r\n                    //your code\r\n                }\r\n    \r\n                @Override\r\n                public void onCcpDialogCancel(DialogInterface dialogInterface) {\r\n                    //your code\r\n                }\r\n            });","title":"How to change dialog of CountryCodePicker (CCP)","body":"<p>Well very simple, you check when the dialog is opened , get the title textview and change its text programmatically just like this:</p>\n<pre><code>CountryCodePicker cpp;\ncpp=(CountryCodePicker) findViewById(R.id.yourid);\n\n\ncpp.setDialogEventsListener(new CountryCodePicker.DialogEventsListener() {\n            @Override\n            public void onCcpDialogOpen(Dialog dialog) {\n                //your code\n              TextView title =(TextView)  dialog.findViewById(R.id.textView_title);\n              title.setText(&quot;Select Country or Region&quot;);\n            }\n\n            @Override\n            public void onCcpDialogDismiss(DialogInterface dialogInterface) {\n                //your code\n            }\n\n            @Override\n            public void onCcpDialogCancel(DialogInterface dialogInterface) {\n                //your code\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12518217,"reputation":649,"user_id":9110576,"display_name":"Haseeb Hassan Asif"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640840826,"creation_date":1640840366,"answer_id":70527630,"question_id":63486057,"body_markdown":"For Kotlin\r\n```\r\nbinding.ccpPhone.setDialogEventsListener(object : DialogEventsListener {\r\n            override fun onCcpDialogOpen(dialog: Dialog) {\r\n                //your code\r\n                dialog.findViewById&lt;TextView&gt;(R.id.textView_title).text = &quot;Title Here&quot;\r\n                /*dialog.findViewById&lt;CardView&gt;(R.id.cardViewRoot).background = resources.getDrawable(R.drawable.bg_white_bottom_sheet, null)\r\n                //dialog size\r\n\r\n                val width = (resources.displayMetrics.widthPixels * 0.85).toInt()\r\n                val height = (resources.displayMetrics.heightPixels * 0.85).toInt()\r\n                dialog.window?.setLayout(ViewGroup.LayoutParams.MATCH_PARENT, height)\r\n                dialog.window?.setGravity(Gravity.BOTTOM)*/\r\n            }\r\n\r\n            override fun onCcpDialogDismiss(dialogInterface: DialogInterface) {\r\n                //your code\r\n            }\r\n\r\n            override fun onCcpDialogCancel(dialogInterface: DialogInterface) {\r\n                //your code\r\n            }\r\n        })\r\n```\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/5IIJs.jpg","title":"How to change dialog of CountryCodePicker (CCP)","body":"<p>For Kotlin</p>\n<pre><code>binding.ccpPhone.setDialogEventsListener(object : DialogEventsListener {\n            override fun onCcpDialogOpen(dialog: Dialog) {\n                //your code\n                dialog.findViewById&lt;TextView&gt;(R.id.textView_title).text = &quot;Title Here&quot;\n                /*dialog.findViewById&lt;CardView&gt;(R.id.cardViewRoot).background = resources.getDrawable(R.drawable.bg_white_bottom_sheet, null)\n                //dialog size\n\n                val width = (resources.displayMetrics.widthPixels * 0.85).toInt()\n                val height = (resources.displayMetrics.heightPixels * 0.85).toInt()\n                dialog.window?.setLayout(ViewGroup.LayoutParams.MATCH_PARENT, height)\n                dialog.window?.setGravity(Gravity.BOTTOM)*/\n            }\n\n            override fun onCcpDialogDismiss(dialogInterface: DialogInterface) {\n                //your code\n            }\n\n            override fun onCcpDialogCancel(dialogInterface: DialogInterface) {\n                //your code\n            }\n        })\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/5IIJs.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5IIJs.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":11106571,"reputation":68,"user_id":8153581,"display_name":"Kwenziwa Lizwi Khanyile"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1089,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":63488298,"answer_count":2,"score":-1,"last_activity_date":1640840826,"creation_date":1597836673,"question_id":63486057,"body_markdown":"How can i change dialog of CountryCodePicker (CCP) title from Select a Country to Select a country or region. im using  CCP  library for Country Selector.  As you can see the below picture dialog title is Select a country.\r\n\r\n\r\n\r\n[![ CCP ][1]][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jXcqS.jpg","title":"How to change dialog of CountryCodePicker (CCP)","body":"<p>How can i change dialog of CountryCodePicker (CCP) title from Select a Country to Select a country or region. im using  CCP  library for Country Selector.  As you can see the below picture dialog title is Select a country.</p>\n<p><a href=\"https://i.stack.imgur.com/jXcqS.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jXcqS.jpg\" alt=\" CCP \" /></a></p>\n"},{"tags":["java","android","sql","sqlite","android-cursor"],"answers":[{"tags":[],"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1270224065,"creation_date":1270223667,"answer_id":2567621,"question_id":2567594,"body_markdown":"Your skipping the first value actually, not the last.\r\n\r\n    trackCursor.moveToFirst();\r\n    while (trackCursor.moveToNext()) {\r\n\r\nThe first time into the while loop you are pointing at the 2nd row.\r\n\r\nI would convert your [while loop to a do-while loop][1]\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/java/nutsandbolts/while.html","title":"Cursor while loop returning every value but the last","body":"<p>Your skipping the first value actually, not the last.</p>\n\n<pre><code>trackCursor.moveToFirst();\nwhile (trackCursor.moveToNext()) {\n</code></pre>\n\n<p>The first time into the while loop you are pointing at the 2nd row.</p>\n\n<p>I would convert your <a href=\"http://java.sun.com/docs/books/tutorial/java/nutsandbolts/while.html\" rel=\"nofollow noreferrer\">while loop to a do-while loop</a></p>\n"},{"tags":[],"owner":{"account_id":88036,"reputation":205429,"user_id":243782,"accept_rate":94,"display_name":"Pentium10"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1270225752,"creation_date":1270225752,"answer_id":2567796,"question_id":2567594,"body_markdown":"    Cursor c=null;\r\n    c=......;\r\n    try {\r\n        if (c!=null) {\r\n            for (c.moveToFirst(); !c.isAfterLast(); c.moveToNext()) {\r\n             \r\n            }\r\n        \r\n        }\r\n    } finally {\r\n        if (c!=null) {\r\n            c.close();\r\n        }\r\n    }","title":"Cursor while loop returning every value but the last","body":"<pre><code>Cursor c=null;\nc=......;\ntry {\n    if (c!=null) {\n        for (c.moveToFirst(); !c.isAfterLast(); c.moveToNext()) {\n\n        }\n\n    }\n} finally {\n    if (c!=null) {\n        c.close();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":97607,"reputation":1092,"user_id":264676,"accept_rate":75,"display_name":"Parker"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1270226417,"creation_date":1270226417,"answer_id":2567861,"question_id":2567594,"body_markdown":"moveToNext() has two features.  It returns a boolean signifying that there *is* a next, but at the same time it goes ahead and moves the cursor.\r\n\r\n    public void loadTrack() {\r\n    SQLiteDatabase db1 = waypoints.getWritableDatabase();\r\n    Cursor trackCursor = db1.query(TABLE_NAME, FROM, &quot;trackidfk=1&quot;, null, null, null,ORDER_BY); \r\n    \r\n        trackCursor.moveToFirst();\r\n        do {\r\n            Double lat = trackCursor.getDouble(2);\r\n            Double lon = trackCursor.getDouble(1);\r\n            //overlay.addGeoPoint( new GeoPoint( (int)(lat*1E6),  (int)(lon*1E6)));\r\n            System.out.println(lon);\r\n            System.out.println(lat);\r\n        } while (trackCursor.moveToNext());\r\n    }","title":"Cursor while loop returning every value but the last","body":"<p>moveToNext() has two features.  It returns a boolean signifying that there <em>is</em> a next, but at the same time it goes ahead and moves the cursor.</p>\n\n<pre><code>public void loadTrack() {\nSQLiteDatabase db1 = waypoints.getWritableDatabase();\nCursor trackCursor = db1.query(TABLE_NAME, FROM, \"trackidfk=1\", null, null, null,ORDER_BY); \n\n    trackCursor.moveToFirst();\n    do {\n        Double lat = trackCursor.getDouble(2);\n        Double lon = trackCursor.getDouble(1);\n        //overlay.addGeoPoint( new GeoPoint( (int)(lat*1E6),  (int)(lon*1E6)));\n        System.out.println(lon);\n        System.out.println(lat);\n    } while (trackCursor.moveToNext());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":42474,"reputation":2894,"user_id":123724,"display_name":"Billy Bob Bain"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1270254402,"creation_date":1270254402,"answer_id":2569843,"question_id":2567594,"body_markdown":"You just executed the query. Can&#39;t you just get rid of the moveToFirst()?\r\n\r\n    public void loadTrack() {\r\n    SQLiteDatabase db1 = waypoints.getWritableDatabase();\r\n    Cursor trackCursor = db1.query(TABLE_NAME, FROM, &quot;trackidfk=1&quot;, null, null, null,ORDER_BY); \r\n    \r\n        while (trackCursor.moveToNext()) {\r\n            Double lat = trackCursor.getDouble(2);\r\n            Double lon = trackCursor.getDouble(1);\r\n            //overlay.addGeoPoint( new GeoPoint( (int)(lat*1E6),  (int)(lon*1E6)));\r\n            System.out.println(lon);\r\n            System.out.println(lat);\r\n        }\r\n    }\r\n\r\n","title":"Cursor while loop returning every value but the last","body":"<p>You just executed the query. Can't you just get rid of the moveToFirst()?</p>\n\n<pre><code>public void loadTrack() {\nSQLiteDatabase db1 = waypoints.getWritableDatabase();\nCursor trackCursor = db1.query(TABLE_NAME, FROM, \"trackidfk=1\", null, null, null,ORDER_BY); \n\n    while (trackCursor.moveToNext()) {\n        Double lat = trackCursor.getDouble(2);\n        Double lon = trackCursor.getDouble(1);\n        //overlay.addGeoPoint( new GeoPoint( (int)(lat*1E6),  (int)(lon*1E6)));\n        System.out.println(lon);\n        System.out.println(lat);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":112538,"reputation":4290,"user_id":296810,"accept_rate":88,"display_name":"jcrowson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15944,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":2567861,"answer_count":4,"score":7,"last_activity_date":1640840770,"creation_date":1270223384,"question_id":2567594,"body_markdown":"I am using a while loop to iterate through a cursor and then outputing the longitude and latitude values of every point within the database. \r\n\r\nFor some reason it is not returning the last (or first depending on if I use Cursor.MoveToLast) set of longitude and latitude values in the cursor.\r\n\r\nHere is my code:\r\n\r\n\tpublic void loadTrack() {\r\n\tSQLiteDatabase db1 = waypoints.getWritableDatabase();\r\n\tCursor trackCursor = db1.query(TABLE_NAME, FROM, &quot;trackidfk=1&quot;, null, null, null,ORDER_BY);\t\r\n\t\r\n        trackCursor.moveToFirst();\r\n\t\twhile (trackCursor.moveToNext()) {\r\n\t\t\tDouble lat = trackCursor.getDouble(2);\r\n\t\t\tDouble lon = trackCursor.getDouble(1);\r\n\t\t\t//overlay.addGeoPoint( new GeoPoint( (int)(lat*1E6),  (int)(lon*1E6)));\r\n\t\t\tSystem.out.println(lon);\r\n\t\t\tSystem.out.println(lat);\r\n\t\t}\r\n\t}\r\n\r\nFrom this I am getting:\r\n```\r\n*******************************************\r\n04-02 15:39:07.416: INFO/System.out(10551): 3.0\r\n04-02 15:39:07.416: INFO/System.out(10551): 5.0\r\n04-02 15:39:07.416: INFO/System.out(10551): 4.0\r\n04-02 15:39:07.416: INFO/System.out(10551): 5.0\r\n04-02 15:39:07.416: INFO/System.out(10551): 5.0\r\n04-02 15:39:07.416: INFO/System.out(10551): 5.0\r\n04-02 15:39:07.416: INFO/System.out(10551): 4.0\r\n04-02 15:39:07.416: INFO/System.out(10551): 4.0\r\n04-02 15:39:07.416: INFO/System.out(10551): 3.0\r\n04-02 15:39:07.416: INFO/System.out(10551): 3.0\r\n04-02 15:39:07.416: INFO/System.out(10551): 2.0\r\n04-02 15:39:07.416: INFO/System.out(10551): 2.0\r\n04-02 15:39:07.493: INFO/System.out(10551): 1.0\r\n04-02 15:39:07.493: INFO/System.out(10551): 1.0\r\n***************************************************************\r\n7 Sets of values, where I should be getting 8 sets.\r\n```\r\n\r\nThanks.\r\n\r\n","title":"Cursor while loop returning every value but the last","body":"<p>I am using a while loop to iterate through a cursor and then outputing the longitude and latitude values of every point within the database.</p>\n<p>For some reason it is not returning the last (or first depending on if I use Cursor.MoveToLast) set of longitude and latitude values in the cursor.</p>\n<p>Here is my code:</p>\n<pre><code>public void loadTrack() {\nSQLiteDatabase db1 = waypoints.getWritableDatabase();\nCursor trackCursor = db1.query(TABLE_NAME, FROM, &quot;trackidfk=1&quot;, null, null, null,ORDER_BY); \n\n    trackCursor.moveToFirst();\n    while (trackCursor.moveToNext()) {\n        Double lat = trackCursor.getDouble(2);\n        Double lon = trackCursor.getDouble(1);\n        //overlay.addGeoPoint( new GeoPoint( (int)(lat*1E6),  (int)(lon*1E6)));\n        System.out.println(lon);\n        System.out.println(lat);\n    }\n}\n</code></pre>\n<p>From this I am getting:</p>\n<pre><code>*******************************************\n04-02 15:39:07.416: INFO/System.out(10551): 3.0\n04-02 15:39:07.416: INFO/System.out(10551): 5.0\n04-02 15:39:07.416: INFO/System.out(10551): 4.0\n04-02 15:39:07.416: INFO/System.out(10551): 5.0\n04-02 15:39:07.416: INFO/System.out(10551): 5.0\n04-02 15:39:07.416: INFO/System.out(10551): 5.0\n04-02 15:39:07.416: INFO/System.out(10551): 4.0\n04-02 15:39:07.416: INFO/System.out(10551): 4.0\n04-02 15:39:07.416: INFO/System.out(10551): 3.0\n04-02 15:39:07.416: INFO/System.out(10551): 3.0\n04-02 15:39:07.416: INFO/System.out(10551): 2.0\n04-02 15:39:07.416: INFO/System.out(10551): 2.0\n04-02 15:39:07.493: INFO/System.out(10551): 1.0\n04-02 15:39:07.493: INFO/System.out(10551): 1.0\n***************************************************************\n7 Sets of values, where I should be getting 8 sets.\n</code></pre>\n<p>Thanks.</p>\n"},{"tags":["java","android","xml","android-layout"],"answers":[{"tags":[],"owner":{"account_id":23153210,"reputation":1,"user_id":17336071,"display_name":"Lex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640840743,"creation_date":1640806118,"answer_id":70524107,"question_id":70523575,"body_markdown":"`public void dismiss ()` Disposes of the popup window. This method can be invoked only after `showAsDropDown(android.view.View)` has been executed. Failing that, calling this method will have no effect.","title":"Can&#39;t dismiss a popup window (other solutions do not work)","body":"<p><code>public void dismiss ()</code> Disposes of the popup window. This method can be invoked only after <code>showAsDropDown(android.view.View)</code> has been executed. Failing that, calling this method will have no effect.</p>\n"}],"owner":{"account_id":16465660,"reputation":140,"user_id":12418325,"display_name":"Karol Szustakowski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640840743,"creation_date":1640802943,"question_id":70523575,"body_markdown":"I am trying to create a simple PopupWindow with a text entry field. \r\n\r\nI know there are many questions of this type, but none seem to solve my problem. This is the XML of my popup layout:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:background=&quot;@color/white&quot;\r\n    android:gravity=&quot;center&quot;\r\n    android:padding=&quot;15dp&quot;\r\n    android:layout_gravity=&quot;center&quot;\r\n    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Dodaj produkt po identyfikatorze&quot;\r\n        android:textSize=&quot;15sp&quot;\r\n        android:gravity=&quot;center&quot;\r\n        /&gt;\r\n\r\n    &lt;EditText\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        android:hint=&quot;Identyfikator&quot;\r\n        android:minWidth=&quot;250dp&quot;\r\n        android:id=&quot;@+id/insert_edit&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n        &lt;Button\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/insert_ok&quot;\r\n            android:text=&quot;OK&quot;/&gt;\r\n        &lt;Button\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/insert_cancel&quot;\r\n            android:text=&quot;Anuluj&quot;/&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nNow, I want to create this layout in my main activity when a FAB is pressed. This is how I do it:\r\n```java\r\n\r\npublic class ScrollingActivity extends AppCompatActivity {\r\n\r\n    private ActivityScrollingBinding binding;\r\n    private int ACTIVITY_LOAD_DATABASE = 1;\r\n    AbstractDatabase database;\r\n    RowAdapter rowAdapter;\r\n    ListView listView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        database = Room.databaseBuilder(getApplicationContext(),  AbstractDatabase.class, &quot;magazyn_db&quot;)\r\n                .allowMainThreadQueries().build();\r\n        binding = ActivityScrollingBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        FloatingActionButton fab = binding.addCode;\r\n        fab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Log.println(Log.INFO, &quot;VIEWs&quot;, &quot;Showing popup&quot;);\r\n                PopupWindow codePopup;\r\n\r\n                View popupView = getLayoutInflater().inflate(R.layout.insert_code, binding.getRoot());\r\n\r\n                codePopup = new PopupWindow(popupView);\r\n                codePopup.setFocusable(true);\r\n                codePopup.setOutsideTouchable(true);\r\n\r\n                View cancelButton = codePopup.getContentView().findViewById(R.id.insert_cancel);\r\n                cancelButton.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n                        codePopup.dismiss();\r\n                    }\r\n                });\r\n\r\n                View acceptButton = codePopup.getContentView().findViewById(R.id.insert_ok);\r\n                acceptButton.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n                        View editView = codePopup.getContentView().findViewById(R.id.insert_edit);\r\n                        String id = ((EditText)editView).getText().toString().trim();\r\n                        insertNewElement(id);\r\n                        codePopup.dismiss();\r\n                        }\r\n                });\r\n            }\r\n        });\r\n[...]\r\n```\r\n\r\nFor an unknown reason my popup doesn&#39;t go dismissed, both when I click outside of it, or press the cancel button (when I tried to print some logs from the handler, they worked). I have tried many solutions, also inflating it with no root, but then &#39;showAtPosition&#39; doesn&#39;t even show it, and no solutions here on stackoverflow seem to help me even though there are many of them.\r\n\r\nIs anyone able to point the problem here?","title":"Can&#39;t dismiss a popup window (other solutions do not work)","body":"<p>I am trying to create a simple PopupWindow with a text entry field.</p>\n<p>I know there are many questions of this type, but none seem to solve my problem. This is the XML of my popup layout:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:background=&quot;@color/white&quot;\n    android:gravity=&quot;center&quot;\n    android:padding=&quot;15dp&quot;\n    android:layout_gravity=&quot;center&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n\n    &lt;TextView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Dodaj produkt po identyfikatorze&quot;\n        android:textSize=&quot;15sp&quot;\n        android:gravity=&quot;center&quot;\n        /&gt;\n\n    &lt;EditText\n        android:layout_width=&quot;match_parent&quot;\n        android:textSize=&quot;20sp&quot;\n        android:hint=&quot;Identyfikator&quot;\n        android:minWidth=&quot;250dp&quot;\n        android:id=&quot;@+id/insert_edit&quot;\n        android:gravity=&quot;center&quot;\n        android:layout_height=&quot;match_parent&quot; /&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:gravity=&quot;center&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;Button\n            android:layout_width=&quot;wrap_content&quot;\n            android:gravity=&quot;center&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:id=&quot;@+id/insert_ok&quot;\n            android:text=&quot;OK&quot;/&gt;\n        &lt;Button\n            android:layout_width=&quot;wrap_content&quot;\n            android:gravity=&quot;center&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:id=&quot;@+id/insert_cancel&quot;\n            android:text=&quot;Anuluj&quot;/&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Now, I want to create this layout in my main activity when a FAB is pressed. This is how I do it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class ScrollingActivity extends AppCompatActivity {\n\n    private ActivityScrollingBinding binding;\n    private int ACTIVITY_LOAD_DATABASE = 1;\n    AbstractDatabase database;\n    RowAdapter rowAdapter;\n    ListView listView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        database = Room.databaseBuilder(getApplicationContext(),  AbstractDatabase.class, &quot;magazyn_db&quot;)\n                .allowMainThreadQueries().build();\n        binding = ActivityScrollingBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        FloatingActionButton fab = binding.addCode;\n        fab.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Log.println(Log.INFO, &quot;VIEWs&quot;, &quot;Showing popup&quot;);\n                PopupWindow codePopup;\n\n                View popupView = getLayoutInflater().inflate(R.layout.insert_code, binding.getRoot());\n\n                codePopup = new PopupWindow(popupView);\n                codePopup.setFocusable(true);\n                codePopup.setOutsideTouchable(true);\n\n                View cancelButton = codePopup.getContentView().findViewById(R.id.insert_cancel);\n                cancelButton.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n                        codePopup.dismiss();\n                    }\n                });\n\n                View acceptButton = codePopup.getContentView().findViewById(R.id.insert_ok);\n                acceptButton.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n                        View editView = codePopup.getContentView().findViewById(R.id.insert_edit);\n                        String id = ((EditText)editView).getText().toString().trim();\n                        insertNewElement(id);\n                        codePopup.dismiss();\n                        }\n                });\n            }\n        });\n[...]\n</code></pre>\n<p>For an unknown reason my popup doesn't go dismissed, both when I click outside of it, or press the cancel button (when I tried to print some logs from the handler, they worked). I have tried many solutions, also inflating it with no root, but then 'showAtPosition' doesn't even show it, and no solutions here on stackoverflow seem to help me even though there are many of them.</p>\n<p>Is anyone able to point the problem here?</p>\n"},{"tags":["java","sql","hibernate","jpa","database-cursor"],"comments":[{"owner":{"account_id":1116645,"reputation":1415,"user_id":1105832,"display_name":"JanM"},"score":0,"creation_date":1405522128,"post_id":23775175,"comment_id":38462306,"body_markdown":"Seems like you are not alone https://hibernate.atlassian.net/browse/HHH-9286","body":"Seems like you are not alone <a href=\"https://hibernate.atlassian.net/browse/HHH-9286\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/browse/HHH-9286</a>"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1574234420,"post_id":23775175,"comment_id":104154344,"body_markdown":"Does this answer your question? [java.lang.UnsupportedOperationException: org.hibernate.dialect.Oracle10gDialect does not support resultsets via stored procedures](https://stackoverflow.com/questions/38592137/java-lang-unsupportedoperationexception-org-hibernate-dialect-oracle10gdialect)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/38592137/java-lang-unsupportedoperationexception-org-hibernate-dialect-oracle10gdialect\">java.lang.UnsupportedOperationException: org.hibernate.dialect.Oracle10gDialect does not support resultsets via stored procedures</a>"}],"owner":{"account_id":3346109,"reputation":71,"user_id":2811229,"display_name":"user2811229"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3409,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":0,"score":7,"last_activity_date":1640840512,"creation_date":1400652294,"question_id":23775175,"body_markdown":"I&#39;m trying to call a database stored procedure (Oracle 10g) with JPA 2.1 (Hibernate 4.3.5). The procedure returns the results in an output cursor:\r\n\r\n    PROCEDURE GET_EMPLOYEE(\r\n      P_ID_EMP  IN       VARCHAR2,\r\n      P_CURSOR   OUT   TYPES.cursor_type\r\n    )\r\n    AS ...\r\n\r\nJava code:\r\n\r\n    @NamedStoredProcedureQuery(name = &quot;Employee.findById&quot;, \r\n    \tresultClasses = Employee.class, \r\n    \tprocedureName = &quot;GET_EMPLOYEE&quot;, \r\n    \tparameters = {\r\n    \t\t@StoredProcedureParameter(mode = ParameterMode.IN, name = &quot;P_ID_EMP&quot;, type = String.class),\r\n    \t\t@StoredProcedureParameter(mode = ParameterMode.REF_CURSOR, name = &quot;P_CURSOR&quot;, type = void.class) \r\n    \t}\r\n    )\r\n\r\nCall:\r\n\r\n    StoredProcedureQuery query = em.createNamedStoredProcedureQuery(&quot;Employee.findById&quot;);\r\n    query.setParameter(&quot;P_ID_EMP&quot;, &quot;ID00001&quot;);\r\n    List&lt;Employee&gt; employees = query.getResultList(); //exception launched here\r\n\r\n\r\nThis Exception is launched:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException: org.hibernate.dialect.Oracle10gDialect does not support resultsets via stored procedures\r\n    \tat org.hibernate.dialect.Dialect.registerResultSetOutParameter(Dialect.java:1612)\r\n    \tat org.hibernate.engine.jdbc.cursor.internal.StandardRefCursorSupport.registerRefCursorParameter(StandardRefCursorSupport.java:94)\r\n    \tat org.hibernate.procedure.internal.AbstractParameterRegistrationImpl.prepare(AbstractParameterRegistrationImpl.java:298)\r\n    \tat org.hibernate.procedure.internal.ProcedureCallImpl.buildOutputs(ProcedureCallImpl.java:417)\r\n    \tat org.hibernate.procedure.internal.ProcedureCallImpl.getOutputs(ProcedureCallImpl.java:378)\r\n    \tat org.hibernate.jpa.internal.StoredProcedureQueryImpl.outputs(StoredProcedureQueryImpl.java:251)\r\n    \tat org.hibernate.jpa.internal.StoredProcedureQueryImpl.getResultList(StoredProcedureQueryImpl.java:334)\r\n\r\nThe same code works great using Eclipselink 2.5.1 (but can&#39;t use it).\r\n\r\nI know I can get a JDBC connection from the entitymanager and use the classic Resultset stuff to retrieve the results, but I would like to use JPA 2.1 - Hibernate. \r\n\r\nThank you.\r\n\r\n","title":"org.hibernate.dialect.Oracle10gDialect does not support resultsets via stored procedures","body":"<p>I'm trying to call a database stored procedure (Oracle 10g) with JPA 2.1 (Hibernate 4.3.5). The procedure returns the results in an output cursor:</p>\n\n<pre><code>PROCEDURE GET_EMPLOYEE(\n  P_ID_EMP  IN       VARCHAR2,\n  P_CURSOR   OUT   TYPES.cursor_type\n)\nAS ...\n</code></pre>\n\n<p>Java code:</p>\n\n<pre><code>@NamedStoredProcedureQuery(name = \"Employee.findById\", \n    resultClasses = Employee.class, \n    procedureName = \"GET_EMPLOYEE\", \n    parameters = {\n        @StoredProcedureParameter(mode = ParameterMode.IN, name = \"P_ID_EMP\", type = String.class),\n        @StoredProcedureParameter(mode = ParameterMode.REF_CURSOR, name = \"P_CURSOR\", type = void.class) \n    }\n)\n</code></pre>\n\n<p>Call:</p>\n\n<pre><code>StoredProcedureQuery query = em.createNamedStoredProcedureQuery(\"Employee.findById\");\nquery.setParameter(\"P_ID_EMP\", \"ID00001\");\nList&lt;Employee&gt; employees = query.getResultList(); //exception launched here\n</code></pre>\n\n<p>This Exception is launched:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.UnsupportedOperationException: org.hibernate.dialect.Oracle10gDialect does not support resultsets via stored procedures\n    at org.hibernate.dialect.Dialect.registerResultSetOutParameter(Dialect.java:1612)\n    at org.hibernate.engine.jdbc.cursor.internal.StandardRefCursorSupport.registerRefCursorParameter(StandardRefCursorSupport.java:94)\n    at org.hibernate.procedure.internal.AbstractParameterRegistrationImpl.prepare(AbstractParameterRegistrationImpl.java:298)\n    at org.hibernate.procedure.internal.ProcedureCallImpl.buildOutputs(ProcedureCallImpl.java:417)\n    at org.hibernate.procedure.internal.ProcedureCallImpl.getOutputs(ProcedureCallImpl.java:378)\n    at org.hibernate.jpa.internal.StoredProcedureQueryImpl.outputs(StoredProcedureQueryImpl.java:251)\n    at org.hibernate.jpa.internal.StoredProcedureQueryImpl.getResultList(StoredProcedureQueryImpl.java:334)\n</code></pre>\n\n<p>The same code works great using Eclipselink 2.5.1 (but can't use it).</p>\n\n<p>I know I can get a JDBC connection from the entitymanager and use the classic Resultset stuff to retrieve the results, but I would like to use JPA 2.1 - Hibernate. </p>\n\n<p>Thank you.</p>\n"},{"tags":["java","appium","firebase-tools"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1640840366,"post_id":70527555,"comment_id":124671917,"body_markdown":"SUGGESTIONS:  1) print out `dbCommand` (or look at its value in the debugger) and verify that it&#39;s a valid filepath.  2) If it&#39;s OK, then execute `/bin/bash -c &lt;&lt;dbComand&gt;&gt;` from a terminal window, and verify it works,","body":"SUGGESTIONS:  1) print out <code>dbCommand</code> (or look at its value in the debugger) and verify that it&#39;s a valid filepath.  2) If it&#39;s OK, then execute <code>&#47;bin&#47;bash -c &lt;&lt;dbComand&gt;&gt;</code> from a terminal window, and verify it works,"},{"owner":{"account_id":6719899,"reputation":91,"user_id":5180337,"display_name":"kapil"},"score":0,"creation_date":1640845768,"post_id":70527555,"comment_id":124672756,"body_markdown":"its a valid path. I already tried that. I get an error - Directory doesn&#39;t exist. But that&#39;s wrong. \nif I just do copy path after CD and try to CD into it from terminal, it works. \n\nAnd the same thing happens on Mac as well if I try to copy and paste the output from mac into mac terminal. So this can&#39;t be an issue. \n\nIsn&#39;t that command starting a process? Isn&#39;t it a bit different than running the same line in terminal?\nEven if I try\n`/bin/bash cd /`\nin mac or Ubuntu terminal, I get the same error. Directory doesn&#39;t exist, and that&#39;s false. &quot;cd  /&quot; command will work in all terminals.","body":"its a valid path. I already tried that. I get an error - Directory doesn&#39;t exist. But that&#39;s wrong.  if I just do copy path after CD and try to CD into it from terminal, it works.   And the same thing happens on Mac as well if I try to copy and paste the output from mac into mac terminal. So this can&#39;t be an issue.   Isn&#39;t that command starting a process? Isn&#39;t it a bit different than running the same line in terminal? Even if I try <code>&#47;bin&#47;bash cd &#47;</code> in mac or Ubuntu terminal, I get the same error. Directory doesn&#39;t exist, and that&#39;s false. &quot;cd  /&quot; command will work in all terminals."},{"owner":{"account_id":6719899,"reputation":91,"user_id":5180337,"display_name":"kapil"},"score":0,"creation_date":1640845879,"post_id":70527555,"comment_id":124672771,"body_markdown":"if I just run \n`/bin/bash`\n\nIn Mac or Ubuntu. They both run without any issue. Sort of like launching the terminal from within the terminal.  So bash command works, CD command works. Everything works if you do them separately in terminal. Together they give error on Mac as well. But it still starts Firebase server on Mac. So running in terminal and starting process or whatever that java code is doing must be different.","body":"if I just run  <code>&#47;bin&#47;bash</code>  In Mac or Ubuntu. They both run without any issue. Sort of like launching the terminal from within the terminal.  So bash command works, CD command works. Everything works if you do them separately in terminal. Together they give error on Mac as well. But it still starts Firebase server on Mac. So running in terminal and starting process or whatever that java code is doing must be different."},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1640852197,"post_id":70527555,"comment_id":124674080,"body_markdown":"Sigh.. I asked two specific questions: Q1) Is the DB_COMMAND property being read to build the dbCommand statement, and Q2) are you able to type in that exact dbCommand statement - prefixing it with &quot;/bin/bash -c&quot; - from a terminal prompt, and does it successfully start your Firebase server (from the terminal window)?   I *WASN&#39;T* asking you to run &quot;/bin/bash&quot;.  Remember - the only thing Java &quot;ProcessBuilder()&quot; does is execute the command text you give it. My suggestion was to help you verify if the command text you generated was valid for your particular Ubuntu environment.","body":"Sigh.. I asked two specific questions: Q1) Is the DB_COMMAND property being read to build the dbCommand statement, and Q2) are you able to type in that exact dbCommand statement - prefixing it with &quot;/bin/bash -c&quot; - from a terminal prompt, and does it successfully start your Firebase server (from the terminal window)?   I <i>WASN&#39;T</i> asking you to run &quot;/bin/bash&quot;.  Remember - the only thing Java &quot;ProcessBuilder()&quot; does is execute the command text you give it. My suggestion was to help you verify if the command text you generated was valid for your particular Ubuntu environment."}],"owner":{"account_id":6719899,"reputation":91,"user_id":5180337,"display_name":"kapil"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640840269,"creation_date":1640839475,"question_id":70527555,"body_markdown":"I am trying to run test cases on Ubuntu 20.04 but Firebase server is not starting from the function within the test case\r\n\r\nThis function works fine on a mac. At first I thought it was wrong bash location, but Linux bash is also located at same location. I even printed the &quot;args&quot; variable value and its giving the correct output. \r\nI tried starting server manually and then tests start running and passing. \r\n\r\nFrom my troubleshooting it seems like the line\r\n\r\n    ProcessBuilder(args).start();\r\n\r\nmight be the main culprit. But since this isn&#39;t my code and I am not that familiar with java. I am having tough time fixing this. I have been googling from days but still no luck. Any help would be appreciated.  \r\n\r\nNo error is being thrown, so that&#39;s also got me stumped. App launches in emulator and tests start running but all test fail since Firebase emulators are not actually running. \r\n\r\n     public static void startFirebaseServer() throws IOException, InterruptedException {\r\n        String dbCommand = &quot;cd &quot; + System.getProperty(&quot;user.dir&quot;) + &quot; &amp;&amp; &quot; + StepDefinition.getProp(&quot;DB_COMMAND&quot;);\r\n        System.out.println(dbCommand);\r\n        System.out.println(&quot;Starting firebase server&quot;);\r\n        String[] args = new String[] { &quot;/bin/bash&quot;, &quot;-c&quot;, dbCommand };\r\n        System.out.println(String.join(&quot; &quot;,args));\r\n        try{\r\n           Process proc = new ProcessBuilder(args).start();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        Thread.sleep(3000);\r\n        System.out.println(&quot;Firebase server started&quot;);\r\n    }","title":"Java appium tests - unable to start firebase emulator on ubuntu 20.04","body":"<p>I am trying to run test cases on Ubuntu 20.04 but Firebase server is not starting from the function within the test case</p>\n<p>This function works fine on a mac. At first I thought it was wrong bash location, but Linux bash is also located at same location. I even printed the &quot;args&quot; variable value and its giving the correct output.\nI tried starting server manually and then tests start running and passing.</p>\n<p>From my troubleshooting it seems like the line</p>\n<pre><code>ProcessBuilder(args).start();\n</code></pre>\n<p>might be the main culprit. But since this isn't my code and I am not that familiar with java. I am having tough time fixing this. I have been googling from days but still no luck. Any help would be appreciated.</p>\n<p>No error is being thrown, so that's also got me stumped. App launches in emulator and tests start running but all test fail since Firebase emulators are not actually running.</p>\n<pre><code> public static void startFirebaseServer() throws IOException, InterruptedException {\n    String dbCommand = &quot;cd &quot; + System.getProperty(&quot;user.dir&quot;) + &quot; &amp;&amp; &quot; + StepDefinition.getProp(&quot;DB_COMMAND&quot;);\n    System.out.println(dbCommand);\n    System.out.println(&quot;Starting firebase server&quot;);\n    String[] args = new String[] { &quot;/bin/bash&quot;, &quot;-c&quot;, dbCommand };\n    System.out.println(String.join(&quot; &quot;,args));\n    try{\n       Process proc = new ProcessBuilder(args).start();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    Thread.sleep(3000);\n    System.out.println(&quot;Firebase server started&quot;);\n}\n</code></pre>\n"},{"tags":["java","android-studio","kotlin","junit","tdd"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1640836008,"post_id":70527204,"comment_id":124671244,"body_markdown":"You test formulas are valid by comparing their output against known-good values--how else would a math formula be verified (short of writing a theorem prover)?","body":"You test formulas are valid by comparing their output against known-good values--how else would a math formula be verified (short of writing a theorem prover)?"},{"owner":{"account_id":1947250,"reputation":76,"user_id":2066728,"display_name":"user2066728"},"score":0,"creation_date":1640837126,"post_id":70527204,"comment_id":124671415,"body_markdown":"Should all 4 cases be run against getHypotenuse()?","body":"Should all 4 cases be run against getHypotenuse()?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1640840878,"post_id":70527204,"comment_id":124671995,"body_markdown":"You should also write test cases for `validLegs`. Personally I would include the validation in `getHypotenuse` and either throw a checked exception, or return an `Either&lt;Double,ErrorMessage&gt;` to avoid the possibility of someone calling the function without first validating the parameters.","body":"You should also write test cases for <code>validLegs</code>. Personally I would include the validation in <code>getHypotenuse</code> and either throw a checked exception, or return an <code>Either&lt;Double,ErrorMessage&gt;</code> to avoid the possibility of someone calling the function without first validating the parameters."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640839532,"creation_date":1640838880,"answer_id":70527503,"question_id":70527204,"body_markdown":"There are no rules to say which tests need to be written.\r\n\r\nIn this example, the function is simple and continuous within its range.  The implementation can be &quot;verified&quot; by simply reading the code.  So the real purpose of the tests is to confirm your (or reviewer&#39;s) reading of the code.\r\n\r\nSo in this case, testing a couple of known cases&lt;sup&gt;1&lt;/sup&gt; should be sufficient; e.g. [Pythagoras&#39; theorem][1] tells us that if this is a right-angle triangle, and the opposite and adjacent edges are 3 and 4 respectively (or vice versa), then the hypotenuse should be 5.  So that represents two possible test-cases.  If you want more, there are other Pythagorean triangles.\r\n\r\nBeyond that, you need tests for the edge cases, and for the error cases, and you are done.\r\n\r\nIf you want to be pedantic about it, you should also test for cases where the inputs are NaN and / or INF values.\r\n\r\nBut like I said at the start of my answer, there are no rules.  No (categorically) right way.  Use your own judgement.\r\n\r\n-----------------\r\n\r\n&lt;sup&gt;1 - Pythagorean triangles / [Pythagorean triples][2] are high-school level mathematics knowledge.  The point is that you need &quot;correct&quot; outputs that have been derived independently of the code you are testing.  Otherwise you could be testing an incorrect output against an incorrect expected output.&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Pythagorean_theorem\r\n  [2]: https://en.wikipedia.org/wiki/Pythagorean_triple","title":"Junit testing for complex math formulas","body":"<p>There are no rules to say which tests need to be written.</p>\n<p>In this example, the function is simple and continuous within its range.  The implementation can be &quot;verified&quot; by simply reading the code.  So the real purpose of the tests is to confirm your (or reviewer's) reading of the code.</p>\n<p>So in this case, testing a couple of known cases<sup>1</sup> should be sufficient; e.g. <a href=\"https://en.wikipedia.org/wiki/Pythagorean_theorem\" rel=\"nofollow noreferrer\">Pythagoras' theorem</a> tells us that if this is a right-angle triangle, and the opposite and adjacent edges are 3 and 4 respectively (or vice versa), then the hypotenuse should be 5.  So that represents two possible test-cases.  If you want more, there are other Pythagorean triangles.</p>\n<p>Beyond that, you need tests for the edge cases, and for the error cases, and you are done.</p>\n<p>If you want to be pedantic about it, you should also test for cases where the inputs are NaN and / or INF values.</p>\n<p>But like I said at the start of my answer, there are no rules.  No (categorically) right way.  Use your own judgement.</p>\n<hr />\n<p><sup>1 - Pythagorean triangles / <a href=\"https://en.wikipedia.org/wiki/Pythagorean_triple\" rel=\"nofollow noreferrer\">Pythagorean triples</a> are high-school level mathematics knowledge.  The point is that you need &quot;correct&quot; outputs that have been derived independently of the code you are testing.  Otherwise you could be testing an incorrect output against an incorrect expected output.</sup></p>\n"}],"owner":{"account_id":1947250,"reputation":76,"user_id":2066728,"display_name":"user2066728"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":465,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640839532,"creation_date":1640835316,"question_id":70527204,"body_markdown":"I am writing an android app in Kotlin that will be calculating various geometry and physics problems.  I want to use a Test Driven Development approach but am having difficulty in determining exactly what to test with a given formula.  The following is a simple example:\r\n\r\nI want to compute the hypotenuse for a right triangle with the following function and write junit tests for it.  I am writing the code so getHypotenuse will only run if it is given valid vata.  Valid data is no negative numbers, no 0, no imaginary numbers, and only doubles will be inputs.\r\n\r\n\r\n    fun getHypotenuse (leg1: Double, leg2: Double) : Double{\r\n    return Math.sqrt(Math.pow(leg1,2.0)+Math.pow(leg2,2.0))}\r\n\r\nThe following function will check for valid inputs:\r\n\r\n    fun validLegs (leg1: Double, leg2: Double) : Boolean{\r\n    if(leg1&lt;=0 ||leg2&lt;=0)\r\n        return false\r\n    return true}\r\n\r\n\r\n\r\nMain method\r\n\r\n    fun main(args: Array&lt;String&gt;) {\r\n    var leg1 = 3.0\r\n    var leg2 = 4.0\r\n\r\n    if(validLegs(leg1,leg2)){\r\n        var aa=getHypotenuse(leg1,leg2)\r\n        println(&quot;Hypotenuse is &quot;+aa.toString())\r\n    }\r\n    else println(&quot;Triangle is a line or imaginary triangle&quot;)}\r\n\r\nTest code\r\n\r\n    @Test\r\n    fun test_getHypotenuse_345_triangle() {\r\n        val leg1 =3.0\r\n        val leg2 =4.0\r\n        val expected = 5.0\r\n        val delta = .00001\r\n        assertEquals(expected,getHypotenuse(leg1,leg2),.001)\r\n    }\r\n\r\nI am not sure what else to test for in getHypotenuse.  I could write 3 more tests to cover all possible inputs but am not sure if it is necessary:\r\n`getHypotenuse(3.1,5)`\r\n`getHypotenuse(3.0,5.1)`\r\n`getHypotenuse(3.1,5.1)`\r\n\r\nI have read through the android developer tutorials, stackoverflow, and have read Android Test-Driven development by Tutorials.  It seems most of the examples show that the functions should check that the inputs are valid before any operation is performed on them.  I am going to have complex formulas that will only run if the inputs are valid.\r\nI need to check that the complex formulas are accurate.  Any help would be appreciated.\r\n","title":"Junit testing for complex math formulas","body":"<p>I am writing an android app in Kotlin that will be calculating various geometry and physics problems.  I want to use a Test Driven Development approach but am having difficulty in determining exactly what to test with a given formula.  The following is a simple example:</p>\n<p>I want to compute the hypotenuse for a right triangle with the following function and write junit tests for it.  I am writing the code so getHypotenuse will only run if it is given valid vata.  Valid data is no negative numbers, no 0, no imaginary numbers, and only doubles will be inputs.</p>\n<pre><code>fun getHypotenuse (leg1: Double, leg2: Double) : Double{\nreturn Math.sqrt(Math.pow(leg1,2.0)+Math.pow(leg2,2.0))}\n</code></pre>\n<p>The following function will check for valid inputs:</p>\n<pre><code>fun validLegs (leg1: Double, leg2: Double) : Boolean{\nif(leg1&lt;=0 ||leg2&lt;=0)\n    return false\nreturn true}\n</code></pre>\n<p>Main method</p>\n<pre><code>fun main(args: Array&lt;String&gt;) {\nvar leg1 = 3.0\nvar leg2 = 4.0\n\nif(validLegs(leg1,leg2)){\n    var aa=getHypotenuse(leg1,leg2)\n    println(&quot;Hypotenuse is &quot;+aa.toString())\n}\nelse println(&quot;Triangle is a line or imaginary triangle&quot;)}\n</code></pre>\n<p>Test code</p>\n<pre><code>@Test\nfun test_getHypotenuse_345_triangle() {\n    val leg1 =3.0\n    val leg2 =4.0\n    val expected = 5.0\n    val delta = .00001\n    assertEquals(expected,getHypotenuse(leg1,leg2),.001)\n}\n</code></pre>\n<p>I am not sure what else to test for in getHypotenuse.  I could write 3 more tests to cover all possible inputs but am not sure if it is necessary:\n<code>getHypotenuse(3.1,5)</code>\n<code>getHypotenuse(3.0,5.1)</code>\n<code>getHypotenuse(3.1,5.1)</code></p>\n<p>I have read through the android developer tutorials, stackoverflow, and have read Android Test-Driven development by Tutorials.  It seems most of the examples show that the functions should check that the inputs are valid before any operation is performed on them.  I am going to have complex formulas that will only run if the inputs are valid.\nI need to check that the complex formulas are accurate.  Any help would be appreciated.</p>\n"},{"tags":["java","android","google-api-java-client","android-inapp-purchase"],"answers":[{"tags":[],"owner":{"account_id":10272508,"reputation":97,"user_id":7580470,"display_name":"Nand Kishor Patidar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1568537628,"creation_date":1568537628,"answer_id":57942566,"question_id":57799133,"body_markdown":"I have checked after 24 hours there was an error. But after that, I have checked again after two days there was no error and the data has been received.","title":"Unable to fetching subscription detail from Google Play Android Developer API","body":"<p>I have checked after 24 hours there was an error. But after that, I have checked again after two days there was no error and the data has been received.</p>\n"},{"tags":[],"owner":{"account_id":12790330,"reputation":2710,"user_id":9255057,"display_name":"Hardik Hirpara"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640839119,"creation_date":1640349450,"answer_id":70472987,"question_id":57799133,"body_markdown":"**Things to do In Google API Console account**\r\n1. Create a project (or select an existing one)\r\n2. Create a service account with role Pub/Sub Admin\r\n3. Enable &quot;Google Play Android Developer API&quot; from API library\r\n\r\n\r\n**Things to do in Google play console account**\r\n\r\n4. Go to Settings &gt; Developer account &gt; API Access\r\n5. Link the project with the service account which you created in step 2\r\n6. Grant access of Finance permission to the app in play console and Wait for at least 48 hours for changes to take effect.\r\n\r\n\r\n\r\n**Other things to remember**\r\n* Your app needs to be uploaded to one of the tracks in your console account(alpha, beta, production) with billing library and permission.\r\n* Your subscriptions should be active&#160;\r\n* Wait for some hours after you create products&#160;\r\n\r\n\r\n","title":"Unable to fetching subscription detail from Google Play Android Developer API","body":"<p><strong>Things to do In Google API Console account</strong></p>\n<ol>\n<li>Create a project (or select an existing one)</li>\n<li>Create a service account with role Pub/Sub Admin</li>\n<li>Enable &quot;Google Play Android Developer API&quot; from API library</li>\n</ol>\n<p><strong>Things to do in Google play console account</strong></p>\n<ol start=\"4\">\n<li>Go to Settings &gt; Developer account &gt; API Access</li>\n<li>Link the project with the service account which you created in step 2</li>\n<li>Grant access of Finance permission to the app in play console and Wait for at least 48 hours for changes to take effect.</li>\n</ol>\n<p><strong>Other things to remember</strong></p>\n<ul>\n<li>Your app needs to be uploaded to one of the tracks in your console account(alpha, beta, production) with billing library and permission.</li>\n<li>Your subscriptions should be active </li>\n<li>Wait for some hours after you create products </li>\n</ul>\n"}],"owner":{"account_id":10272508,"reputation":97,"user_id":7580470,"display_name":"Nand Kishor Patidar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1317,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57942566,"answer_count":2,"score":2,"last_activity_date":1640839119,"creation_date":1567662671,"question_id":57799133,"body_markdown":"I am trying to use Google APIs Client Library for Java to get information about user&#39;s subscriptions purchased in my android app. Then I got this error: \r\n\r\n      {\r\n        &quot;code&quot; : 401,\r\n        &quot;errors&quot; : [ {\r\n        &quot;domain&quot; : &quot;androidpublisher&quot;,\r\n        &quot;message&quot; : &quot;The current user has insufficient permissions to perform the requested operation.&quot;,\r\n        &quot;reason&quot; : &quot;permissionDenied&quot;\r\n      } ],\r\n      &quot;message&quot; : &quot;The current user has insufficient permissions to perform the requested operation.&quot;\r\n     }\r\n\r\n\r\n\r\nI am trying those steps:  \r\n\r\n1. Go to https://console.cloud.google.com\r\n2. Create a project (or select existing project)\r\n3. Create a service account with role Pub/Sub Admin\r\n4. Go to https://console.cloud.google.com/apis/library and search for &quot;Google \r\n   Play Android Developer API&quot; \r\n5. Enable that API\r\n6. Go to https://play.google.com/apps/publish\r\n7. Go to Settings &gt; Developer account &gt; API Access\r\n8. Link the project that you created in step 2\r\n9. The service account will appear that you created in step 3\r\n10. Grant access to it with Finance permission to the app in play console\r\n11. Wait for at least 24 hours for changes to take effect.\r\n\r\nI am trying this code : \r\n           \r\n            httpTransport =  new com.google.api.client.http.javanet.NetHttpTransport();\r\n            JacksonFactory jsonFactory = JacksonFactory.getDefaultInstance();\r\n            String applicationName = &quot;App name&quot;;\r\n            String packageName = &quot;com.example.xxx&quot;;\r\n            final Set&lt;String&gt; scopes = Collections.singleton(AndroidPublisherScopes.ANDROIDPUBLISHER);\r\n    \r\n            AssetManager am = getAssets();\r\n            InputStream inputStream = am.open(&quot;key1.p12&quot;);\r\n            \r\n            File file = createFileFromInputStream(inputStream);\r\n                Log.d(TAG, &quot;file : &quot; + file);\r\n                if(file != null){\r\n                    int SDK_INT = android.os.Build.VERSION.SDK_INT;\r\n                    if (SDK_INT &gt; 8) {\r\n                        StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder()\r\n                                .permitAll().build();\r\n                        StrictMode.setThreadPolicy(policy);\r\n\r\n\r\n                        GoogleCredential credential = new GoogleCredential.Builder()\r\n                                .setTransport(httpTransport)\r\n                                .setJsonFactory(jsonFactory)\r\n                                .setServiceAccountId(&quot;pp-subscription@practice-presto-dev.iam.gserviceaccount.com&quot;).setServiceAccountScopes(scopes)\r\n                                //.setServiceAccountId(&quot;practice-presto-subscription@practice-presto-dev.iam.gserviceaccount.com&quot;).setServiceAccountScopes(scopes)\r\n                                .setServiceAccountPrivateKeyFromP12File(file).build();\r\n\r\n                        AndroidPublisher pub = new AndroidPublisher.Builder\r\n                                (httpTransport, jsonFactory, credential)\r\n                                .setApplicationName(applicationName)\r\n                                .build();\r\n                        final AndroidPublisher.Purchases.Subscriptions.Get get =\r\n                                pub.purchases().subscriptions().get(packageName, &quot;sub_monthly_pro&quot;, &quot;pcehicpbjhcdnjockiniaokh.AO-J1OxsJtLehF3z_naoXR4LE0jqiXrABAPYiZMNRMZO5jnKI9gnyHmPP7INtcc2kyptNKP_HM6MjEPQfmYWmJ8R_geonsLqMXA9TLsozqNexh-FxSvQFDZSUTgBW_azvdAJPLxPFuKd&quot;);\r\n                        final SubscriptionPurchase purchase = get.execute();\r\n                        Log.d(TAG, &quot;Found google purchase item &quot; + purchase.toPrettyString());\r\n                    }\r\n                }\r\nI am using testing In-App Purchase mode.\r\n\r\nI want to fetch the latest subscription receipt after renewing subscription plan.","title":"Unable to fetching subscription detail from Google Play Android Developer API","body":"<p>I am trying to use Google APIs Client Library for Java to get information about user's subscriptions purchased in my android app. Then I got this error: </p>\n\n<pre><code>  {\n    \"code\" : 401,\n    \"errors\" : [ {\n    \"domain\" : \"androidpublisher\",\n    \"message\" : \"The current user has insufficient permissions to perform the requested operation.\",\n    \"reason\" : \"permissionDenied\"\n  } ],\n  \"message\" : \"The current user has insufficient permissions to perform the requested operation.\"\n }\n</code></pre>\n\n<p>I am trying those steps:  </p>\n\n<ol>\n<li>Go to <a href=\"https://console.cloud.google.com\" rel=\"nofollow noreferrer\">https://console.cloud.google.com</a></li>\n<li>Create a project (or select existing project)</li>\n<li>Create a service account with role Pub/Sub Admin</li>\n<li>Go to <a href=\"https://console.cloud.google.com/apis/library\" rel=\"nofollow noreferrer\">https://console.cloud.google.com/apis/library</a> and search for \"Google \nPlay Android Developer API\" </li>\n<li>Enable that API</li>\n<li>Go to <a href=\"https://play.google.com/apps/publish\" rel=\"nofollow noreferrer\">https://play.google.com/apps/publish</a></li>\n<li>Go to Settings > Developer account > API Access</li>\n<li>Link the project that you created in step 2</li>\n<li>The service account will appear that you created in step 3</li>\n<li>Grant access to it with Finance permission to the app in play console</li>\n<li>Wait for at least 24 hours for changes to take effect.</li>\n</ol>\n\n<p>I am trying this code : </p>\n\n<pre><code>        httpTransport =  new com.google.api.client.http.javanet.NetHttpTransport();\n        JacksonFactory jsonFactory = JacksonFactory.getDefaultInstance();\n        String applicationName = \"App name\";\n        String packageName = \"com.example.xxx\";\n        final Set&lt;String&gt; scopes = Collections.singleton(AndroidPublisherScopes.ANDROIDPUBLISHER);\n\n        AssetManager am = getAssets();\n        InputStream inputStream = am.open(\"key1.p12\");\n\n        File file = createFileFromInputStream(inputStream);\n            Log.d(TAG, \"file : \" + file);\n            if(file != null){\n                int SDK_INT = android.os.Build.VERSION.SDK_INT;\n                if (SDK_INT &gt; 8) {\n                    StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder()\n                            .permitAll().build();\n                    StrictMode.setThreadPolicy(policy);\n\n\n                    GoogleCredential credential = new GoogleCredential.Builder()\n                            .setTransport(httpTransport)\n                            .setJsonFactory(jsonFactory)\n                            .setServiceAccountId(\"pp-subscription@practice-presto-dev.iam.gserviceaccount.com\").setServiceAccountScopes(scopes)\n                            //.setServiceAccountId(\"practice-presto-subscription@practice-presto-dev.iam.gserviceaccount.com\").setServiceAccountScopes(scopes)\n                            .setServiceAccountPrivateKeyFromP12File(file).build();\n\n                    AndroidPublisher pub = new AndroidPublisher.Builder\n                            (httpTransport, jsonFactory, credential)\n                            .setApplicationName(applicationName)\n                            .build();\n                    final AndroidPublisher.Purchases.Subscriptions.Get get =\n                            pub.purchases().subscriptions().get(packageName, \"sub_monthly_pro\", \"pcehicpbjhcdnjockiniaokh.AO-J1OxsJtLehF3z_naoXR4LE0jqiXrABAPYiZMNRMZO5jnKI9gnyHmPP7INtcc2kyptNKP_HM6MjEPQfmYWmJ8R_geonsLqMXA9TLsozqNexh-FxSvQFDZSUTgBW_azvdAJPLxPFuKd\");\n                    final SubscriptionPurchase purchase = get.execute();\n                    Log.d(TAG, \"Found google purchase item \" + purchase.toPrettyString());\n                }\n            }\n</code></pre>\n\n<p>I am using testing In-App Purchase mode.</p>\n\n<p>I want to fetch the latest subscription receipt after renewing subscription plan.</p>\n"},{"tags":["java","eclipse","compilation","token","javaparser"],"answers":[{"tags":[],"owner":{"account_id":12013090,"reputation":288,"user_id":8789080,"display_name":"Mostafa Hassan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640838947,"creation_date":1640838947,"answer_id":70527510,"question_id":70489579,"body_markdown":"Ater Adjusting the file that contains the node, you must update the source root by using method saveAll, to override the AST to your file, like that\r\n\r\n    sourceRoot.saveAll(Paths.get(parsedFilePath));\r\n\r\nFull Example:\r\n\r\n    import com.github.javaparser.ast.CompilationUnit;\r\n    import com.github.javaparser.ast.body.ClassOrInterfaceDeclaration;\r\n    import com.github.javaparser.ast.visitor.ModifierVisitor;\r\n    import com.github.javaparser.ast.visitor.Visitable;\r\n    import com.github.javaparser.utils.SourceRoot;\r\n    \r\n    import java.io.IOException;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class Main {\r\n    \r\n        public  static  void main(String[] args) throws IOException {\r\n            Path dirPath =  Paths.get(&quot;C:\\\\JavaParserTest\\\\src\\\\main\\\\resources\\\\src\\\\&quot;);\r\n            SourceRoot sourceRoot = new SourceRoot(dirPath);\r\n            sourceRoot.tryToParse();\r\n            CompilationUnit cu = sourceRoot.parse(&quot;&quot;, dirPath.toString()+&quot;\\\\JavaFile.java&quot;);\r\n    \r\n            cu.accept(new ModifierVisitor&lt;Void&gt;() {\r\n                @Override\r\n                public Visitable visit(ClassOrInterfaceDeclaration n, Void arg) {\r\n                    RemoveOtherClassesFromSameFile(n, cu);\r\n                    return super.visit(n, arg);\r\n                }\r\n            }, null);\r\n    \r\n            sourceRoot.saveAll(Paths.get(dirPath.toString()+&quot;\\\\JavaFile.java&quot;));\r\n        }\r\n    \r\n        private static ClassOrInterfaceDeclaration RemoveOtherClassesFromSameFile(ClassOrInterfaceDeclaration n, CompilationUnit cu) {\r\n            List&lt;ClassOrInterfaceDeclaration&gt; internalClasses = (\r\n                    n.getMembers().stream().filter(m -&gt; m instanceof ClassOrInterfaceDeclaration)\r\n                            .map(m -&gt; (ClassOrInterfaceDeclaration) m).collect(Collectors.toList()));\r\n            for (ClassOrInterfaceDeclaration c : internalClasses){\r\n                n.remove(c);\r\n            }\r\n            return n;\r\n        }\r\n    \r\n    }","title":"ClassOrInterfaceDeclaration.getTokenRange() gets all the tokens for a file even after removing nodes from the class","body":"<p>Ater Adjusting the file that contains the node, you must update the source root by using method saveAll, to override the AST to your file, like that</p>\n<pre><code>sourceRoot.saveAll(Paths.get(parsedFilePath));\n</code></pre>\n<p>Full Example:</p>\n<pre><code>import com.github.javaparser.ast.CompilationUnit;\nimport com.github.javaparser.ast.body.ClassOrInterfaceDeclaration;\nimport com.github.javaparser.ast.visitor.ModifierVisitor;\nimport com.github.javaparser.ast.visitor.Visitable;\nimport com.github.javaparser.utils.SourceRoot;\n\nimport java.io.IOException;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class Main {\n\n    public  static  void main(String[] args) throws IOException {\n        Path dirPath =  Paths.get(&quot;C:\\\\JavaParserTest\\\\src\\\\main\\\\resources\\\\src\\\\&quot;);\n        SourceRoot sourceRoot = new SourceRoot(dirPath);\n        sourceRoot.tryToParse();\n        CompilationUnit cu = sourceRoot.parse(&quot;&quot;, dirPath.toString()+&quot;\\\\JavaFile.java&quot;);\n\n        cu.accept(new ModifierVisitor&lt;Void&gt;() {\n            @Override\n            public Visitable visit(ClassOrInterfaceDeclaration n, Void arg) {\n                RemoveOtherClassesFromSameFile(n, cu);\n                return super.visit(n, arg);\n            }\n        }, null);\n\n        sourceRoot.saveAll(Paths.get(dirPath.toString()+&quot;\\\\JavaFile.java&quot;));\n    }\n\n    private static ClassOrInterfaceDeclaration RemoveOtherClassesFromSameFile(ClassOrInterfaceDeclaration n, CompilationUnit cu) {\n        List&lt;ClassOrInterfaceDeclaration&gt; internalClasses = (\n                n.getMembers().stream().filter(m -&gt; m instanceof ClassOrInterfaceDeclaration)\n                        .map(m -&gt; (ClassOrInterfaceDeclaration) m).collect(Collectors.toList()));\n        for (ClassOrInterfaceDeclaration c : internalClasses){\n            n.remove(c);\n        }\n        return n;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":10806202,"reputation":87,"user_id":7948395,"display_name":"RanaSamy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70527510,"answer_count":1,"score":0,"last_activity_date":1640838947,"creation_date":1640550125,"question_id":70489579,"body_markdown":"When I remove &quot;ClassOrInterfaceDeclaration&quot; nodes from a class in CompilationUnit (JavaParser) from a parsed file that contains more than one class, ClassOrInterfaceDeclaration.getTokenRange() gets all the tokens even the removed nodes tokens.\r\nFor example, the code snippet at positions 1 and 2 will give the same result, although I already removed nodes from ClassOrInterfaceDeclaration n.\r\n\r\nDoes anyone know how to get the correct tokens list?\r\n\r\n    private void RemoveOtherClassesFromSameFile(ClassOrInterfaceDeclaration n) {\r\n         n.getTokenRange() // 1\r\n\t\tList&lt;ClassOrInterfaceDeclaration&gt; internalClasses = unmodifiableList(\r\n\t\t\t\tn.getMembers().stream().filter(m -&gt; m instanceof ClassOrInterfaceDeclaration)\r\n\t\t\t\t\t\t.map(m -&gt; (ClassOrInterfaceDeclaration) m).collect(toList()));\r\n\t\tfor (ClassOrInterfaceDeclaration c : internalClasses)\r\n\t\t\tn.remove(c);\r\n       n.getTokenRange() // 2\r\n\t}","title":"ClassOrInterfaceDeclaration.getTokenRange() gets all the tokens for a file even after removing nodes from the class","body":"<p>When I remove &quot;ClassOrInterfaceDeclaration&quot; nodes from a class in CompilationUnit (JavaParser) from a parsed file that contains more than one class, ClassOrInterfaceDeclaration.getTokenRange() gets all the tokens even the removed nodes tokens.\nFor example, the code snippet at positions 1 and 2 will give the same result, although I already removed nodes from ClassOrInterfaceDeclaration n.</p>\n<p>Does anyone know how to get the correct tokens list?</p>\n<pre><code>private void RemoveOtherClassesFromSameFile(ClassOrInterfaceDeclaration n) {\n     n.getTokenRange() // 1\n    List&lt;ClassOrInterfaceDeclaration&gt; internalClasses = unmodifiableList(\n            n.getMembers().stream().filter(m -&gt; m instanceof ClassOrInterfaceDeclaration)\n                    .map(m -&gt; (ClassOrInterfaceDeclaration) m).collect(toList()));\n    for (ClassOrInterfaceDeclaration c : internalClasses)\n        n.remove(c);\n   n.getTokenRange() // 2\n}\n</code></pre>\n"},{"tags":["java","android","apk","android-install-apk","android-10.0"],"answers":[{"tags":[],"owner":{"account_id":11123997,"reputation":106,"user_id":8166086,"display_name":"TomasL"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1571097243,"creation_date":1571097243,"answer_id":58385417,"question_id":58374527,"body_markdown":"I was able to solve this by closing the InputStream and OutputStream. In addition, I had to check for SDK versions prior to 21, as we have minimum API 16 and PackageInstaller was added in API 21.\r\n\r\n```\r\npublic static void JIntentActionInstallApk(final String filename)\r\n    {\r\n        PackageInstaller.Session session = null;\r\n        try {\r\n            Log.i(TAG, &quot;JIntentActionInstallApk &quot; + filename);\r\n\r\n            if(Build.VERSION.SDK_INT &lt; 21) {\r\n                //as PackageInstaller was added in API 21, let&#39;s use the old way of doing it prior to 21\r\n                Intent intent = new Intent(Intent.ACTION_INSTALL_PACKAGE);\r\n                Uri apkUri = Uri.parse(filename);\r\n                Context context = MyAppActivity.getQtActivityInstance().getApplicationContext();\r\n                ApplicationInfo appInfo = context.getApplicationInfo();\r\n                intent.setData(apkUri);\r\n                intent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n                intent.putExtra(Intent.EXTRA_NOT_UNKNOWN_SOURCE, false);\r\n                intent.putExtra(Intent.EXTRA_RETURN_RESULT, true);\r\n                intent.putExtra(Intent.EXTRA_INSTALLER_PACKAGE_NAME,\r\n                     appInfo.packageName);\r\n                MyAppActivity.getQtActivityInstance().startActivity(intent);\r\n            }\r\n            else  {\r\n                // API level 21 or higher, we need to use PackageInstaller\r\n                PackageInstaller packageInstaller = MyAppActivity.getQtActivityInstance().getPackageManager().getPackageInstaller();\r\n                Log.i(TAG, &quot;JIntentActionInstallApk - got packageInstaller&quot;);\r\n                PackageInstaller.SessionParams params = new PackageInstaller.SessionParams(\r\n                        PackageInstaller.SessionParams.MODE_FULL_INSTALL);\r\n                Log.i(TAG, &quot;JIntentActionInstallApk - set SessionParams&quot;);\r\n                int sessionId = packageInstaller.createSession(params);\r\n                session = packageInstaller.openSession(sessionId);\r\n                Log.i(TAG, &quot;JIntentActionInstallApk - session opened&quot;);\r\n\r\n                // Create an install status receiver.\r\n                Context context = MyAppActivity.getQtActivityInstance().getApplicationContext();\r\n                addApkToInstallSession(context, filename, session);\r\n                Log.i(TAG, &quot;JIntentActionInstallApk - apk added to session&quot;);\r\n\r\n                Intent intent = new Intent(context, MyAppActivity.class);\r\n                intent.setAction(MyAppActivity.PACKAGE_INSTALLED_ACTION);\r\n                PendingIntent pendingIntent = PendingIntent.getActivity(context, 0, intent, 0);\r\n                IntentSender statusReceiver = pendingIntent.getIntentSender();\r\n                // Commit the session (this will start the installation workflow).\r\n                session.commit(statusReceiver);\r\n                Log.i(TAG, &quot;JIntentActionInstallApk - commited&quot;);\r\n            }\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(&quot;Couldn&#39;t install package&quot;, e);\r\n        } catch (RuntimeException e) {\r\n            if (session != null) {\r\n                session.abandon();\r\n            }\r\n            throw e;\r\n        }\r\n    }\r\n\r\n    private static void addApkToInstallSession(Context context, String filename, PackageInstaller.Session session)\r\n    {\r\n           Log.i(TAG, &quot;addApkToInstallSession &quot; + filename);\r\n           // It&#39;s recommended to pass the file size to openWrite(). Otherwise installation may fail\r\n           // if the disk is almost full.\r\n           try {\r\n                OutputStream packageInSession = session.openWrite(&quot;package&quot;, 0, -1);\r\n                InputStream input;\r\n                Uri uri = Uri.parse(filename);\r\n                input = context.getContentResolver().openInputStream(uri);\r\n\r\n                if(input != null) {\r\n                   Log.i(TAG, &quot;input.available: &quot; + input.available());\r\n                   byte[] buffer = new byte[16384];\r\n                   int n;\r\n                   while ((n = input.read(buffer)) &gt;= 0) {\r\n                       packageInSession.write(buffer, 0, n);\r\n                   }\r\n                }\r\n                else {\r\n                    Log.i(TAG, &quot;addApkToInstallSession failed&quot;);\r\n                    throw new IOException (&quot;addApkToInstallSession&quot;);\r\n                }\r\n                packageInSession.close();  //need to close this stream\r\n                input.close();             //need to close this stream\r\n           }\r\n           catch (Exception e) {\r\n               Log.i(TAG, &quot;addApkToInstallSession failed2 &quot; + e.toString());\r\n           }\r\n   }\r\n\r\n```\r\n","title":"Installing apk that updates the same app fails on Android 10; java.lang.SecurityException: Files still open","body":"<p>I was able to solve this by closing the InputStream and OutputStream. In addition, I had to check for SDK versions prior to 21, as we have minimum API 16 and PackageInstaller was added in API 21.</p>\n\n<pre><code>public static void JIntentActionInstallApk(final String filename)\n    {\n        PackageInstaller.Session session = null;\n        try {\n            Log.i(TAG, \"JIntentActionInstallApk \" + filename);\n\n            if(Build.VERSION.SDK_INT &lt; 21) {\n                //as PackageInstaller was added in API 21, let's use the old way of doing it prior to 21\n                Intent intent = new Intent(Intent.ACTION_INSTALL_PACKAGE);\n                Uri apkUri = Uri.parse(filename);\n                Context context = MyAppActivity.getQtActivityInstance().getApplicationContext();\n                ApplicationInfo appInfo = context.getApplicationInfo();\n                intent.setData(apkUri);\n                intent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n                intent.putExtra(Intent.EXTRA_NOT_UNKNOWN_SOURCE, false);\n                intent.putExtra(Intent.EXTRA_RETURN_RESULT, true);\n                intent.putExtra(Intent.EXTRA_INSTALLER_PACKAGE_NAME,\n                     appInfo.packageName);\n                MyAppActivity.getQtActivityInstance().startActivity(intent);\n            }\n            else  {\n                // API level 21 or higher, we need to use PackageInstaller\n                PackageInstaller packageInstaller = MyAppActivity.getQtActivityInstance().getPackageManager().getPackageInstaller();\n                Log.i(TAG, \"JIntentActionInstallApk - got packageInstaller\");\n                PackageInstaller.SessionParams params = new PackageInstaller.SessionParams(\n                        PackageInstaller.SessionParams.MODE_FULL_INSTALL);\n                Log.i(TAG, \"JIntentActionInstallApk - set SessionParams\");\n                int sessionId = packageInstaller.createSession(params);\n                session = packageInstaller.openSession(sessionId);\n                Log.i(TAG, \"JIntentActionInstallApk - session opened\");\n\n                // Create an install status receiver.\n                Context context = MyAppActivity.getQtActivityInstance().getApplicationContext();\n                addApkToInstallSession(context, filename, session);\n                Log.i(TAG, \"JIntentActionInstallApk - apk added to session\");\n\n                Intent intent = new Intent(context, MyAppActivity.class);\n                intent.setAction(MyAppActivity.PACKAGE_INSTALLED_ACTION);\n                PendingIntent pendingIntent = PendingIntent.getActivity(context, 0, intent, 0);\n                IntentSender statusReceiver = pendingIntent.getIntentSender();\n                // Commit the session (this will start the installation workflow).\n                session.commit(statusReceiver);\n                Log.i(TAG, \"JIntentActionInstallApk - commited\");\n            }\n        } catch (IOException e) {\n            throw new RuntimeException(\"Couldn't install package\", e);\n        } catch (RuntimeException e) {\n            if (session != null) {\n                session.abandon();\n            }\n            throw e;\n        }\n    }\n\n    private static void addApkToInstallSession(Context context, String filename, PackageInstaller.Session session)\n    {\n           Log.i(TAG, \"addApkToInstallSession \" + filename);\n           // It's recommended to pass the file size to openWrite(). Otherwise installation may fail\n           // if the disk is almost full.\n           try {\n                OutputStream packageInSession = session.openWrite(\"package\", 0, -1);\n                InputStream input;\n                Uri uri = Uri.parse(filename);\n                input = context.getContentResolver().openInputStream(uri);\n\n                if(input != null) {\n                   Log.i(TAG, \"input.available: \" + input.available());\n                   byte[] buffer = new byte[16384];\n                   int n;\n                   while ((n = input.read(buffer)) &gt;= 0) {\n                       packageInSession.write(buffer, 0, n);\n                   }\n                }\n                else {\n                    Log.i(TAG, \"addApkToInstallSession failed\");\n                    throw new IOException (\"addApkToInstallSession\");\n                }\n                packageInSession.close();  //need to close this stream\n                input.close();             //need to close this stream\n           }\n           catch (Exception e) {\n               Log.i(TAG, \"addApkToInstallSession failed2 \" + e.toString());\n           }\n   }\n\n</code></pre>\n"}],"owner":{"account_id":11123997,"reputation":106,"user_id":8166086,"display_name":"TomasL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21024,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":58385417,"answer_count":1,"score":3,"last_activity_date":1640837731,"creation_date":1571047760,"question_id":58374527,"body_markdown":"Our app downloads an APK from our server, and runs this to upgrade itself. As mentioned in https://stackoverflow.com/questions/58085899/android-10-no-activity-found-to-handle-intent and https://stackoverflow.com/questions/58240297/xamarin-android-10-install-apk-no-activity-found-to-handle-intent, this does not work as previously if the mobile device has been upgraded to Android 10, getting &quot;No Activity found to handle Intent&quot;. \r\n\r\nWe&#39;ve tried to rewrite this using PackageInstaller as in the example\r\nhttps://android.googlesource.com/platform/development/+/master/samples/ApiDemos/src/com/example/android/apis/content/InstallApkSessionApi.java, but now get this error instead: \r\n```java\r\nsignal 6 (SIGABRT), code -1 (SI_QUEUE), fault addr --------\r\nAbort message: &#39;JNI DETECTED ERROR IN APPLICATION: JNI GetStaticMethodID called with pending exception java.lang.SecurityException: Files still open\r\n  at java.lang.Exception android.os.Parcel.createException(int, java.lang.String) (Parcel.java:2071)\r\n  at void android.os.Parcel.readException(int, java.lang.String) (Parcel.java:2039)\r\n  at void android.os.Parcel.readException() (Parcel.java:1987)\r\n  at void android.content.pm.IPackageInstallerSession$Stub$Proxy.commit(android.content.IntentSender, boolean) (IPackageInstallerSession.java:593)\r\n  at void android.content.pm.PackageInstaller$Session.commit(android.content.IntentSender) (PackageInstaller.java:1072)\r\n  at void com.mycompany.myApp.QtJavaCustomBridge.JIntentActionInstallApk(java.lang.String) (QtJavaCustomBridge.java:301)\r\n  at void org.qtproject.qt5.android.QtNative.startQtApplication() (QtNative.java:-2)\r\n  at void org.qtproject.qt5.android.QtNative$7.run() (QtNative.java:374)\r\n  at void org.qtproject.qt5.android.QtThread$1.run() (QtThread.java:61)\r\n  at void java.lang.Thread.run() (Thread.java:919)\r\nCaused by: android.os.RemoteException: Remote stack trace:\r\n\tat com.android.server.pm.PackageInstallerSession.assertNoWriteFileTransfersOpenLocked(PackageInstallerSession.java:837)\r\n\tat com.android.server.pm.PackageInstallerSession.sealAndValidateLocked(PackageInstallerSession.java:1094)\r\n\tat com.android.server.pm.PackageInstallerSession.markAsCommitted(PackageInstallerSession.java:987)\r\n\tat com.android.server.pm.PackageInstallerSession.commit(PackageInstallerSession.java:849)\r\n\tat android.content.pm.IPackageInstallerSession$Stub.onTransact(IPackageInstallerSession.java:306)\r\n(Throwable with no stack trace)\r\n\r\n```\r\n\r\n\r\nHere&#39;s the code we use:\r\n```java\r\npublic static final String TAG = &quot;JAVA&quot;; \r\npublic static final String PACKAGE_INSTALLED_ACTION = &quot;com.mycompany.myApp.SESSION_API_PACKAGE_INSTALLED&quot;;\r\n\r\npublic static void JIntentActionInstallApk(final String filename)\r\n{\r\n\tPackageInstaller.Session session = null;\r\n\ttry {\r\n\t\tLog.i(TAG, &quot;JIntentActionInstallApk &quot; + filename);\r\n\t\tPackageInstaller packageInstaller = MyAppActivity.getActivityInstance().getPackageManager().getPackageInstaller();\r\n\t\tLog.i(TAG, &quot;JIntentActionInstallApk - got packageInstaller&quot;);\r\n\t\tPackageInstaller.SessionParams params = new PackageInstaller.SessionParams(\r\n\t\t\t\tPackageInstaller.SessionParams.MODE_FULL_INSTALL);\r\n\t\tLog.i(TAG, &quot;JIntentActionInstallApk - set SessionParams&quot;);\r\n\t\tint sessionId = packageInstaller.createSession(params);\r\n\t\tsession = packageInstaller.openSession(sessionId);\r\n\t\tLog.i(TAG, &quot;JIntentActionInstallApk - session opened&quot;);\r\n\r\n\t\t// Create an install status receiver.\r\n\t\tContext context = MyAppActivity.getActivityInstance().getApplicationContext();\r\n\t\taddApkToInstallSession(context, filename, session);\r\n\t\tLog.i(TAG, &quot;JIntentActionInstallApk - apk added to session&quot;);\r\n\r\n\t\tIntent intent = new Intent(context, MyAppActivity.class);\r\n\t\tintent.setAction(MyAppActivity.PACKAGE_INSTALLED_ACTION);\r\n\t\tPendingIntent pendingIntent = PendingIntent.getActivity(context, 0, intent, 0);\r\n\t\tIntentSender statusReceiver = pendingIntent.getIntentSender();\r\n\t\t// Commit the session (this will start the installation workflow).\r\n\t\tsession.commit(statusReceiver);\r\n\t\tLog.i(TAG, &quot;JIntentActionInstallApk - commited&quot;);\r\n\t} catch (IOException e) {\r\n\t\tthrow new RuntimeException(&quot;Couldn&#39;t install package&quot;, e);\r\n\t} catch (RuntimeException e) {\r\n\t\tif (session != null) {\r\n\t\t\tsession.abandon();\r\n\t\t}\r\n\t\tthrow e;\r\n\t}\r\n}\r\n\r\nprivate static void addApkToInstallSession(Context context, String filename, PackageInstaller.Session session)\r\n{\r\n\t   Log.i(TAG, &quot;addApkToInstallSession &quot; + filename);\r\n\t   // It&#39;s recommended to pass the file size to openWrite(). Otherwise installation may fail\r\n\t   // if the disk is almost full.\r\n\t   try {\r\n\t\t\tOutputStream packageInSession = session.openWrite(&quot;package&quot;, 0, -1);\r\n\t\t\tInputStream input;\r\n\t\t\tUri uri = Uri.parse(filename);\r\n\t\t\tinput = context.getContentResolver().openInputStream(uri);\r\n\r\n\t\t\t\tif(input != null) {\r\n\t\t\t\t   Log.i(TAG, &quot;input.available: &quot; + input.available());\r\n\t\t\t\t   byte[] buffer = new byte[16384];\r\n\t\t\t\t   int n;\r\n\t\t\t\t   while ((n = input.read(buffer)) &gt;= 0) {\r\n\t\t\t\t\t   packageInSession.write(buffer, 0, n);\r\n\t\t\t\t   }\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tLog.i(TAG, &quot;addApkToInstallSession failed&quot;);\r\n\t\t\t\t\tthrow new IOException (&quot;addApkToInstallSession&quot;);\r\n\t\t\t\t}\r\n\r\n\t   }\r\n\t   catch (Exception e) {\r\n\t\t   Log.i(TAG, &quot;addApkToInstallSession failed2 &quot; + e.toString());\r\n\t   }\r\n}\r\n\r\n...\r\n\r\n  @Override\r\n    protected void onNewIntent(Intent intent) {\r\n        Bundle extras = intent.getExtras();\r\n        if (PACKAGE_INSTALLED_ACTION.equals(intent.getAction())) {\r\n            int status = extras.getInt(PackageInstaller.EXTRA_STATUS);\r\n            String message = extras.getString(PackageInstaller.EXTRA_STATUS_MESSAGE);\r\n            switch (status) {\r\n                case PackageInstaller.STATUS_PENDING_USER_ACTION:\r\n                    // This test app isn&#39;t privileged, so the user has to confirm the install.\r\n                    Intent confirmIntent = (Intent) extras.get(Intent.EXTRA_INTENT);\r\n                    startActivity(confirmIntent);\r\n                    break;\r\n                case PackageInstaller.STATUS_SUCCESS:\r\n                    Toast.makeText(this, &quot;Install succeeded!&quot;, Toast.LENGTH_SHORT).show();\r\n                    break;\r\n                case PackageInstaller.STATUS_FAILURE:\r\n                case PackageInstaller.STATUS_FAILURE_ABORTED:\r\n                case PackageInstaller.STATUS_FAILURE_BLOCKED:\r\n                case PackageInstaller.STATUS_FAILURE_CONFLICT:\r\n                case PackageInstaller.STATUS_FAILURE_INCOMPATIBLE:\r\n                case PackageInstaller.STATUS_FAILURE_INVALID:\r\n                case PackageInstaller.STATUS_FAILURE_STORAGE:\r\n                    Toast.makeText(this, &quot;Install failed! &quot; + status + &quot;, &quot; + message,\r\n                            Toast.LENGTH_SHORT).show();\r\n                    break;\r\n                default:\r\n                    Toast.makeText(this, &quot;Unrecognized status received from installer: &quot; + status,\r\n                            Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nTarget SDK is set to API 23 to be able to support old devices some customers have. We&#39;re using Qt as the app framework, but Java for native Android functions like this. \r\n\r\nSome thoughts on this: \r\n&lt;BR&gt;\r\n* In https://stackoverflow.com/questions/58240297/xamarin-android-10-install-apk-no-activity-found-to-handle-intent, they mention that they need to do extra garbage collection in Xamarin. Maybe it&#39;s because of the same issue we have here? If so, how could we get passed this in Java directly?\r\n&lt;BR&gt;\r\n* We&#39;re trying to upgrade the same app using a downloaded apk. Will this work at all using package installer? If not, do we then need to use a second app to upgrade the original?\r\n&lt;BR&gt;\r\n* We also have a service running in the app as well for notifications, could this be causing the &quot;Files still open&quot; issue?","title":"Installing apk that updates the same app fails on Android 10; java.lang.SecurityException: Files still open","body":"<p>Our app downloads an APK from our server, and runs this to upgrade itself. As mentioned in <a href=\"https://stackoverflow.com/questions/58085899/android-10-no-activity-found-to-handle-intent\">Android 10 - No Activity found to handle Intent</a> and <a href=\"https://stackoverflow.com/questions/58240297/xamarin-android-10-install-apk-no-activity-found-to-handle-intent\">Xamarin Android 10 Install APK - No Activity found to handle Intent</a>, this does not work as previously if the mobile device has been upgraded to Android 10, getting \"No Activity found to handle Intent\". </p>\n\n<p>We've tried to rewrite this using PackageInstaller as in the example\n<a href=\"https://android.googlesource.com/platform/development/+/master/samples/ApiDemos/src/com/example/android/apis/content/InstallApkSessionApi.java\" rel=\"nofollow noreferrer\">https://android.googlesource.com/platform/development/+/master/samples/ApiDemos/src/com/example/android/apis/content/InstallApkSessionApi.java</a>, but now get this error instead: </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>signal 6 (SIGABRT), code -1 (SI_QUEUE), fault addr --------\nAbort message: 'JNI DETECTED ERROR IN APPLICATION: JNI GetStaticMethodID called with pending exception java.lang.SecurityException: Files still open\n  at java.lang.Exception android.os.Parcel.createException(int, java.lang.String) (Parcel.java:2071)\n  at void android.os.Parcel.readException(int, java.lang.String) (Parcel.java:2039)\n  at void android.os.Parcel.readException() (Parcel.java:1987)\n  at void android.content.pm.IPackageInstallerSession$Stub$Proxy.commit(android.content.IntentSender, boolean) (IPackageInstallerSession.java:593)\n  at void android.content.pm.PackageInstaller$Session.commit(android.content.IntentSender) (PackageInstaller.java:1072)\n  at void com.mycompany.myApp.QtJavaCustomBridge.JIntentActionInstallApk(java.lang.String) (QtJavaCustomBridge.java:301)\n  at void org.qtproject.qt5.android.QtNative.startQtApplication() (QtNative.java:-2)\n  at void org.qtproject.qt5.android.QtNative$7.run() (QtNative.java:374)\n  at void org.qtproject.qt5.android.QtThread$1.run() (QtThread.java:61)\n  at void java.lang.Thread.run() (Thread.java:919)\nCaused by: android.os.RemoteException: Remote stack trace:\n    at com.android.server.pm.PackageInstallerSession.assertNoWriteFileTransfersOpenLocked(PackageInstallerSession.java:837)\n    at com.android.server.pm.PackageInstallerSession.sealAndValidateLocked(PackageInstallerSession.java:1094)\n    at com.android.server.pm.PackageInstallerSession.markAsCommitted(PackageInstallerSession.java:987)\n    at com.android.server.pm.PackageInstallerSession.commit(PackageInstallerSession.java:849)\n    at android.content.pm.IPackageInstallerSession$Stub.onTransact(IPackageInstallerSession.java:306)\n(Throwable with no stack trace)\n\n</code></pre>\n\n<p>Here's the code we use:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static final String TAG = \"JAVA\"; \npublic static final String PACKAGE_INSTALLED_ACTION = \"com.mycompany.myApp.SESSION_API_PACKAGE_INSTALLED\";\n\npublic static void JIntentActionInstallApk(final String filename)\n{\n    PackageInstaller.Session session = null;\n    try {\n        Log.i(TAG, \"JIntentActionInstallApk \" + filename);\n        PackageInstaller packageInstaller = MyAppActivity.getActivityInstance().getPackageManager().getPackageInstaller();\n        Log.i(TAG, \"JIntentActionInstallApk - got packageInstaller\");\n        PackageInstaller.SessionParams params = new PackageInstaller.SessionParams(\n                PackageInstaller.SessionParams.MODE_FULL_INSTALL);\n        Log.i(TAG, \"JIntentActionInstallApk - set SessionParams\");\n        int sessionId = packageInstaller.createSession(params);\n        session = packageInstaller.openSession(sessionId);\n        Log.i(TAG, \"JIntentActionInstallApk - session opened\");\n\n        // Create an install status receiver.\n        Context context = MyAppActivity.getActivityInstance().getApplicationContext();\n        addApkToInstallSession(context, filename, session);\n        Log.i(TAG, \"JIntentActionInstallApk - apk added to session\");\n\n        Intent intent = new Intent(context, MyAppActivity.class);\n        intent.setAction(MyAppActivity.PACKAGE_INSTALLED_ACTION);\n        PendingIntent pendingIntent = PendingIntent.getActivity(context, 0, intent, 0);\n        IntentSender statusReceiver = pendingIntent.getIntentSender();\n        // Commit the session (this will start the installation workflow).\n        session.commit(statusReceiver);\n        Log.i(TAG, \"JIntentActionInstallApk - commited\");\n    } catch (IOException e) {\n        throw new RuntimeException(\"Couldn't install package\", e);\n    } catch (RuntimeException e) {\n        if (session != null) {\n            session.abandon();\n        }\n        throw e;\n    }\n}\n\nprivate static void addApkToInstallSession(Context context, String filename, PackageInstaller.Session session)\n{\n       Log.i(TAG, \"addApkToInstallSession \" + filename);\n       // It's recommended to pass the file size to openWrite(). Otherwise installation may fail\n       // if the disk is almost full.\n       try {\n            OutputStream packageInSession = session.openWrite(\"package\", 0, -1);\n            InputStream input;\n            Uri uri = Uri.parse(filename);\n            input = context.getContentResolver().openInputStream(uri);\n\n                if(input != null) {\n                   Log.i(TAG, \"input.available: \" + input.available());\n                   byte[] buffer = new byte[16384];\n                   int n;\n                   while ((n = input.read(buffer)) &gt;= 0) {\n                       packageInSession.write(buffer, 0, n);\n                   }\n                }\n                else {\n                    Log.i(TAG, \"addApkToInstallSession failed\");\n                    throw new IOException (\"addApkToInstallSession\");\n                }\n\n       }\n       catch (Exception e) {\n           Log.i(TAG, \"addApkToInstallSession failed2 \" + e.toString());\n       }\n}\n\n...\n\n  @Override\n    protected void onNewIntent(Intent intent) {\n        Bundle extras = intent.getExtras();\n        if (PACKAGE_INSTALLED_ACTION.equals(intent.getAction())) {\n            int status = extras.getInt(PackageInstaller.EXTRA_STATUS);\n            String message = extras.getString(PackageInstaller.EXTRA_STATUS_MESSAGE);\n            switch (status) {\n                case PackageInstaller.STATUS_PENDING_USER_ACTION:\n                    // This test app isn't privileged, so the user has to confirm the install.\n                    Intent confirmIntent = (Intent) extras.get(Intent.EXTRA_INTENT);\n                    startActivity(confirmIntent);\n                    break;\n                case PackageInstaller.STATUS_SUCCESS:\n                    Toast.makeText(this, \"Install succeeded!\", Toast.LENGTH_SHORT).show();\n                    break;\n                case PackageInstaller.STATUS_FAILURE:\n                case PackageInstaller.STATUS_FAILURE_ABORTED:\n                case PackageInstaller.STATUS_FAILURE_BLOCKED:\n                case PackageInstaller.STATUS_FAILURE_CONFLICT:\n                case PackageInstaller.STATUS_FAILURE_INCOMPATIBLE:\n                case PackageInstaller.STATUS_FAILURE_INVALID:\n                case PackageInstaller.STATUS_FAILURE_STORAGE:\n                    Toast.makeText(this, \"Install failed! \" + status + \", \" + message,\n                            Toast.LENGTH_SHORT).show();\n                    break;\n                default:\n                    Toast.makeText(this, \"Unrecognized status received from installer: \" + status,\n                            Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n</code></pre>\n\n<p>Target SDK is set to API 23 to be able to support old devices some customers have. We're using Qt as the app framework, but Java for native Android functions like this. </p>\n\n<p>Some thoughts on this: \n<BR>\n* In <a href=\"https://stackoverflow.com/questions/58240297/xamarin-android-10-install-apk-no-activity-found-to-handle-intent\">Xamarin Android 10 Install APK - No Activity found to handle Intent</a>, they mention that they need to do extra garbage collection in Xamarin. Maybe it's because of the same issue we have here? If so, how could we get passed this in Java directly?\n<BR>\n* We're trying to upgrade the same app using a downloaded apk. Will this work at all using package installer? If not, do we then need to use a second app to upgrade the original?\n<BR>\n* We also have a service running in the app as well for notifications, could this be causing the \"Files still open\" issue?</p>\n"},{"tags":["java","turtle-rdf","rdf4j"],"answers":[{"tags":[],"owner":{"account_id":203984,"reputation":21747,"user_id":451941,"accept_rate":100,"display_name":"Jeen Broekstra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640836209,"creation_date":1640823418,"answer_id":70526279,"question_id":70462424,"body_markdown":"The problem is that your code for writing to file explicitly only writes the statements themselves, not the namespaces stored in your `model` object. \r\n\r\nYou could fix it by adding something like this:\r\n\r\n```java\r\nmodel.getNamespaces().forEach(ns -&gt; writer.handleNamespace(ns.getPrefix(), ns.getName()));\r\n```\r\n\r\nHowever, more generally, your code to write to file is more complex than it needs to be. A far simpler approach to writing your `model` object to file would be something like this:\r\n\r\n```java\r\n// Save the new TTL file\r\nFileOutputStream out = new FileOutputStream(ttlOutputFile);\r\n\r\nRio.write(model, out, RDFFormat.TURTLE);\r\n```\r\n\r\nor if you prefer to use a `RDFWriter` object (so you can tweak the config):\r\n\r\n```java\r\nRDFWriter writer = Rio.createWriter(out, RDFFormat.TURTLE);\r\n\r\n//... tweak writer config\r\n\r\nRio.write(model, writer);\r\n```\r\n\r\nBoth of these are shorter, easier code, and they take care of namespace handling for you as well.\r\n\r\nSimilarly, reading the file can also be done more conveniently:\r\n\r\n```java\r\n// Load input TTL file\r\nInputStream stream = new FileInputStream(ttlFile);\r\nModel model = Rio.parse(stream, RDFFormat.TURTLE);\r\n```\r\n\r\n","title":"Keep prefixes in loading and writing TTL file with RDF4J","body":"<p>The problem is that your code for writing to file explicitly only writes the statements themselves, not the namespaces stored in your <code>model</code> object.</p>\n<p>You could fix it by adding something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>model.getNamespaces().forEach(ns -&gt; writer.handleNamespace(ns.getPrefix(), ns.getName()));\n</code></pre>\n<p>However, more generally, your code to write to file is more complex than it needs to be. A far simpler approach to writing your <code>model</code> object to file would be something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Save the new TTL file\nFileOutputStream out = new FileOutputStream(ttlOutputFile);\n\nRio.write(model, out, RDFFormat.TURTLE);\n</code></pre>\n<p>or if you prefer to use a <code>RDFWriter</code> object (so you can tweak the config):</p>\n<pre class=\"lang-java prettyprint-override\"><code>RDFWriter writer = Rio.createWriter(out, RDFFormat.TURTLE);\n\n//... tweak writer config\n\nRio.write(model, writer);\n</code></pre>\n<p>Both of these are shorter, easier code, and they take care of namespace handling for you as well.</p>\n<p>Similarly, reading the file can also be done more conveniently:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Load input TTL file\nInputStream stream = new FileInputStream(ttlFile);\nModel model = Rio.parse(stream, RDFFormat.TURTLE);\n</code></pre>\n"}],"owner":{"account_id":251839,"reputation":389,"user_id":529488,"accept_rate":85,"display_name":"Alessio Palmero Aprosio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70526279,"answer_count":1,"score":1,"last_activity_date":1640837118,"creation_date":1640264136,"question_id":70462424,"body_markdown":"I need to load a Turtle TTL file, add some triples, then save it again.\r\nThe original TTL file has a big header containing the prefixes for some namespaces.\r\n\r\n``` lang-none\r\n@prefix biro: &lt;http://purl.org/spar/biro/&gt; .\r\n@prefix c4o: &lt;http://purl.org/spar/c4o/&gt; .\r\n@prefix dcterms: &lt;http://purl.org/dc/terms/&gt; .\r\n@prefix deo: &lt;http://purl.org/spar/deo/&gt; .\r\n@prefix doco: &lt;http://purl.org/spar/doco/&gt; .\r\n...\r\n```\r\n\r\nAfter I load the file and add the triples, the saved TTL won&#39;t contain the prefixes, unless I specify them manually, one by one. Is there a way to keep the namespaces already present in the loaded file?\r\n\r\nThis is my Java code:\r\n\r\n```\r\n// Load input TTL file\r\nInputStream stream = new FileInputStream(ttlFile);\r\nRDFParser rdfParser = Rio.createParser(RDFFormat.TURTLE);\r\nModel model = new LinkedHashModel();\r\nrdfParser.setRDFHandler(new StatementCollector(model));\r\nrdfParser.parse(stream);\r\nstream.close();\r\n\r\n// Code to add triples here\r\nmodel.add(...);\r\n\r\n// Save the new TTL file\r\nFileOutputStream out = new FileOutputStream(ttlOutputFile);\r\nRDFWriter writer = Rio.createWriter(RDFFormat.TURTLE, out);\r\nwriter.startRDF();\r\n\r\n// Here I can add the prefixes manually\r\n// writer.handleNamespace(&quot;dcterms&quot;, DCTERMS.NAMESPACE);\r\n\r\nfor (Statement st : model) {\r\n    writer.handleStatement(st);\r\n}\r\nwriter.endRDF();\r\n```","title":"Keep prefixes in loading and writing TTL file with RDF4J","body":"<p>I need to load a Turtle TTL file, add some triples, then save it again.\nThe original TTL file has a big header containing the prefixes for some namespaces.</p>\n<pre class=\"lang-none prettyprint-override\"><code>@prefix biro: &lt;http://purl.org/spar/biro/&gt; .\n@prefix c4o: &lt;http://purl.org/spar/c4o/&gt; .\n@prefix dcterms: &lt;http://purl.org/dc/terms/&gt; .\n@prefix deo: &lt;http://purl.org/spar/deo/&gt; .\n@prefix doco: &lt;http://purl.org/spar/doco/&gt; .\n...\n</code></pre>\n<p>After I load the file and add the triples, the saved TTL won't contain the prefixes, unless I specify them manually, one by one. Is there a way to keep the namespaces already present in the loaded file?</p>\n<p>This is my Java code:</p>\n<pre><code>// Load input TTL file\nInputStream stream = new FileInputStream(ttlFile);\nRDFParser rdfParser = Rio.createParser(RDFFormat.TURTLE);\nModel model = new LinkedHashModel();\nrdfParser.setRDFHandler(new StatementCollector(model));\nrdfParser.parse(stream);\nstream.close();\n\n// Code to add triples here\nmodel.add(...);\n\n// Save the new TTL file\nFileOutputStream out = new FileOutputStream(ttlOutputFile);\nRDFWriter writer = Rio.createWriter(RDFFormat.TURTLE, out);\nwriter.startRDF();\n\n// Here I can add the prefixes manually\n// writer.handleNamespace(&quot;dcterms&quot;, DCTERMS.NAMESPACE);\n\nfor (Statement st : model) {\n    writer.handleStatement(st);\n}\nwriter.endRDF();\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"score":0,"creation_date":1640761455,"post_id":70516054,"comment_id":124651030,"body_markdown":"this helps? https://stackoverflow.com/a/25828574/8283737","body":"this helps? <a href=\"https://stackoverflow.com/a/25828574/8283737\">stackoverflow.com/a/25828574/8283737</a>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1640761920,"post_id":70516054,"comment_id":124651121,"body_markdown":"Is this what you are asking?  https://stackoverflow.com/questions/11836609/","body":"Is this what you are asking?  <a href=\"https://stackoverflow.com/questions/11836609/\">stackoverflow.com/questions/11836609</a>"},{"owner":{"account_id":14349390,"reputation":659,"user_id":10365380,"display_name":"Rohaitas Tanoli"},"score":0,"creation_date":1640762460,"post_id":70516054,"comment_id":124651244,"body_markdown":"by saving the OS version in Db etc Firebase when user opens app. if( OS value GET CHANGE ) that mean it is changed. save another value next to it.","body":"by saving the OS version in Db etc Firebase when user opens app. if( OS value GET CHANGE ) that mean it is changed. save another value next to it."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1640763203,"post_id":70516054,"comment_id":124651424,"body_markdown":"I don&#39;t think we can help you unless you update the question to explain what you actually mean ... and why your app needs this information.","body":"I don&#39;t think we can help you unless you update the question to explain what you actually mean ... and why your app needs this information."},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1640764820,"post_id":70516054,"comment_id":124651816,"body_markdown":"For this you have to have access to the firmware API which will tell you if there is an update available or not . There are lots of custom ROM in market so i don&#39;t its possible. Update include patches as well not just android version.","body":"For this you have to have access to the firmware API which will tell you if there is an update available or not . There are lots of custom ROM in market so i don&#39;t its possible. Update include patches as well not just android version."},{"owner":{"account_id":19458785,"reputation":5,"user_id":14233487,"display_name":"Geetika Sachdeva"},"score":0,"creation_date":1640770716,"post_id":70516054,"comment_id":124653535,"body_markdown":"@StephenC I want in my app if user&#39;s android device is updated or not. I want to ensure Android device is updated to latest version.","body":"@StephenC I want in my app if user&#39;s android device is updated or not. I want to ensure Android device is updated to latest version."},{"owner":{"account_id":19458785,"reputation":5,"user_id":14233487,"display_name":"Geetika Sachdeva"},"score":0,"creation_date":1640774772,"post_id":70516054,"comment_id":124654681,"body_markdown":"Now check my question. I have explained it.","body":"Now check my question. I have explained it."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640836829,"creation_date":1640780252,"answer_id":70519297,"question_id":70516054,"body_markdown":"**TL;DR** - It will be a lot of work.  This is not something that the standard Android APIs support.\r\n\r\n-----------------\r\n\r\nHere are a couple of approaches that *may* work\r\n\r\n\r\nApproach #1\r\n-----------\r\n\r\nYou will need to do is build and maintain a central database of all makes and models of Android phones and the *latest* available OS version for each one.\r\n\r\nWhen your app needs to check if the OS is up to date it does the following:\r\n\r\n  1.  Lookup the device&#39;s make and model, and its OS version.  This Q&amp;A explains how to get the current OS version:\r\n\r\n      - https://stackoverflow.com/questions/3093365\r\n\r\n  2.  Query the central database (running on your infrastructure) to find out what the latest OS version for the device is.\r\n\r\n  3.  If the user&#39;s device is out of date, send the user the notification.\r\n\r\nDownside: you will have to assemble the database of devices and OS versions, and **keep it up to date**.  And you will need to pay for the infrastructure that hosts the database and responds to queries.\r\n\r\nApproach #2\r\n-----------\r\n\r\nFor each Android device manufacturer, research how their device firmware works out if there is an update available.  Apparently, this functionality is not standardized.  There are no standard Android APIs that will tell you if the user&#39;s device has an OS update available.\r\n\r\nDownside: you have a lot of research and (possibly) implementation work to do to support a range of devices.  It will quite possibly entail getting hold of a lot of different types of devices for testing.  (You are unlikely to be able to develop and test on an emulator.\r\n","title":"How can an app find out if the user has updated the OS in their device","body":"<p><strong>TL;DR</strong> - It will be a lot of work.  This is not something that the standard Android APIs support.</p>\n<hr />\n<p>Here are a couple of approaches that <em>may</em> work</p>\n<h2>Approach #1</h2>\n<p>You will need to do is build and maintain a central database of all makes and models of Android phones and the <em>latest</em> available OS version for each one.</p>\n<p>When your app needs to check if the OS is up to date it does the following:</p>\n<ol>\n<li><p>Lookup the device's make and model, and its OS version.  This Q&amp;A explains how to get the current OS version:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/3093365\">How can I check the system version of Android?</a></li>\n</ul>\n</li>\n<li><p>Query the central database (running on your infrastructure) to find out what the latest OS version for the device is.</p>\n</li>\n<li><p>If the user's device is out of date, send the user the notification.</p>\n</li>\n</ol>\n<p>Downside: you will have to assemble the database of devices and OS versions, and <strong>keep it up to date</strong>.  And you will need to pay for the infrastructure that hosts the database and responds to queries.</p>\n<h2>Approach #2</h2>\n<p>For each Android device manufacturer, research how their device firmware works out if there is an update available.  Apparently, this functionality is not standardized.  There are no standard Android APIs that will tell you if the user's device has an OS update available.</p>\n<p>Downside: you have a lot of research and (possibly) implementation work to do to support a range of devices.  It will quite possibly entail getting hold of a lot of different types of devices for testing.  (You are unlikely to be able to develop and test on an emulator.</p>\n"}],"owner":{"account_id":19458785,"reputation":5,"user_id":14233487,"display_name":"Geetika Sachdeva"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":539,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70519297,"answer_count":1,"score":0,"last_activity_date":1640836829,"creation_date":1640760828,"question_id":70516054,"body_markdown":"I am trying to build an application in which I need to find out whether the user has updated their Android phone&#39;s OS or not.\r\n\r\nFor example if user&#39;s phone has android version 9 and his phone supports android version 11 but he has not updated it then I have to send a notification on his phone that please update your device.\r\nBut if his phone doesn&#39;t support android version 11 or other new versions then we have to check that till which version his device can support.\r\n\r\n\r\nPlease advise me on how I can do that.\r\n\r\n ","title":"How can an app find out if the user has updated the OS in their device","body":"<p>I am trying to build an application in which I need to find out whether the user has updated their Android phone's OS or not.</p>\n<p>For example if user's phone has android version 9 and his phone supports android version 11 but he has not updated it then I have to send a notification on his phone that please update your device.\nBut if his phone doesn't support android version 11 or other new versions then we have to check that till which version his device can support.</p>\n<p>Please advise me on how I can do that.</p>\n"},{"tags":["java","multithreading","concurrency"],"comments":[{"owner":{"account_id":1866073,"reputation":448,"user_id":1689608,"display_name":"dshelya"},"score":1,"creation_date":1640791632,"post_id":70520758,"comment_id":124660253,"body_markdown":"This seem like a classic producer-consumer problem. I&#39;d suggest to use some `BlockingQueue` as a mediator. The `ConcurrentLinkedQueue` is more suitable as a pool for exchanging data between multiple threads .\nAlso the shared switch `transferEnabled` will not work correctly without `volatile` as the `NodeQueue` could still see `false` after the write from main.","body":"This seem like a classic producer-consumer problem. I&#39;d suggest to use some <code>BlockingQueue</code> as a mediator. The <code>ConcurrentLinkedQueue</code> is more suitable as a pool for exchanging data between multiple threads . Also the shared switch <code>transferEnabled</code> will not work correctly without <code>volatile</code> as the <code>NodeQueue</code> could still see <code>false</code> after the write from main."}],"answers":[{"tags":[],"owner":{"account_id":122958,"reputation":1044,"user_id":317103,"accept_rate":67,"display_name":"Franz Wong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640836528,"creation_date":1640836528,"answer_id":70527314,"question_id":70520758,"body_markdown":"Let me copy the `Phaser` example from [my own post][1]\r\n\r\nMain thread\r\n\r\n```java\r\n// Add producer as a party\r\nPhaser phaser = new Phaser(1);\r\n\r\nfor (int i=0; i&lt;10000; ++i) {\r\n  // Add each task as a party\r\n  phaser.register();\r\n  queue.put(new Task());\r\n}\r\n\r\n// Producer arrived and wait for completion of all tasks\r\nphaser.arriveAndAwaitAdvance();\r\n\r\n// At the end, there is only 1 party left which is the producer itself\r\n```\r\n\r\nConsumer\r\n\r\n```java\r\nwhile (true) {\r\n  Task task = queue.take();\r\n  processTask(task);\r\n  // Task completed and remove itself as a party\r\n  phaser.arriveAndDeregister();\r\n}\r\n```\r\n\r\n\r\n  [1]: https://dev.to/franzwong/wait-for-completion-of-all-tasks-with-java-phaser-1g8m","title":"How to control child-thread lifecycle and synchonize it with main-thread?","body":"<p>Let me copy the <code>Phaser</code> example from <a href=\"https://dev.to/franzwong/wait-for-completion-of-all-tasks-with-java-phaser-1g8m\" rel=\"nofollow noreferrer\">my own post</a></p>\n<p>Main thread</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Add producer as a party\nPhaser phaser = new Phaser(1);\n\nfor (int i=0; i&lt;10000; ++i) {\n  // Add each task as a party\n  phaser.register();\n  queue.put(new Task());\n}\n\n// Producer arrived and wait for completion of all tasks\nphaser.arriveAndAwaitAdvance();\n\n// At the end, there is only 1 party left which is the producer itself\n</code></pre>\n<p>Consumer</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (true) {\n  Task task = queue.take();\n  processTask(task);\n  // Task completed and remove itself as a party\n  phaser.arriveAndDeregister();\n}\n</code></pre>\n"}],"owner":{"account_id":4093085,"reputation":327,"user_id":3360601,"accept_rate":70,"display_name":"user3360601"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70527314,"answer_count":1,"score":0,"last_activity_date":1640836528,"creation_date":1640788062,"question_id":70520758,"body_markdown":"I am trying to create another thread that processes data while main thread doing some more. Main thread must wait till another thread finishes `doStuff` with all elements.\r\nAnd my implementation is pretty straight forward.\r\n\r\nPlease, take a look at `processData` and tell me is there some more Java-like way to do it?\r\n\r\nI read about `Phaser` but still can&#39;t imagine how to use it or what else can I try?\r\n\r\n```\r\npublic class MyClass {\r\n    private final NodeQueue queue;\r\n    \r\n    MyClass() {\r\n        queue = new NodeQueue();\r\n    }\r\n    \r\n    public void processData(Set&lt;String&gt; dataSet) {\r\n        // allow transfer\r\n        queue.transferEnable()\r\n        Thread transfer = new Thread(() -&gt; {\r\n            queue.transferData();\r\n        })\r\n        transfer.start();\r\n        \r\n        // doStuff in another thread\r\n        for (String element : dataSet) {\r\n            queue.add(element);\r\n            // do something more\r\n        }\r\n        \r\n        // stop transfer\r\n        queue.waitTillEmptyQueue();\r\n        queue.transferDisable();\r\n        try {\r\n            transfer.join();\r\n        } catch (...) {\r\n            // catch\r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n    public class NodeQueue {\r\n        private final ConcurrentLinkedQueue&lt;String&gt; queue;\r\n        \r\n        private boolean transferEnabled;\r\n        \r\n        protected NodeQueue() {\r\n            queue = new ConcurrentLinkedQueue&lt;&gt;();\r\n            transferEnabled = true;\r\n        }\r\n        \r\n        protected void transfer() {\r\n            while (!queue.isEmpty()) {\r\n                doStuff(queue.poll());\r\n            }\r\n        }\r\n        \r\n        public void transferData() {\r\n            while (tranfserEnabled) {\r\n                transfer();\r\n            }\r\n        }\r\n        \r\n        public synchronized void transferEnable() {\r\n            transferEnabled = true;\r\n        }\r\n        \r\n        public synchronized void transferDisable() {\r\n            transferEnabled = false;\r\n        }\r\n        \r\n        public void add(String s) {\r\n            queue.add(s);\r\n        }\r\n        \r\n        public synchronized void waitTillEmptyQueue() {\r\n            while (!queue.isEmpty()) {\r\n                if (queue.isEmpty()) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"How to control child-thread lifecycle and synchonize it with main-thread?","body":"<p>I am trying to create another thread that processes data while main thread doing some more. Main thread must wait till another thread finishes <code>doStuff</code> with all elements.\nAnd my implementation is pretty straight forward.</p>\n<p>Please, take a look at <code>processData</code> and tell me is there some more Java-like way to do it?</p>\n<p>I read about <code>Phaser</code> but still can't imagine how to use it or what else can I try?</p>\n<pre><code>public class MyClass {\n    private final NodeQueue queue;\n    \n    MyClass() {\n        queue = new NodeQueue();\n    }\n    \n    public void processData(Set&lt;String&gt; dataSet) {\n        // allow transfer\n        queue.transferEnable()\n        Thread transfer = new Thread(() -&gt; {\n            queue.transferData();\n        })\n        transfer.start();\n        \n        // doStuff in another thread\n        for (String element : dataSet) {\n            queue.add(element);\n            // do something more\n        }\n        \n        // stop transfer\n        queue.waitTillEmptyQueue();\n        queue.transferDisable();\n        try {\n            transfer.join();\n        } catch (...) {\n            // catch\n        }\n    }\n    \n    \n    \n    public class NodeQueue {\n        private final ConcurrentLinkedQueue&lt;String&gt; queue;\n        \n        private boolean transferEnabled;\n        \n        protected NodeQueue() {\n            queue = new ConcurrentLinkedQueue&lt;&gt;();\n            transferEnabled = true;\n        }\n        \n        protected void transfer() {\n            while (!queue.isEmpty()) {\n                doStuff(queue.poll());\n            }\n        }\n        \n        public void transferData() {\n            while (tranfserEnabled) {\n                transfer();\n            }\n        }\n        \n        public synchronized void transferEnable() {\n            transferEnabled = true;\n        }\n        \n        public synchronized void transferDisable() {\n            transferEnabled = false;\n        }\n        \n        public void add(String s) {\n            queue.add(s);\n        }\n        \n        public synchronized void waitTillEmptyQueue() {\n            while (!queue.isEmpty()) {\n                if (queue.isEmpty()) {\n                    break;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","logging"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1640837651,"post_id":70527238,"comment_id":124671497,"body_markdown":"I don&#39;t think we can answer this yet.  We need to know 1) what application is creating these log entries, 2) what logging package is it using, 3) how the logging is configured in / by the app.  Please find that information and **edit it into the question**.","body":"I don&#39;t think we can answer this yet.  We need to know 1) what application is creating these log entries, 2) what logging package is it using, 3) how the logging is configured in / by the app.  Please find that information and <b>edit it into the question</b>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1641527677,"post_id":70527238,"comment_id":124832836,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":4448075,"reputation":31,"user_id":5230520,"display_name":"cathy Chou"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640835669,"creation_date":1640835669,"question_id":70527238,"body_markdown":"I&#39;m seeing the logging come out , but have no idea how to stop\r\n\r\n``` \r\n2021-12-30 11:36:48.585  INFO 20114 --- [NioProcessor-19] o.a.mina.filter.logging.LoggingFilter    : CLOSED\r\n2021-12-30 11:36:48.590  INFO 20114 --- [NioProcessor-21] o.a.mina.filter.logging.LoggingFilter    : CREATED\r\n2021-12-30 11:36:48.590  INFO 20114 --- [NioProcessor-21] o.a.mina.filter.logging.LoggingFilter    : OPENED\r\n2021-12-30 11:36:48.593  INFO 20114 --- [NioProcessor-46] o.a.mina.filter.logging.LoggingFilter    : CLOSED\r\n2021-12-30 11:36:48.596  INFO 20114 --- [NioProcessor-48] o.a.mina.filter.logging.LoggingFilter    : CREATED\r\n```","title":"How to stop NioProcessor logging?","body":"<p>I'm seeing the logging come out , but have no idea how to stop</p>\n<pre><code>2021-12-30 11:36:48.585  INFO 20114 --- [NioProcessor-19] o.a.mina.filter.logging.LoggingFilter    : CLOSED\n2021-12-30 11:36:48.590  INFO 20114 --- [NioProcessor-21] o.a.mina.filter.logging.LoggingFilter    : CREATED\n2021-12-30 11:36:48.590  INFO 20114 --- [NioProcessor-21] o.a.mina.filter.logging.LoggingFilter    : OPENED\n2021-12-30 11:36:48.593  INFO 20114 --- [NioProcessor-46] o.a.mina.filter.logging.LoggingFilter    : CLOSED\n2021-12-30 11:36:48.596  INFO 20114 --- [NioProcessor-48] o.a.mina.filter.logging.LoggingFilter    : CREATED\n</code></pre>\n"},{"tags":["java","android","android-databinding","android-jetpack"],"comments":[{"owner":{"account_id":16012106,"reputation":1879,"user_id":11555903,"display_name":"Ben Shmuel"},"score":0,"creation_date":1559151129,"post_id":56365215,"comment_id":99334810,"body_markdown":"Does the root of your xml is `&lt;layout&gt;` ?","body":"Does the root of your xml is <code>&lt;layout&gt;</code> ?"},{"owner":{"account_id":14545258,"reputation":898,"user_id":10505662,"display_name":"Poyyamozhi Ramakrishnan"},"score":0,"creation_date":1559193658,"post_id":56365215,"comment_id":99346081,"body_markdown":"yes it is. I have data binding in my xml","body":"yes it is. I have data binding in my xml"},{"owner":{"account_id":16012106,"reputation":1879,"user_id":11555903,"display_name":"Ben Shmuel"},"score":0,"creation_date":1559194942,"post_id":56365215,"comment_id":99346418,"body_markdown":"And the line dataBinding.regPhone.setVisibility(View.GONE) alone doesn’t work ? Other binding on your layout are working ?","body":"And the line dataBinding.regPhone.setVisibility(View.GONE) alone doesn’t work ? Other binding on your layout are working ?"},{"owner":{"account_id":14545258,"reputation":898,"user_id":10505662,"display_name":"Poyyamozhi Ramakrishnan"},"score":0,"creation_date":1559195140,"post_id":56365215,"comment_id":99346476,"body_markdown":"yes, all the other bindings are working fine. When I try with include it doesn&#39;t, since it doesn&#39;t consider it as a View rather as an Id  for the nested layout inside it.","body":"yes, all the other bindings are working fine. When I try with include it doesn&#39;t, since it doesn&#39;t consider it as a View rather as an Id  for the nested layout inside it."},{"owner":{"account_id":16012106,"reputation":1879,"user_id":11555903,"display_name":"Ben Shmuel"},"score":0,"creation_date":1559195753,"post_id":56365215,"comment_id":99346650,"body_markdown":"To bind included layouts you just add an id attribute to your included layout in your XML. setVisibility() works on every View .. so something is wrong with the included layout which is custom_phone. Can you post the xml code of it ?","body":"To bind included layouts you just add an id attribute to your included layout in your XML. setVisibility() works on every View .. so something is wrong with the included layout which is custom_phone. Can you post the xml code of it ?"},{"owner":{"account_id":14545258,"reputation":898,"user_id":10505662,"display_name":"Poyyamozhi Ramakrishnan"},"score":0,"creation_date":1559226346,"post_id":56365215,"comment_id":99360634,"body_markdown":"mahdi &#39;s answer worked for me, thanks for your help though.","body":"mahdi &#39;s answer worked for me, thanks for your help though."}],"answers":[{"tags":[],"owner":{"account_id":12181958,"reputation":1952,"user_id":8893132,"display_name":"mahdi shahbazi"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1559202696,"creation_date":1559202696,"answer_id":56373978,"question_id":56365215,"body_markdown":"add get root to your view\r\n``` java\r\ndataBinding.regPhone.getRoot().setVisibility(View.GONE);\r\ndataBinding.regEmail.getRoot().setVisibility(View.VISIBLE);\r\n```","title":"How to set visibility for include layout in databinding?","body":"<p>add get root to your view</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>dataBinding.regPhone.getRoot().setVisibility(View.GONE);\ndataBinding.regEmail.getRoot().setVisibility(View.VISIBLE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4516986,"reputation":3493,"user_id":3671509,"accept_rate":54,"display_name":"Edijae Crusar"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1578940544,"creation_date":1578940544,"answer_id":59722290,"question_id":56365215,"body_markdown":"A better way.\r\n\r\nOn the top layout, declare the boolean or an observable field whose value toggle the visibility of the included layout. Then remember to give the included layout an `id` else it wont work\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n        &lt;data&gt;\r\n            &lt;import type=&quot;android.view.View&quot;/&gt;\r\n            &lt;variable\r\n                name=&quot;show&quot;\r\n                type=&quot;Boolean&quot; /&gt;\r\n        &lt;/data&gt;\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            tools:background=&quot;@color/colorPrimary&quot;&gt;\r\n    \r\n          \r\n            &lt;include layout=&quot;@layout/progress&quot;\r\n                android:id=&quot;@+id/progress&quot;\r\n                android:visibility=&quot;@{show?View.VISIBLE:View.GONE}&quot;/&gt;\r\n    \r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    &lt;/layout&gt;","title":"How to set visibility for include layout in databinding?","body":"<p>A better way.</p>\n\n<p>On the top layout, declare the boolean or an observable field whose value toggle the visibility of the included layout. Then remember to give the included layout an <code>id</code> else it wont work</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n    &lt;data&gt;\n        &lt;import type=\"android.view.View\"/&gt;\n        &lt;variable\n            name=\"show\"\n            type=\"Boolean\" /&gt;\n    &lt;/data&gt;\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:background=\"@color/colorPrimary\"&gt;\n\n\n        &lt;include layout=\"@layout/progress\"\n            android:id=\"@+id/progress\"\n            android:visibility=\"@{show?View.VISIBLE:View.GONE}\"/&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5444267,"reputation":643,"user_id":4331353,"accept_rate":100,"display_name":"M.Muzammil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640833988,"creation_date":1640833988,"answer_id":70527078,"question_id":56365215,"body_markdown":"Create the group with reference view id&#39;s work for me because I am including the layout using `&lt;merge&gt;` tag.\r\n\r\n   \r\n\r\n     &lt;androidx.constraintlayout.widget.Group\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:constraint_referenced_ids=&quot;emptyStateView,emptyStateDescription&quot;\r\n            android:visibility=&quot;@{viewModel.searchResultState.result.size() == 0 ? View.VISIBLE : View.GONE}&quot;/&gt;\r\n\r\n \r\n","title":"How to set visibility for include layout in databinding?","body":"<p>Create the group with reference view id's work for me because I am including the layout using <code>&lt;merge&gt;</code> tag.</p>\n<pre><code> &lt;androidx.constraintlayout.widget.Group\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:constraint_referenced_ids=&quot;emptyStateView,emptyStateDescription&quot;\n        android:visibility=&quot;@{viewModel.searchResultState.result.size() == 0 ? View.VISIBLE : View.GONE}&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":14545258,"reputation":898,"user_id":10505662,"display_name":"Poyyamozhi Ramakrishnan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5955,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":56373978,"answer_count":3,"score":12,"last_activity_date":1640833988,"creation_date":1559148437,"question_id":56365215,"body_markdown":"I have implemented data binding in my project. I have a particular screen with two nested layouts in include tags. I couldn&#39;t change the visibility for include layouts using data binding programmatically.\r\n\r\nHowever, I have achieved it through a boolean, but my question is how to set visibility for that include tag programmatically.\r\n\r\nMy xml:\r\n``` xml\r\n&lt;include\r\n  android:id=&quot;@+id/reg_email&quot;\r\n  layout=&quot;@layout/custom_email&quot;\r\n  android:layout_width=&quot;match_parent&quot;\r\n  android:layout_height=&quot;match_parent&quot;/&gt;\r\n\r\n\r\n&lt;include\r\n  android:id=&quot;@+id/reg_phone&quot;\r\n  layout=&quot;@layout/custom_phone&quot;\r\n  android:layout_width=&quot;match_parent&quot;\r\n  android:layout_height=&quot;match_parent&quot;/&gt;\r\n```\r\n\r\nAnd in Activity:\r\nwhen I try to set this - it becomes red meaning it doesn&#39;t take it as a view.\r\n```java\r\n  dataBinding.regPhone.setVisibility(View.GONE);\r\n  dataBinding.regEmail.setVisibility(View.VISIBLE);\r\n```","title":"How to set visibility for include layout in databinding?","body":"<p>I have implemented data binding in my project. I have a particular screen with two nested layouts in include tags. I couldn't change the visibility for include layouts using data binding programmatically.</p>\n\n<p>However, I have achieved it through a boolean, but my question is how to set visibility for that include tag programmatically.</p>\n\n<p>My xml:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;include\n  android:id=\"@+id/reg_email\"\n  layout=\"@layout/custom_email\"\n  android:layout_width=\"match_parent\"\n  android:layout_height=\"match_parent\"/&gt;\n\n\n&lt;include\n  android:id=\"@+id/reg_phone\"\n  layout=\"@layout/custom_phone\"\n  android:layout_width=\"match_parent\"\n  android:layout_height=\"match_parent\"/&gt;\n</code></pre>\n\n<p>And in Activity:\nwhen I try to set this - it becomes red meaning it doesn't take it as a view.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>  dataBinding.regPhone.setVisibility(View.GONE);\n  dataBinding.regEmail.setVisibility(View.VISIBLE);\n</code></pre>\n"},{"tags":["java","spring-boot","jdbc","amazon-rds"],"comments":[{"owner":{"account_id":9034037,"reputation":567,"user_id":6730720,"display_name":"Marcos Echag&#252;e"},"score":0,"creation_date":1640789431,"post_id":70520892,"comment_id":124659374,"body_markdown":"Wellcome! you can refer to this https://stackoverflow.com/questions/30337582/spring-boot-configure-and-use-two-datasources","body":"Wellcome! you can refer to this <a href=\"https://stackoverflow.com/questions/30337582/spring-boot-configure-and-use-two-datasources\" title=\"spring boot configure and use two datasources\">stackoverflow.com/questions/30337582/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":17706674,"reputation":68,"user_id":12855081,"display_name":"ChrisHilborne"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640800389,"creation_date":1640790174,"answer_id":70521169,"question_id":70520892,"body_markdown":"You&#39;ve configured your DataSource to use the properties for the RDS database, that&#39;s what `@ConfigurationProperties(&quot;spring.datasource.rds&quot;)` does. \r\n\r\nEach DataSource object can only connect to one database. You should create another DataSource object with `@ConfigurationProperties(&quot;spring.datasource.local&quot;)` and name it something else like `@Bean(&quot;localDatasource&quot;)`, then you will have two different DataSource objects with connections to your two databases.","title":"How to configure two databases (local and remote both) in a Spring Boot JDBC application and insert data into table","body":"<p>You've configured your DataSource to use the properties for the RDS database, that's what <code>@ConfigurationProperties(&quot;spring.datasource.rds&quot;)</code> does.</p>\n<p>Each DataSource object can only connect to one database. You should create another DataSource object with <code>@ConfigurationProperties(&quot;spring.datasource.local&quot;)</code> and name it something else like <code>@Bean(&quot;localDatasource&quot;)</code>, then you will have two different DataSource objects with connections to your two databases.</p>\n"}],"owner":{"account_id":9505524,"reputation":1,"user_id":7065192,"display_name":"Archana Panchal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":500,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1640800421,"answer_count":1,"score":0,"last_activity_date":1640833833,"creation_date":1640788761,"question_id":70520892,"body_markdown":"I am new to Spring Boot and trying to configure and access two databases using Spring JDBC. Can someone help me here? I have one local database (MySQL) and another on AWS RDS (MySQL). I have configured `application.yml` with two data sources, but whenever I run the application, it only connects to the last database configured in `application.yml`. I want to connect to both database as from one database I need to get information and process and put logs in AWS RDS. Can someone help me here?\r\n\r\nThis is my Dbconfig file \r\n\r\n    @Bean(name = &quot;rdsDatasource&quot;)\r\n    @ConfigurationProperties(&quot;spring.datasource.rds&quot;)\r\n    public DataSource rdsDatasource() {\r\n        return DataSourceBuilder.create().build();\r\n    }\r\n\r\n    @Bean\r\n    public NamedParameterJdbcOperations namedParameterJdbcOperations(@Qualifier(&quot;rdsDatasource&quot;) DataSource rdsDbDataSource) {\r\n        return new NamedParameterJdbcTemplate(rdsDbDataSource);\r\n    }\r\n\r\napplication.yml\r\n  ```yaml\r\n  datasource:\r\n    local:\r\n      url: jdbc:mysql://localhost:3306/test\r\n      username: test\r\n      password: test\r\n      port: 3306\r\n    rds:\r\n      url: jdbc:mysql://aws-rds/test\r\n      username: test\r\n      password: test\r\n      port: 3306.\r\n```\r\n","title":"How to configure two databases (local and remote both) in a Spring Boot JDBC application and insert data into table","body":"<p>I am new to Spring Boot and trying to configure and access two databases using Spring JDBC. Can someone help me here? I have one local database (MySQL) and another on AWS RDS (MySQL). I have configured <code>application.yml</code> with two data sources, but whenever I run the application, it only connects to the last database configured in <code>application.yml</code>. I want to connect to both database as from one database I need to get information and process and put logs in AWS RDS. Can someone help me here?</p>\n<p>This is my Dbconfig file</p>\n<pre><code>@Bean(name = &quot;rdsDatasource&quot;)\n@ConfigurationProperties(&quot;spring.datasource.rds&quot;)\npublic DataSource rdsDatasource() {\n    return DataSourceBuilder.create().build();\n}\n\n@Bean\npublic NamedParameterJdbcOperations namedParameterJdbcOperations(@Qualifier(&quot;rdsDatasource&quot;) DataSource rdsDbDataSource) {\n    return new NamedParameterJdbcTemplate(rdsDbDataSource);\n}\n</code></pre>\n<p>application.yml</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>datasource:\n  local:\n    url: jdbc:mysql://localhost:3306/test\n    username: test\n    password: test\n    port: 3306\n  rds:\n    url: jdbc:mysql://aws-rds/test\n    username: test\n    password: test\n    port: 3306.\n</code></pre>\n"},{"tags":["java","smpp"],"answers":[{"tags":[],"owner":{"account_id":216055,"reputation":1596,"user_id":471059,"accept_rate":100,"display_name":"Farhan"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1640833708,"creation_date":1358769681,"answer_id":14438164,"question_id":14368611,"body_markdown":"I have used both [jSMPP][1] and [cloudhopper-smpp][2] for separate projects which involved sending and receiving SMS&#39;s over smpp in circumstances which involved:\r\n\r\n - Receiving medium-high number of MOs.\r\n - Sending high number of MTs (up to 70/second).\r\n\r\nBoth the libraries fared well, and IMO jSMPP is more user-friendly to jump in and start coding right away. But I had came across a few bugs while using the latest version from GitHub, which still remain unfixed. \r\n\r\nAfter having used *cloudhopper*, I reckon it is well worth the learning curve, which is a wee bit steep compared to jSMPP (subjective).\r\n\r\n\r\n  [1]: https://jsmpp.org/\r\n  [2]: https://github.com/twitter/cloudhopper-smpp","title":"Java SMPP library comparison","body":"<p>I have used both <a href=\"https://jsmpp.org/\" rel=\"nofollow noreferrer\">jSMPP</a> and <a href=\"https://github.com/twitter/cloudhopper-smpp\" rel=\"nofollow noreferrer\">cloudhopper-smpp</a> for separate projects which involved sending and receiving SMS's over smpp in circumstances which involved:</p>\n<ul>\n<li>Receiving medium-high number of MOs.</li>\n<li>Sending high number of MTs (up to 70/second).</li>\n</ul>\n<p>Both the libraries fared well, and IMO jSMPP is more user-friendly to jump in and start coding right away. But I had came across a few bugs while using the latest version from GitHub, which still remain unfixed.</p>\n<p>After having used <em>cloudhopper</em>, I reckon it is well worth the learning curve, which is a wee bit steep compared to jSMPP (subjective).</p>\n"},{"tags":[],"owner":{"account_id":1398358,"reputation":207,"user_id":1327654,"accept_rate":40,"display_name":"Giancarlo Sanchez"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1360855198,"creation_date":1360855198,"answer_id":14878082,"question_id":14368611,"body_markdown":"I am currently implementing a SMPP solution over Java using Logica&#39;s library. It is very easy to use. The following information states the result of the tests:\r\n\r\nApplication: Enterprise Java Beans Application deployed in Glassfish 3.1.2.2&lt;br&gt;\r\nLanguage: Java (using JMS)&lt;br&gt;\r\nLibrary: Logica SMPP (version 1.3)&lt;br&gt;\r\nOrigin (ESME): localhost&lt;br&gt;\r\nDestination (SMSC): Logica SMSC simulator at development server (hosted in Amazon Web Services)&lt;br&gt;\r\nType: Transciever Asynchronous&lt;br&gt;\r\n**Avg sending rate (80%): 246 msg / sec**&lt;br&gt;\r\nLow sending rate (15%): 50 msg / sec&lt;br&gt;\r\nHigh sending rate (5%): 255 msg /sec&lt;br&gt;\r\n\r\nIt is very efficient as long as you stick to the asynchronous mode. If you need to keep a correlation between the message and its response use the &quot;sequence number&quot; that is both in the message and the response.\r\n\r\n","title":"Java SMPP library comparison","body":"<p>I am currently implementing a SMPP solution over Java using Logica's library. It is very easy to use. The following information states the result of the tests:</p>\n\n<p>Application: Enterprise Java Beans Application deployed in Glassfish 3.1.2.2<br>\nLanguage: Java (using JMS)<br>\nLibrary: Logica SMPP (version 1.3)<br>\nOrigin (ESME): localhost<br>\nDestination (SMSC): Logica SMSC simulator at development server (hosted in Amazon Web Services)<br>\nType: Transciever Asynchronous<br>\n<strong>Avg sending rate (80%): 246 msg / sec</strong><br>\nLow sending rate (15%): 50 msg / sec<br>\nHigh sending rate (5%): 255 msg /sec<br></p>\n\n<p>It is very efficient as long as you stick to the asynchronous mode. If you need to keep a correlation between the message and its response use the \"sequence number\" that is both in the message and the response.</p>\n"},{"tags":[],"owner":{"account_id":40977,"reputation":2624,"user_id":118994,"accept_rate":17,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1363642035,"creation_date":1363642035,"answer_id":15487275,"question_id":14368611,"body_markdown":"Just an updated to what I finally decided (and how libraries reviewed):\r\n\r\n1. Logica: Seems promising but I was concerned about the lack of updates/activeness of the community in general. The last meaningful build was yonks ago so not really an investment I wanted to make.\r\n\r\n2. Apache Camel: We started off using this but there were some limitations to their library (we needed to insert custom heads to our SMPP packets). To be fair they were fairly prompt in responding to issues on their forums but their build cycles took a little too long for my sprints, so we scratched this.\r\n\r\n3. JSMPP: This is the one we ended up using. Was pretty straightforward overall tho it did feel like it expected you to already have a fairly good idea of SMPP in general. Things are in staging so I can&#39;t tell you how it performs under production load. Will update when it goes live.\r\n\r\n4. Cloudhopper: To be honest this was the one I was keen to use but more because like any geek I wanted to jump on the shiniest newest toy available. I didn&#39;t really get adequate responses to any queries we made from the off so was apprehensive to get on board. No reason to adopt a library that will require me to wade thru their codes when other more documented options were available.","title":"Java SMPP library comparison","body":"<p>Just an updated to what I finally decided (and how libraries reviewed):</p>\n\n<ol>\n<li><p>Logica: Seems promising but I was concerned about the lack of updates/activeness of the community in general. The last meaningful build was yonks ago so not really an investment I wanted to make.</p></li>\n<li><p>Apache Camel: We started off using this but there were some limitations to their library (we needed to insert custom heads to our SMPP packets). To be fair they were fairly prompt in responding to issues on their forums but their build cycles took a little too long for my sprints, so we scratched this.</p></li>\n<li><p>JSMPP: This is the one we ended up using. Was pretty straightforward overall tho it did feel like it expected you to already have a fairly good idea of SMPP in general. Things are in staging so I can't tell you how it performs under production load. Will update when it goes live.</p></li>\n<li><p>Cloudhopper: To be honest this was the one I was keen to use but more because like any geek I wanted to jump on the shiniest newest toy available. I didn't really get adequate responses to any queries we made from the off so was apprehensive to get on board. No reason to adopt a library that will require me to wade thru their codes when other more documented options were available.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1962407,"reputation":545,"user_id":1763562,"display_name":"Big Kahuna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1370338747,"creation_date":1370338747,"answer_id":16914462,"question_id":14368611,"body_markdown":"I&#39;ve used Logica SMPP for a production project. It&#39;s not actively maintained anymore and there are a few inherent bugs which resulted in having to produce workarounds or actually forking the codebase to fix. Having said that, I&#39;ve found the API to be very stable and performant (300msg/s). \r\n\r\nI&#39;ve briefly looked at JSMPP and it has a much nicer API than Logica although there seems to be a large number of defects have not been fixed despite there being on the issue list for a long time. \r\n\r\nJust came across Cloudhopper SMPP which seems to be coded in a more up to date style but again it needs more examples. Having to chore through the code base is not attractive. Examples on gituhub are getting better though. ","title":"Java SMPP library comparison","body":"<p>I've used Logica SMPP for a production project. It's not actively maintained anymore and there are a few inherent bugs which resulted in having to produce workarounds or actually forking the codebase to fix. Having said that, I've found the API to be very stable and performant (300msg/s). </p>\n\n<p>I've briefly looked at JSMPP and it has a much nicer API than Logica although there seems to be a large number of defects have not been fixed despite there being on the issue list for a long time. </p>\n\n<p>Just came across Cloudhopper SMPP which seems to be coded in a more up to date style but again it needs more examples. Having to chore through the code base is not attractive. Examples on gituhub are getting better though. </p>\n"},{"tags":[],"owner":{"account_id":3308210,"reputation":620,"user_id":2782339,"accept_rate":60,"display_name":"DenisD"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1404802995,"creation_date":1404802995,"answer_id":24625599,"question_id":14368611,"body_markdown":"Our SMSC was written on Logica SMPP (v 1.3), it still works really well with enterprise loadings. There has been only a few small issues regarding the library mainly with message_payload, honestly I don&#39;t remember other issues. But it&#39;s easy to repair because it&#39;s an opensource product.\r\n\r\nAlthough I personally trust logica&#39;s sources, for small clients I use jsmpp. I agree with @Farhan that it&#39;s a bit more user friendly and developing of a simple client takes less time.","title":"Java SMPP library comparison","body":"<p>Our SMSC was written on Logica SMPP (v 1.3), it still works really well with enterprise loadings. There has been only a few small issues regarding the library mainly with message_payload, honestly I don't remember other issues. But it's easy to repair because it's an opensource product.</p>\n\n<p>Although I personally trust logica's sources, for small clients I use jsmpp. I agree with @Farhan that it's a bit more user friendly and developing of a simple client takes less time.</p>\n"},{"tags":[],"owner":{"account_id":324701,"reputation":2229,"user_id":645427,"accept_rate":50,"display_name":"Przemek Pokrywka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1406139562,"creation_date":1406139562,"answer_id":24918006,"question_id":14368611,"body_markdown":"I&#39;ve used both jsmpp and [smppapi][1] and found the latter much nicer because jsmpp had only synchronous blocking mode at that time (2010) - not sure if that&#39;s still the case.\r\n\r\nThe blocking nature of jsmpp become source of big problems when the SMPP server I was connecting to were experiencing some performance problems and responded slower than usual. Suddenly I found all of my threads to be waiting for responses. Migration to smppapi solved the problems obviously.\r\n\r\n  [1]: http://smppapi.sourceforge.net/documentation/user-guide/","title":"Java SMPP library comparison","body":"<p>I've used both jsmpp and <a href=\"http://smppapi.sourceforge.net/documentation/user-guide/\" rel=\"nofollow\">smppapi</a> and found the latter much nicer because jsmpp had only synchronous blocking mode at that time (2010) - not sure if that's still the case.</p>\n\n<p>The blocking nature of jsmpp become source of big problems when the SMPP server I was connecting to were experiencing some performance problems and responded slower than usual. Suddenly I found all of my threads to be waiting for responses. Migration to smppapi solved the problems obviously.</p>\n"},{"tags":[],"owner":{"account_id":6839928,"reputation":31,"user_id":5691061,"display_name":"huu nhan Tran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494598164,"creation_date":1494598164,"answer_id":43939825,"question_id":14368611,"body_markdown":"Cloudhopper is the best choice, Apache&#39;s Camel is also good but it&#39;s a very big project that has many interfaces to pdf, salesforce.... that you don&#39;t need.\r\nOther project is not updated to date. Cloudhopper is maintaining by Telestax and they add some useful features and look like they will give strong support it in future\r\n\r\nHere&#39;s stack for easying config Cloudhopper\r\nhttps://github.com/RestComm/smpp-extensions\r\nHere&#39;s forked Cloudhopper by telestax (very up to date):\r\nhttps://github.com/RestComm/cloudhopper-smpp\r\nAlso JainSlee Resource Adapter for whom who&#39;s working in telecom field\r\nhttps://github.com/RestComm/jain-slee.smpp\r\n\r\n","title":"Java SMPP library comparison","body":"<p>Cloudhopper is the best choice, Apache's Camel is also good but it's a very big project that has many interfaces to pdf, salesforce.... that you don't need.\nOther project is not updated to date. Cloudhopper is maintaining by Telestax and they add some useful features and look like they will give strong support it in future</p>\n\n<p>Here's stack for easying config Cloudhopper\n<a href=\"https://github.com/RestComm/smpp-extensions\" rel=\"nofollow noreferrer\">https://github.com/RestComm/smpp-extensions</a>\nHere's forked Cloudhopper by telestax (very up to date):\n<a href=\"https://github.com/RestComm/cloudhopper-smpp\" rel=\"nofollow noreferrer\">https://github.com/RestComm/cloudhopper-smpp</a>\nAlso JainSlee Resource Adapter for whom who's working in telecom field\n<a href=\"https://github.com/RestComm/jain-slee.smpp\" rel=\"nofollow noreferrer\">https://github.com/RestComm/jain-slee.smpp</a></p>\n"},{"tags":[],"owner":{"account_id":9004533,"reputation":1,"user_id":6711792,"display_name":"oluagbaje"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1631617668,"creation_date":1631617668,"answer_id":69176623,"question_id":14368611,"body_markdown":"presently I am using JSMPP and i found it&#39;s okay so far. Cloudhopper seems easier of the lot but i ended up with JSMPP and also found out that JSMPP is also at the heart of Apache camel implementation i might be wrong though.","title":"Java SMPP library comparison","body":"<p>presently I am using JSMPP and i found it's okay so far. Cloudhopper seems easier of the lot but i ended up with JSMPP and also found out that JSMPP is also at the heart of Apache camel implementation i might be wrong though.</p>\n"}],"owner":{"account_id":40977,"reputation":2624,"user_id":118994,"accept_rate":17,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20240,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":14438164,"answer_count":8,"score":20,"last_activity_date":1640833708,"creation_date":1358373435,"question_id":14368611,"body_markdown":"We&#39;re about to begin a project which requires the use of SMPP as the primary integration exchange channel. Now since SMS isn&#39;t necessarily core to our business, I&#39;d like to use an SMPP library for Java that will be the least hassle. Aside from riding on the actual protocol, its unlikely we&#39;ll need fancier abilities or to ever tweak under the hood.\r\n\r\nTo that end, I&#39;ve shortlisted some of the possible options that we have:\r\n\r\n- Logica&#39;s Open SMPP\r\n- Apache&#39;s Camel\r\n- JSMPP\r\n- Twitter&#39;s Cloudhopper\r\n\r\nCan someone who&#39;s more experienced in their uses throw some of their experiences my way ?\r\n\r\nEDIT: Just to give scope to the use cases, we&#39;ll be both sending and receiving SMS&#39;es so the library should hopefully make life easy with both client action and also server listener implementation.","title":"Java SMPP library comparison","body":"<p>We're about to begin a project which requires the use of SMPP as the primary integration exchange channel. Now since SMS isn't necessarily core to our business, I'd like to use an SMPP library for Java that will be the least hassle. Aside from riding on the actual protocol, its unlikely we'll need fancier abilities or to ever tweak under the hood.</p>\n\n<p>To that end, I've shortlisted some of the possible options that we have:</p>\n\n<ul>\n<li>Logica's Open SMPP</li>\n<li>Apache's Camel</li>\n<li>JSMPP</li>\n<li>Twitter's Cloudhopper</li>\n</ul>\n\n<p>Can someone who's more experienced in their uses throw some of their experiences my way ?</p>\n\n<p>EDIT: Just to give scope to the use cases, we'll be both sending and receiving SMS'es so the library should hopefully make life easy with both client action and also server listener implementation.</p>\n"},{"tags":["java","netbeans","jar","executable-jar","netbeans-8"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1640840163,"post_id":70526988,"comment_id":124671881,"body_markdown":"Use maven&#39;s fat jar option","body":"Use maven&#39;s fat jar option"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1640840208,"post_id":70526988,"comment_id":124671889,"body_markdown":"This [google search](https://www.google.com/search?client=safari&amp;rls=en&amp;q=java+netbeans+ant+fat+jar&amp;ie=UTF-8&amp;oe=UTF-8&amp;safe=active) might provide a bit more insight","body":"This <a href=\"https://www.google.com/search?client=safari&amp;rls=en&amp;q=java+netbeans+ant+fat+jar&amp;ie=UTF-8&amp;oe=UTF-8&amp;safe=active\" rel=\"nofollow noreferrer\">google search</a> might provide a bit more insight"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1640840450,"post_id":70526988,"comment_id":124671925,"body_markdown":"Yes, you can edit **build.xml** to include source files. Take a look at [the Ant documentation](https://ant.apache.org/manual/Types/zipfileset.html) for the `&lt;zipfileset&gt;` tag, which you are already using in your **build.xml**. Studying the example in the linked documentation should point you in the right direction. Update your question to clarify your problem if you are still stuck.","body":"Yes, you can edit <b>build.xml</b> to include source files. Take a look at <a href=\"https://ant.apache.org/manual/Types/zipfileset.html\" rel=\"nofollow noreferrer\">the Ant documentation</a> for the <code>&lt;zipfileset&gt;</code> tag, which you are already using in your <b>build.xml</b>. Studying the example in the linked documentation should point you in the right direction. Update your question to clarify your problem if you are still stuck."}],"owner":{"account_id":23780399,"reputation":75,"user_id":17793164,"display_name":"Jeniffer Lorena Guillen Castro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640832865,"creation_date":1640832865,"question_id":70526988,"body_markdown":"I&#39;m creating a jar file with all the libraries included but I don&#39;t know how to include the source code inside the jar.\r\n\r\nIs it possible to include the source files in the jar file?\r\n\r\nTo create the jar file I am using Netbeans IDE 8.0.2 and in the build.xml file I have the following\r\n\r\n``` \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project name=&quot;SendMail&quot; default=&quot;default&quot; basedir=&quot;.&quot;&gt;\r\n    &lt;description&gt;Builds, tests, and runs the project SendMail.&lt;/description&gt;\r\n    &lt;import file=&quot;nbproject/build-impl.xml&quot;/&gt;\r\n\r\n    &lt;target name=&quot;package-for-store&quot; depends=&quot;jar&quot;&gt;\r\n\r\n        &lt;!-- Change the value of this property to be the\r\nname of your JAR, minus the .jar extension. It should not \r\nhave spaces.\r\n             &lt;property name=&quot;store.jar.name&quot; value=&quot;MyJarName&quot;/&gt;\r\n        --&gt;\r\n\r\n        &lt;property name=&quot;store.jar.name&quot; value=&quot;SendMail&quot;/&gt;\r\n\r\n        &lt;!-- don&#39;t edit below this line --&gt;\r\n\r\n        &lt;property name=&quot;store.dir&quot; value=&quot;store&quot;/&gt;\r\n        &lt;property name=&quot;store.jar&quot; value=&quot;${store.dir}/${store.jar.name}.jar&quot;/&gt;\r\n\r\n        &lt;echo message=&quot;Packaging ${application.title} into a single JAR at ${store.jar}&quot;/&gt;\r\n\r\n        &lt;delete dir=&quot;${store.dir}&quot;/&gt;\r\n        &lt;mkdir dir=&quot;${store.dir}&quot;/&gt;\r\n\r\n        &lt;jar destfile=&quot;${store.dir}/temp_final.jar&quot; filesetmanifest=&quot;skip&quot;&gt;\r\n            &lt;zipgroupfileset dir=&quot;dist&quot; includes=&quot;*.jar&quot;/&gt;\r\n            &lt;zipgroupfileset dir=&quot;dist/lib&quot; includes=&quot;*.jar&quot;/&gt;\r\n           \r\n            &lt;manifest&gt;\r\n                &lt;attribute name=&quot;Main-Class&quot; value=&quot;${main.class}&quot;/&gt;\r\n            &lt;/manifest&gt;\r\n        &lt;/jar&gt;\r\n\r\n        &lt;zip destfile=&quot;${store.jar}&quot;&gt;\r\n            &lt;zipfileset src=&quot;${store.dir}/temp_final.jar&quot;\r\n            excludes=&quot;META-INF/*.SF, META-INF/*.DSA, META-INF/*.RSA&quot;/&gt;\r\n        &lt;/zip&gt;\r\n\r\n        &lt;delete file=&quot;${store.dir}/temp_final.jar&quot;/&gt;\r\n\r\n    &lt;/target&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThen I run the following option\r\n\r\n\r\n[Target &quot;package-for-store&quot;][1]\r\n\r\nRight click on the build.xml file, select “Run Target-&gt; Other Targets-&gt; package-for-store”\r\n\r\nOnce you have run the &quot;package-for-store&quot; target you will notice that a &quot;Store&quot; folder has been created in your project.\r\n\r\nIt is in this folder you will find the Jar file, it already contains internally the libraries that your program needs so that you can distribute it just by copying this file\r\n\r\n\r\nIt is possible to add the files with the source code in the jar file,\r\nwhat should be changed in the build.xml\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PSJy4.png","title":"Netbeans: how to create an executable .jar file with all libraries and source files included","body":"<p>I'm creating a jar file with all the libraries included but I don't know how to include the source code inside the jar.</p>\n<p>Is it possible to include the source files in the jar file?</p>\n<p>To create the jar file I am using Netbeans IDE 8.0.2 and in the build.xml file I have the following</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project name=&quot;SendMail&quot; default=&quot;default&quot; basedir=&quot;.&quot;&gt;\n    &lt;description&gt;Builds, tests, and runs the project SendMail.&lt;/description&gt;\n    &lt;import file=&quot;nbproject/build-impl.xml&quot;/&gt;\n\n    &lt;target name=&quot;package-for-store&quot; depends=&quot;jar&quot;&gt;\n\n        &lt;!-- Change the value of this property to be the\nname of your JAR, minus the .jar extension. It should not \nhave spaces.\n             &lt;property name=&quot;store.jar.name&quot; value=&quot;MyJarName&quot;/&gt;\n        --&gt;\n\n        &lt;property name=&quot;store.jar.name&quot; value=&quot;SendMail&quot;/&gt;\n\n        &lt;!-- don't edit below this line --&gt;\n\n        &lt;property name=&quot;store.dir&quot; value=&quot;store&quot;/&gt;\n        &lt;property name=&quot;store.jar&quot; value=&quot;${store.dir}/${store.jar.name}.jar&quot;/&gt;\n\n        &lt;echo message=&quot;Packaging ${application.title} into a single JAR at ${store.jar}&quot;/&gt;\n\n        &lt;delete dir=&quot;${store.dir}&quot;/&gt;\n        &lt;mkdir dir=&quot;${store.dir}&quot;/&gt;\n\n        &lt;jar destfile=&quot;${store.dir}/temp_final.jar&quot; filesetmanifest=&quot;skip&quot;&gt;\n            &lt;zipgroupfileset dir=&quot;dist&quot; includes=&quot;*.jar&quot;/&gt;\n            &lt;zipgroupfileset dir=&quot;dist/lib&quot; includes=&quot;*.jar&quot;/&gt;\n           \n            &lt;manifest&gt;\n                &lt;attribute name=&quot;Main-Class&quot; value=&quot;${main.class}&quot;/&gt;\n            &lt;/manifest&gt;\n        &lt;/jar&gt;\n\n        &lt;zip destfile=&quot;${store.jar}&quot;&gt;\n            &lt;zipfileset src=&quot;${store.dir}/temp_final.jar&quot;\n            excludes=&quot;META-INF/*.SF, META-INF/*.DSA, META-INF/*.RSA&quot;/&gt;\n        &lt;/zip&gt;\n\n        &lt;delete file=&quot;${store.dir}/temp_final.jar&quot;/&gt;\n\n    &lt;/target&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Then I run the following option</p>\n<p><a href=\"https://i.stack.imgur.com/PSJy4.png\" rel=\"nofollow noreferrer\">Target &quot;package-for-store&quot;</a></p>\n<p>Right click on the build.xml file, select “Run Target-&gt; Other Targets-&gt; package-for-store”</p>\n<p>Once you have run the &quot;package-for-store&quot; target you will notice that a &quot;Store&quot; folder has been created in your project.</p>\n<p>It is in this folder you will find the Jar file, it already contains internally the libraries that your program needs so that you can distribute it just by copying this file</p>\n<p>It is possible to add the files with the source code in the jar file,\nwhat should be changed in the build.xml</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1640765616,"post_id":70516455,"comment_id":124652030,"body_markdown":"What do you mean by “real-time example”?","body":"What do you mean by “real-time example”?"},{"owner":{"account_id":11249374,"reputation":401,"user_id":8250946,"display_name":"vikash"},"score":0,"creation_date":1640827701,"post_id":70516455,"comment_id":124670165,"body_markdown":"Real-time example means, What I was trying to do at that time.","body":"Real-time example means, What I was trying to do at that time."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1640828472,"post_id":70516455,"comment_id":124670276,"body_markdown":"[&quot;Real-time&quot;](https://en.wikipedia.org/wiki/Real-time_computing) has a specific meaning in computing, FYI.","body":"<a href=\"https://en.wikipedia.org/wiki/Real-time_computing\" rel=\"nofollow noreferrer\">&quot;Real-time&quot;</a> has a specific meaning in computing, FYI."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640767604,"creation_date":1640766667,"answer_id":70516919,"question_id":70516455,"body_markdown":"You can write a utility function to compose two method references:\r\n```java\r\npublic class Foo {\r\n    static class AClass {\r\n        private final BClass b = new BClass();\r\n\r\n        public BClass getB() {\r\n            return b;\r\n        }\r\n    }\r\n\r\n    static class BClass {\r\n        public String getFoo() {\r\n            return &quot;foo&quot;;\r\n        }\r\n    }\r\n\r\n    static &lt;A,B,C&gt; Function&lt;A,C&gt; compose(Function&lt;A,B&gt; ab, Function&lt;B,C&gt; bc) {\r\n        return ab.andThen(bc);\r\n    }\r\n\r\n    public static void main(String[] args) throws InstantiationException, IllegalAccessException {\r\n        System.out.println(Optional.of(new AClass()).map(AClass::getB).map(BClass::getFoo));\r\n        System.out.println(Optional.of(new AClass()).map(compose(AClass::getB, BClass::getFoo)));\r\n    }\r\n}\r\n```","title":"is there any way to use nested method reference like HashSet::new::add in java any version that can be use in parameter for common method?","body":"<p>You can write a utility function to compose two method references:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Foo {\n    static class AClass {\n        private final BClass b = new BClass();\n\n        public BClass getB() {\n            return b;\n        }\n    }\n\n    static class BClass {\n        public String getFoo() {\n            return &quot;foo&quot;;\n        }\n    }\n\n    static &lt;A,B,C&gt; Function&lt;A,C&gt; compose(Function&lt;A,B&gt; ab, Function&lt;B,C&gt; bc) {\n        return ab.andThen(bc);\n    }\n\n    public static void main(String[] args) throws InstantiationException, IllegalAccessException {\n        System.out.println(Optional.of(new AClass()).map(AClass::getB).map(BClass::getFoo));\n        System.out.println(Optional.of(new AClass()).map(compose(AClass::getB, BClass::getFoo)));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20959794,"reputation":19,"user_id":15399493,"display_name":"justAquestion"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640770645,"creation_date":1640767571,"answer_id":70517079,"question_id":70516455,"body_markdown":"You cannot directly refer to getCountry () via User, but you can use stream to map to addresses and then reference getCountry ().\r\nHowever, you should specify in what situation you want to use.\r\n\r\nbut e.g if you have a user list, you can do this:\r\n\r\n```\r\nList &lt;User&gt; users = List.of(\r\n                       user,\r\n                       user1);\r\n\r\n users.stream()\r\n                .map(User::getAddress)\r\n                .map(Address::getCountry)\r\n                .forEach(System.out::println)","title":"is there any way to use nested method reference like HashSet::new::add in java any version that can be use in parameter for common method?","body":"<p>You cannot directly refer to getCountry () via User, but you can use stream to map to addresses and then reference getCountry ().\nHowever, you should specify in what situation you want to use.</p>\n<p>but e.g if you have a user list, you can do this:</p>\n<pre><code>List &lt;User&gt; users = List.of(\n                       user,\n                       user1);\n\n users.stream()\n                .map(User::getAddress)\n                .map(Address::getCountry)\n                .forEach(System.out::println)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640778136,"creation_date":1640777771,"answer_id":70518863,"question_id":70516455,"body_markdown":"A simple way to compose multiple chained functions is to assign the first method reference to a local variable and apply `.andThen(Other::ref)`:\r\n\r\n    Function&lt;User, Address&gt; user2Address = User::getAddress;\r\n    Function&lt;User, String&gt; user2Country  = user2Address.andThen(Address::getCountry);\r\n\r\nYou can chain as many `.andThen(Other::ref)` as you need to reach the target mapping and use the combined function as one step in say &#39;stream.map` operations.\r\n\r\n    List.of(user1, user2,user3).stream()\r\n        .map(user2Country)\r\n        .forEach(System.out::println);\r\n","title":"is there any way to use nested method reference like HashSet::new::add in java any version that can be use in parameter for common method?","body":"<p>A simple way to compose multiple chained functions is to assign the first method reference to a local variable and apply <code>.andThen(Other::ref)</code>:</p>\n<pre><code>Function&lt;User, Address&gt; user2Address = User::getAddress;\nFunction&lt;User, String&gt; user2Country  = user2Address.andThen(Address::getCountry);\n</code></pre>\n<p>You can chain as many <code>.andThen(Other::ref)</code> as you need to reach the target mapping and use the combined function as one step in say 'stream.map` operations.</p>\n<pre><code>List.of(user1, user2,user3).stream()\n    .map(user2Country)\n    .forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11249374,"reputation":401,"user_id":8250946,"display_name":"vikash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640830730,"creation_date":1640830730,"answer_id":70526842,"question_id":70516455,"body_markdown":"I don&#39;t want to use map() multiple times so I asked this question.\r\ngenerally, I want to write a generic method where I get User or Address any properties by passing it from parameter, So I have used like given below: \r\n\r\n    private String getCountryName(User user, Function&lt;? super User, String&gt; mapper) {\r\n            return Optional.ofNullable(user)\r\n                    .map(mapper)\r\n                    .get();\r\n        }\r\n\r\nThanks for your great suggestion, andThen() is the way that I was wondering. \r\nwith the help this I can use like : \r\n\r\n    String username = getCountryName(vikash, User::getName);\r\n\r\n    Function&lt;User, Address&gt; getAddress = User::getAddress;\r\n    String countryName = getCountryName(vikash, getAddress.andThen(Address::getCountry));\r\n\r\n","title":"is there any way to use nested method reference like HashSet::new::add in java any version that can be use in parameter for common method?","body":"<p>I don't want to use map() multiple times so I asked this question.\ngenerally, I want to write a generic method where I get User or Address any properties by passing it from parameter, So I have used like given below:</p>\n<pre><code>private String getCountryName(User user, Function&lt;? super User, String&gt; mapper) {\n        return Optional.ofNullable(user)\n                .map(mapper)\n                .get();\n    }\n</code></pre>\n<p>Thanks for your great suggestion, andThen() is the way that I was wondering.\nwith the help this I can use like :</p>\n<pre><code>String username = getCountryName(vikash, User::getName);\n\nFunction&lt;User, Address&gt; getAddress = User::getAddress;\nString countryName = getCountryName(vikash, getAddress.andThen(Address::getCountry));\n</code></pre>\n"}],"owner":{"account_id":11249374,"reputation":401,"user_id":8250946,"display_name":"vikash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":70526842,"answer_count":4,"score":-2,"last_activity_date":1640832140,"creation_date":1640763589,"question_id":70516455,"body_markdown":"Suppose in this example, I have two object User and Address that is given below:\r\n\r\n    public User{\r\n      private String name;\r\n      private Address address;\r\n     // setter, Getter\r\n    }\r\n    \r\n    public Address{\r\n      private String country;\r\n     // setter, Getter\r\n    }\r\n\r\nI want to find the country from the user so I can simply use \r\n\r\n    user.getAddress().getCountry();\r\n\r\nto get address with the help of method reference, It can be passed in parameter like \r\n\r\n    User::getAddress\r\nbut I have to find out the country name and I want to use in method reference way so how can I do?\r\n\r\n\r\n","title":"is there any way to use nested method reference like HashSet::new::add in java any version that can be use in parameter for common method?","body":"<p>Suppose in this example, I have two object User and Address that is given below:</p>\n<pre><code>public User{\n  private String name;\n  private Address address;\n // setter, Getter\n}\n\npublic Address{\n  private String country;\n // setter, Getter\n}\n</code></pre>\n<p>I want to find the country from the user so I can simply use</p>\n<pre><code>user.getAddress().getCountry();\n</code></pre>\n<p>to get address with the help of method reference, It can be passed in parameter like</p>\n<pre><code>User::getAddress\n</code></pre>\n<p>but I have to find out the country name and I want to use in method reference way so how can I do?</p>\n"},{"tags":["java","typescript","combobox","vaadin"],"comments":[{"owner":{"account_id":12788787,"reputation":61,"user_id":9314716,"display_name":"yeferson cordoba"},"score":0,"creation_date":1640521470,"post_id":70480567,"comment_id":124598291,"body_markdown":"I made it, the thing is that was a problem caused by my lack of skills on typescrypt languaje. the thing is that I did my research and could do it.\n\n`@state()\n  private status: Status[] = [];` just added this line and use a method to get all the items from the `StatusRepository.java`","body":"I made it, the thing is that was a problem caused by my lack of skills on typescrypt languaje. the thing is that I did my research and could do it.  <code>@state()   private status: Status[] = [];</code> just added this line and use a method to get all the items from the <code>StatusRepository.java</code>"},{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1640610353,"post_id":70480567,"comment_id":124615147,"body_markdown":"Can you formulate your solution as answer to this question, so that it is not being left hanging unresolved. It is perfectly ok to answer own questions here.","body":"Can you formulate your solution as answer to this question, so that it is not being left hanging unresolved. It is perfectly ok to answer own questions here."}],"answers":[{"tags":[],"owner":{"account_id":12788787,"reputation":61,"user_id":9314716,"display_name":"yeferson cordoba"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640831925,"creation_date":1640831925,"answer_id":70526931,"question_id":70480567,"body_markdown":"My Solution was:\r\n\r\nadded tis lines to my typescrypt class\r\n\r\n```\r\n@state()\r\nprivate roles: Rol[] = [];\r\n```\r\n\r\n`@state` from `&#39;lit/decorators.js&#39;`\r\n\r\nthen in the `connectedCallback` function added this line\r\n\r\n```\r\nthis.roles = await RolesEndpoint.listAll();\r\n```\r\n\r\n`listAll()` is a method that I created on my endpint class.\r\n\r\nlike this:\r\n\r\n```\r\n@Nonnull\r\npublic List&lt;@Nonnull Rol&gt; listAll() {\r\n   return service.listAll();\r\n}\r\n```\r\n\r\nand in my service class\r\n\r\n```\r\npublic List&lt;Rol&gt; listAll() {\r\n   return repository.findAll();\r\n}\r\n```\r\n\r\nNow you can call the data in your combobox element\r\n\r\n```\r\n&lt;vaadin-combo-box .items=${this.roles} label=&quot;Rol&quot; id=&quot;rol&quot;  ${field(this.binder.model.rol)} item-label-path=&quot;name&quot; item-value-path=&quot;id&quot;&gt;&lt;/vaadin-combo-box&gt;\r\n```\r\n\r\nI hope this can be helpful.","title":"How to load a combobox with vaadin fusion","body":"<p>My Solution was:</p>\n<p>added tis lines to my typescrypt class</p>\n<pre><code>@state()\nprivate roles: Rol[] = [];\n</code></pre>\n<p><code>@state</code> from <code>'lit/decorators.js'</code></p>\n<p>then in the <code>connectedCallback</code> function added this line</p>\n<pre><code>this.roles = await RolesEndpoint.listAll();\n</code></pre>\n<p><code>listAll()</code> is a method that I created on my endpint class.</p>\n<p>like this:</p>\n<pre><code>@Nonnull\npublic List&lt;@Nonnull Rol&gt; listAll() {\n   return service.listAll();\n}\n</code></pre>\n<p>and in my service class</p>\n<pre><code>public List&lt;Rol&gt; listAll() {\n   return repository.findAll();\n}\n</code></pre>\n<p>Now you can call the data in your combobox element</p>\n<pre><code>&lt;vaadin-combo-box .items=${this.roles} label=&quot;Rol&quot; id=&quot;rol&quot;  ${field(this.binder.model.rol)} item-label-path=&quot;name&quot; item-value-path=&quot;id&quot;&gt;&lt;/vaadin-combo-box&gt;\n</code></pre>\n<p>I hope this can be helpful.</p>\n"}],"owner":{"account_id":12788787,"reputation":61,"user_id":9314716,"display_name":"yeferson cordoba"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70526931,"answer_count":1,"score":0,"last_activity_date":1640831925,"creation_date":1640441439,"question_id":70480567,"body_markdown":"Hi I&#39;m using the vaadin starter in order to learn more about vaadin.\r\n\r\nI just started a new project (Java+Typescript) \r\n\r\nI am having issues to solve an issue.\r\n\r\nI have a ```Users``` and ```Rol``` Entity, being ```Rol``` an attribute of ```User```, the thing is when I am setting the views created with vaading start I am trying to set up a combo box to load Roles to be used to create a new user but nothing work so far.\r\n\r\nIn the tutorial in vaading web page they solve this in a way that is way different to the arch and files created by the vaadin start so I thought that maybe would be another way to do it.\r\n\r\nMy entities\r\n\r\nUser\r\n\r\n```\r\npackage com.example.application.data.entity;\r\n\r\nimport com.vaadin.fusion.Nonnull;\r\nimport com.example.application.data.AbstractEntity;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.ManyToOne;\r\n\r\n\r\n\r\n@Entity\r\npublic class Users extends AbstractEntity {\r\n\r\n\r\n    @ManyToOne\r\n    @Nonnull\r\n    private Rol rol;\r\n\r\n    \r\n    public Rol getRol() {\r\n        return rol;\r\n    }\r\n    public void setRol(Rol rol) {\r\n        this.rol = rol;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nRol\r\n\r\n```\r\npackage com.example.application.data.entity;\r\n\r\nimport com.vaadin.fusion.Nonnull;\r\nimport com.example.application.data.AbstractEntity;\r\nimport javax.persistence.Entity;\r\n\r\n\r\n@Entity\r\npublic class Rol extends AbstractEntity{\r\n    \r\n    @Nonnull\r\n    private String name;\r\n\r\n    @Nonnull\r\n    private String description;\r\n\r\n    \r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\nWhat should I do to load this with all roles in order to select one in my ```users-view.ts```\r\n\r\n```&lt;vaadin-combo-box label=&quot;Rol&quot; id=&quot;rol&quot; ${field(this.binder.model.rol)} item-label-path=&quot;name&quot;&gt;&lt;/vaadin-combo-box&gt;```\r\n\r\nRight now I&#39;getting this\r\n\r\n[How the combobox shows][1]\r\n\r\nThanks in advance guys.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rueen.png","title":"How to load a combobox with vaadin fusion","body":"<p>Hi I'm using the vaadin starter in order to learn more about vaadin.</p>\n<p>I just started a new project (Java+Typescript)</p>\n<p>I am having issues to solve an issue.</p>\n<p>I have a <code>Users</code> and <code>Rol</code> Entity, being <code>Rol</code> an attribute of <code>User</code>, the thing is when I am setting the views created with vaading start I am trying to set up a combo box to load Roles to be used to create a new user but nothing work so far.</p>\n<p>In the tutorial in vaading web page they solve this in a way that is way different to the arch and files created by the vaadin start so I thought that maybe would be another way to do it.</p>\n<p>My entities</p>\n<p>User</p>\n<pre><code>package com.example.application.data.entity;\n\nimport com.vaadin.fusion.Nonnull;\nimport com.example.application.data.AbstractEntity;\n\nimport javax.persistence.Entity;\nimport javax.persistence.ManyToOne;\n\n\n\n@Entity\npublic class Users extends AbstractEntity {\n\n\n    @ManyToOne\n    @Nonnull\n    private Rol rol;\n\n    \n    public Rol getRol() {\n        return rol;\n    }\n    public void setRol(Rol rol) {\n        this.rol = rol;\n    }\n\n}\n\n</code></pre>\n<p>Rol</p>\n<pre><code>package com.example.application.data.entity;\n\nimport com.vaadin.fusion.Nonnull;\nimport com.example.application.data.AbstractEntity;\nimport javax.persistence.Entity;\n\n\n@Entity\npublic class Rol extends AbstractEntity{\n    \n    @Nonnull\n    private String name;\n\n    @Nonnull\n    private String description;\n\n    \n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n}\n\n\n</code></pre>\n<p>What should I do to load this with all roles in order to select one in my <code>users-view.ts</code></p>\n<p><code>&lt;vaadin-combo-box label=&quot;Rol&quot; id=&quot;rol&quot; ${field(this.binder.model.rol)} item-label-path=&quot;name&quot;&gt;&lt;/vaadin-combo-box&gt;</code></p>\n<p>Right now I'getting this</p>\n<p><a href=\"https://i.stack.imgur.com/rueen.png\" rel=\"nofollow noreferrer\">How the combobox shows</a></p>\n<p>Thanks in advance guys.</p>\n"},{"tags":["java","arrays","algorithm"],"comments":[{"owner":{"account_id":108628,"reputation":4811,"user_id":288222,"display_name":"lijie"},"score":0,"creation_date":1291045419,"post_id":4305205,"comment_id":4674270,"body_markdown":"what do you mean by &quot;the path&quot;? aren&#39;t there multiple paths between 2 points? or are you talking about a particular piece moving from src to dest within 1 move?","body":"what do you mean by &quot;the path&quot;? aren&#39;t there multiple paths between 2 points? or are you talking about a particular piece moving from src to dest within 1 move?"},{"owner":{"account_id":151953,"reputation":11207,"user_id":366133,"accept_rate":98,"display_name":"Matt"},"score":0,"creation_date":1291045676,"post_id":4305205,"comment_id":4674317,"body_markdown":"@lijie Yeah, I&#39;m talking about moving a particular piece from src to dst in one move","body":"@lijie Yeah, I&#39;m talking about moving a particular piece from src to dst in one move"}],"answers":[{"tags":[],"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1291045028,"creation_date":1291045028,"answer_id":4305258,"question_id":4305205,"body_markdown":"Did you consider to represent your chess board as a [graph][1]? You can then simply traverse the graph from point A to point B and see if there are any &#39;nodes&#39; in your way.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Graph_%28data_structure%29","title":"How to determine if a path is free of obstacles in chess?","body":"<p>Did you consider to represent your chess board as a <a href=\"http://en.wikipedia.org/wiki/Graph_%28data_structure%29\" rel=\"nofollow\">graph</a>? You can then simply traverse the graph from point A to point B and see if there are any 'nodes' in your way.</p>\n"},{"tags":[],"owner":{"account_id":91630,"reputation":2910,"user_id":251490,"accept_rate":100,"display_name":"Brandon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1291045126,"creation_date":1291045126,"answer_id":4305280,"question_id":4305205,"body_markdown":"Instead of calculating it every time you want to know, it might be easier to keep track of all the possibilities for each piece at all times.","title":"How to determine if a path is free of obstacles in chess?","body":"<p>Instead of calculating it every time you want to know, it might be easier to keep track of all the possibilities for each piece at all times.</p>\n"},{"tags":[],"owner":{"account_id":211182,"reputation":23,"user_id":2600865,"display_name":"Francois Gagnon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1291045546,"creation_date":1291045546,"answer_id":4305339,"question_id":4305205,"body_markdown":"I&#39;d take a look at A*, it&#39;s one of the most popular pathing algo:\r\n&lt;http://en.wikipedia.org/wiki/A*_search_algorithm&gt;\r\n\r\nIt might be more code than you would want to type, but it&#39;s really usefull knowledge you might be able to use elsewhere","title":"How to determine if a path is free of obstacles in chess?","body":"<p>I'd take a look at A*, it's one of the most popular pathing algo:\nhttp://en.wikipedia.org/wiki/A*_search_algorithm</p>\n\n<p>It might be more code than you would want to type, but it's really usefull knowledge you might be able to use elsewhere</p>\n"},{"tags":[],"owner":{"account_id":107775,"reputation":9990,"user_id":286406,"accept_rate":100,"display_name":"Daniel Lidstr&#246;m"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1291045640,"creation_date":1291045640,"answer_id":4305354,"question_id":4305205,"body_markdown":"It all depends on which kind of board representation you choose. The one you have choses is simple to start with but you run into issues of performance very quickly. So yes, you will need to write some tedious amounts of code. It could help you to generate this code instead of writing it out by hand. On the other hand, you might be interested in other representations. For example, bitboards are the state of the art and will (correctly implemented) give tremendous speed-ups. Note that the amount of code might still be massive, and certainly a lot more complex. Here&#39;s an introduction by Robert Hyatt (author of Crafty) that you might find interesting: [boardrep][1].\r\n\r\nGood luck!\r\n\r\n\r\n  [1]: http://www.cis.uab.edu/hyatt/boardrep.html","title":"How to determine if a path is free of obstacles in chess?","body":"<p>It all depends on which kind of board representation you choose. The one you have choses is simple to start with but you run into issues of performance very quickly. So yes, you will need to write some tedious amounts of code. It could help you to generate this code instead of writing it out by hand. On the other hand, you might be interested in other representations. For example, bitboards are the state of the art and will (correctly implemented) give tremendous speed-ups. Note that the amount of code might still be massive, and certainly a lot more complex. Here's an introduction by Robert Hyatt (author of Crafty) that you might find interesting: <a href=\"http://www.cis.uab.edu/hyatt/boardrep.html\" rel=\"nofollow\">boardrep</a>.</p>\n\n<p>Good luck!</p>\n"},{"tags":[],"owner":{"account_id":75238,"reputation":11220,"user_id":215887,"accept_rate":96,"display_name":"brian_d"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1291045772,"creation_date":1291045772,"answer_id":4305381,"question_id":4305205,"body_markdown":"Two conditions need to be met:  \r\n\r\n 1. `dst`  can not be occupied by a\r\n    piece of the same color \r\n 3. All other (non knight) moves are\r\n    either diagonal, horizontal or\r\n    vertical. So just check that adjacent row,\r\n    column or diagonal entries of your\r\n    array have no existing pieces between `src` and `dst`","title":"How to determine if a path is free of obstacles in chess?","body":"<p>Two conditions need to be met:  </p>\n\n<ol>\n<li><code>dst</code>  can not be occupied by a\npiece of the same color </li>\n<li>All other (non knight) moves are\neither diagonal, horizontal or\nvertical. So just check that adjacent row,\ncolumn or diagonal entries of your\narray have no existing pieces between <code>src</code> and <code>dst</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10258,"reputation":26460,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1640830831,"creation_date":1291045925,"answer_id":4305409,"question_id":4305205,"body_markdown":"Your comment about &quot;massive amounts of tedious code&quot; is a huge exaggeration. No path on a chessboard is more than eight squares, and all of them can be followed by a simple algorithm - incrementing or decrementing the row and/or column counter. (Except for the knight, which can only move to eight squares and can&#39;t be blocked.) I doubt that the code for any piece takes longer than twenty lines.\r\n\r\nFor example here is the code for a bishop:\r\n\r\n  \r\n\r\n    // check move legality not taking into account blocking\r\n      boolean canMoveBishopTo(int srcx,int srcY,int destX,int destY) {\r\n          if (srcX&lt;0 || srcX&gt;7 ||srcY&lt;0 || srcY&gt;7 || destX&lt;0 || destX&gt;7 ||destY&lt;0 || destY&gt;7) {\r\n            throw new IllegalArgumentException();\r\n          }\r\n          if ((srcX==destX || srcY==destY) {\r\n            return false;\r\n          }\r\n    \r\n          if (Math.abs(destX-srcX) == Math.abs(srcY-destY) {\r\n            return true;\r\n          }\r\n          return false;\r\n        }\r\n\r\n    boolean isBishopMoveBlocked(int srcX,int srcY,int destX,int destY) {\r\n      // assume we have already done the tests above\r\n      int dirX = destX &gt; srcX ? 1 : -1;\r\n      int dirY = destY &gt; srcY ? 1 : -1;\r\n      for (int i=1; i &lt; Math.abs(destX - srcX) - 1; ++i) {\r\n        if (pieceOnSquare(srcX + i*dirX, srcY + i*dirY) {\r\n          return false;\r\n        }\r\n      }\r\n      return true;\r\n    }\r\n      ","title":"How to determine if a path is free of obstacles in chess?","body":"<p>Your comment about &quot;massive amounts of tedious code&quot; is a huge exaggeration. No path on a chessboard is more than eight squares, and all of them can be followed by a simple algorithm - incrementing or decrementing the row and/or column counter. (Except for the knight, which can only move to eight squares and can't be blocked.) I doubt that the code for any piece takes longer than twenty lines.</p>\n<p>For example here is the code for a bishop:</p>\n<pre><code>// check move legality not taking into account blocking\n  boolean canMoveBishopTo(int srcx,int srcY,int destX,int destY) {\n      if (srcX&lt;0 || srcX&gt;7 ||srcY&lt;0 || srcY&gt;7 || destX&lt;0 || destX&gt;7 ||destY&lt;0 || destY&gt;7) {\n        throw new IllegalArgumentException();\n      }\n      if ((srcX==destX || srcY==destY) {\n        return false;\n      }\n\n      if (Math.abs(destX-srcX) == Math.abs(srcY-destY) {\n        return true;\n      }\n      return false;\n    }\n\nboolean isBishopMoveBlocked(int srcX,int srcY,int destX,int destY) {\n  // assume we have already done the tests above\n  int dirX = destX &gt; srcX ? 1 : -1;\n  int dirY = destY &gt; srcY ? 1 : -1;\n  for (int i=1; i &lt; Math.abs(destX - srcX) - 1; ++i) {\n    if (pieceOnSquare(srcX + i*dirX, srcY + i*dirY) {\n      return false;\n    }\n  }\n  return true;\n}\n  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":108628,"reputation":4811,"user_id":288222,"display_name":"lijie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1291046031,"creation_date":1291046031,"answer_id":4305430,"question_id":4305205,"body_markdown":"Since chess pieces all move in straight lines without jumping (except for the Knight), it should be sufficient to write a function to check if the (straight) line from src to dst passes through a piece, and use that for every piece except the knight (which will always be able to get to the destination).\r\n\r\nOf course, for all pieces, the destination square should be empty.\r\n\r\nAnd to get to the destination should actually be a legal move - that shouldn&#39;t be too hard to check either, if necessary.\r\n\r\nThe main function would just get the direction used (via `dst-src` interpreted as a ratio-like thing and reduced to simplest terms) and loopily check whether a piece is in the way.\r\n","title":"How to determine if a path is free of obstacles in chess?","body":"<p>Since chess pieces all move in straight lines without jumping (except for the Knight), it should be sufficient to write a function to check if the (straight) line from src to dst passes through a piece, and use that for every piece except the knight (which will always be able to get to the destination).</p>\n\n<p>Of course, for all pieces, the destination square should be empty.</p>\n\n<p>And to get to the destination should actually be a legal move - that shouldn't be too hard to check either, if necessary.</p>\n\n<p>The main function would just get the direction used (via <code>dst-src</code> interpreted as a ratio-like thing and reduced to simplest terms) and loopily check whether a piece is in the way.</p>\n"},{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1291046490,"creation_date":1291046102,"answer_id":4305445,"question_id":4305205,"body_markdown":"We have a start and a destination point and know, that we only have to look at horizontal, vertical or diagonal lines.\r\n\r\nFirst, calculate a *direction vector*. This is a 2D point with values like\r\n\r\n    Point north = new Point(0,1);\r\n    Point northEast = new Point(1,1);\r\n    Point east = new Point(1,1);\r\n    // ...\r\n    Point northWest = new Point(-1,1);\r\n\r\nThis is pretty easy:\r\n\r\n    Point start = getStart();\r\n    Point dest = getDest();\r\n    Point direction = new Point(Math.signum(dest.x-start.x), \r\n                                Math.signum(dest.y-start.y));\r\n\r\n(Example: start = (2,2), destination = (7,7) -&gt; (signum(7-2), signum(7-2)) = (1,1))\r\n\r\nNow just increment boardpositions by the direction point until you reach destination and check for each 2D point, if the place contains a piece.\r\n\r\nHere&#39;s a quick draft (take it as pseudo code if it doesn&#39;t compile ;) )\r\n\r\n    Point start = getStart();\r\n    Point dest = getDest();\r\n    if (start.equals(dest)) return false; // nothing in between by definition\r\n\r\n    Point direction = new Point(Math.signum(dest.x-start.x), \r\n                                Math.signum(dest.y-start.y));\r\n    Point current = new Point(start.x+direction.x, start.y+direction.y);\r\n    while(!current.equals(dest)) {\r\n      if (isOccupied(board[current.x][current.y])) // test to be implemented\r\n         return true; // something in between\r\n      current.x = current.x + direction.x;\r\n      current.y = current.y + direction.y;      \r\n    }\r\n    return false; // nothing in between","title":"How to determine if a path is free of obstacles in chess?","body":"<p>We have a start and a destination point and know, that we only have to look at horizontal, vertical or diagonal lines.</p>\n\n<p>First, calculate a <em>direction vector</em>. This is a 2D point with values like</p>\n\n<pre><code>Point north = new Point(0,1);\nPoint northEast = new Point(1,1);\nPoint east = new Point(1,1);\n// ...\nPoint northWest = new Point(-1,1);\n</code></pre>\n\n<p>This is pretty easy:</p>\n\n<pre><code>Point start = getStart();\nPoint dest = getDest();\nPoint direction = new Point(Math.signum(dest.x-start.x), \n                            Math.signum(dest.y-start.y));\n</code></pre>\n\n<p>(Example: start = (2,2), destination = (7,7) -> (signum(7-2), signum(7-2)) = (1,1))</p>\n\n<p>Now just increment boardpositions by the direction point until you reach destination and check for each 2D point, if the place contains a piece.</p>\n\n<p>Here's a quick draft (take it as pseudo code if it doesn't compile ;) )</p>\n\n<pre><code>Point start = getStart();\nPoint dest = getDest();\nif (start.equals(dest)) return false; // nothing in between by definition\n\nPoint direction = new Point(Math.signum(dest.x-start.x), \n                            Math.signum(dest.y-start.y));\nPoint current = new Point(start.x+direction.x, start.y+direction.y);\nwhile(!current.equals(dest)) {\n  if (isOccupied(board[current.x][current.y])) // test to be implemented\n     return true; // something in between\n  current.x = current.x + direction.x;\n  current.y = current.y + direction.y;      \n}\nreturn false; // nothing in between\n</code></pre>\n"},{"tags":[],"owner":{"account_id":91426,"reputation":13655,"user_id":251020,"display_name":"Sparky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1291046253,"creation_date":1291046253,"answer_id":4305477,"question_id":4305205,"body_markdown":"Let the 2D array represent the board, empty spaces, pieces and all.\r\n\r\nThere are 8 directions you need to check.\r\n\r\n 1. Up and to the right.\r\n 2. Up.\r\n 3. Up and to the left.\r\n 4. Left.\r\n 5. Down and to the left.\r\n 6. Down.\r\n 7. Down and to the right.\r\n 8. Right.\r\n\r\nNow you just need to know how to increment/decrement your indices and test the positions for emptiness.\r\n\r\nHopefully I have not given too much away.","title":"How to determine if a path is free of obstacles in chess?","body":"<p>Let the 2D array represent the board, empty spaces, pieces and all.</p>\n\n<p>There are 8 directions you need to check.</p>\n\n<ol>\n<li>Up and to the right.</li>\n<li>Up.</li>\n<li>Up and to the left.</li>\n<li>Left.</li>\n<li>Down and to the left.</li>\n<li>Down.</li>\n<li>Down and to the right.</li>\n<li>Right.</li>\n</ol>\n\n<p>Now you just need to know how to increment/decrement your indices and test the positions for emptiness.</p>\n\n<p>Hopefully I have not given too much away.</p>\n"},{"tags":[],"owner":{"account_id":35980,"reputation":67502,"user_id":102302,"accept_rate":80,"display_name":"tom10"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1291056583,"creation_date":1291056254,"answer_id":4306920,"question_id":4305205,"body_markdown":"This problem yields nicely to an array solution (which is probably why it was assigned as an array exercise).  It seems that what you&#39;re missing is that each of the multiple directions can be done using the sign of the step, so in the code you don&#39;t need to treat each direction explicitly.  In pseudocode:\r\n\r\n    steps_bishop = [[1,1], [1,-1], [-1, 1], [-1,-1]] # an array of each possible step direction (which are also arrays)\r\n    steps_rook = [[1,0], [-1,0], [0, 1], [0,-1]]\r\n\r\n    # everything else is agnostic to step direction:\r\n    current_position = get_current_position()\r\n    steps = steps_bishop  # step like a bishop, for example\r\n    \r\n    for step_direction in steps:\r\n        while still_on_board(current_position) and no_collision(current_position):\r\n            current_position += step_direction\r\n        \r\n","title":"How to determine if a path is free of obstacles in chess?","body":"<p>This problem yields nicely to an array solution (which is probably why it was assigned as an array exercise).  It seems that what you're missing is that each of the multiple directions can be done using the sign of the step, so in the code you don't need to treat each direction explicitly.  In pseudocode:</p>\n\n<pre><code>steps_bishop = [[1,1], [1,-1], [-1, 1], [-1,-1]] # an array of each possible step direction (which are also arrays)\nsteps_rook = [[1,0], [-1,0], [0, 1], [0,-1]]\n\n# everything else is agnostic to step direction:\ncurrent_position = get_current_position()\nsteps = steps_bishop  # step like a bishop, for example\n\nfor step_direction in steps:\n    while still_on_board(current_position) and no_collision(current_position):\n        current_position += step_direction\n</code></pre>\n"}],"owner":{"account_id":151953,"reputation":11207,"user_id":366133,"accept_rate":98,"display_name":"Matt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6709,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":4305409,"answer_count":10,"score":2,"last_activity_date":1640830831,"creation_date":1291044775,"question_id":4305205,"body_markdown":"I have a 2D array containing all the Piece objects, each an instance of Rook, Bishop, King etc...\r\n\r\nHow can I find out if the path from srcX,srcY to dstX,dstY is obstructed by another piece?\r\n\r\nThe only things I can think of would involve massive amounts of tedious code =/","title":"How to determine if a path is free of obstacles in chess?","body":"<p>I have a 2D array containing all the Piece objects, each an instance of Rook, Bishop, King etc...</p>\n\n<p>How can I find out if the path from srcX,srcY to dstX,dstY is obstructed by another piece?</p>\n\n<p>The only things I can think of would involve massive amounts of tedious code =/</p>\n"},{"tags":["java","html","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1640800842,"post_id":70522434,"comment_id":124663436,"body_markdown":"sorry, cannot (only partially) reproduce: ensure: line 243, col 18 points to `*{name}` (first or second??),  `spring.thymeleaf.cache=false` and watch out with: devtools+lombok+(ide behavior) (this is how i could partially reproduce the issue (excatly in this place): by messing up getters/setters of name, disregarding template cache, hot reloading)","body":"sorry, cannot (only partially) reproduce: ensure: line 243, col 18 points to <code>*{name}</code> (first or second??),  <code>spring.thymeleaf.cache=false</code> and watch out with: devtools+lombok+(ide behavior) (this is how i could partially reproduce the issue (excatly in this place): by messing up getters/setters of name, disregarding template cache, hot reloading)"}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640830738,"creation_date":1640828943,"answer_id":70526692,"question_id":70522434,"body_markdown":"With [simple spring-boot-starter(web,thymeleaf,lombok)][1], this simple app:\r\n```lang-java\r\n@Controller\r\n@SpringBootApplication\r\npublic class ThymeleafTestApplication {\r\n\r\n  public static void main(String[] args) {\r\n    SpringApplication.run(ThymeleafTestApplication.class, args);\r\n  }\r\n\r\n  @GetMapping\r\n  public String test() {\r\n    return &quot;test&quot;;\r\n  }\r\n\r\n  @ModelAttribute(&quot;newDesignation&quot;)\r\n  public MyDto newDesignation() {\r\n    return new MyDto(&quot;foo&quot;);\r\n  }\r\n\r\n  @ModelAttribute(&quot;designationToUpdate&quot;)\r\n  public MyDto designationToUpdate() {\r\n    return new MyDto(&quot;bar&quot;);\r\n  }\r\n\r\n}\r\n\r\n@Data\r\n@AllArgsConstructor\r\nclass MyDto {\r\n  String name;\r\n}\r\n```\r\nand a simplified html:\r\n```lang-html\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:th=&quot;https://www.thymeleaf.org&quot; lang=&quot;en&quot;&gt;\r\n  &lt;head&gt;\r\n    &lt;title&gt;Test same input name&lt;/title&gt;\r\n  &lt;/head&gt;\r\n  &lt;body&gt;\r\n    &lt;h2&gt;Test same input name&lt;/h2&gt;\r\n    &lt;form th:action=&quot;@{/foo}&quot; th:object=&quot;${newDesignation}&quot; th:method=&quot;post&quot;&gt;\r\n      &lt;div&gt;\r\n        &lt;label&gt;Designation Name &lt;span&gt;*&lt;/span&gt;&lt;/label&gt;\r\n        &lt;!-- recommended to use an alternative/identifiyng th:id here:--&gt;\r\n        &lt;input th:field=&quot;*{name}&quot; type=&quot;text&quot; /&gt;\r\n      &lt;/div&gt;\r\n      &lt;div&gt;\r\n        &lt;button&gt;Submit&lt;/button&gt;\r\n      &lt;/div&gt;\r\n    &lt;/form&gt;\r\n    &lt;form th:action=&quot;@{/bar}&quot; th:object=&quot;${designationToUpdate}&quot; th:method=&quot;post&quot;&gt;\r\n      &lt;div&gt;\r\n        &lt;label&gt;Designation Name &lt;span&gt;*&lt;/span&gt;&lt;/label&gt;\r\n        &lt;!-- ... and here: --&gt;\r\n        &lt;input th:field=&quot;*{name}&quot; type=&quot;text&quot; /&gt;\r\n      &lt;/div&gt;\r\n      &lt;div&gt;\r\n        &lt;button&gt;Save&lt;/button&gt;\r\n      &lt;/div&gt;\r\n    &lt;/form&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nThymeleaf makes no problems:\r\n\r\n[![Thymeleaf makes no problems screenshot][2]][2]\r\n\r\nSo (for me) it is proven, that thymeleaf makes &quot;no conflicts&quot; *rendering* two `&lt;input/&gt;` fields with identical names in different or even same (-&gt;list attribute) `&lt;form/&gt;`. \r\n\r\nThe duplicate `id` on the other hand **is not nice/html conform**! (...not for thymeleaf, but for client side usage.) Please resolve it, e.g. like:\r\n\r\n```lnag-html\r\n  &lt;input th:id=&quot;newName&quot; ...\r\n  &lt;!-- ... and --&gt;\r\n  &lt;input th:id=&quot;updateName&quot; ...\r\n```\r\n\r\nWith devtools, please ensure:\r\n\r\n```lang-properties\r\nspring.thymeleaf.cache=false\r\n```\r\nfor development environment (ONLY!;), this will increase the reliability of observations.\r\n\r\n...and please follow the stack trace to the end! (I find them quite speaking in opposite to other templating frameworks:).\r\n\r\nWe can quickly reproduce some similar error message by (artificially introducing a typo):\r\n\r\n```lang-java\r\n@Data\r\n@AllArgsConstructor\r\nclass MyDto {\r\n  String namy; //!\r\n}\r\n```\r\n\r\n-&gt; rebuild, reload -&gt;\r\n\r\n```lang-bash\r\n2021-12-30 02:32:53.104 ERROR 20564 --- [nio-8080-exec-1] org.thymeleaf.TemplateEngine:\r\n  [THYMELEAF][http-nio-8080-exec-1] Exception processing template &quot;test&quot;:\r\n    An error happened during template parsing (template: &quot;class path resource [templates/test.html]&quot;)\r\n#... like 1000 lines of stacktrace, referring to (first occurence of) *{name}, but then:\r\nCaused by: \r\n  org.springframework.beans.NotReadablePropertyException: \r\n    Invalid property &#39;name&#39; of bean class [com.example.thymeleaf.test.MyDto]:\r\n      Bean property &#39;name&#39; is not readable or has an invalid getter method:\r\n        Does the return type of the getter match the parameter type of the setter?\r\n#... few (hundred) more\r\n```\r\n\r\n\r\n  [1]: https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=2.6.2&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=web,thymeleaf,lombok\r\n  [2]: https://i.stack.imgur.com/mOk5k.png","title":"ThymeLeaf SpringInputGeneralFieldTagProcessor&#39; two th:fileds confilicting","body":"<p>With <a href=\"https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=2.6.2&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=web,thymeleaf,lombok\" rel=\"nofollow noreferrer\">simple spring-boot-starter(web,thymeleaf,lombok)</a>, this simple app:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\n@SpringBootApplication\npublic class ThymeleafTestApplication {\n\n  public static void main(String[] args) {\n    SpringApplication.run(ThymeleafTestApplication.class, args);\n  }\n\n  @GetMapping\n  public String test() {\n    return &quot;test&quot;;\n  }\n\n  @ModelAttribute(&quot;newDesignation&quot;)\n  public MyDto newDesignation() {\n    return new MyDto(&quot;foo&quot;);\n  }\n\n  @ModelAttribute(&quot;designationToUpdate&quot;)\n  public MyDto designationToUpdate() {\n    return new MyDto(&quot;bar&quot;);\n  }\n\n}\n\n@Data\n@AllArgsConstructor\nclass MyDto {\n  String name;\n}\n</code></pre>\n<p>and a simplified html:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:th=&quot;https://www.thymeleaf.org&quot; lang=&quot;en&quot;&gt;\n  &lt;head&gt;\n    &lt;title&gt;Test same input name&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;h2&gt;Test same input name&lt;/h2&gt;\n    &lt;form th:action=&quot;@{/foo}&quot; th:object=&quot;${newDesignation}&quot; th:method=&quot;post&quot;&gt;\n      &lt;div&gt;\n        &lt;label&gt;Designation Name &lt;span&gt;*&lt;/span&gt;&lt;/label&gt;\n        &lt;!-- recommended to use an alternative/identifiyng th:id here:--&gt;\n        &lt;input th:field=&quot;*{name}&quot; type=&quot;text&quot; /&gt;\n      &lt;/div&gt;\n      &lt;div&gt;\n        &lt;button&gt;Submit&lt;/button&gt;\n      &lt;/div&gt;\n    &lt;/form&gt;\n    &lt;form th:action=&quot;@{/bar}&quot; th:object=&quot;${designationToUpdate}&quot; th:method=&quot;post&quot;&gt;\n      &lt;div&gt;\n        &lt;label&gt;Designation Name &lt;span&gt;*&lt;/span&gt;&lt;/label&gt;\n        &lt;!-- ... and here: --&gt;\n        &lt;input th:field=&quot;*{name}&quot; type=&quot;text&quot; /&gt;\n      &lt;/div&gt;\n      &lt;div&gt;\n        &lt;button&gt;Save&lt;/button&gt;\n      &lt;/div&gt;\n    &lt;/form&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Thymeleaf makes no problems:</p>\n<p><a href=\"https://i.stack.imgur.com/mOk5k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mOk5k.png\" alt=\"Thymeleaf makes no problems screenshot\" /></a></p>\n<p>So (for me) it is proven, that thymeleaf makes &quot;no conflicts&quot; <em>rendering</em> two <code>&lt;input/&gt;</code> fields with identical names in different or even same (-&gt;list attribute) <code>&lt;form/&gt;</code>.</p>\n<p>The duplicate <code>id</code> on the other hand <strong>is not nice/html conform</strong>! (...not for thymeleaf, but for client side usage.) Please resolve it, e.g. like:</p>\n<pre><code>  &lt;input th:id=&quot;newName&quot; ...\n  &lt;!-- ... and --&gt;\n  &lt;input th:id=&quot;updateName&quot; ...\n</code></pre>\n<p>With devtools, please ensure:</p>\n<pre class=\"lang-properties prettyprint-override\"><code>spring.thymeleaf.cache=false\n</code></pre>\n<p>for development environment (ONLY!;), this will increase the reliability of observations.</p>\n<p>...and please follow the stack trace to the end! (I find them quite speaking in opposite to other templating frameworks:).</p>\n<p>We can quickly reproduce some similar error message by (artificially introducing a typo):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@AllArgsConstructor\nclass MyDto {\n  String namy; //!\n}\n</code></pre>\n<p>-&gt; rebuild, reload -&gt;</p>\n<pre class=\"lang-bash prettyprint-override\"><code>2021-12-30 02:32:53.104 ERROR 20564 --- [nio-8080-exec-1] org.thymeleaf.TemplateEngine:\n  [THYMELEAF][http-nio-8080-exec-1] Exception processing template &quot;test&quot;:\n    An error happened during template parsing (template: &quot;class path resource [templates/test.html]&quot;)\n#... like 1000 lines of stacktrace, referring to (first occurence of) *{name}, but then:\nCaused by: \n  org.springframework.beans.NotReadablePropertyException: \n    Invalid property 'name' of bean class [com.example.thymeleaf.test.MyDto]:\n      Bean property 'name' is not readable or has an invalid getter method:\n        Does the return type of the getter match the parameter type of the setter?\n#... few (hundred) more\n</code></pre>\n"}],"owner":{"account_id":23759020,"reputation":59,"user_id":17774714,"display_name":"mikebrucks"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":472,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70526692,"answer_count":1,"score":2,"last_activity_date":1640830738,"creation_date":1640796402,"question_id":70522434,"body_markdown":"\r\nWhen I use create action is make me a problem for update action th:value=*{name} How to set th:field values to not conflict each other.\r\n\r\n**Here is the error:**\r\n&gt; There was an unexpected error (type=Internal Server Error, status=500).\r\nError during execution of processor &#39;org.thymeleaf.spring5.processor.SpringInputGeneralFieldTagProcessor&#39; (template: &quot;designations&quot; - line 243, col 18)\r\n\r\n**Here is html**\r\n\r\n       &lt;div class=&quot;modal-body&quot;&gt;\r\n    \t&lt;form th:action=&quot;@{/designations/create}&quot; th:object=&quot;${newDesignation}&quot; th:method=&quot;post&quot;&gt;\r\n    \t\t&lt;div class=&quot;form-group&quot;&gt;\r\n    \t\t\t&lt;label&gt;Designation Name &lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&lt;/label&gt;\r\n    \t\t\t&lt;input th:field=&quot;*{name}&quot; class=&quot;form-control&quot; type=&quot;text&quot;&gt;\r\n    \t\t&lt;/div&gt;\r\n    \t\t&lt;div class=&quot;form-group&quot;&gt;\r\n    \t\t\t&lt;label&gt;Department &lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&lt;/label&gt;\r\n    \t\t\t&lt;select th:field=&quot;*{departmentName}&quot; class=&quot;select&quot;&gt;\r\n    \t\t\t\t&lt;option th:each=&quot;i : ${departmentsList}&quot; th:value=&quot;${i.name}&quot; &gt;&lt;/option&gt;\r\n    \t\t\t&lt;/select&gt;\r\n    \t\t&lt;/div&gt;\r\n    \t\t&lt;div class=&quot;submit-section&quot;&gt;\r\n    \t\t\t&lt;button class=&quot;btn btn-primary submit-btn&quot;&gt;Submit&lt;/button&gt;\r\n    \t\t&lt;/div&gt;\r\n    \t&lt;/form&gt;\r\n    &lt;/div&gt;\r\n\r\n        &lt;div class=&quot;modal-body&quot;&gt;\r\n    \t&lt;form th:action=&quot;@{/designations/update/{id}(id=${i.id})}&quot; th:object=&quot;${designationToUpdate}&quot; th:method=&quot;post&quot;&gt;\r\n    \t\t&lt;div class=&quot;form-group&quot;&gt;\r\n    \t\t\t&lt;label&gt;Designation Name &lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&lt;/label&gt;\r\n    \t\t\t&lt;input th:field=&quot;*{name}&quot; class=&quot;form-control&quot;  type=&quot;text&quot;&gt;\r\n    \t\t&lt;/div&gt;\r\n    \t\t&lt;div class=&quot;form-group&quot;&gt;\r\n    \t\t\t&lt;label&gt;Department &lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&lt;/label&gt;\r\n    \t\t\t&lt;select th:field=&quot;*{departmentName}&quot; class=&quot;select&quot;&gt;\r\n    \t\t\t\t&lt;option th:each=&quot;i : ${departmentsList}&quot; th:value=&quot;${i.name}&quot; th:text=&quot;${i.name}&quot;&gt;&lt;/option&gt;\r\n    \t\t\t&lt;/select&gt;\r\n    \t\t&lt;/div&gt;\r\n    \t\t&lt;div class=&quot;submit-section&quot;&gt;\r\n    \t\t\t&lt;button class=&quot;btn btn-primary submit-btn&quot;&gt;Save&lt;/button&gt;\r\n    \t\t&lt;/div&gt;\r\n    \t&lt;/form&gt;\r\n    &lt;/div&gt;\r\n\r\n\r\n","title":"ThymeLeaf SpringInputGeneralFieldTagProcessor&#39; two th:fileds confilicting","body":"<p>When I use create action is make me a problem for update action th:value=*{name} How to set th:field values to not conflict each other.</p>\n<p><strong>Here is the error:</strong></p>\n<blockquote>\n<p>There was an unexpected error (type=Internal Server Error, status=500).\nError during execution of processor 'org.thymeleaf.spring5.processor.SpringInputGeneralFieldTagProcessor' (template: &quot;designations&quot; - line 243, col 18)</p>\n</blockquote>\n<p><strong>Here is html</strong></p>\n<pre><code>   &lt;div class=&quot;modal-body&quot;&gt;\n    &lt;form th:action=&quot;@{/designations/create}&quot; th:object=&quot;${newDesignation}&quot; th:method=&quot;post&quot;&gt;\n        &lt;div class=&quot;form-group&quot;&gt;\n            &lt;label&gt;Designation Name &lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&lt;/label&gt;\n            &lt;input th:field=&quot;*{name}&quot; class=&quot;form-control&quot; type=&quot;text&quot;&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;form-group&quot;&gt;\n            &lt;label&gt;Department &lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&lt;/label&gt;\n            &lt;select th:field=&quot;*{departmentName}&quot; class=&quot;select&quot;&gt;\n                &lt;option th:each=&quot;i : ${departmentsList}&quot; th:value=&quot;${i.name}&quot; &gt;&lt;/option&gt;\n            &lt;/select&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;submit-section&quot;&gt;\n            &lt;button class=&quot;btn btn-primary submit-btn&quot;&gt;Submit&lt;/button&gt;\n        &lt;/div&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n\n    &lt;div class=&quot;modal-body&quot;&gt;\n    &lt;form th:action=&quot;@{/designations/update/{id}(id=${i.id})}&quot; th:object=&quot;${designationToUpdate}&quot; th:method=&quot;post&quot;&gt;\n        &lt;div class=&quot;form-group&quot;&gt;\n            &lt;label&gt;Designation Name &lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&lt;/label&gt;\n            &lt;input th:field=&quot;*{name}&quot; class=&quot;form-control&quot;  type=&quot;text&quot;&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;form-group&quot;&gt;\n            &lt;label&gt;Department &lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&lt;/label&gt;\n            &lt;select th:field=&quot;*{departmentName}&quot; class=&quot;select&quot;&gt;\n                &lt;option th:each=&quot;i : ${departmentsList}&quot; th:value=&quot;${i.name}&quot; th:text=&quot;${i.name}&quot;&gt;&lt;/option&gt;\n            &lt;/select&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;submit-section&quot;&gt;\n            &lt;button class=&quot;btn btn-primary submit-btn&quot;&gt;Save&lt;/button&gt;\n        &lt;/div&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n"},{"tags":["java","aop","aspectj","spring-aop"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1640741930,"post_id":70152133,"comment_id":124648082,"body_markdown":"This question is still listed as unanswered, even though I wrote an answer. Please inspect my answer, then either accept and upvote it or comment on it if you do not understand it. You asked for help, I tried to help. I think this deserves feedback. Thank you.","body":"This question is still listed as unanswered, even though I wrote an answer. Please inspect my answer, then either accept and upvote it or comment on it if you do not understand it. You asked for help, I tried to help. I think this deserves feedback. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638183177,"creation_date":1638183177,"answer_id":70153418,"question_id":70152133,"body_markdown":"In my opinion, the `if` clause is just nonsense. In native AspectJ, it would not even compile according to the [syntax description](https://www.eclipse.org/aspectj/doc/next/adk15notebook/ataspectj-pcadvice.html#d0e3697) in the AspectJ manual.\r\n\r\nI would hope that your IDE and the Spring runtime display errors too.\r\n\r\nDoes the aspect using this pointcut even work at all? If so, does its behaviour change in any way, if you remove the bogus `if` clause?","title":"Strange &#39;if()&#39; expression in AspectJ pointcut","body":"<p>In my opinion, the <code>if</code> clause is just nonsense. In native AspectJ, it would not even compile according to the <a href=\"https://www.eclipse.org/aspectj/doc/next/adk15notebook/ataspectj-pcadvice.html#d0e3697\" rel=\"nofollow noreferrer\">syntax description</a> in the AspectJ manual.</p>\n<p>I would hope that your IDE and the Spring runtime display errors too.</p>\n<p>Does the aspect using this pointcut even work at all? If so, does its behaviour change in any way, if you remove the bogus <code>if</code> clause?</p>\n"}],"owner":{"account_id":23488064,"reputation":1,"user_id":17539392,"display_name":"Osjoal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640830189,"creation_date":1638176935,"question_id":70152133,"body_markdown":"When I read the source code, I saw a piece of code like this. Can someone help me explain what it means?\r\n\r\n```java \r\n@AfterReturning(\r\n      pointcut = &quot;(args(value) &amp;&amp; (call(java.lang.String.new(java.lang.String)) &amp;&amp; if(void java.lang.Object.if_())))&quot;,\r\n      returning = &quot;returnObject&quot;,\r\n      argNames = &quot;value,returnObject&quot;\r\n   )\r\n```","title":"Strange &#39;if()&#39; expression in AspectJ pointcut","body":"<p>When I read the source code, I saw a piece of code like this. Can someone help me explain what it means?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AfterReturning(\n      pointcut = &quot;(args(value) &amp;&amp; (call(java.lang.String.new(java.lang.String)) &amp;&amp; if(void java.lang.Object.if_())))&quot;,\n      returning = &quot;returnObject&quot;,\n      argNames = &quot;value,returnObject&quot;\n   )\n</code></pre>\n"},{"tags":["java","gwt","textarea","richtextbox","text-cursor"],"answers":[{"tags":[],"owner":{"account_id":435192,"reputation":40814,"user_id":821657,"accept_rate":89,"display_name":"Andrei Volgin"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1403423283,"creation_date":1348324055,"answer_id":12544613,"question_id":12542522,"body_markdown":"If you you want to insert something in the RichTextArea at the cursor position, you can do it with the formatter:\r\n\r\n    RichTextArea.Formatter formatter = richText.getFormatter();\r\n    formatter.insertHTML(&quot;My text is inserted at the cursor position&quot;);\r\n\r\nTo find a cursor position using JavaScript, try the solution proposed by Tim Down:\r\n\r\nhttps://stackoverflow.com/questions/4811822/get-a-ranges-start-and-end-offsets-relative-to-its-parent-container/4812022#4812022\r\n","title":"How to get cursor position or location from RichTextArea in GWT?","body":"<p>If you you want to insert something in the RichTextArea at the cursor position, you can do it with the formatter:</p>\n\n<pre><code>RichTextArea.Formatter formatter = richText.getFormatter();\nformatter.insertHTML(\"My text is inserted at the cursor position\");\n</code></pre>\n\n<p>To find a cursor position using JavaScript, try the solution proposed by Tim Down:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/4811822/get-a-ranges-start-and-end-offsets-relative-to-its-parent-container/4812022#4812022\">Get a range&#39;s start and end offset&#39;s relative to its parent container</a></p>\n"},{"tags":[],"owner":{"account_id":2659489,"reputation":31,"user_id":2299500,"display_name":"Tim Hill"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402521203,"creation_date":1402521203,"answer_id":24172667,"question_id":12542522,"body_markdown":"Don&#39;t know if this is still required, but I have been trying to do exactly the same today and could not really find a definitive answer. I did find this non-GWT solution ([https://stackoverflow.com/questions/4767848/get-caret-cursor-position-in-contenteditable-area-containing-html-content/4770562#4770562][1]), which needed tweaking everso slightly. Hope this helps someone.\r\n\r\n    \tpublic static native int getCursor(Element elem) /*-{\r\n\t\tvar node = elem.contentWindow.document.body\r\n\t\tvar range = elem.contentWindow.getSelection().getRangeAt(0);\r\n\r\n\t\tvar treeWalker = $doc.createTreeWalker(node, NodeFilter.SHOW_TEXT, function(node) {\r\n\t\t\tvar nodeRange = $doc.createRange();\r\n\t\t\tnodeRange.selectNodeContents(node);\r\n\t\t\treturn nodeRange.compareBoundaryPoints(Range.END_TO_END, range) &lt; 1 ? NodeFilter.FILTER_ACCEPT\r\n\t\t\t\t\t: NodeFilter.FILTER_REJECT;\r\n\t\t}, false);\r\n\r\n\t\tvar charCount = 0;\r\n\t\twhile (treeWalker.nextNode()) {\r\n\t\t\tcharCount += treeWalker.currentNode.length;\r\n\t\t}\r\n\r\n\t\tif (range.startContainer.nodeType == 3) {\r\n\t\t\tcharCount += range.startOffset;\r\n\t\t}\r\n\r\n\t\treturn charCount;\r\n\t}-*/;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4767848/get-caret-cursor-position-in-contenteditable-area-containing-html-content/4770562#4770562","title":"How to get cursor position or location from RichTextArea in GWT?","body":"<p>Don't know if this is still required, but I have been trying to do exactly the same today and could not really find a definitive answer. I did find this non-GWT solution (<a href=\"https://stackoverflow.com/questions/4767848/get-caret-cursor-position-in-contenteditable-area-containing-html-content/4770562#4770562\">Get caret (cursor) position in contentEditable area containing HTML content</a>), which needed tweaking everso slightly. Hope this helps someone.</p>\n\n<pre><code>    public static native int getCursor(Element elem) /*-{\n    var node = elem.contentWindow.document.body\n    var range = elem.contentWindow.getSelection().getRangeAt(0);\n\n    var treeWalker = $doc.createTreeWalker(node, NodeFilter.SHOW_TEXT, function(node) {\n        var nodeRange = $doc.createRange();\n        nodeRange.selectNodeContents(node);\n        return nodeRange.compareBoundaryPoints(Range.END_TO_END, range) &lt; 1 ? NodeFilter.FILTER_ACCEPT\n                : NodeFilter.FILTER_REJECT;\n    }, false);\n\n    var charCount = 0;\n    while (treeWalker.nextNode()) {\n        charCount += treeWalker.currentNode.length;\n    }\n\n    if (range.startContainer.nodeType == 3) {\n        charCount += range.startOffset;\n    }\n\n    return charCount;\n}-*/;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6693158,"reputation":1560,"user_id":5162026,"accept_rate":79,"display_name":"jsosnowski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1444827351,"creation_date":1444827351,"answer_id":33125925,"question_id":12542522,"body_markdown":"In Vaadin 7.5 @AndreiVolgin answer seems not working. But if somebody wants only to paste some text in cursor position, then **CKEditor wrapper for Vaadin** add-on may help ([link](https://vaadin.com/directory#!addon/ckeditor-wrapper-for-vaadin)).\r\n\r\nHere is an example for posterity:\r\n\r\n    CKEditorTextField textArea;\r\n    // and for example in some listener function we could call:\r\n    textArea.insertHtml(&quot;&lt;b&gt;some html&lt;/b&gt;&quot;);\r\n    textArea.insertText(&quot;sample text&quot;);","title":"How to get cursor position or location from RichTextArea in GWT?","body":"<p>In Vaadin 7.5 @AndreiVolgin answer seems not working. But if somebody wants only to paste some text in cursor position, then <strong>CKEditor wrapper for Vaadin</strong> add-on may help (<a href=\"https://vaadin.com/directory#!addon/ckeditor-wrapper-for-vaadin\" rel=\"nofollow\">link</a>).</p>\n\n<p>Here is an example for posterity:</p>\n\n<pre><code>CKEditorTextField textArea;\n// and for example in some listener function we could call:\ntextArea.insertHtml(\"&lt;b&gt;some html&lt;/b&gt;\");\ntextArea.insertText(\"sample text\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9469446,"reputation":1,"user_id":7040701,"display_name":"essa mosllam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476861369,"creation_date":1476861369,"answer_id":40124630,"question_id":12542522,"body_markdown":"Try this out, worked for me. basically you insert a unique text in the rich text area, then you get the index of the inserted text then you remove it.\r\n\r\n        richText=new RichTextArea();\r\n        basicFormatter=richText.getFormatter();\r\n\t\tbasicFormatter.insertHTML(&quot;dummydata&quot;);\r\n\t\tint cursor=richText.getText().indexOf(&quot;dummydata&quot;);\r\n\t\tbasicFormatter.undo();","title":"How to get cursor position or location from RichTextArea in GWT?","body":"<p>Try this out, worked for me. basically you insert a unique text in the rich text area, then you get the index of the inserted text then you remove it.</p>\n\n<pre><code>    richText=new RichTextArea();\n    basicFormatter=richText.getFormatter();\n    basicFormatter.insertHTML(\"dummydata\");\n    int cursor=richText.getText().indexOf(\"dummydata\");\n    basicFormatter.undo();\n</code></pre>\n"}],"owner":{"account_id":178015,"reputation":1284,"user_id":1168486,"accept_rate":87,"display_name":"milind_db"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5001,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":12544613,"answer_count":4,"score":7,"last_activity_date":1640829832,"creation_date":1348305680,"question_id":12542522,"body_markdown":"I want to get cursor position or the location from RichTextArea.\r\nI do not know how to get current cursor position Without any mouse event.\r\n\r\ne.g. TextArea has method getCursorPos(), but RichTextArea does not have method like TextArea.\r\n\r\nAnyone have any idea?\r\n\r\nThanks in advance...","title":"How to get cursor position or location from RichTextArea in GWT?","body":"<p>I want to get cursor position or the location from RichTextArea.\nI do not know how to get current cursor position Without any mouse event.</p>\n<p>e.g. TextArea has method getCursorPos(), but RichTextArea does not have method like TextArea.</p>\n<p>Anyone have any idea?</p>\n<p>Thanks in advance...</p>\n"},{"tags":["java","macos","java-home"],"comments":[{"owner":{"account_id":6522844,"reputation":2162,"user_id":10919349,"display_name":"Richard K Yu"},"score":0,"creation_date":1640842681,"post_id":70526717,"comment_id":124672281,"body_markdown":"Are you using Bash command line? Also is it possible for you to find and show your .bashrc file?","body":"Are you using Bash command line? Also is it possible for you to find and show your .bashrc file?"},{"owner":{"account_id":1248227,"reputation":279,"user_id":1209226,"accept_rate":64,"display_name":"old_bear"},"score":0,"creation_date":1642145275,"post_id":70526717,"comment_id":124997965,"body_markdown":"Yes, I&#39;m using bash. My bashrc is a little bit large, so I grep `java`  and only get ``export JAVA_HOME=&quot;$(/usr/libexec/java_home)&quot;``. The problem still exists if I remove this line","body":"Yes, I&#39;m using bash. My bashrc is a little bit large, so I grep <code>java</code>  and only get <code>export JAVA_HOME=&quot;$(&#47;usr&#47;libexec&#47;java_home)&quot;</code>. The problem still exists if I remove this line"}],"owner":{"account_id":1248227,"reputation":279,"user_id":1209226,"accept_rate":64,"display_name":"old_bear"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1640829118,"creation_date":1640829118,"question_id":70526717,"body_markdown":"I&#39;ve installed 2 versions (1.8r171 and 1.8r151) of java, and I want to make r151 as default java. However, even if I set the `JAVA_HOME` env, `java -version` works fine, but `java_home` always return the old r171 version. Why? How can I change `\r\n\r\n```\r\n###### two version listed by java_home #######\r\n[^_^ 09:48 /Library/Java/JavaVirtualMachines] /usr/libexec/java_home  -V\r\nMatching Java Virtual Machines (2):\r\n    1.8.0_171, x86_64:\t&quot;Java SE 8&quot;\t/Library/Java/JavaVirtualMachines/jdk1.8.0_171.jdk/Contents/Home\r\n    1.8.0_151, x86_64:\t&quot;Java SE 8&quot;\t/Library/Java/JavaVirtualMachines/jdk1.8.0_151.jdk/Contents/Home\r\n\r\n/Library/Java/JavaVirtualMachines/jdk1.8.0_171.jdk/Contents/Home\r\n\r\n###### export to use r151 ###########\r\n[^_^ 09:48 /Library/Java/JavaVirtualMachines] export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_151.jdk/Contents/Home\r\n\r\n###### works for java -version #######\r\n[^_^ 09:48 /Library/Java/JavaVirtualMachines] java -version\r\njava version &quot;1.8.0_151&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_151-b12)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.151-b12, mixed mode)\r\n\r\n###### BUT java_home still points to r171 !!!!!!!!!!!!!!!!!!!!!!!!! ######\r\n[^_^ 09:49 /Library/Java/JavaVirtualMachines] /usr/libexec/java_home\r\n/Library/Java/JavaVirtualMachines/jdk1.8.0_171.jdk/Contents/Home\r\n```","title":"How to change /usr/libexec/java_home default return path on Mac10.12","body":"<p>I've installed 2 versions (1.8r171 and 1.8r151) of java, and I want to make r151 as default java. However, even if I set the <code>JAVA_HOME</code> env, <code>java -version</code> works fine, but <code>java_home</code> always return the old r171 version. Why? How can I change `</p>\n<pre><code>###### two version listed by java_home #######\n[^_^ 09:48 /Library/Java/JavaVirtualMachines] /usr/libexec/java_home  -V\nMatching Java Virtual Machines (2):\n    1.8.0_171, x86_64:  &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_171.jdk/Contents/Home\n    1.8.0_151, x86_64:  &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_151.jdk/Contents/Home\n\n/Library/Java/JavaVirtualMachines/jdk1.8.0_171.jdk/Contents/Home\n\n###### export to use r151 ###########\n[^_^ 09:48 /Library/Java/JavaVirtualMachines] export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_151.jdk/Contents/Home\n\n###### works for java -version #######\n[^_^ 09:48 /Library/Java/JavaVirtualMachines] java -version\njava version &quot;1.8.0_151&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_151-b12)\nJava HotSpot(TM) 64-Bit Server VM (build 25.151-b12, mixed mode)\n\n###### BUT java_home still points to r171 !!!!!!!!!!!!!!!!!!!!!!!!! ######\n[^_^ 09:49 /Library/Java/JavaVirtualMachines] /usr/libexec/java_home\n/Library/Java/JavaVirtualMachines/jdk1.8.0_171.jdk/Contents/Home\n</code></pre>\n"},{"tags":["java","log4j"],"comments":[{"owner":{"account_id":23715410,"reputation":1,"user_id":17736632,"display_name":"user17736632"},"score":0,"creation_date":1640140190,"post_id":70443575,"comment_id":124523353,"body_markdown":"this one: CVE-2021-4104","body":"this one: CVE-2021-4104"},{"owner":{"account_id":23715410,"reputation":1,"user_id":17736632,"display_name":"user17736632"},"score":0,"creation_date":1640140403,"post_id":70443575,"comment_id":124523382,"body_markdown":"There is also a vulnerability for Version 1.x. CVE-2021-4104","body":"There is also a vulnerability for Version 1.x. CVE-2021-4104"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1640149637,"post_id":70443575,"comment_id":124524581,"body_markdown":"Seems like you are trying to modify a jar in a jar. `zip` can not do it: extract the internal jar, modify it and replace it in the external one.","body":"Seems like you are trying to modify a jar in a jar. <code>zip</code> can not do it: extract the internal jar, modify it and replace it in the external one."},{"owner":{"account_id":23715410,"reputation":1,"user_id":17736632,"display_name":"user17736632"},"score":0,"creation_date":1640156118,"post_id":70443575,"comment_id":124525902,"body_markdown":"thanks, but how to operate these on linux system？I just don&#39;t want to repack server-cliet.jar, log4j-1.2.17.jar is a dependency package of server-client.jar","body":"thanks, but how to operate these on linux system？I just don&#39;t want to repack server-cliet.jar, log4j-1.2.17.jar is a dependency package of server-client.jar"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640828402,"creation_date":1640827787,"answer_id":70526611,"question_id":70443575,"body_markdown":"First you need to understand what you are trying to do.  The command that you are trying to run *appears* to be attempting to remove a class from a JAR file that is embedded in another JAR file.  The outer JAR file appears to be an executable Spring application ... or something like that.  (&quot;BOOT-INF/&quot; is used by the Spring application loader.)  The inner JAR is a log4j 1.x JAR.\r\n\r\nNext, you need to understand how the `zip` and `unzip` commands work on Linux. Read the manual entries: `man 1 zip` and `man 1 unzip`.\r\n\r\nThere are a few potential / actual problems with what you have been doing.\r\n\r\n1. The pathname (&quot;/home/server-cliet.jar&quot;) doesn&#39;t look right to me:\r\n\r\n     - &quot;/home&quot; is an odd place to put files.  On a typical Linux system, &quot;/home&quot; contains a subdirectory for each user.  You don&#39;t put files there.\r\n\r\n     - &quot;server-cliet.jar&quot; looks like a typo.  That isn&#39;t how you spell client.\r\n\r\n2. The Linux version of `zip`&lt;sup&gt;1&lt;/sup&gt; doesn&#39;t understand `::` as refering to JAR / ZIP within a ZIP.  It thinks it is a normal pathname.  Which doesn&#39;t work.  That&#39;s why you got the first &quot;not found or empty&quot; message.\r\n\r\n3. The second command failed because Linux `zip -d` only knows how to delete an entry of a ZIP / JAR.  It doesn&#39;t deal withe JAR-in-a-JAR scenario.  So the command is actually telling `zip` to delete an entry that doesn&#39;t exist.\r\n\r\n4. It is also not clear that `BOOT-INF/lib/log4j-1.2.17.jar` is the correct pathname for the inner JAR.  The minor version number might be different.\r\n\r\n-------------------\r\n\r\nSo ... dealing with this is going to be messy.  What you need to do is&lt;sup&gt;2&lt;/sup&gt;:\r\n\r\n  - Unzip the outer JAR into a temporary directory\r\n  - Find the log4j-1.2.xx JAR in the temp directory\r\n  - Use `zip -d` to delete the class from the log4j-1.2.xx JAR.  Or just replace that entire JAR with a fixed version of log4j-1.2 downloaded from a reliable source.\r\n  - Rezip the (updated) temporary directory\r\n  - Use `unzip -l` on the resulting JAR file to confirm that the paths are correct.\r\n\r\n---------------------\r\n\r\nFinally, note that this is only necessary if your `server-cliet` application is actually configured to use the JMS appender.  According to the CVE, this is not the default behavior, so if your app doesn&#39;t configure it, then this rigmarole may not be strictly necessary.  Though it may be needed to get your corporate IT security team off your back.\r\n\r\n---------------------\r\n\r\n&lt;sup&gt;1 - In fact, I&#39;m not sure of which version of `zip` does support that syntax.  If someone knows, please comment.&lt;br&gt;\r\n2 - I am not going to tell you the exact commands to run. You should be able to work it out from the manual entries and some trial and error.  If you can&#39;t, maybe hire a Linux professional to help you out with this.&lt;/sup&gt;","title":"zip -d log4j-1.X.jar not working (log4j 1.X vulnerability CVE-2021-4104 )","body":"<p>First you need to understand what you are trying to do.  The command that you are trying to run <em>appears</em> to be attempting to remove a class from a JAR file that is embedded in another JAR file.  The outer JAR file appears to be an executable Spring application ... or something like that.  (&quot;BOOT-INF/&quot; is used by the Spring application loader.)  The inner JAR is a log4j 1.x JAR.</p>\n<p>Next, you need to understand how the <code>zip</code> and <code>unzip</code> commands work on Linux. Read the manual entries: <code>man 1 zip</code> and <code>man 1 unzip</code>.</p>\n<p>There are a few potential / actual problems with what you have been doing.</p>\n<ol>\n<li><p>The pathname (&quot;/home/server-cliet.jar&quot;) doesn't look right to me:</p>\n<ul>\n<li><p>&quot;/home&quot; is an odd place to put files.  On a typical Linux system, &quot;/home&quot; contains a subdirectory for each user.  You don't put files there.</p>\n</li>\n<li><p>&quot;server-cliet.jar&quot; looks like a typo.  That isn't how you spell client.</p>\n</li>\n</ul>\n</li>\n<li><p>The Linux version of <code>zip</code><sup>1</sup> doesn't understand <code>::</code> as refering to JAR / ZIP within a ZIP.  It thinks it is a normal pathname.  Which doesn't work.  That's why you got the first &quot;not found or empty&quot; message.</p>\n</li>\n<li><p>The second command failed because Linux <code>zip -d</code> only knows how to delete an entry of a ZIP / JAR.  It doesn't deal withe JAR-in-a-JAR scenario.  So the command is actually telling <code>zip</code> to delete an entry that doesn't exist.</p>\n</li>\n<li><p>It is also not clear that <code>BOOT-INF/lib/log4j-1.2.17.jar</code> is the correct pathname for the inner JAR.  The minor version number might be different.</p>\n</li>\n</ol>\n<hr />\n<p>So ... dealing with this is going to be messy.  What you need to do is<sup>2</sup>:</p>\n<ul>\n<li>Unzip the outer JAR into a temporary directory</li>\n<li>Find the log4j-1.2.xx JAR in the temp directory</li>\n<li>Use <code>zip -d</code> to delete the class from the log4j-1.2.xx JAR.  Or just replace that entire JAR with a fixed version of log4j-1.2 downloaded from a reliable source.</li>\n<li>Rezip the (updated) temporary directory</li>\n<li>Use <code>unzip -l</code> on the resulting JAR file to confirm that the paths are correct.</li>\n</ul>\n<hr />\n<p>Finally, note that this is only necessary if your <code>server-cliet</code> application is actually configured to use the JMS appender.  According to the CVE, this is not the default behavior, so if your app doesn't configure it, then this rigmarole may not be strictly necessary.  Though it may be needed to get your corporate IT security team off your back.</p>\n<hr />\n<p><sup>1 - In fact, I'm not sure of which version of <code>zip</code> does support that syntax.  If someone knows, please comment.<br>\n2 - I am not going to tell you the exact commands to run. You should be able to work it out from the manual entries and some trial and error.  If you can't, maybe hire a Linux professional to help you out with this.</sup></p>\n"}],"owner":{"account_id":23715410,"reputation":1,"user_id":17736632,"display_name":"user17736632"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":505,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1640828402,"creation_date":1640139596,"question_id":70443575,"body_markdown":"I want to fix the **Log4J** 1.* vulnerability by using this command :\r\n\r\n    zip -d /home/server-cliet.jar::BOOT-INF/lib/log4j-1.2.17.jar org/apache/log4j/net/JMSAppender.class\r\n\r\n(*log4j-1.2.17.jar* is the dependent jar of *server-cliet.jar*)\r\n\r\nThis command result is : \r\n\r\n&gt; zip warning:/home/server-cliet.jar::BOOT-INF/lib/log4j-1.2.17.jar not\r\n&gt; found or empty.\r\n\r\nI use another command :\r\n\r\n    zip -d /home/server-cliet.jar BOOT-INF/lib/log4j-1.2.17.jar/org/apache/log4j/net/JMSAppender.class\r\n\r\nResult is : \r\n\r\n&gt; zip warning:name not\r\n&gt; matched:BOOT-INF/lib/log4j-1.2.17.jar/org/apache/log4j/net/JMSAppender.class\r\n\r\nplease help!","title":"zip -d log4j-1.X.jar not working (log4j 1.X vulnerability CVE-2021-4104 )","body":"<p>I want to fix the <strong>Log4J</strong> 1.* vulnerability by using this command :</p>\n<pre><code>zip -d /home/server-cliet.jar::BOOT-INF/lib/log4j-1.2.17.jar org/apache/log4j/net/JMSAppender.class\n</code></pre>\n<p>(<em>log4j-1.2.17.jar</em> is the dependent jar of <em>server-cliet.jar</em>)</p>\n<p>This command result is :</p>\n<blockquote>\n<p>zip warning:/home/server-cliet.jar::BOOT-INF/lib/log4j-1.2.17.jar not\nfound or empty.</p>\n</blockquote>\n<p>I use another command :</p>\n<pre><code>zip -d /home/server-cliet.jar BOOT-INF/lib/log4j-1.2.17.jar/org/apache/log4j/net/JMSAppender.class\n</code></pre>\n<p>Result is :</p>\n<blockquote>\n<p>zip warning:name not\nmatched:BOOT-INF/lib/log4j-1.2.17.jar/org/apache/log4j/net/JMSAppender.class</p>\n</blockquote>\n<p>please help!</p>\n"},{"tags":["java","algorithm","jpeg","rotation","lossless"],"comments":[{"owner":{"account_id":16405,"reputation":32717,"user_id":35634,"accept_rate":95,"display_name":"Henry"},"score":0,"creation_date":1398382829,"post_id":706665,"comment_id":35635495,"body_markdown":"not in Java, but http://jpegclub.org/jpegtran/ should be the best command line utility for lossless jpeg rotate (Windows / Linux)","body":"not in Java, but <a href=\"http://jpegclub.org/jpegtran/\" rel=\"nofollow noreferrer\">jpegclub.org/jpegtran</a> should be the best command line utility for lossless jpeg rotate (Windows / Linux)"},{"owner":{"account_id":3243794,"reputation":4776,"user_id":2736039,"accept_rate":93,"display_name":"Ultimo_m"},"score":0,"creation_date":1442093882,"post_id":706665,"comment_id":52944801,"body_markdown":"Hello if you have used below solution I would like to request your help if you can. I have difficulties to find where to import java.awt.Rectangle;\nI have tried some jars in web but I cant use them with Android Studio. Can you help me with the jar that you have imported.\nThanks","body":"Hello if you have used below solution I would like to request your help if you can. I have difficulties to find where to import java.awt.Rectangle; I have tried some jars in web but I cant use them with Android Studio. Can you help me with the jar that you have imported. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":16405,"reputation":32717,"user_id":35634,"accept_rate":95,"display_name":"Henry"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1238609859,"creation_date":1238608331,"answer_id":706671,"question_id":706665,"body_markdown":"I found this: [http://mediachest.sourceforge.net/mediautil/][1]\r\n\r\nAPI: [http://mediachest.sourceforge.net/mediautil/javadocs/mediautil/image/jpeg/LLJTran.html][2]\r\n\r\n\r\n  [1]: http://mediachest.sourceforge.net/mediautil/\r\n  [2]: http://mediachest.sourceforge.net/mediautil/javadocs/mediautil/image/jpeg/LLJTran.html","title":"Lossless JPEG Rotate (90/180/270 degrees) in Java?","body":"<p>I found this: <a href=\"http://mediachest.sourceforge.net/mediautil/\" rel=\"noreferrer\">http://mediachest.sourceforge.net/mediautil/</a></p>\n\n<p>API: <a href=\"http://mediachest.sourceforge.net/mediautil/javadocs/mediautil/image/jpeg/LLJTran.html\" rel=\"noreferrer\">http://mediachest.sourceforge.net/mediautil/javadocs/mediautil/image/jpeg/LLJTran.html</a></p>\n"},{"tags":[],"owner":{"account_id":31291,"reputation":697,"user_id":85814,"display_name":"J_Y_C"},"down_vote_count":8,"up_vote_count":4,"is_accepted":false,"score":-4,"last_activity_date":1238613083,"creation_date":1238611771,"answer_id":706888,"question_id":706665,"body_markdown":"You don&#39;t need an external library for this kind of thing, it&#39;s all built into SE. The easiest being the rotate() function of the Graphics2D object.\r\n\r\nFor example:\r\n\r\n       Image rotatedImage = new BufferedImage(imageToRotate.getHeight(null), imageToRotate.getWidth(null), BufferedImage.TYPE_INT_ARGB);\r\n    \r\n        Graphics2D g2d = (Graphics2D) rotatedImage.getGraphics();\r\n        g2d.rotate(Math.toRadians(90.0));\r\n        g2d.drawImage(imageToRotate, 0, -rotatedImage.getWidth(null), null);\r\n        g2d.dispose();\r\n    \r\nno loss!\r\n\r\nOr, if you want to be extra careful, just use BufferedImage.getRGB(x,y), and translate it pixel by pixel on to the new image.\r\n\r\n\r\n","title":"Lossless JPEG Rotate (90/180/270 degrees) in Java?","body":"<p>You don't need an external library for this kind of thing, it's all built into SE. The easiest being the rotate() function of the Graphics2D object.</p>\n\n<p>For example:</p>\n\n<pre><code>   Image rotatedImage = new BufferedImage(imageToRotate.getHeight(null), imageToRotate.getWidth(null), BufferedImage.TYPE_INT_ARGB);\n\n    Graphics2D g2d = (Graphics2D) rotatedImage.getGraphics();\n    g2d.rotate(Math.toRadians(90.0));\n    g2d.drawImage(imageToRotate, 0, -rotatedImage.getWidth(null), null);\n    g2d.dispose();\n</code></pre>\n\n<p>no loss!</p>\n\n<p>Or, if you want to be extra careful, just use BufferedImage.getRGB(x,y), and translate it pixel by pixel on to the new image.</p>\n"},{"tags":[],"owner":{"account_id":351066,"reputation":13984,"user_id":687315,"accept_rate":69,"display_name":"quietmint"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1362843154,"creation_date":1362774286,"answer_id":15302674,"question_id":706665,"body_markdown":"Building on Henry&#39;s answer, here&#39;s an example of how to use [MediaUtil](http://mediachest.sourceforge.net/mediautil/) to perform lossless JPEG rotation based on the EXIF data:\r\n\r\n\ttry {\r\n\t\t// Read image EXIF data\r\n\t\tLLJTran llj = new LLJTran(imageFile);\r\n\t\tllj.read(LLJTran.READ_INFO, true);\r\n\t\tAbstractImageInfo&lt;?&gt; imageInfo = llj.getImageInfo();\r\n\t\tif (!(imageInfo instanceof Exif))\r\n\t\t\tthrow new Exception(&quot;Image has no EXIF data&quot;);\r\n\t\r\n\t\t// Determine the orientation\r\n\t\tExif exif = (Exif) imageInfo;\r\n\t\tint orientation = 1;\r\n\t\tEntry orientationTag = exif.getTagValue(Exif.ORIENTATION, true);\r\n\t\tif (orientationTag != null)\r\n\t\t\torientation = (Integer) orientationTag.getValue(0);\r\n\t\r\n\t\t// Determine required transform operation\r\n\t\tint operation = 0;\r\n\t\tif (orientation &gt; 0\r\n\t\t\t\t&amp;&amp; orientation &lt; Exif.opToCorrectOrientation.length)\r\n\t\t\toperation = Exif.opToCorrectOrientation[orientation];\r\n\t\tif (operation == 0)\r\n\t\t\tthrow new Exception(&quot;Image orientation is already correct&quot;);\r\n\r\n\t\tOutputStream output = null;\r\n\t\ttry {\t\r\n\t\t\t// Transform image\r\n\t\t\tllj.read(LLJTran.READ_ALL, true);\r\n\t\t\tllj.transform(operation, LLJTran.OPT_DEFAULTS\r\n\t\t\t\t\t| LLJTran.OPT_XFORM_ORIENTATION);\r\n\t\r\n\t\t\t// Overwrite original file\r\n\t\t\toutput = new BufferedOutputStream(new FileOutputStream(imageFile));\r\n\t\t\tllj.save(output, LLJTran.OPT_WRITE_ALL);\r\n\r\n\t\t} finally {\r\n\t\t\tIOUtils.closeQuietly(output);\r\n\t\t\tllj.freeMemory();\r\n\t\t}\r\n\t\r\n\t} catch (Exception e) {\r\n\t\t// Unable to rotate image based on EXIF data\r\n\t\t...\r\n\t}","title":"Lossless JPEG Rotate (90/180/270 degrees) in Java?","body":"<p>Building on Henry's answer, here's an example of how to use <a href=\"http://mediachest.sourceforge.net/mediautil/\">MediaUtil</a> to perform lossless JPEG rotation based on the EXIF data:</p>\n\n<pre><code>try {\n    // Read image EXIF data\n    LLJTran llj = new LLJTran(imageFile);\n    llj.read(LLJTran.READ_INFO, true);\n    AbstractImageInfo&lt;?&gt; imageInfo = llj.getImageInfo();\n    if (!(imageInfo instanceof Exif))\n        throw new Exception(\"Image has no EXIF data\");\n\n    // Determine the orientation\n    Exif exif = (Exif) imageInfo;\n    int orientation = 1;\n    Entry orientationTag = exif.getTagValue(Exif.ORIENTATION, true);\n    if (orientationTag != null)\n        orientation = (Integer) orientationTag.getValue(0);\n\n    // Determine required transform operation\n    int operation = 0;\n    if (orientation &gt; 0\n            &amp;&amp; orientation &lt; Exif.opToCorrectOrientation.length)\n        operation = Exif.opToCorrectOrientation[orientation];\n    if (operation == 0)\n        throw new Exception(\"Image orientation is already correct\");\n\n    OutputStream output = null;\n    try {   \n        // Transform image\n        llj.read(LLJTran.READ_ALL, true);\n        llj.transform(operation, LLJTran.OPT_DEFAULTS\n                | LLJTran.OPT_XFORM_ORIENTATION);\n\n        // Overwrite original file\n        output = new BufferedOutputStream(new FileOutputStream(imageFile));\n        llj.save(output, LLJTran.OPT_WRITE_ALL);\n\n    } finally {\n        IOUtils.closeQuietly(output);\n        llj.freeMemory();\n    }\n\n} catch (Exception e) {\n    // Unable to rotate image based on EXIF data\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4147008,"reputation":61,"user_id":3400408,"display_name":"user3400408"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1394562864,"creation_date":1394430219,"answer_id":22292843,"question_id":706665,"body_markdown":"Regarding the issue of EXIF data not necessarily being handled correctly, since EXIF data is irrelevant in many situations, here&#39;s example code demonstrating only the LLJTran lossless JPEG rotation feature (with thanks to user113215):\r\n\r\n    final File              SrcJPEG  = new File(&quot;my-input.jpg&quot;);\r\n    final File              DestJPEG = new File(&quot;my-output.jpg&quot;);\r\n    final FileInputStream   In       = new FileInputStream(SrcJPEG);\r\n    \r\n    try {\r\n        final LLJTran           LLJT = new LLJTran(In);\r\n        \r\n        LLJT.read(LLJTran.READ_ALL, true);\r\n        LLJT.transform(LLJTran.ROT_90);\r\n        \r\n        final FileOutputStream  Out = new FileOutputStream(DestJPEG);\r\n        \r\n        try {\r\n            LLJT.save(Out, LLJTran.OPT_WRITE_ALL);\r\n        } finally {\r\n            Out.close();\r\n        }\r\n        \r\n    } finally {\r\n        In.close(); \r\n    }\r\n\r\nIf you make the input and output &lt;code&gt;File&lt;/code&gt; objects refer to the same file, you can run this over and over again, and observe that the image does not degrade, no matter how many iterations it is put through.","title":"Lossless JPEG Rotate (90/180/270 degrees) in Java?","body":"<p>Regarding the issue of EXIF data not necessarily being handled correctly, since EXIF data is irrelevant in many situations, here's example code demonstrating only the LLJTran lossless JPEG rotation feature (with thanks to user113215):</p>\n\n<pre><code>final File              SrcJPEG  = new File(\"my-input.jpg\");\nfinal File              DestJPEG = new File(\"my-output.jpg\");\nfinal FileInputStream   In       = new FileInputStream(SrcJPEG);\n\ntry {\n    final LLJTran           LLJT = new LLJTran(In);\n\n    LLJT.read(LLJTran.READ_ALL, true);\n    LLJT.transform(LLJTran.ROT_90);\n\n    final FileOutputStream  Out = new FileOutputStream(DestJPEG);\n\n    try {\n        LLJT.save(Out, LLJTran.OPT_WRITE_ALL);\n    } finally {\n        Out.close();\n    }\n\n} finally {\n    In.close(); \n}\n</code></pre>\n\n<p>If you make the input and output <code>File</code> objects refer to the same file, you can run this over and over again, and observe that the image does not degrade, no matter how many iterations it is put through.</p>\n"},{"tags":[],"owner":{"account_id":80211,"reputation":58977,"user_id":226958,"accept_rate":76,"display_name":"Nicolas Raoul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640824727,"creation_date":1640824727,"answer_id":70526381,"question_id":706665,"body_markdown":"For Android specifically, I found this fork:\r\n\r\nhttps://github.com/juanitobananas/AndroidMediaUtil\r\n\r\nBenefits over upstream:\r\n\r\n- Gradle/Android Studio project\r\n- Compatible with jitpack.io\r\n\r\nIt might even be usable on normal Java, as the code does not import any Android-specific package (I haven&#39;t tried though).","title":"Lossless JPEG Rotate (90/180/270 degrees) in Java?","body":"<p>For Android specifically, I found this fork:</p>\n<p><a href=\"https://github.com/juanitobananas/AndroidMediaUtil\" rel=\"nofollow noreferrer\">https://github.com/juanitobananas/AndroidMediaUtil</a></p>\n<p>Benefits over upstream:</p>\n<ul>\n<li>Gradle/Android Studio project</li>\n<li>Compatible with jitpack.io</li>\n</ul>\n<p>It might even be usable on normal Java, as the code does not import any Android-specific package (I haven't tried though).</p>\n"}],"owner":{"account_id":16405,"reputation":32717,"user_id":35634,"accept_rate":95,"display_name":"Henry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14492,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":706671,"answer_count":5,"score":22,"last_activity_date":1640824727,"creation_date":1238608285,"question_id":706665,"body_markdown":"Is there a Java library for rotating JPEG files in increments of 90 degrees, without incurring image degradation?","title":"Lossless JPEG Rotate (90/180/270 degrees) in Java?","body":"<p>Is there a Java library for rotating JPEG files in increments of 90 degrees, without incurring image degradation?</p>\n"},{"tags":["java","hash"],"answers":[{"tags":[],"owner":{"account_id":1889,"reputation":120472,"user_id":2603,"accept_rate":75,"display_name":"Aaron Maenpaa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1640824484,"creation_date":1235596891,"answer_id":587909,"question_id":587884,"body_markdown":"[This](http://256stuff.com/sources/jenkins_hash_java/) looks like one.\r\n\r\nThough, by the looks of description on the Wikipedia article you could port it yourself without too much trouble.","title":"Java port of Hash by Jenkins","body":"<p><a href=\"http://256stuff.com/sources/jenkins_hash_java/\" rel=\"nofollow noreferrer\">This</a> looks like one.</p>\n<p>Though, by the looks of description on the Wikipedia article you could port it yourself without too much trouble.</p>\n"},{"tags":[],"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1250113645,"creation_date":1250113645,"answer_id":1268932,"question_id":587884,"body_markdown":"[Hsieh&#39;s hash][1] is even better. I don&#39;t know of a java implementation - i&#39;m writing one right now.\r\n\r\n  [1]: http://www.azillionmonkeys.com/qed/hash.html\r\n","title":"Java port of Hash by Jenkins","body":"<p><a href=\"http://www.azillionmonkeys.com/qed/hash.html\" rel=\"nofollow noreferrer\">Hsieh's hash</a> is even better. I don't know of a java implementation - i'm writing one right now.</p>\n"},{"tags":[],"owner":{"account_id":94109,"reputation":2168,"user_id":257122,"accept_rate":60,"display_name":"Ashwin Jayaprakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1288822070,"creation_date":1288822070,"answer_id":4092112,"question_id":587884,"body_markdown":"Apache licensed - [http://people.apache.org/~yonik/code/hash/Hash.html][1]\r\n\r\n\r\n  [1]: http://people.apache.org/~yonik/code/hash/Hash.html","title":"Java port of Hash by Jenkins","body":"<p>Apache licensed - <a href=\"http://people.apache.org/~yonik/code/hash/Hash.html\" rel=\"nofollow\">http://people.apache.org/~yonik/code/hash/Hash.html</a></p>\n"},{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1296784528,"creation_date":1296784528,"answer_id":4893806,"question_id":587884,"body_markdown":"At Github there is [g414-hash][1] project which includes hash functions you might want to use, including jenkins, murmur, hsieh and cwow. It also has bloom filter implementation for which hashes can be used.\r\n\r\n  [1]: https://github.com/sunnygleason/g414-hash","title":"Java port of Hash by Jenkins","body":"<p>At Github there is <a href=\"https://github.com/sunnygleason/g414-hash\" rel=\"nofollow\">g414-hash</a> project which includes hash functions you might want to use, including jenkins, murmur, hsieh and cwow. It also has bloom filter implementation for which hashes can be used.</p>\n"},{"tags":[],"owner":{"account_id":9245,"reputation":17521,"user_id":16998,"accept_rate":44,"display_name":"jrwren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1405356316,"creation_date":1405356316,"answer_id":24741571,"question_id":587884,"body_markdown":"A duck duck go searched reveals this: http://www.java2s.com/Code/Java/Development-Class/JenkinsHash.htm","title":"Java port of Hash by Jenkins","body":"<p>A duck duck go searched reveals this: <a href=\"http://www.java2s.com/Code/Java/Development-Class/JenkinsHash.htm\" rel=\"nofollow\">http://www.java2s.com/Code/Java/Development-Class/JenkinsHash.htm</a></p>\n"}],"owner":{"account_id":18889,"reputation":28733,"user_id":43756,"accept_rate":63,"display_name":"kal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3065,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"closed_date":1407805961,"accepted_answer_id":587909,"answer_count":5,"score":3,"last_activity_date":1640824484,"creation_date":1235596601,"question_id":587884,"body_markdown":"I am looking for a java port of this file, \r\n[Jenkins Hash in C][1]\r\n\r\n\r\n  [1]: http://burtleburtle.net/bob/c/lookup2.c\r\n\r\n","title":"Java port of Hash by Jenkins","body":"<p>I am looking for a java port of this file, \n<a href=\"http://burtleburtle.net/bob/c/lookup2.c\" rel=\"nofollow noreferrer\">Jenkins Hash in C</a></p>\n"},{"tags":["java","docker","drools","docker-compose","kie-server"],"comments":[{"owner":{"account_id":5568615,"reputation":1265,"user_id":4414854,"display_name":"danialk"},"score":0,"creation_date":1559564608,"post_id":40222294,"comment_id":99449065,"body_markdown":"Per @Roger&#39;s comment, looks like a Maven repo issue. The environment ```KIE_MAVEN_REPO=http://localhost:8080/kie-wb/maven2``` should be changed to ```KIE_MAVEN_REPO=http://drools-wb:8080/business-central/maven2```.  This will tell the KIE execution server to look up the workbench&#39;s Maven repo instead of looking at the KIE execution server&#39;s own internal Maven repo (which won&#39;t contain the artifacts).","body":"Per @Roger&#39;s comment, looks like a Maven repo issue. The environment <code>KIE_MAVEN_REPO=http:&#47;&#47;localhost:8080&#47;kie-wb&#47;maven2</code> should be changed to <code>KIE_MAVEN_REPO=http:&#47;&#47;drools-wb:8080&#47;business-central&#47;maven2</code>&zwnj;&#8203;.  This will tell the KIE execution server to look up the workbench&#39;s Maven repo instead of looking at the KIE execution server&#39;s own internal Maven repo (which won&#39;t contain the artifacts)."}],"answers":[{"tags":[],"owner":{"account_id":8623780,"reputation":11,"user_id":6457645,"display_name":"Roger Martinez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1477428624,"creation_date":1477428624,"answer_id":40249451,"question_id":40222294,"body_markdown":"You have to check basically two connections between the workbench and the kie-server, if they&#39;re running on different nodes - the HTTP ones provided by the kie-server REST endpoints and the system maven configuration on the kie-server as well, so it have to use the workbench as source repository for artifacts.\r\n\r\nLooking at the stracktrace, I see some 405 errors when running the container and are probably related, endpoints are visible but not allowed... Did you try making some requests to the kie-server endpoints via some other client or command line? Have the user the right role? See example instructions [here][1]\r\n\r\n\r\n  [1]: https://github.com/jboss-dockerfiles/drools/tree/master/kie-server/showcase","title":"Can&#39;t deploy artifact to KIE-server via Drools workbench because of &quot;ConversationId not valid - missing releaseId&quot;","body":"<p>You have to check basically two connections between the workbench and the kie-server, if they're running on different nodes - the HTTP ones provided by the kie-server REST endpoints and the system maven configuration on the kie-server as well, so it have to use the workbench as source repository for artifacts.</p>\n\n<p>Looking at the stracktrace, I see some 405 errors when running the container and are probably related, endpoints are visible but not allowed... Did you try making some requests to the kie-server endpoints via some other client or command line? Have the user the right role? See example instructions <a href=\"https://github.com/jboss-dockerfiles/drools/tree/master/kie-server/showcase\" rel=\"nofollow\">here</a></p>\n"},{"tags":[],"owner":{"account_id":429436,"reputation":2102,"user_id":812335,"accept_rate":73,"display_name":"jacobra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640824354,"creation_date":1640824354,"answer_id":70526346,"question_id":40222294,"body_markdown":"I ended up needing this set of kie-server environment variables:\r\n\r\n```\r\n      KIE_WB_PORT: tcp://kie_wb:8001\r\n      KIE_WB_PORT_8001_TCP: tcp://kie_wb:8001\r\n      KIE_WB_PORT_8001_TCP_ADDR: kie_wb\r\n      KIE_WB_PORT_8080_TCP: tcp://kie_wb:8080\r\n      KIE_WB_PORT_8080_TCP_ADDR: kie_wb\r\n      KIE_WB_ENV_KIE_CONTEXT_PATH: business-central\r\n```","title":"Can&#39;t deploy artifact to KIE-server via Drools workbench because of &quot;ConversationId not valid - missing releaseId&quot;","body":"<p>I ended up needing this set of kie-server environment variables:</p>\n<pre><code>      KIE_WB_PORT: tcp://kie_wb:8001\n      KIE_WB_PORT_8001_TCP: tcp://kie_wb:8001\n      KIE_WB_PORT_8001_TCP_ADDR: kie_wb\n      KIE_WB_PORT_8080_TCP: tcp://kie_wb:8080\n      KIE_WB_PORT_8080_TCP_ADDR: kie_wb\n      KIE_WB_ENV_KIE_CONTEXT_PATH: business-central\n</code></pre>\n"}],"owner":{"account_id":3996995,"reputation":83,"user_id":3294208,"display_name":"zahid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2582,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1640824354,"creation_date":1477323429,"question_id":40222294,"body_markdown":"I&#39;m using the, kie-server-showcase and drools-workbench-showcase, via docker-run, I can see the kie-server in the drools UI and deploy a build to it.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHowever, when I use docker-compose, I get a runtime exception when trying to deploy the demo morgauge project, see the logs here: http://pastebin.com/qKQ8hgak, but I&#39;ve included the interesting parts:\r\n\r\n    kie-server               | 15:24:41,268 INFO  [org.jboss.as] (Controller Boot Thread) JBAS015874: WildFly 8.2.0.Final &quot;Tweek&quot; started in 15690ms - Started 406 of 458 services (106 services are lazy, passive or on-demand)\r\n    kie-server               | 15:24:50,369 WARN  [org.kie.server.services.impl.controller.DefaultRestControllerImpl] (KieServer-ControllerConnect) Exception encountered while syncing with controller at http://kie_wb:8080/drools-wb/rest/controller/server/kie-server-3aec89f430c2 error Error while sending PUT request to http://kie_wb:8080/drools-wb/rest/controller/server/kie-server-3aec89f430c2 response code 405\r\n    kie-server               | 15:25:00,376 WARN  [org.kie.server.services.impl.controller.DefaultRestControllerImpl] (KieServer-ControllerConnect) Exception encountered while syncing with controller at http://kie_wb:8080/drools-wb/rest/controller/server/kie-server-3aec89f430c2 error Error while sending PUT request to http://kie_wb:8080/drools-wb/rest/controller/server/kie-server-3aec89f430c2 response code 405\r\n    kie-server               | 15:25:10,383 WARN  [org.kie.server.services.impl.controller.DefaultRestControllerImpl] (KieServer-ControllerConnect) Exception encountered while syncing with controller at http://kie_wb:8080/drools-wb/rest/controller/server/kie-server-3aec89f430c2 error Error while sending PUT request to http://kie_wb:8080/drools-wb/rest/controller/server/kie-server-3aec89f430c2 response code 405\r\n    kie-server               | 15:25:23,534 INFO  [org.kie.server.services.impl.controller.ControllerConnectRunnable] (KieServer-ControllerConnect) Connected to controller, quiting connector thread\r\n    kie-server               | 15:25:23,536 INFO  [org.kie.server.services.impl.ContainerManager] (EJB default - 5) About to install containers &#39;[]&#39; on kie server &#39;KieServer{id=&#39;kie-server-3aec89f430c2&#39;name=&#39;kie-server-3aec89f430c2&#39;version=&#39;6.4.0.Final&#39;location=&#39;http://172.18.0.3:8080/kie-server/services/rest/server&#39;}&#39;\r\n    kie-server               | 15:26:17,419 WARN  [org.kie.scanner.embedder.MavenSettings] (default task-3) Environment variable M2_HOME is not set\r\n    kie-server               | 15:26:17,588 INFO  [org.kie.scanner.Aether] (default task-3) The local repository directory /opt/jboss/.m2/repository doesn&#39;t exist. Creating it.\r\n    kie-server               | 15:26:18,932 ERROR [io.undertow.request] (default task-5) UT005023: Exception handling request to /kie-server/services/rest/server/containers/demo: org.jboss.resteasy.spi.UnhandledException: java.lang.IllegalArgumentException: ConversationId not valid - missing releaseId\r\n\r\n    ...\r\n\r\n    kie-server               | 15:26:19,231 WARN  [org.kie.scanner.MavenRepository] (default task-3) Unable to resolve artifact: mortgages:mortgages:0.0.1\r\n    kie-server               | 15:26:20,269 WARN  [org.kie.scanner.MavenRepository] (default task-3) Unable to resolve artifact: mortgages:mortgages:pom:0.0.1\r\n    kie-server               | 15:26:20,269 ERROR [org.kie.server.services.impl.KieServerImpl] (default task-3) Error creating container &#39;demo&#39; for module &#39;mortgages:mortgages:0.0.1&#39;: java.lang.RuntimeException: Cannot find KieModule: mortgages:mortgages:0.0.1\r\n    kie-server               |  at org.drools.compiler.kie.builder.impl.KieServicesImpl.newKieContainer(KieServicesImpl.java:117) [drools-compiler-6.4.0.Final.jar:6.4.0.Final]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHere&#39;s the docker-compose.yml files I use:\r\n\r\n    version: &#39;2&#39;\r\n\r\n    services:\r\n\r\n      drools-wb:\r\n        container_name: drools-wb\r\n        image: jboss/drools-workbench-showcase:latest\r\n        ports:\r\n          - 8001:8001\r\n          - 18080:8080\r\n        networks:\r\n          - mckinsey-net\r\n\r\n      kie-server:\r\n        container_name: kie-server\r\n        image: jboss/kie-server-showcase:latest\r\n        links:\r\n          - drools-wb:kie_wb\r\n        depends_on:\r\n          - drools-wb\r\n        environment:\r\n          - HOME=/opt/jboss\r\n          - JAVA_HOME=/usr/lib/jvm/java\r\n          - JAVA_OPTS=-XX:MaxPermSize=256m -Xms256m -Xmx512m\r\n          - JBOSS_BIND_ADDRESS=0.0.0.0\r\n          - JBOSS_HOME=/opt/jboss/wildfly\r\n          - KIE_CLASSIFIER=ee7\r\n          - KIE_CONTEXT_PATH=kie-server\r\n          - KIE_MAVEN_REPO=http://localhost:8080/kie-wb/maven2\r\n          - KIE_MAVEN_REPO_PASSWORD=admin\r\n          - KIE_MAVEN_REPO_USER=admin\r\n          - KIE_REPOSITORY=https://repository.jboss.org/nexus/content/groups/public-jboss\r\n          - KIE_SERVER_CONTROLLER_PWD=admin\r\n          - KIE_SERVER_CONTROLLER_USER=admin\r\n          - KIE_SERVER_LOCATION=http://localhost:8080/kie-server/services/rest/server\r\n          - KIE_SERVER_PWD=kieserver1!\r\n          - KIE_SERVER_USER=kieserver\r\n          - KIE_VERSION=6.4.0.Final\r\n          - KIE_WB_ENV_JAVA_HOME=/usr/lib/jvm/java\r\n          - KIE_WB_ENV_JAVA_OPTS=-XX:MaxPermSize=256m -Xms256m -Xmx512m\r\n          - KIE_WB_ENV_JBOSS_BIND_ADDRESS=0.0.0.0\r\n          - KIE_WB_ENV_JBOSS_HOME=/opt/jboss/wildfly\r\n          - KIE_WB_ENV_KIE_CLASSIFIER=wildfly8\r\n          - KIE_WB_ENV_KIE_CONTEXT_PATH=drools-wb\r\n          - KIE_WB_ENV_KIE_DEMO=true\r\n          - KIE_WB_ENV_KIE_REPOSITORY=https://repository.jboss.org/nexus/content/groups/public-jboss\r\n          - KIE_WB_ENV_KIE_SERVER_PROFILE=standalone-full-drools\r\n          - KIE_WB_ENV_KIE_VERSION=6.4.0.Final\r\n          - KIE_WB_ENV_WILDFLY_VERSION=8.2.0.Final\r\n          - KIE_WB_NAME=/kie-server/kie_wb\r\n          - KIE_WB_PORT=tcp://kie_wb:8001\r\n          - KIE_WB_PORT_8001_TCP=tcp://kie_wb:8001\r\n          - KIE_WB_PORT_8001_TCP_ADDR=kie_wb\r\n          - KIE_WB_PORT_8001_TCP_PORT=8001\r\n          - KIE_WB_PORT_8001_TCP_PROTO=tcp\r\n          - KIE_WB_PORT_8080_TCP=tcp://kie_wb:8080\r\n          - KIE_WB_PORT_8080_TCP_ADDR=kie_wb\r\n          - KIE_WB_PORT_8080_TCP_PORT=8080\r\n          - KIE_WB_PORT_8080_TCP_PROTO=tcp\r\n          - KIE_WB_PORT_9990_TCP=tcp://kie_wb:9990\r\n          - KIE_WB_PORT_9990_TCP_ADDR=kie_wb\r\n          - KIE_WB_PORT_9990_TCP_PORT=9990\r\n          - KIE_WB_PORT_9990_TCP_PROTO=tcp\r\n          - PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\r\n          - WILDFLY_VERSION=8.2.0.Final\r\n\r\n\r\nI&#39;m not sure why it can&#39;t resolve that artifact. Any ideas?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FpzQO.png\r\n  [2]: https://i.stack.imgur.com/befKG.png","title":"Can&#39;t deploy artifact to KIE-server via Drools workbench because of &quot;ConversationId not valid - missing releaseId&quot;","body":"<p>I'm using the, kie-server-showcase and drools-workbench-showcase, via docker-run, I can see the kie-server in the drools UI and deploy a build to it.</p>\n\n<p><a href=\"https://i.stack.imgur.com/FpzQO.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/FpzQO.png\" alt=\"enter image description here\"></a></p>\n\n<p>However, when I use docker-compose, I get a runtime exception when trying to deploy the demo morgauge project, see the logs here: <a href=\"http://pastebin.com/qKQ8hgak\" rel=\"nofollow\">http://pastebin.com/qKQ8hgak</a>, but I've included the interesting parts:</p>\n\n<pre><code>kie-server               | 15:24:41,268 INFO  [org.jboss.as] (Controller Boot Thread) JBAS015874: WildFly 8.2.0.Final \"Tweek\" started in 15690ms - Started 406 of 458 services (106 services are lazy, passive or on-demand)\nkie-server               | 15:24:50,369 WARN  [org.kie.server.services.impl.controller.DefaultRestControllerImpl] (KieServer-ControllerConnect) Exception encountered while syncing with controller at http://kie_wb:8080/drools-wb/rest/controller/server/kie-server-3aec89f430c2 error Error while sending PUT request to http://kie_wb:8080/drools-wb/rest/controller/server/kie-server-3aec89f430c2 response code 405\nkie-server               | 15:25:00,376 WARN  [org.kie.server.services.impl.controller.DefaultRestControllerImpl] (KieServer-ControllerConnect) Exception encountered while syncing with controller at http://kie_wb:8080/drools-wb/rest/controller/server/kie-server-3aec89f430c2 error Error while sending PUT request to http://kie_wb:8080/drools-wb/rest/controller/server/kie-server-3aec89f430c2 response code 405\nkie-server               | 15:25:10,383 WARN  [org.kie.server.services.impl.controller.DefaultRestControllerImpl] (KieServer-ControllerConnect) Exception encountered while syncing with controller at http://kie_wb:8080/drools-wb/rest/controller/server/kie-server-3aec89f430c2 error Error while sending PUT request to http://kie_wb:8080/drools-wb/rest/controller/server/kie-server-3aec89f430c2 response code 405\nkie-server               | 15:25:23,534 INFO  [org.kie.server.services.impl.controller.ControllerConnectRunnable] (KieServer-ControllerConnect) Connected to controller, quiting connector thread\nkie-server               | 15:25:23,536 INFO  [org.kie.server.services.impl.ContainerManager] (EJB default - 5) About to install containers '[]' on kie server 'KieServer{id='kie-server-3aec89f430c2'name='kie-server-3aec89f430c2'version='6.4.0.Final'location='http://172.18.0.3:8080/kie-server/services/rest/server'}'\nkie-server               | 15:26:17,419 WARN  [org.kie.scanner.embedder.MavenSettings] (default task-3) Environment variable M2_HOME is not set\nkie-server               | 15:26:17,588 INFO  [org.kie.scanner.Aether] (default task-3) The local repository directory /opt/jboss/.m2/repository doesn't exist. Creating it.\nkie-server               | 15:26:18,932 ERROR [io.undertow.request] (default task-5) UT005023: Exception handling request to /kie-server/services/rest/server/containers/demo: org.jboss.resteasy.spi.UnhandledException: java.lang.IllegalArgumentException: ConversationId not valid - missing releaseId\n\n...\n\nkie-server               | 15:26:19,231 WARN  [org.kie.scanner.MavenRepository] (default task-3) Unable to resolve artifact: mortgages:mortgages:0.0.1\nkie-server               | 15:26:20,269 WARN  [org.kie.scanner.MavenRepository] (default task-3) Unable to resolve artifact: mortgages:mortgages:pom:0.0.1\nkie-server               | 15:26:20,269 ERROR [org.kie.server.services.impl.KieServerImpl] (default task-3) Error creating container 'demo' for module 'mortgages:mortgages:0.0.1': java.lang.RuntimeException: Cannot find KieModule: mortgages:mortgages:0.0.1\nkie-server               |  at org.drools.compiler.kie.builder.impl.KieServicesImpl.newKieContainer(KieServicesImpl.java:117) [drools-compiler-6.4.0.Final.jar:6.4.0.Final]\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/befKG.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/befKG.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here's the docker-compose.yml files I use:</p>\n\n<pre><code>version: '2'\n\nservices:\n\n  drools-wb:\n    container_name: drools-wb\n    image: jboss/drools-workbench-showcase:latest\n    ports:\n      - 8001:8001\n      - 18080:8080\n    networks:\n      - mckinsey-net\n\n  kie-server:\n    container_name: kie-server\n    image: jboss/kie-server-showcase:latest\n    links:\n      - drools-wb:kie_wb\n    depends_on:\n      - drools-wb\n    environment:\n      - HOME=/opt/jboss\n      - JAVA_HOME=/usr/lib/jvm/java\n      - JAVA_OPTS=-XX:MaxPermSize=256m -Xms256m -Xmx512m\n      - JBOSS_BIND_ADDRESS=0.0.0.0\n      - JBOSS_HOME=/opt/jboss/wildfly\n      - KIE_CLASSIFIER=ee7\n      - KIE_CONTEXT_PATH=kie-server\n      - KIE_MAVEN_REPO=http://localhost:8080/kie-wb/maven2\n      - KIE_MAVEN_REPO_PASSWORD=admin\n      - KIE_MAVEN_REPO_USER=admin\n      - KIE_REPOSITORY=https://repository.jboss.org/nexus/content/groups/public-jboss\n      - KIE_SERVER_CONTROLLER_PWD=admin\n      - KIE_SERVER_CONTROLLER_USER=admin\n      - KIE_SERVER_LOCATION=http://localhost:8080/kie-server/services/rest/server\n      - KIE_SERVER_PWD=kieserver1!\n      - KIE_SERVER_USER=kieserver\n      - KIE_VERSION=6.4.0.Final\n      - KIE_WB_ENV_JAVA_HOME=/usr/lib/jvm/java\n      - KIE_WB_ENV_JAVA_OPTS=-XX:MaxPermSize=256m -Xms256m -Xmx512m\n      - KIE_WB_ENV_JBOSS_BIND_ADDRESS=0.0.0.0\n      - KIE_WB_ENV_JBOSS_HOME=/opt/jboss/wildfly\n      - KIE_WB_ENV_KIE_CLASSIFIER=wildfly8\n      - KIE_WB_ENV_KIE_CONTEXT_PATH=drools-wb\n      - KIE_WB_ENV_KIE_DEMO=true\n      - KIE_WB_ENV_KIE_REPOSITORY=https://repository.jboss.org/nexus/content/groups/public-jboss\n      - KIE_WB_ENV_KIE_SERVER_PROFILE=standalone-full-drools\n      - KIE_WB_ENV_KIE_VERSION=6.4.0.Final\n      - KIE_WB_ENV_WILDFLY_VERSION=8.2.0.Final\n      - KIE_WB_NAME=/kie-server/kie_wb\n      - KIE_WB_PORT=tcp://kie_wb:8001\n      - KIE_WB_PORT_8001_TCP=tcp://kie_wb:8001\n      - KIE_WB_PORT_8001_TCP_ADDR=kie_wb\n      - KIE_WB_PORT_8001_TCP_PORT=8001\n      - KIE_WB_PORT_8001_TCP_PROTO=tcp\n      - KIE_WB_PORT_8080_TCP=tcp://kie_wb:8080\n      - KIE_WB_PORT_8080_TCP_ADDR=kie_wb\n      - KIE_WB_PORT_8080_TCP_PORT=8080\n      - KIE_WB_PORT_8080_TCP_PROTO=tcp\n      - KIE_WB_PORT_9990_TCP=tcp://kie_wb:9990\n      - KIE_WB_PORT_9990_TCP_ADDR=kie_wb\n      - KIE_WB_PORT_9990_TCP_PORT=9990\n      - KIE_WB_PORT_9990_TCP_PROTO=tcp\n      - PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n      - WILDFLY_VERSION=8.2.0.Final\n</code></pre>\n\n<p>I'm not sure why it can't resolve that artifact. Any ideas?</p>\n"},{"tags":["java","sql","spring-boot","count"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1640820746,"post_id":70526055,"comment_id":124669021,"body_markdown":"How can the mapper determine that `COUNT(ul.dayOfVisit)` maps to `numOfVisit`? Have a look at the Javadoc: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/BeanPropertyRowMapper.html","body":"How can the mapper determine that <code>COUNT(ul.dayOfVisit)</code> maps to <code>numOfVisit</code>? Have a look at the Javadoc: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/BeanPropertyRowMapper.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":20235961,"reputation":23,"user_id":14841151,"display_name":"Hectch"},"score":0,"creation_date":1640822967,"post_id":70526055,"comment_id":124669434,"body_markdown":"thx. I will review this.","body":"thx. I will review this."}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640824014,"creation_date":1640821341,"answer_id":70526132,"question_id":70526055,"body_markdown":"Please try:\r\n```lang-sql\r\nSELECT l.locName, COUNT(ul.dayOfVisit) AS numOfVisit -- ...\r\n```\r\n(to alias numOfVisit), since we are using a [`BeanPropertyRowMapper`][1] (which mapps by &quot;bean properties&quot; (i.e. &quot;field names&quot;): https://www.google.com/search?q=java+bean+naming+conventions).\r\n\r\nAlternatively use an other/custom [`RowMapper`][2].\r\n\r\nAnd since even javadoc recommends:\r\n&gt;... **For best performance**, consider using a **custom** `RowMapper` implementation.\r\n\r\n\r\nBest:\r\n```lang-java\r\nreturn jdbc.query(query, namedParameters, \r\n  (ResultSet rs, int rowNum) -&gt; { // one ResultSet per row:\r\n      // column indices start with 1(!):\r\n      return new UserLocation(rs.getString(1), rs.getInt(2));\r\n      // alternatively (name based): rs.getString(&quot;locName&quot;)...\r\n    }\r\n);\r\n```\r\n;)\r\n\r\n\r\n-----------\r\n- [`RowMapper` javadoc (spring-jdbc:current)][2]\r\n- [`ResultSet` javadoc (jdk17)][3] \r\n- and since `RowMapper` is a/meets the requirements of a [functional interface][4], we can write it as [lambda expression][5].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/BeanPropertyRowMapper.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/RowMapper.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/ResultSet.html\r\n  [4]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-9.html#jls-9.8\r\n  [5]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.27","title":"Why a SQL SELECT statement doesn&#39;t return COUNT() result on Java Spring boot project?","body":"<p>Please try:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT l.locName, COUNT(ul.dayOfVisit) AS numOfVisit -- ...\n</code></pre>\n<p>(to alias numOfVisit), since we are using a <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/BeanPropertyRowMapper.html\" rel=\"nofollow noreferrer\"><code>BeanPropertyRowMapper</code></a> (which mapps by &quot;bean properties&quot; (i.e. &quot;field names&quot;): <a href=\"https://www.google.com/search?q=java+bean+naming+conventions\" rel=\"nofollow noreferrer\">https://www.google.com/search?q=java+bean+naming+conventions</a>).</p>\n<p>Alternatively use an other/custom <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/RowMapper.html\" rel=\"nofollow noreferrer\"><code>RowMapper</code></a>.</p>\n<p>And since even javadoc recommends:</p>\n<blockquote>\n<p>... <strong>For best performance</strong>, consider using a <strong>custom</strong> <code>RowMapper</code> implementation.</p>\n</blockquote>\n<p>Best:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return jdbc.query(query, namedParameters, \n  (ResultSet rs, int rowNum) -&gt; { // one ResultSet per row:\n      // column indices start with 1(!):\n      return new UserLocation(rs.getString(1), rs.getInt(2));\n      // alternatively (name based): rs.getString(&quot;locName&quot;)...\n    }\n);\n</code></pre>\n<p>;)</p>\n<hr />\n<ul>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/RowMapper.html\" rel=\"nofollow noreferrer\"><code>RowMapper</code> javadoc (spring-jdbc:current)</a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/ResultSet.html\" rel=\"nofollow noreferrer\"><code>ResultSet</code> javadoc (jdk17)</a></li>\n<li>and since <code>RowMapper</code> is a/meets the requirements of a <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-9.html#jls-9.8\" rel=\"nofollow noreferrer\">functional interface</a>, we can write it as <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.27\" rel=\"nofollow noreferrer\">lambda expression</a>.</li>\n</ul>\n"}],"owner":{"account_id":20235961,"reputation":23,"user_id":14841151,"display_name":"Hectch"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70526132,"answer_count":1,"score":2,"last_activity_date":1640824014,"creation_date":1640820511,"question_id":70526055,"body_markdown":"this is my first question here so, please ask if you need more information. I am working on a personal project. I have a relatively complex relational database structure. I create schema.sql on my spring boot project as well as data.sql with sample data. I try to create a web application for simulated fitness centre web pages. I try to display the location name and number of visits for the user. I create a userLocation bean for keeping the result set as a list of the select query. I can test the statement on H2 database and its work. However, on my code, I cannot get the number of visits from the select statement. \r\n\r\nHere is my userlocation bean,\r\n```\r\n@Data\r\n@NoArgsConstructor\r\npublic class UserLocation {\r\n\t\r\n\tprivate String locName;\r\n\tprivate int numOfVisit;\r\n\r\n}\r\n```\r\nController class getMapping method\r\n```\r\n\t@GetMapping(&quot;/secure/userLocation&quot;)\r\n\tpublic String myLocation(Model model, Authentication authentication) {\r\n\t\t\r\n\t\tString email = authentication.getName();\r\n\t\tUser currentUser = da.findUserAccount(email);\r\n\t\tmodel.addAttribute(&quot;myLocationList&quot;, da.getUserLocationList(currentUser.getUserId()));\r\n\t\t\r\n\t\treturn &quot;/secure/userLocation&quot;;\r\n\t}\r\n```\r\nHere database access method;\r\n```\r\npublic List&lt;UserLocation&gt; getUserLocationList(Long userId) {\r\n\t\tMapSqlParameterSource namedParameters = new MapSqlParameterSource();\r\n\r\n\t\tString query = &quot;SELECT l.locName, COUNT(ul.dayOfVisit) FROM location l &quot;\r\n\t\t\t\t+ &quot;INNER JOIN userLocation ul ON l.locId = ul.locId &quot;\r\n\t\t\t\t+ &quot;INNER JOIN sec_user sc ON ul.userId = sc.userId &quot;\r\n\t\t\t\t+ &quot;WHERE sc.userId = :userId AND ul.locId = 1&quot;\r\n\t\t\t\t+ &quot;GROUP BY l.locName&quot;;\r\n\r\n\t\tnamedParameters.addValue(&quot;userId&quot;, userId);\r\n\t\t\r\n\t\treturn jdbc.query(query, namedParameters, new BeanPropertyRowMapper&lt;UserLocation&gt;(UserLocation.class));\r\n\r\n\t}\r\n```\r\nhere schema.sql\r\n```\r\nCREATE TABLE location (\r\n  locId         BIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT,\r\n  locName\t\tVARCHAR(75),\r\n  locAddress\tVARCHAR(255),\r\n  locPhone\t\tVARCHAR(25),\r\n  locEmail\t\tVARCHAR(75)\r\n);\r\n\r\nCREATE TABLE sec_user (\r\n  userId            BIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT,\r\n  name\t\t\t\tVARCHAR(75),\r\n  lastName\t\t\tVARCHAR(75),\r\n  adress\t\t\tVARCHAR(255),\r\n  phone\t\t\t\tVARCHAR(10),\r\n  email             VARCHAR(75) NOT NULL UNIQUE,\r\n  encryptedPassword VARCHAR(128) NOT NULL,\r\n  enabled           BIT NOT NULL\r\n);\r\n\r\nCREATE TABLE coach (\r\n\r\n\tcoachId \tBIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT,\t\r\n\tcoachName\tVARCHAR(75),\r\n\tcoachLevel\tBIGINT,\r\n\tcoachRating BIGINT,\r\n\taboutMe\t\tVARCHAR(255)\r\n);\r\n\r\nCREATE TABLE fitnessClass (\r\n\r\n\tclassId \tBIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT,\t\r\n\tclassName\tVARCHAR(75),\r\n\tclassPrice\tDOUBLE\r\n);\r\n\r\nCREATE TABLE generalCert (\r\n\t\r\n\tcertId\t\tBIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT,\r\n\tcertName\tVARCHAR(75)\r\n);\r\n\r\nCREATE TABLE certCoach (\r\n\t\r\n\tcertId\t\tBIGINT NOT NULL,\r\n\tcoachId\t\tBIGINT NOT NULL\r\n);\r\n\r\nALTER TABLE certCoach\r\n  ADD CONSTRAINT certCoach_FK1 FOREIGN KEY (certId)\r\n  REFERENCES generalCert (certId);\r\n\r\nALTER TABLE certCoach\r\n  ADD CONSTRAINT certCoach_FK2 FOREIGN KEY (coachId)\r\n  REFERENCES coach (coachId);\r\n\r\nCREATE TABLE userLocation (\r\n\t\r\n\tuserLocId\tBIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT,\r\n\tlocId\t\tBIGINT NOT NULL,\r\n\tuserId\t\tBIGINT NOT NULL,\r\n\tisHomeLoc\tBIT,\r\n\tdayOfVisit\tDATE\r\n);\r\n\r\nALTER TABLE userLocation\r\n  ADD CONSTRAINT userLocation_FK1 FOREIGN KEY (locId)\r\n  REFERENCES location (locId);\r\n\r\nALTER TABLE userLocation\r\n  ADD CONSTRAINT userLocation_FK2 FOREIGN KEY (userId)\r\n  REFERENCES sec_user (userId);  \r\n\r\nCREATE TABLE amenity (\r\n\tamenityId\tBIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT,\r\n\tamenityName\tVARCHAR(75),\r\n\tlocId\t\tBIGINT\r\n);\r\n\r\nALTER TABLE amenity\r\n  ADD CONSTRAINT amenity_FK FOREIGN KEY (locId)\r\n  REFERENCES location (locId);\r\n  \r\nCREATE TABLE room (\r\n\troomId\t\tBIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT,\r\n\troomName\tVARCHAR(75),\r\n\tlocId\t\tBIGINT\r\n);\r\n\r\nALTER TABLE room\r\n  ADD CONSTRAINT room_FK FOREIGN KEY (locId)\r\n  REFERENCES location (locId);\r\n\r\nCREATE TABLE classCoach (\r\n    classId  BIGINT NOT NULL,\r\n    coachId  BIGINT NOT NULL\r\n);\r\n\r\nALTER TABLE classCoach\r\n  ADD CONSTRAINT classCoachFK1   FOREIGN KEY (classId)\r\n    REFERENCES fitnessClass(classId);\r\n\r\nALTER TABLE classCoach\r\n  ADD CONSTRAINT classCoachFK2    FOREIGN KEY (coachId)\r\n    REFERENCES coach(coachId);\r\n\r\nCREATE TABLE schedule (\r\n    ScheduleId      BIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT,\r\n    ScheduleDate    DATE,\r\n    ScheduleTime    TIME,\r\n    RoomId          BIGINT,\r\n    ClassId         BIGINT NOT NULL,\r\n    LocId           BIGINT NOT NULL\r\n);\r\n    \r\nALTER TABLE schedule\r\n  ADD CONSTRAINT scheduleFK1  FOREIGN KEY (roomId)\r\n    REFERENCES room(RoomId);\r\n    \r\nALTER TABLE schedule\r\n  ADD CONSTRAINT scheduleFK2  FOREIGN KEY (classId)\r\n    REFERENCES fitnessClass(classId);\r\n    \r\nALTER TABLE schedule\r\n  ADD CONSTRAINT ScheduleFK3  FOREIGN KEY (LocId)\r\n    REFERENCES location(LocId);\r\n\r\nCREATE TABLE reservation (\r\n    ClassId     BIGINT NOT NULL,\r\n    userId\t    BIGINT NOT NULL\r\n);\r\n\r\nALTER TABLE reservation\r\n  ADD CONSTRAINT reservationFK1  FOREIGN KEY (classId)\r\n    REFERENCES fitnessClass(classId);\r\n    \r\nALTER TABLE reservation\r\n  ADD CONSTRAINT reservationFK2  FOREIGN KEY (userId)\r\n    REFERENCES sec_user(userId);\r\n\r\nCREATE TABLE workFrom (\r\n    coachId     BIGINT NOT NULL,\r\n    locId       BIGINT NOT NULL\r\n);\r\n\r\nALTER TABLE workFrom\r\n  ADD CONSTRAINT workFromFK1  FOREIGN KEY (coachId)\r\n    REFERENCES coach(coachId);\r\n    \r\nALTER TABLE workFrom\r\n  ADD CONSTRAINT workFromFK2  FOREIGN KEY (locId)\r\n    REFERENCES location(locId);\r\n\r\nCREATE TABLE review (\r\n    ReviewId    BIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT,\r\n    CoachId     BIGINT NOT NULL,\r\n    userId    BIGINT NOT NULL,\r\n    ReviewDate  DATE,\r\n    ComScore    CHAR(1),\r\n    EnthScore   CHAR(1),\r\n    PunctScore  CHAR(1),\r\n    ReviewText  VARCHAR(500)\r\n);\r\n\r\nALTER TABLE review\r\n  ADD CONSTRAINT reviewFK1  FOREIGN KEY (coachId)\r\n    REFERENCES coach(coachId);\r\nALTER TABLE review\r\n  ADD CONSTRAINT reviewFK2  FOREIGN KEY (userId)\r\n    REFERENCES sec_user(userId);\r\n\r\nCREATE TABLE Reference (\r\n    CoachId     BIGINT NOT NULL,\r\n    userId    BIGINT NOT NULL\r\n);\r\nALTER TABLE Reference\r\n  ADD CONSTRAINT ReferenceFK1  FOREIGN KEY (coachId)\r\n    REFERENCES coach(coachId);\r\nALTER TABLE review\r\n  ADD CONSTRAINT ReferenceFK2  FOREIGN KEY (userId)\r\n    REFERENCES sec_user(userId);\r\n\r\nCREATE TABLE ClientCoach (\r\n    coachId     BIGINT NOT NULL,\r\n    userId    BIGINT NOT NULL,\r\n    myCoach     BIT\r\n);\r\n\r\nALTER TABLE ClientCoach\r\n  ADD CONSTRAINT ClientCoachFK1  FOREIGN KEY (coachId)\r\n    REFERENCES coach(coachId);\r\nALTER TABLE ClientCoach\r\n  ADD CONSTRAINT ClientCoachFK2  FOREIGN KEY (userId)\r\n    REFERENCES sec_user(userId);\r\n\r\n\r\nCREATE TABLE sec_role(\r\n  roleId   BIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT,\r\n  roleName VARCHAR(30) NOT NULL UNIQUE\r\n);\r\n\r\nCREATE TABLE user_role\r\n(\r\n  id     BIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT,\r\n  userId BIGINT NOT NULL,\r\n  roleId BIGINT NOT NULL\r\n);\r\n\r\n\r\nALTER TABLE user_role\r\n  ADD CONSTRAINT user_role_uk UNIQUE (userId, roleId);\r\n\r\nALTER TABLE user_role\r\n  ADD CONSTRAINT user_role_fk1 FOREIGN KEY (userId)\r\n  REFERENCES sec_user (userId);\r\n \r\nALTER TABLE user_role\r\n  ADD CONSTRAINT user_role_fk2 FOREIGN KEY (roleId)\r\n  REFERENCES sec_role (roleId);\r\n```\r\n[Here the result web page][1]\r\n\r\n\r\n[Here is EERD for the schema][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nZiGe.png\r\n  [2]: https://i.stack.imgur.com/6fhGI.png","title":"Why a SQL SELECT statement doesn&#39;t return COUNT() result on Java Spring boot project?","body":"<p>this is my first question here so, please ask if you need more information. I am working on a personal project. I have a relatively complex relational database structure. I create schema.sql on my spring boot project as well as data.sql with sample data. I try to create a web application for simulated fitness centre web pages. I try to display the location name and number of visits for the user. I create a userLocation bean for keeping the result set as a list of the select query. I can test the statement on H2 database and its work. However, on my code, I cannot get the number of visits from the select statement.</p>\n<p>Here is my userlocation bean,</p>\n<pre><code>@Data\n@NoArgsConstructor\npublic class UserLocation {\n    \n    private String locName;\n    private int numOfVisit;\n\n}\n</code></pre>\n<p>Controller class getMapping method</p>\n<pre><code>    @GetMapping(&quot;/secure/userLocation&quot;)\n    public String myLocation(Model model, Authentication authentication) {\n        \n        String email = authentication.getName();\n        User currentUser = da.findUserAccount(email);\n        model.addAttribute(&quot;myLocationList&quot;, da.getUserLocationList(currentUser.getUserId()));\n        \n        return &quot;/secure/userLocation&quot;;\n    }\n</code></pre>\n<p>Here database access method;</p>\n<pre><code>public List&lt;UserLocation&gt; getUserLocationList(Long userId) {\n        MapSqlParameterSource namedParameters = new MapSqlParameterSource();\n\n        String query = &quot;SELECT l.locName, COUNT(ul.dayOfVisit) FROM location l &quot;\n                + &quot;INNER JOIN userLocation ul ON l.locId = ul.locId &quot;\n                + &quot;INNER JOIN sec_user sc ON ul.userId = sc.userId &quot;\n                + &quot;WHERE sc.userId = :userId AND ul.locId = 1&quot;\n                + &quot;GROUP BY l.locName&quot;;\n\n        namedParameters.addValue(&quot;userId&quot;, userId);\n        \n        return jdbc.query(query, namedParameters, new BeanPropertyRowMapper&lt;UserLocation&gt;(UserLocation.class));\n\n    }\n</code></pre>\n<p>here schema.sql</p>\n<pre><code>CREATE TABLE location (\n  locId         BIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT,\n  locName       VARCHAR(75),\n  locAddress    VARCHAR(255),\n  locPhone      VARCHAR(25),\n  locEmail      VARCHAR(75)\n);\n\nCREATE TABLE sec_user (\n  userId            BIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT,\n  name              VARCHAR(75),\n  lastName          VARCHAR(75),\n  adress            VARCHAR(255),\n  phone             VARCHAR(10),\n  email             VARCHAR(75) NOT NULL UNIQUE,\n  encryptedPassword VARCHAR(128) NOT NULL,\n  enabled           BIT NOT NULL\n);\n\nCREATE TABLE coach (\n\n    coachId     BIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT, \n    coachName   VARCHAR(75),\n    coachLevel  BIGINT,\n    coachRating BIGINT,\n    aboutMe     VARCHAR(255)\n);\n\nCREATE TABLE fitnessClass (\n\n    classId     BIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT, \n    className   VARCHAR(75),\n    classPrice  DOUBLE\n);\n\nCREATE TABLE generalCert (\n    \n    certId      BIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT,\n    certName    VARCHAR(75)\n);\n\nCREATE TABLE certCoach (\n    \n    certId      BIGINT NOT NULL,\n    coachId     BIGINT NOT NULL\n);\n\nALTER TABLE certCoach\n  ADD CONSTRAINT certCoach_FK1 FOREIGN KEY (certId)\n  REFERENCES generalCert (certId);\n\nALTER TABLE certCoach\n  ADD CONSTRAINT certCoach_FK2 FOREIGN KEY (coachId)\n  REFERENCES coach (coachId);\n\nCREATE TABLE userLocation (\n    \n    userLocId   BIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT,\n    locId       BIGINT NOT NULL,\n    userId      BIGINT NOT NULL,\n    isHomeLoc   BIT,\n    dayOfVisit  DATE\n);\n\nALTER TABLE userLocation\n  ADD CONSTRAINT userLocation_FK1 FOREIGN KEY (locId)\n  REFERENCES location (locId);\n\nALTER TABLE userLocation\n  ADD CONSTRAINT userLocation_FK2 FOREIGN KEY (userId)\n  REFERENCES sec_user (userId);  \n\nCREATE TABLE amenity (\n    amenityId   BIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT,\n    amenityName VARCHAR(75),\n    locId       BIGINT\n);\n\nALTER TABLE amenity\n  ADD CONSTRAINT amenity_FK FOREIGN KEY (locId)\n  REFERENCES location (locId);\n  \nCREATE TABLE room (\n    roomId      BIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT,\n    roomName    VARCHAR(75),\n    locId       BIGINT\n);\n\nALTER TABLE room\n  ADD CONSTRAINT room_FK FOREIGN KEY (locId)\n  REFERENCES location (locId);\n\nCREATE TABLE classCoach (\n    classId  BIGINT NOT NULL,\n    coachId  BIGINT NOT NULL\n);\n\nALTER TABLE classCoach\n  ADD CONSTRAINT classCoachFK1   FOREIGN KEY (classId)\n    REFERENCES fitnessClass(classId);\n\nALTER TABLE classCoach\n  ADD CONSTRAINT classCoachFK2    FOREIGN KEY (coachId)\n    REFERENCES coach(coachId);\n\nCREATE TABLE schedule (\n    ScheduleId      BIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT,\n    ScheduleDate    DATE,\n    ScheduleTime    TIME,\n    RoomId          BIGINT,\n    ClassId         BIGINT NOT NULL,\n    LocId           BIGINT NOT NULL\n);\n    \nALTER TABLE schedule\n  ADD CONSTRAINT scheduleFK1  FOREIGN KEY (roomId)\n    REFERENCES room(RoomId);\n    \nALTER TABLE schedule\n  ADD CONSTRAINT scheduleFK2  FOREIGN KEY (classId)\n    REFERENCES fitnessClass(classId);\n    \nALTER TABLE schedule\n  ADD CONSTRAINT ScheduleFK3  FOREIGN KEY (LocId)\n    REFERENCES location(LocId);\n\nCREATE TABLE reservation (\n    ClassId     BIGINT NOT NULL,\n    userId      BIGINT NOT NULL\n);\n\nALTER TABLE reservation\n  ADD CONSTRAINT reservationFK1  FOREIGN KEY (classId)\n    REFERENCES fitnessClass(classId);\n    \nALTER TABLE reservation\n  ADD CONSTRAINT reservationFK2  FOREIGN KEY (userId)\n    REFERENCES sec_user(userId);\n\nCREATE TABLE workFrom (\n    coachId     BIGINT NOT NULL,\n    locId       BIGINT NOT NULL\n);\n\nALTER TABLE workFrom\n  ADD CONSTRAINT workFromFK1  FOREIGN KEY (coachId)\n    REFERENCES coach(coachId);\n    \nALTER TABLE workFrom\n  ADD CONSTRAINT workFromFK2  FOREIGN KEY (locId)\n    REFERENCES location(locId);\n\nCREATE TABLE review (\n    ReviewId    BIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT,\n    CoachId     BIGINT NOT NULL,\n    userId    BIGINT NOT NULL,\n    ReviewDate  DATE,\n    ComScore    CHAR(1),\n    EnthScore   CHAR(1),\n    PunctScore  CHAR(1),\n    ReviewText  VARCHAR(500)\n);\n\nALTER TABLE review\n  ADD CONSTRAINT reviewFK1  FOREIGN KEY (coachId)\n    REFERENCES coach(coachId);\nALTER TABLE review\n  ADD CONSTRAINT reviewFK2  FOREIGN KEY (userId)\n    REFERENCES sec_user(userId);\n\nCREATE TABLE Reference (\n    CoachId     BIGINT NOT NULL,\n    userId    BIGINT NOT NULL\n);\nALTER TABLE Reference\n  ADD CONSTRAINT ReferenceFK1  FOREIGN KEY (coachId)\n    REFERENCES coach(coachId);\nALTER TABLE review\n  ADD CONSTRAINT ReferenceFK2  FOREIGN KEY (userId)\n    REFERENCES sec_user(userId);\n\nCREATE TABLE ClientCoach (\n    coachId     BIGINT NOT NULL,\n    userId    BIGINT NOT NULL,\n    myCoach     BIT\n);\n\nALTER TABLE ClientCoach\n  ADD CONSTRAINT ClientCoachFK1  FOREIGN KEY (coachId)\n    REFERENCES coach(coachId);\nALTER TABLE ClientCoach\n  ADD CONSTRAINT ClientCoachFK2  FOREIGN KEY (userId)\n    REFERENCES sec_user(userId);\n\n\nCREATE TABLE sec_role(\n  roleId   BIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT,\n  roleName VARCHAR(30) NOT NULL UNIQUE\n);\n\nCREATE TABLE user_role\n(\n  id     BIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT,\n  userId BIGINT NOT NULL,\n  roleId BIGINT NOT NULL\n);\n\n\nALTER TABLE user_role\n  ADD CONSTRAINT user_role_uk UNIQUE (userId, roleId);\n\nALTER TABLE user_role\n  ADD CONSTRAINT user_role_fk1 FOREIGN KEY (userId)\n  REFERENCES sec_user (userId);\n \nALTER TABLE user_role\n  ADD CONSTRAINT user_role_fk2 FOREIGN KEY (roleId)\n  REFERENCES sec_role (roleId);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/nZiGe.png\" rel=\"nofollow noreferrer\">Here the result web page</a></p>\n<p><a href=\"https://i.stack.imgur.com/6fhGI.png\" rel=\"nofollow noreferrer\">Here is EERD for the schema</a></p>\n"},{"tags":["java","swing","components","resize","size"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1640803093,"post_id":70523527,"comment_id":124664147,"body_markdown":"Not really understanding the problem. I see a vertical scrollbar so that appears to work. None of the panels are wide enough to need a horizontal scrollbar so that also appears to be working. I would guess you are trying to have all the panels fill the space available so you could use a `GridBagLayout` with a &quot;fill&quot; constraint. Or nest a panel with a `GridLayout` to the &quot;PAGE_START: in a panel using a `BorderLayout`. Post an [mre] if you need more help. Create a simple demo with panels with hardcoded sizes and different colors to demonstrate what you are trying to do.","body":"Not really understanding the problem. I see a vertical scrollbar so that appears to work. None of the panels are wide enough to need a horizontal scrollbar so that also appears to be working. I would guess you are trying to have all the panels fill the space available so you could use a <code>GridBagLayout</code> with a &quot;fill&quot; constraint. Or nest a panel with a <code>GridLayout</code> to the &quot;PAGE_START: in a panel using a <code>BorderLayout</code>. Post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> if you need more help. Create a simple demo with panels with hardcoded sizes and different colors to demonstrate what you are trying to do."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1640803509,"post_id":70523527,"comment_id":124664264,"body_markdown":"it&#39;ss hard to tell from an image, but it looks like your inner `JPanels` should contain a `JLabel` for the image and two non-editable `JTextAreas` for the text.  Another alternative is to use a `JTable` with a `JLabel` and two non-editable `JTextAreas`.","body":"it&#39;ss hard to tell from an image, but it looks like your inner <code>JPanels</code> should contain a <code>JLabel</code> for the image and two non-editable <code>JTextAreas</code> for the text.  Another alternative is to use a <code>JTable</code> with a <code>JLabel</code> and two non-editable <code>JTextAreas</code>."},{"owner":{"account_id":22284872,"reputation":21,"user_id":16512704,"display_name":"JCGdev"},"score":0,"creation_date":1640816137,"post_id":70523527,"comment_id":124667932,"body_markdown":"Just added more info about the problem. I wan&#39;t the track boxes to be of a fixed size, so that they can&#39;t get resized. Because, if they get adapted to the avalaible space, the scroll bar makes no sense, and the text may not be visible. Thanks for your time guys!","body":"Just added more info about the problem. I wan&#39;t the track boxes to be of a fixed size, so that they can&#39;t get resized. Because, if they get adapted to the avalaible space, the scroll bar makes no sense, and the text may not be visible. Thanks for your time guys!"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1640819104,"post_id":70523527,"comment_id":124668648,"body_markdown":"(1-) 1) That is NOT an [mre]. We are not interested in your application, only code that demonstrates the problem. You were given a simple suggestion on how to simplify the code to demonstrate your problem. 2) Your comment makes no sense. If the panel is created properly a scrollbar will appear when required so you can scroll to see text that may not currently be visible. Your first image has a problem because you are manually setting the preferred size. Don&#39;t set the preferred size. You have been give suggestions on using a different layout manager to achieve your desired layout.","body":"(1-) 1) That is NOT an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. We are not interested in your application, only code that demonstrates the problem. You were given a simple suggestion on how to simplify the code to demonstrate your problem. 2) Your comment makes no sense. If the panel is created properly a scrollbar will appear when required so you can scroll to see text that may not currently be visible. Your first image has a problem because you are manually setting the preferred size. Don&#39;t set the preferred size. You have been give suggestions on using a different layout manager to achieve your desired layout."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1640820068,"post_id":70523527,"comment_id":124668864,"body_markdown":"*I wan&#39;t the track boxes to be of a fixed size,* - the BoxLayout respects the maximum size which is not set for a JPanel, so a panel will grow to fill the space. You can override the `getMaximumSize()` method of your panel to return the &quot;preferred size&quot;.","body":"<i>I wan&#39;t the track boxes to be of a fixed size,</i> - the BoxLayout respects the maximum size which is not set for a JPanel, so a panel will grow to fill the space. You can override the <code>getMaximumSize()</code> method of your panel to return the &quot;preferred size&quot;."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640808229,"creation_date":1640807903,"answer_id":70524399,"question_id":70523527,"body_markdown":"I took what information was visible in your image and created an example Swing GUI that displays the same information.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI don&#39;t know how my code is different from your code.  I placed a `JLabel` and two `JTextAreas` inside of a download `JPanel`.  I created a main `JPanel` to hold the download `JPanels`.\r\n\r\nHere&#39;s the complete runnable code I used.  I made the additional classes inner classes so I could post the code as one block.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.Graphics;\r\n    import java.awt.GridLayout;\r\n    import java.awt.image.BufferedImage;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class MusicDownloadGUI implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new MusicDownloadGUI());\r\n    \t}\r\n    \t\r\n    \tprivate final MusicDownloadModel model;\r\n    \t\r\n    \tpublic MusicDownloadGUI() {\r\n    \t\tthis.model = new MusicDownloadModel();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;Music Download&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\tframe.add(createMainPanel(), BorderLayout.CENTER);\r\n    \t\t\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \t\r\n    \tprivate JScrollPane createMainPanel() {\r\n    \t\tJPanel panel = new JPanel(new GridLayout(0, 1, 5, 5));\r\n    \t\tpanel.setBackground(Color.WHITE);\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\r\n    \t\t\r\n    \t\tfor (Track track : model.getDownloads()) {\r\n    \t\t\tpanel.add(createDownloadPanel(track));\r\n    \t\t}\r\n    \t\t\r\n    \t\tJScrollPane scrollPane = new JScrollPane(panel);\r\n    \t\tscrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\r\n    \t\treturn scrollPane;\r\n    \t}\r\n    \t\r\n    \tprivate JPanel createDownloadPanel(Track track) {\r\n    \t\tJPanel panel = new JPanel(new FlowLayout(FlowLayout.LEFT, 10, 10));\r\n    \t\tpanel.setBackground(Color.WHITE);\r\n    \t\t\r\n    \t\tJLabel label = new JLabel(new ImageIcon(track.getAlbumCover()));\r\n    \t\tpanel.add(label);\r\n    \t\t\r\n    \t\tJTextArea titleArea = new JTextArea(3, 30);\r\n    \t\ttitleArea.setEditable(false);\r\n    \t\ttitleArea.setText(createTitleArea(track));\r\n    \t\tpanel.add(titleArea);\r\n    \t\t\r\n    \t\tJTextArea artistArea = new JTextArea(3, 25);\r\n    \t\tartistArea.setEditable(false);\r\n    \t\tartistArea.setText(createArtistArea(track));\r\n    \t\tpanel.add(artistArea);\r\n    \t\t\r\n    \t\treturn panel;\r\n    \t}\r\n    \t\r\n    \tprivate String createTitleArea(Track track) {\r\n    \t\tStringBuilder builder = new StringBuilder();\r\n    \t\tbuilder.append(track.getTitle());\r\n    \t\tbuilder.append(System.lineSeparator());\r\n    \t\tbuilder.append(&quot;Download -- &quot;);\r\n    \t\tbuilder.append(track.getPercentDownloaded());\r\n    \t\tbuilder.append(&quot;%&quot;);\r\n    //\t\tSystem.out.println(builder.toString());\r\n    \t\t\r\n    \t\treturn builder.toString();\r\n    \t}\r\n    \t\r\n    \tprivate String createArtistArea(Track track) {\r\n    \t\tStringBuilder builder = new StringBuilder();\r\n    \t\tbuilder.append(&quot;Artist: &quot;);\r\n    \t\tbuilder.append(track.getArtist());\r\n    \t\tbuilder.append(System.lineSeparator());\r\n    \t\tbuilder.append(&quot;Duration: &quot;);\r\n    \t\tint minutes = track.getDuration() / 60;\r\n    \t\tint seconds = track.getDuration() % 60;\r\n    \t\tbuilder.append(minutes);\r\n    \t\tbuilder.append(&quot; minutes, &quot;);\r\n    \t\tbuilder.append(seconds);\r\n    \t\tbuilder.append(&quot; seconds&quot;);\r\n    \t\tbuilder.append(System.lineSeparator());\r\n    \t\tbuilder.append(&quot;Quality: &quot;);\r\n    \t\tbuilder.append(track.getQuality());\r\n    \t\t\r\n    \t\treturn builder.toString();\r\n    \t}\r\n    \t\r\n    \tpublic class MusicDownloadModel {\r\n    \t\t \r\n    \t\tprivate final List&lt;Track&gt; downloads;\r\n    \t\t\r\n    \t\tpublic MusicDownloadModel() {\r\n    \t\t\tthis.downloads = new ArrayList&lt;&gt;();\r\n    \t\t\t\r\n    \t\t\tTrack track = new Track(&quot;Bandaga&quot;, &quot;Otra Copa&quot;, &quot;0.6 kbytes&quot;, 216);\r\n    \t\t\ttrack.setPercentDownloaded(42);\r\n    \t\t\taddDownload(track);\r\n    \t\t\taddDownload(new Track(&quot;Bandaga&quot;, &quot;Ahora Dice Que Me Ama&quot;, &quot;0.6 kbytes&quot;, 198));\r\n    \t\t\taddDownload(new Track(&quot;Camin&quot;, &quot;Tu Nombre (feat. JC Reyes, El Daddy) - Remix&quot;, \r\n    \t\t\t\t\t&quot;0.6 kbytes&quot;, 246));\r\n    \t\t\taddDownload(new Track(&quot;Bandaga&quot;, &quot;Como Tu&quot;, &quot;0.6 kbytes&quot;, 205));\r\n    \t\t\taddDownload(new Track(&quot;Pablo Alboran&quot;, &quot;Liueve Sobre Mo Jado&quot;, &quot;0.6 kbytes&quot;, 228));\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic void addDownload(Track track) {\r\n    \t\t\tthis.downloads.add(track);\r\n    \t\t}\r\n    \r\n    \t\tpublic List&lt;Track&gt; getDownloads() {\r\n    \t\t\treturn downloads;\r\n    \t\t}\r\n    \t\t\t\r\n    \t}\r\n    \t\r\n    \tpublic class Track {\r\n    \t\t\r\n    \t\tprivate int percentDownloaded;\r\n    \t\tprivate final int duration;\r\n    \t\t\r\n    \t\tprivate final String artist, quality, title;\r\n    \t\t\r\n    \t\tprivate final BufferedImage albumCover;\r\n    \r\n    \t\tpublic Track(String artist, String title, String quality, int duration) {\r\n    \t\t\tthis.artist = artist;\r\n    \t\t\tthis.title = title;\r\n    \t\t\tthis.quality = quality;\r\n    \t\t\tthis.duration = duration;\r\n    \t\t\tthis.percentDownloaded = 0;\r\n    \t\t\t\r\n    \t\t\tthis.albumCover = new BufferedImage(40, 20, BufferedImage.TYPE_INT_RGB);\r\n    \t\t\tGraphics g = albumCover.getGraphics();\r\n    \t\t\tg.setColor(Color.BLUE);\r\n    \t\t\tg.fillRect(0, 0, albumCover.getWidth(), albumCover.getHeight());\r\n    \t\t\tg.dispose();\r\n    \t\t}\r\n    \r\n    \t\tpublic int getPercentDownloaded() {\r\n    \t\t\treturn percentDownloaded;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setPercentDownloaded(int percentDownloaded) {\r\n    \t\t\tthis.percentDownloaded = percentDownloaded;\r\n    \t\t}\r\n    \r\n    \t\tpublic int getDuration() {\r\n    \t\t\treturn duration;\r\n    \t\t}\r\n    \r\n    \t\tpublic String getArtist() {\r\n    \t\t\treturn artist;\r\n    \t\t}\r\n    \r\n    \t\tpublic String getQuality() {\r\n    \t\t\treturn quality;\r\n    \t\t}\r\n    \r\n    \t\tpublic String getTitle() {\r\n    \t\t\treturn title;\r\n    \t\t}\r\n    \r\n    \t\tpublic BufferedImage getAlbumCover() {\r\n    \t\t\treturn albumCover;\r\n    \t\t} \r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zOOsa.png\r\n","title":"How to stop components adapting to the size of a JPanel that is inside a JScrollPane","body":"<p>I took what information was visible in your image and created an example Swing GUI that displays the same information.</p>\n<p><a href=\"https://i.stack.imgur.com/zOOsa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zOOsa.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't know how my code is different from your code.  I placed a <code>JLabel</code> and two <code>JTextAreas</code> inside of a download <code>JPanel</code>.  I created a main <code>JPanel</code> to hold the download <code>JPanels</code>.</p>\n<p>Here's the complete runnable code I used.  I made the additional classes inner classes so I could post the code as one block.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.FlowLayout;\nimport java.awt.Graphics;\nimport java.awt.GridLayout;\nimport java.awt.image.BufferedImage;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.SwingUtilities;\n\npublic class MusicDownloadGUI implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new MusicDownloadGUI());\n    }\n    \n    private final MusicDownloadModel model;\n    \n    public MusicDownloadGUI() {\n        this.model = new MusicDownloadModel();\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Music Download&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        frame.add(createMainPanel(), BorderLayout.CENTER);\n        \n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n    \n    private JScrollPane createMainPanel() {\n        JPanel panel = new JPanel(new GridLayout(0, 1, 5, 5));\n        panel.setBackground(Color.WHITE);\n        panel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\n        \n        for (Track track : model.getDownloads()) {\n            panel.add(createDownloadPanel(track));\n        }\n        \n        JScrollPane scrollPane = new JScrollPane(panel);\n        scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\n        return scrollPane;\n    }\n    \n    private JPanel createDownloadPanel(Track track) {\n        JPanel panel = new JPanel(new FlowLayout(FlowLayout.LEFT, 10, 10));\n        panel.setBackground(Color.WHITE);\n        \n        JLabel label = new JLabel(new ImageIcon(track.getAlbumCover()));\n        panel.add(label);\n        \n        JTextArea titleArea = new JTextArea(3, 30);\n        titleArea.setEditable(false);\n        titleArea.setText(createTitleArea(track));\n        panel.add(titleArea);\n        \n        JTextArea artistArea = new JTextArea(3, 25);\n        artistArea.setEditable(false);\n        artistArea.setText(createArtistArea(track));\n        panel.add(artistArea);\n        \n        return panel;\n    }\n    \n    private String createTitleArea(Track track) {\n        StringBuilder builder = new StringBuilder();\n        builder.append(track.getTitle());\n        builder.append(System.lineSeparator());\n        builder.append(&quot;Download -- &quot;);\n        builder.append(track.getPercentDownloaded());\n        builder.append(&quot;%&quot;);\n//      System.out.println(builder.toString());\n        \n        return builder.toString();\n    }\n    \n    private String createArtistArea(Track track) {\n        StringBuilder builder = new StringBuilder();\n        builder.append(&quot;Artist: &quot;);\n        builder.append(track.getArtist());\n        builder.append(System.lineSeparator());\n        builder.append(&quot;Duration: &quot;);\n        int minutes = track.getDuration() / 60;\n        int seconds = track.getDuration() % 60;\n        builder.append(minutes);\n        builder.append(&quot; minutes, &quot;);\n        builder.append(seconds);\n        builder.append(&quot; seconds&quot;);\n        builder.append(System.lineSeparator());\n        builder.append(&quot;Quality: &quot;);\n        builder.append(track.getQuality());\n        \n        return builder.toString();\n    }\n    \n    public class MusicDownloadModel {\n         \n        private final List&lt;Track&gt; downloads;\n        \n        public MusicDownloadModel() {\n            this.downloads = new ArrayList&lt;&gt;();\n            \n            Track track = new Track(&quot;Bandaga&quot;, &quot;Otra Copa&quot;, &quot;0.6 kbytes&quot;, 216);\n            track.setPercentDownloaded(42);\n            addDownload(track);\n            addDownload(new Track(&quot;Bandaga&quot;, &quot;Ahora Dice Que Me Ama&quot;, &quot;0.6 kbytes&quot;, 198));\n            addDownload(new Track(&quot;Camin&quot;, &quot;Tu Nombre (feat. JC Reyes, El Daddy) - Remix&quot;, \n                    &quot;0.6 kbytes&quot;, 246));\n            addDownload(new Track(&quot;Bandaga&quot;, &quot;Como Tu&quot;, &quot;0.6 kbytes&quot;, 205));\n            addDownload(new Track(&quot;Pablo Alboran&quot;, &quot;Liueve Sobre Mo Jado&quot;, &quot;0.6 kbytes&quot;, 228));\n        }\n        \n        public void addDownload(Track track) {\n            this.downloads.add(track);\n        }\n\n        public List&lt;Track&gt; getDownloads() {\n            return downloads;\n        }\n            \n    }\n    \n    public class Track {\n        \n        private int percentDownloaded;\n        private final int duration;\n        \n        private final String artist, quality, title;\n        \n        private final BufferedImage albumCover;\n\n        public Track(String artist, String title, String quality, int duration) {\n            this.artist = artist;\n            this.title = title;\n            this.quality = quality;\n            this.duration = duration;\n            this.percentDownloaded = 0;\n            \n            this.albumCover = new BufferedImage(40, 20, BufferedImage.TYPE_INT_RGB);\n            Graphics g = albumCover.getGraphics();\n            g.setColor(Color.BLUE);\n            g.fillRect(0, 0, albumCover.getWidth(), albumCover.getHeight());\n            g.dispose();\n        }\n\n        public int getPercentDownloaded() {\n            return percentDownloaded;\n        }\n\n        public void setPercentDownloaded(int percentDownloaded) {\n            this.percentDownloaded = percentDownloaded;\n        }\n\n        public int getDuration() {\n            return duration;\n        }\n\n        public String getArtist() {\n            return artist;\n        }\n\n        public String getQuality() {\n            return quality;\n        }\n\n        public String getTitle() {\n            return title;\n        }\n\n        public BufferedImage getAlbumCover() {\n            return albumCover;\n        } \n        \n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640823868,"creation_date":1640823868,"answer_id":70526311,"question_id":70523527,"body_markdown":"A BoxLayout respects the minimum and maximum sizes of components added to it.\r\n\r\nBy default a JPanel doesn&#39;t have a maximum size so it grows to fill the space available.\r\n\r\nSo one solution is to override the `getMaximumSize()` method of the panel to be equal to the preferred size.\r\n\r\na) Run the code as is below to see the default behavour. Click the &quot;Add Row&quot; button to see how the layout changes as rows are added.\r\n\r\nb) Then repeat after changing the `getMaximumSize()` method to use the preferred size.\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    \r\n    public class BoxLayoutRow extends JPanel\r\n    {\r\n    \tprivate int rowIndex;\r\n    \tprivate JPanel rowPanel;\r\n    \r\n    \tpublic BoxLayoutRow()\r\n    \t{\r\n    \t\tsetLayout( new BorderLayout() );\r\n    \r\n    \t\trowPanel = new JPanel();\r\n    \t\trowPanel.setLayout( new BoxLayout(rowPanel, BoxLayout.Y_AXIS) );\r\n    \r\n    \t\tadd(new JScrollPane(rowPanel), BorderLayout.CENTER);\r\n    \r\n    \t\tJButton addRow = new JButton(&quot;Add Row&quot;);\r\n    \t\tadd(addRow, BorderLayout.PAGE_END);\r\n    \r\n    \t\taddRow.addActionListener((e) -&gt; this.addRow());\r\n    \t}\r\n    \r\n    \tprivate void addRow()\r\n    \t{\r\n    \t\trowIndex++;\r\n    \r\n    \t\tJPanel row = new JPanel()\r\n    \t\t{\r\n    \t\t\t@Override\r\n    \t\t\tpublic Dimension getMaximumSize()\r\n    \t\t\t{\r\n    \t\t\t\treturn super.getMaximumSize();\r\n    \t\t\t\t//return getPreferredSize();\r\n    \t\t\t}\r\n    \t\t};\r\n    \r\n    \t\trow.setAlignmentX(0.0f);\r\n    \r\n    \t\trow.add( new JLabel(&quot;Row: &quot; + rowIndex) );\r\n    \t\trow.setBorder(BorderFactory.createLineBorder(Color.RED));\r\n    \r\n        \trowPanel.add( row );\r\n    \t\trevalidate();\r\n    \t\trepaint();\r\n    \t}\r\n    \r\n    \tprivate static void createAndShowUI()\r\n    \t{\r\n    \t\tJFrame frame = new JFrame(&quot;BoxLayoutRow&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.add( new BoxLayoutRow() );\r\n    \t\tframe.setSize(400, 200);\r\n    \t\tframe.setLocationByPlatform( true );\r\n    \t\tframe.setVisible( true );\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tEventQueue.invokeLater(() -&gt; createAndShowUI());\r\n    \t}\r\n    }\r\n\r\n","title":"How to stop components adapting to the size of a JPanel that is inside a JScrollPane","body":"<p>A BoxLayout respects the minimum and maximum sizes of components added to it.</p>\n<p>By default a JPanel doesn't have a maximum size so it grows to fill the space available.</p>\n<p>So one solution is to override the <code>getMaximumSize()</code> method of the panel to be equal to the preferred size.</p>\n<p>a) Run the code as is below to see the default behavour. Click the &quot;Add Row&quot; button to see how the layout changes as rows are added.</p>\n<p>b) Then repeat after changing the <code>getMaximumSize()</code> method to use the preferred size.</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\npublic class BoxLayoutRow extends JPanel\n{\n    private int rowIndex;\n    private JPanel rowPanel;\n\n    public BoxLayoutRow()\n    {\n        setLayout( new BorderLayout() );\n\n        rowPanel = new JPanel();\n        rowPanel.setLayout( new BoxLayout(rowPanel, BoxLayout.Y_AXIS) );\n\n        add(new JScrollPane(rowPanel), BorderLayout.CENTER);\n\n        JButton addRow = new JButton(&quot;Add Row&quot;);\n        add(addRow, BorderLayout.PAGE_END);\n\n        addRow.addActionListener((e) -&gt; this.addRow());\n    }\n\n    private void addRow()\n    {\n        rowIndex++;\n\n        JPanel row = new JPanel()\n        {\n            @Override\n            public Dimension getMaximumSize()\n            {\n                return super.getMaximumSize();\n                //return getPreferredSize();\n            }\n        };\n\n        row.setAlignmentX(0.0f);\n\n        row.add( new JLabel(&quot;Row: &quot; + rowIndex) );\n        row.setBorder(BorderFactory.createLineBorder(Color.RED));\n\n        rowPanel.add( row );\n        revalidate();\n        repaint();\n    }\n\n    private static void createAndShowUI()\n    {\n        JFrame frame = new JFrame(&quot;BoxLayoutRow&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add( new BoxLayoutRow() );\n        frame.setSize(400, 200);\n        frame.setLocationByPlatform( true );\n        frame.setVisible( true );\n    }\n\n    public static void main(String[] args)\n    {\n        EventQueue.invokeLater(() -&gt; createAndShowUI());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22284872,"reputation":21,"user_id":16512704,"display_name":"JCGdev"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":537,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1640823868,"creation_date":1640802674,"question_id":70523527,"body_markdown":"The components inside a JPanel (which has a BoxLayout) are getting resized when there&#39;s lack of space. \r\n\r\nThe JPanel is inside a JScrollPane, but because of the fact that the components get resized, the scroll bar is useless.\r\n\r\nThe JScrollPane is also content inside a JTabbedPane by the way.\r\n\r\nSetting a minimum size and preferred size to every component doesn&#39;t fix the problem:\r\n\r\n    this.setPreferredSize(new Dimension(100,20));\r\n    this.setMinimumSize(new Dimension(100,20));\r\n\r\nAny idea of how to deal with this?.\r\n\r\n\r\nScreenshot of the problem: \r\n \r\n[![https://i.imgur.com/7Nm7k81.png][1]][1]\r\n\r\nThis is how I wan&#39;t it to look like, with a fixed size:\r\n\r\n[![https://i.imgur.com/hmqFKwg.png][2]][2]\r\n\r\n\r\n   \r\n  [1]: https://i.stack.imgur.com/mDPxs.png\r\n  [2]: https://i.stack.imgur.com/G0oa2.png\r\n\r\n\r\n\r\n","title":"How to stop components adapting to the size of a JPanel that is inside a JScrollPane","body":"<p>The components inside a JPanel (which has a BoxLayout) are getting resized when there's lack of space.</p>\n<p>The JPanel is inside a JScrollPane, but because of the fact that the components get resized, the scroll bar is useless.</p>\n<p>The JScrollPane is also content inside a JTabbedPane by the way.</p>\n<p>Setting a minimum size and preferred size to every component doesn't fix the problem:</p>\n<pre><code>this.setPreferredSize(new Dimension(100,20));\nthis.setMinimumSize(new Dimension(100,20));\n</code></pre>\n<p>Any idea of how to deal with this?.</p>\n<p>Screenshot of the problem:</p>\n<p><a href=\"https://i.stack.imgur.com/mDPxs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mDPxs.png\" alt=\"https://i.imgur.com/7Nm7k81.png\" /></a></p>\n<p>This is how I wan't it to look like, with a fixed size:</p>\n<p><a href=\"https://i.stack.imgur.com/G0oa2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G0oa2.png\" alt=\"https://i.imgur.com/hmqFKwg.png\" /></a></p>\n"},{"tags":["java","oop","dependency-injection"],"comments":[{"owner":{"account_id":16186751,"reputation":361,"user_id":11686638,"display_name":"chl"},"score":0,"creation_date":1640782651,"post_id":70519653,"comment_id":124657021,"body_markdown":"does `Portfolio` do anything else? or just create several positions? As a novice, I think it would be better to make other class which execute `readerService.readPositions()` and create `Portfolio` instance with result.","body":"does <code>Portfolio</code> do anything else? or just create several positions? As a novice, I think it would be better to make other class which execute <code>readerService.readPositions()</code> and create <code>Portfolio</code> instance with result."},{"owner":{"account_id":10794963,"reputation":191,"user_id":7941061,"display_name":"zodiac645"},"score":0,"creation_date":1640785036,"post_id":70519653,"comment_id":124657887,"body_markdown":"Yes, portfolio class have additional responsibilities other than creating several positions. Coming back to your suggestion, that was my initial approach. It was like this in the main class.\n`portfolio.setPositions(reader.readPositions());`","body":"Yes, portfolio class have additional responsibilities other than creating several positions. Coming back to your suggestion, that was my initial approach. It was like this in the main class. <code>portfolio.setPositions(reader.readPositions());</code>"}],"answers":[{"tags":[],"owner":{"account_id":16186751,"reputation":361,"user_id":11686638,"display_name":"chl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640823048,"creation_date":1640823048,"answer_id":70526252,"question_id":70519653,"body_markdown":"For the sake of readability, I answer here.\r\n\r\nRather than `setPositions()`, I would like to create with constructor. And create another class (or you can put it in main class as you said, but you may don&#39;t like it) as below.\r\n\r\n```java\r\npublic class PortfolioService {\r\n    private final DataService dataService;\r\n    private final ReaderService readerService;\r\n\r\n    public PortfolioService(DataService dataService, ReaderService readerService) {\r\n        this.dataService = dataService;\r\n        this.readerService = readerService;\r\n    }\r\n\r\n    public PortfolioService createPortfolio() {\r\n         return new Portfolio(readerService.readPositions());\r\n    }\r\n}\r\n```\r\n\r\nthen, `Portfolio` class will look like this.\r\n\r\n```java\r\npublic class Portfolio {\r\n    private final List&lt;Position&gt; positions;\r\n    \r\n    public Portfolio(List&lt;Position&gt; positions) {\r\n         this.positions = positions;\r\n    }\r\n    \r\n    // and do something else with positions\r\n}","title":"Setting an instance variable using dependency","body":"<p>For the sake of readability, I answer here.</p>\n<p>Rather than <code>setPositions()</code>, I would like to create with constructor. And create another class (or you can put it in main class as you said, but you may don't like it) as below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PortfolioService {\n    private final DataService dataService;\n    private final ReaderService readerService;\n\n    public PortfolioService(DataService dataService, ReaderService readerService) {\n        this.dataService = dataService;\n        this.readerService = readerService;\n    }\n\n    public PortfolioService createPortfolio() {\n         return new Portfolio(readerService.readPositions());\n    }\n}\n</code></pre>\n<p>then, <code>Portfolio</code> class will look like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Portfolio {\n    private final List&lt;Position&gt; positions;\n    \n    public Portfolio(List&lt;Position&gt; positions) {\n         this.positions = positions;\n    }\n    \n    // and do something else with positions\n}\n</code></pre>\n"}],"owner":{"account_id":10794963,"reputation":191,"user_id":7941061,"display_name":"zodiac645"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1640823048,"creation_date":1640782176,"question_id":70519653,"body_markdown":"I am working on a project where I am trying to represent a Stock Portfolio. There is a class called `Position`. Also, there is another class called `Portfolio` and it&#39;s basically represents a set of positions along with additional instance variables/methods.\r\n\r\nA single `Position` is stored in a plain `.txt` file. In order to read that file, I&#39;ve created another class: `ReaderService`. In this class, necessary I/O operations are being performed and in the end, a `List&lt;Position&gt;` is being returned by the method called `readPositions()`.\r\n\r\n`Portfolio` class depends on `ReaderService` in order to set its `positions` field, and I am injecting that dependency via constructor, that is constructor injection.\r\n\r\nWhat I can&#39;t be sure about is that it seems like a bad practice to initialize a instance variable of `Portfolio` class in a setter method by using `ReaderService` dependency. Does this approach leads to any problems like tight coupling or smt else? \r\n\r\nHere is the quick summary\r\n\r\n`ReaderService`:\r\n\r\n    public class ReaderService {\r\n        // necessary fields..\r\n\r\n        // a method to extract all positions from the each line of .txt file.\r\n        public ArrayList&lt;Position&gt; readPositions(){\r\n            ArrayList&lt;Position&gt; positions = new ArrayList&lt;&gt;();\r\n            ...\r\n            /* for each line in the file, a new `Position` is being created\r\n            and being added to `positions` after necessary file operations performed. */\r\n            ...\r\n                // Initializing a new position and adding it to the list\r\n                Position position = new Position(...);\r\n                positions.add(position);\r\n    \r\n             return positions;\r\n        }\r\n    }\r\n\r\n`Position` class:\r\n\r\n    public class Position {\r\n        private String stockCode;\r\n        private double balance;\r\n        ...\r\n        // There are more than two fields. Truncated it for the sake of the question.\r\n        public Position(String stockCode, double balance, ...) {\r\n            this.stockCode = stockCode;\r\n            this.balance = balance;\r\n            ...\r\n        }\r\n    }\r\n\r\nAnd the class in question; `Portfolio` class:\r\n\r\n    public class Portfolio {\r\n        private ArrayList&lt;Position&gt; positions;\r\n        ...\r\n        private final DataService dataService;\r\n        private final ReaderService readerService;\r\n    \r\n        public Portfolio(DataService dataService, ReaderService readerService){\r\n            this.dataService = dataService;\r\n            this.readerService = readerService;\r\n        }\r\n    \r\n        public ArrayList&lt;Position&gt; getPositions() {\r\n            return positions;\r\n        }\r\n    \r\n        // Check out this method. Is it a poor design?\r\n        public void setPositions() {\r\n            try {\r\n                this.positions = readerService.readPositions();\r\n            }\r\n            catch (IOException ex){\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nIs it correct thing to question the following:\r\n\r\n*&quot;A `ReaderService` is responsible to read the positions, but you are giving it the responsibility of creating list of positions for `Portfolio` class as well.&#39;*\r\n\r\nI mean do I break the *Single Responsibility* principle here?\r\n\r\nI am also considering to make these service classes `static`.","title":"Setting an instance variable using dependency","body":"<p>I am working on a project where I am trying to represent a Stock Portfolio. There is a class called <code>Position</code>. Also, there is another class called <code>Portfolio</code> and it's basically represents a set of positions along with additional instance variables/methods.</p>\n<p>A single <code>Position</code> is stored in a plain <code>.txt</code> file. In order to read that file, I've created another class: <code>ReaderService</code>. In this class, necessary I/O operations are being performed and in the end, a <code>List&lt;Position&gt;</code> is being returned by the method called <code>readPositions()</code>.</p>\n<p><code>Portfolio</code> class depends on <code>ReaderService</code> in order to set its <code>positions</code> field, and I am injecting that dependency via constructor, that is constructor injection.</p>\n<p>What I can't be sure about is that it seems like a bad practice to initialize a instance variable of <code>Portfolio</code> class in a setter method by using <code>ReaderService</code> dependency. Does this approach leads to any problems like tight coupling or smt else?</p>\n<p>Here is the quick summary</p>\n<p><code>ReaderService</code>:</p>\n<pre><code>public class ReaderService {\n    // necessary fields..\n\n    // a method to extract all positions from the each line of .txt file.\n    public ArrayList&lt;Position&gt; readPositions(){\n        ArrayList&lt;Position&gt; positions = new ArrayList&lt;&gt;();\n        ...\n        /* for each line in the file, a new `Position` is being created\n        and being added to `positions` after necessary file operations performed. */\n        ...\n            // Initializing a new position and adding it to the list\n            Position position = new Position(...);\n            positions.add(position);\n\n         return positions;\n    }\n}\n</code></pre>\n<p><code>Position</code> class:</p>\n<pre><code>public class Position {\n    private String stockCode;\n    private double balance;\n    ...\n    // There are more than two fields. Truncated it for the sake of the question.\n    public Position(String stockCode, double balance, ...) {\n        this.stockCode = stockCode;\n        this.balance = balance;\n        ...\n    }\n}\n</code></pre>\n<p>And the class in question; <code>Portfolio</code> class:</p>\n<pre><code>public class Portfolio {\n    private ArrayList&lt;Position&gt; positions;\n    ...\n    private final DataService dataService;\n    private final ReaderService readerService;\n\n    public Portfolio(DataService dataService, ReaderService readerService){\n        this.dataService = dataService;\n        this.readerService = readerService;\n    }\n\n    public ArrayList&lt;Position&gt; getPositions() {\n        return positions;\n    }\n\n    // Check out this method. Is it a poor design?\n    public void setPositions() {\n        try {\n            this.positions = readerService.readPositions();\n        }\n        catch (IOException ex){\n            ex.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Is it correct thing to question the following:</p>\n<p><em>&quot;A <code>ReaderService</code> is responsible to read the positions, but you are giving it the responsibility of creating list of positions for <code>Portfolio</code> class as well.'</em></p>\n<p>I mean do I break the <em>Single Responsibility</em> principle here?</p>\n<p>I am also considering to make these service classes <code>static</code>.</p>\n"},{"tags":["java","java-time","localtime","sql-timestamp"],"comments":[{"owner":{"account_id":989600,"reputation":30745,"user_id":1007273,"display_name":"hovanessyan"},"score":0,"creation_date":1640803118,"post_id":70523516,"comment_id":124664150,"body_markdown":"can you share what res.getCheckInTime().toString() prints out?","body":"can you share what res.getCheckInTime().toString() prints out?"},{"owner":{"account_id":16247046,"reputation":11,"user_id":11731898,"display_name":"Ali"},"score":0,"creation_date":1640803183,"post_id":70523516,"comment_id":124664170,"body_markdown":"11:05 in string format","body":"11:05 in string format"},{"owner":{"account_id":989600,"reputation":30745,"user_id":1007273,"display_name":"hovanessyan"},"score":0,"creation_date":1640803312,"post_id":70523516,"comment_id":124664201,"body_markdown":"well as already mentioned - you are probably hitting this else snippet - https://github.com/openjdk/jdk/blob/master/src/java.sql/share/classes/java/sql/Time.java#L108","body":"well as already mentioned - you are probably hitting this else snippet - <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.sql/share/classes/java/sql/Time.java#L108\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/master/src/java.sql/share/classe&zwnj;&#8203;s/&hellip;</a>"},{"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1640808988,"post_id":70523516,"comment_id":124665863,"body_markdown":"From JavaDoc the instance itself stores nanosecond precision, but [`LocalTime.toString()`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html#toString--) may __omit zeros for seconds__ (&quot;format used will be the shortest that outputs the full value of the time where the omitted parts are implied to be zero&quot;). So it may not satisfy `Time.valueOf` requirements.","body":"From JavaDoc the instance itself stores nanosecond precision, but <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html#toString--\" rel=\"nofollow noreferrer\"><code>LocalTime.toString()</code></a> may <b>omit zeros for seconds</b> (&quot;format used will be the shortest that outputs the full value of the time where the omitted parts are implied to be zero&quot;). So it may not satisfy <code>Time.valueOf</code> requirements."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1640821096,"post_id":70523516,"comment_id":124669082,"body_markdown":"By the way, `java.sql.Time` is part of the terribly flawed date-time classes bundled with the earliest versions of Java. Those classes, including `Time`, were years ago supplanted by the modern *java.time* classes defined in JSR 310. If your methods are already using `java.time.LocalTime`, you should generally have no reason to convert to `Time`.","body":"By the way, <code>java.sql.Time</code> is part of the terribly flawed date-time classes bundled with the earliest versions of Java. Those classes, including <code>Time</code>, were years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310. If your methods are already using <code>java.time.LocalTime</code>, you should generally have no reason to convert to <code>Time</code>."}],"answers":[{"tags":[],"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640803052,"creation_date":1640803052,"answer_id":70523594,"question_id":70523516,"body_markdown":"Javadoc:\r\n\r\n&gt;     public static Time valueOf​(String s)\r\n&gt;\r\n&gt;Converts a string in JDBC time escape format to a Time value.\r\n&gt;\r\n&gt;     Parameters:\r\n&gt;         s - time in format &quot;hh:mm:ss&quot;\r\n&gt;     Returns:\r\n&gt;         a corresponding Time object \r\n\r\nThe only accepted format is `hh:mm:ss`","title":"Converting java.time.LocalTime to java.sql.Time","body":"<p>Javadoc:</p>\n<blockquote>\n<pre><code>public static Time valueOf​(String s)\n</code></pre>\n<p>Converts a string in JDBC time escape format to a Time value.</p>\n<pre><code>Parameters:\n    s - time in format &quot;hh:mm:ss&quot;\nReturns:\n    a corresponding Time object \n</code></pre>\n</blockquote>\n<p>The only accepted format is <code>hh:mm:ss</code></p>\n"},{"tags":[],"owner":{"account_id":15957912,"reputation":51,"user_id":11515709,"display_name":"Samuel Cruz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1640820800,"creation_date":1640805479,"answer_id":70524001,"question_id":70523516,"body_markdown":"Why do you need to use `res.getCheckInTime().toString()`? Couldn&#39;t use the `Time.valueOf(LocalTime s)` method?\r\n\r\nSee the following example:\r\n\r\n     public static void main(String[] args) {\r\n         LocalTime checkInTime = LocalTime.now();\r\n         LocalTime checkOutTime = LocalTime.now().plusHours(12);\r\n\r\n         Time timeIn = Time.valueOf(checkInTime);\r\n         Time timeOut = Time.valueOf(checkOutTime);\r\n\r\n         System.out.println(&quot;timeIn =&gt; &quot; + timeIn);\r\n         System.out.println(&quot;timeOut =&gt; &quot; + timeOut);\r\n     }\r\n\r\n\r\n----------\r\n\r\n\r\nTo convert a `java.time.LocalTime` object to `java.sql.Time`:\r\n\r\n    Time t = Time.valueOf( myLocalTime ) ;\r\n\r\nTo go the other direction, from legacy class `java.sql.Time` to modern class `java.time.LocalTime`:\r\n\r\n    LocalTime lt = t.toLocalTime() ;\r\n\r\nNo strings involved.\r\n\r\n","title":"Converting java.time.LocalTime to java.sql.Time","body":"<p>Why do you need to use <code>res.getCheckInTime().toString()</code>? Couldn't use the <code>Time.valueOf(LocalTime s)</code> method?</p>\n<p>See the following example:</p>\n<pre><code> public static void main(String[] args) {\n     LocalTime checkInTime = LocalTime.now();\n     LocalTime checkOutTime = LocalTime.now().plusHours(12);\n\n     Time timeIn = Time.valueOf(checkInTime);\n     Time timeOut = Time.valueOf(checkOutTime);\n\n     System.out.println(&quot;timeIn =&gt; &quot; + timeIn);\n     System.out.println(&quot;timeOut =&gt; &quot; + timeOut);\n }\n</code></pre>\n<hr />\n<p>To convert a <code>java.time.LocalTime</code> object to <code>java.sql.Time</code>:</p>\n<pre><code>Time t = Time.valueOf( myLocalTime ) ;\n</code></pre>\n<p>To go the other direction, from legacy class <code>java.sql.Time</code> to modern class <code>java.time.LocalTime</code>:</p>\n<pre><code>LocalTime lt = t.toLocalTime() ;\n</code></pre>\n<p>No strings involved.</p>\n"},{"tags":[],"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640813942,"creation_date":1640808558,"answer_id":70524494,"question_id":70523516,"body_markdown":"**TL;DR:** use the safe &amp; concise `Time.valueOf(LocalTime)` as [suggested by Samuel Cruz](https://stackoverflow.com/a/70524001/5730279), e.g. `Time.valueOf( res.getCheckInTime() )`.\r\n\r\n## Pitfalls when using String-based conversion\r\nThe String-variant has 2 pitfalls:\r\n\r\n1. `LocalTime.toString()` produces variable output-formats that may cause given `IllegalArgumentException` when used with `Time.valueOf(String)` - two implied assumptions: (a) non-deterministic output causes (b) message-less, thus not very helpful,  exception that let&#39;s the user guess which value was passed as argument and why it was illegal.\r\n\r\n2. Also the JavaDoc for `Time.valueOf(String)` as [quoted by Jim Garrison](https://stackoverflow.com/a/70523594/5730279) is misleading. In [current implementation (OpenJDK)](https://github.com/openjdk/jdk/blob/master/src/java.sql/share/classes/java/sql/Time.java#L103) you can pass any other integer-sequence separated by 2 colons, like `-33:9999:88`. Although not a valid ISO-time in format `HH:mm:ss`, it is apparently interpreted as time-value and may lead to serious side-effects! Did you expect `&quot;13:40:28&quot; == Time.valueOf(&quot;-33:9999:88&quot;)` as result ?\r\n\r\n### `time.LocalTime` has non-deterministic `toString` format\r\nDon&#39;t use `LocalTime.toString()` because it&#39;s output format is *non-deterministic* and **may vary in precision**, worst-case omitting seconds! It tries to reduce the output to significant parts, minimum format is &quot;HH:mm&quot; as in JavaDoc summary. \r\n\r\nFor reliable and SQL-compliant String-format use `LocalTime.format(DateTimeFormatter.ISO_LOCAL_TIME)`. It may always produce format like `HH:mm:ss` as required by `java.sql.Time`.\r\n \r\n### `java.sql.Time` can convert `LocalTime` directly\r\nIt should work when passing the argument to factory-method [`java.sql.Time.valueOf()`](https://docs.oracle.com/javase/8/docs/api/java/sql/Time.html#valueOf-java.time.LocalTime-):\r\n* either as ISO-formatted time [`String(&quot;11:05:00&quot;)`](https://docs.oracle.com/javase/8/docs/api/java/sql/Time.html#valueOf-java.lang.String-) (up to seconds!). ⚠️ Warning: Potential side-effects if passed String contains invalid ISO-time, e.g. `&quot;99:123:88&quot;` or even `&quot;0:-1:-3&quot;` (see example below).\r\n* or directly as [`java.time.LocalTime`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html). ✔️ Recommended as safest.\r\n\r\n### Solution: illustrates argument variants &amp; side-effects\r\n```java\r\n    public static void main(String[] args) throws java.lang.Exception {\r\n        Reservation res = new Reservation(&quot;11:05&quot;, &quot;18:05&quot;);\r\n        System.out.println(res);\r\n\r\n        System.out.printf(&quot;toString returns &#39;11:05:00&#39; as expected? %s\\n&quot;, &quot;11:05:00&quot;.equals(res.getCheckInTime()));\r\n        String isoTimeFormat = res.getCheckOutTime().format(DateTimeFormatter.ISO_LOCAL_TIME);\r\n        System.out.printf(&quot;explicit format() returns &#39;%s&#39; as expected by SQL? %s\\n&quot;, isoTimeFormat, &quot;18:05:00&quot;.equals(isoTimeFormat));\r\n        \r\n        Time timeIn = Time.valueOf(res.getCheckInTime()); // recommended argument type\r\n        Time timeOut = Time.valueOf(res.getCheckOutTime().format(DateTimeFormatter.ISO_LOCAL_TIME));\r\n        Time timeTest = Time.valueOf(&quot;33:99:88&quot;); // dangerous fun-fact\r\n\r\n        System.out.println(&quot;sql.Time in: &quot; + timeIn + &quot; , out: &quot; + timeOut);\r\n    }\r\n\r\n    static class Reservation {\r\n        LocalTime checkIn;\r\n        LocalTime checkOut;\r\n\r\n        public Reservation(String in, String out) {\r\n            this.checkIn = LocalTime.parse(in);\r\n            this.checkOut = LocalTime.parse(out);\r\n        }\r\n\r\n        public LocalTime getCheckInTime() {\r\n            return checkIn;\r\n        }\r\n\r\n        public LocalTime getCheckOutTime() {\r\n            return checkOut;\r\n        }\r\n\r\n        public String toString() {\r\n            return String.format(&quot;Reservation {checkIn: %s, checkOut: %s}&quot;, getCheckInTime(), getCheckOutTime());\r\n        }\r\n    }\r\n```\r\nTry runnable [demo on IDEone](https://ideone.com/nE362a).\r\n\r\nSee also:\r\n* Dariawan tutorial: [java.sql.Time Examples](https://www.dariawan.com/tutorials/java/java-sql-time-examples/)","title":"Converting java.time.LocalTime to java.sql.Time","body":"<p><strong>TL;DR:</strong> use the safe &amp; concise <code>Time.valueOf(LocalTime)</code> as <a href=\"https://stackoverflow.com/a/70524001/5730279\">suggested by Samuel Cruz</a>, e.g. <code>Time.valueOf( res.getCheckInTime() )</code>.</p>\n<h2>Pitfalls when using String-based conversion</h2>\n<p>The String-variant has 2 pitfalls:</p>\n<ol>\n<li><p><code>LocalTime.toString()</code> produces variable output-formats that may cause given <code>IllegalArgumentException</code> when used with <code>Time.valueOf(String)</code> - two implied assumptions: (a) non-deterministic output causes (b) message-less, thus not very helpful,  exception that let's the user guess which value was passed as argument and why it was illegal.</p>\n</li>\n<li><p>Also the JavaDoc for <code>Time.valueOf(String)</code> as <a href=\"https://stackoverflow.com/a/70523594/5730279\">quoted by Jim Garrison</a> is misleading. In <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.sql/share/classes/java/sql/Time.java#L103\" rel=\"nofollow noreferrer\">current implementation (OpenJDK)</a> you can pass any other integer-sequence separated by 2 colons, like <code>-33:9999:88</code>. Although not a valid ISO-time in format <code>HH:mm:ss</code>, it is apparently interpreted as time-value and may lead to serious side-effects! Did you expect <code>&quot;13:40:28&quot; == Time.valueOf(&quot;-33:9999:88&quot;)</code> as result ?</p>\n</li>\n</ol>\n<h3><code>time.LocalTime</code> has non-deterministic <code>toString</code> format</h3>\n<p>Don't use <code>LocalTime.toString()</code> because it's output format is <em>non-deterministic</em> and <strong>may vary in precision</strong>, worst-case omitting seconds! It tries to reduce the output to significant parts, minimum format is &quot;HH:mm&quot; as in JavaDoc summary.</p>\n<p>For reliable and SQL-compliant String-format use <code>LocalTime.format(DateTimeFormatter.ISO_LOCAL_TIME)</code>. It may always produce format like <code>HH:mm:ss</code> as required by <code>java.sql.Time</code>.</p>\n<h3><code>java.sql.Time</code> can convert <code>LocalTime</code> directly</h3>\n<p>It should work when passing the argument to factory-method <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/Time.html#valueOf-java.time.LocalTime-\" rel=\"nofollow noreferrer\"><code>java.sql.Time.valueOf()</code></a>:</p>\n<ul>\n<li>either as ISO-formatted time <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/Time.html#valueOf-java.lang.String-\" rel=\"nofollow noreferrer\"><code>String(&quot;11:05:00&quot;)</code></a> (up to seconds!). ⚠️ Warning: Potential side-effects if passed String contains invalid ISO-time, e.g. <code>&quot;99:123:88&quot;</code> or even <code>&quot;0:-1:-3&quot;</code> (see example below).</li>\n<li>or directly as <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html\" rel=\"nofollow noreferrer\"><code>java.time.LocalTime</code></a>. ✔️ Recommended as safest.</li>\n</ul>\n<h3>Solution: illustrates argument variants &amp; side-effects</h3>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) throws java.lang.Exception {\n        Reservation res = new Reservation(&quot;11:05&quot;, &quot;18:05&quot;);\n        System.out.println(res);\n\n        System.out.printf(&quot;toString returns '11:05:00' as expected? %s\\n&quot;, &quot;11:05:00&quot;.equals(res.getCheckInTime()));\n        String isoTimeFormat = res.getCheckOutTime().format(DateTimeFormatter.ISO_LOCAL_TIME);\n        System.out.printf(&quot;explicit format() returns '%s' as expected by SQL? %s\\n&quot;, isoTimeFormat, &quot;18:05:00&quot;.equals(isoTimeFormat));\n        \n        Time timeIn = Time.valueOf(res.getCheckInTime()); // recommended argument type\n        Time timeOut = Time.valueOf(res.getCheckOutTime().format(DateTimeFormatter.ISO_LOCAL_TIME));\n        Time timeTest = Time.valueOf(&quot;33:99:88&quot;); // dangerous fun-fact\n\n        System.out.println(&quot;sql.Time in: &quot; + timeIn + &quot; , out: &quot; + timeOut);\n    }\n\n    static class Reservation {\n        LocalTime checkIn;\n        LocalTime checkOut;\n\n        public Reservation(String in, String out) {\n            this.checkIn = LocalTime.parse(in);\n            this.checkOut = LocalTime.parse(out);\n        }\n\n        public LocalTime getCheckInTime() {\n            return checkIn;\n        }\n\n        public LocalTime getCheckOutTime() {\n            return checkOut;\n        }\n\n        public String toString() {\n            return String.format(&quot;Reservation {checkIn: %s, checkOut: %s}&quot;, getCheckInTime(), getCheckOutTime());\n        }\n    }\n</code></pre>\n<p>Try runnable <a href=\"https://ideone.com/nE362a\" rel=\"nofollow noreferrer\">demo on IDEone</a>.</p>\n<p>See also:</p>\n<ul>\n<li>Dariawan tutorial: <a href=\"https://www.dariawan.com/tutorials/java/java-sql-time-examples/\" rel=\"nofollow noreferrer\">java.sql.Time Examples</a></li>\n</ul>\n"}],"owner":{"account_id":16247046,"reputation":11,"user_id":11731898,"display_name":"Ali"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":856,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1640820800,"creation_date":1640802613,"question_id":70523516,"body_markdown":"I am currently getting an `IllegalArgumentException` thrown at these lines of code: \r\n\r\n    Time timeIn = Time.valueOf( res.getCheckInTime().toString());\r\n    Time timeOut = Time.valueOf( res.getCheckOutTime().toString());\r\n\r\nBoth arguments are `LocalTime` storing the local time such as `11:05`: \r\n* `res.getCheckInTime()`\r\n* `res.getCheckOutTime()`\r\n\r\nCan anyone help me out here?","title":"Converting java.time.LocalTime to java.sql.Time","body":"<p>I am currently getting an <code>IllegalArgumentException</code> thrown at these lines of code:</p>\n<pre><code>Time timeIn = Time.valueOf( res.getCheckInTime().toString());\nTime timeOut = Time.valueOf( res.getCheckOutTime().toString());\n</code></pre>\n<p>Both arguments are <code>LocalTime</code> storing the local time such as <code>11:05</code>:</p>\n<ul>\n<li><code>res.getCheckInTime()</code></li>\n<li><code>res.getCheckOutTime()</code></li>\n</ul>\n<p>Can anyone help me out here?</p>\n"},{"tags":["java","xml","sap-commerce-cloud"],"comments":[{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1640158829,"post_id":70439891,"comment_id":124526589,"body_markdown":"please map Locker.code directly as code as you already defined the context.","body":"please map Locker.code directly as code as you already defined the context."},{"owner":{"account_id":23416796,"reputation":25,"user_id":17477626,"display_name":"mike"},"score":0,"creation_date":1640161164,"post_id":70439891,"comment_id":124527266,"body_markdown":"@RaushanKumar how do I do it? I&#39;ve never done it","body":"@RaushanKumar how do I do it? I&#39;ve never done it"},{"owner":{"account_id":23416796,"reputation":25,"user_id":17477626,"display_name":"mike"},"score":0,"creation_date":1640163328,"post_id":70439891,"comment_id":124527956,"body_markdown":"@B.M I do but the same issues : ERROR [hybrisHTTP10] [DefaultEditorAreaSectionRenderer] Property locker.name was not found for type LockerOpenEvent.","body":"@B.M I do but the same issues : ERROR [hybrisHTTP10] [DefaultEditorAreaSectionRenderer] Property locker.name was not found for type LockerOpenEvent."},{"owner":{"account_id":13121735,"reputation":1877,"user_id":9478932,"display_name":"Benkerroum Mohamed"},"score":0,"creation_date":1640164692,"post_id":70439891,"comment_id":124528510,"body_markdown":"I think you need to create a custom editor to be able de do that https://help.sap.com/viewer/5c9ea0c629214e42b727bf08800d8dfa/1905/en-US/8bd4c25286691014b3f9876ca5816926.html","body":"I think you need to create a custom editor to be able de do that <a href=\"https://help.sap.com/viewer/5c9ea0c629214e42b727bf08800d8dfa/1905/en-US/8bd4c25286691014b3f9876ca5816926.html\" rel=\"nofollow noreferrer\">help.sap.com/viewer/5c9ea0c629214e42b727bf08800d8dfa/1905/en&zwnj;&#8203;-US/&hellip;</a>"},{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1640168420,"post_id":70439891,"comment_id":124529894,"body_markdown":"Hi, @mike just remove Locker.code to code  and Locker.name to name in back office config xml.","body":"Hi, @mike just remove Locker.code to code  and Locker.name to name in back office config xml."},{"owner":{"account_id":23416796,"reputation":25,"user_id":17477626,"display_name":"mike"},"score":0,"creation_date":1640174453,"post_id":70439891,"comment_id":124531985,"body_markdown":"@RaushanKumar I do it but not showing, I resolve with dynamic attributes.","body":"@RaushanKumar I do it but not showing, I resolve with dynamic attributes."},{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1640175877,"post_id":70439891,"comment_id":124532511,"body_markdown":"that&#39;s strange I hope you are doing back office reset after this.","body":"that&#39;s strange I hope you are doing back office reset after this."},{"owner":{"account_id":23416796,"reputation":25,"user_id":17477626,"display_name":"mike"},"score":0,"creation_date":1640180389,"post_id":70439891,"comment_id":124534330,"body_markdown":"@RaushanKumar yes I do it","body":"@RaushanKumar yes I do it"},{"owner":{"account_id":23416796,"reputation":25,"user_id":17477626,"display_name":"mike"},"score":0,"creation_date":1640248978,"post_id":70439891,"comment_id":124551371,"body_markdown":"@RaushanKumar Hi, you know how I show null value into column field (of type Collection) of a list-view. At the moment when Collection value is null show into list-view this: []","body":"@RaushanKumar Hi, you know how I show null value into column field (of type Collection) of a list-view. At the moment when Collection value is null show into list-view this: []"}],"answers":[{"tags":[],"owner":{"account_id":20642777,"reputation":1380,"user_id":15155030,"display_name":"Yoni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640820779,"creation_date":1640820779,"answer_id":70526084,"question_id":70439891,"body_markdown":"The **warning** you receive on the list view part is because the property is lower cased. Commerce does a fallback search on the lower case version, hence why you get a result in the list page. To get rid of this warning, you need to write the attributes with lowercase.\r\n\r\n    &lt;list-view:column qualifier=&quot;locker.code&quot; width=&quot;200px&quot; /&gt;\r\n    &lt;list-view:column qualifier=&quot;locker.name&quot; width=&quot;200px&quot; /&gt;\r\n\r\nFor the **editor area**, it&#39;s a different story. Commerce does **not support** nesting out of the box. You need to add\r\n\r\n    &lt;editorArea:attribute qualifier=&quot;locker&quot; /&gt;\r\n\r\ninstead of `Locker.code` and `Locker.name`\r\nIn the backoffice this will show you the locker object. A user can then navigate to the locker object and perform his changes there. (also the type is missing in your editor area config, not sure if that&#39;s on purpose)\r\n\r\nIf you really want to show/edit the attribute on your LockerOpenEvent, you will need to create a **dynamic attribute**, and write the code so that the getter and setter manipulate the linked Locker object","title":"How show a field of an entity into another entity","body":"<p>The <strong>warning</strong> you receive on the list view part is because the property is lower cased. Commerce does a fallback search on the lower case version, hence why you get a result in the list page. To get rid of this warning, you need to write the attributes with lowercase.</p>\n<pre><code>&lt;list-view:column qualifier=&quot;locker.code&quot; width=&quot;200px&quot; /&gt;\n&lt;list-view:column qualifier=&quot;locker.name&quot; width=&quot;200px&quot; /&gt;\n</code></pre>\n<p>For the <strong>editor area</strong>, it's a different story. Commerce does <strong>not support</strong> nesting out of the box. You need to add</p>\n<pre><code>&lt;editorArea:attribute qualifier=&quot;locker&quot; /&gt;\n</code></pre>\n<p>instead of <code>Locker.code</code> and <code>Locker.name</code>\nIn the backoffice this will show you the locker object. A user can then navigate to the locker object and perform his changes there. (also the type is missing in your editor area config, not sure if that's on purpose)</p>\n<p>If you really want to show/edit the attribute on your LockerOpenEvent, you will need to create a <strong>dynamic attribute</strong>, and write the code so that the getter and setter manipulate the linked Locker object</p>\n"}],"owner":{"account_id":23416796,"reputation":25,"user_id":17477626,"display_name":"mike"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":708,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70526084,"answer_count":1,"score":0,"last_activity_date":1640820779,"creation_date":1640110313,"question_id":70439891,"body_markdown":"I have an issues with SAP Hybris backoffice-config.xml, I have create new entity with name LockerOpenEvent that have four attribute, I add a list view, advanced search and editor area, now my problem is the editor area. The problem is that a two field of another entity (Locker) not show into editor area, but the same field are visible into list view, what is the problem? I post the error into log and a tag of code of interest:\r\n\r\nError log when open the new entity(but into list view the two column appear):\r\n\r\n     WARN  [hybrisHTTP25] [DataType] Qualifier [Locker] not found. Case insenitive resolution have found matching qualifier [locker]\r\n\r\nError log that make a problem of visualization when open editor area:\r\n\r\n    ERROR [hybrisHTTP36] [DefaultEditorAreaSectionRenderer] Property Locker.code was not found for type LockerOpenEvent\r\n\r\nMyExtension of backoffice-config.xml\r\n\r\n    &lt;context type=&quot;LockerOpenEvent&quot;&gt;\r\n\t\t&lt;context merge-by=&quot;type&quot; component=&quot;listview&quot; &gt;\r\n\t\t\t&lt;list-view:list-view\r\n\t\t\t\t\txmlns:list-view=&quot;http://www.hybris.com/cockpitng/component/listView&quot;\r\n\t\t\t\t\trefresh-after-object-creation=&quot;true&quot;&gt;\r\n\t\t\t\t&lt;list-view:column qualifier=&quot;Locker.code&quot; width=&quot;200px&quot; /&gt;\r\n\t\t\t\t&lt;list-view:column qualifier=&quot;Locker.name&quot; width=&quot;200px&quot; /&gt;\r\n\t\t\t\t&lt;list-view:column qualifier=&quot;timestamp&quot; width=&quot;200px&quot; /&gt;\r\n\t\t\t\t&lt;list-view:column qualifier=&quot;user&quot; width=&quot;200px&quot; /&gt;\r\n\t\t\t\t&lt;list-view:column qualifier=&quot;drawerCode&quot; width=&quot;200px&quot;  /&gt;\r\n\t\t\t&lt;/list-view:list-view&gt;\r\n\t\t&lt;/context&gt;\r\n    \r\n    &lt;context merge-by=&quot;type&quot;  component=&quot;editor-area&quot; parent=&quot;GenericItem&quot;&gt;\r\n\t\t\t&lt;editorArea:editorArea xmlns:editorArea=&quot;http://www.hybris.com/cockpitng/component/editorArea&quot;&gt;\r\n\t\t\t\t&lt;editorArea:tab name=&quot;hmc.tab.general&quot; &gt;\r\n\t\t\t\t\t&lt;editorArea:section name=&quot;&quot; &gt;\r\n\t\t\t\t\t\t&lt;editorArea:attribute qualifier=&quot;user&quot;/&gt;\r\n\t\t\t\t\t\t&lt;editorArea:attribute qualifier=&quot;Locker.code&quot;   /&gt;\r\n\t\t\t\t\t\t&lt;editorArea:attribute qualifier=&quot;Locker.name&quot;  /&gt;\r\n\t\t\t\t\t\t&lt;editorArea:attribute qualifier=&quot;drawerCode&quot; /&gt;\r\n\t\t\t\t\t\t&lt;editorArea:attribute qualifier=&quot;lockerDrawerOpeningEnum&quot; editor=&quot;com.hybris.cockpitng.editor.nonoptionalenum&quot; /&gt;\r\n\t\t\t\t\t&lt;/editorArea:section&gt;\r\n\t\t\t\t&lt;/editorArea:tab&gt;\r\n\t\t\t&lt;/editorArea:editorArea&gt;\r\n\t\t&lt;/context&gt;\r\n    &lt;/context&gt;\r\n    \r\nThanks a lot.\r\n\r\n\r\n\r\n","title":"How show a field of an entity into another entity","body":"<p>I have an issues with SAP Hybris backoffice-config.xml, I have create new entity with name LockerOpenEvent that have four attribute, I add a list view, advanced search and editor area, now my problem is the editor area. The problem is that a two field of another entity (Locker) not show into editor area, but the same field are visible into list view, what is the problem? I post the error into log and a tag of code of interest:</p>\n<p>Error log when open the new entity(but into list view the two column appear):</p>\n<pre><code> WARN  [hybrisHTTP25] [DataType] Qualifier [Locker] not found. Case insenitive resolution have found matching qualifier [locker]\n</code></pre>\n<p>Error log that make a problem of visualization when open editor area:</p>\n<pre><code>ERROR [hybrisHTTP36] [DefaultEditorAreaSectionRenderer] Property Locker.code was not found for type LockerOpenEvent\n</code></pre>\n<p>MyExtension of backoffice-config.xml</p>\n<pre><code>&lt;context type=&quot;LockerOpenEvent&quot;&gt;\n    &lt;context merge-by=&quot;type&quot; component=&quot;listview&quot; &gt;\n        &lt;list-view:list-view\n                xmlns:list-view=&quot;http://www.hybris.com/cockpitng/component/listView&quot;\n                refresh-after-object-creation=&quot;true&quot;&gt;\n            &lt;list-view:column qualifier=&quot;Locker.code&quot; width=&quot;200px&quot; /&gt;\n            &lt;list-view:column qualifier=&quot;Locker.name&quot; width=&quot;200px&quot; /&gt;\n            &lt;list-view:column qualifier=&quot;timestamp&quot; width=&quot;200px&quot; /&gt;\n            &lt;list-view:column qualifier=&quot;user&quot; width=&quot;200px&quot; /&gt;\n            &lt;list-view:column qualifier=&quot;drawerCode&quot; width=&quot;200px&quot;  /&gt;\n        &lt;/list-view:list-view&gt;\n    &lt;/context&gt;\n\n&lt;context merge-by=&quot;type&quot;  component=&quot;editor-area&quot; parent=&quot;GenericItem&quot;&gt;\n        &lt;editorArea:editorArea xmlns:editorArea=&quot;http://www.hybris.com/cockpitng/component/editorArea&quot;&gt;\n            &lt;editorArea:tab name=&quot;hmc.tab.general&quot; &gt;\n                &lt;editorArea:section name=&quot;&quot; &gt;\n                    &lt;editorArea:attribute qualifier=&quot;user&quot;/&gt;\n                    &lt;editorArea:attribute qualifier=&quot;Locker.code&quot;   /&gt;\n                    &lt;editorArea:attribute qualifier=&quot;Locker.name&quot;  /&gt;\n                    &lt;editorArea:attribute qualifier=&quot;drawerCode&quot; /&gt;\n                    &lt;editorArea:attribute qualifier=&quot;lockerDrawerOpeningEnum&quot; editor=&quot;com.hybris.cockpitng.editor.nonoptionalenum&quot; /&gt;\n                &lt;/editorArea:section&gt;\n            &lt;/editorArea:tab&gt;\n        &lt;/editorArea:editorArea&gt;\n    &lt;/context&gt;\n&lt;/context&gt;\n</code></pre>\n<p>Thanks a lot.</p>\n"},{"tags":["java","date","java-7"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1640819242,"post_id":70524489,"comment_id":124668688,"body_markdown":"How do you define &quot;week of year&quot;?","body":"How do you define &quot;week of year&quot;?"},{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":0,"creation_date":1640861346,"post_id":70524489,"comment_id":124676669,"body_markdown":"@BasilBourque yes the problem is that there are different interpretations, but for reporting purposes, I would think of something that starts on the 1st of Jan and count even incomplete weeks as whole weeks. So if 1st of Jan falls on Saturday, I would still count that Week1 and so on.. I would expect the last week of year to be 52 or 53. Something similar to what&#39;s returned by https://www.google.com/search?q=current+week+of+year","body":"@BasilBourque yes the problem is that there are different interpretations, but for reporting purposes, I would think of something that starts on the 1st of Jan and count even incomplete weeks as whole weeks. So if 1st of Jan falls on Saturday, I would still count that Week1 and so on.. I would expect the last week of year to be 52 or 53. Something similar to what&#39;s returned by <a href=\"https://www.google.com/search?q=current+week+of+year\" rel=\"nofollow noreferrer\">google.com/search?q=current+week+of+year</a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1640880260,"post_id":70524489,"comment_id":124682479,"body_markdown":"No, not interpretation… *definition*. There are multiple definitions of week of year. They are all legitimate. But you must be able to clearly state *your* definition, or you’ll be lost. For example, the ISO 8601 definition is: A week-based year has either 52 or 53 whole seven-day weeks that start on a Monday, and week # 1 contains the first Thursday of the calendar year.","body":"No, not interpretation… <i>definition</i>. There are multiple definitions of week of year. They are all legitimate. But you must be able to clearly state <i>your</i> definition, or you’ll be lost. For example, the ISO 8601 definition is: A week-based year has either 52 or 53 whole seven-day weeks that start on a Monday, and week # 1 contains the first Thursday of the calendar year."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1640809480,"creation_date":1640809480,"answer_id":70524639,"question_id":70524489,"body_markdown":"Don&#39;t use `Calendar`. It&#39;s obsolete, and, more to the point, __incredibly bad__ API.\r\n\r\nThere&#39;s a list as long as my leg as to what&#39;s wrong with it. The specific one of about 200 things that is relevant here is that, boneheadedly, its month value is __0__ indexed. So, &#39;12, 3&#39;? That&#39;s the 3rd of Undecimber, or whatever you&#39;d like to call __the 13th month__. That, or the calendar doesn&#39;t do 13th month in which case it leniently just assumes you meant to say 3rd of jan 2022 . Either way, that&#39;s week 1.\r\n\r\nSo why is The 2nd of undecimber (or if you prefer, via rollover, 2nd jan 2022) &quot;Week 52&quot;?\r\n\r\n[__Because it is__](https://www.google.com/search?q=week%20number%20january%202nd%202022).\r\n\r\nWeek numbering is weird, but they have to be. A week starts on monday (or sunday, for my silly standards loving USian brethren), and can&#39;t start on any other day. That means unless Jan 1st so happens to fall on a monday, there&#39;s going to be weirdness; either days in 2021 counting as being in &#39;week 1 of 2022&#39;, or days in 2022 counting as &#39;week 52 of 2021&#39;. In fact, from time to time there&#39;ll have to be a week 53. After all, 52*7 is 364, but there are 365.2475 days in a year, so unless you just want to make some days poof out of existence, every so often a week 53 has to exist for it all to add up.\r\n\r\n__Use `java.time` instead__.\r\n\r\n```\r\nLocalDate ld = LocalDate.of(2021, 12, 3);\r\nWeekFields wf = WeekFields.of(Locale.ENGLISH);\r\nint weekNumber = ld.get(wf.weekOfWeekBasedYear());\r\n```\r\n\r\njava.time does many things fantastically, and one of the things is does great is that it tends not to hide complex things. For example, &#39;when does a week start&#39; is __just not answerable__, not unless you tell me where on the planet you&#39;re asking this question. Hence, &#39;which week is it&#39; is _also_ not actually an answerable question until you tell me exactly which week-counting system we&#39;re using, and there is no standard that is universally accepted enough. Hence, you _have to_ go through the rigamarole of making a separate `WeekFields` instance to capture that info. We do it here based on locale.\r\n","title":"SimpleDateFormat wrong week of year for last week","body":"<p>Don't use <code>Calendar</code>. It's obsolete, and, more to the point, <strong>incredibly bad</strong> API.</p>\n<p>There's a list as long as my leg as to what's wrong with it. The specific one of about 200 things that is relevant here is that, boneheadedly, its month value is <strong>0</strong> indexed. So, '12, 3'? That's the 3rd of Undecimber, or whatever you'd like to call <strong>the 13th month</strong>. That, or the calendar doesn't do 13th month in which case it leniently just assumes you meant to say 3rd of jan 2022 . Either way, that's week 1.</p>\n<p>So why is The 2nd of undecimber (or if you prefer, via rollover, 2nd jan 2022) &quot;Week 52&quot;?</p>\n<p><a href=\"https://www.google.com/search?q=week%20number%20january%202nd%202022\" rel=\"noreferrer\"><strong>Because it is</strong></a>.</p>\n<p>Week numbering is weird, but they have to be. A week starts on monday (or sunday, for my silly standards loving USian brethren), and can't start on any other day. That means unless Jan 1st so happens to fall on a monday, there's going to be weirdness; either days in 2021 counting as being in 'week 1 of 2022', or days in 2022 counting as 'week 52 of 2021'. In fact, from time to time there'll have to be a week 53. After all, 52*7 is 364, but there are 365.2475 days in a year, so unless you just want to make some days poof out of existence, every so often a week 53 has to exist for it all to add up.</p>\n<p><strong>Use <code>java.time</code> instead</strong>.</p>\n<pre><code>LocalDate ld = LocalDate.of(2021, 12, 3);\nWeekFields wf = WeekFields.of(Locale.ENGLISH);\nint weekNumber = ld.get(wf.weekOfWeekBasedYear());\n</code></pre>\n<p>java.time does many things fantastically, and one of the things is does great is that it tends not to hide complex things. For example, 'when does a week start' is <strong>just not answerable</strong>, not unless you tell me where on the planet you're asking this question. Hence, 'which week is it' is <em>also</em> not actually an answerable question until you tell me exactly which week-counting system we're using, and there is no standard that is universally accepted enough. Hence, you <em>have to</em> go through the rigamarole of making a separate <code>WeekFields</code> instance to capture that info. We do it here based on locale.</p>\n"},{"tags":[],"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640811907,"creation_date":1640811907,"answer_id":70525013,"question_id":70524489,"body_markdown":"Actually this is not specific to `Calendar` as this would also show Week 1 if ran on the 29th of December for example:\r\n\r\n`System.out.println(&quot;Week: ${new SimpleDateFormat(&quot;w&quot;).format(new Date())}&quot;);`\r\n\r\nBut it is specific to Java 7. It was fixed in Java 8.\r\n\r\nAnd I found the explanation for this here (as @rzwitserloot also explained):\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/GregorianCalendar.html\r\n\r\n\r\n&gt; A week year is in sync with a WEEK_OF_YEAR cycle. All weeks between\r\n&gt; the first and last weeks (inclusive) have the same week year value.\r\n&gt; Therefore, the first and last days of a week year may have different\r\n&gt; calendar year values.\r\n&gt; \r\n&gt; For example, January 1, 1998 is a Thursday. If getFirstDayOfWeek() is\r\n&gt; MONDAY and getMinimalDaysInFirstWeek() is 4 (ISO 8601 standard\r\n&gt; compatible setting), **then week 1 of 1998 starts on December 29, 1997**,\r\n&gt; and ends on January 4, 1998. The week year is 1998 for the last three\r\n&gt; days of calendar year 1997. If, however, getFirstDayOfWeek() is\r\n&gt; SUNDAY, then week 1 of 1998 starts on January 4, 1998, and ends on\r\n&gt; January 10, 1998; the first three days of 1998 then are part of week\r\n&gt; 53 of 1997 and their week year is 1997.\r\n\r\nThis is really interesting..","title":"SimpleDateFormat wrong week of year for last week","body":"<p>Actually this is not specific to <code>Calendar</code> as this would also show Week 1 if ran on the 29th of December for example:</p>\n<p><code>System.out.println(&quot;Week: ${new SimpleDateFormat(&quot;w&quot;).format(new Date())}&quot;);</code></p>\n<p>But it is specific to Java 7. It was fixed in Java 8.</p>\n<p>And I found the explanation for this here (as @rzwitserloot also explained):</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/GregorianCalendar.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/GregorianCalendar.html</a></p>\n<blockquote>\n<p>A week year is in sync with a WEEK_OF_YEAR cycle. All weeks between\nthe first and last weeks (inclusive) have the same week year value.\nTherefore, the first and last days of a week year may have different\ncalendar year values.</p>\n<p>For example, January 1, 1998 is a Thursday. If getFirstDayOfWeek() is\nMONDAY and getMinimalDaysInFirstWeek() is 4 (ISO 8601 standard\ncompatible setting), <strong>then week 1 of 1998 starts on December 29, 1997</strong>,\nand ends on January 4, 1998. The week year is 1998 for the last three\ndays of calendar year 1997. If, however, getFirstDayOfWeek() is\nSUNDAY, then week 1 of 1998 starts on January 4, 1998, and ends on\nJanuary 10, 1998; the first three days of 1998 then are part of week\n53 of 1997 and their week year is 1997.</p>\n</blockquote>\n<p>This is really interesting..</p>\n"}],"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":526,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":70524639,"answer_count":2,"score":-2,"last_activity_date":1640820176,"creation_date":1640808521,"question_id":70524489,"body_markdown":"I need to get week of year for a given date. Using SimpleDateFormat produces wrong results for the last week of the year.\r\n\r\nExample:\r\n\r\nThis produces week 52 correctly:\r\n\r\n    SimpleDateFormat w = new SimpleDateFormat(&quot;w&quot;);\r\n    Calendar c = Calendar.getInstance();\r\n    c.set(2021, 11, 25);\r\n    System.out.println(&quot;Week: ${w.format(c.getTime())}&quot;);\r\n\r\nproduces: `Week: 52`\r\n\r\nBut the next day is already considered as 1st week of next year?\r\n\r\n    SimpleDateFormat w = new SimpleDateFormat(&quot;w&quot;);\r\n    Calendar c = Calendar.getInstance();\r\n    c.set(2021, 11, 26);\r\n    System.out.println(&quot;Week: ${w.format(c.getTime())}&quot;);\r\n\r\nproduces: `Week: 1`\r\n\r\n**This only happens in Java 7 and not in Java 8 and above!**","title":"SimpleDateFormat wrong week of year for last week","body":"<p>I need to get week of year for a given date. Using SimpleDateFormat produces wrong results for the last week of the year.</p>\n<p>Example:</p>\n<p>This produces week 52 correctly:</p>\n<pre><code>SimpleDateFormat w = new SimpleDateFormat(&quot;w&quot;);\nCalendar c = Calendar.getInstance();\nc.set(2021, 11, 25);\nSystem.out.println(&quot;Week: ${w.format(c.getTime())}&quot;);\n</code></pre>\n<p>produces: <code>Week: 52</code></p>\n<p>But the next day is already considered as 1st week of next year?</p>\n<pre><code>SimpleDateFormat w = new SimpleDateFormat(&quot;w&quot;);\nCalendar c = Calendar.getInstance();\nc.set(2021, 11, 26);\nSystem.out.println(&quot;Week: ${w.format(c.getTime())}&quot;);\n</code></pre>\n<p>produces: <code>Week: 1</code></p>\n<p><strong>This only happens in Java 7 and not in Java 8 and above!</strong></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":2,"creation_date":1640751641,"post_id":70515068,"comment_id":124649405,"body_markdown":"Why not try benchmark it yourself by timing it?","body":"Why not try benchmark it yourself by timing it?"}],"answers":[{"tags":[],"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1640753948,"creation_date":1640751814,"answer_id":70515108,"question_id":70515068,"body_markdown":"No, there is not difference if you check the java source of Arrays. It also use the loop to set variable. \r\n\r\n```\r\n/**\r\n  * @param &lt;T&gt; type of elements of the array\r\n  * @param array array to be initialized\r\n  * @param generator a function accepting an index and producing the desired\r\n  *        value for that position\r\n  * @throws NullPointerException if the generator is null\r\n  * @since 1.8\r\n  */\r\npublic static &lt;T&gt; void setAll(T[] array, IntFunction&lt;? extends T&gt; generator) {\r\n    Objects.requireNonNull(generator);\r\n    for (int i = 0; i &lt; array.length; i++) {\r\n         array[i] = generator.apply(i);\r\n    }\r\n}\r\n```\r\n\r\nhttps://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Arrays.java","title":"What is the performance impact of Arrays.setAll in java?","body":"<p>No, there is not difference if you check the java source of Arrays. It also use the loop to set variable.</p>\n<pre><code>/**\n  * @param &lt;T&gt; type of elements of the array\n  * @param array array to be initialized\n  * @param generator a function accepting an index and producing the desired\n  *        value for that position\n  * @throws NullPointerException if the generator is null\n  * @since 1.8\n  */\npublic static &lt;T&gt; void setAll(T[] array, IntFunction&lt;? extends T&gt; generator) {\n    Objects.requireNonNull(generator);\n    for (int i = 0; i &lt; array.length; i++) {\n         array[i] = generator.apply(i);\n    }\n}\n</code></pre>\n<p><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Arrays.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Arrays.java</a></p>\n"}],"owner":{"account_id":16182052,"reputation":43,"user_id":11683319,"display_name":"Ruben Ferreira"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1640819003,"creation_date":1640751384,"question_id":70515068,"body_markdown":"I created a method that simply fills an array of Integer[] objects and I was wondering if there would be a performance difference between using the builtin Java method Arrays.setAll :\r\n\r\n```\r\nprivate static Integer generate_number(){\r\n    return random.nextInt(9000);\r\n}\r\n    \r\npublic static void fill_array_with_randNumbers(Integer[] array){\r\n    Arrays.setAll(array, i -&gt; generate_number());\r\n}\r\n```\r\n\r\nand doing it the old fashion way:\r\n```\r\nprivate static Integer generate_number(){\r\n    return random.nextInt(9000);\r\n}\r\n\r\npublic static void fill_array_with_randNumbers(Integer[] array){\r\n    for(int i = 0; i &lt; array.length; i++) {\r\n        array[i] = generate_number();\r\n    }\r\n}\r\n```\r\n","title":"What is the performance impact of Arrays.setAll in java?","body":"<p>I created a method that simply fills an array of Integer[] objects and I was wondering if there would be a performance difference between using the builtin Java method Arrays.setAll :</p>\n<pre><code>private static Integer generate_number(){\n    return random.nextInt(9000);\n}\n    \npublic static void fill_array_with_randNumbers(Integer[] array){\n    Arrays.setAll(array, i -&gt; generate_number());\n}\n</code></pre>\n<p>and doing it the old fashion way:</p>\n<pre><code>private static Integer generate_number(){\n    return random.nextInt(9000);\n}\n\npublic static void fill_array_with_randNumbers(Integer[] array){\n    for(int i = 0; i &lt; array.length; i++) {\n        array[i] = generate_number();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","session","spring-security"],"comments":[{"owner":{"account_id":12010931,"reputation":474,"user_id":8787628,"display_name":"Llama"},"score":2,"creation_date":1640817619,"post_id":70525256,"comment_id":124668342,"body_markdown":"SecurityContextHolder.getContext() --&gt; have you tried making this a variable and dotting into its methods?","body":"SecurityContextHolder.getContext() --&gt; have you tried making this a variable and dotting into its methods?"},{"owner":{"account_id":21488921,"reputation":4715,"user_id":15835039,"display_name":"Steve Riesenberg"},"score":2,"creation_date":1641246501,"post_id":70525256,"comment_id":124752098,"body_markdown":"@Llama had a good suggestion. If you access the `Authentication`, it has a `principal` which is a `Jwt`, giving you access to the claims without double-parsing the JWT. Combining that with the below answer, you would place a custom filter after `BearerTokenAuthenticationFilter`. Also take a look at `JwtAuthenticationConverter` (see [docs](https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html#oauth2resourceserver-jwt-architecture)). You can produce a custom extension of `JwtAuthenticationToken` that contains your custom claim as a field.","body":"@Llama had a good suggestion. If you access the <code>Authentication</code>, it has a <code>principal</code> which is a <code>Jwt</code>, giving you access to the claims without double-parsing the JWT. Combining that with the below answer, you would place a custom filter after <code>BearerTokenAuthenticationFilter</code>. Also take a look at <code>JwtAuthenticationConverter</code> (see <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html#oauth2resourceserver-jwt-architecture\" rel=\"nofollow noreferrer\">docs</a>). You can produce a custom extension of <code>JwtAuthenticationToken</code> that contains your custom claim as a field."}],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640818611,"creation_date":1640818611,"answer_id":70525843,"question_id":70525256,"body_markdown":"You have several options to do that: using a `ControllerAdvice`, perhaps AOP, but probably the way to go will be using a custom security filter.\r\n\r\nThe idea is exemplified in [this article](https://www.baeldung.com/spring-security-custom-filter) and [this related SO question](https://stackoverflow.com/questions/11928637/how-to-write-a-custom-filter-in-spring-security).\r\n\r\nFirst, create a filter for processing the appropriate claim. For example:\r\n\r\n```java\r\npublic class SessionValidationFilter extends GenericFilterBean {\r\n\r\n  private static final String AUTHORIZATION_HEADER = &quot;Authorization&quot;;\r\n  private static final String AUTHORIZATION_BEARER = &quot;Bearer&quot;;\r\n\r\n  @Override\r\n  public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)\r\n    throws IOException, ServletException {\r\n    HttpServletRequest httpServletRequest = (HttpServletRequest) servletRequest;\r\n    // We will provide our own validation logic from scratch\r\n    // If you are using Spring OAuth or something similar \r\n    // you can instead use the already authenticated token, something like:\r\n    // Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n    // if (authentication != null &amp;&amp; authentication.getPrincipal() instanceof Jwt) {\r\n    //    Jwt jwt = (Jwt) authentication.getPrincipal();\r\n    //    String sessionId = jwt.getClaimAsString(&quot;sessionid&quot;);\r\n    //    ...\r\n    \r\n    // Resolve token from request\r\n    String jwt = getTokenFromRequest(httpServletRequest);\r\n    if (jwt == null) {\r\n       // your choice... mine\r\n       filterChain.doFilter(servletRequest, servletResponse);\r\n       return;\r\n    }\r\n\r\n    // If the token is not valid, raise error\r\n    if (!this.validateToken(jwt)) {\r\n      throw new BadCredentialsException(&quot;Session expired&quot;);\r\n    }\r\n\r\n    // Continue filter chain\r\n    filterChain.doFilter(servletRequest, servletResponse);\r\n  }\r\n\r\n  // Resolve token from Authorization header\r\n  private String getTokenFromRequest(HttpServletRequest request){\r\n    String bearerToken = request.getHeader(AUTHORIZATION_HEADER);\r\n    if (StringUtils.isNotEmpty(bearerToken) &amp;&amp; bearerToken.startsWith(AUTHORIZATION_BEARER)) {\r\n      return bearerToken.substring(7, bearerToken.length());\r\n    }\r\n    return null;\r\n  }\r\n\r\n  // Validate the JWT token\r\n  // We can use the jjwt library, for instance, to process the JWT token claims\r\n  private boolean validateToken(String token) {\r\n    try {\r\n      Claims claims = Jwts.parser()\r\n        // .setSigningKey(...)\r\n        .parseClaimsJws(token)\r\n        .getBody()\r\n      ;\r\n\r\n      String sessionId = (String)claims.get(&quot;sessionid&quot;); \r\n      // Process as appropriate to determine whether the session is valid or not\r\n      //...\r\n\r\n      return true;\r\n    } catch (Exception e) {\r\n      // consider logging the error. Handle as appropriate\r\n    }\r\n\r\n    return false;\r\n  }\r\n}\r\n```\r\n\r\nNow, assuming for instance that you are using Java configuration, add the filter to the Spring Security filter chain after the one that actually is performing the authentication:\r\n\r\n```java\r\n@Configuration\r\npublic class SecurityConfiguration\r\n  extends WebSecurityConfigurerAdapter {\r\n\r\n  // the rest of your code\r\n\r\n  @Override\r\n  protected void configure(HttpSecurity http) throws Exception {\r\n    // the rest of your configuration\r\n\r\n    // Add the custom filter\r\n    // see https://docs.spring.io/spring-security/site/docs/5.2.1.RELEASE/reference/htmlsingle/#filter-stack\r\n    // you can name every provided filter or any specified that is included in the filter chain\r\n    http.addFilterAfter(new SessionValidationFilter(), BasicAuthenticationFilter.class);\r\n  }\r\n}\r\n```\r\n","title":"How to validate a custom session in spring","body":"<p>You have several options to do that: using a <code>ControllerAdvice</code>, perhaps AOP, but probably the way to go will be using a custom security filter.</p>\n<p>The idea is exemplified in <a href=\"https://www.baeldung.com/spring-security-custom-filter\" rel=\"nofollow noreferrer\">this article</a> and <a href=\"https://stackoverflow.com/questions/11928637/how-to-write-a-custom-filter-in-spring-security\">this related SO question</a>.</p>\n<p>First, create a filter for processing the appropriate claim. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SessionValidationFilter extends GenericFilterBean {\n\n  private static final String AUTHORIZATION_HEADER = &quot;Authorization&quot;;\n  private static final String AUTHORIZATION_BEARER = &quot;Bearer&quot;;\n\n  @Override\n  public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)\n    throws IOException, ServletException {\n    HttpServletRequest httpServletRequest = (HttpServletRequest) servletRequest;\n    // We will provide our own validation logic from scratch\n    // If you are using Spring OAuth or something similar \n    // you can instead use the already authenticated token, something like:\n    // Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n    // if (authentication != null &amp;&amp; authentication.getPrincipal() instanceof Jwt) {\n    //    Jwt jwt = (Jwt) authentication.getPrincipal();\n    //    String sessionId = jwt.getClaimAsString(&quot;sessionid&quot;);\n    //    ...\n    \n    // Resolve token from request\n    String jwt = getTokenFromRequest(httpServletRequest);\n    if (jwt == null) {\n       // your choice... mine\n       filterChain.doFilter(servletRequest, servletResponse);\n       return;\n    }\n\n    // If the token is not valid, raise error\n    if (!this.validateToken(jwt)) {\n      throw new BadCredentialsException(&quot;Session expired&quot;);\n    }\n\n    // Continue filter chain\n    filterChain.doFilter(servletRequest, servletResponse);\n  }\n\n  // Resolve token from Authorization header\n  private String getTokenFromRequest(HttpServletRequest request){\n    String bearerToken = request.getHeader(AUTHORIZATION_HEADER);\n    if (StringUtils.isNotEmpty(bearerToken) &amp;&amp; bearerToken.startsWith(AUTHORIZATION_BEARER)) {\n      return bearerToken.substring(7, bearerToken.length());\n    }\n    return null;\n  }\n\n  // Validate the JWT token\n  // We can use the jjwt library, for instance, to process the JWT token claims\n  private boolean validateToken(String token) {\n    try {\n      Claims claims = Jwts.parser()\n        // .setSigningKey(...)\n        .parseClaimsJws(token)\n        .getBody()\n      ;\n\n      String sessionId = (String)claims.get(&quot;sessionid&quot;); \n      // Process as appropriate to determine whether the session is valid or not\n      //...\n\n      return true;\n    } catch (Exception e) {\n      // consider logging the error. Handle as appropriate\n    }\n\n    return false;\n  }\n}\n</code></pre>\n<p>Now, assuming for instance that you are using Java configuration, add the filter to the Spring Security filter chain after the one that actually is performing the authentication:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class SecurityConfiguration\n  extends WebSecurityConfigurerAdapter {\n\n  // the rest of your code\n\n  @Override\n  protected void configure(HttpSecurity http) throws Exception {\n    // the rest of your configuration\n\n    // Add the custom filter\n    // see https://docs.spring.io/spring-security/site/docs/5.2.1.RELEASE/reference/htmlsingle/#filter-stack\n    // you can name every provided filter or any specified that is included in the filter chain\n    http.addFilterAfter(new SessionValidationFilter(), BasicAuthenticationFilter.class);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":111226,"reputation":1631,"user_id":293956,"accept_rate":50,"display_name":"BoomShaka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1770,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70525843,"answer_count":1,"score":1,"last_activity_date":1640818925,"creation_date":1640813670,"question_id":70525256,"body_markdown":"I&#39;m new to spring, so just looking for a general direction / advice.\r\n\r\nI&#39;m building a small microservice. The service auth is already setup to validate a JWT that is passed to it (issued by a different microservice).\r\n\r\nThe JWT contains a sessionid claim. I want to be able to get that claim, and validate that the session is still active.\r\n\r\nFor now that will be by querying the database directly, although in future when we have a dedicated session-service, I will change it to call that service instead.\r\n\r\nI can obviously get the claim in each controller that should validate the session (basically all of them), but I am looking for a more global option, like a request interceptor (that only triggers AFTER the JWT is validated, and has access to the validated JWT).\r\n\r\nIs there a recommended way to do this kind of thing in spring?","title":"How to validate a custom session in spring","body":"<p>I'm new to spring, so just looking for a general direction / advice.</p>\n<p>I'm building a small microservice. The service auth is already setup to validate a JWT that is passed to it (issued by a different microservice).</p>\n<p>The JWT contains a sessionid claim. I want to be able to get that claim, and validate that the session is still active.</p>\n<p>For now that will be by querying the database directly, although in future when we have a dedicated session-service, I will change it to call that service instead.</p>\n<p>I can obviously get the claim in each controller that should validate the session (basically all of them), but I am looking for a more global option, like a request interceptor (that only triggers AFTER the JWT is validated, and has access to the validated JWT).</p>\n<p>Is there a recommended way to do this kind of thing in spring?</p>\n"},{"tags":["java","stack","iteration","quicksort","non-recursive"],"comments":[{"owner":{"account_id":9165235,"reputation":15414,"user_id":6815131,"display_name":"Joe C"},"score":0,"creation_date":1489358223,"post_id":42754024,"comment_id":72624291,"body_markdown":"Welcome to Stack Overflow!  It looks like you need to learn to use a debugger.  Please help yourself to some [complementary debugging techniques](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/).  If you still have issues afterwards, please feel free to come back with more details.","body":"Welcome to Stack Overflow!  It looks like you need to learn to use a debugger.  Please help yourself to some <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">complementary debugging techniques</a>.  If you still have issues afterwards, please feel free to come back with more details."},{"owner":{"account_id":5602274,"reputation":1536,"user_id":6693299,"display_name":"ScottK"},"score":0,"creation_date":1489358329,"post_id":42754024,"comment_id":72624332,"body_markdown":"Why implement QuickSort iteratively, but depend on a Stack class to do it? When you invoke QuickSort recursively, it uses a Stack implicitly, but the code will be cleaner, and probably run slightly faster than your version. If this is some sort of academic exercise to see if you can do it, cool. If you are doing this because you think iterative is always faster than recursion, that is not correct, and you should stick with recursion.","body":"Why implement QuickSort iteratively, but depend on a Stack class to do it? When you invoke QuickSort recursively, it uses a Stack implicitly, but the code will be cleaner, and probably run slightly faster than your version. If this is some sort of academic exercise to see if you can do it, cool. If you are doing this because you think iterative is always faster than recursion, that is not correct, and you should stick with recursion."},{"owner":{"account_id":5138100,"reputation":3886,"user_id":4116239,"display_name":"Kevin J. Chase"},"score":0,"creation_date":1489368796,"post_id":42754024,"comment_id":72626828,"body_markdown":"@ScottK  Since this is a school assignment, I assume that (at least part of) the intent is to make the implicit stack explicit.","body":"@ScottK  Since this is a school assignment, I assume that (at least part of) the intent is to make the implicit stack explicit."}],"answers":[{"tags":[],"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640818635,"creation_date":1489359294,"answer_id":42754199,"question_id":42754024,"body_markdown":"Since in partition() `hi` is an index to the last element of an array, in the initial part of the code, the second push should be push(a.length-1), the `last` index instead of an `end` index. Also the if should check for hi - lo &lt; 1 or lo &lt; hi.\r\n\r\nAfter a call to partition, j = the index to the now sorted pivot. The line for j = hi + ... should be deleted, as partition() returns the value to be used for j. Since a[j] is sorted, it should not be included in the two partitions to be recursively processed. The two stack.push(j ...) lines need to be fixed.\r\n\r\n - - -\r\n\r\nExample classic Hoare partition scheme for an array of int using a local array for the stack:\r\n\r\n        public static void qsort(int[] a)\r\n        {\r\n            int[] stk = new int[64];            // stack\r\n            int sti = 0;                        // stack index\r\n            stk[sti++] = a.length-1;\r\n            stk[sti++] = 0;\r\n            while(sti != 0){\r\n                int lo = stk[--sti];\r\n                int hi = stk[--sti];\r\n                while(lo &lt; hi){\r\n                    // Hoare partition\r\n                    int  md = lo+(hi-lo)/2;\r\n                    int  ll = lo-1;\r\n                    int  hh = hi+1;\r\n                    int p = a[md];\r\n                    int t;\r\n                    while(true){\r\n                        while(a[++ll] &lt; p);\r\n                        while(a[--hh] &gt; p);\r\n                        if(ll &gt;= hh)\r\n                             break;\r\n                        t     = a[ll];\r\n                        a[ll] = a[hh];\r\n                        a[hh] = t;\r\n                    }\r\n                    ll = hh++;\r\n                    // ll = last left index, hh = first right index\r\n                    // push larger partition indexes onto stack\r\n                    // loop back for smaller partition\r\n                    if((ll - lo) &gt; (hi - hh)){\r\n                        stk[sti++] = ll;\r\n                        stk[sti++] = lo;\r\n                        lo = hh;\r\n                    } else {\r\n                        stk[sti++] = hi;\r\n                        stk[sti++] = hh;\r\n                        hi = ll;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n\r\n","title":"Iterative Quicksort","body":"<p>Since in partition() <code>hi</code> is an index to the last element of an array, in the initial part of the code, the second push should be push(a.length-1), the <code>last</code> index instead of an <code>end</code> index. Also the if should check for hi - lo &lt; 1 or lo &lt; hi.</p>\n<p>After a call to partition, j = the index to the now sorted pivot. The line for j = hi + ... should be deleted, as partition() returns the value to be used for j. Since a[j] is sorted, it should not be included in the two partitions to be recursively processed. The two stack.push(j ...) lines need to be fixed.</p>\n<hr />\n<p>Example classic Hoare partition scheme for an array of int using a local array for the stack:</p>\n<pre><code>    public static void qsort(int[] a)\n    {\n        int[] stk = new int[64];            // stack\n        int sti = 0;                        // stack index\n        stk[sti++] = a.length-1;\n        stk[sti++] = 0;\n        while(sti != 0){\n            int lo = stk[--sti];\n            int hi = stk[--sti];\n            while(lo &lt; hi){\n                // Hoare partition\n                int  md = lo+(hi-lo)/2;\n                int  ll = lo-1;\n                int  hh = hi+1;\n                int p = a[md];\n                int t;\n                while(true){\n                    while(a[++ll] &lt; p);\n                    while(a[--hh] &gt; p);\n                    if(ll &gt;= hh)\n                         break;\n                    t     = a[ll];\n                    a[ll] = a[hh];\n                    a[hh] = t;\n                }\n                ll = hh++;\n                // ll = last left index, hh = first right index\n                // push larger partition indexes onto stack\n                // loop back for smaller partition\n                if((ll - lo) &gt; (hi - hh)){\n                    stk[sti++] = ll;\n                    stk[sti++] = lo;\n                    lo = hh;\n                } else {\n                    stk[sti++] = hi;\n                    stk[sti++] = hh;\n                    hi = ll;\n                }\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":10444391,"reputation":19,"user_id":7699943,"display_name":"Crypto"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1141,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":1,"score":-1,"last_activity_date":1640818635,"creation_date":1489358062,"question_id":42754024,"body_markdown":"I&#39;m trying to implement a quicksort method that runs iterativly. I have used stack to hold the information. It will also use partitions to achieve this. I know that the partitioned section of code at the bottom is fine, it&#39;s only the first block of it that&#39;s having issues. For some reason though, my code is not doing what its suppose to. Not too experienced with java, so if anyone sees any errors that would throw a flag it would be much appreciated! \r\n\r\n    import java.util.Stack;\r\n\r\n    public class QuickSort{\r\n\r\n\t// provide non-recursive version of quick sort\r\n\t// hint: use stack to stored intermediate results\r\n\t// java.util.Stack can be used as stack implementation\r\n\tpublic static &lt;T extends Comparable&lt;T&gt;&gt; void sort(T[] a) {\r\n\t\tStack&lt;Integer&gt; stack = new Stack&lt;Integer&gt;();\r\n\t\t  \r\n\t\t  stack.push(0);\r\n\t\t  stack.push(a.length);\r\n\t\t  \r\n\t\t  while (!stack.isEmpty())\r\n\t\t  {\r\n\t\t\t int i = 0; \r\n\t\t\t int hi = a[i]\r\n\t\t\t hi = stack.pop();\r\n\t\t\t int lo = stack.pop();\r\n\t\t\t \r\n\t\t\t if (hi - lo &lt; 2) {\r\n\t\t\t\t continue;\r\n\t\t\t\t }\r\n\t\t\t \r\n\t\t\t  \r\n\t\t\t int j = partition(a, lo, hi);\r\n\t\t\t j = hi + ((lo - hi) / 2);\r\n\t\t\t \r\n\t\t\t stack.push(j - 1);\r\n\t\t\t stack.push(hi);\r\n\t\t\t stack.push(lo);\r\n\t\t\t stack.push(j);    \r\n\t\t\t  \r\n\t\t  } \r\n\t\t     // return;\r\n\t}\r\n\r\n    //THIS SECTION OF CODE BELOW SHOULD BE FINE \r\n\r\n\t// Partition into a[lo..j-1], a[j], a[j+1..hi]\r\n\tprivate static &lt;T extends Comparable&lt;T&gt;&gt; int partition(T[] a, int lo, int hi) { \r\n\t\tint i = lo, j = hi + 1; // left and right scan indices\r\n\t\tT v = a[lo]; // the pivot\r\n\r\n\t\twhile (true) { // Scan right, scan left, check for scan complete, and exchange\r\n\t\t\twhile (SortUtils.isLessThan(a[++i], v)) {//++i is evaluated to i+1 \r\n\t\t\t\tif (i == hi) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\twhile (SortUtils.isLessThan(v, a[--j])) {//--j is evaluated to j-1\r\n\t\t\t\tif (j == lo) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (i &gt;= j) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tSortUtils.swap(a, i, j);\r\n\t\t}\r\n\r\n\t\tSortUtils.swap(a, lo, j); // Put v = a[j] into position\r\n\t\treturn j; \r\n\t}\r\n\r\n    }\r\n\r\n\r\nTEST CODE\r\n    \r\n    package edu.csus.csc130.spring2017.assignment2;\r\n    \r\n    import java.util.Arrays;\r\n    \r\n    import org.junit.Assert;\r\n    import org.junit.Test;\r\n    \r\n    public class \r\n\r\n    QuickSortTest {\r\n\r\n\t@Test\r\n\tpublic void testSort1() {\r\n\t\tInteger[] a = {17};\r\n\t\tInteger[] expected = {17};\r\n\t\tQuickSort.sort(a);\r\n\t\tSystem.out.println(Arrays.toString(a));\r\n\t\tAssert.assertArrayEquals(expected, a);\r\n\t}\r\n\t\r\n\t@Test\r\n\tpublic void testSort2() {\r\n\t\tInteger[] a = {17, 5};\r\n\t\tInteger[] expected = {5, 17};\r\n\t\tQuickSort.sort(a);\r\n\t\tSystem.out.println(Arrays.toString(a));\r\n\t\tAssert.assertArrayEquals(expected, a);\r\n\t}\r\n\t\r\n\t@Test\r\n\tpublic void testSort3() {\r\n\t\tInteger[] a = {64, 18, 74, 89, 58, 17, 48, 44, 92, 88, 78, 80, 75, 25, 77, 18, 39, 95, 11, 2};\r\n\t\tInteger[] expected = {2, 11, 17, 18, 18, 25, 39, 44, 48, 58, 64, 74, 75, 77, 78, 80, 88, 89, 92, 95};\r\n\t\tQuickSort.sort(a);\r\n\t\tSystem.out.println(Arrays.toString(a));\r\n\t\tAssert.assertArrayEquals(expected, a);\r\n\t}\r\n\r\n\r\n    }\r\n","title":"Iterative Quicksort","body":"<p>I'm trying to implement a quicksort method that runs iterativly. I have used stack to hold the information. It will also use partitions to achieve this. I know that the partitioned section of code at the bottom is fine, it's only the first block of it that's having issues. For some reason though, my code is not doing what its suppose to. Not too experienced with java, so if anyone sees any errors that would throw a flag it would be much appreciated! </p>\n\n<pre><code>import java.util.Stack;\n\npublic class QuickSort{\n\n// provide non-recursive version of quick sort\n// hint: use stack to stored intermediate results\n// java.util.Stack can be used as stack implementation\npublic static &lt;T extends Comparable&lt;T&gt;&gt; void sort(T[] a) {\n    Stack&lt;Integer&gt; stack = new Stack&lt;Integer&gt;();\n\n      stack.push(0);\n      stack.push(a.length);\n\n      while (!stack.isEmpty())\n      {\n         int i = 0; \n         int hi = a[i]\n         hi = stack.pop();\n         int lo = stack.pop();\n\n         if (hi - lo &lt; 2) {\n             continue;\n             }\n\n\n         int j = partition(a, lo, hi);\n         j = hi + ((lo - hi) / 2);\n\n         stack.push(j - 1);\n         stack.push(hi);\n         stack.push(lo);\n         stack.push(j);    \n\n      } \n         // return;\n}\n\n//THIS SECTION OF CODE BELOW SHOULD BE FINE \n\n// Partition into a[lo..j-1], a[j], a[j+1..hi]\nprivate static &lt;T extends Comparable&lt;T&gt;&gt; int partition(T[] a, int lo, int hi) { \n    int i = lo, j = hi + 1; // left and right scan indices\n    T v = a[lo]; // the pivot\n\n    while (true) { // Scan right, scan left, check for scan complete, and exchange\n        while (SortUtils.isLessThan(a[++i], v)) {//++i is evaluated to i+1 \n            if (i == hi) {\n                break;\n            }\n        }\n        while (SortUtils.isLessThan(v, a[--j])) {//--j is evaluated to j-1\n            if (j == lo) {\n                break;\n            }\n        }\n        if (i &gt;= j) {\n            break;\n        }\n\n        SortUtils.swap(a, i, j);\n    }\n\n    SortUtils.swap(a, lo, j); // Put v = a[j] into position\n    return j; \n}\n\n}\n</code></pre>\n\n<p>TEST CODE</p>\n\n<pre><code>package edu.csus.csc130.spring2017.assignment2;\n\nimport java.util.Arrays;\n\nimport org.junit.Assert;\nimport org.junit.Test;\n\npublic class \n\nQuickSortTest {\n\n@Test\npublic void testSort1() {\n    Integer[] a = {17};\n    Integer[] expected = {17};\n    QuickSort.sort(a);\n    System.out.println(Arrays.toString(a));\n    Assert.assertArrayEquals(expected, a);\n}\n\n@Test\npublic void testSort2() {\n    Integer[] a = {17, 5};\n    Integer[] expected = {5, 17};\n    QuickSort.sort(a);\n    System.out.println(Arrays.toString(a));\n    Assert.assertArrayEquals(expected, a);\n}\n\n@Test\npublic void testSort3() {\n    Integer[] a = {64, 18, 74, 89, 58, 17, 48, 44, 92, 88, 78, 80, 75, 25, 77, 18, 39, 95, 11, 2};\n    Integer[] expected = {2, 11, 17, 18, 18, 25, 39, 44, 48, 58, 64, 74, 75, 77, 78, 80, 88, 89, 92, 95};\n    QuickSort.sort(a);\n    System.out.println(Arrays.toString(a));\n    Assert.assertArrayEquals(expected, a);\n}\n\n\n}\n</code></pre>\n"},{"tags":["java","visual-studio-code","raspberry-pi"],"comments":[{"owner":{"account_id":11416432,"reputation":578,"user_id":8369150,"display_name":"Halil Sahin"},"score":0,"creation_date":1640300028,"post_id":70467937,"comment_id":124566722,"body_markdown":"You have to install a JDK package on your pc additionally.","body":"You have to install a JDK package on your pc additionally."},{"owner":{"account_id":17223108,"reputation":11,"user_id":17751539,"display_name":"Caio Vital"},"score":0,"creation_date":1640300382,"post_id":70467937,"comment_id":124566780,"body_markdown":"after running &quot;java -version&quot; on terminal, I have this JDK installed --&gt;  \n\nopenjdk version &quot;11.0.12&quot; 2021-07-20\nOpenJDK Runtime Environment (build 11.0.12+7-post-Raspbian-2deb10u1)\nOpenJDK Server VM (build 11.0.12+7-post-Raspbian-2deb10u1, mixed mode)","body":"after running &quot;java -version&quot; on terminal, I have this JDK installed --&gt;    openjdk version &quot;11.0.12&quot; 2021-07-20 OpenJDK Runtime Environment (build 11.0.12+7-post-Raspbian-2deb10u1) OpenJDK Server VM (build 11.0.12+7-post-Raspbian-2deb10u1, mixed mode)"},{"owner":{"account_id":11416432,"reputation":578,"user_id":8369150,"display_name":"Halil Sahin"},"score":1,"creation_date":1640300713,"post_id":70467937,"comment_id":124566838,"body_markdown":"So then for understanding to issue: can you create a simple helloworld application and save the file as: hello.java\nThen go the path of this file through terminal and type in terminal: javac hello.java  Then in terminal call class as: java hello  And follow the result","body":"So then for understanding to issue: can you create a simple helloworld application and save the file as: hello.java Then go the path of this file through terminal and type in terminal: javac hello.java  Then in terminal call class as: java hello  And follow the result"},{"owner":{"account_id":17223108,"reputation":11,"user_id":17751539,"display_name":"Caio Vital"},"score":0,"creation_date":1640301291,"post_id":70467937,"comment_id":124566920,"body_markdown":"javac hello.java created a file named &quot;hello.class&quot;, then when calling the class with &quot;java hello&quot; the error showed was ---&gt; it wasn&#39;t possible to locate nor load the main class hello caused by: java.lang.ClassNotFoundException: hello","body":"javac hello.java created a file named &quot;hello.class&quot;, then when calling the class with &quot;java hello&quot; the error showed was ---&gt; it wasn&#39;t possible to locate nor load the main class hello caused by: java.lang.ClassNotFoundException: hello"},{"owner":{"account_id":11416432,"reputation":578,"user_id":8369150,"display_name":"Halil Sahin"},"score":0,"creation_date":1640306713,"post_id":70467937,"comment_id":124567682,"body_markdown":"You can call as: java hello.class","body":"You can call as: java hello.class"},{"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1640311409,"post_id":70467937,"comment_id":124568250,"body_markdown":"Follow this [tutorial](https://code.visualstudio.com/docs/java/java-tutorial/JavaHelloWorld.Project.mp4), can you get the result in Terminal?","body":"Follow this <a href=\"https://code.visualstudio.com/docs/java/java-tutorial/JavaHelloWorld.Project.mp4\" rel=\"nofollow noreferrer\">tutorial</a>, can you get the result in Terminal?"}],"answers":[{"tags":[],"owner":{"account_id":17223108,"reputation":11,"user_id":17751539,"display_name":"Caio Vital"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640818205,"creation_date":1640818205,"answer_id":70525800,"question_id":70467937,"body_markdown":"Found out that the latest version of the extension &quot;Language Support for Java by RedHat&quot; wasn&#39;t working properly on my VSCode. I installed version 1.0.0 and it loaded everything and now I can run Java smoothly.","title":"Problems with Java on Visual Studio Code","body":"<p>Found out that the latest version of the extension &quot;Language Support for Java by RedHat&quot; wasn't working properly on my VSCode. I installed version 1.0.0 and it loaded everything and now I can run Java smoothly.</p>\n"}],"owner":{"account_id":17223108,"reputation":11,"user_id":17751539,"display_name":"Caio Vital"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640818205,"creation_date":1640298032,"question_id":70467937,"body_markdown":"I only have a Raspberry Pi to practice, and Visual Studio Code runs smoothly on it for many languages I&#39;ve tried, but I can&#39;t seem to run Java on it. I installed the Extension Pack for Java, but when I create a Java Project and try to run it, the Debugger keeps loading and doesn&#39;t start at all. I tried uninstalling/reinstalling the Extension Pack and the Debugger, but without success. I know the solution might be obvious, but I tried googling it and found nothing. ","title":"Problems with Java on Visual Studio Code","body":"<p>I only have a Raspberry Pi to practice, and Visual Studio Code runs smoothly on it for many languages I've tried, but I can't seem to run Java on it. I installed the Extension Pack for Java, but when I create a Java Project and try to run it, the Debugger keeps loading and doesn't start at all. I tried uninstalling/reinstalling the Extension Pack and the Debugger, but without success. I know the solution might be obvious, but I tried googling it and found nothing.</p>\n"},{"tags":["java","multithreading","synchronize"],"answers":[{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1640817883,"creation_date":1640817883,"answer_id":70525759,"question_id":70525601,"body_markdown":"You should get familiar with `CyclicBarrier` class.\r\n&gt; A synchronization aid that allows a set of threads to all wait for each other to reach a common barrier point. CyclicBarriers are useful in programs involving a fixed sized party of threads that must occasionally wait for each other. The barrier is called cyclic because it can be re-used after the waiting threads are released.\r\n\r\nNote that you can optionally define a barrierAction, which is executed by last  thread reaching the barrier.\r\n\r\nSee tutorial [CyclicBarrier in Java][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-cyclic-barrier","title":"Java Thread Sync","body":"<p>You should get familiar with <code>CyclicBarrier</code> class.</p>\n<blockquote>\n<p>A synchronization aid that allows a set of threads to all wait for each other to reach a common barrier point. CyclicBarriers are useful in programs involving a fixed sized party of threads that must occasionally wait for each other. The barrier is called cyclic because it can be re-used after the waiting threads are released.</p>\n</blockquote>\n<p>Note that you can optionally define a barrierAction, which is executed by last  thread reaching the barrier.</p>\n<p>See tutorial <a href=\"https://www.baeldung.com/java-cyclic-barrier\" rel=\"noreferrer\">CyclicBarrier in Java</a></p>\n"}],"owner":{"account_id":19622202,"reputation":25,"user_id":14362450,"display_name":"WayOver"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70525759,"answer_count":1,"score":0,"last_activity_date":1640817883,"creation_date":1640816387,"question_id":70525601,"body_markdown":"I have a class Shop. In main i create 3 shop objects in main\r\n\r\n```\r\nThread thread1 = new Thread(shop1);\r\nThread thread2 = new Thread(shop2);\r\nThread thread3 = new Thread(shop3);\r\n\r\n\r\nthreads.add(thread1);\r\nthreads.add(thread2);\r\nthreads.add(thread3);\r\n\r\nfor (Thread t : threads) {\r\n    t.start();\r\n}\r\n```\r\n\r\nrun method in the shop class\r\n\r\n```\r\n@Override\r\npublic void run() {\r\n\r\n   for(int day=0;day&lt;=360;++day) {\r\n      if (day% 30 == 0) {\r\n         delivery();\r\n     }\r\n\r\nCODE...\r\n   }\r\n}\r\n```\r\n\r\nI would like threads to sync every 30 days. So every 30 days threads are waiting for each other.\r\n&lt;br&gt;It would be easiest to use Thread.join() but how can I use it when I&#39;m in run().\r\n\r\n&lt;br&gt;&lt;br&gt;\r\nI was also thinking about doing instead of 360 days, 12 times 30 days\r\n```\r\npublic void run() {\r\n\r\n   for(int day=0;day&lt;30;++day) {\r\n      if (day% 30 == 0) {\r\n         delivery();\r\n     }\r\n\r\nCODE...\r\n  ```\r\n\r\nand use in main join() but then there is a problem how to restart the method.\r\n\r\nWhat can i do to synchronize this?","title":"Java Thread Sync","body":"<p>I have a class Shop. In main i create 3 shop objects in main</p>\n<pre><code>Thread thread1 = new Thread(shop1);\nThread thread2 = new Thread(shop2);\nThread thread3 = new Thread(shop3);\n\n\nthreads.add(thread1);\nthreads.add(thread2);\nthreads.add(thread3);\n\nfor (Thread t : threads) {\n    t.start();\n}\n</code></pre>\n<p>run method in the shop class</p>\n<pre><code>@Override\npublic void run() {\n\n   for(int day=0;day&lt;=360;++day) {\n      if (day% 30 == 0) {\n         delivery();\n     }\n\nCODE...\n   }\n}\n</code></pre>\n<p>I would like threads to sync every 30 days. So every 30 days threads are waiting for each other.\n<br>It would be easiest to use Thread.join() but how can I use it when I'm in run().</p>\n<p><br><br>\nI was also thinking about doing instead of 360 days, 12 times 30 days</p>\n<pre><code>public void run() {\n\n   for(int day=0;day&lt;30;++day) {\n      if (day% 30 == 0) {\n         delivery();\n     }\n\nCODE...\n</code></pre>\n<p>and use in main join() but then there is a problem how to restart the method.</p>\n<p>What can i do to synchronize this?</p>\n"},{"tags":["java","java.util.scanner","java-time"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1640814627,"post_id":70525341,"comment_id":124667485,"body_markdown":"Note that just using the year will give the wrong result before/after their birthday depending on how you goalpost.","body":"Note that just using the year will give the wrong result before/after their birthday depending on how you goalpost."},{"owner":{"account_id":4554718,"reputation":2128,"user_id":3698762,"accept_rate":38,"display_name":"Stefan"},"score":0,"creation_date":1640815194,"post_id":70525341,"comment_id":124667665,"body_markdown":"You can use `Integer.valueOf(getUserAgeObject.localTimeYear) - userBirthdayYear` in your return statemant, because your localTimeYear is a String and needs to be converted to an integer to be able to do mathematical operations on it","body":"You can use <code>Integer.valueOf(getUserAgeObject.localTimeYear) - userBirthdayYear</code> in your return statemant, because your localTimeYear is a String and needs to be converted to an integer to be able to do mathematical operations on it"},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1640815538,"post_id":70525341,"comment_id":124667763,"body_markdown":"Hint: might help you to have a read of https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html#getYear()","body":"Hint: might help you to have a read of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html#getYear()\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/ti&zwnj;&#8203;me/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640817411,"creation_date":1640815712,"answer_id":70525521,"question_id":70525341,"body_markdown":"# `String` is not numeric\r\n\r\nYour error must be coming from this line:\r\n\r\n&gt; return (getUserAgeObject.localtimeYear - userBirthdayYear);\r\n\r\n… because the member field `localtimeYear` refers to a `String` object. You cannot use the numeric operator `-` on a `String` object. \r\n\r\n# `Year` class\r\n\r\nIf you want to focus on year only, use `Year` class.\r\n\r\n    Year currentYear = Year.now() ;\r\n    Year birthYear = Year.of( 1970 ) ;\r\n\r\nDo the math.\r\n\r\n    int approximateYearsOld = currentYear.getValue() - birthYear.getValue() ;\r\n\r\nExample class.\r\n\r\n```java\r\npackage work.basil.age;\r\n\r\nimport java.time.Year;\r\n\r\npublic record Person( String name , Year birth )\r\n{\r\n    public int calculateApproximateAge ( )\r\n    {\r\n        return ( Year.now().getValue() - this.birth.getValue() );\r\n    }\r\n}\r\n```\r\n\r\nUsage.\r\n\r\n```java\r\nPerson alice = new Person( &quot;Alice&quot; , Year.of( 1972 ) );\r\nint approxAge = alice.calculateApproximateAge();\r\n\r\nSystem.out.println( &quot;alice = &quot; + alice );\r\nSystem.out.println( &quot;approxAge = &quot; + approxAge );\r\n```\r\n\r\n&gt;alice = Person[name=Alice, birth=1972]\r\n&gt;\r\n&gt;approxAge = 49\r\n\r\n\r\n    ","title":"Calculate the user age with LocalDateTime","body":"<h1><code>String</code> is not numeric</h1>\n<p>Your error must be coming from this line:</p>\n<blockquote>\n<p>return (getUserAgeObject.localtimeYear - userBirthdayYear);</p>\n</blockquote>\n<p>… because the member field <code>localtimeYear</code> refers to a <code>String</code> object. You cannot use the numeric operator <code>-</code> on a <code>String</code> object.</p>\n<h1><code>Year</code> class</h1>\n<p>If you want to focus on year only, use <code>Year</code> class.</p>\n<pre><code>Year currentYear = Year.now() ;\nYear birthYear = Year.of( 1970 ) ;\n</code></pre>\n<p>Do the math.</p>\n<pre><code>int approximateYearsOld = currentYear.getValue() - birthYear.getValue() ;\n</code></pre>\n<p>Example class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.age;\n\nimport java.time.Year;\n\npublic record Person( String name , Year birth )\n{\n    public int calculateApproximateAge ( )\n    {\n        return ( Year.now().getValue() - this.birth.getValue() );\n    }\n}\n</code></pre>\n<p>Usage.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Person alice = new Person( &quot;Alice&quot; , Year.of( 1972 ) );\nint approxAge = alice.calculateApproximateAge();\n\nSystem.out.println( &quot;alice = &quot; + alice );\nSystem.out.println( &quot;approxAge = &quot; + approxAge );\n</code></pre>\n<blockquote>\n<p>alice = Person[name=Alice, birth=1972]</p>\n<p>approxAge = 49</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640815784,"creation_date":1640815784,"answer_id":70525534,"question_id":70525341,"body_markdown":"Why not make use of the available API you could do something like...\r\n\r\n    LocalDate ld = LocalDate.of(1972, Month.MARCH, 8);\r\n    Period p = Period.between(ld, LocalDate.now());\r\n    System.out.println(p.getYears());\r\n    System.out.println(p.getMonths());\r\n    System.out.println(p.getDays());\r\n","title":"Calculate the user age with LocalDateTime","body":"<p>Why not make use of the available API you could do something like...</p>\n<pre><code>LocalDate ld = LocalDate.of(1972, Month.MARCH, 8);\nPeriod p = Period.between(ld, LocalDate.now());\nSystem.out.println(p.getYears());\nSystem.out.println(p.getMonths());\nSystem.out.println(p.getDays());\n</code></pre>\n"}],"owner":{"account_id":23551126,"reputation":3,"user_id":17593820,"display_name":"Arsam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70525521,"answer_count":2,"score":0,"last_activity_date":1640817671,"creation_date":1640814436,"question_id":70525341,"body_markdown":"I&#39;m trying to make a program which prompts the user for the year of their birthday (like 2001). And then do some mathematical things (present time - the year that user write like (2021 - 2001)). However, I get this error:\r\n\r\n&gt; Operator &quot;-&quot; cannot be applied to string int. \r\n\r\nHow to fix this error?\r\n\r\nThe code: \r\n```\r\npackage com.myApp.User;\r\n\r\nimport java.time.LocalDateTime;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.util.Scanner;\r\n\r\npublic class GetUserAge {\r\n\r\n    public String localtimeYear;\r\n    public int userBirthdayYear;\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Scanner scannerObject = new Scanner(System.in);\r\n        GetUserAge getUserAgeObject = new GetUserAge();\r\n        LocalDateTime localDateObject = LocalDateTime.now();\r\n        DateTimeFormatter localDateObjectFormatted = DateTimeFormatter.ofPattern(&quot;yyyy&quot;);\r\n\r\n        getUserAgeObject.localtimeYear = localDateObject.format(localDateObjectFormatted);\r\n        // System.out.println(getUserAgeObject.localtimeYear); =&gt; 2021\r\n        getUserAgeObject.userBirthdayYear = scannerObject.nextInt();\r\n       System.out.println(calculateTrueBirthdayYear(getUserAgeObject.userBirthdayYear));\r\n    }\r\n\r\n    static int calculateTrueBirthdayYear(int userBirthdayYear) {\r\n\r\n        GetUserAge getUserAgeObject = new GetUserAge();\r\n\r\n        return (getUserAgeObject.localtimeYear - userBirthdayYear);\r\n    }\r\n}\r\n\r\n```","title":"Calculate the user age with LocalDateTime","body":"<p>I'm trying to make a program which prompts the user for the year of their birthday (like 2001). And then do some mathematical things (present time - the year that user write like (2021 - 2001)). However, I get this error:</p>\n<blockquote>\n<p>Operator &quot;-&quot; cannot be applied to string int.</p>\n</blockquote>\n<p>How to fix this error?</p>\n<p>The code:</p>\n<pre><code>package com.myApp.User;\n\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Scanner;\n\npublic class GetUserAge {\n\n    public String localtimeYear;\n    public int userBirthdayYear;\n\n    public static void main(String[] args) {\n\n        Scanner scannerObject = new Scanner(System.in);\n        GetUserAge getUserAgeObject = new GetUserAge();\n        LocalDateTime localDateObject = LocalDateTime.now();\n        DateTimeFormatter localDateObjectFormatted = DateTimeFormatter.ofPattern(&quot;yyyy&quot;);\n\n        getUserAgeObject.localtimeYear = localDateObject.format(localDateObjectFormatted);\n        // System.out.println(getUserAgeObject.localtimeYear); =&gt; 2021\n        getUserAgeObject.userBirthdayYear = scannerObject.nextInt();\n       System.out.println(calculateTrueBirthdayYear(getUserAgeObject.userBirthdayYear));\n    }\n\n    static int calculateTrueBirthdayYear(int userBirthdayYear) {\n\n        GetUserAge getUserAgeObject = new GetUserAge();\n\n        return (getUserAgeObject.localtimeYear - userBirthdayYear);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","jsp","servlets","java-ee-6","java-ee-7"],"answers":[{"tags":[],"owner":{"account_id":200728,"reputation":3833,"user_id":446738,"accept_rate":71,"display_name":"worpet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640816392,"creation_date":1640816392,"answer_id":70525602,"question_id":70499823,"body_markdown":"This is a type of variable substitution expression. Tomcat supports variable substitution for Java system properties using the syntax `${propname}`.\r\n\r\nFrom the [documentation][1]:\r\n\r\n&gt; Apache Ant-style variable substitution is supported; a system property\r\n&gt; with the name `propname` may be used in a configuration file using the\r\n&gt; syntax `${propname}`. All system properties are available including\r\n&gt; those set using the `-D` syntax, those automatically made available by\r\n&gt; the JVM and those configured in the\r\n&gt; `$CATALINA_BASE/conf/catalina.properties` file.\r\n\r\nSomewhere in your system, a Java system variable with that name is set, which makes it available for use in the configuration file. There are many ways to set a Java system variable, but common places for Tomcat are in `catalina.properties` or a [`setenv` script][2].\r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-9.0-doc/config/index.html\r\n  [2]: https://tomcat.apache.org/tomcat-9.0-doc/RUNNING.txt","title":"Java EE project, where the value comes in the WEB-INF/context.xml - Parameter value ${xxx} expression?","body":"<p>This is a type of variable substitution expression. Tomcat supports variable substitution for Java system properties using the syntax <code>${propname}</code>.</p>\n<p>From the <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/config/index.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>Apache Ant-style variable substitution is supported; a system property\nwith the name <code>propname</code> may be used in a configuration file using the\nsyntax <code>${propname}</code>. All system properties are available including\nthose set using the <code>-D</code> syntax, those automatically made available by\nthe JVM and those configured in the\n<code>$CATALINA_BASE/conf/catalina.properties</code> file.</p>\n</blockquote>\n<p>Somewhere in your system, a Java system variable with that name is set, which makes it available for use in the configuration file. There are many ways to set a Java system variable, but common places for Tomcat are in <code>catalina.properties</code> or a <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/RUNNING.txt\" rel=\"nofollow noreferrer\"><code>setenv</code> script</a>.</p>\n"}],"owner":{"account_id":248702,"reputation":111,"user_id":524262,"accept_rate":25,"display_name":"Eduardo B.M."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640816392,"creation_date":1640634672,"question_id":70499823,"body_markdown":"I have a doubt in a basic Java EE, Jsp project...\r\nIn the META-INF/context.xml I have \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;    \r\n    &lt;Context antiJARLocking=&quot;true&quot; path=&quot;/sna&quot; reloadable=&quot;true&quot;&gt;\r\n        (...)\r\n        &lt;Parameter name=&quot;jdbc/default/username&quot; value=&quot;${sna.oracle.username}&quot;/&gt;\r\n        (...)\r\n\r\nwhere the value ${sna.oracle.username} comes?\r\nI dont know that expression in that file...\r\n","title":"Java EE project, where the value comes in the WEB-INF/context.xml - Parameter value ${xxx} expression?","body":"<p>I have a doubt in a basic Java EE, Jsp project...\nIn the META-INF/context.xml I have</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;    \n&lt;Context antiJARLocking=&quot;true&quot; path=&quot;/sna&quot; reloadable=&quot;true&quot;&gt;\n    (...)\n    &lt;Parameter name=&quot;jdbc/default/username&quot; value=&quot;${sna.oracle.username}&quot;/&gt;\n    (...)\n</code></pre>\n<p>where the value ${sna.oracle.username} comes?\nI dont know that expression in that file...</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":1,"creation_date":1569144912,"post_id":58047913,"comment_id":102494575,"body_markdown":"Welcome to Stack Overflow! Please read through the [help], in particular [*How do I ask a good question?*](/help/how-to-ask) Your best bet here is to do your research, [search](/help/searching) for related topics on SO, and give it a go. ***If*** you get stuck and can&#39;t get unstuck after doing more research and searching, post a [mcve] of your attempt and say specifically where you&#39;re stuck. People will be glad to help.","body":"Welcome to Stack Overflow! Please read through the <a href=\"https://stackoverflow.com/help\">help center</a>, in particular <a href=\"/help/how-to-ask\"><i>How do I ask a good question?</i></a> Your best bet here is to do your research, <a href=\"/help/searching\">search</a> for related topics on SO, and give it a go. <b><i>If</i></b> you get stuck and can&#39;t get unstuck after doing more research and searching, post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of your attempt and say specifically where you&#39;re stuck. People will be glad to help."},{"owner":{"account_id":16743096,"reputation":1,"user_id":12102183,"display_name":"jacklyn"},"score":1,"creation_date":1569145004,"post_id":58047913,"comment_id":102494602,"body_markdown":"alright sir , thank you for the help","body":"alright sir , thank you for the help"},{"owner":{"account_id":167107,"reputation":3383,"user_id":391691,"display_name":"Simson"},"score":0,"creation_date":1569156342,"post_id":58047913,"comment_id":102497173,"body_markdown":"Simple answer will be &quot;it depends...&quot; try to narrow it down some more, what kind of fps are you using, how do you plan to connected it? What frameworks are you planing to use. Are you looking for the captured image or do you want to use the authentication system already in place.","body":"Simple answer will be &quot;it depends...&quot; try to narrow it down some more, what kind of fps are you using, how do you plan to connected it? What frameworks are you planing to use. Are you looking for the captured image or do you want to use the authentication system already in place."},{"owner":{"account_id":16743096,"reputation":1,"user_id":12102183,"display_name":"jacklyn"},"score":0,"creation_date":1569160041,"post_id":58047913,"comment_id":102497988,"body_markdown":"Actually I don&#39;t know what framework to use , basiclly the fingerprint device has an Access DataBase where it stores time of entery and time of exit and who&#39;s fingerprint is this one , and my java application need to get those information from the database to do statistics, please help","body":"Actually I don&#39;t know what framework to use , basiclly the fingerprint device has an Access DataBase where it stores time of entery and time of exit and who&#39;s fingerprint is this one , and my java application need to get those information from the database to do statistics, please help"}],"owner":{"account_id":16743096,"reputation":1,"user_id":12102183,"display_name":"jacklyn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640815702,"creation_date":1569144699,"question_id":58047913,"body_markdown":"How can I send and receive data to a **fingerprint device** using **java** ,\r\n\r\nI am working on a desktop application using `java` that controls the fingerprint device and I need at some point to send and receive data from and to the fingerprint device.\r\n\r\nMy question is how to connect the **device** to the **desktop application** and how to send and receive data. \r\n\r\nThank you in advance","title":"How can I send and receive data to a fingerprint device using Java","body":"<p>How can I send and receive data to a <strong>fingerprint device</strong> using <strong>java</strong> ,</p>\n\n<p>I am working on a desktop application using <code>java</code> that controls the fingerprint device and I need at some point to send and receive data from and to the fingerprint device.</p>\n\n<p>My question is how to connect the <strong>device</strong> to the <strong>desktop application</strong> and how to send and receive data. </p>\n\n<p>Thank you in advance</p>\n"},{"tags":["java","maven","github","jenkins","gnupg"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1640808561,"post_id":70524439,"comment_id":124665763,"body_markdown":"The maven plugin will honor local git configuration. You must have an issue there.","body":"The maven plugin will honor local git configuration. You must have an issue there."},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1640808600,"post_id":70524439,"comment_id":124665773,"body_markdown":"Can&#39;t you spawn an agent with same config and run some git commands manually to debug?","body":"Can&#39;t you spawn an agent with same config and run some git commands manually to debug?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1640809241,"post_id":70524439,"comment_id":124665913,"body_markdown":"Log file output... which release plugin version? etc. more information ...","body":"Log file output... which release plugin version? etc. more information ..."},{"owner":{"account_id":10333697,"reputation":51,"user_id":7622626,"display_name":"vergessen"},"score":0,"creation_date":1640814281,"post_id":70524439,"comment_id":124667395,"body_markdown":"@Ga&#235;lJ, see the above.  \n\nNote that I have also added the no-tty to the gpg.conf, thinking it may be something to do with a lack of a proper tty in the container.\n\nLast, but not least, I have tried calling ```git commit``` with the -S flag, with no luck there.","body":"@Ga&#235;lJ, see the above.    Note that I have also added the no-tty to the gpg.conf, thinking it may be something to do with a lack of a proper tty in the container.  Last, but not least, I have tried calling <code>git commit</code> with the -S flag, with no luck there."}],"owner":{"account_id":10333697,"reputation":51,"user_id":7622626,"display_name":"vergessen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1640813649,"creation_date":1640808197,"question_id":70524439,"body_markdown":"Okay, either one cannot do this, or I&#39;m missing something.\r\n\r\nTL;DR version:\r\n\r\nIn a Jenkins pipeline, I want to do a ```mvn release:prepare``` on a project that has protected branch rules requiring signed commits for ALL users, but that only (seemingly) does git commit .... without signing.  Is it possible to use the plugin with signed commits?\r\n\r\n\r\n\r\n\r\nLong version:\r\n\r\nMy Jenkins server is set up to spawn agents in the cloud and perform steps there.  My dev team (Java) wants to use the maven-release-plugin to handle new releases.  We have a beanch protection rule in place in our github repos that require signed commits for __all__ branches and __all__ users, no exceptions.\r\n\r\nEverything works fine until we get to the step where we attempt ```mvn release:prepare``` as it _seems_ to only perform a git commit that is __NOT__ signed, despite a .gitconfig that says a) always do a signed commit and b) use this gpg key to do that op with. \r\n\r\nI have the following gitconfig settings for the user running jenkins:\r\n```\r\n[alias]                                                             \r\n  commit = commit -S                                                \r\n[user]                                                             \r\n  email = [REDACTED]                                        \r\n  name = CICDUser                                                \r\n  signingkey = [REDACTED]             \r\n[commit]                                                            \r\n  gpgsign = true                                                    \r\n[tag]                                                               \r\n  gpgsign = true                                                    \r\n  forceSignAnnotated = true                                         \r\n[gpg]                                                               \r\n  program = gpg2\r\n```\r\nI also have gpg configuration to use pinentry loopback, use the agent and to read the secret from a file on the filesystem.  Gpg agent&#39;s config is set to allow the pinentry loopback.  Yes, I know, bad idea to store the passphrase on the filesystem.  If it&#39;s any consolation, these agents are spun up for the build, and then destroyed at the end.\r\n\r\nEither way, it&#39;s my understanding that git _should_ honor its config, unless maven isn&#39;t really calling out to git but using some builtin implementation.  Assuming it&#39;s the latter, or it&#39;s clobbering/ignoring my options somehow, is there a way to tell the plugin to sign commits?\r\n\r\nTIA, as always.\r\n\r\nEdited to add\r\n\r\nThe java project is using:\r\n```\r\nmaven-release plugin 3.0.0-M4\r\nopenjdk 8\r\nJenkins 2.319.1\r\ngnupg 2.2.27\r\nlibcrypt 1.8.8\r\ngit 2.30.2\r\n```\r\n\r\nNow... jenkins output.\r\n```\r\n[Pipeline] stage\r\n[Pipeline] { (Build Setup)\r\n[Pipeline] container\r\n[Pipeline] {\r\n[Pipeline] withCredentials\r\nMasking supported pattern matches of $FILE\r\n[Pipeline] {\r\n[Pipeline] sh\r\n+ cp **** /usr/share/maven/conf/settings.xml\r\n[Pipeline] }\r\n[Pipeline] // withCredentials\r\n[Pipeline] sh\r\n+ ssh-keyscan github.com\r\n# github.com:22 SSH-2.0-babeld-17a926d7\r\n# github.com:22 SSH-2.0-babeld-17a926d7\r\n# github.com:22 SSH-2.0-babeld-17a926d7\r\n# github.com:22 SSH-2.0-babeld-17a926d7\r\n# github.com:22 SSH-2.0-babeld-17a926d7\r\n[Pipeline] sh\r\n+ gpg --export-ownertrust\r\n+ sed s/:.*/:5:/\r\n+ gpg --import-ownertrust\r\n[Pipeline] sh\r\n+ echo hello\r\n+ gpg2 --clearsign\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nhello\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQIzBAEBCgAdFiEEtf5LJlo4KEW0XTLWUG9hI4IEwvAFAmHM0VcACgkQUG9hI4IE\r\nwvCZKBAAtS4sF2YtcLS8wTBLqNNyl/q6VCxqjMVxxMC9lic05vNNnEq0JfZUF69K\r\nZzCD2qpUwf3IbG7XUgpAvug3kZeeYvJosFn035DDakUvTBBm/I/st8UnA10qudPO\r\n+EezUIUPTO5Cup969SpBGMh7QNcZs6aOX0sHLucmOwrRQV5JdngHaa89b6jBxGXq\r\nq7KtCGN2huGPd8JTFGOen8YhiWmdmeQhuz5PPSppVHMBGRFQ42urQ7DcazsdU+NR\r\nAsKgm/f1qPSSALGgAHZQBaeDLNyRMMQNaHQwQxphvHrZ3xAx6aHMVkyH+5cvF3u9\r\nxSIO/ioUdo761Su/ZZ8Dt5xLZkN4y5yAnk8yPP/qzfT4gm3LN626ffighS0MrfnA\r\niBypABtZPjh3bI2HGDUijaqH3rbRYIeSvCPfIN2c2BrgHy5SZVo4mpAqazUw3lxC\r\nIQPTf42Xm8lDPOCj2wapxdTOMylKdvoCMMBVDvxkQxgeLmvagPfALM8t4IkEwmpH\r\nOzIq7rWW6Pi0jL6FDhZ2y1roI9xXF5sJmSkGvpZDbHvuuUsL2Fm9XZaD4nntPn0B\r\n1zoaXYXve6Y2W4spTNSAOilhPM9FmSn61Mf1Ip8bl4SmQajN/8dhz5S1Bt1P5sP0\r\nEJW8ls8EIBeVGelVyIEOc9pMJbUERt+VcWnaW0eASCUehdKCojg=\r\n=kEmN\r\n-----END PGP SIGNATURE-----\r\n[Pipeline] sh\r\n+ git config --global -l\r\nuser.email=[REDACTED]\r\nuser.name=CICDUser\r\nuser.signingkey=B5FE4B265A382845B45D32D6506F61238204C2F0\r\ncommit.gpgsign=true\r\ntag.gpgsign=true\r\ntag.forcesignannotated=true\r\ngpg.program=gpg2\r\n[Pipeline] sh\r\n+ gpg2 --list-keys\r\n/root/.gnupg/pubring.kbx\r\n------------------------\r\npub   rsa4096 2021-12-28 [SC]\r\n      B5FE4B265A382845B45D32D6506F61238204C2F0\r\nuid           [ unknown] CICDUser &lt;[REDACTED]&gt;\r\nsub   rsa4096 2021-12-28 [E]\r\n\r\n[Pipeline] sh\r\n+ echo this is a test\r\n[Pipeline] sh\r\n+ git add .\r\n[Pipeline] sh\r\n+ git commit -S -mTesting\r\n[test fd220d0] Testing\r\n 1 file changed, 1 insertion(+)\r\n create mode 100644 test_file.txt\r\n[Pipeline] sh\r\n+ git push --set-upstream origin test\r\nWarning: Permanently added the ECDSA host key for IP address &#39;140.82.112.3&#39; to the list of known hosts.\r\nremote: error: GH006: Protected branch update failed for refs/heads/test.        \r\nremote: error: Commits must have valid signatures.        \r\nTo github.com:[REDACTED].git\r\n ! [remote rejected] test -&gt; test (protected branch hook declined)\r\nerror: failed to push some refs to &#39;github.com:[REDACTED]&#39;\r\n```","title":"Can one use maven&#39;s prepare release with a github protected branch?","body":"<p>Okay, either one cannot do this, or I'm missing something.</p>\n<p>TL;DR version:</p>\n<p>In a Jenkins pipeline, I want to do a <code>mvn release:prepare</code> on a project that has protected branch rules requiring signed commits for ALL users, but that only (seemingly) does git commit .... without signing.  Is it possible to use the plugin with signed commits?</p>\n<p>Long version:</p>\n<p>My Jenkins server is set up to spawn agents in the cloud and perform steps there.  My dev team (Java) wants to use the maven-release-plugin to handle new releases.  We have a beanch protection rule in place in our github repos that require signed commits for <strong>all</strong> branches and <strong>all</strong> users, no exceptions.</p>\n<p>Everything works fine until we get to the step where we attempt <code>mvn release:prepare</code> as it <em>seems</em> to only perform a git commit that is <strong>NOT</strong> signed, despite a .gitconfig that says a) always do a signed commit and b) use this gpg key to do that op with.</p>\n<p>I have the following gitconfig settings for the user running jenkins:</p>\n<pre><code>[alias]                                                             \n  commit = commit -S                                                \n[user]                                                             \n  email = [REDACTED]                                        \n  name = CICDUser                                                \n  signingkey = [REDACTED]             \n[commit]                                                            \n  gpgsign = true                                                    \n[tag]                                                               \n  gpgsign = true                                                    \n  forceSignAnnotated = true                                         \n[gpg]                                                               \n  program = gpg2\n</code></pre>\n<p>I also have gpg configuration to use pinentry loopback, use the agent and to read the secret from a file on the filesystem.  Gpg agent's config is set to allow the pinentry loopback.  Yes, I know, bad idea to store the passphrase on the filesystem.  If it's any consolation, these agents are spun up for the build, and then destroyed at the end.</p>\n<p>Either way, it's my understanding that git <em>should</em> honor its config, unless maven isn't really calling out to git but using some builtin implementation.  Assuming it's the latter, or it's clobbering/ignoring my options somehow, is there a way to tell the plugin to sign commits?</p>\n<p>TIA, as always.</p>\n<p>Edited to add</p>\n<p>The java project is using:</p>\n<pre><code>maven-release plugin 3.0.0-M4\nopenjdk 8\nJenkins 2.319.1\ngnupg 2.2.27\nlibcrypt 1.8.8\ngit 2.30.2\n</code></pre>\n<p>Now... jenkins output.</p>\n<pre><code>[Pipeline] stage\n[Pipeline] { (Build Setup)\n[Pipeline] container\n[Pipeline] {\n[Pipeline] withCredentials\nMasking supported pattern matches of $FILE\n[Pipeline] {\n[Pipeline] sh\n+ cp **** /usr/share/maven/conf/settings.xml\n[Pipeline] }\n[Pipeline] // withCredentials\n[Pipeline] sh\n+ ssh-keyscan github.com\n# github.com:22 SSH-2.0-babeld-17a926d7\n# github.com:22 SSH-2.0-babeld-17a926d7\n# github.com:22 SSH-2.0-babeld-17a926d7\n# github.com:22 SSH-2.0-babeld-17a926d7\n# github.com:22 SSH-2.0-babeld-17a926d7\n[Pipeline] sh\n+ gpg --export-ownertrust\n+ sed s/:.*/:5:/\n+ gpg --import-ownertrust\n[Pipeline] sh\n+ echo hello\n+ gpg2 --clearsign\n-----BEGIN PGP SIGNED MESSAGE-----\nHash: SHA512\n\nhello\n-----BEGIN PGP SIGNATURE-----\n\niQIzBAEBCgAdFiEEtf5LJlo4KEW0XTLWUG9hI4IEwvAFAmHM0VcACgkQUG9hI4IE\nwvCZKBAAtS4sF2YtcLS8wTBLqNNyl/q6VCxqjMVxxMC9lic05vNNnEq0JfZUF69K\nZzCD2qpUwf3IbG7XUgpAvug3kZeeYvJosFn035DDakUvTBBm/I/st8UnA10qudPO\n+EezUIUPTO5Cup969SpBGMh7QNcZs6aOX0sHLucmOwrRQV5JdngHaa89b6jBxGXq\nq7KtCGN2huGPd8JTFGOen8YhiWmdmeQhuz5PPSppVHMBGRFQ42urQ7DcazsdU+NR\nAsKgm/f1qPSSALGgAHZQBaeDLNyRMMQNaHQwQxphvHrZ3xAx6aHMVkyH+5cvF3u9\nxSIO/ioUdo761Su/ZZ8Dt5xLZkN4y5yAnk8yPP/qzfT4gm3LN626ffighS0MrfnA\niBypABtZPjh3bI2HGDUijaqH3rbRYIeSvCPfIN2c2BrgHy5SZVo4mpAqazUw3lxC\nIQPTf42Xm8lDPOCj2wapxdTOMylKdvoCMMBVDvxkQxgeLmvagPfALM8t4IkEwmpH\nOzIq7rWW6Pi0jL6FDhZ2y1roI9xXF5sJmSkGvpZDbHvuuUsL2Fm9XZaD4nntPn0B\n1zoaXYXve6Y2W4spTNSAOilhPM9FmSn61Mf1Ip8bl4SmQajN/8dhz5S1Bt1P5sP0\nEJW8ls8EIBeVGelVyIEOc9pMJbUERt+VcWnaW0eASCUehdKCojg=\n=kEmN\n-----END PGP SIGNATURE-----\n[Pipeline] sh\n+ git config --global -l\nuser.email=[REDACTED]\nuser.name=CICDUser\nuser.signingkey=B5FE4B265A382845B45D32D6506F61238204C2F0\ncommit.gpgsign=true\ntag.gpgsign=true\ntag.forcesignannotated=true\ngpg.program=gpg2\n[Pipeline] sh\n+ gpg2 --list-keys\n/root/.gnupg/pubring.kbx\n------------------------\npub   rsa4096 2021-12-28 [SC]\n      B5FE4B265A382845B45D32D6506F61238204C2F0\nuid           [ unknown] CICDUser &lt;[REDACTED]&gt;\nsub   rsa4096 2021-12-28 [E]\n\n[Pipeline] sh\n+ echo this is a test\n[Pipeline] sh\n+ git add .\n[Pipeline] sh\n+ git commit -S -mTesting\n[test fd220d0] Testing\n 1 file changed, 1 insertion(+)\n create mode 100644 test_file.txt\n[Pipeline] sh\n+ git push --set-upstream origin test\nWarning: Permanently added the ECDSA host key for IP address '140.82.112.3' to the list of known hosts.\nremote: error: GH006: Protected branch update failed for refs/heads/test.        \nremote: error: Commits must have valid signatures.        \nTo github.com:[REDACTED].git\n ! [remote rejected] test -&gt; test (protected branch hook declined)\nerror: failed to push some refs to 'github.com:[REDACTED]'\n</code></pre>\n"},{"tags":["java","git","gradle","android-gradle-plugin","checkstyle"],"comments":[{"owner":{"account_id":7643434,"reputation":406,"user_id":6106156,"display_name":"Yevhen Lebid"},"score":2,"creation_date":1581941325,"post_id":43730901,"comment_id":106593327,"body_markdown":"https://ealebed.github.io/posts/2020/gradle-checkstyle-on-changed-files-only/","body":"<a href=\"https://ealebed.github.io/posts/2020/gradle-checkstyle-on-changed-files-only/\" rel=\"nofollow noreferrer\">ealebed.github.io/posts/2020/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2887623,"reputation":3310,"user_id":2477084,"display_name":"Tomas Bjerre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518002112,"creation_date":1518002112,"answer_id":48662439,"question_id":43730901,"body_markdown":"I think, what you actually want is to filter out the violations found in the changed files.\r\n\r\nCheckout [Violations Lib][1] and the plugins mentioned in that readme. There are plugins to do this offline, or integrate it with pull requests.\r\n\r\n\r\n  [1]: https://github.com/tomasbjerre/violations-lib","title":"Is there a way to run checkstyle on only files that have changes in VCS?","body":"<p>I think, what you actually want is to filter out the violations found in the changed files.</p>\n\n<p>Checkout <a href=\"https://github.com/tomasbjerre/violations-lib\" rel=\"nofollow noreferrer\">Violations Lib</a> and the plugins mentioned in that readme. There are plugins to do this offline, or integrate it with pull requests.</p>\n"},{"tags":[],"owner":{"account_id":11063997,"reputation":105,"user_id":8124327,"display_name":"zyang"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1544235867,"creation_date":1544235867,"answer_id":53678976,"question_id":43730901,"body_markdown":"Recently I wrote a tool based on checkstyle to support style checks only on incremental changes of code lines, and you can add this tool to your Git pre-commit hook to trigger the check before every commit. \r\n\r\nFor details please see: [https://github.com/yangziwen/diff-checkstyle][1]\r\n\r\nThough it is too late for your question, I still hope this can help you in the future.\r\n\r\n\r\n  [1]: https://github.com/yangziwen/diff-checkstyle","title":"Is there a way to run checkstyle on only files that have changes in VCS?","body":"<p>Recently I wrote a tool based on checkstyle to support style checks only on incremental changes of code lines, and you can add this tool to your Git pre-commit hook to trigger the check before every commit. </p>\n\n<p>For details please see: <a href=\"https://github.com/yangziwen/diff-checkstyle\" rel=\"nofollow noreferrer\">https://github.com/yangziwen/diff-checkstyle</a></p>\n\n<p>Though it is too late for your question, I still hope this can help you in the future.</p>\n"}],"owner":{"account_id":270495,"reputation":921,"user_id":560481,"accept_rate":54,"display_name":"Raveesh Bhalla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3663,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"closed_date":1544237531,"answer_count":2,"score":6,"last_activity_date":1640813139,"creation_date":1493703910,"question_id":43730901,"body_markdown":"I&#39;ve recently begun helping out a young team to help improve their development practices and wanted them to run checkstyle before every commit. Unfortunately, their code is littered with errors and the only scalable way to implement it would be to run checkstyle on a small portion of files each time.\r\n\r\nStrategically, I wanted to run checkstyle on only those files that have been modified in the VCS. I wrote a Gradle script to make this happen, but it doesn&#39;t seem to work. Does anyone have tips on how to make this happen?\r\n\r\n    apply plugin: &#39;checkstyle&#39;\r\n    \r\n    def getChangedFiles = { -&gt;\r\n        try {\r\n            def stdout = new ByteArrayOutputStream()\r\n            exec {\r\n                commandLine &#39;git&#39;, &#39;diff&#39;, &#39;--name-only&#39;\r\n                standardOutput = stdout\r\n            }\r\n            return stdout.toString().trim().split(&quot;\\n&quot;)\r\n        }\r\n        catch (ignored) {\r\n            return null;\r\n        }\r\n    }\r\n    \r\n    task checkstyle(type: Checkstyle) {\r\n        configFile file(&quot;${project.rootDir}/quality/checkstyle/uncommon-checkstyle.xml&quot;)\r\n        configProperties = [\r\n                &#39;checkstyle.cache.file&#39;: rootProject.file(&#39;build/checkstyle.cache&#39;),\r\n                &#39;checkstyleSuppressionsPath&#39;: file(&quot;${project.rootDir}/quality/checkstyle/suppressions.xml&quot;).absolutePath\r\n        ]\r\n        source &#39;src&#39;\r\n        String[] split = getChangedFiles()\r\n        for (int i=0; i&lt;split.length; i++){\r\n            include split[i]\r\n            println split[i]\r\n        }\r\n        exclude &#39;**/build/**&#39;   // Exclude everything inside build folders.\r\n        exclude &#39;**/test/**&#39; // Exclude tests\r\n        exclude &#39;**/androidTest/**&#39; // Exclude android test files.\r\n    \tignoreFailures = false  // Don&#39;t allow the build to continue if there are warnings.\r\n        classpath = files()\r\n    }\r\n    \r\n    checkstyle {\r\n        toolVersion &#39;6.19&#39;    // set Checkstyle version here\r\n    }\r\n\r\nThe print commands show the right set of files are being returned by getChangedFiles() and I&#39;ve checked to ensure the included files are accurate as well, but the checkstyle itself doesn&#39;t seem to run on them.","title":"Is there a way to run checkstyle on only files that have changes in VCS?","body":"<p>I've recently begun helping out a young team to help improve their development practices and wanted them to run checkstyle before every commit. Unfortunately, their code is littered with errors and the only scalable way to implement it would be to run checkstyle on a small portion of files each time.</p>\n<p>Strategically, I wanted to run checkstyle on only those files that have been modified in the VCS. I wrote a Gradle script to make this happen, but it doesn't seem to work. Does anyone have tips on how to make this happen?</p>\n<pre><code>apply plugin: 'checkstyle'\n\ndef getChangedFiles = { -&gt;\n    try {\n        def stdout = new ByteArrayOutputStream()\n        exec {\n            commandLine 'git', 'diff', '--name-only'\n            standardOutput = stdout\n        }\n        return stdout.toString().trim().split(&quot;\\n&quot;)\n    }\n    catch (ignored) {\n        return null;\n    }\n}\n\ntask checkstyle(type: Checkstyle) {\n    configFile file(&quot;${project.rootDir}/quality/checkstyle/uncommon-checkstyle.xml&quot;)\n    configProperties = [\n            'checkstyle.cache.file': rootProject.file('build/checkstyle.cache'),\n            'checkstyleSuppressionsPath': file(&quot;${project.rootDir}/quality/checkstyle/suppressions.xml&quot;).absolutePath\n    ]\n    source 'src'\n    String[] split = getChangedFiles()\n    for (int i=0; i&lt;split.length; i++){\n        include split[i]\n        println split[i]\n    }\n    exclude '**/build/**'   // Exclude everything inside build folders.\n    exclude '**/test/**' // Exclude tests\n    exclude '**/androidTest/**' // Exclude android test files.\n    ignoreFailures = false  // Don't allow the build to continue if there are warnings.\n    classpath = files()\n}\n\ncheckstyle {\n    toolVersion '6.19'    // set Checkstyle version here\n}\n</code></pre>\n<p>The print commands show the right set of files are being returned by getChangedFiles() and I've checked to ensure the included files are accurate as well, but the checkstyle itself doesn't seem to run on them.</p>\n"},{"tags":["java","netty"],"comments":[{"owner":{"account_id":120777,"reputation":14376,"user_id":313400,"display_name":"Guillaume"},"score":0,"creation_date":1600066592,"post_id":63741540,"comment_id":112959300,"body_markdown":"`ConditionalHttpChunkAggregator` is annotated with @ChannelHandler.Sharable indicating that there will be no race conditions, however the field `sendaschunked` is read and written multiple times in `channelRead()`.\nTo make matters worse it is declared as `volatile`, which guarantees that writes will be visible accross threads.\nSo I think `sendaschunked` should really be a method variable.","body":"<code>ConditionalHttpChunkAggregator</code> is annotated with @ChannelHandler.Sharable indicating that there will be no race conditions, however the field <code>sendaschunked</code> is read and written multiple times in <code>channelRead()</code>. To make matters worse it is declared as <code>volatile</code>, which guarantees that writes will be visible accross threads. So I think <code>sendaschunked</code> should really be a method variable."}],"answers":[{"tags":[],"owner":{"account_id":11271799,"reputation":178,"user_id":8267040,"display_name":"HyperX Pro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599374129,"creation_date":1599374129,"answer_id":63761421,"question_id":63741540,"body_markdown":"You need to release `Bytebuf` allocated by you. It&#39;s not a Netty bug.\r\n\r\nByteBuf is at `com.company.japp.protocol.http.decoders.ConditionalHttpChunkAggregator.channelRead(ConditionalHttpChunkAggregator.java:112)`","title":"LEAK: ByteBuf.release() was not called - how do we solve this?","body":"<p>You need to release <code>Bytebuf</code> allocated by you. It's not a Netty bug.</p>\n<p>ByteBuf is at <code>com.company.japp.protocol.http.decoders.ConditionalHttpChunkAggregator.channelRead(ConditionalHttpChunkAggregator.java:112)</code></p>\n"},{"tags":[],"owner":{"account_id":3920223,"reputation":5600,"user_id":3242721,"accept_rate":86,"display_name":"Michal Hosala"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1640795154,"creation_date":1640795154,"answer_id":70522173,"question_id":63741540,"body_markdown":"In our case it was a problem in the body of the response not being read which resulted into byte buf never being released.\r\n\r\nOriginal code:\r\n```\r\nWebClient client = WebClient.create(&quot;some_url&quot;);\r\nreturn client.get().exchange().flatMap(response -&gt; Mono.just(builder.up().build()));\r\n```\r\n\r\nFixed code:\r\n```\r\nWebClient client = WebClient.create(&quot;some_url&quot;);\r\nreturn client.get().retrieve().toBodilessEntity().flatMap(response -&gt; Mono.just(builder.up().build()));\r\n```\r\n\r\nEven the javadoc for `exchange` says it:\r\n&gt; **Deprecated** since 5.3 due to the possibility to leak memory and/or connections; please, use exchangeToMono(Function), exchangeToFlux(Function); consider also using retrieve() which provides access to the response status and headers via ResponseEntity along with error status handling.\r\n\r\nKudos: https://stackoverflow.com/a/51321602/3242721\r\n\r\nTo reproduce the issue on localhost I used `-Dio.netty.leakDetectionLevel=paranoid` vm args.","title":"LEAK: ByteBuf.release() was not called - how do we solve this?","body":"<p>In our case it was a problem in the body of the response not being read which resulted into byte buf never being released.</p>\n<p>Original code:</p>\n<pre><code>WebClient client = WebClient.create(&quot;some_url&quot;);\nreturn client.get().exchange().flatMap(response -&gt; Mono.just(builder.up().build()));\n</code></pre>\n<p>Fixed code:</p>\n<pre><code>WebClient client = WebClient.create(&quot;some_url&quot;);\nreturn client.get().retrieve().toBodilessEntity().flatMap(response -&gt; Mono.just(builder.up().build()));\n</code></pre>\n<p>Even the javadoc for <code>exchange</code> says it:</p>\n<blockquote>\n<p><strong>Deprecated</strong> since 5.3 due to the possibility to leak memory and/or connections; please, use exchangeToMono(Function), exchangeToFlux(Function); consider also using retrieve() which provides access to the response status and headers via ResponseEntity along with error status handling.</p>\n</blockquote>\n<p>Kudos: <a href=\"https://stackoverflow.com/a/51321602/3242721\">https://stackoverflow.com/a/51321602/3242721</a></p>\n<p>To reproduce the issue on localhost I used <code>-Dio.netty.leakDetectionLevel=paranoid</code> vm args.</p>\n"}],"owner":{"account_id":2660877,"reputation":38533,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5202,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1640812555,"creation_date":1599223810,"question_id":63741540,"body_markdown":"We have a netty-based network traffic intensive Java app/server.   \r\n\r\n*Side note: I mainly support this app, I didn&#39;t build it so I don&#39;t know it in full.*       \r\n\r\nWe sometimes get this error as shown below. Previously we used to get this error after the server has been up for 3-4 days. Now I noticed that we are getting this error even just 10-15 mins after rebooting the server/app.     \r\n\r\nI don&#39;t understand how this is possible. Is this error something worrying and how can we fix it? I recall doing extensive research in the past on this same error, back then I even tried upgrading and patching netty but nothing helped to fully resolve the issue.\r\n\r\nOS: Linux     \r\nJava version: 1.8      \r\nNetty version: netty-all-4.1.30.Final.jar      \r\n\r\nThis is the only line of app-specific code, everything else happens in Netty.    \r\n\r\n`com.company.japp.protocol.http.decoders.ConditionalHttpChunkAggregator.channelRead`  \r\n\r\nIs this a bug of some sort in Netty itself? Would Netty upgrade or any other configuration tuning help here?\r\n\r\n\t[2020-09-04 08:33:53,072]\r\n\t\r\n\tERROR\r\n\t\r\n\tio.netty.util.ResourceLeakDetector\r\n\t\r\n\tLEAK: ByteBuf.release() was not called before it&#39;s garbage-collected. \r\n\t\r\n\tSee https://netty.io/wiki/reference-counted-objects.html for more information.\r\n\t\r\n\tRecent access records: \r\n\tCreated at:\r\n\t\tio.netty.buffer.AbstractByteBufAllocator.compositeDirectBuffer(AbstractByteBufAllocator.java:221)\r\n\t\tio.netty.buffer.AbstractByteBufAllocator.compositeBuffer(AbstractByteBufAllocator.java:199)\r\n\t\tio.netty.handler.codec.MessageAggregator.decode(MessageAggregator.java:255)\r\n\t\tio.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:88)\r\n\t\tcom.company.japp.protocol.http.decoders.ConditionalHttpChunkAggregator.channelRead(ConditionalHttpChunkAggregator.java:112)\r\n\t\tio.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\r\n\t\tio.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n\t\tio.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\r\n\t\tio.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:323)\r\n\t\tio.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:297)\r\n\t\tio.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\r\n\t\tio.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n\t\tio.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\r\n\t\tio.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\r\n\t\tio.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\r\n\t\tio.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n\t\tio.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\r\n\t\tio.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1434)\r\n\t\tio.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\r\n\t\tio.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n\t\tio.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:965)\r\n\t\tio.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)\r\n\t\tio.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:644)\r\n\t\tio.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:579)\r\n\t\tio.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:496)\r\n\t\tio.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:458)\r\n\t\tio.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:897)\r\n\t\tio.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\t\tjava.lang.Thread.run(Thread.java:748)\r\n\t\r\n\t\r\n\t\r\n\t\r\nHere is the code for the `ConditionalHttpChunkAggregator`.    \r\n\r\n\r\n\tpackage com.company.japp.protocol.http.decoders;\r\n\t\r\n\timport com.company.japp.IHttpProxyServer;\r\n\timport io.netty.channel.ChannelDuplexHandler;\r\n\timport io.netty.channel.ChannelHandler;\r\n\timport io.netty.channel.ChannelHandlerContext;\r\n\timport io.netty.handler.codec.http.HttpHeaders;\r\n\timport io.netty.handler.codec.http.HttpMessage;\r\n\timport io.netty.handler.codec.http.HttpObjectAggregator;\r\n\timport io.netty.handler.codec.http.HttpResponse;\r\n\timport io.netty.util.internal.logging.InternalLogger;\r\n\timport io.netty.util.internal.logging.InternalLoggerFactory;\r\n\t\r\n\timport java.util.HashSet;\r\n\t\r\n\t@ChannelHandler.Sharable\r\n\tpublic class ConditionalHttpChunkAggregator extends HttpObjectAggregator {\r\n\t    private static final InternalLogger logger = InternalLoggerFactory.getInstance(ConditionalHttpChunkAggregator.class);\r\n\t\r\n\t    private volatile boolean        sendaschunked;\r\n\t    private volatile int        maxContentLength;\r\n\t\r\n\t    private static IHttpProxyServer         iHttpProxyServer;\r\n\t\r\n\t    public static void initialize(IHttpProxyServer iHttpProxyServer) {\r\n\t        ConditionalHttpChunkAggregator.iHttpProxyServer = iHttpProxyServer;\r\n\t    }\r\n\t\r\n\t    public ConditionalHttpChunkAggregator(int maxContentLength) {\r\n\t        super(maxContentLength);\r\n\t        this.maxContentLength = maxContentLength;\r\n\t        sendaschunked = false;\r\n\t    }\r\n\t\r\n\t    @Override\r\n\t    public void channelRead(ChannelHandlerContext ctx, Object msg){\r\n\t        if ((msg instanceof HttpResponse)) {\r\n\t            HttpResponse response = (HttpResponse)msg;\r\n\t            if ((msg instanceof HttpMessage)) {\r\n\t                HttpMessage httpmessage= (HttpMessage)msg;\r\n\t\r\n\t                try  {\r\n\t                    // If the content length exceeds the threshhold, then send it as chunked\r\n\t                    // It&#39;s too large to process substitutions\r\n\t                    Long contentlength = \r\n\t                    \t\thttpmessage.headers().get(HttpHeaders.Names.CONTENT_LENGTH) != null ? \r\n\t                    \t\tLong.valueOf(httpmessage.headers().get(HttpHeaders.Names.CONTENT_LENGTH)) : -1;\r\n\t                    if (contentlength &gt;= maxContentLength) {\r\n\t                        sendaschunked = true;\r\n\t                    } else {\r\n\t                    // Check content types\r\n\t                         HashSet&lt;String&gt; chunkabletypes = iHttpProxyServer.getConfig().getProperty(&quot;chunkabletypes&quot;);\r\n\t                        if (!chunkabletypes.isEmpty() &amp;&amp; response.headers().contains(HttpHeaders.Names.CONTENT_TYPE)) {\r\n\t                            String contentType = response.headers().get(HttpHeaders.Names.CONTENT_TYPE).toLowerCase().trim();\r\n\t                            if (contentType.length()&gt;0) {\r\n\t                                sendaschunked = chunkabletypes.contains(contentType);\r\n\t                                if (!sendaschunked) {\r\n\t                                    for (String chunkabletype: chunkabletypes) {\r\n\t                                        // Begins with\r\n\t                                        if (contentType.indexOf(chunkabletype)==0) {\r\n\t                                            sendaschunked = true;\r\n\t                                            break;\r\n\t                                        }\r\n\t                                    }\r\n\t                                }\r\n\t                            }\r\n\t                        }\r\n\t                    }\r\n\t                    if (sendaschunked) {\r\n\t                        ctx.fireChannelRead(msg);\r\n\t                        return;\r\n\t                    }\r\n\t                }\r\n\t                catch(Exception ex) {\r\n\t                    logger.error(&quot;error determining chunkable viability&quot;, ex);\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t        if (sendaschunked) {\r\n\t            ctx.fireChannelRead(msg);\r\n\t            return;\r\n\t        }\r\n\t\r\n\t        try {\r\n\t            super.channelRead(ctx, msg);\r\n\t            \r\n\t        } catch (Exception e) {\r\n\t            logger.error(&quot;error determining chunkable viability&quot;, e);\r\n\t            e.printStackTrace();\r\n\t        }\r\n\t    }\r\n\t}\r\n\r\n\r\nAnd this is the value for the chunkable types property:  \r\n\r\n`video/x-ms-wvx,video/x-flv,application/x-shockwave-flash,video/quicktime,video/,audio/`\r\n\r\n\r\nEdit\r\n---\r\n\r\nI think this is bug in netty 4.1.30 around this line 255 in `io.netty.handler.codec.MessageAggregator`. Seems this CompositeByteBuf is allocated but not released. Am I right? I am hoping for some authoritative answer to either confirm or reject this idea.\r\n\r\n            // A streamed message - initialize the cumulative buffer, and wait for incoming chunks.\r\n            CompositeByteBuf content = ctx.alloc().compositeBuffer(maxCumulationBufferComponents); // LINE 255 \r\n            if (m instanceof ByteBufHolder) {\r\n                appendPartialContent(content, ((ByteBufHolder) m).content());\r\n            }\r\n            currentMessage = beginAggregation(m, content);\r\n\r\n\r\n","title":"LEAK: ByteBuf.release() was not called - how do we solve this?","body":"<p>We have a netty-based network traffic intensive Java app/server.</p>\n<p><em>Side note: I mainly support this app, I didn't build it so I don't know it in full.</em></p>\n<p>We sometimes get this error as shown below. Previously we used to get this error after the server has been up for 3-4 days. Now I noticed that we are getting this error even just 10-15 mins after rebooting the server/app.</p>\n<p>I don't understand how this is possible. Is this error something worrying and how can we fix it? I recall doing extensive research in the past on this same error, back then I even tried upgrading and patching netty but nothing helped to fully resolve the issue.</p>\n<p>OS: Linux<br />\nJava version: 1.8<br />\nNetty version: netty-all-4.1.30.Final.jar</p>\n<p>This is the only line of app-specific code, everything else happens in Netty.</p>\n<p><code>com.company.japp.protocol.http.decoders.ConditionalHttpChunkAggregator.channelRead</code></p>\n<p>Is this a bug of some sort in Netty itself? Would Netty upgrade or any other configuration tuning help here?</p>\n<pre><code>[2020-09-04 08:33:53,072]\n\nERROR\n\nio.netty.util.ResourceLeakDetector\n\nLEAK: ByteBuf.release() was not called before it's garbage-collected. \n\nSee https://netty.io/wiki/reference-counted-objects.html for more information.\n\nRecent access records: \nCreated at:\n    io.netty.buffer.AbstractByteBufAllocator.compositeDirectBuffer(AbstractByteBufAllocator.java:221)\n    io.netty.buffer.AbstractByteBufAllocator.compositeBuffer(AbstractByteBufAllocator.java:199)\n    io.netty.handler.codec.MessageAggregator.decode(MessageAggregator.java:255)\n    io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:88)\n    com.company.japp.protocol.http.decoders.ConditionalHttpChunkAggregator.channelRead(ConditionalHttpChunkAggregator.java:112)\n    io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\n    io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\n    io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\n    io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:323)\n    io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:297)\n    io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\n    io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\n    io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\n    io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\n    io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\n    io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\n    io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\n    io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1434)\n    io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\n    io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\n    io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:965)\n    io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)\n    io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:644)\n    io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:579)\n    io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:496)\n    io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:458)\n    io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:897)\n    io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>Here is the code for the <code>ConditionalHttpChunkAggregator</code>.</p>\n<pre><code>package com.company.japp.protocol.http.decoders;\n\nimport com.company.japp.IHttpProxyServer;\nimport io.netty.channel.ChannelDuplexHandler;\nimport io.netty.channel.ChannelHandler;\nimport io.netty.channel.ChannelHandlerContext;\nimport io.netty.handler.codec.http.HttpHeaders;\nimport io.netty.handler.codec.http.HttpMessage;\nimport io.netty.handler.codec.http.HttpObjectAggregator;\nimport io.netty.handler.codec.http.HttpResponse;\nimport io.netty.util.internal.logging.InternalLogger;\nimport io.netty.util.internal.logging.InternalLoggerFactory;\n\nimport java.util.HashSet;\n\n@ChannelHandler.Sharable\npublic class ConditionalHttpChunkAggregator extends HttpObjectAggregator {\n    private static final InternalLogger logger = InternalLoggerFactory.getInstance(ConditionalHttpChunkAggregator.class);\n\n    private volatile boolean        sendaschunked;\n    private volatile int        maxContentLength;\n\n    private static IHttpProxyServer         iHttpProxyServer;\n\n    public static void initialize(IHttpProxyServer iHttpProxyServer) {\n        ConditionalHttpChunkAggregator.iHttpProxyServer = iHttpProxyServer;\n    }\n\n    public ConditionalHttpChunkAggregator(int maxContentLength) {\n        super(maxContentLength);\n        this.maxContentLength = maxContentLength;\n        sendaschunked = false;\n    }\n\n    @Override\n    public void channelRead(ChannelHandlerContext ctx, Object msg){\n        if ((msg instanceof HttpResponse)) {\n            HttpResponse response = (HttpResponse)msg;\n            if ((msg instanceof HttpMessage)) {\n                HttpMessage httpmessage= (HttpMessage)msg;\n\n                try  {\n                    // If the content length exceeds the threshhold, then send it as chunked\n                    // It's too large to process substitutions\n                    Long contentlength = \n                            httpmessage.headers().get(HttpHeaders.Names.CONTENT_LENGTH) != null ? \n                            Long.valueOf(httpmessage.headers().get(HttpHeaders.Names.CONTENT_LENGTH)) : -1;\n                    if (contentlength &gt;= maxContentLength) {\n                        sendaschunked = true;\n                    } else {\n                    // Check content types\n                         HashSet&lt;String&gt; chunkabletypes = iHttpProxyServer.getConfig().getProperty(&quot;chunkabletypes&quot;);\n                        if (!chunkabletypes.isEmpty() &amp;&amp; response.headers().contains(HttpHeaders.Names.CONTENT_TYPE)) {\n                            String contentType = response.headers().get(HttpHeaders.Names.CONTENT_TYPE).toLowerCase().trim();\n                            if (contentType.length()&gt;0) {\n                                sendaschunked = chunkabletypes.contains(contentType);\n                                if (!sendaschunked) {\n                                    for (String chunkabletype: chunkabletypes) {\n                                        // Begins with\n                                        if (contentType.indexOf(chunkabletype)==0) {\n                                            sendaschunked = true;\n                                            break;\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if (sendaschunked) {\n                        ctx.fireChannelRead(msg);\n                        return;\n                    }\n                }\n                catch(Exception ex) {\n                    logger.error(&quot;error determining chunkable viability&quot;, ex);\n                }\n            }\n        }\n        if (sendaschunked) {\n            ctx.fireChannelRead(msg);\n            return;\n        }\n\n        try {\n            super.channelRead(ctx, msg);\n            \n        } catch (Exception e) {\n            logger.error(&quot;error determining chunkable viability&quot;, e);\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>And this is the value for the chunkable types property:</p>\n<p><code>video/x-ms-wvx,video/x-flv,application/x-shockwave-flash,video/quicktime,video/,audio/</code></p>\n<h2>Edit</h2>\n<p>I think this is bug in netty 4.1.30 around this line 255 in <code>io.netty.handler.codec.MessageAggregator</code>. Seems this CompositeByteBuf is allocated but not released. Am I right? I am hoping for some authoritative answer to either confirm or reject this idea.</p>\n<pre><code>        // A streamed message - initialize the cumulative buffer, and wait for incoming chunks.\n        CompositeByteBuf content = ctx.alloc().compositeBuffer(maxCumulationBufferComponents); // LINE 255 \n        if (m instanceof ByteBufHolder) {\n            appendPartialContent(content, ((ByteBufHolder) m).content());\n        }\n        currentMessage = beginAggregation(m, content);\n</code></pre>\n"},{"tags":["java","spring","web-services","spring-mvc","jaxb"],"owner":{"account_id":12077214,"reputation":63,"user_id":8830231,"display_name":"Rodrigo Rapozo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2308,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1640812422,"creation_date":1508922139,"question_id":46928196,"body_markdown":"I&#39;m trying to use Spring WS to invoke a WS but the return to my jaxb class myResponse is null.\r\n\r\n1 - My request is correct I logged it and used in SOAPUI and the answer is valid.\r\n\r\n2 - Debbuging I discovered that inside the Spring classes I have a answer but without body: \r\n\r\n    &lt;env:Envelope xmlns:env=&quot;http://www.w3.org/2003/05/soap-envelope&quot;&gt;&lt;env:Header/&gt;&lt;env:Body/&gt;&lt;/env:Envelope&gt;\r\n\r\n\r\n3 - I discoved too that the problem is the payload is null and return it.\r\n\r\nAbove is a part of my code, if you need more information just ask.\r\n\r\n    myResponse =  (MyResponse) webServiceTemplate.marshalSendAndReceive(\r\n\t\t\t\trequestConfiguration.getEndpoint(),myRequest, \r\n            new SoapActionCallback(&quot;http://test.com/services/myRequest&quot;));\r\n\r\nBest Regards\r\n\r\n**UPDATE**\r\n\r\nI&#39;m using HTTPS but disabling it and I&#39;m forcing use SOAP 1.2.","title":"Spring WS webServiceTemplate.marshalSendAndReceive return null","body":"<p>I'm trying to use Spring WS to invoke a WS but the return to my jaxb class myResponse is null.</p>\n\n<p>1 - My request is correct I logged it and used in SOAPUI and the answer is valid.</p>\n\n<p>2 - Debbuging I discovered that inside the Spring classes I have a answer but without body: </p>\n\n<pre><code>&lt;env:Envelope xmlns:env=\"http://www.w3.org/2003/05/soap-envelope\"&gt;&lt;env:Header/&gt;&lt;env:Body/&gt;&lt;/env:Envelope&gt;\n</code></pre>\n\n<p>3 - I discoved too that the problem is the payload is null and return it.</p>\n\n<p>Above is a part of my code, if you need more information just ask.</p>\n\n<pre><code>myResponse =  (MyResponse) webServiceTemplate.marshalSendAndReceive(\n            requestConfiguration.getEndpoint(),myRequest, \n        new SoapActionCallback(\"http://test.com/services/myRequest\"));\n</code></pre>\n\n<p>Best Regards</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I'm using HTTPS but disabling it and I'm forcing use SOAP 1.2.</p>\n"},{"tags":["java","3d","binary","compression","minecraft"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1640810834,"post_id":70524813,"comment_id":124666384,"body_markdown":"Why not ask the authors?","body":"Why not ask the authors?"}],"answers":[{"tags":[],"owner":{"account_id":20067049,"reputation":97,"user_id":14712559,"display_name":"diegogs_"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640810957,"creation_date":1640810957,"answer_id":70524860,"question_id":70524813,"body_markdown":"I am not sure, but I think that it comes form chunks system and how sections are stored, I have been looking for reasons and the answer could be here:\r\n\r\nhttps://stackoverflow.com/a/32671125/14712559\r\n\r\nHere it is explained how it works, biomes use ZX-order and using YZX-order could be faster to render the graphics. Perhaps you are aware of this info, take a look to this question and tell me :D.","title":"Why does storing coordinates as YZX take up less space than storing them as XZY?","body":"<p>I am not sure, but I think that it comes form chunks system and how sections are stored, I have been looking for reasons and the answer could be here:</p>\n<p><a href=\"https://stackoverflow.com/a/32671125/14712559\">https://stackoverflow.com/a/32671125/14712559</a></p>\n<p>Here it is explained how it works, biomes use ZX-order and using YZX-order could be faster to render the graphics. Perhaps you are aware of this info, take a look to this question and tell me :D.</p>\n"}],"owner":{"account_id":23778704,"reputation":21,"user_id":17791740,"display_name":"thethethe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1640810957,"creation_date":1640810512,"question_id":70524813,"body_markdown":"In recent Minecraft patch-notes some changes were made to the way it saves world data.\r\n\r\n[said change][1]\r\n\r\n[link to wiki page][2]\r\n\r\nThis included a change from storing coordinates (presumably of entities) in the format of **XZY** to **YZX**.\r\n\r\nMinecraft&#39;s Y coordinate is height, which used to range from 0 to 256, but with the same update that brought this optimisation it was changed to the range of -64 to 256.\r\n\r\nI imagine that the reason that this is faster is something to do with the two&#39;s compliment representation of Y needing a sign bit at the front, but I can&#39;t visualise any reason why this would be faster.\r\n\r\nAn explanation would be appreciated.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dR6nL.png\r\n  [2]: https://minecraft.fandom.com/wiki/Anvil_file_format","title":"Why does storing coordinates as YZX take up less space than storing them as XZY?","body":"<p>In recent Minecraft patch-notes some changes were made to the way it saves world data.</p>\n<p><a href=\"https://i.stack.imgur.com/dR6nL.png\" rel=\"nofollow noreferrer\">said change</a></p>\n<p><a href=\"https://minecraft.fandom.com/wiki/Anvil_file_format\" rel=\"nofollow noreferrer\">link to wiki page</a></p>\n<p>This included a change from storing coordinates (presumably of entities) in the format of <strong>XZY</strong> to <strong>YZX</strong>.</p>\n<p>Minecraft's Y coordinate is height, which used to range from 0 to 256, but with the same update that brought this optimisation it was changed to the range of -64 to 256.</p>\n<p>I imagine that the reason that this is faster is something to do with the two's compliment representation of Y needing a sign bit at the front, but I can't visualise any reason why this would be faster.</p>\n<p>An explanation would be appreciated.</p>\n"},{"tags":["java","spring","mongodb","spring-boot","azure-cosmosdb"],"answers":[{"tags":[],"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640810428,"creation_date":1640810428,"answer_id":70524800,"question_id":70524392,"body_markdown":"Doing it the reactive way would be to return a `Mono&lt;Long&gt;` instead of blocking and unpacking the mono into an `long` or `int`:\r\n\r\n```\r\npublic Mono&lt;Long&gt; deleteMongoDataForGivenId(Long id) {\r\n    Query query = new Query();\r\n    query.addCriteria(where(&quot;id&quot;).is(id));\r\n\r\n    return reactiveMongoTemplate\r\n            .findAllAndRemove(query, MyDocument.class, &quot;SomeCollection&quot;)\r\n            .count();\r\n}\r\n```\r\n\r\nHaving to use a blocking method defies the purpose of reactive programming, but if you don&#39;t really have a choice, you can do the following:\r\n\r\n\r\n```\r\npublic Long deleteMongoDataForGivenId(Long id) {\r\n    Query query = new Query();\r\n    query.addCriteria(where(&quot;id&quot;).is(id));\r\n\r\n    return reactiveMongoTemplate\r\n            .findAllAndRemove(query, MyDocument.class, &quot;SomeCollection&quot;)\r\n            .count()\r\n  \r\n            // Please don&#39;t do this!!!\r\n            .share().block();\r\n}\r\n```","title":"ReactiveMongoTemplate does not return number of documents removed","body":"<p>Doing it the reactive way would be to return a <code>Mono&lt;Long&gt;</code> instead of blocking and unpacking the mono into an <code>long</code> or <code>int</code>:</p>\n<pre><code>public Mono&lt;Long&gt; deleteMongoDataForGivenId(Long id) {\n    Query query = new Query();\n    query.addCriteria(where(&quot;id&quot;).is(id));\n\n    return reactiveMongoTemplate\n            .findAllAndRemove(query, MyDocument.class, &quot;SomeCollection&quot;)\n            .count();\n}\n</code></pre>\n<p>Having to use a blocking method defies the purpose of reactive programming, but if you don't really have a choice, you can do the following:</p>\n<pre><code>public Long deleteMongoDataForGivenId(Long id) {\n    Query query = new Query();\n    query.addCriteria(where(&quot;id&quot;).is(id));\n\n    return reactiveMongoTemplate\n            .findAllAndRemove(query, MyDocument.class, &quot;SomeCollection&quot;)\n            .count()\n  \n            // Please don't do this!!!\n            .share().block();\n}\n</code></pre>\n"}],"owner":{"account_id":16395317,"reputation":205,"user_id":11843048,"display_name":"Froshiga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70524800,"answer_count":1,"score":0,"last_activity_date":1640810428,"creation_date":1640807868,"question_id":70524392,"body_markdown":"I have this implementation to remove documents based on some id using ReactiveMongoTemplate. I&#39;m trying to get the size of the the list of impacted documents but it always returns 0, and since it is reactive I&#39;m not sure how to get the number of records deleted\r\n\r\n```\r\n@Override\r\npublic int deleteMongoDataForGivenId(Long id) {\r\n     int deletedRecords = 0;\r\n     Query query = new Query();\r\n     query.addCriteria(where(&quot;id&quot;).is(id));\r\n\r\n     Flux&lt;Object&gt; deletedDocs = reactiveMongoTemplate.findAllAndRemove(query, Object.class, &quot;SomeCollection&quot;);\r\n\r\n     if(!deletedDocs.collectList().block().isEmpty()) {\r\n          List&lt;Object&gt; listOfRecords = deletedDocs.collectList().block();\r\n          deletedRecords = listOfRecords.size();\r\n     }\r\n}\r\n```\r\n","title":"ReactiveMongoTemplate does not return number of documents removed","body":"<p>I have this implementation to remove documents based on some id using ReactiveMongoTemplate. I'm trying to get the size of the the list of impacted documents but it always returns 0, and since it is reactive I'm not sure how to get the number of records deleted</p>\n<pre><code>@Override\npublic int deleteMongoDataForGivenId(Long id) {\n     int deletedRecords = 0;\n     Query query = new Query();\n     query.addCriteria(where(&quot;id&quot;).is(id));\n\n     Flux&lt;Object&gt; deletedDocs = reactiveMongoTemplate.findAllAndRemove(query, Object.class, &quot;SomeCollection&quot;);\n\n     if(!deletedDocs.collectList().block().isEmpty()) {\n          List&lt;Object&gt; listOfRecords = deletedDocs.collectList().block();\n          deletedRecords = listOfRecords.size();\n     }\n}\n</code></pre>\n"},{"tags":["java","android","networking","server","port"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1640811028,"post_id":70524746,"comment_id":124666429,"body_markdown":"Use Logcat to examine the stack trace associated with your crash.","body":"Use Logcat to examine the stack trace associated with your crash."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1640812258,"post_id":70524746,"comment_id":124666837,"body_markdown":"`findViewById(R.id.start_server).setVisibility(View.GONE)` That influences the gui. And you cannot update the gui from a thread.","body":"<code>findViewById(R.id.start_server).setVisibility(View.GONE)</code> That influences the gui. And you cannot update the gui from a thread."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1640812321,"post_id":70524746,"comment_id":124666870,"body_markdown":"Also you cannot use showMessage() in a thread.","body":"Also you cannot use showMessage() in a thread."},{"owner":{"account_id":23329545,"reputation":1,"user_id":17406153,"display_name":"Metty Master"},"score":0,"creation_date":1640823010,"post_id":70524746,"comment_id":124669442,"body_markdown":"Removing setVisibility solved the issue. Thanks!","body":"Removing setVisibility solved the issue. Thanks!"}],"owner":{"account_id":23329545,"reputation":1,"user_id":17406153,"display_name":"Metty Master"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640810113,"creation_date":1640810113,"question_id":70524746,"body_markdown":"I&#39;m trying to start a server in order to receive messages on a certain port; but the app keeps crashing when i click the start server button, i think when this code is executed:\r\n\r\n    showMessage(&quot;Try starting server...&quot;, Color.WHITE);\r\n    this.serverThread = new Thread(new ServerThread());\r\n    this.serverThread.start();\r\nSince the message &quot;Try starting server...&quot; is visible for a second before the app crashes.\r\n\r\n\r\nThis is main activity full code:\r\n\r\n    public class MainActivity extends AppCompatActivity implements View.OnClickListener{\r\n\r\n    private ServerSocket serverSocket;\r\n    private Socket tempClientSocket;\r\n    public Thread serverThread = null;\r\n    public static final int SERVER_PORT = 3034;\r\n    private LinearLayout msgList;\r\n    private Handler handler;\r\n    private EditText edMessage;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        setTitle(&quot;Server&quot;);\r\n        msgList = findViewById(R.id.msgList);\r\n        handler = new Handler();\r\n        edMessage = findViewById(R.id.edMessage);\r\n\r\n        showMessage(getIPAddress(), Color.WHITE);\r\n    }\r\n\r\n    public TextView textView(String message, int color) {\r\n        if (null == message || message.trim().isEmpty()) {\r\n            message = &quot;&lt;Empty Message&gt;&quot;;\r\n        }\r\n        TextView tv = new TextView(this);\r\n        tv.setTextColor(color);\r\n        tv.setText(message + &quot; [&quot; + getTime() +&quot;]&quot;);\r\n        tv.setTextSize(20);\r\n        tv.setPadding(0, 5, 0, 0);\r\n        return tv;\r\n    }\r\n\r\n    public void showMessage(final String message, final int color) {\r\n        handler.post(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                msgList.addView(textView(message, color));\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n        if (view.getId() == R.id.start_server) {\r\n            //msgList.removeAllViews();\r\n            showMessage(&quot;Try starting server...&quot;, Color.WHITE);\r\n            this.serverThread = new Thread(new ServerThread());\r\n            this.serverThread.start();\r\n        }\r\n        if (view.getId() == R.id.send_data) {\r\n            String msg = edMessage.getText().toString().trim();\r\n            showMessage(&quot;Server : &quot; + msg, Color.BLUE);\r\n            sendMessage(msg);\r\n        }\r\n    }\r\n\r\n    private void sendMessage(final String message) {\r\n        try {\r\n            if (null != tempClientSocket) {\r\n                new Thread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        PrintWriter out = null;\r\n                        try {\r\n                            out = new PrintWriter(new BufferedWriter(\r\n                                    new OutputStreamWriter(tempClientSocket.getOutputStream())),\r\n                                    true);\r\n                        } catch (IOException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                        out.println(message);\r\n                    }\r\n                }).start();\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    class ServerThread implements Runnable {\r\n\r\n        public void run() {\r\n            Socket socket;\r\n            try {\r\n                serverSocket = new ServerSocket(SERVER_PORT);\r\n                findViewById(R.id.start_server).setVisibility(View.GONE);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                showMessage(&quot;Error Starting Server : &quot; + e.getMessage(), Color.RED);\r\n            }\r\n            if (serverSocket != null) {\r\n                while (!Thread.currentThread().isInterrupted()) {\r\n                    try {\r\n                        socket = serverSocket.accept();\r\n                        CommunicationThread commThread = new CommunicationThread(socket);\r\n                        new Thread(commThread).start();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                        showMessage(&quot;Error Communicating to Client :&quot; + e.getMessage(), Color.RED);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    class CommunicationThread implements Runnable {\r\n\r\n        private Socket clientSocket;\r\n\r\n        private BufferedReader input;\r\n\r\n        public CommunicationThread(Socket clientSocket) {\r\n            this.clientSocket = clientSocket;\r\n            tempClientSocket = clientSocket;\r\n            try {\r\n                this.input = new BufferedReader(new InputStreamReader(this.clientSocket.getInputStream()));\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                showMessage(&quot;Error Connecting to Client!!&quot;, Color.RED);\r\n            }\r\n            showMessage(&quot;Connected to Client!!&quot;, Color.GREEN);\r\n        }\r\n\r\n        public void run() {\r\n\r\n            while (!Thread.currentThread().isInterrupted()) {\r\n                try {\r\n                    String read = input.readLine();\r\n                    if (null == read || &quot;Disconnect&quot;.contentEquals(read)) {\r\n                        Thread.interrupted();\r\n                        read = &quot;Client Disconnected&quot;;\r\n                        showMessage(&quot;Client : &quot; + read, Color.GREEN);\r\n                        break;\r\n                    }\r\n                    showMessage(&quot;Client : &quot; + read, Color.GREEN);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        if (null != serverThread) {\r\n            sendMessage(&quot;Disconnect&quot;);\r\n            serverThread.interrupt();\r\n            serverThread = null;\r\n        }\r\n      }\r\n    }\r\n\r\nAny idea about why this is happening?\r\n\r\nThanks.","title":"Starting a Thread to open a Server on port makes the app crash","body":"<p>I'm trying to start a server in order to receive messages on a certain port; but the app keeps crashing when i click the start server button, i think when this code is executed:</p>\n<pre><code>showMessage(&quot;Try starting server...&quot;, Color.WHITE);\nthis.serverThread = new Thread(new ServerThread());\nthis.serverThread.start();\n</code></pre>\n<p>Since the message &quot;Try starting server...&quot; is visible for a second before the app crashes.</p>\n<p>This is main activity full code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity implements View.OnClickListener{\n\nprivate ServerSocket serverSocket;\nprivate Socket tempClientSocket;\npublic Thread serverThread = null;\npublic static final int SERVER_PORT = 3034;\nprivate LinearLayout msgList;\nprivate Handler handler;\nprivate EditText edMessage;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    setTitle(&quot;Server&quot;);\n    msgList = findViewById(R.id.msgList);\n    handler = new Handler();\n    edMessage = findViewById(R.id.edMessage);\n\n    showMessage(getIPAddress(), Color.WHITE);\n}\n\npublic TextView textView(String message, int color) {\n    if (null == message || message.trim().isEmpty()) {\n        message = &quot;&lt;Empty Message&gt;&quot;;\n    }\n    TextView tv = new TextView(this);\n    tv.setTextColor(color);\n    tv.setText(message + &quot; [&quot; + getTime() +&quot;]&quot;);\n    tv.setTextSize(20);\n    tv.setPadding(0, 5, 0, 0);\n    return tv;\n}\n\npublic void showMessage(final String message, final int color) {\n    handler.post(new Runnable() {\n        @Override\n        public void run() {\n            msgList.addView(textView(message, color));\n        }\n    });\n}\n\n@Override\npublic void onClick(View view) {\n    if (view.getId() == R.id.start_server) {\n        //msgList.removeAllViews();\n        showMessage(&quot;Try starting server...&quot;, Color.WHITE);\n        this.serverThread = new Thread(new ServerThread());\n        this.serverThread.start();\n    }\n    if (view.getId() == R.id.send_data) {\n        String msg = edMessage.getText().toString().trim();\n        showMessage(&quot;Server : &quot; + msg, Color.BLUE);\n        sendMessage(msg);\n    }\n}\n\nprivate void sendMessage(final String message) {\n    try {\n        if (null != tempClientSocket) {\n            new Thread(new Runnable() {\n                @Override\n                public void run() {\n                    PrintWriter out = null;\n                    try {\n                        out = new PrintWriter(new BufferedWriter(\n                                new OutputStreamWriter(tempClientSocket.getOutputStream())),\n                                true);\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                    out.println(message);\n                }\n            }).start();\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\nclass ServerThread implements Runnable {\n\n    public void run() {\n        Socket socket;\n        try {\n            serverSocket = new ServerSocket(SERVER_PORT);\n            findViewById(R.id.start_server).setVisibility(View.GONE);\n        } catch (IOException e) {\n            e.printStackTrace();\n            showMessage(&quot;Error Starting Server : &quot; + e.getMessage(), Color.RED);\n        }\n        if (serverSocket != null) {\n            while (!Thread.currentThread().isInterrupted()) {\n                try {\n                    socket = serverSocket.accept();\n                    CommunicationThread commThread = new CommunicationThread(socket);\n                    new Thread(commThread).start();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                    showMessage(&quot;Error Communicating to Client :&quot; + e.getMessage(), Color.RED);\n                }\n            }\n        }\n    }\n}\n\nclass CommunicationThread implements Runnable {\n\n    private Socket clientSocket;\n\n    private BufferedReader input;\n\n    public CommunicationThread(Socket clientSocket) {\n        this.clientSocket = clientSocket;\n        tempClientSocket = clientSocket;\n        try {\n            this.input = new BufferedReader(new InputStreamReader(this.clientSocket.getInputStream()));\n        } catch (IOException e) {\n            e.printStackTrace();\n            showMessage(&quot;Error Connecting to Client!!&quot;, Color.RED);\n        }\n        showMessage(&quot;Connected to Client!!&quot;, Color.GREEN);\n    }\n\n    public void run() {\n\n        while (!Thread.currentThread().isInterrupted()) {\n            try {\n                String read = input.readLine();\n                if (null == read || &quot;Disconnect&quot;.contentEquals(read)) {\n                    Thread.interrupted();\n                    read = &quot;Client Disconnected&quot;;\n                    showMessage(&quot;Client : &quot; + read, Color.GREEN);\n                    break;\n                }\n                showMessage(&quot;Client : &quot; + read, Color.GREEN);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n        }\n    }\n\n}\n\n@Override\nprotected void onDestroy() {\n    super.onDestroy();\n    if (null != serverThread) {\n        sendMessage(&quot;Disconnect&quot;);\n        serverThread.interrupt();\n        serverThread = null;\n    }\n  }\n}\n</code></pre>\n<p>Any idea about why this is happening?</p>\n<p>Thanks.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1640773534,"post_id":70517898,"comment_id":124654353,"body_markdown":"It doesn’t work because you don’t import it, BUT, don’t use `JOptionPane`, JavaFX has [dialogs](https://code.makery.ch/blog/javafx-dialogs-official/).","body":"It doesn’t work because you don’t import it, BUT, don’t use <code>JOptionPane</code>, JavaFX has <a href=\"https://code.makery.ch/blog/javafx-dialogs-official/\" rel=\"nofollow noreferrer\">dialogs</a>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1640788543,"post_id":70517898,"comment_id":124659049,"body_markdown":"Don&#39;t mix Swing and JavaFX. If you do, you have to manage two different UI threads.","body":"Don&#39;t mix Swing and JavaFX. If you do, you have to manage two different UI threads."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1640824201,"post_id":70517898,"comment_id":124669643,"body_markdown":"The Swing import was lurking [here](https://stackoverflow.com/revisions/aebc48c3-a13b-44cb-b239-74f26db14bab/view-source), behind the code fence!","body":"The Swing import was lurking <a href=\"https://stackoverflow.com/revisions/aebc48c3-a13b-44cb-b239-74f26db14bab/view-source\">here</a>, behind the code fence!"}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640810110,"creation_date":1640809754,"answer_id":70524685,"question_id":70517898,"body_markdown":"&gt;`JOptionPane.showMessageDialog()`…It&#39;s working if I put the syntax in the main. Please tell me why.\r\n\r\nWhen you invoke `JOptionPane.showMessageDialog()` in `main()`, it executes on the [_initial thread_][1]. In a _Swing_ program, you would invoke it from `main()` like this:\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(() -&gt; {\r\n            JOptionPane.showMessageDialog(null, &quot;Click to continue…&quot;);\r\n            …\r\n        });\r\n    }\r\n\r\nIn a _JavaFX_ program you are [well advised][2] _not_ to &quot;mix Swing and JavaFX,&quot; unless you account for [*JavaFX-Swing Interoperability*][3]. Instead, evoke an `Alert` as shown [here][4] and below:\r\n\r\n[![Alert image][5]][5]\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Alert;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.stage.Stage;\r\n\r\npublic class App extends Application {\r\n\r\n    TextField txt;\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        Label label = new Label();\r\n        TextField text = new TextField(&quot;Type here&quot;);\r\n        Button button = new Button(&quot;Click&quot;);\r\n        MyHandlerClass handler = new MyHandlerClass();\r\n\r\n        button.setOnAction(handler);\r\n        text.setPrefSize(10, 10);\r\n        label.setText(&quot;Enter here&quot;);\r\n        text.getText();\r\n\r\n        VBox box = new VBox();\r\n        box.getChildren().addAll(label, text, button);\r\n        Scene scene = new Scene(box, 320, 240);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.setTitle(&quot;anas&quot;);\r\n        primaryStage.show();\r\n    }\r\n\r\n    class MyHandlerClass implements EventHandler&lt;ActionEvent&gt; {\r\n\r\n        @Override\r\n        public void handle(ActionEvent e) {\r\n            Alert alert = new Alert(Alert.AlertType.INFORMATION, &quot;You clicked the button.&quot;);\r\n            alert.showAndWait();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Application.launch(args);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html\r\n  [2]: https://stackoverflow.com/questions/70517898/why-joptionpane-showmessagedialog-just-working-in-main#comment124659049_70517898\r\n  [3]: https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/fx_swing.htm\r\n  [4]: https://stackoverflow.com/a/37183801/230513\r\n  [5]: https://i.stack.imgur.com/rCRLI.png","title":"why JOptionPane.showMessageDialog just working in main?","body":"<blockquote>\n<p><code>JOptionPane.showMessageDialog()</code>…It's working if I put the syntax in the main. Please tell me why.</p>\n</blockquote>\n<p>When you invoke <code>JOptionPane.showMessageDialog()</code> in <code>main()</code>, it executes on the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html\" rel=\"nofollow noreferrer\"><em>initial thread</em></a>. In a <em>Swing</em> program, you would invoke it from <code>main()</code> like this:</p>\n<pre><code>public static void main(String[] args) {\n    EventQueue.invokeLater(() -&gt; {\n        JOptionPane.showMessageDialog(null, &quot;Click to continue…&quot;);\n        …\n    });\n}\n</code></pre>\n<p>In a <em>JavaFX</em> program you are <a href=\"https://stackoverflow.com/questions/70517898/why-joptionpane-showmessagedialog-just-working-in-main#comment124659049_70517898\">well advised</a> <em>not</em> to &quot;mix Swing and JavaFX,&quot; unless you account for <a href=\"https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/fx_swing.htm\" rel=\"nofollow noreferrer\"><em>JavaFX-Swing Interoperability</em></a>. Instead, evoke an <code>Alert</code> as shown <a href=\"https://stackoverflow.com/a/37183801/230513\">here</a> and below:</p>\n<p><a href=\"https://i.stack.imgur.com/rCRLI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rCRLI.png\" alt=\"Alert image\" /></a></p>\n<pre><code>import javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\npublic class App extends Application {\n\n    TextField txt;\n\n    @Override\n    public void start(Stage primaryStage) {\n        Label label = new Label();\n        TextField text = new TextField(&quot;Type here&quot;);\n        Button button = new Button(&quot;Click&quot;);\n        MyHandlerClass handler = new MyHandlerClass();\n\n        button.setOnAction(handler);\n        text.setPrefSize(10, 10);\n        label.setText(&quot;Enter here&quot;);\n        text.getText();\n\n        VBox box = new VBox();\n        box.getChildren().addAll(label, text, button);\n        Scene scene = new Scene(box, 320, 240);\n        primaryStage.setScene(scene);\n        primaryStage.setTitle(&quot;anas&quot;);\n        primaryStage.show();\n    }\n\n    class MyHandlerClass implements EventHandler&lt;ActionEvent&gt; {\n\n        @Override\n        public void handle(ActionEvent e) {\n            Alert alert = new Alert(Alert.AlertType.INFORMATION, &quot;You clicked the button.&quot;);\n            alert.showAndWait();\n        }\n    }\n\n    public static void main(String[] args) {\n        Application.launch(args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23774062,"reputation":23,"user_id":17787769,"display_name":"Anas Aljaghbeer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":70524685,"answer_count":1,"score":1,"last_activity_date":1640810110,"creation_date":1640772362,"question_id":70517898,"body_markdown":"I&#39;m using NetBeans last version and macOS. I try this is my code and  `JOptionPane.showMessageDialog` not working. It&#39;s working if I put the syntax in the main. Please tell me why. I try [tag:vscode], and I have same problem  \r\n\r\n```\r\nimport javax.swing.*;\r\nimport javafx.application.Application;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.CheckBox;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.RadioButton;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.control.TextInputDialog;\r\nimport javafx.scene.control.ToggleGroup;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Circle;\r\nimport javafx.stage.Stage;\r\n\r\npublic class App extends Application {\r\n\r\n    TextField txt;\r\n\r\n    public void start(Stage primaryStage) {\r\n        Label lb1 = new Label();\r\n        TextField txt = new TextField(&quot;Type here&quot;);\r\n        RadioButton rb1 = new RadioButton();\r\n        RadioButton rb2 = new RadioButton();\r\n        Button bt = new Button(&quot;click&quot;);\r\n        Button bt1 = new Button(&quot;anas aljaghbeer&quot;);\r\n        MyHandlerClass handler1 = new MyHandlerClass();\r\n\r\n        bt.setOnAction(handler1);\r\n        txt.setPrefSize(10, 10);\r\n        lb1.setText(&quot;Enter here&quot;);\r\n        txt.getText();\r\n\r\n        VBox box = new VBox();\r\n        Scene scene = new Scene(box, 1000, 1000);\r\n\r\n        box.getChildren().addAll(lb1, txt, bt);\r\n        primaryStage.setTitle(&quot;anas&quot;);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n    }\r\n\r\n    class MyHandlerClass implements EventHandler&lt;ActionEvent&gt; {\r\n\r\n        @Override\r\n        public void handle(ActionEvent e) {\r\n            JOptionPane.showMessageDialog(null, &quot; Hello&quot;);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Application.launch(args);\r\n    }\r\n}\r\n```","title":"why JOptionPane.showMessageDialog just working in main?","body":"<p>I'm using NetBeans last version and macOS. I try this is my code and  <code>JOptionPane.showMessageDialog</code> not working. It's working if I put the syntax in the main. Please tell me why. I try <a href=\"/questions/tagged/vscode\" class=\"post-tag\" title=\"show questions tagged &#39;vscode&#39;\" rel=\"tag\">vscode</a>, and I have same problem</p>\n<pre><code>import javax.swing.*;\nimport javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.CheckBox;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.RadioButton;\nimport javafx.scene.control.TextField;\nimport javafx.scene.control.TextInputDialog;\nimport javafx.scene.control.ToggleGroup;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\nimport javafx.stage.Stage;\n\npublic class App extends Application {\n\n    TextField txt;\n\n    public void start(Stage primaryStage) {\n        Label lb1 = new Label();\n        TextField txt = new TextField(&quot;Type here&quot;);\n        RadioButton rb1 = new RadioButton();\n        RadioButton rb2 = new RadioButton();\n        Button bt = new Button(&quot;click&quot;);\n        Button bt1 = new Button(&quot;anas aljaghbeer&quot;);\n        MyHandlerClass handler1 = new MyHandlerClass();\n\n        bt.setOnAction(handler1);\n        txt.setPrefSize(10, 10);\n        lb1.setText(&quot;Enter here&quot;);\n        txt.getText();\n\n        VBox box = new VBox();\n        Scene scene = new Scene(box, 1000, 1000);\n\n        box.getChildren().addAll(lb1, txt, bt);\n        primaryStage.setTitle(&quot;anas&quot;);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    class MyHandlerClass implements EventHandler&lt;ActionEvent&gt; {\n\n        @Override\n        public void handle(ActionEvent e) {\n            JOptionPane.showMessageDialog(null, &quot; Hello&quot;);\n        }\n    }\n\n    public static void main(String[] args) {\n        Application.launch(args);\n    }\n}\n</code></pre>\n"},{"tags":["java","regex","string","split"],"comments":[{"owner":{"account_id":1583701,"reputation":748,"user_id":1468508,"display_name":"Von Lion"},"score":0,"creation_date":1379590242,"post_id":18893390,"comment_id":27886807,"body_markdown":"Why is this a requirement? Could you give more info as to the problem you are trying to solve?","body":"Why is this a requirement? Could you give more info as to the problem you are trying to solve?"},{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":0,"creation_date":1640727627,"post_id":18893390,"comment_id":124645138,"body_markdown":"I do not believe this question is a duplicate of the cited earlier question, as here doubly-quoted strings are delimited with commas; the earlier question did not have that requirement . It wanted (example given) `foo,bar,c;qual=&quot;baz,blurb&quot;,d;junk=&quot;quux,syzygy&quot;` to be split into `foo`, `bar`, `c;qual=&quot;baz,blurb&quot;` and `d;junk=&quot;quux,syzygy&quot;`. That is not a trivial difference, as matching @LAFKsaysReinstateMonica&#39;s regex  `&quot;\\&quot;[^\\&quot;]*\\&quot;|[^,]+` works here but not there. I have voted to reopen.","body":"I do not believe this question is a duplicate of the cited earlier question, as here doubly-quoted strings are delimited with commas; the earlier question did not have that requirement . It wanted (example given) <code>foo,bar,c;qual=&quot;baz,blurb&quot;,d;junk=&quot;quux,syzygy&quot;</code> to be split into <code>foo</code>, <code>bar</code>, <code>c;qual=&quot;baz,blurb&quot;</code> and <code>d;junk=&quot;quux,syzygy&quot;</code>. That is not a trivial difference, as matching @LAFKsaysReinstateMonica&#39;s regex  <code>&quot;\\&quot;[^\\&quot;]*\\&quot;|[^,]+</code> works here but not there. I have voted to reopen."}],"answers":[{"tags":[],"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"down_vote_count":0,"up_vote_count":174,"is_accepted":true,"score":174,"last_activity_date":1379591099,"creation_date":1379590286,"answer_id":18893443,"question_id":18893390,"body_markdown":"You can try out this regex:\r\n\r\n    str.split(&quot;,(?=(?:[^\\&quot;]*\\&quot;[^\\&quot;]*\\&quot;)*[^\\&quot;]*$)&quot;);\r\n\r\nThis splits the string on `,` that is followed by an even number of double quotes. In other words, it splits on comma outside the double quotes. This will work provided you have balanced quotes in your string.\r\n\r\nExplanation:\r\n\r\n   \r\n\r\n    ,           // Split on comma\r\n    (?=         // Followed by\r\n       (?:      // Start a non-capture group\r\n         [^&quot;]*  // 0 or more non-quote characters\r\n         &quot;      // 1 quote\r\n         [^&quot;]*  // 0 or more non-quote characters\r\n         &quot;      // 1 quote\r\n       )*       // 0 or more repetition of non-capture group (multiple of 2 quotes will be even)\r\n       [^&quot;]*    // Finally 0 or more non-quotes\r\n       $        // Till the end  (This is necessary, else every comma will satisfy the condition)\r\n    )\r\n\r\nYou can even type like this in your code, using `(?x)` modifier with your regex. The modifier ignores any whitespaces in your regex, so it&#39;s becomes more easy to read a regex broken into multiple lines like so:\r\n\r\n    String[] arr = str.split(&quot;(?x)   &quot; + \r\n                         &quot;,          &quot; +   // Split on comma\r\n                         &quot;(?=        &quot; +   // Followed by\r\n                         &quot;  (?:      &quot; +   // Start a non-capture group\r\n                         &quot;    [^\\&quot;]* &quot; +   // 0 or more non-quote characters\r\n                         &quot;    \\&quot;     &quot; +   // 1 quote\r\n                         &quot;    [^\\&quot;]* &quot; +   // 0 or more non-quote characters\r\n                         &quot;    \\&quot;     &quot; +   // 1 quote\r\n                         &quot;  )*       &quot; +   // 0 or more repetition of non-capture group (multiple of 2 quotes will be even)\r\n                         &quot;  [^\\&quot;]*   &quot; +   // Finally 0 or more non-quotes\r\n                         &quot;  $        &quot; +   // Till the end  (This is necessary, else every comma will satisfy the condition)\r\n                         &quot;)          &quot;     // End look-ahead\r\n                             );\r\n    ","title":"Splitting on comma outside quotes","body":"<p>You can try out this regex:</p>\n\n<pre><code>str.split(\",(?=(?:[^\\\"]*\\\"[^\\\"]*\\\")*[^\\\"]*$)\");\n</code></pre>\n\n<p>This splits the string on <code>,</code> that is followed by an even number of double quotes. In other words, it splits on comma outside the double quotes. This will work provided you have balanced quotes in your string.</p>\n\n<p>Explanation:</p>\n\n<pre><code>,           // Split on comma\n(?=         // Followed by\n   (?:      // Start a non-capture group\n     [^\"]*  // 0 or more non-quote characters\n     \"      // 1 quote\n     [^\"]*  // 0 or more non-quote characters\n     \"      // 1 quote\n   )*       // 0 or more repetition of non-capture group (multiple of 2 quotes will be even)\n   [^\"]*    // Finally 0 or more non-quotes\n   $        // Till the end  (This is necessary, else every comma will satisfy the condition)\n)\n</code></pre>\n\n<p>You can even type like this in your code, using <code>(?x)</code> modifier with your regex. The modifier ignores any whitespaces in your regex, so it's becomes more easy to read a regex broken into multiple lines like so:</p>\n\n<pre><code>String[] arr = str.split(\"(?x)   \" + \n                     \",          \" +   // Split on comma\n                     \"(?=        \" +   // Followed by\n                     \"  (?:      \" +   // Start a non-capture group\n                     \"    [^\\\"]* \" +   // 0 or more non-quote characters\n                     \"    \\\"     \" +   // 1 quote\n                     \"    [^\\\"]* \" +   // 0 or more non-quote characters\n                     \"    \\\"     \" +   // 1 quote\n                     \"  )*       \" +   // 0 or more repetition of non-capture group (multiple of 2 quotes will be even)\n                     \"  [^\\\"]*   \" +   // Finally 0 or more non-quotes\n                     \"  $        \" +   // Till the end  (This is necessary, else every comma will satisfy the condition)\n                     \")          \"     // End look-ahead\n                         );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":145150,"reputation":8892,"user_id":1885392,"display_name":"stefan.schwetschke"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1379592276,"creation_date":1379590911,"answer_id":18893667,"question_id":18893390,"body_markdown":"You can do this very easily without complex regular expression:\r\n\r\n  1. Split on the character &lt;code&gt;&quot;&lt;/code&gt;. You get a list of Strings\r\n  2. Process each string in the list: Split every string that is on an even position in the List (starting indexing with zero) on &quot;,&quot; (you get a list inside a list), leave every odd positioned string alone (directly putting it in a list inside the list).\r\n  3. Join the list of lists, so you get only a list.\r\n\r\nIf you want to handle quoting of &#39;&quot;&#39;, you have to adapt the algorithm a little bit (joining some parts, you have incorrectly split of, or changing splitting to simple regexp), but the basic structure stays.\r\n\r\nSo basically it is something like this:\r\n\r\n    public class SplitTest {\r\n        public static void main(String[] args) {\r\n            final String splitMe=&quot;123,test,444,\\&quot;don&#39;t split, this\\&quot;,more test,1&quot;;\r\n            final String[] splitByQuote=splitMe.split(&quot;\\&quot;&quot;);\r\n            final String[][] splitByComma=new String[splitByQuote.length][];\r\n            for(int i=0;i&lt;splitByQuote.length;i++) {\r\n                String part=splitByQuote[i];\r\n                if (i % 2 == 0){\r\n                   splitByComma[i]=part.split(&quot;,&quot;);\r\n                }else{\r\n                    splitByComma[i]=new String[1];\r\n                    splitByComma[i][0]=part;\r\n                }\r\n            }\r\n            for (String parts[] : splitByComma) {\r\n                for (String part : parts) {\r\n                    System.out.println(part);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThis will be much cleaner with lambdas, promised!\r\n\r\n","title":"Splitting on comma outside quotes","body":"<p>You can do this very easily without complex regular expression:</p>\n\n<ol>\n<li>Split on the character <code>\"</code>. You get a list of Strings</li>\n<li>Process each string in the list: Split every string that is on an even position in the List (starting indexing with zero) on \",\" (you get a list inside a list), leave every odd positioned string alone (directly putting it in a list inside the list).</li>\n<li>Join the list of lists, so you get only a list.</li>\n</ol>\n\n<p>If you want to handle quoting of '\"', you have to adapt the algorithm a little bit (joining some parts, you have incorrectly split of, or changing splitting to simple regexp), but the basic structure stays.</p>\n\n<p>So basically it is something like this:</p>\n\n<pre><code>public class SplitTest {\n    public static void main(String[] args) {\n        final String splitMe=\"123,test,444,\\\"don't split, this\\\",more test,1\";\n        final String[] splitByQuote=splitMe.split(\"\\\"\");\n        final String[][] splitByComma=new String[splitByQuote.length][];\n        for(int i=0;i&lt;splitByQuote.length;i++) {\n            String part=splitByQuote[i];\n            if (i % 2 == 0){\n               splitByComma[i]=part.split(\",\");\n            }else{\n                splitByComma[i]=new String[1];\n                splitByComma[i][0]=part;\n            }\n        }\n        for (String parts[] : splitByComma) {\n            for (String part : parts) {\n                System.out.println(part);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>This will be much cleaner with lambdas, promised!</p>\n"},{"tags":[],"owner":{"account_id":2391416,"reputation":3895,"user_id":2091200,"display_name":"Abhijith Nagarajan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379592669,"creation_date":1379592669,"answer_id":18894279,"question_id":18893390,"body_markdown":"Please see the below code snippet. This code only considers happy flow. Change the according to your requirement\r\n\r\n    public static String[] splitWithEscape(final String str, char split,\r\n\t\t\tchar escapeCharacter) {\r\n\t\tfinal List&lt;String&gt; list = new LinkedList&lt;String&gt;();\r\n\r\n\t\tchar[] cArr = str.toCharArray();\r\n\r\n\t\tboolean isEscape = false;\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\r\n\t\tfor (char c : cArr) {\r\n\t\t\tif (isEscape &amp;&amp; c != escapeCharacter) {\r\n\t\t\t\tsb.append(c);\r\n\t\t\t} else if (c != split &amp;&amp; c != escapeCharacter) {\r\n\t\t\t\tsb.append(c);\r\n\t\t\t} else if (c == escapeCharacter) {\r\n\t\t\t\tif (!isEscape) {\r\n\t\t\t\t\tisEscape = true;\r\n\t\t\t\t\tif (sb.length() &gt; 0) {\r\n\t\t\t\t\t\tlist.add(sb.toString());\r\n\t\t\t\t\t\tsb = new StringBuilder();\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tisEscape = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if (c == split) {\r\n\t\t\t\tlist.add(sb.toString());\r\n\t\t\t\tsb = new StringBuilder();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (sb.length() &gt; 0) {\r\n\t\t\tlist.add(sb.toString());\r\n\t\t}\r\n\r\n\t\tString[] strArr = new String[list.size()];\r\n\r\n\t\treturn list.toArray(strArr);\r\n\t}","title":"Splitting on comma outside quotes","body":"<p>Please see the below code snippet. This code only considers happy flow. Change the according to your requirement</p>\n\n<pre><code>public static String[] splitWithEscape(final String str, char split,\n        char escapeCharacter) {\n    final List&lt;String&gt; list = new LinkedList&lt;String&gt;();\n\n    char[] cArr = str.toCharArray();\n\n    boolean isEscape = false;\n    StringBuilder sb = new StringBuilder();\n\n    for (char c : cArr) {\n        if (isEscape &amp;&amp; c != escapeCharacter) {\n            sb.append(c);\n        } else if (c != split &amp;&amp; c != escapeCharacter) {\n            sb.append(c);\n        } else if (c == escapeCharacter) {\n            if (!isEscape) {\n                isEscape = true;\n                if (sb.length() &gt; 0) {\n                    list.add(sb.toString());\n                    sb = new StringBuilder();\n                }\n            } else {\n                isEscape = false;\n            }\n\n        } else if (c == split) {\n            list.add(sb.toString());\n            sb = new StringBuilder();\n        }\n    }\n\n    if (sb.length() &gt; 0) {\n        list.add(sb.toString());\n    }\n\n    String[] strArr = new String[list.size()];\n\n    return list.toArray(strArr);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1081611,"reputation":41298,"user_id":1078583,"accept_rate":69,"display_name":"zx81"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1403866652,"creation_date":1403866652,"answer_id":24450127,"question_id":18893390,"body_markdown":"**Why Split when you can Match?**\r\n\r\nResurrecting this question because for some reason, the easy solution wasn&#39;t mentioned. Here is our beautifully compact regex:\r\n\r\n    &quot;[^&quot;]*&quot;|[^,]+\r\n\r\nThis will match all the desired fragments ([see demo][1]).\r\n\r\n**Explanation**\r\n\r\n - With `&quot;[^&quot;]*&quot;`, we match complete `&quot;double-quoted strings&quot;`\r\n - or `|`\r\n - we match `[^,]+` any characters that are not a comma.\r\n\r\nA possible refinement is to improve the string side of the alternation to allow the quoted strings to include escaped quotes.\r\n\r\n\r\n  [1]: http://regex101.com/r/dM3wM7","title":"Splitting on comma outside quotes","body":"<p><strong>Why Split when you can Match?</strong></p>\n\n<p>Resurrecting this question because for some reason, the easy solution wasn't mentioned. Here is our beautifully compact regex:</p>\n\n<pre><code>\"[^\"]*\"|[^,]+\n</code></pre>\n\n<p>This will match all the desired fragments (<a href=\"http://regex101.com/r/dM3wM7\" rel=\"noreferrer\">see demo</a>).</p>\n\n<p><strong>Explanation</strong></p>\n\n<ul>\n<li>With <code>\"[^\"]*\"</code>, we match complete <code>\"double-quoted strings\"</code></li>\n<li>or <code>|</code></li>\n<li>we match <code>[^,]+</code> any characters that are not a comma.</li>\n</ul>\n\n<p>A possible refinement is to improve the string side of the alternation to allow the quoted strings to include escaped quotes.</p>\n"},{"tags":[],"owner":{"account_id":978905,"reputation":2840,"user_id":999165,"accept_rate":75,"display_name":"LAFK says reinstate Monica"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1520242932,"creation_date":1520230466,"answer_id":49104480,"question_id":18893390,"body_markdown":"Building upon **@zx81&#39;s** answer, cause matching idea is really nice, I&#39;ve added Java 9 __`results`__ call, which returns a `Stream`. Since OP wanted to use `split`, I&#39;ve collected to `String[]`, as `split` does.\r\n\r\n**Caution if you have spaces after your comma-separators (`a, b, &quot;c,d&quot;`). Then you need to change the pattern.**\r\n\r\n## Jshell demo\r\n\r\n    $ jshell\r\n    -&gt; String so = &quot;123,test,444,\\&quot;don&#39;t split, this\\&quot;,more test,1&quot;;\r\n    |  Added variable so of type String with initial value &quot;123,test,444,&quot;don&#39;t split, this&quot;,more test,1&quot;\r\n\r\n    -&gt; Pattern.compile(&quot;\\&quot;[^\\&quot;]*\\&quot;|[^,]+&quot;).matcher(so).results();\r\n    |  Expression value is: java.util.stream.ReferencePipeline$Head@2038ae61\r\n    |    assigned to temporary variable $68 of type java.util.stream.Stream&lt;MatchResult&gt;\r\n\r\n    -&gt; $68.map(MatchResult::group).toArray(String[]::new);\r\n    |  Expression value is: [Ljava.lang.String;@6b09bb57\r\n    |    assigned to temporary variable $69 of type String[]\r\n\r\n    -&gt; Arrays.stream($69).forEach(System.out::println);\r\n    123\r\n    test\r\n    444\r\n    &quot;don&#39;t split, this&quot;\r\n    more test\r\n    1\r\n\r\n## Code\r\n\r\n    String so = &quot;123,test,444,\\&quot;don&#39;t split, this\\&quot;,more test,1&quot;;\r\n    Pattern.compile(&quot;\\&quot;[^\\&quot;]*\\&quot;|[^,]+&quot;)\r\n        .matcher(so)\r\n        .results()\r\n        .map(MatchResult::group)\r\n        .toArray(String[]::new);\r\n\r\n## Explanation\r\n\r\n1. Regex `[^&quot;]` matches: a quote, anything but a quote, a quote.\r\n2. Regex `[^&quot;]*` matches: a quote, anything but a quote 0 (or more) times , a quote.\r\n3. That regex needs to go first to &quot;win&quot;, otherwise matching _anything but a comma 1 or more times_ - that is: `[^,]+` - would &quot;win&quot;.\r\n4. `results()` requires Java 9 or higher.\r\n5. It returns `Stream&lt;MatchResult&gt;`, which I map using `group()` call and collect to array of Strings. Parameterless `toArray()` call would return `Object[]`.\r\n","title":"Splitting on comma outside quotes","body":"<p>Building upon <strong>@zx81's</strong> answer, cause matching idea is really nice, I've added Java 9 <strong><code>results</code></strong> call, which returns a <code>Stream</code>. Since OP wanted to use <code>split</code>, I've collected to <code>String[]</code>, as <code>split</code> does.</p>\n\n<p><strong>Caution if you have spaces after your comma-separators (<code>a, b, \"c,d\"</code>). Then you need to change the pattern.</strong></p>\n\n<h2>Jshell demo</h2>\n\n<pre><code>$ jshell\n-&gt; String so = \"123,test,444,\\\"don't split, this\\\",more test,1\";\n|  Added variable so of type String with initial value \"123,test,444,\"don't split, this\",more test,1\"\n\n-&gt; Pattern.compile(\"\\\"[^\\\"]*\\\"|[^,]+\").matcher(so).results();\n|  Expression value is: java.util.stream.ReferencePipeline$Head@2038ae61\n|    assigned to temporary variable $68 of type java.util.stream.Stream&lt;MatchResult&gt;\n\n-&gt; $68.map(MatchResult::group).toArray(String[]::new);\n|  Expression value is: [Ljava.lang.String;@6b09bb57\n|    assigned to temporary variable $69 of type String[]\n\n-&gt; Arrays.stream($69).forEach(System.out::println);\n123\ntest\n444\n\"don't split, this\"\nmore test\n1\n</code></pre>\n\n<h2>Code</h2>\n\n<pre><code>String so = \"123,test,444,\\\"don't split, this\\\",more test,1\";\nPattern.compile(\"\\\"[^\\\"]*\\\"|[^,]+\")\n    .matcher(so)\n    .results()\n    .map(MatchResult::group)\n    .toArray(String[]::new);\n</code></pre>\n\n<h2>Explanation</h2>\n\n<ol>\n<li>Regex <code>[^\"]</code> matches: a quote, anything but a quote, a quote.</li>\n<li>Regex <code>[^\"]*</code> matches: a quote, anything but a quote 0 (or more) times , a quote.</li>\n<li>That regex needs to go first to \"win\", otherwise matching <em>anything but a comma 1 or more times</em> - that is: <code>[^,]+</code> - would \"win\".</li>\n<li><code>results()</code> requires Java 9 or higher.</li>\n<li>It returns <code>Stream&lt;MatchResult&gt;</code>, which I map using <code>group()</code> call and collect to array of Strings. Parameterless <code>toArray()</code> call would return <code>Object[]</code>.</li>\n</ol>\n"}],"owner":{"account_id":3324845,"reputation":1259,"user_id":2795144,"accept_rate":69,"display_name":"Jakob Mathiasen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66429,"favorite_count":0,"down_vote_count":0,"up_vote_count":75,"accepted_answer_id":18893443,"answer_count":5,"score":75,"last_activity_date":1640809687,"creation_date":1379590116,"question_id":18893390,"body_markdown":"My program reads a line from a file. This line contains comma-separated text like:\r\n\r\n    123,test,444,&quot;don&#39;t split, this&quot;,more test,1\r\n\r\nI would like the result of a split to be this:\r\n\r\n    123\r\n    test\r\n    444\r\n    &quot;don&#39;t split, this&quot;\r\n    more test\r\n    1\r\n\r\nIf I use the `String.split(&quot;,&quot;)`, I would get this:\r\n\r\n    123\r\n    test\r\n    444\r\n    &quot;don&#39;t split\r\n     this&quot;\r\n    more test\r\n    1\r\n\r\nIn other words: The comma in the substring `&quot;don&#39;t split, this&quot;` is not a separator. How to deal with this?","title":"Splitting on comma outside quotes","body":"<p>My program reads a line from a file. This line contains comma-separated text like:</p>\n\n<pre><code>123,test,444,\"don't split, this\",more test,1\n</code></pre>\n\n<p>I would like the result of a split to be this:</p>\n\n<pre><code>123\ntest\n444\n\"don't split, this\"\nmore test\n1\n</code></pre>\n\n<p>If I use the <code>String.split(\",\")</code>, I would get this:</p>\n\n<pre><code>123\ntest\n444\n\"don't split\n this\"\nmore test\n1\n</code></pre>\n\n<p>In other words: The comma in the substring <code>\"don't split, this\"</code> is not a separator. How to deal with this?</p>\n"},{"tags":["java","maven","multi-module"],"comments":[{"owner":{"account_id":9757929,"reputation":712,"user_id":7233978,"display_name":"The 5th column mouse"},"score":2,"creation_date":1640807054,"post_id":70523328,"comment_id":124665279,"body_markdown":"Could you try `mvn install` instead of `mvn package` and then run `mvn clean`?","body":"Could you try <code>mvn install</code> instead of <code>mvn package</code> and then run <code>mvn clean</code>?"},{"owner":{"account_id":7991189,"reputation":415,"user_id":6028998,"display_name":"Ron Wellman"},"score":0,"creation_date":1640807741,"post_id":70523328,"comment_id":124665504,"body_markdown":"@The5thcolumnmouse That works.  I can&#39;t believe I didn&#39;t think of that.  For whatever reason, I didn&#39;t think `mvn install` would also build my main app but it does.  Thanks!","body":"@The5thcolumnmouse That works.  I can&#39;t believe I didn&#39;t think of that.  For whatever reason, I didn&#39;t think <code>mvn install</code> would also build my main app but it does.  Thanks!"},{"owner":{"account_id":9757929,"reputation":712,"user_id":7233978,"display_name":"The 5th column mouse"},"score":0,"creation_date":1640808091,"post_id":70523328,"comment_id":124665595,"body_markdown":"You are welcome! It is not enough to build the artifact, you have to install it into the local `.m2` repository.","body":"You are welcome! It is not enough to build the artifact, you have to install it into the local <code>.m2</code> repository."}],"answers":[{"tags":[],"owner":{"account_id":7991189,"reputation":415,"user_id":6028998,"display_name":"Ron Wellman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640809187,"creation_date":1640809187,"answer_id":70524594,"question_id":70523328,"body_markdown":"As pointed out by @The5thcolumnmouse, instead of using `mvn package`, if I use `mvn install` then the resulting jar files are installed into the .m2 repository.  Then when `mvn clean` is executed, my main app no longer complains about not being able to find my plugin.\r\n\r\n### M2 Repository\r\n```\r\npizza@hut:~/maven/maven-test$ tree ~/.m2/repository/com/ecorp/\r\n/somepath/.m2/repository/com/ecorp/\r\n├── build-args\r\n│&#160;&#160; ├── 1.0-SNAPSHOT\r\n│&#160;&#160; │&#160;&#160; ├── build-args-1.0-SNAPSHOT.jar\r\n│&#160;&#160; │&#160;&#160; ├── build-args-1.0-SNAPSHOT.pom\r\n│&#160;&#160; │&#160;&#160; ├── maven-metadata-local.xml\r\n│&#160;&#160; │&#160;&#160; └── _remote.repositories\r\n│&#160;&#160; └── maven-metadata-local.xml\r\n├── call-me\r\n│&#160;&#160; ├── 1.0-SNAPSHOT\r\n│&#160;&#160; │&#160;&#160; ├── call-me-1.0-SNAPSHOT.jar\r\n│&#160;&#160; │&#160;&#160; ├── call-me-1.0-SNAPSHOT.pom\r\n│&#160;&#160; │&#160;&#160; ├── maven-metadata-local.xml\r\n│&#160;&#160; │&#160;&#160; └── _remote.repositories\r\n│&#160;&#160; └── maven-metadata-local.xml\r\n├── maven-metadata-local.xml\r\n└── maven-test\r\n    ├── 1.0-SNAPSHOT\r\n    │&#160;&#160; ├── maven-metadata-local.xml\r\n    │&#160;&#160; ├── maven-test-1.0-SNAPSHOT.pom\r\n    │&#160;&#160; └── _remote.repositories\r\n    └── maven-metadata-local.xml\r\n\r\n```\r\n\r\n### Clean\r\n`mvn clean`\r\n```\r\n[INFO] Scanning for projects...\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Reactor Build Order:\r\n[INFO] \r\n[INFO] maven-test                                                         [pom]\r\n[INFO] build-args Maven Plugin                                   [maven-plugin]\r\n[INFO] call-me                                                            [jar]\r\n[INFO] \r\n[INFO] ------------------------&lt; com.ecorp:maven-test &gt;------------------------\r\n[INFO] Building maven-test 1.0-SNAPSHOT                                   [1/3]\r\n[INFO] --------------------------------[ pom ]---------------------------------\r\n[INFO] \r\n[INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ maven-test ---\r\n[INFO] \r\n[INFO] ------------------------&lt; com.ecorp:build-args &gt;------------------------\r\n[INFO] Building build-args Maven Plugin 1.0-SNAPSHOT                      [2/3]\r\n[INFO] ----------------------------[ maven-plugin ]----------------------------\r\n[INFO] \r\n[INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ build-args ---\r\n[INFO] Deleting /somepath/maven-test/build-args/target\r\n[INFO] \r\n[INFO] -------------------------&lt; com.ecorp:call-me &gt;--------------------------\r\n[INFO] Building call-me 1.0-SNAPSHOT                                      [3/3]\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] \r\n[INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ call-me ---\r\n[INFO] Deleting /somepath/maven-test/call-me/target\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Reactor Summary for maven-test 1.0-SNAPSHOT:\r\n[INFO] \r\n[INFO] maven-test ......................................... SUCCESS [  0.159 s]\r\n[INFO] build-args Maven Plugin ............................ SUCCESS [  0.037 s]\r\n[INFO] call-me ............................................ SUCCESS [  0.015 s]\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  0.322 s\r\n[INFO] Finished at: 2021-12-29T15:11:12-05:00\r\n[INFO] ------------------------------------------------------------------------\r\n```","title":"Maven Multi-Module clean cannot find dependency","body":"<p>As pointed out by @The5thcolumnmouse, instead of using <code>mvn package</code>, if I use <code>mvn install</code> then the resulting jar files are installed into the .m2 repository.  Then when <code>mvn clean</code> is executed, my main app no longer complains about not being able to find my plugin.</p>\n<h3>M2 Repository</h3>\n<pre><code>pizza@hut:~/maven/maven-test$ tree ~/.m2/repository/com/ecorp/\n/somepath/.m2/repository/com/ecorp/\n├── build-args\n│   ├── 1.0-SNAPSHOT\n│   │   ├── build-args-1.0-SNAPSHOT.jar\n│   │   ├── build-args-1.0-SNAPSHOT.pom\n│   │   ├── maven-metadata-local.xml\n│   │   └── _remote.repositories\n│   └── maven-metadata-local.xml\n├── call-me\n│   ├── 1.0-SNAPSHOT\n│   │   ├── call-me-1.0-SNAPSHOT.jar\n│   │   ├── call-me-1.0-SNAPSHOT.pom\n│   │   ├── maven-metadata-local.xml\n│   │   └── _remote.repositories\n│   └── maven-metadata-local.xml\n├── maven-metadata-local.xml\n└── maven-test\n    ├── 1.0-SNAPSHOT\n    │   ├── maven-metadata-local.xml\n    │   ├── maven-test-1.0-SNAPSHOT.pom\n    │   └── _remote.repositories\n    └── maven-metadata-local.xml\n\n</code></pre>\n<h3>Clean</h3>\n<p><code>mvn clean</code></p>\n<pre><code>[INFO] Scanning for projects...\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Build Order:\n[INFO] \n[INFO] maven-test                                                         [pom]\n[INFO] build-args Maven Plugin                                   [maven-plugin]\n[INFO] call-me                                                            [jar]\n[INFO] \n[INFO] ------------------------&lt; com.ecorp:maven-test &gt;------------------------\n[INFO] Building maven-test 1.0-SNAPSHOT                                   [1/3]\n[INFO] --------------------------------[ pom ]---------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ maven-test ---\n[INFO] \n[INFO] ------------------------&lt; com.ecorp:build-args &gt;------------------------\n[INFO] Building build-args Maven Plugin 1.0-SNAPSHOT                      [2/3]\n[INFO] ----------------------------[ maven-plugin ]----------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ build-args ---\n[INFO] Deleting /somepath/maven-test/build-args/target\n[INFO] \n[INFO] -------------------------&lt; com.ecorp:call-me &gt;--------------------------\n[INFO] Building call-me 1.0-SNAPSHOT                                      [3/3]\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ call-me ---\n[INFO] Deleting /somepath/maven-test/call-me/target\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary for maven-test 1.0-SNAPSHOT:\n[INFO] \n[INFO] maven-test ......................................... SUCCESS [  0.159 s]\n[INFO] build-args Maven Plugin ............................ SUCCESS [  0.037 s]\n[INFO] call-me ............................................ SUCCESS [  0.015 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.322 s\n[INFO] Finished at: 2021-12-29T15:11:12-05:00\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n"}],"owner":{"account_id":7991189,"reputation":415,"user_id":6028998,"display_name":"Ron Wellman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":824,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1640809187,"creation_date":1640801604,"question_id":70523328,"body_markdown":"# Problem\r\n`mvn package` is successful but `mvn clean` fails due to dependency artifact not being found in a multi-module project.\r\n\r\n\r\n## Details\r\nI am new to Maven and thus far my Google foo has not been successful.  I&#39;m attempting to learn it through a pet project and its mostly coming along fine.  I am attempting to use Maven to build both a custom plugin and my main App at the same time.  Both are currently generic having been build using the `mvn archetype:generate` for a plugin and a quickstart. Thus far, running `mvn package` works just fine. I can see my plugin being built, and during the process of building my main App, my plugin is executed. This is exactly what I wanted to see. The resulting jar from the main app works fine and the *touch.txt* file that the sample plugin generates is also present.\r\n\r\nHowever, when I attempt `mvn clean`, maven reactor cleans up my plugin first, so when it then cleans up my main App it can&#39;t locate the plugin&#39;s jar file that it just deleted in the previous step and fails. I can&#39;t find where I should specify this order as I thought reactor was supposed to figure this out on its own. Then again, maybe the main App shouldn&#39;t be looking for the plugin jar at all.  Do I need to exclude it during one of the phases? I&#39;ve attempted swapping the order of the modules by changing their order in my parent *pom.xml* file and that didn&#39;t seem to make a difference but I also don&#39;t know if I need to clear out a cache before the swap would have any effect. I feel like I&#39;m missing something fundamental here in my understanding of Maven.  Either way, overly verbose details are below and any help would be greatly appreciated.\r\n\r\n`mvn --version`: \r\n```\r\nApache Maven 3.6.3\r\nMaven home: /usr/share/maven\r\nJava version: 13.0.7, vendor: Private Build, runtime: /usr/lib/jvm/java-13-openjdk-amd64\r\nDefault locale: en_US, platform encoding: UTF-8\r\nOS name: &quot;linux&quot;, version: &quot;5.15.5-76051505-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n```\r\n### Project Directory Structure\r\n\r\nBefore anything is built:\r\n```\r\nmaven-test\r\n    ├── build-args\r\n    │&#160;&#160; ├── pom.xml\r\n    │&#160;&#160; └── src\r\n    │&#160;&#160;     ├── it\r\n    │&#160;&#160;     │&#160;&#160; ├── settings.xml\r\n    │&#160;&#160;     │&#160;&#160; └── simple-it\r\n    │&#160;&#160;     │&#160;&#160;     ├── pom.xml\r\n    │&#160;&#160;     │&#160;&#160;     └── verify.groovy\r\n    │&#160;&#160;     ├── main\r\n    │&#160;&#160;     │&#160;&#160; └── java\r\n    │&#160;&#160;     │&#160;&#160;     └── com\r\n    │&#160;&#160;     │&#160;&#160;         └── ecorp\r\n    │&#160;&#160;     │&#160;&#160;             └── MyMojo.java\r\n    │&#160;&#160;     └── test\r\n    │&#160;&#160;         ├── java\r\n    │&#160;&#160;         │&#160;&#160; └── com\r\n    │&#160;&#160;         │&#160;&#160;     └── ecorp\r\n    │&#160;&#160;         │&#160;&#160;         └── MyMojoTest.java\r\n    │&#160;&#160;         └── resources\r\n    │&#160;&#160;             └── project-to-test\r\n    │&#160;&#160;                 └── pom.xml\r\n    ├── call-me\r\n    │&#160;&#160; ├── pom.xml\r\n    │&#160;&#160; └── src\r\n    │&#160;&#160;     ├── main\r\n    │&#160;&#160;     │&#160;&#160; └── java\r\n    │&#160;&#160;     │&#160;&#160;     └── com\r\n    │&#160;&#160;     │&#160;&#160;         └── ecorp\r\n    │&#160;&#160;     │&#160;&#160;             └── App.java\r\n    │&#160;&#160;     └── test\r\n    │&#160;&#160;         └── java\r\n    │&#160;&#160;             └── com\r\n    │&#160;&#160;                 └── ecorp\r\n    │&#160;&#160;                     └── AppTest.java\r\n    └── pom.xml\r\n```\r\n\r\nAfter Build\r\n```\r\nmaven-test\r\n    ├── build-args\r\n    │&#160;&#160; ├── pom.xml\r\n    │&#160;&#160; ├── src\r\n    │&#160;&#160; │&#160;&#160; ├── it\r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160; ├── settings.xml\r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160; └── simple-it\r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160;     ├── pom.xml\r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160;     └── verify.groovy\r\n    │&#160;&#160; │&#160;&#160; ├── main\r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160; └── java\r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160;     └── com\r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160;         └── ecorp\r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160;             └── MyMojo.java\r\n    │&#160;&#160; │&#160;&#160; └── test\r\n    │&#160;&#160; │&#160;&#160;     ├── java\r\n    │&#160;&#160; │&#160;&#160;     │&#160;&#160; └── com\r\n    │&#160;&#160; │&#160;&#160;     │&#160;&#160;     └── ecorp\r\n    │&#160;&#160; │&#160;&#160;     │&#160;&#160;         └── MyMojoTest.java\r\n    │&#160;&#160; │&#160;&#160;     └── resources\r\n    │&#160;&#160; │&#160;&#160;         └── project-to-test\r\n    │&#160;&#160; │&#160;&#160;             └── pom.xml\r\n    │&#160;&#160; └── target\r\n    │&#160;&#160;     ├── build-args-1.0-SNAPSHOT.jar\r\n    │&#160;&#160;     ├── classes\r\n    │&#160;&#160;     │&#160;&#160; ├── com\r\n    │&#160;&#160;     │&#160;&#160; │&#160;&#160; └── ecorp\r\n    │&#160;&#160;     │&#160;&#160; │&#160;&#160;     ├── HelpMojo.class\r\n    │&#160;&#160;     │&#160;&#160; │&#160;&#160;     └── MyMojo.class\r\n    │&#160;&#160;     │&#160;&#160; └── META-INF\r\n    │&#160;&#160;     │&#160;&#160;     └── maven\r\n    │&#160;&#160;     │&#160;&#160;         ├── com.ecorp\r\n    │&#160;&#160;     │&#160;&#160;         │&#160;&#160; └── build-args\r\n    │&#160;&#160;     │&#160;&#160;         │&#160;&#160;     └── plugin-help.xml\r\n    │&#160;&#160;     │&#160;&#160;         └── plugin.xml\r\n    │&#160;&#160;     ├── generated-sources\r\n    │&#160;&#160;     │&#160;&#160; ├── annotations\r\n    │&#160;&#160;     │&#160;&#160; └── plugin\r\n    │&#160;&#160;     │&#160;&#160;     └── com\r\n    │&#160;&#160;     │&#160;&#160;         └── ecorp\r\n    │&#160;&#160;     │&#160;&#160;             └── HelpMojo.java\r\n    │&#160;&#160;     ├── generated-test-sources\r\n    │&#160;&#160;     │&#160;&#160; └── test-annotations\r\n    │&#160;&#160;     ├── maven-archiver\r\n    │&#160;&#160;     │&#160;&#160; └── pom.properties\r\n    │&#160;&#160;     ├── maven-plugin-help.properties\r\n    │&#160;&#160;     ├── maven-status\r\n    │&#160;&#160;     │&#160;&#160; └── maven-compiler-plugin\r\n    │&#160;&#160;     │&#160;&#160;     ├── compile\r\n    │&#160;&#160;     │&#160;&#160;     │&#160;&#160; └── default-compile\r\n    │&#160;&#160;     │&#160;&#160;     │&#160;&#160;     ├── createdFiles.lst\r\n    │&#160;&#160;     │&#160;&#160;     │&#160;&#160;     └── inputFiles.lst\r\n    │&#160;&#160;     │&#160;&#160;     └── testCompile\r\n    │&#160;&#160;     │&#160;&#160;         └── default-testCompile\r\n    │&#160;&#160;     │&#160;&#160;             ├── createdFiles.lst\r\n    │&#160;&#160;     │&#160;&#160;             └── inputFiles.lst\r\n    │&#160;&#160;     ├── surefire-reports\r\n    │&#160;&#160;     │&#160;&#160; ├── com.ecorp.MyMojoTest.txt\r\n    │&#160;&#160;     │&#160;&#160; └── TEST-com.ecorp.MyMojoTest.xml\r\n    │&#160;&#160;     └── test-classes\r\n    │&#160;&#160;         ├── com\r\n    │&#160;&#160;         │&#160;&#160; └── ecorp\r\n    │&#160;&#160;         │&#160;&#160;     ├── MyMojoTest$1.class\r\n    │&#160;&#160;         │&#160;&#160;     └── MyMojoTest.class\r\n    │&#160;&#160;         └── project-to-test\r\n    │&#160;&#160;             ├── pom.xml\r\n    │&#160;&#160;             └── target\r\n    │&#160;&#160;                 └── touch.txt\r\n    ├── call-me\r\n    │&#160;&#160; ├── pom.xml\r\n    │&#160;&#160; ├── src\r\n    │&#160;&#160; │&#160;&#160; ├── main\r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160; └── java\r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160;     └── com\r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160;         └── ecorp\r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160;             └── App.java\r\n    │&#160;&#160; │&#160;&#160; └── test\r\n    │&#160;&#160; │&#160;&#160;     └── java\r\n    │&#160;&#160; │&#160;&#160;         └── com\r\n    │&#160;&#160; │&#160;&#160;             └── ecorp\r\n    │&#160;&#160; │&#160;&#160;                 └── AppTest.java\r\n    │&#160;&#160; └── target\r\n    │&#160;&#160;     ├── call-me-1.0-SNAPSHOT.jar\r\n    │&#160;&#160;     ├── classes\r\n    │&#160;&#160;     │&#160;&#160; └── com\r\n    │&#160;&#160;     │&#160;&#160;     └── ecorp\r\n    │&#160;&#160;     │&#160;&#160;         └── App.class\r\n    │&#160;&#160;     ├── generated-sources\r\n    │&#160;&#160;     │&#160;&#160; └── annotations\r\n    │&#160;&#160;     ├── generated-test-sources\r\n    │&#160;&#160;     │&#160;&#160; └── test-annotations\r\n    │&#160;&#160;     ├── maven-archiver\r\n    │&#160;&#160;     │&#160;&#160; └── pom.properties\r\n    │&#160;&#160;     ├── maven-status\r\n    │&#160;&#160;     │&#160;&#160; └── maven-compiler-plugin\r\n    │&#160;&#160;     │&#160;&#160;     ├── compile\r\n    │&#160;&#160;     │&#160;&#160;     │&#160;&#160; └── default-compile\r\n    │&#160;&#160;     │&#160;&#160;     │&#160;&#160;     ├── createdFiles.lst\r\n    │&#160;&#160;     │&#160;&#160;     │&#160;&#160;     └── inputFiles.lst\r\n    │&#160;&#160;     │&#160;&#160;     └── testCompile\r\n    │&#160;&#160;     │&#160;&#160;         └── default-testCompile\r\n    │&#160;&#160;     │&#160;&#160;             ├── createdFiles.lst\r\n    │&#160;&#160;     │&#160;&#160;             └── inputFiles.lst\r\n    │&#160;&#160;     ├── surefire-reports\r\n    │&#160;&#160;     │&#160;&#160; ├── com.ecorp.AppTest.txt\r\n    │&#160;&#160;     │&#160;&#160; └── TEST-com.ecorp.AppTest.xml\r\n    │&#160;&#160;     ├── test-classes\r\n    │&#160;&#160;     │&#160;&#160; └── com\r\n    │&#160;&#160;     │&#160;&#160;     └── ecorp\r\n    │&#160;&#160;     │&#160;&#160;         └── AppTest.class\r\n    │&#160;&#160;     └── touch.txt\r\n    └── pom.xml\r\n\r\n71 directories, 40 files\r\npizza@hut:~/maven/maven-test$ java -jar call-me/target/call-me-1.0-SNAPSHOT.jar \r\nHello World!\r\npizza@hut:~/maven/maven-test$ cat call-me/target/touch.txt \r\ntouch.txt\r\n```\r\n\r\n## Package\r\n\r\nIf I manually clean everything up by deleting all of the target folders and then run `mvn package`:\r\n```\r\n[INFO] Reactor Build Order:\r\n[INFO] \r\n[INFO] maven-test                                                         [pom]\r\n[INFO] build-args Maven Plugin                                   [maven-plugin]\r\n[INFO] call-me                                                            [jar]\r\n[INFO] \r\n[INFO] ------------------------&lt; com.ecorp:maven-test &gt;------------------------\r\n[INFO] Building maven-test 1.0-SNAPSHOT                                   [1/3]\r\n[INFO] --------------------------------[ pom ]---------------------------------\r\n[INFO] \r\n[INFO] ------------------------&lt; com.ecorp:build-args &gt;------------------------\r\n[INFO] Building build-args Maven Plugin 1.0-SNAPSHOT                      [2/3]\r\n.........\r\n[INFO] Building call-me 1.0-SNAPSHOT                                      [3/3]\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] \r\n[INFO] --- build-args:1.0-SNAPSHOT:touch (default) @ call-me ---\r\n[INFO] \r\n[INFO] --- maven-resources-plugin:3.0.2:resources (default-resources) @ call-me ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[INFO] skip non existing resourceDirectory /somepath/maven-test/call-me/src/main/resources\r\n[INFO] \r\n[INFO] --- maven-compiler-plugin:3.8.0:compile (default-compile) @ call-me ---\r\n[INFO] Changes detected - recompiling the module!\r\n[INFO] Compiling 1 source file to /somepath/maven-test/call-me/target/classes\r\n.........\r\n[INFO] Reactor Summary for maven-test 1.0-SNAPSHOT:\r\n[INFO] \r\n[INFO] maven-test ......................................... SUCCESS [  0.005 s]\r\n[INFO] build-args Maven Plugin ............................ SUCCESS [  4.101 s]\r\n[INFO] call-me ............................................ SUCCESS [  0.574 s]\r\n```\r\n## Clean\r\n\r\n`mvn clean` exert:\r\n```\r\n[INFO] Reactor Build Order:\r\n[INFO] \r\n[INFO] maven-test                                                         [pom]\r\n[INFO] build-args Maven Plugin                                   [maven-plugin]\r\n[INFO] call-me                                                            [jar]\r\n[INFO] \r\n[INFO] ------------------------&lt; com.ecorp:maven-test &gt;------------------------\r\n[INFO] Building maven-test 1.0-SNAPSHOT                                   [1/3]\r\n[INFO] --------------------------------[ pom ]---------------------------------\r\n[INFO] \r\n[INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ maven-test ---\r\n[INFO] \r\n[INFO] ------------------------&lt; com.ecorp:build-args &gt;------------------------\r\n[INFO] Building build-args Maven Plugin 1.0-SNAPSHOT                      [2/3]\r\n[INFO] ----------------------------[ maven-plugin ]----------------------------\r\n[INFO] \r\n[INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ build-args ---\r\n[INFO] Deleting /somepath/maven-test/build-args/target\r\n[INFO] \r\n[INFO] -------------------------&lt; com.ecorp:call-me &gt;--------------------------\r\n[INFO] Building call-me 1.0-SNAPSHOT                                      [3/3]\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Reactor Summary for maven-test 1.0-SNAPSHOT:\r\n[INFO] \r\n[INFO] maven-test ......................................... SUCCESS [  0.159 s]\r\n[INFO] build-args Maven Plugin ............................ SUCCESS [  0.030 s]\r\n[INFO] call-me ............................................ FAILURE [  0.005 s]\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  0.303 s\r\n[INFO] Finished at: 2021-12-29T12:29:55-05:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Plugin com.ecorp:build-args:1.0-SNAPSHOT or one of its dependencies could not be resolved: Could not find artifact com.ecorp:build-args:jar:1.0-SNAPSHOT -&gt; [Help 1]\r\n```\r\n## POM Files\r\n\r\n### Parent\r\n\r\nHere is a copy of my maven-test *pom.xml* file:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  \r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;com.ecorp&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-test&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;maven-test&lt;/name&gt;\r\n  &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n      \r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n  \r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.11&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n      \r\n  &lt;packaging&gt;pom&lt;/packaging&gt;\r\n  \r\n  &lt;build&gt;\r\n    &lt;pluginManagement&gt;\r\n      &lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n      &lt;plugins&gt;\r\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.22.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;archive&gt;\r\n              &lt;manifest&gt;\r\n                &lt;mainClass&gt;com.ecorp.App&lt;/mainClass&gt;\r\n              &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.8.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.7.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n    \r\n  &lt;modules&gt;\r\n    &lt;module&gt;call-me&lt;/module&gt;\r\n    &lt;module&gt;build-args&lt;/module&gt;\r\n  &lt;/modules&gt;\r\n  \r\n&lt;/project&gt;\r\n```\r\n### Plugin\r\n\r\nHere is a copy of my build-args plugin *pom.xml*:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  \r\n  &lt;parent&gt;\r\n    &lt;artifactId&gt;maven-test&lt;/artifactId&gt;\r\n    &lt;groupId&gt;com.ecorp&lt;/groupId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;/parent&gt;\r\n\r\n  &lt;groupId&gt;com.ecorp&lt;/groupId&gt;\r\n  &lt;artifactId&gt;build-args&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;maven-plugin&lt;/packaging&gt;\r\n\r\n  &lt;name&gt;build-args Maven Plugin&lt;/name&gt;\r\n\r\n  &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n  &lt;prerequisites&gt;\r\n    &lt;maven&gt;${maven.version}&lt;/maven&gt;\r\n  &lt;/prerequisites&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n    &lt;maven.version&gt;3.3.9&lt;/maven.version&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${maven.version}&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-core&lt;/artifactId&gt;\r\n      &lt;version&gt;${maven.version}&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-artifact&lt;/artifactId&gt;\r\n      &lt;version&gt;${maven.version}&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-compat&lt;/artifactId&gt;\r\n      &lt;version&gt;${maven.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt; \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugin-tools&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-plugin-annotations&lt;/artifactId&gt;\r\n      &lt;version&gt;3.6.0&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.12&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugin-testing&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-plugin-testing-harness&lt;/artifactId&gt;\r\n      &lt;version&gt;3.3.0&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.6.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;!-- &lt;goalPrefix&gt;maven-archetype-plugin&lt;/goalPrefix&gt; --&gt;\r\n          &lt;skipErrorNoDescriptorsFound&gt;true&lt;/skipErrorNoDescriptorsFound&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;mojo-descriptor&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;descriptor&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;help-goal&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;helpmojo&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n  &lt;profiles&gt;\r\n    &lt;profile&gt;\r\n      &lt;id&gt;run-its&lt;/id&gt;\r\n      &lt;build&gt;\r\n\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-invoker-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;debug&gt;true&lt;/debug&gt;\r\n              &lt;cloneProjectsTo&gt;${project.build.directory}/it&lt;/cloneProjectsTo&gt;\r\n              &lt;pomIncludes&gt;\r\n                &lt;pomInclude&gt;*/pom.xml&lt;/pomInclude&gt;\r\n              &lt;/pomIncludes&gt;\r\n              &lt;postBuildHookScript&gt;verify&lt;/postBuildHookScript&gt;\r\n              &lt;localRepositoryPath&gt;${project.build.directory}/local-repo&lt;/localRepositoryPath&gt;\r\n              &lt;settingsFile&gt;src/it/settings.xml&lt;/settingsFile&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;clean&lt;/goal&gt;\r\n                &lt;goal&gt;test-compile&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;integration-test&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;install&lt;/goal&gt;\r\n                  &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                  &lt;goal&gt;verify&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/profile&gt;\r\n  &lt;/profiles&gt;\r\n&lt;/project&gt;\r\n```\r\n### Main App\r\n\r\nHere is a copy of my call-me *pom.xml* main app:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;parent&gt;\r\n    &lt;artifactId&gt;maven-test&lt;/artifactId&gt;\r\n    &lt;groupId&gt;com.ecorp&lt;/groupId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;/parent&gt;\r\n\r\n  &lt;groupId&gt;com.ecorp&lt;/groupId&gt;\r\n  &lt;artifactId&gt;call-me&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n  &lt;name&gt;call-me&lt;/name&gt;\r\n  &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.11&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.ecorp&lt;/groupId&gt;\r\n      &lt;artifactId&gt;build-args&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  \r\n  &lt;build&gt;\r\n  &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;com.ecorp&lt;/groupId&gt;\r\n      &lt;artifactId&gt;build-args&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;touch&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n  &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"Maven Multi-Module clean cannot find dependency","body":"<h1>Problem</h1>\n<p><code>mvn package</code> is successful but <code>mvn clean</code> fails due to dependency artifact not being found in a multi-module project.</p>\n<h2>Details</h2>\n<p>I am new to Maven and thus far my Google foo has not been successful.  I'm attempting to learn it through a pet project and its mostly coming along fine.  I am attempting to use Maven to build both a custom plugin and my main App at the same time.  Both are currently generic having been build using the <code>mvn archetype:generate</code> for a plugin and a quickstart. Thus far, running <code>mvn package</code> works just fine. I can see my plugin being built, and during the process of building my main App, my plugin is executed. This is exactly what I wanted to see. The resulting jar from the main app works fine and the <em>touch.txt</em> file that the sample plugin generates is also present.</p>\n<p>However, when I attempt <code>mvn clean</code>, maven reactor cleans up my plugin first, so when it then cleans up my main App it can't locate the plugin's jar file that it just deleted in the previous step and fails. I can't find where I should specify this order as I thought reactor was supposed to figure this out on its own. Then again, maybe the main App shouldn't be looking for the plugin jar at all.  Do I need to exclude it during one of the phases? I've attempted swapping the order of the modules by changing their order in my parent <em>pom.xml</em> file and that didn't seem to make a difference but I also don't know if I need to clear out a cache before the swap would have any effect. I feel like I'm missing something fundamental here in my understanding of Maven.  Either way, overly verbose details are below and any help would be greatly appreciated.</p>\n<p><code>mvn --version</code>:</p>\n<pre><code>Apache Maven 3.6.3\nMaven home: /usr/share/maven\nJava version: 13.0.7, vendor: Private Build, runtime: /usr/lib/jvm/java-13-openjdk-amd64\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;5.15.5-76051505-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\n</code></pre>\n<h3>Project Directory Structure</h3>\n<p>Before anything is built:</p>\n<pre><code>maven-test\n    ├── build-args\n    │   ├── pom.xml\n    │   └── src\n    │       ├── it\n    │       │   ├── settings.xml\n    │       │   └── simple-it\n    │       │       ├── pom.xml\n    │       │       └── verify.groovy\n    │       ├── main\n    │       │   └── java\n    │       │       └── com\n    │       │           └── ecorp\n    │       │               └── MyMojo.java\n    │       └── test\n    │           ├── java\n    │           │   └── com\n    │           │       └── ecorp\n    │           │           └── MyMojoTest.java\n    │           └── resources\n    │               └── project-to-test\n    │                   └── pom.xml\n    ├── call-me\n    │   ├── pom.xml\n    │   └── src\n    │       ├── main\n    │       │   └── java\n    │       │       └── com\n    │       │           └── ecorp\n    │       │               └── App.java\n    │       └── test\n    │           └── java\n    │               └── com\n    │                   └── ecorp\n    │                       └── AppTest.java\n    └── pom.xml\n</code></pre>\n<p>After Build</p>\n<pre><code>maven-test\n    ├── build-args\n    │   ├── pom.xml\n    │   ├── src\n    │   │   ├── it\n    │   │   │   ├── settings.xml\n    │   │   │   └── simple-it\n    │   │   │       ├── pom.xml\n    │   │   │       └── verify.groovy\n    │   │   ├── main\n    │   │   │   └── java\n    │   │   │       └── com\n    │   │   │           └── ecorp\n    │   │   │               └── MyMojo.java\n    │   │   └── test\n    │   │       ├── java\n    │   │       │   └── com\n    │   │       │       └── ecorp\n    │   │       │           └── MyMojoTest.java\n    │   │       └── resources\n    │   │           └── project-to-test\n    │   │               └── pom.xml\n    │   └── target\n    │       ├── build-args-1.0-SNAPSHOT.jar\n    │       ├── classes\n    │       │   ├── com\n    │       │   │   └── ecorp\n    │       │   │       ├── HelpMojo.class\n    │       │   │       └── MyMojo.class\n    │       │   └── META-INF\n    │       │       └── maven\n    │       │           ├── com.ecorp\n    │       │           │   └── build-args\n    │       │           │       └── plugin-help.xml\n    │       │           └── plugin.xml\n    │       ├── generated-sources\n    │       │   ├── annotations\n    │       │   └── plugin\n    │       │       └── com\n    │       │           └── ecorp\n    │       │               └── HelpMojo.java\n    │       ├── generated-test-sources\n    │       │   └── test-annotations\n    │       ├── maven-archiver\n    │       │   └── pom.properties\n    │       ├── maven-plugin-help.properties\n    │       ├── maven-status\n    │       │   └── maven-compiler-plugin\n    │       │       ├── compile\n    │       │       │   └── default-compile\n    │       │       │       ├── createdFiles.lst\n    │       │       │       └── inputFiles.lst\n    │       │       └── testCompile\n    │       │           └── default-testCompile\n    │       │               ├── createdFiles.lst\n    │       │               └── inputFiles.lst\n    │       ├── surefire-reports\n    │       │   ├── com.ecorp.MyMojoTest.txt\n    │       │   └── TEST-com.ecorp.MyMojoTest.xml\n    │       └── test-classes\n    │           ├── com\n    │           │   └── ecorp\n    │           │       ├── MyMojoTest$1.class\n    │           │       └── MyMojoTest.class\n    │           └── project-to-test\n    │               ├── pom.xml\n    │               └── target\n    │                   └── touch.txt\n    ├── call-me\n    │   ├── pom.xml\n    │   ├── src\n    │   │   ├── main\n    │   │   │   └── java\n    │   │   │       └── com\n    │   │   │           └── ecorp\n    │   │   │               └── App.java\n    │   │   └── test\n    │   │       └── java\n    │   │           └── com\n    │   │               └── ecorp\n    │   │                   └── AppTest.java\n    │   └── target\n    │       ├── call-me-1.0-SNAPSHOT.jar\n    │       ├── classes\n    │       │   └── com\n    │       │       └── ecorp\n    │       │           └── App.class\n    │       ├── generated-sources\n    │       │   └── annotations\n    │       ├── generated-test-sources\n    │       │   └── test-annotations\n    │       ├── maven-archiver\n    │       │   └── pom.properties\n    │       ├── maven-status\n    │       │   └── maven-compiler-plugin\n    │       │       ├── compile\n    │       │       │   └── default-compile\n    │       │       │       ├── createdFiles.lst\n    │       │       │       └── inputFiles.lst\n    │       │       └── testCompile\n    │       │           └── default-testCompile\n    │       │               ├── createdFiles.lst\n    │       │               └── inputFiles.lst\n    │       ├── surefire-reports\n    │       │   ├── com.ecorp.AppTest.txt\n    │       │   └── TEST-com.ecorp.AppTest.xml\n    │       ├── test-classes\n    │       │   └── com\n    │       │       └── ecorp\n    │       │           └── AppTest.class\n    │       └── touch.txt\n    └── pom.xml\n\n71 directories, 40 files\npizza@hut:~/maven/maven-test$ java -jar call-me/target/call-me-1.0-SNAPSHOT.jar \nHello World!\npizza@hut:~/maven/maven-test$ cat call-me/target/touch.txt \ntouch.txt\n</code></pre>\n<h2>Package</h2>\n<p>If I manually clean everything up by deleting all of the target folders and then run <code>mvn package</code>:</p>\n<pre><code>[INFO] Reactor Build Order:\n[INFO] \n[INFO] maven-test                                                         [pom]\n[INFO] build-args Maven Plugin                                   [maven-plugin]\n[INFO] call-me                                                            [jar]\n[INFO] \n[INFO] ------------------------&lt; com.ecorp:maven-test &gt;------------------------\n[INFO] Building maven-test 1.0-SNAPSHOT                                   [1/3]\n[INFO] --------------------------------[ pom ]---------------------------------\n[INFO] \n[INFO] ------------------------&lt; com.ecorp:build-args &gt;------------------------\n[INFO] Building build-args Maven Plugin 1.0-SNAPSHOT                      [2/3]\n.........\n[INFO] Building call-me 1.0-SNAPSHOT                                      [3/3]\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- build-args:1.0-SNAPSHOT:touch (default) @ call-me ---\n[INFO] \n[INFO] --- maven-resources-plugin:3.0.2:resources (default-resources) @ call-me ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory /somepath/maven-test/call-me/src/main/resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.8.0:compile (default-compile) @ call-me ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 1 source file to /somepath/maven-test/call-me/target/classes\n.........\n[INFO] Reactor Summary for maven-test 1.0-SNAPSHOT:\n[INFO] \n[INFO] maven-test ......................................... SUCCESS [  0.005 s]\n[INFO] build-args Maven Plugin ............................ SUCCESS [  4.101 s]\n[INFO] call-me ............................................ SUCCESS [  0.574 s]\n</code></pre>\n<h2>Clean</h2>\n<p><code>mvn clean</code> exert:</p>\n<pre><code>[INFO] Reactor Build Order:\n[INFO] \n[INFO] maven-test                                                         [pom]\n[INFO] build-args Maven Plugin                                   [maven-plugin]\n[INFO] call-me                                                            [jar]\n[INFO] \n[INFO] ------------------------&lt; com.ecorp:maven-test &gt;------------------------\n[INFO] Building maven-test 1.0-SNAPSHOT                                   [1/3]\n[INFO] --------------------------------[ pom ]---------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ maven-test ---\n[INFO] \n[INFO] ------------------------&lt; com.ecorp:build-args &gt;------------------------\n[INFO] Building build-args Maven Plugin 1.0-SNAPSHOT                      [2/3]\n[INFO] ----------------------------[ maven-plugin ]----------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ build-args ---\n[INFO] Deleting /somepath/maven-test/build-args/target\n[INFO] \n[INFO] -------------------------&lt; com.ecorp:call-me &gt;--------------------------\n[INFO] Building call-me 1.0-SNAPSHOT                                      [3/3]\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary for maven-test 1.0-SNAPSHOT:\n[INFO] \n[INFO] maven-test ......................................... SUCCESS [  0.159 s]\n[INFO] build-args Maven Plugin ............................ SUCCESS [  0.030 s]\n[INFO] call-me ............................................ FAILURE [  0.005 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.303 s\n[INFO] Finished at: 2021-12-29T12:29:55-05:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Plugin com.ecorp:build-args:1.0-SNAPSHOT or one of its dependencies could not be resolved: Could not find artifact com.ecorp:build-args:jar:1.0-SNAPSHOT -&gt; [Help 1]\n</code></pre>\n<h2>POM Files</h2>\n<h3>Parent</h3>\n<p>Here is a copy of my maven-test <em>pom.xml</em> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  \n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.ecorp&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-test&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;maven-test&lt;/name&gt;\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n      \n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n  \n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n      \n  &lt;packaging&gt;pom&lt;/packaging&gt;\n  \n  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;archive&gt;\n              &lt;manifest&gt;\n                &lt;mainClass&gt;com.ecorp.App&lt;/mainClass&gt;\n              &lt;/manifest&gt;\n            &lt;/archive&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.7.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n    \n  &lt;modules&gt;\n    &lt;module&gt;call-me&lt;/module&gt;\n    &lt;module&gt;build-args&lt;/module&gt;\n  &lt;/modules&gt;\n  \n&lt;/project&gt;\n</code></pre>\n<h3>Plugin</h3>\n<p>Here is a copy of my build-args plugin <em>pom.xml</em>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  \n  &lt;parent&gt;\n    &lt;artifactId&gt;maven-test&lt;/artifactId&gt;\n    &lt;groupId&gt;com.ecorp&lt;/groupId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;/parent&gt;\n\n  &lt;groupId&gt;com.ecorp&lt;/groupId&gt;\n  &lt;artifactId&gt;build-args&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;maven-plugin&lt;/packaging&gt;\n\n  &lt;name&gt;build-args Maven Plugin&lt;/name&gt;\n\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n  &lt;prerequisites&gt;\n    &lt;maven&gt;${maven.version}&lt;/maven&gt;\n  &lt;/prerequisites&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n    &lt;maven.version&gt;3.3.9&lt;/maven.version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\n      &lt;version&gt;${maven.version}&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-core&lt;/artifactId&gt;\n      &lt;version&gt;${maven.version}&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-artifact&lt;/artifactId&gt;\n      &lt;version&gt;${maven.version}&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-compat&lt;/artifactId&gt;\n      &lt;version&gt;${maven.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt; \n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.maven.plugin-tools&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-plugin-annotations&lt;/artifactId&gt;\n      &lt;version&gt;3.6.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.12&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.maven.plugin-testing&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-plugin-testing-harness&lt;/artifactId&gt;\n      &lt;version&gt;3.3.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.6.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;!-- &lt;goalPrefix&gt;maven-archetype-plugin&lt;/goalPrefix&gt; --&gt;\n          &lt;skipErrorNoDescriptorsFound&gt;true&lt;/skipErrorNoDescriptorsFound&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;mojo-descriptor&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;descriptor&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n          &lt;execution&gt;\n            &lt;id&gt;help-goal&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;helpmojo&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n  &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;id&gt;run-its&lt;/id&gt;\n      &lt;build&gt;\n\n        &lt;plugins&gt;\n          &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-invoker-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;configuration&gt;\n              &lt;debug&gt;true&lt;/debug&gt;\n              &lt;cloneProjectsTo&gt;${project.build.directory}/it&lt;/cloneProjectsTo&gt;\n              &lt;pomIncludes&gt;\n                &lt;pomInclude&gt;*/pom.xml&lt;/pomInclude&gt;\n              &lt;/pomIncludes&gt;\n              &lt;postBuildHookScript&gt;verify&lt;/postBuildHookScript&gt;\n              &lt;localRepositoryPath&gt;${project.build.directory}/local-repo&lt;/localRepositoryPath&gt;\n              &lt;settingsFile&gt;src/it/settings.xml&lt;/settingsFile&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;clean&lt;/goal&gt;\n                &lt;goal&gt;test-compile&lt;/goal&gt;\n              &lt;/goals&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n              &lt;execution&gt;\n                &lt;id&gt;integration-test&lt;/id&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;install&lt;/goal&gt;\n                  &lt;goal&gt;integration-test&lt;/goal&gt;\n                  &lt;goal&gt;verify&lt;/goal&gt;\n                &lt;/goals&gt;\n              &lt;/execution&gt;\n            &lt;/executions&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n<h3>Main App</h3>\n<p>Here is a copy of my call-me <em>pom.xml</em> main app:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;parent&gt;\n    &lt;artifactId&gt;maven-test&lt;/artifactId&gt;\n    &lt;groupId&gt;com.ecorp&lt;/groupId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;/parent&gt;\n\n  &lt;groupId&gt;com.ecorp&lt;/groupId&gt;\n  &lt;artifactId&gt;call-me&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;name&gt;call-me&lt;/name&gt;\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.ecorp&lt;/groupId&gt;\n      &lt;artifactId&gt;build-args&lt;/artifactId&gt;\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  \n  &lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;com.ecorp&lt;/groupId&gt;\n      &lt;artifactId&gt;build-args&lt;/artifactId&gt;\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;touch&lt;/goal&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","list","generics","numbers"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1640805157,"post_id":70523903,"comment_id":124664707,"body_markdown":"You want an upper bound for the generic parameter `T`: `T extends Number`. For details, I recommend reading a tutorial on the topic, e.g. [this one from `oracle.com`](https://docs.oracle.com/javase/tutorial/java/generics/bounded.html).","body":"You want an upper bound for the generic parameter <code>T</code>: <code>T extends Number</code>. For details, I recommend reading a tutorial on the topic, e.g. <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/bounded.html\" rel=\"nofollow noreferrer\">this one from <code>oracle.com</code></a>."}],"answers":[{"tags":[],"owner":{"account_id":23778083,"reputation":44,"user_id":17791222,"display_name":"coderwindows03"},"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1640805264,"creation_date":1640805264,"answer_id":70523958,"question_id":70523903,"body_markdown":"check for absolute value of the number, then compare it to the number without abs. if they match, then it&#39;s positive, and if not its negative.\r\n\r\n\r\n\r\nadd the elements that match to another list to have all the positive numbers in the list","title":"Select positives from a list with Generics","body":"<p>check for absolute value of the number, then compare it to the number without abs. if they match, then it's positive, and if not its negative.</p>\n<p>add the elements that match to another list to have all the positive numbers in the list</p>\n"},{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1640805678,"creation_date":1640805678,"answer_id":70524038,"question_id":70523903,"body_markdown":"I modified your code so that it would return a list of positive numbers.\r\n\r\n```\r\n    //public static &lt;T&gt; List&lt;T&gt; selectPositives(List&lt;? extends Number&gt; list) {\r\n    public static &lt;T extends Number&gt; List&lt;T&gt; selectPositives(List&lt;T&gt; list) {\r\n        //T positiveNumber = null;\r\n        List&lt;T&gt; positiveNumbers = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; list.size(); i++) {\r\n            if (list.get(i).doubleValue() &gt; 0) {\r\n                //return (List&lt;T&gt;) positiveNumber;\r\n                positiveNumbers.add(list.get(i));\r\n            }\r\n        }\r\n        return positiveNumbers;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        List&lt;Number&gt; list = List.of(-1,-2,1.5, 3,-4,-5, 6);\r\n        System.out.println(selectPositives(list));\r\n    }\r\n```\r\n\r\nOutput:\r\n```\r\n[1.5, 3, 6]\r\n```\r\n","title":"Select positives from a list with Generics","body":"<p>I modified your code so that it would return a list of positive numbers.</p>\n<pre><code>    //public static &lt;T&gt; List&lt;T&gt; selectPositives(List&lt;? extends Number&gt; list) {\n    public static &lt;T extends Number&gt; List&lt;T&gt; selectPositives(List&lt;T&gt; list) {\n        //T positiveNumber = null;\n        List&lt;T&gt; positiveNumbers = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; list.size(); i++) {\n            if (list.get(i).doubleValue() &gt; 0) {\n                //return (List&lt;T&gt;) positiveNumber;\n                positiveNumbers.add(list.get(i));\n            }\n        }\n        return positiveNumbers;\n    }\n\n    public static void main(String[] args) {\n        \n        List&lt;Number&gt; list = List.of(-1,-2,1.5, 3,-4,-5, 6);\n        System.out.println(selectPositives(list));\n    }\n</code></pre>\n<p>Output:</p>\n<pre><code>[1.5, 3, 6]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640808440,"creation_date":1640808440,"answer_id":70524477,"question_id":70523903,"body_markdown":"Using Stream API, the list of positives may be filtered out of the input:\r\n```java\r\npublic static &lt;T extends Number&gt; List&lt;T&gt; selectPositives(List&lt;T&gt; list) {\r\n    return list.stream()\r\n        .filter(x -&gt; x.doubleValue() &gt; 0.0)\r\n        .collect(Collectors.toList());\r\n} \r\n```\r\nAlso, `List::removeIf` with inverted condition may be applied to the given input/mutable copy of the input:\r\n```java\r\npublic static &lt;T extends Number&gt; List&lt;T&gt; selectPositives(List&lt;T&gt; list) {\r\n\r\n    List&lt;T&gt; result = new ArrayList&lt;&gt;(list);\r\n    \r\n    result.removeIf(x -&gt; x.doubleValue() &lt;= 0);\r\n    \r\n    return result;\r\n}\r\n```","title":"Select positives from a list with Generics","body":"<p>Using Stream API, the list of positives may be filtered out of the input:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T extends Number&gt; List&lt;T&gt; selectPositives(List&lt;T&gt; list) {\n    return list.stream()\n        .filter(x -&gt; x.doubleValue() &gt; 0.0)\n        .collect(Collectors.toList());\n} \n</code></pre>\n<p>Also, <code>List::removeIf</code> with inverted condition may be applied to the given input/mutable copy of the input:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T extends Number&gt; List&lt;T&gt; selectPositives(List&lt;T&gt; list) {\n\n    List&lt;T&gt; result = new ArrayList&lt;&gt;(list);\n    \n    result.removeIf(x -&gt; x.doubleValue() &lt;= 0);\n    \n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":23552843,"reputation":35,"user_id":17595294,"display_name":"Alma Jelena"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":70524038,"answer_count":3,"score":2,"last_activity_date":1640808440,"creation_date":1640804967,"question_id":70523903,"body_markdown":"I am pretty new here, so excuse me if you do not understand my question.(Be nice :D)\r\nSo basically I have to make a method which select positives &quot;numbers&quot; from a list using Generics.\r\n\r\nThe base of the method should look like this :\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; selectPositives(List&lt;? extends Number&gt; list) {\r\n    \r\n            T positiveNumber = null;\r\n            for (int i = 0; i &lt; list.size(); i++) {\r\n                if (list.get(i) &gt; 0) {\r\n                    return (List&lt;T&gt;) positiveNumber;\r\n                }\r\n            }\r\n            return (List&lt;T&gt;) positiveNumber;\r\n        }\r\n\r\nWell obviously this is not working, so I would greatly appreciate any help.\r\nThanks,\r\nAlma","title":"Select positives from a list with Generics","body":"<p>I am pretty new here, so excuse me if you do not understand my question.(Be nice :D)\nSo basically I have to make a method which select positives &quot;numbers&quot; from a list using Generics.</p>\n<p>The base of the method should look like this :</p>\n<pre><code>public static &lt;T&gt; List&lt;T&gt; selectPositives(List&lt;? extends Number&gt; list) {\n\n        T positiveNumber = null;\n        for (int i = 0; i &lt; list.size(); i++) {\n            if (list.get(i) &gt; 0) {\n                return (List&lt;T&gt;) positiveNumber;\n            }\n        }\n        return (List&lt;T&gt;) positiveNumber;\n    }\n</code></pre>\n<p>Well obviously this is not working, so I would greatly appreciate any help.\nThanks,\nAlma</p>\n"},{"tags":["java","properties"],"comments":[{"owner":{"account_id":16290392,"reputation":341,"user_id":11937776,"display_name":"m3r1v3"},"score":0,"creation_date":1640808132,"post_id":70524389,"comment_id":124665622,"body_markdown":"You can use regular expressions. It helps find necessary value. [About regex in Java](https://www.tutorialspoint.com/java/java_regular_expressions.htm)","body":"You can use regular expressions. It helps find necessary value. <a href=\"https://www.tutorialspoint.com/java/java_regular_expressions.htm\" rel=\"nofollow noreferrer\">About regex in Java</a>"},{"owner":{"account_id":404578,"reputation":2475,"user_id":772992,"accept_rate":80,"display_name":"hradecek"},"score":0,"creation_date":1640813762,"post_id":70524389,"comment_id":124667257,"body_markdown":"You might use https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html with combination of `System.getenv()` (but commons-text uses `${VAR:-defaultValue}`, just like BASH, so you have to change format)","body":"You might use <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-text/javadocs/api-release/&zwnj;&#8203;org/&hellip;</a> with combination of <code>System.getenv()</code> (but commons-text uses <code>${VAR:-defaultValue}</code>, just like BASH, so you have to change format)"}],"owner":{"account_id":5963324,"reputation":61,"user_id":4687788,"display_name":"Богдан Ляховецкий"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640807856,"creation_date":1640807856,"question_id":70524389,"body_markdown":"I have a property file such like this\r\n\r\n    human.name=${HUMAN_NAME:defaultName}\r\n    human.age=${HUMAN_AGE}\r\n    human.def=Value\r\n\r\nI need to read it on runtime in java without the spring framework.\r\nIs there a method how to achieve this?","title":"Read property file values with environment variables","body":"<p>I have a property file such like this</p>\n<pre><code>human.name=${HUMAN_NAME:defaultName}\nhuman.age=${HUMAN_AGE}\nhuman.def=Value\n</code></pre>\n<p>I need to read it on runtime in java without the spring framework.\nIs there a method how to achieve this?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1640806935,"post_id":70524214,"comment_id":124665245,"body_markdown":"Does this answer your question? [What is PECS (Producer Extends Consumer Super)?](https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super\">What is PECS (Producer Extends Consumer Super)?</a>"},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1640806963,"post_id":70524214,"comment_id":124665253,"body_markdown":"https://docs.oracle.com/javase/tutorial/java/generics/subtyping.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/generics/subtyping.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/generics/subtyping.html</a>"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1640807150,"post_id":70524214,"comment_id":124665311,"body_markdown":"To the closer-voters: OP clearly isn&#39;t struggling with PECS, nor with specifically why `&lt;? super T&gt;` instead of just `&lt;T&gt;`; op simply wants an explanation for why Comparable even has generics.","body":"To the closer-voters: OP clearly isn&#39;t struggling with PECS, nor with specifically why <code>&lt;? super T&gt;</code> instead of just <code>&lt;T&gt;</code>; op simply wants an explanation for why Comparable even has generics."},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1640807327,"post_id":70524214,"comment_id":124665371,"body_markdown":"How is it that these close votes are not registering?","body":"How is it that these close votes are not registering?"},{"owner":{"account_id":11421497,"reputation":58712,"user_id":8372853,"display_name":"cigien"},"score":0,"creation_date":1640807490,"post_id":70524214,"comment_id":124665422,"body_markdown":"@RobertHarvey The close votes registered, but the question has been reopened now.","body":"@RobertHarvey The close votes registered, but the question has been reopened now."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1640807565,"post_id":70524214,"comment_id":124665453,"body_markdown":"@rzwitserloot I do not see any indication that this is the actual question. As-is, the question is then at least unclear.","body":"@rzwitserloot I do not see any indication that this is the actual question. As-is, the question is then at least unclear."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1640813835,"post_id":70524214,"comment_id":124667276,"body_markdown":"OP literally says: `&lt;T extends Comparable&gt;`, in code quotes and everything, @Turing85. Note, not `&lt;T extends Comparable&lt;T&gt;&gt;`, hence not an &#39;exact duplicate&#39;. Barely the same ballpark.","body":"OP literally says: <code>&lt;T extends Comparable&gt;</code>, in code quotes and everything, @Turing85. Note, not <code>&lt;T extends Comparable&lt;T&gt;&gt;</code>, hence not an &#39;exact duplicate&#39;. Barely the same ballpark."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1640844360,"post_id":70524214,"comment_id":124672500,"body_markdown":"@rzwitserloot For me, it&#39;s unclear whether OP does not understand why `Comparable` is generic or why we use `? super T`, hence for me the question is unclear. But you answer covers both, so... it doesn&#39;t matter.","body":"@rzwitserloot For me, it&#39;s unclear whether OP does not understand why <code>Comparable</code> is generic or why we use <code>? super T</code>, hence for me the question is unclear. But you answer covers both, so... it doesn&#39;t matter."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640807581,"creation_date":1640807581,"answer_id":70524344,"question_id":70524214,"body_markdown":"Forget about `Pair` for a moment. Let&#39;s just look at `Comparable`. Initially one might think Comparable needs no parameters. But there&#39;s a problem in that. What does the signature of `compareTo` (as in `a.compareTo(b)`) look like?\r\n\r\nPerhaps:\r\n\r\n```java\r\n/**\r\n * Return negative if a is &#39;before&#39; b, positive if a is &#39;after&#39; b,\r\n * and 0 if they are equal in ranking.\r\n */\r\n public int compareTo(Object other);\r\n}\r\n```\r\n\r\nBut this is problematic: Now for e.g. `Double` to implement Comparable, it needs to be capable of answering that question for __any type__. so if I try to compare a Double with value 4.5 against, say, an InputStream - that&#39;s a nonsensical question. Asking to compare guns and grandmas.\r\n\r\nSo, we&#39;d strongly prefer for the signature to be:\r\n\r\n```java\r\n/**\r\n * Return negative if a is &#39;before&#39; b, positive if a is &#39;after&#39; b,\r\n * and 0 if they are equal in ranking.\r\n */\r\n public int compareTo(Double other);\r\n}\r\n```\r\n\r\nBut how? We can&#39;t make a new `Comparator` interface for every type in existence, and there is nothing in java that means &#39;your own type&#39;.\r\n\r\nGenerics to the rescue! Let&#39;s make a generics parameter that represents the type against which you can compare yourself:\r\n\r\n```java\r\npublic interface Comparable&lt;T&gt; {\r\n  public int compareTo(T other);\r\n```\r\n\r\nAnd let&#39;s implement it in double:\r\n\r\n```\r\npublic class Double extends Number implements Comparable&lt;Double&gt; {\r\n ...\r\n```\r\n\r\nWe&#39;re going to read the type `Comparable` as: &quot;Comparables of foos&quot;, which means: Things which can be compared against things that have the Foo type. (And generally, we just mean Foos with that; we are interested in comparing oranges to oranges, of course).\r\n\r\nNow lets stick it back into `Pair`. We can&#39;t write `Pair&lt;Comparable&gt;` for the same reason you can&#39;t write `List&lt;List&gt;`. Yes, it&#39;ll compile, but you get severe warnings: After all, okay a list of lists. But what are the lists in the lists listing? You&#39;d write `List&lt;List&lt;String&gt;&gt;`: A list of lists of strings. Same applies to comparables: It&#39;s not just a Pair of Comparables, it&#39;s a Pair of Comparables of Foos. A `Pair&lt;Comparable&lt;String&gt;&gt;` means: I have a pair of 2 things, each of which is of some type that knows how to compare itself to strings. (And, spoiler alert, only `java.lang.String` fits that bill).\r\n\r\nThat juust leaves 2 problems:\r\n\r\n1. Why is it `Pair&lt;? extends Comparable&lt;..&gt;&gt;` and not just `Pair&lt;Comparable&gt;`\r\n2. Why is it `Pair&lt;... Comparable&lt;? super T&gt;&gt;` and not just `Comparable&lt;T&gt;`?\r\n\r\nThe answers to these:\r\n1. Because of PECS. See the linked answer in the comments.\r\n2. This is rarely relevant, but in theory, if you have some object of a type that is capable of comparing itself to some SUPERtype of strings (let&#39;s say &#39;can compare itself to any object of any type&#39;), well, that&#39;d.. be just fine. We want anything that knows what to do when I feed it: Hey, compare yourself to this thingie, and the thingie is of type T. Whatever that might be. If the thingie can compare itself to some supertype of T, that&#39;s totally fine. All Integers are also Numbers - all Ts are also any supertype of T.\r\n","title":"Using wildcards in Java generics","body":"<p>Forget about <code>Pair</code> for a moment. Let's just look at <code>Comparable</code>. Initially one might think Comparable needs no parameters. But there's a problem in that. What does the signature of <code>compareTo</code> (as in <code>a.compareTo(b)</code>) look like?</p>\n<p>Perhaps:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Return negative if a is 'before' b, positive if a is 'after' b,\n * and 0 if they are equal in ranking.\n */\n public int compareTo(Object other);\n}\n</code></pre>\n<p>But this is problematic: Now for e.g. <code>Double</code> to implement Comparable, it needs to be capable of answering that question for <strong>any type</strong>. so if I try to compare a Double with value 4.5 against, say, an InputStream - that's a nonsensical question. Asking to compare guns and grandmas.</p>\n<p>So, we'd strongly prefer for the signature to be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Return negative if a is 'before' b, positive if a is 'after' b,\n * and 0 if they are equal in ranking.\n */\n public int compareTo(Double other);\n}\n</code></pre>\n<p>But how? We can't make a new <code>Comparator</code> interface for every type in existence, and there is nothing in java that means 'your own type'.</p>\n<p>Generics to the rescue! Let's make a generics parameter that represents the type against which you can compare yourself:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Comparable&lt;T&gt; {\n  public int compareTo(T other);\n</code></pre>\n<p>And let's implement it in double:</p>\n<pre><code>public class Double extends Number implements Comparable&lt;Double&gt; {\n ...\n</code></pre>\n<p>We're going to read the type <code>Comparable</code> as: &quot;Comparables of foos&quot;, which means: Things which can be compared against things that have the Foo type. (And generally, we just mean Foos with that; we are interested in comparing oranges to oranges, of course).</p>\n<p>Now lets stick it back into <code>Pair</code>. We can't write <code>Pair&lt;Comparable&gt;</code> for the same reason you can't write <code>List&lt;List&gt;</code>. Yes, it'll compile, but you get severe warnings: After all, okay a list of lists. But what are the lists in the lists listing? You'd write <code>List&lt;List&lt;String&gt;&gt;</code>: A list of lists of strings. Same applies to comparables: It's not just a Pair of Comparables, it's a Pair of Comparables of Foos. A <code>Pair&lt;Comparable&lt;String&gt;&gt;</code> means: I have a pair of 2 things, each of which is of some type that knows how to compare itself to strings. (And, spoiler alert, only <code>java.lang.String</code> fits that bill).</p>\n<p>That juust leaves 2 problems:</p>\n<ol>\n<li>Why is it <code>Pair&lt;? extends Comparable&lt;..&gt;&gt;</code> and not just <code>Pair&lt;Comparable&gt;</code></li>\n<li>Why is it <code>Pair&lt;... Comparable&lt;? super T&gt;&gt;</code> and not just <code>Comparable&lt;T&gt;</code>?</li>\n</ol>\n<p>The answers to these:</p>\n<ol>\n<li>Because of PECS. See the linked answer in the comments.</li>\n<li>This is rarely relevant, but in theory, if you have some object of a type that is capable of comparing itself to some SUPERtype of strings (let's say 'can compare itself to any object of any type'), well, that'd.. be just fine. We want anything that knows what to do when I feed it: Hey, compare yourself to this thingie, and the thingie is of type T. Whatever that might be. If the thingie can compare itself to some supertype of T, that's totally fine. All Integers are also Numbers - all Ts are also any supertype of T.</li>\n</ol>\n"}],"owner":{"account_id":12092932,"reputation":55,"user_id":8838185,"display_name":"Stijn Klijn"},"comment_count":8,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1640824370,"accepted_answer_id":70524344,"answer_count":1,"score":-1,"last_activity_date":1640807581,"creation_date":1640806779,"question_id":70524214,"body_markdown":"I am studying Java Generics using the book &quot;*Introduction to Java Programming and Data Structures*&quot; by Y. Daniel Liang, and I don&#39;t understand one of the exercises:\r\n\r\n&quot;*19.3 (Pair of objects of the same type) Create a Pair class that encapsulates two objects \r\nof the same data type in an instance of Pair.*\r\n \r\n*19.4 (Using wildcards) Write a generic static method that returns the smallest value in an \r\ninstance of Pair from Programming Exercise 19.3.*&quot;\r\n\r\nThe solution code is as follows:\r\n\r\n```\r\n\r\npublic class Exercise19_04 {\r\n\r\n    public static class Pair&lt;T&gt; {\r\n        public final T one;\r\n        public final T two;\r\n\r\n        public Pair(T one, T two) {\r\n            this.one = one;\r\n            this.two = two;\r\n        }\r\n    }\r\n    \r\n    public static class Main {\r\n        // To have the smallest between two objects, they need to be comparable.\r\n        public static &lt;T extends Comparable&lt;? super T&gt;&gt; T smallest(Pair&lt;T&gt; p) {\r\n            if (p.one.compareTo(p.two) &lt; 0) {\r\n                return p.one;\r\n            } else {\r\n                return p.two;\r\n            }\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            Pair&lt;Double&gt; pd = new Pair&lt;&gt;(7.0, 6.3);\r\n            System.out.println(smallest(pd));\r\n            Pair&lt;String&gt; ps = new Pair&lt;&gt;(&quot;big&quot;, &quot;small&quot;);\r\n            System.out.println(smallest(ps));\r\n            /* Lines below are not compilable because Color is not comparable\r\n            Pair&lt;String&gt; pc = new Pair&lt;&gt;(java.awt.Color.BLUE, java.awt.Color.RED);\r\n            System.out.println(smallest(ps));*/\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nMy problem is with the method declaration `public static &lt;T extends Comparable&lt;? super T&gt;&gt; T smallest(Pair&lt;T&gt; p)`\r\n\r\nI understand that in order to compare the objects T within an instance of Pair, T must be an instance of Comparable and therefore you have to declare `&lt;T extends Comparable&gt;`. However I don&#39;t understand the `&lt;? super T&gt;` part thereafter. Can somebody explain this to me? Thanks in advance! ","title":"Using wildcards in Java generics","body":"<p>I am studying Java Generics using the book &quot;<em>Introduction to Java Programming and Data Structures</em>&quot; by Y. Daniel Liang, and I don't understand one of the exercises:</p>\n<p>&quot;<em>19.3 (Pair of objects of the same type) Create a Pair class that encapsulates two objects\nof the same data type in an instance of Pair.</em></p>\n<p><em>19.4 (Using wildcards) Write a generic static method that returns the smallest value in an\ninstance of Pair from Programming Exercise 19.3.</em>&quot;</p>\n<p>The solution code is as follows:</p>\n<pre><code>\npublic class Exercise19_04 {\n\n    public static class Pair&lt;T&gt; {\n        public final T one;\n        public final T two;\n\n        public Pair(T one, T two) {\n            this.one = one;\n            this.two = two;\n        }\n    }\n    \n    public static class Main {\n        // To have the smallest between two objects, they need to be comparable.\n        public static &lt;T extends Comparable&lt;? super T&gt;&gt; T smallest(Pair&lt;T&gt; p) {\n            if (p.one.compareTo(p.two) &lt; 0) {\n                return p.one;\n            } else {\n                return p.two;\n            }\n        }\n        \n        public static void main(String[] args) {\n            Pair&lt;Double&gt; pd = new Pair&lt;&gt;(7.0, 6.3);\n            System.out.println(smallest(pd));\n            Pair&lt;String&gt; ps = new Pair&lt;&gt;(&quot;big&quot;, &quot;small&quot;);\n            System.out.println(smallest(ps));\n            /* Lines below are not compilable because Color is not comparable\n            Pair&lt;String&gt; pc = new Pair&lt;&gt;(java.awt.Color.BLUE, java.awt.Color.RED);\n            System.out.println(smallest(ps));*/\n        }\n    }\n}\n\n</code></pre>\n<p>My problem is with the method declaration <code>public static &lt;T extends Comparable&lt;? super T&gt;&gt; T smallest(Pair&lt;T&gt; p)</code></p>\n<p>I understand that in order to compare the objects T within an instance of Pair, T must be an instance of Comparable and therefore you have to declare <code>&lt;T extends Comparable&gt;</code>. However I don't understand the <code>&lt;? super T&gt;</code> part thereafter. Can somebody explain this to me? Thanks in advance!</p>\n"},{"tags":["java","for-loop","recursion","label"],"comments":[{"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"score":0,"creation_date":1640806436,"post_id":70524117,"comment_id":124665096,"body_markdown":"Does your recursive method return something? You would want to break out from the loop based on the return of the method.","body":"Does your recursive method return something? You would want to break out from the loop based on the return of the method."},{"owner":{"account_id":23258822,"reputation":23,"user_id":17345442,"display_name":"FridolinJ"},"score":0,"creation_date":1640806704,"post_id":70524117,"comment_id":124665176,"body_markdown":"The recursive method is a void, so it currently does not return something. It could be an idea to return a boolean, false if the case is not reached and true if it was reached. Is that true, and what would I have to add in the for-loop?","body":"The recursive method is a void, so it currently does not return something. It could be an idea to return a boolean, false if the case is not reached and true if it was reached. Is that true, and what would I have to add in the for-loop?"},{"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"score":0,"creation_date":1640806975,"post_id":70524117,"comment_id":124665256,"body_markdown":"Something like that,  see the answer from @Peter Trencansky.","body":"Something like that,  see the answer from @Peter Trencansky."},{"owner":{"account_id":23258822,"reputation":23,"user_id":17345442,"display_name":"FridolinJ"},"score":0,"creation_date":1640807322,"post_id":70524117,"comment_id":124665369,"body_markdown":"Thanks for your help, thanks a lot!","body":"Thanks for your help, thanks a lot!"}],"answers":[{"tags":[],"owner":{"account_id":23741005,"reputation":373,"user_id":17759066,"display_name":"Peter Trencansky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640806773,"creation_date":1640806773,"answer_id":70524213,"question_id":70524117,"body_markdown":"You probably want to return boolean from your recursive method. E. g. true means that recursive call8ng should stop and exit loop\r\n\r\n\r\n    for (int i = 0, i &lt; 100 ; i++) {\r\n        //do something\r\n        if(recursivemethod(...))\r\n            break;\r\n     }\r\n\r\n\r\nRecursive method \r\n\r\n    boolean  recursivemethod (...) {\r\n        for (int i = 0; i &lt; 10 ; i++) {\r\n        //do something\r\n        if (case reached) {return true;}\r\n        else {return recursivemethod(modified)}\r\n        return false;\r\n    \r\n        }\r\n    }","title":"Jumping out of for-loop including a recursive method with for-loop (Java)","body":"<p>You probably want to return boolean from your recursive method. E. g. true means that recursive call8ng should stop and exit loop</p>\n<pre><code>for (int i = 0, i &lt; 100 ; i++) {\n    //do something\n    if(recursivemethod(...))\n        break;\n }\n</code></pre>\n<p>Recursive method</p>\n<pre><code>boolean  recursivemethod (...) {\n    for (int i = 0; i &lt; 10 ; i++) {\n    //do something\n    if (case reached) {return true;}\n    else {return recursivemethod(modified)}\n    return false;\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23258822,"reputation":23,"user_id":17345442,"display_name":"FridolinJ"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70524213,"answer_count":1,"score":1,"last_activity_date":1640806773,"creation_date":1640806161,"question_id":70524117,"body_markdown":"This is my first post, so sorry if I post incorrect or incomplete, I will answer every question and I am open for improvements.\r\n\r\nMy main method has a for-loop with a recursive method in it, the recursive method also has a for-loop (the recursive method basically replaces a lot of nested for-loops). When a specific case is reached, I want to jump out of the recursive method and out of the for-loop in my main. For visualization:\r\n\r\n    \r\n    public static void main(..)\r\n\r\n    for (int i = 0, i &lt; 100 ; i++) {\r\n       //do something\r\n       recursivemethod(...)\r\n    }\r\n    //jump here, if case in method is reached\r\n    ------------------------\r\n    recursivemethod (...) \r\n    for (int i = 0; i &lt; 10 ; i++) {\r\n        //do something\r\n        if (case reached) {//jump out of loop in main}\r\n        else {recursivemethod(modified)}\r\n        \r\n    }\r\n\r\nAs I cannot label my for-loop in main and ```break Label;``` in my method (to my knowledge), I tried using a boolean, but because of for-loops and/or recursive call, boolean switches back and has not the wanted effect.\r\n\r\nThere was a [similar question](https://stackoverflow.com/questions/33595545/define-a-label-in-the-main-and-use-it-in-another-method) where the user later added his solution, but didn&#39;t specify it enough for me to understand and how to implement this in my code, the user was last seen years ago, so I cannot ask him. Can someone please help me?\r\n\r\nThanks a lot in advance!","title":"Jumping out of for-loop including a recursive method with for-loop (Java)","body":"<p>This is my first post, so sorry if I post incorrect or incomplete, I will answer every question and I am open for improvements.</p>\n<p>My main method has a for-loop with a recursive method in it, the recursive method also has a for-loop (the recursive method basically replaces a lot of nested for-loops). When a specific case is reached, I want to jump out of the recursive method and out of the for-loop in my main. For visualization:</p>\n<pre><code>public static void main(..)\n\nfor (int i = 0, i &lt; 100 ; i++) {\n   //do something\n   recursivemethod(...)\n}\n//jump here, if case in method is reached\n------------------------\nrecursivemethod (...) \nfor (int i = 0; i &lt; 10 ; i++) {\n    //do something\n    if (case reached) {//jump out of loop in main}\n    else {recursivemethod(modified)}\n    \n}\n</code></pre>\n<p>As I cannot label my for-loop in main and <code>break Label;</code> in my method (to my knowledge), I tried using a boolean, but because of for-loops and/or recursive call, boolean switches back and has not the wanted effect.</p>\n<p>There was a <a href=\"https://stackoverflow.com/questions/33595545/define-a-label-in-the-main-and-use-it-in-another-method\">similar question</a> where the user later added his solution, but didn't specify it enough for me to understand and how to implement this in my code, the user was last seen years ago, so I cannot ask him. Can someone please help me?</p>\n<p>Thanks a lot in advance!</p>\n"},{"tags":["java","maven","gradle","jar","repository"],"comments":[{"owner":{"account_id":5583247,"reputation":498,"user_id":4424668,"display_name":"edean"},"score":0,"creation_date":1638562321,"post_id":70220102,"comment_id":124130793,"body_markdown":"Which platform do you run? I would suggest doing it with a bash script, to be honest. However for Windows I cannot come up with a solution due to my lack of competence in Win scripting &#128517;.","body":"Which platform do you run? I would suggest doing it with a bash script, to be honest. However for Windows I cannot come up with a solution due to my lack of competence in Win scripting 😅."},{"owner":{"account_id":10230140,"reputation":659,"user_id":7551211,"display_name":"user7551211"},"score":0,"creation_date":1638562646,"post_id":70220102,"comment_id":124130892,"body_markdown":"A script would be fine. A solution like you suggest is exactly what I&#39;m looking for, even though it sounds weird that the Java ecosystem wouldn&#39;t offer an easier way.","body":"A script would be fine. A solution like you suggest is exactly what I&#39;m looking for, even though it sounds weird that the Java ecosystem wouldn&#39;t offer an easier way."}],"answers":[{"tags":[],"owner":{"account_id":5583247,"reputation":498,"user_id":4424668,"display_name":"edean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638635090,"creation_date":1638566237,"answer_id":70220774,"question_id":70220102,"body_markdown":"I made you wait a little, however I come up with a solution at this point. Have a look at this bash script:\r\n```bash\r\n#!/usr/bin/env sh\r\nPWD=$( pwd )\r\nJARS=$( find $PWD -name &#39;*.jar&#39; )\r\nfor JARFILE in $JARS\r\ndo\r\n    echo &quot;found JAR: $JARFILE&quot;;\r\n    mkdir -p $PWD/extracted/$JARFILE/;\r\n    unzip $JARFILE -d $PWD/extracted/ &amp;&gt; /dev/null;\r\n    if [ -d &quot;$PWD/extracted/META-INF/maven/&quot; ]; then\r\n        POMPROPS=$( find $PWD/extracted/META-INF/maven -name &#39;pom.properties&#39; );\r\n        echo &quot;found POMPROPS: $POMPROPS&quot;;\r\n        POMXML=$( find $PWD/extracted/META-INF/maven -name &#39;pom.xml&#39; );\r\n        echo &quot;found POMXML: $POMXML&quot;;\r\n        ARTIFACTID=$( grep &#39;artifactId&#39; $POMPROPS | cut -d&#39;=&#39; -f2 | tr -d &#39;\\r&#39; );\r\n        GROUPID=$( grep &#39;groupId&#39; $POMPROPS | cut -d&#39;=&#39; -f2 | tr -d &#39;\\r&#39; );\r\n        VERSION=$( grep &#39;version&#39; $POMPROPS | cut -d&#39;=&#39; -f2 | tr -d &#39;\\r&#39; );\r\n        if [[ -f $POMPROPS &amp;&amp; -f $POMXML ]]; then\r\n            GROUPDIR=$( sed &#39;s/\\./\\//g&#39; &lt;&lt;&lt;$GROUPID);\r\n            echo &quot;Group dir: &quot;$GROUPDIR;\r\n            mkdir -p ~/.m2test/repository/$GROUPDIR/$ARTIFACTID/$VERSION/\r\n            cp $POMXML ~/.m2test/repository/$GROUPDIR/$ARTIFACTID/$VERSION/$ARTIFACTID-$VERSION.pom\r\n            cp $JARFILE ~/.m2test/repository/$GROUPDIR/$ARTIFACTID/$VERSION/$ARTIFACTID-$VERSION.jar\r\n        else\r\n            echo &quot;did not find pom properties and/or xml &quot;\r\n            echo &quot;$JARFILE: did not find pom properties and/or xml&quot; &gt;&gt; log.txt\r\n        fi\r\n    else\r\n        echo &quot;$JARFILE: no maven directory found&quot; &gt;&gt; log.txt\r\n    fi\r\n    rm -rf $PWD/extracted/;\r\ndone\r\n```\r\n\r\nFirst have a look at it and understand it, please. You should not run any script, without understanding it. Of course I don&#39;t want to screw you, but always be cautious &#128515;. You must have sed, grep and unzip installed. However most distributions should have that on board. \r\n\r\nJust run that script, when in a terminal inside of the directory. It should organize your JARs inside of `~/.m2test`. If some files were not found, it will be logged inside `log.txt`. Eventually, you can copy-paste or move the files from `~/.m2test` to `~/.m2` as soon, as you are optimistic, it worked out. \r\n\r\nAnd of course: Always do make backups (of your `~/.m2` in this case) &#128513;!\r\n\r\nThis - of course - only works, if your JARs have that `maven` directory in `META-INF`. If it doesn&#39;t, I don&#39;t have a better guess, how to organize it into the local repository. \r\n","title":"Gradle how to turn a flat directory of massive amount of jar files to the .m2/repository structure?","body":"<p>I made you wait a little, however I come up with a solution at this point. Have a look at this bash script:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>#!/usr/bin/env sh\nPWD=$( pwd )\nJARS=$( find $PWD -name '*.jar' )\nfor JARFILE in $JARS\ndo\n    echo &quot;found JAR: $JARFILE&quot;;\n    mkdir -p $PWD/extracted/$JARFILE/;\n    unzip $JARFILE -d $PWD/extracted/ &amp;&gt; /dev/null;\n    if [ -d &quot;$PWD/extracted/META-INF/maven/&quot; ]; then\n        POMPROPS=$( find $PWD/extracted/META-INF/maven -name 'pom.properties' );\n        echo &quot;found POMPROPS: $POMPROPS&quot;;\n        POMXML=$( find $PWD/extracted/META-INF/maven -name 'pom.xml' );\n        echo &quot;found POMXML: $POMXML&quot;;\n        ARTIFACTID=$( grep 'artifactId' $POMPROPS | cut -d'=' -f2 | tr -d '\\r' );\n        GROUPID=$( grep 'groupId' $POMPROPS | cut -d'=' -f2 | tr -d '\\r' );\n        VERSION=$( grep 'version' $POMPROPS | cut -d'=' -f2 | tr -d '\\r' );\n        if [[ -f $POMPROPS &amp;&amp; -f $POMXML ]]; then\n            GROUPDIR=$( sed 's/\\./\\//g' &lt;&lt;&lt;$GROUPID);\n            echo &quot;Group dir: &quot;$GROUPDIR;\n            mkdir -p ~/.m2test/repository/$GROUPDIR/$ARTIFACTID/$VERSION/\n            cp $POMXML ~/.m2test/repository/$GROUPDIR/$ARTIFACTID/$VERSION/$ARTIFACTID-$VERSION.pom\n            cp $JARFILE ~/.m2test/repository/$GROUPDIR/$ARTIFACTID/$VERSION/$ARTIFACTID-$VERSION.jar\n        else\n            echo &quot;did not find pom properties and/or xml &quot;\n            echo &quot;$JARFILE: did not find pom properties and/or xml&quot; &gt;&gt; log.txt\n        fi\n    else\n        echo &quot;$JARFILE: no maven directory found&quot; &gt;&gt; log.txt\n    fi\n    rm -rf $PWD/extracted/;\ndone\n</code></pre>\n<p>First have a look at it and understand it, please. You should not run any script, without understanding it. Of course I don't want to screw you, but always be cautious 😃. You must have sed, grep and unzip installed. However most distributions should have that on board.</p>\n<p>Just run that script, when in a terminal inside of the directory. It should organize your JARs inside of <code>~/.m2test</code>. If some files were not found, it will be logged inside <code>log.txt</code>. Eventually, you can copy-paste or move the files from <code>~/.m2test</code> to <code>~/.m2</code> as soon, as you are optimistic, it worked out.</p>\n<p>And of course: Always do make backups (of your <code>~/.m2</code> in this case) 😁!</p>\n<p>This - of course - only works, if your JARs have that <code>maven</code> directory in <code>META-INF</code>. If it doesn't, I don't have a better guess, how to organize it into the local repository.</p>\n"}],"owner":{"account_id":10230140,"reputation":659,"user_id":7551211,"display_name":"user7551211"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70220774,"answer_count":1,"score":3,"last_activity_date":1640806694,"creation_date":1638562001,"question_id":70220102,"body_markdown":"I wonder how can I quickly take a directory in my computer that contains 1K jars, and let Gradle structure it to the Maven `.m2/repository` structure. I&#39;ve read of the [Gradle publishing](https://docs.gradle.org/current/userguide/userguide_single.html#publishing_maven) feature, but it seems pretty impossible to use when the amount of jars is that big because they are not taking the information from the META-INF, but want the user to specify the group ID and other details.","title":"Gradle how to turn a flat directory of massive amount of jar files to the .m2/repository structure?","body":"<p>I wonder how can I quickly take a directory in my computer that contains 1K jars, and let Gradle structure it to the Maven <code>.m2/repository</code> structure. I've read of the <a href=\"https://docs.gradle.org/current/userguide/userguide_single.html#publishing_maven\" rel=\"nofollow noreferrer\">Gradle publishing</a> feature, but it seems pretty impossible to use when the amount of jars is that big because they are not taking the information from the META-INF, but want the user to specify the group ID and other details.</p>\n"},{"tags":["java","owl","owl-api","description-logic","hermit"],"comments":[{"owner":{"account_id":529247,"reputation":10544,"user_id":1197045,"display_name":"Ignazio"},"score":0,"creation_date":1640856666,"post_id":70522483,"comment_id":124675332,"body_markdown":"You&#39;re not using HermiT. The StructuralReasonerFactory class is an OWLAPI class and the reasoner it produces does not make inferences. Change that to the correct ReasonerFactory for HermiT.","body":"You&#39;re not using HermiT. The StructuralReasonerFactory class is an OWLAPI class and the reasoner it produces does not make inferences. Change that to the correct ReasonerFactory for HermiT."},{"owner":{"account_id":9938675,"reputation":89,"user_id":8798063,"display_name":"user402843"},"score":0,"creation_date":1640871293,"post_id":70522483,"comment_id":124679634,"body_markdown":"@Ignazio Thank you, but even changing to `org.semanticweb.HermiT.Reasoner.ReasonerFactory` the output doesn&#39;t change.","body":"@Ignazio Thank you, but even changing to <code>org.semanticweb.HermiT.Reasoner.ReasonerFactory</code> the output doesn&#39;t change."}],"answers":[{"tags":[],"owner":{"account_id":2550620,"reputation":4287,"user_id":2214440,"display_name":"Henriette Harmse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640806159,"creation_date":1640806159,"answer_id":70524116,"question_id":70522483,"body_markdown":"The inferences that follow from an ontology is infinite. See [this paper][1] for example.\r\n\r\nFor this reason reasoners usually limit inferences to named classes. `\\exists R` is not a named class, hence it is not returned as an inference.\r\n\r\nTo get the required inference, you need to give `\\exists R` a name by adding for example\r\n\r\n`C \\equiv \\exists R`\r\n\r\nThe reasoner then will be able to infer `A` is a subclass of `C`.\r\n\r\n\r\n  [1]: http://ceur-ws.org/Vol-745/paper_22.pdf","title":"Infer non-trivial OWL superclasses (or subclasses) assertions using a Java reasoner","body":"<p>The inferences that follow from an ontology is infinite. See <a href=\"http://ceur-ws.org/Vol-745/paper_22.pdf\" rel=\"nofollow noreferrer\">this paper</a> for example.</p>\n<p>For this reason reasoners usually limit inferences to named classes. <code>\\exists R</code> is not a named class, hence it is not returned as an inference.</p>\n<p>To get the required inference, you need to give <code>\\exists R</code> a name by adding for example</p>\n<p><code>C \\equiv \\exists R</code></p>\n<p>The reasoner then will be able to infer <code>A</code> is a subclass of <code>C</code>.</p>\n"}],"owner":{"account_id":9938675,"reputation":89,"user_id":8798063,"display_name":"user402843"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640806159,"creation_date":1640796676,"question_id":70522483,"body_markdown":"I want to express the following DL assertions in OWL\r\n\r\n    A ⊑ B\r\n    A ⊑ ∃R\r\n\r\nmeaning that `A` is subconcept of B and all the instances of `A` must have a relation `R` with something else.\r\n\r\nI&#39;m expressing it with the following OWL ontology:\r\n\r\n    Prefix(:=&lt;http://example.org/my-ontology#&gt;)\r\n    \r\n    Ontology(&lt;http://example.org/my-ontology&gt;\r\n    \tDeclaration(Class(:A))\r\n    \tDeclaration(Class(:B))\r\n    \r\n    \tDeclaration(ObjectProperty(:R))\r\n    \r\n    \tSubClassOf(:A :B)\r\n        SubClassOf(:A ObjectSomeValuesFrom(:R owl:Thing))\r\n    )\r\n\r\nI&#39;m using the HermiT reasoner for retrieving all the super-classes of `:A`, in this way:\r\n\r\n\tOWLOntology ontology = TestUtils.ontology;\r\n\tOWLReasonerFactory reasonerFactory = new StructuralReasonerFactory();\r\n\tConsoleProgressMonitor progressMonitor = new ConsoleProgressMonitor();\r\n\tOWLReasonerConfiguration config = new SimpleConfiguration(progressMonitor);\r\n\tOWLReasoner reasoner = reasonerFactory.createReasoner(ontology, config);\r\n\treasoner.precomputeInferences();\r\n\t\r\n\tfor (OWLClass owlClass : ontology.getClassesInSignature()) {\r\n\t\tif (owlClass.toStringID().contains(&quot;#A&quot;)) {\r\n\t\t\tSystem.out.println(&quot;Class=&gt;&quot; + owlClass.toStringID() + &quot;\\nSuperClass[&quot;);\r\n\t\t\tSystem.out.println(&quot;\\t&quot; + reasoner.getSuperClasses(owlClass, false));\r\n\t\t\tSystem.out.println(&quot;]&quot;);\r\n\t\t}\r\n\t}\r\n\r\nbut this is printing only:\r\n\r\n\tClass=&gt;http://example.org/my-ontology#A\r\n\tSuperClass[\r\n\t\tNodeset[Node( &lt;http://example.org/my-ontology#B&gt; ), Node( owl:Thing )]\r\n\t]\r\n\r\nHow can I also get the information about `SubClassOf(:A ObjectSomeValuesFrom(:R owl:Thing))`?\r\n\r\nP.S. I cannot just list the inclusion assertions from the ontology but I have to use a reasoner (not necessary HermiT) for possibly inferring them.","title":"Infer non-trivial OWL superclasses (or subclasses) assertions using a Java reasoner","body":"<p>I want to express the following DL assertions in OWL</p>\n<pre><code>A ⊑ B\nA ⊑ ∃R\n</code></pre>\n<p>meaning that <code>A</code> is subconcept of B and all the instances of <code>A</code> must have a relation <code>R</code> with something else.</p>\n<p>I'm expressing it with the following OWL ontology:</p>\n<pre><code>Prefix(:=&lt;http://example.org/my-ontology#&gt;)\n\nOntology(&lt;http://example.org/my-ontology&gt;\n    Declaration(Class(:A))\n    Declaration(Class(:B))\n\n    Declaration(ObjectProperty(:R))\n\n    SubClassOf(:A :B)\n    SubClassOf(:A ObjectSomeValuesFrom(:R owl:Thing))\n)\n</code></pre>\n<p>I'm using the HermiT reasoner for retrieving all the super-classes of <code>:A</code>, in this way:</p>\n<pre><code>OWLOntology ontology = TestUtils.ontology;\nOWLReasonerFactory reasonerFactory = new StructuralReasonerFactory();\nConsoleProgressMonitor progressMonitor = new ConsoleProgressMonitor();\nOWLReasonerConfiguration config = new SimpleConfiguration(progressMonitor);\nOWLReasoner reasoner = reasonerFactory.createReasoner(ontology, config);\nreasoner.precomputeInferences();\n\nfor (OWLClass owlClass : ontology.getClassesInSignature()) {\n    if (owlClass.toStringID().contains(&quot;#A&quot;)) {\n        System.out.println(&quot;Class=&gt;&quot; + owlClass.toStringID() + &quot;\\nSuperClass[&quot;);\n        System.out.println(&quot;\\t&quot; + reasoner.getSuperClasses(owlClass, false));\n        System.out.println(&quot;]&quot;);\n    }\n}\n</code></pre>\n<p>but this is printing only:</p>\n<pre><code>Class=&gt;http://example.org/my-ontology#A\nSuperClass[\n    Nodeset[Node( &lt;http://example.org/my-ontology#B&gt; ), Node( owl:Thing )]\n]\n</code></pre>\n<p>How can I also get the information about <code>SubClassOf(:A ObjectSomeValuesFrom(:R owl:Thing))</code>?</p>\n<p>P.S. I cannot just list the inclusion assertions from the ontology but I have to use a reasoner (not necessary HermiT) for possibly inferring them.</p>\n"},{"tags":["python","java","pyspark","hl7-fhir","hapi-fhir"],"owner":{"account_id":17821824,"reputation":269,"user_id":12944030,"display_name":"moe_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1640806044,"creation_date":1638278844,"question_id":70170098,"body_markdown":"- I am learning Bunsen &lt;https://engineering.cerner.com/bunsen/0.5.10-SNAPSHOT/index.html&gt; for handling FHIR data with Pyspark\r\n\r\n- the folder bundles contain a fhir bundle which is a collection of resources as json objects\r\n\r\n- I downloaded all the requirements needed such as the bunsen module and the jar file for pyspark and I run these commands:  \r\n```\r\n&gt;&gt;&gt; import pyspark\r\n&gt;&gt;&gt; from bunsen.r4.bundles import load_from_directory, extract_entry\r\n&gt;&gt;&gt; bundles = load_from_directory(spark, &quot;C:\\\\Users\\MoemenEbdelli\\Desktop\\oumaima\\bundles&quot;)\r\n&gt;&gt;&gt; observations = extract_entry(spark, bundles, &#39;Patient&#39;).cache()\r\n\r\n```\r\nthe last command invoked an ERROR:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;\r\n  File &quot;C:\\bunsen\\python\\bunsen\\r4\\bundles.py&quot;, line 101, in extract_entry\r\n    bundles.extractEntry(sparkSession._jsparkSession, javaRDD, resourceName, jArray),\r\n  File &quot;C:\\spark\\spark-3.2.0-bin-hadoop3.2\\python\\lib\\py4j-0.10.9.2-src.zip\\py4j\\java_gateway.py&quot;, line 1309, in __call__\r\n  File &quot;C:\\spark\\spark-3.2.0-bin-hadoop3.2\\python\\pyspark\\sql\\utils.py&quot;, line 111, in deco\r\n    return f(*a, **kw)\r\n  File &quot;C:\\spark\\spark-3.2.0-bin-hadoop3.2\\python\\lib\\py4j-0.10.9.2-src.zip\\py4j\\protocol.py&quot;, line 326, in get_return_value\r\npy4j.protocol.Py4JJavaError: An error occurred while calling o37.extractEntry.\r\n: java.lang.NoSuchMethodError: org.apache.spark.sql.catalyst.expressions.objects.Invoke$.apply$default$5()Z\r\n        at com.cerner.bunsen.EncoderBuilder.com$cerner$bunsen$EncoderBuilder$$childToExpr(EncoderBuilder.scala:259)\r\n        at com.cerner.bunsen.EncoderBuilder$$anonfun$6.apply(EncoderBuilder.scala:307)\r\n        at com.cerner.bunsen.EncoderBuilder$$anonfun$6.apply(EncoderBuilder.scala:307)\r\n        at scala.collection.TraversableLike.$anonfun$flatMap$1(TraversableLike.scala:293)\r\n        at scala.collection.Iterator.foreach(Iterator.scala:943)\r\n        at scala.collection.Iterator.foreach$(Iterator.scala:943)\r\n        at scala.collection.AbstractIterator.foreach(Iterator.scala:1431)\r\n        at scala.collection.IterableLike.foreach(IterableLike.scala:74)\r\n        at scala.collection.IterableLike.foreach$(IterableLike.scala:73)\r\n        at scala.collection.AbstractIterable.foreach(Iterable.scala:56)\r\n        at scala.collection.TraversableLike.flatMap(TraversableLike.scala:293)\r\n        at scala.collection.TraversableLike.flatMap$(TraversableLike.scala:290)\r\n        at scala.collection.AbstractTraversable.flatMap(Traversable.scala:108)\r\n        at com.cerner.bunsen.EncoderBuilder.com$cerner$bunsen$EncoderBuilder$$serializer(EncoderBuilder.scala:307)\r\n        at com.cerner.bunsen.EncoderBuilder$.of(EncoderBuilder.scala:53)\r\n        at com.cerner.bunsen.EncoderBuilder.of(EncoderBuilder.scala)\r\n        at com.cerner.bunsen.FhirEncoders.of(FhirEncoders.java:213)\r\n        at com.cerner.bunsen.FhirEncoders.of(FhirEncoders.java:262)\r\n        at com.cerner.bunsen.Bundles.extractEntry(Bundles.java:291)\r\n        at com.cerner.bunsen.Bundles.extractEntry(Bundles.java:235)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\r\n        at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\r\n        at py4j.Gateway.invoke(Gateway.java:282)\r\n        at py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\r\n        at py4j.commands.CallCommand.execute(CallCommand.java:79)\r\n        at py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\r\n        at py4j.ClientServerConnection.run(ClientServerConnection.java:106)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n```","title":"ERROR while working with Bunsen for FHIR data transformation to spark: py4j.protocol.Py4JJavaError: An error occurred while calling o37.extractEntry","body":"<ul>\n<li><p>I am learning Bunsen <a href=\"https://engineering.cerner.com/bunsen/0.5.10-SNAPSHOT/index.html\" rel=\"nofollow noreferrer\">https://engineering.cerner.com/bunsen/0.5.10-SNAPSHOT/index.html</a> for handling FHIR data with Pyspark</p>\n</li>\n<li><p>the folder bundles contain a fhir bundle which is a collection of resources as json objects</p>\n</li>\n<li><p>I downloaded all the requirements needed such as the bunsen module and the jar file for pyspark and I run these commands:</p>\n</li>\n</ul>\n<pre><code>&gt;&gt;&gt; import pyspark\n&gt;&gt;&gt; from bunsen.r4.bundles import load_from_directory, extract_entry\n&gt;&gt;&gt; bundles = load_from_directory(spark, &quot;C:\\\\Users\\MoemenEbdelli\\Desktop\\oumaima\\bundles&quot;)\n&gt;&gt;&gt; observations = extract_entry(spark, bundles, 'Patient').cache()\n\n</code></pre>\n<p>the last command invoked an ERROR:</p>\n<pre><code>Traceback (most recent call last):\n  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;\n  File &quot;C:\\bunsen\\python\\bunsen\\r4\\bundles.py&quot;, line 101, in extract_entry\n    bundles.extractEntry(sparkSession._jsparkSession, javaRDD, resourceName, jArray),\n  File &quot;C:\\spark\\spark-3.2.0-bin-hadoop3.2\\python\\lib\\py4j-0.10.9.2-src.zip\\py4j\\java_gateway.py&quot;, line 1309, in __call__\n  File &quot;C:\\spark\\spark-3.2.0-bin-hadoop3.2\\python\\pyspark\\sql\\utils.py&quot;, line 111, in deco\n    return f(*a, **kw)\n  File &quot;C:\\spark\\spark-3.2.0-bin-hadoop3.2\\python\\lib\\py4j-0.10.9.2-src.zip\\py4j\\protocol.py&quot;, line 326, in get_return_value\npy4j.protocol.Py4JJavaError: An error occurred while calling o37.extractEntry.\n: java.lang.NoSuchMethodError: org.apache.spark.sql.catalyst.expressions.objects.Invoke$.apply$default$5()Z\n        at com.cerner.bunsen.EncoderBuilder.com$cerner$bunsen$EncoderBuilder$$childToExpr(EncoderBuilder.scala:259)\n        at com.cerner.bunsen.EncoderBuilder$$anonfun$6.apply(EncoderBuilder.scala:307)\n        at com.cerner.bunsen.EncoderBuilder$$anonfun$6.apply(EncoderBuilder.scala:307)\n        at scala.collection.TraversableLike.$anonfun$flatMap$1(TraversableLike.scala:293)\n        at scala.collection.Iterator.foreach(Iterator.scala:943)\n        at scala.collection.Iterator.foreach$(Iterator.scala:943)\n        at scala.collection.AbstractIterator.foreach(Iterator.scala:1431)\n        at scala.collection.IterableLike.foreach(IterableLike.scala:74)\n        at scala.collection.IterableLike.foreach$(IterableLike.scala:73)\n        at scala.collection.AbstractIterable.foreach(Iterable.scala:56)\n        at scala.collection.TraversableLike.flatMap(TraversableLike.scala:293)\n        at scala.collection.TraversableLike.flatMap$(TraversableLike.scala:290)\n        at scala.collection.AbstractTraversable.flatMap(Traversable.scala:108)\n        at com.cerner.bunsen.EncoderBuilder.com$cerner$bunsen$EncoderBuilder$$serializer(EncoderBuilder.scala:307)\n        at com.cerner.bunsen.EncoderBuilder$.of(EncoderBuilder.scala:53)\n        at com.cerner.bunsen.EncoderBuilder.of(EncoderBuilder.scala)\n        at com.cerner.bunsen.FhirEncoders.of(FhirEncoders.java:213)\n        at com.cerner.bunsen.FhirEncoders.of(FhirEncoders.java:262)\n        at com.cerner.bunsen.Bundles.extractEntry(Bundles.java:291)\n        at com.cerner.bunsen.Bundles.extractEntry(Bundles.java:235)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\n        at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\n        at py4j.Gateway.invoke(Gateway.java:282)\n        at py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\n        at py4j.commands.CallCommand.execute(CallCommand.java:79)\n        at py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\n        at py4j.ClientServerConnection.run(ClientServerConnection.java:106)\n        at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n"},{"tags":["java","security","sonarqube","static-analysis"],"answers":[{"tags":[],"owner":{"account_id":8023785,"reputation":3013,"user_id":6051596,"display_name":"Soumen Mukherjee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640805572,"creation_date":1640805572,"answer_id":70524024,"question_id":70518280,"body_markdown":"Generally speaking the &quot;Sonar Way&quot; quality profile is the starting point and should be treated as the baseline . Most teams are expected to learn and evolve and over a period of time should raise the BAR both in terms of security and quality requirements of code .\r\n\r\nSo to answer your question , it is OK to start with the Sonar Way with a plan and desire to move to Extend the quality profile to meet your teams / organization&#39;s code quality and code security objectives.\r\n\r\nHowever important to point out that some of the security issues that you point out like Code Injection , XSS can be more suitably detected using DAST tools.","title":"In SonarQube, how reliable is the &#39;Sonar way&#39; quality profile for security reviews?","body":"<p>Generally speaking the &quot;Sonar Way&quot; quality profile is the starting point and should be treated as the baseline . Most teams are expected to learn and evolve and over a period of time should raise the BAR both in terms of security and quality requirements of code .</p>\n<p>So to answer your question , it is OK to start with the Sonar Way with a plan and desire to move to Extend the quality profile to meet your teams / organization's code quality and code security objectives.</p>\n<p>However important to point out that some of the security issues that you point out like Code Injection , XSS can be more suitably detected using DAST tools.</p>\n"}],"owner":{"account_id":881276,"reputation":79,"user_id":174940,"display_name":"Starbuck3000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":484,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1640805572,"creation_date":1640774536,"question_id":70518280,"body_markdown":"Can I rely on this profile for also checking for well-known security issues (e.g., code injection, weak crypto, xss, etc., or should I rather use another default profile (or is there a &#39;recommended&#39; profile that I can import?).","title":"In SonarQube, how reliable is the &#39;Sonar way&#39; quality profile for security reviews?","body":"<p>Can I rely on this profile for also checking for well-known security issues (e.g., code injection, weak crypto, xss, etc., or should I rather use another default profile (or is there a 'recommended' profile that I can import?).</p>\n"},{"tags":["java","maven","maven-plugin","maven-mojo"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1640800219,"post_id":70522736,"comment_id":124663232,"body_markdown":"First I strongly recommend you to follow naming conventions for maven plugins (https://maven.apache.org/guides/plugin/guide-java-plugin-development.html) furthermore I strongly recommend you to use more recent dependencies (you are using maven-plugin-api version 2.0 which is about 15 years old) ... also maven-project is about 12 years old.... So you should add the maven-plugin-plugin is needed to produce the plugin descriptor... Furthermore you are adding it to the source code but creating the directory afterwards ...that does not work...","body":"First I strongly recommend you to follow naming conventions for maven plugins (<a href=\"https://maven.apache.org/guides/plugin/guide-java-plugin-development.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/plugin/&hellip;</a>) furthermore I strongly recommend you to use more recent dependencies (you are using maven-plugin-api version 2.0 which is about 15 years old) ... also maven-project is about 12 years old.... So you should add the maven-plugin-plugin is needed to produce the plugin descriptor... Furthermore you are adding it to the source code but creating the directory afterwards ...that does not work..."},{"owner":{"account_id":13566844,"reputation":180,"user_id":9786749,"display_name":"un0tec"},"score":0,"creation_date":1640800666,"post_id":70522736,"comment_id":124663383,"body_markdown":"@khmarbaise Creating the folder first doesn&#39;t work either, in fact that&#39;s how I tried it at first. I will try updating the dependencies and update the question with the new code. Thanks!","body":"@khmarbaise Creating the folder first doesn&#39;t work either, in fact that&#39;s how I tried it at first. I will try updating the dependencies and update the question with the new code. Thanks!"},{"owner":{"account_id":1136217,"reputation":14336,"user_id":1121249,"accept_rate":86,"display_name":"rkosegi"},"score":0,"creation_date":1640800722,"post_id":70522736,"comment_id":124663399,"body_markdown":"minor nitpick, all plugins that I&#39;m aware of are using `generated-sources`, not `generate-sources`","body":"minor nitpick, all plugins that I&#39;m aware of are using <code>generated-sources</code>, not <code>generate-sources</code>"},{"owner":{"account_id":13566844,"reputation":180,"user_id":9786749,"display_name":"un0tec"},"score":0,"creation_date":1640802490,"post_id":70522736,"comment_id":124663949,"body_markdown":"@khmarbaise Answer updated (Dependencies versions, added maven-plugin-plugin plugin, moved addCompileSourceRoot after creating the directory). Still not working. output directory has also been changed to generated-sources as rkosegi said.","body":"@khmarbaise Answer updated (Dependencies versions, added maven-plugin-plugin plugin, moved addCompileSourceRoot after creating the directory). Still not working. output directory has also been changed to generated-sources as rkosegi said."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1640804654,"post_id":70522736,"comment_id":124664562,"body_markdown":"maven project is wrong .... use maven-core instead.. I would suggest to use minimum 3.1.0 version for maven-core and for maven-plugin-api","body":"maven project is wrong .... use maven-core instead.. I would suggest to use minimum 3.1.0 version for maven-core and for maven-plugin-api"},{"owner":{"account_id":13566844,"reputation":180,"user_id":9786749,"display_name":"un0tec"},"score":0,"creation_date":1640805553,"post_id":70522736,"comment_id":124664819,"body_markdown":"@khmarbaise Done, question updated. Still not working. I have tried in several versions of Eclipse just in case, but it doesn&#39;t work. Thanks anyway.","body":"@khmarbaise Done, question updated. Still not working. I have tried in several versions of Eclipse just in case, but it doesn&#39;t work. Thanks anyway."}],"owner":{"account_id":13566844,"reputation":180,"user_id":9786749,"display_name":"un0tec"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640805479,"creation_date":1640798034,"question_id":70522736,"body_markdown":"I have a custom plugin with the following configuration, but I can&#39;t understand why the ```outputDir``` folder is not added to the classpath of the project running the goal ```generate-sources```.\r\n\r\n**Mojo class**\r\n\r\n```\r\npackage testing.sources.maven;\r\n\r\nimport java.io.*;\r\n\r\nimport org.apache.maven.plugin.*;\r\nimport org.apache.maven.plugins.annotations.*;\r\nimport org.apache.maven.plugins.annotations.Mojo;\r\nimport org.apache.maven.project.*;\r\nimport org.codehaus.plexus.util.*;\r\n\r\n@Mojo(name = &quot;SRXMLToJava&quot;, defaultPhase = LifecyclePhase.GENERATE_SOURCES)\r\npublic class SRXMLToJava extends AbstractMojo {\r\n\r\n\t/**\r\n\t * SR XML default location\r\n\t */\r\n\t@Parameter(defaultValue = &quot;${project.basedir}/src/main/resources&quot;, required = true)\r\n\tprivate String sourceResourceDir;\r\n\t\r\n    /**\r\n     * Project dependency\r\n     */\r\n    @Parameter(defaultValue = &quot;${project}&quot;, required = true)\r\n    public MavenProject project;\r\n    \r\n    /**\r\n     * Directory wherein generated source will be put\r\n     */\r\n    @Parameter(defaultValue = &quot;${project.build.directory}/generated-sources/code&quot;, required = true)\r\n    private File outputDir;\r\n\t\r\n\t/**\r\n\t * Converts the SR XML documents to an equivalent Java classes\r\n\t * \r\n\t * @throws MojoExecutionException - if an unexpected problem occurs. Throwing\r\n\t *                                this exception causes a &quot;BUILD ERROR&quot; message\r\n\t *                                to be displayed.\r\n\t * @throws MojoFailureException   - if an expected problem (such as a\r\n\t *                                compilation failure) occurs. Throwing this\r\n\t *                                exception causes a &quot;BUILD FAILURE&quot; message to\r\n\t *                                be displayed.\r\n\t */\r\n\tpublic void execute() throws MojoExecutionException, MojoFailureException {\r\n\t\t\r\n\t\tgetLog().info(&quot;1 Output dir path --&gt; &quot; + outputDir.getAbsolutePath());\r\n\t\t\r\n        try {\r\n        \toutputDir.mkdirs();\r\n\t\t\tnew File(outputDir.getAbsolutePath() + &quot;/TestingPlugin.java&quot;).createNewFile();\r\n\t\t\tFileUtils.fileWrite(outputDir.getAbsolutePath() + &quot;/TestingPlugin.java&quot;, &quot;package codigo;\\npublic class TestingPlugin {\\n public void run(){\\nSystem.out.println(\\&quot;Hello world\\&quot;);}}&quot;);\r\n\t\t} catch (final IOException exception) {\r\n\t\t\tthrow new MojoExecutionException(&quot;Failed to execute plugin&quot;, exception);\r\n\t\t}\r\n        \r\n        project.addCompileSourceRoot(outputDir.getAbsolutePath());\r\n\r\n\t}\r\n\r\n}\r\n```\r\n**Plugin pom.xml**\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;group.testing&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;sources-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;maven-plugin&lt;/packaging&gt;\r\n\t&lt;version&gt;10.0-SNAPSHOT&lt;/version&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.8.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugin-tools&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-plugin-annotations&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.6.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.8.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;skipErrorNoDescriptorsFound&gt;true&lt;/skipErrorNoDescriptorsFound&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;mojo-descriptor&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;descriptor&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;generate-helpmojo&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;helpmojo&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;attach-sources&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;jar&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.10.4&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;attach-javadoc&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;jar&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t\t&lt;pluginManagement&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;!--This plugin&#39;s configuration is used to store Eclipse m2e settings \r\n\t\t\t\t\tonly. It has no influence on the Maven build itself. --&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;lifecycleMappingMetadata&gt;\r\n\t\t\t\t\t\t\t&lt;pluginExecutions&gt;\r\n\t\t\t\t\t\t\t\t&lt;pluginExecution&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;pluginExecutionFilter&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;groupId&gt;\r\n\t\t\t\t\t\t\t\t\t\t\torg.apache.maven.plugins\r\n\t\t\t\t\t\t\t\t\t\t&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;artifactId&gt;\r\n\t\t\t\t\t\t\t\t\t\t\tmaven-plugin-plugin\r\n\t\t\t\t\t\t\t\t\t\t&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;versionRange&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t[3.2,)\r\n\t\t\t\t\t\t\t\t\t\t&lt;/versionRange&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;goal&gt;descriptor&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;goal&gt;helpmojo&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/pluginExecutionFilter&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;action&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;ignore&gt;&lt;/ignore&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/action&gt;\r\n\t\t\t\t\t\t\t\t&lt;/pluginExecution&gt;\r\n\t\t\t\t\t\t\t&lt;/pluginExecutions&gt;\r\n\t\t\t\t\t\t&lt;/lifecycleMappingMetadata&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/pluginManagement&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n**Project pom.xml where the plugin is used**\r\n\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;group.testing&lt;/groupId&gt;\r\n    &lt;artifactId&gt;sources-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;10.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;SRXMLToJava&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nAfter running maven &gt; run as &gt; generate-sources in Eclipse. Folder ```${project.build.directory}/generated-sources/code``` hasnt been added to the classpath.\r\n\r\n[build-helper-maven-plugin][1] works, but I want to avoid using it.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/19682602/9786749","title":"Why MavenProject.addCompileSourceRoot() is not working as expected?","body":"<p>I have a custom plugin with the following configuration, but I can't understand why the <code>outputDir</code> folder is not added to the classpath of the project running the goal <code>generate-sources</code>.</p>\n<p><strong>Mojo class</strong></p>\n<pre><code>package testing.sources.maven;\n\nimport java.io.*;\n\nimport org.apache.maven.plugin.*;\nimport org.apache.maven.plugins.annotations.*;\nimport org.apache.maven.plugins.annotations.Mojo;\nimport org.apache.maven.project.*;\nimport org.codehaus.plexus.util.*;\n\n@Mojo(name = &quot;SRXMLToJava&quot;, defaultPhase = LifecyclePhase.GENERATE_SOURCES)\npublic class SRXMLToJava extends AbstractMojo {\n\n    /**\n     * SR XML default location\n     */\n    @Parameter(defaultValue = &quot;${project.basedir}/src/main/resources&quot;, required = true)\n    private String sourceResourceDir;\n    \n    /**\n     * Project dependency\n     */\n    @Parameter(defaultValue = &quot;${project}&quot;, required = true)\n    public MavenProject project;\n    \n    /**\n     * Directory wherein generated source will be put\n     */\n    @Parameter(defaultValue = &quot;${project.build.directory}/generated-sources/code&quot;, required = true)\n    private File outputDir;\n    \n    /**\n     * Converts the SR XML documents to an equivalent Java classes\n     * \n     * @throws MojoExecutionException - if an unexpected problem occurs. Throwing\n     *                                this exception causes a &quot;BUILD ERROR&quot; message\n     *                                to be displayed.\n     * @throws MojoFailureException   - if an expected problem (such as a\n     *                                compilation failure) occurs. Throwing this\n     *                                exception causes a &quot;BUILD FAILURE&quot; message to\n     *                                be displayed.\n     */\n    public void execute() throws MojoExecutionException, MojoFailureException {\n        \n        getLog().info(&quot;1 Output dir path --&gt; &quot; + outputDir.getAbsolutePath());\n        \n        try {\n            outputDir.mkdirs();\n            new File(outputDir.getAbsolutePath() + &quot;/TestingPlugin.java&quot;).createNewFile();\n            FileUtils.fileWrite(outputDir.getAbsolutePath() + &quot;/TestingPlugin.java&quot;, &quot;package codigo;\\npublic class TestingPlugin {\\n public void run(){\\nSystem.out.println(\\&quot;Hello world\\&quot;);}}&quot;);\n        } catch (final IOException exception) {\n            throw new MojoExecutionException(&quot;Failed to execute plugin&quot;, exception);\n        }\n        \n        project.addCompileSourceRoot(outputDir.getAbsolutePath());\n\n    }\n\n}\n</code></pre>\n<p><strong>Plugin pom.xml</strong></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;group.testing&lt;/groupId&gt;\n    &lt;artifactId&gt;sources-maven-plugin&lt;/artifactId&gt;\n    &lt;packaging&gt;maven-plugin&lt;/packaging&gt;\n    &lt;version&gt;10.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\n            &lt;version&gt;3.8.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugin-tools&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-plugin-annotations&lt;/artifactId&gt;\n            &lt;version&gt;3.6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-core&lt;/artifactId&gt;\n            &lt;version&gt;3.8.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;skipErrorNoDescriptorsFound&gt;true&lt;/skipErrorNoDescriptorsFound&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;mojo-descriptor&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;descriptor&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;generate-helpmojo&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;helpmojo&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;attach-sources&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.10.4&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;attach-javadoc&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;!--This plugin's configuration is used to store Eclipse m2e settings \n                    only. It has no influence on the Maven build itself. --&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\n                    &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\n                    &lt;version&gt;1.0.0&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;lifecycleMappingMetadata&gt;\n                            &lt;pluginExecutions&gt;\n                                &lt;pluginExecution&gt;\n                                    &lt;pluginExecutionFilter&gt;\n                                        &lt;groupId&gt;\n                                            org.apache.maven.plugins\n                                        &lt;/groupId&gt;\n                                        &lt;artifactId&gt;\n                                            maven-plugin-plugin\n                                        &lt;/artifactId&gt;\n                                        &lt;versionRange&gt;\n                                            [3.2,)\n                                        &lt;/versionRange&gt;\n                                        &lt;goals&gt;\n                                            &lt;goal&gt;descriptor&lt;/goal&gt;\n                                            &lt;goal&gt;helpmojo&lt;/goal&gt;\n                                        &lt;/goals&gt;\n                                    &lt;/pluginExecutionFilter&gt;\n                                    &lt;action&gt;\n                                        &lt;ignore&gt;&lt;/ignore&gt;\n                                    &lt;/action&gt;\n                                &lt;/pluginExecution&gt;\n                            &lt;/pluginExecutions&gt;\n                        &lt;/lifecycleMappingMetadata&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>Project pom.xml where the plugin is used</strong></p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;group.testing&lt;/groupId&gt;\n    &lt;artifactId&gt;sources-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;10.0-SNAPSHOT&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;SRXMLToJava&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>After running maven &gt; run as &gt; generate-sources in Eclipse. Folder <code>${project.build.directory}/generated-sources/code</code> hasnt been added to the classpath.</p>\n<p><a href=\"https://stackoverflow.com/a/19682602/9786749\">build-helper-maven-plugin</a> works, but I want to avoid using it.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1640648142,"post_id":70501362,"comment_id":124625325,"body_markdown":"Please, add the entity of Film as well. This seems to be a problem about how you&#39;re mapping/joining your entities.","body":"Please, add the entity of Film as well. This seems to be a problem about how you&#39;re mapping/joining your entities."},{"owner":{"account_id":23761300,"reputation":23,"user_id":17776665,"display_name":"TheFandorn"},"score":0,"creation_date":1640651606,"post_id":70501362,"comment_id":124625775,"body_markdown":"@JettoMart&#237;nez thanks, I edited the post","body":"@JettoMart&#237;nez thanks, I edited the post"},{"owner":{"account_id":8627776,"reputation":593,"user_id":6460453,"display_name":"K.Nikita"},"score":0,"creation_date":1640685509,"post_id":70501362,"comment_id":124632072,"body_markdown":"Hi, please see this answers  https://stackoverflow.com/questions/48448079/json-parse-error-can-not-construct-instance-of-io-starter-topic-topic/48448121","body":"Hi, please see this answers  <a href=\"https://stackoverflow.com/questions/48448079/json-parse-error-can-not-construct-instance-of-io-starter-topic-topic/48448121\" title=\"json parse error can not construct instance of io starter topic topic\">stackoverflow.com/questions/48448079/&hellip;</a>"},{"owner":{"account_id":23761300,"reputation":23,"user_id":17776665,"display_name":"TheFandorn"},"score":0,"creation_date":1640726104,"post_id":70501362,"comment_id":124644704,"body_markdown":"@K.Nikita Hi, Ive already seen those (as you can see I already have the empty constructor) and adding &quot;JsonCreator&quot; and :JsonProperty&quot; didnt work","body":"@K.Nikita Hi, Ive already seen those (as you can see I already have the empty constructor) and adding &quot;JsonCreator&quot; and :JsonProperty&quot; didnt work"},{"owner":{"account_id":8627776,"reputation":593,"user_id":6460453,"display_name":"K.Nikita"},"score":0,"creation_date":1640726614,"post_id":70501362,"comment_id":124644859,"body_markdown":"Сan share your project to reproduce the bug?","body":"Сan share your project to reproduce the bug?"},{"owner":{"account_id":23761300,"reputation":23,"user_id":17776665,"display_name":"TheFandorn"},"score":0,"creation_date":1640729741,"post_id":70501362,"comment_id":124645835,"body_markdown":"@K.Nikita thanks for your help. Adding github repo to the original post","body":"@K.Nikita thanks for your help. Adding github repo to the original post"}],"answers":[{"tags":[],"owner":{"account_id":23761300,"reputation":23,"user_id":17776665,"display_name":"TheFandorn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640781610,"creation_date":1640781610,"answer_id":70519551,"question_id":70501362,"body_markdown":"Okey, so if anyone in the future has a similar problem this is the solution:\r\n\r\n**Controller**\r\n    \r\n    @PostMapping(path = &quot;/oscar/post/{filmId}&quot;)\r\n    public Oscar addOscarToFilm(@PathVariable Long filmId, @RequestBody OscarDto \r\n    oscar){\r\n        return oscarService.addOscarToFilm(filmId, oscar);\r\n    }\r\n\r\n**Service**\r\n\r\n        public Oscar addOscarToFilm(Long filmId, OscarDto oscarDto) {\r\n        if (filmId == null) {\r\n            throw new IllegalArgumentException(&quot;Id of Film you want to find is \r\n    null&quot;);\r\n        }\r\n\r\n        var film = filmRepository.findById(filmId)\r\n                .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Cannot find film \r\n    with this id: &quot; + filmId));\r\n\r\n        var filmRezyser = film.getRezyser();\r\n        var oscar = oscarDto.toOscar();\r\n\r\n        oscar.setFilm(film);\r\n        oscar.setRezyser(filmRezyser);\r\n\r\n        return oscarRepository.save(oscar);\r\n    }\r\n\r\n**dto**\r\n\r\n    package com.example.Projekt21.dto;\r\n\r\n    import com.example.Projekt21.entity.Oscar;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    public class OscarDto {\r\n    Long rok;\r\n\r\n    public Oscar toOscar() {\r\n        return Oscar\r\n                .builder()\r\n                .rok(rok)\r\n                .build();\r\n    }\r\n}","title":"how to POST with a foreign key when the other table already exists - using spring","body":"<p>Okey, so if anyone in the future has a similar problem this is the solution:</p>\n<p><strong>Controller</strong></p>\n<pre><code>@PostMapping(path = &quot;/oscar/post/{filmId}&quot;)\npublic Oscar addOscarToFilm(@PathVariable Long filmId, @RequestBody OscarDto \noscar){\n    return oscarService.addOscarToFilm(filmId, oscar);\n}\n</code></pre>\n<p><strong>Service</strong></p>\n<pre><code>    public Oscar addOscarToFilm(Long filmId, OscarDto oscarDto) {\n    if (filmId == null) {\n        throw new IllegalArgumentException(&quot;Id of Film you want to find is \nnull&quot;);\n    }\n\n    var film = filmRepository.findById(filmId)\n            .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Cannot find film \nwith this id: &quot; + filmId));\n\n    var filmRezyser = film.getRezyser();\n    var oscar = oscarDto.toOscar();\n\n    oscar.setFilm(film);\n    oscar.setRezyser(filmRezyser);\n\n    return oscarRepository.save(oscar);\n}\n</code></pre>\n<p><strong>dto</strong></p>\n<pre><code>package com.example.Projekt21.dto;\n\nimport com.example.Projekt21.entity.Oscar;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class OscarDto {\nLong rok;\n\npublic Oscar toOscar() {\n    return Oscar\n            .builder()\n            .rok(rok)\n            .build();\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":8627776,"reputation":593,"user_id":6460453,"display_name":"K.Nikita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640805274,"creation_date":1640805274,"answer_id":70523961,"question_id":70501362,"body_markdown":"It is great! We can use new class for request body, for example: \r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    public class AddNewOscarRequest {\r\n        private Long oscarId;\r\n        private Long rok;\r\n        private Long filmId;\r\n        private Long rezyseraId;\r\n    }\r\n\r\n\r\nthen:\r\n\r\n    @PostMapping(path = &quot;/oscar/create&quot;)\r\n    public Oscar addOscarToFilm(@RequestBody AddNewOscarRequest request){\r\n        return oscarService.addOscarToFilm(request);\r\n    }\r\n\r\nIf you not found entity  application throws **EntityNotFoundException**\r\n    \r\n    filmRepository.findById(filmId)\r\n\r\n\r\nFor mapping you can use new class like &quot;OscarMapper&quot;\r\n","title":"how to POST with a foreign key when the other table already exists - using spring","body":"<p>It is great! We can use new class for request body, for example:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class AddNewOscarRequest {\n    private Long oscarId;\n    private Long rok;\n    private Long filmId;\n    private Long rezyseraId;\n}\n</code></pre>\n<p>then:</p>\n<pre><code>@PostMapping(path = &quot;/oscar/create&quot;)\npublic Oscar addOscarToFilm(@RequestBody AddNewOscarRequest request){\n    return oscarService.addOscarToFilm(request);\n}\n</code></pre>\n<p>If you not found entity  application throws <strong>EntityNotFoundException</strong></p>\n<pre><code>filmRepository.findById(filmId)\n</code></pre>\n<p>For mapping you can use new class like &quot;OscarMapper&quot;</p>\n"}],"owner":{"account_id":23761300,"reputation":23,"user_id":17776665,"display_name":"TheFandorn"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1061,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70519551,"answer_count":2,"score":0,"last_activity_date":1640805274,"creation_date":1640647330,"question_id":70501362,"body_markdown":"So I&#39;m learning Spring Boot for my uni project and I want to add values to a table that has a foreign key when the FK already exists in the other table. Im new to this stuff and I don&#39;g really know what to do with the error that Spring gives me.\r\n\r\n**My entity**\r\n```\r\n    package com.example.Projekt21.entity;\r\n\r\n    import javax.persistence.*;\r\n\r\n    @Table\r\n    @Entity\r\n    public class Oscar {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n    private Long rok;\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;idFilmu&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Film idFilmu;\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;idRezyserea&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Rezyser idRezysera;\r\n\r\n\r\n    public Oscar(Long idOscary, Long rok) {\r\n        this.id = idOscary;\r\n        this.rok = rok;\r\n    }\r\n\r\n    public Oscar() {\r\n    }\r\n\r\n    public Long getIdOscar() {\r\n        return id;\r\n    }\r\n\r\n    public void setIdOscar(Long idOscary) {\r\n        this.id = id;\r\n    }\r\n\r\n    public Long getRok() {\r\n        return rok;\r\n    }\r\n\r\n    public void setRok(Long rok) {\r\n        this.rok = rok;\r\n    }\r\n\r\n    public Film getIdFilmu() {\r\n        return idFilmu;\r\n    }\r\n\r\n    public void setIdFilmu(Film idFilmu) {\r\n        this.idFilmu = idFilmu;\r\n    }\r\n}\r\n```\r\n\r\n\r\n**Controller**\r\n\r\n    package com.example.Projekt21.controller;\r\n\r\n    import com.example.Projekt21.entity.Oscar;\r\n    import com.example.Projekt21.service.OscarService;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.*;\r\n\r\n    import java.util.List;\r\n  \r\n    @RestController\r\n    @RequestMapping\r\n    public class OscarController {\r\n\r\n    private final OscarService oscarService;\r\n\r\n    @Autowired\r\n    public OscarController(OscarService oscarService){\r\n        this.oscarService = oscarService;\r\n    }\r\n\r\n    @GetMapping(path = &quot;/oscar/get&quot;)\r\n    public List&lt;Oscar&gt; getOscar(){\r\n        return oscarService.getOscar();\r\n    }\r\n\r\n    @PostMapping(path = &quot;/oscar/post&quot;)\r\n    public void registerNewOscar(@RequestBody Oscar oscar){\r\n        oscarService.addNewOscar(oscar);\r\n    }\r\n\r\n    @DeleteMapping(path = &quot;/oscar/delete/{oscarId}&quot;)\r\n    public void deleteOscar(@PathVariable(&quot;oscarId&quot;)Long oscarId){\r\n        oscarService.deleteOscar(oscarId);\r\n    }\r\n\r\n    @PutMapping(path = &quot;/oscar/put/{oscarId}&quot;)\r\n    public void updateStudent(\r\n            @PathVariable(&quot;oscarId&quot;) Long oscarId,\r\n            @RequestParam(required = false) Long rok) {\r\n        oscarService.updateOscar(oscarId, rok);\r\n    }\r\n}\r\n\r\n**Service**\r\n```\r\n    package com.example.Projekt21.service;\r\n\r\n     import com.example.Projekt21.entity.Oscar;\r\n    import com.example.Projekt21.repository.OscarRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n\r\n    import javax.transaction.Transactional;\r\n    import java.util.List;\r\n    import java.util.Objects;\r\n\r\n    @Service\r\n    public class OscarService {\r\n\r\n    private final OscarRepository oscarRepository;\r\n\r\n    @Autowired\r\n    public OscarService(OscarRepository oscarRepository){\r\n        this.oscarRepository = oscarRepository;\r\n    }\r\n\r\n    public List&lt;Oscar&gt; getOscar(){\r\n        return oscarRepository.findAll();\r\n    }\r\n\r\n    public void addNewOscar(Oscar oscar){\r\n        oscarRepository.save(oscar);\r\n    }\r\n\r\n    public void deleteOscar(Long oscarId){\r\n        boolean exists = oscarRepository.existsById(oscarId);\r\n        if(!exists){\r\n            throw new IllegalStateException(&quot;Oscar o numerze id:  &quot; + oscarId + &quot; nie istenieje&quot;);\r\n        }\r\n        oscarRepository.deleteById(oscarId);\r\n    }\r\n\r\n    @Transactional\r\n    public void updateOscar(Long oscarId, Long rok) {\r\n        Oscar oscar = oscarRepository.findById(oscarId).orElseThrow(() -&gt; new IllegalStateException(\r\n                &quot;Oscar o numerze id:  &quot; + oscarId + &quot; nie istnieje&quot;));\r\n\r\n        if (rok != null &amp;&amp; rok &gt; 0 &amp;&amp; rok != oscar.getRok()) {\r\n            oscar.setRok(rok);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nMy request\r\n```\r\n{\r\n    &quot;rok&quot;: &quot;2020&quot;,\r\n    &quot;idFilmu&quot;: &quot;1&quot;,\r\n    &quot;idRezysera&quot;: &quot;2&quot;\r\n}\r\n```\r\n\r\nError Message\r\n\r\n    JSON parse error: Cannot construct instance of `com.example.Projekt21.entity.Film` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;1&#39;);\r\n\r\nCan someone please give me a simple explanation on how to fix my problem?\r\nThanks\r\n\r\n\r\n**EDIT:\r\nFilm entity**\r\n\r\n    package com.example.Projekt21.entity;\r\n\r\n    import javax.persistence.*;\r\n\r\n    @Table\r\n     @Entity\r\n    public class Film {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n    private String tytul;\r\n    private String gatunek;\r\n    private Long rok_produkcji;\r\n\r\n    @ManyToOne(cascade = {CascadeType.MERGE, CascadeType.PERSIST})\r\n    private Rezyser rezyser;\r\n\r\n    public Film(String tytul, String gatunek, Long rok_produkcji, Rezyser \r\n    rezyser) {\r\n        this.tytul = tytul;\r\n        this.gatunek = gatunek;\r\n        this.rok_produkcji = rok_produkcji;\r\n        this.rezyser = rezyser;\r\n    }\r\n\r\n    public Film() {\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getTytul() {\r\n        return tytul;\r\n    }\r\n\r\n    public void setTytul(String tytul) {\r\n        this.tytul = tytul;\r\n    }\r\n\r\n    public String getGatunek() {\r\n        return gatunek;\r\n    }\r\n\r\n    public void setGatunek(String gatunek) {\r\n        this.gatunek = gatunek;\r\n    }\r\n\r\n    public Long getRok_produkcji() {\r\n        return rok_produkcji;\r\n    }\r\n\r\n    public void setRok_produkcji(Long rok_produkcji) {\r\n        this.rok_produkcji = rok_produkcji;\r\n    }\r\n\r\n    public Rezyser getRezyser() {\r\n        return rezyser;\r\n    }\r\n\r\n    public void setRezyser(Rezyser rezyser) {\r\n        this.rezyser = rezyser;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Film{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, tytul=&#39;&quot; + tytul + &#39;\\&#39;&#39; +\r\n                &quot;, gatunek=&#39;&quot; + gatunek + &#39;\\&#39;&#39; +\r\n                &quot;, rok_produkcji=&quot; + rok_produkcji +\r\n                &quot;, id_rezysera=&quot; + rezyser +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n\r\nand Rezyser\r\n\r\n    public class Rezyser {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n    private String imie;\r\n    private String nazwisko;\r\n    private Date data_urodzenia;\r\n    private String kraj_pochodzenia;\r\n\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    @OneToMany(mappedBy = &quot;rezyser&quot;)\r\n    private List&lt;Film&gt; filmList;\r\n\r\n    public Rezyser(String imie, String nazwisko, Date data_urodzenia, String \r\n    kraj_pochodzenia) {\r\n        this.imie = imie;\r\n        this.nazwisko = nazwisko;\r\n        this.data_urodzenia = data_urodzenia;\r\n        this.kraj_pochodzenia = kraj_pochodzenia;\r\n    }\r\n    //getters, setters, toString and creators\r\n}\r\n\r\n\r\n**EDIT 2**\r\n\r\nsharing my project: https://github.com/TheFandorn/Projekt2.1","title":"how to POST with a foreign key when the other table already exists - using spring","body":"<p>So I'm learning Spring Boot for my uni project and I want to add values to a table that has a foreign key when the FK already exists in the other table. Im new to this stuff and I don'g really know what to do with the error that Spring gives me.</p>\n<p><strong>My entity</strong></p>\n<pre><code>    package com.example.Projekt21.entity;\n\n    import javax.persistence.*;\n\n    @Table\n    @Entity\n    public class Oscar {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n    private Long rok;\n    @OneToOne\n    @JoinColumn(name = &quot;idFilmu&quot;, referencedColumnName = &quot;id&quot;)\n    private Film idFilmu;\n    @ManyToOne\n    @JoinColumn(name = &quot;idRezyserea&quot;, referencedColumnName = &quot;id&quot;)\n    private Rezyser idRezysera;\n\n\n    public Oscar(Long idOscary, Long rok) {\n        this.id = idOscary;\n        this.rok = rok;\n    }\n\n    public Oscar() {\n    }\n\n    public Long getIdOscar() {\n        return id;\n    }\n\n    public void setIdOscar(Long idOscary) {\n        this.id = id;\n    }\n\n    public Long getRok() {\n        return rok;\n    }\n\n    public void setRok(Long rok) {\n        this.rok = rok;\n    }\n\n    public Film getIdFilmu() {\n        return idFilmu;\n    }\n\n    public void setIdFilmu(Film idFilmu) {\n        this.idFilmu = idFilmu;\n    }\n}\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>package com.example.Projekt21.controller;\n\nimport com.example.Projekt21.entity.Oscar;\nimport com.example.Projekt21.service.OscarService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping\npublic class OscarController {\n\nprivate final OscarService oscarService;\n\n@Autowired\npublic OscarController(OscarService oscarService){\n    this.oscarService = oscarService;\n}\n\n@GetMapping(path = &quot;/oscar/get&quot;)\npublic List&lt;Oscar&gt; getOscar(){\n    return oscarService.getOscar();\n}\n\n@PostMapping(path = &quot;/oscar/post&quot;)\npublic void registerNewOscar(@RequestBody Oscar oscar){\n    oscarService.addNewOscar(oscar);\n}\n\n@DeleteMapping(path = &quot;/oscar/delete/{oscarId}&quot;)\npublic void deleteOscar(@PathVariable(&quot;oscarId&quot;)Long oscarId){\n    oscarService.deleteOscar(oscarId);\n}\n\n@PutMapping(path = &quot;/oscar/put/{oscarId}&quot;)\npublic void updateStudent(\n        @PathVariable(&quot;oscarId&quot;) Long oscarId,\n        @RequestParam(required = false) Long rok) {\n    oscarService.updateOscar(oscarId, rok);\n}\n</code></pre>\n<p>}</p>\n<p><strong>Service</strong></p>\n<pre><code>    package com.example.Projekt21.service;\n\n     import com.example.Projekt21.entity.Oscar;\n    import com.example.Projekt21.repository.OscarRepository;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.stereotype.Service;\n\n    import javax.transaction.Transactional;\n    import java.util.List;\n    import java.util.Objects;\n\n    @Service\n    public class OscarService {\n\n    private final OscarRepository oscarRepository;\n\n    @Autowired\n    public OscarService(OscarRepository oscarRepository){\n        this.oscarRepository = oscarRepository;\n    }\n\n    public List&lt;Oscar&gt; getOscar(){\n        return oscarRepository.findAll();\n    }\n\n    public void addNewOscar(Oscar oscar){\n        oscarRepository.save(oscar);\n    }\n\n    public void deleteOscar(Long oscarId){\n        boolean exists = oscarRepository.existsById(oscarId);\n        if(!exists){\n            throw new IllegalStateException(&quot;Oscar o numerze id:  &quot; + oscarId + &quot; nie istenieje&quot;);\n        }\n        oscarRepository.deleteById(oscarId);\n    }\n\n    @Transactional\n    public void updateOscar(Long oscarId, Long rok) {\n        Oscar oscar = oscarRepository.findById(oscarId).orElseThrow(() -&gt; new IllegalStateException(\n                &quot;Oscar o numerze id:  &quot; + oscarId + &quot; nie istnieje&quot;));\n\n        if (rok != null &amp;&amp; rok &gt; 0 &amp;&amp; rok != oscar.getRok()) {\n            oscar.setRok(rok);\n        }\n    }\n}\n\n</code></pre>\n<p>My request</p>\n<pre><code>{\n    &quot;rok&quot;: &quot;2020&quot;,\n    &quot;idFilmu&quot;: &quot;1&quot;,\n    &quot;idRezysera&quot;: &quot;2&quot;\n}\n</code></pre>\n<p>Error Message</p>\n<pre><code>JSON parse error: Cannot construct instance of `com.example.Projekt21.entity.Film` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('1');\n</code></pre>\n<p>Can someone please give me a simple explanation on how to fix my problem?\nThanks</p>\n<p><strong>EDIT:\nFilm entity</strong></p>\n<pre><code>package com.example.Projekt21.entity;\n\nimport javax.persistence.*;\n\n@Table\n @Entity\npublic class Film {\n\n@Id\n@GeneratedValue\nprivate Long id;\nprivate String tytul;\nprivate String gatunek;\nprivate Long rok_produkcji;\n\n@ManyToOne(cascade = {CascadeType.MERGE, CascadeType.PERSIST})\nprivate Rezyser rezyser;\n\npublic Film(String tytul, String gatunek, Long rok_produkcji, Rezyser \nrezyser) {\n    this.tytul = tytul;\n    this.gatunek = gatunek;\n    this.rok_produkcji = rok_produkcji;\n    this.rezyser = rezyser;\n}\n\npublic Film() {\n}\n\npublic Long getId() {\n    return id;\n}\n\npublic void setId(Long id) {\n    this.id = id;\n}\n\npublic String getTytul() {\n    return tytul;\n}\n\npublic void setTytul(String tytul) {\n    this.tytul = tytul;\n}\n\npublic String getGatunek() {\n    return gatunek;\n}\n\npublic void setGatunek(String gatunek) {\n    this.gatunek = gatunek;\n}\n\npublic Long getRok_produkcji() {\n    return rok_produkcji;\n}\n\npublic void setRok_produkcji(Long rok_produkcji) {\n    this.rok_produkcji = rok_produkcji;\n}\n\npublic Rezyser getRezyser() {\n    return rezyser;\n}\n\npublic void setRezyser(Rezyser rezyser) {\n    this.rezyser = rezyser;\n}\n\n@Override\npublic String toString() {\n    return &quot;Film{&quot; +\n            &quot;id=&quot; + id +\n            &quot;, tytul='&quot; + tytul + '\\'' +\n            &quot;, gatunek='&quot; + gatunek + '\\'' +\n            &quot;, rok_produkcji=&quot; + rok_produkcji +\n            &quot;, id_rezysera=&quot; + rezyser +\n            '}';\n}\n</code></pre>\n<p>}</p>\n<p>and Rezyser</p>\n<pre><code>public class Rezyser {\n\n@Id\n@GeneratedValue\nprivate Long id;\nprivate String imie;\nprivate String nazwisko;\nprivate Date data_urodzenia;\nprivate String kraj_pochodzenia;\n\n@OnDelete(action = OnDeleteAction.CASCADE)\n@OneToMany(mappedBy = &quot;rezyser&quot;)\nprivate List&lt;Film&gt; filmList;\n\npublic Rezyser(String imie, String nazwisko, Date data_urodzenia, String \nkraj_pochodzenia) {\n    this.imie = imie;\n    this.nazwisko = nazwisko;\n    this.data_urodzenia = data_urodzenia;\n    this.kraj_pochodzenia = kraj_pochodzenia;\n}\n//getters, setters, toString and creators\n</code></pre>\n<p>}</p>\n<p><strong>EDIT 2</strong></p>\n<p>sharing my project: <a href=\"https://github.com/TheFandorn/Projekt2.1\" rel=\"nofollow noreferrer\">https://github.com/TheFandorn/Projekt2.1</a></p>\n"},{"tags":["java","linux","bash","shell","ubuntu"],"comments":[{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1431601038,"post_id":30235541,"comment_id":48573025,"body_markdown":"Does your `/home/jre` folder exist and actually contain a `bin` folder, in turn containing the `java` binary?","body":"Does your <code>&#47;home&#47;jre</code> folder exist and actually contain a <code>bin</code> folder, in turn containing the <code>java</code> binary?"},{"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1431601049,"post_id":30235541,"comment_id":48573035,"body_markdown":"Try running `$JAVA_HOME/bin/java Copy` from `setup.sh` script","body":"Try running <code>$JAVA_HOME&#47;bin&#47;java Copy</code> from <code>setup.sh</code> script"},{"owner":{"account_id":4653911,"reputation":141,"user_id":3769952,"accept_rate":40,"display_name":"Vishal"},"score":0,"creation_date":1431601106,"post_id":30235541,"comment_id":48573066,"body_markdown":"@Mena Yes the folder is exist and have all the required files.","body":"@Mena Yes the folder is exist and have all the required files."},{"owner":{"account_id":4653911,"reputation":141,"user_id":3769952,"accept_rate":40,"display_name":"Vishal"},"score":0,"creation_date":1431601138,"post_id":30235541,"comment_id":48573085,"body_markdown":"@anubhava tried but not working. thanks for your suggestion.","body":"@anubhava tried but not working. thanks for your suggestion."},{"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1431601186,"post_id":30235541,"comment_id":48573110,"body_markdown":"What does `ls -l /home/jre/bin/java` show you?","body":"What does <code>ls -l &#47;home&#47;jre&#47;bin&#47;java</code> show you?"},{"owner":{"account_id":4653911,"reputation":141,"user_id":3769952,"accept_rate":40,"display_name":"Vishal"},"score":0,"creation_date":1431601386,"post_id":30235541,"comment_id":48573223,"body_markdown":"@anubhava if i changed export PATH=$PATH:$JAVA_HOME/bin to export PATH=$PATH:/home/jre/bin then its working fine.","body":"@anubhava if i changed export PATH=$PATH:$JAVA_HOME/bin to export PATH=$PATH:/home/jre/bin then its working fine."},{"owner":{"account_id":1552727,"reputation":2761,"user_id":1444748,"accept_rate":80,"display_name":"Morad"},"score":0,"creation_date":1431601542,"post_id":30235541,"comment_id":48573312,"body_markdown":"Try export PATH=${PATH}:${JAVA_HOME}/bin","body":"Try export PATH=${PATH}:${JAVA_HOME}/bin"},{"owner":{"account_id":4653911,"reputation":141,"user_id":3769952,"accept_rate":40,"display_name":"Vishal"},"score":0,"creation_date":1431602445,"post_id":30235541,"comment_id":48573850,"body_markdown":"@Morad\n\nI have change as per your suggestion as below:\n\n#!/bin/bash\n. ./setenv.sh\n\necho $JAVA_PATH\necho $PATH\nexport PATH=${PATH}:${JAVA_PATH}/bin\necho $PATH\n\njava Copy\n\n\nNow Output is:\n\n/home/jre\n\n/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n\n/bin/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/home/jre\n\njava not found","body":"@Morad  I have change as per your suggestion as below:  #!/bin/bash . ./setenv.sh  echo $JAVA_PATH echo $PATH export PATH=${PATH}:${JAVA_PATH}/bin echo $PATH  java Copy   Now Output is:  /home/jre  /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin  /bin/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&zwnj;&#8203;:/home/jre  java not found"},{"owner":{"account_id":1552727,"reputation":2761,"user_id":1444748,"accept_rate":80,"display_name":"Morad"},"score":0,"creation_date":1431603144,"post_id":30235541,"comment_id":48574234,"body_markdown":"It&#39;s strange that your PATH has /home/jre in the end of it instead of /home/jre/bin. What happens when you add &quot;TMP=${JAVA_PATH}/bin; echo $TMP&quot; to your script?","body":"It&#39;s strange that your PATH has /home/jre in the end of it instead of /home/jre/bin. What happens when you add &quot;TMP=${JAVA_PATH}/bin; echo $TMP&quot; to your script?"},{"owner":{"account_id":94756,"reputation":78623,"user_id":258523,"accept_rate":83,"display_name":"Etan Reisner"},"score":0,"creation_date":1431603584,"post_id":30235541,"comment_id":48574519,"body_markdown":"Does `setenv.sh` have DOS line endings by any chance?","body":"Does <code>setenv.sh</code> have DOS line endings by any chance?"},{"owner":{"account_id":4653911,"reputation":141,"user_id":3769952,"accept_rate":40,"display_name":"Vishal"},"score":0,"creation_date":1431603682,"post_id":30235541,"comment_id":48574575,"body_markdown":"It seems that it replace the  /usr (First output) to /bin (Second output) as you can see at the starting point of both the output.","body":"It seems that it replace the  /usr (First output) to /bin (Second output) as you can see at the starting point of both the output."},{"owner":{"account_id":3889535,"reputation":19352,"user_id":3220113,"display_name":"Walter A"},"score":1,"creation_date":1431608595,"post_id":30235541,"comment_id":48577703,"body_markdown":"The first line of setenv.sh seems to be a space, I guess a formatting issue. Please change. (File is sourced, so it doesn&#39;t matter)","body":"The first line of setenv.sh seems to be a space, I guess a formatting issue. Please change. (File is sourced, so it doesn&#39;t matter)"},{"owner":{"account_id":4653911,"reputation":141,"user_id":3769952,"accept_rate":40,"display_name":"Vishal"},"score":0,"creation_date":1431674122,"post_id":30235541,"comment_id":48607394,"body_markdown":"@WalterA Thanks for your suggestion, yes it was a formatting issue. Many Thanks. :)","body":"@WalterA Thanks for your suggestion, yes it was a formatting issue. Many Thanks. :)"}],"answers":[{"tags":[],"owner":{"account_id":2047499,"reputation":1845,"user_id":1827276,"accept_rate":56,"display_name":"boly38"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432883389,"creation_date":1432883389,"answer_id":30523318,"question_id":30235541,"body_markdown":"Please check the [shebang][1] of the two scripts: as Walter A says, please remove the beginning space from the first line and check the endofline (LF vs. CRLF) for each file (dos2unix tool could help).\r\n\r\nIn addition, and to use java executable directly from your $PATH entry, maybe you need to add shebang of the `Setup.sh` script too.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Shebang_%28Unix%29","title":"how to add JAVA_HOME variable to PATH variable in ubuntu","body":"<p>Please check the <a href=\"http://en.wikipedia.org/wiki/Shebang_%28Unix%29\" rel=\"nofollow\">shebang</a> of the two scripts: as Walter A says, please remove the beginning space from the first line and check the endofline (LF vs. CRLF) for each file (dos2unix tool could help).</p>\n\n<p>In addition, and to use java executable directly from your $PATH entry, maybe you need to add shebang of the <code>Setup.sh</code> script too.</p>\n"},{"tags":[],"owner":{"account_id":23151438,"reputation":25,"user_id":17253379,"display_name":"Master SentiBlue"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640804943,"creation_date":1640804943,"answer_id":70523898,"question_id":30235541,"body_markdown":"I think this line is the problem: `. ./setenv.sh`\r\nThe `./setenv.sh` path is relative to the current directory and is not relative to the setup.sh script itself.\r\n\r\nIn setup.sh, please either refer to setenv.sh using absolute path or use \r\n        `$($(basedir $0)/setenv.sh)`","title":"how to add JAVA_HOME variable to PATH variable in ubuntu","body":"<p>I think this line is the problem: <code>. ./setenv.sh</code>\nThe <code>./setenv.sh</code> path is relative to the current directory and is not relative to the setup.sh script itself.</p>\n<p>In setup.sh, please either refer to setenv.sh using absolute path or use\n<code>$($(basedir $0)/setenv.sh)</code></p>\n"}],"owner":{"account_id":4653911,"reputation":141,"user_id":3769952,"accept_rate":40,"display_name":"Vishal"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1640804943,"creation_date":1431600889,"question_id":30235541,"body_markdown":"I want to get some variable from one file and use it in other shell files.\r\nfor this purpose I create two files as below.\r\n\r\nI have two sh files.\r\n\r\n1. setenv.sh\r\n2. Setup.sh\r\n\r\n**content of setenv.sh :**\r\n\r\n     #!bin/bash\r\n     \r\n    export JAVA_HOME=/home/jre\r\n\r\n**content of Setup.sh :**\r\n\r\n    . ./setenv.sh\r\n    \r\n    echo $JAVA_HOME\r\n    \r\n    export PATH=$PATH:$JAVA_HOME/bin\r\n    \r\n    java Copy\r\n\r\n**when I run the Setup.sh file it gives the following output:**\r\n\r\n    /home/jre\r\n    \r\n    java not found\r\n\r\nSo can you please help me to solve this issue.\r\nthanks\r\n\r\n\r\n\r\n","title":"how to add JAVA_HOME variable to PATH variable in ubuntu","body":"<p>I want to get some variable from one file and use it in other shell files.\nfor this purpose I create two files as below.</p>\n\n<p>I have two sh files.</p>\n\n<ol>\n<li>setenv.sh</li>\n<li>Setup.sh</li>\n</ol>\n\n<p><strong>content of setenv.sh :</strong></p>\n\n<pre><code> #!bin/bash\n\nexport JAVA_HOME=/home/jre\n</code></pre>\n\n<p><strong>content of Setup.sh :</strong></p>\n\n<pre><code>. ./setenv.sh\n\necho $JAVA_HOME\n\nexport PATH=$PATH:$JAVA_HOME/bin\n\njava Copy\n</code></pre>\n\n<p><strong>when I run the Setup.sh file it gives the following output:</strong></p>\n\n<pre><code>/home/jre\n\njava not found\n</code></pre>\n\n<p>So can you please help me to solve this issue.\nthanks</p>\n"},{"tags":["java","azure","azure-ad-msal","azure-managed-identity"],"answers":[{"tags":[],"owner":{"account_id":19062442,"reputation":321,"user_id":13918262,"display_name":"udayxhegde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640804412,"creation_date":1640804412,"answer_id":70523808,"question_id":70458291,"body_markdown":"The best option here is to use the azure keyvault sdk, which manages the caching for you so you dont need to do this yourself. See this page for all the different languages this sdk is available: https://learn.microsoft.com/en-us/azure/key-vault/secrets/\r\n\r\nYou can simply pass the ManagedIdentityCredential, and the underlying getToken is then managed by the SDK, without you needing to get a token and figuring out how to cache it.\r\n\r\nexample in node:\r\n\r\n    const kvSecret = require(&#39;@azure/keyvault-secrets&#39;);\r\n    const identity = require(&#39;@azure/identity&#39;);\r\n    \r\n    const credential = new identity.ManagedIdentityCredential();\r\n    const keyVaultClient = new kvSecret.SecretClient(keyVaultUrl, credential);\r\n    const result = await keyVaultClient.getSecret(secretName);\r\n\r\n","title":"Java how to cache DefaultAzureCredential for key vault when using Manage Identity from Server","body":"<p>The best option here is to use the azure keyvault sdk, which manages the caching for you so you dont need to do this yourself. See this page for all the different languages this sdk is available: <a href=\"https://learn.microsoft.com/en-us/azure/key-vault/secrets/\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/key-vault/secrets/</a></p>\n<p>You can simply pass the ManagedIdentityCredential, and the underlying getToken is then managed by the SDK, without you needing to get a token and figuring out how to cache it.</p>\n<p>example in node:</p>\n<pre><code>const kvSecret = require('@azure/keyvault-secrets');\nconst identity = require('@azure/identity');\n\nconst credential = new identity.ManagedIdentityCredential();\nconst keyVaultClient = new kvSecret.SecretClient(keyVaultUrl, credential);\nconst result = await keyVaultClient.getSecret(secretName);\n</code></pre>\n"}],"owner":{"account_id":23723657,"reputation":11,"user_id":17743887,"display_name":"Jesper Werge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640804412,"creation_date":1640239947,"question_id":70458291,"body_markdown":"We are operating in Azure Manage Identity environment, where I have a high performance stdin stdout process where each process request access to the Azure Key Vault for getting secrets and settings for other Azure resources/components. \r\nBut we experience that we do not get the token each time as we have to many request to fast, and are requested to cache the token and refresh it when expired. makes sense, but I am not able to find the correct/good way to do so. It seems that it is not build in the java sdk for Azure.\r\n\r\nI was hoping some of you have had experience in this and could guide me, please.","title":"Java how to cache DefaultAzureCredential for key vault when using Manage Identity from Server","body":"<p>We are operating in Azure Manage Identity environment, where I have a high performance stdin stdout process where each process request access to the Azure Key Vault for getting secrets and settings for other Azure resources/components.\nBut we experience that we do not get the token each time as we have to many request to fast, and are requested to cache the token and refresh it when expired. makes sense, but I am not able to find the correct/good way to do so. It seems that it is not build in the java sdk for Azure.</p>\n<p>I was hoping some of you have had experience in this and could guide me, please.</p>\n"},{"tags":["java","web-services","jax-ws"],"answers":[{"tags":[],"owner":{"account_id":67017,"reputation":4157,"user_id":196315,"display_name":"ankon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1256761206,"creation_date":1256761206,"answer_id":1639872,"question_id":1639810,"body_markdown":"One workaround idea: add filter on the web application that just consumes the BOM before passing on the request document to the JAX-WS service.","title":"JAX-WS errors when SOAP body contains UTF-8 BOM","body":"<p>One workaround idea: add filter on the web application that just consumes the BOM before passing on the request document to the JAX-WS service.</p>\n"},{"tags":[],"owner":{"account_id":25705,"reputation":9229,"user_id":66293,"accept_rate":88,"display_name":"Andrew M"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1284467028,"creation_date":1284467028,"answer_id":3708806,"question_id":1639810,"body_markdown":"We had a similar problem writing a .Net client to a 3rd party Java webservice, .Net included the Byte order mark and the Java service would throw an exception.\r\n\r\nThe 3rd party SOAP method took a single string as an argument, and that string was an XML document (I love people who don&#39;t really understand what problem SOAP is trying to solve!) By default .net added the UTF-8 byte order mark to the &quot;payload&quot; xml document, which is strictly correct, but in practice causes problems.\r\n\r\nIn our case we found two possible solutions from the client (.net) end. I&#39;m not sure how easy this will be to do from SQL Reporting services though.\r\n\r\nString.Trim()  - The xml had to get put into a string before passing into the soap method, calling .Trim() removed the byte order mark. Easy.\r\n\r\nThe second method was to set the UTF encoding settings on the XmlWriterSettings slightly differently, something like the following:\r\n\r\n    XmlWriter xmlWriter = null;\r\n    XmlWriterSettings settings = new XmlWriterSettings();\r\n    settings.Indent = true;\r\n    settings.Encoding = new UTF8Encoding(false);\r\n    xmlWriter = XmlWriter.Create(xmlSteam, settings);\r\n\r\nThe important bit is the &quot;new UTF8Encoding(**false**);&quot;, that argument is &quot;encoderShouldEmitUTF8Identifier&quot; and pretty much solves the problem.","title":"JAX-WS errors when SOAP body contains UTF-8 BOM","body":"<p>We had a similar problem writing a .Net client to a 3rd party Java webservice, .Net included the Byte order mark and the Java service would throw an exception.</p>\n\n<p>The 3rd party SOAP method took a single string as an argument, and that string was an XML document (I love people who don't really understand what problem SOAP is trying to solve!) By default .net added the UTF-8 byte order mark to the \"payload\" xml document, which is strictly correct, but in practice causes problems.</p>\n\n<p>In our case we found two possible solutions from the client (.net) end. I'm not sure how easy this will be to do from SQL Reporting services though.</p>\n\n<p>String.Trim()  - The xml had to get put into a string before passing into the soap method, calling .Trim() removed the byte order mark. Easy.</p>\n\n<p>The second method was to set the UTF encoding settings on the XmlWriterSettings slightly differently, something like the following:</p>\n\n<pre><code>XmlWriter xmlWriter = null;\nXmlWriterSettings settings = new XmlWriterSettings();\nsettings.Indent = true;\nsettings.Encoding = new UTF8Encoding(false);\nxmlWriter = XmlWriter.Create(xmlSteam, settings);\n</code></pre>\n\n<p>The important bit is the \"new UTF8Encoding(<strong>false</strong>);\", that argument is \"encoderShouldEmitUTF8Identifier\" and pretty much solves the problem.</p>\n"},{"tags":[],"owner":{"account_id":2116606,"reputation":923,"user_id":1880761,"accept_rate":60,"display_name":"trebor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640803770,"creation_date":1640803770,"answer_id":70523706,"question_id":1639810,"body_markdown":"We faced this issue when hosting a .NET WCF service which was consumed by a Java client.\r\n\r\nThe .NET service uses [SoapCore](https://github.com/DigDes/SoapCore), so our solution was to modify the server application&#39;s encoding options:\r\n\r\n```cs\r\nvar encoder = new SoapEncoderOptions();\r\nencoder.WriteEncoding = new UTF8Encoding(false); // &lt;---- disables BOM which causes issue\r\n\r\napp.UseEndpoints(endpoints =&gt; {\r\n\tendpoints.UseSoapEndpoint&lt;IPingService&gt;(&quot;/Service.svc&quot;, encoder, SoapSerializer.DataContractSerializer);\r\n});\r\n```\r\n\r\nThis was found after reviewing [Microsoft documentation for UTF-8 encoding](https://learn.microsoft.com/en-us/dotnet/api/system.text.utf8encoding.preamble?view=net-6.0).\r\n\r\nAn issue in the SoapCore repository mentions the same: https://github.com/DigDes/SoapCore/issues/394.","title":"JAX-WS errors when SOAP body contains UTF-8 BOM","body":"<p>We faced this issue when hosting a .NET WCF service which was consumed by a Java client.</p>\n<p>The .NET service uses <a href=\"https://github.com/DigDes/SoapCore\" rel=\"nofollow noreferrer\">SoapCore</a>, so our solution was to modify the server application's encoding options:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>var encoder = new SoapEncoderOptions();\nencoder.WriteEncoding = new UTF8Encoding(false); // &lt;---- disables BOM which causes issue\n\napp.UseEndpoints(endpoints =&gt; {\n    endpoints.UseSoapEndpoint&lt;IPingService&gt;(&quot;/Service.svc&quot;, encoder, SoapSerializer.DataContractSerializer);\n});\n</code></pre>\n<p>This was found after reviewing <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.text.utf8encoding.preamble?view=net-6.0\" rel=\"nofollow noreferrer\">Microsoft documentation for UTF-8 encoding</a>.</p>\n<p>An issue in the SoapCore repository mentions the same: <a href=\"https://github.com/DigDes/SoapCore/issues/394\" rel=\"nofollow noreferrer\">https://github.com/DigDes/SoapCore/issues/394</a>.</p>\n"}],"owner":{"account_id":6285,"reputation":565,"user_id":10511,"accept_rate":60,"display_name":"Vinny Carpenter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7297,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1640803770,"creation_date":1256760680,"question_id":1639810,"body_markdown":"I have developed a Web Service using JAX-WS (v2.1.3 - Sun JDK 1.6.0_05) deployed on WebLogic 10.3 that works just fine when I use a Java client or SoapUI or other Web Services testing tools. I need to consume this service using 2005 Microsoft SQL Server Reporting Services and I get the following error\r\n\r\n&gt; Couldn&#39;t create SOAP message due to\r\n&gt; exception: XML reader error:\r\n&gt; unexpected character content\r\n\r\n\r\n    SEVERE: Couldn&#39;t create SOAP message due to exception: XML reader error: unexpected character content: &quot;?&quot;\r\n    com.sun.xml.ws.protocol.soap.MessageCreationException: Couldn&#39;t create SOAP message due to exception: XML reader error: unexpected character content: &quot;?&quot;\r\n    at com.sun.xml.ws.encoding.SOAPBindingCodec.decode(SOAPBindingCodec.java:292)\r\n    at com.sun.xml.ws.transport.http.HttpAdapter.decodePacket(HttpAdapter.java:276)\r\n    at com.sun.xml.ws.transport.http.HttpAdapter.access$500(HttpAdapter.java:93)\r\n    at com.sun.xml.ws.transport.http.HttpAdapter$HttpToolkit.handle(HttpAdapter.java:432)\r\n    at com.sun.xml.ws.transport.http.HttpAdapter.handle(HttpAdapter.java:244)\r\n    at com.sun.xml.ws.transport.http.servlet.ServletAdapter.handle(ServletAdapter.java:134)\r\n    at com.sun.xml.ws.transport.http.servlet.WSServletDelegate.doGet(WSServletDelegate.java:129)\r\n    at com.sun.xml.ws.transport.http.servlet.WSServletDelegate.doPost(WSServletDelegate.java:160)\r\n    at com.sun.xml.ws.transport.http.servlet.WSServlet.doPost(WSServlet.java:75)\r\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)\r\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\r\n    at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:227)\r\n    at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:125)\r\n    at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:292)\r\n    at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:175)\r\n    at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3498)\r\n    at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)\r\n    at weblogic.security.service.SecurityManager.runAs(Unknown Source)\r\n    at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2180)\r\n    at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2086)\r\n    at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1406)\r\n    at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)\r\n    at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)\r\n    Caused by: com.sun.xml.ws.streaming.XMLStreamReaderException: XML reader error: unexpected character content: &quot;?&quot;\r\n    at com.sun.xml.ws.streaming.XMLStreamReaderUtil.nextElementContent(XMLStreamReaderUtil.java:102)\r\n    at com.sun.xml.ws.encoding.StreamSOAPCodec.decode(StreamSOAPCodec.java:174)\r\n    at com.sun.xml.ws.encoding.StreamSOAPCodec.decode(StreamSOAPCodec.java:296)\r\n    at com.sun.xml.ws.encoding.StreamSOAPCodec.decode(StreamSOAPCodec.java:128)\r\n    at com.sun.xml.ws.encoding.SOAPBindingCodec.decode(SOAPBindingCodec.java:287)\r\n    ... 22 more\r\n\r\n\r\nIf I use a HTTP proxy to sniff out what SSRS is sending to JAX-WS, I see EF BB BF as the beginning of the post body and JAX-WS doesn&#39;t like that. If I remove the special characters and resubmit the request using Fiddler, then the web-service invocation works.\r\n\r\nWhy does JAX-WS blow up with the standard UTF-8 BOM? Is there a workaround to get past this issue? Any suggestions would be greatly appreciated. Thanks\r\n\r\n--Vinny \r\n","title":"JAX-WS errors when SOAP body contains UTF-8 BOM","body":"<p>I have developed a Web Service using JAX-WS (v2.1.3 - Sun JDK 1.6.0_05) deployed on WebLogic 10.3 that works just fine when I use a Java client or SoapUI or other Web Services testing tools. I need to consume this service using 2005 Microsoft SQL Server Reporting Services and I get the following error</p>\n\n<blockquote>\n  <p>Couldn't create SOAP message due to\n  exception: XML reader error:\n  unexpected character content</p>\n</blockquote>\n\n<pre><code>SEVERE: Couldn't create SOAP message due to exception: XML reader error: unexpected character content: \"?\"\ncom.sun.xml.ws.protocol.soap.MessageCreationException: Couldn't create SOAP message due to exception: XML reader error: unexpected character content: \"?\"\nat com.sun.xml.ws.encoding.SOAPBindingCodec.decode(SOAPBindingCodec.java:292)\nat com.sun.xml.ws.transport.http.HttpAdapter.decodePacket(HttpAdapter.java:276)\nat com.sun.xml.ws.transport.http.HttpAdapter.access$500(HttpAdapter.java:93)\nat com.sun.xml.ws.transport.http.HttpAdapter$HttpToolkit.handle(HttpAdapter.java:432)\nat com.sun.xml.ws.transport.http.HttpAdapter.handle(HttpAdapter.java:244)\nat com.sun.xml.ws.transport.http.servlet.ServletAdapter.handle(ServletAdapter.java:134)\nat com.sun.xml.ws.transport.http.servlet.WSServletDelegate.doGet(WSServletDelegate.java:129)\nat com.sun.xml.ws.transport.http.servlet.WSServletDelegate.doPost(WSServletDelegate.java:160)\nat com.sun.xml.ws.transport.http.servlet.WSServlet.doPost(WSServlet.java:75)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:727)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\nat weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:227)\nat weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:125)\nat weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:292)\nat weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:175)\nat weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3498)\nat weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)\nat weblogic.security.service.SecurityManager.runAs(Unknown Source)\nat weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2180)\nat weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2086)\nat weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1406)\nat weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)\nat weblogic.work.ExecuteThread.run(ExecuteThread.java:173)\nCaused by: com.sun.xml.ws.streaming.XMLStreamReaderException: XML reader error: unexpected character content: \"?\"\nat com.sun.xml.ws.streaming.XMLStreamReaderUtil.nextElementContent(XMLStreamReaderUtil.java:102)\nat com.sun.xml.ws.encoding.StreamSOAPCodec.decode(StreamSOAPCodec.java:174)\nat com.sun.xml.ws.encoding.StreamSOAPCodec.decode(StreamSOAPCodec.java:296)\nat com.sun.xml.ws.encoding.StreamSOAPCodec.decode(StreamSOAPCodec.java:128)\nat com.sun.xml.ws.encoding.SOAPBindingCodec.decode(SOAPBindingCodec.java:287)\n... 22 more\n</code></pre>\n\n<p>If I use a HTTP proxy to sniff out what SSRS is sending to JAX-WS, I see EF BB BF as the beginning of the post body and JAX-WS doesn't like that. If I remove the special characters and resubmit the request using Fiddler, then the web-service invocation works.</p>\n\n<p>Why does JAX-WS blow up with the standard UTF-8 BOM? Is there a workaround to get past this issue? Any suggestions would be greatly appreciated. Thanks</p>\n\n<p>--Vinny </p>\n"},{"tags":["java","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":8460744,"reputation":576,"user_id":6346585,"display_name":"Banns"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640723359,"creation_date":1640723359,"answer_id":70512193,"question_id":70510184,"body_markdown":"Yes, it is possible, either inline, instantiating or recovering the data as you asked.\r\n\r\nWhen specifying a connection between 2 (or more) classes it is good to create the full mapping at first and then hone it after undertanding it fully (at least that is how I think).\r\n\r\nFor your case I&#39;ve reproduced the entities and created a simple persistence with spring-boot with mysql (don&#39;t have postgres here, sry) to make the POC.\r\n\r\nThe entities:\r\n\r\nEntity1\r\n\r\n    package com.jakub.model;\r\n    \r\n    import java.io.Serializable;\r\n    import javax.persistence.CascadeType;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.JoinColumn;\r\n    import javax.persistence.ManyToOne;\r\n    import javax.persistence.Table;\r\n    \r\n    /**\r\n     *\r\n     * @author Andr&#233; Fr&#243;es\r\n     */\r\n    @Entity\r\n    @Table(name = &quot;entity1&quot;)\r\n    public class Entity1 implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n        \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private Long id;\r\n        \r\n        @JoinColumn(name = &quot;entity2_id&quot;, referencedColumnName = &quot;id&quot;)\r\n        @ManyToOne(optional = false, cascade = CascadeType.ALL)\r\n        private Entity2 entity2;\r\n    \r\n        public Entity1() {\r\n        }\r\n        \r\n        public Entity1(Entity2 ent) {\r\n            this.entity2 = ent;\r\n        }\r\n    \r\n        public Entity1(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public Entity2 getEntity2Id() {\r\n            return entity2;\r\n        }\r\n    \r\n        public void setEntity2Id(Entity2 entity2Id) {\r\n            this.entity2 = entity2Id;\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            int hash = 0;\r\n            hash += (id != null ? id.hashCode() : 0);\r\n            return hash;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object object) {\r\n            // TODO: Warning - this method won&#39;t work in the case the id fields are not set\r\n            if (!(object instanceof Entity1)) {\r\n                return false;\r\n            }\r\n            Entity1 other = (Entity1) object;\r\n            if ((this.id == null &amp;&amp; other.id != null) || (this.id != null &amp;&amp; !this.id.equals(other.id))) {\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;com.jakub.model.Entity1[ id=&quot; + id + &quot; ]&quot;;\r\n        }\r\n        \r\n    }\r\n\r\nEntity2\r\n\r\n    package com.jakub.model;\r\n    \r\n    import java.io.Serializable;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import javax.persistence.CascadeType;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.OneToMany;\r\n    import javax.persistence.Table;\r\n    import javax.xml.bind.annotation.XmlTransient;\r\n    \r\n    /**\r\n     *\r\n     * @author Andr&#233; Fr&#243;es\r\n     */\r\n    @Entity\r\n    @Table(name = &quot;entity2&quot;)\r\n    public class Entity2 implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;str&quot;)\r\n        private String str;\r\n    \r\n        @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;entity2&quot;)\r\n        private List&lt;Entity1&gt; entity1List;\r\n    \r\n        public Entity2() {\r\n        }\r\n    \r\n        public Entity2(String str) {\r\n            this.str = str;\r\n        }\r\n    \r\n        public Entity2(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getStr() {\r\n            return str;\r\n        }\r\n    \r\n        public void setStr(String str) {\r\n            this.str = str;\r\n        }\r\n    \r\n        @XmlTransient\r\n        public List&lt;Entity1&gt; getEntity1List() {\r\n            if (entity1List == null) {\r\n                entity1List = new ArrayList&lt;&gt;();\r\n            }\r\n            return entity1List;\r\n        }\r\n    \r\n        public void setEntity1List(List&lt;Entity1&gt; entity1List) {\r\n            this.entity1List = entity1List;\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            int hash = 0;\r\n            hash += (id != null ? id.hashCode() : 0);\r\n            return hash;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object object) {\r\n            // TODO: Warning - this method won&#39;t work in the case the id fields are not set\r\n            if (!(object instanceof Entity2)) {\r\n                return false;\r\n            }\r\n            Entity2 other = (Entity2) object;\r\n            if ((this.id == null &amp;&amp; other.id != null) || (this.id != null &amp;&amp; !this.id.equals(other.id))) {\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;com.jakub.model.Entity2[ id=&quot; + id + &quot; ]&quot;;\r\n        }\r\n    \r\n    }\r\n\r\nAs you can notice, I didn&#39;t add the sequential strategy that you&#39;ve added since you didn&#39;t post it, but should not stray far from this example. And secondly, I added in the Entity2 the list of entity1 with the mapping as well.\r\n\r\nPay attention that in the `manyToOne` relation in the `Entity1` I&#39;ve added a cascade in order to work properly as well.\r\n\r\nAfter that, all that was needed was to persist the entity and it should work without any issues, since the mapping will provide the sql for the persistence.\r\n\r\n    package com.jakub.service;\r\n    \r\n    import com.jakub.model.Entity1;\r\n    import com.jakub.model.Entity2;\r\n    import com.jakub.repository.Entity2Repository;\r\n    import com.jakub.repository.EntityRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    /**\r\n     *\r\n     * @author Andr&#233; Fr&#243;es\r\n     */\r\n    @Service\r\n    public class EntityService {\r\n        \r\n        @Autowired\r\n        private EntityRepository eRepo;\r\n        \r\n        @Autowired\r\n        private Entity2Repository e2Repo;\r\n        \r\n        public void saveEntity1() {\r\n    //        // Working\r\n    //        Entity1 ent1 = new Entity1(new Entity2(&quot;2&quot;));\r\n    //        ent1.getEntity2Id().getEntity1List().add(ent1);\r\n    //        eRepo.save(ent1;\r\n            \r\n    //        // working 2\r\n    //        eRepo.save(new Entity1(new Entity2(&quot;3&quot;)));\r\n    \r\n            // working 3\r\n            eRepo.save(new Entity1(e2Repo.findAll().get(0)));\r\n        }\r\n        \r\n        \r\n    }\r\n\r\nAll the examples above are working correctly. A screenshot of my DB is below with the persisted info.\r\n\r\n[![Persisted Data][1]][1]\r\n\r\nI&#39;ve created a project on [github with this example][2].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NpCkH.png\r\n  [2]: https://github.com/AndreFroes/jakub-example","title":"Is it possible to save entity with both new and existing data?","body":"<p>Yes, it is possible, either inline, instantiating or recovering the data as you asked.</p>\n<p>When specifying a connection between 2 (or more) classes it is good to create the full mapping at first and then hone it after undertanding it fully (at least that is how I think).</p>\n<p>For your case I've reproduced the entities and created a simple persistence with spring-boot with mysql (don't have postgres here, sry) to make the POC.</p>\n<p>The entities:</p>\n<p>Entity1</p>\n<pre><code>package com.jakub.model;\n\nimport java.io.Serializable;\nimport javax.persistence.CascadeType;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.Table;\n\n/**\n *\n * @author André Fróes\n */\n@Entity\n@Table(name = &quot;entity1&quot;)\npublic class Entity1 implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n    \n    @JoinColumn(name = &quot;entity2_id&quot;, referencedColumnName = &quot;id&quot;)\n    @ManyToOne(optional = false, cascade = CascadeType.ALL)\n    private Entity2 entity2;\n\n    public Entity1() {\n    }\n    \n    public Entity1(Entity2 ent) {\n        this.entity2 = ent;\n    }\n\n    public Entity1(Long id) {\n        this.id = id;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public Entity2 getEntity2Id() {\n        return entity2;\n    }\n\n    public void setEntity2Id(Entity2 entity2Id) {\n        this.entity2 = entity2Id;\n    }\n\n    @Override\n    public int hashCode() {\n        int hash = 0;\n        hash += (id != null ? id.hashCode() : 0);\n        return hash;\n    }\n\n    @Override\n    public boolean equals(Object object) {\n        // TODO: Warning - this method won't work in the case the id fields are not set\n        if (!(object instanceof Entity1)) {\n            return false;\n        }\n        Entity1 other = (Entity1) object;\n        if ((this.id == null &amp;&amp; other.id != null) || (this.id != null &amp;&amp; !this.id.equals(other.id))) {\n            return false;\n        }\n        return true;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;com.jakub.model.Entity1[ id=&quot; + id + &quot; ]&quot;;\n    }\n    \n}\n</code></pre>\n<p>Entity2</p>\n<pre><code>package com.jakub.model;\n\nimport java.io.Serializable;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.persistence.CascadeType;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.OneToMany;\nimport javax.persistence.Table;\nimport javax.xml.bind.annotation.XmlTransient;\n\n/**\n *\n * @author André Fróes\n */\n@Entity\n@Table(name = &quot;entity2&quot;)\npublic class Entity2 implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Column(name = &quot;str&quot;)\n    private String str;\n\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;entity2&quot;)\n    private List&lt;Entity1&gt; entity1List;\n\n    public Entity2() {\n    }\n\n    public Entity2(String str) {\n        this.str = str;\n    }\n\n    public Entity2(Long id) {\n        this.id = id;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getStr() {\n        return str;\n    }\n\n    public void setStr(String str) {\n        this.str = str;\n    }\n\n    @XmlTransient\n    public List&lt;Entity1&gt; getEntity1List() {\n        if (entity1List == null) {\n            entity1List = new ArrayList&lt;&gt;();\n        }\n        return entity1List;\n    }\n\n    public void setEntity1List(List&lt;Entity1&gt; entity1List) {\n        this.entity1List = entity1List;\n    }\n\n    @Override\n    public int hashCode() {\n        int hash = 0;\n        hash += (id != null ? id.hashCode() : 0);\n        return hash;\n    }\n\n    @Override\n    public boolean equals(Object object) {\n        // TODO: Warning - this method won't work in the case the id fields are not set\n        if (!(object instanceof Entity2)) {\n            return false;\n        }\n        Entity2 other = (Entity2) object;\n        if ((this.id == null &amp;&amp; other.id != null) || (this.id != null &amp;&amp; !this.id.equals(other.id))) {\n            return false;\n        }\n        return true;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;com.jakub.model.Entity2[ id=&quot; + id + &quot; ]&quot;;\n    }\n\n}\n</code></pre>\n<p>As you can notice, I didn't add the sequential strategy that you've added since you didn't post it, but should not stray far from this example. And secondly, I added in the Entity2 the list of entity1 with the mapping as well.</p>\n<p>Pay attention that in the <code>manyToOne</code> relation in the <code>Entity1</code> I've added a cascade in order to work properly as well.</p>\n<p>After that, all that was needed was to persist the entity and it should work without any issues, since the mapping will provide the sql for the persistence.</p>\n<pre><code>package com.jakub.service;\n\nimport com.jakub.model.Entity1;\nimport com.jakub.model.Entity2;\nimport com.jakub.repository.Entity2Repository;\nimport com.jakub.repository.EntityRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n/**\n *\n * @author André Fróes\n */\n@Service\npublic class EntityService {\n    \n    @Autowired\n    private EntityRepository eRepo;\n    \n    @Autowired\n    private Entity2Repository e2Repo;\n    \n    public void saveEntity1() {\n//        // Working\n//        Entity1 ent1 = new Entity1(new Entity2(&quot;2&quot;));\n//        ent1.getEntity2Id().getEntity1List().add(ent1);\n//        eRepo.save(ent1;\n        \n//        // working 2\n//        eRepo.save(new Entity1(new Entity2(&quot;3&quot;)));\n\n        // working 3\n        eRepo.save(new Entity1(e2Repo.findAll().get(0)));\n    }\n    \n    \n}\n</code></pre>\n<p>All the examples above are working correctly. A screenshot of my DB is below with the persisted info.</p>\n<p><a href=\"https://i.stack.imgur.com/NpCkH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NpCkH.png\" alt=\"Persisted Data\" /></a></p>\n<p>I've created a project on <a href=\"https://github.com/AndreFroes/jakub-example\" rel=\"nofollow noreferrer\">github with this example</a>.</p>\n"}],"owner":{"account_id":17805138,"reputation":21,"user_id":12930998,"display_name":"Jakub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640803678,"creation_date":1640710751,"question_id":70510184,"body_markdown":"I have 2 classes:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;entity1&quot;)\r\npublic class TestEntity1 {\r\n\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;entity1_generator&quot;,\r\n            sequenceName = &quot;entity1_generator&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;entity1_generator&quot;\r\n    )\r\n    private long id;\r\n\r\n    @ManyToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;entity2_id&quot;)\r\n    private TestEntity2 ent;\r\n\r\n    public TestEntity1() {\r\n    }\r\n\r\n    public TestEntity1(TestEntity2 ent) {\r\n        this.ent = ent;\r\n    }\r\n\r\n    public TestEntity1(long id, TestEntity2 ent) {\r\n        this.id = id;\r\n        this.ent = ent;\r\n    }\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public TestEntity2 getEnt() {\r\n        return ent;\r\n    }\r\n\r\n    public void setEnt(TestEntity2 ent) {\r\n        this.ent = ent;\r\n    }\r\n}\r\n```\r\n\r\nand\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;entity2&quot;)\r\npublic class TestEntity2 {\r\n\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;entity2_generator&quot;,\r\n            sequenceName = &quot;entity2_generator&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;entity2_generator&quot;\r\n    )\r\n    private long id;\r\n\r\n    private String str;\r\n\r\n    public TestEntity2() {\r\n    }\r\n\r\n    public TestEntity2(String str) {\r\n        this.str = str;\r\n    }\r\n\r\n    public TestEntity2(long id, String str) {\r\n        this.id = id;\r\n        this.str = str;\r\n    }\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getStr() {\r\n        return str;\r\n    }\r\n\r\n    public void setStr(String str) {\r\n        this.str = str;\r\n    }\r\n}\r\n```\r\n\r\nI want to be able to do both:\r\n```java\r\nrepository1.save(new TestEntity1(new TestEntity2(&quot;2&quot;)));\r\n```\r\n\r\nand\r\n\r\n```java\r\nrepository1.save(new TestEntity1(repository2.findAll().get(0)));\r\n```\r\n\r\nbut the problem is that these two ways of saving entities don&#39;t work at once.\r\nI can use either one or another.\r\nI tried to use different combinations of annotations, CascadeType.ALL or Merge etc, but nothing works. Always one of the lines above throws exception\r\nIs it even possible to use both of these lines:\r\n```java\r\nrepository1.save(new TestEntity1(new TestEntity2(&quot;2&quot;)));\r\nrepository1.save(new TestEntity1(repository2.findAll().get(0)));\r\n```\r\nor do I have to decide which one I want to use?\r\n\r\nEDIT:\r\n\r\nHere is the stack trace:\r\n```\r\norg.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: com.jakub.model.Entity2; nested exception is org.hibernate.PersistentObjectException: detached entity passed to persist: com.jakub.model.Entity2\r\n\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:297)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy110.save(Unknown Source)\r\n\tat com.jakub.service.EntityService.saveEntity1(EntityService.java:39)\r\n\tat com.jakub.service.EntityServiceTest.test1(EntityServiceTest.java:17)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\nCaused by: org.hibernate.PersistentObjectException: detached entity passed to persist: com.jakub.model.Entity2\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:120)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118)\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:798)\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:766)\r\n\tat org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:298)\r\n\tat org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:510)\r\n\tat org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:434)\r\n\tat org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)\r\n\tat org.hibernate.engine.internal.Cascade.cascade(Cascade.java:153)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.cascadeBeforeSave(AbstractSaveEventListener.java:427)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:264)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:774)\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:760)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy107.persist(Unknown Source)\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:624)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:638)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\t... 76 more\r\n\r\n```\r\n\r\nand here is the test class:\r\n\r\n```java\r\npackage com.jakub.service;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\n@SpringBootTest\r\nclass EntityServiceTest {\r\n\r\n    @Autowired\r\n    private EntityService service;\r\n\r\n    @Test\r\n    void test1() {\r\n        service.saveEntity1();\r\n    }\r\n\r\n}\r\n```","title":"Is it possible to save entity with both new and existing data?","body":"<p>I have 2 classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;entity1&quot;)\npublic class TestEntity1 {\n\n    @Id\n    @SequenceGenerator(\n            name = &quot;entity1_generator&quot;,\n            sequenceName = &quot;entity1_generator&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;entity1_generator&quot;\n    )\n    private long id;\n\n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;entity2_id&quot;)\n    private TestEntity2 ent;\n\n    public TestEntity1() {\n    }\n\n    public TestEntity1(TestEntity2 ent) {\n        this.ent = ent;\n    }\n\n    public TestEntity1(long id, TestEntity2 ent) {\n        this.id = id;\n        this.ent = ent;\n    }\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public TestEntity2 getEnt() {\n        return ent;\n    }\n\n    public void setEnt(TestEntity2 ent) {\n        this.ent = ent;\n    }\n}\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;entity2&quot;)\npublic class TestEntity2 {\n\n    @Id\n    @SequenceGenerator(\n            name = &quot;entity2_generator&quot;,\n            sequenceName = &quot;entity2_generator&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;entity2_generator&quot;\n    )\n    private long id;\n\n    private String str;\n\n    public TestEntity2() {\n    }\n\n    public TestEntity2(String str) {\n        this.str = str;\n    }\n\n    public TestEntity2(long id, String str) {\n        this.id = id;\n        this.str = str;\n    }\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public String getStr() {\n        return str;\n    }\n\n    public void setStr(String str) {\n        this.str = str;\n    }\n}\n</code></pre>\n<p>I want to be able to do both:</p>\n<pre class=\"lang-java prettyprint-override\"><code>repository1.save(new TestEntity1(new TestEntity2(&quot;2&quot;)));\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>repository1.save(new TestEntity1(repository2.findAll().get(0)));\n</code></pre>\n<p>but the problem is that these two ways of saving entities don't work at once.\nI can use either one or another.\nI tried to use different combinations of annotations, CascadeType.ALL or Merge etc, but nothing works. Always one of the lines above throws exception\nIs it even possible to use both of these lines:</p>\n<pre class=\"lang-java prettyprint-override\"><code>repository1.save(new TestEntity1(new TestEntity2(&quot;2&quot;)));\nrepository1.save(new TestEntity1(repository2.findAll().get(0)));\n</code></pre>\n<p>or do I have to decide which one I want to use?</p>\n<p>EDIT:</p>\n<p>Here is the stack trace:</p>\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: com.jakub.model.Entity2; nested exception is org.hibernate.PersistentObjectException: detached entity passed to persist: com.jakub.model.Entity2\n\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:297)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at jdk.proxy2/jdk.proxy2.$Proxy110.save(Unknown Source)\n    at com.jakub.service.EntityService.saveEntity1(EntityService.java:39)\n    at com.jakub.service.EntityServiceTest.test1(EntityServiceTest.java:17)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: org.hibernate.PersistentObjectException: detached entity passed to persist: com.jakub.model.Entity2\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:120)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118)\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:798)\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:766)\n    at org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:298)\n    at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:510)\n    at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:434)\n    at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)\n    at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:153)\n    at org.hibernate.event.internal.AbstractSaveEventListener.cascadeBeforeSave(AbstractSaveEventListener.java:427)\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:264)\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)\n    at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:774)\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:760)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\n    at jdk.proxy2/jdk.proxy2.$Proxy107.persist(Unknown Source)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:624)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529)\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:638)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    ... 76 more\n\n</code></pre>\n<p>and here is the test class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.jakub.service;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest\nclass EntityServiceTest {\n\n    @Autowired\n    private EntityService service;\n\n    @Test\n    void test1() {\n        service.saveEntity1();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","unit-testing","junit","tdd","junit5"],"comments":[{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1607624823,"post_id":65239968,"comment_id":115338086,"body_markdown":"Would you want to do something with the description?","body":"Would you want to do something with the description?"},{"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"score":0,"creation_date":1607625215,"post_id":65239968,"comment_id":115338243,"body_markdown":"@johanneslink I want to write description to my test cases. So, that in case if anyone in company maybe new intern comes. He will get some insights what the code is doing even the non technical staff will get some understanding from the description. More important sometimes I even forget :) what my test case were for after a month. Though function name aid in remembrance but not gives clear picture.","body":"@johanneslink I want to write description to my test cases. So, that in case if anyone in company maybe new intern comes. He will get some insights what the code is doing even the non technical staff will get some understanding from the description. More important sometimes I even forget :) what my test case were for after a month. Though function name aid in remembrance but not gives clear picture."},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1607625583,"post_id":65239968,"comment_id":115338390,"body_markdown":"@ZahidKhan - `I want to write description to my test cases. So, that in case if anyone in company maybe new intern comes. He will get some insights what the code is doing even the non technical staff will get some understanding from the description....` - [Javadoc](https://www.oracle.com/technical-resources/articles/java/javadoc-tool.html) is meant for this purpose only. If you do not want to use it, its your problem; Java will not change for such odd deslikes.","body":"@ZahidKhan - <code>I want to write description to my test cases. So, that in case if anyone in company maybe new intern comes. He will get some insights what the code is doing even the non technical staff will get some understanding from the description....</code> - <a href=\"https://www.oracle.com/technical-resources/articles/java/javadoc-tool.html\" rel=\"nofollow noreferrer\">Javadoc</a> is meant for this purpose only. If you do not want to use it, its your problem; Java will not change for such odd deslikes."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1607625930,"post_id":65239968,"comment_id":115338562,"body_markdown":"I have to agree that Javadoc in your tests’ source code (not your app source code) seems appropriate to me. Do you know that Java comes with tools to generate nicely formatted web pages (HTML) like you see in the [Java API documentation](https://docs.oracle.com/en/java/javase/11/docs/api/index.html)? I suggest you edit your question to explain how Javadoc does not address your needs. And see [Wikipedia to learn more about Javadoc](https://en.m.wikipedia.org/wiki/Javadoc).","body":"I have to agree that Javadoc in your tests’ source code (not your app source code) seems appropriate to me. Do you know that Java comes with tools to generate nicely formatted web pages (HTML) like you see in the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/index.html\" rel=\"nofollow noreferrer\">Java API documentation</a>? I suggest you edit your question to explain how Javadoc does not address your needs. And see <a href=\"https://en.m.wikipedia.org/wiki/Javadoc\" rel=\"nofollow noreferrer\">Wikipedia to learn more about Javadoc</a>."},{"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"score":0,"creation_date":1607626030,"post_id":65239968,"comment_id":115338600,"body_markdown":"@ArvindKumarAvinash I am using javadocs when writing my coding part. But when I write test cases I believe there should be some annotation available in the Junit for such cases. Testing (JUNIT) and coding (JAVA) should be separated.","body":"@ArvindKumarAvinash I am using javadocs when writing my coding part. But when I write test cases I believe there should be some annotation available in the Junit for such cases. Testing (JUNIT) and coding (JAVA) should be separated."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1607626224,"post_id":65239968,"comment_id":115338680,"body_markdown":"@ZahidKhan We are suggesting Javadoc in your *test* source code, not your *app* source code. This approach maintains the separation you speak of. Perhaps someone can write an Answer showing an example of such Javadoc.","body":"@ZahidKhan We are suggesting Javadoc in your <i>test</i> source code, not your <i>app</i> source code. This approach maintains the separation you speak of. Perhaps someone can write an Answer showing an example of such Javadoc."},{"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"score":0,"creation_date":1607626928,"post_id":65239968,"comment_id":115338990,"body_markdown":"@BasilBourque  thanks for your valuable suggestion and edits :) I think I can make some more amendments to this question or add some more explanation later - I believe Javadocs doesn&#39;t addressed my problem correctly. Or something is missing in JUnits. ( Just an intuition..)","body":"@BasilBourque  thanks for your valuable suggestion and edits :) I think I can make some more amendments to this question or add some more explanation later - I believe Javadocs doesn&#39;t addressed my problem correctly. Or something is missing in JUnits. ( Just an intuition..)"},{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1607669677,"post_id":65239968,"comment_id":115350077,"body_markdown":"You can always create your own annotation. But the question remains: What do you want to do with the description apart from seeing it close to the test code and in generated docs, both aspects being well covered by Javadoc.","body":"You can always create your own annotation. But the question remains: What do you want to do with the description apart from seeing it close to the test code and in generated docs, both aspects being well covered by Javadoc."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1607629412,"creation_date":1607629060,"answer_id":65241184,"question_id":65239968,"body_markdown":"You are correct about the `DisplayName` annotation. The intention there is to simply provide a more readable name than the method’s name. This name is meant to be picked up by tooling that presents a user-interface to monitor the running of your tests. That annotation is not appropriate for lengthy description and notes. \r\n\r\n# Javadoc\r\n\r\nThe [Javadoc][1] facility in Java enables you to attach lengthy descriptions and notes to your source code. Java includes tools to extract the content of your Javadoc for presentation as nicely formatted pages written in auto-generated HTML.\r\n\r\nYour JUnit tests are Java source code. So your test source code can carry Javadoc just like your app source code can carry Javadoc. \r\n\r\nYour [IDE][2] will likely have features to assist in writing the Javadoc.\r\n\r\nYou wrote:\r\n\r\n&gt; in case if anyone in company maybe new intern comes. He will get some insights what the code is doing even the non technical staff will get some understanding from the description.\r\n\r\nIndeed, this exactly what Javadoc is for. Being embedded within the source means you cannot lose the content of your description and notes.\r\n\r\nJavadoc on the source code of your tests seems to meet to your needs.\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Javadoc\r\n  [2]: https://en.m.wikipedia.org/wiki/Integrated_development_environment","title":"How to write description in Junit?","body":"<p>You are correct about the <code>DisplayName</code> annotation. The intention there is to simply provide a more readable name than the method’s name. This name is meant to be picked up by tooling that presents a user-interface to monitor the running of your tests. That annotation is not appropriate for lengthy description and notes.</p>\n<h1>Javadoc</h1>\n<p>The <a href=\"https://en.m.wikipedia.org/wiki/Javadoc\" rel=\"nofollow noreferrer\">Javadoc</a> facility in Java enables you to attach lengthy descriptions and notes to your source code. Java includes tools to extract the content of your Javadoc for presentation as nicely formatted pages written in auto-generated HTML.</p>\n<p>Your JUnit tests are Java source code. So your test source code can carry Javadoc just like your app source code can carry Javadoc.</p>\n<p>Your <a href=\"https://en.m.wikipedia.org/wiki/Integrated_development_environment\" rel=\"nofollow noreferrer\">IDE</a> will likely have features to assist in writing the Javadoc.</p>\n<p>You wrote:</p>\n<blockquote>\n<p>in case if anyone in company maybe new intern comes. He will get some insights what the code is doing even the non technical staff will get some understanding from the description.</p>\n</blockquote>\n<p>Indeed, this exactly what Javadoc is for. Being embedded within the source means you cannot lose the content of your description and notes.</p>\n<p>Javadoc on the source code of your tests seems to meet to your needs.</p>\n"}],"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2610,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640803268,"creation_date":1607623697,"question_id":65239968,"body_markdown":"I am using [Test Driven Development][1] approach for coding and testing various modules.\r\n\r\n---\r\n\r\n**What I want to do? :**\r\nI want to write some description to all my test cases so it could easily be readable for anyone.\r\n\r\n**How I am writing description right now?**\r\n\r\n```\r\n@Test\r\n@DisplayName(&quot;Description about my test case.&quot;)\r\npublic void addTwoObjects_onInvalidMapping_shouldReturnAnError(){\r\n  .\r\n  . \r\n  .\r\n}\r\n```\r\n\r\n**How I don&#39;t want to write description?**: I don&#39;t want to use comments to write  description of code.\r\n\r\n---\r\n&lt;br/&gt;**Also, I don&#39;t want to use the `DisplayName()` annotation** which I am currently using in JUNIT5. As this annotation by my understanding is meant for renaming technical function names and not for writing description.\r\n&lt;br/&gt;Reference: \r\n\r\n&gt; Test classes and test methods can declare custom display names via @DisplayName — with spaces, special characters, and even emojis — that will be displayed in test reports and by test runners and IDEs [[2]]\r\n\r\n\r\n----------\r\n\r\n\r\nThis Question is similar to [*JUnit test description*](https://stackoverflow.com/q/13159293/642706), but for two differences: (a) Asking about the current generation of JUnit 5, and (b) Explicitly asking for place to put a lengthy description rather than simply renaming the test method’s name.\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Test-driven_development\r\n  [2]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-display-names","title":"How to write description in Junit?","body":"<p>I am using <a href=\"https://en.wikipedia.org/wiki/Test-driven_development\" rel=\"nofollow noreferrer\">Test Driven Development</a> approach for coding and testing various modules.</p>\n<hr />\n<p><strong>What I want to do? :</strong>\nI want to write some description to all my test cases so it could easily be readable for anyone.</p>\n<p><strong>How I am writing description right now?</strong></p>\n<pre><code>@Test\n@DisplayName(&quot;Description about my test case.&quot;)\npublic void addTwoObjects_onInvalidMapping_shouldReturnAnError(){\n  .\n  . \n  .\n}\n</code></pre>\n<p><strong>How I don't want to write description?</strong>: I don't want to use comments to write  description of code.</p>\n<hr />\n<p><br/><strong>Also, I don't want to use the <code>DisplayName()</code> annotation</strong> which I am currently using in JUNIT5. As this annotation by my understanding is meant for renaming technical function names and not for writing description.\n<br/>Reference:</p>\n<blockquote>\n<p>Test classes and test methods can declare custom display names via @DisplayName — with spaces, special characters, and even emojis — that will be displayed in test reports and by test runners and IDEs [<a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-display-names\" rel=\"nofollow noreferrer\">2</a>]</p>\n</blockquote>\n<hr />\n<p>This Question is similar to <a href=\"https://stackoverflow.com/q/13159293/642706\"><em>JUnit test description</em></a>, but for two differences: (a) Asking about the current generation of JUnit 5, and (b) Explicitly asking for place to put a lengthy description rather than simply renaming the test method’s name.</p>\n"},{"tags":["java","java-stream","grpc","grpc-java","java-server"],"answers":[{"tags":[],"owner":{"account_id":16201737,"reputation":121,"user_id":11697987,"display_name":"Sergii Tkachenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633551742,"creation_date":1633551742,"answer_id":69472261,"question_id":69461072,"body_markdown":"As far as I see, the problem is that in `onNext()` you&#39;re initiating new `streamingCall` to `SecondProtoServiceGrpc` each time `MiddleService` receives a new message from the `FirstProtoServiceGrpc`. Even though it&#39;s the same stream from the first server, the first message creates its own stream to second server, the second message creates its own stream to second server, etc. That explains why you get into the situation with &quot;sending to much requests to second server&quot;.\r\n\r\nInstead, the middle layer should mirror what first server does (for this example, we&#39;re looking only at the direction first -&gt; middle -&gt; second). When the first server creates a new stream (1) to the middle, the middle creates a new stream (2) to the second. When the middle server gets a message on the stream (1) (from the first server), it sends it to stream (2). When stream (1) is closed, stream (2) is closed too. And so on.\r\n\r\nSame for the opposite direction, but vice-versa.","title":"Redirecting service to bidirectional grpc","body":"<p>As far as I see, the problem is that in <code>onNext()</code> you're initiating new <code>streamingCall</code> to <code>SecondProtoServiceGrpc</code> each time <code>MiddleService</code> receives a new message from the <code>FirstProtoServiceGrpc</code>. Even though it's the same stream from the first server, the first message creates its own stream to second server, the second message creates its own stream to second server, etc. That explains why you get into the situation with &quot;sending to much requests to second server&quot;.</p>\n<p>Instead, the middle layer should mirror what first server does (for this example, we're looking only at the direction first -&gt; middle -&gt; second). When the first server creates a new stream (1) to the middle, the middle creates a new stream (2) to the second. When the middle server gets a message on the stream (1) (from the first server), it sends it to stream (2). When stream (1) is closed, stream (2) is closed too. And so on.</p>\n<p>Same for the opposite direction, but vice-versa.</p>\n"},{"tags":[],"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640803045,"creation_date":1634209157,"answer_id":69569516,"question_id":69461072,"body_markdown":"There are several problems here:\r\n- as pointed by @SergiiTkachenko, you create a new RPC to the second server per each message from the first. To solve this, Move the call to the second server 3 lines up to the beginning of the outer method.\r\n- a call to `requestObserver.onCompleted()` should be moved to `onCompleted()` of `StreamObserver&lt;First.RequestToFirstServer&gt;` few lines below (next to `logger.info(&quot;Everything okay&quot;);`).\r\n- you never call `responseObserver.onCompleted()`. You should do so in  `onCompleted()` of `StreamObserver&lt;Second.ResponseFromSecondServer&gt;` (next to `logger.info(&quot;sucess&quot;);`).\r\n- you should signal errors received from one server to the other (relation between `onError(...)` methods should be analogical to `onCompleted()`)\r\n- you should handle cancellations by the first server using [setOnCancelHandler(...)](https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/ServerCallStreamObserver.html#setOnCancelHandler-java.lang.Runnable-) and propagate them to the second.\r\n\r\nSo generally speaking (and as [@SergiiTkachenko also pointed](https://stackoverflow.com/a/69472261/1220560)), receiving a given callback (`onNext`, `onError`, `onCompleted`, &quot;`onCancel`&quot;) from one of the servers should trigger issuing the corresponding call to the other server (after &quot;translating&quot; the argument where needed).\r\n\r\nFinally, you should respect both servers&#39; readiness using methods from [CallStreamObserver](https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/CallStreamObserver.html): [disableAutoInboundFlowControl()](https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/CallStreamObserver.html#disableAutoInboundFlowControl--), [request(1)](https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/CallStreamObserver.html#request-int-), [isReady()](https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/CallStreamObserver.html#isReady--) and [setOnReadyHandler(...)](https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/CallStreamObserver.html#setOnReadyHandler-java.lang.Runnable-). You can always cast your outbound `StreamObserver`s to `CallStreamObserver`s. More specifically, you should cast `responseObserver` to [ServerCallStreamObserver](https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/ServerCallStreamObserver.html) and `requestObserver` to [ClientCallStreamObserver](https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/ClientCallStreamObserver.html).  \r\nThis should be implemented criss-cross:\r\n- You should `request(1)` message from a given server at the end of processing a message from it (in `onNext()`) if the other server `isReady`.\r\n- receiving &quot;`onReady`&quot; callback from one server should trigger `request(...)`-ing 1 message from the other server.\r\n\r\nAs far as I remember, after returning the observer from the outer method you should receive initial &quot;`onReady`&quot; callbacks from the both servers, which will put everything in motion. However I&#39;m not 100% sure about the callback from the second server and cannot verify it at the moment: in case you don&#39;t receive the initial callback from it, simply request 1 initial message from the first server before returning the observer.","title":"Redirecting service to bidirectional grpc","body":"<p>There are several problems here:</p>\n<ul>\n<li>as pointed by @SergiiTkachenko, you create a new RPC to the second server per each message from the first. To solve this, Move the call to the second server 3 lines up to the beginning of the outer method.</li>\n<li>a call to <code>requestObserver.onCompleted()</code> should be moved to <code>onCompleted()</code> of <code>StreamObserver&lt;First.RequestToFirstServer&gt;</code> few lines below (next to <code>logger.info(&quot;Everything okay&quot;);</code>).</li>\n<li>you never call <code>responseObserver.onCompleted()</code>. You should do so in  <code>onCompleted()</code> of <code>StreamObserver&lt;Second.ResponseFromSecondServer&gt;</code> (next to <code>logger.info(&quot;sucess&quot;);</code>).</li>\n<li>you should signal errors received from one server to the other (relation between <code>onError(...)</code> methods should be analogical to <code>onCompleted()</code>)</li>\n<li>you should handle cancellations by the first server using <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/ServerCallStreamObserver.html#setOnCancelHandler-java.lang.Runnable-\" rel=\"nofollow noreferrer\">setOnCancelHandler(...)</a> and propagate them to the second.</li>\n</ul>\n<p>So generally speaking (and as <a href=\"https://stackoverflow.com/a/69472261/1220560\">@SergiiTkachenko also pointed</a>), receiving a given callback (<code>onNext</code>, <code>onError</code>, <code>onCompleted</code>, &quot;<code>onCancel</code>&quot;) from one of the servers should trigger issuing the corresponding call to the other server (after &quot;translating&quot; the argument where needed).</p>\n<p>Finally, you should respect both servers' readiness using methods from <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/CallStreamObserver.html\" rel=\"nofollow noreferrer\">CallStreamObserver</a>: <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/CallStreamObserver.html#disableAutoInboundFlowControl--\" rel=\"nofollow noreferrer\">disableAutoInboundFlowControl()</a>, <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/CallStreamObserver.html#request-int-\" rel=\"nofollow noreferrer\">request(1)</a>, <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/CallStreamObserver.html#isReady--\" rel=\"nofollow noreferrer\">isReady()</a> and <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/CallStreamObserver.html#setOnReadyHandler-java.lang.Runnable-\" rel=\"nofollow noreferrer\">setOnReadyHandler(...)</a>. You can always cast your outbound <code>StreamObserver</code>s to <code>CallStreamObserver</code>s. More specifically, you should cast <code>responseObserver</code> to <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/ServerCallStreamObserver.html\" rel=\"nofollow noreferrer\">ServerCallStreamObserver</a> and <code>requestObserver</code> to <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/ClientCallStreamObserver.html\" rel=\"nofollow noreferrer\">ClientCallStreamObserver</a>.<br />\nThis should be implemented criss-cross:</p>\n<ul>\n<li>You should <code>request(1)</code> message from a given server at the end of processing a message from it (in <code>onNext()</code>) if the other server <code>isReady</code>.</li>\n<li>receiving &quot;<code>onReady</code>&quot; callback from one server should trigger <code>request(...)</code>-ing 1 message from the other server.</li>\n</ul>\n<p>As far as I remember, after returning the observer from the outer method you should receive initial &quot;<code>onReady</code>&quot; callbacks from the both servers, which will put everything in motion. However I'm not 100% sure about the callback from the second server and cannot verify it at the moment: in case you don't receive the initial callback from it, simply request 1 initial message from the first server before returning the observer.</p>\n"}],"owner":{"account_id":22955277,"reputation":43,"user_id":17085923,"display_name":"Нуркасым Абилов"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":580,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69569516,"answer_count":2,"score":2,"last_activity_date":1640803045,"creation_date":1633503042,"question_id":69461072,"body_markdown":"I&#39;m currently working on a grpc server that will receive streaming grpc calls from the first server and redirect these calls to the second server, and redirect responses from the second server as streams to the first one.\r\n\r\nI have 2 proto files first proto\r\n\r\nFirst file:\r\n\r\n    syntax = &quot;proto3&quot;;\r\n    \r\n    package first.proto.pack;\r\n    \r\n    service FirstProtoService {\r\n      rpc StreamingCall(stream RequestToFirstServer) returns (stream ResponseForFirstServer){}\r\n    }\r\n    \r\n    message RequestToFirstServer {\r\n        oneof firstStreamingRequest {\r\n            int32 x = 1;\r\n            int32 y = 2;\r\n        }\r\n    }\r\n    \r\n    message ResponseForFirstServer {\r\n      string someprocessedinformation = 1;\r\n    }\r\n\r\nSecond file:\r\n\r\n    syntax = &quot;proto3&quot;;\r\n    \r\n    package second.proto.pack;\r\n    \r\n    service SecondProtoService {\r\n      rpc StreamingCall(stream RequestToSecondServer) returns (stream ResponseFromSecondServer){}\r\n    }\r\n    \r\n    message RequestToSecondServer {\r\n      oneof secondStreamingRequest {\r\n        int32 processedX = 1;\r\n        int32 procesdedY = 2;\r\n      }\r\n    }\r\n    \r\n    message ResponseFromSecondServer {\r\n      string computedInformation = 1;\r\n    }\r\n\r\nFirst server knows about first proto file but doesn&#39;t know about second.\r\n\r\nSecond server knows about second proto file but doesn&#39;t know about first.\r\n\r\nMiddle server knows about first and second proto.\r\n\r\nNeed to write a server that will transmit requests from one server from one server to another\r\n\r\nI started writing it on Java. But faced the problem of sending to much requests to second server\r\n\r\nThat how my service middle implementation looks on Java:\r\n\r\n    package middle.server.pack;\r\n    \r\n    \r\n    import first.proto.pack.First;\r\n    import first.proto.pack.FirstProtoServiceGrpc;\r\n    import io.grpc.ManagedChannel;\r\n    import io.grpc.ManagedChannelBuilder;\r\n    import io.grpc.stub.StreamObserver;\r\n    import second.proto.pack.Second;\r\n    import second.proto.pack.SecondProtoServiceGrpc;\r\n    \r\n    import java.util.logging.LogManager;\r\n    import java.util.logging.Logger;\r\n    \r\n    public class MiddleService extends FirstProtoServiceGrpc.FirstProtoServiceImplBase {\r\n        private final ManagedChannel channel = ManagedChannelBuilder.forTarget(&quot;localhost:8080&quot;).build();\r\n        private final Logger logger = LogManager.getLogManager().getLogger(MiddleService.class.getName());\r\n    \r\n        @Override\r\n        public StreamObserver&lt;First.RequestToFirstServer&gt; streamingCall(StreamObserver&lt;First.ResponseForFirstServer&gt; responseObserver) {\r\n            return new StreamObserver&lt;First.RequestToFirstServer&gt;() {\r\n                @Override\r\n                public void onNext(First.RequestToFirstServer value) {\r\n                    SecondProtoServiceGrpc.SecondProtoServiceStub stub = SecondProtoServiceGrpc.newStub(channel);\r\n                    StreamObserver&lt;Second.RequestToSecondServer&gt; requestObserver = stub.streamingCall(\r\n                            new StreamObserver&lt;Second.ResponseFromSecondServer&gt;() {\r\n                                @Override\r\n                                public void onNext(Second.ResponseFromSecondServer value) {\r\n                                    doProcessOnResponse(value);\r\n                                    First.ResponseForFirstServer responseForFirstServer =\r\n                                            mapToFirstResponse(value);\r\n                                    responseObserver.onNext(responseForFirstServer);\r\n                                }\r\n    \r\n                                @Override\r\n                                public void onError(Throwable t) {\r\n                                    logger.info(t.getMessage());\r\n                                }\r\n    \r\n                                @Override\r\n                                public void onCompleted() {\r\n                                    logger.info(&quot;sucess&quot;);\r\n                                }\r\n                            }\r\n                    );\r\n                    Second.RequestToSecondServer requestToSecondServer = mapToSecondRequest(value);\r\n                    requestObserver.onNext(requestToSecondServer);\r\n                    requestObserver.onCompleted();\r\n                }\r\n    \r\n                @Override\r\n                public void onError(Throwable t) {\r\n                    logger.info(t.getMessage());\r\n                }\r\n    \r\n                @Override\r\n                public void onCompleted() {\r\n                    logger.info(&quot;Everything okay&quot;);\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\nAfter a request from the first client on the side of the middle server, I get the following errors:\r\n\r\n    CANCELLED: Failed to read message.\r\n    CANCELLED: io.grpc.Context was cancelled without error\r\n\r\n\r\nI know that I am doing it wrong. So the question is how to make it right or if I can&#39;t make it on java could I make it in any other language?","title":"Redirecting service to bidirectional grpc","body":"<p>I'm currently working on a grpc server that will receive streaming grpc calls from the first server and redirect these calls to the second server, and redirect responses from the second server as streams to the first one.</p>\n<p>I have 2 proto files first proto</p>\n<p>First file:</p>\n<pre><code>syntax = &quot;proto3&quot;;\n\npackage first.proto.pack;\n\nservice FirstProtoService {\n  rpc StreamingCall(stream RequestToFirstServer) returns (stream ResponseForFirstServer){}\n}\n\nmessage RequestToFirstServer {\n    oneof firstStreamingRequest {\n        int32 x = 1;\n        int32 y = 2;\n    }\n}\n\nmessage ResponseForFirstServer {\n  string someprocessedinformation = 1;\n}\n</code></pre>\n<p>Second file:</p>\n<pre><code>syntax = &quot;proto3&quot;;\n\npackage second.proto.pack;\n\nservice SecondProtoService {\n  rpc StreamingCall(stream RequestToSecondServer) returns (stream ResponseFromSecondServer){}\n}\n\nmessage RequestToSecondServer {\n  oneof secondStreamingRequest {\n    int32 processedX = 1;\n    int32 procesdedY = 2;\n  }\n}\n\nmessage ResponseFromSecondServer {\n  string computedInformation = 1;\n}\n</code></pre>\n<p>First server knows about first proto file but doesn't know about second.</p>\n<p>Second server knows about second proto file but doesn't know about first.</p>\n<p>Middle server knows about first and second proto.</p>\n<p>Need to write a server that will transmit requests from one server from one server to another</p>\n<p>I started writing it on Java. But faced the problem of sending to much requests to second server</p>\n<p>That how my service middle implementation looks on Java:</p>\n<pre><code>package middle.server.pack;\n\n\nimport first.proto.pack.First;\nimport first.proto.pack.FirstProtoServiceGrpc;\nimport io.grpc.ManagedChannel;\nimport io.grpc.ManagedChannelBuilder;\nimport io.grpc.stub.StreamObserver;\nimport second.proto.pack.Second;\nimport second.proto.pack.SecondProtoServiceGrpc;\n\nimport java.util.logging.LogManager;\nimport java.util.logging.Logger;\n\npublic class MiddleService extends FirstProtoServiceGrpc.FirstProtoServiceImplBase {\n    private final ManagedChannel channel = ManagedChannelBuilder.forTarget(&quot;localhost:8080&quot;).build();\n    private final Logger logger = LogManager.getLogManager().getLogger(MiddleService.class.getName());\n\n    @Override\n    public StreamObserver&lt;First.RequestToFirstServer&gt; streamingCall(StreamObserver&lt;First.ResponseForFirstServer&gt; responseObserver) {\n        return new StreamObserver&lt;First.RequestToFirstServer&gt;() {\n            @Override\n            public void onNext(First.RequestToFirstServer value) {\n                SecondProtoServiceGrpc.SecondProtoServiceStub stub = SecondProtoServiceGrpc.newStub(channel);\n                StreamObserver&lt;Second.RequestToSecondServer&gt; requestObserver = stub.streamingCall(\n                        new StreamObserver&lt;Second.ResponseFromSecondServer&gt;() {\n                            @Override\n                            public void onNext(Second.ResponseFromSecondServer value) {\n                                doProcessOnResponse(value);\n                                First.ResponseForFirstServer responseForFirstServer =\n                                        mapToFirstResponse(value);\n                                responseObserver.onNext(responseForFirstServer);\n                            }\n\n                            @Override\n                            public void onError(Throwable t) {\n                                logger.info(t.getMessage());\n                            }\n\n                            @Override\n                            public void onCompleted() {\n                                logger.info(&quot;sucess&quot;);\n                            }\n                        }\n                );\n                Second.RequestToSecondServer requestToSecondServer = mapToSecondRequest(value);\n                requestObserver.onNext(requestToSecondServer);\n                requestObserver.onCompleted();\n            }\n\n            @Override\n            public void onError(Throwable t) {\n                logger.info(t.getMessage());\n            }\n\n            @Override\n            public void onCompleted() {\n                logger.info(&quot;Everything okay&quot;);\n            }\n        };\n    }\n}\n</code></pre>\n<p>After a request from the first client on the side of the middle server, I get the following errors:</p>\n<pre><code>CANCELLED: Failed to read message.\nCANCELLED: io.grpc.Context was cancelled without error\n</code></pre>\n<p>I know that I am doing it wrong. So the question is how to make it right or if I can't make it on java could I make it in any other language?</p>\n"},{"tags":["java","junit","mockito","spring-test"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1640795419,"post_id":70522183,"comment_id":124661594,"body_markdown":"You mock the call `Mockito.when(utils.get(&quot;p&quot;)).thenReturn(1);` but your example call shows `utils.get(&quot;param&quot;)` - are you sure that you are mocking the correct method call?","body":"You mock the call <code>Mockito.when(utils.get(&quot;p&quot;)).thenReturn(1);</code> but your example call shows <code>utils.get(&quot;param&quot;)</code> - are you sure that you are mocking the correct method call?"},{"owner":{"account_id":18452928,"reputation":2722,"user_id":14927001,"display_name":"Dmitrii B"},"score":0,"creation_date":1640795462,"post_id":70522183,"comment_id":124661605,"body_markdown":"How do you initialize Utils bean in the service class? It won&#39;t work for tests and bootstrap","body":"How do you initialize Utils bean in the service class? It won&#39;t work for tests and bootstrap"},{"owner":{"account_id":17263392,"reputation":73,"user_id":12500745,"display_name":"pavloN"},"score":0,"creation_date":1640796225,"post_id":70522183,"comment_id":124661855,"body_markdown":"Updated the example.\n@DmitriiBykov through constructor","body":"Updated the example. @DmitriiBykov through constructor"}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640802627,"creation_date":1640796712,"answer_id":70522491,"question_id":70522183,"body_markdown":"You don&#39;t actually need to Spy `MyService`. You can simplify your test and get it to work:\r\n```java\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class Test {\r\n\r\n   @Mock\r\n   Utils utils;\r\n\r\n   @InjectMocks\r\n   MyService service;\r\n\r\n    @Test\r\n    public void test(){\r\n        // Arrange\r\n        Mockito.doReturn(1).when(utils.get(&quot;p&quot;));\r\n        Mockito.when(custom.isValid(1)).thenReturn(true);\r\n\r\n        // Act\r\n        service.doIt(&quot;p&quot;);\r\n\r\n        // Assert\r\n        Mockito.verify(utils, Mockito.times(1)).get(&quot;p&quot;);\r\n        // You should also confirm that whatever is done in `if(param==1)` is actually done\r\n    }\r\n}\r\n```","title":"Use result of one mock call in another","body":"<p>You don't actually need to Spy <code>MyService</code>. You can simplify your test and get it to work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(MockitoJUnitRunner.class)\npublic class Test {\n\n   @Mock\n   Utils utils;\n\n   @InjectMocks\n   MyService service;\n\n    @Test\n    public void test(){\n        // Arrange\n        Mockito.doReturn(1).when(utils.get(&quot;p&quot;));\n        Mockito.when(custom.isValid(1)).thenReturn(true);\n\n        // Act\n        service.doIt(&quot;p&quot;);\n\n        // Assert\n        Mockito.verify(utils, Mockito.times(1)).get(&quot;p&quot;);\n        // You should also confirm that whatever is done in `if(param==1)` is actually done\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18452928,"reputation":2722,"user_id":14927001,"display_name":"Dmitrii B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640796825,"creation_date":1640796825,"answer_id":70522515,"question_id":70522183,"body_markdown":"You&#39;re mocking with wrong parameter, change your test like that:\r\n\r\n    public class Test {\r\n    \r\n       @Mock\r\n       Utils utils;\r\n    \r\n       @InjectMocks\r\n       MyService service;\r\n    \r\n    \r\n       @BeforeEach\r\n       void setUp(){\r\n         initMocks(this);\r\n       }\r\n    \r\n       @Test\r\n       public void test(){  \r\n           Mockito.when(utils.get(any())).thenReturn(1);\r\n    \r\n           service.doIt(&quot;p&quot;);\r\n    \r\n           Mockito.verify(utils).get(any());\r\n       }\r\n    }\r\n\r\nInstead `any()` you can put any another variable but it should be the same variable with variable which you call the service","title":"Use result of one mock call in another","body":"<p>You're mocking with wrong parameter, change your test like that:</p>\n<pre><code>public class Test {\n\n   @Mock\n   Utils utils;\n\n   @InjectMocks\n   MyService service;\n\n\n   @BeforeEach\n   void setUp(){\n     initMocks(this);\n   }\n\n   @Test\n   public void test(){  \n       Mockito.when(utils.get(any())).thenReturn(1);\n\n       service.doIt(&quot;p&quot;);\n\n       Mockito.verify(utils).get(any());\n   }\n}\n</code></pre>\n<p>Instead <code>any()</code> you can put any another variable but it should be the same variable with variable which you call the service</p>\n"}],"owner":{"account_id":17263392,"reputation":73,"user_id":12500745,"display_name":"pavloN"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":498,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70522491,"answer_count":2,"score":-1,"last_activity_date":1640802627,"creation_date":1640795218,"question_id":70522183,"body_markdown":"How can I use/inject the result of one mock into another?\r\n\r\nI think I did it in the wrong way\r\n\r\nThe int param is always null\r\n\r\nI use spy because the method I test is void.\r\nCan I do it using mockito?\r\n```java\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class Test {\r\n\r\n    @Mock\r\n    Utils utils;\r\n\r\n    @Mock\r\n    Custom custom;\r\n\r\n    @Spy\r\n    @InjectMocks\r\n    MyService service;\r\n\r\n    @Test\r\n    public void test(){\r\n        Mockito.when(utils.get(&quot;p&quot;)).thenReturn(1); //use result of it in the next mock call\r\n\r\n        Mockito.when(custom.isValid(1)).thenReturn(true); //custom use 1 here\r\n        Mockito.doCallRealMethod().when(service).doIt(&quot;p&quot;);\r\n\r\n        service.doIt(&quot;p&quot;);\r\n\r\n        Mockito.verify(service,Mockito.times(1)).doIt(&quot;p&quot;);\r\n    }\r\n}\r\n```\r\n```java\r\n@Service\r\npublic class MyService {\r\n    Utils utils;\r\n    Custom custom;\r\n\r\n    public MyService(Utils utils) {\r\n        this.utils = utils;\r\n    }\r\n\r\n    public void doIt(String value){\r\n        int param = utils.get(value);\r\n\r\n        if(custom.isValid(param)){\r\n            //do it\r\n        }\r\n    }\r\n}\r\n```","title":"Use result of one mock call in another","body":"<p>How can I use/inject the result of one mock into another?</p>\n<p>I think I did it in the wrong way</p>\n<p>The int param is always null</p>\n<p>I use spy because the method I test is void.\nCan I do it using mockito?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(MockitoJUnitRunner.class)\npublic class Test {\n\n    @Mock\n    Utils utils;\n\n    @Mock\n    Custom custom;\n\n    @Spy\n    @InjectMocks\n    MyService service;\n\n    @Test\n    public void test(){\n        Mockito.when(utils.get(&quot;p&quot;)).thenReturn(1); //use result of it in the next mock call\n\n        Mockito.when(custom.isValid(1)).thenReturn(true); //custom use 1 here\n        Mockito.doCallRealMethod().when(service).doIt(&quot;p&quot;);\n\n        service.doIt(&quot;p&quot;);\n\n        Mockito.verify(service,Mockito.times(1)).doIt(&quot;p&quot;);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class MyService {\n    Utils utils;\n    Custom custom;\n\n    public MyService(Utils utils) {\n        this.utils = utils;\n    }\n\n    public void doIt(String value){\n        int param = utils.get(value);\n\n        if(custom.isValid(param)){\n            //do it\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","kotlin","guice"],"comments":[{"owner":{"account_id":8094195,"reputation":858,"user_id":6099243,"display_name":"Yurii Melnychuk"},"score":0,"creation_date":1639572594,"post_id":70363925,"comment_id":124382041,"body_markdown":"You could have `setStartTime` in `TimeUtils` interface and have it no-op for `TimeUtilsImpl`, but it is hard to decide from the info you gave if it is the right choice.","body":"You could have <code>setStartTime</code> in <code>TimeUtils</code> interface and have it no-op for <code>TimeUtilsImpl</code>, but it is hard to decide from the info you gave if it is the right choice."},{"owner":{"account_id":909930,"reputation":3924,"user_id":944000,"accept_rate":100,"display_name":"rdo"},"score":0,"creation_date":1639572679,"post_id":70363925,"comment_id":124382071,"body_markdown":"yeah, I thought about this option. But `setStartTime` method doesn&#39;t make sense for `TimeUtilsImpl `","body":"yeah, I thought about this option. But <code>setStartTime</code> method doesn&#39;t make sense for <code>TimeUtilsImpl </code>"}],"answers":[{"tags":[],"owner":{"account_id":903708,"reputation":4817,"user_id":939133,"accept_rate":70,"display_name":"Jakoss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639572605,"creation_date":1639572605,"answer_id":70363993,"question_id":70363925,"body_markdown":"Maybe add `setStartTime` to `TimeUtils` interface and do not implement it in `TimeUtilsImpl`? It all depends on the context. For unit testing for example I think your solution would be fine. But for other, &quot;normal&quot; business logic is seems fishy. It&#39;s almost like the interface does not really abstract the concept properly","title":"What is a right design for a such injection?","body":"<p>Maybe add <code>setStartTime</code> to <code>TimeUtils</code> interface and do not implement it in <code>TimeUtilsImpl</code>? It all depends on the context. For unit testing for example I think your solution would be fine. But for other, &quot;normal&quot; business logic is seems fishy. It's almost like the interface does not really abstract the concept properly</p>\n"},{"tags":[],"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640802451,"creation_date":1639747246,"answer_id":70393837,"question_id":70363925,"body_markdown":"I don&#39;t know Kotlin, but pure OOP speaking, the best would be to define a `TimeUtilsWrapper` interface that extends `TimeUtils` and adds `setStartTime(...)` method. Then you would have 2 classes implementing this interface:\r\n- 1 that embeds a `TimeUtils` object with empty `setStartTime()` that delegates all other methods to the embedded object,\r\n- second that embeds a `TimeUtilsSimulation` and delegates all methods to it, including `setStartTime()`.\r\n\r\nThen `SomeClass` method should have a property of type `TimeUtilsWrapper` instead of `TimeUtils` and `onRequest(...)` should just always call `TimeUtilsWrapper`&#39;s `setStartTime(...)`.","title":"What is a right design for a such injection?","body":"<p>I don't know Kotlin, but pure OOP speaking, the best would be to define a <code>TimeUtilsWrapper</code> interface that extends <code>TimeUtils</code> and adds <code>setStartTime(...)</code> method. Then you would have 2 classes implementing this interface:</p>\n<ul>\n<li>1 that embeds a <code>TimeUtils</code> object with empty <code>setStartTime()</code> that delegates all other methods to the embedded object,</li>\n<li>second that embeds a <code>TimeUtilsSimulation</code> and delegates all methods to it, including <code>setStartTime()</code>.</li>\n</ul>\n<p>Then <code>SomeClass</code> method should have a property of type <code>TimeUtilsWrapper</code> instead of <code>TimeUtils</code> and <code>onRequest(...)</code> should just always call <code>TimeUtilsWrapper</code>'s <code>setStartTime(...)</code>.</p>\n"}],"owner":{"account_id":909930,"reputation":3924,"user_id":944000,"accept_rate":100,"display_name":"rdo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70393837,"answer_count":2,"score":1,"last_activity_date":1640802451,"creation_date":1639572310,"question_id":70363925,"body_markdown":"I have two classes of a one interface:\r\n```\r\ninterface TimeUtils { ... }\r\nclass TimeUtilsImpl : TimeUtils { ... }\r\nclass TimeUtilsSimulation : TimeUtils { ... }\r\n```\r\n`TimeUtils` binding is in the module `A`:\r\n```\r\nbind(TimeUtils::class.java).to(TimeUtilsImpl::class.java).`in`(Singleton)\r\n```\r\n`TimeUtilsSimulation` binding is in the module `B`:\r\n\r\n```\r\nbind(TimeUtils::class.java).to(TimeUtilsSimulation::class.java).`in`(Singleton)\r\n```\r\nand these modules `A` and `B` are used in different binaries.\r\n\r\n\r\nI injected `TimeUtils` in a common code like:\r\n```\r\nclass SomeClass @Inject constructor(\r\n  private val timeUtils: TimeUtils\r\n)\r\n```\r\n\r\nAnd now I have a problem that when I have a request to start simulation I need to set an initial time in the `TimeUtilsSimulation` object. I can do it like this:\r\n```\r\nclass RequestHandler @Inject constructor(\r\n  private val someObject: SomeClass\r\n)\r\nonRequest(simulationStartTime: LocalDateTime) {\r\n   if (timeUtils instanceof TimeUtilsSimulation) {\r\n       // Set start time in a singleton timeUtils object\r\n       (timeUtils as TimeUtilsSimulation).setStartTime(simulationStartTime)\r\n   }\r\n   someObject.run()\r\n}\r\n```\r\nbut it looks ugly.\r\nCan you suggest something to solve this bad design?\r\n","title":"What is a right design for a such injection?","body":"<p>I have two classes of a one interface:</p>\n<pre><code>interface TimeUtils { ... }\nclass TimeUtilsImpl : TimeUtils { ... }\nclass TimeUtilsSimulation : TimeUtils { ... }\n</code></pre>\n<p><code>TimeUtils</code> binding is in the module <code>A</code>:</p>\n<pre><code>bind(TimeUtils::class.java).to(TimeUtilsImpl::class.java).`in`(Singleton)\n</code></pre>\n<p><code>TimeUtilsSimulation</code> binding is in the module <code>B</code>:</p>\n<pre><code>bind(TimeUtils::class.java).to(TimeUtilsSimulation::class.java).`in`(Singleton)\n</code></pre>\n<p>and these modules <code>A</code> and <code>B</code> are used in different binaries.</p>\n<p>I injected <code>TimeUtils</code> in a common code like:</p>\n<pre><code>class SomeClass @Inject constructor(\n  private val timeUtils: TimeUtils\n)\n</code></pre>\n<p>And now I have a problem that when I have a request to start simulation I need to set an initial time in the <code>TimeUtilsSimulation</code> object. I can do it like this:</p>\n<pre><code>class RequestHandler @Inject constructor(\n  private val someObject: SomeClass\n)\nonRequest(simulationStartTime: LocalDateTime) {\n   if (timeUtils instanceof TimeUtilsSimulation) {\n       // Set start time in a singleton timeUtils object\n       (timeUtils as TimeUtilsSimulation).setStartTime(simulationStartTime)\n   }\n   someObject.run()\n}\n</code></pre>\n<p>but it looks ugly.\nCan you suggest something to solve this bad design?</p>\n"},{"tags":["java","android","android-bluetooth","samsung-mobile","joystick"],"owner":{"account_id":6729389,"reputation":21,"user_id":5220138,"display_name":"nreath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1640802260,"creation_date":1640802260,"question_id":70523434,"body_markdown":"In my app I currently have virtual joysticks using the library suggested in this (&lt;https://stackoverflow.com/questions/39964718/virtual-joystick-in-android-sdk&gt;) post being used to steer something like an RC car. \r\n\r\nThey work exactly as intended *most* of the time (say 95%), but occasionally I&#39;ll run into issues where the joysticks will snap back to the center despite the user not letting go of the screen. If it happened occasionally it wouldn&#39;t be the end of the world but when it first appears it then begins to happen constantly, making them all but unusable. \r\n\r\n**Also, it seems like this problem only occurs when both joysticks are being used at the same time**\r\n\r\nI should note that the joysticks snapping back to the center is intended behavior when the user lets go of the stick, but that does not seem to be what&#39;s happening.\r\n\r\nThe app is not very complicated overall, there is a BLE interface to communicate with a control board and a single Activity to host a few Fragments. The BLE interface is fairly active, with communications of 384 data bytes + BLE overhead every ~120 mS, that data rate hasn&#39;t been a problem in any other Fragment but I also think this is the only Fragment where a problem would be noticeable.\r\n\r\nSo far I&#39;ve tried:\r\n- Enabling &quot;show taps&quot; and &quot;pointer location&quot; in developer settings to ensure that the user isn&#39;t accidentally removing their fingers from the display (they&#39;re not)\r\n- Enabling GPU watch (see screenshot) to ensure that GPU/CPU load isn&#39;t significantly higher when the issue occurs (they&#39;re not)\r\n- Reducing updates of LiveData objects in the Fragment&#39;s ViewModel to lower processing time\r\n- Reducing Bluetooth data rate to 240 mS per transfer instead of 120 mS\r\n- Verify that the Fragment isn&#39;t being reloaded/reinitialized by putting Toast pop ups in all initialization, onCreate(), onResume(), etc.. routines\r\n\r\nFrankly I&#39;m at a loss here as I feel like I&#39;ve examined every possible cause of this, any help would be greatly appreciated\r\n\r\nDevice/software version details:\r\n- Device is a Samsung Galaxy Tab A, running Samsung&#39;s latest Android version (SDK version 29)\r\n- App is running on Samsung Knox Configure platform\r\n- Running version 1.10.1 of virtual joystick library (the latest as far as I can tell)\r\n\r\nSee below screenshot for reference of what the fragment looks like.\r\n\r\n[![screenshot of fragment][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Qq3FT.jpg","title":"Android virtual joysticks not behaving as expected","body":"<p>In my app I currently have virtual joysticks using the library suggested in this (<a href=\"https://stackoverflow.com/questions/39964718/virtual-joystick-in-android-sdk\">Virtual Joystick in Android SDK</a>) post being used to steer something like an RC car.</p>\n<p>They work exactly as intended <em>most</em> of the time (say 95%), but occasionally I'll run into issues where the joysticks will snap back to the center despite the user not letting go of the screen. If it happened occasionally it wouldn't be the end of the world but when it first appears it then begins to happen constantly, making them all but unusable.</p>\n<p><strong>Also, it seems like this problem only occurs when both joysticks are being used at the same time</strong></p>\n<p>I should note that the joysticks snapping back to the center is intended behavior when the user lets go of the stick, but that does not seem to be what's happening.</p>\n<p>The app is not very complicated overall, there is a BLE interface to communicate with a control board and a single Activity to host a few Fragments. The BLE interface is fairly active, with communications of 384 data bytes + BLE overhead every ~120 mS, that data rate hasn't been a problem in any other Fragment but I also think this is the only Fragment where a problem would be noticeable.</p>\n<p>So far I've tried:</p>\n<ul>\n<li>Enabling &quot;show taps&quot; and &quot;pointer location&quot; in developer settings to ensure that the user isn't accidentally removing their fingers from the display (they're not)</li>\n<li>Enabling GPU watch (see screenshot) to ensure that GPU/CPU load isn't significantly higher when the issue occurs (they're not)</li>\n<li>Reducing updates of LiveData objects in the Fragment's ViewModel to lower processing time</li>\n<li>Reducing Bluetooth data rate to 240 mS per transfer instead of 120 mS</li>\n<li>Verify that the Fragment isn't being reloaded/reinitialized by putting Toast pop ups in all initialization, onCreate(), onResume(), etc.. routines</li>\n</ul>\n<p>Frankly I'm at a loss here as I feel like I've examined every possible cause of this, any help would be greatly appreciated</p>\n<p>Device/software version details:</p>\n<ul>\n<li>Device is a Samsung Galaxy Tab A, running Samsung's latest Android version (SDK version 29)</li>\n<li>App is running on Samsung Knox Configure platform</li>\n<li>Running version 1.10.1 of virtual joystick library (the latest as far as I can tell)</li>\n</ul>\n<p>See below screenshot for reference of what the fragment looks like.</p>\n<p><a href=\"https://i.stack.imgur.com/Qq3FT.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qq3FT.jpg\" alt=\"screenshot of fragment\" /></a></p>\n"},{"tags":["java","spring-boot","hibernate","jpa","java-time"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1640798639,"post_id":70522389,"comment_id":124662714,"body_markdown":"What database are you using? What *exactly* is the data type of your column?","body":"What database are you using? What <i>exactly</i> is the data type of your column?"},{"owner":{"account_id":5124081,"reputation":253,"user_id":4106800,"display_name":"Gobanit"},"score":0,"creation_date":1640799373,"post_id":70522389,"comment_id":124662968,"body_markdown":"In this example, H2 Database is used. By default, all of the column types are TIMESTAMP. When explicitly set, the type is TIMESTAMP WITH TIME ZONE.","body":"In this example, H2 Database is used. By default, all of the column types are TIMESTAMP. When explicitly set, the type is TIMESTAMP WITH TIME ZONE."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1640802092,"creation_date":1640799760,"answer_id":70523028,"question_id":70522389,"body_markdown":"I cannot speak to JPA, but I can explain some of the JDBC issues. \r\n\r\n&gt; I want to store `Instant` type\r\n\r\nThe JDBC specification does not map `Instant`. \r\n\r\n - For a column of a type akin to the SQL standard type `TIMESTAMP WITHOUT TIME ZONE`, use the Java class `LocalDateTime`.\r\n - For a column of a type akin to the SQL standard type `TIMESTAMP WITH TIME ZONE`, use the Java class [`OffsetDateTime`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/OffsetDateTime.html).\r\n\r\nIn JDBC, use `setObject` &amp; `getObject` to exchange data-time values as *java.time* values in JDBC 4.2 and later. \r\n\r\n    myPreparedStatement.setObject( … , myOffsetDateTime ) ;\r\n\r\nSome databases such as Postgres automatically adjust the incoming data to UTC, an offset of zero hours-minutes-seconds. For portable code across databases, you may want to make that adjustment in Java code. \r\n\r\n    OffsetDateTime myOdt = otherOdt.withOffsetSameInstant( ZoneOffset.UTC ) ;\r\n\r\nCapture the current moment as a `OffsetDateTime`.\r\n\r\n    OffsetDateTime myOdt = OffsetDateTime.now( ZoneOffset.UTC ) ;\r\n\r\nIf you have an `Instant` in hand, convert to `OffsetDateTime` for storage in a database via JDBC. \r\n\r\n    OffsetDateTime myOdt = myInstant.atOffset( ZoneOffset.UTC ) ;\r\n\r\nThere is no need for you to store the zoned or unzoned values in your database. You can easily adjust to time zones after database retrieval, in your Java code, as you would do for other localization needs. \r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Edmonton&quot; ) ;\r\n    ZonedDateTime zdt = myOdt.atZoneSameInstant( z ) ;\r\n\r\nI see no benefit generally to using `LocalDateTime` when dealing with moments, specific points on the timeline. That class purposely lacks the context of a time zone or offset. Such objects contain a date with time of day only, so are inherently ambiguous. You can convert from `OffsetDateTime` to `LocalDateTime` but would be stripping away vital information while gaining nothing in return. \r\n\r\n&gt; they are all stored as if they were LocalDateTime in application JVM timezone.\r\n\r\nThat is a contradiction in terms. A `LocalDateTime` has no time zone or offset. \r\n\r\n&gt; The default type of the column is set to TIMESTAMP for all of them.\r\n\r\nThere is no default for the data type of a column. You specify the data type when creating the column. The data type does not change while inserting rows. The data type can only change if you issue an `ALTER TABLE` command. \r\n\r\nAlso, we have no idea what type you mean with the word `TIMESTAMP` since you neglected to mention your specific database. As mentioned above, the SQL standard uses four words for each of the two very different timestamp types. \r\n\r\n&gt; Mapping Instant and ZonedDateTime to TIMESTAMP but convert them to UTC when serializing, \r\n\r\nNo, JDBC does not require any such mapping of `Instant` nor `ZonedDateTime`. \r\n\r\nYou need to do such conversions in your Java code, outside of the JDBC calls. \r\n\r\nThe exception is that your particular JDBC driver may choose to go beyond what is required by the JDBC spec. A driver is free to handle the `Instant` and `ZonedDateTime` types if it’s creators saw fit. But beware that any such code you wrote may not be portable across other JDBC drivers. \r\n\r\n&gt;and back to JVM timezone when deserializing.\r\n\r\nI believe you’ll find this work much easier if, as a programmer/DBA/SysAdmin, you do most of your thinking, logging, debugging, data storage, and data exchange, in UTC (offset of zero). \r\n\r\nConverting to `Instant` is a simple way of adjusting to UTC.\r\n\r\n    Instant instant = odt.toInstant() ;\r\n    Instant instant = zdt.toInstant() ;\r\n\r\nTip: Generally write your code to *not* depend on the default time zone of your JVM, your database session, or host OS. Those defaults are not under your control as a programmer. And those defaults can change at any moment during runtime. So use a default only where called for, such as localizing to default zone of a user’s mobile device for presentation in the user-interface. And make your use of such a default explicit, always specifying the otherwise optional zone/offset arguments to various calls. \r\n\r\nTip: Recording the moment a row is inserted or updated is generally best left to the database.  Use a trigger where the database server captures the current moment and assigns it to the field. Then you are covered for operations outside your Java app, such as bulk data loads. \r\n\r\n\r\n","title":"JPA Instant/ZonedDateTime Database mapping","body":"<p>I cannot speak to JPA, but I can explain some of the JDBC issues.</p>\n<blockquote>\n<p>I want to store <code>Instant</code> type</p>\n</blockquote>\n<p>The JDBC specification does not map <code>Instant</code>.</p>\n<ul>\n<li>For a column of a type akin to the SQL standard type <code>TIMESTAMP WITHOUT TIME ZONE</code>, use the Java class <code>LocalDateTime</code>.</li>\n<li>For a column of a type akin to the SQL standard type <code>TIMESTAMP WITH TIME ZONE</code>, use the Java class <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><code>OffsetDateTime</code></a>.</li>\n</ul>\n<p>In JDBC, use <code>setObject</code> &amp; <code>getObject</code> to exchange data-time values as <em>java.time</em> values in JDBC 4.2 and later.</p>\n<pre><code>myPreparedStatement.setObject( … , myOffsetDateTime ) ;\n</code></pre>\n<p>Some databases such as Postgres automatically adjust the incoming data to UTC, an offset of zero hours-minutes-seconds. For portable code across databases, you may want to make that adjustment in Java code.</p>\n<pre><code>OffsetDateTime myOdt = otherOdt.withOffsetSameInstant( ZoneOffset.UTC ) ;\n</code></pre>\n<p>Capture the current moment as a <code>OffsetDateTime</code>.</p>\n<pre><code>OffsetDateTime myOdt = OffsetDateTime.now( ZoneOffset.UTC ) ;\n</code></pre>\n<p>If you have an <code>Instant</code> in hand, convert to <code>OffsetDateTime</code> for storage in a database via JDBC.</p>\n<pre><code>OffsetDateTime myOdt = myInstant.atOffset( ZoneOffset.UTC ) ;\n</code></pre>\n<p>There is no need for you to store the zoned or unzoned values in your database. You can easily adjust to time zones after database retrieval, in your Java code, as you would do for other localization needs.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;America/Edmonton&quot; ) ;\nZonedDateTime zdt = myOdt.atZoneSameInstant( z ) ;\n</code></pre>\n<p>I see no benefit generally to using <code>LocalDateTime</code> when dealing with moments, specific points on the timeline. That class purposely lacks the context of a time zone or offset. Such objects contain a date with time of day only, so are inherently ambiguous. You can convert from <code>OffsetDateTime</code> to <code>LocalDateTime</code> but would be stripping away vital information while gaining nothing in return.</p>\n<blockquote>\n<p>they are all stored as if they were LocalDateTime in application JVM timezone.</p>\n</blockquote>\n<p>That is a contradiction in terms. A <code>LocalDateTime</code> has no time zone or offset.</p>\n<blockquote>\n<p>The default type of the column is set to TIMESTAMP for all of them.</p>\n</blockquote>\n<p>There is no default for the data type of a column. You specify the data type when creating the column. The data type does not change while inserting rows. The data type can only change if you issue an <code>ALTER TABLE</code> command.</p>\n<p>Also, we have no idea what type you mean with the word <code>TIMESTAMP</code> since you neglected to mention your specific database. As mentioned above, the SQL standard uses four words for each of the two very different timestamp types.</p>\n<blockquote>\n<p>Mapping Instant and ZonedDateTime to TIMESTAMP but convert them to UTC when serializing,</p>\n</blockquote>\n<p>No, JDBC does not require any such mapping of <code>Instant</code> nor <code>ZonedDateTime</code>.</p>\n<p>You need to do such conversions in your Java code, outside of the JDBC calls.</p>\n<p>The exception is that your particular JDBC driver may choose to go beyond what is required by the JDBC spec. A driver is free to handle the <code>Instant</code> and <code>ZonedDateTime</code> types if it’s creators saw fit. But beware that any such code you wrote may not be portable across other JDBC drivers.</p>\n<blockquote>\n<p>and back to JVM timezone when deserializing.</p>\n</blockquote>\n<p>I believe you’ll find this work much easier if, as a programmer/DBA/SysAdmin, you do most of your thinking, logging, debugging, data storage, and data exchange, in UTC (offset of zero).</p>\n<p>Converting to <code>Instant</code> is a simple way of adjusting to UTC.</p>\n<pre><code>Instant instant = odt.toInstant() ;\nInstant instant = zdt.toInstant() ;\n</code></pre>\n<p>Tip: Generally write your code to <em>not</em> depend on the default time zone of your JVM, your database session, or host OS. Those defaults are not under your control as a programmer. And those defaults can change at any moment during runtime. So use a default only where called for, such as localizing to default zone of a user’s mobile device for presentation in the user-interface. And make your use of such a default explicit, always specifying the otherwise optional zone/offset arguments to various calls.</p>\n<p>Tip: Recording the moment a row is inserted or updated is generally best left to the database.  Use a trigger where the database server captures the current moment and assigns it to the field. Then you are covered for operations outside your Java app, such as bulk data loads.</p>\n"}],"owner":{"account_id":5124081,"reputation":253,"user_id":4106800,"display_name":"Gobanit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6710,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640802092,"creation_date":1640796182,"question_id":70522389,"body_markdown":"I came upon a problem with java.time classes and their mapping to DB types. I want to store Instant type, but it behaves quite unintuitively.\r\n\r\nSimple project example here: https://gitlab.com/Gobanit/jpa-time-example\r\n\r\nI have basic entity class:\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\npublic class AbstractEntity {\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n//    @Column(columnDefinition = &quot;TIMESTAMP WITH TIME ZONE&quot;)\r\n    private Instant createdAt;\r\n//    @Column(columnDefinition = &quot;TIMESTAMP WITH TIME ZONE&quot;)\r\n    private ZonedDateTime createdAtZoned;\r\n    private LocalDateTime createdAtLocal;\r\n    private Instant modifiedAt;\r\n\r\n    @PrePersist\r\n    protected void prePersist() {\r\n        createdAt = Instant.now();\r\n        modifiedAt = createdAt;\r\n        createdAtZoned = createdAt.atZone(ZoneId.systemDefault());\r\n        createdAtLocal = createdAtZoned.toLocalDateTime();\r\n        System.out.println(String.format(&quot;Created: instant=%s, zoned=%s, local=%s&quot;, createdAt, createdAtZoned, createdAtLocal));\r\n    }\r\n\r\n    @PreUpdate\r\n    protected void preUpdate() {\r\n        modifiedAt = Instant.now();\r\n    }\r\n}\r\n```\r\n\r\nNow, I will create and persist the entity:\r\n```\r\n    @Transactional\r\n    @GetMapping(&quot;create&quot;)\r\n    public AbstractEntity createNew() {\r\n        System.out.println(&quot;create&quot;);\r\n        System.out.println(&quot;ZoneId=&quot; + ZoneId.systemDefault());\r\n        var e = new AbstractEntity();\r\n        em.persist(e);\r\n        return e;\r\n    }\r\n```\r\n\r\nThe data in Java are as expected - system output below:\r\n```\r\nZoneId=Europe/Bratislava\r\nCreated: instant=2021-12-29T14:13:55.624902400Z, zoned=2021-12-29T15:13:55.624902400+01:00[Europe/Bratislava], local=2021-12-29T15:13:55.624902400\r\n```\r\n\r\nHowever, the data in DB are not. They are all stored as the same value. The default type of the column is set to TIMESTAMP for all of them. And they are all stored as if they were LocalDateTime in application JVM timezone.\r\n\r\n[![jvm timezone db result][1]][1]\r\n\r\nI dont like this at all, there is no difference between these types and the &quot;meaning&quot; of the value is dependent on the application zone. If I look at the database without knowing which application wrote the data and what is its zone, i cannot say, what the datetime means. Even worse, if I run the application with different zone, it would assume that the values were written in its timezone, which they were not.\r\n\r\nSome people say, the time data should be stored in UTC (which i partially agree) and they recommend setting following property, so that the values are converted to UTC zone before storing in DB by JDBC: \r\n```\r\nspring.jpa.properties.hibernate.jdbc.time_zone: UTC\r\n```\r\nHowever, this results in even worse behavior, since it applies not only to Instant/ZonedDateTime but also to LocalDateTime, which seems logically wrong to me. LocalDateTime value should not be affected by any timezone conversions at all, that is why it is LocalDateTime.\r\n\r\nSystem Output:\r\n```\r\nZoneId=Europe/Bratislava\r\nCreated: instant=2021-12-29T14:15:13.614799900Z, zoned=2021-12-29T15:15:13.614799900+01:00[Europe/Bratislava], local=2021-12-29T15:15:13.614799900\r\n```\r\nDB Result:\r\n\r\n[![UTC jdbc timezone db result][2]][2]\r\n\r\nI would expect one of these to happen:\r\n1. Mapping Instant and ZonedDateTime to TIMESTAMP_WITH_TIMEZONE by default. Also, Instant type should be always serialized with UTC zone - just as when printing to string or serializing with jackson. (ideal)\r\n2. Mapping Instant and ZonedDateTime to TIMESTAMP but convert them to UTC when serializing, and back to JVM timezone when deserializing. (not ideal, but good enough)\r\n\r\nI can override the default mapping explicitly, by uncommenting the line below. \r\n```\r\n// @Column(columnDefinition = &quot;TIMESTAMP WITH TIME ZONE&quot;)\r\n```\r\nThat works fine, only Instant are not converted to UTC but take the JVM zone, just like ZonedDateTime. Technically it is totally fine, i cant see any inconsistency result happen because of that, but personally i would prefer them in UTC, so that they are always unified.\r\nThe second problem with this, is that i need to explicitly configure it for each field.\r\n```\r\nZoneId=Europe/Bratislava\r\nCreated: instant=2021-12-29T14:19:14.600583400Z, zoned=2021-12-29T15:19:14.600583400+01:00[Europe/Bratislava], local=2021-12-29T15:19:14.600583400\r\n```\r\n\r\n[![Timestamp with timezone db result][3]][3]\r\n\r\nIn the end, I have few questions, I would really like someone to answer me :)\r\n**\r\n1. **Is there any way to get the ideal solution (the first mentioned)?**\r\n2. **Is there any way to at least globally configure the type mapping?**\r\n3. **Can you see any risks in this approach?**\r\n4. **Is there a better or more standardized approach, that I am not aware of? What is your strategy for working with time?**\r\n\r\n\r\nThanks!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JOkxB.png\r\n  [2]: https://i.stack.imgur.com/CYKU1.png\r\n  [3]: https://i.stack.imgur.com/WPzK1.png","title":"JPA Instant/ZonedDateTime Database mapping","body":"<p>I came upon a problem with java.time classes and their mapping to DB types. I want to store Instant type, but it behaves quite unintuitively.</p>\n<p>Simple project example here: <a href=\"https://gitlab.com/Gobanit/jpa-time-example\" rel=\"nofollow noreferrer\">https://gitlab.com/Gobanit/jpa-time-example</a></p>\n<p>I have basic entity class:</p>\n<pre><code>@Entity\n@Getter\n@Setter\npublic class AbstractEntity {\n    @Id\n    @GeneratedValue\n    private Long id;\n//    @Column(columnDefinition = &quot;TIMESTAMP WITH TIME ZONE&quot;)\n    private Instant createdAt;\n//    @Column(columnDefinition = &quot;TIMESTAMP WITH TIME ZONE&quot;)\n    private ZonedDateTime createdAtZoned;\n    private LocalDateTime createdAtLocal;\n    private Instant modifiedAt;\n\n    @PrePersist\n    protected void prePersist() {\n        createdAt = Instant.now();\n        modifiedAt = createdAt;\n        createdAtZoned = createdAt.atZone(ZoneId.systemDefault());\n        createdAtLocal = createdAtZoned.toLocalDateTime();\n        System.out.println(String.format(&quot;Created: instant=%s, zoned=%s, local=%s&quot;, createdAt, createdAtZoned, createdAtLocal));\n    }\n\n    @PreUpdate\n    protected void preUpdate() {\n        modifiedAt = Instant.now();\n    }\n}\n</code></pre>\n<p>Now, I will create and persist the entity:</p>\n<pre><code>    @Transactional\n    @GetMapping(&quot;create&quot;)\n    public AbstractEntity createNew() {\n        System.out.println(&quot;create&quot;);\n        System.out.println(&quot;ZoneId=&quot; + ZoneId.systemDefault());\n        var e = new AbstractEntity();\n        em.persist(e);\n        return e;\n    }\n</code></pre>\n<p>The data in Java are as expected - system output below:</p>\n<pre><code>ZoneId=Europe/Bratislava\nCreated: instant=2021-12-29T14:13:55.624902400Z, zoned=2021-12-29T15:13:55.624902400+01:00[Europe/Bratislava], local=2021-12-29T15:13:55.624902400\n</code></pre>\n<p>However, the data in DB are not. They are all stored as the same value. The default type of the column is set to TIMESTAMP for all of them. And they are all stored as if they were LocalDateTime in application JVM timezone.</p>\n<p><a href=\"https://i.stack.imgur.com/JOkxB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JOkxB.png\" alt=\"jvm timezone db result\" /></a></p>\n<p>I dont like this at all, there is no difference between these types and the &quot;meaning&quot; of the value is dependent on the application zone. If I look at the database without knowing which application wrote the data and what is its zone, i cannot say, what the datetime means. Even worse, if I run the application with different zone, it would assume that the values were written in its timezone, which they were not.</p>\n<p>Some people say, the time data should be stored in UTC (which i partially agree) and they recommend setting following property, so that the values are converted to UTC zone before storing in DB by JDBC:</p>\n<pre><code>spring.jpa.properties.hibernate.jdbc.time_zone: UTC\n</code></pre>\n<p>However, this results in even worse behavior, since it applies not only to Instant/ZonedDateTime but also to LocalDateTime, which seems logically wrong to me. LocalDateTime value should not be affected by any timezone conversions at all, that is why it is LocalDateTime.</p>\n<p>System Output:</p>\n<pre><code>ZoneId=Europe/Bratislava\nCreated: instant=2021-12-29T14:15:13.614799900Z, zoned=2021-12-29T15:15:13.614799900+01:00[Europe/Bratislava], local=2021-12-29T15:15:13.614799900\n</code></pre>\n<p>DB Result:</p>\n<p><a href=\"https://i.stack.imgur.com/CYKU1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CYKU1.png\" alt=\"UTC jdbc timezone db result\" /></a></p>\n<p>I would expect one of these to happen:</p>\n<ol>\n<li>Mapping Instant and ZonedDateTime to TIMESTAMP_WITH_TIMEZONE by default. Also, Instant type should be always serialized with UTC zone - just as when printing to string or serializing with jackson. (ideal)</li>\n<li>Mapping Instant and ZonedDateTime to TIMESTAMP but convert them to UTC when serializing, and back to JVM timezone when deserializing. (not ideal, but good enough)</li>\n</ol>\n<p>I can override the default mapping explicitly, by uncommenting the line below.</p>\n<pre><code>// @Column(columnDefinition = &quot;TIMESTAMP WITH TIME ZONE&quot;)\n</code></pre>\n<p>That works fine, only Instant are not converted to UTC but take the JVM zone, just like ZonedDateTime. Technically it is totally fine, i cant see any inconsistency result happen because of that, but personally i would prefer them in UTC, so that they are always unified.\nThe second problem with this, is that i need to explicitly configure it for each field.</p>\n<pre><code>ZoneId=Europe/Bratislava\nCreated: instant=2021-12-29T14:19:14.600583400Z, zoned=2021-12-29T15:19:14.600583400+01:00[Europe/Bratislava], local=2021-12-29T15:19:14.600583400\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/WPzK1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WPzK1.png\" alt=\"Timestamp with timezone db result\" /></a></p>\n<p>In the end, I have few questions, I would really like someone to answer me :)\n**</p>\n<ol>\n<li><strong>Is there any way to get the ideal solution (the first mentioned)?</strong></li>\n<li><strong>Is there any way to at least globally configure the type mapping?</strong></li>\n<li><strong>Can you see any risks in this approach?</strong></li>\n<li><strong>Is there a better or more standardized approach, that I am not aware of? What is your strategy for working with time?</strong></li>\n</ol>\n<p>Thanks!</p>\n"},{"tags":["java","spring","spring-boot","properties-file"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640801939,"creation_date":1640797381,"answer_id":70522615,"question_id":70521966,"body_markdown":"&gt; spring.config.import = file:./myapp.properties will only read from the\r\n&gt; current directory spring.config.import = file:/etc/myapp.properties\r\n&gt; will read from the specified directory -- but I don&#39;t know what this\r\n&gt; is at build time (the end-user determines it at installation time)\r\n\r\nWhy overcomplicate this. \r\n\r\nPlace inside the jar all the properties that you want to be statically configured as default values when you build the application.\r\n\r\nEmbedded `application.properties`\r\n\r\n     server.port = 8080\r\n     prop1.element = something\r\n\r\nThen the client can create another file `application.properties` and place it in the same directory with the jar and define more properties which are not already defined.\r\n\r\n     prop2.element = something2   \r\n     prop3.element = something3\r\n\r\nBy default Spring Boot will load properties both from the embedded file as well from the file in the current directory where the jar is placed during startup.\r\n\r\nIn the external `application.properties` you can also overwrite properties existing in the embedded `application.properties`. So if the external file in the current directory same as the jar is the following\r\n\r\n     prop2.element = something2   \r\n     prop3.element = something3\r\n     prop1.element = something4 &lt;--- this value here will overwrite the value &#39;something&#39; from embedded file \r\n\r\nAccording to [spring doc][1]\r\n\r\n&gt; SpringApplication will load properties from application.properties\r\n&gt; files in the following locations and add them to the Spring\r\n&gt; Environment:\r\n&gt; \r\n&gt; 1) /config subdirectory of the current directory. \r\n&gt; \r\n&gt; 2) The current directory\r\n&gt;\r\n&gt; 3) classpath /config package \r\n&gt;\r\n&gt; 4) The classpath root The list is ordered by\r\n&gt;\r\n&gt; Precedence (properties defined **in locations higher in the list\r\n&gt; override those defined in lower locations**).\r\n\r\nAfter having more input from the comments, it seems that you face another issue as well. You start the application from command line from another directory so that is counted as the directory where spring will look for the external configuration instead of where the jar is placed.\r\n\r\nSo for example let&#39;s say that the jar is placed inside the target folder that exists in current directory. You start the application using the following command:\r\n\r\n    java -jar target/demo-0.0.1-SNAPSHOT.jar\r\n\r\nBut then the external `application.properties` existing inside target folder is not loaded from spring because you executed the command from another directory. This can be solved if you start the application in the following way\r\n\r\n    java -jar -Dspring.config.additional-location=./target/ target/demo-0.0.1-SNAPSHOT.jar\r\n\r\nThis should not be difficult as you already provide the path where the jar exists in the command line.\r\n  \r\n\r\n[1]: https://docs.spring.io/spring-boot/docs/1.5.3.RELEASE/reference/html/boot-features-external-config.html#boot-features-external-config-application-property-files","title":"Read external .properties file from the install directory (not the current directory)","body":"<blockquote>\n<p>spring.config.import = file:./myapp.properties will only read from the\ncurrent directory spring.config.import = file:/etc/myapp.properties\nwill read from the specified directory -- but I don't know what this\nis at build time (the end-user determines it at installation time)</p>\n</blockquote>\n<p>Why overcomplicate this.</p>\n<p>Place inside the jar all the properties that you want to be statically configured as default values when you build the application.</p>\n<p>Embedded <code>application.properties</code></p>\n<pre><code> server.port = 8080\n prop1.element = something\n</code></pre>\n<p>Then the client can create another file <code>application.properties</code> and place it in the same directory with the jar and define more properties which are not already defined.</p>\n<pre><code> prop2.element = something2   \n prop3.element = something3\n</code></pre>\n<p>By default Spring Boot will load properties both from the embedded file as well from the file in the current directory where the jar is placed during startup.</p>\n<p>In the external <code>application.properties</code> you can also overwrite properties existing in the embedded <code>application.properties</code>. So if the external file in the current directory same as the jar is the following</p>\n<pre><code> prop2.element = something2   \n prop3.element = something3\n prop1.element = something4 &lt;--- this value here will overwrite the value 'something' from embedded file \n</code></pre>\n<p>According to <a href=\"https://docs.spring.io/spring-boot/docs/1.5.3.RELEASE/reference/html/boot-features-external-config.html#boot-features-external-config-application-property-files\" rel=\"nofollow noreferrer\">spring doc</a></p>\n<blockquote>\n<p>SpringApplication will load properties from application.properties\nfiles in the following locations and add them to the Spring\nEnvironment:</p>\n<ol>\n<li><p>/config subdirectory of the current directory.</p>\n</li>\n<li><p>The current directory</p>\n</li>\n<li><p>classpath /config package</p>\n</li>\n<li><p>The classpath root The list is ordered by</p>\n</li>\n</ol>\n<p>Precedence (properties defined <strong>in locations higher in the list\noverride those defined in lower locations</strong>).</p>\n</blockquote>\n<p>After having more input from the comments, it seems that you face another issue as well. You start the application from command line from another directory so that is counted as the directory where spring will look for the external configuration instead of where the jar is placed.</p>\n<p>So for example let's say that the jar is placed inside the target folder that exists in current directory. You start the application using the following command:</p>\n<pre><code>java -jar target/demo-0.0.1-SNAPSHOT.jar\n</code></pre>\n<p>But then the external <code>application.properties</code> existing inside target folder is not loaded from spring because you executed the command from another directory. This can be solved if you start the application in the following way</p>\n<pre><code>java -jar -Dspring.config.additional-location=./target/ target/demo-0.0.1-SNAPSHOT.jar\n</code></pre>\n<p>This should not be difficult as you already provide the path where the jar exists in the command line.</p>\n"}],"owner":{"account_id":1000824,"reputation":1501,"user_id":1015703,"accept_rate":96,"display_name":"David H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1070,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640801939,"creation_date":1640794067,"question_id":70521966,"body_markdown":"I am distributing a Spring Boot application as a zipped &quot;bootJar&quot; using the Gradle Application plugin and the &quot;distZip&quot; task.  The end-user will get the zip file, unzip it, and run it by just typing &quot;myApp&quot; (a shell script nicely created by the plugin).\r\n\r\nI would like the end-user to create a &quot;myapp.properties&quot; file (a name I chose) and put it in the installation directory, or a &quot;config&quot; directory under the installation directory.  \r\n\r\nSuppose I set up my embedded (in the jar) application.properties file as follows:\r\n\r\n- `spring.config.import = file:./myapp.properties` will only read from the *current* directory\r\n- `spring.config.import = file:/etc/myapp.properties` will read from the specified directory -- but I *don&#39;t know* what this is at *build time* (the end-user determines it at *installation time*)\r\n\r\nHow can I set up my application so that Spring Boot can read properties from an external file whose location is specified later?\r\n\r\nNOTE: I know I can play around with the generated scripts to pass in environment variables or Spring Boot properties, but I was hoping to do this completely within Spring Boot so I don&#39;t need to modify the nicely generated shell scripts.","title":"Read external .properties file from the install directory (not the current directory)","body":"<p>I am distributing a Spring Boot application as a zipped &quot;bootJar&quot; using the Gradle Application plugin and the &quot;distZip&quot; task.  The end-user will get the zip file, unzip it, and run it by just typing &quot;myApp&quot; (a shell script nicely created by the plugin).</p>\n<p>I would like the end-user to create a &quot;myapp.properties&quot; file (a name I chose) and put it in the installation directory, or a &quot;config&quot; directory under the installation directory.</p>\n<p>Suppose I set up my embedded (in the jar) application.properties file as follows:</p>\n<ul>\n<li><code>spring.config.import = file:./myapp.properties</code> will only read from the <em>current</em> directory</li>\n<li><code>spring.config.import = file:/etc/myapp.properties</code> will read from the specified directory -- but I <em>don't know</em> what this is at <em>build time</em> (the end-user determines it at <em>installation time</em>)</li>\n</ul>\n<p>How can I set up my application so that Spring Boot can read properties from an external file whose location is specified later?</p>\n<p>NOTE: I know I can play around with the generated scripts to pass in environment variables or Spring Boot properties, but I was hoping to do this completely within Spring Boot so I don't need to modify the nicely generated shell scripts.</p>\n"},{"tags":["java","android","android-studio","gradle"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1640800571,"post_id":70522155,"comment_id":124663350,"body_markdown":"Have you checked your project layout;to make sure everything is in the correct place? It may be necessary to add the project layout to your question.","body":"Have you checked your project layout;to make sure everything is in the correct place? It may be necessary to add the project layout to your question."},{"owner":{"account_id":6916015,"reputation":1,"user_id":8555236,"display_name":"Himel Mazumder"},"score":0,"creation_date":1640801631,"post_id":70522155,"comment_id":124663693,"body_markdown":"Layout image has been added.","body":"Layout image has been added."}],"owner":{"account_id":6916015,"reputation":1,"user_id":8555236,"display_name":"Himel Mazumder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640801584,"creation_date":1640795074,"question_id":70522155,"body_markdown":"After creating a new empty project in android studio, I created a new module for Java or Kotlin library. But in the java class file keywords such as **String, System** shows **&#39;Cannot resolve symbol&#39;** error. I&#39;ve tried few things like **clean project, rebuild project, invalidate cache/restart** etc. nothing worked. I also **updated gradle version**. I&#39;m using android studio **Arctic Fox 2020.3.1 patch 4**. \r\nWhat can I do in this situation.\r\n[Project layout image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2xzhN.png","title":"Importing Anything in a Java Library Module says &#39;Cannot resolve symbol&#39; in Android Studio","body":"<p>After creating a new empty project in android studio, I created a new module for Java or Kotlin library. But in the java class file keywords such as <strong>String, System</strong> shows <strong>'Cannot resolve symbol'</strong> error. I've tried few things like <strong>clean project, rebuild project, invalidate cache/restart</strong> etc. nothing worked. I also <strong>updated gradle version</strong>. I'm using android studio <strong>Arctic Fox 2020.3.1 patch 4</strong>.\nWhat can I do in this situation.\n<a href=\"https://i.stack.imgur.com/2xzhN.png\" rel=\"nofollow noreferrer\">Project layout image</a></p>\n"},{"tags":["java","micronaut","byte-buddy"],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640800107,"creation_date":1640800107,"answer_id":70523089,"question_id":70516603,"body_markdown":"I assume that the agent is installed multiple times, likely once per test. You can deregister or even reset an installed agent, the returned ResettableClassFileTransformer offers methods for this. Alternatively, check if tour agent is already active on the current VM and avoid its reregistration.","title":"Byte Buddy is creating +1 TRANSFORM after every test class execution","body":"<p>I assume that the agent is installed multiple times, likely once per test. You can deregister or even reset an installed agent, the returned ResettableClassFileTransformer offers methods for this. Alternatively, check if tour agent is already active on the current VM and avoid its reregistration.</p>\n"}],"owner":{"account_id":18392267,"reputation":115,"user_id":13397671,"display_name":"angnewb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70523089,"answer_count":1,"score":2,"last_activity_date":1640800926,"creation_date":1640764603,"question_id":70516603,"body_markdown":"I&#39;m using Micronaut 3.0 and Byte Buddy 1.12.6, Groovy for testing.\r\n\r\nThe problem occurs when I&#39;m running whole package of tests at once in IntelliJ (doesn&#39;t have to be whole package, more than 1 test class is enough).\r\n\r\nWith every test class executed, it is creating +1 Transform for each class that is matched by agent.\r\n\r\nFirst test class executed:\r\n\r\n    [Byte Buddy] TRANSFORM com.class [jdk.internal.loader.ClassLoaders$AppClassLoader@5ffd2b27, unnamed module @87a85e1, Thread[Test worker,5,main], loaded=true]\r\n\r\nSecond test class executed:\r\n\r\n    [Byte Buddy] TRANSFORM com.class [jdk.internal.loader.ClassLoaders$AppClassLoader@5ffd2b27, unnamed module @87a85e1, Thread[Test worker,5,main], loaded=true]\r\n    [Byte Buddy] TRANSFORM com.class [jdk.internal.loader.ClassLoaders$AppClassLoader@5ffd2b27, unnamed module @87a85e1, Thread[Test worker,5,main], loaded=true]\r\n\r\nThird test class executed:\r\n\r\n    [Byte Buddy] TRANSFORM com.class [jdk.internal.loader.ClassLoaders$AppClassLoader@5ffd2b27, unnamed module @87a85e1, Thread[Test worker,5,main], loaded=true]\r\n    [Byte Buddy] TRANSFORM com.class [jdk.internal.loader.ClassLoaders$AppClassLoader@5ffd2b27, unnamed module @87a85e1, Thread[Test worker,5,main], loaded=true]\r\n    [Byte Buddy] TRANSFORM com.class [jdk.internal.loader.ClassLoaders$AppClassLoader@5ffd2b27, unnamed module @87a85e1, Thread[Test worker,5,main], loaded=true]\r\n\r\netc.\r\n\r\nExample test class\r\n\r\n```\r\n@MicronautTest(transactional = false, environments = &quot;db&quot;)\r\n@Stepwise\r\n@Slf4j\r\nclass TestClass with Specification {\r\n\r\n    def &quot;test method&quot;() {\r\n    .....\r\n    }\r\n\r\n}\r\n```\r\n\r\nMy agent class:\r\n\r\n```\r\n@Context\r\npublic class LoggingAgent {\r\n\r\n    @PostConstruct\r\n    private void premain() {\r\n        new AgentBuilder.Default()\r\n                .disableClassFormatChanges()\r\n                .with(AgentBuilder.Listener.StreamWriting.toSystemError().withTransformationsOnly())\r\n                .with(AgentBuilder.InstallationListener.StreamWriting.toSystemError())\r\n                .with(AgentBuilder.RedefinitionStrategy.RETRANSFORMATION)\r\n                .type(isSubTypeOf(Test.class).and(not(isAbstract())))\r\n                .transform((builder, typeDescription, classLoader, module) -&gt; builder.visit(Advice.to(LoggingAdvice.class).on(isMethod())))\r\n                .installOn(ByteBuddyAgent.install());\r\n    }\r\n\r\n}\r\n```\r\n\r\nAdvice\r\n\r\n```\r\npublic class LoggingAdvice {\r\n\r\n    @Advice.OnMethodEnter\r\n    public static void intercept(@Advice.Origin Method method, @Advice.AllArguments Object[] args) throws Exception {\r\n    .....\r\n    }\r\n}\r\n```\r\n\r\n","title":"Byte Buddy is creating +1 TRANSFORM after every test class execution","body":"<p>I'm using Micronaut 3.0 and Byte Buddy 1.12.6, Groovy for testing.</p>\n<p>The problem occurs when I'm running whole package of tests at once in IntelliJ (doesn't have to be whole package, more than 1 test class is enough).</p>\n<p>With every test class executed, it is creating +1 Transform for each class that is matched by agent.</p>\n<p>First test class executed:</p>\n<pre><code>[Byte Buddy] TRANSFORM com.class [jdk.internal.loader.ClassLoaders$AppClassLoader@5ffd2b27, unnamed module @87a85e1, Thread[Test worker,5,main], loaded=true]\n</code></pre>\n<p>Second test class executed:</p>\n<pre><code>[Byte Buddy] TRANSFORM com.class [jdk.internal.loader.ClassLoaders$AppClassLoader@5ffd2b27, unnamed module @87a85e1, Thread[Test worker,5,main], loaded=true]\n[Byte Buddy] TRANSFORM com.class [jdk.internal.loader.ClassLoaders$AppClassLoader@5ffd2b27, unnamed module @87a85e1, Thread[Test worker,5,main], loaded=true]\n</code></pre>\n<p>Third test class executed:</p>\n<pre><code>[Byte Buddy] TRANSFORM com.class [jdk.internal.loader.ClassLoaders$AppClassLoader@5ffd2b27, unnamed module @87a85e1, Thread[Test worker,5,main], loaded=true]\n[Byte Buddy] TRANSFORM com.class [jdk.internal.loader.ClassLoaders$AppClassLoader@5ffd2b27, unnamed module @87a85e1, Thread[Test worker,5,main], loaded=true]\n[Byte Buddy] TRANSFORM com.class [jdk.internal.loader.ClassLoaders$AppClassLoader@5ffd2b27, unnamed module @87a85e1, Thread[Test worker,5,main], loaded=true]\n</code></pre>\n<p>etc.</p>\n<p>Example test class</p>\n<pre><code>@MicronautTest(transactional = false, environments = &quot;db&quot;)\n@Stepwise\n@Slf4j\nclass TestClass with Specification {\n\n    def &quot;test method&quot;() {\n    .....\n    }\n\n}\n</code></pre>\n<p>My agent class:</p>\n<pre><code>@Context\npublic class LoggingAgent {\n\n    @PostConstruct\n    private void premain() {\n        new AgentBuilder.Default()\n                .disableClassFormatChanges()\n                .with(AgentBuilder.Listener.StreamWriting.toSystemError().withTransformationsOnly())\n                .with(AgentBuilder.InstallationListener.StreamWriting.toSystemError())\n                .with(AgentBuilder.RedefinitionStrategy.RETRANSFORMATION)\n                .type(isSubTypeOf(Test.class).and(not(isAbstract())))\n                .transform((builder, typeDescription, classLoader, module) -&gt; builder.visit(Advice.to(LoggingAdvice.class).on(isMethod())))\n                .installOn(ByteBuddyAgent.install());\n    }\n\n}\n</code></pre>\n<p>Advice</p>\n<pre><code>public class LoggingAdvice {\n\n    @Advice.OnMethodEnter\n    public static void intercept(@Advice.Origin Method method, @Advice.AllArguments Object[] args) throws Exception {\n    .....\n    }\n}\n</code></pre>\n"},{"tags":["java","android","lightweight-stream-api"],"comments":[{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1494515707,"post_id":43919243,"comment_id":74872160,"body_markdown":"Your version is actually fine so long as you can extract it into a separage function. You can use `flatMap`, of course, but I would suggest refactoring your code to replace `List&lt;Optional&lt;Visit&gt;&gt;` with `List&lt;Visit&gt;`.","body":"Your version is actually fine so long as you can extract it into a separage function. You can use <code>flatMap</code>, of course, but I would suggest refactoring your code to replace <code>List&lt;Optional&lt;Visit&gt;&gt;</code> with <code>List&lt;Visit&gt;</code>."},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":1,"creation_date":1494516136,"post_id":43919243,"comment_id":74872513,"body_markdown":"Your code doesn&#39;t compile because there is no static method `Optional.isPresent(Object)`. Both `isPresent` and `get` are instance methods. It is also not clear what are you trying to do by calling `Optional.of(t).get()` - this code is almost pointless since there is a lot cleaner and readable way to throw a `NullPointerException`.","body":"Your code doesn&#39;t compile because there is no static method <code>Optional.isPresent(Object)</code>. Both <code>isPresent</code> and <code>get</code> are instance methods. It is also not clear what are you trying to do by calling <code>Optional.of(t).get()</code> - this code is almost pointless since there is a lot cleaner and readable way to throw a <code>NullPointerException</code>."},{"owner":{"account_id":122805,"reputation":5993,"user_id":316843,"accept_rate":66,"display_name":"irobotxx"},"score":0,"creation_date":1494516650,"post_id":43919243,"comment_id":74872904,"body_markdown":"@M.Prokhorov Let me try to explain properly what am trying to achieve. i call response. getVisits() from a method after an API call. and the return type is List&lt;Visit&gt; but each Visit object within the list is wrapped with an Optional. So am basically trying to get the value from the optional and add them to a new List which just contains Visits without the optional.","body":"@M.Prokhorov Let me try to explain properly what am trying to achieve. i call response. getVisits() from a method after an API call. and the return type is List&lt;Visit&gt; but each Visit object within the list is wrapped with an Optional. So am basically trying to get the value from the optional and add them to a new List which just contains Visits without the optional."},{"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"score":0,"creation_date":1494516784,"post_id":43919243,"comment_id":74872984,"body_markdown":"@irobotxxx I was going to write a simpler answer, but what is the type of `visits`?  I seemed to be confused whether it is `List&lt;Visit&gt;` or `List&lt;Optional&lt;Visit&gt;&gt;`","body":"@irobotxxx I was going to write a simpler answer, but what is the type of <code>visits</code>?  I seemed to be confused whether it is <code>List&lt;Visit&gt;</code> or <code>List&lt;Optional&lt;Visit&gt;&gt;</code>"},{"owner":{"account_id":122805,"reputation":5993,"user_id":316843,"accept_rate":66,"display_name":"irobotxx"},"score":0,"creation_date":1494517008,"post_id":43919243,"comment_id":74873131,"body_markdown":"@JacobG. please see my comment above. its basically List&lt;Visit&gt; but in the list i have [Optional [Visit] ].","body":"@JacobG. please see my comment above. its basically List&lt;Visit&gt; but in the list i have [Optional [Visit] ]."},{"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"score":0,"creation_date":1494517049,"post_id":43919243,"comment_id":74873155,"body_markdown":"Okay, I assume you didn&#39;t specify a generic type, so it&#39;s actually a `List&lt;Optional&lt;Visit&gt;&gt;`.  Harmlezz&#39;s answer should work perfectly fine for you.","body":"Okay, I assume you didn&#39;t specify a generic type, so it&#39;s actually a <code>List&lt;Optional&lt;Visit&gt;&gt;</code>.  Harmlezz&#39;s answer should work perfectly fine for you."},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":2,"creation_date":1494518217,"post_id":43919243,"comment_id":74873959,"body_markdown":"@irobotxxx, if it&#39;s `List&lt;Visit&gt;`, then objects can&#39;t be &quot;wrapped&quot; into an optional, because then it would be `List&lt;Optional&lt;Visit&gt;&gt;`. I would also insist that you should rather change code so it _doesn&#39;t_ wrap into an optional. There is no purpose in this data structure (list of optionals) apart from making developers angry and confused.","body":"@irobotxxx, if it&#39;s <code>List&lt;Visit&gt;</code>, then objects can&#39;t be &quot;wrapped&quot; into an optional, because then it would be <code>List&lt;Optional&lt;Visit&gt;&gt;</code>. I would also insist that you should rather change code so it <i>doesn&#39;t</i> wrap into an optional. There is no purpose in this data structure (list of optionals) apart from making developers angry and confused."},{"owner":{"account_id":122805,"reputation":5993,"user_id":316843,"accept_rate":66,"display_name":"irobotxx"},"score":0,"creation_date":1494519036,"post_id":43919243,"comment_id":74874516,"body_markdown":"@M.Prokhorov i would agree with you on that one. I must have done something wron when mapping from the api response to my domain response. Am really sorry for the confusion.","body":"@M.Prokhorov i would agree with you on that one. I must have done something wron when mapping from the api response to my domain response. Am really sorry for the confusion."},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1494519360,"post_id":43919243,"comment_id":74874713,"body_markdown":"@irobotxxx, if your API responds with optionals, you should unwrap them as soon as possible. There is a handy method `ifPresent` that you can use like this: `optional.ifPresent(myList::add)`.","body":"@irobotxxx, if your API responds with optionals, you should unwrap them as soon as possible. There is a handy method <code>ifPresent</code> that you can use like this: <code>optional.ifPresent(myList::add)</code>."},{"owner":{"account_id":122805,"reputation":5993,"user_id":316843,"accept_rate":66,"display_name":"irobotxx"},"score":0,"creation_date":1494579436,"post_id":43919243,"comment_id":74899273,"body_markdown":"@M.Prokhorov yeah.you are right.  that was the problem. i did it a bit too late which caused the issue.","body":"@M.Prokhorov yeah.you are right.  that was the problem. i did it a bit too late which caused the issue."}],"answers":[{"tags":[],"owner":{"account_id":545654,"reputation":7998,"user_id":1360984,"accept_rate":60,"display_name":"Harmlezz"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1494566470,"creation_date":1494515704,"answer_id":43919422,"question_id":43919243,"body_markdown":"You may do it this way:\r\n\r\n    return visits.stream()\r\n                 .map(visit -&gt; visit.orElse(null))\r\n                 .filter(Objects::nonNull)\r\n                 .collect(Collectors.toList());\r\n\r\nAssuming `visits` is of type `List&lt;Optional&lt;Visit&gt;&gt;`.\r\n\r\n**Causes Of Your Code Not Compiling**\r\n\r\nAssuming that the variable `visits` is of type `List&lt;Optional&lt;Visit&gt;&gt;` the statement you posted:\r\n\r\n    Stream.of(visits).filter(value -&gt; Optional.isPresent(value))\r\n                     .map((Visit t) -&gt; Optional.get(t))\r\n                     .collect(Collectors.toList());\r\n\r\nhas the following problems:\r\n\r\n1. `Stream.of()` takes either one element or many elements of type `T` and creates a *Stream*. You use `visits` as one element of type `List&lt;Optional&lt;Visit&gt;&gt;` and I think you intend to get a *Stream* of `Optional&lt;Visit&gt;` which you may achieve by using `visits.stream()`.\r\n\r\n2. `filter(value -&gt; Optional.isPresent(value))` does invoke `isPresent(T t)` in a static way while the method `isPresent(T t)` doesn&#39;t exist, neither statically nor as an instance method. I think what you intend to do is: `filter(value -&gt; value.isPresent())` which is equal to `filter(Optional::isPresent)`. The difference of the second is that `Optional::isPresent` does not invoke a static method but results in a method reference.\r\n\r\n3. `map((Visit) t -&gt; Optional.get(t))` does as well invoke a method `get(T t)` in a static way which doesn&#39;t exist, neither statically nor as an instance method. I think you intended to invoke `map((Visit) t -&gt; t.get())` which is equal to `map(Optional::get)`. \r\n\r\nFixing those issues would result in the new statement:\r\n\r\n    visits.stream().filter(Optional::isPresent)\r\n                   .map(Optional::get)\r\n                   .collect(Collectors.toList());\r\n\r\nThe difference to my solution is only that you map after filter. As a reader to get it right you need to remember that `Optional::get` will always return a *non-null* value. If you map first and filter second you do not have to remember there are no `null` values because you filter them out in the second step.","title":"Return a List of present objects from a List of Optional objects using Lightweight-Stream-API","body":"<p>You may do it this way:</p>\n\n<pre><code>return visits.stream()\n             .map(visit -&gt; visit.orElse(null))\n             .filter(Objects::nonNull)\n             .collect(Collectors.toList());\n</code></pre>\n\n<p>Assuming <code>visits</code> is of type <code>List&lt;Optional&lt;Visit&gt;&gt;</code>.</p>\n\n<p><strong>Causes Of Your Code Not Compiling</strong></p>\n\n<p>Assuming that the variable <code>visits</code> is of type <code>List&lt;Optional&lt;Visit&gt;&gt;</code> the statement you posted:</p>\n\n<pre><code>Stream.of(visits).filter(value -&gt; Optional.isPresent(value))\n                 .map((Visit t) -&gt; Optional.get(t))\n                 .collect(Collectors.toList());\n</code></pre>\n\n<p>has the following problems:</p>\n\n<ol>\n<li><p><code>Stream.of()</code> takes either one element or many elements of type <code>T</code> and creates a <em>Stream</em>. You use <code>visits</code> as one element of type <code>List&lt;Optional&lt;Visit&gt;&gt;</code> and I think you intend to get a <em>Stream</em> of <code>Optional&lt;Visit&gt;</code> which you may achieve by using <code>visits.stream()</code>.</p></li>\n<li><p><code>filter(value -&gt; Optional.isPresent(value))</code> does invoke <code>isPresent(T t)</code> in a static way while the method <code>isPresent(T t)</code> doesn't exist, neither statically nor as an instance method. I think what you intend to do is: <code>filter(value -&gt; value.isPresent())</code> which is equal to <code>filter(Optional::isPresent)</code>. The difference of the second is that <code>Optional::isPresent</code> does not invoke a static method but results in a method reference.</p></li>\n<li><p><code>map((Visit) t -&gt; Optional.get(t))</code> does as well invoke a method <code>get(T t)</code> in a static way which doesn't exist, neither statically nor as an instance method. I think you intended to invoke <code>map((Visit) t -&gt; t.get())</code> which is equal to <code>map(Optional::get)</code>. </p></li>\n</ol>\n\n<p>Fixing those issues would result in the new statement:</p>\n\n<pre><code>visits.stream().filter(Optional::isPresent)\n               .map(Optional::get)\n               .collect(Collectors.toList());\n</code></pre>\n\n<p>The difference to my solution is only that you map after filter. As a reader to get it right you need to remember that <code>Optional::get</code> will always return a <em>non-null</em> value. If you map first and filter second you do not have to remember there are no <code>null</code> values because you filter them out in the second step.</p>\n"},{"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1494517408,"creation_date":1494517408,"answer_id":43920083,"question_id":43919243,"body_markdown":"You could do it as follows:\r\n\r\n    List&lt;Visit&gt; visitsWithoutOptionals = visits.stream()\r\n        .filter(Optional::isPresent)\r\n        .map(Optional::get)\r\n        .collect(Collectors.toList());\r\n\r\n","title":"Return a List of present objects from a List of Optional objects using Lightweight-Stream-API","body":"<p>You could do it as follows:</p>\n\n<pre><code>List&lt;Visit&gt; visitsWithoutOptionals = visits.stream()\n    .filter(Optional::isPresent)\n    .map(Optional::get)\n    .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":122805,"reputation":5993,"user_id":316843,"accept_rate":66,"display_name":"irobotxx"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2568,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":43919422,"answer_count":2,"score":-1,"last_activity_date":1640800901,"creation_date":1494515193,"question_id":43919243,"body_markdown":"Consider I have an array list of `Optional` objects like `List&lt;Visit&gt; visit = {Optional[Visit], Optional[Visit], ...}`. How do i get the `Visit` object from the `Optional` and just return those objects as a `List`?\r\n\r\nI tried something like this: \r\n\r\n```lang-java\r\nreturn Stream.of(visits).filter(value -&gt; Optional.isPresent(value))\r\n    .map((Visit t) -&gt; Optional.get(t))\r\n    .collect(Collectors.toList());\r\n```\r\n\r\nand this:\r\n \r\n```lang-java\r\nreturn Stream.of(visits)\r\n   .map(visit -&gt; Optional.of(visit).get())\r\n   .collect(Collectors.toList());\r\n```\r\n\r\nBut this doesn&#39;t compile.\r\n\r\nI am trying to use [Lightweight-Stream-API](https://github.com/aNNiMON/Lightweight-Stream-API) as the stream library.\r\n","title":"Return a List of present objects from a List of Optional objects using Lightweight-Stream-API","body":"<p>Consider I have an array list of <code>Optional</code> objects like <code>List&lt;Visit&gt; visit = {Optional[Visit], Optional[Visit], ...}</code>. How do i get the <code>Visit</code> object from the <code>Optional</code> and just return those objects as a <code>List</code>?</p>\n<p>I tried something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return Stream.of(visits).filter(value -&gt; Optional.isPresent(value))\n    .map((Visit t) -&gt; Optional.get(t))\n    .collect(Collectors.toList());\n</code></pre>\n<p>and this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return Stream.of(visits)\n   .map(visit -&gt; Optional.of(visit).get())\n   .collect(Collectors.toList());\n</code></pre>\n<p>But this doesn't compile.</p>\n<p>I am trying to use <a href=\"https://github.com/aNNiMON/Lightweight-Stream-API\" rel=\"nofollow noreferrer\">Lightweight-Stream-API</a> as the stream library.</p>\n"},{"tags":["java","linux","windows","batch-file"],"answers":[{"tags":[],"owner":{"account_id":20521686,"reputation":165,"user_id":15061122,"display_name":"Cameron Grande"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640784904,"creation_date":1640784904,"answer_id":70520175,"question_id":70520148,"body_markdown":"SSH on windows is an option... if this can be used in your case I would consider it.\r\n\r\nI&#39;ve done this before and had a script execute based on a job from the Linux box which would SSH to the windows server, then execute the script there.\r\n\r\nSee more here-\r\nhttps://learn.microsoft.com/en-us/windows/terminal/tutorials/ssh","title":"Execute .bat file on a remote windows server (Java App installed on linux machine)","body":"<p>SSH on windows is an option... if this can be used in your case I would consider it.</p>\n<p>I've done this before and had a script execute based on a job from the Linux box which would SSH to the windows server, then execute the script there.</p>\n<p>See more here-\n<a href=\"https://learn.microsoft.com/en-us/windows/terminal/tutorials/ssh\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/windows/terminal/tutorials/ssh</a></p>\n"}],"owner":{"account_id":19869584,"reputation":1,"user_id":14556075,"display_name":"Azrahell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1640800717,"creation_date":1640784762,"question_id":70520148,"body_markdown":"I have a Java web application installed on a Linux machine.\r\n\r\nMy objective is to programmatically (integrated in my Java app), execute a .bat file located on a remote Windows Server machine (with credential).\r\n\r\nIf the remote machine would have been a Linux machine, I would have used the jsch library, but the difficulty is that the remote machine is Windows.\r\n\r\n","title":"Execute .bat file on a remote windows server (Java App installed on linux machine)","body":"<p>I have a Java web application installed on a Linux machine.</p>\n<p>My objective is to programmatically (integrated in my Java app), execute a .bat file located on a remote Windows Server machine (with credential).</p>\n<p>If the remote machine would have been a Linux machine, I would have used the jsch library, but the difficulty is that the remote machine is Windows.</p>\n"},{"tags":["java","algorithm","java-8","partitioning","partition"],"comments":[{"owner":{"account_id":5394395,"reputation":409,"user_id":4296029,"display_name":"lolo101"},"score":0,"creation_date":1640768090,"post_id":70511713,"comment_id":124652734,"body_markdown":"When `partition_array_(dss, currentInt, listMed)` cannot partition `dss` it returns an empty list?","body":"When <code>partition_array_(dss, currentInt, listMed)</code> cannot partition <code>dss</code> it returns an empty list?"},{"owner":{"account_id":22996377,"reputation":15,"user_id":17176511,"display_name":"singh raj"},"score":0,"creation_date":1640768450,"post_id":70511713,"comment_id":124652825,"body_markdown":"Yes, exactly. (i am controlling the size of `partitions_` and if `dss` cannot be partitioned the list `partitions_` will remain the same)","body":"Yes, exactly. (i am controlling the size of <code>partitions_</code> and if <code>dss</code> cannot be partitioned the list <code>partitions_</code> will remain the same)"},{"owner":{"account_id":5394395,"reputation":409,"user_id":4296029,"display_name":"lolo101"},"score":0,"creation_date":1640770549,"post_id":70511713,"comment_id":124653474,"body_markdown":"When I run the algorithm with the driver code it crashes because in the first line of the `for` loop you want to take the first element (`get(0)`) because the last element that has been partitioned is removed. So it&#39;s always the first element that is the next to partition. Did I get it right?","body":"When I run the algorithm with the driver code it crashes because in the first line of the <code>for</code> loop you want to take the first element (<code>get(0)</code>) because the last element that has been partitioned is removed. So it&#39;s always the first element that is the next to partition. Did I get it right?"},{"owner":{"account_id":5394395,"reputation":409,"user_id":4296029,"display_name":"lolo101"},"score":0,"creation_date":1640770960,"post_id":70511713,"comment_id":124653603,"body_markdown":"When I fixed the issue with `List&lt;Integer&gt; dss = partitions_bf .get(j);` the algorithm still crashes because when it exits the `for` loop, `partitions_` is not empty but `intIter` has been consumed and then `currentInt  = intIter.next();` throws. If I replace the `while` condition with `while (partitions_.size() != 0 &amp;&amp; intIter.hasNext())` then the code yields the expected result","body":"When I fixed the issue with <code>List&lt;Integer&gt; dss = partitions_bf .get(j);</code> the algorithm still crashes because when it exits the <code>for</code> loop, <code>partitions_</code> is not empty but <code>intIter</code> has been consumed and then <code>currentInt  = intIter.next();</code> throws. If I replace the <code>while</code> condition with <code>while (partitions_.size() != 0 &amp;&amp; intIter.hasNext())</code> then the code yields the expected result"},{"owner":{"account_id":22996377,"reputation":15,"user_id":17176511,"display_name":"singh raj"},"score":0,"creation_date":1640771940,"post_id":70511713,"comment_id":124653879,"body_markdown":"yes i check `intIter.hasNext()` as in the second loop OK.  for your first comment: yes i remove the element that has been partitioned because at the end i want the smallest partitioned parts only. Is there still other problems ?","body":"yes i check <code>intIter.hasNext()</code> as in the second loop OK.  for your first comment: yes i remove the element that has been partitioned because at the end i want the smallest partitioned parts only. Is there still other problems ?"},{"owner":{"account_id":5394395,"reputation":409,"user_id":4296029,"display_name":"lolo101"},"score":0,"creation_date":1640777668,"post_id":70511713,"comment_id":124655511,"body_markdown":"I believe there is also an issue in the `for` loop when `intIter` has been consumed: it is reset as a new iterator but `currentInt` is not updated","body":"I believe there is also an issue in the <code>for</code> loop when <code>intIter</code> has been consumed: it is reset as a new iterator but <code>currentInt</code> is not updated"},{"owner":{"account_id":5394395,"reputation":409,"user_id":4296029,"display_name":"lolo101"},"score":0,"creation_date":1640778083,"post_id":70511713,"comment_id":124655643,"body_markdown":"Functional question: what&#39;s the point of reiterating over `listMed`? Suppose you have this list: {1,2,4,5,7,8,10,11}. Once it has been partitioned with 6 it yields two partitions: {1,2,4,5} where all elements are smaller than 6 and {7,8,10,11} where all elements are bigger than 6, hence 6 can never be used again to partition them","body":"Functional question: what&#39;s the point of reiterating over <code>listMed</code>? Suppose you have this list: {1,2,4,5,7,8,10,11}. Once it has been partitioned with 6 it yields two partitions: {1,2,4,5} where all elements are smaller than 6 and {7,8,10,11} where all elements are bigger than 6, hence 6 can never be used again to partition them"},{"owner":{"account_id":22996377,"reputation":15,"user_id":17176511,"display_name":"singh raj"},"score":0,"creation_date":1640778356,"post_id":70511713,"comment_id":124655710,"body_markdown":"there&#39;s no point indeed","body":"there&#39;s no point indeed"}],"answers":[{"tags":[],"owner":{"account_id":5394395,"reputation":409,"user_id":4296029,"display_name":"lolo101"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640783200,"creation_date":1640772708,"answer_id":70517965,"question_id":70511713,"body_markdown":"I believe this code is equivalent and more compact with a recursive breadth-first algorithm. It stops when no more partition can be done:\r\n```java\r\n    public static List&lt;List&lt;Integer&gt;&gt; partition_rec(List&lt;Integer&gt; dF, Iterator&lt;Integer&gt; medIter, List&lt;Integer&gt; listMed) {\r\n        List&lt;List&lt;Integer&gt;&gt; toPartition = new LinkedList&lt;&gt;();\r\n        toPartition.add(dF);\r\n        return recursion(toPartition, medIter, listMed, new ArrayList&lt;&gt;());\r\n    }\r\n\r\n    private static List&lt;List&lt;Integer&gt;&gt; recursion(List&lt;List&lt;Integer&gt;&gt; toPartition, Iterator&lt;Integer&gt; medIter, List&lt;Integer&gt; listMed, List&lt;List&lt;Integer&gt;&gt; noMorePartitionable) {\r\n        if (toPartition.isEmpty()) return noMorePartitionable;\r\n        medIter = reiterateIfNeeded(medIter, listMed);\r\n        List&lt;Integer&gt; toPartitionHead = toPartition.remove(0);\r\n        List&lt;List&lt;Integer&gt;&gt; partitions = partition_array_(toPartitionHead, medIter.next(), listMed);\r\n        if(partitions.isEmpty()) noMorePartitionable.add(toPartitionHead);\r\n        toPartition.addAll(partitions);\r\n        return recursion(toPartition, medIter, listMed, noMorePartitionable);\r\n    }\r\n\r\n    private static Iterator&lt;Integer&gt; reiterateIfNeeded(Iterator&lt;Integer&gt; medIter, List&lt;Integer&gt; listMed) {\r\n        return medIter.hasNext() ? medIter : listMed.iterator();\r\n    }\r\n```\r\nThe lists to partition are stored into `toPartition`. When they are no more partitionable they are accumulated in `noMorePartitionable`. Once `toPartition` is empty, `noMorePartitionable` is returned.","title":"Breadth level based partitioning approach for arrays of integers","body":"<p>I believe this code is equivalent and more compact with a recursive breadth-first algorithm. It stops when no more partition can be done:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static List&lt;List&lt;Integer&gt;&gt; partition_rec(List&lt;Integer&gt; dF, Iterator&lt;Integer&gt; medIter, List&lt;Integer&gt; listMed) {\n        List&lt;List&lt;Integer&gt;&gt; toPartition = new LinkedList&lt;&gt;();\n        toPartition.add(dF);\n        return recursion(toPartition, medIter, listMed, new ArrayList&lt;&gt;());\n    }\n\n    private static List&lt;List&lt;Integer&gt;&gt; recursion(List&lt;List&lt;Integer&gt;&gt; toPartition, Iterator&lt;Integer&gt; medIter, List&lt;Integer&gt; listMed, List&lt;List&lt;Integer&gt;&gt; noMorePartitionable) {\n        if (toPartition.isEmpty()) return noMorePartitionable;\n        medIter = reiterateIfNeeded(medIter, listMed);\n        List&lt;Integer&gt; toPartitionHead = toPartition.remove(0);\n        List&lt;List&lt;Integer&gt;&gt; partitions = partition_array_(toPartitionHead, medIter.next(), listMed);\n        if(partitions.isEmpty()) noMorePartitionable.add(toPartitionHead);\n        toPartition.addAll(partitions);\n        return recursion(toPartition, medIter, listMed, noMorePartitionable);\n    }\n\n    private static Iterator&lt;Integer&gt; reiterateIfNeeded(Iterator&lt;Integer&gt; medIter, List&lt;Integer&gt; listMed) {\n        return medIter.hasNext() ? medIter : listMed.iterator();\n    }\n</code></pre>\n<p>The lists to partition are stored into <code>toPartition</code>. When they are no more partitionable they are accumulated in <code>noMorePartitionable</code>. Once <code>toPartition</code> is empty, <code>noMorePartitionable</code> is returned.</p>\n"}],"owner":{"account_id":22996377,"reputation":15,"user_id":17176511,"display_name":"singh raj"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70517965,"answer_count":1,"score":0,"last_activity_date":1640800403,"creation_date":1640720153,"question_id":70511713,"body_markdown":"I want to partition an initial array (`dF`) and iteratively do the same for the obtained partitions based on a Breadth level approach.\r\nStarting from an initial array (`dF`) two arrays are obtained if a certain condition is met on the two arrays (see `partition_array_(dF, intIter, listMed)` below; that generates 2 arrays of ints) and the process is repeated for each obtained partition (Breadth level wise) up until that inner condition is no longer met then i want to return the last level of obtained partitions.\r\n\r\nThe partitioning is done according to a value `int` that is iteratively chosen from another array of ints `intIter`. My iterative method goes like the following:\r\n\r\n```\r\n public ArrayList&lt;List&lt;Integer&gt;&gt; partition_rec(List&lt;Integer&gt; dF, Iterator&lt;Integer&gt; intIter, List&lt;Integer&gt; listMed) {\r\n        ArrayList&lt;List&lt;Integer&gt;&gt; partitions_ = new ArrayList&lt;List&lt;Integer&gt;&gt;();\r\n        ArrayList&lt;List&lt;Integer&gt;&gt; partitions_bf  =  new ArrayList&lt;&gt;();\r\n       \r\n        \r\n        partitions_.add(dF);\r\n        while ( partitions_.size()!=0) {\r\n            \r\n            partitions_bf  =  new ArrayList&lt;&gt;(partitions_);\r\n\r\n            for (int j=0;j&lt; partitions_.size();j++) {\r\n                List&lt;Integer&gt; dss = partitions_bf .get(j);\r\n                numberPartsBf = partitions_bf .size();\r\n                if (intIter.hasNext())\r\n                currentInt  = intIter.next();\r\n                else intIter = listMed.iterator();\r\n                partitions_bf .addAll(partition_array_(dss, currentInt , listMed));\r\n                numberPartsAf = partitions_bf .size();\r\n                if (numberPartsAf &gt; numberPartsBf &amp;&amp; partitions_bf .contains(dss)) partitions_bf .remove(dss);\r\n                if (j == partitions_.size()-1){\r\n\t\t\t\t if (partitions_.size() == partitions_bf.size()) return partitions_bf;\r\n                   partitions_ =  new ArrayList&lt;&gt;(partitions_bf );\r\n                    break;\r\n                  \r\n\t\t\t\t\t}\r\n                   \r\n                else if (!intIter.hasNext()) intIter = listMed.iterator();\r\n\r\n            }\r\n        }\r\n\r\n        return partitions_bf ;\r\n    }\r\n```\r\n\r\n**1.** I want this algorithm to return only the last level children partitions (the smallest arrays obtained by the last for loop).\r\n \r\n**2.** make sure this algorithm stops when no new partitions could\r\nbe obtained.\r\n\r\nI want to make sure its logic is correct.\r\n\r\nOther question: Is there any algorithmic optimization to do here for a more compact code ?\r\n\r\n **Input**: *List&lt;Integer&gt;* : [1,2,4,5,7,8,10,11]; \r\n*ListMed* ArrayList: [6,3,9] \r\n*intIter* being one of the listMed iterated values.\r\n\r\n**Output** ArrayLists: [1,2], [4,5], [7,8], [10,11]\r\n\r\n driver code :\r\n\r\n  \r\n\r\n              List&lt;Integer&gt; dF = {1,2,4,5,7,8,10,11};\r\n              List&lt;Integer&gt; listMed = {6,3,9};\r\n              Iterator&lt;Integer&gt; its = listMed.iterator();\r\n              ArrayList&lt;List&lt;Integer&gt;&gt; res = partition_rec( dF,  intIter,  listMed);","title":"Breadth level based partitioning approach for arrays of integers","body":"<p>I want to partition an initial array (<code>dF</code>) and iteratively do the same for the obtained partitions based on a Breadth level approach.\nStarting from an initial array (<code>dF</code>) two arrays are obtained if a certain condition is met on the two arrays (see <code>partition_array_(dF, intIter, listMed)</code> below; that generates 2 arrays of ints) and the process is repeated for each obtained partition (Breadth level wise) up until that inner condition is no longer met then i want to return the last level of obtained partitions.</p>\n<p>The partitioning is done according to a value <code>int</code> that is iteratively chosen from another array of ints <code>intIter</code>. My iterative method goes like the following:</p>\n<pre><code> public ArrayList&lt;List&lt;Integer&gt;&gt; partition_rec(List&lt;Integer&gt; dF, Iterator&lt;Integer&gt; intIter, List&lt;Integer&gt; listMed) {\n        ArrayList&lt;List&lt;Integer&gt;&gt; partitions_ = new ArrayList&lt;List&lt;Integer&gt;&gt;();\n        ArrayList&lt;List&lt;Integer&gt;&gt; partitions_bf  =  new ArrayList&lt;&gt;();\n       \n        \n        partitions_.add(dF);\n        while ( partitions_.size()!=0) {\n            \n            partitions_bf  =  new ArrayList&lt;&gt;(partitions_);\n\n            for (int j=0;j&lt; partitions_.size();j++) {\n                List&lt;Integer&gt; dss = partitions_bf .get(j);\n                numberPartsBf = partitions_bf .size();\n                if (intIter.hasNext())\n                currentInt  = intIter.next();\n                else intIter = listMed.iterator();\n                partitions_bf .addAll(partition_array_(dss, currentInt , listMed));\n                numberPartsAf = partitions_bf .size();\n                if (numberPartsAf &gt; numberPartsBf &amp;&amp; partitions_bf .contains(dss)) partitions_bf .remove(dss);\n                if (j == partitions_.size()-1){\n                 if (partitions_.size() == partitions_bf.size()) return partitions_bf;\n                   partitions_ =  new ArrayList&lt;&gt;(partitions_bf );\n                    break;\n                  \n                    }\n                   \n                else if (!intIter.hasNext()) intIter = listMed.iterator();\n\n            }\n        }\n\n        return partitions_bf ;\n    }\n</code></pre>\n<p><strong>1.</strong> I want this algorithm to return only the last level children partitions (the smallest arrays obtained by the last for loop).</p>\n<p><strong>2.</strong> make sure this algorithm stops when no new partitions could\nbe obtained.</p>\n<p>I want to make sure its logic is correct.</p>\n<p>Other question: Is there any algorithmic optimization to do here for a more compact code ?</p>\n<p><strong>Input</strong>: <em>List</em> : [1,2,4,5,7,8,10,11];\n<em>ListMed</em> ArrayList: [6,3,9]\n<em>intIter</em> being one of the listMed iterated values.</p>\n<p><strong>Output</strong> ArrayLists: [1,2], [4,5], [7,8], [10,11]</p>\n<p>driver code :</p>\n<pre><code>          List&lt;Integer&gt; dF = {1,2,4,5,7,8,10,11};\n          List&lt;Integer&gt; listMed = {6,3,9};\n          Iterator&lt;Integer&gt; its = listMed.iterator();\n          ArrayList&lt;List&lt;Integer&gt;&gt; res = partition_rec( dF,  intIter,  listMed);\n</code></pre>\n"},{"tags":["java","sql","jdbc"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1640795748,"post_id":70522111,"comment_id":124661691,"body_markdown":"Please remove all code not required to demonstrate the problem, especially the UI related code, which is irrelevant. See [How to ask](https://stackoverflow.com/help/how-to-ask).","body":"Please remove all code not required to demonstrate the problem, especially the UI related code, which is irrelevant. See <a href=\"https://stackoverflow.com/help/how-to-ask\">How to ask</a>."},{"owner":{"account_id":1866073,"reputation":448,"user_id":1689608,"display_name":"dshelya"},"score":0,"creation_date":1640795938,"post_id":70522111,"comment_id":124661755,"body_markdown":"Please show us the create table statement for `EventList`, specifically how `EventId` was defined (if DB does not autogenerate the field on insert - there is nothing to return you back)","body":"Please show us the create table statement for <code>EventList</code>, specifically how <code>EventId</code> was defined (if DB does not autogenerate the field on insert - there is nothing to return you back)"},{"owner":{"account_id":18063492,"reputation":191,"user_id":13130036,"display_name":"Franz Biberkopf"},"score":0,"creation_date":1640797019,"post_id":70522111,"comment_id":124662112,"body_markdown":"The table EventList was created with a SQL-query directly in database. EventID was simply defined as Integer.","body":"The table EventList was created with a SQL-query directly in database. EventID was simply defined as Integer."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1640800014,"post_id":70522111,"comment_id":124663166,"body_markdown":"Which Oracle version and which Oracle JDBC driver version are you using?","body":"Which Oracle version and which Oracle JDBC driver version are you using?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1640795594,"creation_date":1640795594,"answer_id":70522275,"question_id":70522111,"body_markdown":"Most things in the JDBC standard are optional. DBs are free to return nothing for `.getGeneratedKeys()`. Even when you ask for them. But you didn&#39;t, so, there&#39;s hope!\r\n\r\nTry `con.prepareStatement(&quot;SQL HERE&quot;, Statement.RETURN_GENERATED_KEYS)` first. But, if that doesn&#39;t work, you&#39;re in for a lot more effort. Run a query to fetch the next value from the sequence (and figuring out the name of that sequence in order to do this can be quite a job!), then insert that explicitly. Let&#39;s hope it doesn&#39;t need to come to this.\r\n\r\nNB: Modern DB design generally ditches the concept of an auto-count ID because keeping that counter &#39;in sync&#39; with replicated servers and all that jazz is a giant headache. If you&#39;re still at the beginning phases of all this, why not follow modern conventions? Make the ID a UUID, and just let java generate it. They are no longer consecutive values, instead, they are long randomly generated strings (and with enough bits that even trillions if inserts still have less chance of a collision than you winning the lottery without buying a ticket whilst getting struck by 2 separate meteors, and lightning, all at once).\r\n","title":"Generated keys for ID-column gives back null in table record","body":"<p>Most things in the JDBC standard are optional. DBs are free to return nothing for <code>.getGeneratedKeys()</code>. Even when you ask for them. But you didn't, so, there's hope!</p>\n<p>Try <code>con.prepareStatement(&quot;SQL HERE&quot;, Statement.RETURN_GENERATED_KEYS)</code> first. But, if that doesn't work, you're in for a lot more effort. Run a query to fetch the next value from the sequence (and figuring out the name of that sequence in order to do this can be quite a job!), then insert that explicitly. Let's hope it doesn't need to come to this.</p>\n<p>NB: Modern DB design generally ditches the concept of an auto-count ID because keeping that counter 'in sync' with replicated servers and all that jazz is a giant headache. If you're still at the beginning phases of all this, why not follow modern conventions? Make the ID a UUID, and just let java generate it. They are no longer consecutive values, instead, they are long randomly generated strings (and with enough bits that even trillions if inserts still have less chance of a collision than you winning the lottery without buying a ticket whilst getting struck by 2 separate meteors, and lightning, all at once).</p>\n"}],"owner":{"account_id":18063492,"reputation":191,"user_id":13130036,"display_name":"Franz Biberkopf"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640799923,"creation_date":1640794821,"question_id":70522111,"body_markdown":"I am new to Java and above all to JDBC. I am trying to develop a simple DAO implementation for a GUI, in which fields from a panel get filled out and the data gets stored in an Oracle DB table named EventList. At the moment, it works with all the field of the class Event (Model) with the exception of the EventID column.\r\n\r\nI am trying to generate an auto-increment integer through the statement GENERATED KEYS, but, even though I tried different ways to reorganize the &quot;INSERT&quot; query in the method saveData2(), the record remains null and no keys are generated. What I am doing wrong? Every hint would be really appreciated!  \r\n  \r\n```````\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\nimport java.util.ArrayList;\r\n\r\npublic class EventDAOImpl implements EventDAO {\r\n\r\n\t@Override\r\n\tpublic void saveData2(Event event) {\r\n\t\tOracleDsSingleton ora =   OracleDsSingleton.getInstance();\r\n\t\tint primKey = 0;\r\n\t\ttry {\r\n\t\t\tConnection connection = ora.getConnection();\r\n\t\t\tString addQuery = &quot;INSERT INTO EventList(EventName, EventPlace, EventDate, EventDescription, EventCategory) VALUES (?,?,?,?,?)&quot;;\r\n\t\t\t//PreparedStatement ptmt = connection.prepareStatement(addQuery, Statement.RETURN_GENERATED_KEYS); \r\n//\t\t\tResultSet generatedKey = ptmt.getGeneratedKeys();\r\n//\t\t\t\t\t\tif (generatedKey.next()) {\r\n//\t\t\t\tint key = generatedKey.getInt(1);\r\n//\t\t\t\tSystem.out.println(key);\r\n//            }\r\n\t\t\tString columnNames [] = new String [] {&quot;EventId&quot;};\r\n\t\t\t\r\n\t\t\tPreparedStatement ptmt = connection.prepareStatement(addQuery, columnNames);\r\n\t\t\t\r\n\t\t\tptmt.setString(1, event.getName());\r\n\t\t\tptmt.setString(2, event.getPlace());\r\n\t\t\tptmt.setString(3, event.getDate());\r\n\t\t\tptmt.setString(4, event.getDescription());\r\n\t\t\tptmt.setString(5, event.getCategory());\r\n\t\t\t\r\n\t\t\t//ptmt.executeUpdate();\r\n\t\t\t\t\t\t\r\n\t\t\tif(ptmt.executeUpdate() &gt; 0) {\r\n\t\t\t\tjava.sql.ResultSet generatedKey = ptmt.getGeneratedKeys();\r\n\t\t\t\tif (generatedKey.next() ) {\r\n\t\t\t\t\tevent.setEventID(generatedKey.getInt(1));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;Data successfully added!&quot;);\r\n\t\t\t//System.out.println(&quot;Table updated with EventID = &quot; + primKey);\r\n\t\t\tSystem.out.println(event.getName());\r\n\t\t\t\r\n\t\t\t\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t}\r\n}\r\n````````\r\n\r\n[![The GUI-Panel][1]][1]\r\n\r\n\r\n[![The EventList Table-Schema][2]][2]\r\n\r\n[![The stored datas][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/snuAb.png\r\n  [2]: https://i.stack.imgur.com/YYUCw.png\r\n  [3]: https://i.stack.imgur.com/9FeNJ.png","title":"Generated keys for ID-column gives back null in table record","body":"<p>I am new to Java and above all to JDBC. I am trying to develop a simple DAO implementation for a GUI, in which fields from a panel get filled out and the data gets stored in an Oracle DB table named EventList. At the moment, it works with all the field of the class Event (Model) with the exception of the EventID column.</p>\n<p>I am trying to generate an auto-increment integer through the statement GENERATED KEYS, but, even though I tried different ways to reorganize the &quot;INSERT&quot; query in the method saveData2(), the record remains null and no keys are generated. What I am doing wrong? Every hint would be really appreciated!</p>\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.util.ArrayList;\n\npublic class EventDAOImpl implements EventDAO {\n\n    @Override\n    public void saveData2(Event event) {\n        OracleDsSingleton ora =   OracleDsSingleton.getInstance();\n        int primKey = 0;\n        try {\n            Connection connection = ora.getConnection();\n            String addQuery = &quot;INSERT INTO EventList(EventName, EventPlace, EventDate, EventDescription, EventCategory) VALUES (?,?,?,?,?)&quot;;\n            //PreparedStatement ptmt = connection.prepareStatement(addQuery, Statement.RETURN_GENERATED_KEYS); \n//          ResultSet generatedKey = ptmt.getGeneratedKeys();\n//                      if (generatedKey.next()) {\n//              int key = generatedKey.getInt(1);\n//              System.out.println(key);\n//            }\n            String columnNames [] = new String [] {&quot;EventId&quot;};\n            \n            PreparedStatement ptmt = connection.prepareStatement(addQuery, columnNames);\n            \n            ptmt.setString(1, event.getName());\n            ptmt.setString(2, event.getPlace());\n            ptmt.setString(3, event.getDate());\n            ptmt.setString(4, event.getDescription());\n            ptmt.setString(5, event.getCategory());\n            \n            //ptmt.executeUpdate();\n                        \n            if(ptmt.executeUpdate() &gt; 0) {\n                java.sql.ResultSet generatedKey = ptmt.getGeneratedKeys();\n                if (generatedKey.next() ) {\n                    event.setEventID(generatedKey.getInt(1));\n                }\n            }\n            System.out.println(&quot;Data successfully added!&quot;);\n            //System.out.println(&quot;Table updated with EventID = &quot; + primKey);\n            System.out.println(event.getName());\n            \n            \n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n        \n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/snuAb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/snuAb.png\" alt=\"The GUI-Panel\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/YYUCw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YYUCw.png\" alt=\"The EventList Table-Schema\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/9FeNJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9FeNJ.png\" alt=\"The stored datas\" /></a></p>\n"},{"tags":["java","byte-buddy","javaagents","jdi"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1640789204,"post_id":70520775,"comment_id":124659296,"body_markdown":"Use the [Attach API](https://docs.oracle.com/en/java/javase/17/docs/api/jdk.attach/com/sun/tools/attach/package-summary.html) to load an agent into an already running VM. If your agent is already running in the VM, use [`Instrumentation.appendToSystemClassLoaderSearch`](https://docs.oracle.com/en/java/javase/17/docs/api/java.instrument/java/lang/instrument/Instrumentation.html#appendToSystemClassLoaderSearch%28java.util.jar.JarFile%29).","body":"Use the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/jdk.attach/com/sun/tools/attach/package-summary.html\" rel=\"nofollow noreferrer\">Attach API</a> to load an agent into an already running VM. If your agent is already running in the VM, use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.instrument/java/lang/instrument/Instrumentation.html#appendToSystemClassLoaderSearch%28java.util.jar.JarFile%29\" rel=\"nofollow noreferrer\"><code>Instrumentation.appendToSystemClassLoaderSearch</code></a>."},{"owner":{"account_id":22389122,"reputation":93,"user_id":16601506,"display_name":"AntoineG"},"score":0,"creation_date":1640789296,"post_id":70520775,"comment_id":124659331,"body_markdown":"Will the ByteBuddy agent run without the library jar loaded in the JVM ?","body":"Will the ByteBuddy agent run without the library jar loaded in the JVM ?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1640789476,"post_id":70520775,"comment_id":124659393,"body_markdown":"Then pack the agent with all required dependencies into one jar.","body":"Then pack the agent with all required dependencies into one jar."},{"owner":{"account_id":22389122,"reputation":93,"user_id":16601506,"display_name":"AntoineG"},"score":0,"creation_date":1640789560,"post_id":70520775,"comment_id":124659428,"body_markdown":"I&#39;m going to try that, thank you !","body":"I&#39;m going to try that, thank you !"}],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640799915,"creation_date":1640799915,"answer_id":70523053,"question_id":70520775,"body_markdown":"Often, agents shade all of their dependencies into a single jar. This can still be problematic. Byte Buddy is a rather common dependency, it night already be on the class path but in a different version. To avoid this, many agents shade their dependency into a different namespace.","title":"How to load a class from a Jar file at runtime with the Java Debug Interface","body":"<p>Often, agents shade all of their dependencies into a single jar. This can still be problematic. Byte Buddy is a rather common dependency, it night already be on the class path but in a different version. To avoid this, many agents shade their dependency into a different namespace.</p>\n"}],"owner":{"account_id":22389122,"reputation":93,"user_id":16601506,"display_name":"AntoineG"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70523053,"answer_count":1,"score":0,"last_activity_date":1640799915,"creation_date":1640788148,"question_id":70520775,"body_markdown":"I am trying to inject a ByteBuddy agent at runtime, in a case where ByteBuddy was not present on the machine (and thus not in the classpath) when the JVM was launched. My first thought was to add the bytebuddy library jar files inside a directory present in the classpath, so that it gets loaded when I inject my agent, but I cannot find a way to retrieve the classpath of the running JVM. I was thus wondering if it is possible to use the Java Debug Interface to manually load the bytebuddy library jar files in the JVM just before injecting my agent.\r\n\r\nI tried to adapt [this][1] code (using the JDI), which translate for the first two lines to :\r\n\r\n```java\r\nClassType jarFileClass = (ClassType) findClassRef(&quot;java.util.jar.JarFile&quot;);\r\nMethod jarFileInit = findOverloadRef(&quot;java.util.jar.JarFile&quot;, &quot;&lt;init&gt;&quot;, &quot;java.lang.String&quot;);\r\nMethod entries = findOverloadRef(&quot;java.util.jar.JarFile&quot;, &quot;entries&quot;, &quot;&quot;);\r\nArrayList&lt;Value&gt; argz = new ArrayList&lt;Value&gt;();\r\nargz.add(vm.mirrorOf(path)); // path is the path to the bytebuddy library jar file, as a String\r\nObjectReference jarFile = jarFileClass.newInstance(ev.thread(), jarFileInit, argz, ObjectReference.INVOKE_SINGLE_THREADED);\r\nObjectReference x = jarFile.invokeMethod(ev.thread(), entries, new ArrayList&lt;Value&gt;(), ObjectReference.INVOKE_SINGLE_THREADED);\r\n```\r\nwhere `findClassRef` and `findOverloadRef` are methods of my own to respectively get a `ReferenceType` and a `Method` object.\r\nSadly, I cannot get any further as the `java.net.URL[]` class is not loaded in the JVM, and thus I cannot get a ReferenceType for it.\r\n\r\nHow can I pursue my quest ?\r\n\r\n  [1]: https://stackoverflow.com/a/11016392/16601506","title":"How to load a class from a Jar file at runtime with the Java Debug Interface","body":"<p>I am trying to inject a ByteBuddy agent at runtime, in a case where ByteBuddy was not present on the machine (and thus not in the classpath) when the JVM was launched. My first thought was to add the bytebuddy library jar files inside a directory present in the classpath, so that it gets loaded when I inject my agent, but I cannot find a way to retrieve the classpath of the running JVM. I was thus wondering if it is possible to use the Java Debug Interface to manually load the bytebuddy library jar files in the JVM just before injecting my agent.</p>\n<p>I tried to adapt <a href=\"https://stackoverflow.com/a/11016392/16601506\">this</a> code (using the JDI), which translate for the first two lines to :</p>\n<pre class=\"lang-java prettyprint-override\"><code>ClassType jarFileClass = (ClassType) findClassRef(&quot;java.util.jar.JarFile&quot;);\nMethod jarFileInit = findOverloadRef(&quot;java.util.jar.JarFile&quot;, &quot;&lt;init&gt;&quot;, &quot;java.lang.String&quot;);\nMethod entries = findOverloadRef(&quot;java.util.jar.JarFile&quot;, &quot;entries&quot;, &quot;&quot;);\nArrayList&lt;Value&gt; argz = new ArrayList&lt;Value&gt;();\nargz.add(vm.mirrorOf(path)); // path is the path to the bytebuddy library jar file, as a String\nObjectReference jarFile = jarFileClass.newInstance(ev.thread(), jarFileInit, argz, ObjectReference.INVOKE_SINGLE_THREADED);\nObjectReference x = jarFile.invokeMethod(ev.thread(), entries, new ArrayList&lt;Value&gt;(), ObjectReference.INVOKE_SINGLE_THREADED);\n</code></pre>\n<p>where <code>findClassRef</code> and <code>findOverloadRef</code> are methods of my own to respectively get a <code>ReferenceType</code> and a <code>Method</code> object.\nSadly, I cannot get any further as the <code>java.net.URL[]</code> class is not loaded in the JVM, and thus I cannot get a ReferenceType for it.</p>\n<p>How can I pursue my quest ?</p>\n"},{"tags":["java","swing","jframe","layout-manager","grid-layout"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1640798776,"post_id":70522732,"comment_id":124662775,"body_markdown":"1) Class names should start with an upper case character. 2) Don&#39;t extend JFrame, there is no need to extend any class. Your code creates an instance of JFrame so there is no need for two instances. 3) Swing components are visible by default, so no need to make the panel visible.","body":"1) Class names should start with an upper case character. 2) Don&#39;t extend JFrame, there is no need to extend any class. Your code creates an instance of JFrame so there is no need for two instances. 3) Swing components are visible by default, so no need to make the panel visible."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640799797,"creation_date":1640798293,"answer_id":70522778,"question_id":70522732,"body_markdown":"You&#39;ve got several problems including:\r\n\r\n* Calling `setVisible(true)` on the JFrame ***before*** adding components, before calling `pack()` on the top-level window. This can lead to wonky positioned components within our GUI&#39;s or even GUI&#39;s that remain empty\r\n* Not calling `pack()` on the JFrame after adding components and before setting it visible\r\n* Setting the size of the JFrame. Let the layout managers, containers and components do this for you (which is what calling `pack()` is for)\r\n* Setting it to a bad size, a &quot;perfect square&quot;, one that ignores the menu bar that the OS adds,\r\n* ...\r\n\r\nFor example:\r\n\r\n```\r\npackage foo01;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.GridLayout;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\nimport javax.swing.*;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class SnakePanel extends JPanel {\r\n\tprivate static final int CELL_WIDTH = 80;\r\n\tprivate static final Dimension CELL_DIMENSION = new Dimension(CELL_WIDTH, CELL_WIDTH);\r\n\tprivate static final int COLUMNS = 10;\r\n\tprivate static final int GAP = 2;\r\n\tprivate static final Color BG_COLOR = Color.WHITE;\r\n\tprivate static final Color CELL_COLOR = Color.RED;\r\n\r\n\tpublic SnakePanel() {\r\n\t\tsetBackground(BG_COLOR);\r\n\t\t\r\n\t\t// add a white line around the grid\r\n\t\tsetBorder(BorderFactory.createEmptyBorder(GAP, GAP, GAP, GAP));\r\n\t\t\r\n\t\t// create a grid with gaps that show the background (white) color\r\n\t\tsetLayout(new GridLayout(COLUMNS, COLUMNS, GAP, GAP));\r\n\r\n\t\tfor (int row = 0; row &lt; COLUMNS; row++) {\r\n\t\t\tfor (int col = 0; col &lt; COLUMNS; col++) {\r\n\t\t\t\tJPanel cell = new JPanel(); // create a new cell\r\n\t\t\t\tcell.setPreferredSize(CELL_DIMENSION); // cheating here. Better to override getPreferredSize()\r\n\t\t\t\tcell.setBackground(CELL_COLOR);\r\n\t\t\t\tadd(cell);\r\n\t\t\t\t\r\n\t\t\t\t// give the cell JPanel some simple behavior:\r\n\t\t\t\tcell.addMouseListener(new MyMouse(col, row));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate class MyMouse extends MouseAdapter {\r\n\t\tprivate int col;\r\n\t\tprivate int row;\r\n\r\n\t\tpublic MyMouse(int col, int row) {\r\n\t\t\tthis.col = col;\r\n\t\t\tthis.row = row;\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void mousePressed(MouseEvent e) {\r\n\t\t\tSystem.out.printf(&quot;Mouse pressed row and column: [%d, %d]%n&quot;, row, col);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSwingUtilities.invokeLater(() -&gt; {\r\n\t\t\t// create the main JPanel\r\n\t\t\tSnakePanel snakePanel = new SnakePanel();\r\n\r\n\t\t\t// create the JFrame\r\n\t\t\tJFrame frame = new JFrame(&quot;Snake&quot;);\r\n\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\t\r\n\t\t\t// add the main JPanel to the JFrame\r\n\t\t\tframe.add(snakePanel);\r\n\t\t\t\r\n\t\t\t// pack the JFrame -- tells the layout managers to do their things\r\n\t\t\tframe.pack();\r\n\t\t\t\r\n\t\t\t// if we want to center the GUI:\r\n\t\t\tframe.setLocationRelativeTo(null);\r\n\t\t\t\r\n\t\t\t// only *now* do we display the GUI\r\n\t\t\tframe.setVisible(true);\r\n\t\t});\r\n\t}\r\n}\r\n```\r\n\r\nSome notes on the code:\r\n\r\nAny code within the Runnable passed into the `SwingUtilities.invokeLater(...)` method is called on the Swing event thread, which is a wise thing to do when creating a Swing GUI\r\n```\r\nSwingUtilities.invokeLater(() -&gt; {\r\n    // ....\r\n});\r\n```\r\n\r\n\r\nFirst, create the main JPanel that is held by the JFrame:\r\n```\r\nSnakePanel snakePanel = new SnakePanel();\r\n```\r\n\r\nThen create the JFrame, add that JPanel and call `pack()`. The pack call tells the layout managers to do there thing, to lay out components within containers, to size things based on their preferred sizes and their layouts:\r\n```\r\nJFrame frame = new JFrame(&quot;Snake&quot;);\r\nframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\nframe.add(snakePanel);\r\nframe.pack();\r\n```\r\n\r\nif we want to center the GUI:\r\n```\r\nframe.setLocationRelativeTo(null);\r\n```\r\n\r\nonly *now* do we display the GUI\r\n```\r\nframe.setVisible(true);\r\n```","title":"GridLayout is showing odd behavior","body":"<p>You've got several problems including:</p>\n<ul>\n<li>Calling <code>setVisible(true)</code> on the JFrame <em><strong>before</strong></em> adding components, before calling <code>pack()</code> on the top-level window. This can lead to wonky positioned components within our GUI's or even GUI's that remain empty</li>\n<li>Not calling <code>pack()</code> on the JFrame after adding components and before setting it visible</li>\n<li>Setting the size of the JFrame. Let the layout managers, containers and components do this for you (which is what calling <code>pack()</code> is for)</li>\n<li>Setting it to a bad size, a &quot;perfect square&quot;, one that ignores the menu bar that the OS adds,</li>\n<li>...</li>\n</ul>\n<p>For example:</p>\n<pre><code>package foo01;\n\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.GridLayout;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport javax.swing.*;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class SnakePanel extends JPanel {\n    private static final int CELL_WIDTH = 80;\n    private static final Dimension CELL_DIMENSION = new Dimension(CELL_WIDTH, CELL_WIDTH);\n    private static final int COLUMNS = 10;\n    private static final int GAP = 2;\n    private static final Color BG_COLOR = Color.WHITE;\n    private static final Color CELL_COLOR = Color.RED;\n\n    public SnakePanel() {\n        setBackground(BG_COLOR);\n        \n        // add a white line around the grid\n        setBorder(BorderFactory.createEmptyBorder(GAP, GAP, GAP, GAP));\n        \n        // create a grid with gaps that show the background (white) color\n        setLayout(new GridLayout(COLUMNS, COLUMNS, GAP, GAP));\n\n        for (int row = 0; row &lt; COLUMNS; row++) {\n            for (int col = 0; col &lt; COLUMNS; col++) {\n                JPanel cell = new JPanel(); // create a new cell\n                cell.setPreferredSize(CELL_DIMENSION); // cheating here. Better to override getPreferredSize()\n                cell.setBackground(CELL_COLOR);\n                add(cell);\n                \n                // give the cell JPanel some simple behavior:\n                cell.addMouseListener(new MyMouse(col, row));\n            }\n        }\n    }\n\n    private class MyMouse extends MouseAdapter {\n        private int col;\n        private int row;\n\n        public MyMouse(int col, int row) {\n            this.col = col;\n            this.row = row;\n        }\n        \n        @Override\n        public void mousePressed(MouseEvent e) {\n            System.out.printf(&quot;Mouse pressed row and column: [%d, %d]%n&quot;, row, col);\n        }\n    }\n    \n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            // create the main JPanel\n            SnakePanel snakePanel = new SnakePanel();\n\n            // create the JFrame\n            JFrame frame = new JFrame(&quot;Snake&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            \n            // add the main JPanel to the JFrame\n            frame.add(snakePanel);\n            \n            // pack the JFrame -- tells the layout managers to do their things\n            frame.pack();\n            \n            // if we want to center the GUI:\n            frame.setLocationRelativeTo(null);\n            \n            // only *now* do we display the GUI\n            frame.setVisible(true);\n        });\n    }\n}\n</code></pre>\n<p>Some notes on the code:</p>\n<p>Any code within the Runnable passed into the <code>SwingUtilities.invokeLater(...)</code> method is called on the Swing event thread, which is a wise thing to do when creating a Swing GUI</p>\n<pre><code>SwingUtilities.invokeLater(() -&gt; {\n    // ....\n});\n</code></pre>\n<p>First, create the main JPanel that is held by the JFrame:</p>\n<pre><code>SnakePanel snakePanel = new SnakePanel();\n</code></pre>\n<p>Then create the JFrame, add that JPanel and call <code>pack()</code>. The pack call tells the layout managers to do there thing, to lay out components within containers, to size things based on their preferred sizes and their layouts:</p>\n<pre><code>JFrame frame = new JFrame(&quot;Snake&quot;);\nframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\nframe.add(snakePanel);\nframe.pack();\n</code></pre>\n<p>if we want to center the GUI:</p>\n<pre><code>frame.setLocationRelativeTo(null);\n</code></pre>\n<p>only <em>now</em> do we display the GUI</p>\n<pre><code>frame.setVisible(true);\n</code></pre>\n"}],"owner":{"account_id":15471391,"reputation":5,"user_id":11161359,"display_name":"someCoder21"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70522778,"answer_count":1,"score":0,"last_activity_date":1640799797,"creation_date":1640798005,"question_id":70522732,"body_markdown":"I am trying to create a grid comprised of 100 squares. My code below is extremely buggy and I am not sure why.\r\n\r\n    import javax.swing.*;\r\n    import javax.swing.border.Border;\r\n    import java.awt.*;\r\n    \r\n    public class snake extends JFrame\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            Border whiteLine = BorderFactory.createLineBorder(Color.white);\r\n            //-----------FRAME\r\n            JFrame frame = new JFrame();\r\n            frame.setSize(1000,1000);\r\n            frame.setTitle(&quot;Snake&quot;);\r\n            frame.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n            frame.getContentPane().setBackground(Color.black);\r\n            frame.setVisible(true);\r\n            frame.setLayout(new GridLayout(10,10));\r\n            //-----------FRAME\r\n    \r\n            //-----------PANELS\r\n            Dimension panelDimension = new Dimension(20,20);\r\n    \r\n            int counter = 0;\r\n            JPanel[][] p = new JPanel[10][10];\r\n            for (int i = 0; i &lt; 10; i++)\r\n            {\r\n                for (int j = 0; j &lt; 10; j++)\r\n                {\r\n                    p[i][j] = new JPanel();\r\n                    //p[i][j].setPreferredSize(panelDimension);\r\n                    p[i][j].setBackground(Color.red);\r\n                    //p[i][j].setLocation(490,490);\r\n                    p[i][j].setBorder(whiteLine);\r\n                    p[i][j].setVisible(true);\r\n    \r\n                    frame.getContentPane().add(p[i][j]);\r\n    \r\n                    counter+=1;\r\n                }\r\n            }\r\n           System.out.println(&quot;counter: &quot; + counter);\r\n    \r\n    \r\n        }\r\n    }\r\n\r\nWhen I run the code like this it shows a grid comprised of 2 columns the first column has 7 rows and the second column has 6. Sometimes it even shows other incorrect numbers of columns and rows. I am not sure why it doesn&#39;t create a grid of 10 rows 10 columns.","title":"GridLayout is showing odd behavior","body":"<p>I am trying to create a grid comprised of 100 squares. My code below is extremely buggy and I am not sure why.</p>\n<pre><code>import javax.swing.*;\nimport javax.swing.border.Border;\nimport java.awt.*;\n\npublic class snake extends JFrame\n{\n    public static void main(String[] args)\n    {\n        Border whiteLine = BorderFactory.createLineBorder(Color.white);\n        //-----------FRAME\n        JFrame frame = new JFrame();\n        frame.setSize(1000,1000);\n        frame.setTitle(&quot;Snake&quot;);\n        frame.setDefaultCloseOperation(EXIT_ON_CLOSE);\n        frame.getContentPane().setBackground(Color.black);\n        frame.setVisible(true);\n        frame.setLayout(new GridLayout(10,10));\n        //-----------FRAME\n\n        //-----------PANELS\n        Dimension panelDimension = new Dimension(20,20);\n\n        int counter = 0;\n        JPanel[][] p = new JPanel[10][10];\n        for (int i = 0; i &lt; 10; i++)\n        {\n            for (int j = 0; j &lt; 10; j++)\n            {\n                p[i][j] = new JPanel();\n                //p[i][j].setPreferredSize(panelDimension);\n                p[i][j].setBackground(Color.red);\n                //p[i][j].setLocation(490,490);\n                p[i][j].setBorder(whiteLine);\n                p[i][j].setVisible(true);\n\n                frame.getContentPane().add(p[i][j]);\n\n                counter+=1;\n            }\n        }\n       System.out.println(&quot;counter: &quot; + counter);\n\n\n    }\n}\n</code></pre>\n<p>When I run the code like this it shows a grid comprised of 2 columns the first column has 7 rows and the second column has 6. Sometimes it even shows other incorrect numbers of columns and rows. I am not sure why it doesn't create a grid of 10 rows 10 columns.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":4,"creation_date":1640744736,"post_id":70514353,"comment_id":124648520,"body_markdown":"`dstOne.imageProperty().addListener((o, oldImage, newImage) -&gt; { /* ... */ });`","body":"<code>dstOne.imageProperty().addListener((o, oldImage, newImage) -&gt; { &#47;* ... *&#47; });</code>"},{"owner":{"account_id":17048308,"reputation":13,"user_id":12334580,"display_name":"dip chit"},"score":0,"creation_date":1640833195,"post_id":70514353,"comment_id":124670896,"body_markdown":"@VGR thanks, sir","body":"@VGR thanks, sir"}],"answers":[{"tags":[],"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640799695,"creation_date":1640799695,"answer_id":70523014,"question_id":70514353,"body_markdown":"```public void changed()``` is not the correct method signature for the ChangeListener interface.  The ```image``` property is not a Boolean either. Fix that. This is the interface method:\r\n\r\n```void changed(ObservableValue&lt;? extends T&gt; observable, T oldValue, T newValue)```\r\n\r\nFor the image property the type (```T```) is Image.\r\nhttps://docs.oracle.com/javase/8/javafx/api/javafx/scene/image/ImageView.html#imageProperty\r\n\r\nUsing any decent IDE, the correct method signature could have been completed for you.","title":"ImageView Change Listener in JavaFX","body":"<p><code>public void changed()</code> is not the correct method signature for the ChangeListener interface.  The <code>image</code> property is not a Boolean either. Fix that. This is the interface method:</p>\n<p><code>void changed(ObservableValue&lt;? extends T&gt; observable, T oldValue, T newValue)</code></p>\n<p>For the image property the type (<code>T</code>) is Image.\n<a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/image/ImageView.html#imageProperty\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/javafx/api/javafx/scene/image/ImageView.html#imageProperty</a></p>\n<p>Using any decent IDE, the correct method signature could have been completed for you.</p>\n"}],"owner":{"account_id":17048308,"reputation":13,"user_id":12334580,"display_name":"dip chit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70523014,"answer_count":1,"score":0,"last_activity_date":1640799695,"creation_date":1640742383,"question_id":70514353,"body_markdown":"How can I set up a change listener for an ImageView&#39;s image property?\r\n```        \r\n//dstOne is an ImageView\r\ndstOne.imageProperty().addListener(new ChangeListener&lt;Boolean&gt;() {\r\n            public void changed() {\r\n\r\n            }\r\n        });\r\n```","title":"ImageView Change Listener in JavaFX","body":"<p>How can I set up a change listener for an ImageView's image property?</p>\n<pre><code>//dstOne is an ImageView\ndstOne.imageProperty().addListener(new ChangeListener&lt;Boolean&gt;() {\n            public void changed() {\n\n            }\n        });\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8268,"page":1724,"page_size":100}
